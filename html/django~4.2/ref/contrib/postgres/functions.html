<h1 id="postgresql-specific-database-functions">PostgreSQL specific database functions</h1> <p id="s-postgresql-specific-database-functions">All of these functions are available from the <code>django.contrib.postgres.functions</code> module.</p>  <h2 id="randomuuid"><code>RandomUUID</code></h2> <dl class="py class" id="s-randomuuid"> <dt class="sig sig-object py" id="django.contrib.postgres.functions.RandomUUID">
<code>class RandomUUID</code> </dt> 
</dl> <p>Returns a version 4 UUID.</p> <p>On PostgreSQL &lt; 13, the <a class="reference external" href="https://www.postgresql.org/docs/current/pgcrypto.html">pgcrypto extension</a> must be installed. You can use the <a class="reference internal" href="operations.html#django.contrib.postgres.operations.CryptoExtension" title="django.contrib.postgres.operations.CryptoExtension"><code>CryptoExtension</code></a> migration operation to install it.</p> <p>Usage example:</p> <pre data-language="pycon">&gt;&gt;&gt; from django.contrib.postgres.functions import RandomUUID
&gt;&gt;&gt; Article.objects.update(uuid=RandomUUID())
</pre>   <h2 id="transactionnow"><code>TransactionNow</code></h2> <dl class="py class" id="s-transactionnow"> <dt class="sig sig-object py" id="django.contrib.postgres.functions.TransactionNow">
<code>class TransactionNow</code> </dt> 
</dl> <p>Returns the date and time on the database server that the current transaction started. If you are not in a transaction it will return the date and time of the current statement. This is a complement to <a class="reference internal" href="../../models/database-functions.html#django.db.models.functions.Now" title="django.db.models.functions.Now"><code>django.db.models.functions.Now</code></a>, which returns the date and time of the current statement.</p> <p>Note that only the outermost call to <a class="reference internal" href="../../../topics/db/transactions.html#django.db.transaction.atomic" title="django.db.transaction.atomic"><code>atomic()</code></a> sets up a transaction and thus sets the time that <code>TransactionNow()</code> will return; nested calls create savepoints which do not affect the transaction time.</p> <p>Usage example:</p> <pre data-language="pycon">&gt;&gt;&gt; from django.contrib.postgres.functions import TransactionNow
&gt;&gt;&gt; Article.objects.filter(published__lte=TransactionNow())
&lt;QuerySet [&lt;Article: How to Django&gt;]&gt;
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; Django Software Foundation and individual contributors<br>Licensed under the BSD License.<br>
    <a href="https://docs.djangoproject.com/en/4.2/ref/contrib/postgres/functions/" class="_attribution-link">https://docs.djangoproject.com/en/4.2/ref/contrib/postgres/functions/</a>
  </p>
</div>
