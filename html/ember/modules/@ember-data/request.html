<article class="chapter"> <h1 class="module-name">Package @ember-data/request</h1>   
<p align="center"> <img class="project-logo" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyOCIgaGVpZ2h0PSIzMjQiIHZpZXdCb3g9IjAgMCAxMDI4IDMyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3Ni4wNDEgNDIpIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgPGcgZmlsbD0iI0UwNEUzOSI+CiAgICAgIDxwYXRoIGQ9Ik01MDcuNTUyIDEzNy4yMjlzLTEyLjU2IDkuNzQ0LTIzLjYxNiA4LjY1NmMtMTEuMDU2LTEuMDg4LTcuNTg0LTI1Ljc5Mi03LjU4NC0yNS43OTJzMi4zODQtMjIuNjU2LTQuMTI4LTI0LjU2Yy02LjQ5Ni0xLjg4OC0xNC41MTIgNS45MDQtMTQuNTEyIDUuOTA0cy05Ljk2OCAxMS4wNTYtMTQuNzM2IDI1LjE1MmwtMS4zMTIuNDMyczEuNTItMjQuNzItLjIwOC0zMC4zNTJjLTEuMjk2LTIuODE2LTEzLjIxNi0yLjU5Mi0xNS4xNjggMi4zODQtMS45NTIgNC45OTItMTEuNDg4IDM5LjY2NC0xMi4xNDQgNTQuMTkyIDAgMC0xOC42NCAxNS44MjQtMzQuODggMTguNDE2LTE2LjI1NiAyLjYwOC0yMC4xNi03LjU4NC0yMC4xNi03LjU4NHM0NC4yMDgtMTIuMzUyIDQyLjY4OC00Ny42OGMtMS41MDQtMzUuMzI4LTM1LjY0OC0yMi4yNTYtMzkuNTA0LTE5LjM2LTMuNzQ0IDIuODE2LTIzLjY5NiAxNC44NDgtMjkuNTIgNDguMTc2LS4xOTIgMS4xMi0uNTQ0IDYuMDgtLjU0NCA2LjA4cy0xNy4xMiAxMS40NzItMjYuNjU2IDE0LjUxMmMwIDAgMjYuNjU2LTQ0Ljg2NC01Ljg0LTY1LjIzMi05LjE0LTUuNTAyLTE3LjEwNi0uNDQtMjEuODQ1IDQuMjA4LTIuOTEgMi44NTQgMzkuMzk3LTQzLjQyNCAyOS42MzctODQuODMyQzMwMi44OC4yMzcgMjkzLjAyNC0xLjg3NSAyODMuOTg0IDEuMzI1Yy0xMy43MjggNS40MDgtMTguOTI4IDEzLjQyNC0xOC45MjggMTMuNDI0cy0xNy43NzYgMjUuNzkyLTIxLjkwNCA2NC4xNmMtNC4xMTIgMzguMzUyLTEwLjE3NiA4NC43MzYtMTAuMTc2IDg0LjczNnMtOC40NjQgOC4yNC0xNi4yNTYgOC42NzJjLTcuODA4LjQxNi00LjMzNi0yMy4yLTQuMzM2LTIzLjJzNi4wNjQtMzUuOTY4IDUuNjQ4LTQyLjA0OGMtLjQ0OC02LjA2NC0uODgtOS4zMTItOC4wMzItMTEuNDcyLTcuMTUyLTIuMTc2LTE0Ljk2IDYuOTI4LTE0Ljk2IDYuOTI4cy0yMC41NzYgMzEuMi0yMi4zMDQgMzUuOTY4bC0xLjEwNCAxLjk2OC0xLjA3Mi0xLjMxMnMxNC41MTItNDIuNDguNjU2LTQzLjEyYy0xMy44NzItLjY1Ni0yMi45NzYgMTUuMTY4LTIyLjk3NiAxNS4xNjhzLTE1LjgyNCAyNi40NDgtMTYuNDggMjkuNDcybC0xLjA3Mi0xLjI5NnM2LjQ5Ni0zMC43NjggNS4yLTM4LjM2OGMtMS4zMTItNy41ODQtOC40NDgtNi4wNjQtOC40NDgtNi4wNjRzLTkuMTA0LTEuMDg4LTExLjQ4OCA0Ljc2OGMtMi4zODQgNS44NTYtMTEuMDU2IDQ0LjY0LTEyLjE0NCA1Ni45OTIgMCAwLTIyLjc1MiAxNi4yNTYtMzcuNzEyIDE2LjQ2NC0xNC45NDQuMjI0LTEzLjQyNC05LjQ3Mi0xMy40MjQtOS40NzJzNTQuODMyLTE4Ljc2OCAzOS44NzItNTUuODI0Yy02LjcyLTkuNTM2LTE0LjUxMi0xMi41MjgtMjUuNTY4LTEyLjMyLTExLjA1Ni4yMjQtMjQuNzY4IDYuOTYtMzMuNjQ4IDI2Ljg5Ni00LjI1NiA5LjUwNC01Ljc5MiAxOC41NDQtNi42NzIgMjUuMzYgMCAwLTkuNTg0IDEuOTY4LTE0Ljc4NC0yLjM2OC01LjIxNi00LjMzNi03Ljg4OCAwLTcuODg4IDBzLTguOTI4IDExLjM5Mi0uMDQ4IDE0Ljg0OGM4Ljg5NiAzLjQ3MiAyMi43NTIgNS4wODggMjIuNzUyIDUuMDg4IDEuMjggNi4wNjQgNC45NzYgMTYuMzg0IDE1LjgwOCAyNC41OTIgMTYuMjU2IDEyLjM1MiA0Ny40NC0xLjEzNiA0Ny40NC0xLjEzNmwxMi43ODQtNy4xNjhzLjQzMiAxMS43MjggOS43NiAxMy40NGM5LjMxMiAxLjcxMiAxMy4yMTYtLjAzMiAyOS40NzItMzkuNDcyIDkuNTM2LTIwLjE2IDEwLjE5Mi0xOS4wNzIgMTAuMTkyLTE5LjA3MiAxLjA3Mi0uMjI0LTYuMjg4IDM4LjM1Mi0zLjQ3MiA0OC43NTIgMi44MTYgMTAuNDE2IDE1LjE2OCA5LjMyOCAxNS4xNjggOS4zMjhzNi43MiAxLjI5NiAxMi4xNDQtMTcuNzc2YzUuNDA4LTE5LjA3MiAxNS44MjQtNDAuMDk2IDE1LjgyNC00MC4wOTYgMS4yOCAwLTMuMjY0IDM5LjQ0IDMuNjY0IDUyLjAxNiA2Ljk0NCAxMi41NzYgMjQuOTI4IDQuMjI0IDI0LjkyOCA0LjIyNHMxMi41NzYtNi4zMzYgMTQuNTI4LTguMjg4YzAgMCAxNC45MTIgMTIuNzA0IDM1Ljk1MiAxMC40IDQ3LjA0LTkuMjY0IDYzLjc3Ni0yMS43NzYgNjMuNzc2LTIxLjc3NnM4LjA4IDIwLjQ4IDMzLjEyIDIyLjM4NGMyOC41OTIgMi4xNiA0NC4yMDgtMTUuODI0IDQ0LjIwOC0xNS44MjRzLS4yMjQgMTEuNjk2IDkuNzQ0IDE1LjgyNGM5Ljk4NCA0LjExMiAxNi42ODgtMTkuMDQgMTYuNjg4LTE5LjA0bDE2LjY4OC00NS45ODRjMS41MiAwIDIuMzg0IDI5LjkwNCAxOC44NjQgMzQuNjcyIDE2LjQ2NCA0Ljc2OCAzNy45Mi0xMS4xNjggMzcuOTItMTEuMTY4czUuMi0yLjg2NCA0LjMzNi0xMS41MzZjLS44OC04LjY3Mi04LjY3Mi01LjQ0LTguNjcyLTUuNDR6bS00MzQuMDgtMjEuNjk2YzUuODQgNS42MzIgMy42OCAxNy43Ni03LjM3NiAyNS4zNDQtMTEuMDQgNy42LTE2LjAzMiA2LjA4LTE2LjAzMiA2LjA4LjY1Ni0yNS43OTIgMTcuNTY4LTM3LjA3MiAyMy40MDgtMzEuNDI0ek0yODkuMTA0IDI2LjQ2YzMuNjggMTkuNTA0LTMyLjI4OCA3Ny41ODQtMzIuMjg4IDc3LjU4NC40MzItMTMuMDA4IDEzLjIxNi01Ni45OTIgMTMuMjE2LTU2Ljk5MnMxNS4zNzYtNDAuMDk2IDE5LjA3Mi0yMC41OTJ6bS0zNS41NTIgMTQ4LjAxNnMtMi44MTYtOS41MzYgNS4yLTM2LjE5MmM4LjAzMi0yNi42NTYgMjYuODgtMTYuMjU2IDI2Ljg4LTE2LjI1NnMxMy4wMDggOS45NjggMi44MTYgMzYuNjI0Yy0xMC4xNzYgMjYuNjU2LTM0Ljg5NiAxNS44MjQtMzQuODk2IDE1LjgyNHptMTA5LjY2NC01Mi4yMjRjOC44OC0xNi4yNTYgMTUuODI0LTcuMzc2IDE1LjgyNC03LjM3NnM3LjU4NCA4LjI0LTEuMDg4IDIwLjU5MmMtOC42NzIgMTIuMzUyLTIxLjIzMiAxMS40ODgtMjEuMjMyIDExLjQ4OHMtMi4zODQtOC40NjQgNi40OTYtMjQuNzA0eiIvPgogICAgICA8cGF0aCBkPSJNNDUxLjkxOCAxODguMDI3di0zLjExMmgxLjk3NGMuMjczIDAgLjU0Ny4wMjguODM1LjA1Ny4yODguMDQzLjU2Mi4xMTUuNzkzLjIxNi4yNDUuMTAxLjQzMi4yNDUuNTc2LjQzMy4xNTkuMTg3LjIzLjQ0Ni4yMy43NjMgMCAuNzItLjIxNiAxLjE4Mi0uNjQ4IDEuMzY5LS40MzIuMTg3LS45OTQuMjc0LTEuNjcxLjI3NGgtMi4wOXptLTIuMzQ5LTQuOTQydjExLjg0M2gyLjM0OXYtNS4wNTdoMS40N2wyLjg4MSA1LjA1N2gyLjQ2NGwtMy4xNy01LjE3MmMuNDMyLS4wNDQuODM2LS4xMyAxLjIyNS0uMjYuMzc0LS4xMy43MDYtLjMxNy45OC0uNTYyLjI4OC0uMjQ1LjUwNC0uNTYyLjY2Mi0uOTUuMTczLS4zOS4yNDUtLjg1LjI0NS0xLjM5OCAwLTEuMjgyLS40MDMtMi4xOS0xLjE5Ni0yLjcwOS0uODA3LS41MzMtMS45Ni0uNzkyLTMuNDQzLS43OTJoLTQuNDY3em0tMy43NiA1LjkzNmMwLTEuMjEuMjAxLTIuMzIuNjItMy4zMjhhOC4wOSA4LjA5IDAgMCAxIDEuNy0yLjYwOCA3LjcxIDcuNzEgMCAwIDEgMi41Mi0xLjczIDcuODY0IDcuODY0IDAgMCAxIDMuMTI3LS42MTljMS4wOTUgMCAyLjEzMy4yMDIgMy4wOTguNjIuOTguNDE4IDEuODE2Ljk5NCAyLjUzNiAxLjcyOS43Mi43MzUgMS4yODIgMS41OTkgMS43MTQgMi42MDguNDE4IDEuMDA4LjYzNCAyLjExOC42MzQgMy4zMjhzLS4yMTYgMi4zMi0uNjM0IDMuMzQyYy0uNDMyIDEuMDA5LS45OTQgMS45MDItMS43MTQgMi42MzdhNy41OTQgNy41OTQgMCAwIDEtMi41MzYgMS43NDQgNy43MjUgNy43MjUgMCAwIDEtMy4wOTguNjE5IDcuODY0IDcuODY0IDAgMCAxLTMuMTI2LS42MiA3LjUzNSA3LjUzNSAwIDAgMS0yLjUyMi0xLjc0M2MtLjcyLS43MzUtMS4yODItMS42MjgtMS43LTIuNjM3LS40MTgtMS4wMjItLjYyLTIuMTMyLS42Mi0zLjM0MnptLTIuODk2IDBjMCAxLjYyOC4zMDIgMy4wODMuODkzIDQuMzguNjA1IDEuMzExIDEuMzk4IDIuNDIgMi4zOTIgMy4zNDNhMTAuNTcgMTAuNTcgMCAwIDAgMy40NzIgMi4xMTdjMS4zMTEuNDkgMi42OC43MzUgNC4xMDYuNzM1IDEuNDQxIDAgMi44MS0uMjQ1IDQuMTIxLS43MzVhMTAuNTcgMTAuNTcgMCAwIDAgMy40NzItMi4xMTdjLjk5NS0uOTIzIDEuNzg3LTIuMDMyIDIuMzkyLTMuMzQzLjU5LTEuMjk3Ljg3OS0yLjc1Mi44NzktNC4zOCAwLTEuNi0uMjg4LTMuMDU1LS44NzktNC4zNTEtLjYwNS0xLjMxMi0xLjM5Ny0yLjQyLTIuMzkyLTMuMzI5YTEwLjU3IDEwLjU3IDAgMCAwLTMuNDcyLTIuMTE4IDExLjM1NiAxMS4zNTYgMCAwIDAtNC4xMi0uNzQ5Yy0xLjQyNyAwLTIuNzk2LjI0NS00LjEwNy43NWExMC41NyAxMC41NyAwIDAgMC0zLjQ3MiAyLjExN2MtLjk5NC45MDgtMS43ODcgMi4wMTctMi4zOTIgMy4zMjktLjU5IDEuMjk2LS44OTMgMi43NTItLjg5MyA0LjM1eiIvPgogICAgPC9nPgogICAgPHBhdGggZD0iTTU4OS42NjMgNDQuNTQ1Yy40Mi00LjcxOC42My04LjQ2Mi42My0xMS4yMjYgMC0zLjYzOC0uMzMtNi4xNjgtLjk3NS03LjU4My0uNjQ2LTEuNDE2LTEuNTkyLTIuMTI0LTIuODIzLTIuMTI0LTIuMjA3IDAtNC4xOSAxLjM2NS01Ljk3NiA0LjA5My0xLjc3MiAyLjczLTMuMTk4IDYuMjUtNC4yOTUgMTAuNTU2LTEuMDggNC4zMS0yLjI1MiA4Ljk5Mi0zLjUyOCAxNC4wNS0xLjI2MyA1LjA2MS0yLjE5MiAxMC4wMTYtMi43OTMgMTQuODYzLS41NyA0Ljg1LTEuMDUxIDkuMjIxLTEuMzk3IDEzLjExNS0uMzYgMy44ODktLjYxNSA2LjY1NC0uNzUgOC4yOTYtLjMgMy4zNDgtLjU0IDYuNTc1LS43MjEgOS42OC0uMTggMy4xMDgtLjMxNSA1Ljk0My0uMzkgOC41MDNhMjI1LjU0IDIyNS41NCAwIDAgMC0uMTA3IDYuNzF2NS40MzJBNTE1LjEyNSA1MTUuMTI1IDAgMCAwIDU3Ni45IDkyLjA3OWE0NTIuOTA3IDQ1Mi45MDcgMCAwIDAgMy45MDMtMTEuODc5YzEuMjc3LTQuMTI1IDIuNTU0LTguMjE2IDMuODE1LTEyLjI3NGExNDUuMjg3IDE0NS4yODcgMCAwIDAgMy4yMTMtMTIuMDUyYy44Ny0zLjk4IDEuNDg3LTcuNzU2IDEuODMyLTExLjMzem0tNDcuNjg5IDY4Ljk2MmE0Mi40NyA0Mi40NyAwIDAgMC0xMS44NzcgOC42MTNjLTMuNDY4IDMuNTY2LTYuMzY2IDguMjY3LTguNjk0IDE0LjExNC0yLjMxMiA1Ljg0My00LjA4NCAxMC44NzMtNS4zIDE1LjA4Ni0xLjIxNiA0LjIxLTEuODE3IDguMDE0LTEuODE3IDExLjQxNCAwIDEuMDU1LjE1IDIuMTA2LjQ0OSAzLjE2Mi4zMDIgMS4wNTUuODU3IDIuMDA0IDEuNjY4IDIuODUuODEuODQgMS45NTIgMS41MjggMy40MzkgMi4wNTQgMS40NzEuNTMgMy4zOTMuNzkzIDUuNzY2Ljc5MyAxLjIgMCAyLjQwMi0uMjY4IDMuNTg4LS44MWExNi4wOCAxNi4wOCAwIDAgMCAzLjM3OS0yLjEwMiAyNC45NTcgMjQuOTU3IDAgMCAwIDMuMDkzLTIuOTYgMzEuOTA0IDMxLjkwNCAwIDAgMCAyLjY3My0zLjQ1M2MxLjg5Mi0yLjc1IDMuNjE4LTUuODU0IDUuMTY1LTkuMzE4LS4xOTctLjk1LS4zNzYtMi40NjMtLjUxLTQuNTM4LS4xMzYtMi4wNy0uMjQtNS4yMzEtLjMwMS05LjQ3Ni0uMDc1LTQuMjQ3LS4xNTItNy43MzItLjIxLTEwLjQ0OGE1MTkuNDIgNTE5LjQyIDAgMCAxLS4xNS03LjQ0Yy0uMDQ1LTIuMjQzLS4wOS00LjA3NS0uMTUyLTUuNTAzLS4wNzQtMS40MjctLjE0OS0yLjEwNy0uMjA5LTIuMDM4em03MC4wNjIgNTkuNjk1Yy00Ljc3NSAzLjkzNC05LjUwNSA3LjQ0My0xNC4xNDQgMTAuNTJhMTI3LjA2MiAxMjcuMDYyIDAgMCAxLTYuMTczIDMuODEyIDc2LjQzNyA3Ni40MzcgMCAwIDEtNi4zNjcgMy4zMjggNDguNCA0OC40IDAgMCAxLTYuMDk0IDIuMzYyYy0xLjk1Mi42MDYtMy43Ny45MS01LjQwNi45MS0uOTc2IDAtMi40MDQtLjIxNS00LjI5Ni0uNjQzLTEuODkyLS40MzQtMy45NjItMS4zMDYtNi4yLTIuNjMyLTIuMjUyLTEuMzIzLTQuNDktMy4yMzktNi43NDItNS43NDItMi4yMzctMi41MDgtNC4xNzQtNS44MzUtNS44NDItOS45ODJhMTAwLjYxNiAxMDAuNjE2IDAgMCAxLTcuOTU3IDcuMzUgNjEuNDMyIDYxLjQzMiAwIDAgMS04LjcyNCA2LjA2Yy0zLjAwMyAxLjcyLTYuMDUxIDMuMDk4LTkuMTE0IDQuMTMyLTMuMDggMS4wNC02LjE3MSAxLjU1Ny05LjI4IDEuNTU3LTQuMzg0IDAtOC4xNjgtLjkxLTExLjM4MS0yLjczMmEyNC4zMzEgMjQuMzMxIDAgMCAxLTcuOTc1LTcuMjc0Yy0yLjEzLTMuMDI1LTMuNzA5LTYuNDU4LTQuNzU4LTEwLjI5OWE0NS41MTMgNDUuNTEzIDAgMCAxLTEuNTYyLTExLjkxMmMwLTQuMzc0LjU1Ni04LjgwMiAxLjY2Ny0xMy4yODVhNjIuMyA2Mi4zIDAgMCAxIDQuODUtMTMuMDI4IDMwNi40NzUgMzA2LjQ3NSAwIDAgMSA3LjA3Mi0xMy4xODVjMi41OTgtNC41OCA2LjAzNi04Ljc1MiAxMC4zMTYtMTIuNTE2IDQuMjc5LTMuNzYyIDguNjc4LTYuNiAxMy4xODMtOC41MTYgNC41MTgtMS45MTMgOS4zNC0zLjExIDE0LjQ2LTMuNTkuMjA5LTguNzU0IDEuMTQxLTE2LjQ2OSAyLjc5My0yMy4xNCAxLjY1MS02LjY2OCAzLjQzNy0xMy44NDYgNS4zNDUtMjEuNTMyIDEuOTA3LTcuNjgzIDQuMzctMTQuNzYgNy4zODgtMjEuMjI3IDMuMDE4LTYuNDcgNi4zMjEtMTIuMDYyIDkuOTEtMTYuNzc4IDMuNTg5LTQuNzE3IDcuNDE2LTguNDA2IDExLjQ4Ny0xMS4wNjcgNC4wNjktMi42NiA4LjI3My0zLjk5MiAxMi42MTMtMy45OTIgMy4xNTMgMCA1Ljg1NC44MjcgOC4wNzggMi40OCAyLjIyMiAxLjY1MyA0LjA0IDMuODQ3IDUuNDIgNi41ODMgMS4zNjUgMi43MzQgMi4zNTggNS45MDcgMi45NzQgOS41MTcuNiAzLjYxMi45MTUgNy4zNDIuOTE1IDExLjE5IDAgMi40MDItLjAzIDQuODcyLS4wNzUgNy40MS0uMTk2IDkuNjc0LTEuNjgzIDE4LjY3OC00LjQ3NCAyNy4wMTMtMi43OTMgOC4zMzQtNS41NTYgMTYuNTczLTguMjc0IDI0LjcxNi0yLjczMiA4LjE0NC02LjAzNiAxNi4yMDEtOS44OCAyNC4xNzEtNS44ODYgMTIuMTk3LTkuNjQgMjAuNDc4LTExLjI0NiAyNC44MzctLjM0Ni45NTQtLjY5MSAyLjExNC0xLjA1MSAzLjQ3OGE4NC44NzggODQuODc4IDAgMCAwLS45OTEgNC40NDMgNzAuODk2IDcwLjg5NiAwIDAgMC0uNzk2IDQuOTA4IDM4Ljg0NSAzOC44NDUgMCAwIDAtLjMxNiA0Ljg1MmMwIDEuOTc3LjEwNiAzLjg1My4zNDYgNS42MjUuMjI1IDEuNzcuNiAzLjM1NiAxLjEyNiA0Ljc1LjUyNSAxLjM5OSAxLjIzIDIuNTA3IDIuMTMyIDMuMzIzLjg3MS44MTcgMS45NjcgMS4yMjYgMy4yODkgMS4yMjYgMS4yNzYgMCAyLjY4Ny0uMjU2IDQuMTg5LS43NjUgMS41MTYtLjUwOSAzLjEyMy0xLjIwNCA0LjgwNS0yLjA5YTYxLjQwOCA2MS40MDggMCAwIDAgNS4xMDUtMy4wMDQgMTI3LjQxOCAxMjcuNDE4IDAgMCAwIDQuOTk5LTMuNDE2YzMuNzA4LTIuNzE4IDcuNTg0LTUuODExIDExLjYyMS05LjI3NWwzLjAzNSAyMS4wN3oiIGZpbGw9IiM2MTIxMTYiLz4KICAgIDxwYXRoIGQ9Ik02MjUuNzc1IDE2MS4yNjdjMCAxLjczOC4xMDQgMy40MjMuMzQ2IDUuMDU3LjI0IDEuNjMzLjY2IDMuMDkzIDEuMjc0IDQuMzc4LjYwMiAxLjI4NyAxLjQxMyAyLjMzIDIuNDIgMy4xMzEgMS4wMi43OTYgMi4yOTcgMS4xOTcgMy44NDMgMS4xOTcgMi41MDggMCA0Ljc2LTEuMDg0IDYuNzg3LTMuMjU2IDIuMDI3LTIuMTcgMy43ODQtNC43ODIgNS4yNy03LjgzNWE1NS4zODggNTUuMzg4IDAgMCAwIDMuNTktOS40NjVjLjkxNS0zLjI1NiAxLjUtNS45NzIgMS43NzEtOC4xNDNsNy41MzgtMzIuODZjLTIuNzYzIDAtNS40NS42ODgtOC4wNzggMi4wNTQtMi42MjggMS4zNzEtNS4xMDcgMy4yMjMtNy40MzMgNS41NjMtMi4zMjcgMi4zMzgtNC40NjEgNS4wMS02LjQxMiA4LjAxNC0xLjk2NyAzLjAwOC0zLjg4OSA2LjcxNy01Ljc2NiAxMS4xMjQtMS44OTEgNC40MS0zLjIxMyA4LjI4NC0zLjk5NCAxMS42MjMtLjc4IDMuMzQtMS4xNTYgNi40ODItMS4xNTYgOS40MTh6bTg2LjcxNCA3LjkyYy0xLjU0NyAyLjE3OS0zLjYyIDQuNzM1LTYuMjE2IDcuNjY2LTIuNTk4IDIuOTMtNS41MTEgNS43MjUtOC43NCA4LjM4MWE1NC45NTYgNTQuOTU2IDAgMCAxLTEwLjQyIDYuNzQ4Yy0zLjcwOSAxLjg0LTcuNDE4IDIuNzU4LTExLjExMSAyLjc1OC00LjQ3NSAwLTguMjE0LTEuNDE2LTExLjIwMi00LjI1My0yLjk4OC0yLjgzNS01LjU3LTYuOTUxLTcuNzUtMTIuMzU3LTEuNjM0IDEuODY4LTMuNjMyIDMuNzctNi4wMDUgNS43MDJhNTQuNTIzIDU0LjUyMyAwIDAgMS03Ljc5MiA1LjI1NSA1MC44MDYgNTAuODA2IDAgMCAxLTguODE0IDMuODVjLTMuMDYzIDEuMDAyLTYuMTI2IDEuNS05LjE3NCAxLjUtMy4yNDQgMC02LjM4Mi0uNjY0LTkuNDQ1LTEuOTktMy4wOC0xLjMyNS01Ljc4MS0zLjIyNi04LjEzOC01LjcwOC0yLjM3My0yLjQ4NC00LjI1LTUuNTA4LTUuNjYxLTkuMDc3LTEuNDI3LTMuNTctMi4xMzItNy41OTgtMi4xMzItMTIuMDg2IDAtNS4wMzMuNzItMTAuMjA0IDIuMTMyLTE1LjUxIDEuNDI2LTUuMzA0IDMuNjM0LTExLjA0MiA2LjYyLTE3LjIyNCAyLjk3My02LjE3OCA2LjE4OC0xMS41MTUgOS41OTYtMTYuMDE1IDMuNDM5LTQuNDk2IDcuMTc4LTguNDI3IDExLjI0Ny0xMS43ODMgNC4wNy0zLjM1OCA4LjM0OS02LjAyNyAxMi44NjgtOC4wMDkgNC41MDUtMS45OCA5LjA4My0yLjk3MSAxMy43Ny0yLjk3MSAxLjU2IDAgMi43NzYuMzA4IDMuNjYzLjkxN2E5LjQzIDkuNDMgMCAwIDEgMi4xOTIgMi4wOTVjLjU3Ljc4NCAxLjEyNiAxLjU1MiAxLjY2NyAyLjNhNC42NzQgNC42NzQgMCAwIDAgMi4wNCAxLjYzNCA5LjMgOS4zIDAgMCAwIDIuNDk1LjY2NGMuODM5LjEgMS43MTEuMTUzIDIuNTgyLjE1My43NTEgMCAxLjUxNy0uMDE3IDIuMjk4LS4wNTMuNzgtLjAzMyAxLjUzMS0uMDQ4IDIuMjgyLS4wNDggMS4wMjEgMCAxLjk2NS4xIDIuODUzLjMwMy44Ny4yMDYgMS42NTIuNjQ2IDIuMzI3IDEuMzMuNjc2LjY4NCAxLjIwMSAxLjYzMyAxLjU3NyAyLjg1OC4zNiAxLjIyNS41NTUgMi44OTUuNTU1IDUuMDA2IDAgMy4yMjMtLjM0NSA2Ljc5Ni0xLjAyIDEwLjcyM2EyOTYuOTExIDI5Ni45MTEgMCAwIDEtMi4zMTMgMTIuMDdjLS44NzIgNC4xMi0xLjg2MiA4LjgxMy0yLjk3MyAxNC4wOS0xLjExMSA1LjI3MS0xLjY2OCA5LjcxNS0xLjY2OCAxMy4zMyAwIDMuMDg5LjI4NyA1LjUwMy44NTcgNy4yNC41ODYgMS43NDQgMS44IDIuNjEzIDMuNjk0IDIuNjEzIDEuNDExIDAgMi44OTgtLjM1MSA0LjQ0My0xLjA1YTI3Ljk0NSAyNy45NDUgMCAwIDAgNC43MDEtMi43NTUgNTMuNjQyIDUzLjY0MiAwIDAgMCA0Ljc2LTMuODYgNzAuNzM5IDcwLjczOSAwIDAgMCA0LjQ5LTQuNDYxYzMuMzAyLTMuNjA1IDYuNjM3LTcuNjgyIDEwLjAxNS0xMi4yMjNsNC44NSAyMi4yNDd6IiBmaWxsPSIjNjEyMTE2Ii8+CiAgICA8cGF0aCBkPSJNNzY1Ljg2NyAxNzIuNzA0Yy0yLjQzIDIuMjI0LTUuNDQ5IDQuNTk4LTkuMDUzIDcuMTNhOTYuMzg4IDk2LjM4OCAwIDAgMS0xMS42NjcgNi45NyA4OC44NiA4OC44NiAwIDAgMS0xMi43OTMgNS4zMDdjLTQuMzQgMS40MTYtOC40NyAyLjEyMy0xMi4zNzIgMi4xMjMtMy41MTQgMC02LjQ1Ny0uNDktOC44Ni0xLjQ2NC0yLjM4Ny0uOTc3LTQuMzI0LTIuMzQtNS44MS00LjA5NC0xLjQ3Mi0xLjc1MS0yLjUzOC0zLjg5NS0zLjE2OS02LjQxOC0uNjQ1LTIuNTMtLjk3Ni01LjMwOC0uOTc2LTguMzQxIDAtNC4yNDUuNDgtOS4xOTggMS40MjctMTQuODYgMS45MzctMTEuNzA4IDMuMTgzLTE4LjI4MiAzLjczOS0xOS43My45MTYtMi44NzggMTIuNzYzLTY1LjQzIDE1LjUxLTc1LjMwNSAyLjU2OC04LjA1IDQuMTQ1LTEzLjI4NSA0Ljc0NS0xNS43MTUuMzMtMS43MDIgMS4yNDctMy4yMzUgMi43NzgtNC42MDJhMTguNDU3IDE4LjQ1NyAwIDAgMSA0LjcxNS0zLjAxMiAyNS42MyAyNS42MyAwIDAgMSA1LjQ2Ni0xLjczOWMxLjg3Ny0uMzc1IDMuNTg4LS41NjEgNS4xMi0uNTYxIDIuNzc4IDAgNC42NTUuNTIgNS42NiAxLjU2OS45OTIgMS4wNDQgMS40ODcgMi40NDEgMS40ODcgNC4xOTIgMCAxLjQ4NC0uMzQ1IDMuNTc4LTEuMDUgNi4yODQtLjY5MSAyLjcwOS0xLjQ3MiA1Ljc5My0yLjM1OCA5LjI1NC0uODg4IDMuNDY2LTIuMTkyIDcuOTE4LTMuOTM2IDEzLjM2LTEuNzQgNS40NC0xMi45MjYgNjYuMjYtMTMuNTU3IDcwLjA5N2ExMzYuNjM3IDEzNi42MzcgMCAwIDEtMi40MDMgMTEuNDQ2Yy0uOTc2IDMuNzg5LTEuNDU2IDcuMjMzLTEuNDU2IDEwLjMzIDAgMy4wMzIuMzMgNS40MzggMS4wMDYgNy4yMjUuNjc0IDEuNzg0IDIuMDU3IDIuNjc3IDQuMTQ0IDIuNjc3IDIuNDMzIDAgNS4xMi0uODQgOC4wOTQtMi41MjcgMi45NTgtMS42ODIgNS45Ni0zLjcyNCA4Ljk5NC02LjExN2EyMDIuMDIyIDIwMi4wMjIgMCAwIDAgOC44ODktNy40MjggMjc2LjQ4NiAyNzYuNDg2IDAgMCAxIDcuNjg2LTYuNTd2MjAuNTE5eiIgZmlsbD0iIzYxMjExNiIvPgogICAgPHBhdGggZD0iTTgwOS4xNjcgMTQ2LjI5NWMtLjI3MiAyLjE3MS0uODYgNC44ODEtMS43NzIgOC4xMzZhNTYuMjM4IDU2LjIzOCAwIDAgMS0zLjU5MSA5LjQ1N2MtMS40ODIgMy4wNTMtMy4yMzggNS42Ni01LjI2IDcuODI3LTIuMDI3IDIuMTctNC4yODQgMy4yNTgtNi43ODEgMy4yNTgtMS41NDggMC0yLjgzNC0uNDA0LTMuODQzLTEuMTk5LTEuMDEzLS43OTktMS44MjEtMS44MzctMi40MjYtMy4xMjYtLjYxLTEuMjg1LTEuMDMtMi43NDQtMS4yNjktNC4zN2EzNS42NTIgMzUuNjUyIDAgMCAxLS4zNTQtNS4wNTVjMC0yLjk0MS4zODctNi4wOCAxLjE2Mi05LjQxNi43NzUtMy4zMzcgMi4xMDUtNy4yMDUgMy45OS0xMS42MTYgMS44ODQtNC40MDQgMy44MDMtOC4xMDcgNS43Ni0xMS4xMTQgMS45NTMtMy4wMDMgNC4wOS01LjY3MiA2LjQxLTguMDA4IDIuMzI3LTIuMzM1IDQuODAzLTQuMTg5IDcuNDI2LTUuNTYgMi42MjgtMS4zNjggNS4zMTgtMi4wNTIgOC4wODEtMi4wNTJsLTcuNTMzIDMyLjgzOHptNjQuOTAzIDE0LjA0MmMuMTIzLTMuNTEtMS4yOTUtNy4wMTQtNC43ODMtOC41MzQtNC4yNzYtMS44NjYtNy43MDcuNDMyLTEwLjI0NSAzLjYxNmE1OS40NzYgNTkuNDc2IDAgMCAxLTUuMjMxIDUuNzVjLTQuMTAyIDMuOTU1LTEwLjQzNCAxMC4wNjQtMTYuNTE0IDEwLjA2NC0xLjg4NiAwLTMuMTE0LS44Ny0zLjY4Ni0yLjYwOC0uNTc0LTEuNzM4LS44NjItNC4xNTItLjg2Mi03LjIzNyAwLTMuNjA5LjU2MS04LjA1MyAxLjY2OC0xMy4zMjJsMi45NzQtMTQuMDc5Yy44NjUtNC4xMiAxLjY0LTguMTQgMi4zMTEtMTIuMDYxLjY3Mi0zLjkyMSAxLjAxNC03LjQ5MyAxLjAxNC0xMC43MTQgMC0yLjEwOS0uMTg1LTMuNzc3LS41Ni01LS4zNzEtMS4yMjgtLjg5LTIuMTc2LTEuNTY2LTIuODYtLjY3OS0uNjgtMS40NTQtMS4xMjQtMi4zMzUtMS4zM2ExMi43MjcgMTIuNzI3IDAgMCAwLTIuODQ3LS4zMDVjLS43NDUgMC0xLjUwOC4wMi0yLjI4NS4wNTQtLjc4LjAzMy0xLjU0MS4wNS0yLjI4Ny4wNS0uODc3IDAtMS43NDctLjA1LTIuNTktLjE1M2E5LjA4MiA5LjA4MiAwIDAgMS0yLjQ4OC0uNjYzYy0uODE2LS4zMzgtMS40OTItLjg4Mi0yLjAzMi0xLjYzMmEzNzIgMzcyIDAgMCAwLTEuNjgtMi4yOThjLS41NzItLjc4My0xLjMwMi0xLjQ3OS0yLjE4NC0yLjA5My0uODc2LS42MTMtMi4xLS45MTgtMy42NTctLjkxOC00LjY3NiAwLTkuMjY1Ljk4OC0xMy43NjYgMi45Ny00LjUwNiAxLjk4MS04Ljc5IDQuNjQ2LTEyLjg1NyA4LTQuMDY2IDMuMzU2LTcuODA2IDcuMjgyLTExLjIyOCAxMS43NzYtMy40MiA0LjQ5OC02LjYyNSA5LjgzMi05LjYwMiAxNi4wMDctMi45NzggNi4xNzUtNS4xODIgMTEuOTEzLTYuNjAzIDE3LjIxLTEuNDI2IDUuMzAyLTIuMTM1IDEwLjQ2Ny0yLjEzNSAxNS41IDAgNC40ODYuNzA5IDguNTEgMi4xMjIgMTIuMDc0IDEuNDEzIDMuNTY3IDMuMjk2IDYuNTkgNS42NTYgOS4wNyAyLjM1NiAyLjQ4IDUuMDY2IDQuMzgzIDguMTMxIDUuNzA2IDMuMDY1IDEuMzI2IDYuMjEyIDEuOTkgOS40NDYgMS45OSAzLjA1MSAwIDYuMTA4LS41IDkuMTYxLTEuNWE1MC43NTMgNTAuNzUzIDAgMCAwIDguODExLTMuODQ3YzIuODEyLTEuNTcgNS40MTItMy4zMTYgNy43ODktNS4yNTMgMi4zNzItMS45MzEgNC4zNzgtMy44MyA2LjAwNi01LjY5NiAyLjE3IDUuNCA0Ljc0OSA5LjUyIDcuNzQgMTIuMzQ5IDIuOTgyIDIuODM0IDYuNzEzIDQuMjQ3IDExLjE4OCA0LjI0NyAzLjcwMyAwIDcuNDA2LS45MTkgMTEuMTEzLTIuNzU2YTU0Ljg0NCA1NC44NDQgMCAwIDAgMTAuNDAxLTYuNzM5YzMuMjMzLTIuNjU3IDYuMTQ2LTUuNDUgOC43NC04LjM3OCAzLjM4Ny0zLjgyNyA3LjE4LTcuNzM2IDguOTkzLTEyLjYxM2ExMi4zNyAxMi4zNyAwIDAgMCAuNzU5LTMuODQ0ek03NTEuNjE4IDg1LjU4M2MuNTI3LS4yNSAxLjQyOC0uMzM4IDIuNjg5LS4yNjcgMS4yNjEuMDc1IDIuNzE4LjA5NiA0LjM3LjA2OSAxLjY1MS0uMDMgMy40MzYtLjA2MyA1LjM1OC0uMTA3IDEuOTA5LS4wNCAzLjc3LS4wNzIgNS41NzMtLjA5NyAxLjgwMS0uMDIxIDMuNDgzLS4wMzYgNS4wNDUtLjA1IDEuNTYxLS4wMDkgMi44NTEtLjAwNCAzLjg3NC4wMSAxLjIuMDE0IDIuMTAyLjcyMyAyLjcxNyAyLjEyNS42MDEgMS40MDMuOTYxIDMuMTk2IDEuMDgyIDUuMzc3LjExOCAyLjUyNC0uMzc2IDQuNjEzLTEuNTAyIDYuMjU5LTEuMTExIDEuNjUtMi4zODcgMi41MDctMy44MjkgMi41OGwtMzQuNTM1IDEuNzMyLTI5Ljk1Ni0xLjc1Yy0xLjgzMi0uMjEtMy4yNDMtLjQyMS00LjI1LS42MzZhMTIxLjg2NSAxMjEuODY1IDAgMCAwLTMuMi0uNjI5IDc4LjEwNyA3OC4xMDcgMCAwIDAtNC4yOTItLjYzNGMtMS43NDItLjIxNC00LjI1LS40NjctNy41MjMtLjc1My0xLjQ1Ni0uMTU0LTIuNTk3LS41My0zLjQwOC0xLjEzMS0uODExLS42LTEuNDI3LTEuMzIzLTEuODMyLTIuMTcxYTguMjcxIDguMjcxIDAgMCAxLS43NjYtMi42NzggMzYuNDQ4IDM2LjQ0OCAwIDAgMS0uMjEtMi40MjJjLS4wNi0xLjA2Ni40OTUtMS45MSAxLjYzNy0yLjUyOCAxLjE0LS42MjIgMi42MjctMS4xMTYgNC40NDMtMS40OSAxLjgzMi0uMzcyIDMuODMtLjYzIDYuMDM3LS43NzcgMi4xOTEtLjE0MyA0LjI5NS0uMjI5IDYuMzItLjI2NSAyLjAxNC0uMDMzIDMuODMtLjA3MyA1LjQyMi0uMTIxIDEuNTkyLS4wNDQgMi42ODgtLjE0OSAzLjI4OS0uMzE2bDM3LjQ0Ny42N3oiIGZpbGw9IiM2MTIxMTYiLz4KICA8L2c+Cjwvc3ZnPgo=" alt="EmberData RequestManager" width="240px" title="EmberData RequestManager"> </p> <p align="center">⚡️ a simple abstraction over fetch to enable easy management of request/response flows</p> <p>This package provides <a href="https://github.com/emberjs/data/"><em>Ember</em>‍<strong>Data</strong></a>'s <code>RequestManager</code>, a framework agnostic library that can be integrated with any Javascript application to make <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch</a> happen.</p> <h2 id="installation">Installation</h2> <p>Install using your javascript package manager of choice. For instance with <a href="https://pnpm.io/">pnpm</a></p> <pre class="highlight highlight" data-language="">pnpm add @ember-data/request</pre> <h2 id="🚀-basic-usage">🚀 Basic Usage</h2> <p>A <code>RequestManager</code> provides a request/response flow in which configured handlers are successively given the opportunity to handle, modify, or pass-along a request.</p> <p>The RequestManager on its own does not know how to fulfill requests. For this we must register at least one handler. A basic <code>Fetch</code> handler is provided that will take the request options provided and execute <code>fetch</code>.</p> <pre class="highlight typescript" data-language="">import { RequestManager } from '@ember-data/request';
import { Fetch } from '@ember-data/request/fetch';
import { apiUrl } from './config';

// ... create manager and add our Fetch handler
const manager = new RequestManager();
manager.use([Fetch]);

// ... execute a request
const response = await manager.request({
  url: `${apiUrl}/users`
});</pre> <h2 id="🪜-architecture">🪜 Architecture</h2> <p>A <code>RequestManager</code> receives a request and manages fulfillment via configured handlers. It may be used standalone from the rest of <em>Ember</em>‍<strong>Data</strong> and is not specific to any library or framework.</p> <p>Each handler may choose to fulfill the request using some source of data or to pass the request along to other handlers.</p> <p>The same or a separate instance of a <code>RequestManager</code> may also be used to fulfill requests issued by <a href="https://github.com/emberjs/data/tree/master/packages/store"><em>Ember</em>‍<strong>Data</strong>{Store}</a></p> <p>When the same instance is used by both this allows for simple coordination throughout the application. Requests issued by the Store will use the in-memory cache and return hydrated responses, requests issued directly to the RequestManager will skip the in-memory cache and return raw responses.</p> <h2 id="usage">Usage</h2> <details> <summary><strong>Making Requests</strong></summary> <p><code>RequestManager</code> has a single asyncronous method as it's API: <code>request</code></p> <pre class="highlight typescript" data-language="">class RequestManager {
  async request&lt;T&gt;(req: RequestInfo): Future&lt;T&gt;;
}</pre> <p><code>manager.request</code> accepts a <code>RequestInfo</code>, an object containing the information necessary for the request to be handled successfully.</p> <p><code>RequestInfo</code> extends the <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#parameters">options</a> provided to <code>fetch</code>, and can accept a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request/Request"><code>Request</code></a>. All properties accepted by Request options and fetch options are valid on <code>RequestInfo</code>.</p> <pre class="highlight typescript" data-language="">interface RequestInfo extends FetchOptions {
  url: string;
   // data that a handler should convert into
   // the query (GET) or body (POST)
  data?: Record&lt;string, unknown&gt;;
// options specifically intended for handlers
  // to utilize to process the request
  options?: Record&lt;string, unknown&gt;;
}</pre> <blockquote> <p><strong>note:</strong> providing a <code>signal</code> is unnecessary as an <code>AbortController</code> is automatically provided if none is present.</p> </blockquote> </details> <details> <summary><strong>Using the Response</strong></summary><br> <p><code>manager.request</code> returns a <code>Future</code>, which allows access to limited information about the request while it is still pending and fulfills with the final state when the request completes and the response has been read.</p> <p>A <code>Future</code> is cancellable via <code>abort</code>.</p> <p>Handlers may <em>optionally</em> expose a ReadableStream to the <code>Future</code> for streaming data; however, when doing so the handler should not resolve until it has fully read the response stream itself.</p> <pre class="highlight typescript" data-language="">interface Future&lt;T&gt; extends Promise&lt;StructuredDocument&lt;T&gt;&gt; {
  abort(): void;
async getStream(): ReadableStream | null;
}</pre> <p>A Future resolves or rejects with a <code>StructuredDocument</code>.</p> <pre class="highlight typescript" data-language="">interface StructuredDocument&lt;T&gt; {
  request: RequestInfo;
  response: ResponseInfo | null;
  data?: T;
  error?: Error;
}</pre> <p>The <code>RequestInfo</code> specified by <code>document.request</code> is the same as originally provided to <code>manager.request</code>. If any handler fulfilled this request using different request info it is not represented here. This contract helps to ensure that <code>retry</code> and <code>caching</code> are possible since the original arguments are correctly preserved. This also allows handlers to "fork" the request or fulfill from multiple sources without the details of fulfillment muddying the original request.</p> <p>The <code>ResponseInfo</code> is a serializable fulfilled subset of a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">Response</a> if set via <code>setResponse</code>. If no response was ever set this will be <code>null</code>.</p> <pre class="highlight typescript" data-language="">interface ResponseInfo {
  headers?: Record&lt;string, string&gt;;
  ok?: boolean;
  redirected?: boolean;
  status?: HTTPStatusCode;
  statusText?: string;
  type?: 'basic' | 'cors';
  url?: string;
}</pre> </details> <h3>Handling Requests</h3> <details> <summary><code>{ request<t>(context, next): Promise<t> | Future<t>; }</t></t></t></code></summary><br> <p>Requests are fulfilled by handlers. A handler receives the request context as well as a <code>next</code> function with which to pass along a request to the next handler if it so chooses.</p> <p>A handler may be any object with a <code>request</code> method. This allows both stateful and non-stateful handlers to be utilized.</p> <p>If a handler calls <code>next</code>, it receives a <code>Future</code> which resolves to a <code>StructuredDocument</code> that it can then compose how it sees fit with its own response.</p> <pre class="highlight typescript" data-language="">type NextFn&lt;P&gt; = (req: RequestInfo) =&gt; Future&lt;P&gt;;

interface Handler {
  async request&lt;T&gt;(context: RequestContext, next: NextFn&lt;P&gt;): T;
}</pre> <p><code>RequestContext</code> contains a readonly version of the RequestInfo as well as a few methods for building up the <code>StructuredDocument</code> and <code>Future</code> that will be part of the response.</p> <pre class="highlight typescript" data-language="">interface RequestContext&lt;T&gt; {
  readonly request: RequestInfo;
setStream(stream: ReadableStream | Promise&lt;ReadableStream&gt;): void;
  setResponse(response: Response | ResponseInfo): void;
}</pre> <p>A basic <code>fetch</code> handler with support for streaming content updates while the download is still underway might look like the following, where we use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response/clone"><code>response.clone()</code></a> to <code>tee</code> the <code>ReadableStream</code> into two streams.</p> <p>A more efficient handler might read from the response stream, building up the response data before passing along the chunk downstream.</p> <pre class="highlight typescript" data-language="">const FetchHandler = {
  async request(context) {
    const response = await fetch(context.request);
    context.setResponse(reponse);
    context.setStream(response.clone().body);
  return response.json();
  }
}</pre> <p>Request handlers are registered by configuring the manager via <code>use</code></p> <pre class="highlight typescript" data-language="">manager.use([Handler1, Handler2])</pre> <p>Handlers will be invoked in the order they are registered ("fifo", first-in first-out), and may only be registered up until the first request is made. It is recommended but not required to register all handlers at one time in order to ensure explicitly visible handler ordering.</p> </details> <details> <summary><strong>Stream Currying</strong></summary><br> <p><code>RequestManager.request</code> and <code>next</code> differ from <code>fetch</code> in one <strong>crucial detail</strong> in that the outer Promise resolves only once the response stream has been processed.</p> <p>For context, it helps to understand a few of the use-cases that RequestManager is intended to allow.</p> <ul> <li>to manage and return streaming content (such as video files)</li> <li>to fulfill a request from multiple sources or by splitting one request into multiple requests<ul> <li>for instance one API call for a user and another for the user's friends</li> <li>or e.g. fulfilling part of the request from one source (one API, in-memory, localStorage, IndexedDB etc.) and the rest from another source (a different API, a WebWorker, etc.)</li> </ul> </li> <li>to coalesce multiple requests</li> <li>to decorate a request with additional info<ul> <li>e.g. an Auth handler that ensures the correct tokens or headers or cookies are attached.</li> </ul> </li> </ul> <p><code>await fetch(&lt;req&gt;)</code> resolves at the moment headers are received. This allows for the body of the request to be processed as a stream by application code <em>while chunks are still being received by the browser</em>.</p> <p>When an app chooses to <code>await response.json()</code> what occurs is the browser reads the stream to completion and then returns the result. Additionally, this stream may only be read <strong>once</strong>.</p> <p>The <code>RequestManager</code> preserves this ability to subscribe to and utilize the stream by either the application or the handler – thereby delivering the full power and flexibility of native APIs – without restricting developers in ways that lead to complicated workarounds.</p> <p>Each handler may call <code>setStream</code> only once, but may do so <em>at any time</em> until the promise that the handler returns has resolved. The associated promise returned by calling <code>future.getStream</code> will resolve with the stream set by <code>setStream</code> if that method is called, or <code>null</code> if that method has not been called by the time that the handler's request method has resolved.</p> <p>Handlers that do not create a stream of their own, but which call <code>next</code>, should defensively pipe the stream forward. While this is not required (see automatic currying below) it is better to do so in most cases as otherwise the stream may not become available to downstream handlers or the application until the upstream handler has fully read it.</p> <pre class="highlight typescript" data-language="">context.setStream(future.getStream());</pre> <p>Handlers that either call <code>next</code> multiple times or otherwise have reason to create multiple fetch requests should either choose to return no stream, meaningfully combine the streams, or select a single prioritized stream.</p> <p>Of course, any handler may choose to read and handle the stream, and return either no stream or a different stream in the process.</p> </details> <details> <summary><strong>Automatic Currying of Stream and Response</strong></summary><br> <p>In order to simplify the common case for handlers which decorate a request, if <code>next</code> is called only a single time and <code>setResponse</code> was never called by the handler, the response set by the next handler in the chain will be applied to that handler's outcome. For instance, this makes the following pattern possible <code>return (await next(&lt;req&gt;)).data;</code>.</p> <p>Similarly, if <code>next</code> is called only a single time and neither <code>setStream</code> nor <code>getStream</code> was called, we automatically curry the stream from the future returned by <code>next</code> onto the future returned by the handler.</p> <p>Finally, if the return value of a handler is a <code>Future</code>, we curry <code>data</code> and <code>errors</code> as well, thus enabling the simplest form <code>return next(&lt;req&gt;)</code>.</p> <p>In the case of the <code>Future</code> being returned, <code>Stream</code> proxying is automatic and immediate and does not wait for the <code>Future</code> to resolve.</p> </details> <h3 id="using-as-a-service">Using as a Service</h3> <p>Most applications will desire to have a single <code>RequestManager</code> instance, which can be achieved using module-state patterns for singletons, or for <a href="https://emberjs.com">Ember</a> applications by exporting the manager as a <a href="https://guides.emberjs.com/release/services/">service</a>.</p> <p>services/request.ts*</p> <pre class="highlight typescript" data-language="">import { RequestManager } from '@ember-data/request';
import { Fetch } from '@ember-data/request/fetch';
import Auth from 'ember-simple-auth/ember-data-handler';

export default class extends RequestManager {
  constructor(createArgs) {
    super(createArgs);
    this.use([Auth, Fetch]);
  }
}</pre> <h3 id="using-with-ember-datastore">Using with <code>@ember-data/store</code>
</h3> <p>To have a request service unique to a Store:</p> <pre class="highlight typescript" data-language="">import Store from '@ember-data/store';
import { RequestManager } from '@ember-data/request';
import { Fetch } from '@ember-data/request/fetch';

class extends Store {
  requestManager = new RequestManager();
constructor(args) {
    super(args);
    this.requestManager.use([Fetch]);
  }
}</pre> <h3 id="using-with-ember-data">Using with <code>ember-data</code>
</h3> <p>If using the package <a href="https://github.com/emberjs/data/tree/master/packages/-ember-data">ember-data</a>, the following configuration will automatically be done in order to preserve the legacy <a href="https://github.com/emberjs/data/tree/master/packages/adapter">Adapter</a> and <a href="https://github.com/emberjs/data/tree/master/packages/serializer">Serializer</a> behavior. Additional handlers or a service injection like the above would need to be done by the consuming application in order to make broader use of <code>RequestManager</code>.</p> <pre class="highlight typescript" data-language="">import Store from '@ember-data/store';
import { RequestManager } from '@ember-data/request';
import { LegacyHandler } from '@ember-data/legacy-network-handler';

export default class extends Store {
  requestManager = new RequestManager();
constructor(args) {
    super(args);
    this.requestManager.use([LegacyHandler]);
  }
}</pre> <p>Because the application's store service (if present) will override the store supplied by <code>ember-data</code>, all that is required to define your own ordering and handlers is to supply a store service extending from <code>@ember-data/store</code> and configure as shown above.</p> <p>For usage of the store's <code>requestManager</code> via <code>store.request(&lt;req&gt;)</code> see the <a href="https://api.emberjs.com/ember-data/release/modules/@ember-data%2Fstore">Store</a> documentation.</p>   <h2 id="classes" class="anchorable-toc">  Classes </h2> <ul> <li> <a href="../classes/requestmanager.html"> RequestManager </a> </li> </ul>    </article><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 Yehuda Katz, Tom Dale and Ember.js contributors<br>Licensed under the MIT License.<br>
    <a href="https://api.emberjs.com/ember-data/4.9/modules/@ember-data%2Frequest" class="_attribution-link">https://api.emberjs.com/ember-data/4.9/modules/@ember-data%2Frequest</a>
  </p>
</div>
