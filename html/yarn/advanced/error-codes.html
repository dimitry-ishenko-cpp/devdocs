<header><h1>Error Codes</h1></header><div class="theme-admonition theme-admonition-info admonition_JrWa alert alert--info">
<div class="admonitionHeading_MtRg">
info</div>
<div class="admonitionContent_G2Ck">
<p>Are you a plugin author and want to declare your own error codes that don't match the semantic of the ones provided here? Please relinquish one character and use the <code>YNX</code> prefix (ex <code>YNX001</code>) instead of <code>YN0</code>!</p>
<p>Keeping this convention will help our users to figure out which error codes can be found on this documentation and which ones should instead be checked against the individual documentation of the plugins they use.</p>
</div>
</div> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0000---unnamed">YN0000 - <code>UNNAMED</code><a class="hash-link" aria-label="Direct link to yn0000---unnamed" title="Direct link to yn0000---unnamed" href="error-codes.html#yn0000---unnamed">​</a>
</h2> <p>This code is used to log regular messages, mostly to align all the lines in the Yarn output. No worry!</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0001---exception">YN0001 - <code>EXCEPTION</code><a class="hash-link" aria-label="Direct link to yn0001---exception" title="Direct link to yn0001---exception" href="error-codes.html#yn0001---exception">​</a>
</h2> <p>An exception had be thrown by the program.</p> <p>This error typically should never happen (it should instead point to a different error message from this page so that it can be properly documented), so it should be considered a bug in Yarn. Feel free to open an issue or, even better, a pull request aiming to fix it.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0002---missing_peer_dependency">YN0002 - <code>MISSING_PEER_DEPENDENCY</code><a class="hash-link" aria-label="Direct link to yn0002---missing_peer_dependency" title="Direct link to yn0002---missing_peer_dependency" href="error-codes.html#yn0002---missing_peer_dependency">​</a>
</h2> <p>A package requests a peer dependency, but one or more of its parents in the dependency tree doesn't provide it.</p> <p>Note that Yarn enforces peer dependencies at every level of the dependency tree. That is, if <code>─D&gt;</code> is a dependency and <code>─P&gt;</code> is a peer dependency,</p> <div class="language-sh codeBlockContainer_EXcq theme-code-block"><div class="codeBlockContent_gO9Y">
<pre tabindex="0" class="prism-code language-sh codeBlock_itEV thin-scrollbar" data-language="sh"># bad
project
├─D&gt; packagePeer
└─D&gt; packageA
     └─P&gt; packageB
          └─P&gt; packagePeer

# good
project
├─D&gt; packagePeer
└─D&gt; packageA
     ├─P&gt; packagePeer
     └─D&gt; packageB
          └─P&gt; packagePeer</pre>

</div></div> <p>Depending on your situation, multiple options are possible:</p> <ul> <li> <p>The author of <code>packageA</code> can fix this problem by adding a peer dependency on <code>packagePeer</code>. If relevant, they can use <a href="../configuration/manifest.html#peerDependenciesMeta.optional" target="_blank" rel="noopener noreferrer">optional peer dependencies</a> to this effect.</p> </li> <li> <p>The author of <code>packageB</code> can fix this problem by marking the <code>packagePeer</code> peer dependency as optional - but only if the peer dependency is actually optional, of course!</p> </li> <li> <p>The author of <code>project</code> can fix this problem by manually overriding the <code>packageA</code> and/or <code>packageB</code> definitions via the <a href="../configuration/yarnrc.html#packageExtensions"><code data-tooltip-id="tooltip" data-tooltip-content="Extend the package definitions of your dependencies; useful to fix third-party issues."><span class="key_FEvO">packageExtensions</span></code> config option</a>.</p> </li> </ul> <p>To understand more about this issue, check out <a href="https://dev.to/arcanis/implicit-transitive-peer-dependencies-ed0" target="_blank" rel="noopener noreferrer">this blog post</a>.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0003---cyclic_dependencies">YN0003 - <code>CYCLIC_DEPENDENCIES</code><a class="hash-link" aria-label="Direct link to yn0003---cyclic_dependencies" title="Direct link to yn0003---cyclic_dependencies" href="error-codes.html#yn0003---cyclic_dependencies">​</a>
</h2> <p>Two packages with build scripts have cyclic dependencies.</p> <p>Cyclic dependencies are a can of worms. They happen when a package <code>A</code> depends on a package <code>B</code> and vice-versa Sometime can arise through a chain of multiple packages - for example when <code>A</code> depends on <code>B</code>, which depends on <code>C</code>, which depends on <code>A</code>.</p> <p>While cyclic dependencies may work fine in the general Javascript case (and in fact Yarn won't warn you about it in most cases), they can cause issues as soon as build scripts are involved. Indeed, in order to build a package, we first must make sure that its own dependencies have been properly built. How can we do that when two packages reference each other? Since the first one to build cannot be deduced, such patterns will cause the build scripts of every affected package to simply be ignored (and a warning emitted).</p> <p>There's already good documentation online explaining how to get rid of cyclic dependencies, the simplest one being to extract the shared part of your program into a third package without dependencies. So the first case we described would become <code>A</code> depends on <code>C</code>, <code>B</code> depends on <code>C</code>, <code>C</code> doesn't depend on anything.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0004---disabled_build_scripts">YN0004 - <code>DISABLED_BUILD_SCRIPTS</code><a class="hash-link" aria-label="Direct link to yn0004---disabled_build_scripts" title="Direct link to yn0004---disabled_build_scripts" href="error-codes.html#yn0004---disabled_build_scripts">​</a>
</h2> <p>A package has build scripts, but they've been disabled across the project.</p> <p>Build scripts can be disabled on a global basis through the use of the <code>enableScripts</code> settings. When it happens, a warning is still emitted to let you know that the installation might not be complete.</p> <p>The safest way to downgrade the warning into a notification is to explicitly disable build scripts for the affected packages through the use of the <code>dependenciesMeta[].built</code> key.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0005---build_disabled">YN0005 - <code>BUILD_DISABLED</code><a class="hash-link" aria-label="Direct link to yn0005---build_disabled" title="Direct link to yn0005---build_disabled" href="error-codes.html#yn0005---build_disabled">​</a>
</h2> <p>A package has build scripts, but they've been disabled through its configuration.</p> <p>Build scripts can be disabled on a per-project basis through the use of the <code data-tooltip-id="tooltip" data-tooltip-content="Extra settings affecting how the `dependencies` and `devDependencies` fields are interpreted."><a class="key_FEvO" href="../configuration/manifest.html#dependenciesMeta">dependenciesMeta</a></code> settings from the <code>package.json</code> file. When it happens, a notification is still emitted to let you know that the installation might not be complete.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0006---soft_link_build">YN0006 - <code>SOFT_LINK_BUILD</code><a class="hash-link" aria-label="Direct link to yn0006---soft_link_build" title="Direct link to yn0006---soft_link_build" href="error-codes.html#yn0006---soft_link_build">​</a>
</h2> <p>A package has build scripts, but is linked through a soft link.</p> <p>For Yarn, a hard link is when a package is owned by the package manager. In these instances Yarn will typically copy packages having build scripts into a project-local cache so that multiple projects with multiple dependency trees don't use the same build artifacts. So what's the problem with so-called "soft links"?</p> <p>Soft links are when the package manager doesn't own the package source. An example is a workspace, or a dependency referenced through the <code>portal:</code> specifier. In these instances Yarn cannot safely assume that executing build scripts there is the intended behavior, because it would likely involve mutating your project or, even worse, an external location on your disk that might be shared by multiple projects. Since Yarn avoids doing anything unsafe, it cannot run build scripts on soft links.</p> <p>There are a few workarounds:</p> <ul> <li> <p>Using <code>file:</code> instead of <code>portal:</code> will cause a hard link to be used instead of a soft link. The other side of the coin will be that the packages will be copied into the cache as well, meaning that changing the package source will require you to run <code>YARN_UPDATE_FILE_CACHE=1 yarn install</code> for your changes to be taken into account.</p> </li> <li> <p>You can manually run <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Run a script defined in the package.json
" href="../cli/run.html"><span class="token_Ye2a" data-type="path">run</span></a> <span class="token_Ye2a" data-type="positional">postinstall</span></code></span> (or whatever is named your build script) from the directory of the affected packages. This requires you to know in which order they'll have to be called, but is generally the safest option.</p> </li> <li> <p>You can simply abstain from using build scripts with soft links. While this suggestion might seem like a bad case of "fix a problem by not encountering the problem", consider that build scripts in development might not be of the best effect from a developer experience perspective - they usually mean that you'll need to run a script before being able to see your changes, which is often not what you seek.</p> </li> </ul> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0007---must_build">YN0007 - <code>MUST_BUILD</code><a class="hash-link" aria-label="Direct link to yn0007---must_build" title="Direct link to yn0007---must_build" href="error-codes.html#yn0007---must_build">​</a>
</h2> <p>A package must be built.</p> <p>This informational message occurs when Yarn wishes to let you know that a package will need to be built for the installation to complete. This usually occurs in only two cases: either the package never has been built before, or its previous build failed (returned a non-zero exit code).</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0008---must_rebuild">YN0008 - <code>MUST_REBUILD</code><a class="hash-link" aria-label="Direct link to yn0008---must_rebuild" title="Direct link to yn0008---must_rebuild" href="error-codes.html#yn0008---must_rebuild">​</a>
</h2> <p>A package must be rebuilt.</p> <p>This information message occurs when Yarn wishes to let you know that a package will need to be rebuilt in order for the installation to complete. This usually occurs in a single case: when the package's dependency tree has changed. Note that this also includes its transitive dependencies, which sometimes may cause surprising rebuilds (for example, if <code>A</code> depends on <code>B</code> that depends on <code>C@1</code>, and if Yarn decides for some reason that <code>C</code> should be bumped to <code>C@2</code>, then <code>A</code> will need to be rebuilt).</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0009---build_failed">YN0009 - <code>BUILD_FAILED</code><a class="hash-link" aria-label="Direct link to yn0009---build_failed" title="Direct link to yn0009---build_failed" href="error-codes.html#yn0009---build_failed">​</a>
</h2> <p>A package build failed.</p> <p>This problem typically doesn't come from Yarn itself, and simply means that a package described as having build directives couldn't get built successfully.</p> <p>To see the actual error message, read the file linked in the report. It will contain the full output of the failing script.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0010---resolver_not_found">YN0010 - <code>RESOLVER_NOT_FOUND</code><a class="hash-link" aria-label="Direct link to yn0010---resolver_not_found" title="Direct link to yn0010---resolver_not_found" href="error-codes.html#yn0010---resolver_not_found">​</a>
</h2> <p>A resolver cannot be found for the given package.</p> <p>Resolvers are the components tasked from converting ranges (<code>^1.0.0</code>) into references (<code>1.2.3</code>). They each contain their own logic to do so - the semver resolver is the most famous one but far from being the only one. The GitHub resolver transforms GitHub repositories into tarball urls, the Git resolver normalizes the paths sent to git, ... each resolver takes care of a different resolution strategy. A missing resolver means that one of those strategies is missing.</p> <p>This error is usually caused by a Yarn plugin being missing.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0011---fetcher_not_found">YN0011 - <code>FETCHER_NOT_FOUND</code><a class="hash-link" aria-label="Direct link to yn0011---fetcher_not_found" title="Direct link to yn0011---fetcher_not_found" href="error-codes.html#yn0011---fetcher_not_found">​</a>
</h2> <p>A fetcher cannot be found for the given package.</p> <p>Fetchers are the components that take references and fetch the source code from the remote location. A semver fetcher would likely fetch the packages from some registry, while a workspace fetcher would simply redirect to the location on the disk where the sources can be found.</p> <p>This error is usually caused by a Yarn plugin being missing.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0012---linker_not_found">YN0012 - <code>LINKER_NOT_FOUND</code><a class="hash-link" aria-label="Direct link to yn0012---linker_not_found" title="Direct link to yn0012---linker_not_found" href="error-codes.html#yn0012---linker_not_found">​</a>
</h2> <p>A linker cannot be found for the given package.</p> <p>Linkers are the components tasked from extracting the sources from the artifacts returned by the fetchers and putting them on the disk in a manner that can be understood by the target environment. The Node linker would use the Plug'n'Play strategy, while a PHP linker would use an autoload strategy instead.</p> <p>This error is usually caused by a Yarn plugin being missing.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0013---fetch_not_cached">YN0013 - <code>FETCH_NOT_CACHED</code><a class="hash-link" aria-label="Direct link to yn0013---fetch_not_cached" title="Direct link to yn0013---fetch_not_cached" href="error-codes.html#yn0013---fetch_not_cached">​</a>
</h2> <p>A package cannot be found in the cache for the given package and will be fetched from its remote location.</p> <p>When a package is downloaded from whatever its remote location is, Yarn stores it in a specific folder called then cache. Then, the next time this package was to be downloaded, Yarn simply check this directory and use the stored package if available. This message simply means that the package couldn't be found there. It's not a huge issue, but you probably should try to limit it as much as possible - for example by using <a href="../features/caching.html#zero-installs">Zero-Installs</a>.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0014---yarn_import_failed">YN0014 - <code>YARN_IMPORT_FAILED</code><a class="hash-link" aria-label="Direct link to yn0014---yarn_import_failed" title="Direct link to yn0014---yarn_import_failed" href="error-codes.html#yn0014---yarn_import_failed">​</a>
</h2> <p>A lockfile couldn't be properly imported from a v1 lockfile.</p> <p>The v2 release contains major changes in the way Yarn is designed, and the lockfile format is one of them. In some rare cases, the data contained in the v1 lockfile aren't compatible with the ones we stored within the v2 files. When it happens, Yarn will emit this warning and resolve the package descriptor again. Only this package will be affected; all others will continue to be imported as expected.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0015---remote_invalid">YN0015 - <code>REMOTE_INVALID</code><a class="hash-link" aria-label="Direct link to yn0015---remote_invalid" title="Direct link to yn0015---remote_invalid" href="error-codes.html#yn0015---remote_invalid">​</a>
</h2> <p>The remote source returned invalid data.</p> <p>This error is thrown by the resolvers and fetchers when the remote sources they communicate with return values that aren't consistent with what we would expect (for example because they are missing fields).</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0016---remote_not_found">YN0016 - <code>REMOTE_NOT_FOUND</code><a class="hash-link" aria-label="Direct link to yn0016---remote_not_found" title="Direct link to yn0016---remote_not_found" href="error-codes.html#yn0016---remote_not_found">​</a>
</h2> <p>The remote source returned valid data, but told us the package couldn't be found.</p> <p>This error is thrown by the resolvers and fetchers when the remote sources they communicate with inform them that the package against which have been made the request doesn't exist. This might happen if the package has been unpublished, and there's usually nothing Yarn can do.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0017---resolution_pack">YN0017 - <code>RESOLUTION_PACK</code><a class="hash-link" aria-label="Direct link to yn0017---resolution_pack" title="Direct link to yn0017---resolution_pack" href="error-codes.html#yn0017---resolution_pack">​</a>
</h2> <p>This error code isn't used at the moment (it used to print the number of packages that took part in each pass of the resolution algorithm, but was deemed too verbose compared to its usefulness).</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0018---cache_checksum_mismatch">YN0018 - <code>CACHE_CHECKSUM_MISMATCH</code><a class="hash-link" aria-label="Direct link to yn0018---cache_checksum_mismatch" title="Direct link to yn0018---cache_checksum_mismatch" href="error-codes.html#yn0018---cache_checksum_mismatch">​</a>
</h2> <p>The checksum of a package from the cache doesn't match what the lockfile expects.</p> <p>This situation usually happens after you've modified the zip archives from your cache by editing the files it contains for debug purposes. Use one of the three following commands in order to bypass it:</p> <ul> <li>
<code>YARN_CHECKSUM_BEHAVIOR=reset</code> will remove the files from the cache and download them again</li> <li>
<code>YARN_CHECKSUM_BEHAVIOR=update</code> will update the lockfile to contain the new checksum</li> <li>
<code>YARN_CHECKSUM_BEHAVIOR=ignore</code> will use the existing files but won't update the lockfile</li> </ul> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0019---unused_cache_entry">YN0019 - <code>UNUSED_CACHE_ENTRY</code><a class="hash-link" aria-label="Direct link to yn0019---unused_cache_entry" title="Direct link to yn0019---unused_cache_entry" href="error-codes.html#yn0019---unused_cache_entry">​</a>
</h2> <p>A file from the cache has been detected unused while installing dependencies.</p> <p>Running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Remove the shared cache files
" href="../cli/cache/clean.html"><span class="token_Ye2a" data-type="path">cache</span> <span class="token_Ye2a" data-type="path">clean</span></a></code></span> will cause Yarn to remove everything inside <code>.yarn/cache</code>.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0020---missing_lockfile_entry">YN0020 - <code>MISSING_LOCKFILE_ENTRY</code><a class="hash-link" aria-label="Direct link to yn0020---missing_lockfile_entry" title="Direct link to yn0020---missing_lockfile_entry" href="error-codes.html#yn0020---missing_lockfile_entry">​</a>
</h2> <p>A package descriptor cannot be found in the lockfile.</p> <p>A lot of commands (for example <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <span class="path_tCL7"><span class="token_Ye2a" data-type="path">run</span></span></code></span>) require the lockfile to be in a state consistent with the current project in order to behave properly. This error will be generated when Yarn detects that your project references a package that isn't listed within the lockfile (usually because you modified a <code data-tooltip-id="tooltip" data-tooltip-content="Set of dependencies that must be made available to the current package in order for it to work properly."><a class="key_FEvO" href="../configuration/manifest.html#dependencies">dependencies</a></code> field without running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Install the project dependencies
" href="../cli/install.html"><span class="token_Ye2a" data-type="path">install</span></a></code></span>, or because you added a new workspace). Running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Install the project dependencies
" href="../cli/install.html"><span class="token_Ye2a" data-type="path">install</span></a></code></span> will almost certainly fix this particular error.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0021---workspace_not_found">YN0021 - <code>WORKSPACE_NOT_FOUND</code><a class="hash-link" aria-label="Direct link to yn0021---workspace_not_found" title="Direct link to yn0021---workspace_not_found" href="error-codes.html#yn0021---workspace_not_found">​</a>
</h2> <p>A dependency uses a <code>workspace:</code> range that cannot be resolved to an existing workspace.</p> <p>The <code>workspace:</code> protocol is a new feature that appeared in Yarn v2 that allows to target a specific workspace of the current project without risking to ever pull data from other sources in case the workspace doesn't exist. This error precisely means that the workspace doesn't exist for the reason described in the error message.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0022---too_many_matching_workspaces">YN0022 - <code>TOO_MANY_MATCHING_WORKSPACES</code><a class="hash-link" aria-label="Direct link to yn0022---too_many_matching_workspaces" title="Direct link to yn0022---too_many_matching_workspaces" href="error-codes.html#yn0022---too_many_matching_workspaces">​</a>
</h2> <p>This error should be considered obsolete and not exist; open an issue if you have it.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0023---constraints_missing_dependency">YN0023 - <code>CONSTRAINTS_MISSING_DEPENDENCY</code><a class="hash-link" aria-label="Direct link to yn0023---constraints_missing_dependency" title="Direct link to yn0023---constraints_missing_dependency" href="error-codes.html#yn0023---constraints_missing_dependency">​</a>
</h2> <p>One of your workspaces should depend on a dependency but doesn't.</p> <p>A <a href="../features/constraints.html">constraint</a> has been put into effect that declares that the specified workspace must depend on the specified range of the specified dependency. Since it currently doesn't, Yarn emits this error when running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Check that the project constraints are met
" href="../cli/constraints.html"><span class="token_Ye2a" data-type="path">constraints</span></a></code></span>. In order to fix it simply run <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Check that the project constraints are met
" href="../cli/constraints.html"><span class="token_Ye2a" data-type="path">constraints</span></a> <span class="token_Ye2a" data-type="dash">--</span><span class="token_Ye2a" data-type="option" data-tooltip-id="tooltip" data-tooltip-content="Attempt to automatically fix unambiguous issues, following a multi-pass process">fix</span></code></span> which will autofix all such errors.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0024---constraints_incompatible_dependency">YN0024 - <code>CONSTRAINTS_INCOMPATIBLE_DEPENDENCY</code><a class="hash-link" aria-label="Direct link to yn0024---constraints_incompatible_dependency" title="Direct link to yn0024---constraints_incompatible_dependency" href="error-codes.html#yn0024---constraints_incompatible_dependency">​</a>
</h2> <p>One of your workspaces should depend on a specific version of a dependency but doesn't.</p> <p>A <a href="../features/constraints.html">constraint</a> has been put into effect that declares that the specified workspace must depend on the specified range of the specified dependency. Since it currently doesn't, Yarn emits this error when running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Check that the project constraints are met
" href="../cli/constraints.html"><span class="token_Ye2a" data-type="path">constraints</span></a></code></span>. In order to fix it simply run <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Check that the project constraints are met
" href="../cli/constraints.html"><span class="token_Ye2a" data-type="path">constraints</span></a> <span class="token_Ye2a" data-type="dash">--</span><span class="token_Ye2a" data-type="option" data-tooltip-id="tooltip" data-tooltip-content="Attempt to automatically fix unambiguous issues, following a multi-pass process">fix</span></code></span> which will autofix all such errors.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0025---constraints_extraneous_dependency">YN0025 - <code>CONSTRAINTS_EXTRANEOUS_DEPENDENCY</code><a class="hash-link" aria-label="Direct link to yn0025---constraints_extraneous_dependency" title="Direct link to yn0025---constraints_extraneous_dependency" href="error-codes.html#yn0025---constraints_extraneous_dependency">​</a>
</h2> <p>One of your workspaces shouldn't depend on one of the dependencies it lists.</p> <p>A <a href="../features/constraints.html">constraint</a> has been put into effect that declares that the specified workspace must depend on the specified range of the specified dependency. Since it currently doesn't, Yarn emits this error when running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Check that the project constraints are met
" href="../cli/constraints.html"><span class="token_Ye2a" data-type="path">constraints</span></a></code></span>. In order to fix it simply run <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Check that the project constraints are met
" href="../cli/constraints.html"><span class="token_Ye2a" data-type="path">constraints</span></a> <span class="token_Ye2a" data-type="dash">--</span><span class="token_Ye2a" data-type="option" data-tooltip-id="tooltip" data-tooltip-content="Attempt to automatically fix unambiguous issues, following a multi-pass process">fix</span></code></span> which will autofix all such errors.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0026---constraints_invalid_dependency">YN0026 - <code>CONSTRAINTS_INVALID_DEPENDENCY</code><a class="hash-link" aria-label="Direct link to yn0026---constraints_invalid_dependency" title="Direct link to yn0026---constraints_invalid_dependency" href="error-codes.html#yn0026---constraints_invalid_dependency">​</a>
</h2> <p>One of your workspaces lists an invalid dependency.</p> <p>A <a href="../features/constraints.html">constraint</a> has been put into effect that declares that the specified workspace probably shouldn't depend on the specified dependency in its current state. Since it currently does, Yarn emits this error when running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Check that the project constraints are met
" href="../cli/constraints.html"><span class="token_Ye2a" data-type="path">constraints</span></a></code></span>. Fixing this error require manual intervention as the fix is ambiguous from Yarn's point of view.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0027---cant_suggest_resolutions">YN0027 - <code>CANT_SUGGEST_RESOLUTIONS</code><a class="hash-link" aria-label="Direct link to yn0027---cant_suggest_resolutions" title="Direct link to yn0027---cant_suggest_resolutions" href="error-codes.html#yn0027---cant_suggest_resolutions">​</a>
</h2> <p>Yarn cannot figure out proper range suggestions for the packages you're adding to your project.</p> <p>When running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Add dependencies to the project
" href="../cli/add.html"><span class="token_Ye2a" data-type="path">add</span></a></code></span> without adding explicit ranges to the packages to add, Yarn will try to find versions that match your intent. Generally it means that it will prefer project workspaces and, if it cannot find any, will instead try to query the npm registry for the list of published releases and use whatever is the highest one. This error means that this process failed and Yarn cannot successfully figure out which version of the package should be added to your project.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0028---frozen_lockfile_exception">YN0028 - <code>FROZEN_LOCKFILE_EXCEPTION</code><a class="hash-link" aria-label="Direct link to yn0028---frozen_lockfile_exception" title="Direct link to yn0028---frozen_lockfile_exception" href="error-codes.html#yn0028---frozen_lockfile_exception">​</a>
</h2> <p>Your lockfile would be modified if Yarn was to finish the install.</p> <p>When passing the <code>--immutable</code> option to <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Install the project dependencies
" href="../cli/install.html"><span class="token_Ye2a" data-type="path">install</span></a></code></span>, Yarn will ensure that the lockfile isn't modified in the process and will instead throw an exception if this situation was to happen (for example if a newly added package was missing from the lockfile, or if the current Yarn release required some kind of migration before being able to work with the lockfile).</p> <p>This option is typically meant to be used on your CI and production servers, and fixing this error should simply be a matter of running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Install the project dependencies
" href="../cli/install.html"><span class="token_Ye2a" data-type="path">install</span></a></code></span> on your local development environment and submitting a PR containing the updated lockfile.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0029---cross_drive_virtual_local">YN0029 - <code>CROSS_DRIVE_VIRTUAL_LOCAL</code><a class="hash-link" aria-label="Direct link to yn0029---cross_drive_virtual_local" title="Direct link to yn0029---cross_drive_virtual_local" href="error-codes.html#yn0029---cross_drive_virtual_local">​</a>
</h2> <blockquote> <p><strong>Removed:</strong> Virtuals aren't implemented using symlinks anymore.</p> </blockquote> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0030---fetch_failed">YN0030 - <code>FETCH_FAILED</code><a class="hash-link" aria-label="Direct link to yn0030---fetch_failed" title="Direct link to yn0030---fetch_failed" href="error-codes.html#yn0030---fetch_failed">​</a>
</h2> <p>This error code isn't used at the moment; we ideally want to explain <strong>why</strong> did the fetch fail rather than .</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0031---dangerous_node_modules">YN0031 - <code>DANGEROUS_NODE_MODULES</code><a class="hash-link" aria-label="Direct link to yn0031---dangerous_node_modules" title="Direct link to yn0031---dangerous_node_modules" href="error-codes.html#yn0031---dangerous_node_modules">​</a>
</h2> <p>Yarn is installing packages using <a href="../features/pnp.html">Plug'n'Play</a>, but a <code>node_modules</code> folder has been found.</p> <p>This warning is emitted when your project is detected as containing <code>node_modules</code> folders that actually seem to contain packages. This is not advised as they're likely relicts of whatever package manager you used before, and might confuse your tools and lead you into "works on my machine" situations.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0032---node_gyp_injected">YN0032 - <code>NODE_GYP_INJECTED</code><a class="hash-link" aria-label="Direct link to yn0032---node_gyp_injected" title="Direct link to yn0032---node_gyp_injected" href="error-codes.html#yn0032---node_gyp_injected">​</a>
</h2> <p>In some situation Yarn might detect that <code>node-gyp</code> is required by a package without this package explicitly listing the dependency. This behavior is there for legacy reason and should not be relied upon for the following reasons:</p> <ul> <li> <p>The main way to detect whether <code>node-gyp</code> is implicitly required is to check whether the package contains a <code>bindings.gyp</code> file. However, doing this check implies that the package listing is known at the time Yarn resolves the dependency tree. This would require to fetch all npm archives as part of the resolution step (rather than wait until the dedicated fetch step), and all that just for the sake of this problematic feature.</p> </li> <li> <p>Implicit dependencies on <code>node-gyp</code> don't provide any hint to the package manager as to which versions of <code>node-gyp</code> are compatible with the package being built. Yarn does its best by adding an implicit dependency on <code>npm:*</code>, but it might be wrong and we'll have no way to know it - your installs will just crash unexpectedly when compiled with incompatible versions.</p> </li> </ul> <p>Packages omitting <code>node-gyp</code> usually do so in order to decrease the amount of packages in the final dependency tree when building the package isn't required (prebuilt binaries). While a reasonable wish, doing this goes against the package manager rules and we would prefer to solve this through a dedicated feature rather than through such hacks. In the meantime we strongly recommend to consider prebuilding native dependencies via WebAssembly if possible - then the <code>node-gyp</code> problem completely disappears.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0046---automerge_failed_to_parse">YN0046 - <code>AUTOMERGE_FAILED_TO_PARSE</code><a class="hash-link" aria-label="Direct link to yn0046---automerge_failed_to_parse" title="Direct link to yn0046---automerge_failed_to_parse" href="error-codes.html#yn0046---automerge_failed_to_parse">​</a>
</h2> <p>This error is triggered when Git conflict tokens are found within the <code>yarn.lock</code> file and one or both of the individual candidate lockfiles cannot be parsed. This typically happens because of one of those two situations:</p> <ul> <li> <p>If you're working on a branch with Yarn v2 and are trying to merge a branch using Yarn v1, this error will be triggered (the v1 lockfiles aren't Yaml, which prevents them from being parsed. Even if we could, they don't contain enough information compared to the v2 lockfiles).</p> <ul> <li>The easiest way to fix it is to use <code>git checkout --theirs yarn.lock</code>, and follow up with <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Install the project dependencies
" href="../cli/install.html"><span class="token_Ye2a" data-type="path">install</span></a></code></span> again (which can be followup by <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Remove the shared cache files
" href="../cli/cache/clean.html"><span class="token_Ye2a" data-type="path">cache</span> <span class="token_Ye2a" data-type="path">clean</span></a></code></span> to remove any file that wouldn't be needed anymore). This will cause the v1 lockfile to be re-imported. The v2 resolutions will be lost, but Yarn will detect it and resolve them all over again.</li> </ul> </li> <li> <p>If you have multiple levels of conflicts. Yarn doesn't support such conflicts, and you'll have to figure out a way to only have two levels. This is typically done by first resolving the conflicts between two branches, and then resolving them again on the merge result of the previous step and the third branch.</p> </li> </ul> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0047---automerge_immutable">YN0047 - <code>AUTOMERGE_IMMUTABLE</code><a class="hash-link" aria-label="Direct link to yn0047---automerge_immutable" title="Direct link to yn0047---automerge_immutable" href="error-codes.html#yn0047---automerge_immutable">​</a>
</h2> <p>This error is triggered when Git conflict tokens are found within the <code>yarn.lock</code> file while Yarn is executing under the immutable mode (<span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Install the project dependencies
" href="../cli/install.html"><span class="token_Ye2a" data-type="path">install</span></a> <span class="token_Ye2a" data-type="dash">--</span><span class="token_Ye2a" data-type="option" data-tooltip-id="tooltip" data-tooltip-content="Abort with an error exit code if the lockfile was to be modified">immutable</span></code></span>).</p> <p>When under this mode, Yarn isn't allowed to edit any file, not even for automatically resolving conflicts. This mode is typically used on CI to ensure that your projects are always in a correct state before being merged into the trunk.</p> <p>In order to solve this problem, try running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Install the project dependencies
" href="../cli/install.html"><span class="token_Ye2a" data-type="path">install</span></a></code></span> again on your computer without the <code>--immutable</code> flag, then commit the changes if the command succeeded.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0048---automerge_success">YN0048 - <code>AUTOMERGE_SUCCESS</code><a class="hash-link" aria-label="Direct link to yn0048---automerge_success" title="Direct link to yn0048---automerge_success" href="error-codes.html#yn0048---automerge_success">​</a>
</h2> <p>This informational message is emitted when Git conflict tokens were found within the <code>yarn.lock</code> file but were automatically fixed by Yarn. There's nothing else to do, everything should work out of the box!</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0049---automerge_required">YN0049 - <code>AUTOMERGE_REQUIRED</code><a class="hash-link" aria-label="Direct link to yn0049---automerge_required" title="Direct link to yn0049---automerge_required" href="error-codes.html#yn0049---automerge_required">​</a>
</h2> <p>This informational message is emitted when Git conflict tokens are found within the <code>yarn.lock</code> file. Yarn will then try to automatically resolve the conflict by following its internal heuristic.</p> <p>The automerge logic is pretty simple: it will take the lockfile from the pulled branch, modify it by adding the information from the local branch, and run <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Install the project dependencies
" href="../cli/install.html"><span class="token_Ye2a" data-type="path">install</span></a></code></span> again to fix anything that might have been lost in the process.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0050---deprecated_cli_settings">YN0050 - <code>DEPRECATED_CLI_SETTINGS</code><a class="hash-link" aria-label="Direct link to yn0050---deprecated_cli_settings" title="Direct link to yn0050---deprecated_cli_settings" href="error-codes.html#yn0050---deprecated_cli_settings">​</a>
</h2> <p>This error is triggered when passing options to a CLI command through its arguments (for example <code>--cache-folder</code>).</p> <p>Starting from the v2, this isn't supported anymore. The reason for this is that we've consolidated all of our configuration inside a single store that can be defined from a yarnrc file. This guarantees that all your commands run inside the same environments (which previously wasn't the case depending on whether you were using <code>--cache-folder</code> on all your commands or just the install). CLI options will now only be used to control the <em>one-time-behaviors</em> of a particular command (like <code>--verbose</code>).</p> <p><strong>Special note for Netlify users:</strong> Netlify currently <a href="https://github.com/netlify/build-image/blob/f9c7f9a87c10314e4d65b121d45d68dc976817a2/run-build-functions.sh#L109" target="_blank" rel="noopener noreferrer">automatically passes</a> the <code>--cache-folder</code> option to Yarn, and you cannot disable it. For this reason we decided to make it a warning rather than an error when we detect that Yarn is running on Netlify (we still ignore the flag). We suggest upvoting <a href="https://github.com/netlify/build-image/issues/319" target="_blank" rel="noopener noreferrer">the relevant issue</a> on their repository, as we're likely to remove this special case in a future major release.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0059---invalid_range_peer_dependency">YN0059 - <code>INVALID_RANGE_PEER_DEPENDENCY</code><a class="hash-link" aria-label="Direct link to yn0059---invalid_range_peer_dependency" title="Direct link to yn0059---invalid_range_peer_dependency" href="error-codes.html#yn0059---invalid_range_peer_dependency">​</a>
</h2> <p>A package requests a peer dependency, but the range provided is not a valid semver range. It is not possible to ensure the provided package meets the peer dependency request. The range must be fixed in order for the warning to go away. This will not prevent resolution, but may leave the system in an incorrect state.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0060---incompatible_peer_dependency">YN0060 - <code>INCOMPATIBLE_PEER_DEPENDENCY</code><a class="hash-link" aria-label="Direct link to yn0060---incompatible_peer_dependency" title="Direct link to yn0060---incompatible_peer_dependency" href="error-codes.html#yn0060---incompatible_peer_dependency">​</a>
</h2> <p>A package requests a peer dependency, but its parent in the dependency tree provides a version that does not satisfy the peer dependency's range. The parent should be altered to provide a valid version or the peer dependency range updated. This will not prevent resolution, but may leave the system in an incorrect state.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0061---deprecated_package">YN0061 - <code>DEPRECATED_PACKAGE</code><a class="hash-link" aria-label="Direct link to yn0061---deprecated_package" title="Direct link to yn0061---deprecated_package" href="error-codes.html#yn0061---deprecated_package">​</a>
</h2> <p>A package is marked as deprecated by the publisher. Avoid using it, use the alternative provided in the deprecation message instead.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0062---incompatible_os">YN0062 - <code>INCOMPATIBLE_OS</code><a class="hash-link" aria-label="Direct link to yn0062---incompatible_os" title="Direct link to yn0062---incompatible_os" href="error-codes.html#yn0062---incompatible_os">​</a>
</h2> <blockquote> <p><strong>Removed:</strong> Replaced by <a href="error-codes.html#yn0076---incompatible_architecture"><code>INCOMPATIBLE_ARCHITECTURE</code></a>.</p> </blockquote> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0063---incompatible_cpu">YN0063 - <code>INCOMPATIBLE_CPU</code><a class="hash-link" aria-label="Direct link to yn0063---incompatible_cpu" title="Direct link to yn0063---incompatible_cpu" href="error-codes.html#yn0063---incompatible_cpu">​</a>
</h2> <blockquote> <p><strong>Removed:</strong> Replaced by <a href="error-codes.html#yn0076---incompatible_architecture"><code>INCOMPATIBLE_ARCHITECTURE</code></a>.</p> </blockquote> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0068---unused_package_extension">YN0068 - <code>UNUSED_PACKAGE_EXTENSION</code><a class="hash-link" aria-label="Direct link to yn0068---unused_package_extension" title="Direct link to yn0068---unused_package_extension" href="error-codes.html#yn0068---unused_package_extension">​</a>
</h2> <p>A packageExtension is detected by Yarn as being unused, which means that the selector doesn't match any of the installed packages.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0069---redundant_package_extension">YN0069 - <code>REDUNDANT_PACKAGE_EXTENSION</code><a class="hash-link" aria-label="Direct link to yn0069---redundant_package_extension" title="Direct link to yn0069---redundant_package_extension" href="error-codes.html#yn0069---redundant_package_extension">​</a>
</h2> <p>A packageExtension is detected by Yarn as being unneeded, which means that the selected packages have the same behavior with and without the extension.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0071---nm_cant_install_external_soft_link">YN0071 - <code>NM_CANT_INSTALL_EXTERNAL_SOFT_LINK</code><a class="hash-link" aria-label="Direct link to yn0071---nm_cant_install_external_soft_link" title="Direct link to yn0071---nm_cant_install_external_soft_link" href="error-codes.html#yn0071---nm_cant_install_external_soft_link">​</a>
</h2> <p>An external soft link (portal) cannot be installed, because incompatible version of a dependency exists in the parent package. This prevents portal representation for node_modules installs without a need to write files into portal's target directory, which is forbidden for security reasons.</p> <p><strong>Workarounds</strong> If the ranges for conflicting dependencies overlap between portal target and portal parent, the workaround is to use <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Deduplicate dependencies with overlapping ranges
" href="../cli/dedupe.html"><span class="token_Ye2a" data-type="path">dedupe</span></a> <span class="token_Ye2a" data-type="positional">foo</span></code></span> (where <code>foo</code> is the conflicting dependency name) to upgrade the conflicting dependencies to the highest available versions, if <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Deduplicate dependencies with overlapping ranges
" href="../cli/dedupe.html"><span class="token_Ye2a" data-type="path">dedupe</span></a></code></span> is used without arguments, all the dependencies across the project will be upgraded to the highest versions within their ranges in <code>package.json</code>. Another alternative is to use <code>link:</code> protocol instead of <code>portal:</code> and install dependencies inside the target directory explicitly.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0072---nm_preserve_symlinks_required">YN0072 - <code>NM_PRESERVE_SYMLINKS_REQUIRED</code><a class="hash-link" aria-label="Direct link to yn0072---nm_preserve_symlinks_required" title="Direct link to yn0072---nm_preserve_symlinks_required" href="error-codes.html#yn0072---nm_preserve_symlinks_required">​</a>
</h2> <p>A portal dependency with subdependencies is used in the project. <code>--preserve-symlinks</code> Node option must be used to start the application in order for portal dependency to find its subdependencies and peer dependencies.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0074---nm_hardlinks_mode_downgraded">YN0074 - <code>NM_HARDLINKS_MODE_DOWNGRADED</code><a class="hash-link" aria-label="Direct link to yn0074---nm_hardlinks_mode_downgraded" title="Direct link to yn0074---nm_hardlinks_mode_downgraded" href="error-codes.html#yn0074---nm_hardlinks_mode_downgraded">​</a>
</h2> <p><code data-tooltip-id="tooltip" data-tooltip-content="Define how to copy files to their target destination."><a class="key_FEvO" href="../configuration/yarnrc.html#nmMode">nmMode</a></code> has been downgraded to <code>hardlinks-local</code> due to global cache and install folder being on different devices. Consider changing <code data-tooltip-id="tooltip" data-tooltip-content="Path where all files global to the system will be stored."><a class="key_FEvO" href="../configuration/yarnrc.html#globalFolder">globalFolder</a></code> setting and place the global cache on the same device as your project, if you want <code>hardlinks-global</code> to take effect.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0075---prolog_instantiation_error">YN0075 - <code>PROLOG_INSTANTIATION_ERROR</code><a class="hash-link" aria-label="Direct link to yn0075---prolog_instantiation_error" title="Direct link to yn0075---prolog_instantiation_error" href="error-codes.html#yn0075---prolog_instantiation_error">​</a>
</h2> <p>This error appears when a Prolog predicate is called with an invalid signature. Specifically, it means that some of the predicate parameters are non-instantiated (ie have no defined value), when the predicate would expect some. This doesn't mean that you need to hardcode a value, just that you need to assign one before calling the predicate. In the case of the <code>WorkspaceCwd</code> parameter from most of the Yarn predicates, it means that instead of calling:</p> <div class="codeBlockContainer_EXcq theme-code-block"><div class="codeBlockContent_gO9Y">
<pre tabindex="0" class="prism-code language-text codeBlock_itEV thin-scrollbar" data-language="text">workspace_field(WorkspaceCwd, 'name', _).</pre>

</div></div> <p>You would also use the <code>workspace/1</code> predicate to let Prolog "fill" the <code>WorkspaceCwd</code> parameter prior to using it in <code>workspace_field/3</code>:</p> <div class="codeBlockContainer_EXcq theme-code-block"><div class="codeBlockContent_gO9Y">
<pre tabindex="0" class="prism-code language-text codeBlock_itEV thin-scrollbar" data-language="text">workspace(WorkspaceCwd), workspace_field(WorkspaceCwd, 'name', _).</pre>

</div></div> <p>For more information about the parameters that must be instantiated when calling the predicate reported by the error message, consult the <a href="../features/constraints.html#query-predicate">dedicated page</a> from our documentation.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0076---incompatible_architecture">YN0076 - <code>INCOMPATIBLE_ARCHITECTURE</code><a class="hash-link" aria-label="Direct link to yn0076---incompatible_architecture" title="Direct link to yn0076---incompatible_architecture" href="error-codes.html#yn0076---incompatible_architecture">​</a>
</h2> <p>A package is specified in its manifest (through the <a href="../configuration/manifest.html#os"><code data-tooltip-id="tooltip" data-tooltip-content="Set of platforms on which this package works."><span class="key_FEvO">os</span></code></a> / <a href="../configuration/manifest.html#cpu"><code data-tooltip-id="tooltip" data-tooltip-content="Set of CPU architectures on which this package works."><span class="key_FEvO">cpu</span></code></a> / <a href="../configuration/manifest.html#libc"><code data-tooltip-id="tooltip" data-tooltip-content="Set of C standard libraries on which this package depends."><span class="key_FEvO">libc</span></code></a> fields) as being incompatible with the system architecture. It will not be fetched, linked, and its postinstall scripts will not run on this system.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0077---ghost_architecture">YN0077 - <code>GHOST_ARCHITECTURE</code><a class="hash-link" aria-label="Direct link to yn0077---ghost_architecture" title="Direct link to yn0077---ghost_architecture" href="error-codes.html#yn0077---ghost_architecture">​</a>
</h2> <p>Some native packages may be excluded from the install if they signal they don't support the systems the project is intended for. This detection is typically based on your current system parameters, but it can be configured using the <a href="../configuration/yarnrc.html#supportedArchitectures"><code data-tooltip-id="tooltip" data-tooltip-content="Systems for which Yarn should install packages."><span class="key_FEvO">supportedArchitectures</span></code> config option</a>. If your os or cpu are missing from this list, Yarn will skip the packages and raise a warning.</p> <p>Note that all fields from <code data-tooltip-id="tooltip" data-tooltip-content="Systems for which Yarn should install packages."><a class="key_FEvO" href="../configuration/yarnrc.html#supportedArchitectures">supportedArchitectures</a></code> default to <code>current</code>, which is a dynamic value depending on your local parameters. For instance, if you wish to support "my current os, whatever it is, plus linux", you can set <code data-tooltip-id="tooltip" data-tooltip-content="List of operating systems to cover."><a class="key_FEvO" href="../configuration/yarnrc.html#supportedArchitectures.os">supportedArchitectures.os</a></code> to <code>["current", "linux"]</code>.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0078---resolution_mismatch">YN0078 - <code>RESOLUTION_MISMATCH</code><a class="hash-link" aria-label="Direct link to yn0078---resolution_mismatch" title="Direct link to yn0078---resolution_mismatch" href="error-codes.html#yn0078---resolution_mismatch">​</a>
</h2> <p>Starting from Yarn 4, Yarn will automatically enable the <code>--check-resolutions</code> flag on CI when it detects the current environment is a pull request. Under this mode, Yarn will check that the lockfile resolutions are consistent with what the initial range is. For example, given an initial dependency of <code>foo@npm:^1.0.0</code>:</p> <ul> <li>
<code>foo@npm:1.2.0</code> is a valid resolution</li> <li>
<code>foo@npm:2.0.0</code> isn't a valid resolution, because it doesn't match the expected semver range</li> <li>
<code>bar@npm:1.2.0</code> isn't a valid resolution either, because the name doesn't match</li> </ul> <p>This error should never trigger under normal circumstances, as Yarn should always generate satisfying resolutions given a dependency. If you hit it nonetheless, it may be either of two things:</p> <ul> <li> <p>Yarn has a bug. It may happen! Review the mismatch to be sure and, in case you have a doubt, ping us on Discord and we'll tell you whether it's something to worry about (before doing that, take a quick look at our <a href="https://github.com/yarnpkg/berry/issues?q=is%3Aissue+is%3Aopen+YN0078" target="_blank" rel="noopener noreferrer">repository issues</a> in case someone reported the same behaviour).</p> </li> <li> <p>Or you might have someone doing strange things on your lockfile. It might be a mistake (for example someone manually modifying a lockfile for debug but forgetting to revert the changes), or a problem (for example a malicious users trying to perform some sort of <a href="https://en.wikipedia.org/wiki/Supply_chain_attack" target="_blank" rel="noopener noreferrer">supply chain attack</a>).</p> </li> </ul> <p>If the use case appears legit (for example if the bug comes from Yarn), you can bypass the check on PRs by adding a <code>--no-check-resolutions</code> flag to your <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Install the project dependencies
" href="../cli/install.html"><span class="token_Ye2a" data-type="path">install</span></a></code></span> command. But be careful: this is a security feature; disabling it may have consequences.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0080---network_disabled">YN0080 - <code>NETWORK_DISABLED</code><a class="hash-link" aria-label="Direct link to yn0080---network_disabled" title="Direct link to yn0080---network_disabled" href="error-codes.html#yn0080---network_disabled">​</a>
</h2> <p>The <code data-tooltip-id="tooltip" data-tooltip-content="Define whether remote network requests are allowed or not."><a class="key_FEvO" href="../configuration/yarnrc.html#enableNetwork">enableNetwork</a></code> flag is set to <code>false</code>, preventing any request to be made.</p> <p>Note that the Yarn configuration allows <a href="../configuration/yarnrc.html#enableNetwork"><code data-tooltip-id="tooltip" data-tooltip-content="Define whether remote network requests are allowed or not."><span class="key_FEvO">enableNetwork</span></code></a> to be set on a per-registry basis via <code data-tooltip-id="tooltip" data-tooltip-content="Per-registry configurations."><a class="key_FEvO" href="../configuration/yarnrc.html#npmRegistries">npmRegistries</a></code>.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0081---network_unsafe_http">YN0081 - <code>NETWORK_UNSAFE_HTTP</code><a class="hash-link" aria-label="Direct link to yn0081---network_unsafe_http" title="Direct link to yn0081---network_unsafe_http" href="error-codes.html#yn0081---network_unsafe_http">​</a>
</h2> <p>Yarn will by default refuse to perform http (non-https) queries to protect you against accidental man-in-the-middle attacks.</p> <p>To bypass this protection, add the specified hostname to <a href="../configuration/yarnrc.html#unsafeHttpWhitelist"><code data-tooltip-id="tooltip" data-tooltip-content="Array of hostname glob patterns for which using the HTTP protocol is allowed."><span class="key_FEvO">unsafeHttpWhitelist</span></code></a>.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0082---resolution_failed">YN0082 - <code>RESOLUTION_FAILED</code><a class="hash-link" aria-label="Direct link to yn0082---resolution_failed" title="Direct link to yn0082---resolution_failed" href="error-codes.html#yn0082---resolution_failed">​</a>
</h2> <p>Yarn failed to locate a package version that could satisfy the requested range. This usually happens with semver ranges that target versions not published yet (for example <code>^1.0.0</code> when the latest version is <code>0.9.0</code>), but can be also caused by a couple of other reasons:</p> <ul> <li> <p>The registry may not have been set properly (so Yarn is querying the public npm registry instead of your internal one)</p> </li> <li> <p>The version may have been unpublished (although this shouldn't be possible for the public registry)</p> </li> </ul> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0083---automerge_git_error">YN0083 - <code>AUTOMERGE_GIT_ERROR</code><a class="hash-link" aria-label="Direct link to yn0083---automerge_git_error" title="Direct link to yn0083---automerge_git_error" href="error-codes.html#yn0083---automerge_git_error">​</a>
</h2> <p>When autofixing merge conflicts, Yarn needs to know what are the two lockfile versions it must merge together. To do that, it'll run <code>git rev-parse MERGE_HEAD HEAD</code> and/or <code>git rev-parse REBASE_HEAD HEAD</code>, depending on the situation. If both of those commands fail, the merge cannot succeed.</p> <p>This may happen if someone accidentally committed the lockfile without first resolving the merge conflicts - should that happen, you'll need to revert the lockfile to an earlier working version and run <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Install the project dependencies
" href="../cli/install.html"><span class="token_Ye2a" data-type="path">install</span></a></code></span>.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0085---updated_resolution_record">YN0085 - <code>UPDATED_RESOLUTION_RECORD</code><a class="hash-link" aria-label="Direct link to yn0085---updated_resolution_record" title="Direct link to yn0085---updated_resolution_record" href="error-codes.html#yn0085---updated_resolution_record">​</a>
</h2> <p>This message is printed when a lockfile entry is added or removed from a project.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0086---explain_peer_dependencies_cta">YN0086 - <code>EXPLAIN_PEER_DEPENDENCIES_CTA</code><a class="hash-link" aria-label="Direct link to yn0086---explain_peer_dependencies_cta" title="Direct link to yn0086---explain_peer_dependencies_cta" href="error-codes.html#yn0086---explain_peer_dependencies_cta">​</a>
</h2> <p>Peer dependencies are a little complex, and debugging them may require a lot of information. Since Yarn tries its best to keep messages on a single line, we provide a <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Explain a set of peer requirements
" href="../cli/explain/peer-requirements.html"><span class="token_Ye2a" data-type="path">explain</span> <span class="token_Ye2a" data-type="path">peer-requirements</span></a></code></span> command that goes into much more details than what we show on regular installs.</p> <p>To use it, simply pass it the <code>p</code>-prefixed code provided in the original peer resolution error message:</p>  <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0087---migration_success">YN0087 - <code>MIGRATION_SUCCESS</code><a class="hash-link" aria-label="Direct link to yn0087---migration_success" title="Direct link to yn0087---migration_success" href="error-codes.html#yn0087---migration_success">​</a>
</h2> <p>When migrating from a major version to the next, some default values may change. When that's the case, Yarn will attempt to temporarily keep the old default by pinning their values in your configuration settings.</p> <p>To see the exact changes applied when this message appears, check the content of the <code>.yarnrc.yml</code> file and any other file that may appear modified in your repository checkout.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0088---version_notice">YN0088 - <code>VERSION_NOTICE</code><a class="hash-link" aria-label="Direct link to yn0088---version_notice" title="Direct link to yn0088---version_notice" href="error-codes.html#yn0088---version_notice">​</a>
</h2> <p>On local machines, Yarn will periodically check whether new versions are available. Should one be, an informational message will be printed once, then silenced until the next day.</p> <p>You don't have to upgrade if you don't wish to - but keeping Yarn up-to-date is generally a good idea, as they tend to often come with a significant amount of performance improvements, bugfixes, and new features.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0089---tips_notice">YN0089 - <code>TIPS_NOTICE</code><a class="hash-link" aria-label="Direct link to yn0089---tips_notice" title="Direct link to yn0089---tips_notice" href="error-codes.html#yn0089---tips_notice">​</a>
</h2> <p>Our research showed that even our power users aren't always aware of some of the less obvious features in Yarn. To improve discoverability, on local machines, Yarn will display every day a tip about some of the nuggets it contains. Perhaps one of them will help you improve your infrastructure someday?</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="yn0090---offline_mode_enabled">YN0090 - <code>OFFLINE_MODE_ENABLED</code><a class="hash-link" aria-label="Direct link to yn0090---offline_mode_enabled" title="Direct link to yn0090---offline_mode_enabled" href="error-codes.html#yn0090---offline_mode_enabled">​</a>
</h2> <p>When enabled, the <code data-tooltip-id="tooltip" data-tooltip-content="Define whether Yarn should exclusively read package metadata from its cache"><a class="key_FEvO" href="../configuration/yarnrc.html#enableOfflineMode">enableOfflineMode</a></code> flag tells Yarn to ignore remote registries and only pull data from its internal caches. This is a handy mode when working from within network-constrained environments such as planes or trains.</p> <p>To leave the offline work mode, check how it got enabled by running <span class="inline_hdsZ"><code><span class="token_Ye2a" data-type="binary">yarn</span> <a class="path_tCL7" data-tooltip-id="tooltip" data-tooltip-content="Display the current configuration
" href="../cli/config.html"><span class="token_Ye2a" data-type="path">config</span></a> <span class="token_Ye2a" data-type="dash">--</span><span class="token_Ye2a" data-type="option">why</span></code></span>. If <code>&lt;environment&gt;</code>, run <code>unset YARN_ENABLE_OFFLINE_MODE</code> in your terminal. Otherwise, remove the <code data-tooltip-id="tooltip" data-tooltip-content="Define whether Yarn should exclusively read package metadata from its cache"><a class="key_FEvO" href="../configuration/yarnrc.html#enableOfflineMode">enableOfflineMode</a></code> flag from the relevant <code>.yarnrc.yml</code> files.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016&ndash;present Yarn Contributors<br>Licensed under the BSD License.<br>
    <a href="https://yarnpkg.com/advanced/error-codes" class="_attribution-link">https://yarnpkg.com/advanced/error-codes</a>
  </p>
</div>
