<header><h1>yarn workspaces foreach</h1></header><div class="subtitle"><p>Run a command on all workspaces.</p></div> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="usage">Usage<a class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage" href="foreach.html#usage">​</a>
</h2>  <h2 class="anchor anchorWithStickyNavbar_ATBP" id="examples">Examples<a class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples" href="foreach.html#examples">​</a>
</h2> <p>Publish all packages :</p>  <p>Run the build script on all descendant packages :</p>  <p>Run the build script on current and all descendant packages in parallel, building package dependencies first :</p>  <p>Run the build script on several packages and all their dependencies, building dependencies first :</p>  <h2 class="anchor anchorWithStickyNavbar_ATBP" id="details">Details<a class="hash-link" aria-label="Direct link to Details" title="Direct link to Details" href="foreach.html#details">​</a>
</h2> <p>This command will run a given sub-command on current and all its descendant workspaces. Various flags can alter the exact behavior of the command:</p> <ul> <li> <p>If <code>-p,--parallel</code> is set, the commands will be ran in parallel; they'll by default be limited to a number of parallel tasks roughly equal to half your core number, but that can be overridden via <code>-j,--jobs</code>, or disabled by setting <code>-j unlimited</code>.</p> </li> <li> <p>If <code>-p,--parallel</code> and <code>-i,--interlaced</code> are both set, Yarn will print the lines from the output as it receives them. If <code>-i,--interlaced</code> wasn't set, it would instead buffer the output from each process and print the resulting buffers only after their source processes have exited.</p> </li> <li> <p>If <code>-t,--topological</code> is set, Yarn will only run the command after all workspaces that it depends on through the <code data-tooltip-id="tooltip" data-tooltip-content="Set of dependencies that must be made available to the current package in order for it to work properly."><a class="key_FEvO" href="../../configuration/manifest.html#dependencies">dependencies</a></code> field have successfully finished executing. If <code>--topological-dev</code> is set, both the <code data-tooltip-id="tooltip" data-tooltip-content="Set of dependencies that must be made available to the current package in order for it to work properly."><a class="key_FEvO" href="../../configuration/manifest.html#dependencies">dependencies</a></code> and <code data-tooltip-id="tooltip" data-tooltip-content="Set of dependencies that must be made available to the current package in order for it to work properly as a workspace."><a class="key_FEvO" href="../../configuration/manifest.html#devDependencies">devDependencies</a></code> fields will be considered when figuring out the wait points.</p> </li> <li> <p>If <code>-A,--all</code> is set, Yarn will run the command on all the workspaces of a project.</p> </li> <li> <p>If <code>-R,--recursive</code> is set, Yarn will find workspaces to run the command on by recursively evaluating <code data-tooltip-id="tooltip" data-tooltip-content="Set of dependencies that must be made available to the current package in order for it to work properly."><a class="key_FEvO" href="../../configuration/manifest.html#dependencies">dependencies</a></code> and <code data-tooltip-id="tooltip" data-tooltip-content="Set of dependencies that must be made available to the current package in order for it to work properly as a workspace."><a class="key_FEvO" href="../../configuration/manifest.html#devDependencies">devDependencies</a></code> fields, instead of looking at the <code data-tooltip-id="tooltip" data-tooltip-content="Array of folder glob patterns referencing the workspaces of the project."><a class="key_FEvO" href="../../configuration/manifest.html#workspaces">workspaces</a></code> fields.</p> </li> <li> <p>If <code>-W,--worktree</code> is set, Yarn will find workspaces to run the command on by looking at the current worktree.</p> </li> <li> <p>If <code>--from</code> is set, Yarn will use the packages matching the 'from' glob as the starting point for any recursive search.</p> </li> <li> <p>If <code>--since</code> is set, Yarn will only run the command on workspaces that have been modified since the specified ref. By default Yarn will use the refs specified by the <code data-tooltip-id="tooltip" data-tooltip-content="List of git refs against which Yarn will compare your branch when it needs to detect changes."><a class="key_FEvO" href="../../configuration/yarnrc.html#changesetBaseRefs">changesetBaseRefs</a></code> configuration option.</p> </li> <li> <p>If <code>--dry-run</code> is set, Yarn will explain what it would do without actually doing anything.</p> </li> <li> <p>The command may apply to only some workspaces through the use of <code>--include</code> which acts as a whitelist. The <code>--exclude</code> flag will do the opposite and will be a list of packages that mustn't execute the script. Both flags accept glob patterns (if valid Idents and supported by <a href="https://github.com/micromatch/micromatch" target="_blank" rel="noopener noreferrer">micromatch</a>). Make sure to escape the patterns, to prevent your own shell from trying to expand them.</p> </li> </ul> <p>The <code>-v,--verbose</code> flag can be passed up to twice: once to prefix output lines with the originating workspace's name, and again to include start/finish/timing log lines. Maximum verbosity is enabled by default in terminal environments.</p> <p>If the command is <code>run</code> and the script being run does not exist the child workspace will be skipped without error.</p> <h2 class="anchor anchorWithStickyNavbar_ATBP" id="options">Options<a class="hash-link" aria-label="Direct link to Options" title="Direct link to Options" href="foreach.html#options">​</a>
</h2> <table>
<thead><tr>
<th>Definition</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><h4 id="options-from%20%230" class="header-code"><code class="language-text">--from #0</code></h4></td>
<td>An array of glob pattern idents or paths from which to base any recursion</td>
</tr>
<tr>
<td><h4 id="options-A%2C-all" class="header-code"><code class="language-text">-A,--all</code></h4></td>
<td>Run the command on all workspaces of a project</td>
</tr>
<tr>
<td><h4 id="options-R%2C-recursive" class="header-code"><code class="language-text">-R,--recursive</code></h4></td>
<td>Run the command on the current workspace and all of its recursive dependencies</td>
</tr>
<tr>
<td><h4 id="options-W%2C-worktree" class="header-code"><code class="language-text">-W,--worktree</code></h4></td>
<td>Run the command on all workspaces of the current worktree</td>
</tr>
<tr>
<td><h4 id="options-v%2C-verbose" class="header-code"><code class="language-text">-v,--verbose</code></h4></td>
<td>Increase level of logging verbosity up to 2 times</td>
</tr>
<tr>
<td><h4 id="options-p%2C-parallel" class="header-code"><code class="language-text">-p,--parallel</code></h4></td>
<td>Run the commands in parallel</td>
</tr>
<tr>
<td><h4 id="options-i%2C-interlaced" class="header-code"><code class="language-text">-i,--interlaced</code></h4></td>
<td>Print the output of commands in real-time instead of buffering it</td>
</tr>
<tr>
<td><h4 id="options-j%2C-jobs%20%230" class="header-code"><code class="language-text">-j,--jobs #0</code></h4></td>
<td>The maximum number of parallel tasks that the execution will be limited to; or <code>unlimited</code>
</td>
</tr>
<tr>
<td><h4 id="options-t%2C-topological" class="header-code"><code class="language-text">-t,--topological</code></h4></td>
<td>Run the command after all workspaces it depends on (regular) have finished</td>
</tr>
<tr>
<td><h4 id="options-topological-dev" class="header-code"><code class="language-text">--topological-dev</code></h4></td>
<td>Run the command after all workspaces it depends on (regular + dev) have finished</td>
</tr>
<tr>
<td><h4 id="options-include%20%230" class="header-code"><code class="language-text">--include #0</code></h4></td>
<td>An array of glob pattern idents or paths; only matching workspaces will be traversed</td>
</tr>
<tr>
<td><h4 id="options-exclude%20%230" class="header-code"><code class="language-text">--exclude #0</code></h4></td>
<td>An array of glob pattern idents or paths; matching workspaces won't be traversed</td>
</tr>
<tr>
<td><h4 id="options-no-private" class="header-code"><code class="language-text">--no-private</code></h4></td>
<td>Avoid running the command on private workspaces</td>
</tr>
<tr>
<td><h4 id="options-since" class="header-code"><code class="language-text">--since</code></h4></td>
<td>Only include workspaces that have been changed since the specified ref.</td>
</tr>
<tr>
<td><h4 id="options-n%2C-dry-run" class="header-code"><code class="language-text">-n,--dry-run</code></h4></td>
<td>Print the commands that would be run, without actually running them</td>
</tr>
</tbody>
</table><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016&ndash;present Yarn Contributors<br>Licensed under the BSD License.<br>
    <a href="https://yarnpkg.com/cli/workspaces/foreach" class="_attribution-link">https://yarnpkg.com/cli/workspaces/foreach</a>
  </p>
</div>
