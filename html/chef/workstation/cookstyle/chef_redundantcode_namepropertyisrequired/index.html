<div id="col-content" data-swiftype-index="true"> <h1 id="namepropertyisrequired">NamePropertyIsRequired</h1>  <div class="prose"> <p> <a href="../cops/index.html">All Cookstyle Cops</a> </p> <br> <p> The department is: <code>Chef/RedundantCode</code> </p> <p> The full name of the cop is: <code>Chef/RedundantCode/NamePropertyIsRequired</code> </p> <br> 
<table style="width:80%"> <tr> <th>Enabled by default</th> <th>Supports autocorrection</th> <th>Target Chef Version</th> </tr> <tr> <td style="text-align:center">Enabled</td> <td style="text-align:center">No</td> <td style="text-align:center">All Versions</td> </tr> </table> 
<p>When using properties in a custom resource you shouldn’t set a property to be both required and a name_property. Name properties are a way to optionally override the name given to the resource block in cookbook code. In your resource code you use the name_property and if the user doesn’t pass in anything to that property its value will be populated with resource block’s name. This allows users to provide more friendly resource names for logging that give additional context on the change being made.</p> <p>How about a nice example! Here we have a resource called ntp_config that has a name_property of config_file. All throughout the code of this resource we’d use new_resource.config_file when referencing the path to the config.</p> <p>We can use a friendly name for the block and specific a value to config_file ntp_config ‘Configure the main config file’ do config_file ‘/etc/ntp/ntp.conf’ action :create end</p> <p>We can also just set the config path as the resource block and Chef will make sure to pass this in as new_resource.config_file as well. ntp_config ‘/etc/ntp/ntp.conf’ do action :create end</p> <p>The core tenant of the name property feature is that these properties are optional and making them required effectively turns off the functionality provided by name properties. If the goal is to always require the user to pass the config_file property then it should just be made a required property and not a name_property.</p> <h3 id="examples">Examples</h3> 
<h4 id="incorrect">incorrect</h4> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">property <span style="color:#517918">:config_file</span>, <span style="color:#007020">String</span>, <span style="color:#517918">required</span>: <span style="color:#007020">true</span>, <span style="color:#517918">name_property</span>: <span style="color:#007020">true</span>
attribute <span style="color:#517918">:config_file</span>, <span style="color:#007020">String</span>, <span style="color:#517918">required</span>: <span style="color:#007020">true</span>, <span style="color:#517918">name_attribute</span>: <span style="color:#007020">true</span>
</code></pre></div>
<h4 id="correct">correct</h4> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">property <span style="color:#517918">:config_file</span>, <span style="color:#007020">String</span>, <span style="color:#517918">required</span>: <span style="color:#007020">true</span>
</code></pre></div> <h3 id="configurable-attributes">Configurable attributes</h3> <table style="width:80%"> <tr> <th>Name</th> <th>Default value</th> <th>Configurable values</th> </tr> <tr> <td style="text-align:center">Version Added</td> <td style="text-align:center">5.1.0</td> <td style="text-align:center">String</td> </tr> <td style="text-align:center">Include</td> <td style="text-align:center">
<ul> <li><code>**/resources/*.rb</code></li> <li><code>**/libraries/*.rb</code></li> </ul> </td> <td style="text-align:center">Array</td> </table> </div>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/workstation/cookstyle/chef_redundantcode_namepropertyisrequired/" class="_attribution-link">https://docs.chef.io/workstation/cookstyle/chef_redundantcode_namepropertyisrequired/</a>
  </p>
</div>
