<div id="col-content" data-swiftype-index="true"> <div id="knife-status"><h1>knife status</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/chef-workstation/blob/main/docs-chef-io/content/workstation/knife_status.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Use the <code>knife status</code> subcommand to display a brief summary of the nodes on a Chef Infra Server, including the time of the most recent successful Chef Infra Client run.</p> <h2 id="syntax">Syntax</h2> <p>This subcommand has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">knife status <span style="color:#666">(</span>options<span style="color:#666">)</span>
</code></pre></div>
<h2 id="options">Options</h2> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> Review the list of <a href="../knife_options/index.html">common options</a> available to this (and all) knife subcommands and plugins. </div> </div> <p>This subcommand has the following options:</p> <dl> <dt><code>QUERY</code></dt> <dd> <p>The search query used to identify a list of items on a Chef Infra Server. This option uses the same syntax as the <code>search</code> subcommand.</p> </dd> <dt><code>--hide-by-mins</code></dt> <dd> <p>Hide nodes that have performed a successful Chef Infra Client run within the last specified number of minutes. The number of minutes to hide is provided as an integer, such as <code>--hide-by-mins 10</code>.</p> </dd> <dt>
<code>-l</code>, <code>--long</code>
</dt> <dd> <p>Display all attributes in the output and show the output as JSON.</p> </dd> <dt>
<code>-m</code>, <code>--medium</code>
</dt> <dd> <p>Display normal attributes in the output and to show the output as JSON.</p> </dd> <dt>
<code>-r RUN_LIST</code>, <code>--run-list RUN_LIST</code>
</dt> <dd> <p>A comma-separated list of roles and/or recipes to be applied.</p> </dd> </dl> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> See <a href="../config_rb_optional_settings/index.html">config.rb</a> for more information about how to add certain knife options as settings in the config.rb file. </div> </div> <h2 id="examples">Examples</h2> <p>The following examples show how to use this knife subcommand:</p> <p><strong>View status, include run-lists</strong></p> <p>To include run-lists in the status, enter:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">knife status --run-list
</code></pre></div>
<p>to return something like:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash"><span style="color:#40a070">20</span> hours ago, dev-vm.chisamore.com, ubuntu 10.04, dev-vm.chisamore.com, 10.66.44.126, role<span style="color:#666">[</span>lb<span style="color:#666">]</span>.
<span style="color:#40a070">3</span> hours ago, i-225f954f, ubuntu 10.04, ec2-67-202-63-102.compute-1.amazonaws.com, 67.202.63.102, role<span style="color:#666">[</span>web<span style="color:#666">]</span>.
<span style="color:#40a070">3</span> hours ago, i-a45298c9, ubuntu 10.04, ec2-174-129-127-206.compute-1.amazonaws.com, 174.129.127.206, role<span style="color:#666">[</span>web<span style="color:#666">]</span>.
<span style="color:#40a070">3</span> hours ago, i-5272a43f, ubuntu 10.04, ec2-184-73-9-250.compute-1.amazonaws.com, 184.73.9.250, role<span style="color:#666">[</span>web<span style="color:#666">]</span>.
<span style="color:#40a070">3</span> hours ago, i-226ca64f, ubuntu 10.04, ec2-75-101-240-230.compute-1.amazonaws.com, 75.101.240.230, role<span style="color:#666">[</span>web<span style="color:#666">]</span>.
<span style="color:#40a070">3</span> hours ago, i-f65c969b, ubuntu 10.04, ec2-184-73-60-141.compute-1.amazonaws.com, 184.73.60.141, role<span style="color:#666">[</span>web<span style="color:#666">]</span>.
</code></pre></div>
<p><strong>View status using a time range</strong></p> <p>To show the status of nodes on which Chef Infra Client did not run successfully within the past hour, enter:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">knife status --hide-by-mins <span style="color:#40a070">60</span>
</code></pre></div>
<p>to return something like:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash"><span style="color:#40a070">422492</span> hours ago, runner-1-432.lxc, centos 6.8.
<span style="color:#40a070">27</span> hours ago, union-3-432.lxc, centos 7.3.1611.
</code></pre></div>
<p><strong>View status using a query</strong></p> <p>To show the status of a subset of nodes that are returned by a specific query, enter:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">knife status <span style="color:#4070a0">"role:web"</span> --run-list
</code></pre></div>
<p>to return something like:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash"><span style="color:#40a070">3</span> hours ago, i-225f954f, ubuntu 10.04, ec2-67-202-63-102.compute-1.amazonaws.com, 67.202.63.102, role<span style="color:#666">[</span>web<span style="color:#666">]</span>.
<span style="color:#40a070">3</span> hours ago, i-a45298c9, ubuntu 10.04, ec2-174-129-127-206.compute-1.amazonaws.com, 174.129.127.206, role<span style="color:#666">[</span>web<span style="color:#666">]</span>.
<span style="color:#40a070">3</span> hours ago, i-5272a43f, ubuntu 10.04, ec2-184-73-9-250.compute-1.amazonaws.com, 184.73.9.250, role<span style="color:#666">[</span>web<span style="color:#666">]</span>.
<span style="color:#40a070">3</span> hours ago, i-226ca64f, ubuntu 10.04, ec2-75-101-240-230.compute-1.amazonaws.com, 75.101.240.230, role<span style="color:#666">[</span>web<span style="color:#666">]</span>.
<span style="color:#40a070">3</span> hours ago, i-f65c969b, ubuntu 10.04, ec2-184-73-60-141.compute-1.amazonaws.com, 184.73.60.141, role<span style="color:#666">[</span>web<span style="color:#666">]</span>.
</code></pre></div>
<p><strong>View status for all nodes</strong></p> <p>To view the status of all nodes in the organization, enter:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">knife status
</code></pre></div>
<p>to return something like:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash"><span style="color:#40a070">20</span> hours ago, dev-vm.chisamore.com, ubuntu 10.04, dev-vm.chisamore.com, 10.66.44.126
<span style="color:#40a070">3</span> hours ago, i-225f954f, ubuntu 10.04, ec2-67-202-63-102.compute-1.amazonaws.com, 67.202.63.102
<span style="color:#40a070">3</span> hours ago, i-a45298c9, ubuntu 10.04, ec2-174-129-127-206.compute-1.amazonaws.com, 174.129.127.206
<span style="color:#40a070">3</span> hours ago, i-5272a43f, ubuntu 10.04, ec2-184-73-9-250.compute-1.amazonaws.com, 184.73.9.250
<span style="color:#40a070">3</span> hours ago, i-226ca64f, ubuntu 10.04, ec2-75-101-240-230.compute-1.amazonaws.com, 75.101.240.230
<span style="color:#40a070">3</span> hours ago, i-f65c969b, ubuntu 10.04, ec2-184-73-60-141.compute-1.amazonaws.com, 184.73.60.141
</code></pre></div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/workstation/knife_status/" class="_attribution-link">https://docs.chef.io/workstation/knife_status/</a>
  </p>
</div>
