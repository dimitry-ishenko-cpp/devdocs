<div id="col-content" data-swiftype-index="true"> <div id="plan-quickstart"><h1>Plan Quickstart</h1></div> <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/habitat-sh/habitat/tree/main/components/docs-chef-io/content/habitat/plan_quickstart.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>All plans must have a <code>plan.sh</code> or <code>plan.ps1</code> at the root of the plan context. They may even include both if a package is targeting both Windows and Linux platforms. This file will be used by the <code>hab-plan-build</code> command to build your package. To create a plan, do the following:</p> <ol> <li> <p>If you haven’t done so already, <a href="../install_habitat/index.html">download the <code>hab</code> CLI</a> and install it per the instructions on the download page.</p> </li> <li> <p>Run <code>hab cli setup</code> and follow the instructions in the setup script.</p> </li> <li> <p>The easiest way to create a plan is to use the <code>hab plan init</code> subcommand. This subcommand will create a directory, known as the plan context, that contains your plan file and any runtime hooks and/or templated configuration data.</p> <p>To use <code>hab plan init</code> as part of your project repo, navigate to the root of your project repo and run <code>hab plan init</code>. It will create a new <code>habitat</code> sub-directory with a plan.sh (or plan.ps1 on Windows) based on the name of the parent directory, and include a <code>default.toml</code> file as well as <code>config</code> and <code>hooks</code> directories for you to populate as needed. For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash"><span style="color:#007020">cd</span> /path/to/&lt;reponame&gt;
hab plan init
</code></pre></div>
<p>will result in a new <code>habitat</code> directory located at <code>/path/to/&lt;reponame&gt;/habitat</code>. A plan file will be created and the <code>pkg_name</code> variable will be set to <em>&lt;reponame&gt;</em>. Also, any environment variables that you have previously set (such as <code>HAB_ORIGIN</code>) will be used to populate the respective <code>pkg_*</code> variables.</p> <p>If you want to auto-populate more of the <code>pkg_*</code> variables, you also have the option of setting them when calling <code>hab plan init</code>, as shown in the following example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">env <span style="color:#bb60d5">pkg_svc_user</span><span style="color:#666">=</span>someuser <span style="color:#bb60d5">pkg_deps</span><span style="color:#666">=</span><span style="color:#4070a0">"(core/make core/coreutils)"</span> <span style="color:#4070a0;font-weight:700">\
</span>   <span style="color:#bb60d5">pkg_license</span><span style="color:#666">=</span><span style="color:#4070a0">"('MIT' 'Apache-2.0')"</span> <span style="color:#bb60d5">pkg_bin_dirs</span><span style="color:#666">=</span><span style="color:#4070a0">"(bin sbin)"</span> <span style="color:#4070a0;font-weight:700">\
</span>   <span style="color:#bb60d5">pkg_version</span><span style="color:#666">=</span>1.0.0 <span style="color:#bb60d5">pkg_description</span><span style="color:#666">=</span><span style="color:#4070a0">"foo"</span> <span style="color:#bb60d5">pkg_maintainer</span><span style="color:#666">=</span><span style="color:#4070a0">"you"</span> <span style="color:#4070a0;font-weight:700">\
</span>   hab plan init yourplan
</code></pre></div>
<p>See <a href="../habitat_cli/index.html#hab-plan-init">hab plan init</a> for more information on how to use this subcommand.</p> </li> <li> <p>Now that you have stubbed out your plan file in your plan context, open it and begin modifying it to suit your needs.</p> </li> </ol> <p>When writing a plan, it’s important to understand that you are defining both how the package is built and the actions Chef Habitat will take when the Supervisor starts and manages the child processes in the package. The following sections explain what you need to do for each phase.</p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/habitat/plan_quickstart/" class="_attribution-link">https://docs.chef.io/habitat/plan_quickstart/</a>
  </p>
</div>
