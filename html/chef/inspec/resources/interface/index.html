<div id="col-content" data-swiftype-index="true"> <div id="interface-resource"><h1>interface resource</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/inspec/inspec/tree/main/docs-chef-io/content/inspec/resources/interface.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Use the <code>interface</code> Chef InSpec audit resource to test basic network adapter properties, such as name, status, IP addresses, and link speed (in MB/sec).</p> <ul> <li>On Linux platforms, <code>/sys/class/net/#{iface}</code> is used as source</li> <li>On the Windows platform, the <code>Get-NetAdapter</code> cmdlet is used as source</li> <li>On BSD and MacOS platforms, the <code>ifconfig</code> command is used as source. Link speed may not be available.</li> </ul> <h2 id="availability">Availability</h2> <h3 id="installation">Installation</h3> <p>This resource is distributed along with Chef InSpec itself. You can use it automatically.</p> <h3 id="version">Version</h3> <p>This resource first became available in v1.0.0 of Chef InSpec.</p> <h2 id="syntax">Syntax</h2> <p>An <code>interface</code> resource block declares network interface properties to be tested:</p> <pre class="highlight" data-language="ruby"><code>describe interface('eth0') do
  it { should be_up }
  its('speed') { should eq 1000 }
  its('name') { should eq eth0 }
  its('ipv4_addresses') { should include '10.0.0.5' }
end
</code></pre> <h2 id="properties">Properties</h2> <h3 id="ipv4_address">ipv4_address</h3> <p>Returns the first <code>ipv4_addresses</code> entry as a String. Note: this property is incompatible with ServerSpec, which returns the value including the CIDR range, such as ‘10.0.0.5/32’.</p> <pre class="highlight" data-language="ruby"><code>its('ipv4_address') { should eq '10.0.0.5' }
</code></pre> <h3 id="ipv4_addresses">ipv4_addresses</h3> <p>The <code>ipv4_addresses</code> property returns an Array of IPv4 addresses as Strings. You may then test if the specified address exists on the named network interface:</p> <pre class="highlight" data-language="ruby"><code>its('ipv4_addresses') { should include '127.0.0.1' }
</code></pre> <h3 id="ipv4_addresses_netmask">ipv4_addresses_netmask</h3> <p>The <code>ipv4_addresses_netmask</code> property returns an Array of Strings with each containing the IPv4 address, a slash, and the netmask. You may then test if the specified address and netmask exists on the named network interface:</p> <pre class="highlight" data-language="ruby"><code>its('ipv4_addresses_netmask') { should include '127.0.0.1/255.0.0.0' }
</code></pre> <h3 id="ipv6_address">ipv6_address</h3> <p>Returns the first <code>ipv6_address</code> entry. Note: this property is incompatible with ServerSpec, which returns the value including the CIDR range.</p> <pre class="highlight" data-language="ruby"><code>its('ipv6_address') { should eq '2089:98b::faeb' }
</code></pre> <h3 id="ipv6_addresses">ipv6_addresses</h3> <p>The <code>ipv6_addresses</code> property returns an Array of Strings and tests if the specified address exists on the named network interface:</p> <pre class="highlight" data-language="ruby"><code>its('ipv6_addresses') { should include '::1' }
</code></pre> <h3 id="ipv4_cidrs">ipv4_cidrs</h3> <p>The <code>ipv4_cidrs</code> property returns an Array of Strings and tests if the specified address and netmask combination exists on the named network interface:</p> <pre class="highlight" data-language="ruby"><code>its('ipv4_cidrs') { should include '127.0.0.1/8' }
</code></pre> <h3 id="ipv6_cidrs">ipv6_cidrs</h3> <p>The <code>ipv6_cidrs</code> property returns an Array of Strings and tests if the specified address and netmask combination exists on the named network interface:</p> <pre class="highlight" data-language="ruby"><code>its('ipv6_cidrs') { should include '::1/128' }
</code></pre> <h3 id="name">name</h3> <p>The <code>name</code> property returns the name of the interface:</p> <pre class="highlight" data-language="ruby"><code>its('name') { should eq 'eth0' }
</code></pre> <h3 id="speed">speed</h3> <p>The <code>speed</code> property tests the speed of the network interface, in MB/sec. Note: On BSD and MacOS platforms, this value may be nil, because it difficult to obtain reliably.</p> <pre class="highlight" data-language="ruby"><code>its('speed') { should eq 1000 }
</code></pre> <h2 id="matchers">Matchers</h2> <p>For a full list of available matchers, please visit our <a href="../../matchers/index.html">matchers page</a>.</p> <h3 id="be_up">be_up</h3> <p>The <code>be_up</code> matcher tests if the network interface is available:</p> <pre class="highlight" data-language="ruby"><code>it { should be_up }
</code></pre> <h3 id="exist">exist</h3> <p>The <code>exist</code> matcher tests if the network interface exists:</p> <pre class="highlight" data-language="ruby"><code>it { should exist }
</code></pre> <h3 id="have_an_ipv4_address">have_an_ipv4_address</h3> <p>The <code>have_an_ipv4_address</code> matcher tests if the network interface has any IPv4 addresses assigned:</p> <pre class="highlight" data-language="ruby"><code>it { should have_an_ipv4_address }
</code></pre> <h3 id="have_an_ipv6_address">have_an_ipv6_address</h3> <p>The <code>have_an_ipv6_address</code> matcher tests if the network interface has any IPv6 addresses assigned:</p> <pre class="highlight" data-language="ruby"><code>it { should have_an_ipv6_address }
</code></pre> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/inspec/resources/interface/" class="_attribution-link">https://docs.chef.io/inspec/resources/interface/</a>
  </p>
</div>
