<div id="col-content" data-swiftype-index="true"> <div id="aws_organizations_member-resource"><h1>aws_organizations_member resource</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/inspec/inspec/tree/main/docs-chef-io/content/inspec/resources/aws_organizations_member.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Use the <code>aws_organizations_member</code> InSpec audit resource to test the current AWS Account being used within an organization.</p> <h2 id="syntax">Syntax</h2> <p>An <code>aws_organizations_member</code> resource block tests if the current AWS Account is the Master Account.</p> <p>The <code>master</code> matcher will return <code>true</code> or <code>false</code> accordingly. You may also verify that the <code>master_account_id</code> and <code>master_account_arn</code> properties match known values.</p> <p>If the current AWS Account <em><strong>is</strong></em> the Master Account, you may also access properties of that account.</p> <pre class="highlight" data-language="ruby"><code>describe aws_organizations_member do
    it { should exist }
end
</code></pre> <h2 id="parameters">Parameters</h2> <p>This resource does not expect any parameters.</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> This resource must target AWS Region <code>us-east-1</code>. If another region is specified in your configuration, it will be overwritten at runtime. </div> </div> <h2 id="properties">Properties</h2> <table> <thead> <tr> <th>Property</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>master_account_id</td> <td>The ID of the AWS Organizations Master Account</td> </tr> <tr> <td>master_account_arn</td> <td>The ARN of the AWS Organizations Master Account</td> </tr> </tbody> </table> <p><em><strong>If the current Account is the Master Account, the following properties are also available:</strong></em></p> <table> <thead> <tr> <th>Property</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>account_id</td> <td>The ID of the current Account.</td> </tr> <tr> <td>account_arn</td> <td>The ARN of the current Account.</td> </tr> <tr> <td>account_name</td> <td>The Name of the current Account.</td> </tr> <tr> <td>account_email</td> <td>The Email address associated with the current Account.</td> </tr> </tbody> </table> <h2 id="examples">Examples</h2> <h3 id="ensure-you-are-a-child-account-with-a-certain-id-for-the-top-level-account">Ensure you are a child account with a certain ID for the top level account.</h3> <pre class="highlight" data-language="ruby"><code>describe aws_organizations_member do
  it                       { should_not be_master }
  its('master_account_id') { should cmp '56845218745' }
end
</code></pre> <h3 id="ensure-you-are-the-top-level-account-with-the-right-name-and-email-associated">Ensure you are the top level account, with the right name and email associated.</h3> <pre class="highlight" data-language="ruby"><code>describe aws_organizations_member do
  it                   { should be_master }
  its('account_name')  { should eq 'MyAWSMasterAccount' }
  its('account_email') { should eq 'aws.admin@org.com' }
end
</code></pre> <h2 id="matchers">Matchers</h2> <p>This InSpec audit resource has the following special matchers. For a full list of available matchers, please visit our <a href="../../matchers/index.html">matchers page</a>.</p> <h3 id="be_master">be_master</h3> <p>The <code>be_master</code> matcher tests if the account is a ‘master’ AWS Account.</p> <pre class="highlight" data-language="ruby"><code>it { should_not be_master }
</code></pre> <h3 id="exist">exist</h3> <p>The control will pass if the describe returns at least one result.</p> <pre class="highlight" data-language="ruby"><code>it { should exist }
</code></pre> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/inspec/resources/aws_organizations_member/" class="_attribution-link">https://docs.chef.io/inspec/resources/aws_organizations_member/</a>
  </p>
</div>
