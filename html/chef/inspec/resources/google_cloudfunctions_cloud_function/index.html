<div id="col-content" data-swiftype-index="true"> <div id="google_cloudfunctions_cloud_function-resource"><h1>google_cloudfunctions_cloud_function resource</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/inspec/inspec/tree/main/docs-chef-io/content/inspec/resources/google_cloudfunctions_cloud_function.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <h2 id="syntax">Syntax</h2> <p>A <code>google_cloudfunctions_cloud_function</code> is used to test a Google CloudFunction resource</p> <h2 id="examples">Examples</h2> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">describe google_cloudfunctions_cloud_function(<span style="color:#517918">project</span>: <span style="color:#4070a0">'chef-gcp-inspec'</span>, <span style="color:#517918">location</span>: <span style="color:#4070a0">'europe-west1'</span>, <span style="color:#007020">name</span>: <span style="color:#4070a0">'inspec-gcp-function'</span>) <span style="color:#007020;font-weight:700">do</span>
  it { should exist }
  its(<span style="color:#4070a0">'description'</span>) { should eq <span style="color:#4070a0">'A description of the function'</span> }
  its(<span style="color:#4070a0">'available_memory_mb'</span>) { should eq <span style="color:#4070a0">'128'</span> }
  its(<span style="color:#4070a0">'https_trigger.url'</span>) { should match <span style="color:#235388">/\/inspec-gcp-function$/</span> }
  its(<span style="color:#4070a0">'entry_point'</span>) { should eq <span style="color:#4070a0">'hello'</span> }
  its(<span style="color:#4070a0">'environment_variables'</span>) { should <span style="color:#007020">include</span>(<span style="color:#4070a0">'MY_ENV_VAR'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'val1'</span>) }
<span style="color:#007020;font-weight:700">end</span>

describe google_cloudfunctions_cloud_function(<span style="color:#517918">project</span>: <span style="color:#4070a0">'chef-gcp-inspec'</span>, <span style="color:#517918">location</span>: <span style="color:#4070a0">'europe-west1'</span>, <span style="color:#007020">name</span>: <span style="color:#4070a0">'nonexistent'</span>) <span style="color:#007020;font-weight:700">do</span>
  it { should_not exist }
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h2 id="properties">Properties</h2> <p>Properties that can be accessed from the <code>google_cloudfunctions_cloud_function</code> resource:</p> <dl> <dt><code>name</code></dt> <dd>A user-defined name of the function. Function names must be unique globally and match pattern <code>projects/*/locations/*/functions/*</code>.</dd> <dt><code>description</code></dt> <dd>User-provided description of a function.</dd> <dt><code>status</code></dt> <dd>Status of the function deployment. <p>Possible values:</p> <ul> <li>CLOUD_FUNCTION_STATUS_UNSPECIFIED</li> <li>ACTIVE</li> <li>OFFLINE</li> <li>DEPLOY_IN_PROGRESS</li> <li>DELETE_IN_PROGRESS</li> <li>UNKNOWN</li> </ul> </dd> <dt><code>entry_point</code></dt> <dd>The name of the function (as defined in source code) that will be executed. Defaults to the resource name suffix, if not specified. For backward compatibility, if function with given name is not found, then the system will try to use function named “function”. For Node.js this is name of a function exported by the module specified in source_location.</dd> <dt><code>runtime</code></dt> <dd>The runtime in which the function is going to run. If empty, defaults to Node.js 6.</dd> <dt><code>timeout</code></dt> <dd>The function execution timeout. Execution is considered failed and can be terminated if the function is not completed at the end of the timeout period. Defaults to 60 seconds.</dd> <dt><code>available_memory_mb</code></dt> <dd>The amount of memory in MB available for a function.</dd> <dt><code>service_account_email</code></dt> <dd>The email of the service account for this function.</dd> <dt><code>update_time</code></dt> <dd>The last update timestamp of a Cloud Function</dd> <dt><code>version_id</code></dt> <dd>The version identifier of the Cloud Function. Each deployment attempt results in a new version of a function being created.</dd> <dt><code>labels</code></dt> <dd>A set of key/value label pairs associated with this Cloud Function.</dd> <dt><code>environment_variables</code></dt> <dd>Environment variables that shall be available during function execution.</dd> <dt><code>source_archive_url</code></dt> <dd>The Google Cloud Storage URL, starting with gs://, pointing to the zip archive which contains the function.</dd> <dt><code>source_upload_url</code></dt> <dd>The Google Cloud Storage signed URL used for source uploading.</dd> <dt><code>source_repository</code></dt> <dd>The source repository where a function is hosted. <dl> <dt><code>url</code></dt> <dd>The URL pointing to the hosted repository where the function is defined</dd> <dt><code>deployed_url</code></dt> <dd>The URL pointing to the hosted repository where the function were defined at the time of deployment.</dd> </dl> </dd> <dt><code>https_trigger</code></dt> <dd>An HTTPS endpoint type of source that can be triggered via URL. <dl> <dt><code>url</code></dt> <dd>The deployed url for the function.</dd> </dl> </dd> <dt><code>event_trigger</code></dt> <dd>An HTTPS endpoint type of source that can be triggered via URL. <dl> <dt><code>event_type</code></dt> <dd>The type of event to observe. For example: <code>providers/cloud.storage/eventTypes/object.change</code> and <code>providers/cloud.pubsub/eventTypes/topic.publish</code>.</dd> <dt><code>resource</code></dt> <dd>The resource(s) from which to observe events, for example, <code>projects/_/buckets/myBucket.</code>
</dd> <dt><code>service</code></dt> <dd>The hostname of the service that should be observed.</dd> </dl> </dd> <dt><code>location</code></dt> <dd>The location of this cloud function.</dd> </dl> <h2 id="gcp-permissions">GCP Permissions</h2> <p>Ensure the <a href="https://console.cloud.google.com/apis/library/cloudfunctions.googleapis.com/">Cloud Functions API</a> is enabled for the current project.</p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/inspec/resources/google_cloudfunctions_cloud_function/" class="_attribution-link">https://docs.chef.io/inspec/resources/google_cloudfunctions_cloud_function/</a>
  </p>
</div>
