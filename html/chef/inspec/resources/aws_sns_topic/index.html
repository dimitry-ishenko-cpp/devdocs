<div id="col-content" data-swiftype-index="true"> <div id="aws_sns_topic-resource"><h1>aws_sns_topic resource</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/inspec/inspec/tree/main/docs-chef-io/content/inspec/resources/aws_sns_topic.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Use the <code>aws_sns_topic</code> InSpec audit resource to test properties of a single AWS Simple Notification Service Topic. SNS topics are channels for related events. AWS resources place events in the SNS topic, while other AWS resources subscribe to receive notifications when new events occur.</p> <h2 id="syntax">Syntax</h2> <pre class="highlight" data-language="ruby"><code>describe aws_sns_topic('arn:aws:sns:*::my-topic-name') do
  it { should exist }
end

# You may also use has syntax to pass the ARN
describe aws_sns_topic(arn: 'arn:aws:sns:*::my-topic-name') do
  it { should exist }
end
</code></pre> <h2 id="parameters">Parameters</h2> <h3 id="arn-_required_">arn <em>(required)</em>
</h3> <p>This resource accepts a single parameter, the ARN of the SNS Topic. This can be passed either as a string or as a <code>arn: 'value'</code> key-value entry in a hash.</p> <p>See also the <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-getting-started.html">AWS documentation on SNS</a>.</p> <h2 id="properties">Properties</h2> <table> <thead> <tr> <th>Property</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>confirmed_subscription_count</td> <td>An integer indicating the number of currently active subscriptions.</td> </tr> </tbody> </table> <h2 id="examples">Examples</h2> <h3 id="make-sure-something-is-subscribed-to-the-topic">Make sure something is subscribed to the topic</h3> <pre class="highlight" data-language="ruby"><code>describe aws_sns_topic('arn:aws:sns:*::my-topic-name') do
  its('confirmed_subscription_count') { should_not be_zero}
end
</code></pre> <h2 id="matchers">Matchers</h2> <p>This InSpec audit resource has the following special matchers. For a full list of available matchers, please visit our <a href="../../matchers/index.html">matchers page</a>.</p> <h3 id="exist">exist</h3> <p>The control will pass if the describe returns at least one result.</p> <p>Use <code>should_not</code> to test the entity should not exist.</p> <pre class="highlight" data-language="ruby"><code>describe aws_sns_topic('arn:aws:sns:*::good-news') do
  it { should exist }
end

describe aws_sns_topic('arn:aws:sns:*::bad-news') do
  it { should_not exist }
end
</code></pre> <h2 id="aws-permissions">AWS Permissions</h2> <p>Your <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/intro-structure.html#intro-structure-principal">Principal</a> will need the <code>sns:GetTopicAttributes</code> action with Effect set to Allow.</p> <p>You can find detailed documentation at <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_amazonsns.html">Actions, Resources, and Condition Keys for Amazon SNS</a>.</p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/inspec/resources/aws_sns_topic/" class="_attribution-link">https://docs.chef.io/inspec/resources/aws_sns_topic/</a>
  </p>
</div>
