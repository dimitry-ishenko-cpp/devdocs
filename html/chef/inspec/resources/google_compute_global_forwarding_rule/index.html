<div id="col-content" data-swiftype-index="true"> <div id="google_compute_global_forwarding_rule-resource"><h1>google_compute_global_forwarding_rule resource</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/inspec/inspec/tree/main/docs-chef-io/content/inspec/resources/google_compute_global_forwarding_rule.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <h2 id="syntax">Syntax</h2> <p>A <code>google_compute_global_forwarding_rule</code> is used to test a Google GlobalForwardingRule resource</p> <h2 id="beta-resource">Beta Resource</h2> <p>This resource has beta fields available. To retrieve these fields, include <code>beta: true</code> in the constructor for the resource</p> <h2 id="examples">Examples</h2> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">describe google_compute_global_forwarding_rule(<span style="color:#517918">project</span>: <span style="color:#4070a0">'chef-gcp-inspec'</span>, <span style="color:#007020">name</span>: <span style="color:#4070a0">'inspec-gcp-global-forwarding-rule'</span>) <span style="color:#007020;font-weight:700">do</span>
  it { should exist }
  its(<span style="color:#4070a0">'port_range'</span>) { should eq <span style="color:#4070a0">'80-80'</span> }
  its(<span style="color:#4070a0">'target'</span>) { should  match <span style="color:#235388">/\/inspec-gcp-http-proxy$/</span> }
<span style="color:#007020;font-weight:700">end</span>

describe google_compute_global_forwarding_rule(<span style="color:#517918">project</span>: <span style="color:#4070a0">'chef-gcp-inspec'</span>, <span style="color:#007020">name</span>: <span style="color:#4070a0">'nonexistent'</span>) <span style="color:#007020;font-weight:700">do</span>
  it { should_not exist }
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h2 id="properties">Properties</h2> <p>Properties that can be accessed from the <code>google_compute_global_forwarding_rule</code> resource:</p> <dl> <dt><code>creation_timestamp</code></dt> <dd>Creation timestamp in RFC3339 text format.</dd> <dt><code>description</code></dt> <dd>An optional description of this resource. Provide this property when you create the resource.</dd> <dt><code>id</code></dt> <dd>The unique identifier for the resource.</dd> <dt><code>ip_address</code></dt> <dd>The IP address that this forwarding rule is serving on behalf of. Addresses are restricted based on the forwarding ruleâ€™s load balancing scheme (external or internal) and scope (global or regional). The address must be a global IP for external global forwarding rules. If this field is empty, an ephemeral IPv4 address from the same scope (global) is chosen. Global forwarding rules supports either IPv4 or IPv6. When the load balancing scheme is INTERNAL_SELF_MANAGED, this must be a URL reference to an existing Address resource (internal regional static IP address), with a purpose of GCE_END_POINT and addressType of INTERNAL. An address can be specified either by a literal IP address or a URL reference to an existing Address resource. The following examples are all valid: <ul> <li>100.1.2.3</li> <li><a href="https://www.googleapis.com/compute/v1/projects/project/regions/">https://www.googleapis.com/compute/v1/projects/project/regions/</a></li> <li>region/addresses/address</li> <li>projects/project/regions/region/addresses/address</li> <li>regions/region/addresses/address</li> <li>global/addresses/address</li> <li>address</li> </ul> </dd> <dt><code>ip_protocol</code></dt> <dd>The IP protocol to which this rule applies. When the load balancing scheme is INTERNAL_SELF_MANAGED, only TCP is valid. <p>Possible values:</p> <ul> <li>TCP</li> <li>UDP</li> <li>ESP</li> <li>AH</li> <li>SCTP</li> <li>ICMP</li> </ul> </dd> <dt><code>ip_version</code></dt> <dd>The IP Version that will be used by this global forwarding rule. <p>Possible values:</p> <ul> <li>IPV4</li> <li>IPV6</li> </ul> </dd> <dt><code>labels</code></dt> <dd>(Beta only) Labels to apply to this forwarding rule. A list of key-&gt;value pairs.</dd> <dt><code>label_fingerprint</code></dt> <dd>(Beta only) The fingerprint used for optimistic locking of this resource. Used internally during updates.</dd> <dt><code>load_balancing_scheme</code></dt> <dd>This signifies what the GlobalForwardingRule will be used for. The value of INTERNAL_SELF_MANAGED means that this will be used for Internal Global HTTP(S) LB. The value of EXTERNAL means that this will be used for External Global Load Balancing (HTTP(S) LB, External TCP/UDP LB, SSL Proxy) NOTE: Currently global forwarding rules cannot be used for INTERNAL load balancing. <p>Possible values:</p> <ul> <li>EXTERNAL</li> <li>INTERNAL_SELF_MANAGED</li> </ul> </dd> <dt><code>metadata_filters</code></dt> <dd>Opaque filter criteria used by Loadbalancer to restrict routing configuration to a limited set xDS compliant clients. In their xDS requests to Loadbalancer, xDS clients present node metadata. If a match takes place, the relevant routing configuration is made available to those proxies. For each metadataFilter in this list, if its filterMatchCriteria is set to MATCH_ANY, at least one of the filterLabels must match the corresponding label provided in the metadata. If its filterMatchCriteria is set to MATCH_ALL, then all of its filterLabels must match with corresponding labels in the provided metadata. metadataFilters specified here can be overridden by those specified in the UrlMap that this ForwardingRule references. metadataFilters only applies to Loadbalancers that have their loadBalancingScheme set to INTERNAL_SELF_MANAGED. <dl> <dt><code>filter_match_criteria</code></dt> <dd>Specifies how individual filterLabel matches within the list of filterLabels contribute towards the overall metadataFilter match. MATCH_ANY - At least one of the filterLabels must have a matching label in the provided metadata. MATCH_ALL - All filterLabels must have matching labels in the provided metadata. <p>Possible values:</p> <ul> <li>MATCH_ANY</li> <li>MATCH_ALL</li> </ul> </dd> <dt><code>filter_labels</code></dt> <dd>The list of label value pairs that must match labels in the provided metadata based on filterMatchCriteria This list must not be empty and can have at the most 64 entries. <dl> <dt><code>name</code></dt> <dd>Name of the metadata label. The length must be between 1 and 1024 characters, inclusive.</dd> <dt><code>value</code></dt> <dd>The value that the label must match. The value has a maximum length of 1024 characters.</dd> </dl> </dd> </dl> </dd> <dt><code>name</code></dt> <dd>Name of the resource; provided by the client when the resource is created. The name must be 1-63 characters long, and comply with RFC1035. Specifically, the name must be 1-63 characters long and match the regular expression <code>[a-z]([-a-z0-9]*[a-z0-9])?</code> which means the first character must be a lowercase letter, and all following characters must be a dash, lowercase letter, or digit, except the last character, which cannot be a dash.</dd> <dt><code>network</code></dt> <dd>This field is not used for external load balancing. For INTERNAL_SELF_MANAGED load balancing, this field identifies the network that the load balanced IP should belong to for this global forwarding rule. If this field is not specified, the default network will be used.</dd> <dt><code>port_range</code></dt> <dd>This field is used along with the target field for TargetHttpProxy, TargetHttpsProxy, TargetSslProxy, TargetTcpProxy, TargetVpnGateway, TargetPool, TargetInstance. Applicable only when IPProtocol is TCP, UDP, or SCTP, only packets addressed to ports in the specified range will be forwarded to target. Forwarding rules with the same <code>[IPAddress, IPProtocol]</code> pair must have disjoint port ranges. Some types of forwarding target have constraints on the acceptable ports: <ul> <li>TargetHttpProxy: 80, 8080</li> <li>TargetHttpsProxy: 443</li> <li>TargetTcpProxy: 25, 43, 110, 143, 195, 443, 465, 587, 700, 993, 995, 1883, 5222</li> <li>TargetSslProxy: 25, 43, 110, 143, 195, 443, 465, 587, 700, 993, 995, 1883, 5222</li> <li>TargetVpnGateway: 500, 4500</li> </ul> </dd> <dt><code>target</code></dt> <dd>The URL of the target resource to receive the matched traffic. The forwarded traffic must be of a type appropriate to the target object. For INTERNAL_SELF_MANAGED load balancing, only HTTP and HTTPS targets are valid.</dd> </dl> <h2 id="gcp-permissions">GCP Permissions</h2> <p>Ensure the <a href="https://console.cloud.google.com/apis/library/compute.googleapis.com/">Compute Engine API</a> is enabled for the current project.</p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/inspec/resources/google_compute_global_forwarding_rule/" class="_attribution-link">https://docs.chef.io/inspec/resources/google_compute_global_forwarding_rule/</a>
  </p>
</div>
