<div id="col-content" data-swiftype-index="true"> <div id="chef-infra-server-api"><h1>Chef Infra Server API</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/chef-server/blob/main/docs-chef-io/content/server/api_chef_server.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>The Chef Infra Server API is a REST API that provides access to objects on the Chef Infra Server, including nodes, environments, roles, users, organizations, cookbooks (and cookbook versions), and is used to manage an API client list and the associated RSA public key-pairs.</p> <h2 id="requirements">Requirements</h2> <p>The Chef Infra Server API has the following requirements:</p> <ul> <li>The <code>Accept</code> header must be set to <code>application/json</code>.</li> <li>For <code>PUT</code> and <code>POST</code> requests, the <code>Content-Type</code> header must be set to <code>application/json</code>.</li> <li>The <code>X-Chef-Version</code> header must be set to the version of the Chef Infra Server API that is being used.</li> <li>A request must be signed by adding authentication headers. ‘Mixlib::Authentication’ may be used to sign requests.</li> <li>A request must be well-formatted. The easiest way to ensure a well-formatted request is to use the <code>Chef::ServerAPI</code> library.</li> </ul> <h2 id="authentication-headers">Authentication Headers</h2> <p>Authentication to the Chef Infra Server requires a specific set of HTTP headers signed using a private key that is associated with the client making the request. The request is authorized if the Chef Infra Server can verify the signature using the public key. Only authorized actions are allowed.</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> Most authentication requests made to the Chef Infra Server are abstracted from the user. Such as when using knife or the Chef Infra Server user interface. In some cases, such as when using the <code>knife exec</code> subcommand, the authentication requests need to be made more explicitly, but still in a way that does not require authentication headers. In a few cases, such as when using arbitrary Ruby code, a Chef Infra Server API client, or cURL, it may be necessary to include the full authentication header as part of the request to the Chef Infra Server. </div> </div> <h3 id="required-headers">Required Headers</h3> <p>The following authentication headers are required:</p> <table> <col style="width:24%"> <col style="width:75%"> <thead> <tr class="header"> <th>Feature</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>Accept</code></td> <td>The format in which response data from the Chef Infra Server is provided. This header must be set to <code>application/json</code>.</td> </tr> <tr class="even"> <td><code>Content-Type</code></td> <td>The format in which data is sent to the Chef Infra Server. This header is required for <code>PUT</code> and <code>POST</code> requests and must be set to <code>application/json</code>.</td> </tr> <tr class="odd"> <td><code>Host</code></td> <td>The host name (and port number) to which a request is sent. (Port number <code>80</code> does not need to be specified.) For example: <code>api.chef.io</code> (which is the same as <code>api.chef.io:80</code>) or <code>api.chef.io:443</code>.</td> </tr> <tr class="even"> <td><code>Method</code></td> <td>The method from the request.</td> </tr> <tr class="even"> <td><code>Path</code></td> <td>Omit for Authentication Version 1. Specify for Authentication Version 1.3</td> </tr> <tr class="even"> <td><code>X-Chef-Version</code></td> <td>The version of the Chef Infra Client executable from which a request is made. This header ensures that responses are in the correct format. For example: <code>12.0.2</code> or <code>11.16.x</code>.</td> </tr> <tr class="odd"> <td><code>X-Ops-Authorization-N</code></td> <td>One (or more) 60 character segments that comprise the canonical header. A canonical header is signed with the private key used by the client machine from which the request is sent, and is also encoded using Base64. If more than one segment is required, each should be named sequentially, e.g. <code>X-Ops-Authorization-1</code>, <code>X-Ops-Authorization-2</code>, <code>X-Ops-Authorization-N</code>, where <code>N</code> represents the integer used by the last header that is part of the request.</td> </tr> <tr class="even"> <td><code>X-Ops-Content-Hash</code></td> <td>For API Version 1. The result of the SHA-1 hash of the request body encoded using Base64. Base64 encoding should have line breaks every 60 characters. For API Version 1.3. The result of the SHA-256 hash of the request body encoded using Base64. Base64 encoding should have line breaks every 60 characters.</td> </tr> <tr class="odd"> <td><code>X-Ops-Server-API-Version</code></td> <td>Use <code>X-Ops-Server-API-Version</code> to specify the version of the Chef Infra Server API. For example: <code>X-Ops-Server-API-Version: 1</code>. <code>X-Ops-Server-API-Version: 0</code> is supported for use with Chef Infra Server version 12, but will be deprecated as part of the next major release.</td> </tr> <tr class="even"> <td><code>X-Ops-Sign</code></td> <td>Set this header to the following value: <code>algorithm=sha1,version=1.0</code> or <code>version=1.3</code>.</td> </tr> <tr class="odd"> <td><code>X-Ops-Timestamp</code></td> <td>The timestamp, in ISO-8601 format and with UTC indicated by a trailing <code>Z</code> and separated by the character <code>T</code>. For example: <code>2013-03-10T14:14:44Z</code>.</td> </tr> <tr class="even"> <td><code>X-Ops-UserId</code></td> <td>The name of the API client whose private key will be used to create the authorization header.</td> </tr> </tbody> </table> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> Use <code>X-Ops-Server-API-Info</code> to identify the version of the Chef Infra Server API. </div> </div> <h4 id="canonical-header-format-10-using-sha-1">Canonical Header Format 1.0 using SHA-1</h4> <p>The signed headers are encrypted using the OpenSSL RSA_private_encrypt method and encoded in Base64. The signed headers are used to create one or more X-Ops-Authorization-N headers of 60 character segments. The canonical header should be created by concatenating the following headers, encrypting and encoding:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">Method:HTTP_METHOD
Hashed Path:HASHED_PATH
X-Ops-Content-Hash:HASHED_BODY
X-Ops-Timestamp:TIME
X-Ops-UserId:USERID
</code></pre>
<p>where:</p> <ul> <li>
<code>HTTP_METHOD</code> is the method used in the API request (<code>GET</code>, <code>POST</code>, and so on)</li> <li>
<code>HASHED_PATH</code> is the path of the request: <code>/organizations/NAME/name_of_endpoint</code>. The <code>HASHED_PATH</code> must be hashed using SHA-1 and encoded using Base64, must not have repeated forward slashes (<code>/</code>), must not end in a forward slash (unless the path is <code>/</code>), and must not include a query string.</li> <li>
<code>X-Ops-Content-Hash</code> is the Base64 encoded SHA256 hash of the json body of the request.</li> <li>
<code>X-Ops-Timestamp</code> UTC time in RFC3339 format.</li> <li>
<code>X-Ops-UserId</code> is the plain text client or user name.</li> </ul> <p>The Chef Infra Server decrypts this header and ensures its content matches the content of the non-encrypted headers that were in the request. The timestamp of the message is checked to ensure the request was received within a reasonable amount of time. One approach generating the signed headers is to use <a href="https://github.com/chef/mixlib-authentication">mixlib-authentication</a>, which is a class-based header signing authentication object similar to the one used by Chef Infra Client.</p> <h5 id="example">Example</h5> <p>The following example shows an authentication request:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/nodes HTTP/1.1
  Accept: application/json
  Accept-Encoding: gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  Host: api.chef.io:443
  User-Agent: Chef Knife/12.0.2 (ruby-2.1.1-p320; ohai-8.0.0; x86_64-darwin12.0.2; +http://chef.io)
  X-Chef-Version: 12.0.2
  X-Ops-Authorization-1: BE3NnBritishaf3ifuwLSPCCYasdfXaRN5oZb4c6hbW0aefI
  X-Ops-Authorization-2: sL4j1qtEZzi/2WeF67UuytdsdfgbOc5CjgECQwqrym9gCUON
  X-Ops-Authorization-3: yf0p7PrLRCNasdfaHhQ2LWSea+kTcu0dkasdfvaTghfCDC57
  X-Ops-Authorization-4: 155i+ZlthfasfasdffukusbIUGBKUYFjhbvcds3k0i0gqs+V
  X-Ops-Authorization-5: /sLcR7JjQky7sdafIHNfsBQrISktNPower1236hbFIayFBx3
  X-Ops-Authorization-6: nodilAGMb166@haC/fttwlWQ2N1LasdqqGomRedtyhSqXA==
  X-Ops-Content-Hash: 2jmj7l5rfasfgSw0ygaVb/vlWAghYkK/YBwk=
  X-Ops-Server-API-Info: 1
  X-Ops-Sign: algorithm=sha1;version=1.0;
  X-Ops-Userid: user_id
  X-Ops-Timestamp: 2014-12-12T17:13:28Z
</code></pre>
<h4 id="canonical-header-format-13-using-sha-256">Canonical Header Format 1.3 using SHA-256</h4> <p>Chef Infra Server versions 12.4.0 and above support signing protocol version 1.3, which adds support for SHA-256 algorithms. It can be enabled on Chef Infra Client via the <code>client.rb</code> file:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">authentication_protocol_version <span style="color:#666">=</span> <span style="color:#4070a0">'1.3'</span>
</code></pre></div>
<p>And for Chef’s knife CLI via <code>config.rb</code>:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">knife<span style="color:#666">[</span><span style="color:#517918">:authentication_protocol_version</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'1.3'</span>
</code></pre></div>
<p>To create the signed headers for direct use. Gather the following headers in the order listed, convert the signature headers to a concatenated string, sign and Base64 encode the result. The concatenation of signature headers is signed using the client RSA private key, with SHA-256 hashing and PKCS1v15 padding. Chop the Base64 encoded value into 60 character chunks and create X-Ops-Authorization-N headers with the chunks.</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">Method:HTTP_METHOD
Path:PATH
X-Ops-Content-Hash:HASHED_BODY
X-Ops-Sign
X-Ops-Timestamp:TIME
X-Ops-UserId:USERID
X-Ops-Server-API-Version
</code></pre>
<p>where:</p> <ul> <li>
<code>HTTP_METHOD</code> is the method used in the API request (<code>GET</code>, <code>POST</code>, &amp;mldr;)</li> <li>
<code>PATH</code> is the path of the request: <code>/organizations/NAME/name_of_endpoint</code>. The value must not have repeated forward slashes (<code>/</code>), must not end in a forward slash (unless the path is <code>/</code>), and must not include a query string.</li> <li>
<code>X-Ops-Content-Hash</code> is the Base64 encoded SHA256 hash of the json body of the request.</li> <li>
<code>X-Ops-Sign</code> has the value “version=1.3”.</li> <li>
<code>X-Ops-Timestamp</code> UTC time in RFC3339 format.</li> <li>
<code>X-Ops-UserId</code> is the plain text client or user name.</li> <li>
<code>X-Ops-Server-API-Version</code> is the numeric value of the Chef Infra Server API.</li> </ul> <h5 id="example-1">Example</h5> <p>The following example shows an authentication request:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/nodes HTTP/1.1
  Accept: application/json
  Accept-Encoding: gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  Host: api.chef.io:443
  Method: GET
  Path: /organizations/NAME/nodes
  User-Agent: Chef Knife/12.0.2 (ruby-2.1.1-p320; ohai-8.0.0; x86_64-darwin12.0.2; +http://chef.io)
  X-Chef-Version: 14.0.0
  X-Ops-Content-Hash: 2jmj7l5rfasfgSw0ygaVb/vlWAghYkK/YBwk=
  X-Ops-Authorization-1: BE3NnBritishaf3ifuwLSPCCYasdfXaRN5oZb4c6hbW0aefI
  X-Ops-Authorization-2: sL4j1qtEZzi/2WeF67UuytdsdfgbOc5CjgECQwqrym9gCUON
  X-Ops-Authorization-3: yf0p7PrLRCNasdfaHhQ2LWSea+kTcu0dkasdfvaTghfCDC57
  X-Ops-Authorization-4: 155i+ZlthfasfasdffukusbIUGBKUYFjhbvcds3k0i0gqs+V
  X-Ops-Authorization-5: /sLcR7JjQky7sdafIHNfsBQrISktNPower1236hbFIayFBx3
  X-Ops-Authorization-6: nodilAGMb166@haC/fttwlWQ2N1LasdqqGomRedtyhSqXA==
  X-Ops-Server-API-Info: 1
  X-Ops-Sign: version=1.3;
  X-Ops-Timestamp: 2014-12-12T17:13:28Z
  X-Ops-Userid: user_id
</code></pre>
<h3 id="knife-api-requests">Knife API Requests</h3> <p>A knife plugin is a set of one (or more) subcommands that can be added to knife to support additional functionality that is not built-in to the base set of knife subcommands. Many of the knife plugins are built by members of the Chef community and several of them are built and maintained by Chef.</p> <p>A knife plugin can be used to make authenticated API requests to the Chef Infra Server using the following methods:</p> <table> <col style="width:12%"> <col style="width:87%"> <thead> <tr class="header"> <th>Method</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>rest.delete_rest</code></td> <td>Use to delete an object from the Chef Infra Server.</td> </tr> <tr> <td><code>rest.get_rest</code></td> <td>Use to get the details of an object on the Chef Infra Server.</td> </tr> <tr> <td><code>rest.post_rest</code></td> <td>Use to add an object to the Chef Infra Server.</td> </tr> <tr> <td><code>rest.put_rest</code></td> <td>Use to update an object on the Chef Infra Server.</td> </tr> </tbody> </table> <p>For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020;font-weight:700">module</span> <span style="color:#0e84b5;font-weight:700">MyCommands</span>
  <span style="color:#007020;font-weight:700">class</span> <span style="color:#0e84b5;font-weight:700">MyNodeDelete</span> <span style="color:#666">&amp;</span>lt; <span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">Knife</span>
    <span style="color:#60a0b0;font-style:italic">#An implementation of knife node delete</span>
    banner <span style="color:#4070a0">'knife my node delete [NODE_NAME]'</span>

    <span style="color:#007020;font-weight:700">def</span> <span style="color:#06287e">run</span>
      <span style="color:#007020;font-weight:700">if</span> name_args<span style="color:#666">.</span>length <span style="color:#666">&amp;</span>lt; <span style="color:#40a070">1</span>
        show_usage
        ui<span style="color:#666">.</span>fatal(<span style="color:#4070a0">'You must specify a node name.'</span>)
        <span style="color:#007020">exit</span> <span style="color:#40a070">1</span>
      <span style="color:#007020;font-weight:700">end</span>
      nodename <span style="color:#666">=</span> name_args<span style="color:#666">[</span><span style="color:#40a070">0</span><span style="color:#666">]</span>
      api_endpoint <span style="color:#666">=</span> <span style="color:#4070a0">"nodes/</span><span style="color:#70a0d0;font-style:italic">#{</span>nodename<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">"</span>
      <span style="color:#60a0b0;font-style:italic"># Again, we could just call rest.delete_rest</span>
      nodey <span style="color:#666">=</span> rest<span style="color:#666">.</span>get_rest(api_endpoint)
      ui<span style="color:#666">.</span>confirm(<span style="color:#4070a0">"Do you really want to delete </span><span style="color:#70a0d0;font-style:italic">#{</span>nodey<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">"</span>)
      nodey<span style="color:#666">.</span>destroy
    <span style="color:#007020;font-weight:700">end</span>
  <span style="color:#007020;font-weight:700">end</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h2 id="global-endpoints">Global Endpoints</h2> <p>A global endpoint may be used to access all of the organizations on the Chef Infra Server.</p> <h3 id="authenticate_user">/authenticate_user</h3> <p>The <code>/authenticate_user</code> endpoint has the following methods: <code>POST</code>.</p> <h4 id="post">POST</h4> <p>The <code>POST</code> method is used to authenticate a user. This endpoint is used by the Chef Identity Service to authenticate users of Chef Supermarket to the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /authenticate_user
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"username"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"grantmc"</span>,
  <span style="color:#4070a0">"password"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"p@ssw0rd"</span>
}
</code></pre></div>
<p><strong>Response</strong></p> <p>This method has no response body.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, password, and that the correct key was used to sign the request.</td> </tr> </tbody> </table> <h3 id="license">/license</h3> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> This endpoint is used for information purposes only and to trigger a notification in the Chef management console about the number of licenses owned vs. the number of licenses that should be owned. No other action is taken and the functionality and behavior of the Chef Infra Server and any added component does not change. </div> </div> <p>The <code>/license</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get">GET</h4> <p>The <code>GET</code> method is used to get license information for the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /license
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"limit_exceeded"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>,
  <span style="color:#4070a0">"node_license"</span><span style="color:#666">:</span> <span style="color:#40a070">25</span>,
  <span style="color:#4070a0">"node_count"</span><span style="color:#666">:</span> <span style="color:#40a070">12</span>,
  <span style="color:#4070a0">"upgrade_url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://www.chef.io/pricing"</span>
}
</code></pre></div>
<p>When <code>node_count</code> is greater than <code>node_license</code>, then <code>limit_exceeded</code> is <code>true</code> and the Chef management console will display a notification about this status. The way to resolve this is to visit the upgrade URL, add the appropriate number of licenses, and then update the configuration settings appropriately.</p> <p>The chef-server.rb file contains settings that can be used to edit the number of nodes that are under license:</p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Setting</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>license['nodes']</code></td> <td>The number of licensed nodes. Default value: <code>25</code>.</td> </tr> <tr class="even"> <td><code>license['upgrade_url']</code></td> <td>The URL to visit for more information about how to update the number of nodes licensed for an organization. Default value: <code>"https://www.chef.io/pricing"</code>.</td> </tr> </tbody> </table> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h3 id="organizations">/organizations</h3> <p>The Chef Infra Server may contain multiple organizations.</p> <p>The <code>/organizations</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <div class="admonition-warning"> <p class="admonition-warning-title">Warning</p> <div class="admonition-warning-text"> This endpoint may only be accessed by the <code>pivotal</code> user, which is created as part of the installation process for the Chef Infra Server. (See the “Query for Users and Orgs” example below for an example of how to access this endpoint with the <code>pivotal</code> user.) </div> </div> <h4 id="get-1">GET</h4> <p>The <code>GET</code> method is used to get a list of organizations on the Chef Infra Server.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">{
  "org_name1": https://url/for/org_name1",
  "org_name2": https://url/for/org_name2"
}
</code></pre>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h4 id="post-1">POST</h4> <p>The <code>POST</code> method is used to create an organization on the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"org_name1"</span>,
  <span style="color:#4070a0">"full_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Org_name1 Full Name"</span>
}
</code></pre></div>
<p>where:</p> <ul> <li>
<code>name</code> must begin with a lower-case letter or digit, may only contain lower-case letters, digits, hyphens, and underscores, and must be between 1 and 255 characters. For example: <code>chef</code>.</li> <li>
<code>full_name</code> must begin with a non-white space character and must be between 1 and 1023 characters. For example: <code>Chef Software, Inc.</code>.</li> </ul> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> An organization isn’t usable until a user that belongs to the <code>admins</code> group is associated with the organization. </div> </div> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"clientname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"org_name1-validator"</span>,
  <span style="color:#4070a0">"private_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-----BEGIN RSA PRIVATE KEY----- MIIEpQIBAAKCAQEAx2uyX ..."</span>,
  <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://url/for/org_name1"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>Created. The request was successful. The organization was created.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>409</code></td> <td>Conflict. The organization already exists.</td> </tr> </tbody> </table> <h3 id="organizationsname">/organizations/NAME</h3> <p>An organization is a single instance of a Chef Infra Server, including all of the nodes that are managed by that Chef Infra Server and each of the workstations that will run knife and access the Chef Infra Server using the Chef Infra Server API.</p> <p>The <code>/organizations/NAME</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>PUT</code>.</p> <h4 id="delete">DELETE</h4> <p>The <code>DELETE</code> method is used to delete an organization.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"chef"</span>,
  <span style="color:#4070a0">"full_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef Software, Inc."</span>,
  <span style="color:#4070a0">"guid"</span><span style="color:#666">:</span> <span style="color:#4070a0">"f980d1asdfda0331235s00ff36862"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h4 id="get-2">GET</h4> <p>The <code>GET</code> method is used to get the details for the named organization.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">{
  "name": "chef",
  "full_name": "Chef Software, Inc.",
  "guid": "f980d1asdfda0331235s00ff36862"
     ...
}
</code></pre>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h4 id="put">PUT</h4> <p>The <code>PUT</code> method is used to update an organization definition.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"chef"</span>,
  <span style="color:#4070a0">"full_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef Software, Inc."</span>
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">{
  "name": "chef",
  "full_name": "Chef Software, Inc.",
  "guid": "f980d1asdfda0331235s00ff36862"
}
</code></pre>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>410</code></td> <td>Gone. Unable to update private key.</td> </tr> </tbody> </table> <h3 id="_stats">/_stats</h3> <p>Use the <code>/_stats</code> endpoint to display statistics about connection pool usage inside Erchef, Postgresql, and the Erlang VM. The <code>_stats</code> endpoint uses Basic Authorization instead of the X-Ops-Authorization scheme usually used to connect to the Chef Infra Server. The default user used to query the <code>_stats</code> endpoint is <code>statsuser</code>. The password for the <code>statsuser</code> is available as the <code>opscode_erchef::stats_password</code> from the <code>chef-server-ctl show-service-credentials</code> command.</p> <p>The <code>/_stats</code> endpoint has the following method: <code>GET</code>.</p> <h4 id="get-3">GET</h4> <p>The <code>GET</code> method is used to get the statistics.</p> <p>This method has the following parameters:</p> <table> <col style="width:40%"> <col style="width:60%"> <thead> <tr class="header"> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>format=json</code></td> <td>Return results as JSON.</td> </tr> <tr class="even"> <td><code>format=text</code></td> <td>Return results as text.</td> </tr> </tbody>
</table> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /_stats
</code></pre>
<p>This method has no parameters. This method has no request body. The <code>/_stats</code> endpoint does not require authentication headers.</p> <p><strong>Response</strong></p> <p>The response body is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">[
  {
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"erlang_vm_time_correction"</span>,
    <span style="color:#4070a0">"type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"UNTYPED"</span>,
    <span style="color:#4070a0">"help"</span><span style="color:#666">:</span> <span style="color:#4070a0">"1 if time correction is enabled, otherwise 0."</span>,
    <span style="color:#4070a0">"metrics"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"value"</span><span style="color:#666">:</span> <span style="color:#4070a0">"1"</span>
      }
    ]
  },
  {
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"erlang_vm_thread_pool_size"</span>,
    <span style="color:#4070a0">"type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"GAUGE"</span>,
    <span style="color:#4070a0">"help"</span><span style="color:#666">:</span> <span style="color:#4070a0">"The number of async threads in the async thread pool used for asynchronous driver calls."</span>,
    <span style="color:#4070a0">"metrics"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"value"</span><span style="color:#666">:</span> <span style="color:#4070a0">"5"</span>
      }
    ]
  },

  ...

  {
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"pg_stat_seq_scan"</span>,
    <span style="color:#4070a0">"type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"COUNTER"</span>,
    <span style="color:#4070a0">"help"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Number of sequential scans initiated on all tables"</span>,
    <span style="color:#4070a0">"metrics"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"value"</span><span style="color:#666">:</span> <span style="color:#4070a0">"22147"</span>
      }
    ]
  }
]

</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or password is not valid.</td> </tr> <tr class="odd"> <td><code>406</code></td> <td>Not Acceptable. An invalid format was requested.</td> </tr> </tbody> </table> <h3 id="_status">/_status</h3> <p>Use the <code>/_status</code> endpoint to check the status of communications between the front and back end servers. This endpoint is located at <code>/_status</code> on the front end servers. The <code>/_status</code> endpoint does not require authentication headers.</p> <h4 id="get-4">GET</h4> <p>The <code>GET</code> method is used to get the Chef Infra Server status details.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /_status
</code></pre>
<p>This method has no parameters. This method has no request body.</p> <p><strong>Response</strong></p> <p>The response will return something like the following:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"status"</span><span style="color:#666">:</span> <span style="color:#4070a0">"pong"</span>,
  <span style="color:#4070a0">"upstreams"</span><span style="color:#666">:</span>
    {
      <span style="color:#4070a0">"service_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"pong"</span>,
      <span style="color:#4070a0">"service_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"pong"</span>,
      ...
    }
  <span style="color:#4070a0">"keygen"</span><span style="color:#666">:</span>
    {
      <span style="color:#4070a0">"keys"</span><span style="color:#666">:</span> <span style="color:#40a070">10</span>,
      ....
    }
 }
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>All communications are OK.</td> </tr> <tr class="even"> <td><p><code>500</code></p></td> <td>
<p>One (or more) services are down. For example:</p> <div class="sourceCode" id="cb1"><pre class="sourceCode javascript highlight" data-language="ruby"><code class="sourceCode javascript"><span id="cb1-1"><span class="op">{</span></span>
<span id="cb1-2">  <span class="st">"status"</span><span class="op">:</span><span class="st">"fail"</span><span class="op">,</span></span>
<span id="cb1-3">  <span class="st">"upstreams"</span><span class="op">:</span></span>
<span id="cb1-4">    <span class="op">{</span></span>
<span id="cb1-5">      <span class="st">"service_name"</span><span class="op">:</span> <span class="st">"fail"</span><span class="op">,</span></span>
<span id="cb1-6">      <span class="st">"service_name"</span><span class="op">:</span> <span class="st">"pong"</span><span class="op">,</span></span>
<span id="cb1-7">      ...</span>
<span id="cb1-8">    <span class="op">}</span></span>
<span id="cb1-9"><span class="op">}</span></span></code></pre></div>
</td> </tr> </tbody> </table> <h3 id="users">/users</h3> <p>A user is an individual account that is created to allow access to the Chef Infra Server. For example:</p> <ul> <li>A hosted Chef Infra Server account</li> <li>The user that operates the workstation from which a Chef Infra Server will be managed</li> </ul> <p>The <code>/users</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <div class="admonition-warning"> <p class="admonition-warning-title">Warning</p> <div class="admonition-warning-text"> This endpoint may only be accessed by the <code>pivotal</code> user, which is created as part of the installation process for the Chef Infra Server. (See the “Query for Users and Orgs” example below for an example of how to access this endpoint with the <code>pivotal</code> user.) </div> </div> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> This documentation for the <code>/users</code> endpoint is for version 1 of the Chef Infra Server API. Version 0 of the API has some differences in the request body and in the results. </div> </div> <h4 id="get-5">GET</h4> <p>The <code>GET</code> method is used to get a list of users on the Chef Infra Server.</p> <p>This method has the following parameters:</p> <table> <col style="width:40%"> <col style="width:60%"> <thead> <tr class="header"> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>email=jane@chef.com</code></td> <td>Filter the users returned based on their email id.</td> </tr> <tr class="even"> <td><code>external_authentication_uid=jane@chef.com</code></td> <td>Filter the users returned based on their external login id.</td> </tr> <tr class="odd"> <td><code>verbose=true</code></td> <td>Returns a user list with "email", "first_name", "last_name" fields. If this flag is set the email and external_authentication_uid parameters are ignored.</td> </tr> </tbody> </table> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /users
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">{
  "user1": "https://chef.example/users/user1",
  "user2": "https://chef.example/users/user2"
}
</code></pre>
<p>The verbose response is similar to:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">{
  "janechef": { "email": "jane.chef@user.com", "first_name": "jane", "last_name": "chef_user" },
  "yaelsmith": { "email": "yeal.chef@user.com", "first_name": "yeal", "last_name": "smith" }
}
</code></pre>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <p><strong>Optional Filtering</strong></p> <p>Filtering on <code>/users</code> can be done with the <code>external_authentication_uid</code>. This is to support SAML authentication.</p> <p>As an example, to retrieve users whos <code>external_authentication_uid</code> is <code>jane@doe.com</code>, you would do the following:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /users?external_authentication_uid=jane%40doe.com
</code></pre>
<h4 id="post-2">POST</h4> <p>The <code>POST</code> method is used to create a user on the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /users
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"username"</span><span style="color:#666">:</span> <span style="color:#4070a0">"robert-forster"</span>,
  <span style="color:#4070a0">"display_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"robert"</span>,
  <span style="color:#4070a0">"email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"robert@noreply.com"</span>,
  <span style="color:#4070a0">"first_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"robert"</span>,
  <span style="color:#4070a0">"last_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"forster"</span>,
  <span style="color:#4070a0">"middle_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>,
  <span style="color:#4070a0">"password"</span><span style="color:#666">:</span> <span style="color:#4070a0">"yeahpass"</span>,
  <span style="color:#4070a0">"create_key"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">true</span>,
  <span style="color:#4070a0">"public_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoYyN0AIhUh7Fw1+gQtR+ \n0/HY3625IUlVheoUeUz3WnsTrUGSSS4fHvxUiCJlNni1sQvcJ0xC9Bw3iMz7YVFO\nWz5SeKmajqKEnNywN8/NByZhhlLdBxBX/UN04/7aHZMoZxrrjXGLcyjvXN3uxyCO\nyPY989pa68LJ9jXWyyfKjCYdztSFcRuwF7tWgqnlsc8pve/UaWamNOTXQnyrQ6Dp\ndn+1jiNbEJIdxiza7DJMH/9/i/mLIDEFCLRPQ3RqW4T8QrSbkyzPO/iwaHl9U196\n06Ajv1RNnfyHnBXIM+I5mxJRyJCyDFo/MACc5AgO6M0a7sJ/sdX+WccgcHEVbPAl\n1wIDAQAB \n-----END PUBLIC KEY-----\n\n"</span>
}
</code></pre></div>
<p>where:</p> <ul> <li>
<code>username</code> must begin with a lower-case letter or digit, may only contain lower-case letters, digits, hyphens, and underscores. For example: <code>chef</code>. <code>username</code> is required to be present and have a valid value. A valid username is a dot separated list of elements matching <code>a-z0-9!#$%&amp;'*+/=?^_`{|}~-</code>.</li> <li>
<code>display_name</code> is required to be present.</li> <li>
<code>email</code> is required to be present and have a valid value. The email validation doesn’t allow for all unicode characters.</li> <li>Either <code>external_authentication_uid</code> or <code>password</code> are required to be present and have a value.</li> <li>During the POST, the <code>public_key</code> value will be broken out and resubmitted to the keys portion of the API in the latest Chef Infra Server versions.</li> <li>Only one of the keys, <code>create_key</code> or <code>public_key</code>, may be specified. If <code>create_key</code> is specified, a default private key is generated and returned.</li> </ul> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/users/robert-forster"</span>,
  <span style="color:#4070a0">"chef_key"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
    <span style="color:#4070a0">"public_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-----BEGIN RSA PUBLIC KEY..."</span>,
    <span style="color:#4070a0">"expiration_date"</span><span style="color:#666">:</span> <span style="color:#4070a0">"infinity"</span>,
    <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/users/robert-forster/keys/default"</span>,
    <span style="color:#4070a0">"private_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-----BEGIN RSA PRIVATE KEY..."</span>
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>OK. The user was created.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>409</code></td> <td>Conflict. The object already exists.</td> </tr> <tr class="even"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="usersname">/users/NAME</h3> <p>The <code>/users/USER_NAME</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>PUT</code>.</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> This documentation for the <code>/users/NAME</code> endpoint is for version 1 of the Chef Infra Server API. Version 0 of the API has some differences in the request body and in the results. </div> </div> <h4 id="delete-1">DELETE</h4> <p>The <code>DELETE</code> method is used to delete a user.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /users/USER_NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-6">GET</h4> <p>The <code>GET</code> method is used to return the details for a user.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /users/USER_NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"username"</span><span style="color:#666">:</span> <span style="color:#4070a0">"robert-forster"</span>,
  <span style="color:#4070a0">"display_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"robert"</span>,
  <span style="color:#4070a0">"email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"robert@noreply.com"</span>,
  <span style="color:#4070a0">"first_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"robert"</span>,
  <span style="color:#4070a0">"last_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"forster"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-1">PUT</h4> <p>The <code>PUT</code> method is used to update a specific user. If values are not specified for the <code>PUT</code> method, the Chef Infra Server will use the existing values rather than assign default values.</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> <code>PUT</code> supports renames. If <code>PUT /users/foo</code> is requested with <code>{ "username: "bar""}</code>, then it will rename <code>foo</code> to <code>bar</code> and all of the content previously associated with <code>foo</code> will be associated with <code>bar</code>. </div> </div> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> As of 12.1.0, the <code>"public_key"</code>, <code>"private_key"</code>, and <code>"create_key"</code> parameters in PUT requests to clients/users will cause a 400 response. </div> </div> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /users/NAME
</code></pre>
<p>with a request body similar to:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">{
  "username":     "grant.mclennan",
  "display_name": "Grant McLennan",
  "email":        "grant@newlocation.com",
  "first_name":   "Grant",
  "last_name":    "McLennan",
  "middle_name":  "james",
  "public_key" : "-------- BEGIN PUBLIC KEY ----and a valid key here"
}
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/users/grant.mclennan"</span>,
  <span style="color:#4070a0">"chef_key"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
    <span style="color:#4070a0">"public_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-----BEGIN RSA PUBLIC KEY..."</span>,
    <span style="color:#4070a0">"expiration_date"</span><span style="color:#666">:</span> <span style="color:#4070a0">"infinity"</span>,
    <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/users/rober-forster/keys/default"</span>,
    <span style="color:#4070a0">"private_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>
  }
}
</code></pre></div>
<p>If a new private key was generated, both the private and public keys are returned.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>201</code></td> <td>Created. The object was created. (This response code is only returned when the user is renamed.)</td> </tr> <tr class="odd"> <td><code>400</code></td> <td>Invalid. Invalid or missing values. Otherwise malformed request.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> <tr class="odd"> <td><code>409</code></td> <td>Conflict. This response code is only returned when a user is renamed, but a user already exists with that name.</td> </tr> <tr class="even"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="usersuserkeys">/users/USER/keys/</h3> <p>The <code>/users/USER/keys</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>. User keys are public RSA keys in the SSL <code>.pem</code> file format and are used for authentication. The Chef Infra Server does not save private keys for users.</p> <h4 id="get-7">GET</h4> <p>The <code>GET</code> method is used to retrieve all of the named user’s key identifiers, associated URIs, and expiry states.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /users/USER/keys/
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">[
  {
    <span style="color:#4070a0">"name"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
    <span style="color:#4070a0">"uri"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/users/USER/keys/default"</span>,
    <span style="color:#4070a0">"expired"</span> <span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>
  },
  {
    <span style="color:#4070a0">"name"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"key1"</span>,
    <span style="color:#4070a0">"uri"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/users/USER/keys/key1"</span>,
    <span style="color:#4070a0">"expired"</span> <span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>
  }
]
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="post-3">POST</h4> <p>The <code>POST</code> method is used to add a key for the specified user.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /users/USER/keys/
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"key1"</span>,
  <span style="color:#4070a0">"public_key"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"-------- BEGIN PUBLIC KEY ----and a valid key here"</span>,
  <span style="color:#4070a0">"expiration_date"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"infinity"</span>
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"key1"</span>,
  <span style="color:#4070a0">"uri"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"https://chapi_chef_server.mdef.example/users/user1/keys/key1"</span>,
  <span style="color:#4070a0">"expired"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>Created. The object was created.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="usersuserkeyskey">/users/USER/keys/KEY</h3> <p>The <code>/users/USER/keys/KEY</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>PUT</code>.</p> <h4 id="delete-2">DELETE</h4> <p>The <code>DELETE</code> method is used to delete the specified key for the specified user.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /users/USER/keys/KEY
</code></pre>
<p><strong>Response</strong></p> <p>The response returns the information about the deleted key and is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
  <span style="color:#4070a0">"public_key"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"-------- BEGIN PUBLIC KEY --------- ..."</span>,
  <span style="color:#4070a0">"expiration_date"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"2020-12-31T00:00:00Z"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-8">GET</h4> <p>The <code>GET</code> method is used to return details for a specific key for a specific user.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /users/USER/keys/KEY
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
  <span style="color:#4070a0">"public_key"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"-------- BEGIN PUBLIC KEY --------- ..."</span>,
  <span style="color:#4070a0">"expiration_date"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"2020-12-31T00:00:00Z"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-2">PUT</h4> <p>The <code>PUT</code> method is used to update one or more properties for a specific key for a specific user.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /users/USER/keys/KEY
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"new_key_name"</span>,
  <span style="color:#4070a0">"public_key"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"-------- BEGIN PUBLIC KEY ----and a valid key here"</span>,
  <span style="color:#4070a0">"expiration_date"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"2020-12-31T00:00:00Z"</span>
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response contains the updated information for the key, and is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"new_key_name"</span>,
  <span style="color:#4070a0">"public_key"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"-------- BEGIN PUBLIC KEY --------- ..."</span>,
  <span style="color:#4070a0">"expiration_date"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"2020-12-31T00:00:00Z"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>201</code></td> <td>Created. The object was created.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h2 id="organization-endpoints">Organization Endpoints</h2> <p>Each organization-specific authentication request must include <code>/organizations/NAME</code> as part of the name for the endpoint. For example, the full endpoint for getting a list of roles:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/roles
</code></pre>
<p>where <code>ORG_NAME</code> is the name of the organization.</p> <h3 id="association_requests">/association_requests</h3> <p>Users may be invited to join organizations via the web user interface in the Chef management console or via the <code>POST</code> endpoint in the Chef Infra Server API.</p> <p>The <code>/association_requests</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>POST</code>.</p> <h4 id="delete-3">DELETE</h4> <p>The <code>DELETE</code> method is used to delete a pending invitation.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/association_requests/ID
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"id"</span><span style="color:#666">:</span>      <span style="color:#4070a0">"79b9382ab70e962907cee1747f9969a4"</span>,
  <span style="color:#4070a0">"orgname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"testorg"</span>,
  <span style="color:#4070a0">"username"</span> <span style="color:#4070a0">"janedoe"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-9">GET</h4> <p>The <code>GET</code> method is used to get a list of pending invitations.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/association_requests
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response returns a dictionary similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">[
  {
    <span style="color:#4070a0">"id"</span><span style="color:#666">:</span> <span style="color:#4070a0">"79b9382ab70e962907cee1747f9969a4"</span>,
    <span style="color:#4070a0">"username"</span><span style="color:#666">:</span> <span style="color:#4070a0">"marygupta"</span>
  },
  {
    <span style="color:#4070a0">"id"</span><span style="color:#666">:</span> <span style="color:#4070a0">"24t1432uf33x799382abb7096g8190b5"</span>,
    <span style="color:#4070a0">"username"</span><span style="color:#666">:</span> <span style="color:#4070a0">"johnirving"</span>
  }
]
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h4 id="post-4">POST</h4> <p>The <code>POST</code> method is used to create an invitation.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
 <span style="color:#4070a0">"user"</span><span style="color:#666">:</span> <span style="color:#4070a0">"billysmith"</span>
}

POST <span style="color:#666">/</span>organizations<span style="color:#666">/</span>NAME<span style="color:#666">/</span>association_requests
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/test/association_requests/79b9382ab70e962907cee1747f9969a4"</span>,
  <span style="color:#4070a0">"organization_user"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"username"</span><span style="color:#666">:</span> <span style="color:#4070a0">"authorizeduser"</span>
  },
  <span style="color:#4070a0">"organization"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"test"</span>
  },
  <span style="color:#4070a0">"user"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"sallyjane@domain.org"</span>,
    <span style="color:#4070a0">"first_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"sally"</span>
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>OK. An invitation was created.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>404</code></td> <td>Not found. The invited user does not exist.</td> </tr> <tr class="even"> <td><code>409</code></td> <td>Conflict. The object already exists.</td> </tr> </tbody> </table> <h3 id="clients">/clients</h3> <p>Use the <code>/clients</code> endpoint to manage clients and their associated RSA key-pairs. The <code>/clients</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> The clients should be managed using knife as opposed to the Chef Infra Server API. The interactions between clients, nodes and acls are tricky. </div> </div> <h4 id="get-10">GET</h4> <p>The <code>GET</code> method is used to return a client list on the Chef Infra Server, including clients for nodes that have been registered with the Chef Infra Server, the chef-validator clients, and the chef-server-webui clients for the entire organization.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/clients
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"org1-validator"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/orgaizations/org1/clients/org1-validator"</span>,
  <span style="color:#4070a0">"client1"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/orgaizations/org1/clients/client1"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h4 id="post-5">POST</h4> <p>The <code>POST</code> method is used to create a new API client.</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> As of 12.1.0, the <code>"admin"</code> parameter is no longer supported in client/user creation and support. If used in the <code>POST</code> or <code>PUT</code> of a client or user, the <code>"admin"</code> parameter is ignored. </div> </div> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/clients
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"name_of_API_client"</span>,
  <span style="color:#4070a0">"clientname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"name_of_API_client"</span>,
  <span style="color:#4070a0">"validator"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">true</span>,
  <span style="color:#4070a0">"create_key"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">true</span>
}
</code></pre></div>
<p>where <code>name_of_API_client</code> is the name of the API client to be created and <code>admin</code> indicates whether the API client will be run as an admin API client. Either name or clientname needs to be specified.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/orgaizations/org1/clients/client1"</span>,
  <span style="color:#4070a0">"chef_key"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
    <span style="color:#4070a0">"expiration_date"</span><span style="color:#666">:</span> <span style="color:#4070a0">"infinity"</span>,
    <span style="color:#4070a0">"private_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-----BEGIN RSA PRIVATE KEY----- ..."</span>,
    <span style="color:#4070a0">"public_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-----BEGIN PUBLIC KEY----- ... "</span>,
    <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/orgaizations/org1/clients/client1/keys/default"</span>
}
</code></pre></div>
<p>Store the private key in a safe place. It will be required later (along with the client name) to access the Chef Infra Server when using the Chef Infra Server API.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>Created. The client was created.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>409</code></td> <td>Conflict. The object already exists.</td> </tr> <tr class="even"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="clientsname">/clients/NAME</h3> <p>The <code>/clients/NAME</code> endpoint is used to manage a specific client. This endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>PUT</code>.</p> <h4 id="delete-4">DELETE</h4> <p>The <code>DELETE</code> method is used to remove a specific client.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/clients/NAME
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response has no body.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-11">GET</h4> <p>The <code>GET</code> method is used to return a specific API client.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/clients/NAME
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"user1"</span>,
  <span style="color:#4070a0">"clientname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"user1"</span>,
  <span style="color:#4070a0">"orgname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"test"</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::ApiClient"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"client"</span>,
  <span style="color:#4070a0">"validator"</span><span style="color:#666">:</span> <span style="color:#4070a0">"false"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-3">PUT</h4> <p>The <code>PUT</code> method is used to update a specific client. If values are not specified for the <code>PUT</code> method, the Chef Infra Server will use the existing values rather than assign default values.</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> <code>PUT</code> supports renames. If <code>PUT /client/foo</code> is requested with <code>{ "name: "bar""}</code>, then it will rename <code>foo</code> to <code>bar</code> and all of the content previously associated with <code>foo</code> will be associated with <code>bar</code>. </div> </div> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> As of 12.1.0, the <code>"admin"</code> parameter is no longer supported in client/user creation and support. If used in the <code>POST</code> or <code>PUT</code> of a client or user, then it is ignored. </div> </div> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> As of 12.1.0, including <code>"public_key"</code>, <code>"private_key"</code>, or <code>"create_key"</code> in PUT requests to clients/users will cause a 400 response. </div> </div> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> <code>"name"</code> and <code>"clientname"</code> are not independent values. Making a PUT request with different values will return a 400 error. Either name may be specified to set both values. </div> </div> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME/clients/NAME
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"monkeypants"</span>,
  <span style="color:#4070a0">"validator"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"monkeypants"</span>,
  <span style="color:#4070a0">"clientname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"monkeypants"</span>,
  <span style="color:#4070a0">"validator"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">true</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span><span style="color:#4070a0">"Chef::ApiClient"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span><span style="color:#4070a0">"client"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>201</code></td> <td>Created. The client was updated. (This response code is only returned when the client is renamed.)</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> <tr class="even"> <td><code>409</code></td> <td>Conflict. This response code is only returned when a client is renamed, but a client already exists with the new name.</td> </tr> <tr class="odd"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="clientsclientkeys">/clients/CLIENT/keys/</h3> <p>The <code>/clients/CLIENT/keys</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <h4 id="get-12">GET</h4> <p>The <code>GET</code> method is used to retrieve all of the named client’s key identifiers, associated URIs, and expiry states.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/clients/CLIENT/keys
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">[
  {
     <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
     <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/clients/client1/keys/default"</span>,
     <span style="color:#4070a0">"expired"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>
  },
  {
     <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"key1"</span>,
     <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/clients/client1/keys/key1"</span>,
     <span style="color:#4070a0">"expired"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">true</span>
  }
]
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="post-6">POST</h4> <p>The <code>POST</code> method is used to add a key for the specified client.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/clients/CLIENT/keys
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"key1"</span>,
  <span style="color:#4070a0">"public_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-------- BEGIN PUBLIC KEY ----and a valid key here"</span>,
  <span style="color:#4070a0">"expiration_date"</span><span style="color:#666">:</span> <span style="color:#4070a0">"infinity"</span>
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/clients/client1/keys/key1"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>Created. The object was created.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="clientsclientkeyskey">/clients/CLIENT/keys/KEY</h3> <p>The <code>/clients/CLIENT/keys/KEY</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>PUT</code>.</p> <h4 id="delete-5">DELETE</h4> <p>The <code>DELETE</code> method is used to delete the specified key for the specified client.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/clients/CLIENT/keys/KEY
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response returns the information about the deleted key and is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
  <span style="color:#4070a0">"public_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-------- BEGIN PUBLIC KEY --------- ..."</span>,
  <span style="color:#4070a0">"expiration_date"</span><span style="color:#666">:</span> <span style="color:#4070a0">"2020-12-31T00:00:00Z"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-13">GET</h4> <p>The <code>GET</code> method is used to return details for a specific key for a specific client.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/clients/CLIENT/keys/KEY
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
  <span style="color:#4070a0">"public_key"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"-------- BEGIN PUBLIC KEY --------- ..."</span>,
  <span style="color:#4070a0">"expiration_date"</span> <span style="color:#666">:</span> <span style="color:#4070a0">"2020-12-31T00:00:00Z"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-4">PUT</h4> <p>The <code>PUT</code> method is used to update one or more properties for a specific key for a specific client.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME/clients/CLIENT/keys/KEY
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"new_key_name"</span>,
  <span style="color:#4070a0">"public_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-------- BEGIN PUBLIC KEY ----and a valid key here"</span>,
  <span style="color:#4070a0">"expiration_date"</span><span style="color:#666">:</span> <span style="color:#4070a0">"2020-12-31T00:00:00Z"</span>
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response contains the updated information for the key and is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"new_key_name"</span>,
  <span style="color:#4070a0">"public_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-------- BEGIN PUBLIC KEY --------- ..."</span>,
  <span style="color:#4070a0">"expiration_date"</span><span style="color:#666">:</span> <span style="color:#4070a0">"2020-12-31T00:00:00Z"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>201</code></td> <td>Created. The object was created.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="containers">/containers</h3> <p>The <code>/containers</code> endpoint has the following methods: <code>GET</code>, <code>POST</code>.</p> <h4 id="get-14">GET</h4> <p>The <code>GET</code> method is used to get a list of containers.</p> <p>Note: The <code>/containers</code> endpoint is not useful outside of the Chef Infra Server code.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/containers
</code></pre>
<p>This method does not use a request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"clients"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/containers/clients"</span>,
  <span style="color:#4070a0">"containers"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/containers/containers"</span>,
  <span style="color:#4070a0">"cookbooks"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/containers/cookbooks"</span>,
  <span style="color:#4070a0">"data"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/containers/data"</span>,
  <span style="color:#4070a0">"environments"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/containers/environments"</span>,
  <span style="color:#4070a0">"groups"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/containers/groups"</span>,
  <span style="color:#4070a0">"nodes"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/containers/nodes"</span>,
  <span style="color:#4070a0">"roles"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/containers/roles"</span>,
  <span style="color:#4070a0">"sandboxes"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example/containers/sandboxes"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="post-7">POST</h4> <p>The <code>POST</code> method is used to create a container.</p> <p>Note: Using the <code>POST</code> method of the <code>/containers</code> endpoint may have unexpected effects and is likely to break your system. Use of this method is not supported.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME
</code></pre>
<p>This method has a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"containername"</span><span style="color:#666">:</span> <span style="color:#4070a0">"mycontainer"</span>,
  <span style="color:#4070a0">"containerpath"</span><span style="color:#666">:</span> <span style="color:#4070a0">"mycontainer"</span>
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"uri"": "</span>https<span style="color:#666">:</span><span style="color:#60a0b0;font-style:italic">//chef.example/organizations/test/containers/mycontainer"
</span>}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="containersname">/containers/NAME</h3> <h4 id="delete-6">DELETE</h4> <p>The <code>DELETE</code> method is used to remove a container.</p> <p>The <code>/containers/Name</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>.</p> <p>Note: Using the <code>DELETE</code> method of the <code>/containers/NAME</code> endpoint may have unexpected effects and is likely to break your system. Use of this method is not supported.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/containers/NAME
</code></pre>
<p>This method does not use a request body.</p> <p><strong>Response</strong></p> <p>The response does not return response body.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-15">GET</h4> <p>The <code>GET</code> method is used to get a container.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/containers/NAME
</code></pre>
<p>This method does not use a request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"containername"": "</span>mycontainer<span style="color:#4070a0">",
</span><span style="color:#4070a0">  "</span>containerpath<span style="color:#4070a0">""</span><span style="color:#666">:</span> <span style="color:#4070a0">"mycontainer"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="cookbook_artifacts">/cookbook_artifacts</h3> <p>Cookbook artifacts are specific versions of cookbooks that were specified by a Policyfile applied to a node.</p> <p>The <code>/organization/NAME/cookbook_artifacts</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-16">GET</h4> <p>The <code>GET</code> method is used to return a hash of all cookbook artifacts and their versions.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/cookbook_artifacts
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"oc-influxdb"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example-org/cookbook_artifacts/oc-influxdb"</span>,
    <span style="color:#4070a0">"versions"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example-org/cookbook_artifacts/oc-influxdb/9634a5d998b02ff069761f6e1309a41572d0f858"</span>,
        <span style="color:#4070a0">"identifier"</span><span style="color:#666">:</span> <span style="color:#4070a0">"9634a5d998b02ff069761f6e1309a41572d0f858"</span>
      },
      {
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example-org/cookbook_artifacts/oc-influxdb/d774c9bb079f21b64c34275ecd4b371e0cae71a1"</span>,
        <span style="color:#4070a0">"identifier"</span><span style="color:#666">:</span> <span style="color:#4070a0">"d774c9bb079f21b64c34275ecd4b371e0cae71a1"</span>
      }
    ]
  },
    <span style="color:#4070a0">"rabbitmq"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example-org/cookbook_artifacts/rabbitmq"</span>,
    <span style="color:#4070a0">"versions"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example-org/cookbook_artifacts/rabbitmq/58035a5b41c005f3b5b98f22ccaed1a0d6161e22"</span>,
        <span style="color:#4070a0">"identifier"</span><span style="color:#666">:</span> <span style="color:#4070a0">"58035a5b41c005f3b5b98f22ccaed1a0d6161e22"</span>
      },
      {
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example-org/cookbook_artifacts/rabbitmq/5c08f92cc01f94ee37d382c32023b137ee343a1e"</span>,
        <span style="color:#4070a0">"identifier"</span><span style="color:#666">:</span> <span style="color:#4070a0">"5c08f92cc01f94ee37d382c32023b137ee343a1e"</span>
      }
    ]
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h3 id="cookbook_artifactsname">/cookbook_artifacts/NAME</h3> <p>This endpoint lists versions of a named cookbook artifact.</p> <p>The <code>/organization/NAME/cookbook_artifacts/NAME</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-17">GET</h4> <p>The <code>GET</code> method is used to return a hash of a single cookbook artifact and its versions.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/cookbook_artifacts/NAME
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"rabbitmq"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example-org/cookbook_artifacts/rabbitmq"</span>,
    <span style="color:#4070a0">"versions"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example-org/cookbook_artifacts/rabbitmq/0bd7539be0434e3355aff8ecccf4543ecf5c4be2"</span>,
        <span style="color:#4070a0">"identifier"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0bd7539be0434e3355aff8ecccf4543ecf5c4be2"</span>
      },
      {
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/example-org/cookbook_artifacts/rabbitmq/0e1016d364685b87456c648136da04a2559821ec"</span>,
        <span style="color:#4070a0">"identifier"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0e1016d364685b87456c648136da04a2559821ec"</span>
      }
    ]
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="cookbook_artifactsnameid">/cookbook_artifacts/NAME/ID</h3> <p>The <code>/organization/NAME/cookbook_artifacts/NAME/ID</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>PUT</code>.</p> <h4 id="delete-7">DELETE</h4> <p>The <code>DELETE</code> method is used to delete a single cookbook artifact version.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/cookbook_artifacts/NAME/ID
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response contains the record of the deleted resource and is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"5.7.7"</span>,
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"rabbitmq"</span>,
  <span style="color:#4070a0">"identifier"</span><span style="color:#666">:</span> <span style="color:#4070a0">"f3cf8ea7d8bfc59e35ec541946e3e82cd4b73e74"</span>,
  <span style="color:#4070a0">"frozen?"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_version"</span>,
  <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"attributes/default.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"e5a530cca3898d8bd07604435dc5156e"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-e5a530cca3898d8bd07604435dc5156e"</span>
    }
  ],
  <span style="color:#4070a0">"definitions"</span><span style="color:#666">:</span> [
  ],
  <span style="color:#4070a0">"files"</span><span style="color:#666">:</span> [
  ],
  <span style="color:#4070a0">"libraries"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"matchers.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"libraries/matchers.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"24c3f44c4d1d62300a56051f0069f639"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-24c3f44c4d1d62300a56051f0069f639"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"helpers.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"libraries/helpers.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"df65c4a7259fcb30c6f3f1305ebf7502"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-df65c4a7259fcb30c6f3f1305ebf7502"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"libraries/default.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"94292faac84ba797e720501700b30f74"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-94292faac84ba797e720501700b30f74"</span>
    }
  ],
  <span style="color:#4070a0">"providers"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"user.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"providers/user.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"c31c9cc749f21962c825f983a6679d94"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-c31c9cc749f21962c825f983a6679d94"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"policy.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"providers/policy.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"746c8a3f248f5bbfa51f5d2ba60b6315"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-746c8a3f248f5bbfa51f5d2ba60b6315"</span>
    }
  ],
  <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipes/default.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"99a9b404ff6038d6ac55a90ca68c347a"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-99a9b404ff6038d6ac55a90ca68c347a"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cluster.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipes/cluster.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"fc0a86c1f858c9d37e11282efc9fe329"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-fc0a86c1f858c9d37e11282efc9fe329"</span>
    }
  ],
  <span style="color:#4070a0">"resources"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cluster.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"resources/cluster.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"85e74276e19bfdad581dce4f5c59f94a"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-85e74276e19bfdad581dce4f5c59f94a"</span>
    }
  ],
  <span style="color:#4070a0">"root_files"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"36b395e758138a4295d1e3f9b3df5da9"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-36b395e758138a4295d1e3f9b3df5da9"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.md"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.md"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"99873670f0994642f5e6baade52c8020"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-99873670f0994642f5e6baade52c8020"</span>
    }
  ],
  <span style="color:#4070a0">"templates"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rabbitmq-server.erb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"templates/default/default.rabbitmq-server.erb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"077855f4dc37f7fb708976134d8b2551"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-077855f4dc37f7fb708976134d8b2551"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"90forceyes.erb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"templates/default/90forceyes.erb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"73cc571097cf77c74b4e7b5b680020c9"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-73cc571097cf77c74b4e7b5b680020c9"</span>
    }
  ],
  <span style="color:#4070a0">"metadata"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"rabbitmq"</span>,
    <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Installs and configures RabbitMQ server"</span>,
    <span style="color:#4070a0">"long_description"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>,
    <span style="color:#4070a0">"maintainer"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef Software, Inc. and contributors"</span>,
    <span style="color:#4070a0">"maintainer_email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"mklishin@pivotal.io"</span>,
    <span style="color:#4070a0">"license"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Apache-2.0"</span>,
    <span style="color:#4070a0">"platforms"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"amazon"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 2.0"</span>,
      <span style="color:#4070a0">"centos"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 7.0"</span>,
      <span style="color:#4070a0">"debian"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 8.0"</span>,
      <span style="color:#4070a0">"opensuse"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"opensuseleap"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"oracle"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"redhat"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"scientific"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"smartos"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"suse"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"ubuntu"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 14.04"</span>
    },
    <span style="color:#4070a0">"dependencies"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"erlang"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"yum-epel"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"yum-erlang_solutions"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"dpkg_autostart"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"logrotate"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>
    },
    <span style="color:#4070a0">"providing"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"rabbitmq::cluster"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::community_plugins"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::erlang_package"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::esl_erlang_package"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::management_ui"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::mgmt_console"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::plugin_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::plugins"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::policies"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::policy_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::systemd_limits"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::user_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::users"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::vhosts"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::virtualhost_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>
    },
    <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"rabbitmq"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Install and configure RabbitMQ"</span>,
      <span style="color:#4070a0">"rabbitmq::systemd_limits"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Sets up kernel limits (e.g. nofile) for RabbitMQ via systemd"</span>,
      <span style="color:#4070a0">"rabbitmq::cluster"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Set up RabbitMQ clustering."</span>,
      <span style="color:#4070a0">"rabbitmq::management_ui"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Sets up RabbitMQ management plugin/UI"</span>,
      <span style="color:#4070a0">"rabbitmq::mgmt_console"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Deprecated, alias for rabbitmq::management_ui"</span>,
      <span style="color:#4070a0">"rabbitmq::plugins"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Manage plugins with node attributes"</span>,
      <span style="color:#4070a0">"rabbitmq::plugin_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Deprecated, alias for rabbitmq::plugins"</span>,
      <span style="color:#4070a0">"rabbitmq::vhosts"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Manage virtual hosts with node attributes"</span>,
      <span style="color:#4070a0">"rabbitmq::virtualhost_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Deprecated, alias for rabbitmq::vhosts"</span>,
      <span style="color:#4070a0">"rabbitmq::users"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Manage users with node attributes"</span>,
      <span style="color:#4070a0">"rabbitmq::user_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Deprecated, alias for rabbitmq::users"</span>,
      <span style="color:#4070a0">"rabbitmq::policies"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Manage policies with node attributes"</span>,
      <span style="color:#4070a0">"rabbitmq::policy_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Deprecated, alias for rabbitmq::policies"</span>,
      <span style="color:#4070a0">"rabbitmq::erlang_package"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Provisions Erlang via Team RabbitMQ packages"</span>,
      <span style="color:#4070a0">"rabbitmq::esl_erlang_package"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Alias for erlang::esl"</span>,
      <span style="color:#4070a0">"rabbitmq::community_plugins"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>
    },
    <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"5.7.7"</span>,
    <span style="color:#4070a0">"source_url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://github.com/rabbitmq/chef-cookbook"</span>,
    <span style="color:#4070a0">"issues_url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://github.com/rabbitmq/chef-cookbook/issues"</span>,
    <span style="color:#4070a0">"privacy"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>,
    <span style="color:#4070a0">"chef_versions"</span><span style="color:#666">:</span> [
    ],
    <span style="color:#4070a0">"ohai_versions"</span><span style="color:#666">:</span> [
    ],
    <span style="color:#4070a0">"gems"</span><span style="color:#666">:</span> [
    ]
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-18">GET</h4> <p>The <code>GET</code> method is used to return a single cookbook artifact version.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/cookbook_artifacts/NAME/ID
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"5.7.7"</span>,
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"rabbitmq"</span>,
  <span style="color:#4070a0">"identifier"</span><span style="color:#666">:</span> <span style="color:#4070a0">"f3cf8ea7d8bfc59e35ec541946e3e82cd4b73e74"</span>,
  <span style="color:#4070a0">"frozen?"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_version"</span>,
  <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"attributes/default.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"e5a530cca3898d8bd07604435dc5156e"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-e5a530cca3898d8bd07604435dc5156e"</span>
    }
  ],
  <span style="color:#4070a0">"definitions"</span><span style="color:#666">:</span> [
  ],
  <span style="color:#4070a0">"files"</span><span style="color:#666">:</span> [
  ],
  <span style="color:#4070a0">"libraries"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"matchers.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"libraries/matchers.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"24c3f44c4d1d62300a56051f0069f639"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-24c3f44c4d1d62300a56051f0069f639"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"helpers.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"libraries/helpers.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"df65c4a7259fcb30c6f3f1305ebf7502"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-df65c4a7259fcb30c6f3f1305ebf7502"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"libraries/default.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"94292faac84ba797e720501700b30f74"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-94292faac84ba797e720501700b30f74"</span>
    }
  ],
  <span style="color:#4070a0">"providers"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"user.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"providers/user.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"c31c9cc749f21962c825f983a6679d94"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-c31c9cc749f21962c825f983a6679d94"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"policy.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"providers/policy.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"746c8a3f248f5bbfa51f5d2ba60b6315"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-746c8a3f248f5bbfa51f5d2ba60b6315"</span>
    }
  ],
  <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipes/default.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"99a9b404ff6038d6ac55a90ca68c347a"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-99a9b404ff6038d6ac55a90ca68c347a"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cluster.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipes/cluster.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"fc0a86c1f858c9d37e11282efc9fe329"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-fc0a86c1f858c9d37e11282efc9fe329"</span>
    }
  ],
  <span style="color:#4070a0">"resources"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cluster.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"resources/cluster.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"85e74276e19bfdad581dce4f5c59f94a"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-85e74276e19bfdad581dce4f5c59f94a"</span>
    }
  ],
  <span style="color:#4070a0">"root_files"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"36b395e758138a4295d1e3f9b3df5da9"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-36b395e758138a4295d1e3f9b3df5da9"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.md"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.md"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"99873670f0994642f5e6baade52c8020"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-99873670f0994642f5e6baade52c8020"</span>
    }
  ],
  <span style="color:#4070a0">"templates"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rabbitmq-server.erb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"templates/default/default.rabbitmq-server.erb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"077855f4dc37f7fb708976134d8b2551"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-077855f4dc37f7fb708976134d8b2551"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"90forceyes.erb"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"templates/default/90forceyes.erb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"73cc571097cf77c74b4e7b5b680020c9"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/bookshelf/organization-9f69768696feedcd165633b8b475cc0b/checksum-73cc571097cf77c74b4e7b5b680020c9"</span>
    }
  ],
  <span style="color:#4070a0">"metadata"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"rabbitmq"</span>,
    <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Installs and configures RabbitMQ server"</span>,
    <span style="color:#4070a0">"long_description"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>,
    <span style="color:#4070a0">"maintainer"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef Software, Inc. and contributors"</span>,
    <span style="color:#4070a0">"maintainer_email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"mklishin@pivotal.io"</span>,
    <span style="color:#4070a0">"license"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Apache-2.0"</span>,
    <span style="color:#4070a0">"platforms"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"amazon"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 2.0"</span>,
      <span style="color:#4070a0">"centos"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 7.0"</span>,
      <span style="color:#4070a0">"debian"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 8.0"</span>,
      <span style="color:#4070a0">"opensuse"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"opensuseleap"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"oracle"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"redhat"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"scientific"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"smartos"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"suse"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"ubuntu"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 14.04"</span>
    },
    <span style="color:#4070a0">"dependencies"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"erlang"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"yum-epel"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"yum-erlang_solutions"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"dpkg_autostart"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"logrotate"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>
    },
    <span style="color:#4070a0">"providing"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"rabbitmq::cluster"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::community_plugins"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::erlang_package"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::esl_erlang_package"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::management_ui"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::mgmt_console"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::plugin_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::plugins"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::policies"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::policy_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::systemd_limits"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::user_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::users"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::vhosts"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
      <span style="color:#4070a0">"rabbitmq::virtualhost_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>
    },
    <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"rabbitmq"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Install and configure RabbitMQ"</span>,
      <span style="color:#4070a0">"rabbitmq::systemd_limits"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Sets up kernel limits (e.g. nofile) for RabbitMQ via systemd"</span>,
      <span style="color:#4070a0">"rabbitmq::cluster"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Set up RabbitMQ clustering."</span>,
      <span style="color:#4070a0">"rabbitmq::management_ui"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Sets up RabbitMQ management plugin/UI"</span>,
      <span style="color:#4070a0">"rabbitmq::mgmt_console"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Deprecated, alias for rabbitmq::management_ui"</span>,
      <span style="color:#4070a0">"rabbitmq::plugins"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Manage plugins with node attributes"</span>,
      <span style="color:#4070a0">"rabbitmq::plugin_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Deprecated, alias for rabbitmq::plugins"</span>,
      <span style="color:#4070a0">"rabbitmq::vhosts"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Manage virtual hosts with node attributes"</span>,
      <span style="color:#4070a0">"rabbitmq::virtualhost_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Deprecated, alias for rabbitmq::vhosts"</span>,
      <span style="color:#4070a0">"rabbitmq::users"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Manage users with node attributes"</span>,
      <span style="color:#4070a0">"rabbitmq::user_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Deprecated, alias for rabbitmq::users"</span>,
      <span style="color:#4070a0">"rabbitmq::policies"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Manage policies with node attributes"</span>,
      <span style="color:#4070a0">"rabbitmq::policy_management"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Deprecated, alias for rabbitmq::policies"</span>,
      <span style="color:#4070a0">"rabbitmq::erlang_package"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Provisions Erlang via Team RabbitMQ packages"</span>,
      <span style="color:#4070a0">"rabbitmq::esl_erlang_package"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Alias for erlang::esl"</span>,
      <span style="color:#4070a0">"rabbitmq::community_plugins"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>
    },
    <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"5.7.7"</span>,
    <span style="color:#4070a0">"source_url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://github.com/rabbitmq/chef-cookbook"</span>,
    <span style="color:#4070a0">"issues_url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://github.com/rabbitmq/chef-cookbook/issues"</span>,
    <span style="color:#4070a0">"privacy"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>,
    <span style="color:#4070a0">"chef_versions"</span><span style="color:#666">:</span> [
    ],
    <span style="color:#4070a0">"ohai_versions"</span><span style="color:#666">:</span> [
    ],
    <span style="color:#4070a0">"gems"</span><span style="color:#666">:</span> [
    ]
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-5">PUT</h4> <p>The <code>PUT</code> method is used to create or update a single cookbook artifact version.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME/cookbook_artifacts/NAME/ID
</code></pre>
<p>The request body is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"definitions"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"unicorn_config.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"c92b659171552e896074caa58dada0c2"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"definitions/unicorn_config.rb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    }
  ],
  <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> [],
  <span style="color:#4070a0">"files"</span><span style="color:#666">:</span> [],
  <span style="color:#4070a0">"providers"</span><span style="color:#666">:</span> [],
  <span style="color:#4070a0">"metadata"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"dependencies"</span><span style="color:#666">:</span> {<span style="color:#4070a0">"ruby"</span><span style="color:#666">:</span> [], <span style="color:#4070a0">"rubygems"</span><span style="color:#666">:</span> []},
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"unicorn"</span>,
    <span style="color:#4070a0">"maintainer_email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"ops@chef.io"</span>,
    <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"license"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Apache 2.0"</span>,
    <span style="color:#4070a0">"suggestions"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"platforms"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"maintainer"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef Software, Inc."</span>,
    <span style="color:#4070a0">"long_description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"= LICENSE AND AUTHOR:\\n\\nAuthor:: Adam Jacob..."</span>,
    <span style="color:#4070a0">"recommendations"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0.1.2"</span>,
    <span style="color:#4070a0">"conflicting"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> {<span style="color:#4070a0">"unicorn"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Installs unicorn rubygem"</span>},
    <span style="color:#4070a0">"groupings"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"replacing"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Installs/Configures unicorn"</span>,
    <span style="color:#4070a0">"providing"</span><span style="color:#666">:</span> {}
  },
  <span style="color:#4070a0">"libraries"</span><span style="color:#666">:</span> [],
  <span style="color:#4070a0">"templates"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"unicorn.rb.erb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"36a1cc1b225708db96d48026c3f624b2"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"templates/default/unicorn.rb.erb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    }
  ],
  <span style="color:#4070a0">"resources"</span><span style="color:#666">:</span> [],
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"unicorn"</span>,
  <span style="color:#4070a0">"identifier"</span><span style="color:#666">:</span> <span style="color:#4070a0">"ba0dadcbca26710a521e0e3160cc5e20"</span>,
  <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"ba0dadcbca26710a521e0e3160cc5e20"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipes/default.rb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    }
  ],
  <span style="color:#4070a0">"root_files"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.rdoc"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"d18c630c8a68ffa4852d13214d0525a6"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.rdoc"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"967087a09f48f234028d3aa27a094882"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.json"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"45b27c78955f6a738d2d42d88056c57c"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.json"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    }
  ],
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_artifact_version"</span>
}
</code></pre></div>
<p>where the <code>checksum</code> values must have already been uploaded to the Chef Infra Server using the sandbox endpoint. Once a file with a particular checksum has been uploaded by the user, redundant uploads are not necessary. Unused <code>checksum</code> values will be garbage collected.</p> <p><strong>Response</strong></p> <p>This method has no response body.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="cookbooks">/cookbooks</h3> <p>A cookbook is the fundamental unit of configuration and policy distribution in Chef Infra.</p> <p>A cookbook defines a scenario and contains everything that is required to support that scenario:</p> <ul> <li>Recipes that specify which Chef Infra built-in resources to use, as well as the order in which they are to be applied</li> <li>Attribute values, which allow environment-based configurations such as <code>dev</code> or <code>prodution</code>.</li> <li>Custom Resources for extending Chef Infra beyond the built-in resources.</li> <li>Files and Templates for distributing information to systems.</li> <li>Custom Ohai Plugins for extending system configuration collection beyond the Ohai defaults.</li> <li>The <code>metadata.rb</code> file, which describes the cookbook itself and any dependencies it may have.</li> </ul> <p>When a cookbook is uploaded, only files that are new or updated will be included. This approach minimizes the amount of storage and time that is required during the modify-upload-test cycle. To keep track of which files have already been uploaded, Chef Infra Client uses a checksum and assigns a checksum to each file. These checksums are used in the cookbook version manifest, alongside the same records that store the file description (name, specificity, and so on), as well as the checksum and the URL from which the file’s contents can be retrieved.</p> <p>The <code>/cookbooks</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-19">GET</h4> <p>The <code>GET</code> method is used to return a hash of all cookbooks and cookbook versions.</p> <p>This method has the following parameters:</p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>num_versions=n</code></td> <td>The number of cookbook versions to include in the response, where <code>n</code> is the number of cookbook versions. For example: <code>num_versions=3</code> returns the three latest versions, in descending order (newest to oldest). Use <code>num_versions=all</code> to return all cookbook versions. If <code>num_versions</code> is not specified, a single cookbook version is returned. <code>0</code> is an invalid input (an empty array for the versions of each cookbook is returned).</td> </tr> </tbody> </table> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/cookbooks
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"apache2"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/apache2"</span>,
    <span style="color:#4070a0">"versions"</span><span style="color:#666">:</span> [
      {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/apache2/5.1.0"</span>,
       <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"5.1.0"</span>},
      {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/apache2/4.2.0"</span>,
       <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"4.2.0"</span>}
    ]
  },
  <span style="color:#4070a0">"nginx"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/nginx"</span>,
    <span style="color:#4070a0">"versions"</span><span style="color:#666">:</span> [
      {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/nginx/1.0.0"</span>,
       <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"1.0.0"</span>},
      {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/nginx/0.3.0"</span>,
       <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0.3.0"</span>}
    ]
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h3 id="cookbooks_latest">/cookbooks/_latest</h3> <p>The <code>/cookbooks/_latest</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-20">GET</h4> <p>The <code>GET</code> method is used to return a list of the most recent cookbook versions.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/cookbooks/_latest
</code></pre>
<p><strong>Response</strong></p> <p>For example, if cookbooks <code>foo</code> and <code>bar</code> both exist on the Chef Infra Server and both with versions <code>0.1.0</code> and <code>0.2.0</code>, the response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"foo"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/foo/0.2.0"</span>,
  <span style="color:#4070a0">"bar"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/bar/0.2.0"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="cookbooks_recipes">/cookbooks/_recipes</h3> <p>The <code>/cookbooks/_recipes</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-21">GET</h4> <p>The <code>GET</code> method is used to return the names of all recipes in the most recent cookbook versions.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/cookbooks/_recipes
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{

}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="cookbooksname">/cookbooks/NAME</h3> <p>The <code>/cookbooks/NAME</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-22">GET</h4> <p>The <code>GET</code> method is used to return a hash that contains a key-value pair that corresponds to the specified cookbook, with a URL for the cookbook and for each version of the cookbook.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/cookbooks/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"apache2"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/apache2"</span>,
    <span style="color:#4070a0">"versions"</span><span style="color:#666">:</span> [
      {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/apache2/5.1.0"</span>,
       <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"5.1.0"</span>},
      {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/apache2/4.2.0"</span>,
       <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"4.2.0"</span>}
    ]
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="cookbooksnameversion">/cookbooks/NAME/version</h3> <p>A cookbook version represents a set of functionality that is different from the cookbook on which it is based. A version may exist for many reasons, such as ensuring the correct use of a third-party component, updating a bug fix, or adding an improvement. A cookbook version is defined using syntax and operators, may be associated with environments, cookbook metadata, and/or run-lists, and may be frozen (to prevent unwanted updates from being made).</p> <p>A cookbook version is maintained just like a cookbook, with regard to source control, uploading it to the Chef Infra Server, and how Chef Infra Client applies that cookbook when configuring nodes.</p> <p>The <code>/cookbooks/NAME/VERSION</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>PUT</code>.</p> <h4 id="delete-8">DELETE</h4> <p>The <code>DELETE</code> method is used to delete a cookbook version.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/cookbooks/NAME/VERSION
</code></pre>
<p><strong>Response</strong></p> <p>This method has no response body. Unused <code>checksum</code> values will be garbage collected.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-23">GET</h4> <p>The <code>GET</code> method is used to return a description of a cookbook, including its metadata and links to component files.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/cookbooks/NAME/VERSION
</code></pre>
<p>where <code>VERSION</code> can be <code>_latest</code> in order to float to head.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"getting-started"</span>,
  <span style="color:#4070a0">"files"</span><span style="color:#666">:</span> [

  ],
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_version"</span>,
  <span style="color:#4070a0">"definitions"</span><span style="color:#666">:</span> [

  ],
  <span style="color:#4070a0">"libraries"</span><span style="color:#666">:</span> [

  ],
  <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://domain.com/org_name/(...rest of URL)"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"attributes/default.rb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"fa0fc4abf3f6787fdsaasadfrc5c35de667c"</span>
    }
  ],
  <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://domain.com/org_name/(...rest of URL)"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipes/default.rb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"7e79b1ace7728fdsadfsdaf857e60fc69"</span>
    }
  ],
  <span style="color:#4070a0">"providers"</span><span style="color:#666">:</span> [

  ],
  <span style="color:#4070a0">"resources"</span><span style="color:#666">:</span> [

  ],
  <span style="color:#4070a0">"templates"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://domain.com/org_name/(...rest of URL)"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"templates/default/chef-getting-started.txt.erb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"chef-getting-started.txt.erb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"a29d6f2545sdffds1f140c3a78b1fe"</span>
    }
  ],
  <span style="color:#4070a0">"root_files"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://domain.com/org_name/(...rest of URL)"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">".DS_Store"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">".DS_Store"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"c107b500aafd12asdffdsdf5c2a7d6"</span>
    },
    {
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://domain.com/org_name/(...rest of URL)"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.json"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.json"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"20f09570e54dasdf0f3ae01e6401c90f"</span>
    },
    {
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://domain.com/org_name/(...rest of URL)"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"71027aefasd487fdsa4cb6994b66ed"</span>
    },
    {
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://domain.com/org_name/(...rest of URL)"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.rdoc"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.rdoc"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"8b9275e56fee974easdfasdfbb729"</span>
    }
  ],
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"getting-started-0.4.0"</span>,
  <span style="color:#4070a0">"frozen?"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>,
  <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0.4.0"</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::CookbookVersion"</span>,
  <span style="color:#4070a0">"metadata"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"maintainer"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Maintainer"</span>,
    <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> { },
    <span style="color:#4070a0">"suggestions"</span><span style="color:#666">:</span> { },
    <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> { <span style="color:#4070a0">"getting-started"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span> },
    <span style="color:#4070a0">"dependencies"</span><span style="color:#666">:</span> { },
    <span style="color:#4070a0">"platforms"</span><span style="color:#666">:</span> { },
    <span style="color:#4070a0">"groupings"</span><span style="color:#666">:</span> { },
    <span style="color:#4070a0">"recommendations"</span><span style="color:#666">:</span> { },
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"getting-started"</span>,
    <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"description"</span>,
    <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0.4.0"</span>,
    <span style="color:#4070a0">"maintainer_email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"sysadmin@chef.io"</span>,
    <span style="color:#4070a0">"long_description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"= DESCRIPTION:\n\nThis cookbook is used to do some things.\n\n"</span>,
    <span style="color:#4070a0">"providing"</span><span style="color:#666">:</span> { <span style="color:#4070a0">"getting-started"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span> },
    <span style="color:#4070a0">"replacing"</span><span style="color:#666">:</span> { },
    <span style="color:#4070a0">"conflicting"</span><span style="color:#666">:</span> { },
    <span style="color:#4070a0">"license"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Apache 2.0"</span>
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-6">PUT</h4> <p>The <code>PUT</code> method is used to create or update a cookbook version.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME/cookbooks/NAME/VERSION
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"definitions"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"unicorn_config.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"c92b659171552e896074caa58dada0c2"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"definitions/unicorn_config.rb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    }
  ],
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"unicorn-0.1.2"</span>,
  <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> [],
  <span style="color:#4070a0">"files"</span><span style="color:#666">:</span> [],
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::CookbookVersion"</span>,
  <span style="color:#4070a0">"providers"</span><span style="color:#666">:</span> [],
  <span style="color:#4070a0">"metadata"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"dependencies"</span><span style="color:#666">:</span> {<span style="color:#4070a0">"ruby"</span><span style="color:#666">:</span> [], <span style="color:#4070a0">"rubygems"</span><span style="color:#666">:</span> []},
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"unicorn"</span>,
    <span style="color:#4070a0">"maintainer_email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"ops@chef.io"</span>,
    <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"license"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Apache 2.0"</span>,
    <span style="color:#4070a0">"suggestions"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"platforms"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"maintainer"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef Software, Inc."</span>,
    <span style="color:#4070a0">"long_description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"= LICENSE AND AUTHOR:\n\nAuthor:: Adam Jacob..."</span>,
    <span style="color:#4070a0">"recommendations"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0.1.2"</span>,
    <span style="color:#4070a0">"conflicting"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> {<span style="color:#4070a0">"unicorn"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Installs unicorn rubygem"</span>},
    <span style="color:#4070a0">"groupings"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"replacing"</span><span style="color:#666">:</span> {},
    <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Installs/Configures unicorn"</span>,
    <span style="color:#4070a0">"providing"</span><span style="color:#666">:</span> {}
  },
  <span style="color:#4070a0">"libraries"</span><span style="color:#666">:</span> [],
  <span style="color:#4070a0">"templates"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"unicorn.rb.erb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"36a1cc1b225708db96d48026c3f624b2"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"templates/default/unicorn.rb.erb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    }
  ],
  <span style="color:#4070a0">"resources"</span><span style="color:#666">:</span> [],
  <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"unicorn"</span>,
  <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0.1.2"</span>,
  <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"ba0dadcbca26710a521e0e3160cc5e20"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipes/default.rb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    }
  ],
  <span style="color:#4070a0">"root_files"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.rdoc"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"d18c630c8a68ffa4852d13214d0525a6"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.rdoc"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"967087a09f48f234028d3aa27a094882"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    },
    {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.json"</span>,
      <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"45b27c78955f6a738d2d42d88056c57c"</span>,
      <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.json"</span>,
      <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>
    }
  ],
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_version"</span>
}
</code></pre></div>
<p>where the <code>checksum</code> values must have already been uploaded to the Chef Infra Server using the sandbox endpoint. Once a file with a particular checksum has been uploaded by the user, redundant uploads are not necessary. Unused <code>checksum</code> values will be garbage collected.</p> <p><strong>Response</strong></p> <p>This method has no response body.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="data">/data</h3> <p>Data bags store global variables as JSON data. Data bags are indexed for searching and can be loaded by a cookbook or accessed during a search.</p> <p>The <code>/data</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <h4 id="get-24">GET</h4> <p>The <code>GET</code> method is used to return a list of all data bags on the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/data
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"users"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/NAME/data/users"</span>,
  <span style="color:#4070a0">"applications"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/NAME/data/applications"</span>
}
</code></pre></div>
<p>shown as a list of key-value pairs, where (in the example above) <code>users</code> and <code>applications</code> are the names of data bags and <code>https://chef.example/organizations/NAME/data/foo</code> is the path to the data bag.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h4 id="post-8">POST</h4> <p>The <code>POST</code> method is used to create a new data bag on the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/data
</code></pre>
<p>with a request body that contains the key-value pair for the data bag and is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"users"</span>
}
</code></pre></div>
<p>where (in the example above) <code>name</code> is the key and “users” is the value.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
   <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://organizations/NAME/data/users"</span>,
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>Created. The object was created.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>409</code></td> <td>Conflict. A databag with that name already exists.</td> </tr> <tr class="odd"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="dataname">/data/NAME</h3> <p>The <code>/data/NAME</code> endpoint is used to view and update data for a specific data bag. This endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>POST</code>.</p> <h4 id="delete-9">DELETE</h4> <p>The <code>DELETE</code> method is used to delete a data bag.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/data/NAME
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"users"</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::DataBag"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"data_bag"</span>
}
</code></pre></div>
<p>where the key-value pairs represent the last state of the data bag item.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-25">GET</h4> <p>The <code>GET</code> method is used to return a hash of all entries in the specified data bag.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/data/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
   <span style="color:#4070a0">"adam"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/NAME/data/users/adam"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="post-9">POST</h4> <p>The <code>POST</code> method is used to create a new data bag item.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/data/NAME
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"id"</span><span style="color:#666">:</span> <span style="color:#4070a0">"adam"</span>,
  <span style="color:#4070a0">"real_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Adam Jacob"</span>
}
</code></pre></div>
<p>where <code>id</code> is required.</p> <p><strong>Response</strong></p> <p>This method has no response body.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>OK. The item was created.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> <tr class="even"> <td><code>409</code></td> <td>Conflict. The object already exists.</td> </tr> <tr class="odd"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="datanameitem">/data/NAME/ITEM</h3> <p>A data bag is a container of related data bag items, where each individual data bag item is a JSON file. knife can load a data bag item by specifying the name of the data bag to which the item belongs and then the filename of the data bag item. The only structural requirement of a data bag item is that it must have an <code>id</code>:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#60a0b0;font-style:italic">/* This is a supported comment style */</span>
  <span style="color:#60a0b0;font-style:italic">// This style is also supported
</span>  <span style="color:#4070a0">"id"</span><span style="color:#666">:</span> <span style="color:#4070a0">"ITEM_NAME"</span>,
  <span style="color:#4070a0">"key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"value"</span>
}
</code></pre></div>
<p>where</p> <ul> <li>
<code>key</code> and <code>value</code> are the <code>key:value</code> pair for each additional attribute within the data bag item</li> <li>
<code>/* ... */</code> and <code>// ...</code> show two ways to add comments to the data bag item</li> </ul> <p>The <code>/data/NAME/ITEM</code> endpoint allows the key-value pairs within a data bag item to be viewed and managed. This endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>PUT</code>.</p> <h4 id="delete-10">DELETE</h4> <p>The <code>DELETE</code> method is used to delete a key-value pair in a data bag item.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/data/NAME/ITEM
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-26">GET</h4> <p>The <code>GET</code> method is used to view all of the key-value pairs in a data bag item.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/data/NAME/ITEM
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"real_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Adam Jacob"</span>,
  <span style="color:#4070a0">"id"</span><span style="color:#666">:</span> <span style="color:#4070a0">"adam"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-7">PUT</h4> <p>The <code>PUT</code> method is used to replace the contents of a data bag item with the contents of this request.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME/data/NAME/ITEM
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"real_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Adam Brent Jacob"</span>,
  <span style="color:#4070a0">"id"</span><span style="color:#666">:</span> <span style="color:#4070a0">"adam"</span>
}
</code></pre></div>
<p>where <code>id</code> is required.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> <tr class="odd"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="environments">/environments</h3> <p>An environment is a way to map an organization’s real-life workflow to what can be configured and managed when using Chef Infra. This mapping is accomplished by setting attributes and pinning cookbooks at the environment level. With environments, you can change cookbook configurations depending on the system’s designation. For example, by designating different staging and production environments, you can then define the correct URL of a database server for each environment. Environments also allow organizations to move new cookbook releases from staging to production with confidence by stepping releases through testing environments before entering production.</p> <p>The <code>/environments</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <h4 id="get-27">GET</h4> <p>The <code>GET</code> method is used to return a data structure that contains a link to each available environment.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/environments
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"_default"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://api.chef.io/organizations/org_name/environments/_default"</span>,
  <span style="color:#4070a0">"webserver"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://api.chef.io/organizations/org_name/environments/webserver"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h4 id="post-10">POST</h4> <p>The <code>POST</code> method is used to create a new environment.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/environments
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"dev"</span>,
  <span style="color:#4070a0">"default_attributes"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Environment"</span>,
  <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>,
  <span style="color:#4070a0">"cookbook_versions"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"environment"</span>
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{ <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/environments/dev"</span> }
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>Created. The object was created.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>409</code></td> <td>Conflict. The object already exists.</td> </tr> <tr class="even"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="environments_default">/environments/_default</h3> <p>The <code>/environments/_default</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-28">GET</h4> <p>The <code>GET</code> method is used to get information about the <code>_default</code> environment on the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/environments/_default
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"_default"</span>,
  <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"The default Chef environment"</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Environment"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"environment"</span>,
  <span style="color:#4070a0">"default_attributes"</span><span style="color:#666">:</span> {

  },
  <span style="color:#4070a0">"override_attributes"</span><span style="color:#666">:</span> {

  },
  <span style="color:#4070a0">"cookbook_versions"</span><span style="color:#666">:</span> {

  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="environmentsname">/environments/NAME</h3> <p>The <code>/environments/NAME</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, and <code>PUT</code>.</p> <h4 id="delete-11">DELETE</h4> <p>The <code>DELETE</code> method is used to delete an environment.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/environments/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response will return the JSON for the environment that was deleted, similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span><span style="color:#4070a0">"backend"</span>,
  <span style="color:#4070a0">"description"</span><span style="color:#666">:</span><span style="color:#4070a0">""</span>,
  <span style="color:#4070a0">"cookbook_versions"</span><span style="color:#666">:</span>{},
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span><span style="color:#4070a0">"Chef::Environment"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span><span style="color:#4070a0">"environment"</span>,
  <span style="color:#4070a0">"default_attributes"</span><span style="color:#666">:</span>{},
  <span style="color:#4070a0">"override_attributes"</span><span style="color:#666">:</span>{}
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-29">GET</h4> <p>The <code>GET</code> method is used to return the details for an environment as JSON.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/environments/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"_default"</span>,
  <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"The default Chef environment"</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Environment"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"environment"</span>,
  <span style="color:#4070a0">"default_attributes"</span><span style="color:#666">:</span> { }
  <span style="color:#4070a0">"override_attributes"</span><span style="color:#666">:</span> { },
  <span style="color:#4070a0">"cookbook_versions"</span><span style="color:#666">:</span> { },
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-8">PUT</h4> <p>The <code>PUT</code> method is used to update the details of an environment on the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME/environments/NAME
</code></pre>
<p>with a request body that contains the updated JSON for the environment and is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"dev"</span>,
  <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Environment"</span>,
  <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"The Dev Environment"</span>,
  <span style="color:#4070a0">"cookbook_versions"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"environment"</span>
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response will return the updated environment.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> <tr class="odd"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="environmentsnamecookbooksname">/environments/NAME/cookbooks/NAME</h3> <p>The <code>/environments/NAME/cookbooks/NAME</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-30">GET</h4> <p>The <code>GET</code> method is used to return a hash of key-value pairs for the requested cookbook.</p> <p>This method has the following parameters:</p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>num_versions=n</code></td> <td>The number of cookbook versions to include in the response, where <code>n</code> is the number of cookbook versions. For example: <code>num_versions=3</code> returns the three latest versions, in descending order (newest to oldest). Use <code>num_versions=all</code> to return all cookbook versions. If <code>num_versions</code> is not specified, a single cookbook version is returned. <code>0</code> is an invalid input (an empty array for the versions of each cookbook is returned).</td> </tr> </tbody> </table> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/environments/NAME/cookbooks/NAME
</code></pre>
<p>where the first instance of <code>NAME</code> is the name of the environment, and the second instance is the name of the cookbook.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">{
  "apache2": {
    "url": "https://localhost/cookbooks/apache2",
    "versions": [
      {"url": "https://localhost/cookbooks/apache2/5.1.0",
       "version": "5.1.0"},
      {"url": "https://localhost/cookbooks/apache2/4.2.0",
       "version": "4.2.0"}
    ]
  }
}
</code></pre>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="environmentsnamecookbook_versions">/environments/NAME/cookbook_versions</h3> <p>The <code>/environments/NAME/cookbook_versions</code> endpoint has the following methods: <code>POST</code>.</p> <h4 id="post-11">POST</h4> <p>The <code>POST</code> method is used to return a hash of the cookbooks and cookbook versions (including all dependencies) that are required by the <code>run_list</code> array. Version constraints may be specified using the <code>@</code> symbol after the cookbook name as a delimiter. Version constraints may also be present when the <code>cookbook_versions</code> attributes is specified for an environment or when dependencies are specified by a cookbook.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/environments/NAME/cookbook_versions
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"zed@0.0.1"</span>,
    <span style="color:#4070a0">"bar"</span>,
    <span style="color:#4070a0">"mysql"</span>,
    <span style="color:#4070a0">"gem"</span>,
    <span style="color:#4070a0">"nginx@0.99.2"</span>,
    <span style="color:#4070a0">"cron"</span>,
    <span style="color:#4070a0">"foo"</span>
  ]
}
</code></pre></div>
<p>where <code>@x.x.x</code> represents a constraint for a cookbook version.</p> <p><strong>Response</strong></p> <p>The response will return a list of cookbooks that are required by the <code>run_list</code> array contained in the request. The cookbooks that are returned are often the latest versions of each cookbook. Depending on any constraints present in the request or on dependencies a cookbook may have for specific cookbook versions, a request may not always return the latest cookbook version for each cookbook.</p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipes/default.rb"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipe_name.rb"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipes/recipe_name.rb"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
      {
        ...
      }
    ],
    <span style="color:#4070a0">"definitions"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"libraries"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"files"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"templates"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"template_name.erb"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"templates/default/template_name.erb"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
      {
        ...
      }
    ],
    <span style="color:#4070a0">"resources"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"providers"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"root_files"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      }
    ],
    <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_name-1.0.2"</span>,
    <span style="color:#4070a0">"metadata"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_name"</span>,
      <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"description"</span>,
      <span style="color:#4070a0">"long_description"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>,
      <span style="color:#4070a0">"maintainer"</span><span style="color:#666">:</span> <span style="color:#4070a0">"maintainer"</span>,
      <span style="color:#4070a0">"maintainer_email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"maintainer@email.com"</span>,
      <span style="color:#4070a0">"license"</span><span style="color:#666">:</span> <span style="color:#4070a0">"license"</span>,
      <span style="color:#4070a0">"platforms"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"dependencies"</span><span style="color:#666">:</span> {
        <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
        <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 1.2.3"</span>,
        ...
        <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.1.0"</span>
      },
      <span style="color:#4070a0">"recommendations"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"suggestions"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"conflicting"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"providing"</span><span style="color:#666">:</span> {
        <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
        <span style="color:#4070a0">"cookbook_name::recipe_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
        <span style="color:#4070a0">"cookbook_name::recipe_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 1.2.3"</span>,
        <span style="color:#4070a0">"cookbook_name::recipe_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.1.0"</span>
      },
      <span style="color:#4070a0">"replacing"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"groupings"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> {
        <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"description"</span>,
        <span style="color:#4070a0">"cookbook_name::recipe_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>,
        ...
        <span style="color:#4070a0">"cookbook_name::recipe_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>
      },
      <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0.0.0"</span>
    },
    <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0.0.0"</span>,
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_name-1.0.2"</span>,
    <span style="color:#4070a0">"frozen?"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">false</span>,
    <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_version"</span>,
    <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::CookbookVersion"</span>
  },
  <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> {
     <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"recipes/default.rb"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
    ],
    <span style="color:#4070a0">"definitions"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"libraries"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"library_file.rb"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"libraries/library_file.rb"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      }
    ],
    <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default.rb"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"attributes/default.rb"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      }
    ],
    <span style="color:#4070a0">"files"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"templates"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"resources"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"providers"</span><span style="color:#666">:</span> [

    ],
    <span style="color:#4070a0">"root_files"</span><span style="color:#666">:</span> [
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">".gitignore"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">".gitignore"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">".kitchen.yml"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">".kitchen.yml"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"CHANGELOG.md"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"CHANGELOG.md"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"CONTRIBUTING"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"CONTRIBUTING"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"LICENSE"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"LICENSE"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.json"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.json"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"metadata.rb"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
      {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.md"</span>,
        <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"README.md"</span>,
        <span style="color:#4070a0">"checksum"</span><span style="color:#666">:</span> <span style="color:#4070a0">"12345efg78912346abcddefg789"</span>,
        <span style="color:#4070a0">"specificity"</span><span style="color:#666">:</span> <span style="color:#4070a0">"default"</span>,
        <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://URL"</span>
      },
    ],
    <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_version"</span>,
    <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_name-1.0.2"</span>,
    <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_name"</span>,
    <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"1.0.2"</span>,
    <span style="color:#4070a0">"metadata"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"cookbook_name"</span>,
      <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"description"</span>,
      <span style="color:#4070a0">"long_description"</span><span style="color:#666">:</span> <span style="color:#4070a0">""</span>,
      <span style="color:#4070a0">"maintainer"</span><span style="color:#666">:</span> <span style="color:#4070a0">"maintainer"</span>,
      <span style="color:#4070a0">"maintainer_email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"maintainer@email.com"</span>,
      <span style="color:#4070a0">"license"</span><span style="color:#666">:</span> <span style="color:#4070a0">"license"</span>,
      <span style="color:#4070a0">"platforms"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"dependencies"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"recommendations"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"suggestions"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"conflicting"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"providing"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"replacing"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"groupings"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"recipes"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"1.0.2"</span>
    },
    <span style="color:#4070a0">"frozen?"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">true</span>,
    <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::CookbookVersion"</span>
  },
  <span style="color:#4070a0">"cookbook_name"</span><span style="color:#666">:</span> {
   ...
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> <tr class="even"> <td><code>412</code></td> <td>Not allowed. A set of cookbooks and/or cookbook versions could not be found that met all of the requirements of the run-list. A cookbook in the run-list may not exist. A dependency may be present for a cookbook that does not exist. A constraint on a cookbook made by a run-list, environment, or cookbook version, may not match an available cookbook version.</td> </tr> <tr class="odd"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="environmentsnamecookbooks">/environments/NAME/cookbooks</h3> <p>The <code>/environments/NAME/cookbooks</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-31">GET</h4> <p>The <code>GET</code> method is used to get a list of cookbooks and cookbook versions that are available to the specified environment.</p> <p>This method has the following parameters:</p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>num_versions=n</code></td> <td>The number of cookbook versions to include in the response, where <code>n</code> is the number of cookbook versions. For example: <code>num_versions=3</code> returns the three latest versions, in descending order (newest to oldest). Use <code>num_versions=all</code> to return all cookbook versions. If <code>num_versions</code> is not specified, a single cookbook version is returned. <code>0</code> is an invalid input (an empty array for the versions of each cookbook is returned).</td> </tr> </tbody> </table> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/environments/NAME/cookbooks
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"apache2"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/apache2"</span>,
    <span style="color:#4070a0">"versions"</span><span style="color:#666">:</span> [
      {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/apache2/5.1.0"</span>,
       <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"5.1.0"</span>},
      {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/apache2/4.2.0"</span>,
       <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"4.2.0"</span>}
    ]
  },
  <span style="color:#4070a0">"nginx"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/nginx"</span>,
    <span style="color:#4070a0">"versions"</span><span style="color:#666">:</span> [
      {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/nginx/1.0.0"</span>,
       <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"1.0.0"</span>},
      {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/cookbooks/nginx/0.3.0"</span>,
       <span style="color:#4070a0">"version"</span><span style="color:#666">:</span> <span style="color:#4070a0">"0.3.0"</span>}
    ]
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="environmentsnamenodes">/environments/NAME/nodes</h3> <p>The <code>/environments/NAME/nodes</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-32">GET</h4> <p>The <code>GET</code> method is used to return a list of nodes in a given environment.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/environments/NAME/nodes
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"blah"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://api.chef.io/org/org_name/nodes/_default"</span>,
  <span style="color:#4070a0">"boxer"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://api.chef.io/org/org_name/nodes/frontend"</span>,
  <span style="color:#4070a0">"blarrrrgh"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://api.chef.io/org/org_name/nodes/backend"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="environmentsnamerecipes">/environments/NAME/recipes</h3> <p>The <code>/environments/NAME/recipes</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-33">GET</h4> <p>The <code>GET</code> method is used to return a list of recipes available to a given environment.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/environments/NAME/recipes
</code></pre>
<p>where the first instance of <code>NAME</code> is the name of the environment, and the second instance is the name of the recipe.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">[
  "ant",
  "apache2",
  "apache2::mod_auth_openid",
  "apache2::mod_authnz_ldap",
  "apt",
  "aws",
  "capistrano",
  "chef",
  "chef::bootstrap_client",
  "chef-client::config",
  "chef-client",
  ...
]
</code></pre>
<p>The list of recipes will be the default recipes for a given cookbook. If an environment has multiple versions of a cookbook that matches its constraints, only the recipes from the latest version of that cookbook will be reported.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="environmentsnamerolesname">/environments/NAME/roles/NAME</h3> <p>The <code>/environments/NAME/roles/NAME</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-34">GET</h4> <p>The <code>GET</code> method is used to return the <code>run_list</code> attribute of the role (when the name of the environment is <code>_default</code>) or to return <code>env_run_lists[environment_name]</code> (for non-default environments).</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> The behavior of this endpoint is identical to <code>GET /roles/NAME/environments/NAME</code>; it is recommended (but not required) that <code>GET /roles/NAME/environments/NAME</code> be used instead of this endpoint. </div> </div> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/environments/NAME/roles/NAME
</code></pre>
<p>where the first instance of <code>NAME</code> is the name of the environment, and the second instance is the name of the role.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"recipe[recipe_name]"</span>,
    <span style="color:#4070a0">"role[role_name]"</span>,
    <span style="color:#4070a0">"recipe[recipe_name]"</span>,
    <span style="color:#4070a0">"role[role_name]"</span>,
    <span style="color:#4070a0">"recipe[recipe_name]"</span>,
    <span style="color:#4070a0">"role[role_name]"</span>
  ]
}
</code></pre></div>
<p>Chef Infra Client will pick up the <code>_default</code> run-list if <code>env_run_list[environment_name]</code> is null or nonexistent.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="groups">/groups</h3> <p>The <code>/groups</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <h4 id="get-35">GET</h4> <p>The <code>GET</code> method is used to get a list of groups on the Chef Infra Server for a single organization.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/groups
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"33a5c28a8efe11e195005fsaes25400298d3f"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://url/for/group1"</span>,
  <span style="color:#4070a0">"admins"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://url/for/groups/admins"</span>,
  <span style="color:#4070a0">"billing-admins"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://url/for/billing-admins"</span>,
  <span style="color:#4070a0">"clients"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://url/for/clients"</span>,
  <span style="color:#4070a0">"developers"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://url/for/developers"</span>,
  <span style="color:#4070a0">"users"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://url/for/groups/users"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="post-12">POST</h4> <p>The <code>POST</code> method is used to create a group on the Chef Infra Server for a single organization.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/groups
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"group1"</span>,
  <span style="color:#4070a0">"groupname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"group1"</span>,
  <span style="color:#4070a0">"orgname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"test"</span>,
  <span style="color:#4070a0">"actors"</span><span style="color:#666">:</span> []
  <span style="color:#4070a0">"clients"</span><span style="color:#666">:</span> [<span style="color:#4070a0">"mynode"</span>],
  <span style="color:#4070a0">"groups"</span><span style="color:#666">:</span> [<span style="color:#4070a0">"admins"</span>],
  <span style="color:#4070a0">"users"</span><span style="color:#666">:</span> [<span style="color:#4070a0">"betina"</span>]
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/test/groups/group1"</span>,
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>OK. The group was created.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> <tr class="odd"> <td><code>409</code></td> <td>Conflict. The requested group already exists.</td> </tr> </tbody> </table> <h3 id="groupsgroup_name">/groups/GROUP_NAME</h3> <p>The <code>/groups/GROUP_NAME</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code> and <code>PUT</code>.</p> <h4 id="delete-12">DELETE</h4> <p>The <code>DELETE</code> method is used to remove a group from a single organization.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/groups/GROUP_NAME
</code></pre>
<p>without a request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The group was deleted.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-36">GET</h4> <p>The <code>GET</code> method is used to get lists of users and other groups that belong to a group.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/groups/GROUP_NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"actors"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"pivotal"</span>,
    <span style="color:#4070a0">"grantmc"</span>
  ],
  <span style="color:#4070a0">"users"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"pivotal"</span>,
    <span style="color:#4070a0">"grantmc"</span>
  ],
  <span style="color:#4070a0">"clients"</span><span style="color:#666">:</span> [

  ],
  <span style="color:#4070a0">"groups"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"000000000000ad94b5ddde157c070f0c"</span>
  ],
  <span style="color:#4070a0">"orgname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"inbetweens"</span>,
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"admins"</span>,
  <span style="color:#4070a0">"groupname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"admins"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-9">PUT</h4> <p>The <code>PUT</code> method is used to update a group on a single organization. Updating the clients, groups and users memberships replaces the definitions for the group. <code>GET</code> the group and merge changes to create the desired member lists.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME/groups/GROUP_NAME
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"group1"</span>,
  <span style="color:#4070a0">"groupname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"groupnew"</span>,
  <span style="color:#4070a0">"actors"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"clients"</span><span style="color:#666">:</span> [<span style="color:#4070a0">"mynode"</span>,<span style="color:#4070a0">"addme"</span>],
    <span style="color:#4070a0">"groups"</span><span style="color:#666">:</span> [<span style="color:#4070a0">"admins"</span>],
    <span style="color:#4070a0">"users"</span><span style="color:#666">:</span> [<span style="color:#4070a0">"betina"</span>]
  }
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"group1"</span>,
  <span style="color:#4070a0">"groupname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"groupnew"</span>,
  <span style="color:#4070a0">"orgname"</span><span style="color:#666">:</span> <span style="color:#4070a0">"test"</span>,
  <span style="color:#4070a0">"actors"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"clients"</span><span style="color:#666">:</span> [<span style="color:#4070a0">"mynode"</span>,<span style="color:#4070a0">"addme"</span>],
    <span style="color:#4070a0">"groups"</span><span style="color:#666">:</span> [<span style="color:#4070a0">"admins"</span>],
    <span style="color:#4070a0">"users"</span><span style="color:#666">:</span> [<span style="color:#4070a0">"betina"</span>]
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>OK. The group was updated.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="nodes">/nodes</h3> <p>A node is any device—physical, virtual, cloud, network device, etc.—that is under management by Chef Infra.</p> <p>The <code>/nodes</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <h4 id="get-37">GET</h4> <p>The <code>GET</code> method is used to return a hash of URIs for nodes on the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/nodes
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"latte"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/nodes/latte"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h4 id="post-13">POST</h4> <p>The <code>POST</code> method is used to create a new node.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/nodes
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"latte"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"node"</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Node"</span>,
  <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"hardware_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"laptop"</span>
  },
  <span style="color:#4070a0">"overrides"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"defaults"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [ <span style="color:#4070a0">"recipe[unicorn]"</span> ]
}
</code></pre></div>
<p>where <code>name</code> is the name of the node. Other attributes are optional. The order of the <code>run_list</code> attribute matters.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{ <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://localhost/nodes/latte"</span> }
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>Created. The object was created.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>409</code></td> <td>Conflict. The object already exists.</td> </tr> <tr class="even"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="nodesname">/nodes/NAME</h3> <p>The <code>/nodes/NAME</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>, <code>HEAD</code> and <code>PUT</code>.</p> <h4 id="delete-13">DELETE</h4> <p>The <code>DELETE</code> method is used to delete a node.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/nodes/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response will return the last known state of the node, similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"overrides"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"latte"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"node"</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Node"</span>,
  <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"hardware_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"laptop"</span>
  },
  <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"recipe[apache2]"</span>
  ],
  <span style="color:#4070a0">"defaults"</span><span style="color:#666">:</span> {}
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-38">GET</h4> <p>The <code>GET</code> method is used to return the details of a node as JSON.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/nodes/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"node_name"</span>,
  <span style="color:#4070a0">"chef_environment"</span><span style="color:#666">:</span> <span style="color:#4070a0">"_default"</span>,
  <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"recipe[recipe_name]"</span>
  ]
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Node"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"node"</span>,
  <span style="color:#4070a0">"automatic"</span><span style="color:#666">:</span> { ... },
  <span style="color:#4070a0">"normal"</span><span style="color:#666">:</span> { <span style="color:#4070a0">"tags"</span><span style="color:#666">:</span> [ ] },
  <span style="color:#4070a0">"default"</span><span style="color:#666">:</span> { },
  <span style="color:#4070a0">"override"</span><span style="color:#666">:</span> { }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="head">HEAD</h4> <p>The <code>HEAD</code> method is used to check the existence of a node.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">HEAD /organizations/NAME/nodes/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The method does not return a body.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-10">PUT</h4> <p>The <code>PUT</code> method is used to update a node.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME/nodes/NAME
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"overrides"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"latte"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"node"</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Node"</span>,
  <span style="color:#4070a0">"attributes"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"hardware_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"laptop"</span>
  },
  <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">'recipe[cookbook_name::recipe_name],
</span><span style="color:#4070a0">    role[role_name]'</span>
  ],
  <span style="color:#4070a0">"defaults"</span><span style="color:#666">:</span> {}
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response will return the updated node.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> <tr class="odd"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="policies">/policies</h3> <p>The <code>/policies</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-39">GET</h4> <p>The <code>GET</code> method is used to get a list of policies (including policy revisions) from the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/policies
</code></pre>
<p><strong>Response</strong></p> <p>The response groups policies by name and revision and is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"aar"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/org1/policies/aar"</span>,
    <span style="color:#4070a0">"revisions"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"37f9b658cdd1d9319bac8920581723efcc2014304b5f3827ee0779e10ffbdcc9"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"95040c199302c85c9ccf1bcc6746968b820b1fa25d92477ea2ec5386cd58b9c5"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"d81e80ae9bb9778e8c4b7652d29b11d2111e763a840d0cadb34b46a8b2ca4347"</span><span style="color:#666">:</span> {
      }
    }
  },
  <span style="color:#4070a0">"jenkins"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/org1/policies/jenkins"</span>,
    <span style="color:#4070a0">"revisions"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"613f803bdd035d574df7fa6da525b38df45a74ca82b38b79655efed8a189e073"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"6fe753184c8946052d3231bb4212116df28d89a3a5f7ae52832ad408419dd5eb"</span><span style="color:#666">:</span> {
      },
      <span style="color:#4070a0">"cc1a0801e75df1d1ea5b0d2c71ba7d31c539423b81478f65e6388b9ee415ad87"</span><span style="color:#666">:</span> {
      }
    }
  }
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h3 id="policy_groups">/policy_groups</h3> <p>The <code>/policy_groups</code> endpoint has the following methods: <code>GET</code>.</p> <p>Each node has a 1:many relationship with policy settings stored on the Chef Infra Server. This relationship is based on the policy group to which the node is associated, and then the policy settings assigned to that group:</p> <ul> <li>A policy is typically named after the functional role ahost performs, such as “application server”, “chat server”, “load balancer”, and so on</li> <li>A policy group defines a set of hosts in a deployed units, typically mapped to organizational requirements such as “dev”, “test”, “staging”, and “production”, but can also be mapped to more detailed requirements as needed</li> </ul> <h3 id="principalsname">/principals/NAME</h3> <p>The <code>/principals/NAME</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-40">GET</h4> <p>The <code>GET</code> method is used to get a list of public keys for clients and users in order to ensure that enough information is present for authorized requests.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/principals/NAME
</code></pre>
<p><strong>Response</strong></p> <p>For a user or client, the type value will vary. The response body returns an array of principals which allows for a client with the same name as a user. The response for a user or client is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"Principals: [
</span><span style="color:#4070a0">    {
</span><span style="color:#4070a0">      "</span>name<span style="color:#4070a0">": "</span>normal_user<span style="color:#4070a0">",
</span><span style="color:#4070a0">      "</span>type<span style="color:#4070a0">": "</span>user<span style="color:#4070a0">",
</span><span style="color:#4070a0">      "</span>public_key<span style="color:#4070a0">": "</span><span style="color:#666">-----</span>BEGIN PUBLIC KEY<span style="color:#666">-----</span>...<span style="color:#4070a0">",
</span><span style="color:#4070a0">      "</span>authz_id<span style="color:#4070a0">": "</span>eca5fdd45a8b4bacc04bbc6e37a340bes<span style="color:#4070a0">",
</span><span style="color:#4070a0">      "</span>org_member<span>"</span><span style="color:#666">:</span><span style="color:#007020;font-weight:700">false</span>
    }
  ]
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="required_recipe">/required_recipe</h3> <p>The <code>/required_recipe</code> endpoint has the following method: <code>GET</code>.</p> <h4 id="get-41">GET</h4> <p>Use the <code>GET</code> method to view a recipe specified by a Chef Infra Server administrator as part of the Chef Infra Server configuration. This recipe will be run by all Chef Infra Clients that connect to the Chef Infra Server. The <code>required_recipe</code> feature is aimed at expert level practitioners delivering isolated configuration changes to target systems. The returned text is the content of a single recipe file.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/required_recipe
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is returned in plain text, not in JSON format. The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">  <span style="color:#4070a0">"# My required recipe
</span><span style="color:#4070a0">   file '/tmp/build'
</span><span style="color:#4070a0">   package 'secret_sauce'
</span><span style="color:#4070a0">  "</span>
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful. Required recipe is enabled, a path to a recipe is defined, and a recipe exists at the path location.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not Found. The required recipe function is not enabled.</td> </tr> </tbody> </table> <h3 id="roles">/roles</h3> <p>A role is a way to define certain patterns and processes that exist across nodes in an organization as belonging to a single job function. Each role consists of zero (or more) attributes and a run-list. Each node can have zero (or more) roles assigned to it. When a role is run against a node, the configuration details of that node are compared against the attributes of the role, and then the contents of that role’s run-list are applied to the node’s configuration details. When a Chef Infra Client runs, it merges its own attributes and run-lists with those contained within each assigned role.</p> <p>The <code>/roles</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <h4 id="get-42">GET</h4> <p>The <code>GET</code> method is used to get a list of roles along with their associated URIs.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/roles
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"webserver"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/org1/roles/webserver"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h4 id="post-14">POST</h4> <p>The <code>POST</code> method is used to create a new role on the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/roles
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"webserver"</span>,
  <span style="color:#4070a0">"default_attributes"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"A webserver"</span>,
  <span style="color:#4070a0">"env_run_lists"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"testenv"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"recipe[pegasus]"</span>
    }
  },
  <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"recipe[unicorn]"</span>,
    <span style="color:#4070a0">"recipe[apache2]"</span>
  ],
  <span style="color:#4070a0">"override_attributes"</span><span style="color:#666">:</span> {}
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{ <span style="color:#4070a0">"uri"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/org1/roles/webserver"</span> }
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>409</code></td> <td>Conflict. The object already exists.</td> </tr> <tr class="even"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="rolesname">/roles/NAME</h3> <p>The <code>/roles/NAME</code> endpoint has the following methods: <code>GET</code>, <code>DELETE</code>, and <code>PUT</code>.</p> <h4 id="delete-14">DELETE</h4> <p>The <code>DELETE</code> method is used to delete a role on the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/roles/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"webserver"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"role"</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Role"</span>,
  <span style="color:#4070a0">"default_attributes"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"A webserver"</span>,
  <span style="color:#4070a0">"env_run_lists"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"env1"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"recipe[foo1]"</span>
    }
  },
  <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"recipe[apache2]"</span>
  ],
  <span style="color:#4070a0">"override_attributes"</span><span style="color:#666">:</span> {}
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-43">GET</h4> <p>The <code>GET</code> method is used to return the details for a role as JSON.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/roles/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"webserver"</span>,
  <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"role"</span>,
  <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Role"</span>,
  <span style="color:#4070a0">"default_attributes"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"A webserver"</span>,
  <span style="color:#4070a0">"env_run_lists"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"recipe[unicorn]"</span>,
    <span style="color:#4070a0">"recipe[apache2]"</span>
  ],
  <span style="color:#4070a0">"override_attributes"</span><span style="color:#666">:</span> {}
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="put-11">PUT</h4> <p>The <code>PUT</code> method is used to update a role on the Chef Infra Server.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME/roles/NAME
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"webserver"</span>,
  <span style="color:#4070a0">"default_attributes"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"description"</span><span style="color:#666">:</span> <span style="color:#4070a0">"A webserver"</span>,
  <span style="color:#4070a0">"env_run_lists"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"default_attributes"</span><span style="color:#666">:</span> {},
  <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [
    <span style="color:#4070a0">"recipe[apache2]"</span>
  ],
  <span style="color:#4070a0">"override_attributes"</span><span style="color:#666">:</span> {}
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response will return the JSON for the updated role.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> <tr class="odd"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="rolesnameenvironments">/roles/NAME/environments</h3> <p>The <code>/roles/NAME/environments</code> endpoint has the following method: <code>GET</code>.</p> <h4 id="get-44">GET</h4> <p>The <code>GET</code> method returns a list of the environments that have environment-specific run-lists in the given role as JSON data.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/roles/NAME/environments
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">[<span style="color:#4070a0">"_default"</span>,<span style="color:#4070a0">"production"</span>,<span style="color:#4070a0">"qa"</span>]
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="rolesnameenvironmentsname">/roles/NAME/environments/NAME</h3> <p>The <code>/roles/NAME/environments/NAME</code> endpoint has the following method: <code>GET</code>.</p> <h4 id="get-45">GET</h4> <p>The <code>GET</code> method returns the environment-specific run-list (<code>env_run_lists[environment_name]</code>) for a role.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/roles/NAME/environments/NAME
</code></pre>
<p>where the first <code>NAME</code> is the name of the role and the second is the name of the environment.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{<span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span>[<span style="color:#4070a0">"recipe[foo]"</span>]}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h3 id="sandboxes">/sandboxes</h3> <p>A sandbox is used to commit files so they only need to be updated one time, as opposed to every time a cookbook is uploaded. The <code>/sandboxes</code> endpoint has the following methods: <code>POST</code>.</p> <h4 id="post-15">POST</h4> <p>The <code>POST</code> method is used to create a new sandbox. This method accepts a list of checksums as input and returns the URLs against which to <code>PUT</code> files that need to be uploaded.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/sandboxes
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{<span style="color:#4070a0">"checksums"</span><span style="color:#666">:</span> {
  <span style="color:#4070a0">"385ea5490c86570c7de71070bce9384a"</span><span style="color:#666">:</span><span style="color:#007020;font-weight:700">null</span>,
  <span style="color:#4070a0">"f6f73175e979bd90af6184ec277f760c"</span><span style="color:#666">:</span><span style="color:#007020;font-weight:700">null</span>,
  <span style="color:#4070a0">"2e03dd7e5b2e6c8eab1cf41ac61396d5"</span><span style="color:#666">:</span><span style="color:#007020;font-weight:700">null</span>
  }
}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{<span style="color:#4070a0">"uri"</span><span style="color:#666">:</span>
 <span style="color:#4070a0">"https://api.chef.io/organizations/testorg/sandboxes/eff7b6f8b3ef44c6867216662d5eeb5f"</span>,
 <span style="color:#4070a0">"checksums"</span><span style="color:#666">:</span>
   {<span style="color:#4070a0">"385ea5490c86570c7de71070bce9384a"</span><span style="color:#666">:</span>
     {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span>
      <span style="color:#4070a0">"https://s3.amazonaws.com/opscode-platform-production-data/organization-(...)"</span>,
       <span style="color:#4070a0">"needs_upload"</span><span style="color:#666">:</span><span style="color:#007020;font-weight:700">true</span>},
       <span style="color:#4070a0">"f6f73175e979bd90af6184ec277f760c"</span>=&gt;
     {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span>
       <span style="color:#4070a0">"https://s3.amazonaws.com/opscode-platform-production-data/organization-(...)"</span>,
       <span style="color:#4070a0">"needs_upload"</span><span style="color:#666">:</span><span style="color:#007020;font-weight:700">true</span>},
       <span style="color:#4070a0">"2e03dd7e5b2e6c8eab1cf41ac61396d5"</span><span style="color:#666">:</span>
     {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span>
       <span style="color:#4070a0">"https://s3.amazonaws.com/opscode-platform-production-data/organization-(...)"</span>,
       <span style="color:#4070a0">"needs_upload"</span><span style="color:#666">:</span><span style="color:#007020;font-weight:700">true</span>}
   },
 <span style="color:#4070a0">"sandbox_id"</span>=&gt;<span style="color:#4070a0">"eff7b6f8b3ef44c6867216662d5eeb5f"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful. A hash that maps each checksum to a hash that contains a boolean <code>needs_upload</code> field and a URL if <code>needs_upload</code> is set to <code>true</code>.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The object has already been committed or one (or more) of the objects were not properly uploaded. The payload does not contain a well-formed <code>checksums</code> parameter that is a hash containing a key for each checksum.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="sandboxesid">/sandboxes/ID</h3> <p>Each sandbox has a unique identifier. The <code>/sandboxes/ID</code> endpoint has the following methods: <code>PUT</code>.</p> <h4 id="put-12">PUT</h4> <p>The <code>PUT</code> method is used to commit files that are in a sandbox to their final location so that changes to cookbooks will not require re-uploading the same data.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">PUT /organizations/NAME/sandboxes/ID
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{<span style="color:#4070a0">"is_completed"</span><span style="color:#666">:</span><span style="color:#007020;font-weight:700">true</span>}
</code></pre></div>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"guid"</span><span style="color:#666">:</span> guid,
  <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> guid,
  <span style="color:#4070a0">"checksums"</span><span style="color:#666">:</span>
    {<span style="color:#4070a0">"385ea5490c86570c7de71070bce9384a"</span><span style="color:#666">:</span>
    {<span style="color:#4070a0">"url"</span><span style="color:#666">:</span>
      <span style="color:#4070a0">"https://s3.amazonaws.com/opscode-platform-production-data/organization-(...)"</span>,
      <span style="color:#4070a0">"needs_upload"</span><span style="color:#666">:</span><span style="color:#007020;font-weight:700">true</span>}
  },
  <span style="color:#4070a0">"create_time"</span><span style="color:#666">:</span> <span style="color:#666">&lt;</span>get an example <span style="color:#007020;font-weight:700">of</span> time format<span style="color:#666">&gt;</span>,
  <span style="color:#4070a0">"is_completed"</span><span style="color:#666">:</span> <span style="color:#007020;font-weight:700">true</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> <tr class="even"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="search">/search</h3> <p>Search indexes allow queries to be made for any type of data that is indexed by the Chef Infra Server, including data bags (and data bag items), environments, nodes, and roles. A defined query syntax is used to support search patterns like exact, wildcard, range, and fuzzy. A search is a full-text query that can be done from several locations, including from within a recipe, by using the <code>search</code> subcommand in knife, the <code>search</code> method in the Chef Infra Language, the search box in the Chef management console, and by using the <code>/search</code> or <code>/search/INDEX</code> endpoints in the Chef Infra Server API. The search engine is based on Elasticsearch and is run from the Chef Infra Server.</p> <p>The <code>/search</code> endpoint allows nodes, roles, data bags, environments to be searched. This endpoint has the following methods: <code>GET</code>.</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> At the end of every Chef Infra Client run, the node object is saved to the Chef Infra Server. From the Chef Infra Server, each node object is then added to the Apache Solr search index. This process is asynchronous. By default, node objects are committed to the search index every 60 seconds or per 1000 node objects, whichever occurs first. </div> </div> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> This endpoint does not have any ACL restrictions, which means it may be used by any user or client that is able to make the request to the Chef Infra Server. </div> </div> <h4 id="get-46">GET</h4> <p>The <code>GET</code> method is used to return a data structure that contains links to each available search index. By default, the <code>role</code>, <code>node</code>, <code>client</code>, and <code>data bag</code> indexes will always be available (where the <code>data bag</code> index is the name of the data bag on the Chef Infra Server). Search indexes may lag behind the most current data at any given time. If a situation occurs where data needs to be written and then immediately searched, an artificial delay (of at least 10 seconds) is recommended.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/search
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"node"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/org1/search/node"</span>,
  <span style="color:#4070a0">"role"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/org1/search/role"</span>,
  <span style="color:#4070a0">"client"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/org1/search/client"</span>,
  <span style="color:#4070a0">"users"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organizations/org1/search/users"</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h3 id="searchindex">/search/INDEX</h3> <p>Use the <code>/search/INDEX</code> endpoint to access the search indexes on the Chef Infra Server. The <code>/search/INDEX</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <p>A search query is comprised of two parts: the key and the search pattern. A search query has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#517918">key</span>:search_pattern
</code></pre></div>
<p>where <code>key</code> is a field name that is found in the JSON description of an indexable object on the Chef Infra Server (a role, node, client, environment, or data bag) and <code>search_pattern</code> defines what will be searched for, using one of the following search patterns: exact, wildcard, range, or fuzzy matching. Both <code>key</code> and <code>search_pattern</code> are case-sensitive; <code>key</code> has limited support for multiple character wildcard matching using an asterisk ("*") (and as long as it is not the first character).</p> <h4 id="get-47">GET</h4> <p>The <code>GET</code> method is used to return all of the data that matches the query in the <code>GET</code> request.</p> <p>This method has the following parameters:</p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>q</code></td> <td>The search query used to identify a list of items on a Chef Infra Server. This option uses the same syntax as the <code>knife search</code> subcommand.</td> </tr> <tr class="even"> <td><code>rows</code></td> <td>The number of rows to be returned.</td> </tr> <tr class="odd"> <td><code>start</code></td> <td>The row at which return results begin.</td> </tr> </tbody> </table> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/search/INDEX
</code></pre>
<p><strong>Response</strong></p> <p>The response contains the total number of rows that match the request and for a node index search is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
 <span style="color:#4070a0">"total"</span><span style="color:#666">:</span> <span style="color:#40a070">1</span>,
 <span style="color:#4070a0">"start"</span><span style="color:#666">:</span> <span style="color:#40a070">0</span>,
 <span style="color:#4070a0">"rows"</span><span style="color:#666">:</span> [
    {
     <span style="color:#4070a0">"automatic"</span><span style="color:#666">:</span> {<span style="color:#4070a0">"hardware_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"laptop"</span>},
     <span style="color:#4070a0">"chef_environment"</span><span style="color:#666">:</span> <span style="color:#4070a0">"_default"</span>,
     <span style="color:#4070a0">"chef_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"node"</span>,
     <span style="color:#4070a0">"default"</span><span style="color:#666">:</span> {}
     <span style="color:#4070a0">"json_class"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Chef::Node"</span>,
     <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"latte"</span>,
     <span style="color:#4070a0">"normal"</span><span style="color:#666">:</span> {},
     <span style="color:#4070a0">"override"</span><span style="color:#666">:</span> {<span style="color:#4070a0">"hardware_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"laptop"</span>},
     <span style="color:#4070a0">"run_list"</span><span style="color:#666">:</span> [<span style="color:#4070a0">"recipe[unicorn]"</span>]
    }
  ]
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="post-16">POST</h4> <p>A partial search query allows a search query to be made against specific attribute keys that are stored on the Chef Infra Server. A partial search query can search the same set of objects on the Chef Infra Server as a full search query, including specifying an object index and providing a query that can be matched to the relevant index. While a full search query will return an array of objects that match (each object containing a full set of attributes for the node), a partial search query will return only the values for the attributes that match. One primary benefit of using a partial search query is that it requires less memory and network bandwidth while Chef Infra Client processes the search results. The attributes to be returned by the partial search are specified in the request JSON body.</p> <p>This method has the following parameters:</p> <table> <col style="width:20%"> <col style="width:60%"> <thead> <tr class="header"> <th>Parameter</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>q</code></td> <td>The search query used to identify a list of items on a Chef Infra Server. This option uses the same syntax as the <code>search</code> subcommand.</td> </tr> <tr class="even"> <td><code>rows</code></td> <td>The number of rows to be returned.</td> </tr> <tr class="odd"> <td><code>start</code></td> <td>The row at which return results begin.</td> </tr> </tbody> </table> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/search
</code></pre>
<p>with a request body similar to:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">{
  "name": [ "name" ],
  "ip": [ "ipaddress" ],
  "kernel_version": [ "kernel", "version" ]
}
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"total"</span><span style="color:#666">:</span><span style="color:#40a070">1</span>,
  <span style="color:#4070a0">"start"</span><span style="color:#666">:</span><span style="color:#40a070">0</span>,
  <span style="color:#4070a0">"rows"</span><span style="color:#666">:</span> [
    {
      <span style="color:#4070a0">"url"</span><span style="color:#666">:</span> <span style="color:#4070a0">"https://chef.example/organization/org1/nodes/latte"</span>,
      <span style="color:#4070a0">"data"</span><span style="color:#666">:</span> {
        <span style="color:#4070a0">"name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"latte"</span>,
        <span style="color:#4070a0">"ip"</span><span style="color:#666">:</span> <span style="color:#4070a0">"123.4.5.6789"</span>,
        <span style="color:#4070a0">"kernel_version"</span><span style="color:#666">:</span> {<span style="color:#4070a0">"linux"</span><span style="color:#666">:</span> <span style="color:#4070a0">"1.2.3"</span>}
      }
    }
  ]
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>413</code></td> <td>Request entity too large. A request may not be larger than 1000000 bytes.</td> </tr> </tbody> </table> <h3 id="universe">/universe</h3> <p>Use the <code>/universe</code> endpoint to retrieve the known collection of cookbooks, and then use it with Berkshelf and Chef Supermarket.</p> <p>The <code>/universe</code> endpoint has the following methods: <code>GET</code>.</p> <h4 id="get-48">GET</h4> <p>The <code>GET</code> method is used to retrieve the universe data.</p> <p>This method has no parameters. This method has no request body.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /universe
</code></pre>
<p><strong>Response</strong></p> <p>The response will return a json hash, with the name of each cookbook as a top-level key. Each cookbook will list each version, along with its location information and dependencies:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"ffmpeg"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"0.1.0"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"location_path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"http://supermarket.chef.io/api/v1/cookbooks/ffmpeg/0.1.0/download"</span>,
      <span style="color:#4070a0">"location_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"supermarket"</span>,
      <span style="color:#4070a0">"dependencies"</span><span style="color:#666">:</span> {
        <span style="color:#4070a0">"git"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
        <span style="color:#4070a0">"build-essential"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
        <span style="color:#4070a0">"libvpx"</span><span style="color:#666">:</span> <span style="color:#4070a0">"~&gt; 0.1.1"</span>,
        <span style="color:#4070a0">"x264"</span><span style="color:#666">:</span> <span style="color:#4070a0">"~&gt; 0.1.1"</span>
      }
    },
    <span style="color:#4070a0">"0.1.1"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"location_path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"http://supermarket.chef.io/api/v1/cookbooks/ffmpeg/0.1.1/download"</span>,
      <span style="color:#4070a0">"location_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"supermarket"</span>,
      <span style="color:#4070a0">"dependencies"</span><span style="color:#666">:</span> {
        <span style="color:#4070a0">"git"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
        <span style="color:#4070a0">"build-essential"</span><span style="color:#666">:</span> <span style="color:#4070a0">"&gt;= 0.0.0"</span>,
        <span style="color:#4070a0">"libvpx"</span><span style="color:#666">:</span> <span style="color:#4070a0">"~&gt; 0.1.1"</span>,
        <span style="color:#4070a0">"x264"</span><span style="color:#666">:</span> <span style="color:#4070a0">"~&gt; 0.1.1"</span>
      }
    }
  },
  <span style="color:#4070a0">"pssh"</span><span style="color:#666">:</span> {
    <span style="color:#4070a0">"0.1.0"</span><span style="color:#666">:</span> {
      <span style="color:#4070a0">"location_path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"http://supermarket.chef.io/api/v1/cookbooks/pssh.1.0/download"</span>,
      <span style="color:#4070a0">"location_type"</span><span style="color:#666">:</span> <span style="color:#4070a0">"supermarket"</span>,
      <span style="color:#4070a0">"dependencies"</span><span style="color:#666">:</span> {}
    }
  }
}
</code></pre></div>
<table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful. One (or more) cookbooks and associated cookbook version information was returned.</td> </tr> </tbody> </table> <h3 id="updated_since">/updated_since</h3> <p>The <code>/updated_since</code> endpoint ensures that replica instances of the Chef Infra Server are able to synchronize with the primary Chef Infra Server. <code>/updated_since</code> was part of the Chef Replication product. Chef Replication is no longer available as a product and the <code>/updated_since</code> endpoint is also deprecated. The expectation for almost all chef users is that use of the endpoint will return an http status of 404. The <code>/organizations/NAME/updated_since</code> endpoint has the following methods: <code>GET</code>.</p> <div class="admonition-warning"> <p class="admonition-warning-title">Warning</p> <div class="admonition-warning-text"> This update is available after Chef replication is installed on the Chef Infra Server. </div> </div> <h4 id="get-49">GET</h4> <p>The <code>GET</code> method is used to return the details of an organization as JSON.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/updated_since?seq=NUM
</code></pre>
<p>where <code>NUM</code> is the largest integer previously returned as an identifier.</p> <p><strong>Response</strong></p> <p>The response will return an array of paths for objects that have been created, updated, or deleted since <code>NUM</code>, similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">[
  {
    <span style="color:#4070a0">"action"</span><span style="color:#666">:</span> <span style="color:#4070a0">"create"</span>,
    <span style="color:#4070a0">"id"</span><span style="color:#666">:</span> <span style="color:#40a070">1</span>,
    <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"/roles/foo"</span>
  },
  {
    <span style="color:#4070a0">"action"</span><span style="color:#666">:</span> <span style="color:#4070a0">"create"</span>,
    <span style="color:#4070a0">"id"</span><span style="color:#666">:</span> <span style="color:#40a070">2</span>,
    <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"/roles/foo2"</span>
  },
  {
    <span style="color:#4070a0">"action"</span><span style="color:#666">:</span> <span style="color:#4070a0">"create"</span>,
    <span style="color:#4070a0">"id"</span><span style="color:#666">:</span> <span style="color:#40a070">3</span>,
    <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"/roles/foo3"</span>
  },
  {
    <span style="color:#4070a0">"action"</span><span style="color:#666">:</span> <span style="color:#4070a0">"update"</span>,
    <span style="color:#4070a0">"id"</span><span style="color:#666">:</span> <span style="color:#40a070">4</span>,
    <span style="color:#4070a0">"path"</span><span style="color:#666">:</span> <span style="color:#4070a0">"/roles/foo3"</span>
  }
]
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name, and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist or the function is not implemented.</td> </tr> </tbody> </table> <h3 id="users-1">/users</h3> <p>A user may be associated with an organization.</p> <p>The <code>/users</code> endpoint has the following methods: <code>GET</code> and <code>POST</code>.</p> <h4 id="get-50">GET</h4> <p>The <code>GET</code> method is used to return an array of usernames for users associated with an organization.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/users
</code></pre>
<p>This method has no request body.</p> <p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">[
  { <span style="color:#4070a0">"user"</span><span style="color:#666">:</span> { <span style="color:#4070a0">"username"</span><span style="color:#666">:</span> <span style="color:#4070a0">"paperlatte"</span> } }
]
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> </tbody> </table> <h4 id="post-17">POST</h4> <p>The <code>POST</code> method is used to associate a user with an organization immediately. Superuser only.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">POST /organizations/NAME/users
</code></pre>
<p>with a request body similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"username"</span><span style="color:#666">:</span> <span style="color:#4070a0">"paperlatte"</span>,
}
</code></pre></div>
<p>where <code>username</code> is the name of the user to be associated.</p> <p><strong>Response</strong></p> <p>No response block is returned.</p> <p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>201</code></td> <td>Created. The user was associated with the organization.</td> </tr> <tr class="even"> <td><code>400</code></td> <td>Bad request. The contents of the request are not formatted correctly.</td> </tr> <tr class="odd"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name and that the correct key was used to sign the request.</td> </tr> <tr class="even"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="odd"> <td><code>409</code></td> <td>Conflict. The user is already associated.</td> </tr> </tbody> </table> <h3 id="usersname-1">/users/NAME</h3> <p>The <code>/users/NAME</code> endpoint has the following methods: <code>DELETE</code>, <code>GET</code>.</p> <h4 id="delete-15">DELETE</h4> <p>The <code>DELETE</code> method is used to delete a user association with an organization.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">DELETE /organizations/NAME/users/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response will return the end state of the user, similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"username"</span><span style="color:#666">:</span> <span style="color:#4070a0">"paperlatte"</span>
  <span style="color:#4070a0">"email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"latte"</span>,
  <span style="color:#4070a0">"display_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Ms. Latte"</span>,
  <span style="color:#4070a0">"first_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Paper"</span>,
  <span style="color:#4070a0">"last_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Latte"</span>,
  <span style="color:#4070a0">"public_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-----BEGIN PUBLIC KEY----- ... "</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful. The user association was removed.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h4 id="get-51">GET</h4> <p>The <code>GET</code> method is used to return the details of a user as JSON.</p> <p>This method has no parameters.</p> <p><strong>Request</strong></p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">GET /organizations/NAME/users/NAME
</code></pre>
<p><strong>Response</strong></p> <p>The response is similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#4070a0">"username"</span><span style="color:#666">:</span> <span style="color:#4070a0">"paperlatte"</span>
  <span style="color:#4070a0">"email"</span><span style="color:#666">:</span> <span style="color:#4070a0">"latte"</span>,
  <span style="color:#4070a0">"display_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Ms. Latte"</span>,
  <span style="color:#4070a0">"first_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Paper"</span>,
  <span style="color:#4070a0">"last_name"</span><span style="color:#666">:</span> <span style="color:#4070a0">"Latte"</span>,
  <span style="color:#4070a0">"public_key"</span><span style="color:#666">:</span> <span style="color:#4070a0">"-----BEGIN PUBLIC KEY----- ... "</span>
}
</code></pre></div>
<p><strong>Response Codes</strong></p> <table> <col style="width:20%"> <col style="width:80%"> <thead> <tr class="header"> <th>Response Code</th> <th>Description</th> </tr> </thead> <tbody> <tr class="odd"> <td><code>200</code></td> <td>OK. The request was successful.</td> </tr> <tr class="even"> <td><code>401</code></td> <td>Unauthorized. The user or client who made the request could not be authenticated. Verify the user/client name and that the correct key was used to sign the request.</td> </tr> <tr class="odd"> <td><code>403</code></td> <td>Forbidden. The user who made the request is not authorized to perform the action.</td> </tr> <tr class="even"> <td><code>404</code></td> <td>Not found. The requested object does not exist.</td> </tr> </tbody> </table> <h2 id="examples">Examples</h2> <p>The following sections show examples of using the Chef Infra Server API.</p> <h3 id="query-for-users-and-orgs">Query for Users and Orgs</h3> <p>The following example shows how to query the Chef Infra Server API for a listing of organizations and users. The <code>/organizations</code> and <code>/users</code> endpoints may only be accessed by the <code>pivotal</code> user, which is a user account that is created by Chef during the installation of the Chef Infra Server.</p> <p>Run the following from a <code>.chef</code> directory that contains a <code>pivotal.rb</code> file:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020">require</span> <span style="color:#4070a0">'chef'</span>
<span style="color:#007020">require</span> <span style="color:#4070a0">'chef/server_api'</span>

<span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">Config</span><span style="color:#666">.</span>from_file(<span style="color:#4070a0">'.chef/pivotal.rb'</span>)
rest <span style="color:#666">=</span> <span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">ServerAPI</span><span style="color:#666">.</span>new(<span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">Config</span><span style="color:#666">[</span><span style="color:#517918">:chef_server_url</span><span style="color:#666">]</span>)
orgs <span style="color:#666">=</span> rest<span style="color:#666">.</span>get(<span style="color:#4070a0">'/organizations'</span>)

<span style="color:#007020">puts</span> <span style="color:#4070a0">"</span><span style="color:#4070a0;font-weight:700">\n</span><span style="color:#4070a0">=== Listing of organizations"</span>
orgs<span style="color:#666">.</span>each <span style="color:#007020;font-weight:700">do</span> <span style="color:#666">|</span>org<span style="color:#666">|</span>
  <span style="color:#007020">puts</span> org
<span style="color:#007020;font-weight:700">end</span>

<span style="color:#007020">puts</span> <span style="color:#4070a0">"</span><span style="color:#4070a0;font-weight:700">\n</span><span style="color:#4070a0">=== Listing of Users"</span>
users <span style="color:#666">=</span> rest<span style="color:#666">.</span>get(<span style="color:#4070a0">'/users'</span>)
users<span style="color:#666">.</span>each <span style="color:#007020;font-weight:700">do</span> <span style="color:#666">|</span>user<span style="color:#666">|</span>
  <span style="color:#007020">puts</span> user
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<p>An example of a <code>.chef/pivotal.rb</code> file is shown below:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">current_dir <span style="color:#666">=</span> <span style="color:#60add5">File</span><span style="color:#666">.</span>dirname(__FILE__)
node_name <span style="color:#4070a0">'pivotal'</span>
chef_server_url <span style="color:#4070a0">'https://192.0.2.0:443'</span>
chef_server_root <span style="color:#4070a0">'https://192.0.2.0:443'</span>
client_key <span style="color:#4070a0">"</span><span style="color:#70a0d0;font-style:italic">#{</span>current_dir<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">/pivotal.pem"</span>
</code></pre></div>
<div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> The <code>pivotal.pem</code> file must exist in the specified location and the IP addresses must be correct for the Chef Infra Server. </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/api_chef_server/" class="_attribution-link">https://docs.chef.io/api_chef_server/</a>
  </p>
</div>
