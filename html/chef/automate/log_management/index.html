<div id="col-content" data-swiftype-index="true"> <div id="log-management"><h1>Log Management</h1></div> <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/automate/blob/master/components/docs-chef-io/content/automate/log_management.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Chef Automate 2.0 uses <code>systemd</code>. Log management is performed according to the configuration defined for the system service <code>journald</code>.</p> <h3 id="viewing-logs">Viewing Logs</h3> <p>To view the logs you can run:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-shell" data-lang="shell">journalctl -u chef-automate
</code></pre></div>
<p>To follow the logs in realtime:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-shell" data-lang="shell">journalctl -u chef-automate -f
</code></pre></div>
<p>For information on changing the output, please refer to the man page or run:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-shell" data-lang="shell">journalctl --help
</code></pre></div>
<h3 id="configuring-log-level">Configuring Log Level</h3> <p>You can configure Chef Automate log level for all services by creating a TOML file and configuring the log level. By default each service will initialize at the “info” level but can be any of ‘debug, ‘info’, ‘warning’, ‘panic’, or ‘fatal’.</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-shell" data-lang="shell"><span style="color:#666">[</span>global.v1.log<span style="color:#666">]</span>
<span style="color:#bb60d5">level</span> <span style="color:#666">=</span> <span style="color:#4070a0">"debug"</span>
</code></pre></div>
<p>Then run <code>chef-automate config patch &lt;/path/to/your-file.toml&gt;</code> to deploy your change.</p> <h3 id="configuring-log-rotation-and-retention">Configuring Log Rotation and Retention</h3> <p>Log rotation and retention settings are managed at a system level using <code>journald</code>. At this point, <code>journald</code> does not support log retention policies at a granular level for units within itself. See the <a href="https://www.freedesktop.org/software/systemd/man/journald.conf.html">man page</a> for more configuration options in <code>/etc/systemd/journald.conf</code>.</p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/automate/log_management/" class="_attribution-link">https://docs.chef.io/automate/log_management/</a>
  </p>
</div>
