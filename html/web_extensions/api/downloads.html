<h1>downloads</h1>
<div class="section-content">
<p>Enables extensions to interact with the browser's download manager. You can use this API module to download files, cancel, pause, resume downloads, and show downloaded files in the file manager.</p> <p>To use this API you need to have the "downloads" <a href="../manifest.json/permissions.html#api_permissions">API permission</a> specified in your <a href="../manifest.json.html">manifest.json</a> file.</p>
</div>
<section aria-labelledby="types"><h2 id="types">Types</h2>
<div class="section-content"><dl> <dt id="downloads.filenameconflictaction"><a href="downloads/filenameconflictaction.html"><code>downloads.FilenameConflictAction</code></a></dt> <dd> <p>Defines options for what to do if the name of a downloaded file conflicts with an existing file.</p> </dd> <dt id="downloads.interruptreason"><a href="downloads/interruptreason.html"><code>downloads.InterruptReason</code></a></dt> <dd> <p>Defines a set of possible reasons why a download was interrupted.</p> </dd> <dt id="downloads.dangertype"><a href="downloads/dangertype.html"><code>downloads.DangerType</code></a></dt> <dd> <p>Defines a set of common warnings of possible dangers associated with downloadable files.</p> </dd> <dt id="downloads.state"><a href="downloads/state.html"><code>downloads.State</code></a></dt> <dd> <p>Defines different states that a current download can be in.</p> </dd> <dt id="downloads.downloaditem"><a href="downloads/downloaditem.html"><code>downloads.DownloadItem</code></a></dt> <dd> <p>Represents a downloaded file.</p> </dd> <dt id="downloads.stringdelta"><a href="downloads/stringdelta.html"><code>downloads.StringDelta</code></a></dt> <dd> <p>Represents the difference between two strings.</p> </dd> <dt id="downloads.doubledelta"><a href="downloads/doubledelta.html"><code>downloads.DoubleDelta</code></a></dt> <dd> <p>Represents the difference between two doubles.</p> </dd> <dt id="downloads.booleandelta"><a href="downloads/booleandelta.html"><code>downloads.BooleanDelta</code></a></dt> <dd> <p>Represents the difference between two booleans.</p> </dd> <dt id="downloads.downloadtime"><a href="downloads/downloadtime.html"><code>downloads.DownloadTime</code></a></dt> <dd> <p>Represents the time a download took to complete.</p> </dd> <dt id="downloads.downloadquery"><a href="downloads/downloadquery.html"><code>downloads.DownloadQuery</code></a></dt> <dd> <p>Defines a set of parameters that can be used to search the downloads manager for a specific set of downloads.</p> </dd> </dl></div></section><section aria-labelledby="functions"><h2 id="functions">Functions</h2>
<div class="section-content"><dl> <dt id="downloads.download"><a href="downloads/download.html"><code>downloads.download()</code></a></dt> <dd> <p>Downloads a file, given its URL and other optional preferences.</p> </dd> <dt id="downloads.search"><a href="downloads/search.html"><code>downloads.search()</code></a></dt> <dd> <p>Queries the <a href="downloads/downloaditem.html"><code>DownloadItems</code></a> available in the browser's downloads manager, and returns those that match the specified search criteria.</p> </dd> <dt id="downloads.pause"><a href="downloads/pause.html"><code>downloads.pause()</code></a></dt> <dd> <p>Pauses a download.</p> </dd> <dt id="downloads.resume"><a href="downloads/resume.html"><code>downloads.resume()</code></a></dt> <dd> <p>Resumes a paused download.</p> </dd> <dt id="downloads.cancel"><a href="downloads/cancel.html"><code>downloads.cancel()</code></a></dt> <dd> <p>Cancels a download.</p> </dd> <dt id="downloads.getfileicon"><a href="downloads/getfileicon.html"><code>downloads.getFileIcon()</code></a></dt> <dd> <p>Retrieves an icon for the specified download.</p> </dd> <dt id="downloads.open"><a href="downloads/open.html"><code>downloads.open()</code></a></dt> <dd> <p>Opens the downloaded file with its associated application.</p> </dd> <dt id="downloads.show"><a href="downloads/show.html"><code>downloads.show()</code></a></dt> <dd> <p>Opens the platform's file manager application to show the downloaded file in its containing folder.</p> </dd> <dt id="downloads.showdefaultfolder"><a href="downloads/showdefaultfolder.html"><code>downloads.showDefaultFolder()</code></a></dt> <dd> <p>Opens the platform's file manager application to show the default downloads folder.</p> </dd> <dt id="downloads.erase"><a href="downloads/erase.html"><code>downloads.erase()</code></a></dt> <dd> <p>Erases matching <a href="downloads/downloaditem.html"><code>DownloadItems</code></a> from the browser's download history, without deleting the downloaded files from disk.</p> </dd> <dt id="downloads.removefile"><a href="downloads/removefile.html"><code>downloads.removeFile()</code></a></dt> <dd> <p>Removes a downloaded file from disk, but not from the browser's download history.</p> </dd> <dt id="downloads.acceptdanger"><a href="downloads/acceptdanger.html"><code>downloads.acceptDanger()</code></a></dt> <dd> <p>Prompts the user to accept or cancel a dangerous download.</p> </dd> <dt id="downloads.drag"><a href="downloads/drag.html"><code>downloads.drag()</code></a></dt> <dd> <p>Initiates dragging the downloaded file to another application.</p> </dd> <dt id="downloads.setshelfenabled"><a href="downloads/setshelfenabled.html"><code>downloads.setShelfEnabled()</code></a></dt> <dd> <p>Enables or disables the gray shelf at the bottom of every window associated with the current browser profile. The shelf will be disabled as long as at least one extension has disabled it.</p> </dd> </dl></div></section><section aria-labelledby="events"><h2 id="events">Events</h2>
<div class="section-content"><dl> <dt id="downloads.oncreated"><a href="downloads/oncreated.html"><code>downloads.onCreated</code></a></dt> <dd> <p>Fires with the <a href="downloads/downloaditem.html"><code>DownloadItem</code></a> object when a download begins.</p> </dd> <dt id="downloads.onerased"><a href="downloads/onerased.html"><code>downloads.onErased</code></a></dt> <dd> <p>Fires with the <code>downloadId</code> when a download is erased from history.</p> </dd> <dt id="downloads.onchanged"><a href="downloads/onchanged.html"><code>downloads.onChanged</code></a></dt> <dd> <p>When any of a <a href="downloads/downloaditem.html"><code>DownloadItem</code></a>'s properties except <code>bytesReceived</code> changes, this event fires with the <code>downloadId</code> and an object containing the properties that changed.</p> </dd> </dl></div></section><h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>BooleanDelta</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>DangerType</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>DoubleDelta</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>DownloadQuery</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>DownloadTime</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>FilenameConflictAction</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>InterruptReason</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>State</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>StringDelta</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>acceptDanger</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>cancel</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>download</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>drag</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>erase</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>getFileIcon</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>onChanged</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>onCreated</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>onErased</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>open</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>pause</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>removeFile</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>resume</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>search</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">47</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>setShelfEnabled</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>show</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>showDefaultFolder</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">48–79</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
</tbody>
</table></div>
<section aria-labelledby="example_extensions"><h2 id="example_extensions">Example extensions</h2>
<div class="section-content">
<ul><li><a href="https://github.com/mdn/webextensions-examples/tree/master/latest-download" target="_blank">latest-download</a></li></ul> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> This API is based on Chromium's <a href="https://developer.chrome.com/docs/extensions/reference/downloads/" target="_blank"><code>chrome.downloads</code></a> API.</p> </div>
</div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/downloads" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/downloads</a>
  </p>
</div>
