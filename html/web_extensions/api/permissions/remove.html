<h1>permissions.remove()</h1>
<div class="section-content">
<p>Ask to give up the permissions listed in the given <a href="permissions.html"><code>permissions.Permissions</code></a> object.</p> <p>The <code>Permissions</code> argument may contain either an <code>origins</code> property, which is an array of <a href="../../manifest.json/permissions.html#host_permissions">host permissions</a>, or a <code>permissions</code> property, which is an array of <a href="../../manifest.json/permissions.html#api_permissions">API permissions</a>, or both. Permissions must come from the set of permissions defined in the <a href="../../manifest.json/optional_permissions.html"><code>optional_permissions</code></a> manifest.json key.</p> <p>This is an asynchronous function that returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>.</p>
</div>
<section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token keyword">let</span> removing <span class="token operator">=</span> browser<span class="token punctuation">.</span>permissions<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>
  permissions                <span class="token comment">// Permissions object</span>
<span class="token punctuation">)</span>
</pre></div></div></section><section aria-labelledby="parameters"><h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="permissions"><code>permissions</code></dt> <dd> <p>A <a href="permissions.html"><code>permissions.Permissions</code></a> object.</p> </dd> </dl></div></section><section aria-labelledby="return_value"><h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that is fulfilled with <code>true</code> if the permissions listed in the <code>permissions</code> argument are now not granted to the extension, or <code>false</code> otherwise.</p></div></section><h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>remove</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes"><details><summary>14</summary>Removing <code>&lt;all_urls&gt;</code> or <code>*://*/*</code> origins will remove previously granted permission to request specific origin patterns and will stop automatically prompting the user for access to any visited website via the extension's access popover in the toolbar.</details></td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">79</td>
<td>?</td>
<td class="bc-supports-yes"><details><summary>15</summary>Removing <code>&lt;all_urls&gt;</code> or <code>*://*/*</code> origins will remove previously granted permission to request specific origin patterns and will stop automatically prompting the user for access to any visited website via the extension's access popover in the toolbar.</details></td>
<td>?</td>
</tr></tbody>
</table></div>
<section aria-labelledby="examples"><h2 id="examples">Examples</h2>
<div class="section-content">
<p>This code adds a click handler that removes a given permission.</p> <div class="code-example"><pre data-language="js"><span class="token keyword">const</span> permissionToRemove <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">permissions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"history"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"removing"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> removed <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span>permissions<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>permissionToRemove<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>removed<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#remove"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> remove<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div>
</div></section><section aria-labelledby="example_extensions"><h3 id="example_extensions">Example extensions</h3>
<div class="section-content">
<ul><li><a href="https://github.com/mdn/webextensions-examples/tree/master/permissions" target="_blank">permissions</a></li></ul> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> This API is based on Chromium's <a href="https://developer.chrome.com/docs/extensions/reference/permissions/" target="_blank"><code>chrome.permissions</code></a> API.</p> </div>
</div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/permissions/remove" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/permissions/remove</a>
  </p>
</div>
