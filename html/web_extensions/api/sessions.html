<h1>sessions</h1>
<div class="section-content">
<p>Use the sessions API to list, and restore, tabs and windows that have been closed while the browser has been running.</p> <p>The <a href="sessions/getrecentlyclosed.html"><code>sessions.getRecentlyClosed()</code></a> function returns an array of <a href="tabs/tab.html"><code>tabs.Tab</code></a> and <a href="windows/window.html"><code>windows.Window</code></a> objects, representing tabs and windows that have been closed since the browser was running, up to the maximum defined in <a href="sessions/max_session_results.html"><code>sessions.MAX_SESSION_RESULTS</code></a>.</p> <p>You can then restore a window or tab using the <a href="sessions/restore.html"><code>sessions.restore()</code></a> function. Restoring doesn't just reopen the tab: it also restores the tab's navigation history so the back/forward buttons will work.</p> <p>This API also provides a group of functions that enable an extension to store additional state associated with a tab or a window. Then, if the tab or window is closed and subsequently restored, the extension can retrieve the state. For example, a tab grouping extension might use this to remember which group a tab is in, so as to restore it into the right group if the user restores the tab.</p> <p>To use the sessions API you must have the "sessions" <a href="../manifest.json/permissions.html#api_permissions">API permission</a>.</p>
</div>
<section aria-labelledby="types"><h2 id="types">Types</h2>
<div class="section-content"><dl> <dt id="sessions.filter"><a href="sessions/filter.html"><code>sessions.Filter</code></a></dt> <dd> <p>Enables you to restrict the number of <a href="sessions/session.html"><code>Session</code></a> objects returned by a call to <a href="sessions/getrecentlyclosed.html"><code>sessions.getRecentlyClosed()</code></a>.</p> </dd> <dt id="sessions.session"><a href="sessions/session.html"><code>sessions.Session</code></a></dt> <dd> <p>Represents a tab or window that the user has closed in the current browsing session.</p> </dd> </dl></div></section><section aria-labelledby="properties"><h2 id="properties">Properties</h2>
<div class="section-content"><dl> <dt id="sessions.max_session_results"><a href="sessions/max_session_results.html"><code>sessions.MAX_SESSION_RESULTS</code></a></dt> <dd> <p>The maximum number of sessions that will be returned by a call to <a href="sessions/getrecentlyclosed.html"><code>sessions.getRecentlyClosed()</code></a>.</p> </dd> </dl></div></section><section aria-labelledby="functions"><h2 id="functions">Functions</h2>
<div class="section-content"><dl> <dt id="sessions.forgetclosedtab"><a href="sessions/forgetclosedtab.html"><code>sessions.forgetClosedTab()</code></a></dt> <dd> <p>Removes a closed tab from the browser's list of recently closed tabs.</p> </dd> <dt id="sessions.forgetclosedwindow"><a href="sessions/forgetclosedwindow.html"><code>sessions.forgetClosedWindow()</code></a></dt> <dd> <p>Removes a closed window from the browser's list of recently closed windows.</p> </dd> <dt id="sessions.getrecentlyclosed"><a href="sessions/getrecentlyclosed.html"><code>sessions.getRecentlyClosed()</code></a></dt> <dd> <p>Returns an array of <a href="sessions/session.html"><code>Session</code></a> objects, representing windows and tabs that were closed in the current browsing session (that is: the time since the browser was started).</p> </dd> <dt id="sessions.restore"><a href="sessions/restore.html"><code>sessions.restore()</code></a></dt> <dd> <p>Restores a closed tab or window.</p> </dd> <dt id="sessions.settabvalue"><a href="sessions/settabvalue.html"><code>sessions.setTabValue()</code></a></dt> <dd> <p>Store a key/value pair associated with a given tab.</p> </dd> <dt id="sessions.gettabvalue"><a href="sessions/gettabvalue.html"><code>sessions.getTabValue()</code></a></dt> <dd> <p>Retrieve a previously stored value for a given tab, given its key.</p> </dd> <dt id="sessions.removetabvalue"><a href="sessions/removetabvalue.html"><code>sessions.removeTabValue()</code></a></dt> <dd> <p>Remove a key/value pair from a given tab.</p> </dd> <dt id="sessions.setwindowvalue"><a href="sessions/setwindowvalue.html"><code>sessions.setWindowValue()</code></a></dt> <dd> <p>Store a key/value pair associated with a given window.</p> </dd> <dt id="sessions.getwindowvalue"><a href="sessions/getwindowvalue.html"><code>sessions.getWindowValue()</code></a></dt> <dd> <p>Retrieve a previously stored value for a given window, given its key.</p> </dd> <dt id="sessions.removewindowvalue"><a href="sessions/removewindowvalue.html"><code>sessions.removeWindowValue()</code></a></dt> <dd> <p>Remove a key/value pair from a given window.</p> </dd> </dl></div></section><section aria-labelledby="events"><h2 id="events">Events</h2>
<div class="section-content"><dl> <dt id="sessions.onchanged"><a href="sessions/onchanged.html"><code>sessions.onChanged</code></a></dt> <dd> <p>Fired when a tab or window is closed.</p> </dd> </dl></div></section><h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>Filter</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">52</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>MAX_SESSION_RESULTS</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">52</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>Session</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes"><details><summary>52</summary>'Tab' objects in Sessions don't contain the 'url', 'title', or 'favIconUrl' properties.</details></td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>forgetClosedTab</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>forgetClosedWindow</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>getRecentlyClosed</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">52</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>getTabValue</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">57</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>getWindowValue</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">57</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>onChanged</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">53</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>removeTabValue</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">57</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>removeWindowValue</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">57</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>restore</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">52</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>setTabValue</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">57</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>setWindowValue</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">57</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
</tbody>
</table></div>
<section aria-labelledby="example_extensions"><h2 id="example_extensions">Example extensions</h2>
<div class="section-content">
<ul><li><a href="https://github.com/mdn/webextensions-examples/tree/master/session-state" target="_blank">session-state</a></li></ul> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> This API is based on Chromium's <a href="https://developer.chrome.com/docs/extensions/reference/sessions/" target="_blank"><code>chrome.sessions</code></a> API.</p> </div>
</div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sessions" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sessions</a>
  </p>
</div>
