<h1>cookies.set()</h1>
<div class="section-content">
<p>The <code>set()</code> method of the <a href="../cookies.html"><code>cookies</code></a> API sets a cookie containing the specified cookie data. This method is equivalent to issuing an HTTP <code>Set-Cookie</code> header during a request to a given URL.</p> <p>The call succeeds only if you include the "cookies" <a href="../../manifest.json/permissions.html#api_permissions">API permission</a> in your <a href="../../manifest.json.html">manifest.json</a> file, as well as <a href="../../manifest.json/permissions.html#host_permissions">host permissions</a> for the given URL specified in its manifest. The given URL also needs the necessary permissions to create a cookie with the given parameters.</p> <p>This is an asynchronous function that returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>.</p>
</div>
<section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js"><span class="token keyword">let</span> setting <span class="token operator">=</span> browser<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>
  details               <span class="token comment">// object</span>
<span class="token punctuation">)</span>
</pre></div></div></section><section aria-labelledby="parameters"><h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="details"><code>details</code></dt> <dd> <p>An <code>object</code> containing the details of the cookie you wish to set. It can have the following properties:</p> <dl> <dt id="domain">
<code>domain</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <code>string</code> representing the domain of the cookie. If omitted, the cookie becomes a host-only cookie.</p> </dd> <dt id="expirationdate">
<code>expirationDate</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <code>number</code> that represents the expiration date of the cookie as the number of seconds since the UNIX epoch. If omitted, the cookie becomes a session cookie.</p> </dd> <dt id="firstpartydomain">
<code>firstPartyDomain</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <code>string</code> representing the first-party domain with which the cookie to will be associated. This property must be supplied if the browser has first-party isolation enabled. See <a href="../cookies.html#first-party_isolation">First-party isolation</a>.</p> </dd> <dt id="httponly">
<code>httpOnly</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <code>boolean</code> that specifies whether the cookie should be marked as HttpOnly (<code>true</code>), or not (false). If omitted, it defaults to false.</p> </dd> <dt id="name">
<code>name</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <code>string</code> representing the name of the cookie. If omitted, this is empty by default.</p> </dd> <dt id="partitionkey">
<code>partitionKey</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>An <code>object</code> representing the <a href="../cookies.html#storage_partitioning">storage partition</a> to set the cookie in. Include this object to set a cookie in partitioned storage. This object contains:</p> <dl> <dt id="toplevelsite">
<code>topLevelSite</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <code>string</code> representing the first-party URL of the top-level site storage partition containing the cookie.</p> </dd> </dl> </dd> <dt id="path">
<code>path</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <code>string</code> representing the path of the cookie. If omitted, this defaults to the path portion of the URL parameter.</p> </dd> <dt id="samesite">
<code>sameSite</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <a href="samesitestatus.html"><code>cookies.SameSiteStatus</code></a> value that indicates the SameSite state of the cookie. If omitted, it defaults to 0, 'no_restriction'.</p> </dd> <dt id="secure">
<code>secure</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <code>boolean</code> that specifies whether the cookie should be marked as secure (<code>true</code>), or not (false). If omitted, it defaults to false.</p> </dd> <dt id="storeid">
<code>storeId</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <code>string</code> representing the ID of the cookie store in which to set the cookie. If omitted, the cookie is set in the current execution context's cookie store by default.</p> </dd> <dt id="url"><code>url</code></dt> <dd> <p>A <code>string</code> representing the request-URI to associate with the cookie. This value can affect the default domain and path values of the created cookie. If host permissions for this URL are not specified in the manifest file, the method call will fail.</p> </dd> <dt id="value">
<code>value</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A <code>string</code> representing the value of the cookie. If omitted, this is empty by default.</p> </dd> </dl> </dd> </dl></div></section><section aria-labelledby="return_value"><h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that will be fulfilled with a <a href="cookie.html"><code>cookies.Cookie</code></a> object containing details about the cookie that's been set. If the call fails for any reason, the promise will be rejected with an error message.</p></div></section><h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>set</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">14</td>
<td class="bc-supports-yes"><details><summary>45</summary>Before version 56, this function did not modify cookies in private browsing mode. From version 56 onwards this is fixed.</details></td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes"><details><summary>48</summary>Before version 56, this function did not modify cookies in private browsing mode. From version 56 onwards this is fixed.</details></td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
<tr>
<th><code>firstPartyDomain</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">59</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">59</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>partitionKey</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">94</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">94</td>
<td>?</td>
<td>?</td>
<td>?</td>
</tr>
<tr>
<th><code>sameSite</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">63</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>14</summary>Only supports explicit.</details></td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">63</td>
<td>?</td>
<td class="bc-supports-yes"><details><summary>15</summary>Only supports explicit.</details></td>
<td>?</td>
</tr>
</tbody>
</table></div>
<section aria-labelledby="examples"><h2 id="examples">Examples</h2>
<div class="section-content">
<p>This example sets a cookie for the document hosted by the currently active tab:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">let</span> getActive <span class="token operator">=</span> browser<span class="token punctuation">.</span>tabs<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">active</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">currentWindow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
getActive<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>setCookie<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token parameter">tabs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  browser<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> tabs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>url<span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"favorite-color"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">"red"</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></div>
</div></section><section aria-labelledby="example_extensions"><h3 id="example_extensions">Example extensions</h3>
<div class="section-content">
<ul><li><a href="https://github.com/mdn/webextensions-examples/tree/master/cookie-bg-picker" target="_blank">cookie-bg-picker</a></li></ul> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> This API is based on Chromium's <a href="https://developer.chrome.com/docs/extensions/reference/cookies/#method-set" target="_blank"><code>chrome.cookies</code></a> API. This documentation is derived from <a href="https://chromium.googlesource.com/chromium/src/+/master/chrome/common/extensions/api/cookies.json" target="_blank"><code>cookies.json</code></a> in the Chromium code.</p> </div>
</div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/cookies/set" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/cookies/set</a>
  </p>
</div>
