<h1>privacy.network</h1>
<div class="section-content">
<p>The <a href="network.html" aria-current="page"><code>privacy.network</code></a> property contains privacy-related network settings. Each property is a <a href="../types/browsersetting.html"><code>types.BrowserSetting</code></a> object.</p> <p>Default values for these properties tend to vary across browsers.</p>
</div>
<section aria-labelledby="properties"><h2 id="properties">Properties</h2>
<div class="section-content"><dl> <dt id="networkpredictionenabled"><code>networkPredictionEnabled</code></dt> <dd> <p>A <a href="../types/browsersetting.html"><code>types.BrowserSetting</code></a> object whose underlying value is a boolean. If <code>true</code>, the browser attempts to speed up web browsing by pre-resolving DNS entries, prerendering sites (using, for example, <code>&lt;link rel='prefetch' â€¦&gt;</code>), and preemptively opening TCP and SSL connections to servers.</p> </dd> <dt id="peerconnectionenabled"><code>peerConnectionEnabled</code></dt> <dd> <p>A <a href="../types/browsersetting.html"><code>types.BrowserSetting</code></a> object whose underlying value is a boolean. If <code>false</code>, the <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection"><code>RTCPeerConnection</code></a> interface is disabled. Note that <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia"><code>getUserMedia()</code></a> is <em>not</em> affected by this setting.</p> </dd> <dt id="webrtciphandlingpolicy"><code>webRTCIPHandlingPolicy</code></dt> <dd> <p>A <a href="../types/browsersetting.html"><code>types.BrowserSetting</code></a> object whose underlying value is a string. This setting allows users to specify the media performance/privacy tradeoffs which affect how WebRTC traffic will be routed and how much local address information is exposed. It may take any one of the following values, from least private to most private:</p> <ul> <li><code>default</code></li> <li><code>default_public_and_private_interfaces</code></li> <li><code>default_public_interface_only</code></li> <li><code>disable_non_proxied_udp</code></li> <li>
<code>proxy_only</code> (only connections using TURN on a TCP connection through a proxy are allowed)</li> </ul> </dd> <dt id="httpsonlymode"><code>httpsOnlyMode</code></dt> <dd> <p> This setting allows your extension to determine if a user has enabled <a href="https://support.mozilla.org/kb/https-only-prefs" target="_blank">HTTPS-Only mode</a>. This property is read-only on all platforms. Its underlying value is a string that may take one of three values: </p> <ul> <li>
<code>"always"</code>: HTTPS-Only mode is on.</li> <li>
<code>"never"</code>: HTTPS-Only mode is off.</li> <li>
<code>"private_browsing"</code>: HTTPS-Only mode is on in private browsing windows only.</li> </ul> </dd> <dt id="globalprivacycontrol"><code>globalPrivacyControl</code></dt> <dd> <p> this setting allows your extension to determine if a user has enabled <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/globalPrivacyControl">Global Privacy Control</a>. This property is read-only on all platforms. Its underlying value is a boolean where <code>true</code> indicates that the browser sends Global Privacy Control signals and <code>false</code> indicates the browser does not send the signals. </p> </dd> </dl></div></section><h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>globalPrivacyControl</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">95</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>httpsOnlyMode</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">84</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">84</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>networkPredictionEnabled</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">54</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">54</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>peerConnectionEnabled</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>webRTCIPHandlingPolicy</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes"><details><summary>54</summary>Starting in Firefox 70, a value of <code>disable_non_proxied_udp</code> requires a proxy if one is configured, but allows connections to go through if no proxy is set up. Previously, in this mode WebRTC could only be used if a proxy was configured and TURN over TCP was available; this behavior is now exposed as <code>proxy_only</code>.</details></td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">54</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
</tbody>
</table></div>
<section aria-labelledby="examples"><h2 id="examples">Examples</h2>
<div class="section-content">
<p>Set the <code>webRTCIPHandlingPolicy</code> property:</p> <div class="code-example"><pre data-language="js"><span class="token keyword">function</span> <span class="token function">onSet</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"failure"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

browser<span class="token punctuation">.</span>browserAction<span class="token punctuation">.</span>onClicked<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token keyword">let</span> getting <span class="token operator">=</span> browser<span class="token punctuation">.</span>privacy<span class="token punctuation">.</span>network<span class="token punctuation">.</span>webRTCIPHandlingPolicy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  getting<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">got</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>got<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>got<span class="token punctuation">.</span>levelOfControl <span class="token operator">===</span> <span class="token string">"controlled_by_this_extension"</span><span class="token punctuation">)</span> <span class="token operator">||</span>
        <span class="token punctuation">(</span>got<span class="token punctuation">.</span>levelOfControl <span class="token operator">===</span> <span class="token string">"controllable_by_this_extension"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> setting <span class="token operator">=</span> browser<span class="token punctuation">.</span>privacy<span class="token punctuation">.</span>network<span class="token punctuation">.</span>webRTCIPHandlingPolicy<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">"default_public_interface_only"</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      setting<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>onSet<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Not able to set webRTCIPHandlingPolicy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> This API is based on Chromium's <a href="https://developer.chrome.com/docs/extensions/reference/privacy/" target="_blank"><code>chrome.privacy</code></a> API. This documentation is derived from <a href="https://chromium.googlesource.com/chromium/src/+/master/chrome/common/extensions/api/privacy.json" target="_blank"><code>privacy.json</code></a> in the Chromium code.</p> </div>
</div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/privacy/network" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/privacy/network</a>
  </p>
</div>
