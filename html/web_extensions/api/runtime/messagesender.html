<h1>runtime.MessageSender</h1>
<div class="section-content">
<p>An object containing information about the sender of a message or connection request; this is passed to the <a href="onmessage.html"><code>runtime.onMessage()</code></a> listener.</p> <p>It is also a property of <a href="port.html"><code>runtime.Port</code></a>, but only in the <code>Port</code> instance passed into the <a href="onconnect.html"><code>runtime.onConnect()</code></a> or <a href="onconnectexternal.html"><code>runtime.onConnectExternal()</code></a> listeners.</p>
</div>
<section aria-labelledby="type"><h2 id="type">Type</h2>
<div class="section-content">
<p>Values of this type are objects. They contain the following properties:</p> <dl> <dt id="tab">
<code>tab</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p><a href="../tabs/tab.html"><code>tabs.Tab</code></a>. The <a href="../tabs/tab.html"><code>tabs.Tab</code></a> which opened the connection. This property will only be present when the connection was opened from a tab (including content scripts).</p> </dd> <dt id="frameid">
<code>frameId</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p><code>integer</code>. The frame that opened the connection. Zero for top-level frames, positive for child frames. This will only be set when <code>tab</code> is set.</p> </dd> <dt id="id">
<code>id</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p><code>string</code>. The ID of the extension that sent the message, if the message was sent by an extension. If the sender set an ID explicitly using the <a href="../../manifest.json/browser_specific_settings.html">browser_specific_settings</a> key in manifest.json, then <code>id</code> will have this value. Otherwise it will have the ID that was generated for the sender.</p> </dd> <dt id="url">
<code>url</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p><code>string</code>. The URL of the page or frame hosting the script that sent the message.</p> <p>If the sender is a script running in an extension page (such as a <a href="../../anatomy_of_a_webextension.html#background_scripts">background page</a>, an <a href="../../anatomy_of_a_webextension.html#options_pages">options page</a>, or a <a href="../../anatomy_of_a_webextension.html#browser_actions_2">browser action</a> or <a href="../../anatomy_of_a_webextension.html#page_actions">page action</a> popup), the URL will be in the form <code>"moz-extension://&lt;extension-internal-id&gt;/path/to/page.html"</code>. If the sender is a background script and you haven't included a background page, it will be <code>"moz-extension://&lt;extension-internal-id&gt;/_generated_background_page.html"</code>.</p> <p>&gt;If the sender is a script running in a web page (including content scripts as well as normal page scripts), then <code>url</code> will be the web page URL. If the script is running in an iframe, <code>url</code> will be the iframe's URL.</p> </dd> <dt id="tlschannelid">
<code>tlsChannelId</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p><code>string</code>. The TLS channel ID of the page or frame that opened the connection, if requested by the extension, and if available.</p> </dd> </dl>
</div></section><h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>MessageSender</code></th>
<td class="bc-supports-yes">26</td>
<td class="bc-supports-yes">14</td>
<td class="bc-supports-yes"><details><summary>45</summary>Before version 54, 'id' was the add-on's internal UUID, not the add-on ID.</details></td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes"><details><summary>48</summary>Before version 54, 'id' was the add-on's internal UUID, not the add-on ID.</details></td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
<tr>
<th><code>frameId</code></th>
<td class="bc-supports-yes">41</td>
<td class="bc-supports-yes">14</td>
<td class="bc-supports-yes">45</td>
<td>?</td>
<td class="bc-supports-yes">28</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
<tr>
<th><code>tlsChannelId</code></th>
<td class="bc-supports-yes">32</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">45</td>
<td>?</td>
<td class="bc-supports-yes">19</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>url</code></th>
<td class="bc-supports-yes">28</td>
<td class="bc-supports-yes"><details><summary>14</summary>The <code>url</code> is missing when the message was sent by an extension view.</details></td>
<td class="bc-supports-yes">45</td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">48</td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
</tbody>
</table></div>
<div class="section-content"><div class="notecard note" id="sect2"> <p><strong>Note:</strong> This API is based on Chromium's <a href="https://developer.chrome.com/docs/extensions/reference/runtime/#type-MessageSender" target="_blank"><code>chrome.runtime</code></a> API. This documentation is derived from <a href="https://chromium.googlesource.com/chromium/src/+/master/extensions/common/api/runtime.json" target="_blank"><code>runtime.json</code></a> in the Chromium code.</p> </div></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/MessageSender" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/MessageSender</a>
  </p>
</div>
