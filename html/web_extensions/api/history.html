<h1>history</h1>
<div class="section-content">
<p>Use the <code>history</code> API to interact with the browser history.</p> <p>If you are looking for information about the browser session history, see the <a href="https://developer.mozilla.org/en-US/docs/Web/API/History">History interface</a>.</p> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> Downloads are treated as <a href="history/historyitem.html"><code>HistoryItem</code></a> objects. Therefore, events such as <a href="history/onvisited.html"><code>history.onVisited</code></a> fire for downloads.</p> </div> <p>Browser history is a chronological record of pages the user has visited. The history API enables you to:</p> <ul> <li><a href="history/search.html">search for pages that appear in the browser history</a></li> <li><a href="history/deleteurl.html">remove individual pages from the browser history</a></li> <li><a href="history/addurl.html">add pages to the browser history</a></li> <li>
<a href="history/deleteall.html">remove all pages from the browser history</a>.</li> </ul> <p>However, the user may have visited a single page multiple times, so the API also has the concept of "visits". So you can also use this API to:</p> <ul> <li><a href="history/getvisits.html">retrieve the complete set of visits the user made to a particular page</a></li> <li>
<a href="history/deleterange.html">remove visits to any pages made during a given time period</a>.</li> </ul> <p>To use this API, an extension must request the "history" <a href="../manifest.json/permissions.html">permission</a> in its <a href="../manifest.json.html"><code>manifest.json</code></a> file.</p>
</div>
<section aria-labelledby="types"><h2 id="types">Types</h2>
<div class="section-content"><dl> <dt id="history.transitiontype"><a href="history/transitiontype.html"><code>history.TransitionType</code></a></dt> <dd> <p>Describes how the browser navigated to a particular page.</p> </dd> <dt id="history.historyitem"><a href="history/historyitem.html"><code>history.HistoryItem</code></a></dt> <dd> <p>Provides information about a particular page in the browser history.</p> </dd> <dt id="history.visititem"><a href="history/visititem.html"><code>history.VisitItem</code></a></dt> <dd> <p>Describes a single visit to a page.</p> </dd> </dl></div></section><section aria-labelledby="functions"><h2 id="functions">Functions</h2>
<div class="section-content"><dl> <dt id="history.search"><a href="history/search.html"><code>history.search()</code></a></dt> <dd> <p>Searches the browser history for <a href="history/historyitem.html"><code>history.HistoryItem</code></a> objects matching the given criteria.</p> </dd> <dt id="history.getvisits"><a href="history/getvisits.html"><code>history.getVisits()</code></a></dt> <dd> <p>Retrieves information about visits to a given page.</p> </dd> <dt id="history.addurl"><a href="history/addurl.html"><code>history.addUrl()</code></a></dt> <dd> <p>Adds a record to the browser history of a visit to the given page.</p> </dd> <dt id="history.deleteurl"><a href="history/deleteurl.html"><code>history.deleteUrl()</code></a></dt> <dd> <p>Removes all visits to the given URL from the browser history.</p> </dd> <dt id="history.deleterange"><a href="history/deleterange.html"><code>history.deleteRange()</code></a></dt> <dd> <p>Removes all visits to pages that the user made during the given time range.</p> </dd> <dt id="history.deleteall"><a href="history/deleteall.html"><code>history.deleteAll()</code></a></dt> <dd> <p>Removes all visits from the browser history.</p> </dd> </dl></div></section><section aria-labelledby="events"><h2 id="events">Events</h2>
<div class="section-content"><dl> <dt id="history.ontitlechanged"><a href="history/ontitlechanged.html"><code>history.onTitleChanged</code></a></dt> <dd> <p>Fired when the title of a page visited by the user is recorded.</p> </dd> <dt id="history.onvisited"><a href="history/onvisited.html"><code>history.onVisited</code></a></dt> <dd> <p>Fired each time the user visits a page, providing the <a href="history/historyitem.html"><code>history.HistoryItem</code></a> data for that page.</p> </dd> <dt id="history.onvisitremoved"><a href="history/onvisitremoved.html"><code>history.onVisitRemoved</code></a></dt> <dd> <p>Fired when a URL is removed completely from the browser history.</p> </dd> </dl></div></section><h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>HistoryItem</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">49</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>TransitionType</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">50</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>VisitItem</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">50</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>addUrl</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">49</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>deleteAll</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">49</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>deleteRange</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">49</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>deleteUrl</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">49</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>getVisits</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">50</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>onTitleChanged</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>onVisitRemoved</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">50</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>onVisited</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes"><details><summary>50</summary>Before version 56, the result object's 'title' was always an empty string. From version 56 onwards, it is set to the last known title, if that is available, or an empty string otherwise.</details></td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>search</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">49</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
</tbody>
</table></div>
<section aria-labelledby="example_extensions"><h2 id="example_extensions">Example extensions</h2>
<div class="section-content">
<ul><li><a href="https://github.com/mdn/webextensions-examples/tree/master/history-deleter" target="_blank">history-deleter</a></li></ul> <div class="notecard note" id="sect3"> <p><strong>Note:</strong> This API is based on Chromium's <a href="https://developer.chrome.com/docs/extensions/reference/history/" target="_blank"><code>chrome.history</code></a> API. This documentation is derived from <a href="https://chromium.googlesource.com/chromium/src/+/master/chrome/common/extensions/api/history.json" target="_blank"><code>history.json</code></a> in the Chromium code.</p> </div>
</div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/history" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/history</a>
  </p>
</div>
