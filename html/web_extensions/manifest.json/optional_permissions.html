<h1>optional_permissions</h1>
<div class="section-content">
<figure class="table-container"><div class="_table"><table class="fullwidth-table standard-table"> <tbody> <tr> <th scope="row">Type</th> <td><code>Array</code></td> </tr> <tr> <th scope="row">Mandatory</th> <td>No</td> </tr> <tr> <th scope="row">Manifest version</th> <td>2 or higher</td> </tr> <tr> <th scope="row">Example</th> <td> <div class="code-example"><pre data-language="json"><span class="token property">"optional_permissions"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">"webRequest"</span>
<span class="token punctuation">]</span></pre></div> </td> </tr> </tbody> </table></div></figure> <p>Use the <code>optional_permissions</code> key to list permissions that you want to ask for at runtime, after your extension has been installed.</p> <p>The <a href="permissions.html"><code>permissions</code></a> key lists permissions that your extension needs before it can be installed. In contrast, <code>optional_permissions</code> lists permissions that your extension doesn't need at install time but it may ask for after it has been installed. To ask for a permission, use the <a href="../api/permissions.html"><code>permissions</code></a> API. Asking for a permission may present the user with a dialog requesting them to grant the permission to your extension.</p> <p>For advice on designing your request for runtime permissions, to maximize the likelihood that users grant them, see <a href="https://extensionworkshop.com/documentation/develop/request-the-right-permissions/#request_permissions_at_runtime" target="_blank">Request permissions at runtime</a>.</p> <p>Starting with Firefox 84, users will be able to manage optional permissions from the Firefox Add-ons Manager. Extensions that use optional permissions should listen for <a href="../api/permissions/onadded.html">browser.permissions.onAdded</a> and <a href="../api/permissions/onremoved.html">browser.permissions.onRemoved</a> API events to know when a user grants or revokes these permissions.</p> <p>The key can contain two kinds of permissions: host permissions and API permissions.</p>
</div>
<section aria-labelledby="host_permissions"><h2 id="host_permissions">Host permissions</h2>
<div class="section-content">
<p>These are the same as the host permissions you can specify in the <a href="permissions.html#host_permissions"><code>permissions</code></a> key.</p> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> When using Manifest V3 or higher:</p> <ul> <li>in Chrome, host permissions must be specified in the <a href="host_permissions.html"><code>host_permission</code></a> manifest key.</li> <li>in Firefox, during the Manifest V3 developer preview, hosts can be in either <code>host_permissions</code> or <code>optional_permissions</code>. Subject to completion of <a href="https://bugzil.la/1766026" target="_blank">bug 1766026</a>, hosts will be specified in either <code>host_permissions</code> or <code>optional_host_permissions</code>.</li> </ul> </div>
</div></section><section aria-labelledby="api_permissions"><h2 id="api_permissions">API permissions</h2>
<div class="section-content">
<p>You can include any of the following here, but not in all browsers: check the compatibility table for browser-specific details.</p> <ul> <li><code>activeTab</code></li> <li><code>background</code></li> <li><code>bookmarks</code></li> <li><code>browserSettings</code></li> <li><code>clipboardRead</code></li> <li><code>clipboardWrite</code></li> <li><code>contentSettings</code></li> <li><code>contextMenus</code></li> <li><code>cookies</code></li> <li><code>debugger</code></li> <li><code>downloads</code></li> <li><code>downloads.open</code></li> <li><code>find</code></li> <li><code>geolocation</code></li> <li><code>history</code></li> <li><code>idle</code></li> <li><code>management</code></li> <li><code>nativeMessaging</code></li> <li><code>notifications</code></li> <li><code>pageCapture</code></li> <li><code>privacy</code></li> <li>
<code>scripting</code> (Manifest V3 or higher)</li> <li><code>tabHide</code></li> <li><code>tabs</code></li> <li><code>topSites</code></li> <li><code>webNavigation</code></li> <li><code>webRequest</code></li> <li><code>webRequestBlocking</code></li> <li><code>webRequestFilterResponse</code></li> <li><code>webRequestFilterResponse.serviceWorkerScript</code></li> </ul> <p>Note that this is a subset of the API permissions allowed in <a href="permissions.html#api_permissions"><code>permissions</code></a>.</p> <p>Of this set, the following permissions are granted silently, without a user prompt:</p> <ul> <li><code>activeTab</code></li> <li><code>cookies</code></li> <li><code>idle</code></li> <li><code>webRequest</code></li> <li><code>webRequestBlocking</code></li> <li><code>webRequestFilterResponse</code></li> <li><code>webRequestFilterResponse.serviceWorkerScript</code></li> </ul>
</div></section><section aria-labelledby="example"><h2 id="example">Example</h2>
<div class="section-content">
<div class="code-example"><pre data-language="json"> <span class="token property">"optional_permissions"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"*://developer.mozilla.org/*"</span><span class="token punctuation">]</span>
</pre></div> <p>In Manifest V2 only, enable the extension to ask for privileged access to pages under developer.mozilla.org.</p> <div class="code-example"><pre data-language="json">  <span class="token property">"optional_permissions"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"tabs"</span><span class="token punctuation">]</span>
</pre></div> <p>Enable the extension to ask for access to the privileged pieces of the <code>tabs</code> API.</p> <div class="code-example"><pre data-language="json">  <span class="token property">"optional_permissions"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"*://developer.mozilla.org/*"</span><span class="token punctuation">,</span> <span class="token string">"tabs"</span><span class="token punctuation">]</span>
</pre></div> <p>In Manifest V2 only, enable the extension to ask for both of the above permissions.</p>
</div></section><h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>optional_permissions</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
<tr>
<th><code>activeTab</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
<tr>
<th><code>background</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>bookmarks</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>browserSettings</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">57</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">57</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>browsingData</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">77</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>clipboardRead</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>clipboardWrite</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
<tr>
<th><code>contentSettings</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>contextMenus</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>cookies</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
<tr>
<th><code>debugger</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>downloads</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">60</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">60</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>downloads_open</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">60</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">60</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>find</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">57</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>geolocation</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>history</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>idle</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>management</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">77</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>nativeMessaging</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">87</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
<tr>
<th><code>notifications</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>pageCapture</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>pkcs11</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">77</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>privacy</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">75</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>proxy</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">77</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>sessions</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">77</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>tabHide</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">61</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>tabs</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
<tr>
<th><code>topSites</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>webNavigation</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">15</td>
<td>?</td>
</tr>
<tr>
<th><code>webRequest</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">14</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>webRequestBlocking</code></th>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-yes">Yes</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">55</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>webRequestFilterResponse</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">110</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">110</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>webRequestFilterResponse_serviceWorkerScript</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">95</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
</tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions</a>
  </p>
</div>
