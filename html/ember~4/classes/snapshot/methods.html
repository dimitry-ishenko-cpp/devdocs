<article class="chapter">  <h1 class="module-name">Class Snapshot</h1> <span class="access">public</span> <table>  <tr> <th>Defined in:</th> <td> <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/network/snapshot.ts#L24" target="_blank" rel="noopener noreferrer">../packages/store/addon/-private/network/snapshot.ts:24</a> </td> </tr> <tr> <th>Module:</th> <td> <a href="../../modules/@ember-data/store.html"> @ember-data/store </a> </td> </tr>  </table>     <h3 role="link" id="attr">  <span class="method-name">attr</span> <span class="args"> (keyName) </span> <span class="return-type">Object</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/network/snapshot.ts#L182" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/network/snapshot.ts:182 </a> </p>  <dl class="parameters">  <dt>keyName</dt> <dd class="parameter-type">String</dd>     <dt>returns</dt> <dd class="return-type">Object</dd> <dd>The attribute value or undefined</dd>  </dl> <p>Returns the value of an attribute.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">// store.push('post', { id: 1, author: 'Tomster', title: 'Ember.js rocks' });
postSnapshot.attr('author'); // =&gt; 'Tomster'
postSnapshot.attr('title'); // =&gt; 'Ember.js rocks'</pre> <p>Note: Values are loaded eagerly and cached when the snapshot is created.</p>   <h3 role="link" id="attributes">  <span class="method-name">attributes</span>  <span class="return-type">Object</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/network/snapshot.ts#L207" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/network/snapshot.ts:207 </a> </p>  <dl class="parameters">   <dt>returns</dt> <dd class="return-type">Object</dd> <dd>All attributes of the current snapshot</dd>  </dl> <p>Returns all attributes and their corresponding values.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">// store.push('post', { id: 1, author: 'Tomster', title: 'Ember.js rocks' });
postSnapshot.attributes(); // =&gt; { author: 'Tomster', title: 'Ember.js rocks' }</pre>   <h3 role="link" id="belongsTo">  <span class="method-name">belongsTo</span> <span class="args"> (keyName, options) </span> <span class="return-type">(Snapshot|String|null|undefined)</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/network/snapshot.ts#L256" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/network/snapshot.ts:256 </a> </p>  <dl class="parameters">  <dt>keyName</dt> <dd class="parameter-type">String</dd>     <dt>options</dt> <dd class="parameter-type">Object</dd>     <dt>returns</dt> <dd class="return-type">(Snapshot|String|null|undefined)</dd> <dd>A snapshot or ID of a known relationship or null if the relationship is known but unset. undefined will be returned if the contents of the relationship is unknown.</dd>  </dl> <p>Returns the current value of a belongsTo relationship.</p> <p><code>belongsTo</code> takes an optional hash of options as a second parameter, currently supported options are:</p> <ul> <li>
<code>id</code>: set to <code>true</code> if you only want the ID of the related record to be returned.</li> </ul> <p>Example</p> <pre class="highlight javascript" data-language="javascript">// store.push('post', { id: 1, title: 'Hello World' });
// store.createRecord('comment', { body: 'Lorem ipsum', post: post });
commentSnapshot.belongsTo('post'); // =&gt; Snapshot
commentSnapshot.belongsTo('post', { id: true }); // =&gt; '1'

// store.push('comment', { id: 1, body: 'Lorem ipsum' });
commentSnapshot.belongsTo('post'); // =&gt; undefined</pre> <p>Calling <code>belongsTo</code> will return a new Snapshot as long as there's any known data for the relationship available, such as an ID. If the relationship is known but unset, <code>belongsTo</code> will return <code>null</code>. If the contents of the relationship is unknown <code>belongsTo</code> will return <code>undefined</code>.</p> <p>Note: Relationships are loaded lazily and cached upon first access.</p>   <h3 role="link" id="changedAttributes">  <span class="method-name">changedAttributes</span>  <span class="return-type">Object</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/network/snapshot.ts#L225" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/network/snapshot.ts:225 </a> </p>  <dl class="parameters">   <dt>returns</dt> <dd class="return-type">Object</dd> <dd>All changed attributes of the current snapshot</dd>  </dl> <p>Returns all changed attributes and their old and new values.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">// store.push('post', { id: 1, author: 'Tomster', title: 'Ember.js rocks' });
postModel.set('title', 'Ember.js rocks!');
postSnapshot.changedAttributes(); // =&gt; { title: ['Ember.js rocks', 'Ember.js rocks!'] }</pre>   <h3 role="link" id="eachAttribute">  <span class="method-name">eachAttribute</span> <span class="args"> (callback, binding) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/network/snapshot.ts#L466" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/network/snapshot.ts:466 </a> </p>  <dl class="parameters">  <dt>callback</dt> <dd class="parameter-type">Function</dd> <dd>the callback to execute</dd>    <dt>binding</dt> <dd class="parameter-type">Object</dd> <dd>the value to which the callback's `this` should be bound</dd>    </dl> <p>Iterates through all the attributes of the model, calling the passed function on each attribute.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">snapshot.eachAttribute(function(name, meta) {
  // ...
});</pre>   <h3 role="link" id="eachRelationship">  <span class="method-name">eachRelationship</span> <span class="args"> (callback, binding) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/network/snapshot.ts#L490" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/network/snapshot.ts:490 </a> </p>  <dl class="parameters">  <dt>callback</dt> <dd class="parameter-type">Function</dd> <dd>the callback to execute</dd>    <dt>binding</dt> <dd class="parameter-type">Object</dd> <dd>the value to which the callback's `this` should be bound</dd>    </dl> <p>Iterates through all the relationships of the model, calling the passed function on each relationship.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">snapshot.eachRelationship(function(name, relationship) {
  // ...
});</pre>   <h3 role="link" id="hasMany">  <span class="method-name">hasMany</span> <span class="args"> (keyName, options) </span> <span class="return-type">(Array|undefined)</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/network/snapshot.ts#L363" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/network/snapshot.ts:363 </a> </p>  <dl class="parameters">  <dt>keyName</dt> <dd class="parameter-type">String</dd>     <dt>options</dt> <dd class="parameter-type">Object</dd>     <dt>returns</dt> <dd class="return-type">(Array|undefined)</dd> <dd>An array of snapshots or IDs of a known relationship or an empty array if the relationship is known but unset. undefined will be returned if the contents of the relationship is unknown.</dd>  </dl> <p>Returns the current value of a hasMany relationship.</p> <p><code>hasMany</code> takes an optional hash of options as a second parameter, currently supported options are:</p> <ul> <li>
<code>ids</code>: set to <code>true</code> if you only want the IDs of the related records to be returned.</li> </ul> <p>Example</p> <pre class="highlight javascript" data-language="javascript">// store.push('post', { id: 1, title: 'Hello World', comments: [2, 3] });
postSnapshot.hasMany('comments'); // =&gt; [Snapshot, Snapshot]
postSnapshot.hasMany('comments', { ids: true }); // =&gt; ['2', '3']

// store.push('post', { id: 1, title: 'Hello World' });
postSnapshot.hasMany('comments'); // =&gt; undefined</pre> <p>Note: Relationships are loaded lazily and cached upon first access.</p>   <h3 role="link" id="serialize">  <span class="method-name">serialize</span> <span class="args"> (options) </span> <span class="return-type">Object</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/network/snapshot.ts#L514" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/network/snapshot.ts:514 </a> </p>  <dl class="parameters">  <dt>options</dt> <dd class="parameter-type">Object</dd>     <dt>returns</dt> <dd class="return-type">Object</dd> <dd>an object whose values are primitive JSON values only</dd>  </dl> <p>Serializes the snapshot using the serializer for the model.</p> <p>Example</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Adapter from '@ember-data/adapter';

export default Adapter.extend({
  createRecord(store, type, snapshot) {
    let data = snapshot.serialize({ includeId: true });
    let url = `/${type.modelName}`;

    return fetch(url, {
      method: 'POST',
      body: data,
    }).then((response) =&gt; response.json())
  }
});</pre>   </article><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 Yehuda Katz, Tom Dale and Ember.js contributors<br>Licensed under the MIT License.<br>
    <a href="https://api.emberjs.com/ember-data/4.9/classes/Snapshot/methods" class="_attribution-link">https://api.emberjs.com/ember-data/4.9/classes/Snapshot/methods</a>
  </p>
</div>
