<article class="chapter">  <h1 class="module-name">Class Store</h1> <span class="access">public</span> <table> <tr> <th>Extends:</th> <td> <a href="https://api.emberjs.com/ember/4.9/classes/Service"> Ember.Service </a> </td> </tr>  <tr> <th>Defined in:</th> <td> <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L95" target="_blank" rel="noopener noreferrer">../packages/store/addon/-private/store-service.ts:95</a> </td> </tr> <tr> <th>Module:</th> <td> <a href="../../modules/@ember-data/store.html"> @ember-data/store </a> </td> </tr>  </table>                   <h3 role="link" id="adapterFor">  <span class="method-name">adapterFor</span> <span class="args"> (modelName) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L2479" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:2479 </a> </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd>     <dt>returns</dt>  <dd>Adapter</dd>  </dl> <p>Returns an instance of the adapter for a given type. For example, <code>adapterFor('person')</code> will return an instance of the adapter located at <code>app/adapters/person.js</code></p> <p>If no <code>person</code> adapter is found, this method will look for an <code>application</code> adapter (the default adapter for your entire application).</p>   <h3 role="link" id="createRecord">  <span class="method-name">createRecord</span> <span class="args"> (modelName, inputProperties) </span> <span class="return-type">Model</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L520" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:520 </a> </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd>     <dt>inputProperties</dt> <dd class="parameter-type">Object</dd> <dd>a hash of properties to set on the newly created record.</dd>    <dt>returns</dt> <dd class="return-type">Model</dd> <dd>record</dd>  </dl> <p>Create a new record in the current store. The properties passed to this method are set on the newly created record.</p> <p>To create a new instance of a <code>Post</code>:</p> <pre class="highlight javascript" data-language="javascript">store.createRecord('post', {
  title: 'Ember is awesome!'
});</pre> <p>To create a new instance of a <code>Post</code> that has a relationship with a <code>User</code> record:</p> <pre class="highlight javascript" data-language="javascript">let user = this.store.peekRecord('user', 1);
store.createRecord('post', {
  title: 'Ember is awesome!',
  user: user
});</pre>   <h3 role="link" id="createRecordDataFor (hook)">  <span class="method-name">createRecordDataFor (hook)</span> <span class="args"> (identifier, storeWrapper) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L2383" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:2383 </a> </p>  <dl class="parameters">  <dt>identifier</dt>      <dt>storeWrapper</dt>      </dl> <p>Instantiation hook allowing applications or addons to configure the store to utilize a custom RecordData implementation.</p>   <h3 role="link" id="deleteRecord">  <span class="method-name">deleteRecord</span> <span class="args"> (record) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L616" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:616 </a> </p>  <dl class="parameters">  <dt>record</dt> <dd class="parameter-type">Model</dd>     </dl> <p>For symmetry, a record can be deleted via the store.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">let post = store.createRecord('post', {
  title: 'Ember is awesome!'
});

store.deleteRecord(post);</pre>   <h3 role="link" id="findAll">  <span class="method-name">findAll</span> <span class="args"> (modelName, options) </span> <span class="return-type">Promise</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L1600" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:1600 </a> </p> <p class="field-since"> Available since v1.13.0 </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd>     <dt>options</dt> <dd class="parameter-type">Object</dd>     <dt>returns</dt> <dd class="return-type">Promise</dd> <dd>promise</dd>  </dl> <p><code>findAll</code> asks the adapter's <code>findAll</code> method to find the records for the given type, and returns a promise which will resolve with all records of this type present in the store, even if the adapter only returns a subset of them.</p> <div class="pre-title"><code>app/routes/authors.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class AuthorsRoute extends Route {
  model(params) {
    return this.store.findAll('author');
  }
}</pre> <p><em>When</em> the returned promise resolves depends on the reload behavior, configured via the passed <code>options</code> hash and the result of the adapter's <code>shouldReloadAll</code> method.</p> <h4 id="reloading">Reloading</h4> <p>If <code>{ reload: true }</code> is passed or <code>adapter.shouldReloadAll</code> evaluates to <code>true</code>, then the returned promise resolves once the adapter returns data, regardless if there are already records in the store:</p> <pre class="highlight javascript" data-language="javascript">store.push({
  data: {
    id: 'first',
    type: 'author'
  }
});

// adapter#findAll resolves with
// [
//   {
//     id: 'second',
//     type: 'author'
//   }
// ]
store.findAll('author', { reload: true }).then(function(authors) {
  authors.getEach('id'); // ['first', 'second']
});</pre> <p>If no reload is indicated via the above mentioned ways, then the promise immediately resolves with all the records currently loaded in the store.</p> <h4 id="background-reloading">Background Reloading</h4> <p>Optionally, if <code>adapter.shouldBackgroundReloadAll</code> evaluates to <code>true</code>, then a background reload is started. Once this resolves, the array with which the promise resolves, is updated automatically so it contains all the records in the store:</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Adapter from '@ember-data/adapter';

export default class ApplicationAdapter extends Adapter {
  shouldReloadAll(store, snapshotsArray) {
    return false;
  },

  shouldBackgroundReloadAll(store, snapshotsArray) {
    return true;
  }
});

// ...

store.push({
  data: {
    id: 'first',
    type: 'author'
  }
});

let allAuthors;
store.findAll('author').then(function(authors) {
  authors.getEach('id'); // ['first']

  allAuthors = authors;
});

// later, once adapter#findAll resolved with
// [
//   {
//     id: 'second',
//     type: 'author'
//   }
// ]

allAuthors.getEach('id'); // ['first', 'second']</pre> <p>If you would like to force or prevent background reloading, you can set a boolean value for <code>backgroundReload</code> in the options object for <code>findAll</code>.</p> <div class="pre-title"><code>app/routes/post/edit.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostEditRoute extends Route {
  model() {
    return this.store.findAll('post', { backgroundReload: false });
  }
}</pre> <p>If you pass an object on the <code>adapterOptions</code> property of the options argument it will be passed to you adapter via the <code>snapshotRecordArray</code></p> <div class="pre-title"><code>app/routes/posts.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostsRoute extends Route {
  model(params) {
    return this.store.findAll('post', {
      adapterOptions: { subscribe: false }
    });
  }
}</pre> <div class="pre-title"><code>app/adapters/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import MyCustomAdapter from './custom-adapter';

export default class UserAdapter extends MyCustomAdapter {
  findAll(store, type, sinceToken, snapshotRecordArray) {
    if (snapshotRecordArray.adapterOptions.subscribe) {
      // ...
    }
    // ...
  }
}</pre> <p>See <a href="../methods.html#peekAll">peekAll</a> to get an array of current records in the store, without waiting until a reload is finished.</p> <h4 id="retrieving-related-model-records">Retrieving Related Model Records</h4> <p>If you use an adapter such as Ember's default <a href="https://api.emberjs.com/ember-data/release/classes/JSONAPIAdapter"><code>JSONAPIAdapter</code></a> that supports the <a href="http://jsonapi.org/">JSON API specification</a> and if your server endpoint supports the use of an <a href="http://jsonapi.org/format/#fetching-includes">'include' query parameter</a>, you can use <code>findAll()</code> to automatically retrieve additional records related to those requested by supplying an <code>include</code> parameter in the <code>options</code> object.</p> <p>For example, given a <code>post</code> model that has a <code>hasMany</code> relationship with a <code>comment</code> model, when we retrieve all of the post records we can have the server also return all of the posts' comments in the same request:</p> <div class="pre-title"><code>app/routes/posts.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostsRoute extends Route {
  model() {
    return this.store.findAll('post', { include: 'comments' });
  }
}</pre> <p>Multiple relationships can be requested using an <code>include</code> parameter consisting of a comma-separated list (without white-space) while nested relationships can be specified using a dot-separated sequence of relationship names. So to request both the posts' comments and the authors of those comments the request would look like this:</p> <div class="pre-title"><code>app/routes/posts.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostsRoute extends Route {
  model() {
    return this.store.findAll('post', { include: 'comments,comments.author' });
  }
}</pre> <p>See <a href="../methods.html#query">query</a> to only get a subset of records from the server.</p>   <h3 role="link" id="findRecord">  <span class="method-name">findRecord</span> <span class="args"> (modelName, id, options) </span> <span class="return-type">Promise</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L732" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:732 </a> </p> <p class="field-since"> Available since v1.13.0 </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String|object</dd> <dd>- either a string representing the modelName or a ResourceIdentifier object containing both the type (a string) and the id (a string) for the record or an lid (a string) of an existing record</dd>    <dt>id</dt> <dd class="parameter-type">(String|Integer|Object)</dd> <dd>- optional object with options for the request only if the first param is a ResourceIdentifier, else the string id of the record to be retrieved</dd>    <dt>options</dt> <dd class="parameter-type">Object</dd> <dd>- if the first param is a string this will be the optional options for the request. See examples for available options.</dd>    <dt>returns</dt> <dd class="return-type">Promise</dd> <dd>promise</dd>  </dl> <p>This method returns a record for a given identifier or type and id combination.</p> <p>The <code>findRecord</code> method will always resolve its promise with the same object for a given identifier or type and <code>id</code>.</p> <p>The <code>findRecord</code> method will always return a <strong>promise</strong> that will be resolved with the record.</p> <p><strong>Example 1</strong></p> <div class="pre-title"><code>app/routes/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostRoute extends Route {
  model({ post_id }) {
    return this.store.findRecord('post', post_id);
  }
}</pre> <p><strong>Example 2</strong></p> <p><code>findRecord</code> can be called with a single identifier argument instead of the combination of <code>type</code> (modelName) and <code>id</code> as separate arguments. You may recognize this combo as the typical pairing from <a href="https://jsonapi.org/format/#document-resource-object-identification">JSON:API</a></p> <div class="pre-title"><code>app/routes/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostRoute extends Route {
  model({ post_id: id }) {
    return this.store.findRecord({ type: 'post', id });
  }
}</pre> <p><strong>Example 3</strong></p> <p>If you have previously received an lid via an Identifier for this record, and the record has already been assigned an id, you can find the record again using just the lid.</p> <div class="pre-title"><code>app/routes/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">store.findRecord({ lid });</pre> <p>If the record is not yet available, the store will ask the adapter's <code>findRecord</code> method to retrieve and supply the necessary data. If the record is already present in the store, it depends on the reload behavior <em>when</em> the returned promise resolves.</p> <h4 id="preloading">Preloading</h4> <p>You can optionally <code>preload</code> specific attributes and relationships that you know of by passing them via the passed <code>options</code>.</p> <p>For example, if your Ember route looks like <code>/posts/1/comments/2</code> and your API route for the comment also looks like <code>/posts/1/comments/2</code> if you want to fetch the comment without also fetching the post you can pass in the post to the <code>findRecord</code> call:</p> <div class="pre-title"><code>comments.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostRoute extends Route {
  model({ post_id, comment_id: id }) {
    return this.store.findRecord({ type: 'comment', id, { preload: { post: post_id }} });
  }
}</pre> <p>In your adapter you can then access this id without triggering a network request via the snapshot:</p> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript" data-language="javascript">import EmberObject from '@ember/object';

export default class Adapter extends EmberObject {

  findRecord(store, schema, id, snapshot) {
    let type = schema.modelName;

    if (type === 'comment')
      let postId = snapshot.belongsTo('post', { id: true });

      return fetch(`./posts/${postId}/comments/${id}`)
        .then(response =&gt; response.json())
    }
  }
}</pre> <p>This could also be achieved by supplying the post id to the adapter via the adapterOptions property on the options hash.</p> <div class="pre-title"><code>comments.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostRoute extends Route {
  model({ post_id, comment_id: id }) {
    return this.store.findRecord({ type: 'comment', id, { adapterOptions: { post: post_id }} });
  }
}</pre> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript" data-language="javascript">import EmberObject from '@ember/object';

export default class Adapter extends EmberObject {

  findRecord(store, schema, id, snapshot) {
    let type = schema.modelName;

    if (type === 'comment')
      let postId = snapshot.adapterOptions.post;

      return fetch(`./posts/${postId}/comments/${id}`)
        .then(response =&gt; response.json())
    }
  }
}</pre> <p>If you have access to the post model you can also pass the model itself to preload:</p> <pre class="highlight javascript" data-language="javascript">let post = await store.findRecord('post', 1);
let comment = await store.findRecord('comment', 2, { post: myPostModel });</pre> <h4 id="reloading">Reloading</h4> <p>The reload behavior is configured either via the passed <code>options</code> hash or the result of the adapter's <code>shouldReloadRecord</code>.</p> <p>If <code>{ reload: true }</code> is passed or <code>adapter.shouldReloadRecord</code> evaluates to <code>true</code>, then the returned promise resolves once the adapter returns data, regardless if the requested record is already in the store:</p> <pre class="highlight javascript" data-language="javascript">store.push({
  data: {
    id: 1,
    type: 'post',
    revision: 1
  }
});

// adapter#findRecord resolves with
// [
//   {
//     id: 1,
//     type: 'post',
//     revision: 2
//   }
// ]
store.findRecord('post', 1, { reload: true }).then(function(post) {
  post.revision; // 2
});</pre> <p>If no reload is indicated via the above mentioned ways, then the promise immediately resolves with the cached version in the store.</p> <h4 id="background-reloading">Background Reloading</h4> <p>Optionally, if <code>adapter.shouldBackgroundReloadRecord</code> evaluates to <code>true</code>, then a background reload is started, which updates the records' data, once it is available:</p> <pre class="highlight javascript" data-language="javascript">// app/adapters/post.js
import ApplicationAdapter from "./application";

export default class PostAdapter extends ApplicationAdapter {
  shouldReloadRecord(store, snapshot) {
    return false;
  },

  shouldBackgroundReloadRecord(store, snapshot) {
    return true;
  }
});

// ...

store.push({
  data: {
    id: 1,
    type: 'post',
    revision: 1
  }
});

let blogPost = store.findRecord('post', 1).then(function(post) {
  post.revision; // 1
});

// later, once adapter#findRecord resolved with
// [
//   {
//     id: 1,
//     type: 'post',
//     revision: 2
//   }
// ]

blogPost.revision; // 2</pre> <p>If you would like to force or prevent background reloading, you can set a boolean value for <code>backgroundReload</code> in the options object for <code>findRecord</code>.</p> <div class="pre-title"><code>app/routes/post/edit.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostEditRoute extends Route {
  model(params) {
    return this.store.findRecord('post', params.post_id, { backgroundReload: false });
  }
}</pre> <p>If you pass an object on the <code>adapterOptions</code> property of the options argument it will be passed to your adapter via the snapshot</p> <div class="pre-title"><code>app/routes/post/edit.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostEditRoute extends Route {
  model(params) {
    return this.store.findRecord('post', params.post_id, {
      adapterOptions: { subscribe: false }
    });
  }
}</pre> <div class="pre-title"><code>app/adapters/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import MyCustomAdapter from './custom-adapter';

export default class PostAdapter extends MyCustomAdapter {
  findRecord(store, type, id, snapshot) {
    if (snapshot.adapterOptions.subscribe) {
      // ...
    }
    // ...
  }
}</pre> <p>See <a href="../methods.html#peekRecord">peekRecord</a> to get the cached version of a record.</p> <h4 id="retrieving-related-model-records">Retrieving Related Model Records</h4> <p>If you use an adapter such as Ember's default <a href="https://api.emberjs.com/ember-data/release/classes/JSONAPIAdapter"><code>JSONAPIAdapter</code></a> that supports the <a href="http://jsonapi.org/">JSON API specification</a> and if your server endpoint supports the use of an <a href="http://jsonapi.org/format/#fetching-includes">'include' query parameter</a>, you can use <code>findRecord()</code> or <code>findAll()</code> to automatically retrieve additional records related to the one you request by supplying an <code>include</code> parameter in the <code>options</code> object.</p> <p>For example, given a <code>post</code> model that has a <code>hasMany</code> relationship with a <code>comment</code> model, when we retrieve a specific post we can have the server also return that post's comments in the same request:</p> <div class="pre-title"><code>app/routes/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostRoute extends Route {
  model(params) {
    return this.store.findRecord('post', params.post_id, { include: 'comments' });
  }
}</pre> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript" data-language="javascript">import EmberObject from '@ember/object';

export default class Adapter extends EmberObject {

  findRecord(store, schema, id, snapshot) {
    let type = schema.modelName;

    if (type === 'post')
      let includes = snapshot.adapterOptions.include;

      return fetch(`./posts/${postId}?include=${includes}`)
        .then(response =&gt; response.json())
    }
  }
}</pre> <p>In this case, the post's comments would then be available in your template as <code>model.comments</code>.</p> <p>Multiple relationships can be requested using an <code>include</code> parameter consisting of a comma-separated list (without white-space) while nested relationships can be specified using a dot-separated sequence of relationship names. So to request both the post's comments and the authors of those comments the request would look like this:</p> <div class="pre-title"><code>app/routes/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';

export default class PostRoute extends Route {
  model(params) {
    return this.store.findRecord('post', params.post_id, { include: 'comments,comments.author' });
  }
}</pre> <h4 id="retrieving-specific-fields-by-type">Retrieving Specific Fields by Type</h4> <p>If your server endpoint supports the use of a <a href="https://jsonapi.org/format/#fetching-sparse-fieldsets">'fields' query parameter</a>, you can use pass those fields through to your server. At this point in time, this requires a few manual steps on your part.</p> <ol> <li>Implement <code>buildQuery</code> in your adapter.</li> </ol> <div class="pre-title"><code>app/adapters/application.js</code></div>
<pre class="highlight javascript" data-language="javascript">buildQuery(snapshot) {
  let query = super.buildQuery(...arguments);

  let { fields } = snapshot.adapterOptions;

  if (fields) {
    query.fields = fields;
  }

  return query;
}</pre> <ol start="2"> <li>Then pass through the applicable fields to your <code>findRecord</code> request.</li> </ol> <p>Given a <code>post</code> model with attributes body, title, publishDate and meta, you can retrieve a filtered list of attributes.</p> <div class="pre-title"><code>app/routes/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';
export default Route.extend({
  model(params) {
    return this.store.findRecord('post', params.post_id, { adapterOptions: { fields: { post: 'body,title' } });
  }
});</pre> <p>Moreover, you can filter attributes on related models as well. If a <code>post</code> has a <code>belongsTo</code> relationship to a user, just include the relationship key and attributes.</p> <div class="pre-title"><code>app/routes/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Route from '@ember/routing/route';
export default Route.extend({
  model(params) {
    return this.store.findRecord('post', params.post_id, { adapterOptions: { fields: { post: 'body,title', user: 'name,email' } });
  }
});</pre>   <h3 role="link" id="getReference">  <span class="method-name">getReference</span> <span class="args"> (resource, id) </span> <span class="return-type">RecordReference</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L1177" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:1177 </a> </p> <p class="field-since"> Available since v2.5.0 </p>  <dl class="parameters">  <dt>resource</dt> <dd class="parameter-type">String|object</dd> <dd>- modelName (string) or Identifier (object)</dd>    <dt>id</dt> <dd class="parameter-type">String|Integer</dd>     <dt>returns</dt> <dd class="return-type">RecordReference</dd>   </dl> <p>Get the reference for the specified record.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">let userRef = store.getReference('user', 1);

// check if the user is loaded
let isLoaded = userRef.value() !== null;

// get the record of the reference (null if not yet available)
let user = userRef.value();

// get the identifier of the reference
if (userRef.remoteType() === 'id') {
let id = userRef.id();
}

// load user (via store.find)
userRef.load().then(...)

// or trigger a reload
userRef.reload().then(...)

// provide data for reference
userRef.push({ id: 1, username: '@user' }).then(function(user) {
  userRef.value() === user;
});</pre>   <h3 role="link" id="getRequestStateService">  <span class="method-name">getRequestStateService</span>  <span class="return-type">RequestStateService</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L301" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:301 </a> </p>  <dl class="parameters">   <dt>returns</dt> <dd class="return-type">RequestStateService</dd>   </dl> <p>Retrieve the RequestStateService instance associated with this Store.</p> <p>This can be used to query the status of requests that have been initiated for a given identifier.</p>   <h3 role="link" id="getSchemaDefinitionService">  <span class="method-name">getSchemaDefinitionService</span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L384" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:384 </a> </p>   <p>Provides access to the SchemaDefinitionService instance for this Store instance.</p> <p>The SchemaDefinitionService can be used to query for information about the schema of a resource.</p>   <h3 role="link" id="instantiateRecord (hook)">  <span class="method-name">instantiateRecord (hook)</span> <span class="args"> (identifier, createRecordArgs, recordDataFor, notificationManager) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L316" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:316 </a> </p>  <dl class="parameters">  <dt>identifier</dt>      <dt>createRecordArgs</dt>      <dt>recordDataFor</dt>      <dt>notificationManager</dt>      <dt>returns</dt>  <dd>A record instance</dd>  </dl> <p>A hook which an app or addon may implement. Called when the Store is attempting to create a Record Instance for a resource.</p> <p>This hook can be used to select or instantiate any desired mechanism of presentating cache data to the ui for access mutation, and interaction.</p>   <h3 role="link" id="modelFor">  <span class="method-name">modelFor</span> <span class="args"> (modelName) </span> <span class="return-type">Subclass of Model | ShimModelClass</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L462" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:462 </a> </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd>     <dt>returns</dt> <dd class="return-type">Subclass of Model | ShimModelClass</dd>   </dl> <p>Returns the schema for a particular <code>modelName</code>.</p> <p>When used with Model from @ember-data/model the return is the model class, but this is not guaranteed.</p> <p>If looking to query attribute or relationship information it is recommended to use <code>getSchemaDefinitionService</code> instead. This method should be considered legacy and exists primarily to continue to support Adapter/Serializer APIs which expect it's return value in their method signatures.</p> <p>The class of a model might be useful if you want to get a list of all the relationship names of the model, see <a href="https://api.emberjs.com/ember-data/release/classes/Model#relationshipNames"><code>relationshipNames</code></a> for example.</p>   <h3 role="link" id="normalize">  <span class="method-name">normalize</span> <span class="args"> (modelName, payload) </span> <span class="return-type">Object</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L2439" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:2439 </a> </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd> <dd>The name of the model type for this payload</dd>    <dt>payload</dt> <dd class="parameter-type">Object</dd>     <dt>returns</dt> <dd class="return-type">Object</dd> <dd>The normalized payload</dd>  </dl> <p><code>normalize</code> converts a json payload into the normalized form that <a href="../methods.html#push">push</a> expects.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">socket.on('message', function(message) {
  let modelName = message.model;
  let data = message.data;
  store.push(store.normalize(modelName, data));
});</pre>   <h3 role="link" id="peekAll">  <span class="method-name">peekAll</span> <span class="args"> (modelName) </span> <span class="return-type">RecordArray</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L1851" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:1851 </a> </p> <p class="field-since"> Available since v1.13.0 </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd>     <dt>returns</dt> <dd class="return-type">RecordArray</dd>   </dl> <p>This method returns a filtered array that contains all of the known records for a given type in the store.</p> <p>Note that because it's just a filter, the result will contain any locally created records of the type, however, it will not make a request to the backend to retrieve additional records. If you would like to request all the records from the backend please use <a href="../methods.html#findAll">store.findAll</a>.</p> <p>Also note that multiple calls to <code>peekAll</code> for a given type will always return the same <code>RecordArray</code>.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">let localPosts = store.peekAll('post');</pre>   <h3 role="link" id="peekRecord">  <span class="method-name">peekRecord</span> <span class="args"> (modelName, id) </span> <span class="return-type">Model|null</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L1240" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:1240 </a> </p> <p class="field-since"> Available since v1.13.0 </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String|object</dd> <dd>- either a string representing the modelName or a ResourceIdentifier object containing both the type (a string) and the id (a string) for the record or an lid (a string) of an existing record</dd>    <dt>id</dt> <dd class="parameter-type">String|Integer</dd> <dd>- optional only if the first param is a ResourceIdentifier, else the string id of the record to be retrieved.</dd>    <dt>returns</dt> <dd class="return-type">Model|null</dd> <dd>record</dd>  </dl> <p>Get a record by a given type and ID without triggering a fetch.</p> <p>This method will synchronously return the record if it is available in the store, otherwise it will return <code>null</code>. A record is available if it has been fetched earlier, or pushed manually into the store.</p> <p>See <a href="../methods.html#findRecord">findRecord</a> if you would like to request this record from the backend.</p> <p><em>Note: This is a synchronous method and does not return a promise.</em></p> <p><strong>Example 1</strong></p> <pre class="highlight javascript" data-language="javascript">let post = store.peekRecord('post', 1);

post.id; // 1</pre> <p><code>peekRecord</code> can be called with a single identifier argument instead of the combination of <code>type</code> (modelName) and <code>id</code> as separate arguments. You may recognize this combo as the typical pairing from <a href="https://jsonapi.org/format/#document-resource-object-identification">JSON:API</a></p> <p><strong>Example 2</strong></p> <pre class="highlight javascript" data-language="javascript">let post = store.peekRecord({ type: 'post', id });
post.id; // 1</pre> <p>If you have previously received an lid from an Identifier for this record, you can lookup the record again using just the lid.</p> <p><strong>Example 3</strong></p> <pre class="highlight javascript" data-language="javascript">let post = store.peekRecord({ lid });
post.id; // 1</pre>   <h3 role="link" id="push">  <span class="method-name">push</span> <span class="args"> (data) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L1939" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:1939 </a> </p>  <dl class="parameters">  <dt>data</dt> <dd class="parameter-type">Object</dd>     <dt>returns</dt>  <dd>the record(s) that was created or updated.</dd>  </dl> <p>Push some data for a given type into the store.</p> <p>This method expects normalized <a href="http://jsonapi.org/">JSON API</a> document. This means you have to follow <a href="http://jsonapi.org/format/">JSON API specification</a> with few minor adjustments:</p> <ul> <li>record's <code>type</code> should always be in singular, dasherized form</li> <li>members (properties) should be camelCased</li> </ul> <p><a href="http://jsonapi.org/format/#document-top-level">Your primary data should be wrapped inside <code>data</code> property</a>:</p> <pre class="highlight javascript" data-language="javascript">store.push({
  data: {
    // primary data for single record of type `Person`
    id: '1',
    type: 'person',
    attributes: {
      firstName: 'Daniel',
      lastName: 'Kmak'
    }
  }
});</pre> <p><a href="http://ember-twiddle.com/fb99f18cd3b4d3e2a4c7">Demo.</a></p> <p><code>data</code> property can also hold an array (of records):</p> <pre class="highlight javascript" data-language="javascript">store.push({
  data: [
    // an array of records
    {
      id: '1',
      type: 'person',
      attributes: {
        firstName: 'Daniel',
        lastName: 'Kmak'
      }
    },
    {
      id: '2',
      type: 'person',
      attributes: {
        firstName: 'Tom',
        lastName: 'Dale'
      }
    }
  ]
});</pre> <p><a href="http://ember-twiddle.com/69cdbeaa3702159dc355">Demo.</a></p> <p>There are some typical properties for <code>JSONAPI</code> payload:</p> <ul> <li>
<code>id</code> - mandatory, unique record's key</li> <li>
<code>type</code> - mandatory string which matches <code>model</code>'s dasherized name in singular form</li> <li>
<code>attributes</code> - object which holds data for record attributes - <code>attr</code>'s declared in model</li> <li>
<code>relationships</code> - object which must contain any of the following properties under each relationships' respective key (example path is <code>relationships.achievements.data</code>):<ul> <li><a href="http://jsonapi.org/format/#document-links"><code>links</code></a></li> <li>
<a href="http://jsonapi.org/format/#document-resource-object-linkage"><code>data</code></a> - place for primary data</li> <li>
<a href="http://jsonapi.org/format/#document-meta"><code>meta</code></a> - object which contains meta-information about relationship</li> </ul> </li> </ul> <p>For this model:</p> <div class="pre-title"><code>app/models/person.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Model, { attr, hasMany } from '@ember-data/model';

export default class PersonRoute extends Route {
  @attr('string') lastName;
  @hasmany('person') children;
}</pre> <p>To represent the children as IDs:</p> <pre class="highlight javascript" data-language="javascript">{
  data: {
    id: '1',
    type: 'person',
    attributes: {
      firstName: 'Tom',
      lastName: 'Dale'
    },
    relationships: {
      children: {
        data: [
          {
            id: '2',
            type: 'person'
          },
          {
            id: '3',
            type: 'person'
          },
          {
            id: '4',
            type: 'person'
          }
        ]
      }
    }
  }
}</pre> <p><a href="http://ember-twiddle.com/343e1735e034091f5bde">Demo.</a></p> <p>To represent the children relationship as a URL:</p> <pre class="highlight javascript" data-language="javascript">{
  data: {
    id: '1',
    type: 'person',
    attributes: {
      firstName: 'Tom',
      lastName: 'Dale'
    },
    relationships: {
      children: {
        links: {
          related: '/people/1/children'
        }
      }
    }
  }
}</pre> <p>If you're streaming data or implementing an adapter, make sure that you have converted the incoming data into this form. The store's <a href="../methods.html#normalize">normalize</a> method is a convenience helper for converting a json payload into the form Ember Data expects.</p> <pre class="highlight javascript" data-language="javascript">store.push(store.normalize('person', data));</pre> <p>This method can be used both to push in brand new records, as well as to update existing records.</p>   <h3 role="link" id="pushPayload">  <span class="method-name">pushPayload</span> <span class="args"> (modelName, inputPayload) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L2175" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:2175 </a> </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd> <dd>Optionally, a model type used to determine which serializer will be used</dd>    <dt>inputPayload</dt> <dd class="parameter-type">Object</dd>     </dl> <p>Push some raw data into the store.</p> <p>This method can be used both to push in brand new records, as well as to update existing records. You can push in more than one type of object at once. All objects should be in the format expected by the serializer.</p> <div class="pre-title"><code>app/serializers/application.js</code></div>
<pre class="highlight javascript" data-language="javascript">import RESTSerializer from '@ember-data/serializer/rest';

export default class ApplicationSerializer extends RESTSerializer;</pre> <pre class="highlight javascript" data-language="javascript">let pushData = {
  posts: [
    { id: 1, postTitle: "Great post", commentIds: [2] }
  ],
  comments: [
    { id: 2, commentBody: "Insightful comment" }
  ]
}

store.pushPayload(pushData);</pre> <p>By default, the data will be deserialized using a default serializer (the application serializer if it exists).</p> <p>Alternatively, <code>pushPayload</code> will accept a model type which will determine which serializer will process the payload.</p> <div class="pre-title"><code>app/serializers/application.js</code></div>
<pre class="highlight javascript" data-language="javascript">import RESTSerializer from '@ember-data/serializer/rest';

 export default class ApplicationSerializer extends RESTSerializer;</pre> <div class="pre-title"><code>app/serializers/post.js</code></div>
<pre class="highlight javascript" data-language="javascript">import JSONSerializer from '@ember-data/serializer/json';

export default JSONSerializer;</pre> <pre class="highlight javascript" data-language="javascript">store.pushPayload(pushData); // Will use the application serializer
store.pushPayload('post', pushData); // Will use the post serializer</pre>   <h3 role="link" id="query">  <span class="method-name">query</span> <span class="args"> (modelName, query, options) </span> <span class="return-type">Promise</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L1366" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:1366 </a> </p> <p class="field-since"> Available since v1.13.0 </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd>     <dt>query</dt> <dd class="parameter-type">Any</dd> <dd>an opaque query to be used by the adapter</dd>    <dt>options</dt> <dd class="parameter-type">Object</dd> <dd>optional, may include `adapterOptions` hash which will be passed to adapter.query</dd>    <dt>returns</dt> <dd class="return-type">Promise</dd> <dd>promise</dd>  </dl> <p>This method delegates a query to the adapter. This is the one place where adapter-level semantics are exposed to the application.</p> <p>Each time this method is called a new request is made through the adapter.</p> <p>Exposing queries this way seems preferable to creating an abstract query language for all server-side queries, and then require all adapters to implement them.</p>  <p>If you do something like this:</p> <pre class="highlight javascript" data-language="javascript">store.query('person', { page: 1 });</pre> <p>The request made to the server will look something like this:</p> <pre class="highlight " data-language="">GET "/api/v1/person?page=1"</pre>  <p>If you do something like this:</p> <pre class="highlight javascript" data-language="javascript">store.query('person', { ids: [1, 2, 3] });</pre> <p>The request made to the server will look something like this:</p> <pre class="highlight " data-language="">GET "/api/v1/person?ids%5B%5D=1&amp;ids%5B%5D=2&amp;ids%5B%5D=3"
decoded: "/api/v1/person?ids[]=1&amp;ids[]=2&amp;ids[]=3"</pre> <p>This method returns a promise, which is resolved with a <a href="https://api.emberjs.com/ember-data/release/classes/Collection"><code>Collection</code></a> once the server returns.</p>   <h3 role="link" id="queryRecord">  <span class="method-name">queryRecord</span> <span class="args"> (modelName, query, options) </span> <span class="return-type">Promise</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L1459" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:1459 </a> </p> <p class="field-since"> Available since v1.13.0 </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd>     <dt>query</dt> <dd class="parameter-type">Any</dd> <dd>an opaque query to be used by the adapter</dd>    <dt>options</dt> <dd class="parameter-type">Object</dd> <dd>optional, may include `adapterOptions` hash which will be passed to adapter.queryRecord</dd>    <dt>returns</dt> <dd class="return-type">Promise</dd> <dd>promise which resolves with the found record or `null`</dd>  </dl> <p>This method makes a request for one record, where the <code>id</code> is not known beforehand (if the <code>id</code> is known, use <a href="../methods.html#findRecord"><code>findRecord</code></a> instead).</p> <p>This method can be used when it is certain that the server will return a single object for the primary data.</p> <p>Each time this method is called a new request is made through the adapter.</p> <p>Let's assume our API provides an endpoint for the currently logged in user via:</p> <pre class="highlight " data-language="">// GET /api/current_user
{
  user: {
    id: 1234,
    username: 'admin'
  }
}</pre> <p>Since the specific <code>id</code> of the <code>user</code> is not known beforehand, we can use <code>queryRecord</code> to get the user:</p> <pre class="highlight javascript" data-language="javascript">store.queryRecord('user', {}).then(function(user) {
  let username = user.username;
  // do thing
});</pre> <p>The request is made through the adapters' <code>queryRecord</code>:</p> <div class="pre-title"><code>app/adapters/user.js</code></div>
<pre class="highlight javascript" data-language="javascript">import Adapter from '@ember-data/adapter';
import $ from 'jquery';

export default class UserAdapter extends Adapter {
  queryRecord(modelName, query) {
    return $.getJSON('/api/current_user');
  }
}</pre> <p>Note: the primary use case for <code>store.queryRecord</code> is when a single record is queried and the <code>id</code> is not known beforehand. In all other cases <code>store.query</code> and using the first item of the array is likely the preferred way:</p> <pre class="highlight " data-language="">// GET /users?username=unique
{
  data: [{
    id: 1234,
    type: 'user',
    attributes: {
      username: "unique"
    }
  }]
}</pre> <pre class="highlight javascript" data-language="javascript">store.query('user', { username: 'unique' }).then(function(users) {
  return users.firstObject;
}).then(function(user) {
  let id = user.id;
});</pre> <p>This method returns a promise, which resolves with the found record.</p> <p>If the adapter returns no data for the primary data of the payload, then <code>queryRecord</code> resolves with <code>null</code>:</p> <pre class="highlight " data-language="">// GET /users?username=unique
{
  data: null
}</pre> <pre class="highlight javascript" data-language="javascript">store.queryRecord('user', { username: 'unique' }).then(function(user) {
   // user is null
});</pre>   <h3 role="link" id="registerSchemaDefinitionService">  <span class="method-name">registerSchemaDefinitionService</span> <span class="args"> (schema) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L407" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:407 </a> </p>  <dl class="parameters">  <dt>schema</dt> <dd class="parameter-type">SchemaDefinitionService</dd>     </dl> <p>Allows an app to register a custom SchemaDefinitionService for use when information about a resource's schema needs to be queried.</p> <p>This method can only be called more than once, but only one schema definition service may exist. Therefore if you wish to chain services you must lookup the existing service and close over it with the new service by calling <code>getSchemaDefinitionService</code> prior to registration.</p> <p>For Example:</p> <pre class="highlight typescript" data-language="">import Store from '@ember-data/store';

class SchemaDelegator {
  constructor(schema) {
    this._schema = schema;
  }

  doesTypeExist(type: string): boolean {
    if (AbstractSchemas.has(type)) {
      return true;
    }
    return this._schema.doesTypeExist(type);
  }

  attributesDefinitionFor(identifier: RecordIdentifier | { type: string }): AttributesSchema {
    return this._schema.attributesDefinitionFor(identifier);
  }

  relationshipsDefinitionFor(identifier: RecordIdentifier | { type: string }): RelationshipsSchema {
    const schema = AbstractSchemas.get(identifier.type);
    return schema || this._schema.relationshipsDefinitionFor(identifier);
  }
}

export default class extends Store {
  constructor(...args) {
    super(...args);

    const schema = this.getSchemaDefinitionService();
    this.registerSchemaDefinitionService(new SchemaDelegator(schema));
  }
}</pre>   <h3 role="link" id="saveRecord">  <span class="method-name">saveRecord</span> <span class="args"> (record, options) </span> <span class="return-type">Promise&lt;RecordInstance&gt;</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L2267" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:2267 </a> </p>  <dl class="parameters">  <dt>record</dt> <dd class="parameter-type">RecordInstance</dd>     <dt>options</dt>      <dt>returns</dt> <dd class="return-type">Promise&lt;RecordInstance&gt;</dd>   </dl> <p>Trigger a save for a Record.</p>   <h3 role="link" id="serializerFor">  <span class="method-name">serializerFor</span> <span class="args"> (modelName) </span> <span class="return-type">Serializer</span> <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L2552" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:2552 </a> </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd> <dd>the record to serialize</dd>    <dt>returns</dt> <dd class="return-type">Serializer</dd>   </dl> <p>Returns an instance of the serializer for a given type. For example, <code>serializerFor('person')</code> will return an instance of <code>App.PersonSerializer</code>.</p> <p>If no <code>App.PersonSerializer</code> is found, this method will look for an <code>App.ApplicationSerializer</code> (the default serializer for your entire application).</p> <p>If a serializer cannot be found on the adapter, it will fall back to an instance of <code>JSONSerializer</code>.</p>   <h3 role="link" id="teardownRecord (hook)">  <span class="method-name">teardownRecord (hook)</span> <span class="args"> (record) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L362" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:362 </a> </p>  <dl class="parameters">  <dt>record</dt>      </dl> <p>A hook which an app or addon may implement. Called when the Store is destroying a Record Instance. This hook should be used to teardown any custom record instances instantiated with <code>instantiateRecord</code>.</p>   <h3 role="link" id="unloadAll">  <span class="method-name">unloadAll</span> <span class="args"> (modelName) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L1890" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:1890 </a> </p>  <dl class="parameters">  <dt>modelName</dt> <dd class="parameter-type">String</dd>     </dl> <p>This method unloads all records in the store. It schedules unloading to happen during the next run loop.</p> <p>Optionally you can pass a type which unload all records for a given type.</p> <pre class="highlight javascript" data-language="javascript">store.unloadAll();
store.unloadAll('post');</pre>   <h3 role="link" id="unloadRecord">  <span class="method-name">unloadRecord</span> <span class="args"> (record) </span>  <span class="access">public</span>  </h3> <table> <tr> <th>Module:</th> <td><a href="../../modules/@ember-data/store.html">@ember-data/store</a></td> </tr> </table> <p class="github-link"> Defined in <a href="https://github.com/emberjs/data/tree/v4.9.1/packages/-ember-data/../packages/store/addon/-private/store-service.ts#L652" target="_blank" rel="noopener noreferrer"> ../packages/store/addon/-private/store-service.ts:652 </a> </p>  <dl class="parameters">  <dt>record</dt> <dd class="parameter-type">Model</dd>     </dl> <p>For symmetry, a record can be unloaded via the store. This will cause the record to be destroyed and freed up for garbage collection.</p> <p>Example</p> <pre class="highlight javascript" data-language="javascript">store.findRecord('post', 1).then(function(post) {
  store.unloadRecord(post);
});</pre>   </article><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 Yehuda Katz, Tom Dale and Ember.js contributors<br>Licensed under the MIT License.<br>
    <a href="https://api.emberjs.com/ember-data/4.9/classes/Store/methods" class="_attribution-link">https://api.emberjs.com/ember-data/4.9/classes/Store/methods</a>
  </p>
</div>
