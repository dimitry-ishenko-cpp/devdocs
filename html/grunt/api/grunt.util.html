<h1>grunt.util</h1>
<p>Miscellaneous utilities for your Gruntfile and tasks.</p> <h3 id="grunt.util.kindof">grunt.util.kindOf</h3> <p>Return the "kind" of a value. Like <code>typeof</code> but returns the internal <code>[Class](Class/)</code> value. Possible results are <code>"number"</code>, <code>"string"</code>, <code>"boolean"</code>, <code>"function"</code>, <code>"regexp"</code>, <code>"array"</code>, <code>"date"</code>, <code>"error"</code>, <code>"null"</code>, <code>"undefined"</code> and the catch-all <code>"object"</code>.</p> <pre data-language="javascript">grunt.util.kindOf(value)</pre> <h3 id="grunt.util.error">grunt.util.error</h3> <p>Return a new Error instance (that can be thrown) with the appropriate message. If an Error object is specified instead of <code>message</code> that object will be returned. Also, if an Error object is specified for <code>origError</code> and Grunt was run with the <code>--stack</code> option, the original Error stack will be dumped.</p> <pre data-language="javascript">grunt.util.error(message [, origError])</pre> <h3 id="grunt.util.linefeed">grunt.util.linefeed</h3> <p>The linefeed character, normalized for the current operating system. (<code>\r\n</code> on Windows, <code>\n</code> otherwise)</p> <h3 id="grunt.util.normalizelf">grunt.util.normalizelf</h3> <p>Given a string, return a new string with all the linefeeds normalized for the current operating system. (<code>\r\n</code> on Windows, <code>\n</code> otherwise)</p> <pre data-language="javascript">grunt.util.normalizelf(string)</pre> <h3 id="grunt.util.recurse">grunt.util.recurse</h3> <p>Recurse through nested objects and arrays, executing <code>callbackFunction</code> for each non-object value. If <code>continueFunction</code> returns <code>false</code>, a given object or value will be skipped.</p> <pre data-language="javascript">grunt.util.recurse(object, callbackFunction, continueFunction)</pre> <h3 id="grunt.util.repeat">grunt.util.repeat</h3> <p>Return string <code>str</code> repeated <code>n</code> times.</p> <pre data-language="javascript">grunt.util.repeat(n, str)</pre> <h3 id="grunt.util.pluralize">grunt.util.pluralize</h3> <p>Given <code>str</code> of <code>"a/b"</code>, If <code>n</code> is <code>1</code>, return <code>"a"</code> otherwise <code>"b"</code>. You can specify a custom separator if '/' doesn't work for you.</p> <pre data-language="javascript">grunt.util.pluralize(n, str, separator)</pre> <h3 id="grunt.util.spawn">grunt.util.spawn</h3> <p>Spawn a child process, keeping track of its stdout, stderr and exit code. The method returns a reference to the spawned child. When the child exits, the <code>doneFunction</code> is called.</p> <pre data-language="javascript">grunt.util.spawn(options, doneFunction)</pre> <p>The <code>options</code> object has these possible properties:</p> <pre data-language="javascript">var options = {
  // The command to execute. It should be in the system path.
  cmd: commandToExecute,
  // If specified, the same grunt bin that is currently running will be
  // spawned as the child command, instead of the "cmd" option. Defaults
  // to false.
  grunt: boolean,
  // An array of arguments to pass to the command.
  args: arrayOfArguments,
  // Additional options for the Node.js child_process spawn method.
  opts: nodeSpawnOptions,
  // If this value is set and an error occurs, it will be used as the value
  // and null will be passed as the error value.
  fallback: fallbackValue
};</pre> <p>The <code>doneFunction</code> accepts these arguments:</p> <pre data-language="javascript">function doneFunction(error, result, code) {
  // If the exit code was non-zero and a fallback wasn't specified, an Error
  // object, otherwise null.
  error
  // The result object is an object with the properties .stdout, .stderr, and
  // .code (exit code).
  result
  // When result is coerced to a string, the value is stdout if the exit code
  // was zero, the fallback if the exit code was non-zero and a fallback was
  // specified, or stderr if the exit code was non-zero and a fallback was
  // not specified.
  String(result)
  // The numeric exit code.
  code
}</pre> <h3 id="grunt.util.toarray">grunt.util.toArray</h3> <p>Given an array or array-like object, return an array. Great for converting <code>arguments</code> objects into arrays.</p> <pre data-language="javascript">grunt.util.toArray(arrayLikeObject)</pre> <h3 id="grunt.util.callbackify">grunt.util.callbackify</h3> <p>Normalizes both "returns a value" and "passes result to a callback" functions to always pass a result to the specified callback. If the original function returns a value, that value will now be passed to the callback, which is specified as the last argument, after all other predefined arguments. If the original function passed a value to a callback, it will continue to do so.</p> <pre data-language="javascript">grunt.util.callbackify(syncOrAsyncFunction)</pre> <p>This example might better illustrate:</p> <pre data-language="javascript">function add1(a, b) {
  return a + b;
}
function add2(a, b, callback) {
  callback(a + b);
}

var fn1 = grunt.util.callbackify(add1);
var fn2 = grunt.util.callbackify(add2);

fn1(1, 2, function(result) {
  console.log('1 plus 2 equals ' + result);
});
fn2(1, 2, function(result) {
  console.log('1 plus 2 equals ' + result);
});</pre> <h2 id="internal-libraries">Internal libraries</h2> <h3 id="grunt.util.namespace">grunt.util.namespace</h3> <p>An internal library for resolving deeply-nested properties in objects.</p> <h3 id="grunt.util.task">grunt.util.task</h3> <p>An internal library for task running.</p> <h2 id="external-libraries">External libraries</h2> <p><em>Deprecated</em></p> <p><strong>All external libraries that are listed below are now deprecated.</strong></p> <p>Please use <strong>npm</strong> to manage these external libraries in your project's dependencies.</p> <p>For example if you want to use <a href="https://www.npmjs.org/package/lodash">Lo-Dash</a>, install it first: <code>npm install lodash</code>, then use it in your <code>Gruntfile</code>: <code>var _ = require('lodash');</code>.</p> <h4 id="grunt.util._">grunt.util._</h4> <p><em>Deprecated</em></p> <p><a href="http://lodash.com/">Lo-Dash</a> and <a href="https://github.com/epeli/underscore.string">Underscore.string</a></p> <p><code>grunt.util._.str</code> is available for methods that conflict with existing Lo-Dash methods.</p> <h4 id="grunt.util.async">grunt.util.async</h4> <p><em>Deprecated</em></p> <p><a href="https://github.com/caolan/async">Async</a> - Async utilities for node and the browser.</p> <h4 id="grunt.util.hooker">grunt.util.hooker</h4> <p><em>Deprecated</em></p> <p><a href="https://github.com/cowboy/javascript-hooker">JavaScript Hooker</a> - Monkey-patch (hook) functions for debugging and stuff.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; GruntJS Team<br>Licensed under the MIT License.<br>
    <a href="https://gruntjs.com/api/grunt.util" class="_attribution-link">https://gruntjs.com/api/grunt.util</a>
  </p>
</div>
