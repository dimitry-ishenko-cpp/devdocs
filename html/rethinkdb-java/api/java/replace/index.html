<h1 class="title">ReQL command: replace</h1>  <div class="alg-content">
<h2 id="command-syntax">Command syntax</h2> <pre class="command-syntax" data-language="java">table.replace(object | function) → object
selection.replace(object | function) → object
singleSelection.replace(object | function) → object
</pre> <p><img src="data:image/png;base64,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" class="api_command_illustration"></p> <h2 id="description">Description</h2> <p>Replace documents in a table. Accepts a JSON document or a ReQL expression, and replaces the original document with the new one. The new document must have the same primary key as the original document.</p> <p>The <code class="language-plaintext highlighter-rouge">replace</code> command can be used to both insert and delete documents. If the “replaced” document has a primary key that doesn’t exist in the table, the document will be inserted; if an existing document is replaced with <code class="language-plaintext highlighter-rouge">null</code>, the document will be deleted. Since <code class="language-plaintext highlighter-rouge">update</code> and <code class="language-plaintext highlighter-rouge">replace</code> operations are performed atomically, this allows atomic inserts and deletes as well.</p> <p>You can pass the following options using <a href="../optarg/index.html">optArg</a>:</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">durability</code>: possible values are <code class="language-plaintext highlighter-rouge">hard</code> and <code class="language-plaintext highlighter-rouge">soft</code>. This option will override the table or query’s durability setting (set in <a href="../run/index.html">run</a>). In soft durability mode RethinkDB will acknowledge the write immediately after receiving it, but before the write has been committed to disk.</li> <li>
<code class="language-plaintext highlighter-rouge">return_changes</code>: <ul> <li>
<code class="language-plaintext highlighter-rouge">true</code>: return a <code class="language-plaintext highlighter-rouge">changes</code> array consisting of <code class="language-plaintext highlighter-rouge">old_val</code>/<code class="language-plaintext highlighter-rouge">new_val</code> objects describing the changes made, only including the documents actually updated.</li> <li>
<code class="language-plaintext highlighter-rouge">false</code>: do not return a <code class="language-plaintext highlighter-rouge">changes</code> array (the default).</li> <li>
<code class="language-plaintext highlighter-rouge">"always"</code>: behave as <code class="language-plaintext highlighter-rouge">true</code>, but include all documents the command tried to update whether or not the update was successful. (This was the behavior of <code class="language-plaintext highlighter-rouge">true</code> pre-2.0.)</li> </ul> </li> <li>
<code class="language-plaintext highlighter-rouge">non_atomic</code>: if set to <code class="language-plaintext highlighter-rouge">true</code>, executes the replacement and distributes the result to replicas in a non-atomic fashion. This flag is required to perform non-deterministic updates, such as those that require reading data from another table.</li> <li>
<code class="language-plaintext highlighter-rouge">ignore_write_hook</code>: If <code class="language-plaintext highlighter-rouge">true</code>, and if the user has the config permission, ignores any <a href="../manipulating-tables/set_write_hook.md/index.html">write hook</a> when performing the replacement.</li> </ul> <p>Replace returns an object that contains the following attributes:</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">replaced</code>: the number of documents that were replaced.</li> <li>
<code class="language-plaintext highlighter-rouge">unchanged</code>: the number of documents that would have been modified, except that the new value was the same as the old value.</li> <li>
<code class="language-plaintext highlighter-rouge">inserted</code>: the number of new documents added. A document is considered inserted if its primary key did not exist in the table at the time of the <code class="language-plaintext highlighter-rouge">replace</code> operation.</li> <li>
<code class="language-plaintext highlighter-rouge">deleted</code>: the number of deleted documents when doing a replace with <code class="language-plaintext highlighter-rouge">null</code>.</li> <li>
<code class="language-plaintext highlighter-rouge">errors</code>: the number of errors encountered while performing the replace.</li> <li>
<code class="language-plaintext highlighter-rouge">first_error</code>: If errors were encountered, contains the text of the first error.</li> <li>
<code class="language-plaintext highlighter-rouge">skipped</code>: 0 for a replace operation.</li> <li>
<code class="language-plaintext highlighter-rouge">changes</code>: if <code class="language-plaintext highlighter-rouge">returnChanges</code> is set to <code class="language-plaintext highlighter-rouge">true</code>, this will be an array of objects, one for each objected affected by the <code class="language-plaintext highlighter-rouge">replace</code> operation. Each object will have two keys: <code class="language-plaintext highlighter-rouge">{"new_val": &lt;new value&gt;, "old_val": &lt;old value&gt;}</code>.</li> </ul> <blockquote class="infobox infobox-alert">
<p>RethinkDB write operations will only throw exceptions if errors occur before any writes. Other errors will be listed in <code class="language-plaintext highlighter-rouge">first_error</code>, and <code class="language-plaintext highlighter-rouge">errors</code> will be set to a non-zero count. To properly handle errors with this term, code must both handle exceptions and check the <code class="language-plaintext highlighter-rouge">errors</code> return value!</p> </blockquote> <p><strong>Example:</strong> Replace the document with the primary key <code class="language-plaintext highlighter-rouge">1</code>.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="java">r.table("posts").get(1).replace(
    r.hashMap("id", 1).with("title", "Lorem ipsum")
     .with("content", "Aleas jacta est")
     .with("status", "draft")
).run(conn);
</pre></div></div> <p><strong>Example:</strong> Remove the field <code class="language-plaintext highlighter-rouge">status</code> from all posts.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="java">r.table("posts").replace(post -&gt; post.without("status")).run(conn);
</pre></div></div> <p><strong>Example:</strong> Remove all the fields that are not <code class="language-plaintext highlighter-rouge">id</code>, <code class="language-plaintext highlighter-rouge">title</code> or <code class="language-plaintext highlighter-rouge">content</code>.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="java">r.table("posts").replace(
    post -&gt; post.pluck("id", "title", "content")
).run(conn);
</pre></div></div> <p><strong>Example:</strong> Replace the document with the primary key <code class="language-plaintext highlighter-rouge">1</code> using soft durability.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="java">r.table("posts").get(1).replace(
    r.hashMap("id", 1)
     .with("title", "Lorem ipsum")
     .with("content", "Aleas jacta est")
     .with("status", "draft")
).optArg("durability", "soft").run(conn);
</pre></div></div> <p><strong>Example:</strong> Replace the document with the primary key <code class="language-plaintext highlighter-rouge">1</code> and return the values of the document before and after the replace operation.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="java">r.table("posts").get(1).replace(
    r.hashMap("id", 1)
     .with("title", "Lorem ipsum")
     .with("content", "Aleas jacta est")
     .with("status", "published")
).optArg("return_changes", true).run(conn);
</pre></div></div> <p>The result will have a <code class="language-plaintext highlighter-rouge">changes</code> field:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="java">{
    "deleted": 0,
    "errors":  0,
    "inserted": 0,
    "changes": [
        {
            "new_val": {
                "id":1,
                "title": "Lorem ipsum"
                "content": "Aleas jacta est",
                "status": "published",
            },
            "old_val": {
                "id":1,
                "title": "Lorem ipsum"
                "content": "TODO",
                "status": "draft",
                "author": "William",
            }
        }
    ],   
    "replaced": 1,
    "skipped": 0,
    "unchanged": 0
}
</pre></div></div> </div> <section class="related-commands"> <h2>Related commands</h2> <ul> <li><a href="../insert/index.html">insert</a></li> <li><a href="../update/index.html">update</a></li> <li><a href="../delete/index.html">delete</a></li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; RethinkDB contributors<br>Licensed under the Creative Commons Attribution-ShareAlike 3.0 Unported License.<br>
    <a href="https://rethinkdb.com/api/java/replace/" class="_attribution-link">https://rethinkdb.com/api/java/replace/</a>
  </p>
</div>
