<h1>Class yii\di\Container</h1> <div class="top-nav"> <a href="index.html">All Classes</a> | <a href="#properties">Properties</a> | <a href="#methods">Methods</a> </div> <table> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Inheritance</th>
<td>
<a href="yii-di-container.html">yii\di\Container</a> » <a href="yii-base-component.html">yii\base\Component</a> » <a href="yii-base-object.html">yii\base\Object</a>
</td>
</tr> <tr>
<th>Implements</th>
<td><a href="yii-base-configurable.html">yii\base\Configurable</a></td>
</tr> <tr>
<th>Available since version</th>
<td>2.0</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2/blob/master/framework/di/Container.php">https://github.com/yiisoft/yii2/blob/master/framework/di/Container.php</a></td> </tr> </table>  <p><strong>Container implements a <a href="http://en.wikipedia.org/wiki/Dependency_injection">dependency injection</a> container.</strong></p> <p>A dependency injection (DI) container is an object that knows how to instantiate and configure objects and all their dependent objects. For more information about DI, please refer to <a href="http://martinfowler.com/articles/injection.html">Martin Fowler's article</a>.</p> <p>Container supports constructor injection as well as property injection.</p> <p>To use Container, you first need to set up the class dependencies by calling <a href="yii-di-container.html#set()-detail">set()</a>. You then call <a href="yii-di-container.html#get()-detail">get()</a> to create a new class object. Container will automatically instantiate dependent objects, inject them into the object being created, configure and finally return the newly created object.</p> <p>By default, <a href="yii-baseyii.html#%24container-detail">Yii::$container</a> refers to a Container instance which is used by <a href="yii-baseyii.html#createObject()-detail">Yii::createObject()</a> to create new object instances. You may use this method to replace the <code>new</code> operator when creating a new object, which gives you the benefit of automatic dependency resolution and default property configuration.</p> <p>Below is an example of using Container:</p> <pre data-language="php">namespace app\models;

use yii\base\Object;
use yii\db\Connection;
use yii\di\Container;

interface UserFinderInterface
{
    function findUser();
}

class UserFinder extends Object implements UserFinderInterface
{
    public $db;

    public function __construct(Connection $db, $config = [])
    {
        $this-&gt;db = $db;
        parent::__construct($config);
    }

    public function findUser()
    {
    }
}

class UserLister extends Object
{
    public $finder;

    public function __construct(UserFinderInterface $finder, $config = [])
    {
        $this-&gt;finder = $finder;
        parent::__construct($config);
    }
}

$container = new Container;
$container-&gt;set('yii\db\Connection', [
    'dsn' =&gt; '...',
]);
$container-&gt;set('app\models\UserFinderInterface', [
    'class' =&gt; 'app\models\UserFinder',
]);
$container-&gt;set('userLister', 'app\models\UserLister');

$lister = $container-&gt;get('userLister');

// which is equivalent to:

$db = new \yii\db\Connection(['dsn' =&gt; '...']);
$finder = new UserFinder($db);
$lister = new UserLister($finder);
</pre> <p>For more details and usage information on Container, see the <a href="guide-concept-di-container.html">guide article on di-containers</a>.</p>    <h2 id="properties">Public Properties</h2>  <table> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="$behaviors"> <td><a href="yii-base-component.html#%24behaviors-detail">$behaviors</a></td> <td>
<a href="yii-base-behavior.html">yii\base\Behavior</a>[]</td> <td>List of behaviors attached to this component</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="$definitions"> <td><a href="yii-di-container.html#%24definitions-detail">$definitions</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>The list of the object definitions or the loaded shared objects (type or ID =&gt; definition or instance).</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="$singleton"> <td><a href="yii-di-container.html#%24singleton-detail">$singleton</a></td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>Class name, interface name or alias name</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="$singletons"> <td><a href="yii-di-container.html#%24singletons-detail">$singletons</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>Array of singleton definitions.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> </table>    <h2 id="methods">Public Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="__call()"> <td><a href="yii-base-component.html#__call()-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__clone()"> <td><a href="yii-base-component.html#__clone()-detail">__clone()</a></td> <td>This method is called after the object is created by cloning an existing one.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__construct()"> <td><a href="yii-base-object.html#__construct()-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__get()"> <td><a href="yii-base-component.html#__get()-detail">__get()</a></td> <td>Returns the value of a component property.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__isset()"> <td><a href="yii-base-component.html#__isset()-detail">__isset()</a></td> <td>Checks if a property is set, i.e. defined and not null.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__set()"> <td><a href="yii-base-component.html#__set()-detail">__set()</a></td> <td>Sets the value of a component property.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__unset()"> <td><a href="yii-base-component.html#__unset()-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="attachBehavior()"> <td><a href="yii-base-component.html#attachBehavior()-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="attachBehaviors()"> <td><a href="yii-base-component.html#attachBehaviors()-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="behaviors()"> <td><a href="yii-base-component.html#behaviors()-detail">behaviors()</a></td> <td>Returns a list of behaviors that this component should behave as.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="canGetProperty()"> <td><a href="yii-base-component.html#canGetProperty()-detail">canGetProperty()</a></td> <td>Returns a value indicating whether a property can be read.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="canSetProperty()"> <td><a href="yii-base-component.html#canSetProperty()-detail">canSetProperty()</a></td> <td>Returns a value indicating whether a property can be set.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="className()"> <td><a href="yii-base-object.html#className()-detail">className()</a></td> <td>Returns the fully qualified name of this class.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="clear()"> <td><a href="yii-di-container.html#clear()-detail">clear()</a></td> <td>Removes the definition for the specified name.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="detachBehavior()"> <td><a href="yii-base-component.html#detachBehavior()-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="detachBehaviors()"> <td><a href="yii-base-component.html#detachBehaviors()-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="ensureBehaviors()"> <td><a href="yii-base-component.html#ensureBehaviors()-detail">ensureBehaviors()</a></td> <td>Makes sure that the behaviors declared in <a href="yii-base-component.html#behaviors()-detail">behaviors()</a> are attached to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="get()"> <td><a href="yii-di-container.html#get()-detail">get()</a></td> <td>Returns an instance of the requested class.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="getBehavior()"> <td><a href="yii-base-component.html#getBehavior()-detail">getBehavior()</a></td> <td>Returns the named behavior object.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="getBehaviors()"> <td><a href="yii-base-component.html#getBehaviors()-detail">getBehaviors()</a></td> <td>Returns all behaviors attached to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="getDefinitions()"> <td><a href="yii-di-container.html#getDefinitions()-detail">getDefinitions()</a></td> <td>Returns the list of the object definitions or the loaded shared objects.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="has()"> <td><a href="yii-di-container.html#has()-detail">has()</a></td> <td>Returns a value indicating whether the container has the definition of the specified name.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="hasEventHandlers()"> <td><a href="yii-base-component.html#hasEventHandlers()-detail">hasEventHandlers()</a></td> <td>Returns a value indicating whether there is any handler attached to the named event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="hasMethod()"> <td><a href="yii-base-component.html#hasMethod()-detail">hasMethod()</a></td> <td>Returns a value indicating whether a method is defined.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="hasProperty()"> <td><a href="yii-base-component.html#hasProperty()-detail">hasProperty()</a></td> <td>Returns a value indicating whether a property is defined for this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="hasSingleton()"> <td><a href="yii-di-container.html#hasSingleton()-detail">hasSingleton()</a></td> <td>Returns a value indicating whether the given name corresponds to a registered singleton.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="init()"> <td><a href="yii-base-object.html#init()-detail">init()</a></td> <td>Initializes the object.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="invoke()"> <td><a href="yii-di-container.html#invoke()-detail">invoke()</a></td> <td>Invoke a callback with resolving dependencies in parameters.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="off()"> <td><a href="yii-base-component.html#off()-detail">off()</a></td> <td>Detaches an existing event handler from this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="on()"> <td><a href="yii-base-component.html#on()-detail">on()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="resolveCallableDependencies()"> <td><a href="yii-di-container.html#resolveCallableDependencies()-detail">resolveCallableDependencies()</a></td> <td>Resolve dependencies for a function.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="set()"> <td><a href="yii-di-container.html#set()-detail">set()</a></td> <td>Registers a class definition with this container.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="setDefinitions()"> <td><a href="yii-di-container.html#setDefinitions()-detail">setDefinitions()</a></td> <td>Registers class definitions within this container.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="setSingleton()"> <td><a href="yii-di-container.html#setSingleton()-detail">setSingleton()</a></td> <td>Registers a class definition with this container and marks the class as a singleton class.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="setSingletons()"> <td><a href="yii-di-container.html#setSingletons()-detail">setSingletons()</a></td> <td>Registers class definitions as singletons within this container by calling <a href="yii-di-container.html#setSingleton()-detail">setSingleton()</a>
</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="trigger()"> <td><a href="yii-base-component.html#trigger()-detail">trigger()</a></td> <td>Triggers an event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> </table>   <h2>Protected Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="build()"> <td><a href="yii-di-container.html#build()-detail">build()</a></td> <td>Creates an instance of the specified class.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="getDependencies()"> <td><a href="yii-di-container.html#getDependencies()-detail">getDependencies()</a></td> <td>Returns the dependencies of the specified class.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="mergeParams()"> <td><a href="yii-di-container.html#mergeParams()-detail">mergeParams()</a></td> <td>Merges the user-specified constructor parameters with the ones registered via <a href="yii-di-container.html#set()-detail">set()</a>.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="normalizeDefinition()"> <td><a href="yii-di-container.html#normalizeDefinition()-detail">normalizeDefinition()</a></td> <td>Normalizes the class definition.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> <tr id="resolveDependencies()"> <td><a href="yii-di-container.html#resolveDependencies()-detail">resolveDependencies()</a></td> <td>Resolves dependencies by replacing them with the actual object instances.</td> <td><a href="yii-di-container.html">yii\di\Container</a></td> </tr> </table>    <h2 id="constants">Property Details</h2>  <h3 id="$definitions-detail"> $definitions <span class="detail-header-tag small"> public property </span> </h3>  <p>The list of the object definitions or the loaded shared objects (type or ID =&gt; definition or instance).</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.array">array</a></span> <strong><a href="yii-di-container.html#getDefinitions()-detail">getDefinitions</a></strong> ( )<br><span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="yii-di-container.html#setDefinitions()-detail">setDefinitions</a></strong> ( <span class="signature-type"><a href="http://www.php.net/language.types.array">array</a></span> $definitions )</pre> <h3 id="$singleton-detail"> $singleton <span class="detail-header-tag small"> public <em>write-only</em> property </span> </h3>  <p>Class name, interface name or alias name</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="yii-di-container.html">$this</a></span> <strong><a href="yii-di-container.html#setSingleton()-detail">setSingleton</a></strong> ( $class, $definition = [], <span class="signature-type"><a href="http://www.php.net/language.types.array">array</a></span> $params = [] )</pre> <h3 id="$singletons-detail"> $singletons <span class="detail-header-tag small"> public <em>write-only</em> property </span> </h3>  <p>Array of singleton definitions. See <a href="yii-di-container.html#setDefinitions()-detail">setDefinitions()</a> for allowed formats of array.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="yii-di-container.html#setSingletons()-detail">setSingletons</a></strong> ( <span class="signature-type"><a href="http://www.php.net/language.types.array">array</a></span> $singletons )</pre>  <h2>Method Details</h2> <div class="method-doc"> <h3 id="build()-detail"> build() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Creates an instance of the specified class.</strong></p> <p>This method will resolve dependencies of the specified class, instantiate them, and inject them into the new instance of the specified class.</p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.object">object</a> <strong><a href="yii-di-container.html#build()-detail">build</a></strong> ( $class, $params, $config )</th></tr> <tr> <td>$class</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The class name</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Constructor parameters</p> </td> </tr> <tr> <td>$config</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Configurations to be applied to the new instance</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.object">object</a></td> <td>
<p>The newly created instance of the specified class</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-di-notinstantiableexception.html">yii\di\NotInstantiableException</a></td> <td>
<p>If resolved to an abstract class or an interface (since 2.0.9)</p> </td> </tr> </table>  <h3 id="clear()-detail"> clear() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Removes the definition for the specified name.</strong></p>  <table> <tr><th colspan="3">public void <strong><a href="yii-di-container.html#clear()-detail">clear</a></strong> ( $class )</th></tr> <tr> <td>$class</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Class name, interface name or alias name</p> </td> </tr> </table>  <h3 id="get()-detail"> get() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Returns an instance of the requested class.</strong></p> <p>You may provide constructor parameters (<code>$params</code>) and object configurations (<code>$config</code>) that will be used during the creation of the instance.</p> <p>If the class implements <a href="yii-base-configurable.html">yii\base\Configurable</a>, the <code>$config</code> parameter will be passed as the last parameter to the class constructor; Otherwise, the configuration will be applied <em>after</em> the object is instantiated.</p> <p>Note that if the class is declared to be singleton by calling <a href="yii-di-container.html#setSingleton()-detail">setSingleton()</a>, the same instance of the class will be returned each time this method is called. In this case, the constructor parameters and object configurations will be used only if the class is instantiated the first time.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.object">object</a> <strong><a href="yii-di-container.html#get()-detail">get</a></strong> ( $class, $params = [], $config = [] )</th></tr> <tr> <td>$class</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The class name or an alias name (e.g. <code>foo</code>) that was previously registered via <a href="yii-di-container.html#set()-detail">set()</a> or <a href="yii-di-container.html#setSingleton()-detail">setSingleton()</a>.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>A list of constructor parameter values. The parameters should be provided in the order they appear in the constructor declaration. If you want to skip some parameters, you should index the remaining ones with the integers that represent their positions in the constructor parameter list.</p> </td> </tr> <tr> <td>$config</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>A list of name-value pairs that will be used to initialize the object properties.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.object">object</a></td> <td>
<p>An instance of the requested class.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidconfigexception.html">yii\base\InvalidConfigException</a></td> <td>
<p>if the class cannot be recognized or correspond to an invalid definition</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-di-notinstantiableexception.html">yii\di\NotInstantiableException</a></td> <td>
<p>If resolved to an abstract class or an interface (since 2.0.9)</p> </td> </tr> </table>  <h3 id="getDefinitions()-detail"> getDefinitions() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Returns the list of the object definitions or the loaded shared objects.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-di-container.html#getDefinitions()-detail">getDefinitions</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The list of the object definitions or the loaded shared objects (type or ID =&gt; definition or instance).</p> </td> </tr> </table>  <h3 id="getDependencies()-detail"> getDependencies() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Returns the dependencies of the specified class.</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-di-container.html#getDependencies()-detail">getDependencies</a></strong> ( $class )</th></tr> <tr> <td>$class</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Class name, interface name or alias name</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The dependencies of the specified class.</p> </td> </tr> </table>  <h3 id="has()-detail"> has() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Returns a value indicating whether the container has the definition of the specified name.</strong></p> <p>See also <a href="yii-di-container.html#set()-detail">set()</a>.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-di-container.html#has()-detail">has</a></strong> ( $class )</th></tr> <tr> <td>$class</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Class name, interface name or alias name</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the container has the definition of the specified name..</p> </td> </tr> </table>  <h3 id="hasSingleton()-detail"> hasSingleton() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Returns a value indicating whether the given name corresponds to a registered singleton.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-di-container.html#hasSingleton()-detail">hasSingleton</a></strong> ( $class, $checkInstance = false )</th></tr> <tr> <td>$class</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Class name, interface name or alias name</p> </td> </tr> <tr> <td>$checkInstance</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether to check if the singleton has been instantiated.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the given name corresponds to a registered singleton. If <code>$checkInstance</code> is true, the method should return a value indicating whether the singleton has been instantiated.</p> </td> </tr> </table>  <h3 id="invoke()-detail"> invoke() <span class="detail-header-tag small"> public method (available since version 2.0.7) </span> </h3>  <p><strong>Invoke a callback with resolving dependencies in parameters.</strong></p> <p>This methods allows invoking a callback and let type hinted parameter names to be resolved as objects of the Container. It additionally allow calling function using named parameters.</p> <p>For example, the following callback may be invoked using the Container to resolve the formatter dependency:</p> <pre data-language="php">$formatString = function($string, \yii\i18n\Formatter $formatter) {
   // ...
}
Yii::$container-&gt;invoke($formatString, ['string' =&gt; 'Hello World!']);
</pre> <p>This will pass the string <code>'Hello World!'</code> as the first param, and a formatter instance created by the DI container as the second param to the callable.</p>  <table> <tr><th colspan="3">public mixed <strong><a href="yii-di-container.html#invoke()-detail">invoke</a></strong> ( <a href="http://www.php.net/language.types.callable">callable</a> $callback, $params = [] )</th></tr> <tr> <td>$callback</td> <td><a href="http://www.php.net/language.types.callable">callable</a></td> <td>
<p>Callable to be invoked.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The array of parameters for the function. This can be either a list of parameters, or an associative array representing named function parameters.</p> </td> </tr> <tr> <td>return</td> <td>mixed</td> <td>
<p>The callback return value.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidconfigexception.html">yii\base\InvalidConfigException</a></td> <td>
<p>if a dependency cannot be resolved or if a dependency cannot be fulfilled.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-di-notinstantiableexception.html">yii\di\NotInstantiableException</a></td> <td>
<p>If resolved to an abstract class or an interface (since 2.0.9)</p> </td> </tr> </table>  <h3 id="mergeParams()-detail"> mergeParams() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Merges the user-specified constructor parameters with the ones registered via <a href="yii-di-container.html#set()-detail">set()</a>.</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-di-container.html#mergeParams()-detail">mergeParams</a></strong> ( $class, $params )</th></tr> <tr> <td>$class</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Class name, interface name or alias name</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The constructor parameters</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The merged parameters</p> </td> </tr> </table>  <h3 id="normalizeDefinition()-detail"> normalizeDefinition() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Normalizes the class definition.</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-di-container.html#normalizeDefinition()-detail">normalizeDefinition</a></strong> ( $class, $definition )</th></tr> <tr> <td>$class</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Class name</p> </td> </tr> <tr> <td>$definition</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>|<a href="http://www.php.net/language.types.callable">callable</a>
</td> <td>
<p>The class definition</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The normalized class definition</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidconfigexception.html">yii\base\InvalidConfigException</a></td> <td>
<p>if the definition is invalid.</p> </td> </tr> </table>  <h3 id="resolveCallableDependencies()-detail"> resolveCallableDependencies() <span class="detail-header-tag small"> public method (available since version 2.0.7) </span> </h3>  <p><strong>Resolve dependencies for a function.</strong></p> <p>This method can be used to implement similar functionality as provided by <a href="yii-di-container.html#invoke()-detail">invoke()</a> in other components.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-di-container.html#resolveCallableDependencies()-detail">resolveCallableDependencies</a></strong> ( <a href="http://www.php.net/language.types.callable">callable</a> $callback, $params = [] )</th></tr> <tr> <td>$callback</td> <td><a href="http://www.php.net/language.types.callable">callable</a></td> <td>
<p>Callable to be invoked.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The array of parameters for the function, can be either numeric or associative.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The resolved dependencies.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidconfigexception.html">yii\base\InvalidConfigException</a></td> <td>
<p>if a dependency cannot be resolved or if a dependency cannot be fulfilled.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-di-notinstantiableexception.html">yii\di\NotInstantiableException</a></td> <td>
<p>If resolved to an abstract class or an interface (since 2.0.9)</p> </td> </tr> </table>  <h3 id="resolveDependencies()-detail"> resolveDependencies() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Resolves dependencies by replacing them with the actual object instances.</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-di-container.html#resolveDependencies()-detail">resolveDependencies</a></strong> ( $dependencies, $reflection = null )</th></tr> <tr> <td>$dependencies</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The dependencies</p> </td> </tr> <tr> <td>$reflection</td> <td><a href="http://www.php.net/class.reflectionclass">ReflectionClass</a></td> <td>
<p>The class reflection associated with the dependencies</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The resolved dependencies</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidconfigexception.html">yii\base\InvalidConfigException</a></td> <td>
<p>if a dependency cannot be resolved or if a dependency cannot be fulfilled.</p> </td> </tr> </table>  <h3 id="set()-detail"> set() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Registers a class definition with this container.</strong></p> <p>For example,</p> <pre data-language="php">// register a class name as is. This can be skipped.
$container-&gt;set('yii\db\Connection');

// register an interface
// When a class depends on the interface, the corresponding class
// will be instantiated as the dependent object
$container-&gt;set('yii\mail\MailInterface', 'yii\swiftmailer\Mailer');

// register an alias name. You can use $container-&gt;get('foo')
// to create an instance of Connection
$container-&gt;set('foo', 'yii\db\Connection');

// register a class with configuration. The configuration
// will be applied when the class is instantiated by get()
$container-&gt;set('yii\db\Connection', [
    'dsn' =&gt; 'mysql:host=127.0.0.1;dbname=demo',
    'username' =&gt; 'root',
    'password' =&gt; '',
    'charset' =&gt; 'utf8',
]);

// register an alias name with class configuration
// In this case, a "class" element is required to specify the class
$container-&gt;set('db', [
    'class' =&gt; 'yii\db\Connection',
    'dsn' =&gt; 'mysql:host=127.0.0.1;dbname=demo',
    'username' =&gt; 'root',
    'password' =&gt; '',
    'charset' =&gt; 'utf8',
]);

// register a PHP callable
// The callable will be executed when $container-&gt;get('db') is called
$container-&gt;set('db', function ($container, $params, $config) {
    return new \yii\db\Connection($config);
});
</pre> <p>If a class definition with the same name already exists, it will be overwritten with the new one. You may use <a href="yii-di-container.html#has()-detail">has()</a> to check if a class definition already exists.</p>  <table> <tr><th colspan="3">public <a href="yii-di-container.html">$this</a> <strong><a href="yii-di-container.html#set()-detail">set</a></strong> ( $class, $definition = [], <a href="http://www.php.net/language.types.array">array</a> $params = [] )</th></tr> <tr> <td>$class</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Class name, interface name or alias name</p> </td> </tr> <tr> <td>$definition</td> <td>mixed</td> <td>
<p>The definition associated with <code>$class</code>. It can be one of the following:</p> <ul> <li>a PHP callable: The callable will be executed when <a href="yii-di-container.html#get()-detail">get()</a> is invoked. The signature of the callable should be <code>function ($container, $params, $config)</code>, where <code>$params</code> stands for the list of constructor parameters, <code>$config</code> the object configuration, and <code>$container</code> the container object. The return value of the callable will be returned by <a href="yii-di-container.html#get()-detail">get()</a> as the object instance requested.</li> <li>a configuration array: the array contains name-value pairs that will be used to initialize the property values of the newly created object when <a href="yii-di-container.html#get()-detail">get()</a> is called. The <code>class</code> element stands for the the class of the object to be created. If <code>class</code> is not specified, <code>$class</code> will be used as the class name.</li> <li>a string: a class name, an interface name or an alias name.</li> </ul> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The list of constructor parameters. The parameters will be passed to the class constructor when <a href="yii-di-container.html#get()-detail">get()</a> is called.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-di-container.html">$this</a></td> <td>
<p>The container itself</p> </td> </tr> </table>  <h3 id="setDefinitions()-detail"> setDefinitions() <span class="detail-header-tag small"> public method (available since version 2.0.11) </span> </h3>  <p><strong>Registers class definitions within this container.</strong></p> <p>See also <a href="yii-di-container.html#set()-detail">set()</a> to know more about possible values of definitions.</p>  <table> <tr><th colspan="3">public void <strong><a href="yii-di-container.html#setDefinitions()-detail">setDefinitions</a></strong> ( <a href="http://www.php.net/language.types.array">array</a> $definitions )</th></tr> <tr> <td>$definitions</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Array of definitions. There are two allowed formats of array. The first format:</p> <ul> <li>key: class name, interface name or alias name. The key will be passed to the <a href="yii-di-container.html#set()-detail">set()</a> method as a first argument <code>$class</code>.</li> <li>value: the definition associated with <code>$class</code>. Possible values are described in <a href="yii-di-container.html#set()-detail">set()</a> documentation for the <code>$definition</code> parameter. Will be passed to the <a href="yii-di-container.html#set()-detail">set()</a> method as the second argument <code>$definition</code>.</li> </ul> <p>Example: <code>`</code>php $container-&gt;setDefinitions([</p> <pre data-language="php">'yii\web\Request' =&gt; 'app\components\Request',
'yii\web\Response' =&gt; [
    'class' =&gt; 'app\components\Response',
    'format' =&gt; 'json'
],
'foo\Bar' =&gt; function () {
    $qux = new Qux;
    $foo = new Foo($qux);
    return new Bar($foo);
}
</pre> <p>]); <code>`</code></p> <p>The second format:</p> <ul> <li>key: class name, interface name or alias name. The key will be passed to the <a href="yii-di-container.html#set()-detail">set()</a> method as a first argument <code>$class</code>.</li> <li>value: array of two elements. The first element will be passed the <a href="yii-di-container.html#set()-detail">set()</a> method as the second argument <code>$definition</code>, the second one — as <code>$params</code>.</li> </ul> <p>Example: <code>`</code>php $container-&gt;setDefinitions([</p> <pre data-language="php">'foo\Bar' =&gt; [
     ['class' =&gt; 'app\Bar'],
     [Instance::of('baz')]
 ]
</pre> <p>]); <code>`</code></p> </td> </tr> </table>  <h3 id="setSingleton()-detail"> setSingleton() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Registers a class definition with this container and marks the class as a singleton class.</strong></p> <p>This method is similar to <a href="yii-di-container.html#set()-detail">set()</a> except that classes registered via this method will only have one instance. Each time <a href="yii-di-container.html#get()-detail">get()</a> is called, the same instance of the specified class will be returned.</p> <p>See also <a href="yii-di-container.html#set()-detail">set()</a>.</p>  <table> <tr><th colspan="3">public <a href="yii-di-container.html">$this</a> <strong><a href="yii-di-container.html#setSingleton()-detail">setSingleton</a></strong> ( $class, $definition = [], <a href="http://www.php.net/language.types.array">array</a> $params = [] )</th></tr> <tr> <td>$class</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Class name, interface name or alias name</p> </td> </tr> <tr> <td>$definition</td> <td>mixed</td> <td>
<p>The definition associated with <code>$class</code>. See <a href="yii-di-container.html#set()-detail">set()</a> for more details.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The list of constructor parameters. The parameters will be passed to the class constructor when <a href="yii-di-container.html#get()-detail">get()</a> is called.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-di-container.html">$this</a></td> <td>
<p>The container itself</p> </td> </tr> </table>  <h3 id="setSingletons()-detail"> setSingletons() <span class="detail-header-tag small"> public method (available since version 2.0.11) </span> </h3>  <p><strong>Registers class definitions as singletons within this container by calling <a href="yii-di-container.html#setSingleton()-detail">setSingleton()</a></strong></p> <p>See also:</p>
<ul>
<li>
<a href="yii-di-container.html#setDefinitions()-detail">setDefinitions()</a> for allowed formats of $singletons parameter.</li>
<li>
<a href="yii-di-container.html#setSingleton()-detail">setSingleton()</a> to know more about possible values of definitions.</li>
</ul>  <table> <tr><th colspan="3">public void <strong><a href="yii-di-container.html#setSingletons()-detail">setSingletons</a></strong> ( <a href="http://www.php.net/language.types.array">array</a> $singletons )</th></tr> <tr> <td>$singletons</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Array of singleton definitions. See <a href="yii-di-container.html#setDefinitions()-detail">setDefinitions()</a> for allowed formats of array.</p> </td> </tr> </table>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yii-di-container.html" class="_attribution-link">http://www.yiiframework.com/doc-2.0/yii-di-container.html</a>
  </p>
</div>
