<h1>Class yii\sphinx\QueryBuilder</h1> <div class="top-nav"> <a href="index.html">All Classes</a> | <a href="#properties">Properties</a> | <a href="#methods">Methods</a> | <a href="#constants">Constants</a> </div> <table> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Inheritance</th>
<td>
<a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a> Â» <a href="yii-base-object.html">yii\base\Object</a>
</td>
</tr> <tr>
<th>Implements</th>
<td><a href="yii-base-configurable.html">yii\base\Configurable</a></td>
</tr> <tr>
<th>Available since version</th>
<td>2.0</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2-sphinx/blob/master/QueryBuilder.php">https://github.com/yiisoft/yii2-sphinx/blob/master/QueryBuilder.php</a></td> </tr> </table>  <p><strong>QueryBuilder builds a SELECT SQL statement based on the specification given as a <a href="yii-sphinx-query.html">yii\sphinx\Query</a> object.</strong></p> <p>QueryBuilder can also be used to build SQL statements such as INSERT, REPLACE, UPDATE, DELETE, from a <a href="yii-sphinx-query.html">yii\sphinx\Query</a> object.</p>    <h2 id="properties">Public Properties</h2>  <table> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="$db"> <td><a href="yii-sphinx-querybuilder.html#%24db-detail">$db</a></td> <td><a href="yii-sphinx-connection.html">yii\sphinx\Connection</a></td> <td>The Sphinx connection.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="$matchBuilder"> <td><a href="yii-sphinx-querybuilder.html#%24matchBuilder-detail">$matchBuilder</a></td> <td><a href="yii-sphinx-matchbuilder.html">yii\sphinx\MatchBuilder</a></td> <td>Match builder.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="$querySeparator"> <td><a href="yii-sphinx-querybuilder.html#%24querySeparator-detail">$querySeparator</a></td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>Separator between different SQL queries.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="$separator"> <td><a href="yii-sphinx-querybuilder.html#%24separator-detail">$separator</a></td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>The separator between different fragments of a SQL statement.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> </table>   <h2>Protected Properties</h2>  <table> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="$conditionBuilders"> <td><a href="yii-sphinx-querybuilder.html#%24conditionBuilders-detail">$conditionBuilders</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>Map of query condition to builder methods.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> </table>    <h2 id="methods">Public Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="__call()"> <td><a href="yii-base-object.html#__call()-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__construct()"> <td><a href="yii-sphinx-querybuilder.html#__construct()-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="__get()"> <td><a href="yii-base-object.html#__get()-detail">__get()</a></td> <td>Returns the value of an object property.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__isset()"> <td><a href="yii-base-object.html#__isset()-detail">__isset()</a></td> <td>Checks if a property is set, i.e. defined and not null.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__set()"> <td><a href="yii-base-object.html#__set()-detail">__set()</a></td> <td>Sets value of an object property.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__unset()"> <td><a href="yii-base-object.html#__unset()-detail">__unset()</a></td> <td>Sets an object property to null.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="batchInsert()"> <td><a href="yii-sphinx-querybuilder.html#batchInsert()-detail">batchInsert()</a></td> <td>Generates a batch INSERT SQL statement.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="batchReplace()"> <td><a href="yii-sphinx-querybuilder.html#batchReplace()-detail">batchReplace()</a></td> <td>Generates a batch REPLACE SQL statement.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="build()"> <td><a href="yii-sphinx-querybuilder.html#build()-detail">build()</a></td> <td>Generates a SELECT SQL statement from a <a href="yii-sphinx-query.html">yii\sphinx\Query</a> object.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildAndCondition()"> <td><a href="yii-sphinx-querybuilder.html#buildAndCondition()-detail">buildAndCondition()</a></td> <td>Connects two or more SQL expressions with the <code>AND</code> or <code>OR</code> operator.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildBetweenCondition()"> <td><a href="yii-sphinx-querybuilder.html#buildBetweenCondition()-detail">buildBetweenCondition()</a></td> <td>Creates an SQL expressions with the <code>BETWEEN</code> operator.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildColumns()"> <td><a href="yii-sphinx-querybuilder.html#buildColumns()-detail">buildColumns()</a></td> <td>Processes columns and properly quote them if necessary.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildCondition()"> <td><a href="yii-sphinx-querybuilder.html#buildCondition()-detail">buildCondition()</a></td> <td>Parses the condition specification and generates the corresponding SQL expression.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildFrom()"> <td><a href="yii-sphinx-querybuilder.html#buildFrom()-detail">buildFrom()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildGroupBy()"> <td><a href="yii-sphinx-querybuilder.html#buildGroupBy()-detail">buildGroupBy()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildHashCondition()"> <td><a href="yii-sphinx-querybuilder.html#buildHashCondition()-detail">buildHashCondition()</a></td> <td>Creates a condition based on column-value pairs.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildHaving()"> <td><a href="yii-sphinx-querybuilder.html#buildHaving()-detail">buildHaving()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildInCondition()"> <td><a href="yii-sphinx-querybuilder.html#buildInCondition()-detail">buildInCondition()</a></td> <td>Creates an SQL expressions with the <code>IN</code> operator.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildLikeCondition()"> <td><a href="yii-sphinx-querybuilder.html#buildLikeCondition()-detail">buildLikeCondition()</a></td> <td>Creates an SQL expressions with the <code>LIKE</code> operator.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildLimit()"> <td><a href="yii-sphinx-querybuilder.html#buildLimit()-detail">buildLimit()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildMatch()"> <td><a href="yii-sphinx-querybuilder.html#buildMatch()-detail">buildMatch()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildNotCondition()"> <td><a href="yii-sphinx-querybuilder.html#buildNotCondition()-detail">buildNotCondition()</a></td> <td>Inverts an SQL expressions with <code>NOT</code> operator.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildOption()"> <td><a href="yii-sphinx-querybuilder.html#buildOption()-detail">buildOption()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildOrderBy()"> <td><a href="yii-sphinx-querybuilder.html#buildOrderBy()-detail">buildOrderBy()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildOrderByAndLimit()"> <td><a href="yii-sphinx-querybuilder.html#buildOrderByAndLimit()-detail">buildOrderByAndLimit()</a></td> <td>Builds the ORDER BY and LIMIT/OFFSET clauses and appends them to the given SQL.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildSelect()"> <td><a href="yii-sphinx-querybuilder.html#buildSelect()-detail">buildSelect()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildSimpleCondition()"> <td><a href="yii-sphinx-querybuilder.html#buildSimpleCondition()-detail">buildSimpleCondition()</a></td> <td>Creates an SQL expressions like <code>"column" operator value</code>.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildWhere()"> <td><a href="yii-sphinx-querybuilder.html#buildWhere()-detail">buildWhere()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildWithin()"> <td><a href="yii-sphinx-querybuilder.html#buildWithin()-detail">buildWithin()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="callKeywords()"> <td><a href="yii-sphinx-querybuilder.html#callKeywords()-detail">callKeywords()</a></td> <td>Builds a SQL statement for returning tokenized and normalized forms of the keywords, and, optionally, keyword statistics.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="callSnippets()"> <td><a href="yii-sphinx-querybuilder.html#callSnippets()-detail">callSnippets()</a></td> <td>Builds a SQL statement for call snippet from provided data and query, using specified index settings.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="canGetProperty()"> <td><a href="yii-base-object.html#canGetProperty()-detail">canGetProperty()</a></td> <td>Returns a value indicating whether a property can be read.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="canSetProperty()"> <td><a href="yii-base-object.html#canSetProperty()-detail">canSetProperty()</a></td> <td>Returns a value indicating whether a property can be set.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="className()"> <td><a href="yii-base-object.html#className()-detail">className()</a></td> <td>Returns the fully qualified name of this class.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="delete()"> <td><a href="yii-sphinx-querybuilder.html#delete()-detail">delete()</a></td> <td>Creates a DELETE SQL statement.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="getMatchBuilder()"> <td><a href="yii-sphinx-querybuilder.html#getMatchBuilder()-detail">getMatchBuilder()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="hasMethod()"> <td><a href="yii-base-object.html#hasMethod()-detail">hasMethod()</a></td> <td>Returns a value indicating whether a method is defined.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="hasProperty()"> <td><a href="yii-base-object.html#hasProperty()-detail">hasProperty()</a></td> <td>Returns a value indicating whether a property is defined.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="init()"> <td><a href="yii-base-object.html#init()-detail">init()</a></td> <td>Initializes the object.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="insert()"> <td><a href="yii-sphinx-querybuilder.html#insert()-detail">insert()</a></td> <td>Creates an INSERT SQL statement.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="replace()"> <td><a href="yii-sphinx-querybuilder.html#replace()-detail">replace()</a></td> <td>Creates an REPLACE SQL statement.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="truncateIndex()"> <td><a href="yii-sphinx-querybuilder.html#truncateIndex()-detail">truncateIndex()</a></td> <td>Builds a SQL statement for truncating an index.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="update()"> <td><a href="yii-sphinx-querybuilder.html#update()-detail">update()</a></td> <td>Creates an UPDATE SQL statement.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> </table>   <h2>Protected Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="buildCompositeInCondition()"> <td><a href="yii-sphinx-querybuilder.html#buildCompositeInCondition()-detail">buildCompositeInCondition()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildFacets()"> <td><a href="yii-sphinx-querybuilder.html#buildFacets()-detail">buildFacets()</a></td> <td></td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="buildShowMeta()"> <td><a href="yii-sphinx-querybuilder.html#buildShowMeta()-detail">buildShowMeta()</a></td> <td>Builds SHOW META query.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="composeColumnValue()"> <td><a href="yii-sphinx-querybuilder.html#composeColumnValue()-detail">composeColumnValue()</a></td> <td>Composes column value for SQL, taking in account the column type.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="generateBatchInsertReplace()"> <td><a href="yii-sphinx-querybuilder.html#generateBatchInsertReplace()-detail">generateBatchInsertReplace()</a></td> <td>Generates a batch INSERT/REPLACE SQL statement.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> <tr id="generateInsertReplace()"> <td><a href="yii-sphinx-querybuilder.html#generateInsertReplace()-detail">generateInsertReplace()</a></td> <td>Generates INSERT/REPLACE SQL statement.</td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> </table>     <h2 id="constants">Constants</h2>  <table> <colgroup> <col class="col-const"> <col class="col-value"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Constant</th>
<th>Value</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="PARAM_PREFIX"> <td id="PARAM_PREFIX-detail">PARAM_PREFIX</td> <td>':qp'</td> <td>The prefix for automatically generated query binding parameters. </td> <td><a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a></td> </tr> </table>  <h2>Property Details</h2>  <h3 id="$conditionBuilders-detail"> $conditionBuilders <span class="detail-header-tag small"> protected property </span> </h3>  <p>Map of query condition to builder methods. These methods are used by <a href="yii-sphinx-querybuilder.html#buildCondition()-detail">buildCondition()</a> to build SQL conditions from array syntax.</p>  <pre><span class="signature-defs">protected</span> <span class="signature-type"><a href="http://www.php.net/language.types.array">array</a></span> <a href="yii-sphinx-querybuilder.html#%24conditionBuilders-detail">$conditionBuilders</a> = ['AND' =&gt; 'buildAndCondition', 'OR' =&gt; 'buildAndCondition', 'BETWEEN' =&gt; 'buildBetweenCondition', 'NOT BETWEEN' =&gt; 'buildBetweenCondition', 'IN' =&gt; 'buildInCondition', 'NOT IN' =&gt; 'buildInCondition', 'LIKE' =&gt; 'buildLikeCondition', 'NOT LIKE' =&gt; 'buildLikeCondition', 'OR LIKE' =&gt; 'buildLikeCondition', 'OR NOT LIKE' =&gt; 'buildLikeCondition', 'NOT' =&gt; 'buildNotCondition']</pre> <h3 id="$db-detail"> $db <span class="detail-header-tag small"> public property </span> </h3>  <p>The Sphinx connection.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="yii-sphinx-connection.html">yii\sphinx\Connection</a></span> <a href="yii-sphinx-querybuilder.html#%24db-detail">$db</a> = null</pre> <h3 id="$matchBuilder-detail"> $matchBuilder <span class="detail-header-tag small"> public <em>read-only</em> property </span> </h3>  <p>Match builder.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="yii-sphinx-matchbuilder.html">yii\sphinx\MatchBuilder</a></span> <strong><a href="yii-sphinx-querybuilder.html#getMatchBuilder()-detail">getMatchBuilder</a></strong> ( )</pre> <h3 id="$querySeparator-detail"> $querySeparator <span class="detail-header-tag small"> public property </span> </h3>  <p>Separator between different SQL queries. This is mainly used by <a href="yii-sphinx-querybuilder.html#build()-detail">build()</a> when generating a SQL statement.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.string">string</a></span> <a href="yii-sphinx-querybuilder.html#%24querySeparator-detail">$querySeparator</a> = "; "</pre> <h3 id="$separator-detail"> $separator <span class="detail-header-tag small"> public property </span> </h3>  <p>The separator between different fragments of a SQL statement. Defaults to an empty space. This is mainly used by <a href="yii-sphinx-querybuilder.html#build()-detail">build()</a> when generating a SQL statement.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.string">string</a></span> <a href="yii-sphinx-querybuilder.html#%24separator-detail">$separator</a> = " "</pre>  <h2>Method Details</h2> <div class="method-doc"> <h3 id="__construct()-detail"> __construct() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Constructor.</strong></p>  <table> <tr><th colspan="3">public void <strong><a href="yii-sphinx-querybuilder.html#__construct()-detail">__construct</a></strong> ( $connection, $config = [] )</th></tr> <tr> <td>$connection</td> <td><a href="yii-sphinx-connection.html">yii\sphinx\Connection</a></td> <td>
<p>The Sphinx connection.</p> </td> </tr> <tr> <td>$config</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Name-value pairs that will be used to initialize the object properties</p> </td> </tr> </table>  <h3 id="batchInsert()-detail"> batchInsert() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Generates a batch INSERT SQL statement.</strong></p> <p>For example,</p> <pre data-language="php">$sql = $queryBuilder-&gt;batchInsert('idx_user', ['id', 'name', 'age'], [
    [1, 'Tom', 30],
    [2, 'Jane', 20],
    [3, 'Linda', 25],
], $params);
</pre> <p>Note that the values in each row must match the corresponding column names.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#batchInsert()-detail">batchInsert</a></strong> ( $index, $columns, $rows, <b>&amp;</b>$params )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index that new rows will be inserted into.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column names</p> </td> </tr> <tr> <td>$rows</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The rows to be batch inserted into the index</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters that will be generated by this method. They should be bound to the Sphinx command later.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The batch INSERT SQL statement</p> </td> </tr> </table>  <h3 id="batchReplace()-detail"> batchReplace() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Generates a batch REPLACE SQL statement.</strong></p> <p>For example,</p> <pre data-language="php">$sql = $queryBuilder-&gt;batchReplace('idx_user', ['id', 'name', 'age'], [
    [1, 'Tom', 30],
    [2, 'Jane', 20],
    [3, 'Linda', 25],
], $params);
</pre> <p>Note that the values in each row must match the corresponding column names.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#batchReplace()-detail">batchReplace</a></strong> ( $index, $columns, $rows, <b>&amp;</b>$params )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index that new rows will be replaced.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column names</p> </td> </tr> <tr> <td>$rows</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The rows to be batch replaced in the index</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters that will be generated by this method. They should be bound to the Sphinx command later.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The batch INSERT SQL statement</p> </td> </tr> </table>  <h3 id="build()-detail"> build() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Generates a SELECT SQL statement from a <a href="yii-sphinx-query.html">yii\sphinx\Query</a> object.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-sphinx-querybuilder.html#build()-detail">build</a></strong> ( $query, $params = [] )</th></tr> <tr> <td>$query</td> <td><a href="yii-sphinx-query.html">yii\sphinx\Query</a></td> <td>
<p>The <a href="yii-sphinx-query.html">yii\sphinx\Query</a> object from which the SQL statement will be generated</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The parameters to be bound to the generated SQL statement. These parameters will be included in the result with the additional parameters generated during the query building process.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The generated SQL statement (the first array element) and the corresponding parameters to be bound to the SQL statement (the second array element). The parameters returned include those provided in <code>$params</code>.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-notsupportedexception.html">yii\base\NotSupportedException</a></td> <td>
<p>if query contains 'join' option.</p> </td> </tr> </table>  <h3 id="buildAndCondition()-detail"> buildAndCondition() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Connects two or more SQL expressions with the <code>AND</code> or <code>OR</code> operator.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildAndCondition()-detail">buildAndCondition</a></strong> ( $indexes, $operator, $operands, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="yii-sphinx-indexschema.html">yii\sphinx\IndexSchema</a>[]</td> <td>
<p>List of indexes, which affected by query</p> </td> </tr> <tr> <td>$operator</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The operator to use for connecting the given operands</p> </td> </tr> <tr> <td>$operands</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The SQL expressions to connect.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The generated SQL expression</p> </td> </tr> </table>  <h3 id="buildBetweenCondition()-detail"> buildBetweenCondition() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates an SQL expressions with the <code>BETWEEN</code> operator.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildBetweenCondition()-detail">buildBetweenCondition</a></strong> ( $indexes, $operator, $operands, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="yii-sphinx-indexschema.html">yii\sphinx\IndexSchema</a>[]</td> <td>
<p>List of indexes, which affected by query</p> </td> </tr> <tr> <td>$operator</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The operator to use (e.g. <code>BETWEEN</code> or <code>NOT BETWEEN</code>)</p> </td> </tr> <tr> <td>$operands</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The first operand is the column name. The second and third operands describe the interval that column value should be in.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The generated SQL expression</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-db-exception.html">yii\db\Exception</a></td> <td>
<p>if wrong number of operands have been given.</p> </td> </tr> </table>  <h3 id="buildColumns()-detail"> buildColumns() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Processes columns and properly quote them if necessary.</strong></p> <p>It will join all columns into a string with comma as separators.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildColumns()-detail">buildColumns</a></strong> ( $columns )</th></tr> <tr> <td>$columns</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>The columns to be processed</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The processing result</p> </td> </tr> </table>  <h3 id="buildCompositeInCondition()-detail"> buildCompositeInCondition() <span class="detail-header-tag small"> protected method </span> </h3>    <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildCompositeInCondition()-detail">buildCompositeInCondition</a></strong> ( $indexes, $operator, $columns, $values, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="yii-sphinx-indexschema.html">yii\sphinx\IndexSchema</a>[]</td> <td>
<p>List of indexes, which affected by query</p> </td> </tr> <tr> <td>$operator</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The operator to use (e.g. <code>IN</code> or <code>NOT IN</code>)</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td></td> </tr> <tr> <td>$values</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td></td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The generated SQL expression</p> </td> </tr> </table>  <h3 id="buildCondition()-detail"> buildCondition() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Parses the condition specification and generates the corresponding SQL expression.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildCondition()-detail">buildCondition</a></strong> ( $indexes, $condition, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="yii-sphinx-indexschema.html">yii\sphinx\IndexSchema</a>[]</td> <td>
<p>List of indexes, which affected by query</p> </td> </tr> <tr> <td>$condition</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>The condition specification. Please refer to <a href="yii-db-querytrait.html#where()-detail">yii\sphinx\Query::where()</a> on how to specify a condition.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The generated SQL expression</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-db-exception.html">yii\db\Exception</a></td> <td>
<p>if the condition is in bad format</p> </td> </tr> </table>  <h3 id="buildFacets()-detail"> buildFacets() <span class="detail-header-tag small"> protected method </span> </h3>    <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildFacets()-detail">buildFacets</a></strong> ( $facets, <b>&amp;</b>$params )</th></tr> <tr> <td>$facets</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Facet specifications</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The FACET clause build from <span class="broken-link">\yii\sphinx\query</span></p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidconfigexception.html">yii\base\InvalidConfigException</a></td> <td>
<p>on invalid facet specification.</p> </td> </tr> </table>  <h3 id="buildFrom()-detail"> buildFrom() <span class="detail-header-tag small"> public method </span> </h3>    <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildFrom()-detail">buildFrom</a></strong> ( $indexes, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td></td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The FROM clause built from <span class="broken-link">\yii\sphinx\query</span>.</p> </td> </tr> </table>  <h3 id="buildGroupBy()-detail"> buildGroupBy() <span class="detail-header-tag small"> public method </span> </h3>    <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildGroupBy()-detail">buildGroupBy</a></strong> ( $columns, $limit )</th></tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Group columns</p> </td> </tr> <tr> <td>$limit</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>Group limit</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The GROUP BY clause</p> </td> </tr> </table>  <h3 id="buildHashCondition()-detail"> buildHashCondition() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a condition based on column-value pairs.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildHashCondition()-detail">buildHashCondition</a></strong> ( $indexes, $condition, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="yii-sphinx-indexschema.html">yii\sphinx\IndexSchema</a>[]</td> <td>
<p>List of indexes, which affected by query</p> </td> </tr> <tr> <td>$condition</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The condition specification.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The generated SQL expression</p> </td> </tr> </table>  <h3 id="buildHaving()-detail"> buildHaving() <span class="detail-header-tag small"> public method </span> </h3>    <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildHaving()-detail">buildHaving</a></strong> ( $indexes, $condition, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="http://www.php.net/language.types.string">string</a>[]</td> <td>
<p>List of index names, which affected by query</p> </td> </tr> <tr> <td>$condition</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td></td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The HAVING clause built from <a href="yii-db-query.html#%24having-detail">yii\sphinx\Query::$having</a>.</p> </td> </tr> </table>  <h3 id="buildInCondition()-detail"> buildInCondition() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates an SQL expressions with the <code>IN</code> operator.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildInCondition()-detail">buildInCondition</a></strong> ( $indexes, $operator, $operands, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="yii-sphinx-indexschema.html">yii\sphinx\IndexSchema</a>[]</td> <td>
<p>List of indexes, which affected by query</p> </td> </tr> <tr> <td>$operator</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The operator to use (e.g. <code>IN</code> or <code>NOT IN</code>)</p> </td> </tr> <tr> <td>$operands</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The first operand is the column name. If it is an array a composite IN condition will be generated. The second operand is an array of values that column value should be among. If it is an empty array the generated expression will be a <code>false</code> value if operator is <code>IN</code> and empty if operator is <code>NOT IN</code>.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The generated SQL expression</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-db-exception.html">yii\db\Exception</a></td> <td>
<p>if wrong number of operands have been given.</p> </td> </tr> </table>  <h3 id="buildLikeCondition()-detail"> buildLikeCondition() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates an SQL expressions with the <code>LIKE</code> operator.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildLikeCondition()-detail">buildLikeCondition</a></strong> ( $indexes, $operator, $operands, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="yii-sphinx-indexschema.html">yii\sphinx\IndexSchema</a>[]</td> <td>
<p>List of indexes, which affected by query</p> </td> </tr> <tr> <td>$operator</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The operator to use (e.g. <code>LIKE</code>, <code>NOT LIKE</code>, <code>OR LIKE</code> or <code>OR NOT LIKE</code>)</p> </td> </tr> <tr> <td>$operands</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>An array of two or three operands</p> <ul> <li>The first operand is the column name.</li> <li>The second operand is a single value or an array of values that column value should be compared with. If it is an empty array the generated expression will be a <code>false</code> value if operator is <code>LIKE</code> or <code>OR LIKE</code>, and empty if operator is <code>NOT LIKE</code> or <code>OR NOT LIKE</code>.</li> <li>An optional third operand can also be provided to specify how to escape special characters in the value(s). The operand should be an array of mappings from the special characters to their escaped counterparts. If this operand is not provided, a default escape mapping will be used. You may use <code>false</code> or an empty array to indicate the values are already escaped and no escape should be applied. Note that when using an escape mapping (or the third operand is not provided), the values will be automatically enclosed within a pair of percentage characters.</li> </ul> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The generated SQL expression</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidparamexception.html">yii\base\InvalidParamException</a></td> <td>
<p>if wrong number of operands have been given.</p> </td> </tr> </table>  <h3 id="buildLimit()-detail"> buildLimit() <span class="detail-header-tag small"> public method </span> </h3>    <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildLimit()-detail">buildLimit</a></strong> ( $limit, $offset )</th></tr> <tr> <td>$limit</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td></td> </tr> <tr> <td>$offset</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td></td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The LIMIT and OFFSET clauses built from <span class="broken-link">\yii\sphinx\query</span>.</p> </td> </tr> </table>  <h3 id="buildMatch()-detail"> buildMatch() <span class="detail-header-tag small"> public method </span> </h3>    <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildMatch()-detail">buildMatch</a></strong> ( $match, <b>&amp;</b>$params )</th></tr> <tr> <td>$match</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="yii-db-expression.html">yii\db\Expression</a>|<a href="yii-sphinx-matchexpression.html">yii\sphinx\MatchExpression</a>
</td> <td>
<p>Match condition</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Generated MATCH expression</p> </td> </tr> </table>  <h3 id="buildNotCondition()-detail"> buildNotCondition() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Inverts an SQL expressions with <code>NOT</code> operator.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildNotCondition()-detail">buildNotCondition</a></strong> ( $indexes, $operator, $operands, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="yii-sphinx-indexschema.html">yii\sphinx\IndexSchema</a>[]</td> <td>
<p>List of indexes, which affected by query</p> </td> </tr> <tr> <td>$operator</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The operator to use for connecting the given operands</p> </td> </tr> <tr> <td>$operands</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The SQL expressions to connect.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The generated SQL expression</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidparamexception.html">yii\base\InvalidParamException</a></td> <td>
<p>if wrong number of operands have been given.</p> </td> </tr> </table>  <h3 id="buildOption()-detail"> buildOption() <span class="detail-header-tag small"> public method </span> </h3>    <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildOption()-detail">buildOption</a></strong> ( $options, <b>&amp;</b>$params )</th></tr> <tr> <td>$options</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Query options in format: optionName =&gt; optionValue</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The OPTION clause build from <span class="broken-link">\yii\sphinx\query</span></p> </td> </tr> </table>  <h3 id="buildOrderBy()-detail"> buildOrderBy() <span class="detail-header-tag small"> public method </span> </h3>    <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildOrderBy()-detail">buildOrderBy</a></strong> ( $columns )</th></tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td></td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The ORDER BY clause built from <span class="broken-link">\yii\sphinx\query</span>.</p> </td> </tr> </table>  <h3 id="buildOrderByAndLimit()-detail"> buildOrderByAndLimit() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Builds the ORDER BY and LIMIT/OFFSET clauses and appends them to the given SQL.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildOrderByAndLimit()-detail">buildOrderByAndLimit</a></strong> ( $sql, $orderBy, $limit, $offset )</th></tr> <tr> <td>$sql</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The existing SQL (without ORDER BY/LIMIT/OFFSET)</p> </td> </tr> <tr> <td>$orderBy</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The order by columns. See <a href="yii-db-querytrait.html#orderBy()-detail">yii\sphinx\Query::orderBy()</a> for more details on how to specify this parameter.</p> </td> </tr> <tr> <td>$limit</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>The limit number. See <a href="yii-db-querytrait.html#limit()-detail">yii\sphinx\Query::limit()</a> for more details.</p> </td> </tr> <tr> <td>$offset</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>The offset number. See <a href="yii-db-querytrait.html#offset()-detail">yii\sphinx\Query::offset()</a> for more details.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The SQL completed with ORDER BY/LIMIT/OFFSET (if any)</p> </td> </tr> </table>  <h3 id="buildSelect()-detail"> buildSelect() <span class="detail-header-tag small"> public method </span> </h3>    <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildSelect()-detail">buildSelect</a></strong> ( $columns, <b>&amp;</b>$params, $distinct = false, $selectOption = null )</th></tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td></td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>$distinct</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td></td> </tr> <tr> <td>$selectOption</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td></td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The SELECT clause built from <span class="broken-link">\yii\sphinx\query</span>.</p> </td> </tr> </table>  <h3 id="buildShowMeta()-detail"> buildShowMeta() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Builds SHOW META query.</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildShowMeta()-detail">buildShowMeta</a></strong> ( $showMeta, <b>&amp;</b>$params )</th></tr> <tr> <td>$showMeta</td> <td>
<a href="http://www.php.net/language.types.boolean">boolean</a>|<a href="http://www.php.net/language.types.string">string</a>|<a href="yii-db-expression.html">yii\db\Expression</a>
</td> <td>
<p>Show meta specification.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>SHOW META query, if it does not required - empty string.</p> </td> </tr> </table>  <h3 id="buildSimpleCondition()-detail"> buildSimpleCondition() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates an SQL expressions like <code>"column" operator value</code>.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildSimpleCondition()-detail">buildSimpleCondition</a></strong> ( $indexes, $operator, $operands, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="yii-sphinx-indexschema.html">yii\sphinx\IndexSchema</a>[]</td> <td>
<p>List of indexes, which affected by query</p> </td> </tr> <tr> <td>$operator</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The operator to use. Anything could be used e.g. <code>&gt;</code>, <code>&lt;=</code>, etc.</p> </td> </tr> <tr> <td>$operands</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Contains two column names.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The generated SQL expression</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidparamexception.html">yii\base\InvalidParamException</a></td> <td>
<p>if count($operands) is not 2</p> </td> </tr> </table>  <h3 id="buildWhere()-detail"> buildWhere() <span class="detail-header-tag small"> public method </span> </h3>    <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildWhere()-detail">buildWhere</a></strong> ( $indexes, $condition, <b>&amp;</b>$params, $match = null )</th></tr> <tr> <td>$indexes</td> <td>
<a href="http://www.php.net/language.types.string">string</a>[]</td> <td>
<p>List of index names, which affected by query</p> </td> </tr> <tr> <td>$condition</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td></td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>$match</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="yii-db-expression.html">yii\db\Expression</a>|<a href="http://www.php.net/language.types.null">null</a>
</td> <td></td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The WHERE clause built from <span class="broken-link">\yii\sphinx\query</span>.</p> </td> </tr> </table>  <h3 id="buildWithin()-detail"> buildWithin() <span class="detail-header-tag small"> public method </span> </h3>    <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#buildWithin()-detail">buildWithin</a></strong> ( $columns )</th></tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td></td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The ORDER BY clause built from <span class="broken-link">\yii\sphinx\query</span>.</p> </td> </tr> </table>  <h3 id="callKeywords()-detail"> callKeywords() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Builds a SQL statement for returning tokenized and normalized forms of the keywords, and, optionally, keyword statistics.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#callKeywords()-detail">callKeywords</a></strong> ( $index, $text, $fetchStatistic, <b>&amp;</b>$params )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the index from which to take the text processing settings</p> </td> </tr> <tr> <td>$text</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The text to break down to keywords.</p> </td> </tr> <tr> <td>$fetchStatistic</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether to return document and hit occurrence statistics</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters that will be modified by this method so that they can be bound to the Sphinx command later.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The SQL statement for call keywords.</p> </td> </tr> </table>  <h3 id="callSnippets()-detail"> callSnippets() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Builds a SQL statement for call snippet from provided data and query, using specified index settings.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#callSnippets()-detail">callSnippets</a></strong> ( $index, $source, $match, $options, <b>&amp;</b>$params )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Name of the index, from which to take the text processing settings.</p> </td> </tr> <tr> <td>$source</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>Is the source data to extract a snippet from. It could be either a single string or array of strings.</p> </td> </tr> <tr> <td>$match</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The full-text query to build snippets for.</p> </td> </tr> <tr> <td>$options</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>List of options in format: optionName =&gt; optionValue</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters that will be modified by this method so that they can be bound to the Sphinx command later.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The SQL statement for call snippets.</p> </td> </tr> </table>  <h3 id="composeColumnValue()-detail"> composeColumnValue() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Composes column value for SQL, taking in account the column type.</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#composeColumnValue()-detail">composeColumnValue</a></strong> ( $indexes, $columnName, $value, <b>&amp;</b>$params )</th></tr> <tr> <td>$indexes</td> <td>
<a href="yii-sphinx-indexschema.html">yii\sphinx\IndexSchema</a>[]</td> <td>
<p>List of indexes, which affected by query</p> </td> </tr> <tr> <td>$columnName</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Name of the column</p> </td> </tr> <tr> <td>$value</td> <td>mixed</td> <td>
<p>Raw column value</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters to be populated</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>SQL expression, which represents column value</p> </td> </tr> </table>  <h3 id="delete()-detail"> delete() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a DELETE SQL statement.</strong></p> <p>For example,</p> <pre data-language="php">$sql = $queryBuilder-&gt;delete('idx_user', 'status = 0');
</pre> <p>The method will properly escape the index and column names.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#delete()-detail">delete</a></strong> ( $index, $condition, <b>&amp;</b>$params )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index where the data will be deleted from.</p> </td> </tr> <tr> <td>$condition</td> <td>
<a href="http://www.php.net/language.types.array">array</a>|<a href="http://www.php.net/language.types.string">string</a>
</td> <td>
<p>The condition that will be put in the WHERE part. Please refer to <a href="yii-db-querytrait.html#where()-detail">yii\sphinx\Query::where()</a> on how to specify condition.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters that will be modified by this method so that they can be bound to the Sphinx command later.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The DELETE SQL</p> </td> </tr> </table>  <h3 id="generateBatchInsertReplace()-detail"> generateBatchInsertReplace() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Generates a batch INSERT/REPLACE SQL statement.</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#generateBatchInsertReplace()-detail">generateBatchInsertReplace</a></strong> ( $statement, $index, $columns, $rows, <b>&amp;</b>$params )</th></tr> <tr> <td>$statement</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Statement ot be generated.</p> </td> </tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The affected index name.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column data (name =&gt; value).</p> </td> </tr> <tr> <td>$rows</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The rows to be batch inserted into the index</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters that will be generated by this method.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Generated SQL</p> </td> </tr> </table>  <h3 id="generateInsertReplace()-detail"> generateInsertReplace() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Generates INSERT/REPLACE SQL statement.</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#generateInsertReplace()-detail">generateInsertReplace</a></strong> ( $statement, $index, $columns, <b>&amp;</b>$params )</th></tr> <tr> <td>$statement</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Statement ot be generated.</p> </td> </tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The affected index name.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column data (name =&gt; value).</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters that will be generated by this method.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Generated SQL</p> </td> </tr> </table>  <h3 id="getMatchBuilder()-detail"> getMatchBuilder() <span class="detail-header-tag small"> public method (available since version 2.0.6) </span> </h3>    <table> <tr><th colspan="3">public <a href="yii-sphinx-matchbuilder.html">yii\sphinx\MatchBuilder</a> <strong><a href="yii-sphinx-querybuilder.html#getMatchBuilder()-detail">getMatchBuilder</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="yii-sphinx-matchbuilder.html">yii\sphinx\MatchBuilder</a></td> <td>
<p>Match builder.</p> </td> </tr> </table>  <h3 id="insert()-detail"> insert() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates an INSERT SQL statement.</strong></p> <p>For example,</p> <pre data-language="php">$sql = $queryBuilder-&gt;insert('idx_user', [
    'name' =&gt; 'Sam',
    'age' =&gt; 30,
    'id' =&gt; 10,
], $params);
</pre> <p>The method will properly escape the index and column names.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#insert()-detail">insert</a></strong> ( $index, $columns, <b>&amp;</b>$params )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index that new rows will be inserted into.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column data (name =&gt; value) to be inserted into the index.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters that will be generated by this method. They should be bound to the Sphinx command later.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The INSERT SQL</p> </td> </tr> </table>  <h3 id="replace()-detail"> replace() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates an REPLACE SQL statement.</strong></p> <p>For example,</p> <pre data-language="php">$sql = $queryBuilder-&gt;replace('idx_user', [
    'name' =&gt; 'Sam',
    'age' =&gt; 30,
    'id' =&gt; 10,
], $params);
</pre> <p>The method will properly escape the index and column names.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#replace()-detail">replace</a></strong> ( $index, $columns, <b>&amp;</b>$params )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index that new rows will be replaced.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column data (name =&gt; value) to be replaced in the index.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters that will be generated by this method. They should be bound to the Sphinx command later.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The INSERT SQL</p> </td> </tr> </table>  <h3 id="truncateIndex()-detail"> truncateIndex() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Builds a SQL statement for truncating an index.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#truncateIndex()-detail">truncateIndex</a></strong> ( $index )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index to be truncated. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The SQL statement for truncating an index.</p> </td> </tr> </table>  <h3 id="update()-detail"> update() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates an UPDATE SQL statement.</strong></p> <p>For example,</p> <pre data-language="php">$params = [];
$sql = $queryBuilder-&gt;update('idx_user', ['status' =&gt; 1], 'age &gt; 30', $params);
</pre> <p>The method will properly escape the index and column names.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-sphinx-querybuilder.html#update()-detail">update</a></strong> ( $index, $columns, $condition, <b>&amp;</b>$params, $options )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index to be updated.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column data (name =&gt; value) to be updated.</p> </td> </tr> <tr> <td>$condition</td> <td>
<a href="http://www.php.net/language.types.array">array</a>|<a href="http://www.php.net/language.types.string">string</a>
</td> <td>
<p>The condition that will be put in the WHERE part. Please refer to <a href="yii-db-querytrait.html#where()-detail">yii\sphinx\Query::where()</a> on how to specify condition.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The binding parameters that will be modified by this method so that they can be bound to the Sphinx command later.</p> </td> </tr> <tr> <td>$options</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>List of options in format: optionName =&gt; optionValue</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The UPDATE SQL</p> </td> </tr> </table>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yii-sphinx-querybuilder.html" class="_attribution-link">http://www.yiiframework.com/doc-2.0/yii-sphinx-querybuilder.html</a>
  </p>
</div>
