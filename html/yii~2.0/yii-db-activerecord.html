<h1>Class yii\db\ActiveRecord</h1> <div class="top-nav"> <a href="index.html">All Classes</a> | <a href="#properties">Properties</a> | <a href="#methods">Methods</a> | <a href="#events">Events</a> | <a href="#constants">Constants</a> </div> <table> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Inheritance</th>
<td>
<a href="yii-db-activerecord.html">yii\db\ActiveRecord</a> » <a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a> » <a href="yii-base-model.html">yii\base\Model</a> » <a href="yii-base-component.html">yii\base\Component</a> » <a href="yii-base-object.html">yii\base\Object</a>
</td>
</tr> <tr>
<th>Implements</th>
<td>
<a href="http://www.php.net/class.arrayaccess">ArrayAccess</a>, <a href="http://www.php.net/class.iteratoraggregate">IteratorAggregate</a>, <a href="yii-base-arrayable.html">yii\base\Arrayable</a>, <a href="yii-base-configurable.html">yii\base\Configurable</a>, <a href="yii-db-activerecordinterface.html">yii\db\ActiveRecordInterface</a>
</td>
</tr> <tr>
<th>Uses Traits</th>
<td><a href="yii-base-arrayabletrait.html">yii\base\ArrayableTrait</a></td>
</tr> <tr>
<th>Available since version</th>
<td>2.0</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2/blob/master/framework/db/ActiveRecord.php">https://github.com/yiisoft/yii2/blob/master/framework/db/ActiveRecord.php</a></td> </tr> </table>  <p><strong>ActiveRecord is the base class for classes representing relational data in terms of objects.</strong></p> <p>Active Record implements the <a href="http://en.wikipedia.org/wiki/Active_record">Active Record design pattern</a>. The premise behind Active Record is that an individual <a href="yii-db-activerecord.html">yii\db\ActiveRecord</a> object is associated with a specific row in a database table. The object's attributes are mapped to the columns of the corresponding table. Referencing an Active Record attribute is equivalent to accessing the corresponding table column for that record.</p> <p>As an example, say that the <code>Customer</code> ActiveRecord class is associated with the <code>customer</code> table. This would mean that the class's <code>name</code> attribute is automatically mapped to the <code>name</code> column in <code>customer</code> table. Thanks to Active Record, assuming the variable <code>$customer</code> is an object of type <code>Customer</code>, to get the value of the <code>name</code> column for the table row, you can use the expression <code>$customer-&gt;name</code>. In this example, Active Record is providing an object-oriented interface for accessing data stored in the database. But Active Record provides much more functionality than this.</p> <p>To declare an ActiveRecord class you need to extend <a href="yii-db-activerecord.html">yii\db\ActiveRecord</a> and implement the <code>tableName</code> method:</p> <pre data-language="php">&lt;?php

class Customer extends \yii\db\ActiveRecord
{
    public static function tableName()
    {
        return 'customer';
    }
}
</pre> <p>The <code>tableName</code> method only has to return the name of the database table associated with the class.</p> <blockquote class="tip">
<p><strong>Tip: </strong>You may also use the <a href="guide-start-gii.html">Gii code generator</a> to generate ActiveRecord classes from your database tables.</p> </blockquote> <p>Class instances are obtained in one of two ways:</p> <ul> <li>Using the <code>new</code> operator to create a new, empty object</li> <li>Using a method to fetch an existing record (or records) from the database</li> </ul> <p>Below is an example showing some typical usage of ActiveRecord:</p> <pre data-language="php">$user = new User();
$user-&gt;name = 'Qiang';
$user-&gt;save();  // a new row is inserted into user table

// the following will retrieve the user 'CeBe' from the database
$user = User::find()-&gt;where(['name' =&gt; 'CeBe'])-&gt;one();

// this will get related records from orders table when relation is defined
$orders = $user-&gt;orders;
</pre> <p>For more details and usage information on ActiveRecord, see the <a href="guide-db-active-record.html">guide article on ActiveRecord</a>.</p>    <h2 id="properties">Public Properties</h2>  <table> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="$activeValidators"> <td><a href="yii-base-model.html#%24activeValidators-detail">$activeValidators</a></td> <td>
<a href="yii-validators-validator.html">yii\validators\Validator</a>[]</td> <td>The validators applicable to the current <a href="yii-base-model.html#%24scenario-detail">$scenario</a>.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="$attributes"> <td><a href="yii-base-model.html#%24attributes-detail">$attributes</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>Attribute values (name =&gt; value).</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="$behaviors"> <td><a href="yii-base-component.html#%24behaviors-detail">$behaviors</a></td> <td>
<a href="yii-base-behavior.html">yii\base\Behavior</a>[]</td> <td>List of behaviors attached to this component</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="$dirtyAttributes"> <td><a href="yii-db-baseactiverecord.html#%24dirtyAttributes-detail">$dirtyAttributes</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>The changed attribute values (name-value pairs)</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="$errors"> <td><a href="yii-base-model.html#%24errors-detail">$errors</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>Errors for all attributes or the specified attribute.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="$firstErrors"> <td><a href="yii-base-model.html#%24firstErrors-detail">$firstErrors</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>The first errors.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="$isNewRecord"> <td><a href="yii-db-baseactiverecord.html#%24isNewRecord-detail">$isNewRecord</a></td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>Whether the record is new and should be inserted when calling <a href="yii-db-baseactiverecord.html#save()-detail">save()</a>.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="$iterator"> <td><a href="yii-base-model.html#%24iterator-detail">$iterator</a></td> <td><a href="http://www.php.net/class.arrayiterator">ArrayIterator</a></td> <td>An iterator for traversing the items in the list.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="$oldAttributes"> <td><a href="yii-db-baseactiverecord.html#%24oldAttributes-detail">$oldAttributes</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>The old attribute values (name-value pairs)</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="$oldPrimaryKey"> <td><a href="yii-db-baseactiverecord.html#%24oldPrimaryKey-detail">$oldPrimaryKey</a></td> <td>mixed</td> <td>The old primary key value.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="$primaryKey"> <td><a href="yii-db-baseactiverecord.html#%24primaryKey-detail">$primaryKey</a></td> <td>mixed</td> <td>The primary key value.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="$relatedRecords"> <td><a href="yii-db-baseactiverecord.html#%24relatedRecords-detail">$relatedRecords</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>An array of related records indexed by relation names.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="$scenario"> <td><a href="yii-base-model.html#%24scenario-detail">$scenario</a></td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>The scenario that this model is in.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="$validators"> <td><a href="yii-base-model.html#%24validators-detail">$validators</a></td> <td>
<a href="http://www.php.net/class.arrayobject">ArrayObject</a>|<a href="yii-validators-validator.html">yii\validators\Validator</a>[]</td> <td>All the validators declared in the model.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> </table>    <h2 id="methods">Public Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="__call()"> <td><a href="yii-base-object.html#__call()-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__clone()"> <td><a href="yii-base-component.html#__clone()-detail">__clone()</a></td> <td>This method is called after the object is created by cloning an existing one.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__construct()"> <td><a href="yii-base-object.html#__construct()-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__get()"> <td><a href="yii-db-baseactiverecord.html#__get()-detail">__get()</a></td> <td>PHP getter magic method.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="__isset()"> <td><a href="yii-db-baseactiverecord.html#__isset()-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="__set()"> <td><a href="yii-db-baseactiverecord.html#__set()-detail">__set()</a></td> <td>PHP setter magic method.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="__unset()"> <td><a href="yii-db-baseactiverecord.html#__unset()-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="activeAttributes()"> <td><a href="yii-base-model.html#activeAttributes()-detail">activeAttributes()</a></td> <td>Returns the attribute names that are subject to validation in the current scenario.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="addError()"> <td><a href="yii-base-model.html#addError()-detail">addError()</a></td> <td>Adds a new error to the specified attribute.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="addErrors()"> <td><a href="yii-base-model.html#addErrors()-detail">addErrors()</a></td> <td>Adds a list of errors.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="afterDelete()"> <td><a href="yii-db-baseactiverecord.html#afterDelete()-detail">afterDelete()</a></td> <td>This method is invoked after deleting a record.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="afterFind()"> <td><a href="yii-db-baseactiverecord.html#afterFind()-detail">afterFind()</a></td> <td>This method is called when the AR object is created and populated with the query result.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="afterRefresh()"> <td><a href="yii-db-baseactiverecord.html#afterRefresh()-detail">afterRefresh()</a></td> <td>This method is called when the AR object is refreshed.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="afterSave()"> <td><a href="yii-db-baseactiverecord.html#afterSave()-detail">afterSave()</a></td> <td>This method is called at the end of inserting or updating a record.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="afterValidate()"> <td><a href="yii-base-model.html#afterValidate()-detail">afterValidate()</a></td> <td>This method is invoked after validation ends.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="attachBehavior()"> <td><a href="yii-base-component.html#attachBehavior()-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="attachBehaviors()"> <td><a href="yii-base-component.html#attachBehaviors()-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="attributeHints()"> <td><a href="yii-base-model.html#attributeHints()-detail">attributeHints()</a></td> <td>Returns the attribute hints.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="attributeLabels()"> <td><a href="yii-base-model.html#attributeLabels()-detail">attributeLabels()</a></td> <td>Returns the attribute labels.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="attributes()"> <td><a href="yii-db-activerecord.html#attributes()-detail">attributes()</a></td> <td>Returns the list of all attribute names of the model.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="beforeDelete()"> <td><a href="yii-db-baseactiverecord.html#beforeDelete()-detail">beforeDelete()</a></td> <td>This method is invoked before deleting a record.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="beforeSave()"> <td><a href="yii-db-baseactiverecord.html#beforeSave()-detail">beforeSave()</a></td> <td>This method is called at the beginning of inserting or updating a record.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="beforeValidate()"> <td><a href="yii-base-model.html#beforeValidate()-detail">beforeValidate()</a></td> <td>This method is invoked before validation starts.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="behaviors()"> <td><a href="yii-base-component.html#behaviors()-detail">behaviors()</a></td> <td>Returns a list of behaviors that this component should behave as.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="canGetProperty()"> <td><a href="yii-db-baseactiverecord.html#canGetProperty()-detail">canGetProperty()</a></td> <td>Returns a value indicating whether a property can be read.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="canSetProperty()"> <td><a href="yii-db-baseactiverecord.html#canSetProperty()-detail">canSetProperty()</a></td> <td>Returns a value indicating whether a property can be set.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="className()"> <td><a href="yii-base-object.html#className()-detail">className()</a></td> <td>Returns the fully qualified name of this class.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="clearErrors()"> <td><a href="yii-base-model.html#clearErrors()-detail">clearErrors()</a></td> <td>Removes errors for all attributes or a single attribute.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="createValidators()"> <td><a href="yii-base-model.html#createValidators()-detail">createValidators()</a></td> <td>Creates validator objects based on the validation rules specified in <a href="yii-base-model.html#rules()-detail">rules()</a>.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="delete()"> <td><a href="yii-db-activerecord.html#delete()-detail">delete()</a></td> <td>Deletes the table row corresponding to this active record.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="deleteAll()"> <td><a href="yii-db-activerecord.html#deleteAll()-detail">deleteAll()</a></td> <td>Deletes rows in the table using the provided conditions.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="detachBehavior()"> <td><a href="yii-base-component.html#detachBehavior()-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="detachBehaviors()"> <td><a href="yii-base-component.html#detachBehaviors()-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="ensureBehaviors()"> <td><a href="yii-base-component.html#ensureBehaviors()-detail">ensureBehaviors()</a></td> <td>Makes sure that the behaviors declared in <a href="yii-base-component.html#behaviors()-detail">behaviors()</a> are attached to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="equals()"> <td><a href="yii-db-activerecord.html#equals()-detail">equals()</a></td> <td>Returns a value indicating whether the given active record is the same as the current one.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="extraFields()"> <td><a href="yii-base-arrayabletrait.html#extraFields()-detail">extraFields()</a></td> <td>Returns the list of fields that can be expanded further and returned by <a href="yii-base-arrayabletrait.html#toArray()-detail">toArray()</a>.</td> <td><a href="yii-base-arrayabletrait.html">yii\base\ArrayableTrait</a></td> </tr> <tr id="fields()"> <td><a href="yii-base-arrayabletrait.html#fields()-detail">fields()</a></td> <td>Returns the list of fields that should be returned by default by <a href="yii-base-arrayabletrait.html#toArray()-detail">toArray()</a> when no specific fields are specified.</td> <td><a href="yii-base-arrayabletrait.html">yii\base\ArrayableTrait</a></td> </tr> <tr id="find()"> <td><a href="yii-db-activerecord.html#find()-detail">find()</a></td> <td>Creates an <a href="yii-db-activequeryinterface.html">yii\db\ActiveQueryInterface</a> instance for query purpose.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="findAll()"> <td><a href="yii-db-baseactiverecord.html#findAll()-detail">findAll()</a></td> <td>Returns a list of active record models that match the specified primary key value(s) or a set of column values.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="findBySql()"> <td><a href="yii-db-activerecord.html#findBySql()-detail">findBySql()</a></td> <td>Creates an <a href="yii-db-activequery.html">yii\db\ActiveQuery</a> instance with a given SQL statement.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="findOne()"> <td><a href="yii-db-baseactiverecord.html#findOne()-detail">findOne()</a></td> <td>Returns a single active record model instance by a primary key or an array of column values.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="formName()"> <td><a href="yii-base-model.html#formName()-detail">formName()</a></td> <td>Returns the form name that this model class should use.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="generateAttributeLabel()"> <td><a href="yii-base-model.html#generateAttributeLabel()-detail">generateAttributeLabel()</a></td> <td>Generates a user friendly attribute label based on the give attribute name.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="getActiveValidators()"> <td><a href="yii-base-model.html#getActiveValidators()-detail">getActiveValidators()</a></td> <td>Returns the validators applicable to the current <a href="yii-base-model.html#%24scenario-detail">$scenario</a>.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="getAttribute()"> <td><a href="yii-db-baseactiverecord.html#getAttribute()-detail">getAttribute()</a></td> <td>Returns the named attribute value.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getAttributeHint()"> <td><a href="yii-db-baseactiverecord.html#getAttributeHint()-detail">getAttributeHint()</a></td> <td>Returns the text hint for the specified attribute.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getAttributeLabel()"> <td><a href="yii-db-baseactiverecord.html#getAttributeLabel()-detail">getAttributeLabel()</a></td> <td>Returns the text label for the specified attribute.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getAttributes()"> <td><a href="yii-base-model.html#getAttributes()-detail">getAttributes()</a></td> <td>Returns attribute values.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="getBehavior()"> <td><a href="yii-base-component.html#getBehavior()-detail">getBehavior()</a></td> <td>Returns the named behavior object.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="getBehaviors()"> <td><a href="yii-base-component.html#getBehaviors()-detail">getBehaviors()</a></td> <td>Returns all behaviors attached to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="getDb()"> <td><a href="yii-db-activerecord.html#getDb()-detail">getDb()</a></td> <td>Returns the database connection used by this AR class.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="getDirtyAttributes()"> <td><a href="yii-db-baseactiverecord.html#getDirtyAttributes()-detail">getDirtyAttributes()</a></td> <td>Returns the attribute values that have been modified since they are loaded or saved most recently.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getErrors()"> <td><a href="yii-base-model.html#getErrors()-detail">getErrors()</a></td> <td>Returns the errors for all attributes or a single attribute.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="getFirstError()"> <td><a href="yii-base-model.html#getFirstError()-detail">getFirstError()</a></td> <td>Returns the first error of the specified attribute.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="getFirstErrors()"> <td><a href="yii-base-model.html#getFirstErrors()-detail">getFirstErrors()</a></td> <td>Returns the first error of every attribute in the model.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="getIsNewRecord()"> <td><a href="yii-db-baseactiverecord.html#getIsNewRecord()-detail">getIsNewRecord()</a></td> <td>Returns a value indicating whether the current record is new.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getIterator()"> <td><a href="yii-base-model.html#getIterator()-detail">getIterator()</a></td> <td>Returns an iterator for traversing the attributes in the model.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="getOldAttribute()"> <td><a href="yii-db-baseactiverecord.html#getOldAttribute()-detail">getOldAttribute()</a></td> <td>Returns the old value of the named attribute.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getOldAttributes()"> <td><a href="yii-db-baseactiverecord.html#getOldAttributes()-detail">getOldAttributes()</a></td> <td>Returns the old attribute values.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getOldPrimaryKey()"> <td><a href="yii-db-baseactiverecord.html#getOldPrimaryKey()-detail">getOldPrimaryKey()</a></td> <td>Returns the old primary key value(s).</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getPrimaryKey()"> <td><a href="yii-db-baseactiverecord.html#getPrimaryKey()-detail">getPrimaryKey()</a></td> <td>Returns the primary key value(s).</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getRelatedRecords()"> <td><a href="yii-db-baseactiverecord.html#getRelatedRecords()-detail">getRelatedRecords()</a></td> <td>Returns all populated related records.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getRelation()"> <td><a href="yii-db-baseactiverecord.html#getRelation()-detail">getRelation()</a></td> <td>Returns the relation object with the specified name.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="getScenario()"> <td><a href="yii-base-model.html#getScenario()-detail">getScenario()</a></td> <td>Returns the scenario that this model is used in.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="getTableSchema()"> <td><a href="yii-db-activerecord.html#getTableSchema()-detail">getTableSchema()</a></td> <td>Returns the schema information of the DB table associated with this AR class.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="getValidators()"> <td><a href="yii-base-model.html#getValidators()-detail">getValidators()</a></td> <td>Returns all the validators declared in <a href="yii-base-model.html#rules()-detail">rules()</a>.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="hasAttribute()"> <td><a href="yii-db-baseactiverecord.html#hasAttribute()-detail">hasAttribute()</a></td> <td>Returns a value indicating whether the model has an attribute with the specified name.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="hasErrors()"> <td><a href="yii-base-model.html#hasErrors()-detail">hasErrors()</a></td> <td>Returns a value indicating whether there is any validation error.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="hasEventHandlers()"> <td><a href="yii-base-component.html#hasEventHandlers()-detail">hasEventHandlers()</a></td> <td>Returns a value indicating whether there is any handler attached to the named event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="hasMany()"> <td><a href="yii-db-baseactiverecord.html#hasMany()-detail">hasMany()</a></td> <td>Declares a <code>has-many</code> relation.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="hasMethod()"> <td><a href="yii-base-object.html#hasMethod()-detail">hasMethod()</a></td> <td>Returns a value indicating whether a method is defined.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="hasOne()"> <td><a href="yii-db-baseactiverecord.html#hasOne()-detail">hasOne()</a></td> <td>Declares a <code>has-one</code> relation.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="hasProperty()"> <td><a href="yii-base-object.html#hasProperty()-detail">hasProperty()</a></td> <td>Returns a value indicating whether a property is defined.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="init()"> <td><a href="yii-db-baseactiverecord.html#init()-detail">init()</a></td> <td>Initializes the object.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="insert()"> <td><a href="yii-db-activerecord.html#insert()-detail">insert()</a></td> <td>Inserts a row into the associated database table using the attribute values of this record.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="instantiate()"> <td><a href="yii-db-baseactiverecord.html#instantiate()-detail">instantiate()</a></td> <td>Creates an active record instance.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="isAttributeActive()"> <td><a href="yii-base-model.html#isAttributeActive()-detail">isAttributeActive()</a></td> <td>Returns a value indicating whether the attribute is active in the current scenario.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="isAttributeChanged()"> <td><a href="yii-db-baseactiverecord.html#isAttributeChanged()-detail">isAttributeChanged()</a></td> <td>Returns a value indicating whether the named attribute has been changed.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="isAttributeRequired()"> <td><a href="yii-base-model.html#isAttributeRequired()-detail">isAttributeRequired()</a></td> <td>Returns a value indicating whether the attribute is required.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="isAttributeSafe()"> <td><a href="yii-base-model.html#isAttributeSafe()-detail">isAttributeSafe()</a></td> <td>Returns a value indicating whether the attribute is safe for massive assignments.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="isPrimaryKey()"> <td><a href="yii-db-baseactiverecord.html#isPrimaryKey()-detail">isPrimaryKey()</a></td> <td>Returns a value indicating whether the given set of attributes represents the primary key for this model</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="isRelationPopulated()"> <td><a href="yii-db-baseactiverecord.html#isRelationPopulated()-detail">isRelationPopulated()</a></td> <td>Check whether the named relation has been populated with records.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="isTransactional()"> <td><a href="yii-db-activerecord.html#isTransactional()-detail">isTransactional()</a></td> <td>Returns a value indicating whether the specified operation is transactional in the current <a href="yii-base-model.html#%24scenario-detail">$scenario</a>.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="link()"> <td><a href="yii-db-baseactiverecord.html#link()-detail">link()</a></td> <td>Establishes the relationship between two models.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="load()"> <td><a href="yii-base-model.html#load()-detail">load()</a></td> <td>Populates the model with input data.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="loadDefaultValues()"> <td><a href="yii-db-activerecord.html#loadDefaultValues()-detail">loadDefaultValues()</a></td> <td>Loads default values from database table schema</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="loadMultiple()"> <td><a href="yii-base-model.html#loadMultiple()-detail">loadMultiple()</a></td> <td>Populates a set of models with the data from end user.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="markAttributeDirty()"> <td><a href="yii-db-baseactiverecord.html#markAttributeDirty()-detail">markAttributeDirty()</a></td> <td>Marks an attribute dirty.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="off()"> <td><a href="yii-base-component.html#off()-detail">off()</a></td> <td>Detaches an existing event handler from this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="offsetExists()"> <td><a href="yii-db-baseactiverecord.html#offsetExists()-detail">offsetExists()</a></td> <td>Returns whether there is an element at the specified offset.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="offsetGet()"> <td><a href="yii-base-model.html#offsetGet()-detail">offsetGet()</a></td> <td>Returns the element at the specified offset.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="offsetSet()"> <td><a href="yii-base-model.html#offsetSet()-detail">offsetSet()</a></td> <td>Sets the element at the specified offset.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="offsetUnset()"> <td><a href="yii-db-baseactiverecord.html#offsetUnset()-detail">offsetUnset()</a></td> <td>Sets the element value at the specified offset to null.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="on()"> <td><a href="yii-base-component.html#on()-detail">on()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="onUnsafeAttribute()"> <td><a href="yii-base-model.html#onUnsafeAttribute()-detail">onUnsafeAttribute()</a></td> <td>This method is invoked when an unsafe attribute is being massively assigned.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="optimisticLock()"> <td><a href="yii-db-baseactiverecord.html#optimisticLock()-detail">optimisticLock()</a></td> <td>Returns the name of the column that stores the lock version for implementing optimistic locking.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="populateRecord()"> <td><a href="yii-db-activerecord.html#populateRecord()-detail">populateRecord()</a></td> <td>Populates an active record object using a row of data from the database/storage.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="populateRelation()"> <td><a href="yii-db-baseactiverecord.html#populateRelation()-detail">populateRelation()</a></td> <td>Populates the named relation with the related records.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="primaryKey()"> <td><a href="yii-db-activerecord.html#primaryKey()-detail">primaryKey()</a></td> <td>Returns the primary key name(s) for this AR class.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="refresh()"> <td><a href="yii-db-baseactiverecord.html#refresh()-detail">refresh()</a></td> <td>Repopulates this active record with the latest data.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="rules()"> <td><a href="yii-base-model.html#rules()-detail">rules()</a></td> <td>Returns the validation rules for attributes.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="safeAttributes()"> <td><a href="yii-base-model.html#safeAttributes()-detail">safeAttributes()</a></td> <td>Returns the attribute names that are safe to be massively assigned in the current scenario.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="save()"> <td><a href="yii-db-baseactiverecord.html#save()-detail">save()</a></td> <td>Saves the current record.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="scenarios()"> <td><a href="yii-base-model.html#scenarios()-detail">scenarios()</a></td> <td>Returns a list of scenarios and the corresponding active attributes.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="setAttribute()"> <td><a href="yii-db-baseactiverecord.html#setAttribute()-detail">setAttribute()</a></td> <td>Sets the named attribute value.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="setAttributes()"> <td><a href="yii-base-model.html#setAttributes()-detail">setAttributes()</a></td> <td>Sets the attribute values in a massive way.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="setIsNewRecord()"> <td><a href="yii-db-baseactiverecord.html#setIsNewRecord()-detail">setIsNewRecord()</a></td> <td>Sets the value indicating whether the record is new.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="setOldAttribute()"> <td><a href="yii-db-baseactiverecord.html#setOldAttribute()-detail">setOldAttribute()</a></td> <td>Sets the old value of the named attribute.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="setOldAttributes()"> <td><a href="yii-db-baseactiverecord.html#setOldAttributes()-detail">setOldAttributes()</a></td> <td>Sets the old attribute values.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="setScenario()"> <td><a href="yii-base-model.html#setScenario()-detail">setScenario()</a></td> <td>Sets the scenario for the model.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="tableName()"> <td><a href="yii-db-activerecord.html#tableName()-detail">tableName()</a></td> <td>Declares the name of the database table associated with this AR class.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="toArray()"> <td><a href="yii-base-arrayabletrait.html#toArray()-detail">toArray()</a></td> <td>Converts the model into an array.</td> <td><a href="yii-base-arrayabletrait.html">yii\base\ArrayableTrait</a></td> </tr> <tr id="transactions()"> <td><a href="yii-db-activerecord.html#transactions()-detail">transactions()</a></td> <td>Declares which DB operations should be performed within a transaction in different scenarios.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="trigger()"> <td><a href="yii-base-component.html#trigger()-detail">trigger()</a></td> <td>Triggers an event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="unlink()"> <td><a href="yii-db-baseactiverecord.html#unlink()-detail">unlink()</a></td> <td>Destroys the relationship between two models.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="unlinkAll()"> <td><a href="yii-db-baseactiverecord.html#unlinkAll()-detail">unlinkAll()</a></td> <td>Destroys the relationship in current model.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="update()"> <td><a href="yii-db-activerecord.html#update()-detail">update()</a></td> <td>Saves the changes to this active record into the associated database table.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="updateAll()"> <td><a href="yii-db-activerecord.html#updateAll()-detail">updateAll()</a></td> <td>Updates the whole table using the provided attribute values and conditions.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="updateAllCounters()"> <td><a href="yii-db-activerecord.html#updateAllCounters()-detail">updateAllCounters()</a></td> <td>Updates the whole table using the provided counter changes and conditions.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="updateAttributes()"> <td><a href="yii-db-baseactiverecord.html#updateAttributes()-detail">updateAttributes()</a></td> <td>Updates the specified attributes.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="updateCounters()"> <td><a href="yii-db-baseactiverecord.html#updateCounters()-detail">updateCounters()</a></td> <td>Updates one or several counter columns for the current AR object.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="validate()"> <td><a href="yii-base-model.html#validate()-detail">validate()</a></td> <td>Performs the data validation.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="validateMultiple()"> <td><a href="yii-base-model.html#validateMultiple()-detail">validateMultiple()</a></td> <td>Validates multiple models.</td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> </table>   <h2>Protected Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="createRelationQuery()"> <td><a href="yii-db-baseactiverecord.html#createRelationQuery()-detail">createRelationQuery()</a></td> <td>Creates a query instance for <code>has-one</code> or <code>has-many</code> relation.</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="deleteInternal()"> <td><a href="yii-db-activerecord.html#deleteInternal()-detail">deleteInternal()</a></td> <td>Deletes an ActiveRecord without considering transaction.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="findByCondition()"> <td><a href="yii-db-activerecord.html#findByCondition()-detail">findByCondition()</a></td> <td>Finds ActiveRecord instance(s) by the given condition.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="insertInternal()"> <td><a href="yii-db-activerecord.html#insertInternal()-detail">insertInternal()</a></td> <td>Inserts an ActiveRecord into DB without considering transaction.</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="resolveFields()"> <td><a href="yii-base-arrayabletrait.html#resolveFields()-detail">resolveFields()</a></td> <td>Determines which fields can be returned by <a href="yii-base-arrayabletrait.html#toArray()-detail">toArray()</a>.</td> <td><a href="yii-base-arrayabletrait.html">yii\base\ArrayableTrait</a></td> </tr> <tr id="updateInternal()"> <td><a href="yii-db-baseactiverecord.html#updateInternal()-detail">updateInternal()</a></td> <td></td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> </table>    <h2 id="events">Events</h2>  <table> <colgroup> <col class="col-event"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Event</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="EVENT_AFTER_DELETE"> <td><a href="yii-db-baseactiverecord.html#EVENT_AFTER_DELETE-detail">EVENT_AFTER_DELETE</a></td> <td><a href="yii-base-event.html">yii\base\Event</a></td> <td> An event that is triggered after a record is deleted. </td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="EVENT_AFTER_FIND"> <td><a href="yii-db-baseactiverecord.html#EVENT_AFTER_FIND-detail">EVENT_AFTER_FIND</a></td> <td><a href="yii-base-event.html">yii\base\Event</a></td> <td> An event that is triggered after the record is created and populated with query result. </td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="EVENT_AFTER_INSERT"> <td><a href="yii-db-baseactiverecord.html#EVENT_AFTER_INSERT-detail">EVENT_AFTER_INSERT</a></td> <td><a href="yii-db-aftersaveevent.html">yii\db\AfterSaveEvent</a></td> <td> An event that is triggered after a record is inserted. </td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="EVENT_AFTER_REFRESH"> <td><a href="yii-db-baseactiverecord.html#EVENT_AFTER_REFRESH-detail">EVENT_AFTER_REFRESH</a></td> <td><a href="yii-base-event.html">yii\base\Event</a></td> <td> An event that is triggered after a record is refreshed. (available since version 2.0.8) </td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="EVENT_AFTER_UPDATE"> <td><a href="yii-db-baseactiverecord.html#EVENT_AFTER_UPDATE-detail">EVENT_AFTER_UPDATE</a></td> <td><a href="yii-db-aftersaveevent.html">yii\db\AfterSaveEvent</a></td> <td> An event that is triggered after a record is updated. </td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="EVENT_AFTER_VALIDATE"> <td><a href="yii-base-model.html#EVENT_AFTER_VALIDATE-detail">EVENT_AFTER_VALIDATE</a></td> <td><a href="yii-base-event.html">yii\base\Event</a></td> <td> An event raised at the end of <a href="yii-base-model.html#validate()-detail">validate()</a> </td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="EVENT_BEFORE_DELETE"> <td><a href="yii-db-baseactiverecord.html#EVENT_BEFORE_DELETE-detail">EVENT_BEFORE_DELETE</a></td> <td><a href="yii-base-modelevent.html">yii\base\ModelEvent</a></td> <td> An event that is triggered before deleting a record. </td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="EVENT_BEFORE_INSERT"> <td><a href="yii-db-baseactiverecord.html#EVENT_BEFORE_INSERT-detail">EVENT_BEFORE_INSERT</a></td> <td><a href="yii-base-modelevent.html">yii\base\ModelEvent</a></td> <td> An event that is triggered before inserting a record. </td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="EVENT_BEFORE_UPDATE"> <td><a href="yii-db-baseactiverecord.html#EVENT_BEFORE_UPDATE-detail">EVENT_BEFORE_UPDATE</a></td> <td><a href="yii-base-modelevent.html">yii\base\ModelEvent</a></td> <td> An event that is triggered before updating a record. </td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> <tr id="EVENT_BEFORE_VALIDATE"> <td><a href="yii-base-model.html#EVENT_BEFORE_VALIDATE-detail">EVENT_BEFORE_VALIDATE</a></td> <td><a href="yii-base-modelevent.html">yii\base\ModelEvent</a></td> <td> An event raised at the beginning of <a href="yii-base-model.html#validate()-detail">validate()</a>. </td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> <tr id="EVENT_INIT"> <td><a href="yii-db-baseactiverecord.html#EVENT_INIT-detail">EVENT_INIT</a></td> <td><a href="yii-base-event.html">yii\base\Event</a></td> <td> An event that is triggered when the record is initialized via <a href="yii-db-baseactiverecord.html#init()-detail">init()</a>. </td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> </tr> </table>    <h2 id="constants">Constants</h2>  <table> <colgroup> <col class="col-const"> <col class="col-value"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Constant</th>
<th>Value</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="OP_ALL"> <td id="OP_ALL-detail">OP_ALL</td> <td>7</td> <td>All three operations: insert, update, delete. This is a shortcut of the expression: OP_INSERT | OP_UPDATE | OP_DELETE. </td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="OP_DELETE"> <td id="OP_DELETE-detail">OP_DELETE</td> <td>4</td> <td>The delete operation. This is mainly used when overriding <a href="yii-db-activerecord.html#transactions()-detail">transactions()</a> to specify which operations are transactional. </td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="OP_INSERT"> <td id="OP_INSERT-detail">OP_INSERT</td> <td>1</td> <td>The insert operation. This is mainly used when overriding <a href="yii-db-activerecord.html#transactions()-detail">transactions()</a> to specify which operations are transactional. </td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="OP_UPDATE"> <td id="OP_UPDATE-detail">OP_UPDATE</td> <td>2</td> <td>The update operation. This is mainly used when overriding <a href="yii-db-activerecord.html#transactions()-detail">transactions()</a> to specify which operations are transactional. </td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> </tr> <tr id="SCENARIO_DEFAULT"> <td id="SCENARIO_DEFAULT-detail">SCENARIO_DEFAULT</td> <td>'default'</td> <td>The name of the default scenario. </td> <td><a href="yii-base-model.html">yii\base\Model</a></td> </tr> </table>  <h2>Method Details</h2> <div class="method-doc"> <h3 id="attributes()-detail"> attributes() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Returns the list of all attribute names of the model.</strong></p> <p>The default implementation will return all column names of the table associated with this AR class.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-db-activerecord.html#attributes()-detail">attributes</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>List of attribute names.</p> </td> </tr> </table>  <h3 id="delete()-detail"> delete() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Deletes the table row corresponding to this active record.</strong></p> <p>This method performs the following steps in order:</p> <ol> <li>call <a href="yii-db-baseactiverecord.html#beforeDelete()-detail">beforeDelete()</a>. If the method returns <code>false</code>, it will skip the rest of the steps;</li> <li>delete the record from the database;</li> <li>call <a href="yii-db-baseactiverecord.html#afterDelete()-detail">afterDelete()</a>.</li> </ol> <p>In the above step 1 and 3, events named <a href="yii-db-baseactiverecord.html#EVENT_BEFORE_DELETE-detail">EVENT_BEFORE_DELETE</a> and <a href="yii-db-baseactiverecord.html#EVENT_AFTER_DELETE-detail">EVENT_AFTER_DELETE</a> will be raised by the corresponding methods.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.integer">integer</a>|<a href="http://www.php.net/language.types.boolean">false</a> <strong><a href="yii-db-activerecord.html#delete()-detail">delete</a></strong> ( )</th></tr> <tr> <td>return</td> <td>
<a href="http://www.php.net/language.types.integer">integer</a>|<a href="http://www.php.net/language.types.boolean">false</a>
</td> <td>
<p>The number of rows deleted, or <code>false</code> if the deletion is unsuccessful for some reason. Note that it is possible the number of rows deleted is 0, even though the deletion execution is successful.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-db-staleobjectexception.html">yii\db\StaleObjectException</a></td> <td>
<p>if <a href="yii-db-baseactiverecord.html#optimisticLock()-detail">optimistic locking</a> is enabled and the data being deleted is outdated.</p> </td> </tr> <tr> <td>throws</td> <td><a href="http://www.php.net/class.exception">Exception</a></td> <td>
<p>in case delete failed.</p> </td> </tr> </table>  <h3 id="deleteAll()-detail"> deleteAll() <span class="detail-header-tag small"> public static method </span> </h3>  <p><strong>Deletes rows in the table using the provided conditions.</strong></p> <p>For example, to delete all customers whose status is 3:</p> <pre data-language="php">Customer::deleteAll('status = 3');
</pre> <blockquote class="warning">
<p><strong>Warning: </strong>If you do not specify any condition, this method will delete <strong>all</strong> rows in the table.</p> </blockquote> <p>Note that this method will not trigger any events. If you need <a href="yii-db-baseactiverecord.html#EVENT_BEFORE_DELETE-detail">EVENT_BEFORE_DELETE</a> or <a href="yii-db-baseactiverecord.html#EVENT_AFTER_DELETE-detail">EVENT_AFTER_DELETE</a> to be triggered, you need to <a href="yii-db-activerecord.html#find()-detail">find</a> the models first and then call <a href="yii-db-activerecord.html#delete()-detail">delete()</a> on each of them. For example an equivalent of the example above would be:</p> <pre data-language="php">$models = Customer::find()-&gt;where('status = 3')-&gt;all();
foreach ($models as $model) {
    $model-&gt;delete();
}
</pre> <p>For a large set of models you might consider using <a href="yii-db-query.html#each()-detail">yii\db\ActiveQuery::each()</a> to keep memory usage within limits.</p>  <table> <tr><th colspan="3">public static <a href="http://www.php.net/language.types.integer">integer</a> <strong><a href="yii-db-activerecord.html#deleteAll()-detail">deleteAll</a></strong> ( $condition = null, $params = [] )</th></tr> <tr> <td>$condition</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>The conditions that will be put in the WHERE part of the DELETE SQL. Please refer to <a href="yii-db-query.html#where()-detail">yii\db\Query::where()</a> on how to specify this parameter.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The parameters (name =&gt; value) to be bound to the query.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>The number of rows deleted</p> </td> </tr> </table>  <h3 id="deleteInternal()-detail"> deleteInternal() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Deletes an ActiveRecord without considering transaction.</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.integer">integer</a>|<a href="http://www.php.net/language.types.boolean">false</a> <strong><a href="yii-db-activerecord.html#deleteInternal()-detail">deleteInternal</a></strong> ( )</th></tr> <tr> <td>return</td> <td>
<a href="http://www.php.net/language.types.integer">integer</a>|<a href="http://www.php.net/language.types.boolean">false</a>
</td> <td>
<p>The number of rows deleted, or <code>false</code> if the deletion is unsuccessful for some reason. Note that it is possible the number of rows deleted is 0, even though the deletion execution is successful.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-db-staleobjectexception.html">yii\db\StaleObjectException</a></td> <td></td> </tr> </table>  <h3 id="equals()-detail"> equals() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Returns a value indicating whether the given active record is the same as the current one.</strong></p> <p>The comparison is made by comparing the table names and the primary key values of the two active records. If one of the records <a href="yii-db-baseactiverecord.html#%24isNewRecord-detail">is new</a> they are also considered not equal.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-db-activerecord.html#equals()-detail">equals</a></strong> ( $record )</th></tr> <tr> <td>$record</td> <td><a href="yii-db-activerecord.html">yii\db\ActiveRecord</a></td> <td>
<p>Record to compare to</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the two active records refer to the same row in the same database table.</p> </td> </tr> </table>  <h3 id="find()-detail"> find() <span class="detail-header-tag small"> public static method </span> </h3>  <p><strong>Creates an <a href="yii-db-activequeryinterface.html">yii\db\ActiveQueryInterface</a> instance for query purpose.</strong></p> <p>The returned <a href="yii-db-activequeryinterface.html">yii\db\ActiveQueryInterface</a> instance can be further customized by calling methods defined in <a href="yii-db-activequeryinterface.html">yii\db\ActiveQueryInterface</a> before <code>one()</code> or <code>all()</code> is called to return populated ActiveRecord instances. For example,</p> <pre data-language="php">// find the customer whose ID is 1
$customer = Customer::find()-&gt;where(['id' =&gt; 1])-&gt;one();

// find all active customers and order them by their age:
$customers = Customer::find()
    -&gt;where(['status' =&gt; 1])
    -&gt;orderBy('age')
    -&gt;all();
</pre> <p>This method is also called by <a href="yii-db-baseactiverecord.html#hasOne()-detail">yii\db\BaseActiveRecord::hasOne()</a> and <a href="yii-db-baseactiverecord.html#hasMany()-detail">yii\db\BaseActiveRecord::hasMany()</a> to create a relational query.</p> <p>You may override this method to return a customized query. For example,</p> <pre data-language="php">class Customer extends ActiveRecord
{
    public static function find()
    {
        // use CustomerQuery instead of the default ActiveQuery
        return new CustomerQuery(get_called_class());
    }
}
</pre> <p>The following code shows how to apply a default condition for all queries:</p> <pre data-language="php">class Customer extends ActiveRecord
{
    public static function find()
    {
        return parent::find()-&gt;where(['deleted' =&gt; false]);
    }
}

// Use andWhere()/orWhere() to apply the default condition
// SELECT FROM customer WHERE `deleted`=:deleted AND age&gt;30
$customers = Customer::find()-&gt;andWhere('age&gt;30')-&gt;all();

// Use where() to ignore the default condition
// SELECT FROM customer WHERE age&gt;30
$customers = Customer::find()-&gt;where('age&gt;30')-&gt;all();


</pre>  <table> <tr><th colspan="3">public static <a href="yii-db-activequery.html">yii\db\ActiveQuery</a> <strong><a href="yii-db-activerecord.html#find()-detail">find</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="yii-db-activequery.html">yii\db\ActiveQuery</a></td> <td>
<p>The newly created <a href="yii-db-activequery.html">yii\db\ActiveQuery</a> instance.</p> </td> </tr> </table>  <h3 id="findByCondition()-detail"> findByCondition() <span class="detail-header-tag small"> protected static method </span> </h3>  <p><strong>Finds ActiveRecord instance(s) by the given condition.</strong></p> <p>This method is internally called by <a href="yii-db-baseactiverecord.html#findOne()-detail">findOne()</a> and <a href="yii-db-baseactiverecord.html#findAll()-detail">findAll()</a>.</p>  <table> <tr><th colspan="3">protected static <a href="yii-db-activequeryinterface.html">yii\db\ActiveQueryInterface</a> <strong><a href="yii-db-activerecord.html#findByCondition()-detail">findByCondition</a></strong> ( $condition )</th></tr> <tr> <td>$condition</td> <td>mixed</td> <td>
<p>Please refer to <a href="yii-db-baseactiverecord.html#findOne()-detail">findOne()</a> for the explanation of this parameter</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-db-activequeryinterface.html">yii\db\ActiveQueryInterface</a></td> <td>
<p>The newly created <a href="yii-db-activequeryinterface.html">ActiveQuery</a> instance.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidconfigexception.html">yii\base\InvalidConfigException</a></td> <td>
<p>if there is no primary key defined</p> </td> </tr> </table>  <h3 id="findBySql()-detail"> findBySql() <span class="detail-header-tag small"> public static method </span> </h3>  <p><strong>Creates an <a href="yii-db-activequery.html">yii\db\ActiveQuery</a> instance with a given SQL statement.</strong></p> <p>Note that because the SQL statement is already specified, calling additional query modification methods (such as <code>where()</code>, <code>order()</code>) on the created <a href="yii-db-activequery.html">yii\db\ActiveQuery</a> instance will have no effect. However, calling <code>with()</code>, <code>asArray()</code> or <code>indexBy()</code> is still fine.</p> <p>Below is an example:</p> <pre data-language="php">$customers = Customer::findBySql('SELECT * FROM customer')-&gt;all();
</pre>  <table> <tr><th colspan="3">public static <a href="yii-db-activequery.html">yii\db\ActiveQuery</a> <strong><a href="yii-db-activerecord.html#findBySql()-detail">findBySql</a></strong> ( $sql, $params = [] )</th></tr> <tr> <td>$sql</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The SQL statement to be executed</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Parameters to be bound to the SQL statement during execution.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-db-activequery.html">yii\db\ActiveQuery</a></td> <td>
<p>The newly created <a href="yii-db-activequery.html">yii\db\ActiveQuery</a> instance</p> </td> </tr> </table>  <h3 id="getDb()-detail"> getDb() <span class="detail-header-tag small"> public static method </span> </h3>  <p><strong>Returns the database connection used by this AR class.</strong></p> <p>By default, the "db" application component is used as the database connection. You may override this method if you want to use a different database connection.</p>  <table> <tr><th colspan="3">public static <a href="yii-db-connection.html">yii\db\Connection</a> <strong><a href="yii-db-activerecord.html#getDb()-detail">getDb</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="yii-db-connection.html">yii\db\Connection</a></td> <td>
<p>The database connection used by this AR class.</p> </td> </tr> </table>  <h3 id="getTableSchema()-detail"> getTableSchema() <span class="detail-header-tag small"> public static method </span> </h3>  <p><strong>Returns the schema information of the DB table associated with this AR class.</strong></p>  <table> <tr><th colspan="3">public static <a href="yii-db-tableschema.html">yii\db\TableSchema</a> <strong><a href="yii-db-activerecord.html#getTableSchema()-detail">getTableSchema</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="yii-db-tableschema.html">yii\db\TableSchema</a></td> <td>
<p>The schema information of the DB table associated with this AR class.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-invalidconfigexception.html">yii\base\InvalidConfigException</a></td> <td>
<p>if the table for the AR class does not exist.</p> </td> </tr> </table>  <h3 id="insert()-detail"> insert() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Inserts a row into the associated database table using the attribute values of this record.</strong></p> <p>This method performs the following steps in order:</p> <ol> <li>call <a href="yii-base-model.html#beforeValidate()-detail">beforeValidate()</a> when <code>$runValidation</code> is <code>true</code>. If <a href="yii-base-model.html#beforeValidate()-detail">beforeValidate()</a> returns <code>false</code>, the rest of the steps will be skipped;</li> <li>call <a href="yii-base-model.html#afterValidate()-detail">afterValidate()</a> when <code>$runValidation</code> is <code>true</code>. If validation failed, the rest of the steps will be skipped;</li> <li>call <a href="yii-db-baseactiverecord.html#beforeSave()-detail">beforeSave()</a>. If <a href="yii-db-baseactiverecord.html#beforeSave()-detail">beforeSave()</a> returns <code>false</code>, the rest of the steps will be skipped;</li> <li>insert the record into database. If this fails, it will skip the rest of the steps;</li> <li>call <a href="yii-db-baseactiverecord.html#afterSave()-detail">afterSave()</a>;</li> </ol> <p>In the above step 1, 2, 3 and 5, events <a href="yii-base-model.html#EVENT_BEFORE_VALIDATE-detail">EVENT_BEFORE_VALIDATE</a>, <a href="yii-base-model.html#EVENT_AFTER_VALIDATE-detail">EVENT_AFTER_VALIDATE</a>, <a href="yii-db-baseactiverecord.html#EVENT_BEFORE_INSERT-detail">EVENT_BEFORE_INSERT</a>, and <a href="yii-db-baseactiverecord.html#EVENT_AFTER_INSERT-detail">EVENT_AFTER_INSERT</a> will be raised by the corresponding methods.</p> <p>Only the <a href="yii-db-baseactiverecord.html#%24dirtyAttributes-detail">changed attribute values</a> will be inserted into database.</p> <p>If the table's primary key is auto-incremental and is <code>null</code> during insertion, it will be populated with the actual value after insertion.</p> <p>For example, to insert a customer record:</p> <pre data-language="php">$customer = new Customer;
$customer-&gt;name = $name;
$customer-&gt;email = $email;
$customer-&gt;insert();
</pre>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-db-activerecord.html#insert()-detail">insert</a></strong> ( $runValidation = true, $attributes = null )</th></tr> <tr> <td>$runValidation</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether to perform validation (calling <a href="yii-base-model.html#validate()-detail">validate()</a>) before saving the record. Defaults to <code>true</code>. If the validation fails, the record will not be saved to the database and this method will return <code>false</code>.</p> </td> </tr> <tr> <td>$attributes</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>List of attributes that need to be saved. Defaults to <code>null</code>, meaning all attributes that are loaded from DB will be saved.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the attributes are valid and the record is inserted successfully.</p> </td> </tr> <tr> <td>throws</td> <td><a href="http://www.php.net/class.exception">Exception</a></td> <td>
<p>in case insert failed.</p> </td> </tr> </table>  <h3 id="insertInternal()-detail"> insertInternal() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Inserts an ActiveRecord into DB without considering transaction.</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-db-activerecord.html#insertInternal()-detail">insertInternal</a></strong> ( $attributes = null )</th></tr> <tr> <td>$attributes</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>List of attributes that need to be saved. Defaults to <code>null</code>, meaning all attributes that are loaded from DB will be saved.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the record is inserted successfully.</p> </td> </tr> </table>  <h3 id="isTransactional()-detail"> isTransactional() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Returns a value indicating whether the specified operation is transactional in the current <a href="yii-base-model.html#%24scenario-detail">$scenario</a>.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-db-activerecord.html#isTransactional()-detail">isTransactional</a></strong> ( $operation )</th></tr> <tr> <td>$operation</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>The operation to check. Possible values are <a href="yii-db-activerecord.html#OP_INSERT-detail">OP_INSERT</a>, <a href="yii-db-activerecord.html#OP_UPDATE-detail">OP_UPDATE</a> and <a href="yii-db-activerecord.html#OP_DELETE-detail">OP_DELETE</a>.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the specified operation is transactional in the current <a href="yii-base-model.html#%24scenario-detail">$scenario</a>.</p> </td> </tr> </table>  <h3 id="loadDefaultValues()-detail"> loadDefaultValues() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Loads default values from database table schema</strong></p> <p>You may call this method to load default values after creating a new instance:</p> <pre data-language="php">// class Customer extends \yii\db\ActiveRecord
$customer = new Customer();
$customer-&gt;loadDefaultValues();
</pre>  <table> <tr><th colspan="3">public <a href="yii-db-activerecord.html">$this</a> <strong><a href="yii-db-activerecord.html#loadDefaultValues()-detail">loadDefaultValues</a></strong> ( $skipIfSet = true )</th></tr> <tr> <td>$skipIfSet</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether existing value should be preserved. This will only set defaults for attributes that are <code>null</code>.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-db-activerecord.html">$this</a></td> <td>
<p>The model instance itself.</p> </td> </tr> </table>  <h3 id="populateRecord()-detail"> populateRecord() <span class="detail-header-tag small"> public static method </span> </h3>  <p><strong>Populates an active record object using a row of data from the database/storage.</strong></p> <p>This is an internal method meant to be called to create active record objects after fetching data from the database. It is mainly used by <a href="yii-db-activequery.html">yii\db\ActiveQuery</a> to populate the query results into active records.</p> <p>When calling this method manually you should call <a href="yii-db-baseactiverecord.html#afterFind()-detail">afterFind()</a> on the created record to trigger the <a href="yii-db-baseactiverecord.html#EVENT_AFTER_FIND-detail">afterFind Event</a>.</p>  <table> <tr><th colspan="3">public static void <strong><a href="yii-db-activerecord.html#populateRecord()-detail">populateRecord</a></strong> ( $record, $row )</th></tr> <tr> <td>$record</td> <td><a href="yii-db-baseactiverecord.html">yii\db\BaseActiveRecord</a></td> <td>
<p>The record to be populated. In most cases this will be an instance created by <a href="yii-db-baseactiverecord.html#instantiate()-detail">instantiate()</a> beforehand.</p> </td> </tr> <tr> <td>$row</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Attribute values (name =&gt; value)</p> </td> </tr> </table>  <h3 id="primaryKey()-detail"> primaryKey() <span class="detail-header-tag small"> public static method </span> </h3>  <p><strong>Returns the primary key name(s) for this AR class.</strong></p> <p>The default implementation will return the primary key(s) as declared in the DB table that is associated with this AR class.</p> <p>If the DB table does not declare any primary key, you should override this method to return the attributes that you want to use as primary keys for this AR class.</p> <p>Note that an array should be returned even for a table with single primary key.</p>  <table> <tr><th colspan="3">public static <a href="http://www.php.net/language.types.string">string</a>[] <strong><a href="yii-db-activerecord.html#primaryKey()-detail">primaryKey</a></strong> ( )</th></tr> <tr> <td>return</td> <td>
<a href="http://www.php.net/language.types.string">string</a>[]</td> <td>
<p>The primary keys of the associated database table.</p> </td> </tr> </table>  <h3 id="tableName()-detail"> tableName() <span class="detail-header-tag small"> public static method </span> </h3>  <p><strong>Declares the name of the database table associated with this AR class.</strong></p> <p>By default this method returns the class name as the table name by calling <a href="yii-helpers-baseinflector.html#camel2id()-detail">yii\helpers\Inflector::camel2id()</a> with prefix <a href="yii-db-connection.html#%24tablePrefix-detail">yii\db\Connection::$tablePrefix</a>. For example if <a href="yii-db-connection.html#%24tablePrefix-detail">yii\db\Connection::$tablePrefix</a> is <code>tbl_</code>, <code>Customer</code> becomes <code>tbl_customer</code>, and <code>OrderItem</code> becomes <code>tbl_order_item</code>. You may override this method if the table is not named after this convention.</p>  <table> <tr><th colspan="3">public static <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-db-activerecord.html#tableName()-detail">tableName</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table name</p> </td> </tr> </table>  <h3 id="transactions()-detail"> transactions() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Declares which DB operations should be performed within a transaction in different scenarios.</strong></p> <p>The supported DB operations are: <a href="yii-db-activerecord.html#OP_INSERT-detail">OP_INSERT</a>, <a href="yii-db-activerecord.html#OP_UPDATE-detail">OP_UPDATE</a> and <a href="yii-db-activerecord.html#OP_DELETE-detail">OP_DELETE</a>, which correspond to the <a href="yii-db-activerecord.html#insert()-detail">insert()</a>, <a href="yii-db-activerecord.html#update()-detail">update()</a> and <a href="yii-db-activerecord.html#delete()-detail">delete()</a> methods, respectively. By default, these methods are NOT enclosed in a DB transaction.</p> <p>In some scenarios, to ensure data consistency, you may want to enclose some or all of them in transactions. You can do so by overriding this method and returning the operations that need to be transactional. For example,</p> <pre data-language="php">return [
    'admin' =&gt; self::OP_INSERT,
    'api' =&gt; self::OP_INSERT | self::OP_UPDATE | self::OP_DELETE,
    // the above is equivalent to the following:
    // 'api' =&gt; self::OP_ALL,

];
</pre> <p>The above declaration specifies that in the "admin" scenario, the insert operation (<a href="yii-db-activerecord.html#insert()-detail">insert()</a>) should be done in a transaction; and in the "api" scenario, all the operations should be done in a transaction.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-db-activerecord.html#transactions()-detail">transactions</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The declarations of transactional operations. The array keys are scenarios names, and the array values are the corresponding transaction operations.</p> </td> </tr> </table>  <h3 id="update()-detail"> update() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Saves the changes to this active record into the associated database table.</strong></p> <p>This method performs the following steps in order:</p> <ol> <li>call <a href="yii-base-model.html#beforeValidate()-detail">beforeValidate()</a> when <code>$runValidation</code> is <code>true</code>. If <a href="yii-base-model.html#beforeValidate()-detail">beforeValidate()</a> returns <code>false</code>, the rest of the steps will be skipped;</li> <li>call <a href="yii-base-model.html#afterValidate()-detail">afterValidate()</a> when <code>$runValidation</code> is <code>true</code>. If validation failed, the rest of the steps will be skipped;</li> <li>call <a href="yii-db-baseactiverecord.html#beforeSave()-detail">beforeSave()</a>. If <a href="yii-db-baseactiverecord.html#beforeSave()-detail">beforeSave()</a> returns <code>false</code>, the rest of the steps will be skipped;</li> <li>save the record into database. If this fails, it will skip the rest of the steps;</li> <li>call <a href="yii-db-baseactiverecord.html#afterSave()-detail">afterSave()</a>;</li> </ol> <p>In the above step 1, 2, 3 and 5, events <a href="yii-base-model.html#EVENT_BEFORE_VALIDATE-detail">EVENT_BEFORE_VALIDATE</a>, <a href="yii-base-model.html#EVENT_AFTER_VALIDATE-detail">EVENT_AFTER_VALIDATE</a>, <a href="yii-db-baseactiverecord.html#EVENT_BEFORE_UPDATE-detail">EVENT_BEFORE_UPDATE</a>, and <a href="yii-db-baseactiverecord.html#EVENT_AFTER_UPDATE-detail">EVENT_AFTER_UPDATE</a> will be raised by the corresponding methods.</p> <p>Only the <a href="yii-db-baseactiverecord.html#%24dirtyAttributes-detail">changed attribute values</a> will be saved into database.</p> <p>For example, to update a customer record:</p> <pre data-language="php">$customer = Customer::findOne($id);
$customer-&gt;name = $name;
$customer-&gt;email = $email;
$customer-&gt;update();
</pre> <p>Note that it is possible the update does not affect any row in the table. In this case, this method will return 0. For this reason, you should use the following code to check if update() is successful or not:</p> <pre data-language="php">if ($customer-&gt;update() !== false) {
    // update successful
} else {
    // update failed
}
</pre>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.integer">integer</a>|<a href="http://www.php.net/language.types.boolean">false</a> <strong><a href="yii-db-activerecord.html#update()-detail">update</a></strong> ( $runValidation = true, $attributeNames = null )</th></tr> <tr> <td>$runValidation</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether to perform validation (calling <a href="yii-base-model.html#validate()-detail">validate()</a>) before saving the record. Defaults to <code>true</code>. If the validation fails, the record will not be saved to the database and this method will return <code>false</code>.</p> </td> </tr> <tr> <td>$attributeNames</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>List of attributes that need to be saved. Defaults to <code>null</code>, meaning all attributes that are loaded from DB will be saved.</p> </td> </tr> <tr> <td>return</td> <td>
<a href="http://www.php.net/language.types.integer">integer</a>|<a href="http://www.php.net/language.types.boolean">false</a>
</td> <td>
<p>The number of rows affected, or false if validation fails or <a href="yii-db-baseactiverecord.html#beforeSave()-detail">beforeSave()</a> stops the updating process.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-db-staleobjectexception.html">yii\db\StaleObjectException</a></td> <td>
<p>if <a href="yii-db-baseactiverecord.html#optimisticLock()-detail">optimistic locking</a> is enabled and the data being updated is outdated.</p> </td> </tr> <tr> <td>throws</td> <td><a href="http://www.php.net/class.exception">Exception</a></td> <td>
<p>in case update failed.</p> </td> </tr> </table>  <h3 id="updateAll()-detail"> updateAll() <span class="detail-header-tag small"> public static method </span> </h3>  <p><strong>Updates the whole table using the provided attribute values and conditions.</strong></p> <p>For example, to change the status to be 1 for all customers whose status is 2:</p> <pre data-language="php">Customer::updateAll(['status' =&gt; 1], 'status = 2');
</pre> <blockquote class="warning">
<p><strong>Warning: </strong>If you do not specify any condition, this method will update <strong>all</strong> rows in the table.</p> </blockquote> <p>Note that this method will not trigger any events. If you need <a href="yii-db-baseactiverecord.html#EVENT_BEFORE_UPDATE-detail">EVENT_BEFORE_UPDATE</a> or <a href="yii-db-baseactiverecord.html#EVENT_AFTER_UPDATE-detail">EVENT_AFTER_UPDATE</a> to be triggered, you need to <a href="yii-db-activerecord.html#find()-detail">find</a> the models first and then call <a href="yii-db-activerecord.html#update()-detail">update()</a> on each of them. For example an equivalent of the example above would be:</p> <pre data-language="php">$models = Customer::find()-&gt;where('status = 2')-&gt;all();
foreach ($models as $model) {
    $model-&gt;status = 1;
    $model-&gt;update(false); // skipping validation as no user input is involved
}
</pre> <p>For a large set of models you might consider using <a href="yii-db-query.html#each()-detail">yii\db\ActiveQuery::each()</a> to keep memory usage within limits.</p>  <table> <tr><th colspan="3">public static <a href="http://www.php.net/language.types.integer">integer</a> <strong><a href="yii-db-activerecord.html#updateAll()-detail">updateAll</a></strong> ( $attributes, $condition = '', $params = [] )</th></tr> <tr> <td>$attributes</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Attribute values (name-value pairs) to be saved into the table</p> </td> </tr> <tr> <td>$condition</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>The conditions that will be put in the WHERE part of the UPDATE SQL. Please refer to <a href="yii-db-query.html#where()-detail">yii\db\Query::where()</a> on how to specify this parameter.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The parameters (name =&gt; value) to be bound to the query.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>The number of rows updated</p> </td> </tr> </table>  <h3 id="updateAllCounters()-detail"> updateAllCounters() <span class="detail-header-tag small"> public static method </span> </h3>  <p><strong>Updates the whole table using the provided counter changes and conditions.</strong></p> <p>For example, to increment all customers' age by 1,</p> <pre data-language="php">Customer::updateAllCounters(['age' =&gt; 1]);
</pre> <p>Note that this method will not trigger any events.</p>  <table> <tr><th colspan="3">public static <a href="http://www.php.net/language.types.integer">integer</a> <strong><a href="yii-db-activerecord.html#updateAllCounters()-detail">updateAllCounters</a></strong> ( $counters, $condition = '', $params = [] )</th></tr> <tr> <td>$counters</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The counters to be updated (attribute name =&gt; increment value). Use negative values if you want to decrement the counters.</p> </td> </tr> <tr> <td>$condition</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>The conditions that will be put in the WHERE part of the UPDATE SQL. Please refer to <a href="yii-db-query.html#where()-detail">yii\db\Query::where()</a> on how to specify this parameter.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The parameters (name =&gt; value) to be bound to the query. Do not name the parameters as <code>:bp0</code>, <code>:bp1</code>, etc., because they are used internally by this method.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>The number of rows updated</p> </td> </tr> </table>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yii-db-activerecord.html" class="_attribution-link">http://www.yiiframework.com/doc-2.0/yii-db-activerecord.html</a>
  </p>
</div>
