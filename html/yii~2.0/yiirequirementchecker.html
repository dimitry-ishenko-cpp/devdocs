<h1>Class YiiRequirementChecker</h1> <div class="top-nav"> <a href="index.html">All Classes</a> | <a href="#methods">Methods</a> </div> <table> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Inheritance</th>
<td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td>
</tr> <tr>
<th>Available since version</th>
<td>2.0</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2/blob/master/framework/equirementChecker.php">https://github.com/yiisoft/yii2/blob/master/framework/equirementChecker.php</a></td> </tr> </table>  <p><strong>YiiRequirementChecker allows checking, if current system meets the requirements for running the Yii application.</strong></p> <p>This class allows rendering of the check report for the web and console application interface.</p> <p>Example:</p> <pre data-language="php">require_once('path/to/YiiRequirementChecker.php');
$requirementsChecker = new YiiRequirementChecker();
$requirements = array(
    array(
        'name' =&gt; 'PHP Some Extension',
        'mandatory' =&gt; true,
        'condition' =&gt; extension_loaded('some_extension'),
        'by' =&gt; 'Some application feature',
        'memo' =&gt; 'PHP extension "some_extension" required',
    ),
);
$requirementsChecker-&gt;checkYii()-&gt;check($requirements)-&gt;render();
</pre> <p>If you wish to render the report with your own representation, use <a href="yiirequirementchecker.html#getResult()-detail">getResult()</a> instead of <a href="yiirequirementchecker.html#render()-detail">render()</a></p> <p>Requirement condition could be in format "eval:PHP expression". In this case specified PHP expression will be evaluated in the context of this class instance. For example:</p> <pre data-language="php">$requirements = array(
    array(
        'name' =&gt; 'Upload max file size',
        'condition' =&gt; 'eval:$this-&gt;checkUploadMaxFileSize("5M")',
    ),
);
</pre> <p>Note: this class definition does not match ordinary Yii style, because it should match PHP 4.3 and should not use features from newer PHP versions!</p>     <h2 id="methods">Public Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="check()"> <td><a href="yiirequirementchecker.html#check()-detail">check()</a></td> <td>Check the given requirements, collecting results into internal field.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="checkPhpExtensionVersion()"> <td><a href="yiirequirementchecker.html#checkPhpExtensionVersion()-detail">checkPhpExtensionVersion()</a></td> <td>Checks if the given PHP extension is available and its version matches the given one.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="checkPhpIniOff()"> <td><a href="yiirequirementchecker.html#checkPhpIniOff()-detail">checkPhpIniOff()</a></td> <td>Checks if PHP configuration option (from php.ini) is off.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="checkPhpIniOn()"> <td><a href="yiirequirementchecker.html#checkPhpIniOn()-detail">checkPhpIniOn()</a></td> <td>Checks if PHP configuration option (from php.ini) is on.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="checkUploadMaxFileSize()"> <td><a href="yiirequirementchecker.html#checkUploadMaxFileSize()-detail">checkUploadMaxFileSize()</a></td> <td>Checks if upload max file size matches the given range.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="checkYii()"> <td><a href="yiirequirementchecker.html#checkYii()-detail">checkYii()</a></td> <td>Performs the check for the Yii core requirements.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="compareByteSize()"> <td><a href="yiirequirementchecker.html#compareByteSize()-detail">compareByteSize()</a></td> <td>Compare byte sizes of values given in the verbose representation, like '5M', '15K' etc.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="evaluateExpression()"> <td><a href="yiirequirementchecker.html#evaluateExpression()-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression under the context of this class.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="getByteSize()"> <td><a href="yiirequirementchecker.html#getByteSize()-detail">getByteSize()</a></td> <td>Gets the size in bytes from verbose size representation.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="getNowDate()"> <td><a href="yiirequirementchecker.html#getNowDate()-detail">getNowDate()</a></td> <td>Returns the now date if possible in string representation.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="getResult()"> <td><a href="yiirequirementchecker.html#getResult()-detail">getResult()</a></td> <td>Return the check results.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="getServerInfo()"> <td><a href="yiirequirementchecker.html#getServerInfo()-detail">getServerInfo()</a></td> <td>Returns the server information.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="normalizeRequirement()"> <td><a href="yiirequirementchecker.html#normalizeRequirement()-detail">normalizeRequirement()</a></td> <td>Normalizes requirement ensuring it has correct format.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="render()"> <td><a href="yiirequirementchecker.html#render()-detail">render()</a></td> <td>Renders the requirements check result.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="renderViewFile()"> <td><a href="yiirequirementchecker.html#renderViewFile()-detail">renderViewFile()</a></td> <td>Renders a view file.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> <tr id="usageError()"> <td><a href="yiirequirementchecker.html#usageError()-detail">usageError()</a></td> <td>Displays a usage error.</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> </tr> </table>    <h2 id="constants">Method Details</h2> <div class="method-doc"> <h3 id="check()-detail"> check() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Check the given requirements, collecting results into internal field.</strong></p> <p>This method can be invoked several times checking different requirement sets. Use <a href="yiirequirementchecker.html#getResult()-detail">getResult()</a> or <a href="yiirequirementchecker.html#render()-detail">render()</a> to get the results.</p>  <table> <tr><th colspan="3">public <a href="yiirequirementchecker.html">$this</a> <strong><a href="yiirequirementchecker.html#check()-detail">check</a></strong> ( $requirements )</th></tr> <tr> <td>$requirements</td> <td>
<a href="http://www.php.net/language.types.array">array</a>|<a href="http://www.php.net/language.types.string">string</a>
</td> <td>
<p>Requirements to be checked. If an array, it is treated as the set of requirements; If a string, it is treated as the path of the file, which contains the requirements;</p> </td> </tr> <tr> <td>return</td> <td><a href="yiirequirementchecker.html">$this</a></td> <td>
<p>Self instance.</p> </td> </tr> </table>  <h3 id="checkPhpExtensionVersion()-detail"> checkPhpExtensionVersion() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Checks if the given PHP extension is available and its version matches the given one.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yiirequirementchecker.html#checkPhpExtensionVersion()-detail">checkPhpExtensionVersion</a></strong> ( $extensionName, $version, $compare = '&gt;=' )</th></tr> <tr> <td>$extensionName</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>PHP extension name.</p> </td> </tr> <tr> <td>$version</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Required PHP extension version.</p> </td> </tr> <tr> <td>$compare</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Comparison operator, by default '&gt;='</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>If PHP extension version matches.</p> </td> </tr> </table>  <h3 id="checkPhpIniOff()-detail"> checkPhpIniOff() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Checks if PHP configuration option (from php.ini) is off.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yiirequirementchecker.html#checkPhpIniOff()-detail">checkPhpIniOff</a></strong> ( $name )</th></tr> <tr> <td>$name</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Configuration option name.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Option is off.</p> </td> </tr> </table>  <h3 id="checkPhpIniOn()-detail"> checkPhpIniOn() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Checks if PHP configuration option (from php.ini) is on.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yiirequirementchecker.html#checkPhpIniOn()-detail">checkPhpIniOn</a></strong> ( $name )</th></tr> <tr> <td>$name</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Configuration option name.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Option is on.</p> </td> </tr> </table>  <h3 id="checkUploadMaxFileSize()-detail"> checkUploadMaxFileSize() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Checks if upload max file size matches the given range.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yiirequirementchecker.html#checkUploadMaxFileSize()-detail">checkUploadMaxFileSize</a></strong> ( $min = null, $max = null )</th></tr> <tr> <td>$min</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.null">null</a>
</td> <td>
<p>Verbose file size minimum required value, pass null to skip minimum check.</p> </td> </tr> <tr> <td>$max</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.null">null</a>
</td> <td>
<p>Verbose file size maximum required value, pass null to skip maximum check.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Success.</p> </td> </tr> </table>  <h3 id="checkYii()-detail"> checkYii() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Performs the check for the Yii core requirements.</strong></p>  <table> <tr><th colspan="3">public <a href="yiirequirementchecker.html">YiiRequirementChecker</a> <strong><a href="yiirequirementchecker.html#checkYii()-detail">checkYii</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="yiirequirementchecker.html">YiiRequirementChecker</a></td> <td>
<p>Self instance.</p> </td> </tr> </table>  <h3 id="compareByteSize()-detail"> compareByteSize() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Compare byte sizes of values given in the verbose representation, like '5M', '15K' etc.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yiirequirementchecker.html#compareByteSize()-detail">compareByteSize</a></strong> ( $a, $b, $compare = '&gt;=' )</th></tr> <tr> <td>$a</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>First value.</p> </td> </tr> <tr> <td>$b</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Second value.</p> </td> </tr> <tr> <td>$compare</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Comparison operator, by default '&gt;='.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Comparison result.</p> </td> </tr> </table>  <h3 id="evaluateExpression()-detail"> evaluateExpression() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Evaluates a PHP expression under the context of this class.</strong></p>  <table> <tr><th colspan="3">public mixed <strong><a href="yiirequirementchecker.html#evaluateExpression()-detail">evaluateExpression</a></strong> ( $expression )</th></tr> <tr> <td>$expression</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>A PHP expression to be evaluated.</p> </td> </tr> <tr> <td>return</td> <td>mixed</td> <td>
<p>The expression result.</p> </td> </tr> </table>  <h3 id="getByteSize()-detail"> getByteSize() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Gets the size in bytes from verbose size representation.</strong></p> <p>For example: '5K' =&gt; 5*1024</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.integer">integer</a> <strong><a href="yiirequirementchecker.html#getByteSize()-detail">getByteSize</a></strong> ( $verboseSize )</th></tr> <tr> <td>$verboseSize</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Verbose size representation.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>Actual size in bytes.</p> </td> </tr> </table>  <h3 id="getNowDate()-detail"> getNowDate() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Returns the now date if possible in string representation.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yiirequirementchecker.html#getNowDate()-detail">getNowDate</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Now date.</p> </td> </tr> </table>  <h3 id="getResult()-detail"> getResult() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Return the check results.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.array">array</a>|<a href="http://www.php.net/language.types.null">null</a> <strong><a href="yiirequirementchecker.html#getResult()-detail">getResult</a></strong> ( )</th></tr> <tr> <td>return</td> <td>
<a href="http://www.php.net/language.types.array">array</a>|<a href="http://www.php.net/language.types.null">null</a>
</td> <td>
<p>Check results in format:</p> <pre data-language="php">array(
    'summary' =&gt; array(
        'total' =&gt; total number of checks,
        'errors' =&gt; number of errors,
        'warnings' =&gt; number of warnings,
    ),
    'requirements' =&gt; array(
        array(
            ...
            'error' =&gt; is there an error,
            'warning' =&gt; is there a warning,
        ),
        ...
    ),
)
</pre> </td> </tr> </table>  <h3 id="getServerInfo()-detail"> getServerInfo() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Returns the server information.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yiirequirementchecker.html#getServerInfo()-detail">getServerInfo</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Server information.</p> </td> </tr> </table>  <h3 id="normalizeRequirement()-detail"> normalizeRequirement() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Normalizes requirement ensuring it has correct format.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yiirequirementchecker.html#normalizeRequirement()-detail">normalizeRequirement</a></strong> ( $requirement, $requirementKey = 0 )</th></tr> <tr> <td>$requirement</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Raw requirement.</p> </td> </tr> <tr> <td>$requirementKey</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>Requirement key in the list.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Normalized requirement.</p> </td> </tr> </table>  <h3 id="render()-detail"> render() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Renders the requirements check result.</strong></p> <p>The output will vary depending is a script running from web or from console.</p>  <table> <tr><th colspan="3">public void <strong><a href="yiirequirementchecker.html#render()-detail">render</a></strong> ( )</th></tr> </table>  <h3 id="renderViewFile()-detail"> renderViewFile() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Renders a view file.</strong></p> <p>This method includes the view file as a PHP script and captures the display result if required.</p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yiirequirementchecker.html#renderViewFile()-detail">renderViewFile</a></strong> ( $_viewFile_, $_data_ = null, $_return_ = false )</th></tr> <tr> <td>$_viewFile_</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>View file</p> </td> </tr> <tr> <td>$_data_</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Data to be extracted and made available to the view file</p> </td> </tr> <tr> <td>$_return_</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the rendering result should be returned as a string</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The rendering result. Null if the rendering result is not required.</p> </td> </tr> </table>  <h3 id="usageError()-detail"> usageError() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Displays a usage error.</strong></p> <p>This method will then terminate the execution of the current application.</p>  <table> <tr><th colspan="3">public void <strong><a href="yiirequirementchecker.html#usageError()-detail">usageError</a></strong> ( $message )</th></tr> <tr> <td>$message</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The error message</p> </td> </tr> </table>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yiirequirementchecker.html" class="_attribution-link">http://www.yiiframework.com/doc-2.0/yiirequirementchecker.html</a>
  </p>
</div>
