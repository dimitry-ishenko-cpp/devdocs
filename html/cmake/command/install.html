<h1 id="command:install">install</h1>   <ul> <li><a class="reference internal" href="#synopsis" id="id2">Synopsis</a></li> <li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li> <li><a class="reference internal" href="#signatures" id="id4">Signatures</a></li> <li>
<p><a class="reference internal" href="#examples" id="id5">Examples</a></p> <ul> <li><a class="reference internal" href="#example-install-targets-with-per-artifact-components" id="id6">Example: Install Targets with Per-Artifact Components</a></li> <li><a class="reference internal" href="#example-install-targets-to-per-config-destinations" id="id7">Example: Install Targets to Per-Config Destinations</a></li> </ul> </li> <li><a class="reference internal" href="#generated-installation-script" id="id8">Generated Installation Script</a></li> </ul>
  <p>Specify rules to run at install time.</p>  <h2>Synopsis</h2> <pre class="literal-block">install(<a class="reference internal" href="#targets">TARGETS</a> &lt;target&gt;... [...])
install(<a class="reference internal" href="#imported-runtime-artifacts">IMPORTED_RUNTIME_ARTIFACTS</a> &lt;target&gt;... [...])
install({<a class="reference internal" href="#files">FILES</a> | <a class="reference internal" href="#programs">PROGRAMS</a>} &lt;file&gt;... [...])
install(<a class="reference internal" href="#directory">DIRECTORY</a> &lt;dir&gt;... [...])
install(<a class="reference internal" href="#script">SCRIPT</a> &lt;file&gt; [...])
install(<a class="reference internal" href="#code">CODE</a> &lt;code&gt; [...])
install(<a class="reference internal" href="#export">EXPORT</a> &lt;export-name&gt; [...])
install(<a class="reference internal" href="#package-info">PACKAGE_INFO</a> &lt;package-name&gt; [...])
install(<a class="reference internal" href="#runtime-dependency-set">RUNTIME_DEPENDENCY_SET</a> &lt;set-name&gt; [...])</pre>   <h2>Introduction</h2> <p>This command generates installation rules for a project. Install rules specified by calls to the <code>install()</code> command within a source directory are executed in order during installation.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.14: </span>Install rules in subdirectories added by calls to the <a class="reference internal" href="add_subdirectory.html#command:add_subdirectory" title="add_subdirectory" id="index-0-command:add_subdirectory"><code>add_subdirectory()</code></a> command are interleaved with those in the parent directory to run in the order declared (see policy <a class="reference internal" href="../policy/cmp0082.html#policy:CMP0082" title="CMP0082" id="index-0-policy:CMP0082"><code>CMP0082</code></a>).</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.22: </span>The environment variable <a class="reference internal" href="../envvar/cmake_install_mode.html#envvar:CMAKE_INSTALL_MODE" title="CMAKE_INSTALL_MODE" id="index-0-envvar:CMAKE_INSTALL_MODE"><code>CMAKE_INSTALL_MODE</code></a> can override the default copying behavior of <code>install()</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.31: </span>Projects can enable <a class="reference internal" href="../prop_gbl/install_parallel.html#prop_gbl:INSTALL_PARALLEL" title="INSTALL_PARALLEL" id="index-0-prop_gbl:INSTALL_PARALLEL"><code>INSTALL_PARALLEL</code></a> to enable a parallel installation. When using the parallel install, subdirectories added by calls to the <a class="reference internal" href="add_subdirectory.html#command:add_subdirectory" title="add_subdirectory" id="index-1-command:add_subdirectory"><code>add_subdirectory()</code></a> command are installed independently and the order that install rules added in different subdirectories will run is not guaranteed.</p> </div> <p id="common-options">There are multiple signatures for this command. Some of them define installation options for files and targets. Options common to multiple signatures are covered here but they are valid only for signatures that specify them. The common options are:</p> <dl> <dt>
<code>DESTINATION &lt;dir&gt;</code> </dt>
<dd>
<p>Specify the directory on disk to which a file will be installed. <code>&lt;dir&gt;</code> should be a relative path. An absolute path is allowed, but not recommended.</p> <p>When a relative path is given, it is interpreted relative to the value of the <a class="reference internal" href="../variable/cmake_install_prefix.html#variable:CMAKE_INSTALL_PREFIX" title="CMAKE_INSTALL_PREFIX" id="index-0-variable:CMAKE_INSTALL_PREFIX"><code>CMAKE_INSTALL_PREFIX</code></a> variable. The prefix can be relocated at install time using the <code>DESTDIR</code> mechanism explained in the <a class="reference internal" href="../variable/cmake_install_prefix.html#variable:CMAKE_INSTALL_PREFIX" title="CMAKE_INSTALL_PREFIX" id="index-1-variable:CMAKE_INSTALL_PREFIX"><code>CMAKE_INSTALL_PREFIX</code></a> variable documentation.</p> <p>As absolute paths do not work with the <code>cmake --install</code> command's <a class="reference internal" href="../manual/cmake.1.html#cmdoption-cmake--install-0"><code>--prefix</code></a> option, or with the <a class="reference internal" href="../manual/cpack.1.html#manual:cpack(1)" title="cpack(1)" id="index-0-manual:cpack(1)"><code>cpack</code></a> installer generators, it is strongly recommended to use relative paths throughout for best support by package maintainers. In particular, there is no need to make paths absolute by prepending <a class="reference internal" href="../variable/cmake_install_prefix.html#variable:CMAKE_INSTALL_PREFIX" title="CMAKE_INSTALL_PREFIX" id="index-2-variable:CMAKE_INSTALL_PREFIX"><code>CMAKE_INSTALL_PREFIX</code></a>; this prefix is used by default if the DESTINATION is a relative path.</p> <p>If an absolute path (with a leading slash or drive letter) is given it is used verbatim.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.31: </span><code>&lt;dir&gt;</code> will be normalized according to the same <a class="reference internal" href="cmake_path.html#normalization"><span class="std std-ref">normalization rules</span></a> as the <a class="reference internal" href="cmake_path.html#command:cmake_path" title="cmake_path" id="index-0-command:cmake_path"><code>cmake_path()</code></a> command.</p> </div> </dd> <dt>
<code>PERMISSIONS &lt;permission&gt;...</code> </dt>
<dd>
<p>Specify permissions for installed files. Valid permissions are <code>OWNER_READ</code>, <code>OWNER_WRITE</code>, <code>OWNER_EXECUTE</code>, <code>GROUP_READ</code>, <code>GROUP_WRITE</code>, <code>GROUP_EXECUTE</code>, <code>WORLD_READ</code>, <code>WORLD_WRITE</code>, <code>WORLD_EXECUTE</code>, <code>SETUID</code>, and <code>SETGID</code>. Permissions that do not make sense on certain platforms are ignored on those platforms.</p> <p>If this option is used multiple times in a single call, its list of permissions accumulates. If an <a class="reference internal" href="#targets" title="install(targets)" id="index-0-command:install"><code>install(TARGETS)</code></a> call uses <a class="reference internal" href="#artifact-kind">&lt;artifact-kind&gt;</a> arguments, a separate list of permissions is accumulated for each kind of artifact.</p> </dd> <dt>
<code>CONFIGURATIONS &lt;config&gt;...</code> </dt>
<dd>
<p>Specify a list of build configurations for which the install rule applies (Debug, Release, etc.).</p> <p>If this option is used multiple times in a single call, its list of configurations accumulates. If an <a class="reference internal" href="#targets" title="install(targets)" id="index-1-command:install"><code>install(TARGETS)</code></a> call uses <a class="reference internal" href="#artifact-kind">&lt;artifact-kind&gt;</a> arguments, a separate list of configurations is accumulated for each kind of artifact.</p> </dd> <dt>
<code>COMPONENT &lt;component&gt;</code> </dt>
<dd>
<p>Specify an installation component name with which the install rule is associated, such as <code>Runtime</code> or <code>Development</code>. During component-specific installation only install rules associated with the given component name will be executed. During a full installation all components are installed unless marked with <code>EXCLUDE_FROM_ALL</code>. If <code>COMPONENT</code> is not provided a default component "Unspecified" is created. The default component name may be controlled with the <a class="reference internal" href="../variable/cmake_install_default_component_name.html#variable:CMAKE_INSTALL_DEFAULT_COMPONENT_NAME" title="CMAKE_INSTALL_DEFAULT_COMPONENT_NAME" id="index-0-variable:CMAKE_INSTALL_DEFAULT_COMPONENT_NAME"><code>CMAKE_INSTALL_DEFAULT_COMPONENT_NAME</code></a> variable.</p> </dd> <dt>
<code>EXCLUDE_FROM_ALL</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.6.</span></p> </div> <p>Specify that the file is excluded from a full installation and only installed as part of a component-specific installation</p> </dd> <dt>
<code>OPTIONAL</code> </dt>
<dd>
<p>Specify that it is not an error if the file to be installed does not exist.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.1: </span>Command signatures that install files may print messages during installation. Use the <a class="reference internal" href="../variable/cmake_install_message.html#variable:CMAKE_INSTALL_MESSAGE" title="CMAKE_INSTALL_MESSAGE" id="index-0-variable:CMAKE_INSTALL_MESSAGE"><code>CMAKE_INSTALL_MESSAGE</code></a> variable to control which messages are printed.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.11: </span>Many of the <code>install()</code> variants implicitly create the directories containing the installed files. If <a class="reference internal" href="../variable/cmake_install_default_directory_permissions.html#variable:CMAKE_INSTALL_DEFAULT_DIRECTORY_PERMISSIONS" title="CMAKE_INSTALL_DEFAULT_DIRECTORY_PERMISSIONS" id="index-0-variable:CMAKE_INSTALL_DEFAULT_DIRECTORY_PERMISSIONS"><code>CMAKE_INSTALL_DEFAULT_DIRECTORY_PERMISSIONS</code></a> is set, these directories will be created with the permissions specified. Otherwise, they will be created according to the uname rules on Unix-like platforms. Windows platforms are unaffected.</p> </div>   <h2>Signatures</h2> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="targets">
<code>install(TARGETS &lt;target&gt;... [...])</code> </dt> <dd>
<p>Install target <a class="reference internal" href="../manual/cmake-buildsystem.7.html#output-artifacts"><span class="std std-ref">Output Artifacts</span></a> and associated files:</p> <pre data-language="cmake">install(TARGETS &lt;target&gt;... [EXPORT &lt;export-name&gt;]
        [RUNTIME_DEPENDENCIES &lt;arg&gt;...|RUNTIME_DEPENDENCY_SET &lt;set-name&gt;]
        [&lt;artifact-option&gt;...]
        [&lt;artifact-kind&gt; &lt;artifact-option&gt;...]...
        [INCLUDES DESTINATION [&lt;dir&gt; ...]]
        )
</pre> <p>where <code>&lt;artifact-option&gt;...</code> group may contain:</p> <pre data-language="cmake">[DESTINATION &lt;dir&gt;]
[PERMISSIONS &lt;permission&gt;...]
[CONFIGURATIONS &lt;config&gt;...]
[COMPONENT &lt;component&gt;]
[NAMELINK_COMPONENT &lt;component&gt;]
[OPTIONAL] [EXCLUDE_FROM_ALL]
[NAMELINK_ONLY|NAMELINK_SKIP]
</pre> <p>The first <code>&lt;artifact-option&gt;...</code> group applies to target <a class="reference internal" href="../manual/cmake-buildsystem.7.html#output-artifacts"><span class="std std-ref">Output Artifacts</span></a> that do not have a dedicated group specified later in the same call.</p> <p id="artifact-kind">Each <code>&lt;artifact-kind&gt; &lt;artifact-option&gt;...</code> group applies to <a class="reference internal" href="../manual/cmake-buildsystem.7.html#output-artifacts"><span class="std std-ref">Output Artifacts</span></a> of the specified artifact kind:</p> <dl> <dt>
<code>ARCHIVE</code> </dt>
<dd>
<p>Target artifacts of this kind include:</p> <ul class="simple"> <li>
<em>Static libraries</em> (except on macOS when marked as <code>FRAMEWORK</code>, see below);</li> <li>
<em>DLL import libraries</em> (on all Windows-based systems including Cygwin; they have extension <code>.lib</code>, in contrast to the <code>.dll</code> libraries that go to <code>RUNTIME</code>);</li> <li>On AIX, the <em>linker import file</em> created for executables with <a class="reference internal" href="../prop_tgt/enable_exports.html#prop_tgt:ENABLE_EXPORTS" title="ENABLE_EXPORTS" id="index-0-prop_tgt:ENABLE_EXPORTS"><code>ENABLE_EXPORTS</code></a> enabled.</li> <li>On macOS, the <em>linker import file</em> created for shared libraries with <a class="reference internal" href="../prop_tgt/enable_exports.html#prop_tgt:ENABLE_EXPORTS" title="ENABLE_EXPORTS" id="index-1-prop_tgt:ENABLE_EXPORTS"><code>ENABLE_EXPORTS</code></a> enabled (except when marked as <code>FRAMEWORK</code>, see below).</li> </ul> </dd> <dt>
<code>LIBRARY</code> </dt>
<dd>
<p>Target artifacts of this kind include:</p> <ul class="simple"> <li>
<p><em>Shared libraries</em>, except</p> <ul> <li>DLLs (these go to <code>RUNTIME</code>, see below),</li> <li>on macOS when marked as <code>FRAMEWORK</code> (see below).</li> </ul> </li> </ul> </dd> <dt>
<code>RUNTIME</code> </dt>
<dd>
<p>Target artifacts of this kind include:</p> <ul class="simple"> <li>
<em>Executables</em> (except on macOS when marked as <code>MACOSX_BUNDLE</code>, see <code>BUNDLE</code> below);</li> <li>DLLs (on all Windows-based systems including Cygwin; note that the accompanying import libraries are of kind <code>ARCHIVE</code>).</li> </ul> </dd> <dt>
<code>OBJECTS</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.9.</span></p> </div> <p>Object files associated with <em>object libraries</em>.</p> </dd> <dt>
<code>FRAMEWORK</code> </dt>
<dd>
<p>Both static and shared libraries marked with the <code>FRAMEWORK</code> property are treated as <code>FRAMEWORK</code> targets on macOS.</p> </dd> <dt>
<code>BUNDLE</code> </dt>
<dd>
<p>Executables marked with the <a class="reference internal" href="../prop_tgt/macosx_bundle.html#prop_tgt:MACOSX_BUNDLE" title="MACOSX_BUNDLE" id="index-0-prop_tgt:MACOSX_BUNDLE"><code>MACOSX_BUNDLE</code></a> property are treated as <code>BUNDLE</code> targets on macOS.</p> </dd> <dt>
<code>PUBLIC_HEADER</code> </dt>
<dd>
<p>Any <a class="reference internal" href="../prop_tgt/public_header.html#prop_tgt:PUBLIC_HEADER" title="PUBLIC_HEADER" id="index-0-prop_tgt:PUBLIC_HEADER"><code>PUBLIC_HEADER</code></a> files associated with a library are installed in the destination specified by the <code>PUBLIC_HEADER</code> argument on non-Apple platforms. Rules defined by this argument are ignored for <a class="reference internal" href="../prop_tgt/framework.html#prop_tgt:FRAMEWORK" title="FRAMEWORK" id="index-0-prop_tgt:FRAMEWORK"><code>FRAMEWORK</code></a> libraries on Apple platforms because the associated files are installed into the appropriate locations inside the framework folder. See <a class="reference internal" href="../prop_tgt/public_header.html#prop_tgt:PUBLIC_HEADER" title="PUBLIC_HEADER" id="index-1-prop_tgt:PUBLIC_HEADER"><code>PUBLIC_HEADER</code></a> for details.</p> </dd> <dt>
<code>PRIVATE_HEADER</code> </dt>
<dd>
<p>Similar to <code>PUBLIC_HEADER</code>, but for <code>PRIVATE_HEADER</code> files. See <a class="reference internal" href="../prop_tgt/private_header.html#prop_tgt:PRIVATE_HEADER" title="PRIVATE_HEADER" id="index-0-prop_tgt:PRIVATE_HEADER"><code>PRIVATE_HEADER</code></a> for details.</p> </dd> <dt>
<code>RESOURCE</code> </dt>
<dd>
<p>Similar to <code>PUBLIC_HEADER</code> and <code>PRIVATE_HEADER</code>, but for <code>RESOURCE</code> files. See <a class="reference internal" href="../prop_tgt/resource.html#prop_tgt:RESOURCE" title="RESOURCE" id="index-0-prop_tgt:RESOURCE"><code>RESOURCE</code></a> for details.</p> </dd> <dt>
<code>FILE_SET &lt;set-name&gt;</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.23.</span></p> </div> <p>File sets are defined by the <a class="reference internal" href="target_sources.html#command:target_sources" title="target_sources(file_set)" id="index-0-command:target_sources"><code>target_sources(FILE_SET)</code></a> command. If the file set <code>&lt;set-name&gt;</code> exists and is <code>PUBLIC</code> or <code>INTERFACE</code>, any files in the set are installed under the destination (see below). The directory structure relative to the file set's base directories is preserved. For example, a file added to the file set as <code>/blah/include/myproj/here.h</code> with a base directory <code>/blah/include</code> would be installed to <code>myproj/here.h</code> below the destination.</p> </dd> <dt>
<code>CXX_MODULES_BMI</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.28.</span></p> </div> <p>Any module files from C++ modules from <code>PUBLIC</code> sources in a file set of type <code>CXX_MODULES</code> will be installed to the given <code>DESTINATION</code>. All modules are placed directly in the destination as no directory structure is derived from the names of the modules. An empty <code>DESTINATION</code> may be used to suppress installing these files (for use in generic code).</p> </dd> </dl> <p>For regular executables, static libraries and shared libraries, the <code>DESTINATION</code> argument is not required. For these target types, when <code>DESTINATION</code> is omitted, a default destination will be taken from the appropriate variable from <a class="reference internal" href="../module/gnuinstalldirs.html#module:GNUInstallDirs" title="GNUInstallDirs" id="index-0-module:GNUInstallDirs"><code>GNUInstallDirs</code></a>, or set to a built-in default value if that variable is not defined. The same is true for file sets, and the public and private headers associated with the installed targets through the <a class="reference internal" href="../prop_tgt/public_header.html#prop_tgt:PUBLIC_HEADER" title="PUBLIC_HEADER" id="index-2-prop_tgt:PUBLIC_HEADER"><code>PUBLIC_HEADER</code></a> and <a class="reference internal" href="../prop_tgt/private_header.html#prop_tgt:PRIVATE_HEADER" title="PRIVATE_HEADER" id="index-1-prop_tgt:PRIVATE_HEADER"><code>PRIVATE_HEADER</code></a> target properties. A destination must always be provided for module libraries, Apple bundles and frameworks. A destination can be omitted for interface and object libraries, but they are handled differently (see the discussion of this topic toward the end of this section).</p> <p>For shared libraries on DLL platforms, if neither <code>RUNTIME</code> nor <code>ARCHIVE</code> destinations are specified, both the <code>RUNTIME</code> and <code>ARCHIVE</code> components are installed to their default destinations. If either a <code>RUNTIME</code> or <code>ARCHIVE</code> destination is specified, the component is installed to that destination, and the other component is not installed. If both <code>RUNTIME</code> and <code>ARCHIVE</code> destinations are specified, then both components are installed to their respective destinations.</p> <p>The following table shows the target types with their associated variables and built-in defaults that apply when no destination is given:</p> <table class="docutils align-default"> <thead> <tr>
<th class="head"><p>Target Type</p></th> <th class="head"><p>GNUInstallDirs Variable</p></th> <th class="head"><p>Built-In Default</p></th> </tr> </thead>  <tr>
<td><p><code>RUNTIME</code></p></td> <td><p><code>${CMAKE_INSTALL_BINDIR}</code></p></td> <td><p><code>bin</code></p></td> </tr> <tr>
<td><p><code>LIBRARY</code></p></td> <td><p><code>${CMAKE_INSTALL_LIBDIR}</code></p></td> <td><p><code>lib</code></p></td> </tr> <tr>
<td><p><code>ARCHIVE</code></p></td> <td><p><code>${CMAKE_INSTALL_LIBDIR}</code></p></td> <td><p><code>lib</code></p></td> </tr> <tr>
<td><p><code>PRIVATE_HEADER</code></p></td> <td><p><code>${CMAKE_INSTALL_INCLUDEDIR}</code></p></td> <td><p><code>include</code></p></td> </tr> <tr>
<td><p><code>PUBLIC_HEADER</code></p></td> <td><p><code>${CMAKE_INSTALL_INCLUDEDIR}</code></p></td> <td><p><code>include</code></p></td> </tr> <tr>
<td><p><code>FILE_SET</code> (type <code>HEADERS</code>)</p></td> <td><p><code>${CMAKE_INSTALL_INCLUDEDIR}</code></p></td> <td><p><code>include</code></p></td> </tr>  </table> <p>Projects wishing to follow the common practice of installing headers into a project-specific subdirectory may prefer using file sets with appropriate paths and base directories. Otherwise, they must provide a <code>DESTINATION</code> instead of being able to rely on the above (see next example below).</p> <p>To make packages compliant with distribution filesystem layout policies, if projects must specify a <code>DESTINATION</code>, it is strongly recommended that they use a path that begins with the appropriate relative <a class="reference internal" href="../module/gnuinstalldirs.html#module:GNUInstallDirs" title="GNUInstallDirs" id="index-1-module:GNUInstallDirs"><code>GNUInstallDirs</code></a> variable. This allows package maintainers to control the install destination by setting the appropriate cache variables. The following example shows a static library being installed to the default destination provided by <a class="reference internal" href="../module/gnuinstalldirs.html#module:GNUInstallDirs" title="GNUInstallDirs" id="index-2-module:GNUInstallDirs"><code>GNUInstallDirs</code></a>, but with its headers installed to a project-specific subdirectory without using file sets:</p> <pre data-language="cmake">add_library(mylib STATIC ...)
set_target_properties(mylib PROPERTIES PUBLIC_HEADER mylib.h)
include(GNUInstallDirs)
install(TARGETS mylib
        PUBLIC_HEADER
          DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/myproj
)
</pre> <p>In addition to the <a class="reference internal" href="#common-options">common options</a> listed above, each target can accept the following additional arguments:</p> <dl> <dt>
<code>NAMELINK_COMPONENT</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.12.</span></p> </div> <p>On some platforms a versioned shared library has a symbolic link such as:</p> <pre data-language="none">lib&lt;name&gt;.so -&gt; lib&lt;name&gt;.so.1
</pre> <p>where <code>lib&lt;name&gt;.so.1</code> is the soname of the library and <code>lib&lt;name&gt;.so</code> is a "namelink" allowing linkers to find the library when given <code>-l&lt;name&gt;</code>. The <code>NAMELINK_COMPONENT</code> option is similar to the <code>COMPONENT</code> option, but it changes the installation component of a shared library namelink if one is generated. If not specified, this defaults to the value of <code>COMPONENT</code>. It is an error to use this parameter outside of a <code>LIBRARY</code> block.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.27: </span>This parameter is also usable for an <code>ARCHIVE</code> block to manage the linker import file created, on macOS, for shared libraries with <a class="reference internal" href="../prop_tgt/enable_exports.html#prop_tgt:ENABLE_EXPORTS" title="ENABLE_EXPORTS" id="index-2-prop_tgt:ENABLE_EXPORTS"><code>ENABLE_EXPORTS</code></a> enabled.</p> </div> <p>See the <a class="reference internal" href="#example-install-targets-with-per-artifact-components">Example: Install Targets with Per-Artifact Components</a> for an example using <code>NAMELINK_COMPONENT</code>.</p> <p>This option is typically used for package managers that have separate runtime and development packages. For example, on Debian systems, the library is expected to be in the runtime package, and the headers and namelink are expected to be in the development package.</p> <p>See the <a class="reference internal" href="../prop_tgt/version.html#prop_tgt:VERSION" title="VERSION" id="index-0-prop_tgt:VERSION"><code>VERSION</code></a> and <a class="reference internal" href="../prop_tgt/soversion.html#prop_tgt:SOVERSION" title="SOVERSION" id="index-0-prop_tgt:SOVERSION"><code>SOVERSION</code></a> target properties for details on creating versioned shared libraries.</p> </dd> <dt>
<code>NAMELINK_ONLY</code> </dt>
<dd>
<p>This option causes the installation of only the namelink when a library target is installed. On platforms where versioned shared libraries do not have namelinks or when a library is not versioned, the <code>NAMELINK_ONLY</code> option installs nothing. It is an error to use this parameter outside of a <code>LIBRARY</code> block.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.27: </span>This parameter is also usable for an <code>ARCHIVE</code> block to manage the linker import file created, on macOS, for shared libraries with <a class="reference internal" href="../prop_tgt/enable_exports.html#prop_tgt:ENABLE_EXPORTS" title="ENABLE_EXPORTS" id="index-3-prop_tgt:ENABLE_EXPORTS"><code>ENABLE_EXPORTS</code></a> enabled.</p> </div> <p>When <code>NAMELINK_ONLY</code> is given, either <code>NAMELINK_COMPONENT</code> or <code>COMPONENT</code> may be used to specify the installation component of the namelink, but <code>COMPONENT</code> should generally be preferred.</p> </dd> <dt>
<code>NAMELINK_SKIP</code> </dt>
<dd>
<p>Similar to <code>NAMELINK_ONLY</code>, but it has the opposite effect: it causes the installation of library files other than the namelink when a library target is installed. When neither <code>NAMELINK_ONLY</code> or <code>NAMELINK_SKIP</code> are given, both portions are installed. On platforms where versioned shared libraries do not have symlinks or when a library is not versioned, <code>NAMELINK_SKIP</code> installs the library. It is an error to use this parameter outside of a <code>LIBRARY</code> block.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.27: </span>This parameter is also usable for an <code>ARCHIVE</code> block to manage the linker import file created, on macOS, for shared libraries with <a class="reference internal" href="../prop_tgt/enable_exports.html#prop_tgt:ENABLE_EXPORTS" title="ENABLE_EXPORTS" id="index-4-prop_tgt:ENABLE_EXPORTS"><code>ENABLE_EXPORTS</code></a> enabled.</p> </div> <p>If <code>NAMELINK_SKIP</code> is specified, <code>NAMELINK_COMPONENT</code> has no effect. It is not recommended to use <code>NAMELINK_SKIP</code> in conjunction with <code>NAMELINK_COMPONENT</code>.</p> </dd> </dl> <p>The <a class="reference internal" href="#targets" title="install(targets)" id="index-2-command:install"><code>install(TARGETS)</code></a> command can also accept the following options at the top level:</p> <dl> <dt>
<code>EXPORT</code> </dt>
<dd>
<p>This option associates the installed target files with an export called <code>&lt;export-name&gt;</code>. It must appear before any target options. To actually install the export file itself, call <a class="reference internal" href="#export" title="install(export)" id="index-3-command:install"><code>install(EXPORT)</code></a>, documented below. See documentation of the <a class="reference internal" href="../prop_tgt/export_name.html#prop_tgt:EXPORT_NAME" title="EXPORT_NAME" id="index-0-prop_tgt:EXPORT_NAME"><code>EXPORT_NAME</code></a> target property to change the name of the exported target.</p> <p>If <code>EXPORT</code> is used and the targets include <code>PUBLIC</code> or <code>INTERFACE</code> file sets, all of them must be specified with <code>FILE_SET</code> arguments. All <code>PUBLIC</code> or <code>INTERFACE</code> file sets associated with a target are included in the export.</p> </dd> <dt>
<code>INCLUDES DESTINATION</code> </dt>
<dd>
<p>This option specifies a list of directories which will be added to the <a class="reference internal" href="../prop_tgt/interface_include_directories.html#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="INTERFACE_INCLUDE_DIRECTORIES" id="index-0-prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a> target property of the <code>&lt;targets&gt;</code> when exported by the <a class="reference internal" href="#export" title="install(export)" id="index-4-command:install"><code>install(EXPORT)</code></a> command. If a relative path is specified, it is treated as relative to the <a class="reference internal" href="../manual/cmake-generator-expressions.7.html#genex:INSTALL_PREFIX" title="INSTALL_PREFIX" id="index-0-genex:INSTALL_PREFIX"><code>$&lt;INSTALL_PREFIX&gt;</code></a>.</p> <p>Unlike other <code>DESTINATION</code> arguments for the various <code>install()</code> subcommands, paths given after <code>INCLUDES DESTINATION</code> are used as given. They are not normalized, nor assumed to be normalized, although it is recommended that they are given in normalized form (see <a class="reference internal" href="cmake_path.html#normalization"><span class="std std-ref">Normalization</span></a>).</p> </dd> <dt>
<code>RUNTIME_DEPENDENCY_SET &lt;set-name&gt;</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.21.</span></p> </div> <p>This option causes all runtime dependencies of installed executable, shared library, and module targets to be added to the specified runtime dependency set. This set can then be installed with an <a class="reference internal" href="#runtime-dependency-set" title="install(runtime_dependency_set)" id="index-5-command:install"><code>install(RUNTIME_DEPENDENCY_SET)</code></a> command.</p> <p>This keyword and the <code>RUNTIME_DEPENDENCIES</code> keyword are mutually exclusive.</p> </dd> <dt>
<code>RUNTIME_DEPENDENCIES &lt;arg&gt;...</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.21.</span></p> </div> <p>This option causes all runtime dependencies of installed executable, shared library, and module targets to be installed along with the targets themselves. The <code>RUNTIME</code>, <code>LIBRARY</code>, <code>FRAMEWORK</code>, and generic arguments are used to determine the properties (<code>DESTINATION</code>, <code>COMPONENT</code>, etc.) of the installation of these dependencies.</p> <p><code>RUNTIME_DEPENDENCIES</code> is semantically equivalent to the following pair of calls:</p> <pre data-language="cmake">install(TARGETS ... RUNTIME_DEPENDENCY_SET &lt;set-name&gt;)
install(RUNTIME_DEPENDENCY_SET &lt;set-name&gt; &lt;arg&gt;...)
</pre> <p>where <code>&lt;set-name&gt;</code> will be a randomly generated set name. <code>&lt;arg&gt;...</code> may include any of the following keywords supported by the <a class="reference internal" href="#runtime-dependency-set" title="install(runtime_dependency_set)" id="index-6-command:install"><code>install(RUNTIME_DEPENDENCY_SET)</code></a> command:</p> <ul class="simple"> <li><code>DIRECTORIES</code></li> <li><code>PRE_INCLUDE_REGEXES</code></li> <li><code>PRE_EXCLUDE_REGEXES</code></li> <li><code>POST_INCLUDE_REGEXES</code></li> <li><code>POST_EXCLUDE_REGEXES</code></li> <li><code>POST_INCLUDE_FILES</code></li> <li><code>POST_EXCLUDE_FILES</code></li> </ul> <p>The <code>RUNTIME_DEPENDENCIES</code> and <code>RUNTIME_DEPENDENCY_SET</code> keywords are mutually exclusive.</p> </dd> </dl> <p><a class="reference internal" href="../manual/cmake-buildsystem.7.html#interface-libraries"><span class="std std-ref">Interface Libraries</span></a> may be listed among the targets to install. They install no artifacts but will be included in an associated <code>EXPORT</code>. If <a class="reference internal" href="../manual/cmake-buildsystem.7.html#object-libraries"><span class="std std-ref">Object Libraries</span></a> are listed but given no destination for their object files, they will be exported as <a class="reference internal" href="../manual/cmake-buildsystem.7.html#interface-libraries"><span class="std std-ref">Interface Libraries</span></a>. This is sufficient to satisfy transitive usage requirements of other targets that link to the object libraries in their implementation.</p> <p>Installing a target with the <a class="reference internal" href="../prop_tgt/exclude_from_all.html#prop_tgt:EXCLUDE_FROM_ALL" title="EXCLUDE_FROM_ALL" id="index-0-prop_tgt:EXCLUDE_FROM_ALL"><code>EXCLUDE_FROM_ALL</code></a> target property set to <code>TRUE</code> has undefined behavior.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3: </span>An install destination given as a <code>DESTINATION</code> argument may use "generator expressions" with the syntax <code>$&lt;...&gt;</code>. See the <a class="reference internal" href="../manual/cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-0-manual:cmake-generator-expressions(7)"><code>cmake-generator-expressions(7)</code></a> manual for available expressions.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.13: </span><a class="reference internal" href="#targets" title="install(targets)" id="index-7-command:install"><code>install(TARGETS)</code></a> can install targets that were created in other directories. When using such cross-directory install rules, running <code>make install</code> (or similar) from a subdirectory will not guarantee that targets from other directories are up-to-date. You can use <a class="reference internal" href="target_link_libraries.html#command:target_link_libraries" title="target_link_libraries" id="index-0-command:target_link_libraries"><code>target_link_libraries()</code></a> or <a class="reference internal" href="add_dependencies.html#command:add_dependencies" title="add_dependencies" id="index-0-command:add_dependencies"><code>add_dependencies()</code></a> to ensure that such out-of-directory targets are built before the subdirectory-specific install rules are run.</p> </div> </dd>
</dl> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="imported-runtime-artifacts">
<code>install(IMPORTED_RUNTIME_ARTIFACTS &lt;target&gt;... [...])</code> </dt> <dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.21.</span></p> </div> <p>Install runtime artifacts of imported targets:</p> <pre data-language="cmake">install(IMPORTED_RUNTIME_ARTIFACTS &lt;target&gt;...
        [RUNTIME_DEPENDENCY_SET &lt;set-name&gt;]
        [[LIBRARY|RUNTIME|FRAMEWORK|BUNDLE]
         [DESTINATION &lt;dir&gt;]
         [PERMISSIONS &lt;permission&gt;...]
         [CONFIGURATIONS &lt;config&gt;...]
         [COMPONENT &lt;component&gt;]
         [OPTIONAL] [EXCLUDE_FROM_ALL]
        ] [...]
        )
</pre> <p>The <code>IMPORTED_RUNTIME_ARTIFACTS</code> form specifies rules for installing the runtime artifacts of imported targets. Projects may do this if they want to bundle outside executables or modules inside their installation. The <code>LIBRARY</code>, <code>RUNTIME</code>, <code>FRAMEWORK</code>, and <code>BUNDLE</code> arguments have the same semantics that they do in the <a class="reference internal" href="#targets">TARGETS</a> mode. Only the runtime artifacts of imported targets are installed (except in the case of <a class="reference internal" href="../prop_tgt/framework.html#prop_tgt:FRAMEWORK" title="FRAMEWORK" id="index-1-prop_tgt:FRAMEWORK"><code>FRAMEWORK</code></a> libraries, <a class="reference internal" href="../prop_tgt/macosx_bundle.html#prop_tgt:MACOSX_BUNDLE" title="MACOSX_BUNDLE" id="index-1-prop_tgt:MACOSX_BUNDLE"><code>MACOSX_BUNDLE</code></a> executables, and <a class="reference internal" href="../prop_tgt/bundle.html#prop_tgt:BUNDLE" title="BUNDLE" id="index-0-prop_tgt:BUNDLE"><code>BUNDLE</code></a> CFBundles.) For example, headers and import libraries associated with DLLs are not installed. In the case of <a class="reference internal" href="../prop_tgt/framework.html#prop_tgt:FRAMEWORK" title="FRAMEWORK" id="index-2-prop_tgt:FRAMEWORK"><code>FRAMEWORK</code></a> libraries, <a class="reference internal" href="../prop_tgt/macosx_bundle.html#prop_tgt:MACOSX_BUNDLE" title="MACOSX_BUNDLE" id="index-2-prop_tgt:MACOSX_BUNDLE"><code>MACOSX_BUNDLE</code></a> executables, and <a class="reference internal" href="../prop_tgt/bundle.html#prop_tgt:BUNDLE" title="BUNDLE" id="index-1-prop_tgt:BUNDLE"><code>BUNDLE</code></a> CFBundles, the entire directory is installed.</p> <p>The <code>RUNTIME_DEPENDENCY_SET</code> option causes the runtime artifacts of the imported executable, shared library, and module library <code>targets</code> to be added to the <code>&lt;set-name&gt;</code> runtime dependency set. This set can then be installed with an <a class="reference internal" href="#runtime-dependency-set" title="install(runtime_dependency_set)" id="index-8-command:install"><code>install(RUNTIME_DEPENDENCY_SET)</code></a> command.</p> </dd>
</dl> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="files">
<code>install(FILES &lt;file&gt;... [...])</code> </dt> <dt class="sig sig-object cmake" id="programs">
<code>install(PROGRAMS &lt;program&gt;... [...])</code> </dt> <dd>
<div class="admonition note"> <p class="admonition-title">Note</p> <p>If installing header files, consider using file sets defined by <a class="reference internal" href="target_sources.html#command:target_sources" title="target_sources(file_set)" id="index-1-command:target_sources"><code>target_sources(FILE_SET)</code></a> instead. File sets associate headers with a target and they install as part of the target.</p> </div> <p>Install files or programs:</p> <pre data-language="cmake">install(&lt;FILES|PROGRAMS&gt; &lt;file&gt;...
        TYPE &lt;type&gt; | DESTINATION &lt;dir&gt;
        [PERMISSIONS &lt;permission&gt;...]
        [CONFIGURATIONS &lt;config&gt;...]
        [COMPONENT &lt;component&gt;]
        [RENAME &lt;name&gt;] [OPTIONAL] [EXCLUDE_FROM_ALL])
</pre> <p>The <code>FILES</code> form specifies rules for installing files for a project. File names given as relative paths are interpreted with respect to the current source directory. Files installed by this form are by default given permissions <code>OWNER_WRITE</code>, <code>OWNER_READ</code>, <code>GROUP_READ</code>, and <code>WORLD_READ</code> if no <code>PERMISSIONS</code> argument is given.</p> <p>The <code>PROGRAMS</code> form is identical to the <code>FILES</code> form except that the default permissions for the installed file also include <code>OWNER_EXECUTE</code>, <code>GROUP_EXECUTE</code>, and <code>WORLD_EXECUTE</code>. This form is intended to install programs that are not targets, such as shell scripts. Use the <code>TARGETS</code> form to install targets built within the project.</p> <p>The list of <code>files...</code> given to <code>FILES</code> or <code>PROGRAMS</code> may use "generator expressions" with the syntax <code>$&lt;...&gt;</code>. See the <a class="reference internal" href="../manual/cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-1-manual:cmake-generator-expressions(7)"><code>cmake-generator-expressions(7)</code></a> manual for available expressions. However, if any item begins in a generator expression it must evaluate to a full path.</p> <p>The optional <code>RENAME &lt;name&gt;</code> argument is used to specify a name for the installed file that is different from the original file name. Renaming is allowed only when a single file is installed by the command.</p> <p>Either a <code>TYPE</code> or a <code>DESTINATION</code> must be provided, but not both. A <code>TYPE</code> argument specifies the generic file type of the files being installed. A destination will then be set automatically by taking the corresponding variable from <a class="reference internal" href="../module/gnuinstalldirs.html#module:GNUInstallDirs" title="GNUInstallDirs" id="index-3-module:GNUInstallDirs"><code>GNUInstallDirs</code></a>, or by using a built-in default if that variable is not defined. See the table below for the supported file types and their corresponding variables and built-in defaults. Projects can provide a <code>DESTINATION</code> argument instead of a file type if they wish to explicitly define the install destination.</p> <table class="docutils align-default"> <thead> <tr>
<th class="head"><p><code>TYPE</code> Argument</p></th> <th class="head"><p>GNUInstallDirs Variable</p></th> <th class="head"><p>Built-In Default</p></th> </tr> </thead>  <tr>
<td><p><code>BIN</code></p></td> <td><p><code>${CMAKE_INSTALL_BINDIR}</code></p></td> <td><p><code>bin</code></p></td> </tr> <tr>
<td><p><code>SBIN</code></p></td> <td><p><code>${CMAKE_INSTALL_SBINDIR}</code></p></td> <td><p><code>sbin</code></p></td> </tr> <tr>
<td><p><code>LIB</code></p></td> <td><p><code>${CMAKE_INSTALL_LIBDIR}</code></p></td> <td><p><code>lib</code></p></td> </tr> <tr>
<td><p><code>INCLUDE</code></p></td> <td><p><code>${CMAKE_INSTALL_INCLUDEDIR}</code></p></td> <td><p><code>include</code></p></td> </tr> <tr>
<td><p><code>SYSCONF</code></p></td> <td><p><code>${CMAKE_INSTALL_SYSCONFDIR}</code></p></td> <td><p><code>etc</code></p></td> </tr> <tr>
<td><p><code>SHAREDSTATE</code></p></td> <td><p><code>${CMAKE_INSTALL_SHARESTATEDIR}</code></p></td> <td><p><code>com</code></p></td> </tr> <tr>
<td><p><code>LOCALSTATE</code></p></td> <td><p><code>${CMAKE_INSTALL_LOCALSTATEDIR}</code></p></td> <td><p><code>var</code></p></td> </tr> <tr>
<td><p><code>RUNSTATE</code></p></td> <td><p><code>${CMAKE_INSTALL_RUNSTATEDIR}</code></p></td> <td><p><code>&lt;LOCALSTATE dir&gt;/run</code></p></td> </tr> <tr>
<td><p><code>DATA</code></p></td> <td><p><code>${CMAKE_INSTALL_DATADIR}</code></p></td> <td><p><code>&lt;DATAROOT dir&gt;</code></p></td> </tr> <tr>
<td><p><code>INFO</code></p></td> <td><p><code>${CMAKE_INSTALL_INFODIR}</code></p></td> <td><p><code>&lt;DATAROOT dir&gt;/info</code></p></td> </tr> <tr>
<td><p><code>LOCALE</code></p></td> <td><p><code>${CMAKE_INSTALL_LOCALEDIR}</code></p></td> <td><p><code>&lt;DATAROOT dir&gt;/locale</code></p></td> </tr> <tr>
<td><p><code>MAN</code></p></td> <td><p><code>${CMAKE_INSTALL_MANDIR}</code></p></td> <td><p><code>&lt;DATAROOT dir&gt;/man</code></p></td> </tr> <tr>
<td><p><code>DOC</code></p></td> <td><p><code>${CMAKE_INSTALL_DOCDIR}</code></p></td> <td><p><code>&lt;DATAROOT dir&gt;/doc</code></p></td> </tr> <tr>
<td><p><code>LIBEXEC</code></p></td> <td><p><code>${CMAKE_INSTALL_LIBEXECDIR}</code></p></td> <td><p><code>libexec</code></p></td> </tr>  </table> <p>Projects wishing to follow the common practice of installing headers into a project-specific subdirectory will need to provide a destination rather than rely on the above. Using file sets for headers instead of <code>install(FILES)</code> would be even better (see <a class="reference internal" href="target_sources.html#command:target_sources" title="target_sources(file_set)" id="index-2-command:target_sources"><code>target_sources(FILE_SET)</code></a>).</p> <p>Note that some of the types' built-in defaults use the <code>DATAROOT</code> directory as a prefix. The <code>DATAROOT</code> prefix is calculated similarly to the types, with <code>CMAKE_INSTALL_DATAROOTDIR</code> as the variable and <code>share</code> as the built-in default. You cannot use <code>DATAROOT</code> as a <code>TYPE</code> parameter; please use <code>DATA</code> instead.</p> <p>To make packages compliant with distribution filesystem layout policies, if projects must specify a <code>DESTINATION</code>, it is strongly recommended that they use a path that begins with the appropriate relative <a class="reference internal" href="../module/gnuinstalldirs.html#module:GNUInstallDirs" title="GNUInstallDirs" id="index-4-module:GNUInstallDirs"><code>GNUInstallDirs</code></a> variable. This allows package maintainers to control the install destination by setting the appropriate cache variables. The following example shows how to follow this advice while installing an image to a project-specific documentation subdirectory:</p> <pre data-language="cmake">include(GNUInstallDirs)
install(FILES logo.png
        DESTINATION ${CMAKE_INSTALL_DOCDIR}/myproj
)
</pre> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.4: </span>An install destination given as a <code>DESTINATION</code> argument may use "generator expressions" with the syntax <code>$&lt;...&gt;</code>. See the <a class="reference internal" href="../manual/cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-2-manual:cmake-generator-expressions(7)"><code>cmake-generator-expressions(7)</code></a> manual for available expressions.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.20: </span>An install rename given as a <code>RENAME</code> argument may use "generator expressions" with the syntax <code>$&lt;...&gt;</code>. See the <a class="reference internal" href="../manual/cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-3-manual:cmake-generator-expressions(7)"><code>cmake-generator-expressions(7)</code></a> manual for available expressions.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.31: </span>The <code>TYPE</code> argument now supports type <code>LIBEXEC</code>.</p> </div> </dd>
</dl> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="directory">
<code>install(DIRECTORY &lt;dir&gt;... [...])</code> </dt> <dd>
<div class="admonition note"> <p class="admonition-title">Note</p> <p>To install a directory sub-tree of headers, consider using file sets defined by <a class="reference internal" href="target_sources.html#command:target_sources" title="target_sources(file_set)" id="index-3-command:target_sources"><code>target_sources(FILE_SET)</code></a> instead. File sets not only preserve directory structure, they also associate headers with a target and install as part of the target.</p> </div> <p>Install the contents of one or more directories:</p> <pre data-language="cmake">install(DIRECTORY dirs...
        TYPE &lt;type&gt; | DESTINATION &lt;dir&gt;
        [FILE_PERMISSIONS &lt;permission&gt;...]
        [DIRECTORY_PERMISSIONS &lt;permission&gt;...]
        [USE_SOURCE_PERMISSIONS] [OPTIONAL] [MESSAGE_NEVER]
        [CONFIGURATIONS &lt;config&gt;...]
        [COMPONENT &lt;component&gt;] [EXCLUDE_FROM_ALL]
        [FILES_MATCHING]
        [[PATTERN &lt;pattern&gt; | REGEX &lt;regex&gt;]
         [EXCLUDE] [PERMISSIONS &lt;permission&gt;...]] [...])
</pre> <p>The <code>DIRECTORY</code> form installs contents of one or more directories to a given destination. The directory structure is copied verbatim to the destination. The last component of each directory name is appended to the destination directory but a trailing slash may be used to avoid this because it leaves the last component empty. Directory names given as relative paths are interpreted with respect to the current source directory. If no input directory names are given the destination directory will be created but nothing will be installed into it. The <code>FILE_PERMISSIONS</code> and <code>DIRECTORY_PERMISSIONS</code> options specify permissions given to files and directories in the destination. If <code>USE_SOURCE_PERMISSIONS</code> is specified and <code>FILE_PERMISSIONS</code> is not, file permissions will be copied from the source directory structure. If no permissions are specified files will be given the default permissions specified in the <code>FILES</code> form of the command, and the directories will be given the default permissions specified in the <code>PROGRAMS</code> form of the command.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.1: </span>The <code>MESSAGE_NEVER</code> option disables file installation status output.</p> </div> <p>Installation of directories may be controlled with fine granularity using the <code>PATTERN</code> or <code>REGEX</code> options. These "match" options specify a globbing pattern or regular expression to match directories or files encountered within input directories. They may be used to apply certain options (see below) to a subset of the files and directories encountered. The full path to each input file or directory (with forward slashes) is matched against the expression. A <code>PATTERN</code> will match only complete file names: the portion of the full path matching the pattern must occur at the end of the file name and be preceded by a slash. A <code>REGEX</code> will match any portion of the full path but it may use <code>/</code> and <code>$</code> to simulate the <code>PATTERN</code> behavior. By default all files and directories are installed whether or not they are matched. The <code>FILES_MATCHING</code> option may be given before the first match option to disable installation of files (but not directories) not matched by any expression. For example, the code</p> <pre data-language="cmake">install(DIRECTORY src/ DESTINATION doc/myproj
        FILES_MATCHING PATTERN "*.png")
</pre> <p>will extract and install images from a source tree.</p> <p>Some options may follow a <code>PATTERN</code> or <code>REGEX</code> expression as described under <a class="reference internal" href="string.html#regex-specification"><span class="std std-ref">string(REGEX)</span></a> and are applied only to files or directories matching them. The <code>EXCLUDE</code> option will skip the matched file or directory. The <code>PERMISSIONS</code> option overrides the permissions setting for the matched file or directory. For example the code</p> <pre data-language="cmake">install(DIRECTORY icons scripts/ DESTINATION share/myproj
        PATTERN "CVS" EXCLUDE
        PATTERN "scripts/*"
        PERMISSIONS OWNER_EXECUTE OWNER_WRITE OWNER_READ
                    GROUP_EXECUTE GROUP_READ)
</pre> <p>will install the <code>icons</code> directory to <code>share/myproj/icons</code> and the <code>scripts</code> directory to <code>share/myproj</code>. The icons will get default file permissions, the scripts will be given specific permissions, and any <code>CVS</code> directories will be excluded.</p> <p>Either a <code>TYPE</code> or a <code>DESTINATION</code> must be provided, but not both. A <code>TYPE</code> argument specifies the generic file type of the files within the listed directories being installed. A destination will then be set automatically by taking the corresponding variable from <a class="reference internal" href="../module/gnuinstalldirs.html#module:GNUInstallDirs" title="GNUInstallDirs" id="index-5-module:GNUInstallDirs"><code>GNUInstallDirs</code></a>, or by using a built-in default if that variable is not defined. See the table below for the supported file types and their corresponding variables and built-in defaults. Projects can provide a <code>DESTINATION</code> argument instead of a file type if they wish to explicitly define the install destination.</p> <table class="docutils align-default"> <thead> <tr>
<th class="head"><p><code>TYPE</code> Argument</p></th> <th class="head"><p>GNUInstallDirs Variable</p></th> <th class="head"><p>Built-In Default</p></th> </tr> </thead>  <tr>
<td><p><code>BIN</code></p></td> <td><p><code>${CMAKE_INSTALL_BINDIR}</code></p></td> <td><p><code>bin</code></p></td> </tr> <tr>
<td><p><code>SBIN</code></p></td> <td><p><code>${CMAKE_INSTALL_SBINDIR}</code></p></td> <td><p><code>sbin</code></p></td> </tr> <tr>
<td><p><code>LIB</code></p></td> <td><p><code>${CMAKE_INSTALL_LIBDIR}</code></p></td> <td><p><code>lib</code></p></td> </tr> <tr>
<td><p><code>INCLUDE</code></p></td> <td><p><code>${CMAKE_INSTALL_INCLUDEDIR}</code></p></td> <td><p><code>include</code></p></td> </tr> <tr>
<td><p><code>SYSCONF</code></p></td> <td><p><code>${CMAKE_INSTALL_SYSCONFDIR}</code></p></td> <td><p><code>etc</code></p></td> </tr> <tr>
<td><p><code>SHAREDSTATE</code></p></td> <td><p><code>${CMAKE_INSTALL_SHARESTATEDIR}</code></p></td> <td><p><code>com</code></p></td> </tr> <tr>
<td><p><code>LOCALSTATE</code></p></td> <td><p><code>${CMAKE_INSTALL_LOCALSTATEDIR}</code></p></td> <td><p><code>var</code></p></td> </tr> <tr>
<td><p><code>RUNSTATE</code></p></td> <td><p><code>${CMAKE_INSTALL_RUNSTATEDIR}</code></p></td> <td><p><code>&lt;LOCALSTATE dir&gt;/run</code></p></td> </tr> <tr>
<td><p><code>DATA</code></p></td> <td><p><code>${CMAKE_INSTALL_DATADIR}</code></p></td> <td><p><code>&lt;DATAROOT dir&gt;</code></p></td> </tr> <tr>
<td><p><code>INFO</code></p></td> <td><p><code>${CMAKE_INSTALL_INFODIR}</code></p></td> <td><p><code>&lt;DATAROOT dir&gt;/info</code></p></td> </tr> <tr>
<td><p><code>LOCALE</code></p></td> <td><p><code>${CMAKE_INSTALL_LOCALEDIR}</code></p></td> <td><p><code>&lt;DATAROOT dir&gt;/locale</code></p></td> </tr> <tr>
<td><p><code>MAN</code></p></td> <td><p><code>${CMAKE_INSTALL_MANDIR}</code></p></td> <td><p><code>&lt;DATAROOT dir&gt;/man</code></p></td> </tr> <tr>
<td><p><code>DOC</code></p></td> <td><p><code>${CMAKE_INSTALL_DOCDIR}</code></p></td> <td><p><code>&lt;DATAROOT dir&gt;/doc</code></p></td> </tr> <tr>
<td><p><code>LIBEXEC</code></p></td> <td><p><code>${CMAKE_INSTALL_LIBEXECDIR}</code></p></td> <td><p><code>libexec</code></p></td> </tr>  </table> <p>Note that some of the types' built-in defaults use the <code>DATAROOT</code> directory as a prefix. The <code>DATAROOT</code> prefix is calculated similarly to the types, with <code>CMAKE_INSTALL_DATAROOTDIR</code> as the variable and <code>share</code> as the built-in default. You cannot use <code>DATAROOT</code> as a <code>TYPE</code> parameter; please use <code>DATA</code> instead.</p> <p>To make packages compliant with distribution filesystem layout policies, if projects must specify a <code>DESTINATION</code>, it is strongly recommended that they use a path that begins with the appropriate relative <a class="reference internal" href="../module/gnuinstalldirs.html#module:GNUInstallDirs" title="GNUInstallDirs" id="index-6-module:GNUInstallDirs"><code>GNUInstallDirs</code></a> variable. This allows package maintainers to control the install destination by setting the appropriate cache variables.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.4: </span>An install destination given as a <code>DESTINATION</code> argument may use "generator expressions" with the syntax <code>$&lt;...&gt;</code>. See the <a class="reference internal" href="../manual/cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-4-manual:cmake-generator-expressions(7)"><code>cmake-generator-expressions(7)</code></a> manual for available expressions.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.5: </span>The list of <code>dirs...</code> given to <code>DIRECTORY</code> may use "generator expressions" too.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.31: </span>The <code>TYPE</code> argument now supports type <code>LIBEXEC</code>.</p> </div> </dd>
</dl> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="script">
<code>install(SCRIPT &lt;file&gt; [...])</code> </dt> <dt class="sig sig-object cmake" id="code">
<code>install(CODE &lt;code&gt; [...])</code> </dt> <dd>
<p>Invoke CMake scripts or code during installation:</p> <pre data-language="cmake">install([[SCRIPT &lt;file&gt;] [CODE &lt;code&gt;]]
        [ALL_COMPONENTS | COMPONENT &lt;component&gt;]
        [EXCLUDE_FROM_ALL] [...])
</pre> <p>The <code>SCRIPT</code> form will invoke the given CMake script files during installation. If the script file name is a relative path it will be interpreted with respect to the current source directory. The <code>CODE</code> form will invoke the given CMake code during installation. Code is specified as a single argument inside a double-quoted string. For example, the code</p> <pre data-language="cmake">install(CODE "MESSAGE(\"Sample install message.\")")
</pre> <p>will print a message during installation.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.21: </span>When the <code>ALL_COMPONENTS</code> option is given, the custom installation script code will be executed for every component of a component-specific installation. This option is mutually exclusive with the <code>COMPONENT</code> option.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.14: </span><code>&lt;file&gt;</code> or <code>&lt;code&gt;</code> may use "generator expressions" with the syntax <code>$&lt;...&gt;</code> (in the case of <code>&lt;file&gt;</code>, this refers to their use in the file name, not the file's contents). See the <a class="reference internal" href="../manual/cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-5-manual:cmake-generator-expressions(7)"><code>cmake-generator-expressions(7)</code></a> manual for available expressions.</p> </div> </dd>
</dl> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="export">
<code>install(EXPORT &lt;export-name&gt; [...])</code> </dt> <dd>
<p>Install a CMake file exporting targets for dependent projects:</p> <pre data-language="cmake">install(EXPORT &lt;export-name&gt; DESTINATION &lt;dir&gt;
        [NAMESPACE &lt;namespace&gt;] [FILE &lt;name&gt;.cmake]
        [PERMISSIONS &lt;permission&gt;...]
        [CONFIGURATIONS &lt;config&gt;...]
        [CXX_MODULES_DIRECTORY &lt;directory&gt;]
        [EXPORT_LINK_INTERFACE_LIBRARIES]
        [COMPONENT &lt;component&gt;]
        [EXCLUDE_FROM_ALL]
        [EXPORT_PACKAGE_DEPENDENCIES])
install(EXPORT_ANDROID_MK &lt;export-name&gt; DESTINATION &lt;dir&gt; [...])
</pre> <p>The <code>EXPORT</code> form generates and installs a CMake file containing code to import targets from the installation tree into another project. Target installations are associated with the export <code>&lt;export-name&gt;</code> using the <code>EXPORT</code> option of the <a class="reference internal" href="#targets" title="install(targets)" id="index-9-command:install"><code>install(TARGETS)</code></a> signature documented above. The <code>NAMESPACE</code> option will prepend <code>&lt;namespace&gt;</code> to the target names as they are written to the import file. By default the generated file will be called <code>&lt;export-name&gt;.cmake</code> but the <code>FILE</code> option may be used to specify a different name. The value given to the <code>FILE</code> option must be a file name with the <code>.cmake</code> extension.</p> <p>If a <code>CONFIGURATIONS</code> option is given then the file will only be installed when one of the named configurations is installed. Additionally, the generated import file will reference only the matching target configurations. See the <a class="reference internal" href="#" title="CMAKE_MAP_IMPORTED_CONFIG_&lt;CONFIG&gt;" id="index-0-variable:CMAKE_MAP_IMPORTED_CONFIG_&lt;CONFIG&gt;"><code>CMAKE_MAP_IMPORTED_CONFIG_&lt;CONFIG&gt;</code></a> variable to map configurations of dependent projects to the installed configurations. The <code>EXPORT_LINK_INTERFACE_LIBRARIES</code> keyword, if present, causes the contents of the properties matching <code>(IMPORTED_)?LINK_INTERFACE_LIBRARIES(_&lt;CONFIG&gt;)?</code> to be exported, when policy <a class="reference internal" href="../policy/cmp0022.html#policy:CMP0022" title="CMP0022" id="index-0-policy:CMP0022"><code>CMP0022</code></a> is <code>NEW</code>.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The installed <code>&lt;export-name&gt;.cmake</code> file may come with additional per-configuration <code>&lt;export-name&gt;-*.cmake</code> files to be loaded by globbing. Do not use an export name that is the same as the package name in combination with installing a <code>&lt;package-name&gt;-config.cmake</code> file or the latter may be incorrectly matched by the glob and loaded.</p> </div> <p>When a <code>COMPONENT</code> option is given, the listed <code>&lt;component&gt;</code> implicitly depends on all components mentioned in the export set. The exported <code>&lt;name&gt;.cmake</code> file will require each of the exported components to be present in order for dependent projects to build properly. For example, a project may define components <code>Runtime</code> and <code>Development</code>, with shared libraries going into the <code>Runtime</code> component and static libraries and headers going into the <code>Development</code> component. The export set would also typically be part of the <code>Development</code> component, but it would export targets from both the <code>Runtime</code> and <code>Development</code> components. Therefore, the <code>Runtime</code> component would need to be installed if the <code>Development</code> component was installed, but not vice versa. If the <code>Development</code> component was installed without the <code>Runtime</code> component, dependent projects that try to link against it would have build errors. Package managers, such as APT and RPM, typically handle this by listing the <code>Runtime</code> component as a dependency of the <code>Development</code> component in the package metadata, ensuring that the library is always installed if the headers and CMake export file are present.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.7: </span>In addition to cmake language files, the <code>EXPORT_ANDROID_MK</code> mode may be used to specify an export to the android ndk build system. This mode accepts the same options as the normal export mode. The Android NDK supports the use of prebuilt libraries, both static and shared. This allows cmake to build the libraries of a project and make them available to an ndk build system complete with transitive dependencies, include flags and defines required to use the libraries.</p> </div> <dl> <dt>
<code>CXX_MODULES_DIRECTORY</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.28.</span></p> </div> <p>Specify a subdirectory to store C++ module information for targets in the export set. This directory will be populated with files which add the necessary target property information to the relevant targets. Note that without this information, none of the C++ modules which are part of the targets in the export set will support being imported in consuming targets.</p> </dd> <dt>
<code>EXPORT_PACKAGE_DEPENDENCIES</code> </dt>
<dd>
<div class="admonition note"> <p class="admonition-title">Note</p> <p>Experimental. Gated by <code>CMAKE_EXPERIMENTAL_EXPORT_PACKAGE_DEPENDENCIES</code>.</p> </div> <p>Specify that <a class="reference internal" href="../module/cmakefinddependencymacro.html#command:find_dependency" title="find_dependency" id="index-0-command:find_dependency"><code>find_dependency()</code></a> calls should be exported. If this argument is specified, CMake examines all targets in the export set and gathers their <code>INTERFACE</code> link targets. If any such targets either were found with <a class="reference internal" href="find_package.html#command:find_package" title="find_package" id="index-0-command:find_package"><code>find_package()</code></a> or have the <a class="reference internal" href="../prop_tgt/export_find_package_name.html#prop_tgt:EXPORT_FIND_PACKAGE_NAME" title="EXPORT_FIND_PACKAGE_NAME" id="index-0-prop_tgt:EXPORT_FIND_PACKAGE_NAME"><code>EXPORT_FIND_PACKAGE_NAME</code></a> property set, and such package dependency was not disabled by passing <code>ENABLED OFF</code> to <a class="reference internal" href="export.html#setup" title="export(setup)" id="index-0-command:export"><code>export(SETUP)</code></a>, then a <a class="reference internal" href="../module/cmakefinddependencymacro.html#command:find_dependency" title="find_dependency" id="index-1-command:find_dependency"><code>find_dependency()</code></a> call is written with the target's corresponding package name, a <code>REQUIRED</code> argument, and any additional arguments specified by the <code>EXTRA_ARGS</code> argument of <a class="reference internal" href="export.html#setup" title="export(setup)" id="index-1-command:export"><code>export(SETUP)</code></a>. Any package dependencies that were manually specified by passing <code>ENABLED ON</code> to <a class="reference internal" href="export.html#setup" title="export(setup)" id="index-2-command:export"><code>export(SETUP)</code></a> are also added, even if the exported targets don't depend on any targets from them.</p> <p>The <a class="reference internal" href="../module/cmakefinddependencymacro.html#command:find_dependency" title="find_dependency" id="index-2-command:find_dependency"><code>find_dependency()</code></a> calls are written in the following order:</p> <ol class="arabic simple"> <li>Any package dependencies that were listed in <a class="reference internal" href="export.html#setup" title="export(setup)" id="index-3-command:export"><code>export(SETUP)</code></a> are written in the order they were first specified, regardless of whether or not they contain <code>INTERFACE</code> dependencies of the exported targets.</li> <li>Any package dependencies that contain <code>INTERFACE</code> link dependencies of the exported targets and that were never specified in <a class="reference internal" href="export.html#setup" title="export(setup)" id="index-4-command:export"><code>export(SETUP)</code></a> are written in the order they were first found.</li> </ol> </dd> </dl> <p>The <code>EXPORT</code> form is useful to help outside projects use targets built and installed by the current project. For example, the code</p> <pre data-language="cmake">install(TARGETS myexe EXPORT myproj DESTINATION bin)
install(EXPORT myproj NAMESPACE mp_ DESTINATION lib/myproj)
install(EXPORT_ANDROID_MK myproj DESTINATION share/ndk-modules)
</pre> <p>will install the executable <code>myexe</code> to <code>&lt;prefix&gt;/bin</code> and code to import it in the file <code>&lt;prefix&gt;/lib/myproj/myproj.cmake</code> and <code>&lt;prefix&gt;/share/ndk-modules/Android.mk</code>. An outside project may load this file with the include command and reference the <code>myexe</code> executable from the installation tree using the imported target name <code>mp_myexe</code> as if the target were built in its own tree.</p> </dd>
</dl> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="package-info">
<code>install(PACKAGE_INFO &lt;package-name&gt; [...])</code> </dt> <dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.31.</span></p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Experimental. Gated by <code>CMAKE_EXPERIMENTAL_EXPORT_PACKAGE_INFO</code>.</p> </div> <p>Installs a <a class="reference external" href="https://cps-org.github.io/cps/">Common Package Specification</a> file exporting targets for dependent projects:</p> <pre data-language="cmake">install(PACKAGE_INFO &lt;package-name&gt; EXPORT &lt;export-name&gt;
        [APPENDIX &lt;appendix-name&gt;]
        [DESTINATION &lt;dir&gt;]
        [LOWER_CASE_FILE]
        [VERSION &lt;version&gt;
         [COMPAT_VERSION &lt;version&gt;]
         [VERSION_SCHEMA &lt;string&gt;]]
        [DEFAULT_TARGETS &lt;target&gt;...]
        [DEFAULT_CONFIGURATIONS &lt;config&gt;...]
        [PERMISSIONS &lt;permission&gt;...]
        [CONFIGURATIONS &lt;config&gt;...]
        [COMPONENT &lt;component&gt;]
        [EXCLUDE_FROM_ALL])
</pre> <p>The <code>PACKAGE_INFO</code> form generates and installs a Common Package Specification file which describes installed targets such that they can be consumed by another project. Target installations are associated with the export <code>&lt;export-name&gt;</code> using the <code>EXPORT</code> option of the <a class="reference internal" href="#targets" title="install(targets)" id="index-10-command:install"><code>install(TARGETS)</code></a> signature documented above. Unlike <a class="reference internal" href="#export" title="install(export)" id="index-11-command:install"><code>install(EXPORT)</code></a>, this information is not expressed in CMake code, and can be consumed by tools other than CMake. When imported into another CMake project, the imported targets will be prefixed with <code>&lt;package-name&gt;::</code>. By default, the generated file will be called <code>&lt;package-name&gt;[-&lt;appendix-name&gt;].cps</code>. If <code>LOWER_CASE_FILE</code> is given, the package name as it appears on disk (in both the file name and install destination) will be first converted to lower case.</p> <p>If <code>DESTINATION</code> is not specified, a platform-specific default is used.</p> <p>If <code>APPENDIX</code> is specified, rather than generating a top level package specification, the specified targets will be exported as an appendix to the named package. Appendices may be used to separate less commonly used targets (along with their external dependencies) from the rest of a package. This enables consumers to ignore transitive dependencies for targets that they don't use, and also allows a single logical "package" to be composed of artifacts produced by multiple build trees.</p> <p>Appendices are not permitted to change basic package metadata; therefore, none of <code>VERSION</code>, <code>COMPAT_VERSION</code>, <code>VERSION_SCHEMA</code>, <code>DEFAULT_TARGETS</code> or <code>DEFAULT_CONFIGURATIONS</code> may be specified in combination with <code>APPENDIX</code>. Additionally, it is strongly recommended that use of <code>LOWER_CASE_FILE</code> should be consistent between the main package and any appendices.</p> </dd>
</dl> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="runtime-dependency-set">
<code>install(RUNTIME_DEPENDENCY_SET &lt;set-name&gt; [...])</code> </dt> <dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.21.</span></p> </div> <p>Installs a runtime dependency set:</p> <pre data-language="cmake">install(RUNTIME_DEPENDENCY_SET &lt;set-name&gt;
        [[LIBRARY|RUNTIME|FRAMEWORK]
         [DESTINATION &lt;dir&gt;]
         [PERMISSIONS &lt;permission&gt;...]
         [CONFIGURATIONS &lt;config&gt;...]
         [COMPONENT &lt;component&gt;]
         [NAMELINK_COMPONENT &lt;component&gt;]
         [OPTIONAL] [EXCLUDE_FROM_ALL]
        ] [...]
        [PRE_INCLUDE_REGEXES &lt;regex&gt;...]
        [PRE_EXCLUDE_REGEXES &lt;regex&gt;...]
        [POST_INCLUDE_REGEXES &lt;regex&gt;...]
        [POST_EXCLUDE_REGEXES &lt;regex&gt;...]
        [POST_INCLUDE_FILES &lt;file&gt;...]
        [POST_EXCLUDE_FILES &lt;file&gt;...]
        [DIRECTORIES &lt;dir&gt;...]
        )
</pre> <p>Installs a runtime dependency set previously created by one or more <a class="reference internal" href="#targets" title="install(targets)" id="index-12-command:install"><code>install(TARGETS)</code></a> or <a class="reference internal" href="#imported-runtime-artifacts" title="install(imported_runtime_artifacts)" id="index-13-command:install"><code>install(IMPORTED_RUNTIME_ARTIFACTS)</code></a> commands. The dependencies of targets belonging to a runtime dependency set are installed in the <code>RUNTIME</code> destination and component on DLL platforms, and in the <code>LIBRARY</code> destination and component on non-DLL platforms. macOS frameworks are installed in the <code>FRAMEWORK</code> destination and component. Targets built within the build tree will never be installed as runtime dependencies, nor will their own dependencies, unless the targets themselves are installed with <a class="reference internal" href="#targets" title="install(targets)" id="index-14-command:install"><code>install(TARGETS)</code></a>.</p> <p>The generated install script calls <a class="reference internal" href="file.html#get-runtime-dependencies" title="file(get_runtime_dependencies)" id="index-0-command:file"><code>file(GET_RUNTIME_DEPENDENCIES)</code></a> on the build-tree files to calculate the runtime dependencies. The build-tree executable files are passed as the <code>EXECUTABLES</code> argument, the build-tree shared libraries as the <code>LIBRARIES</code> argument, and the build-tree modules as the <code>MODULES</code> argument. On macOS, if one of the executables is a <a class="reference internal" href="../prop_tgt/macosx_bundle.html#prop_tgt:MACOSX_BUNDLE" title="MACOSX_BUNDLE" id="index-3-prop_tgt:MACOSX_BUNDLE"><code>MACOSX_BUNDLE</code></a>, that executable is passed as the <code>BUNDLE_EXECUTABLE</code> argument. At most one such bundle executable may be in the runtime dependency set on macOS. The <a class="reference internal" href="../prop_tgt/macosx_bundle.html#prop_tgt:MACOSX_BUNDLE" title="MACOSX_BUNDLE" id="index-4-prop_tgt:MACOSX_BUNDLE"><code>MACOSX_BUNDLE</code></a> property has no effect on other platforms. Note that <a class="reference internal" href="file.html#get-runtime-dependencies" title="file(get_runtime_dependencies)" id="index-1-command:file"><code>file(GET_RUNTIME_DEPENDENCIES)</code></a> only supports collecting the runtime dependencies for Windows, Linux and macOS platforms, so <code>install(RUNTIME_DEPENDENCY_SET)</code> has the same limitation.</p> <p>The following sub-arguments are forwarded through as the corresponding arguments to <a class="reference internal" href="file.html#get-runtime-dependencies" title="file(get_runtime_dependencies)" id="index-2-command:file"><code>file(GET_RUNTIME_DEPENDENCIES)</code></a> (for those that provide a non-empty list of directories, regular expressions or files). They all support <a class="reference internal" href="../manual/cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-6-manual:cmake-generator-expressions(7)"><code>generator expressions</code></a>.</p> <ul class="simple"> <li><code>DIRECTORIES &lt;dir&gt;...</code></li> <li><code>PRE_INCLUDE_REGEXES &lt;regex&gt;...</code></li> <li><code>PRE_EXCLUDE_REGEXES &lt;regex&gt;...</code></li> <li><code>POST_INCLUDE_REGEXES &lt;regex&gt;...</code></li> <li><code>POST_EXCLUDE_REGEXES &lt;regex&gt;...</code></li> <li><code>POST_INCLUDE_FILES &lt;file&gt;...</code></li> <li><code>POST_EXCLUDE_FILES &lt;file&gt;...</code></li> </ul> </dd>
</dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This command supersedes the <a class="reference internal" href="install_targets.html#command:install_targets" title="install_targets" id="index-0-command:install_targets"><code>install_targets()</code></a> command and the <a class="reference internal" href="../prop_tgt/pre_install_script.html#prop_tgt:PRE_INSTALL_SCRIPT" title="PRE_INSTALL_SCRIPT" id="index-0-prop_tgt:PRE_INSTALL_SCRIPT"><code>PRE_INSTALL_SCRIPT</code></a> and <a class="reference internal" href="../prop_tgt/post_install_script.html#prop_tgt:POST_INSTALL_SCRIPT" title="POST_INSTALL_SCRIPT" id="index-0-prop_tgt:POST_INSTALL_SCRIPT"><code>POST_INSTALL_SCRIPT</code></a> target properties. It also replaces the <code>FILES</code> forms of the <a class="reference internal" href="install_files.html#command:install_files" title="install_files" id="index-0-command:install_files"><code>install_files()</code></a> and <a class="reference internal" href="install_programs.html#command:install_programs" title="install_programs" id="index-0-command:install_programs"><code>install_programs()</code></a> commands. The processing order of these install rules relative to those generated by <a class="reference internal" href="install_targets.html#command:install_targets" title="install_targets" id="index-1-command:install_targets"><code>install_targets()</code></a>, <a class="reference internal" href="install_files.html#command:install_files" title="install_files" id="index-1-command:install_files"><code>install_files()</code></a>, and <a class="reference internal" href="install_programs.html#command:install_programs" title="install_programs" id="index-1-command:install_programs"><code>install_programs()</code></a> commands is not defined.</p> </div>   <h2>Examples</h2>  <h3>Example: Install Targets with Per-Artifact Components</h3> <p>Consider a project that defines targets with different artifact kinds:</p> <pre data-language="cmake">add_executable(myExe myExe.c)
add_library(myStaticLib STATIC myStaticLib.c)
target_sources(myStaticLib PUBLIC FILE_SET HEADERS FILES myStaticLib.h)
add_library(mySharedLib SHARED mySharedLib.c)
target_sources(mySharedLib PUBLIC FILE_SET HEADERS FILES mySharedLib.h)
set_property(TARGET mySharedLib PROPERTY SOVERSION 1)
</pre> <p>We may call <a class="reference internal" href="#targets" title="install(targets)" id="index-15-command:install"><code>install(TARGETS)</code></a> with <a class="reference internal" href="#artifact-kind">&lt;artifact-kind&gt;</a> arguments to specify different options for each kind of artifact:</p> <pre data-language="cmake">install(TARGETS
          myExe
          mySharedLib
          myStaticLib
        RUNTIME           # Following options apply to runtime artifacts.
          COMPONENT Runtime
        LIBRARY           # Following options apply to library artifacts.
          COMPONENT Runtime
          NAMELINK_COMPONENT Development
        ARCHIVE           # Following options apply to archive artifacts.
          COMPONENT Development
          DESTINATION lib/static
        FILE_SET HEADERS  # Following options apply to file set HEADERS.
          COMPONENT Development
        )
</pre> <p>This will:</p> <ul class="simple"> <li>Install <code>myExe</code> to <code>&lt;prefix&gt;/bin</code>, the default RUNTIME artifact destination, as part of the <code>Runtime</code> component.</li> <li>
<p>On non-DLL platforms:</p> <ul> <li>Install <code>libmySharedLib.so.1</code> to <code>&lt;prefix&gt;/lib</code>, the default LIBRARY artifact destination, as part of the <code>Runtime</code> component.</li> <li>Install the <code>libmySharedLib.so</code> "namelink" (symbolic link) to <code>&lt;prefix&gt;/lib</code>, the default LIBRARY artifact destination, as part of the <code>Development</code> component.</li> </ul> </li> <li>
<p>On DLL platforms:</p> <ul> <li>Install <code>mySharedLib.dll</code> to <code>&lt;prefix&gt;/bin</code>, the default RUNTIME artifact destination, as part of the <code>Runtime</code> component.</li> <li>Install <code>mySharedLib.lib</code> to <code>&lt;prefix&gt;/lib/static</code>, the specified ARCHIVE artifact destination, as part of the <code>Development</code> component.</li> </ul> </li> <li>Install <code>myStaticLib</code> to <code>&lt;prefix&gt;/lib/static</code>, the specified ARCHIVE artifact destination, as part of the <code>Development</code> component.</li> <li>Install <code>mySharedLib.h</code> and <code>myStaticLib.h</code> to <code>&lt;prefix&gt;/include</code>, the default destination for a file set of type HEADERS, as part of the <code>Development</code> component.</li> </ul>   <h3>Example: Install Targets to Per-Config Destinations</h3> <p>Each <a class="reference internal" href="#targets" title="install(targets)" id="index-16-command:install"><code>install(TARGETS)</code></a> call installs a given target <a class="reference internal" href="../manual/cmake-buildsystem.7.html#output-artifacts"><span class="std std-ref">output artifact</span></a> to at most one <code>DESTINATION</code>, but the install rule itself may be filtered by the <code>CONFIGURATIONS</code> option. In order to install to a different destination for each configuration, one call per configuration is needed. For example, the code:</p> <pre data-language="cmake">install(TARGETS myExe
        CONFIGURATIONS Debug
        RUNTIME
          DESTINATION Debug/bin
        )
install(TARGETS myExe
        CONFIGURATIONS Release
        RUNTIME
          DESTINATION Release/bin
        )
</pre> <p>will install <code>myExe</code> to <code>&lt;prefix&gt;/Debug/bin</code> in the Debug configuration, and to <code>&lt;prefix&gt;/Release/bin</code> in the Release configuration.</p>    <h2>Generated Installation Script</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Use of this feature is not recommended. Please consider using the <a class="reference internal" href="../manual/cmake.1.html#cmdoption-cmake-install"><code>cmake --install</code></a> instead.</p> </div> <p>The <code>install()</code> command generates a file, <code>cmake_install.cmake</code>, inside the build directory, which is used internally by the generated install target and by CPack. You can also invoke this script manually with <a class="reference internal" href="../manual/cmake.1.html#cmdoption-cmake-P"><code>cmake -P</code></a>. This script accepts several variables:</p> <dl class="simple"> <dt>
<code>COMPONENT</code> </dt>
<dd>
<p>Set this variable to install only a single CPack component as opposed to all of them. For example, if you only want to install the <code>Development</code> component, run <code>cmake -DCOMPONENT=Development -P cmake_install.cmake</code>.</p> </dd> <dt>
<code>BUILD_TYPE</code> </dt>
<dd>
<p>Set this variable to change the build type if you are using a multi-config generator. For example, to install with the <code>Debug</code> configuration, run <code>cmake -DBUILD_TYPE=Debug -P cmake_install.cmake</code>.</p> </dd> <dt>
<code>DESTDIR</code> </dt>
<dd>
<p>This is an environment variable rather than a CMake variable. It allows you to change the installation prefix on UNIX systems. See <a class="reference internal" href="../envvar/destdir.html#envvar:DESTDIR" title="DESTDIR" id="index-0-envvar:DESTDIR"><code>DESTDIR</code></a> for details.</p> </dd> </dl>   <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2024 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/latest/command/install.html" class="_attribution-link">https://cmake.org/cmake/help/latest/command/install.html</a>
  </p>
</div>
