<h1 id="command:export">export</h1> <p>Export targets or packages for outside projects to use them directly from the current project's build tree, without installation.</p> <p>See the <a class="reference internal" href="install.html#export" title="install(export)" id="index-0-command:install"><code>install(EXPORT)</code></a> command to export targets from an install tree.</p>  <h2>Synopsis</h2> <pre class="literal-block">export(<a class="reference internal" href="#targets">TARGETS</a> &lt;target&gt;... [...])
export(<a class="reference internal" href="#export">EXPORT</a> &lt;export-name&gt; [...])
export(<a class="reference internal" href="#package">PACKAGE</a> &lt;PackageName&gt;)
export(<a class="reference internal" href="#setup">SETUP</a> &lt;export-name&gt; [...])</pre>   <h2>Exporting Targets</h2> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="targets">
<code>export(TARGETS &lt;target&gt;... [...])</code> </dt> 
</dl> <pre data-language="cmake">export(TARGETS &lt;target&gt;... [NAMESPACE &lt;namespace&gt;]
       [APPEND] FILE &lt;filename&gt; [EXPORT_LINK_INTERFACE_LIBRARIES]
       [CXX_MODULES_DIRECTORY &lt;directory&gt;])
</pre> <p>Creates a file <code>&lt;filename&gt;</code> that may be included by outside projects to import targets named by <code>&lt;target&gt;...</code> from the current project's build tree. This is useful during cross-compiling to build utility executables that can run on the host platform in one project and then import them into another project being compiled for the target platform.</p> <p>The file created by this command is specific to the build tree and should never be installed. See the <a class="reference internal" href="install.html#export" title="install(export)" id="index-1-command:install"><code>install(EXPORT)</code></a> command to export targets from an install tree.</p> <p>The options are:</p> <dl> <dt>
<code>NAMESPACE &lt;namespace&gt;</code> </dt>
<dd>
<p>Prepend the <code>&lt;namespace&gt;</code> string to all target names written to the file.</p> </dd> <dt>
<code>APPEND</code> </dt>
<dd>
<p>Append to the file instead of overwriting it. This can be used to incrementally export multiple targets to the same file.</p> </dd> <dt>
<code>EXPORT_LINK_INTERFACE_LIBRARIES</code> </dt>
<dd>
<p>Include the contents of the properties named with the pattern <code>(IMPORTED_)?LINK_INTERFACE_LIBRARIES(_&lt;CONFIG&gt;)?</code> in the export, even when policy <a class="reference internal" href="../policy/cmp0022.html#policy:CMP0022" title="CMP0022" id="index-0-policy:CMP0022"><code>CMP0022</code></a> is NEW. This is useful to support consumers using CMake versions older than 2.8.12.</p> </dd> <dt>
<code>CXX_MODULES_DIRECTORY &lt;directory&gt;</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">Added in version 3.28.</span></p> </div> <p>Export C++ module properties to files under the given directory. Each file will be named according to the target's export name (without any namespace). These files will automatically be included from the export file.</p> </dd> </dl> <p>This signature requires all targets to be listed explicitly. If a library target is included in the export, but a target to which it links is not included, the behavior is unspecified. See the <a class="reference internal" href="#command:export" title="export(export)" id="index-0-command:export"><code>export(EXPORT)</code></a> signature to automatically export the same targets from the build tree as <a class="reference internal" href="install.html#export" title="install(export)" id="index-2-command:install"><code>install(EXPORT)</code></a> would from an install tree.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p><a class="reference internal" href="../manual/cmake-buildsystem.7.html#object-libraries"><span class="std std-ref">Object Libraries</span></a> under <a class="reference internal" href="https://cmake.org/cmake/help/latest/generator/Xcode.html#generator:Xcode" title="Xcode" id="index-0-generator:Xcode"><code>Xcode</code></a> have special handling if multiple architectures are listed in <a class="reference internal" href="../variable/cmake_osx_architectures.html#variable:CMAKE_OSX_ARCHITECTURES" title="CMAKE_OSX_ARCHITECTURES" id="index-0-variable:CMAKE_OSX_ARCHITECTURES"><code>CMAKE_OSX_ARCHITECTURES</code></a>. In this case they will be exported as <a class="reference internal" href="../manual/cmake-buildsystem.7.html#interface-libraries"><span class="std std-ref">Interface Libraries</span></a> with no object files available to clients. This is sufficient to satisfy transitive usage requirements of other targets that link to the object libraries in their implementation.</p> </div> <p>This command exports all <a class="reference internal" href="../manual/cmake-buildsystem.7.html#build-configurations"><span class="std std-ref">Build Configurations</span></a> from the build tree. See the <a class="reference internal" href="#" title="CMAKE_MAP_IMPORTED_CONFIG_&lt;CONFIG&gt;" id="index-0-variable:CMAKE_MAP_IMPORTED_CONFIG_&lt;CONFIG&gt;"><code>CMAKE_MAP_IMPORTED_CONFIG_&lt;CONFIG&gt;</code></a> variable to map configurations of dependent projects to the exported configurations.</p>  <h3>Exporting Targets to Android.mk</h3> <pre data-language="cmake">export(TARGETS &lt;target&gt;... ANDROID_MK &lt;filename&gt;)
</pre> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.7.</span></p> </div> <p>This signature exports cmake built targets to the android ndk build system by creating an <code>Android.mk</code> file that references the prebuilt targets. The Android NDK supports the use of prebuilt libraries, both static and shared. This allows cmake to build the libraries of a project and make them available to an ndk build system complete with transitive dependencies, include flags and defines required to use the libraries. The signature takes a list of targets and puts them in the <code>Android.mk</code> file specified by the <code>&lt;filename&gt;</code> given. This signature can only be used if policy <a class="reference internal" href="../policy/cmp0022.html#policy:CMP0022" title="CMP0022" id="index-1-policy:CMP0022"><code>CMP0022</code></a> is NEW for all targets given. A error will be issued if that policy is set to OLD for one of the targets.</p>    <h2>Exporting Targets matching install(EXPORT)</h2> <dl class="cmake signature"> <dt class="sig sig-object cmake"> <span class="code cmake highlight sig-name descname"><span class="nf">export(</span><span class="no">EXPORT</span><span class="nv">&lt;export-name&gt;</span><span class="p">[...]</span><span class="nf">)</span></span>
</dt> 
</dl> <pre data-language="cmake">export(EXPORT &lt;export-name&gt; [NAMESPACE &lt;namespace&gt;] [FILE &lt;filename&gt;]
       [CXX_MODULES_DIRECTORY &lt;directory&gt;] [EXPORT_PACKAGE_DEPENDENCIES])
</pre> <p>Creates a file <code>&lt;filename&gt;</code> that may be included by outside projects to import targets from the current project's build tree. This is the same as the <a class="reference internal" href="#targets" title="export(targets)" id="index-1-command:export"><code>export(TARGETS)</code></a> signature, except that the targets are not explicitly listed. Instead, it exports the targets associated with the installation export <code>&lt;export-name&gt;</code>. Target installations may be associated with the export <code>&lt;export-name&gt;</code> using the <code>EXPORT</code> option of the <a class="reference internal" href="install.html#targets" title="install(targets)" id="index-3-command:install"><code>install(TARGETS)</code></a> command.</p> <dl> <dt>
<code>EXPORT_PACKAGE_DEPENDENCIES</code> </dt>
<dd>
<div class="admonition note"> <p class="admonition-title">Note</p> <p>Experimental. Gated by <code>CMAKE_EXPERIMENTAL_EXPORT_PACKAGE_DEPENDENCIES</code>.</p> </div> <p>Specify that <a class="reference internal" href="../module/cmakefinddependencymacro.html#command:find_dependency" title="find_dependency" id="index-0-command:find_dependency"><code>find_dependency()</code></a> calls should be exported. See <a class="reference internal" href="install.html#export" title="install(export)" id="index-4-command:install"><code>install(EXPORT)</code></a> for details on how this works.</p> </dd> </dl>   <h2>Exporting Packages</h2> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="package">
<code>export(PACKAGE &lt;PackageName&gt;)</code> </dt> 
</dl> <pre data-language="cmake">export(PACKAGE &lt;PackageName&gt;)
</pre> <p>Store the current build directory in the CMake user package registry for package <code>&lt;PackageName&gt;</code>. The <a class="reference internal" href="find_package.html#command:find_package" title="find_package" id="index-0-command:find_package"><code>find_package()</code></a> command may consider the directory while searching for package <code>&lt;PackageName&gt;</code>. This helps dependent projects find and use a package from the current project's build tree without help from the user. Note that the entry in the package registry that this command creates works only in conjunction with a package configuration file (<code>&lt;PackageName&gt;Config.cmake</code>) that works with the build tree. In some cases, for example for packaging and for system wide installations, it is not desirable to write the user package registry.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span>If the <a class="reference internal" href="../variable/cmake_export_no_package_registry.html#variable:CMAKE_EXPORT_NO_PACKAGE_REGISTRY" title="CMAKE_EXPORT_NO_PACKAGE_REGISTRY" id="index-0-variable:CMAKE_EXPORT_NO_PACKAGE_REGISTRY"><code>CMAKE_EXPORT_NO_PACKAGE_REGISTRY</code></a> variable is enabled, the <code>export(PACKAGE)</code> command will do nothing.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.15: </span>By default the <code>export(PACKAGE)</code> command does nothing (see policy <a class="reference internal" href="../policy/cmp0090.html#policy:CMP0090" title="CMP0090" id="index-0-policy:CMP0090"><code>CMP0090</code></a>) because populating the user package registry has effects outside the source and build trees. Set the <a class="reference internal" href="../variable/cmake_export_package_registry.html#variable:CMAKE_EXPORT_PACKAGE_REGISTRY" title="CMAKE_EXPORT_PACKAGE_REGISTRY" id="index-0-variable:CMAKE_EXPORT_PACKAGE_REGISTRY"><code>CMAKE_EXPORT_PACKAGE_REGISTRY</code></a> variable to add build directories to the CMake user package registry.</p> </div>   <h2>Configuring Exports</h2> <dl class="cmake signature"> <dt class="sig sig-object cmake" id="setup">
<code>export(SETUP &lt;export-name&gt; [...])</code> </dt> 
</dl> <pre data-language="cmake">export(SETUP &lt;export-name&gt;
       [PACKAGE_DEPENDENCY &lt;dep&gt;
        [ENABLED (&lt;bool-true&gt;|&lt;bool-false&gt;|AUTO)]
        [EXTRA_ARGS &lt;args&gt;...]
       ] [...]
       [TARGET &lt;target&gt;
        [XCFRAMEWORK_LOCATION &lt;location&gt;]
       ] [...]
       )
</pre> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.29.</span></p> </div> <p>Configure the parameters of an export. The arguments are as follows:</p> <dl> <dt>
<code>PACKAGE_DEPENDENCY &lt;dep&gt;</code> </dt>
<dd>
<div class="admonition note"> <p class="admonition-title">Note</p> <p>Experimental. Gated by <code>CMAKE_EXPERIMENTAL_EXPORT_PACKAGE_DEPENDENCIES</code>.</p> </div> <p>Specify a package dependency to configure. This changes how <a class="reference internal" href="../module/cmakefinddependencymacro.html#command:find_dependency" title="find_dependency" id="index-1-command:find_dependency"><code>find_dependency()</code></a> calls are written during <a class="reference internal" href="#command:export" title="export(export)" id="index-2-command:export"><code>export(EXPORT)</code></a> and <a class="reference internal" href="install.html#export" title="install(export)" id="index-5-command:install"><code>install(EXPORT)</code></a>. <code>&lt;dep&gt;</code> is the name of a package to export. This argument accepts the following additional arguments:</p> <dl> <dt>
<code>ENABLED</code> </dt>
<dd>
<p>Manually control whether or not the dependency is exported. This accepts the following values:</p> <dl class="simple"> <dt>
<code>&lt;bool-true&gt;</code> </dt>
<dd>
<p>Any value that CMake recognizes as "true". Always export the dependency, even if no exported targets depend on it. This can be used to manually add <a class="reference internal" href="../module/cmakefinddependencymacro.html#command:find_dependency" title="find_dependency" id="index-2-command:find_dependency"><code>find_dependency()</code></a> calls to the export.</p> </dd> <dt>
<code>&lt;bool-false&gt;</code> </dt>
<dd>
<p>Any value that CMake recognizes as "false". Never export the dependency, even if an exported target depends on it.</p> </dd> <dt>
<code>AUTO</code> </dt>
<dd>
<p>Only export the dependency if an exported target depends on it.</p> </dd> </dl> </dd> <dt>
<code>EXTRA_ARGS &lt;args&gt;</code> </dt>
<dd>
<p>Specify additional arguments to pass to <a class="reference internal" href="../module/cmakefinddependencymacro.html#command:find_dependency" title="find_dependency" id="index-3-command:find_dependency"><code>find_dependency()</code></a> after the <code>REQUIRED</code> argument.</p> </dd> </dl> </dd> <dt>
<code>TARGET &lt;target&gt;</code> </dt>
<dd>
<p>Specify a target to configure in this export. This argument accepts the following additional arguments:</p> <dl class="simple"> <dt>
<code>XCFRAMEWORK_LOCATION</code> </dt>
<dd>
<p>Specify the location of an <code>.xcframework</code> which contains the library from this target. If specified, the generated code will check to see if the <code>.xcframework</code> exists, and if it does, it will use the <code>.xcframework</code> as its imported location instead of the installed library.</p> </dd> </dl> </dd> </dl>   <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2024 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/latest/command/export.html" class="_attribution-link">https://cmake.org/cmake/help/latest/command/export.html</a>
  </p>
</div>
