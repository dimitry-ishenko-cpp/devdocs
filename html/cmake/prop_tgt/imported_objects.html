<h1 id="prop_tgt:IMPORTED_OBJECTS">IMPORTED_OBJECTS</h1> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.9.</span></p> </div> <p>A <a class="reference internal" href="../manual/cmake-language.7.html#cmake-language-lists"><span class="std std-ref">semicolon-separated list</span></a> of absolute paths to the object files on disk for an <a class="reference internal" href="../manual/cmake-buildsystem.7.html#imported-targets"><span class="std std-ref">imported</span></a> <a class="reference internal" href="../manual/cmake-buildsystem.7.html#object-libraries"><span class="std std-ref">object library</span></a>.</p> <p>Ignored for non-imported targets.</p> <p>Projects may skip <code>IMPORTED_OBJECTS</code> if the configuration-specific property <a class="reference internal" href="#" title="IMPORTED_OBJECTS_&lt;CONFIG&gt;" id="index-0-prop_tgt:IMPORTED_OBJECTS_&lt;CONFIG&gt;"><code>IMPORTED_OBJECTS_&lt;CONFIG&gt;</code></a> is set instead, except in situations as noted in the section below.</p>  <h2>Xcode Generator Considerations</h2> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.20.</span></p> </div> <p>For Apple platforms, a project may be built for more than one architecture. This is controlled by the <a class="reference internal" href="../variable/cmake_osx_architectures.html#variable:CMAKE_OSX_ARCHITECTURES" title="CMAKE_OSX_ARCHITECTURES" id="index-0-variable:CMAKE_OSX_ARCHITECTURES"><code>CMAKE_OSX_ARCHITECTURES</code></a> variable. For all but the <a class="reference internal" href="https://cmake.org/cmake/help/latest/generator/Xcode.html#generator:Xcode" title="Xcode" id="index-0-generator:Xcode"><code>Xcode</code></a> generator, CMake invokes compilers once per source file and passes multiple <code>-arch</code> flags, leading to a single object file which will be a universal binary. Such object files work well when listed in the <code>IMPORTED_OBJECTS</code> of a separate CMake build, even for the <a class="reference internal" href="https://cmake.org/cmake/help/latest/generator/Xcode.html#generator:Xcode" title="Xcode" id="index-1-generator:Xcode"><code>Xcode</code></a> generator. But producing such object files with the <a class="reference internal" href="https://cmake.org/cmake/help/latest/generator/Xcode.html#generator:Xcode" title="Xcode" id="index-2-generator:Xcode"><code>Xcode</code></a> generator is more difficult, since it invokes the compiler once per architecture for each source file. Unlike the other generators, it does not generate universal object file binaries.</p> <p>A further complication with the <a class="reference internal" href="https://cmake.org/cmake/help/latest/generator/Xcode.html#generator:Xcode" title="Xcode" id="index-3-generator:Xcode"><code>Xcode</code></a> generator is that when targeting device platforms (iOS, tvOS, visionOS or watchOS), the <a class="reference internal" href="https://cmake.org/cmake/help/latest/generator/Xcode.html#generator:Xcode" title="Xcode" id="index-4-generator:Xcode"><code>Xcode</code></a> generator has the ability to use either the device or simulator SDK without needing CMake to be re-run. The SDK can be selected at build time. But since some architectures can be supported by both the device and the simulator SDKs (e.g. <code>arm64</code> with Xcode 12 or later), not all combinations can be represented in a single universal binary. The only solution in this case is to have multiple object files.</p> <p><code>IMPORTED_OBJECTS</code> doesn't support generator expressions, so every file it lists needs to be valid for every architecture and SDK. If incorporating object files that are not universal binaries, the path and/or file name of each object file has to somehow encapsulate the different architectures and SDKs. With the <a class="reference internal" href="https://cmake.org/cmake/help/latest/generator/Xcode.html#generator:Xcode" title="Xcode" id="index-5-generator:Xcode"><code>Xcode</code></a> generator, Xcode variables of the form <code>$(...)</code> can be used to represent these aspects and Xcode will substitute the appropriate values at build time. CMake doesn't interpret these variables and embeds them unchanged in the Xcode project file. <code>$(CURRENT_ARCH)</code> can be used to represent the architecture, while <code>$(EFFECTIVE_PLATFORM_NAME)</code> can be used to differentiate between SDKs.</p> <p>The following shows one example of how these two variables can be used to refer to an object file whose location depends on both the SDK and the architecture:</p> <pre data-language="cmake">add_library(someObjs OBJECT IMPORTED)

set_property(TARGET someObjs PROPERTY IMPORTED_OBJECTS
  # Quotes are required because of the ()
  "/path/to/somewhere/objects$(EFFECTIVE_PLATFORM_NAME)/$(CURRENT_ARCH)/func.o"
)

# Example paths:
#   /path/to/somewhere/objects-iphoneos/arm64/func.o
#   /path/to/somewhere/objects-iphonesimulator/x86_64/func.o
</pre> <p>In some cases, you may want to have configuration-specific object files as well. The <code>$(CONFIGURATION)</code> Xcode variable is often used for this and can be used in conjunction with the others mentioned above:</p> <pre data-language="cmake">add_library(someObjs OBJECT IMPORTED)
set_property(TARGET someObjs PROPERTY IMPORTED_OBJECTS
  "/path/to/somewhere/$(CONFIGURATION)$(EFFECTIVE_PLATFORM_NAME)/$(CURRENT_ARCH)/func.o"
)

# Example paths:
#   /path/to/somewhere/Release-iphoneos/arm64/func.o
#   /path/to/somewhere/Debug-iphonesimulator/x86_64/func.o
</pre> <p>When any Xcode variable is used, CMake is not able to fully evaluate the path(s) at configure time. One consequence of this is that the configuration-specific <a class="reference internal" href="#" title="IMPORTED_OBJECTS_&lt;CONFIG&gt;" id="index-1-prop_tgt:IMPORTED_OBJECTS_&lt;CONFIG&gt;"><code>IMPORTED_OBJECTS_&lt;CONFIG&gt;</code></a> properties cannot be used, since CMake cannot determine whether an object file exists at a particular <code>&lt;CONFIG&gt;</code> location. The <code>IMPORTED_OBJECTS</code> property must be used for these situations and the configuration-specific aspects of the path should be handled by the <code>$(CONFIGURATION)</code> Xcode variable.</p>   <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2024 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/latest/prop_tgt/IMPORTED_OBJECTS.html" class="_attribution-link">https://cmake.org/cmake/help/latest/prop_tgt/IMPORTED_OBJECTS.html</a>
  </p>
</div>
