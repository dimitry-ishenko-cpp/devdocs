<h1 id="prop_tgt:OPTIMIZE_DEPENDENCIES">OPTIMIZE_DEPENDENCIES</h1> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.19.</span></p> </div> <p>Activates dependency optimization of static and object libraries.</p> <p>When this property is set to true, some dependencies for a static or object library may be removed at generation time if they are not necessary to build the library, since static and object libraries don't actually link against anything.</p> <p>If a static or object library has dependency optimization enabled, it first discards all dependencies. Then, it looks through all of the direct and indirect dependencies that it initially had, and adds them back if they meet any of the following criteria:</p> <ul class="simple"> <li>The dependency was added to the library by <a class="reference internal" href="../command/add_dependencies.html#command:add_dependencies" title="add_dependencies" id="index-0-command:add_dependencies"><code>add_dependencies()</code></a>.</li> <li>The dependency was added to the library through a source file in the library generated by a custom command that uses the dependency.</li> <li>The dependency has any <code>PRE_BUILD</code>, <code>PRE_LINK</code>, or <code>POST_BUILD</code> custom commands associated with it.</li> <li>The dependency contains any source files that were generated by a custom command.</li> <li>The dependency contains any languages which produce side effects that are relevant to the library. Currently, all languages except C, C++, Objective-C, Objective-C++, assembly, and CUDA are assumed to produce side effects. However, side effects from one language are assumed not to be relevant to another (for example, a Fortran library is assumed to not have any side effects that are relevant for a Swift library.)</li> </ul> <p>As an example, assume you have a static Fortran library which depends on a static C library, which in turn depends on a static Fortran library. The top-level Fortran library has optimization enabled, but the middle C library does not. If you build the top Fortran library, the bottom Fortran library will also build, but not the middle C library, since the C library does not have any side effects that are relevant for the Fortran library. However, if you build the middle C library, the bottom Fortran library will also build, even though it does not have any side effects that are relevant to the C library, since the C library does not have optimization enabled.</p> <p>This property is initialized by the value of the <a class="reference internal" href="../variable/cmake_optimize_dependencies.html#variable:CMAKE_OPTIMIZE_DEPENDENCIES" title="CMAKE_OPTIMIZE_DEPENDENCIES" id="index-0-variable:CMAKE_OPTIMIZE_DEPENDENCIES"><code>CMAKE_OPTIMIZE_DEPENDENCIES</code></a> variable when the target is created.</p>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2024 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/latest/prop_tgt/OPTIMIZE_DEPENDENCIES.html" class="_attribution-link">https://cmake.org/cmake/help/latest/prop_tgt/OPTIMIZE_DEPENDENCIES.html</a>
  </p>
</div>
