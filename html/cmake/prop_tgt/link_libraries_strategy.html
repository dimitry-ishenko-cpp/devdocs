<h1 id="prop_tgt:LINK_LIBRARIES_STRATEGY">LINK_LIBRARIES_STRATEGY</h1> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.31.</span></p> </div> <p>Specify a strategy for ordering a target's direct link dependencies on linker command lines. This property is initialized by the value of the <a class="reference internal" href="../variable/cmake_link_libraries_strategy.html#variable:CMAKE_LINK_LIBRARIES_STRATEGY" title="CMAKE_LINK_LIBRARIES_STRATEGY" id="index-0-variable:CMAKE_LINK_LIBRARIES_STRATEGY"><code>CMAKE_LINK_LIBRARIES_STRATEGY</code></a> variable if it is set when a target is created.</p> <p>CMake generates a target's link line using its <a class="reference internal" href="../manual/cmake-buildsystem.7.html#target-link-properties"><span class="std std-ref">Target Link Properties</span></a>. In particular, the <a class="reference internal" href="link_libraries.html#prop_tgt:LINK_LIBRARIES" title="LINK_LIBRARIES" id="index-0-prop_tgt:LINK_LIBRARIES"><code>LINK_LIBRARIES</code></a> target property records the target's direct link dependencies, typically populated by calls to <a class="reference internal" href="../command/target_link_libraries.html#command:target_link_libraries" title="target_link_libraries" id="index-0-command:target_link_libraries"><code>target_link_libraries()</code></a>. Indirect link dependencies are propagated from those entries of <a class="reference internal" href="link_libraries.html#prop_tgt:LINK_LIBRARIES" title="LINK_LIBRARIES" id="index-1-prop_tgt:LINK_LIBRARIES"><code>LINK_LIBRARIES</code></a> that name library targets by following the transitive closure of their <a class="reference internal" href="interface_link_libraries.html#prop_tgt:INTERFACE_LINK_LIBRARIES" title="INTERFACE_LINK_LIBRARIES" id="index-0-prop_tgt:INTERFACE_LINK_LIBRARIES"><code>INTERFACE_LINK_LIBRARIES</code></a> properties. CMake supports multiple strategies for nominally ordering direct and indirect link dependencies, which are then filtered for <a class="reference internal" href="#toolchain-specific-behavior">Toolchain-Specific Behavior</a>.</p> <p>Consider this example for the strategies below:</p> <pre data-language="cmake">add_library(A STATIC ...)
add_library(B STATIC ...)
add_library(C STATIC ...)
add_executable(main ...)
target_link_libraries(B PRIVATE A)
target_link_libraries(C PRIVATE A)
target_link_libraries(main PRIVATE A B C)
</pre> <p>The supported strategies are:</p> <dl> <dt>
<code>REORDER_MINIMALLY</code> </dt>
<dd>
<p>Entries of <a class="reference internal" href="link_libraries.html#prop_tgt:LINK_LIBRARIES" title="LINK_LIBRARIES" id="index-2-prop_tgt:LINK_LIBRARIES"><code>LINK_LIBRARIES</code></a> always appear first and in their original order. Indirect link dependencies not satisfied by the original entries may be reordered and de-duplicated with respect to one another, but are always appended after the original entries. This may result in less efficient link lines, but gives projects control of ordering among independent entries. Such control may be important when intermixing link flags with libraries, or when multiple libraries provide a given symbol.</p> <p>This is the default.</p> <p>In the above example, this strategy computes a link line for <code>main</code> by starting with its original entries <code>A B C</code>, and then appends another <code>A</code> to satisfy the dependencies of <code>B</code> and <code>C</code> on <code>A</code>. The nominal order produced by this strategy is <code>A B C A</code>.</p> <p>Note that additional filtering for <a class="reference internal" href="#toolchain-specific-behavior">Toolchain-Specific Behavior</a> may de-duplicate <code>A</code> on the actual linker invocation in the generated build system, resulting in either <code>A B C</code> or <code>B C A</code>.</p> </dd> <dt>
<code>REORDER_FREELY</code> </dt>
<dd>
<p>Entries of <a class="reference internal" href="link_libraries.html#prop_tgt:LINK_LIBRARIES" title="LINK_LIBRARIES" id="index-3-prop_tgt:LINK_LIBRARIES"><code>LINK_LIBRARIES</code></a> may be reordered, de-duplicated, and intermixed with indirect link dependencies. This may result in more efficient link lines, but does not give projects any control of ordering among independent entries.</p> <p>In the above example, this strategy computes a link line for <code>main</code> by re-ordering its original entries <code>A B C</code> to satisfy the dependencies of <code>B</code> and <code>C</code> on <code>A</code>. The nominal order produced by this strategy is <code>B C A</code>.</p> </dd> </dl>  <h2>Toolchain-Specific Behavior</h2> <p>After one of the above strategies produces a nominal order among direct and indirect link dependencies, the actual linker invocation in the generated build system may de-duplicate entries based on platform-specific requirements and linker capabilities. See policy <a class="reference internal" href="../policy/cmp0156.html#policy:CMP0156" title="CMP0156" id="index-0-policy:CMP0156"><code>CMP0156</code></a>.</p> <p>For example, if the <code>REORDER_MINIMALLY</code> strategy produces <code>A B C A</code>, the actual link line may de-duplicate <code>A</code> as follows:</p> <ul class="simple"> <li>If <code>A</code> is a static library and the linker re-scans automatically, the first occurrence is kept, resulting in <code>A B C</code>. See policy <a class="reference internal" href="../policy/cmp0179.html#policy:CMP0179" title="CMP0179" id="index-0-policy:CMP0179"><code>CMP0179</code></a>
</li> <li>If <code>A</code> is a shared library on Windows, the first occurrence is kept, resulting in <code>A B C</code>.</li> <li>If <code>A</code> is a shared library on macOS or UNIX platforms, the last occurrence is kept, resulting in <code>B C A</code>.</li> </ul>   <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2024 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/latest/prop_tgt/LINK_LIBRARIES_STRATEGY.html" class="_attribution-link">https://cmake.org/cmake/help/latest/prop_tgt/LINK_LIBRARIES_STRATEGY.html</a>
  </p>
</div>
