<h1 id="prop_tgt:LINK_LIBRARIES_ONLY_TARGETS">LINK_LIBRARIES_ONLY_TARGETS</h1> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.23.</span></p> </div> <p>Enforce that link items that can be target names are actually existing targets.</p> <p>Set this property to a true value to enable additional checks on the contents of the <a class="reference internal" href="link_libraries.html#prop_tgt:LINK_LIBRARIES" title="LINK_LIBRARIES" id="index-0-prop_tgt:LINK_LIBRARIES"><code>LINK_LIBRARIES</code></a> and <a class="reference internal" href="interface_link_libraries.html#prop_tgt:INTERFACE_LINK_LIBRARIES" title="INTERFACE_LINK_LIBRARIES" id="index-0-prop_tgt:INTERFACE_LINK_LIBRARIES"><code>INTERFACE_LINK_LIBRARIES</code></a> target properties, typically populated by <a class="reference internal" href="../command/target_link_libraries.html#command:target_link_libraries" title="target_link_libraries" id="index-0-command:target_link_libraries"><code>target_link_libraries()</code></a>. Checks are also applied to libraries added to a target through the <a class="reference internal" href="interface_link_libraries_direct.html#prop_tgt:INTERFACE_LINK_LIBRARIES_DIRECT" title="INTERFACE_LINK_LIBRARIES_DIRECT" id="index-0-prop_tgt:INTERFACE_LINK_LIBRARIES_DIRECT"><code>INTERFACE_LINK_LIBRARIES_DIRECT</code></a> properties of its dependencies. CMake will verify that link items that might be target names actually name existing targets. An item is considered a possible target name if:</p> <ul class="simple"> <li>it does not contain a <code>/</code> or <code>\</code>, and</li> <li>it does not start in <code>-</code>, and</li> <li>(for historical reasons) it does not start in <code>$</code> or <code>`</code>.</li> </ul> <p>This property is initialized by the value of the <a class="reference internal" href="../variable/cmake_link_libraries_only_targets.html#variable:CMAKE_LINK_LIBRARIES_ONLY_TARGETS" title="CMAKE_LINK_LIBRARIES_ONLY_TARGETS" id="index-0-variable:CMAKE_LINK_LIBRARIES_ONLY_TARGETS"><code>CMAKE_LINK_LIBRARIES_ONLY_TARGETS</code></a> variable when a non-imported target is created. The property may be explicitly enabled on an imported target to check its link interface.</p> <p>In the following example, CMake will halt with an error at configure time because <code>miLib</code> is not a target:</p> <pre data-language="cmake">set(CMAKE_LINK_LIBRARIES_ONLY_TARGETS ON)
add_library(myLib STATIC myLib.c)
add_executable(myExe myExe.c)
target_link_libraries(myExe PRIVATE miLib) # typo for myLib
</pre> <p>In order to link toolchain-provided libraries by name while still enforcing <code>LINK_LIBRARIES_ONLY_TARGETS</code>, use an <a class="reference internal" href="../manual/cmake-buildsystem.7.html#imported-targets"><span class="std std-ref">imported</span></a> <a class="reference internal" href="../manual/cmake-buildsystem.7.html#interface-libraries"><span class="std std-ref">Interface Library</span></a> with the <a class="reference internal" href="imported_libname.html#prop_tgt:IMPORTED_LIBNAME" title="IMPORTED_LIBNAME" id="index-0-prop_tgt:IMPORTED_LIBNAME"><code>IMPORTED_LIBNAME</code></a> target property:</p> <pre data-language="cmake">add_library(toolchain::m INTERFACE IMPORTED)
set_property(TARGET toolchain::m PROPERTY IMPORTED_LIBNAME "m")
target_link_libraries(myExe PRIVATE toolchain::m)
</pre> <p>See also policy <a class="reference internal" href="../policy/cmp0028.html#policy:CMP0028" title="CMP0028" id="index-0-policy:CMP0028"><code>CMP0028</code></a>.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If <a class="reference internal" href="interface_link_libraries.html#prop_tgt:INTERFACE_LINK_LIBRARIES" title="INTERFACE_LINK_LIBRARIES" id="index-1-prop_tgt:INTERFACE_LINK_LIBRARIES"><code>INTERFACE_LINK_LIBRARIES</code></a> contains generator expressions, its actual list of link items may depend on the type and properties of the consuming target. In such cases CMake may not always detect names of missing targets that only appear for specific consumers. A future version of CMake with improved heuristics may start triggering errors on projects accepted by previous versions of CMake.</p> </div>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/prop_tgt/LINK_LIBRARIES_ONLY_TARGETS.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/prop_tgt/LINK_LIBRARIES_ONLY_TARGETS.html</a>
  </p>
</div>
