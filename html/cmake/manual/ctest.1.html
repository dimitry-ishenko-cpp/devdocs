<h1 id="manual:ctest(1)">ctest(1)</h1>   <ul> <li><a class="reference internal" href="#synopsis" id="id16">Synopsis</a></li> <li><a class="reference internal" href="#description" id="id17">Description</a></li> <li><a class="reference internal" href="#run-tests" id="id18">Run Tests</a></li> <li><a class="reference internal" href="#view-help" id="id19">View Help</a></li> <li><a class="reference internal" href="#label-matching" id="id20">Label Matching</a></li> <li><a class="reference internal" href="#label-and-subproject-summary" id="id21">Label and Subproject Summary</a></li> <li><a class="reference internal" href="#build-and-test-mode" id="id22">Build and Test Mode</a></li> <li>
<p><a class="reference internal" href="#dashboard-client" id="id23">Dashboard Client</a></p> <ul> <li><a class="reference internal" href="#dashboard-client-steps" id="id24">Dashboard Client Steps</a></li> <li><a class="reference internal" href="#dashboard-client-modes" id="id25">Dashboard Client Modes</a></li> <li><a class="reference internal" href="#dashboard-client-via-ctest-command-line" id="id26">Dashboard Client via CTest Command-Line</a></li> <li><a class="reference internal" href="#dashboard-client-via-ctest-script" id="id27">Dashboard Client via CTest Script</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#dashboard-client-configuration" id="id28">Dashboard Client Configuration</a></p> <ul> <li><a class="reference internal" href="#ctest-start-step" id="id29">CTest Start Step</a></li> <li><a class="reference internal" href="#ctest-update-step" id="id30">CTest Update Step</a></li> <li><a class="reference internal" href="#ctest-configure-step" id="id31">CTest Configure Step</a></li> <li><a class="reference internal" href="#ctest-build-step" id="id32">CTest Build Step</a></li> <li><a class="reference internal" href="#ctest-test-step" id="id33">CTest Test Step</a></li> <li><a class="reference internal" href="#ctest-coverage-step" id="id34">CTest Coverage Step</a></li> <li><a class="reference internal" href="#ctest-memcheck-step" id="id35">CTest MemCheck Step</a></li> <li><a class="reference internal" href="#ctest-submit-step" id="id36">CTest Submit Step</a></li> </ul> </li> <li><a class="reference internal" href="#show-as-json-object-model" id="id37">Show as JSON Object Model</a></li> <li>
<p><a class="reference internal" href="#resource-allocation" id="id38">Resource Allocation</a></p> <ul> <li><a class="reference internal" href="#resource-specification-file" id="id39">Resource Specification File</a></li> <li><a class="reference internal" href="#resource-groups-property" id="id40"><code>RESOURCE_GROUPS</code> Property</a></li> <li><a class="reference internal" href="#environment-variables" id="id41">Environment Variables</a></li> </ul> </li> <li><a class="reference internal" href="#see-also" id="id42">See Also</a></li> </ul>
   <h2>Synopsis</h2> <pre class="literal-block"><a class="reference internal" href="#run-tests">Run Tests</a>
 ctest [&lt;options&gt;]

<a class="reference internal" href="#build-and-test-mode">Build and Test Mode</a>
 ctest --build-and-test &lt;path-to-source&gt; &lt;path-to-build&gt;
       --build-generator &lt;generator&gt; [&lt;options&gt;...]
      [--build-options &lt;opts&gt;...]
      [--test-command &lt;command&gt; [&lt;args&gt;...]]

<a class="reference internal" href="#dashboard-client">Dashboard Client</a>
 ctest -D &lt;dashboard&gt;         [-- &lt;dashboard-options&gt;...]
 ctest -M &lt;model&gt; -T &lt;action&gt; [-- &lt;dashboard-options&gt;...]
 ctest -S &lt;script&gt;            [-- &lt;dashboard-options&gt;...]
 ctest -SP &lt;script&gt;           [-- &lt;dashboard-options&gt;...]

<a class="reference internal" href="#view-help">View Help</a>
 ctest --help[-&lt;topic&gt;]</pre>   <h2>Description</h2> <p>The <strong class="program">ctest</strong> executable is the CMake test driver program. CMake-generated build trees created for projects that use the <a class="reference internal" href="../command/enable_testing.html#command:enable_testing" title="enable_testing" id="index-0-command:enable_testing"><code>enable_testing()</code></a> and <a class="reference internal" href="../command/add_test.html#command:add_test" title="add_test" id="index-0-command:add_test"><code>add_test()</code></a> commands have testing support. This program will run the tests and report results.</p>   <h2 id="id1">Run Tests</h2> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-preset">
<code>--preset &lt;preset&gt;, --preset=&lt;preset&gt;</code> </dt> <dd>
<p>Use a test preset to specify test options. The project binary directory is inferred from the <code>configurePreset</code> key. The current working directory must contain CMake preset files. See <a class="reference internal" href="cmake-presets.7.html#manual:cmake-presets(7)" title="cmake-presets(7)" id="index-0-manual:cmake-presets(7)"><code>preset</code></a> for more details.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-list-presets">
<code>--list-presets</code> </dt> <dd>
<p>Lists the available test presets. The current working directory must contain CMake preset files.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-C">
<code>-C &lt;cfg&gt;, --build-config &lt;cfg&gt;</code> </dt> <dd>
<p>Choose configuration to test.</p> <p>Some CMake-generated build trees can have multiple build configurations in the same tree. This option can be used to specify which one should be tested. Example configurations are <code>Debug</code> and <code>Release</code>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-progress">
<code>--progress</code> </dt> <dd>
<p>Enable short progress output from tests.</p> <p>When the output of <strong class="program">ctest</strong> is being sent directly to a terminal, the progress through the set of tests is reported by updating the same line rather than printing start and end messages for each test on new lines. This can significantly reduce the verbosity of the test output. Test completion messages are still output on their own line for failed tests and the final test summary will also still be logged.</p> <p>This option can also be enabled by setting the environment variable <a class="reference internal" href="../envvar/ctest_progress_output.html#envvar:CTEST_PROGRESS_OUTPUT" title="CTEST_PROGRESS_OUTPUT" id="index-0-envvar:CTEST_PROGRESS_OUTPUT"><code>CTEST_PROGRESS_OUTPUT</code></a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-V">
<code>-V, --verbose</code> </dt> <dd>
<p>Enable verbose output from tests.</p> <p>Test output is normally suppressed and only summary information is displayed. This option will show all test output.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-VV">
<code>-VV, --extra-verbose</code> </dt> <dd>
<p>Enable more verbose output from tests.</p> <p>Test output is normally suppressed and only summary information is displayed. This option will show even more test output.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-debug">
<code>--debug</code> </dt> <dd>
<p>Displaying more verbose internals of CTest.</p> <p>This feature will result in a large number of output that is mostly useful for debugging dashboard problems.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-output-on-failure">
<code>--output-on-failure</code> </dt> <dd>
<p>Output anything outputted by the test program if the test should fail. This option can also be enabled by setting the <a class="reference internal" href="../envvar/ctest_output_on_failure.html#envvar:CTEST_OUTPUT_ON_FAILURE" title="CTEST_OUTPUT_ON_FAILURE" id="index-0-envvar:CTEST_OUTPUT_ON_FAILURE"><code>CTEST_OUTPUT_ON_FAILURE</code></a> environment variable</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-stop-on-failure">
<code>--stop-on-failure</code> </dt> <dd>
<p>Stop running the tests when the first failure happens.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-F">
<code>-F</code> </dt> <dd>
<p>Enable failover.</p> <p>This option allows CTest to resume a test set execution that was previously interrupted. If no interruption occurred, the <code>-F</code> option will have no effect.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-j">
<code>-j &lt;jobs&gt;, --parallel &lt;jobs&gt;</code> </dt> <dd>
<p>Run the tests in parallel using the given number of jobs.</p> <p>This option tells CTest to run the tests in parallel using given number of jobs. This option can also be set by setting the <a class="reference internal" href="../envvar/ctest_parallel_level.html#envvar:CTEST_PARALLEL_LEVEL" title="CTEST_PARALLEL_LEVEL" id="index-0-envvar:CTEST_PARALLEL_LEVEL"><code>CTEST_PARALLEL_LEVEL</code></a> environment variable.</p> <p>This option can be used with the <a class="reference internal" href="../prop_test/processors.html#prop_test:PROCESSORS" title="PROCESSORS" id="index-0-prop_test:PROCESSORS"><code>PROCESSORS</code></a> test property.</p> <p>See <a class="reference internal" href="#label-and-subproject-summary">Label and Subproject Summary</a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-resource-spec-file">
<code>--resource-spec-file &lt;file&gt;</code> </dt> <dd>
<p>Run CTest with <a class="reference internal" href="#ctest-resource-allocation"><span class="std std-ref">resource allocation</span></a> enabled, using the <a class="reference internal" href="#ctest-resource-specification-file"><span class="std std-ref">resource specification file</span></a> specified in <code>&lt;file&gt;</code>.</p> <p>When <strong class="program">ctest</strong> is run as a <a class="reference internal" href="#dashboard-client">Dashboard Client</a> this sets the <code>ResourceSpecFile</code> option of the <a class="reference internal" href="#ctest-test-step">CTest Test Step</a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-test-load">
<code>--test-load &lt;level&gt;</code> </dt> <dd>
<p>While running tests in parallel (e.g. with <a class="reference internal" href="#cmdoption-ctest-j"><code>-j</code></a>), try not to start tests when they may cause the CPU load to pass above a given threshold.</p> <p>When <strong class="program">ctest</strong> is run as a <a class="reference internal" href="#dashboard-client">Dashboard Client</a> this sets the <code>TestLoad</code> option of the <a class="reference internal" href="#ctest-test-step">CTest Test Step</a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-Q">
<code>-Q, --quiet</code> </dt> <dd>
<p>Make CTest quiet.</p> <p>This option will suppress all the output. The output log file will still be generated if the <a class="reference internal" href="#cmdoption-ctest-O"><code>--output-log</code></a> is specified. Options such as <a class="reference internal" href="#cmdoption-ctest-V"><code>--verbose</code></a>, <a class="reference internal" href="#cmdoption-ctest-VV"><code>--extra-verbose</code></a>, and <a class="reference internal" href="#cmdoption-ctest-debug"><code>--debug</code></a> are ignored if <code>--quiet</code> is specified.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-O">
<code>-O &lt;file&gt;, --output-log &lt;file&gt;</code> </dt> <dd>
<p>Output to log file.</p> <p>This option tells CTest to write all its output to a <code>&lt;file&gt;</code> log file.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-output-junit">
<code>--output-junit &lt;file&gt;</code> </dt> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.21.</span></p> </div> <p>Write test results in JUnit format.</p> <p>This option tells CTest to write test results to <code>&lt;file&gt;</code> in JUnit XML format. If <code>&lt;file&gt;</code> already exists, it will be overwritten. If using the <a class="reference internal" href="#cmdoption-ctest-S"><code>-S</code></a> option to run a dashboard script, use the <code>OUTPUT_JUNIT</code> keyword with the <a class="reference internal" href="../command/ctest_test.html#command:ctest_test" title="ctest_test" id="index-0-command:ctest_test"><code>ctest_test()</code></a> command instead.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-N">
<code>-N, --show-only[=&lt;format&gt;]</code> </dt> <dd>
<p>Disable actual execution of tests.</p> <p>This option tells CTest to list the tests that would be run but not actually run them. Useful in conjunction with the <a class="reference internal" href="#cmdoption-ctest-R"><code>-R</code></a> and <a class="reference internal" href="#cmdoption-ctest-E"><code>-E</code></a> options.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.14: </span>The <code>--show-only</code> option accepts a <code>&lt;format&gt;</code> value.</p> </div> <p><code>&lt;format&gt;</code> can be one of the following values.</p>  <dl class="simple"> <dt>
<code>human</code> </dt>
<dd>
<p>Human-friendly output. This is not guaranteed to be stable. This is the default.</p> </dd> <dt>
<code>json-v1</code> </dt>
<dd>
<p>Dump the test information in JSON format. See <a class="reference internal" href="#show-as-json-object-model">Show as JSON Object Model</a>.</p> </dd> </dl>  </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-L">
<code>-L &lt;regex&gt;, --label-regex &lt;regex&gt;</code> </dt> <dd>
<p>Run tests with labels matching regular expression as described under <a class="reference internal" href="../command/string.html#regex-specification"><span class="std std-ref">string(REGEX)</span></a>.</p> <p>This option tells CTest to run only the tests whose labels match the given regular expression. When more than one <code>-L</code> option is given, a test will only be run if each regular expression matches at least one of the test's labels (i.e. the multiple <code>-L</code> labels form an <code>AND</code> relationship). See <a class="reference internal" href="#label-matching">Label Matching</a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-R">
<code>-R &lt;regex&gt;, --tests-regex &lt;regex&gt;</code> </dt> <dd>
<p>Run tests matching regular expression.</p> <p>This option tells CTest to run only the tests whose names match the given regular expression.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-E">
<code>-E &lt;regex&gt;, --exclude-regex &lt;regex&gt;</code> </dt> <dd>
<p>Exclude tests matching regular expression.</p> <p>This option tells CTest to NOT run the tests whose names match the given regular expression.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-LE">
<code>-LE &lt;regex&gt;, --label-exclude &lt;regex&gt;</code> </dt> <dd>
<p>Exclude tests with labels matching regular expression.</p> <p>This option tells CTest to NOT run the tests whose labels match the given regular expression. When more than one <code>-LE</code> option is given, a test will only be excluded if each regular expression matches at least one of the test's labels (i.e. the multiple <code>-LE</code> labels form an <code>AND</code> relationship). See <a class="reference internal" href="#label-matching">Label Matching</a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-FA">
<code>-FA &lt;regex&gt;, --fixture-exclude-any &lt;regex&gt;</code> </dt> <dd>
<p>Exclude fixtures matching <code>&lt;regex&gt;</code> from automatically adding any tests to the test set.</p> <p>If a test in the set of tests to be executed requires a particular fixture, that fixture's setup and cleanup tests would normally be added to the test set automatically. This option prevents adding setup or cleanup tests for fixtures matching the <code>&lt;regex&gt;</code>. Note that all other fixture behavior is retained, including test dependencies and skipping tests that have fixture setup tests that fail.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-FS">
<code>-FS &lt;regex&gt;, --fixture-exclude-setup &lt;regex&gt;</code> </dt> <dd>
<p>Same as <a class="reference internal" href="#cmdoption-ctest-FA"><code>-FA</code></a> except only matching setup tests are excluded.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-FC">
<code>-FC &lt;regex&gt;, --fixture-exclude-cleanup &lt;regex&gt;</code> </dt> <dd>
<p>Same as <a class="reference internal" href="#cmdoption-ctest-FA"><code>-FA</code></a> except only matching cleanup tests are excluded.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-I">
<code>-I [Start,End,Stride,test#,test#|Test file], --tests-information</code> </dt> <dd>
<p>Run a specific number of tests by number.</p> <p>This option causes CTest to run tests starting at number <code>Start</code>, ending at number <code>End</code>, and incrementing by <code>Stride</code>. Any additional numbers after <code>Stride</code> are considered individual test numbers. <code>Start</code>, <code>End</code>, or <code>Stride</code> can be empty. Optionally a file can be given that contains the same syntax as the command line.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-U">
<code>-U, --union</code> </dt> <dd>
<p>Take the Union of <a class="reference internal" href="#cmdoption-ctest-I"><code>-I</code></a> and <a class="reference internal" href="#cmdoption-ctest-R"><code>-R</code></a>.</p> <p>When both <a class="reference internal" href="#cmdoption-ctest-R"><code>-R</code></a> and <a class="reference internal" href="#cmdoption-ctest-I"><code>-I</code></a> are specified by default the intersection of tests are run. By specifying <code>-U</code> the union of tests is run instead.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-rerun-failed">
<code>--rerun-failed</code> </dt> <dd>
<p>Run only the tests that failed previously.</p> <p>This option tells CTest to perform only the tests that failed during its previous run. When this option is specified, CTest ignores all other options intended to modify the list of tests to run ( <a class="reference internal" href="#cmdoption-ctest-L"><code>-L</code></a>, <a class="reference internal" href="#cmdoption-ctest-R"><code>-R</code></a>, <a class="reference internal" href="#cmdoption-ctest-E"><code>-E</code></a>, <a class="reference internal" href="#cmdoption-ctest-LE"><code>-LE</code></a>, <a class="reference internal" href="#cmdoption-ctest-I"><code>-I</code></a>, etc). In the event that CTest runs and no tests fail, subsequent calls to CTest with the <code>--rerun-failed</code> option will run the set of tests that most recently failed (if any).</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-repeat">
<code>--repeat &lt;mode&gt;:&lt;n&gt;</code> </dt> <dd>
<p>Run tests repeatedly based on the given <code>&lt;mode&gt;</code> up to <code>&lt;n&gt;</code> times. The modes are:</p> <dl class="simple"> <dt>
<code>until-fail</code> </dt>
<dd>
<p>Require each test to run <code>&lt;n&gt;</code> times without failing in order to pass. This is useful in finding sporadic failures in test cases.</p> </dd> <dt>
<code>until-pass</code> </dt>
<dd>
<p>Allow each test to run up to <code>&lt;n&gt;</code> times in order to pass. Repeats tests if they fail for any reason. This is useful in tolerating sporadic failures in test cases.</p> </dd> <dt>
<code>after-timeout</code> </dt>
<dd>
<p>Allow each test to run up to <code>&lt;n&gt;</code> times in order to pass. Repeats tests only if they timeout. This is useful in tolerating sporadic timeouts in test cases on busy machines.</p> </dd> </dl> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-repeat-until-fail">
<code>--repeat-until-fail &lt;n&gt;</code> </dt> <dd>
<p>Equivalent to <a class="reference internal" href="#cmdoption-ctest-repeat"><code>--repeat until-fail:&lt;n&gt;</code></a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-max-width">
<code>--max-width &lt;width&gt;</code> </dt> <dd>
<p>Set the max width for a test name to output.</p> <p>Set the maximum width for each test name to show in the output. This allows the user to widen the output to avoid clipping the test name which can be very annoying.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-interactive-debug-mode">
<code>--interactive-debug-mode [0|1]</code> </dt> <dd>
<p>Set the interactive mode to <code>0</code> or <code>1</code>.</p> <p>This option causes CTest to run tests in either an interactive mode or a non-interactive mode. In dashboard mode (<code>Experimental</code>, <code>Nightly</code>, <code>Continuous</code>), the default is non-interactive. In non-interactive mode, the environment variable <a class="reference internal" href="../envvar/dashboard_test_from_ctest.html#envvar:DASHBOARD_TEST_FROM_CTEST" title="DASHBOARD_TEST_FROM_CTEST" id="index-0-envvar:DASHBOARD_TEST_FROM_CTEST"><code>DASHBOARD_TEST_FROM_CTEST</code></a> is set.</p> <p>Prior to CMake 3.11, interactive mode on Windows allowed system debug popup windows to appear. Now, due to CTest's use of <code>libuv</code> to launch test processes, all system debug popup windows are always blocked.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-no-label-summary">
<code>--no-label-summary</code> </dt> <dd>
<p>Disable timing summary information for labels.</p> <p>This option tells CTest not to print summary information for each label associated with the tests run. If there are no labels on the tests, nothing extra is printed.</p> <p>See <a class="reference internal" href="#label-and-subproject-summary">Label and Subproject Summary</a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-no-subproject-summary">
<code>--no-subproject-summary</code> </dt> <dd>
<p>Disable timing summary information for subprojects.</p> <p>This option tells CTest not to print summary information for each subproject associated with the tests run. If there are no subprojects on the tests, nothing extra is printed.</p> <p>See <a class="reference internal" href="#label-and-subproject-summary">Label and Subproject Summary</a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-test-dir">
<code>--test-dir &lt;dir&gt;</code> </dt> <dd>
<p>Specify the directory in which to look for tests.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-test-output-size-passed">
<code>--test-output-size-passed &lt;size&gt;</code> </dt> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.4.</span></p> </div> <p>Limit the output for passed tests to <code>&lt;size&gt;</code> bytes.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-test-output-size-failed">
<code>--test-output-size-failed &lt;size&gt;</code> </dt> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.4.</span></p> </div> <p>Limit the output for failed tests to <code>&lt;size&gt;</code> bytes.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-test-output-truncation">
<code>--test-output-truncation &lt;mode&gt;</code> </dt> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.24.</span></p> </div> <p>Truncate <code>tail</code> (default), <code>middle</code> or <code>head</code> of test output once maximum output size is reached.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-overwrite">
<code>--overwrite</code> </dt> <dd>
<p>Overwrite CTest configuration option.</p> <p>By default CTest uses configuration options from configuration file. This option will overwrite the configuration option.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-force-new-ctest-process">
<code>--force-new-ctest-process</code> </dt> <dd>
<p>Run child CTest instances as new processes.</p> <p>By default CTest will run child CTest instances within the same process. If this behavior is not desired, this argument will enforce new processes for child CTest processes.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-schedule-random">
<code>--schedule-random</code> </dt> <dd>
<p>Use a random order for scheduling tests.</p> <p>This option will run the tests in a random order. It is commonly used to detect implicit dependencies in a test suite.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-submit-index">
<code>--submit-index</code> </dt> <dd>
<p>Legacy option for old Dart2 dashboard server feature. Do not use.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-timeout">
<code>--timeout &lt;seconds&gt;</code> </dt> <dd>
<p>Set the default test timeout.</p> <p>This option effectively sets a timeout on all tests that do not already have a timeout set on them via the <a class="reference internal" href="../prop_test/timeout.html#prop_test:TIMEOUT" title="TIMEOUT" id="index-0-prop_test:TIMEOUT"><code>TIMEOUT</code></a> property.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-stop-time">
<code>--stop-time &lt;time&gt;</code> </dt> <dd>
<p>Set a time at which all tests should stop running.</p> <p>Set a real time of day at which all tests should timeout. Example: <code>7:00:00 -0400</code>. Any time format understood by the curl date parser is accepted. Local time is assumed if no timezone is specified.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-print-labels">
<code>--print-labels</code> </dt> <dd>
<p>Print all available test labels.</p> <p>This option will not run any tests, it will simply print the list of all labels associated with the test set.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-no-tests">
<code>--no-tests=&lt;action&gt;</code> </dt> <dd>
<p>Regard no tests found either as error (when <code>&lt;action&gt;</code> is set to <code>error</code>) or ignore it (when <code>&lt;action&gt;</code> is set to <code>ignore</code>).</p> <p>If no tests were found, the default behavior of CTest is to always log an error message but to return an error code in script mode only. This option unifies the behavior of CTest by either returning an error code if no tests were found or by ignoring it.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.26.</span></p> </div> <p>This option can also be set by setting the <a class="reference internal" href="../envvar/ctest_no_tests_action.html#envvar:CTEST_NO_TESTS_ACTION" title="CTEST_NO_TESTS_ACTION" id="index-0-envvar:CTEST_NO_TESTS_ACTION"><code>CTEST_NO_TESTS_ACTION</code></a> environment variable.</p> </dd>
</dl>   <h2>View Help</h2> <p>To print version details or selected pages from the CMake documentation, use one of the following options:</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-version">
<code>-version [&lt;file&gt;], --version [&lt;file&gt;], /V [&lt;file&gt;]</code> </dt> <dd>
<p>Show program name/version banner and exit. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-h">
<code>-h, -H, --help, -help, -usage, /?</code> </dt> <dd>
<p>Print usage information and exit.</p> <p>Usage describes the basic command line interface and its options.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-full">
<code>--help-full [&lt;file&gt;]</code> </dt> <dd>
<p>Print all help manuals and exit.</p> <p>All manuals are printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-manual">
<code>--help-manual &lt;man&gt; [&lt;file&gt;]</code> </dt> <dd>
<p>Print one help manual and exit.</p> <p>The specified manual is printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-manual-list">
<code>--help-manual-list [&lt;file&gt;]</code> </dt> <dd>
<p>List help manuals available and exit.</p> <p>The list contains all manuals for which help may be obtained by using the <code>--help-manual</code> option followed by a manual name. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-command">
<code>--help-command &lt;cmd&gt; [&lt;file&gt;]</code> </dt> <dd>
<p>Print help for one command and exit.</p> <p>The <a class="reference internal" href="cmake-commands.7.html#manual:cmake-commands(7)" title="cmake-commands(7)" id="index-0-manual:cmake-commands(7)"><code>cmake-commands(7)</code></a> manual entry for <code>&lt;cmd&gt;</code> is printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-command-list">
<code>--help-command-list [&lt;file&gt;]</code> </dt> <dd>
<p>List commands with help available and exit.</p> <p>The list contains all commands for which help may be obtained by using the <code>--help-command</code> option followed by a command name. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-commands">
<code>--help-commands [&lt;file&gt;]</code> </dt> <dd>
<p>Print cmake-commands manual and exit.</p> <p>The <a class="reference internal" href="cmake-commands.7.html#manual:cmake-commands(7)" title="cmake-commands(7)" id="index-1-manual:cmake-commands(7)"><code>cmake-commands(7)</code></a> manual is printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-module">
<code>--help-module &lt;mod&gt; [&lt;file&gt;]</code> </dt> <dd>
<p>Print help for one module and exit.</p> <p>The <a class="reference internal" href="cmake-modules.7.html#manual:cmake-modules(7)" title="cmake-modules(7)" id="index-0-manual:cmake-modules(7)"><code>cmake-modules(7)</code></a> manual entry for <code>&lt;mod&gt;</code> is printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-module-list">
<code>--help-module-list [&lt;file&gt;]</code> </dt> <dd>
<p>List modules with help available and exit.</p> <p>The list contains all modules for which help may be obtained by using the <code>--help-module</code> option followed by a module name. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-modules">
<code>--help-modules [&lt;file&gt;]</code> </dt> <dd>
<p>Print cmake-modules manual and exit.</p> <p>The <a class="reference internal" href="cmake-modules.7.html#manual:cmake-modules(7)" title="cmake-modules(7)" id="index-1-manual:cmake-modules(7)"><code>cmake-modules(7)</code></a> manual is printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-policy">
<code>--help-policy &lt;cmp&gt; [&lt;file&gt;]</code> </dt> <dd>
<p>Print help for one policy and exit.</p> <p>The <a class="reference internal" href="cmake-policies.7.html#manual:cmake-policies(7)" title="cmake-policies(7)" id="index-0-manual:cmake-policies(7)"><code>cmake-policies(7)</code></a> manual entry for <code>&lt;cmp&gt;</code> is printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-policy-list">
<code>--help-policy-list [&lt;file&gt;]</code> </dt> <dd>
<p>List policies with help available and exit.</p> <p>The list contains all policies for which help may be obtained by using the <code>--help-policy</code> option followed by a policy name. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-policies">
<code>--help-policies [&lt;file&gt;]</code> </dt> <dd>
<p>Print cmake-policies manual and exit.</p> <p>The <a class="reference internal" href="cmake-policies.7.html#manual:cmake-policies(7)" title="cmake-policies(7)" id="index-1-manual:cmake-policies(7)"><code>cmake-policies(7)</code></a> manual is printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-property">
<code>--help-property &lt;prop&gt; [&lt;file&gt;]</code> </dt> <dd>
<p>Print help for one property and exit.</p> <p>The <a class="reference internal" href="cmake-properties.7.html#manual:cmake-properties(7)" title="cmake-properties(7)" id="index-0-manual:cmake-properties(7)"><code>cmake-properties(7)</code></a> manual entries for <code>&lt;prop&gt;</code> are printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-property-list">
<code>--help-property-list [&lt;file&gt;]</code> </dt> <dd>
<p>List properties with help available and exit.</p> <p>The list contains all properties for which help may be obtained by using the <code>--help-property</code> option followed by a property name. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-properties">
<code>--help-properties [&lt;file&gt;]</code> </dt> <dd>
<p>Print cmake-properties manual and exit.</p> <p>The <a class="reference internal" href="cmake-properties.7.html#manual:cmake-properties(7)" title="cmake-properties(7)" id="index-1-manual:cmake-properties(7)"><code>cmake-properties(7)</code></a> manual is printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-variable">
<code>--help-variable &lt;var&gt; [&lt;file&gt;]</code> </dt> <dd>
<p>Print help for one variable and exit.</p> <p>The <a class="reference internal" href="cmake-variables.7.html#manual:cmake-variables(7)" title="cmake-variables(7)" id="index-0-manual:cmake-variables(7)"><code>cmake-variables(7)</code></a> manual entry for <code>&lt;var&gt;</code> is printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-variable-list">
<code>--help-variable-list [&lt;file&gt;]</code> </dt> <dd>
<p>List variables with help available and exit.</p> <p>The list contains all variables for which help may be obtained by using the <code>--help-variable</code> option followed by a variable name. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-help-variables">
<code>--help-variables [&lt;file&gt;]</code> </dt> <dd>
<p>Print cmake-variables manual and exit.</p> <p>The <a class="reference internal" href="cmake-variables.7.html#manual:cmake-variables(7)" title="cmake-variables(7)" id="index-1-manual:cmake-variables(7)"><code>cmake-variables(7)</code></a> manual is printed in a human-readable text format. The output is printed to a named <code>&lt;file&gt;</code> if given.</p> </dd>
</dl>   <h2 id="id2">Label Matching</h2> <p>Tests may have labels attached to them. Tests may be included or excluded from a test run by filtering on the labels. Each individual filter is a regular expression applied to the labels attached to a test.</p> <p>When <a class="reference internal" href="#cmdoption-ctest-L"><code>-L</code></a> is used, in order for a test to be included in a test run, each regular expression must match at least one label. Using more than one <a class="reference internal" href="#cmdoption-ctest-L"><code>-L</code></a> option means "match <strong>all</strong> of these".</p> <p>The <a class="reference internal" href="#cmdoption-ctest-LE"><code>-LE</code></a> option works just like <a class="reference internal" href="#cmdoption-ctest-L"><code>-L</code></a>, but excludes tests rather than including them. A test is excluded if each regular expression matches at least one label.</p> <p>If a test has no labels attached to it, then <a class="reference internal" href="#cmdoption-ctest-L"><code>-L</code></a> will never include that test, and <a class="reference internal" href="#cmdoption-ctest-LE"><code>-LE</code></a> will never exclude that test. As an example of tests with labels, consider five tests, with the following labels:</p> <ul class="simple"> <li>
<em>test1</em> has labels <em>tuesday</em> and <em>production</em>
</li> <li>
<em>test2</em> has labels <em>tuesday</em> and <em>test</em>
</li> <li>
<em>test3</em> has labels <em>wednesday</em> and <em>production</em>
</li> <li>
<em>test4</em> has label <em>wednesday</em>
</li> <li>
<em>test5</em> has labels <em>friday</em> and <em>test</em>
</li> </ul> <p>Running <strong class="program">ctest</strong> with <code>-L tuesday -L test</code> will select <em>test2</em>, which has both labels. Running CTest with <code>-L test</code> will select <em>test2</em> and <em>test5</em>, because both of them have a label that matches that regular expression.</p> <p>Because the matching works with regular expressions, take note that running CTest with <code>-L es</code> will match all five tests. To select the <em>tuesday</em> and <em>wednesday</em> tests together, use a single regular expression that matches either of them, like <code>-L "tue|wed"</code>.</p>   <h2 id="id3">Label and Subproject Summary</h2> <p>CTest prints timing summary information for each <code>LABEL</code> and subproject associated with the tests run. The label time summary will not include labels that are mapped to subprojects.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.22: </span>Labels added dynamically during test execution are also reported in the timing summary. See <a class="reference internal" href="../command/ctest_test.html#additional-labels"><span class="std std-ref">Additional Labels</span></a>.</p> </div> <p>When the <a class="reference internal" href="../prop_test/processors.html#prop_test:PROCESSORS" title="PROCESSORS" id="index-1-prop_test:PROCESSORS"><code>PROCESSORS</code></a> test property is set, CTest will display a weighted test timing result in label and subproject summaries. The time is reported with <code>sec*proc</code> instead of just <code>sec</code>.</p> <p>The weighted time summary reported for each label or subproject <code>j</code> is computed as:</p> <pre data-language="none">Weighted Time Summary for Label/Subproject j =
    sum(raw_test_time[j,i] * num_processors[j,i], i=1...num_tests[j])

for labels/subprojects j=1...total
</pre> <p>where:</p> <ul class="simple"> <li>
<code>raw_test_time[j,i]</code>: Wall-clock time for the <code>i</code> test for the <code>j</code> label or subproject</li> <li>
<code>num_processors[j,i]</code>: Value of the CTest <a class="reference internal" href="../prop_test/processors.html#prop_test:PROCESSORS" title="PROCESSORS" id="index-2-prop_test:PROCESSORS"><code>PROCESSORS</code></a> property for the <code>i</code> test for the <code>j</code> label or subproject</li> <li>
<code>num_tests[j]</code>: Number of tests associated with the <code>j</code> label or subproject</li> <li>
<code>total</code>: Total number of labels or subprojects that have at least one test run</li> </ul> <p>Therefore, the weighted time summary for each label or subproject represents the amount of time that CTest gave to run the tests for each label or subproject and gives a good representation of the total expense of the tests for each label or subproject when compared to other labels or subprojects.</p> <p>For example, if <code>SubprojectA</code> showed <code>100 sec*proc</code> and <code>SubprojectB</code> showed <code>10 sec*proc</code>, then CTest allocated approximately 10 times the CPU/core time to run the tests for <code>SubprojectA</code> than for <code>SubprojectB</code> (e.g. so if effort is going to be expended to reduce the cost of the test suite for the whole project, then reducing the cost of the test suite for <code>SubprojectA</code> would likely have a larger impact than effort to reduce the cost of the test suite for <code>SubprojectB</code>).</p>   <h2 id="id4">Build and Test Mode</h2> <p>CTest provides a command-line signature to configure (i.e. run cmake on), build, and/or execute a test:</p> <pre data-language="none">ctest --build-and-test &lt;path-to-source&gt; &lt;path-to-build&gt;
      --build-generator &lt;generator&gt;
      [&lt;options&gt;...]
      [--build-options &lt;opts&gt;...]
      [--test-command &lt;command&gt; [&lt;args&gt;...]]
</pre> <p>The configure and test steps are optional. The arguments to this command line are the source and binary directories. The <code>--build-generator</code> option <em>must</em> be provided to use <code>--build-and-test</code>. If <code>--test-command</code> is specified then that will be run after the build is complete. Other options that affect this mode include:</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-and-test">
<code>--build-and-test</code> </dt> <dd>
<p>Switch into the build and test mode.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-target">
<code>--build-target</code> </dt> <dd>
<p>Specify a specific target to build. The option can be given multiple times with different targets, in which case each target is built in turn. A clean will be done before building each target unless the <a class="reference internal" href="#cmdoption-ctest-build-noclean"><code>--build-noclean</code></a> option is given.</p> <p>If no <code>--build-target</code> is specified, the <code>all</code> target is built.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-nocmake">
<code>--build-nocmake</code> </dt> <dd>
<p>Run the build without running cmake first.</p> <p>Skip the cmake step.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-run-dir">
<code>--build-run-dir</code> </dt> <dd>
<p>Specify directory to run programs from.</p> <p>Directory where programs will be after it has been compiled.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-two-config">
<code>--build-two-config</code> </dt> <dd>
<p>Run CMake twice.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-exe-dir">
<code>--build-exe-dir</code> </dt> <dd>
<p>Specify the directory for the executable.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-generator">
<code>--build-generator</code> </dt> <dd>
<p>Specify the generator to use. See the <a class="reference internal" href="cmake-generators.7.html#manual:cmake-generators(7)" title="cmake-generators(7)" id="index-0-manual:cmake-generators(7)"><code>cmake-generators(7)</code></a> manual.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-generator-platform">
<code>--build-generator-platform</code> </dt> <dd>
<p>Specify the generator-specific platform.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-generator-toolset">
<code>--build-generator-toolset</code> </dt> <dd>
<p>Specify the generator-specific toolset.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-project">
<code>--build-project</code> </dt> <dd>
<p>Specify the name of the project to build.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-makeprogram">
<code>--build-makeprogram</code> </dt> <dd>
<p>Specify the explicit make program to be used by CMake when configuring and building the project. Only applicable for Make and Ninja based generators.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-noclean">
<code>--build-noclean</code> </dt> <dd>
<p>Skip the make clean step.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-config-sample">
<code>--build-config-sample</code> </dt> <dd>
<p>A sample executable to use to determine the configuration that should be used. e.g. <code>Debug</code>, <code>Release</code> etc.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-build-options">
<code>--build-options</code> </dt> <dd>
<p>Additional options for configuring the build (i.e. for CMake, not for the build tool). Note that if this is specified, the <code>--build-options</code> keyword and its arguments must be the last option given on the command line, with the possible exception of <code>--test-command</code>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-test-command">
<code>--test-command</code> </dt> <dd>
<p>The command to run as the test step with the <a class="reference internal" href="#cmdoption-ctest-build-and-test"><code>--build-and-test</code></a> option. All arguments following this keyword will be assumed to be part of the test command line, so it must be the last option given.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-test-timeout">
<code>--test-timeout</code> </dt> <dd>
<p>The time limit in seconds</p> </dd>
</dl>   <h2 id="id5">Dashboard Client</h2> <p>CTest can operate as a client for the <a class="reference internal" href="#cdash">CDash</a> software quality dashboard application. As a dashboard client, CTest performs a sequence of steps to configure, build, and test software, and then submits the results to a <a class="reference internal" href="#cdash">CDash</a> server. The command-line signature used to submit to <a class="reference internal" href="#cdash">CDash</a> is:</p> <pre data-language="none">ctest -D &lt;dashboard&gt;         [-- &lt;dashboard-options&gt;...]
ctest -M &lt;model&gt; -T &lt;action&gt; [-- &lt;dashboard-options&gt;...]
ctest -S &lt;script&gt;            [-- &lt;dashboard-options&gt;...]
ctest -SP &lt;script&gt;           [-- &lt;dashboard-options&gt;...]
</pre> <p>Options for Dashboard Client include:</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-D">
<code>-D &lt;dashboard&gt;, --dashboard &lt;dashboard&gt;</code> </dt> <dd>
<p>Execute dashboard test.</p> <p>This option tells CTest to act as a CDash client and perform a dashboard test. All tests are <code>&lt;Mode&gt;&lt;Test&gt;</code>, where <code>&lt;Mode&gt;</code> can be <code>Experimental</code>, <code>Nightly</code>, and <code>Continuous</code>, and <code>&lt;Test&gt;</code> can be <code>Start</code>, <code>Update</code>, <code>Configure</code>, <code>Build</code>, <code>Test</code>, <code>Coverage</code>, and <code>Submit</code>.</p> <p>If <code>&lt;dashboard&gt;</code> is not one of the recognized <code>&lt;Mode&gt;&lt;Test&gt;</code> values, this will be treated as a variable definition instead (see the <a class="reference internal" href="#dashboard-options"><span class="std std-ref">dashboard-options</span></a> further below).</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-M">
<code>-M &lt;model&gt;, --test-model &lt;model&gt;</code> </dt> <dd>
<p>Sets the model for a dashboard.</p> <p>This option tells CTest to act as a CDash client where the <code>&lt;model&gt;</code> can be <code>Experimental</code>, <code>Nightly</code>, and <code>Continuous</code>. Combining <code>-M</code> and <a class="reference internal" href="#cmdoption-ctest-T"><code>-T</code></a> is similar to <a class="reference internal" href="#cmdoption-ctest-2"><code>-D</code></a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-T">
<code>-T &lt;action&gt;, --test-action &lt;action&gt;</code> </dt> <dd>
<p>Sets the dashboard action to perform.</p> <p>This option tells CTest to act as a CDash client and perform some action such as <code>start</code>, <code>build</code>, <code>test</code> etc. See <a class="reference internal" href="#dashboard-client-steps">Dashboard Client Steps</a> for the full list of actions. Combining <a class="reference internal" href="#cmdoption-ctest-M"><code>-M</code></a> and <code>-T</code> is similar to <a class="reference internal" href="#cmdoption-ctest-2"><code>-D</code></a>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-S">
<code>-S &lt;script&gt;, --script &lt;script&gt;</code> </dt> <dd>
<p>Execute a dashboard for a configuration.</p> <p>This option tells CTest to load in a configuration script which sets a number of parameters such as the binary and source directories. Then CTest will do what is required to create and run a dashboard. This option basically sets up a dashboard and then runs <a class="reference internal" href="#cmdoption-ctest-2"><code>ctest -D</code></a> with the appropriate options.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-SP">
<code>-SP &lt;script&gt;, --script-new-process &lt;script&gt;</code> </dt> <dd>
<p>Execute a dashboard for a configuration.</p> <p>This option does the same operations as <a class="reference internal" href="#cmdoption-ctest-S"><code>-S</code></a> but it will do them in a separate process. This is primarily useful in cases where the script may modify the environment and you do not want the modified environment to impact other <a class="reference internal" href="#cmdoption-ctest-S"><code>-S</code></a> scripts.</p> </dd>
</dl> <p id="dashboard-options">The available <code>&lt;dashboard-options&gt;</code> are the following:</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-2">
<code>-D &lt;var&gt;:&lt;type&gt;=&lt;value&gt;</code> </dt> <dd>
<p>Define a variable for script mode.</p> <p>Pass in variable values on the command line. Use in conjunction with <a class="reference internal" href="#cmdoption-ctest-S"><code>-S</code></a> to pass variable values to a dashboard script. Parsing <code>-D</code> arguments as variable values is only attempted if the value following <code>-D</code> does not match any of the known dashboard types.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-group">
<code>--group &lt;group&gt;</code> </dt> <dd>
<p>Specify what group you'd like to submit results to</p> <p>Submit dashboard to specified group instead of default one. By default, the dashboard is submitted to Nightly, Experimental, or Continuous group, but by specifying this option, the group can be arbitrary.</p> <p>This replaces the deprecated option <code>--track</code>. Despite the name change its behavior is unchanged.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-A">
<code>-A &lt;file&gt;, --add-notes &lt;file&gt;</code> </dt> <dd>
<p>Add a notes file with submission.</p> <p>This option tells CTest to include a notes file when submitting dashboard.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-tomorrow-tag">
<code>--tomorrow-tag</code> </dt> <dd>
<p><code>Nightly</code> or <code>Experimental</code> starts with next day tag.</p> <p>This is useful if the build will not finish in one day.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-extra-submit">
<code>--extra-submit &lt;file&gt;[;&lt;file&gt;]</code> </dt> <dd>
<p>Submit extra files to the dashboard.</p> <p>This option will submit extra files to the dashboard.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-http1.0">
<code>--http1.0</code> </dt> <dd>
<p>Submit using <code>HTTP 1.0</code>.</p> <p>This option will force CTest to use <code>HTTP 1.0</code> to submit files to the dashboard, instead of <code>HTTP 1.1</code>.</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ctest-no-compress-output">
<code>--no-compress-output</code> </dt> <dd>
<p>Do not compress test output when submitting.</p> <p>This flag will turn off automatic compression of test output. Use this to maintain compatibility with an older version of CDash which doesn't support compressed test output.</p> </dd>
</dl>  <h3>Dashboard Client Steps</h3> <p>CTest defines an ordered list of testing steps of which some or all may be run as a dashboard client:</p> <dl class="simple"> <dt>
<code>Start</code> </dt>
<dd>
<p>Start a new dashboard submission to be composed of results recorded by the following steps. See the <a class="reference internal" href="#ctest-start-step">CTest Start Step</a> section below.</p> </dd> <dt>
<code>Update</code> </dt>
<dd>
<p>Update the source tree from its version control repository. Record the old and new versions and the list of updated source files. See the <a class="reference internal" href="#ctest-update-step">CTest Update Step</a> section below.</p> </dd> <dt>
<code>Configure</code> </dt>
<dd>
<p>Configure the software by running a command in the build tree. Record the configuration output log. See the <a class="reference internal" href="#ctest-configure-step">CTest Configure Step</a> section below.</p> </dd> <dt>
<code>Build</code> </dt>
<dd>
<p>Build the software by running a command in the build tree. Record the build output log and detect warnings and errors. See the <a class="reference internal" href="#ctest-build-step">CTest Build Step</a> section below.</p> </dd> <dt>
<code>Test</code> </dt>
<dd>
<p>Test the software by loading a <code>CTestTestfile.cmake</code> from the build tree and executing the defined tests. Record the output and result of each test. See the <a class="reference internal" href="#ctest-test-step">CTest Test Step</a> section below.</p> </dd> <dt>
<code>Coverage</code> </dt>
<dd>
<p>Compute coverage of the source code by running a coverage analysis tool and recording its output. See the <a class="reference internal" href="#ctest-coverage-step">CTest Coverage Step</a> section below.</p> </dd> <dt>
<code>MemCheck</code> </dt>
<dd>
<p>Run the software test suite through a memory check tool. Record the test output, results, and issues reported by the tool. See the <a class="reference internal" href="#ctest-memcheck-step">CTest MemCheck Step</a> section below.</p> </dd> <dt>
<code>Submit</code> </dt>
<dd>
<p>Submit results recorded from other testing steps to the software quality dashboard server. See the <a class="reference internal" href="#ctest-submit-step">CTest Submit Step</a> section below.</p> </dd> </dl>   <h3>Dashboard Client Modes</h3> <p>CTest defines three modes of operation as a dashboard client:</p> <dl class="simple"> <dt>
<code>Nightly</code> </dt>
<dd>
<p>This mode is intended to be invoked once per day, typically at night. It enables the <code>Start</code>, <code>Update</code>, <code>Configure</code>, <code>Build</code>, <code>Test</code>, <code>Coverage</code>, and <code>Submit</code> steps by default. Selected steps run even if the <code>Update</code> step reports no changes to the source tree.</p> </dd> <dt>
<code>Continuous</code> </dt>
<dd>
<p>This mode is intended to be invoked repeatedly throughout the day. It enables the <code>Start</code>, <code>Update</code>, <code>Configure</code>, <code>Build</code>, <code>Test</code>, <code>Coverage</code>, and <code>Submit</code> steps by default, but exits after the <code>Update</code> step if it reports no changes to the source tree.</p> </dd> <dt>
<code>Experimental</code> </dt>
<dd>
<p>This mode is intended to be invoked by a developer to test local changes. It enables the <code>Start</code>, <code>Configure</code>, <code>Build</code>, <code>Test</code>, <code>Coverage</code>, and <code>Submit</code> steps by default.</p> </dd> </dl>   <h3>Dashboard Client via CTest Command-Line</h3> <p>CTest can perform testing on an already-generated build tree. Run the <strong class="program">ctest</strong> command with the current working directory set to the build tree and use one of these signatures:</p> <pre data-language="none">ctest -D &lt;mode&gt;[&lt;step&gt;]
ctest -M &lt;mode&gt; [-T &lt;step&gt;]...
</pre> <p>The <code>&lt;mode&gt;</code> must be one of the above <a class="reference internal" href="#dashboard-client-modes">Dashboard Client Modes</a>, and each <code>&lt;step&gt;</code> must be one of the above <a class="reference internal" href="#dashboard-client-steps">Dashboard Client Steps</a>.</p> <p>CTest reads the <a class="reference internal" href="#dashboard-client-configuration">Dashboard Client Configuration</a> settings from a file in the build tree called either <code>CTestConfiguration.ini</code> or <code>DartConfiguration.tcl</code> (the names are historical). The format of the file is:</p> <pre data-language="none"># Lines starting in '#' are comments.
# Other non-blank lines are key-value pairs.
&lt;setting&gt;: &lt;value&gt;
</pre> <p>where <code>&lt;setting&gt;</code> is the setting name and <code>&lt;value&gt;</code> is the setting value.</p> <p>In build trees generated by CMake, this configuration file is generated by the <a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-0-module:CTest"><code>CTest</code></a> module if included by the project. The module uses variables to obtain a value for each setting as documented with the settings below.</p>   <h3 id="ctest-script">Dashboard Client via CTest Script</h3> <p>CTest can perform testing driven by a <a class="reference internal" href="cmake-language.7.html#manual:cmake-language(7)" title="cmake-language(7)" id="index-0-manual:cmake-language(7)"><code>cmake-language(7)</code></a> script that creates and maintains the source and build tree as well as performing the testing steps. Run the <strong class="program">ctest</strong> command with the current working directory set outside of any build tree and use one of these signatures:</p> <pre data-language="none">ctest -S &lt;script&gt;
ctest -SP &lt;script&gt;
</pre> <p>The <code>&lt;script&gt;</code> file must call <a class="reference internal" href="cmake-commands.7.html#ctest-commands"><span class="std std-ref">CTest Commands</span></a> commands to run testing steps explicitly as documented below. The commands obtain <a class="reference internal" href="#dashboard-client-configuration">Dashboard Client Configuration</a> settings from their arguments or from variables set in the script.</p>    <h2>Dashboard Client Configuration</h2> <p>The <a class="reference internal" href="#dashboard-client-steps">Dashboard Client Steps</a> may be configured by named settings as documented in the following sections.</p>  <h3 id="id6">CTest Start Step</h3> <p>Start a new dashboard submission to be composed of results recorded by the following steps.</p> <p>In a <a class="reference internal" href="#ctest-script">CTest Script</a>, the <a class="reference internal" href="../command/ctest_start.html#command:ctest_start" title="ctest_start" id="index-0-command:ctest_start"><code>ctest_start()</code></a> command runs this step. Arguments to the command may specify some of the step settings. The command first runs the command-line specified by the <code>CTEST_CHECKOUT_COMMAND</code> variable, if set, to initialize the source directory.</p> <p>Configuration settings include:</p> <dl class="simple"> <dt>
<code>BuildDirectory</code> </dt>
<dd>
<p>The full path to the project build tree.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_binary_directory.html#variable:CTEST_BINARY_DIRECTORY" title="CTEST_BINARY_DIRECTORY" id="index-0-variable:CTEST_BINARY_DIRECTORY"><code>CTEST_BINARY_DIRECTORY</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-1-module:CTest"><code>CTest</code></a> module variable: <a class="reference internal" href="../variable/project_binary_dir.html#variable:PROJECT_BINARY_DIR" title="PROJECT_BINARY_DIR" id="index-0-variable:PROJECT_BINARY_DIR"><code>PROJECT_BINARY_DIR</code></a>
</li> </ul> </dd> <dt>
<code>SourceDirectory</code> </dt>
<dd>
<p>The full path to the project source tree.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_source_directory.html#variable:CTEST_SOURCE_DIRECTORY" title="CTEST_SOURCE_DIRECTORY" id="index-0-variable:CTEST_SOURCE_DIRECTORY"><code>CTEST_SOURCE_DIRECTORY</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-2-module:CTest"><code>CTest</code></a> module variable: <a class="reference internal" href="../variable/project_source_dir.html#variable:PROJECT_SOURCE_DIR" title="PROJECT_SOURCE_DIR" id="index-0-variable:PROJECT_SOURCE_DIR"><code>PROJECT_SOURCE_DIR</code></a>
</li> </ul> </dd> </dl>   <h3 id="id7">CTest Update Step</h3> <p>In a <a class="reference internal" href="#ctest-script">CTest Script</a>, the <a class="reference internal" href="../command/ctest_update.html#command:ctest_update" title="ctest_update" id="index-0-command:ctest_update"><code>ctest_update()</code></a> command runs this step. Arguments to the command may specify some of the step settings.</p> <p>Configuration settings to specify the version control tool include:</p> <dl> <dt>
<code>BZRCommand</code> </dt>
<dd>
<p><code>bzr</code> command-line tool to use if source tree is managed by Bazaar.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_bzr_command.html#variable:CTEST_BZR_COMMAND" title="CTEST_BZR_COMMAND" id="index-0-variable:CTEST_BZR_COMMAND"><code>CTEST_BZR_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-3-module:CTest"><code>CTest</code></a> module variable: none</li> </ul> </dd> <dt>
<code>BZRUpdateOptions</code> </dt>
<dd>
<p>Command-line options to the <code>BZRCommand</code> when updating the source.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_bzr_update_options.html#variable:CTEST_BZR_UPDATE_OPTIONS" title="CTEST_BZR_UPDATE_OPTIONS" id="index-0-variable:CTEST_BZR_UPDATE_OPTIONS"><code>CTEST_BZR_UPDATE_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-4-module:CTest"><code>CTest</code></a> module variable: none</li> </ul> </dd> <dt>
<code>CVSCommand</code> </dt>
<dd>
<p><code>cvs</code> command-line tool to use if source tree is managed by CVS.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_cvs_command.html#variable:CTEST_CVS_COMMAND" title="CTEST_CVS_COMMAND" id="index-0-variable:CTEST_CVS_COMMAND"><code>CTEST_CVS_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-5-module:CTest"><code>CTest</code></a> module variable: <code>CVSCOMMAND</code>
</li> </ul> </dd> <dt>
<code>CVSUpdateOptions</code> </dt>
<dd>
<p>Command-line options to the <code>CVSCommand</code> when updating the source.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_cvs_update_options.html#variable:CTEST_CVS_UPDATE_OPTIONS" title="CTEST_CVS_UPDATE_OPTIONS" id="index-0-variable:CTEST_CVS_UPDATE_OPTIONS"><code>CTEST_CVS_UPDATE_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-6-module:CTest"><code>CTest</code></a> module variable: <code>CVS_UPDATE_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>GITCommand</code> </dt>
<dd>
<p><code>git</code> command-line tool to use if source tree is managed by Git.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_git_command.html#variable:CTEST_GIT_COMMAND" title="CTEST_GIT_COMMAND" id="index-0-variable:CTEST_GIT_COMMAND"><code>CTEST_GIT_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-7-module:CTest"><code>CTest</code></a> module variable: <code>GITCOMMAND</code>
</li> </ul> <p>The source tree is updated by <code>git fetch</code> followed by <code>git reset --hard</code> to the <code>FETCH_HEAD</code>. The result is the same as <code>git pull</code> except that any local modifications are overwritten. Use <code>GITUpdateCustom</code> to specify a different approach.</p> </dd> <dt>
<code>GITInitSubmodules</code> </dt>
<dd>
<p>If set, CTest will update the repository's submodules before updating.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_git_init_submodules.html#variable:CTEST_GIT_INIT_SUBMODULES" title="CTEST_GIT_INIT_SUBMODULES" id="index-0-variable:CTEST_GIT_INIT_SUBMODULES"><code>CTEST_GIT_INIT_SUBMODULES</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-8-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_GIT_INIT_SUBMODULES</code>
</li> </ul> </dd> <dt>
<code>GITUpdateCustom</code> </dt>
<dd>
<p>Specify a custom command line (as a semicolon-separated list) to run in the source tree (Git work tree) to update it instead of running the <code>GITCommand</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_git_update_custom.html#variable:CTEST_GIT_UPDATE_CUSTOM" title="CTEST_GIT_UPDATE_CUSTOM" id="index-0-variable:CTEST_GIT_UPDATE_CUSTOM"><code>CTEST_GIT_UPDATE_CUSTOM</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-9-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_GIT_UPDATE_CUSTOM</code>
</li> </ul> </dd> <dt>
<code>GITUpdateOptions</code> </dt>
<dd>
<p>Command-line options to the <code>GITCommand</code> when updating the source.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_git_update_options.html#variable:CTEST_GIT_UPDATE_OPTIONS" title="CTEST_GIT_UPDATE_OPTIONS" id="index-0-variable:CTEST_GIT_UPDATE_OPTIONS"><code>CTEST_GIT_UPDATE_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-10-module:CTest"><code>CTest</code></a> module variable: <code>GIT_UPDATE_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>HGCommand</code> </dt>
<dd>
<p><code>hg</code> command-line tool to use if source tree is managed by Mercurial.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_hg_command.html#variable:CTEST_HG_COMMAND" title="CTEST_HG_COMMAND" id="index-0-variable:CTEST_HG_COMMAND"><code>CTEST_HG_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-11-module:CTest"><code>CTest</code></a> module variable: none</li> </ul> </dd> <dt>
<code>HGUpdateOptions</code> </dt>
<dd>
<p>Command-line options to the <code>HGCommand</code> when updating the source.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_hg_update_options.html#variable:CTEST_HG_UPDATE_OPTIONS" title="CTEST_HG_UPDATE_OPTIONS" id="index-0-variable:CTEST_HG_UPDATE_OPTIONS"><code>CTEST_HG_UPDATE_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-12-module:CTest"><code>CTest</code></a> module variable: none</li> </ul> </dd> <dt>
<code>P4Client</code> </dt>
<dd>
<p>Value of the <code>-c</code> option to the <code>P4Command</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_p4_client.html#variable:CTEST_P4_CLIENT" title="CTEST_P4_CLIENT" id="index-0-variable:CTEST_P4_CLIENT"><code>CTEST_P4_CLIENT</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-13-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_P4_CLIENT</code>
</li> </ul> </dd> <dt>
<code>P4Command</code> </dt>
<dd>
<p><code>p4</code> command-line tool to use if source tree is managed by Perforce.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_p4_command.html#variable:CTEST_P4_COMMAND" title="CTEST_P4_COMMAND" id="index-0-variable:CTEST_P4_COMMAND"><code>CTEST_P4_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-14-module:CTest"><code>CTest</code></a> module variable: <code>P4COMMAND</code>
</li> </ul> </dd> <dt>
<code>P4Options</code> </dt>
<dd>
<p>Command-line options to the <code>P4Command</code> for all invocations.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_p4_options.html#variable:CTEST_P4_OPTIONS" title="CTEST_P4_OPTIONS" id="index-0-variable:CTEST_P4_OPTIONS"><code>CTEST_P4_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-15-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_P4_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>P4UpdateCustom</code> </dt>
<dd>
<p>Specify a custom command line (as a semicolon-separated list) to run in the source tree (Perforce tree) to update it instead of running the <code>P4Command</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-16-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_P4_UPDATE_CUSTOM</code>
</li> </ul> </dd> <dt>
<code>P4UpdateOptions</code> </dt>
<dd>
<p>Command-line options to the <code>P4Command</code> when updating the source.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_p4_update_options.html#variable:CTEST_P4_UPDATE_OPTIONS" title="CTEST_P4_UPDATE_OPTIONS" id="index-0-variable:CTEST_P4_UPDATE_OPTIONS"><code>CTEST_P4_UPDATE_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-17-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_P4_UPDATE_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>SVNCommand</code> </dt>
<dd>
<p><code>svn</code> command-line tool to use if source tree is managed by Subversion.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_svn_command.html#variable:CTEST_SVN_COMMAND" title="CTEST_SVN_COMMAND" id="index-0-variable:CTEST_SVN_COMMAND"><code>CTEST_SVN_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-18-module:CTest"><code>CTest</code></a> module variable: <code>SVNCOMMAND</code>
</li> </ul> </dd> <dt>
<code>SVNOptions</code> </dt>
<dd>
<p>Command-line options to the <code>SVNCommand</code> for all invocations.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_svn_options.html#variable:CTEST_SVN_OPTIONS" title="CTEST_SVN_OPTIONS" id="index-0-variable:CTEST_SVN_OPTIONS"><code>CTEST_SVN_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-19-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_SVN_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>SVNUpdateOptions</code> </dt>
<dd>
<p>Command-line options to the <code>SVNCommand</code> when updating the source.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_svn_update_options.html#variable:CTEST_SVN_UPDATE_OPTIONS" title="CTEST_SVN_UPDATE_OPTIONS" id="index-0-variable:CTEST_SVN_UPDATE_OPTIONS"><code>CTEST_SVN_UPDATE_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-20-module:CTest"><code>CTest</code></a> module variable: <code>SVN_UPDATE_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>UpdateCommand</code> </dt>
<dd>
<p>Specify the version-control command-line tool to use without detecting the VCS that manages the source tree.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_update_command.html#variable:CTEST_UPDATE_COMMAND" title="CTEST_UPDATE_COMMAND" id="index-0-variable:CTEST_UPDATE_COMMAND"><code>CTEST_UPDATE_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-21-module:CTest"><code>CTest</code></a> module variable: <code>&lt;VCS&gt;COMMAND</code> when <code>UPDATE_TYPE</code> is <code>&lt;vcs&gt;</code>, else <code>UPDATE_COMMAND</code>
</li> </ul> </dd> <dt>
<code>UpdateOptions</code> </dt>
<dd>
<p>Command-line options to the <code>UpdateCommand</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_update_options.html#variable:CTEST_UPDATE_OPTIONS" title="CTEST_UPDATE_OPTIONS" id="index-0-variable:CTEST_UPDATE_OPTIONS"><code>CTEST_UPDATE_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-22-module:CTest"><code>CTest</code></a> module variable: <code>&lt;VCS&gt;_UPDATE_OPTIONS</code> when <code>UPDATE_TYPE</code> is <code>&lt;vcs&gt;</code>, else <code>UPDATE_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>UpdateType</code> </dt>
<dd>
<p>Specify the version-control system that manages the source tree if it cannot be detected automatically. The value may be <code>bzr</code>, <code>cvs</code>, <code>git</code>, <code>hg</code>, <code>p4</code>, or <code>svn</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none, detected from source tree</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-23-module:CTest"><code>CTest</code></a> module variable: <code>UPDATE_TYPE</code> if set, else <code>CTEST_UPDATE_TYPE</code>
</li> </ul> </dd> </dl> <dl class="simple" id="updateversiononly"> <dt>
<code>UpdateVersionOnly</code> </dt>
<dd>
<p>Specify that you want the version control update command to only discover the current version that is checked out, and not to update to a different version.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_update_version_only.html#variable:CTEST_UPDATE_VERSION_ONLY" title="CTEST_UPDATE_VERSION_ONLY" id="index-0-variable:CTEST_UPDATE_VERSION_ONLY"><code>CTEST_UPDATE_VERSION_ONLY</code></a>
</li> </ul> </dd> </dl> <dl id="updateversionoverride"> <dt>
<code>UpdateVersionOverride</code> </dt>
<dd>
<p>Specify the current version of your source tree.</p> <p>When this variable is set to a non-empty string, CTest will report the value you specified rather than using the update command to discover the current version that is checked out. Use of this variable supersedes <code>UpdateVersionOnly</code>. Like <code>UpdateVersionOnly</code>, using this variable tells CTest not to update the source tree to a different version.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_update_version_override.html#variable:CTEST_UPDATE_VERSION_OVERRIDE" title="CTEST_UPDATE_VERSION_OVERRIDE" id="index-0-variable:CTEST_UPDATE_VERSION_OVERRIDE"><code>CTEST_UPDATE_VERSION_OVERRIDE</code></a>
</li> </ul> </dd> </dl> <p>Additional configuration settings include:</p> <dl class="simple"> <dt>
<code>NightlyStartTime</code> </dt>
<dd>
<p>In the <code>Nightly</code> dashboard mode, specify the "nightly start time". With centralized version control systems (<code>cvs</code> and <code>svn</code>), the <code>Update</code> step checks out the version of the software as of this time so that multiple clients choose a common version to test. This is not well-defined in distributed version-control systems so the setting is ignored.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_nightly_start_time.html#variable:CTEST_NIGHTLY_START_TIME" title="CTEST_NIGHTLY_START_TIME" id="index-0-variable:CTEST_NIGHTLY_START_TIME"><code>CTEST_NIGHTLY_START_TIME</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-24-module:CTest"><code>CTest</code></a> module variable: <code>NIGHTLY_START_TIME</code> if set, else <code>CTEST_NIGHTLY_START_TIME</code>
</li> </ul> </dd> </dl>   <h3 id="id8">CTest Configure Step</h3> <p>In a <a class="reference internal" href="#ctest-script">CTest Script</a>, the <a class="reference internal" href="../command/ctest_configure.html#command:ctest_configure" title="ctest_configure" id="index-0-command:ctest_configure"><code>ctest_configure()</code></a> command runs this step. Arguments to the command may specify some of the step settings.</p> <p>Configuration settings include:</p> <dl> <dt>
<code>ConfigureCommand</code> </dt>
<dd>
<p>Command-line to launch the software configuration process. It will be executed in the location specified by the <code>BuildDirectory</code> setting.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_configure_command.html#variable:CTEST_CONFIGURE_COMMAND" title="CTEST_CONFIGURE_COMMAND" id="index-0-variable:CTEST_CONFIGURE_COMMAND"><code>CTEST_CONFIGURE_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-25-module:CTest"><code>CTest</code></a> module variable: <a class="reference internal" href="../variable/cmake_command.html#variable:CMAKE_COMMAND" title="CMAKE_COMMAND" id="index-0-variable:CMAKE_COMMAND"><code>CMAKE_COMMAND</code></a> followed by <a class="reference internal" href="../variable/project_source_dir.html#variable:PROJECT_SOURCE_DIR" title="PROJECT_SOURCE_DIR" id="index-1-variable:PROJECT_SOURCE_DIR"><code>PROJECT_SOURCE_DIR</code></a>
</li> </ul> </dd> <dt>
<code>LabelsForSubprojects</code> </dt>
<dd>
<p>Specify a semicolon-separated list of labels that will be treated as subprojects. This mapping will be passed on to CDash when configure, test or build results are submitted.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_labels_for_subprojects.html#variable:CTEST_LABELS_FOR_SUBPROJECTS" title="CTEST_LABELS_FOR_SUBPROJECTS" id="index-0-variable:CTEST_LABELS_FOR_SUBPROJECTS"><code>CTEST_LABELS_FOR_SUBPROJECTS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-26-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_LABELS_FOR_SUBPROJECTS</code>
</li> </ul> <p>See <a class="reference internal" href="#label-and-subproject-summary">Label and Subproject Summary</a>.</p> </dd> </dl>   <h3 id="id9">CTest Build Step</h3> <p>In a <a class="reference internal" href="#ctest-script">CTest Script</a>, the <a class="reference internal" href="../command/ctest_build.html#command:ctest_build" title="ctest_build" id="index-0-command:ctest_build"><code>ctest_build()</code></a> command runs this step. Arguments to the command may specify some of the step settings.</p> <p>Configuration settings include:</p> <dl> <dt>
<code>DefaultCTestConfigurationType</code> </dt>
<dd>
<p>When the build system to be launched allows build-time selection of the configuration (e.g. <code>Debug</code>, <code>Release</code>), this specifies the default configuration to be built when no <a class="reference internal" href="#cmdoption-ctest-C"><code>-C</code></a> option is given to the <strong class="program">ctest</strong> command. The value will be substituted into the value of <code>MakeCommand</code> to replace the literal string <code>${CTEST_CONFIGURATION_TYPE}</code> if it appears.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_configuration_type.html#variable:CTEST_CONFIGURATION_TYPE" title="CTEST_CONFIGURATION_TYPE" id="index-0-variable:CTEST_CONFIGURATION_TYPE"><code>CTEST_CONFIGURATION_TYPE</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-27-module:CTest"><code>CTest</code></a> module variable: <code>DEFAULT_CTEST_CONFIGURATION_TYPE</code>, initialized by the <a class="reference internal" href="../envvar/cmake_config_type.html#envvar:CMAKE_CONFIG_TYPE" title="CMAKE_CONFIG_TYPE" id="index-0-envvar:CMAKE_CONFIG_TYPE"><code>CMAKE_CONFIG_TYPE</code></a> environment variable</li> </ul> </dd> <dt>
<code>LabelsForSubprojects</code> </dt>
<dd>
<p>Specify a semicolon-separated list of labels that will be treated as subprojects. This mapping will be passed on to CDash when configure, test or build results are submitted.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_labels_for_subprojects.html#variable:CTEST_LABELS_FOR_SUBPROJECTS" title="CTEST_LABELS_FOR_SUBPROJECTS" id="index-1-variable:CTEST_LABELS_FOR_SUBPROJECTS"><code>CTEST_LABELS_FOR_SUBPROJECTS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-28-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_LABELS_FOR_SUBPROJECTS</code>
</li> </ul> <p>See <a class="reference internal" href="#label-and-subproject-summary">Label and Subproject Summary</a>.</p> </dd> <dt>
<code>MakeCommand</code> </dt>
<dd>
<p>Command-line to launch the software build process. It will be executed in the location specified by the <code>BuildDirectory</code> setting.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_build_command.html#variable:CTEST_BUILD_COMMAND" title="CTEST_BUILD_COMMAND" id="index-0-variable:CTEST_BUILD_COMMAND"><code>CTEST_BUILD_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-29-module:CTest"><code>CTest</code></a> module variable: <code>MAKECOMMAND</code>, initialized by the <a class="reference internal" href="../command/build_command.html#command:build_command" title="build_command" id="index-0-command:build_command"><code>build_command()</code></a> command</li> </ul> </dd> <dt>
<code>UseLaunchers</code> </dt>
<dd>
<p>For build trees generated by CMake using one of the <a class="reference internal" href="cmake-generators.7.html#makefile-generators"><span class="std std-ref">Makefile Generators</span></a> or the <a class="reference internal" href="https://cmake.org/cmake/help/v3.26/generator/Ninja.html#generator:Ninja" title="Ninja" id="index-0-generator:Ninja"><code>Ninja</code></a> generator, specify whether the <code>CTEST_USE_LAUNCHERS</code> feature is enabled by the <a class="reference internal" href="../module/ctestuselaunchers.html#module:CTestUseLaunchers" title="CTestUseLaunchers" id="index-0-module:CTestUseLaunchers"><code>CTestUseLaunchers</code></a> module (also included by the <a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-30-module:CTest"><code>CTest</code></a> module). When enabled, the generated build system wraps each invocation of the compiler, linker, or custom command line with a "launcher" that communicates with CTest via environment variables and files to report granular build warning and error information. Otherwise, CTest must "scrape" the build output log for diagnostics.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_use_launchers.html#variable:CTEST_USE_LAUNCHERS" title="CTEST_USE_LAUNCHERS" id="index-0-variable:CTEST_USE_LAUNCHERS"><code>CTEST_USE_LAUNCHERS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-31-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_USE_LAUNCHERS</code>
</li> </ul> </dd> </dl>   <h3 id="id10">CTest Test Step</h3> <p>In a <a class="reference internal" href="#ctest-script">CTest Script</a>, the <a class="reference internal" href="../command/ctest_test.html#command:ctest_test" title="ctest_test" id="index-1-command:ctest_test"><code>ctest_test()</code></a> command runs this step. Arguments to the command may specify some of the step settings.</p> <p>Configuration settings include:</p> <dl> <dt>
<code>ResourceSpecFile</code> </dt>
<dd>
<p>Specify a <a class="reference internal" href="#ctest-resource-specification-file"><span class="std std-ref">resource specification file</span></a>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_resource_spec_file.html#variable:CTEST_RESOURCE_SPEC_FILE" title="CTEST_RESOURCE_SPEC_FILE" id="index-0-variable:CTEST_RESOURCE_SPEC_FILE"><code>CTEST_RESOURCE_SPEC_FILE</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-32-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_RESOURCE_SPEC_FILE</code>
</li> </ul> <p>See <a class="reference internal" href="#ctest-resource-allocation"><span class="std std-ref">Resource Allocation</span></a> for more information.</p> </dd> <dt>
<code>LabelsForSubprojects</code> </dt>
<dd>
<p>Specify a semicolon-separated list of labels that will be treated as subprojects. This mapping will be passed on to CDash when configure, test or build results are submitted.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_labels_for_subprojects.html#variable:CTEST_LABELS_FOR_SUBPROJECTS" title="CTEST_LABELS_FOR_SUBPROJECTS" id="index-2-variable:CTEST_LABELS_FOR_SUBPROJECTS"><code>CTEST_LABELS_FOR_SUBPROJECTS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-33-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_LABELS_FOR_SUBPROJECTS</code>
</li> </ul> <p>See <a class="reference internal" href="#label-and-subproject-summary">Label and Subproject Summary</a>.</p> </dd> <dt>
<code>TestLoad</code> </dt>
<dd>
<p>While running tests in parallel (e.g. with <a class="reference internal" href="#cmdoption-ctest-j"><code>-j</code></a>), try not to start tests when they may cause the CPU load to pass above a given threshold.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_test_load.html#variable:CTEST_TEST_LOAD" title="CTEST_TEST_LOAD" id="index-0-variable:CTEST_TEST_LOAD"><code>CTEST_TEST_LOAD</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-34-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_TEST_LOAD</code>
</li> </ul> </dd> <dt>
<code>TimeOut</code> </dt>
<dd>
<p>The default timeout for each test if not specified by the <a class="reference internal" href="../prop_test/timeout.html#prop_test:TIMEOUT" title="TIMEOUT" id="index-1-prop_test:TIMEOUT"><code>TIMEOUT</code></a> test property.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_test_timeout.html#variable:CTEST_TEST_TIMEOUT" title="CTEST_TEST_TIMEOUT" id="index-0-variable:CTEST_TEST_TIMEOUT"><code>CTEST_TEST_TIMEOUT</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-35-module:CTest"><code>CTest</code></a> module variable: <code>DART_TESTING_TIMEOUT</code>
</li> </ul> </dd> </dl> <p>To report extra test values to CDash, see <a class="reference internal" href="../command/ctest_test.html#additional-test-measurements"><span class="std std-ref">Additional Test Measurements</span></a>.</p>   <h3 id="id11">CTest Coverage Step</h3> <p>In a <a class="reference internal" href="#ctest-script">CTest Script</a>, the <a class="reference internal" href="../command/ctest_coverage.html#command:ctest_coverage" title="ctest_coverage" id="index-0-command:ctest_coverage"><code>ctest_coverage()</code></a> command runs this step. Arguments to the command may specify some of the step settings.</p> <p>Configuration settings include:</p> <dl> <dt>
<code>CoverageCommand</code> </dt>
<dd>
<p>Command-line tool to perform software coverage analysis. It will be executed in the location specified by the <code>BuildDirectory</code> setting.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_coverage_command.html#variable:CTEST_COVERAGE_COMMAND" title="CTEST_COVERAGE_COMMAND" id="index-0-variable:CTEST_COVERAGE_COMMAND"><code>CTEST_COVERAGE_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-36-module:CTest"><code>CTest</code></a> module variable: <code>COVERAGE_COMMAND</code>
</li> </ul> </dd> <dt>
<code>CoverageExtraFlags</code> </dt>
<dd>
<p>Specify command-line options to the <code>CoverageCommand</code> tool.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_coverage_extra_flags.html#variable:CTEST_COVERAGE_EXTRA_FLAGS" title="CTEST_COVERAGE_EXTRA_FLAGS" id="index-0-variable:CTEST_COVERAGE_EXTRA_FLAGS"><code>CTEST_COVERAGE_EXTRA_FLAGS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-37-module:CTest"><code>CTest</code></a> module variable: <code>COVERAGE_EXTRA_FLAGS</code>
</li> </ul> <p>These options are the first arguments passed to <code>CoverageCommand</code>.</p> </dd> </dl>   <h3 id="id12">CTest MemCheck Step</h3> <p>In a <a class="reference internal" href="#ctest-script">CTest Script</a>, the <a class="reference internal" href="../command/ctest_memcheck.html#command:ctest_memcheck" title="ctest_memcheck" id="index-0-command:ctest_memcheck"><code>ctest_memcheck()</code></a> command runs this step. Arguments to the command may specify some of the step settings.</p> <p>Configuration settings include:</p> <dl class="simple"> <dt>
<code>MemoryCheckCommand</code> </dt>
<dd>
<p>Command-line tool to perform dynamic analysis. Test command lines will be launched through this tool.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_memorycheck_command.html#variable:CTEST_MEMORYCHECK_COMMAND" title="CTEST_MEMORYCHECK_COMMAND" id="index-0-variable:CTEST_MEMORYCHECK_COMMAND"><code>CTEST_MEMORYCHECK_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-38-module:CTest"><code>CTest</code></a> module variable: <code>MEMORYCHECK_COMMAND</code>
</li> </ul> </dd> <dt>
<code>MemoryCheckCommandOptions</code> </dt>
<dd>
<p>Specify command-line options to the <code>MemoryCheckCommand</code> tool. They will be placed prior to the test command line.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_memorycheck_command_options.html#variable:CTEST_MEMORYCHECK_COMMAND_OPTIONS" title="CTEST_MEMORYCHECK_COMMAND_OPTIONS" id="index-0-variable:CTEST_MEMORYCHECK_COMMAND_OPTIONS"><code>CTEST_MEMORYCHECK_COMMAND_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-39-module:CTest"><code>CTest</code></a> module variable: <code>MEMORYCHECK_COMMAND_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>MemoryCheckType</code> </dt>
<dd>
<p>Specify the type of memory checking to perform.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_memorycheck_type.html#variable:CTEST_MEMORYCHECK_TYPE" title="CTEST_MEMORYCHECK_TYPE" id="index-0-variable:CTEST_MEMORYCHECK_TYPE"><code>CTEST_MEMORYCHECK_TYPE</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-40-module:CTest"><code>CTest</code></a> module variable: <code>MEMORYCHECK_TYPE</code>
</li> </ul> </dd> <dt>
<code>MemoryCheckSanitizerOptions</code> </dt>
<dd>
<p>Specify options to sanitizers when running with a sanitize-enabled build.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_memorycheck_sanitizer_options.html#variable:CTEST_MEMORYCHECK_SANITIZER_OPTIONS" title="CTEST_MEMORYCHECK_SANITIZER_OPTIONS" id="index-0-variable:CTEST_MEMORYCHECK_SANITIZER_OPTIONS"><code>CTEST_MEMORYCHECK_SANITIZER_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-41-module:CTest"><code>CTest</code></a> module variable: <code>MEMORYCHECK_SANITIZER_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>MemoryCheckSuppressionFile</code> </dt>
<dd>
<p>Specify a file containing suppression rules for the <code>MemoryCheckCommand</code> tool. It will be passed with options appropriate to the tool.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_memorycheck_suppressions_file.html#variable:CTEST_MEMORYCHECK_SUPPRESSIONS_FILE" title="CTEST_MEMORYCHECK_SUPPRESSIONS_FILE" id="index-0-variable:CTEST_MEMORYCHECK_SUPPRESSIONS_FILE"><code>CTEST_MEMORYCHECK_SUPPRESSIONS_FILE</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-42-module:CTest"><code>CTest</code></a> module variable: <code>MEMORYCHECK_SUPPRESSIONS_FILE</code>
</li> </ul> </dd> </dl> <p>Additional configuration settings include:</p> <dl class="simple"> <dt>
<code>BoundsCheckerCommand</code> </dt>
<dd>
<p>Specify a <code>MemoryCheckCommand</code> that is known to be command-line compatible with Bounds Checker.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-43-module:CTest"><code>CTest</code></a> module variable: none</li> </ul> </dd> <dt>
<code>PurifyCommand</code> </dt>
<dd>
<p>Specify a <code>MemoryCheckCommand</code> that is known to be command-line compatible with Purify.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-44-module:CTest"><code>CTest</code></a> module variable: <code>PURIFYCOMMAND</code>
</li> </ul> </dd> <dt>
<code>ValgrindCommand</code> </dt>
<dd>
<p>Specify a <code>MemoryCheckCommand</code> that is known to be command-line compatible with Valgrind.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-45-module:CTest"><code>CTest</code></a> module variable: <code>VALGRIND_COMMAND</code>
</li> </ul> </dd> <dt>
<code>ValgrindCommandOptions</code> </dt>
<dd>
<p>Specify command-line options to the <code>ValgrindCommand</code> tool. They will be placed prior to the test command line.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-46-module:CTest"><code>CTest</code></a> module variable: <code>VALGRIND_COMMAND_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>DrMemoryCommand</code> </dt>
<dd>
<p>Specify a <code>MemoryCheckCommand</code> that is known to be a command-line compatible with DrMemory.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-47-module:CTest"><code>CTest</code></a> module variable: <code>DRMEMORY_COMMAND</code>
</li> </ul> </dd> <dt>
<code>DrMemoryCommandOptions</code> </dt>
<dd>
<p>Specify command-line options to the <code>DrMemoryCommand</code> tool. They will be placed prior to the test command line.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-48-module:CTest"><code>CTest</code></a> module variable: <code>DRMEMORY_COMMAND_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>CudaSanitizerCommand</code> </dt>
<dd>
<p>Specify a <code>MemoryCheckCommand</code> that is known to be a command-line compatible with cuda-memcheck or compute-sanitizer.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-49-module:CTest"><code>CTest</code></a> module variable: <code>CUDA_SANITIZER_COMMAND</code>
</li> </ul> </dd> <dt>
<code>CudaSanitizerCommandOptions</code> </dt>
<dd>
<p>Specify command-line options to the <code>CudaSanitizerCommand</code> tool. They will be placed prior to the test command line.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-50-module:CTest"><code>CTest</code></a> module variable: <code>CUDA_SANITIZER_COMMAND_OPTIONS</code>
</li> </ul> </dd> </dl>   <h3 id="id13">CTest Submit Step</h3> <p>In a <a class="reference internal" href="#ctest-script">CTest Script</a>, the <a class="reference internal" href="../command/ctest_submit.html#command:ctest_submit" title="ctest_submit" id="index-0-command:ctest_submit"><code>ctest_submit()</code></a> command runs this step. Arguments to the command may specify some of the step settings.</p> <p>Configuration settings include:</p> <dl class="simple"> <dt>
<code>BuildName</code> </dt>
<dd>
<p>Describe the dashboard client platform with a short string. (Operating system, compiler, etc.)</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_build_name.html#variable:CTEST_BUILD_NAME" title="CTEST_BUILD_NAME" id="index-0-variable:CTEST_BUILD_NAME"><code>CTEST_BUILD_NAME</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-51-module:CTest"><code>CTest</code></a> module variable: <code>BUILDNAME</code>
</li> </ul> </dd> <dt>
<code>CDashVersion</code> </dt>
<dd>
<p>Legacy option. Not used.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none, detected from server</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-52-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_CDASH_VERSION</code>
</li> </ul> </dd> <dt>
<code>CTestSubmitRetryCount</code> </dt>
<dd>
<p>Specify a number of attempts to retry submission on network failure.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none, use the <a class="reference internal" href="../command/ctest_submit.html#command:ctest_submit" title="ctest_submit" id="index-1-command:ctest_submit"><code>ctest_submit()</code></a> <code>RETRY_COUNT</code> option.</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-53-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_SUBMIT_RETRY_COUNT</code>
</li> </ul> </dd> <dt>
<code>CTestSubmitRetryDelay</code> </dt>
<dd>
<p>Specify a delay before retrying submission on network failure.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: none, use the <a class="reference internal" href="../command/ctest_submit.html#command:ctest_submit" title="ctest_submit" id="index-2-command:ctest_submit"><code>ctest_submit()</code></a> <code>RETRY_DELAY</code> option.</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-54-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_SUBMIT_RETRY_DELAY</code>
</li> </ul> </dd> <dt>
<code>CurlOptions</code> </dt>
<dd>
<p>Specify a semicolon-separated list of options to control the Curl library that CTest uses internally to connect to the server. Possible options are <code>CURLOPT_SSL_VERIFYPEER_OFF</code> and <code>CURLOPT_SSL_VERIFYHOST_OFF</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_curl_options.html#variable:CTEST_CURL_OPTIONS" title="CTEST_CURL_OPTIONS" id="index-0-variable:CTEST_CURL_OPTIONS"><code>CTEST_CURL_OPTIONS</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-55-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_CURL_OPTIONS</code>
</li> </ul> </dd> <dt>
<code>DropLocation</code> </dt>
<dd>
<p>Legacy option. When <code>SubmitURL</code> is not set, it is constructed from <code>DropMethod</code>, <code>DropSiteUser</code>, <code>DropSitePassword</code>, <code>DropSite</code>, and <code>DropLocation</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_drop_location.html#variable:CTEST_DROP_LOCATION" title="CTEST_DROP_LOCATION" id="index-0-variable:CTEST_DROP_LOCATION"><code>CTEST_DROP_LOCATION</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-56-module:CTest"><code>CTest</code></a> module variable: <code>DROP_LOCATION</code> if set, else <code>CTEST_DROP_LOCATION</code>
</li> </ul> </dd> <dt>
<code>DropMethod</code> </dt>
<dd>
<p>Legacy option. When <code>SubmitURL</code> is not set, it is constructed from <code>DropMethod</code>, <code>DropSiteUser</code>, <code>DropSitePassword</code>, <code>DropSite</code>, and <code>DropLocation</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_drop_method.html#variable:CTEST_DROP_METHOD" title="CTEST_DROP_METHOD" id="index-0-variable:CTEST_DROP_METHOD"><code>CTEST_DROP_METHOD</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-57-module:CTest"><code>CTest</code></a> module variable: <code>DROP_METHOD</code> if set, else <code>CTEST_DROP_METHOD</code>
</li> </ul> </dd> <dt>
<code>DropSite</code> </dt>
<dd>
<p>Legacy option. When <code>SubmitURL</code> is not set, it is constructed from <code>DropMethod</code>, <code>DropSiteUser</code>, <code>DropSitePassword</code>, <code>DropSite</code>, and <code>DropLocation</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_drop_site.html#variable:CTEST_DROP_SITE" title="CTEST_DROP_SITE" id="index-0-variable:CTEST_DROP_SITE"><code>CTEST_DROP_SITE</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-58-module:CTest"><code>CTest</code></a> module variable: <code>DROP_SITE</code> if set, else <code>CTEST_DROP_SITE</code>
</li> </ul> </dd> <dt>
<code>DropSitePassword</code> </dt>
<dd>
<p>Legacy option. When <code>SubmitURL</code> is not set, it is constructed from <code>DropMethod</code>, <code>DropSiteUser</code>, <code>DropSitePassword</code>, <code>DropSite</code>, and <code>DropLocation</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_drop_site_password.html#variable:CTEST_DROP_SITE_PASSWORD" title="CTEST_DROP_SITE_PASSWORD" id="index-0-variable:CTEST_DROP_SITE_PASSWORD"><code>CTEST_DROP_SITE_PASSWORD</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-59-module:CTest"><code>CTest</code></a> module variable: <code>DROP_SITE_PASSWORD</code> if set, else <code>CTEST_DROP_SITE_PASWORD</code>
</li> </ul> </dd> <dt>
<code>DropSiteUser</code> </dt>
<dd>
<p>Legacy option. When <code>SubmitURL</code> is not set, it is constructed from <code>DropMethod</code>, <code>DropSiteUser</code>, <code>DropSitePassword</code>, <code>DropSite</code>, and <code>DropLocation</code>.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_drop_site_user.html#variable:CTEST_DROP_SITE_USER" title="CTEST_DROP_SITE_USER" id="index-0-variable:CTEST_DROP_SITE_USER"><code>CTEST_DROP_SITE_USER</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-60-module:CTest"><code>CTest</code></a> module variable: <code>DROP_SITE_USER</code> if set, else <code>CTEST_DROP_SITE_USER</code>
</li> </ul> </dd> <dt>
<code>IsCDash</code> </dt>
<dd>
<p>Legacy option. Not used.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_drop_site_cdash.html#variable:CTEST_DROP_SITE_CDASH" title="CTEST_DROP_SITE_CDASH" id="index-0-variable:CTEST_DROP_SITE_CDASH"><code>CTEST_DROP_SITE_CDASH</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-61-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_DROP_SITE_CDASH</code>
</li> </ul> </dd> <dt>
<code>ScpCommand</code> </dt>
<dd>
<p>Legacy option. Not used.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_scp_command.html#variable:CTEST_SCP_COMMAND" title="CTEST_SCP_COMMAND" id="index-0-variable:CTEST_SCP_COMMAND"><code>CTEST_SCP_COMMAND</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-62-module:CTest"><code>CTest</code></a> module variable: <code>SCPCOMMAND</code>
</li> </ul> </dd> <dt>
<code>Site</code> </dt>
<dd>
<p>Describe the dashboard client host site with a short string. (Hostname, domain, etc.)</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_site.html#variable:CTEST_SITE" title="CTEST_SITE" id="index-0-variable:CTEST_SITE"><code>CTEST_SITE</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-63-module:CTest"><code>CTest</code></a> module variable: <code>SITE</code>, initialized by the <a class="reference internal" href="../command/site_name.html#command:site_name" title="site_name" id="index-0-command:site_name"><code>site_name()</code></a> command</li> </ul> </dd> <dt>
<code>SubmitURL</code> </dt>
<dd>
<p>The <code>http</code> or <code>https</code> URL of the dashboard server to send the submission to.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_submit_url.html#variable:CTEST_SUBMIT_URL" title="CTEST_SUBMIT_URL" id="index-0-variable:CTEST_SUBMIT_URL"><code>CTEST_SUBMIT_URL</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-64-module:CTest"><code>CTest</code></a> module variable: <code>SUBMIT_URL</code> if set, else <code>CTEST_SUBMIT_URL</code>
</li> </ul> </dd> <dt>
<code>SubmitInactivityTimeout</code> </dt>
<dd>
<p>The time to wait for the submission after which it is canceled if not completed. Specify a zero value to disable timeout.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_submit_inactivity_timeout.html#variable:CTEST_SUBMIT_INACTIVITY_TIMEOUT" title="CTEST_SUBMIT_INACTIVITY_TIMEOUT" id="index-0-variable:CTEST_SUBMIT_INACTIVITY_TIMEOUT"><code>CTEST_SUBMIT_INACTIVITY_TIMEOUT</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-65-module:CTest"><code>CTest</code></a> module variable: <code>CTEST_SUBMIT_INACTIVITY_TIMEOUT</code>
</li> </ul> </dd> <dt>
<code>TriggerSite</code> </dt>
<dd>
<p>Legacy option. Not used.</p> <ul class="simple"> <li>
<a class="reference internal" href="#ctest-script">CTest Script</a> variable: <a class="reference internal" href="../variable/ctest_trigger_site.html#variable:CTEST_TRIGGER_SITE" title="CTEST_TRIGGER_SITE" id="index-0-variable:CTEST_TRIGGER_SITE"><code>CTEST_TRIGGER_SITE</code></a>
</li> <li>
<a class="reference internal" href="../module/ctest.html#module:CTest" title="CTest" id="index-66-module:CTest"><code>CTest</code></a> module variable: <code>TRIGGER_SITE</code> if set, else <code>CTEST_TRIGGER_SITE</code>
</li> </ul> </dd> </dl>    <h2 id="id14">Show as JSON Object Model</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.14.</span></p> </div> <p>When the <code>--show-only=json-v1</code> command line option is given, the test information is output in JSON format. Version 1.0 of the JSON object model is defined as follows:</p> <dl> <dt>
<code>kind</code> </dt>
<dd>
<p>The string "ctestInfo".</p> </dd> <dt>
<code>version</code> </dt>
<dd>
<p>A JSON object specifying the version components. Its members are</p> <dl class="simple"> <dt>
<code>major</code> </dt>
<dd>
<p>A non-negative integer specifying the major version component.</p> </dd> <dt>
<code>minor</code> </dt>
<dd>
<p>A non-negative integer specifying the minor version component.</p> </dd> </dl> </dd> <dt>
<code>backtraceGraph</code> </dt>
<dd>
<p>JSON object representing backtrace information with the following members:</p> <dl> <dt>
<code>commands</code> </dt>
<dd>
<p>List of command names.</p> </dd> <dt>
<code>files</code> </dt>
<dd>
<p>List of file names.</p> </dd> <dt>
<code>nodes</code> </dt>
<dd>
<p>List of node JSON objects with members:</p> <dl class="simple"> <dt>
<code>command</code> </dt>
<dd>
<p>Index into the <code>commands</code> member of the <code>backtraceGraph</code>.</p> </dd> <dt>
<code>file</code> </dt>
<dd>
<p>Index into the <code>files</code> member of the <code>backtraceGraph</code>.</p> </dd> <dt>
<code>line</code> </dt>
<dd>
<p>Line number in the file where the backtrace was added.</p> </dd> <dt>
<code>parent</code> </dt>
<dd>
<p>Index into the <code>nodes</code> member of the <code>backtraceGraph</code> representing the parent in the graph.</p> </dd> </dl> </dd> </dl> </dd> <dt>
<code>tests</code> </dt>
<dd>
<p>A JSON array listing information about each test. Each entry is a JSON object with members:</p> <dl class="simple"> <dt>
<code>name</code> </dt>
<dd>
<p>Test name.</p> </dd> <dt>
<code>config</code> </dt>
<dd>
<p>Configuration that the test can run on. Empty string means any config.</p> </dd> <dt>
<code>command</code> </dt>
<dd>
<p>List where the first element is the test command and the remaining elements are the command arguments.</p> </dd> <dt>
<code>backtrace</code> </dt>
<dd>
<p>Index into the <code>nodes</code> member of the <code>backtraceGraph</code>.</p> </dd> <dt>
<code>properties</code> </dt>
<dd>
<p>Test properties. Can contain keys for each of the supported test properties.</p> </dd> </dl> </dd> </dl>   <h2 id="ctest-resource-allocation">Resource Allocation</h2> <p>CTest provides a mechanism for tests to specify the resources that they need in a fine-grained way, and for users to specify the resources available on the running machine. This allows CTest to internally keep track of which resources are in use and which are free, scheduling tests in a way that prevents them from trying to claim resources that are not available.</p> <p>When the resource allocation feature is used, CTest will not oversubscribe resources. For example, if a resource has 8 slots, CTest will not run tests that collectively use more than 8 slots at a time. This has the effect of limiting how many tests can run at any given time, even if a high <code>-j</code> argument is used, if those tests all use some slots from the same resource. In addition, it means that a single test that uses more of a resource than is available on a machine will not run at all (and will be reported as <code>Not Run</code>).</p> <p>A common use case for this feature is for tests that require the use of a GPU. Multiple tests can simultaneously allocate memory from a GPU, but if too many tests try to do this at once, some of them will fail to allocate, resulting in a failed test, even though the test would have succeeded if it had the memory it needed. By using the resource allocation feature, each test can specify how much memory it requires from a GPU, allowing CTest to schedule tests in a way that running several of these tests at once does not exhaust the GPU's memory pool.</p> <p>Please note that CTest has no concept of what a GPU is or how much memory it has, nor does it have any way of communicating with a GPU to retrieve this information or perform any memory management. CTest simply keeps track of a list of abstract resource types, each of which has a certain number of slots available for tests to use. Each test specifies the number of slots that it requires from a certain resource, and CTest then schedules them in a way that prevents the total number of slots in use from exceeding the listed capacity. When a test is executed, and slots from a resource are allocated to that test, tests may assume that they have exclusive use of those slots for the duration of the test's process.</p> <p>The CTest resource allocation feature consists of two inputs:</p> <ul class="simple"> <li>The <a class="reference internal" href="#ctest-resource-specification-file"><span class="std std-ref">resource specification file</span></a>, described below, which describes the resources available on the system.</li> <li>The <a class="reference internal" href="../prop_test/resource_groups.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS" id="index-0-prop_test:RESOURCE_GROUPS"><code>RESOURCE_GROUPS</code></a> property of tests, which describes the resources required by the test.</li> </ul> <p>When CTest runs a test, the resources allocated to that test are passed in the form of a set of <a class="reference internal" href="#ctest-resource-environment-variables"><span class="std std-ref">environment variables</span></a> as described below. Using this information to decide which resource to connect to is left to the test writer.</p> <p>The <code>RESOURCE_GROUPS</code> property tells CTest what resources a test expects to use grouped in a way meaningful to the test. The test itself must read the <a class="reference internal" href="#ctest-resource-environment-variables"><span class="std std-ref">environment variables</span></a> to determine which resources have been allocated to each group. For example, each group may correspond to a process the test will spawn when executed.</p> <p>Note that even if a test specifies a <code>RESOURCE_GROUPS</code> property, it is still possible for that to test to run without any resource allocation (and without the corresponding <a class="reference internal" href="#ctest-resource-environment-variables"><span class="std std-ref">environment variables</span></a>) if the user does not pass a resource specification file. Passing this file, either through the <code>--resource-spec-file</code> command-line argument or the <code>RESOURCE_SPEC_FILE</code> argument to <a class="reference internal" href="../command/ctest_test.html#command:ctest_test" title="ctest_test" id="index-2-command:ctest_test"><code>ctest_test()</code></a>, is what activates the resource allocation feature. Tests should check the <code>CTEST_RESOURCE_GROUP_COUNT</code> environment variable to find out whether or not resource allocation is activated. This variable will always (and only) be defined if resource allocation is activated. If resource allocation is not activated, then the <code>CTEST_RESOURCE_GROUP_COUNT</code> variable will not exist, even if it exists for the parent <strong class="program">ctest</strong> process. If a test absolutely must have resource allocation, then it can return a failing exit code or use the <a class="reference internal" href="../prop_test/skip_return_code.html#prop_test:SKIP_RETURN_CODE" title="SKIP_RETURN_CODE" id="index-0-prop_test:SKIP_RETURN_CODE"><code>SKIP_RETURN_CODE</code></a> or <a class="reference internal" href="../prop_test/skip_regular_expression.html#prop_test:SKIP_REGULAR_EXPRESSION" title="SKIP_REGULAR_EXPRESSION" id="index-0-prop_test:SKIP_REGULAR_EXPRESSION"><code>SKIP_REGULAR_EXPRESSION</code></a> properties to indicate a skipped test.</p>  <h3 id="ctest-resource-specification-file">Resource Specification File</h3> <p>The resource specification file is a JSON file which is passed to CTest, either on the command line as <a class="reference internal" href="#cmdoption-ctest-resource-spec-file"><code>ctest --resource-spec-file</code></a>, or as the <code>RESOURCE_SPEC_FILE</code> argument of <a class="reference internal" href="../command/ctest_test.html#command:ctest_test" title="ctest_test" id="index-3-command:ctest_test"><code>ctest_test()</code></a>. If a dashboard script is used and <code>RESOURCE_SPEC_FILE</code> is not specified, the value of <a class="reference internal" href="../variable/ctest_resource_spec_file.html#variable:CTEST_RESOURCE_SPEC_FILE" title="CTEST_RESOURCE_SPEC_FILE" id="index-1-variable:CTEST_RESOURCE_SPEC_FILE"><code>CTEST_RESOURCE_SPEC_FILE</code></a> in the dashboard script is used instead. If <a class="reference internal" href="#cmdoption-ctest-resource-spec-file"><code>--resource-spec-file</code></a>, <code>RESOURCE_SPEC_FILE</code>, and <a class="reference internal" href="../variable/ctest_resource_spec_file.html#variable:CTEST_RESOURCE_SPEC_FILE" title="CTEST_RESOURCE_SPEC_FILE" id="index-2-variable:CTEST_RESOURCE_SPEC_FILE"><code>CTEST_RESOURCE_SPEC_FILE</code></a> in the dashboard script are not specified, the value of <a class="reference internal" href="../variable/ctest_resource_spec_file.html#variable:CTEST_RESOURCE_SPEC_FILE" title="CTEST_RESOURCE_SPEC_FILE" id="index-3-variable:CTEST_RESOURCE_SPEC_FILE"><code>CTEST_RESOURCE_SPEC_FILE</code></a> in the CMake build is used instead. If none of these are specified, no resource spec file is used.</p> <p>The resource specification file must be a JSON object. All examples in this document assume the following resource specification file:</p> <pre data-language="json">{
  "version": {
    "major": 1,
    "minor": 0
  },
  "local": [
    {
      "gpus": [
        {
          "id": "0",
          "slots": 2
        },
        {
          "id": "1",
          "slots": 4
        },
        {
          "id": "2",
          "slots": 2
        },
        {
          "id": "3"
        }
      ],
      "crypto_chips": [
        {
          "id": "card0",
          "slots": 4
        }
      ]
    }
  ]
}
</pre> <p>The members are:</p> <dl> <dt>
<code>version</code> </dt>
<dd>
<p>An object containing a <code>major</code> integer field and a <code>minor</code> integer field. Currently, the only supported version is major <code>1</code>, minor <code>0</code>. Any other value is an error.</p> </dd> <dt>
<code>local</code> </dt>
<dd>
<p>A JSON array of resource sets present on the system. Currently, this array is restricted to being of size 1.</p> <p>Each array element is a JSON object with members whose names are equal to the desired resource types, such as <code>gpus</code>. These names must start with a lowercase letter or an underscore, and subsequent characters can be a lowercase letter, a digit, or an underscore. Uppercase letters are not allowed, because certain platforms have case-insensitive environment variables. See the <a class="reference internal" href="#environment-variables">Environment Variables</a> section below for more information. It is recommended that the resource type name be the plural of a noun, such as <code>gpus</code> or <code>crypto_chips</code> (and not <code>gpu</code> or <code>crypto_chip</code>.)</p> <p>Please note that the names <code>gpus</code> and <code>crypto_chips</code> are just examples, and CTest does not interpret them in any way. You are free to make up any resource type you want to meet your own requirements.</p> <p>The value for each resource type is a JSON array consisting of JSON objects, each of which describe a specific instance of the specified resource. These objects have the following members:</p> <dl> <dt>
<code>id</code> </dt>
<dd>
<p>A string consisting of an identifier for the resource. Each character in the identifier can be a lowercase letter, a digit, or an underscore. Uppercase letters are not allowed.</p> <p>Identifiers must be unique within a resource type. However, they do not have to be unique across resource types. For example, it is valid to have a <code>gpus</code> resource named <code>0</code> and a <code>crypto_chips</code> resource named <code>0</code>, but not two <code>gpus</code> resources both named <code>0</code>.</p> <p>Please note that the IDs <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, and <code>card0</code> are just examples, and CTest does not interpret them in any way. You are free to make up any IDs you want to meet your own requirements.</p> </dd> <dt>
<code>slots</code> </dt>
<dd>
<p>An optional unsigned number specifying the number of slots available on the resource. For example, this could be megabytes of RAM on a GPU, or cryptography units available on a cryptography chip. If <code>slots</code> is not specified, a default value of <code>1</code> is assumed.</p> </dd> </dl> </dd> </dl> <p>In the example file above, there are four GPUs with ID's 0 through 3. GPU 0 has 2 slots, GPU 1 has 4, GPU 2 has 2, and GPU 3 has a default of 1 slot. There is also one cryptography chip with 4 slots.</p>   <h3>
<code>RESOURCE_GROUPS</code> Property</h3> <p>See <a class="reference internal" href="../prop_test/resource_groups.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS" id="index-1-prop_test:RESOURCE_GROUPS"><code>RESOURCE_GROUPS</code></a> for a description of this property.</p>   <h3 id="ctest-resource-environment-variables">Environment Variables</h3> <p>Once CTest has decided which resources to allocate to a test, it passes this information to the test executable as a series of environment variables. For each example below, we will assume that the test in question has a <a class="reference internal" href="../prop_test/resource_groups.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS" id="index-2-prop_test:RESOURCE_GROUPS"><code>RESOURCE_GROUPS</code></a> property of <code>2,gpus:2;gpus:4,gpus:1,crypto_chips:2</code>.</p> <p>The following variables are passed to the test process:</p> <dl class="cmake envvar"> <dt class="sig sig-object cmake" id="envvar:CTEST_RESOURCE_GROUP_COUNT">
<code>CTEST_RESOURCE_GROUP_COUNT</code> </dt> <dd>
<p>The total number of groups specified by the <a class="reference internal" href="../prop_test/resource_groups.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS" id="index-3-prop_test:RESOURCE_GROUPS"><code>RESOURCE_GROUPS</code></a> property. For example:</p> <ul class="simple"> <li><code>CTEST_RESOURCE_GROUP_COUNT=3</code></li> </ul> <p>This variable will only be defined if <a class="reference internal" href="#manual:ctest(1)" title="ctest(1)" id="index-0-manual:ctest(1)"><code>ctest(1)</code></a> has been given a <code>--resource-spec-file</code>, or if <a class="reference internal" href="../command/ctest_test.html#command:ctest_test" title="ctest_test" id="index-4-command:ctest_test"><code>ctest_test()</code></a> has been given a <code>RESOURCE_SPEC_FILE</code>. If no resource specification file has been given, this variable will not be defined.</p> </dd>
</dl> <dl class="cmake envvar"> <dt class="sig sig-object cmake" id="envvar:CTEST_RESOURCE_GROUP_&lt;num&gt;">
<code>CTEST_RESOURCE_GROUP_&lt;num&gt;</code> </dt> <dd>
<p>The list of resource types allocated to each group, with each item separated by a comma. <code>&lt;num&gt;</code> is a number from zero to <code>CTEST_RESOURCE_GROUP_COUNT</code> minus one. <code>CTEST_RESOURCE_GROUP_&lt;num&gt;</code> is defined for each <code>&lt;num&gt;</code> in this range. For example:</p> <ul class="simple"> <li><code>CTEST_RESOURCE_GROUP_0=gpus</code></li> <li><code>CTEST_RESOURCE_GROUP_1=gpus</code></li> <li><code>CTEST_RESOURCE_GROUP_2=crypto_chips,gpus</code></li> </ul> </dd>
</dl> <dl class="cmake envvar"> <dt class="sig sig-object cmake" id="envvar:CTEST_RESOURCE_GROUP_&lt;num&gt;_&lt;resource-type&gt;">
<code>CTEST_RESOURCE_GROUP_&lt;num&gt;_&lt;resource-type&gt;</code> </dt> <dd>
<p>The list of resource IDs and number of slots from each ID allocated to each group for a given resource type. This variable consists of a series of pairs, each pair separated by a semicolon, and with the two items in the pair separated by a comma. The first item in each pair is <code>id:</code> followed by the ID of a resource of type <code>&lt;resource-type&gt;</code>, and the second item is <code>slots:</code> followed by the number of slots from that resource allocated to the given group. For example:</p> <ul class="simple"> <li><code>CTEST_RESOURCE_GROUP_0_GPUS=id:0,slots:2</code></li> <li><code>CTEST_RESOURCE_GROUP_1_GPUS=id:2,slots:2</code></li> <li><code>CTEST_RESOURCE_GROUP_2_GPUS=id:1,slots:4;id:3,slots:1</code></li> <li><code>CTEST_RESOURCE_GROUP_2_CRYPTO_CHIPS=id:card0,slots:2</code></li> </ul> <p>In this example, group 0 gets 2 slots from GPU <code>0</code>, group 1 gets 2 slots from GPU <code>2</code>, and group 2 gets 4 slots from GPU <code>1</code>, 1 slot from GPU <code>3</code>, and 2 slots from cryptography chip <code>card0</code>.</p> <p><code>&lt;num&gt;</code> is a number from zero to <code>CTEST_RESOURCE_GROUP_COUNT</code> minus one. <code>&lt;resource-type&gt;</code> is the name of a resource type, converted to uppercase. <code>CTEST_RESOURCE_GROUP_&lt;num&gt;_&lt;resource-type&gt;</code> is defined for the product of each <code>&lt;num&gt;</code> in the range listed above and each resource type listed in <code>CTEST_RESOURCE_GROUP_&lt;num&gt;</code>.</p> <p>Because some platforms have case-insensitive names for environment variables, the names of resource types may not clash in a case-insensitive environment. Because of this, for the sake of simplicity, all resource types must be listed in all lowercase in the <a class="reference internal" href="#ctest-resource-specification-file"><span class="std std-ref">resource specification file</span></a> and in the <a class="reference internal" href="../prop_test/resource_groups.html#prop_test:RESOURCE_GROUPS" title="RESOURCE_GROUPS" id="index-4-prop_test:RESOURCE_GROUPS"><code>RESOURCE_GROUPS</code></a> property, and they are converted to all uppercase in the <code>CTEST_RESOURCE_GROUP_&lt;num&gt;_&lt;resource-type&gt;</code> environment variable.</p> </dd>
</dl>    <h2>See Also</h2> <p>The following resources are available to get help using CMake:</p> <dl> <dt>Home Page</dt>
<dd>
<p><a class="reference external" href="https://cmake.org">https://cmake.org</a></p> <p>The primary starting point for learning about CMake.</p> </dd> <dt>Online Documentation and Community Resources</dt>
<dd>
<p><a class="reference external" href="https://cmake.org/documentation">https://cmake.org/documentation</a></p> <p>Links to available documentation and community resources may be found on this web page.</p> </dd> <dt>Discourse Forum</dt>
<dd>
<p><a class="reference external" href="https://discourse.cmake.org">https://discourse.cmake.org</a></p> <p>The Discourse Forum hosts discussion and questions about CMake.</p> </dd> </dl> <p><span class="target" id="cdash">CDash</span>: <a class="reference external" href="https://cdash.org">https://cdash.org</a></p>   <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/manual/ctest.1.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/manual/ctest.1.html</a>
  </p>
</div>
