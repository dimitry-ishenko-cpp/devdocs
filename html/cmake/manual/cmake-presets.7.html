<h1 id="manual:cmake-presets(7)">cmake-presets(7)</h1>   <ul> <li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li> <li>
<p><a class="reference internal" href="#format" id="id4">Format</a></p> <ul> <li><a class="reference internal" href="#includes" id="id5">Includes</a></li> <li><a class="reference internal" href="#configure-preset" id="id6">Configure Preset</a></li> <li><a class="reference internal" href="#build-preset" id="id7">Build Preset</a></li> <li><a class="reference internal" href="#test-preset" id="id8">Test Preset</a></li> <li><a class="reference internal" href="#package-preset" id="id9">Package Preset</a></li> <li><a class="reference internal" href="#workflow-preset" id="id10">Workflow Preset</a></li> <li><a class="reference internal" href="#condition" id="id11">Condition</a></li> <li><a class="reference internal" href="#macro-expansion" id="id12">Macro Expansion</a></li> </ul> </li> <li><a class="reference internal" href="#schema" id="id13">Schema</a></li> </ul>
   <h2>Introduction</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.19.</span></p> </div> <p>One problem that CMake users often face is sharing settings with other people for common ways to configure a project. This may be done to support CI builds, or for users who frequently use the same build. CMake supports two main files, <code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code>, that allow users to specify common configure options and share them with others. CMake also supports files included with the <code>include</code> field.</p> <p><code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code> live in the project's root directory. They both have exactly the same format, and both are optional (though at least one must be present if <a class="reference internal" href="cmake.1.html#cmdoption-cmake-preset"><code>--preset</code></a> is specified). <code>CMakePresets.json</code> is meant to specify project-wide build details, while <code>CMakeUserPresets.json</code> is meant for developers to specify their own local build details.</p> <p><code>CMakePresets.json</code> may be checked into a version control system, and <code>CMakeUserPresets.json</code> should NOT be checked in. For example, if a project is using Git, <code>CMakePresets.json</code> may be tracked, and <code>CMakeUserPresets.json</code> should be added to the <code>.gitignore</code>.</p>   <h2>Format</h2> <p>The files are a JSON document with an object as the root:</p> <pre data-language="json">{
  "version": 6,
  "cmakeMinimumRequired": {
    "major": 3,
    "minor": 23,
    "patch": 0
  },
  "include": [
    "otherThings.json",
    "moreThings.json"
  ],
  "configurePresets": [
    {
      "name": "default",
      "displayName": "Default Config",
      "description": "Default build using Ninja generator",
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build/default",
      "cacheVariables": {
        "FIRST_CACHE_VARIABLE": {
          "type": "BOOL",
          "value": "OFF"
        },
        "SECOND_CACHE_VARIABLE": "ON"
      },
      "environment": {
        "MY_ENVIRONMENT_VARIABLE": "Test",
        "PATH": "$env{HOME}/ninja/bin:$penv{PATH}"
      },
      "vendor": {
        "example.com/ExampleIDE/1.0": {
          "autoFormat": true
        }
      }
    },
    {
      "name": "ninja-multi",
      "inherits": "default",
      "displayName": "Ninja Multi-Config",
      "description": "Default build using Ninja Multi-Config generator",
      "generator": "Ninja Multi-Config"
    },
    {
      "name": "windows-only",
      "inherits": "default",
      "displayName": "Windows-only configuration",
      "description": "This build is only available on Windows",
      "condition": {
        "type": "equals",
        "lhs": "${hostSystemName}",
        "rhs": "Windows"
      }
    }
  ],
  "buildPresets": [
    {
      "name": "default",
      "configurePreset": "default"
    }
  ],
  "testPresets": [
    {
      "name": "default",
      "configurePreset": "default",
      "output": {"outputOnFailure": true},
      "execution": {"noTestsAction": "error", "stopOnFailure": true}
    }
  ],
  "packagePresets": [
    {
      "name": "default",
      "configurePreset": "default",
      "generators": [
        "TGZ"
      ]
    }
  ],
  "workflowPresets": [
    {
      "name": "default",
      "steps": [
        {
          "type": "configure",
          "name": "default"
        },
        {
          "type": "build",
          "name": "default"
        },
        {
          "type": "test",
          "name": "default"
        },
        {
          "type": "package",
          "name": "default"
        }
      ]
    }
  ],
  "vendor": {
    "example.com/ExampleIDE/1.0": {
      "autoFormat": false
    }
  }
}
</pre> <p>The root object recognizes the following fields:</p> <dl> <dt>
<code>version</code> </dt>
<dd>
<p>A required integer representing the version of the JSON schema. The supported versions are:</p> <dl> <dt>
<code>1</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.19.</span></p> </div> </dd> <dt>
<code>2</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.20.</span></p> </div> </dd> <dt>
<code>3</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.21.</span></p> </div> </dd> <dt>
<code>4</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.23.</span></p> </div> </dd> <dt>
<code>5</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.24.</span></p> </div> </dd> <dt>
<code>6</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.25.</span></p> </div> </dd> </dl> </dd> <dt>
<code>cmakeMinimumRequired</code> </dt>
<dd>
<p>An optional object representing the minimum version of CMake needed to build this project. This object consists of the following fields:</p> <dl class="simple"> <dt>
<code>major</code> </dt>
<dd>
<p>An optional integer representing the major version.</p> </dd> <dt>
<code>minor</code> </dt>
<dd>
<p>An optional integer representing the minor version.</p> </dd> <dt>
<code>patch</code> </dt>
<dd>
<p>An optional integer representing the patch version.</p> </dd> </dl> </dd> <dt>
<code>include</code> </dt>
<dd>
<p>An optional array of strings representing files to include. If the filenames are not absolute, they are considered relative to the current file. This is allowed in preset files specifying version <code>4</code> or above. See <a class="reference internal" href="#includes">Includes</a> for discussion of the constraints on included files.</p> </dd> <dt>
<code>vendor</code> </dt>
<dd>
<p>An optional map containing vendor-specific information. CMake does not interpret the contents of this field except to verify that it is a map if it does exist. However, the keys should be a vendor-specific domain name followed by a <code>/</code>-separated path. For example, the Example IDE 1.0 could use <code>example.com/ExampleIDE/1.0</code>. The value of each field can be anything desired by the vendor, though will typically be a map.</p> </dd> <dt>
<code>configurePresets</code> </dt>
<dd>
<p>An optional array of <a class="reference internal" href="#configure-preset">Configure Preset</a> objects. This is allowed in preset files specifying version <code>1</code> or above.</p> </dd> <dt>
<code>buildPresets</code> </dt>
<dd>
<p>An optional array of <a class="reference internal" href="#build-preset">Build Preset</a> objects. This is allowed in preset files specifying version <code>2</code> or above.</p> </dd> <dt>
<code>testPresets</code> </dt>
<dd>
<p>An optional array of <a class="reference internal" href="#test-preset">Test Preset</a> objects. This is allowed in preset files specifying version <code>2</code> or above.</p> </dd> <dt>
<code>packagePresets</code> </dt>
<dd>
<p>An optional array of <a class="reference internal" href="#package-preset">Package Preset</a> objects. This is allowed in preset files specifying version <code>6</code> or above.</p> </dd> <dt>
<code>workflowPresets</code> </dt>
<dd>
<p>An optional array of <a class="reference internal" href="#workflow-preset">Workflow Preset</a> objects. This is allowed in preset files specifying version <code>6</code> or above.</p> </dd> </dl>  <h3>Includes</h3> <p><code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code> can include other files with the <code>include</code> field in file version <code>4</code> and later. Files included by these files can also include other files. If <code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code> are both present, <code>CMakeUserPresets.json</code> implicitly includes <code>CMakePresets.json</code>, even with no <code>include</code> field, in all versions of the format.</p> <p>If a preset file contains presets that inherit from presets in another file, the file must include the other file either directly or indirectly. Include cycles are not allowed among files. If <code>a.json</code> includes <code>b.json</code>, <code>b.json</code> cannot include <code>a.json</code>. However, a file may be included multiple times from the same file or from different files.</p> <p>Files directly or indirectly included from <code>CMakePresets.json</code> should be guaranteed to be provided by the project. <code>CMakeUserPresets.json</code> may include files from anywhere.</p>   <h3>Configure Preset</h3> <p>Each entry of the <code>configurePresets</code> array is a JSON object that may contain the following fields:</p> <dl> <dt>
<code>name</code> </dt>
<dd>
<p>A required string representing the machine-friendly name of the preset. This identifier is used in the <a class="reference internal" href="cmake.1.html#cmake-options"><span class="std std-ref">cmake --preset</span></a> option. There must not be two configure presets in the union of <code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code> in the same directory with the same name. However, a configure preset may have the same name as a build, test, package, or workflow preset.</p> </dd> <dt>
<code>hidden</code> </dt>
<dd>
<p>An optional boolean specifying whether or not a preset should be hidden. If a preset is hidden, it cannot be used in the <code>--preset=</code> argument, will not show up in the <a class="reference internal" href="cmake-gui.1.html#manual:cmake-gui(1)" title="cmake-gui(1)" id="index-0-manual:cmake-gui(1)"><code>CMake GUI</code></a>, and does not have to have a valid <code>generator</code> or <code>binaryDir</code>, even from inheritance. <code>hidden</code> presets are intended to be used as a base for other presets to inherit via the <code>inherits</code> field.</p> </dd> <dt>
<code>inherits</code> </dt>
<dd>
<p>An optional array of strings representing the names of presets to inherit from. This field can also be a string, which is equivalent to an array containing one string.</p> <p>The preset will inherit all of the fields from the <code>inherits</code> presets by default (except <code>name</code>, <code>hidden</code>, <code>inherits</code>, <code>description</code>, and <code>displayName</code>), but can override them as desired. If multiple <code>inherits</code> presets provide conflicting values for the same field, the earlier preset in the <code>inherits</code> array will be preferred.</p> <p>A preset can only inherit from another preset that is defined in the same file or in one of the files it includes (directly or indirectly). Presets in <code>CMakePresets.json</code> may not inherit from presets in <code>CMakeUserPresets.json</code>.</p> </dd> <dt>
<code>condition</code> </dt>
<dd>
<p>An optional <a class="reference internal" href="#condition">Condition</a> object. This is allowed in preset files specifying version <code>3</code> or above.</p> </dd> <dt>
<code>vendor</code> </dt>
<dd>
<p>An optional map containing vendor-specific information. CMake does not interpret the contents of this field except to verify that it is a map if it does exist. However, it should follow the same conventions as the root-level <code>vendor</code> field. If vendors use their own per-preset <code>vendor</code> field, they should implement inheritance in a sensible manner when appropriate.</p> </dd> <dt>
<code>displayName</code> </dt>
<dd>
<p>An optional string with a human-friendly name of the preset.</p> </dd> <dt>
<code>description</code> </dt>
<dd>
<p>An optional string with a human-friendly description of the preset.</p> </dd> <dt>
<code>generator</code> </dt>
<dd>
<p>An optional string representing the generator to use for the preset. If <code>generator</code> is not specified, it must be inherited from the <code>inherits</code> preset (unless this preset is <code>hidden</code>). In version <code>3</code> or above, this field may be omitted to fall back to regular generator discovery procedure.</p> <p>Note that for Visual Studio generators, unlike in the command line <a class="reference internal" href="cmake.1.html#cmdoption-cmake-G"><code>-G</code></a> argument, you cannot include the platform name in the generator name. Use the <code>architecture</code> field instead.</p> </dd> <dt>
<code>architecture, toolset</code> </dt>
<dd>
<p>Optional fields representing the platform and toolset, respectively, for <a class="reference internal" href="cmake-generators.7.html#manual:cmake-generators(7)" title="cmake-generators(7)" id="index-0-manual:cmake-generators(7)"><code>generators</code></a> that support them.</p> <p>See <a class="reference internal" href="cmake.1.html#cmdoption-cmake-A"><code>cmake -A</code></a> option for possible values for <code>architecture</code> and <a class="reference internal" href="cmake.1.html#cmdoption-cmake-T"><code>cmake -T</code></a> for <code>toolset</code>.</p> <p>Each may be either a string or an object with the following fields:</p> <dl> <dt>
<code>value</code> </dt>
<dd>
<p>An optional string representing the value.</p> </dd> <dt>
<code>strategy</code> </dt>
<dd>
<p>An optional string telling CMake how to handle the <code>architecture</code> or <code>toolset</code> field. Valid values are:</p> <dl class="simple"> <dt>
<code>"set"</code> </dt>
<dd>
<p>Set the respective value. This will result in an error for generators that do not support the respective field.</p> </dd> <dt>
<code>"external"</code> </dt>
<dd>
<p>Do not set the value, even if the generator supports it. This is useful if, for example, a preset uses the Ninja generator, and an IDE knows how to set up the Visual C++ environment from the <code>architecture</code> and <code>toolset</code> fields. In that case, CMake will ignore the field, but the IDE can use them to set up the environment before invoking CMake.</p> </dd> </dl> <p>If no <code>strategy</code> field is given, or if the field uses the string form rather than the object form, the behavior is the same as <code>"set"</code>.</p> </dd> </dl> </dd> <dt>
<code>toolchainFile</code> </dt>
<dd>
<p>An optional string representing the path to the toolchain file. This field supports <a class="reference internal" href="#macro-expansion">macro expansion</a>. If a relative path is specified, it is calculated relative to the build directory, and if not found, relative to the source directory. This field takes precedence over any <a class="reference internal" href="../variable/cmake_toolchain_file.html#variable:CMAKE_TOOLCHAIN_FILE" title="CMAKE_TOOLCHAIN_FILE" id="index-0-variable:CMAKE_TOOLCHAIN_FILE"><code>CMAKE_TOOLCHAIN_FILE</code></a> value. It is allowed in preset files specifying version <code>3</code> or above.</p> </dd> <dt>
<code>binaryDir</code> </dt>
<dd>
<p>An optional string representing the path to the output binary directory. This field supports <a class="reference internal" href="#macro-expansion">macro expansion</a>. If a relative path is specified, it is calculated relative to the source directory. If <code>binaryDir</code> is not specified, it must be inherited from the <code>inherits</code> preset (unless this preset is <code>hidden</code>). In version <code>3</code> or above, this field may be omitted.</p> </dd> <dt>
<code>installDir</code> </dt>
<dd>
<p>An optional string representing the path to the installation directory. This field supports <a class="reference internal" href="#macro-expansion">macro expansion</a>. If a relative path is specified, it is calculated relative to the source directory. This is allowed in preset files specifying version <code>3</code> or above.</p> </dd> <dt>
<code>cmakeExecutable</code> </dt>
<dd>
<p>An optional string representing the path to the CMake executable to use for this preset. This is reserved for use by IDEs, and is not used by CMake itself. IDEs that use this field should expand any macros in it.</p> </dd> <dt>
<code>cacheVariables</code> </dt>
<dd>
<p>An optional map of cache variables. The key is the variable name (which may not be an empty string), and the value is either <code>null</code>, a boolean (which is equivalent to a value of <code>"TRUE"</code> or <code>"FALSE"</code> and a type of <code>BOOL</code>), a string representing the value of the variable (which supports <a class="reference internal" href="#macro-expansion">macro expansion</a>), or an object with the following fields:</p> <dl class="simple"> <dt>
<code>type</code> </dt>
<dd>
<p>An optional string representing the type of the variable.</p> </dd> <dt>
<code>value</code> </dt>
<dd>
<p>A required string or boolean representing the value of the variable. A boolean is equivalent to <code>"TRUE"</code> or <code>"FALSE"</code>. This field supports <a class="reference internal" href="#macro-expansion">macro expansion</a>.</p> </dd> </dl> <p>Cache variables are inherited through the <code>inherits</code> field, and the preset's variables will be the union of its own <code>cacheVariables</code> and the <code>cacheVariables</code> from all its parents. If multiple presets in this union define the same variable, the standard rules of <code>inherits</code> are applied. Setting a variable to <code>null</code> causes it to not be set, even if a value was inherited from another preset.</p> </dd> <dt>
<code>environment</code> </dt>
<dd>
<p>An optional map of environment variables. The key is the variable name (which may not be an empty string), and the value is either <code>null</code> or a string representing the value of the variable. Each variable is set regardless of whether or not a value was given to it by the process's environment. This field supports <a class="reference internal" href="#macro-expansion">macro expansion</a>, and environment variables in this map may reference each other, and may be listed in any order, as long as such references do not cause a cycle (for example, if <code>ENV_1</code> is <code>$env{ENV_2}</code>, <code>ENV_2</code> may not be <code>$env{ENV_1}</code>.)</p> <p>Environment variables are inherited through the <code>inherits</code> field, and the preset's environment will be the union of its own <code>environment</code> and the <code>environment</code> from all its parents. If multiple presets in this union define the same variable, the standard rules of <code>inherits</code> are applied. Setting a variable to <code>null</code> causes it to not be set, even if a value was inherited from another preset.</p> </dd> <dt>
<code>warnings</code> </dt>
<dd>
<p>An optional object specifying the warnings to enable. The object may contain the following fields:</p> <dl class="simple"> <dt>
<code>dev</code> </dt>
<dd>
<p>An optional boolean. Equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-Wdev"><code>-Wdev</code></a> or <a class="reference internal" href="cmake.1.html#cmdoption-cmake-Wno-dev"><code>-Wno-dev</code></a> on the command line. This may not be set to <code>false</code> if <code>errors.dev</code> is set to <code>true</code>.</p> </dd> <dt>
<code>deprecated</code> </dt>
<dd>
<p>An optional boolean. Equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-Wdeprecated"><code>-Wdeprecated</code></a> or <a class="reference internal" href="cmake.1.html#cmdoption-cmake-Wno-deprecated"><code>-Wno-deprecated</code></a> on the command line. This may not be set to <code>false</code> if <code>errors.deprecated</code> is set to <code>true</code>.</p> </dd> <dt>
<code>uninitialized</code> </dt>
<dd>
<p>An optional boolean. Setting this to <code>true</code> is equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-warn-uninitialized"><code>--warn-uninitialized</code></a> on the command line.</p> </dd> <dt>
<code>unusedCli</code> </dt>
<dd>
<p>An optional boolean. Setting this to <code>false</code> is equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-no-warn-unused-cli"><code>--no-warn-unused-cli</code></a> on the command line.</p> </dd> <dt>
<code>systemVars</code> </dt>
<dd>
<p>An optional boolean. Setting this to <code>true</code> is equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-check-system-vars"><code>--check-system-vars</code></a> on the command line.</p> </dd> </dl> </dd> <dt>
<code>errors</code> </dt>
<dd>
<p>An optional object specifying the errors to enable. The object may contain the following fields:</p> <dl class="simple"> <dt>
<code>dev</code> </dt>
<dd>
<p>An optional boolean. Equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-Werror"><code>-Werror=dev</code></a> or <a class="reference internal" href="cmake.1.html#cmdoption-cmake-Werror"><code>-Wno-error=dev</code></a> on the command line. This may not be set to <code>true</code> if <code>warnings.dev</code> is set to <code>false</code>.</p> </dd> <dt>
<code>deprecated</code> </dt>
<dd>
<p>An optional boolean. Equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-Werror"><code>-Werror=deprecated</code></a> or <a class="reference internal" href="cmake.1.html#cmdoption-cmake-Werror"><code>-Wno-error=deprecated</code></a> on the command line. This may not be set to <code>true</code> if <code>warnings.deprecated</code> is set to <code>false</code>.</p> </dd> </dl> </dd> <dt>
<code>debug</code> </dt>
<dd>
<p>An optional object specifying debug options. The object may contain the following fields:</p> <dl class="simple"> <dt>
<code>output</code> </dt>
<dd>
<p>An optional boolean. Setting this to <code>true</code> is equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-debug-output"><code>--debug-output</code></a> on the command line.</p> </dd> <dt>
<code>tryCompile</code> </dt>
<dd>
<p>An optional boolean. Setting this to <code>true</code> is equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-debug-trycompile"><code>--debug-trycompile</code></a> on the command line.</p> </dd> <dt>
<code>find</code> </dt>
<dd>
<p>An optional boolean. Setting this to <code>true</code> is equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-debug-find"><code>--debug-find</code></a> on the command line.</p> </dd> </dl> </dd> </dl>   <h3>Build Preset</h3> <p>Each entry of the <code>buildPresets</code> array is a JSON object that may contain the following fields:</p> <dl> <dt>
<code>name</code> </dt>
<dd>
<p>A required string representing the machine-friendly name of the preset. This identifier is used in the <a class="reference internal" href="cmake.1.html#build-tool-mode"><span class="std std-ref">cmake --build --preset</span></a> option. There must not be two build presets in the union of <code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code> in the same directory with the same name. However, a build preset may have the same name as a configure, test, package, or workflow preset.</p> </dd> <dt>
<code>hidden</code> </dt>
<dd>
<p>An optional boolean specifying whether or not a preset should be hidden. If a preset is hidden, it cannot be used in the <a class="reference internal" href="cmake.1.html#cmdoption-cmake-preset"><code>--preset</code></a> argument and does not have to have a valid <code>configurePreset</code>, even from inheritance. <code>hidden</code> presets are intended to be used as a base for other presets to inherit via the <code>inherits</code> field.</p> </dd> <dt>
<code>inherits</code> </dt>
<dd>
<p>An optional array of strings representing the names of presets to inherit from. This field can also be a string, which is equivalent to an array containing one string.</p> <p>The preset will inherit all of the fields from the <code>inherits</code> presets by default (except <code>name</code>, <code>hidden</code>, <code>inherits</code>, <code>description</code>, and <code>displayName</code>), but can override them as desired. If multiple <code>inherits</code> presets provide conflicting values for the same field, the earlier preset in the <code>inherits</code> array will be preferred.</p> <p>A preset can only inherit from another preset that is defined in the same file or in one of the files it includes (directly or indirectly). Presets in <code>CMakePresets.json</code> may not inherit from presets in <code>CMakeUserPresets.json</code>.</p> </dd> <dt>
<code>condition</code> </dt>
<dd>
<p>An optional <a class="reference internal" href="#condition">Condition</a> object. This is allowed in preset files specifying version <code>3</code> or above.</p> </dd> <dt>
<code>vendor</code> </dt>
<dd>
<p>An optional map containing vendor-specific information. CMake does not interpret the contents of this field except to verify that it is a map if it does exist. However, it should follow the same conventions as the root-level <code>vendor</code> field. If vendors use their own per-preset <code>vendor</code> field, they should implement inheritance in a sensible manner when appropriate.</p> </dd> <dt>
<code>displayName</code> </dt>
<dd>
<p>An optional string with a human-friendly name of the preset.</p> </dd> <dt>
<code>description</code> </dt>
<dd>
<p>An optional string with a human-friendly description of the preset.</p> </dd> <dt>
<code>environment</code> </dt>
<dd>
<p>An optional map of environment variables. The key is the variable name (which may not be an empty string), and the value is either <code>null</code> or a string representing the value of the variable. Each variable is set regardless of whether or not a value was given to it by the process's environment. This field supports macro expansion, and environment variables in this map may reference each other, and may be listed in any order, as long as such references do not cause a cycle (for example, if <code>ENV_1</code> is <code>$env{ENV_2}</code>, <code>ENV_2</code> may not be <code>$env{ENV_1}</code>.)</p> <p>Environment variables are inherited through the <code>inherits</code> field, and the preset's environment will be the union of its own <code>environment</code> and the <code>environment</code> from all its parents. If multiple presets in this union define the same variable, the standard rules of <code>inherits</code> are applied. Setting a variable to <code>null</code> causes it to not be set, even if a value was inherited from another preset.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>For a CMake project using ExternalProject with a configuration preset having environment variables needed in the ExternalProject, use a build preset that inherits that configuration preset or the ExternalProject will not have the environment variables set in the configuration preset. Example: suppose the host defaults to one compiler (say Clang) and the user wishes to use another compiler (say GCC). Set configuration preset environment variables <code>CC</code> and <code>CXX</code> and use a build preset that inherits that configuration preset. Otherwise the ExternalProject may use a different (system default) compiler than the top-level CMake project.</p> </div> </dd> <dt>
<code>configurePreset</code> </dt>
<dd>
<p>An optional string specifying the name of a configure preset to associate with this build preset. If <code>configurePreset</code> is not specified, it must be inherited from the inherits preset (unless this preset is hidden). The build directory is inferred from the configure preset, so the build will take place in the same <code>binaryDir</code> that the configuration did.</p> </dd> <dt>
<code>inheritConfigureEnvironment</code> </dt>
<dd>
<p>An optional boolean that defaults to true. If true, the environment variables from the associated configure preset are inherited after all inherited build preset environments, but before environment variables explicitly specified in this build preset.</p> </dd> <dt>
<code>jobs</code> </dt>
<dd>
<p>An optional integer. Equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-build-j"><code>--parallel</code></a> or <code>-j</code> on the command line.</p> </dd> <dt>
<code>targets</code> </dt>
<dd>
<p>An optional string or array of strings. Equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-build-t"><code>--target</code></a> or <code>-t</code> on the command line. Vendors may ignore the targets property or hide build presets that explicitly specify targets. This field supports macro expansion.</p> </dd> <dt>
<code>configuration</code> </dt>
<dd>
<p>An optional string. Equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-build-config"><code>--config</code></a> on the command line.</p> </dd> <dt>
<code>cleanFirst</code> </dt>
<dd>
<p>An optional bool. If true, equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-build-clean-first"><code>--clean-first</code></a> on the command line.</p> </dd> <dt>
<code>resolvePackageReferences</code> </dt>
<dd>
<p>An optional string that specifies the package resolve mode. This is allowed in preset files specifying version <code>4</code> or above.</p> <p>Package references are used to define dependencies to packages from external package managers. Currently only NuGet in combination with the Visual Studio generator is supported. If there are no targets that define package references, this option does nothing. Valid values are:</p> <dl class="simple"> <dt>
<code>on</code> </dt>
<dd>
<p>Causes package references to be resolved before attempting a build.</p> </dd> <dt>
<code>off</code> </dt>
<dd>
<p>Package references will not be resolved. Note that this may cause errors in some build environments, such as .NET SDK style projects.</p> </dd> <dt>
<code>only</code> </dt>
<dd>
<p>Only resolve package references, but do not perform a build.</p> </dd> </dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The command line parameter <a class="reference internal" href="cmake.1.html#cmdoption-cmake-build-resolve-package-references"><code>--resolve-package-references</code></a> will take priority over this setting. If the command line parameter is not provided and this setting is not specified, an environment-specific cache variable will be evaluated to decide, if package restoration should be performed.</p> <p>When using the Visual Studio generator, package references are defined using the <a class="reference internal" href="../prop_tgt/vs_package_references.html#prop_tgt:VS_PACKAGE_REFERENCES" title="VS_PACKAGE_REFERENCES" id="index-0-prop_tgt:VS_PACKAGE_REFERENCES"><code>VS_PACKAGE_REFERENCES</code></a> property. Package references are restored using NuGet. It can be disabled by setting the <code>CMAKE_VS_NUGET_PACKAGE_RESTORE</code> variable to <code>OFF</code>. This can also be done from within a configure preset.</p> </div> </dd> <dt>
<code>verbose</code> </dt>
<dd>
<p>An optional bool. If true, equivalent to passing <a class="reference internal" href="cmake.1.html#cmdoption-cmake-build-v"><code>--verbose</code></a> on the command line.</p> </dd> <dt>
<code>nativeToolOptions</code> </dt>
<dd>
<p>An optional array of strings. Equivalent to passing options after <code>--</code> on the command line. The array values support macro expansion.</p> </dd> </dl>   <h3>Test Preset</h3> <p>Each entry of the <code>testPresets</code> array is a JSON object that may contain the following fields:</p> <dl> <dt>
<code>name</code> </dt>
<dd>
<p>A required string representing the machine-friendly name of the preset. This identifier is used in the <a class="reference internal" href="ctest.1.html#cmdoption-ctest-preset"><code>ctest --preset</code></a> option. There must not be two test presets in the union of <code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code> in the same directory with the same name. However, a test preset may have the same name as a configure, build, package, or workflow preset.</p> </dd> <dt>
<code>hidden</code> </dt>
<dd>
<p>An optional boolean specifying whether or not a preset should be hidden. If a preset is hidden, it cannot be used in the <a class="reference internal" href="ctest.1.html#cmdoption-ctest-preset"><code>--preset</code></a> argument and does not have to have a valid <code>configurePreset</code>, even from inheritance. <code>hidden</code> presets are intended to be used as a base for other presets to inherit via the <code>inherits</code> field.</p> </dd> <dt>
<code>inherits</code> </dt>
<dd>
<p>An optional array of strings representing the names of presets to inherit from. This field can also be a string, which is equivalent to an array containing one string.</p> <p>The preset will inherit all of the fields from the <code>inherits</code> presets by default (except <code>name</code>, <code>hidden</code>, <code>inherits</code>, <code>description</code>, and <code>displayName</code>), but can override them as desired. If multiple <code>inherits</code> presets provide conflicting values for the same field, the earlier preset in the <code>inherits</code> array will be preferred.</p> <p>A preset can only inherit from another preset that is defined in the same file or in one of the files it includes (directly or indirectly). Presets in <code>CMakePresets.json</code> may not inherit from presets in <code>CMakeUserPresets.json</code>.</p> </dd> <dt>
<code>condition</code> </dt>
<dd>
<p>An optional <a class="reference internal" href="#condition">Condition</a> object. This is allowed in preset files specifying version <code>3</code> or above.</p> </dd> <dt>
<code>vendor</code> </dt>
<dd>
<p>An optional map containing vendor-specific information. CMake does not interpret the contents of this field except to verify that it is a map if it does exist. However, it should follow the same conventions as the root-level <code>vendor</code> field. If vendors use their own per-preset <code>vendor</code> field, they should implement inheritance in a sensible manner when appropriate.</p> </dd> <dt>
<code>displayName</code> </dt>
<dd>
<p>An optional string with a human-friendly name of the preset.</p> </dd> <dt>
<code>description</code> </dt>
<dd>
<p>An optional string with a human-friendly description of the preset.</p> </dd> <dt>
<code>environment</code> </dt>
<dd>
<p>An optional map of environment variables. The key is the variable name (which may not be an empty string), and the value is either <code>null</code> or a string representing the value of the variable. Each variable is set regardless of whether or not a value was given to it by the process's environment. This field supports macro expansion, and environment variables in this map may reference each other, and may be listed in any order, as long as such references do not cause a cycle (for example, if <code>ENV_1</code> is <code>$env{ENV_2}</code>, <code>ENV_2</code> may not be <code>$env{ENV_1}</code>.)</p> <p>Environment variables are inherited through the <code>inherits</code> field, and the preset's environment will be the union of its own <code>environment</code> and the <code>environment</code> from all its parents. If multiple presets in this union define the same variable, the standard rules of <code>inherits</code> are applied. Setting a variable to <code>null</code> causes it to not be set, even if a value was inherited from another preset.</p> </dd> <dt>
<code>configurePreset</code> </dt>
<dd>
<p>An optional string specifying the name of a configure preset to associate with this test preset. If <code>configurePreset</code> is not specified, it must be inherited from the inherits preset (unless this preset is hidden). The build directory is inferred from the configure preset, so tests will run in the same <code>binaryDir</code> that the configuration did and build did.</p> </dd> <dt>
<code>inheritConfigureEnvironment</code> </dt>
<dd>
<p>An optional boolean that defaults to true. If true, the environment variables from the associated configure preset are inherited after all inherited test preset environments, but before environment variables explicitly specified in this test preset.</p> </dd> <dt>
<code>configuration</code> </dt>
<dd>
<p>An optional string. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-C"><code>--build-config</code></a> on the command line.</p> </dd> <dt>
<code>overwriteConfigurationFile</code> </dt>
<dd>
<p>An optional array of configuration options to overwrite options specified in the CTest configuration file. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-overwrite"><code>--overwrite</code></a> for each value in the array. The array values support macro expansion.</p> </dd> <dt>
<code>output</code> </dt>
<dd>
<p>An optional object specifying output options. The object may contain the following fields.</p> <dl> <dt>
<code>shortProgress</code> </dt>
<dd>
<p>An optional bool. If true, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-progress"><code>--progress</code></a> on the command line.</p> </dd> <dt>
<code>verbosity</code> </dt>
<dd>
<p>An optional string specifying verbosity level. Must be one of the following:</p> <dl class="simple"> <dt>
<code>default</code> </dt>
<dd>
<p>Equivalent to passing no verbosity flags on the command line.</p> </dd> <dt>
<code>verbose</code> </dt>
<dd>
<p>Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-V"><code>--verbose</code></a> on the command line.</p> </dd> <dt>
<code>extra</code> </dt>
<dd>
<p>Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-VV"><code>--extra-verbose</code></a> on the command line.</p> </dd> </dl> </dd> <dt>
<code>debug</code> </dt>
<dd>
<p>An optional bool. If true, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-debug"><code>--debug</code></a> on the command line.</p> </dd> <dt>
<code>outputOnFailure</code> </dt>
<dd>
<p>An optional bool. If true, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-output-on-failure"><code>--output-on-failure</code></a> on the command line.</p> </dd> <dt>
<code>quiet</code> </dt>
<dd>
<p>An optional bool. If true, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-Q"><code>--quiet</code></a> on the command line.</p> </dd> <dt>
<code>outputLogFile</code> </dt>
<dd>
<p>An optional string specifying a path to a log file. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-O"><code>--output-log</code></a> on the command line. This field supports macro expansion.</p> </dd> <dt>
<code>outputJUnitFile</code> </dt>
<dd>
<p>An optional string specifying a path to a JUnit file. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-output-junit"><code>--output-junit</code></a> on the command line. This field supports macro expansion. This is allowed in preset files specifying version <code>6</code> or above.</p> </dd> <dt>
<code>labelSummary</code> </dt>
<dd>
<p>An optional bool. If false, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-no-label-summary"><code>--no-label-summary</code></a> on the command line.</p> </dd> <dt>
<code>subprojectSummary</code> </dt>
<dd>
<p>An optional bool. If false, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-no-subproject-summary"><code>--no-subproject-summary</code></a> on the command line.</p> </dd> <dt>
<code>maxPassedTestOutputSize</code> </dt>
<dd>
<p>An optional integer specifying the maximum output for passed tests in bytes. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-test-output-size-passed"><code>--test-output-size-passed</code></a> on the command line.</p> </dd> <dt>
<code>maxFailedTestOutputSize</code> </dt>
<dd>
<p>An optional integer specifying the maximum output for failed tests in bytes. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-test-output-size-failed"><code>--test-output-size-failed</code></a> on the command line.</p> </dd> <dt>
<code>testOutputTruncation</code> </dt>
<dd>
<p>An optional string specifying the test output truncation mode. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-test-output-truncation"><code>--test-output-truncation</code></a> on the command line. This is allowed in preset files specifying version <code>5</code> or above.</p> </dd> <dt>
<code>maxTestNameWidth</code> </dt>
<dd>
<p>An optional integer specifying the maximum width of a test name to output. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-max-width"><code>--max-width</code></a> on the command line.</p> </dd> </dl> </dd> <dt>
<code>filter</code> </dt>
<dd>
<p>An optional object specifying how to filter the tests to run. The object may contain the following fields.</p> <dl> <dt>
<code>include</code> </dt>
<dd>
<p>An optional object specifying which tests to include. The object may contain the following fields.</p> <dl> <dt>
<code>name</code> </dt>
<dd>
<p>An optional string specifying a regex for test names. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-R"><code>--tests-regex</code></a> on the command line. This field supports macro expansion. CMake regex syntax is described under <a class="reference internal" href="../command/string.html#regex-specification"><span class="std std-ref">string(REGEX)</span></a>.</p> </dd> <dt>
<code>label</code> </dt>
<dd>
<p>An optional string specifying a regex for test labels. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-L"><code>--label-regex</code></a> on the command line. This field supports macro expansion.</p> </dd> <dt>
<code>useUnion</code> </dt>
<dd>
<p>An optional bool. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-U"><code>--union</code></a> on the command line.</p> </dd> <dt>
<code>index</code> </dt>
<dd>
<p>An optional object specifying tests to include by test index. The object may contain the following fields. Can also be an optional string specifying a file with the command line syntax for <a class="reference internal" href="ctest.1.html#cmdoption-ctest-I"><code>--tests-information</code></a>. If specified as a string, this field supports macro expansion.</p> <dl class="simple"> <dt>
<code>start</code> </dt>
<dd>
<p>An optional integer specifying a test index to start testing at.</p> </dd> <dt>
<code>end</code> </dt>
<dd>
<p>An optional integer specifying a test index to stop testing at.</p> </dd> <dt>
<code>stride</code> </dt>
<dd>
<p>An optional integer specifying the increment.</p> </dd> <dt>
<code>specificTests</code> </dt>
<dd>
<p>An optional array of integers specifying specific test indices to run.</p> </dd> </dl> </dd> </dl> </dd> <dt>
<code>exclude</code> </dt>
<dd>
<p>An optional object specifying which tests to exclude. The object may contain the following fields.</p> <dl> <dt>
<code>name</code> </dt>
<dd>
<p>An optional string specifying a regex for test names. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-E"><code>--exclude-regex</code></a> on the command line. This field supports macro expansion.</p> </dd> <dt>
<code>label</code> </dt>
<dd>
<p>An optional string specifying a regex for test labels. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-LE"><code>--label-exclude</code></a> on the command line. This field supports macro expansion.</p> </dd> <dt>
<code>fixtures</code> </dt>
<dd>
<p>An optional object specifying which fixtures to exclude from adding tests. The object may contain the following fields.</p> <dl class="simple"> <dt>
<code>any</code> </dt>
<dd>
<p>An optional string specifying a regex for text fixtures to exclude from adding any tests. Equivalent to <a class="reference internal" href="ctest.1.html#cmdoption-ctest-FA"><code>--fixture-exclude-any</code></a> on the command line. This field supports macro expansion.</p> </dd> <dt>
<code>setup</code> </dt>
<dd>
<p>An optional string specifying a regex for text fixtures to exclude from adding setup tests. Equivalent to <a class="reference internal" href="ctest.1.html#cmdoption-ctest-FS"><code>--fixture-exclude-setup</code></a> on the command line. This field supports macro expansion.</p> </dd> <dt>
<code>cleanup</code> </dt>
<dd>
<p>An optional string specifying a regex for text fixtures to exclude from adding cleanup tests. Equivalent to <a class="reference internal" href="ctest.1.html#cmdoption-ctest-FC"><code>--fixture-exclude-cleanup</code></a> on the command line. This field supports macro expansion.</p> </dd> </dl> </dd> </dl> </dd> </dl> </dd> <dt>
<code>execution</code> </dt>
<dd>
<p>An optional object specifying options for test execution. The object may contain the following fields.</p> <dl> <dt>
<code>stopOnFailure</code> </dt>
<dd>
<p>An optional bool. If true, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-stop-on-failure"><code>--stop-on-failure</code></a> on the command line.</p> </dd> <dt>
<code>enableFailover</code> </dt>
<dd>
<p>An optional bool. If true, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-F"><code>-F</code></a> on the command line.</p> </dd> <dt>
<code>jobs</code> </dt>
<dd>
<p>An optional integer. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-j"><code>--parallel</code></a> on the command line.</p> </dd> <dt>
<code>resourceSpecFile</code> </dt>
<dd>
<p>An optional string. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-resource-spec-file"><code>--resource-spec-file</code></a> on the command line. This field supports macro expansion.</p> </dd> <dt>
<code>testLoad</code> </dt>
<dd>
<p>An optional integer. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-test-load"><code>--test-load</code></a> on the command line.</p> </dd> <dt>
<code>showOnly</code> </dt>
<dd>
<p>An optional string. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-N"><code>--show-only</code></a> on the command line. The string must be one of the following values:</p> <p><code>human</code></p> <p><code>json-v1</code></p> </dd> <dt>
<code>repeat</code> </dt>
<dd>
<p>An optional object specifying how to repeat tests. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-repeat"><code>--repeat</code></a> on the command line. The object must have the following fields.</p> <dl> <dt>
<code>mode</code> </dt>
<dd>
<p>A required string. Must be one of the following values:</p> <p><code>until-fail</code></p> <p><code>until-pass</code></p> <p><code>after-timeout</code></p> </dd> <dt>
<code>count</code> </dt>
<dd>
<p>A required integer.</p> </dd> </dl> </dd> <dt>
<code>interactiveDebugging</code> </dt>
<dd>
<p>An optional bool. If true, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-interactive-debug-mode"><code>--interactive-debug-mode 1</code></a> on the command line. If false, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-interactive-debug-mode"><code>--interactive-debug-mode 0</code></a> on the command line.</p> </dd> <dt>
<code>scheduleRandom</code> </dt>
<dd>
<p>An optional bool. If true, equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-schedule-random"><code>--schedule-random</code></a> on the command line.</p> </dd> <dt>
<code>timeout</code> </dt>
<dd>
<p>An optional integer. Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-timeout"><code>--timeout</code></a> on the command line.</p> </dd> <dt>
<code>noTestsAction</code> </dt>
<dd>
<p>An optional string specifying the behavior if no tests are found. Must be one of the following values:</p> <dl class="simple"> <dt>
<code>default</code> </dt>
<dd>
<p>Equivalent to not passing any value on the command line.</p> </dd> <dt>
<code>error</code> </dt>
<dd>
<p>Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-no-tests"><code>--no-tests=error</code></a> on the command line.</p> </dd> <dt>
<code>ignore</code> </dt>
<dd>
<p>Equivalent to passing <a class="reference internal" href="ctest.1.html#cmdoption-ctest-no-tests"><code>--no-tests=ignore</code></a> on the command line.</p> </dd> </dl> </dd> </dl> </dd> </dl>   <h3>Package Preset</h3> <p>Package presets may be used in schema version <code>6</code> or above. Each entry of the <code>packagePresets</code> array is a JSON object that may contain the following fields:</p> <dl> <dt>
<code>name</code> </dt>
<dd>
<p>A required string representing the machine-friendly name of the preset. This identifier is used in the <a class="reference internal" href="cpack.1.html#cmdoption-cpack-preset"><code>cpack --preset</code></a> option. There must not be two package presets in the union of <code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code> in the same directory with the same name. However, a package preset may have the same name as a configure, build, test, or workflow preset.</p> </dd> <dt>
<code>hidden</code> </dt>
<dd>
<p>An optional boolean specifying whether or not a preset should be hidden. If a preset is hidden, it cannot be used in the <a class="reference internal" href="cpack.1.html#cmdoption-cpack-preset"><code>--preset</code></a> argument and does not have to have a valid <code>configurePreset</code>, even from inheritance. <code>hidden</code> presets are intended to be used as a base for other presets to inherit via the <code>inherits</code> field.</p> </dd> <dt>
<code>inherits</code> </dt>
<dd>
<p>An optional array of strings representing the names of presets to inherit from. This field can also be a string, which is equivalent to an array containing one string.</p> <p>The preset will inherit all of the fields from the <code>inherits</code> presets by default (except <code>name</code>, <code>hidden</code>, <code>inherits</code>, <code>description</code>, and <code>displayName</code>), but can override them as desired. If multiple <code>inherits</code> presets provide conflicting values for the same field, the earlier preset in the <code>inherits</code> array will be preferred.</p> <p>A preset can only inherit from another preset that is defined in the same file or in one of the files it includes (directly or indirectly). Presets in <code>CMakePresets.json</code> may not inherit from presets in <code>CMakeUserPresets.json</code>.</p> </dd> <dt>
<code>condition</code> </dt>
<dd>
<p>An optional <a class="reference internal" href="#condition">Condition</a> object.</p> </dd> <dt>
<code>vendor</code> </dt>
<dd>
<p>An optional map containing vendor-specific information. CMake does not interpret the contents of this field except to verify that it is a map if it does exist. However, it should follow the same conventions as the root-level <code>vendor</code> field. If vendors use their own per-preset <code>vendor</code> field, they should implement inheritance in a sensible manner when appropriate.</p> </dd> <dt>
<code>displayName</code> </dt>
<dd>
<p>An optional string with a human-friendly name of the preset.</p> </dd> <dt>
<code>description</code> </dt>
<dd>
<p>An optional string with a human-friendly description of the preset.</p> </dd> <dt>
<code>environment</code> </dt>
<dd>
<p>An optional map of environment variables. The key is the variable name (which may not be an empty string), and the value is either <code>null</code> or a string representing the value of the variable. Each variable is set regardless of whether or not a value was given to it by the process's environment. This field supports macro expansion, and environment variables in this map may reference each other, and may be listed in any order, as long as such references do not cause a cycle (for example, if <code>ENV_1</code> is <code>$env{ENV_2}</code>, <code>ENV_2</code> may not be <code>$env{ENV_1}</code>.)</p> <p>Environment variables are inherited through the <code>inherits</code> field, and the preset's environment will be the union of its own <code>environment</code> and the <code>environment</code> from all its parents. If multiple presets in this union define the same variable, the standard rules of <code>inherits</code> are applied. Setting a variable to <code>null</code> causes it to not be set, even if a value was inherited from another preset.</p> </dd> <dt>
<code>configurePreset</code> </dt>
<dd>
<p>An optional string specifying the name of a configure preset to associate with this package preset. If <code>configurePreset</code> is not specified, it must be inherited from the inherits preset (unless this preset is hidden). The build directory is inferred from the configure preset, so packaging will run in the same <code>binaryDir</code> that the configuration did and build did.</p> </dd> <dt>
<code>inheritConfigureEnvironment</code> </dt>
<dd>
<p>An optional boolean that defaults to true. If true, the environment variables from the associated configure preset are inherited after all inherited package preset environments, but before environment variables explicitly specified in this package preset.</p> </dd> <dt>
<code>generators</code> </dt>
<dd>
<p>An optional array of strings representing generators for CPack to use.</p> </dd> <dt>
<code>configurations</code> </dt>
<dd>
<p>An optional array of strings representing build configurations for CPack to package.</p> </dd> <dt>
<code>variables</code> </dt>
<dd>
<p>An optional map of variables to pass to CPack, equivalent to <a class="reference internal" href="cpack.1.html#cmdoption-cpack-D"><code>-D</code></a> arguments. Each key is the name of a variable, and the value is the string to assign to that variable.</p> </dd> <dt>
<code>configFile</code> </dt>
<dd>
<p>An optional string representing the config file for CPack to use.</p> </dd> <dt>
<code>output</code> </dt>
<dd>
<p>An optional object specifying output options. Valid keys are:</p> <dl class="simple"> <dt>
<code>debug</code> </dt>
<dd>
<p>An optional boolean specifying whether or not to print debug information. A value of <code>true</code> is equivalent to passing <a class="reference internal" href="cpack.1.html#cmdoption-cpack-debug"><code>--debug</code></a> on the command line.</p> </dd> <dt>
<code>verbose</code> </dt>
<dd>
<p>An optional boolean specifying whether or not to print verbosely. A value of <code>true</code> is equivalent to passing <a class="reference internal" href="cpack.1.html#cmdoption-cpack-V"><code>--verbose</code></a> on the command line.</p> </dd> </dl> </dd> <dt>
<code>packageName</code> </dt>
<dd>
<p>An optional string representing the package name.</p> </dd> <dt>
<code>packageVersion</code> </dt>
<dd>
<p>An optional string representing the package version.</p> </dd> <dt>
<code>packageDirectory</code> </dt>
<dd>
<p>An optional string representing the directory in which to place the package.</p> </dd> <dt>
<code>vendorName</code> </dt>
<dd>
<p>An optional string representing the vendor name.</p> </dd> </dl>   <h3 id="id1">Workflow Preset</h3> <p>Workflow presets may be used in schema version <code>6</code> or above. Each entry of the <code>workflowPresets</code> array is a JSON object that may contain the following fields:</p> <dl> <dt>
<code>name</code> </dt>
<dd>
<p>A required string representing the machine-friendly name of the preset. This identifier is used in the <a class="reference internal" href="cmake.1.html#workflow-mode"><span class="std std-ref">cmake --workflow --preset</span></a> option. There must not be two workflow presets in the union of <code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code> in the same directory with the same name. However, a workflow preset may have the same name as a configure, build, test, or package preset.</p> </dd> <dt>
<code>displayName</code> </dt>
<dd>
<p>An optional string with a human-friendly name of the preset.</p> </dd> <dt>
<code>description</code> </dt>
<dd>
<p>An optional string with a human-friendly description of the preset.</p> </dd> <dt>
<code>steps</code> </dt>
<dd>
<p>A required array of objects describing the steps of the workflow. The first step must be a configure preset, and all subsequent steps must be non- configure presets whose <code>configurePreset</code> field matches the starting configure preset. Each object may contain the following fields:</p> <dl class="simple"> <dt>
<code>type</code> </dt>
<dd>
<p>A required string. The first step must be <code>configure</code>. Subsequent steps must be either <code>build</code>, <code>test</code>, or <code>package</code>.</p> </dd> <dt>
<code>name</code> </dt>
<dd>
<p>A required string representing the name of the configure, build, test, or package preset to run as this workflow step.</p> </dd> </dl> </dd> </dl>   <h3>Condition</h3> <p>The <code>condition</code> field of a preset, allowed in preset files specifying version <code>3</code> or above, is used to determine whether or not the preset is enabled. For example, this can be used to disable a preset on platforms other than Windows. <code>condition</code> may be either a boolean, <code>null</code>, or an object. If it is a boolean, the boolean indicates whether the preset is enabled or disabled. If it is <code>null</code>, the preset is enabled, but the <code>null</code> condition is not inherited by any presets that may inherit from the preset. Sub-conditions (for example in a <code>not</code>, <code>anyOf</code>, or <code>allOf</code> condition) may not be <code>null</code>. If it is an object, it has the following fields:</p> <dl> <dt>
<code>type</code> </dt>
<dd>
<p>A required string with one of the following values:</p> <dl> <dt>
<code>"const"</code> </dt>
<dd>
<p>Indicates that the condition is constant. This is equivalent to using a boolean in place of the object. The condition object will have the following additional fields:</p> <dl class="simple"> <dt>
<code>value</code> </dt>
<dd>
<p>A required boolean which provides a constant value for the condition's evaluation.</p> </dd> </dl> </dd> </dl> <p><code>"equals"</code></p> <dl> <dt>
<code>"notEquals"</code> </dt>
<dd>
<p>Indicates that the condition compares two strings to see if they are equal (or not equal). The condition object will have the following additional fields:</p> <dl class="simple"> <dt>
<code>lhs</code> </dt>
<dd>
<p>First string to compare. This field supports macro expansion.</p> </dd> <dt>
<code>rhs</code> </dt>
<dd>
<p>Second string to compare. This field supports macro expansion.</p> </dd> </dl> </dd> </dl> <p><code>"inList"</code></p> <dl> <dt>
<code>"notInList"</code> </dt>
<dd>
<p>Indicates that the condition searches for a string in a list of strings. The condition object will have the following additional fields:</p> <dl class="simple"> <dt>
<code>string</code> </dt>
<dd>
<p>A required string to search for. This field supports macro expansion.</p> </dd> <dt>
<code>list</code> </dt>
<dd>
<p>A required array of strings to search. This field supports macro expansion, and uses short-circuit evaluation.</p> </dd> </dl> </dd> </dl> <p><code>"matches"</code></p> <dl> <dt>
<code>"notMatches"</code> </dt>
<dd>
<p>Indicates that the condition searches for a regular expression in a string. The condition object will have the following additional fields:</p> <dl class="simple"> <dt>
<code>string</code> </dt>
<dd>
<p>A required string to search. This field supports macro expansion.</p> </dd> <dt>
<code>regex</code> </dt>
<dd>
<p>A required regular expression to search for. This field supports macro expansion.</p> </dd> </dl> </dd> </dl> <p><code>"anyOf"</code></p> <p><code>"allOf"</code></p>  <p>Indicates that the condition is an aggregation of zero or more nested conditions. The condition object will have the following additional fields:</p> <dl class="simple"> <dt>
<code>conditions</code> </dt>
<dd>
<p>A required array of condition objects. These conditions use short-circuit evaluation.</p> </dd> </dl>  <dl> <dt>
<code>"not"</code> </dt>
<dd>
<p>Indicates that the condition is an inversion of another condition. The condition object will have the following additional fields:</p> <dl class="simple"> <dt>
<code>condition</code> </dt>
<dd>
<p>A required condition object.</p> </dd> </dl> </dd> </dl> </dd> </dl>   <h3>Macro Expansion</h3> <p>As mentioned above, some fields support macro expansion. Macros are recognized in the form <code>$&lt;macro-namespace&gt;{&lt;macro-name&gt;}</code>. All macros are evaluated in the context of the preset being used, even if the macro is in a field that was inherited from another preset. For example, if the <code>Base</code> preset sets variable <code>PRESET_NAME</code> to <code>${presetName}</code>, and the <code>Derived</code> preset inherits from <code>Base</code>, <code>PRESET_NAME</code> will be set to <code>Derived</code>.</p> <p>It is an error to not put a closing brace at the end of a macro name. For example, <code>${sourceDir</code> is invalid. A dollar sign (<code>$</code>) followed by anything other than a left curly brace (<code>{</code>) with a possible namespace is interpreted as a literal dollar sign.</p> <p>Recognized macros include:</p> <dl> <dt>
<code>${sourceDir}</code> </dt>
<dd>
<p>Path to the project source directory (i.e. the same as <a class="reference internal" href="../variable/cmake_source_dir.html#variable:CMAKE_SOURCE_DIR" title="CMAKE_SOURCE_DIR" id="index-0-variable:CMAKE_SOURCE_DIR"><code>CMAKE_SOURCE_DIR</code></a>).</p> </dd> <dt>
<code>${sourceParentDir}</code> </dt>
<dd>
<p>Path to the project source directory's parent directory.</p> </dd> <dt>
<code>${sourceDirName}</code> </dt>
<dd>
<p>The last filename component of <code>${sourceDir}</code>. For example, if <code>${sourceDir}</code> is <code>/path/to/source</code>, this would be <code>source</code>.</p> </dd> <dt>
<code>${presetName}</code> </dt>
<dd>
<p>Name specified in the preset's <code>name</code> field.</p> </dd> <dt>
<code>${generator}</code> </dt>
<dd>
<p>Generator specified in the preset's <code>generator</code> field. For build and test presets, this will evaluate to the generator specified by <code>configurePreset</code>.</p> </dd> <dt>
<code>${hostSystemName}</code> </dt>
<dd>
<p>The name of the host operating system. Contains the same value as <a class="reference internal" href="../variable/cmake_host_system_name.html#variable:CMAKE_HOST_SYSTEM_NAME" title="CMAKE_HOST_SYSTEM_NAME" id="index-0-variable:CMAKE_HOST_SYSTEM_NAME"><code>CMAKE_HOST_SYSTEM_NAME</code></a>. This is allowed in preset files specifying version <code>3</code> or above.</p> </dd> <dt>
<code>${fileDir}</code> </dt>
<dd>
<p>Path to the directory containing the preset file which contains the macro. This is allowed in preset files specifying version <code>4</code> or above.</p> </dd> <dt>
<code>${dollar}</code> </dt>
<dd>
<p>A literal dollar sign (<code>$</code>).</p> </dd> <dt>
<code>${pathListSep}</code> </dt>
<dd>
<p>Native character for separating lists of paths, such as <code>:</code> or <code>;</code>.</p> <p>For example, by setting <code>PATH</code> to <code>/path/to/ninja/bin${pathListSep}$env{PATH}</code>, <code>${pathListSep}</code> will expand to the underlying operating system's character used for concatenation in <code>PATH</code>.</p> <p>This is allowed in preset files specifying version <code>5</code> or above.</p> </dd> <dt>
<code>$env{&lt;variable-name&gt;}</code> </dt>
<dd>
<p>Environment variable with name <code>&lt;variable-name&gt;</code>. The variable name may not be an empty string. If the variable is defined in the <code>environment</code> field, that value is used instead of the value from the parent environment. If the environment variable is not defined, this evaluates as an empty string.</p> <p>Note that while Windows environment variable names are case-insensitive, variable names within a preset are still case-sensitive. This may lead to unexpected results when using inconsistent casing. For best results, keep the casing of environment variable names consistent.</p> </dd> <dt>
<code>$penv{&lt;variable-name&gt;}</code> </dt>
<dd>
<p>Similar to <code>$env{&lt;variable-name&gt;}</code>, except that the value only comes from the parent environment, and never from the <code>environment</code> field. This allows you to prepend or append values to existing environment variables. For example, setting <code>PATH</code> to <code>/path/to/ninja/bin:$penv{PATH}</code> will prepend <code>/path/to/ninja/bin</code> to the <code>PATH</code> environment variable. This is needed because <code>$env{&lt;variable-name&gt;}</code> does not allow circular references.</p> </dd> <dt>
<code>$vendor{&lt;macro-name&gt;}</code> </dt>
<dd>
<p>An extension point for vendors to insert their own macros. CMake will not be able to use presets which have a <code>$vendor{&lt;macro-name&gt;}</code> macro, and effectively ignores such presets. However, it will still be able to use other presets from the same file.</p> <p>CMake does not make any attempt to interpret <code>$vendor{&lt;macro-name&gt;}</code> macros. However, to avoid name collisions, IDE vendors should prefix <code>&lt;macro-name&gt;</code> with a very short (preferably &lt;= 4 characters) vendor identifier prefix, followed by a <code>.</code>, followed by the macro name. For example, the Example IDE could have <code>$vendor{xide.ideInstallDir}</code>.</p> </dd> </dl>    <h2>Schema</h2> <p><a class="reference download internal" download="" href="../_downloads/3e2d73bff478d88a7de0de736ba5e361/schema.json.html"><code>This file</code></a> provides a machine-readable JSON schema for the <code>CMakePresets.json</code> format.</p>   <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/manual/cmake-presets.7.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/manual/cmake-presets.7.html</a>
  </p>
</div>
