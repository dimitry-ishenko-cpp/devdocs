<h1 id="manual:cmake-language(7)">cmake-language(7)</h1>   <ul> <li>
<p><a class="reference internal" href="#organization" id="id10">Organization</a></p> <ul> <li><a class="reference internal" href="#directories" id="id11">Directories</a></li> <li><a class="reference internal" href="#scripts" id="id12">Scripts</a></li> <li><a class="reference internal" href="#modules" id="id13">Modules</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#syntax" id="id14">Syntax</a></p> <ul> <li><a class="reference internal" href="#encoding" id="id15">Encoding</a></li> <li><a class="reference internal" href="#source-files" id="id16">Source Files</a></li> <li><a class="reference internal" href="#command-invocations" id="id17">Command Invocations</a></li> <li>
<p><a class="reference internal" href="#command-arguments" id="id18">Command Arguments</a></p> <ul> <li><a class="reference internal" href="#bracket-argument" id="id19">Bracket Argument</a></li> <li><a class="reference internal" href="#quoted-argument" id="id20">Quoted Argument</a></li> <li><a class="reference internal" href="#unquoted-argument" id="id21">Unquoted Argument</a></li> </ul> </li> <li><a class="reference internal" href="#escape-sequences" id="id22">Escape Sequences</a></li> <li><a class="reference internal" href="#variable-references" id="id23">Variable References</a></li> <li>
<p><a class="reference internal" href="#comments" id="id24">Comments</a></p> <ul> <li><a class="reference internal" href="#bracket-comment" id="id25">Bracket Comment</a></li> <li><a class="reference internal" href="#line-comment" id="id26">Line Comment</a></li> </ul> </li> </ul> </li> <li>
<p><a class="reference internal" href="#control-structures" id="id27">Control Structures</a></p> <ul> <li><a class="reference internal" href="#conditional-blocks" id="id28">Conditional Blocks</a></li> <li><a class="reference internal" href="#loops" id="id29">Loops</a></li> <li><a class="reference internal" href="#command-definitions" id="id30">Command Definitions</a></li> </ul> </li> <li><a class="reference internal" href="#variables" id="id31">Variables</a></li> <li><a class="reference internal" href="#environment-variables" id="id32">Environment Variables</a></li> <li><a class="reference internal" href="#lists" id="id33">Lists</a></li> </ul>
   <h2>Organization</h2> <p>CMake input files are written in the "CMake Language" in source files named <code>CMakeLists.txt</code> or ending in a <code>.cmake</code> file name extension.</p> <p>CMake Language source files in a project are organized into:</p> <ul class="simple"> <li>
<a class="reference internal" href="#directories">Directories</a> (<code>CMakeLists.txt</code>),</li> <li>
<a class="reference internal" href="#scripts">Scripts</a> (<code>&lt;script&gt;.cmake</code>), and</li> <li>
<a class="reference internal" href="#modules">Modules</a> (<code>&lt;module&gt;.cmake</code>).</li> </ul>  <h3>Directories</h3> <p>When CMake processes a project source tree, the entry point is a source file called <code>CMakeLists.txt</code> in the top-level source directory. This file may contain the entire build specification or use the <a class="reference internal" href="../command/add_subdirectory.html#command:add_subdirectory" title="add_subdirectory" id="index-0-command:add_subdirectory"><code>add_subdirectory()</code></a> command to add subdirectories to the build. Each subdirectory added by the command must also contain a <code>CMakeLists.txt</code> file as the entry point to that directory. For each source directory whose <code>CMakeLists.txt</code> file is processed CMake generates a corresponding directory in the build tree to act as the default working and output directory.</p>   <h3>Scripts</h3> <p>An individual <code>&lt;script&gt;.cmake</code> source file may be processed in <em>script mode</em> by using the <a class="reference internal" href="cmake.1.html#manual:cmake(1)" title="cmake(1)" id="index-0-manual:cmake(1)"><code>cmake(1)</code></a> command-line tool with the <a class="reference internal" href="cmake.1.html#cmdoption-cmake-P"><code>-P</code></a> option. Script mode simply runs the commands in the given CMake Language source file and does not generate a build system. It does not allow CMake commands that define build targets or actions.</p>   <h3>Modules</h3> <p>CMake Language code in either <a class="reference internal" href="#directories">Directories</a> or <a class="reference internal" href="#scripts">Scripts</a> may use the <a class="reference internal" href="../command/include.html#command:include" title="include" id="index-0-command:include"><code>include()</code></a> command to load a <code>&lt;module&gt;.cmake</code> source file in the scope of the including context. See the <a class="reference internal" href="cmake-modules.7.html#manual:cmake-modules(7)" title="cmake-modules(7)" id="index-0-manual:cmake-modules(7)"><code>cmake-modules(7)</code></a> manual page for documentation of modules included with the CMake distribution. Project source trees may also provide their own modules and specify their location(s) in the <a class="reference internal" href="../variable/cmake_module_path.html#variable:CMAKE_MODULE_PATH" title="CMAKE_MODULE_PATH" id="index-0-variable:CMAKE_MODULE_PATH"><code>CMAKE_MODULE_PATH</code></a> variable.</p>    <h2>Syntax</h2>  <h3 id="cmake-language-encoding">Encoding</h3> <p>A CMake Language source file may be written in 7-bit ASCII text for maximum portability across all supported platforms. Newlines may be encoded as either <code>\n</code> or <code>\r\n</code> but will be converted to <code>\n</code> as input files are read.</p> <p>Note that the implementation is 8-bit clean so source files may be encoded as UTF-8 on platforms with system APIs supporting this encoding. In addition, CMake 3.2 and above support source files encoded in UTF-8 on Windows (using UTF-16 to call system APIs). Furthermore, CMake 3.0 and above allow a leading UTF-8 <a class="reference external" href="https://en.wikipedia.org/wiki/Byte_order_mark">Byte-Order Mark</a> in source files.</p>   <h3>Source Files</h3> <p>A CMake Language source file consists of zero or more <a class="reference internal" href="#command-invocations">Command Invocations</a> separated by newlines and optionally spaces and <a class="reference internal" href="#comments">Comments</a>:</p> <pre>
<strong id="grammar-token-file">file        </strong> ::=  <a class="reference internal" href="#grammar-token-file_element">file_element</a>*
<strong id="grammar-token-file_element">file_element</strong> ::=  <a class="reference internal" href="#grammar-token-command_invocation">command_invocation</a> <a class="reference internal" href="#grammar-token-line_ending">line_ending</a> |
                  (<a class="reference internal" href="#grammar-token-bracket_comment">bracket_comment</a>|<a class="reference internal" href="#grammar-token-space">space</a>)* <a class="reference internal" href="#grammar-token-line_ending">line_ending</a>
<strong id="grammar-token-line_ending">line_ending </strong> ::=  <a class="reference internal" href="#grammar-token-line_comment">line_comment</a>? <a class="reference internal" href="#grammar-token-newline">newline</a>
<strong id="grammar-token-space">space       </strong> ::=  &lt;match '[ \t]+'&gt;
<strong id="grammar-token-newline">newline     </strong> ::=  &lt;match '\n'&gt;
</pre> <p>Note that any source file line not inside <a class="reference internal" href="#command-arguments">Command Arguments</a> or a <a class="reference internal" href="#bracket-comment">Bracket Comment</a> can end in a <a class="reference internal" href="#line-comment">Line Comment</a>.</p>   <h3 id="id1">Command Invocations</h3> <p>A <em>command invocation</em> is a name followed by paren-enclosed arguments separated by whitespace:</p> <pre>
<strong id="grammar-token-command_invocation">command_invocation </strong> ::=  <a class="reference internal" href="#grammar-token-space">space</a>* <a class="reference internal" href="#grammar-token-identifier">identifier</a> <a class="reference internal" href="#grammar-token-space">space</a>* '(' <a class="reference internal" href="#grammar-token-arguments">arguments</a> ')'
<strong id="grammar-token-identifier">identifier         </strong> ::=  &lt;match '[A-Za-z_][A-Za-z0-9_]*'&gt;
<strong id="grammar-token-arguments">arguments          </strong> ::=  <a class="reference internal" href="#grammar-token-argument">argument</a>? <a class="reference internal" href="#grammar-token-separated_arguments">separated_arguments</a>*
<strong id="grammar-token-separated_arguments">separated_arguments</strong> ::=  <a class="reference internal" href="#grammar-token-separation">separation</a>+ <a class="reference internal" href="#grammar-token-argument">argument</a>? |
                         <a class="reference internal" href="#grammar-token-separation">separation</a>* '(' <a class="reference internal" href="#grammar-token-arguments">arguments</a> ')'
<strong id="grammar-token-separation">separation         </strong> ::=  <a class="reference internal" href="#grammar-token-space">space</a> | <a class="reference internal" href="#grammar-token-line_ending">line_ending</a>
</pre> <p>For example:</p> <pre data-language="cmake">add_executable(hello world.c)
</pre> <p>Command names are case-insensitive. Nested unquoted parentheses in the arguments must balance. Each <code>(</code> or <code>)</code> is given to the command invocation as a literal <a class="reference internal" href="#unquoted-argument">Unquoted Argument</a>. This may be used in calls to the <a class="reference internal" href="../command/if.html#command:if" title="if" id="index-0-command:if"><code>if()</code></a> command to enclose conditions. For example:</p> <pre data-language="cmake">if(FALSE AND (FALSE OR TRUE)) # evaluates to FALSE
</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>CMake versions prior to 3.0 require command name identifiers to be at least 2 characters.</p> <p>CMake versions prior to 2.8.12 silently accept an <a class="reference internal" href="#unquoted-argument">Unquoted Argument</a> or a <a class="reference internal" href="#quoted-argument">Quoted Argument</a> immediately following a <a class="reference internal" href="#quoted-argument">Quoted Argument</a> and not separated by any whitespace. For compatibility, CMake 2.8.12 and higher accept such code but produce a warning.</p> </div>   <h3>Command Arguments</h3> <p>There are three types of arguments within <a class="reference internal" href="#command-invocations">Command Invocations</a>:</p> <pre>
<strong id="grammar-token-argument">argument</strong> ::=  <a class="reference internal" href="#grammar-token-bracket_argument">bracket_argument</a> | <a class="reference internal" href="#grammar-token-quoted_argument">quoted_argument</a> | <a class="reference internal" href="#grammar-token-unquoted_argument">unquoted_argument</a>
</pre>  <h4 id="id2">Bracket Argument</h4> <p>A <em>bracket argument</em>, inspired by <a class="reference external" href="http://www.lua.org/">Lua</a> long bracket syntax, encloses content between opening and closing "brackets" of the same length:</p> <pre>
<strong id="grammar-token-bracket_argument">bracket_argument</strong> ::=  <a class="reference internal" href="#grammar-token-bracket_open">bracket_open</a> <a class="reference internal" href="#grammar-token-bracket_content">bracket_content</a> <a class="reference internal" href="#grammar-token-bracket_close">bracket_close</a>
<strong id="grammar-token-bracket_open">bracket_open    </strong> ::=  '[' '='* '['
<strong id="grammar-token-bracket_content">bracket_content </strong> ::=  &lt;any text not containing a <a class="reference internal" href="#grammar-token-bracket_close">bracket_close</a> with
                       the same number of '=' as the <a class="reference internal" href="#grammar-token-bracket_open">bracket_open</a>&gt;
<strong id="grammar-token-bracket_close">bracket_close   </strong> ::=  ']' '='* ']'
</pre> <p>An opening bracket is written <code>[</code> followed by zero or more <code>=</code> followed by <code>[</code>. The corresponding closing bracket is written <code>]</code> followed by the same number of <code>=</code> followed by <code>]</code>. Brackets do not nest. A unique length may always be chosen for the opening and closing brackets to contain closing brackets of other lengths.</p> <p>Bracket argument content consists of all text between the opening and closing brackets, except that one newline immediately following the opening bracket, if any, is ignored. No evaluation of the enclosed content, such as <a class="reference internal" href="#escape-sequences">Escape Sequences</a> or <a class="reference internal" href="#variable-references">Variable References</a>, is performed. A bracket argument is always given to the command invocation as exactly one argument.</p> <p>For example:</p> <pre data-language="none">message([=[
This is the first line in a bracket argument with bracket length 1.
No \-escape sequences or ${variable} references are evaluated.
This is always one argument even though it contains a ; character.
The text does not end on a closing bracket of length 0 like ]].
It does end in a closing bracket of length 1.
]=])
</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>CMake versions prior to 3.0 do not support bracket arguments. They interpret the opening bracket as the start of an <a class="reference internal" href="#unquoted-argument">Unquoted Argument</a>.</p> </div>   <h4 id="id3">Quoted Argument</h4> <p>A <em>quoted argument</em> encloses content between opening and closing double-quote characters:</p> <pre>
<strong id="grammar-token-quoted_argument">quoted_argument    </strong> ::=  '"' <a class="reference internal" href="#grammar-token-quoted_element">quoted_element</a>* '"'
<strong id="grammar-token-quoted_element">quoted_element     </strong> ::=  &lt;any character except '\' or '"'&gt; |
                         <a class="reference internal" href="#grammar-token-escape_sequence">escape_sequence</a> |
                         <a class="reference internal" href="#grammar-token-quoted_continuation">quoted_continuation</a>
<strong id="grammar-token-quoted_continuation">quoted_continuation</strong> ::=  '\' <a class="reference internal" href="#grammar-token-newline">newline</a>
</pre> <p>Quoted argument content consists of all text between opening and closing quotes. Both <a class="reference internal" href="#escape-sequences">Escape Sequences</a> and <a class="reference internal" href="#variable-references">Variable References</a> are evaluated. A quoted argument is always given to the command invocation as exactly one argument.</p> <p>For example:</p> <pre data-language="cmake">message("This is a quoted argument containing multiple lines.
This is always one argument even though it contains a ; character.
Both \\-escape sequences and ${variable} references are evaluated.
The text does not end on an escaped double-quote like \".
It does end in an unescaped double quote.
")
</pre> <p>The final <code>\</code> on any line ending in an odd number of backslashes is treated as a line continuation and ignored along with the immediately following newline character. For example:</p> <pre data-language="cmake">message("\
This is the first line of a quoted argument. \
In fact it is the only line but since it is long \
the source code uses line continuation.\
")
</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>CMake versions prior to 3.0 do not support continuation with <code>\</code>. They report errors in quoted arguments containing lines ending in an odd number of <code>\</code> characters.</p> </div>   <h4 id="id4">Unquoted Argument</h4> <p>An <em>unquoted argument</em> is not enclosed by any quoting syntax. It may not contain any whitespace, <code>(</code>, <code>)</code>, <code>#</code>, <code>"</code>, or <code>\</code> except when escaped by a backslash:</p> <pre>
<strong id="grammar-token-unquoted_argument">unquoted_argument</strong> ::=  <a class="reference internal" href="#grammar-token-unquoted_element">unquoted_element</a>+ | <a class="reference internal" href="#grammar-token-unquoted_legacy">unquoted_legacy</a>
<strong id="grammar-token-unquoted_element">unquoted_element </strong> ::=  &lt;any character except whitespace or one of '()#"\'&gt; |
                       <a class="reference internal" href="#grammar-token-escape_sequence">escape_sequence</a>
<strong id="grammar-token-unquoted_legacy">unquoted_legacy  </strong> ::=  &lt;see note in text&gt;
</pre> <p>Unquoted argument content consists of all text in a contiguous block of allowed or escaped characters. Both <a class="reference internal" href="#escape-sequences">Escape Sequences</a> and <a class="reference internal" href="#variable-references">Variable References</a> are evaluated. The resulting value is divided in the same way <a class="reference internal" href="#lists">Lists</a> divide into elements. Each non-empty element is given to the command invocation as an argument. Therefore an unquoted argument may be given to a command invocation as zero or more arguments.</p> <p>For example:</p> <pre data-language="cmake">foreach(arg
    NoSpace
    Escaped\ Space
    This;Divides;Into;Five;Arguments
    Escaped\;Semicolon
    )
  message("${arg}")
endforeach()
</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>To support legacy CMake code, unquoted arguments may also contain double-quoted strings (<code>"..."</code>, possibly enclosing horizontal whitespace), and make-style variable references (<code>$(MAKEVAR)</code>).</p> <p>Unescaped double-quotes must balance, may not appear at the beginning of an unquoted argument, and are treated as part of the content. For example, the unquoted arguments <code>-Da="b c"</code>, <code>-Da=$(v)</code>, and <code>a" "b"c"d</code> are each interpreted literally. They may instead be written as quoted arguments <code>"-Da=\"b c\""</code>, <code>"-Da=$(v)"</code>, and <code>"a\" \"b\"c\"d"</code>, respectively.</p> <p>Make-style references are treated literally as part of the content and do not undergo variable expansion. They are treated as part of a single argument (rather than as separate <code>$</code>, <code>(</code>, <code>MAKEVAR</code>, and <code>)</code> arguments).</p> <p>The above "unquoted_legacy" production represents such arguments. We do not recommend using legacy unquoted arguments in new code. Instead use a <a class="reference internal" href="#quoted-argument">Quoted Argument</a> or a <a class="reference internal" href="#bracket-argument">Bracket Argument</a> to represent the content.</p> </div>    <h3 id="id5">Escape Sequences</h3> <p>An <em>escape sequence</em> is a <code>\</code> followed by one character:</p> <pre>
<strong id="grammar-token-escape_sequence">escape_sequence </strong> ::=  <a class="reference internal" href="#grammar-token-escape_identity">escape_identity</a> | <a class="reference internal" href="#grammar-token-escape_encoded">escape_encoded</a> | <a class="reference internal" href="#grammar-token-escape_semicolon">escape_semicolon</a>
<strong id="grammar-token-escape_identity">escape_identity </strong> ::=  '\' &lt;match '[^A-Za-z0-9;]'&gt;
<strong id="grammar-token-escape_encoded">escape_encoded  </strong> ::=  '\t' | '\r' | '\n'
<strong id="grammar-token-escape_semicolon">escape_semicolon</strong> ::=  '\;'
</pre> <p>A <code>\</code> followed by a non-alphanumeric character simply encodes the literal character without interpreting it as syntax. A <code>\t</code>, <code>\r</code>, or <code>\n</code> encodes a tab, carriage return, or newline character, respectively. A <code>\;</code> outside of any <a class="reference internal" href="#variable-references">Variable References</a> encodes itself but may be used in an <a class="reference internal" href="#unquoted-argument">Unquoted Argument</a> to encode the <code>;</code> without dividing the argument value on it. A <code>\;</code> inside <a class="reference internal" href="#variable-references">Variable References</a> encodes the literal <code>;</code> character. (See also policy <a class="reference internal" href="../policy/cmp0053.html#policy:CMP0053" title="CMP0053" id="index-0-policy:CMP0053"><code>CMP0053</code></a> documentation for historical considerations.)</p>   <h3 id="id6">Variable References</h3> <p>A <em>variable reference</em> has the form <code>${&lt;variable&gt;}</code> and is evaluated inside a <a class="reference internal" href="#quoted-argument">Quoted Argument</a> or an <a class="reference internal" href="#unquoted-argument">Unquoted Argument</a>. A variable reference is replaced by the value of the specified variable or cache entry, or if neither is set, by the empty string. Variable references can nest and are evaluated from the inside out, e.g. <code>${outer_${inner_variable}_variable}</code>.</p> <p>Literal variable references may consist of alphanumeric characters, the characters <code>/_.+-</code>, and <a class="reference internal" href="#escape-sequences">Escape Sequences</a>. Nested references may be used to evaluate variables of any name. See also policy <a class="reference internal" href="../policy/cmp0053.html#policy:CMP0053" title="CMP0053" id="index-1-policy:CMP0053"><code>CMP0053</code></a> documentation for historical considerations and reasons why the <code>$</code> is also technically permitted but is discouraged.</p> <p>The <a class="reference internal" href="#variables">Variables</a> section documents the scope of variable names and how their values are set.</p> <p>An <em>environment variable reference</em> has the form <code>$ENV{&lt;variable&gt;}</code>. See the <a class="reference internal" href="#environment-variables">Environment Variables</a> section for more information.</p> <p>A <em>cache variable reference</em> has the form <code>$CACHE{&lt;variable&gt;}</code>, and is replaced by the value of the specified cache entry without checking for a normal variable of the same name. If the cache entry does not exist, it is replaced by the empty string. See <a class="reference internal" href="../variable/cache.html#variable:CACHE" title="CACHE" id="index-0-variable:CACHE"><code>CACHE</code></a> for more information.</p> <p>The <a class="reference internal" href="../command/if.html#command:if" title="if" id="index-1-command:if"><code>if()</code></a> command has a special condition syntax that allows for variable references in the short form <code>&lt;variable&gt;</code> instead of <code>${&lt;variable&gt;}</code>. However, environment variables always need to be referenced as <code>$ENV{&lt;variable&gt;}</code>.</p>   <h3>Comments</h3> <p>A comment starts with a <code>#</code> character that is not inside a <a class="reference internal" href="#bracket-argument">Bracket Argument</a>, <a class="reference internal" href="#quoted-argument">Quoted Argument</a>, or escaped with <code>\</code> as part of an <a class="reference internal" href="#unquoted-argument">Unquoted Argument</a>. There are two types of comments: a <a class="reference internal" href="#bracket-comment">Bracket Comment</a> and a <a class="reference internal" href="#line-comment">Line Comment</a>.</p>  <h4 id="id7">Bracket Comment</h4> <p>A <code>#</code> immediately followed by a <a class="reference internal" href="#grammar-token-bracket_open"><code>bracket_open</code></a> forms a <em>bracket comment</em> consisting of the entire bracket enclosure:</p> <pre>
<strong id="grammar-token-bracket_comment">bracket_comment</strong> ::=  '#' <a class="reference internal" href="#grammar-token-bracket_argument">bracket_argument</a>
</pre> <p>For example:</p> <pre data-language="none">#[[This is a bracket comment.
It runs until the close bracket.]]
message("First Argument\n" #[[Bracket Comment]] "Second Argument")
</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>CMake versions prior to 3.0 do not support bracket comments. They interpret the opening <code>#</code> as the start of a <a class="reference internal" href="#line-comment">Line Comment</a>.</p> </div>   <h4 id="id8">Line Comment</h4> <p>A <code>#</code> not immediately followed by a <a class="reference internal" href="#grammar-token-bracket_open"><code>bracket_open</code></a> forms a <em>line comment</em> that runs until the end of the line:</p> <pre>
<strong id="grammar-token-line_comment">line_comment</strong> ::=  '#' &lt;any text not starting in a <a class="reference internal" href="#grammar-token-bracket_open">bracket_open</a>
                       and not containing a <a class="reference internal" href="#grammar-token-newline">newline</a>&gt;
</pre> <p>For example:</p> <pre data-language="cmake"># This is a line comment.
message("First Argument\n" # This is a line comment :)
        "Second Argument") # This is a line comment.
</pre>     <h2>Control Structures</h2>  <h3>Conditional Blocks</h3> <p>The <a class="reference internal" href="../command/if.html#command:if" title="if" id="index-2-command:if"><code>if()</code></a>/<a class="reference internal" href="../command/elseif.html#command:elseif" title="elseif" id="index-0-command:elseif"><code>elseif()</code></a>/<a class="reference internal" href="../command/else.html#command:else" title="else" id="index-0-command:else"><code>else()</code></a>/<a class="reference internal" href="../command/endif.html#command:endif" title="endif" id="index-0-command:endif"><code>endif()</code></a> commands delimit code blocks to be executed conditionally.</p>   <h3>Loops</h3> <p>The <a class="reference internal" href="../command/foreach.html#command:foreach" title="foreach" id="index-0-command:foreach"><code>foreach()</code></a>/<a class="reference internal" href="../command/endforeach.html#command:endforeach" title="endforeach" id="index-0-command:endforeach"><code>endforeach()</code></a> and <a class="reference internal" href="../command/while.html#command:while" title="while" id="index-0-command:while"><code>while()</code></a>/<a class="reference internal" href="../command/endwhile.html#command:endwhile" title="endwhile" id="index-0-command:endwhile"><code>endwhile()</code></a> commands delimit code blocks to be executed in a loop. Inside such blocks the <a class="reference internal" href="../command/break.html#command:break" title="break" id="index-0-command:break"><code>break()</code></a> command may be used to terminate the loop early whereas the <a class="reference internal" href="../command/continue.html#command:continue" title="continue" id="index-0-command:continue"><code>continue()</code></a> command may be used to start with the next iteration immediately.</p>   <h3>Command Definitions</h3> <p>The <a class="reference internal" href="../command/macro.html#command:macro" title="macro" id="index-0-command:macro"><code>macro()</code></a>/<a class="reference internal" href="../command/endmacro.html#command:endmacro" title="endmacro" id="index-0-command:endmacro"><code>endmacro()</code></a>, and <a class="reference internal" href="../command/function.html#command:function" title="function" id="index-0-command:function"><code>function()</code></a>/<a class="reference internal" href="../command/endfunction.html#command:endfunction" title="endfunction" id="index-0-command:endfunction"><code>endfunction()</code></a> commands delimit code blocks to be recorded for later invocation as commands.</p>    <h2 id="cmake-language-variables">Variables</h2> <p>Variables are the basic unit of storage in the CMake Language. Their values are always of string type, though some commands may interpret the strings as values of other types. The <a class="reference internal" href="../command/set.html#command:set" title="set" id="index-0-command:set"><code>set()</code></a> and <a class="reference internal" href="../command/unset.html#command:unset" title="unset" id="index-0-command:unset"><code>unset()</code></a> commands explicitly set or unset a variable, but other commands have semantics that modify variables as well. Variable names are case-sensitive and may consist of almost any text, but we recommend sticking to names consisting only of alphanumeric characters plus <code>_</code> and <code>-</code>.</p> <p>Variables have dynamic scope. Each variable "set" or "unset" creates a binding in the current scope:</p> <dl> <dt>Function Scope</dt>
<dd>
<p><a class="reference internal" href="#command-definitions">Command Definitions</a> created by the <a class="reference internal" href="../command/function.html#command:function" title="function" id="index-1-command:function"><code>function()</code></a> command create commands that, when invoked, process the recorded commands in a new variable binding scope. A variable "set" or "unset" binds in this scope and is visible for the current function and any nested calls within it, but not after the function returns.</p> </dd> <dt>Directory Scope</dt>
<dd>
<p>Each of the <a class="reference internal" href="#directories">Directories</a> in a source tree has its own variable bindings. Before processing the <code>CMakeLists.txt</code> file for a directory, CMake copies all variable bindings currently defined in the parent directory, if any, to initialize the new directory scope. CMake <a class="reference internal" href="#scripts">Scripts</a>, when processed with <a class="reference internal" href="cmake.1.html#cmdoption-cmake-P"><code>cmake -P</code></a>, bind variables in one "directory" scope.</p> <p>A variable "set" or "unset" not inside a function call binds to the current directory scope.</p> </dd> <dt>Persistent Cache</dt>
<dd>
<p>CMake stores a separate set of "cache" variables, or "cache entries", whose values persist across multiple runs within a project build tree. Cache entries have an isolated binding scope modified only by explicit request, such as by the <code>CACHE</code> option of the <a class="reference internal" href="../command/set.html#command:set" title="set" id="index-1-command:set"><code>set()</code></a> and <a class="reference internal" href="../command/unset.html#command:unset" title="unset" id="index-1-command:unset"><code>unset()</code></a> commands.</p> </dd> </dl> <p>When evaluating <a class="reference internal" href="#variable-references">Variable References</a>, CMake first searches the function call stack, if any, for a binding and then falls back to the binding in the current directory scope, if any. If a "set" binding is found, its value is used. If an "unset" binding is found, or no binding is found, CMake then searches for a cache entry. If a cache entry is found, its value is used. Otherwise, the variable reference evaluates to an empty string. The <code>$CACHE{VAR}</code> syntax can be used to do direct cache entry lookups.</p> <p>The <a class="reference internal" href="cmake-variables.7.html#manual:cmake-variables(7)" title="cmake-variables(7)" id="index-0-manual:cmake-variables(7)"><code>cmake-variables(7)</code></a> manual documents the many variables that are provided by CMake or have meaning to CMake when set by project code.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>CMake reserves identifiers that:</p> <ul class="simple"> <li>begin with <code>CMAKE_</code> (upper-, lower-, or mixed-case), or</li> <li>begin with <code>_CMAKE_</code> (upper-, lower-, or mixed-case), or</li> <li>begin with <code>_</code> followed by the name of any <a class="reference internal" href="cmake-commands.7.html#manual:cmake-commands(7)" title="cmake-commands(7)" id="index-0-manual:cmake-commands(7)"><code>CMake Command</code></a>.</li> </ul> </div>   <h2 id="cmake-language-environment-variables">Environment Variables</h2> <p>Environment Variables are like ordinary <a class="reference internal" href="#variables">Variables</a>, with the following differences:</p> <dl> <dt>Scope</dt>
<dd>
<p>Environment variables have global scope in a CMake process. They are never cached.</p> </dd> <dt>References</dt>
<dd>
<p><a class="reference internal" href="#variable-references">Variable References</a> have the form <code>$ENV{&lt;variable&gt;}</code>, using the <a class="reference internal" href="../variable/env.html#variable:ENV" title="ENV" id="index-0-variable:ENV"><code>ENV</code></a> operator.</p> </dd> <dt>Initialization</dt>
<dd>
<p>Initial values of the CMake environment variables are those of the calling process. Values can be changed using the <a class="reference internal" href="../command/set.html#command:set" title="set" id="index-2-command:set"><code>set()</code></a> and <a class="reference internal" href="../command/unset.html#command:unset" title="unset" id="index-2-command:unset"><code>unset()</code></a> commands. These commands only affect the running CMake process, not the system environment at large. Changed values are not written back to the calling process, and they are not seen by subsequent build or test processes.</p> <p>See the <a class="reference internal" href="cmake.1.html#cmdoption-cmake-E-arg-env"><code>cmake -E env</code></a> command-line tool to run a command in a modified environment.</p> </dd> <dt>Inspection</dt>
<dd>
<p>See the <a class="reference internal" href="cmake.1.html#cmdoption-cmake-E-arg-environment"><code>cmake -E environment</code></a> command-line tool to display all current environment variables.</p> </dd> </dl> <p>The <a class="reference internal" href="cmake-env-variables.7.html#manual:cmake-env-variables(7)" title="cmake-env-variables(7)" id="index-0-manual:cmake-env-variables(7)"><code>cmake-env-variables(7)</code></a> manual documents environment variables that have special meaning to CMake.</p>   <h2 id="cmake-language-lists">Lists</h2> <p>Although all values in CMake are stored as strings, a string may be treated as a list in certain contexts, such as during evaluation of an <a class="reference internal" href="#unquoted-argument">Unquoted Argument</a>. In such contexts, a string is divided into list elements by splitting on <code>;</code> characters not following an unequal number of <code>[</code> and <code>]</code> characters and not immediately preceded by a <code>\</code>. The sequence <code>\;</code> does not divide a value but is replaced by <code>;</code> in the resulting element.</p> <p>A list of elements is represented as a string by concatenating the elements separated by <code>;</code>. For example, the <a class="reference internal" href="../command/set.html#command:set" title="set" id="index-3-command:set"><code>set()</code></a> command stores multiple values into the destination variable as a list:</p> <pre data-language="cmake">set(srcs a.c b.c c.c) # sets "srcs" to "a.c;b.c;c.c"
</pre> <p>Lists are meant for simple use cases such as a list of source files and should not be used for complex data processing tasks. Most commands that construct lists do not escape <code>;</code> characters in list elements, thus flattening nested lists:</p> <pre data-language="cmake">set(x a "b;c") # sets "x" to "a;b;c", not "a;b\;c"
</pre> <p>In general, lists do not support elements containing <code>;</code> characters. To avoid problems, consider the following advice:</p> <ul> <li>The interfaces of many CMake commands, variables, and properties accept semicolon-separated lists. Avoid passing lists with elements containing semicolons to these interfaces unless they document either direct support or some way to escape or encode semicolons.</li> <li>
<p>When constructing a list, substitute an otherwise-unused placeholder for <code>;</code> in elements when. Then substitute <code>;</code> for the placeholder when processing list elements. For example, the following code uses <code>|</code> in place of <code>;</code> characters:</p> <pre data-language="cmake">set(mylist a "b|c")
foreach(entry IN LISTS mylist)
  string(REPLACE "|" ";" entry "${entry}")
  # use "${entry}" normally
endforeach()
</pre> <p>The <a class="reference internal" href="../module/externalproject.html#module:ExternalProject" title="ExternalProject" id="index-0-module:ExternalProject"><code>ExternalProject</code></a> module's <code>LIST_SEPARATOR</code> option is an example of an interface built using this approach.</p> </li> <li>In lists of <a class="reference internal" href="cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-0-manual:cmake-generator-expressions(7)"><code>generator expressions</code></a>, use the <a class="reference internal" href="cmake-generator-expressions.7.html#genex:SEMICOLON" title="SEMICOLON" id="index-0-genex:SEMICOLON"><code>$&lt;SEMICOLON&gt;</code></a> generator expression.</li> <li>In command calls, use <a class="reference internal" href="#quoted-argument">Quoted Argument</a> syntax whenever possible. The called command will receive the content of the argument with semicolons preserved. An <a class="reference internal" href="#unquoted-argument">Unquoted Argument</a> will be split on semicolons.</li> <li>
<p>In <a class="reference internal" href="../command/function.html#command:function" title="function" id="index-2-command:function"><code>function()</code></a> implementations, avoid <code>ARGV</code> and <code>ARGN</code>, which do not distinguish semicolons in values from those separating values. Instead, prefer using named positional arguments and the <code>ARGC</code> and <code>ARGV#</code> variables. When using <a class="reference internal" href="../command/cmake_parse_arguments.html#command:cmake_parse_arguments" title="cmake_parse_arguments" id="index-0-command:cmake_parse_arguments"><code>cmake_parse_arguments()</code></a> to parse arguments, prefer its <code>PARSE_ARGV</code> signature, which uses the <code>ARGV#</code> variables.</p> <p>Note that this approach does not apply to <a class="reference internal" href="../command/macro.html#command:macro" title="macro" id="index-1-command:macro"><code>macro()</code></a> implementations because they reference arguments using placeholders, not real variables.</p> </li> </ul>   <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/manual/cmake-language.7.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/manual/cmake-language.7.html</a>
  </p>
</div>
