<h1 id="module:ProcessorCount">ProcessorCount</h1> <p>ProcessorCount(var)</p> <p>Determine the number of processors/cores and save value in ${var}</p> <p>Sets the variable named ${var} to the number of physical cores available on the machine if the information can be determined. Otherwise it is set to 0. Currently this functionality is implemented for AIX, cygwin, FreeBSD, HPUX, Linux, macOS, QNX, Sun and Windows.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.15: </span>On Linux, returns the container CPU count instead of the host CPU count.</p> </div> <p>This function is guaranteed to return a positive integer (&gt;=1) if it succeeds. It returns 0 if there's a problem determining the processor count.</p> <p>More generally accurate physical CPU count can be obtained via <a class="reference internal" href="../command/cmake_host_system_information.html#command:cmake_host_system_information" title="cmake_host_system_information" id="index-0-command:cmake_host_system_information"><code>cmake_host_system_information()</code></a>:</p> <pre data-language="cmake">cmake_host_system_information(RESULT N
                              QUERY NUMBER_OF_PHYSICAL_CORES)
</pre> <p>Example use, in a ctest -S dashboard script:</p> <pre data-language="cmake">include(ProcessorCount)
ProcessorCount(N)
if(NOT N EQUAL 0)
  set(CTEST_BUILD_FLAGS -j${N})
  set(ctest_test_args ${ctest_test_args} PARALLEL_LEVEL ${N})
endif()
</pre> <p>This function is intended to offer an approximation of the value of the number of compute cores available on the current machine, such that you may use that value for parallel building and parallel testing. It is meant to help utilize as much of the machine as seems reasonable. Of course, knowledge of what else might be running on the machine simultaneously should be used when deciding whether to request a machine's full capacity all for yourself.</p>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/module/ProcessorCount.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/module/ProcessorCount.html</a>
  </p>
</div>
