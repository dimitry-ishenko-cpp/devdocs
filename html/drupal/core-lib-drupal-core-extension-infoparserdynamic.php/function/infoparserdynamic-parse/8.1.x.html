<h1 id="page-subtitle">public function InfoParserDynamic::parse</h1>     <pre class="signature">public <a href="../../class/infoparserdynamic/8.1.x.html">InfoParserDynamic</a>::parse($filename)</pre> <p>Parses Drupal module, theme and profile .info.yml files.</p> <p>Info files are NOT for placing arbitrary theme and module-specific settings. Use Config::get() and Config::set()-&gt;save() for that. Info files are formatted as YAML. If the 'version' key is set to 'VERSION' in any info file, then the value will be substituted with the current version of Drupal core.</p> <p>Information stored in all .info.yml files:</p> <ul> <li>
<strong>name</strong>: The real name of the module for display purposes. (Required)</li> <li>
<strong>description</strong>: A brief description of the module.</li> <li>
<strong>type</strong>: whether it is for a module or theme. (Required)</li> </ul> <p>Information stored in a module .info.yml file:</p> <ul> <li>
<strong>dependencies</strong>: An array of dependency strings. Each is in the form 'project:module (versions)'; with the following meanings: <ul> <li>
<strong>project</strong>: (optional) Project shortname, recommended to ensure uniqueness, if the module is part of a project hosted on drupal.org. If omitted, also omit the : that follows. The project name is currently ignored by Drupal core but is used for automated testing.</li> <li>
<strong>module</strong>: (required) Module shortname within the project.</li> <li>
<strong>(versions)</strong>: Version information, consisting of one or more comma-separated operator/value pairs or simply version numbers, which can contain "x" as a wildcard. Examples: (&gt;=8.22, &lt;8.28), (8.x-3.x).</li> </ul> </li> <li>
<strong>package</strong>: The name of the package of modules this module belongs to.</li> </ul> <p>See <a href="https://api.drupal.org/api/drupal/core%21modules%21forum%21forum.info.yml/8.1.x" title="core/modules/forum/forum.info.yml" class="local">forum.info.yml</a> for an example of a module .info.yml file.</p> <p>Information stored in a theme .info.yml file:</p> <ul> <li>
<strong>screenshot</strong>: Path to screenshot relative to the theme's .info.yml file.</li> <li>
<strong>engine</strong>: Theme engine; typically twig.</li> <li>
<strong>base theme</strong>: Name of a base theme, if applicable.</li> <li>
<strong>regions</strong>: Listed regions.</li> <li>
<strong>features</strong>: Features available.</li> <li>
<strong>stylesheets</strong>: Theme stylesheets.</li> <li>
<strong>scripts</strong>: Theme scripts.</li> </ul> <p>See <a href="https://api.drupal.org/api/drupal/core%21themes%21bartik%21bartik.info.yml/8.1.x" title="core/themes/bartik/bartik.info.yml" class="local">bartik.info.yml</a> for an example of a theme .info.yml file.</p> <h3>Parameters</h3> <p> <strong>string $filename</strong>: The file we are parsing. Accepts file with relative or absolute path.</p> <h3>Return value</h3> <p> array The info array.</p> <h3>Throws</h3> <p> <a href="../../../core-lib-drupal-core-extension-infoparserexception.php/class/infoparserexception/8.1.x.html" title="An exception thrown by the InfoParser class whilst parsing info.yml files." class="local">\Drupal\Core\Extension\InfoParserException</a> Exception thrown if there is a parsing error or the .info.yml file does not contain a required key.</p> <p class="api-override">Overrides <a href="../../../core-lib-drupal-core-extension-infoparserinterface.php/function/infoparserinterface-parse/8.1.x.html">InfoParserInterface::parse</a></p>  <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Extension/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Extension%21InfoParserDynamic.php/8.1.x">InfoParserDynamic.php</a>, line 16</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../class/infoparserdynamic/8.1.x.html">InfoParserDynamic</a> </dt> <dd>Parses dynamic .info.yml files that might change during the page request.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21Extension/8.1.x">Drupal\Core\Extension</a> <h3>Code</h3> <pre class="php" data-language="php">public function parse($filename) {
  if (!file_exists($filename)) {
    $parsed_info = array();
  }
  else {
    try {
      $parsed_info = Yaml::decode(file_get_contents($filename));
    }
    catch (InvalidDataTypeException $e) {
      throw new InfoParserException("Unable to parse $filename " . $e-&gt;getMessage());
    }
    $missing_keys = array_diff($this-&gt;getRequiredKeys(), array_keys($parsed_info));
    if (!empty($missing_keys)) {
      throw new InfoParserException('Missing required keys (' . implode(', ', $missing_keys) . ') in ' . $filename);
    }
    if (isset($parsed_info['version']) &amp;&amp; $parsed_info['version'] === 'VERSION') {
      $parsed_info['version'] = \Drupal::VERSION;
    }
  }
  return $parsed_info;
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Extension!InfoParserDynamic.php/function/InfoParserDynamic::parse/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Extension!InfoParserDynamic.php/function/InfoParserDynamic::parse/8.1.x</a>
  </p>
</div>
