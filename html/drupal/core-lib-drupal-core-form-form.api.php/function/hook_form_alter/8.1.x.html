<h1 id="page-subtitle">function hook_form_alter</h1>     <pre class="signature">hook_form_alter(&amp;$form, \Drupal\Core\Form\FormStateInterface <del>$form_state</del>, $form_id)</pre> <p>Perform alterations before a form is rendered.</p> <p>One popular use of this hook is to add form elements to the node form. When altering a node form, the node entity can be retrieved by invoking $form_state-&gt;getFormObject()-&gt;getEntity().</p> <p>Implementations are responsible for adding cache contexts/tags/max-age as needed. See <a href="https://www.drupal.org/developing/api/8/cache">https://www.drupal.org/developing/api/8/cache</a>.</p> <p>In addition to <a href="8.1.x.html" title="Perform alterations before a form is rendered." class="local active">hook_form_alter</a>(), which is called for all forms, there are two more specific form hooks available. The first, <a href="../hook_form_base_form_id_alter/8.1.x.html" title="Provide a form-specific alteration for shared ('base') forms." class="local">hook_form_BASE_FORM_ID_alter</a>(), allows targeting of a form/forms via a base form (if one exists). The second, <a href="../hook_form_form_id_alter/8.1.x.html" title="Provide a form-specific alteration instead of the global hook_form_alter()." class="local">hook_form_FORM_ID_alter</a>(), can be used to target a specific form directly.</p> <p>The call order is as follows: all existing form alter functions are called for module A, then all for module B, etc., followed by all for any base theme(s), and finally for the theme itself. The module order is determined by system weight, then by module name.</p> <p>Within each module, form alter hooks are called in the following order: first, <a href="8.1.x.html" title="Perform alterations before a form is rendered." class="local active">hook_form_alter</a>(); second, <a href="../hook_form_base_form_id_alter/8.1.x.html" title="Provide a form-specific alteration for shared ('base') forms." class="local">hook_form_BASE_FORM_ID_alter</a>(); third, <a href="../hook_form_form_id_alter/8.1.x.html" title="Provide a form-specific alteration instead of the global hook_form_alter()." class="local">hook_form_FORM_ID_alter</a>(). So, for each module, the more general hooks are called first followed by the more specific.</p> <h3>Parameters</h3> <p> <strong>$form</strong>: Nested array of form elements that comprise the form.</p> <p><strong>$form_state</strong>: The current state of the form. The arguments that <a href="../../../core-lib-drupal.php/function/drupal-formbuilder/8.1.x.html" title="Returns the form builder service." class="local">\Drupal::formBuilder</a>()-&gt;getForm() was originally called with are available in the array $form_state-&gt;getBuildInfo()['args'].</p> <p><strong>$form_id</strong>: String representing the name of the form itself. Typically this is the name of the function that generated the form.</p> <h3>See also</h3> <p> <a href="../hook_form_base_form_id_alter/8.1.x.html" title="Provide a form-specific alteration for shared ('base') forms." class="local">hook_form_BASE_FORM_ID_alter</a>()</p> <p><a href="../hook_form_form_id_alter/8.1.x.html" title="Provide a form-specific alteration instead of the global hook_form_alter()." class="local">hook_form_FORM_ID_alter</a>()</p> <h3>Related topics</h3>   <dl api-related-topics> <dt><a href="../../../core-core.api.php/group/form_api/8.1.x.html">Form generation</a></dt> <dd>Describes how to generate and manipulate forms and process form submissions.</dd> <dt><a href="../../../core-core.api.php/group/hooks/8.1.x.html">Hooks</a></dt> <dd>Define functions that alter the behavior of Drupal core.</dd> </dl>    <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Form/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Form%21form.api.php/8.1.x">form.api.php</a>, line 201</dt> <dd>Callbacks and hooks related to form system.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function hook_form_alter(&amp;$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
  if (isset($form['type']) &amp;&amp; $form['type']['#value'] . '_node_settings' == $form_id) {
    $upload_enabled_types = \Drupal::config('mymodule.settings')-&gt;get('upload_enabled_types');
    $form['workflow']['upload_' . $form['type']['#value']] = array(
      '#type' =&gt; 'radios',
      '#title' =&gt; t('Attachments'),
      '#default_value' =&gt; in_array($form['type']['#value'], $upload_enabled_types) ? 1 : 0,
      '#options' =&gt; array(t('Disabled'), t('Enabled')),
    );
    // Add a custom submit handler to save the array of types back to the config file.
    $form['actions']['submit']['#submit'][] = 'mymodule_upload_enabled_types_submit';
  }
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Form!form.api.php/function/hook_form_alter/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Form!form.api.php/function/hook_form_alter/8.1.x</a>
  </p>
</div>
