<h1 id="page-subtitle">public function ConfigEntityBase::onDependencyRemoval</h1>     <pre class="signature">public <a href="../../class/configentitybase/8.1.x.html">ConfigEntityBase</a>::onDependencyRemoval(array $dependencies)</pre> <p>Informs the entity that entities it depends on will be deleted.</p> <p>This method allows configuration entities to remove dependencies instead of being deleted themselves. Configuration entities can use this method to avoid being unnecessarily deleted during an extension uninstallation. For example, entity displays remove references to widgets and formatters if the plugin that supplies them depends on a module that is being uninstalled.</p> <p>If this method returns TRUE then the entity needs to be re-saved by the caller for the changes to take effect. Implementations should not save the entity.</p> <h3>Parameters</h3> <p> <strong>array $dependencies</strong>: An array of dependencies that will be deleted keyed by dependency type. Dependency types are, for example, entity, module and theme.</p> <h3>Return value</h3> <p> bool TRUE if the entity has been changed as a result, FALSE if not.</p> <p class="api-override">Overrides <a href="../../../core-lib-drupal-core-config-entity-configentityinterface.php/function/configentityinterface-ondependencyremoval/8.1.x.html">ConfigEntityInterface::onDependencyRemoval</a></p> <h3>See also</h3> <p> <a href="../../../core-lib-drupal-core-config-entity-configdependencymanager.php/class/configdependencymanager/8.1.x.html" title="Provides a class to discover configuration entity dependencies." class="local">\Drupal\Core\Config\Entity\ConfigDependencyManager</a></p> <p>\Drupal\Core\Config\ConfigEntityBase::preDelete()</p> <p><a href="../../../core-lib-drupal-core-config-configmanager.php/function/configmanager-uninstall/8.1.x.html" title="Uninstalls the configuration of a given extension." class="local">\Drupal\Core\Config\ConfigManager::uninstall</a>()</p> <p><a href="../../../core-lib-drupal-core-entity-entitydisplaybase.php/function/entitydisplaybase-ondependencyremoval/8.1.x.html" title="Informs the entity that entities it depends on will be deleted." class="local">\Drupal\Core\Entity\EntityDisplayBase::onDependencyRemoval</a>()</p>  <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Config/Entity/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Config%21Entity%21ConfigEntityBase.php/8.1.x">ConfigEntityBase.php</a>, line 500</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../class/configentitybase/8.1.x.html">ConfigEntityBase</a> </dt> <dd>Defines a base configuration entity class.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21Config%21Entity/8.1.x">Drupal\Core\Config\Entity</a> <h3>Code</h3> <pre class="php" data-language="php">public function onDependencyRemoval(array $dependencies) {
  $changed = FALSE;
  if (!empty($this-&gt;third_party_settings)) {
    $old_count = count($this-&gt;third_party_settings);
    $this-&gt;third_party_settings = array_diff_key($this-&gt;third_party_settings, array_flip($dependencies['module']));
    $changed = $old_count != count($this-&gt;third_party_settings);
  }
  return $changed;
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Config!Entity!ConfigEntityBase.php/function/ConfigEntityBase::onDependencyRemoval/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Config!Entity!ConfigEntityBase.php/function/ConfigEntityBase::onDependencyRemoval/8.1.x</a>
  </p>
</div>
