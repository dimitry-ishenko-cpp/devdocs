<h1 id="page-subtitle">public function DynamicallyFieldableEntityStorageSchemaInterface::requiresFieldDataMigration</h1>     <pre class="signature">public <a href="../../interface/dynamicallyfieldableentitystorageschemainterface/8.1.x.html">DynamicallyFieldableEntityStorageSchemaInterface</a>::requiresFieldDataMigration(FieldStorageDefinitionInterface $storage_definition, FieldStorageDefinitionInterface $original)</pre> <p>Checks if existing data would be lost if the schema changes were applied.</p> <p>If there are no schema changes needed, then no data needs to be migrated, but it is not the responsibility of this function to recheck what requiresFieldStorageSchemaChanges() checks. Rather, the meaning of what this function returns when requiresFieldStorageSchemaChanges() returns FALSE is undefined. Callers are expected to only call this function when requiresFieldStorageSchemaChanges() is TRUE.</p> <p>This function can return FALSE if any of these conditions apply:</p> <ul> <li>There are no existing entities for the entity type to which this field is attached.</li> <li>There are existing entities, but none with existing values for this field.</li> <li>There are existing field values, but the schema changes can be applied without losing them (e.g., if the schema changes can be performed by altering tables rather than dropping and recreating them).</li> <li>The only field values that would be lost are ones that are not valid for the new definition (e.g., if changing a field from revisionable to non-revisionable, then it's okay to drop data for the non-default revision).</li> </ul> <p>When this function returns FALSE, site administrators will be unable to perform an automated update, and will instead need to perform a site migration or invoke some custom update process.</p> <h3>Parameters</h3> <p> <strong><a href="../../../core-lib-drupal-core-field-fieldstoragedefinitioninterface.php/interface/fieldstoragedefinitioninterface/8.1.x.html" title="Defines an interface for entity field storage definitions." class="local">\Drupal\Core\Field\FieldStorageDefinitionInterface</a> $storage_definition</strong>: The updated field storage definition.</p> <p><strong><a href="../../../core-lib-drupal-core-field-fieldstoragedefinitioninterface.php/interface/fieldstoragedefinitioninterface/8.1.x.html" title="Defines an interface for entity field storage definitions." class="local">\Drupal\Core\Field\FieldStorageDefinitionInterface</a> $original</strong>: The original field storage definition.</p> <h3>Return value</h3> <p> bool TRUE if data migration is required, FALSE otherwise.</p> <h3>See also</h3> <p> self::requiresFieldStorageSchemaChanges()</p>  <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Entity/Schema/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Entity%21Schema%21DynamicallyFieldableEntityStorageSchemaInterface.php/8.1.x">DynamicallyFieldableEntityStorageSchemaInterface.php</a>, line 69</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../interface/dynamicallyfieldableentitystorageschemainterface/8.1.x.html">DynamicallyFieldableEntityStorageSchemaInterface</a> </dt> <dd>A storage schema that supports entity types with dynamic field definitions.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21Entity%21Schema/8.1.x">Drupal\Core\Entity\Schema</a> <h3>Code</h3> <pre class="php" data-language="php">public function requiresFieldDataMigration(FieldStorageDefinitionInterface $storage_definition, FieldStorageDefinitionInterface $original);
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Entity!Schema!DynamicallyFieldableEntityStorageSchemaInterface.php/function/DynamicallyFieldableEntityStorageSchemaInterface::requiresFieldDataMigration/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Entity!Schema!DynamicallyFieldableEntityStorageSchemaInterface.php/function/DynamicallyFieldableEntityStorageSchemaInterface::requiresFieldDataMigration/8.1.x</a>
  </p>
</div>
