<h1 id="page-subtitle">public function StatementPrefetch::fetchAllAssoc</h1>     <pre class="signature">public <a href="../../class/statementprefetch/8.1.x.html">StatementPrefetch</a>::fetchAllAssoc($key, $fetch_style = NULL)</pre> <p>Returns the result set as an associative array keyed by the given field.</p> <p>If the given key appears multiple times, later records will overwrite earlier ones.</p> <h3>Parameters</h3> <p> <strong>$key</strong>: The name of the field on which to index the array.</p> <p><strong>$fetch</strong>: The fetchmode to use. If set to PDO::FETCH_ASSOC, PDO::FETCH_NUM, or PDO::FETCH_BOTH the returned value with be an array of arrays. For any other value it will be an array of objects. By default, the fetch mode set for the query will be used.</p> <h3>Return value</h3> <p> An associative array, or an empty array if there is no result set.</p> <p class="api-override">Overrides <a href="../../../core-lib-drupal-core-database-statementinterface.php/function/statementinterface-fetchallassoc/8.1.x.html">StatementInterface::fetchAllAssoc</a></p> <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Database/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Database%21StatementPrefetch.php/8.1.x">StatementPrefetch.php</a>, line 518</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../class/statementprefetch/8.1.x.html">StatementPrefetch</a> </dt> <dd>An implementation of StatementInterface that prefetches all data.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21Database/8.1.x">Drupal\Core\Database</a> <h3>Code</h3> <pre class="php" data-language="php">public function fetchAllAssoc($key, $fetch_style = NULL) {
  $this-&gt;fetchStyle = isset($fetch_style) ? $fetch_style : $this-&gt;defaultFetchStyle;
  $this-&gt;fetchOptions = $this-&gt;defaultFetchOptions;

  $result = array();
  // Traverse the array as PHP would have done.
  while (isset($this-&gt;currentRow)) {
    // Grab the row in its raw \PDO::FETCH_ASSOC format.
    $result_row = $this-&gt;current();
    $result[$this-&gt;currentRow[$key]] = $result_row;
    $this-&gt;next();
  }

  // Reset the fetch parameters to the value stored using setFetchMode().
  $this-&gt;fetchStyle = $this-&gt;defaultFetchStyle;
  $this-&gt;fetchOptions = $this-&gt;defaultFetchOptions;
  return $result;
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Database!StatementPrefetch.php/function/StatementPrefetch::fetchAllAssoc/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Database!StatementPrefetch.php/function/StatementPrefetch::fetchAllAssoc/8.1.x</a>
  </p>
</div>
