<h1 id="page-subtitle">Block API</h1>      <p>Information about the classes and interfaces that make up the Block API.</p> <p>Blocks are a combination of a configuration entity and a plugin. The configuration entity stores placement information (theme, region, weight) and any other configuration that is specific to the block. The block plugin does the work of rendering the block's content for display.</p> <p>To define a block in a module you need to:</p> <ul> <li>Define a Block plugin by creating a new class that implements the <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21BlockPluginInterface.php/interface/BlockPluginInterface/8.1.x" title="Defines the required interface for all block plugins." class="local">\Drupal\Core\Block\BlockPluginInterface</a>, in namespace Plugin\Block under your module namespace. For more information about creating plugins, see the <a href="../../../core-core.api.php/group/plugin_api/8.1.x.html" title="Using the Plugin API" class="local">Plugin API topic.</a>
</li> <li>Usually you will want to extend the <a href="../../../core-lib-drupal-core-block-blockbase.php/class/blockbase/8.1.x.html" title="Defines a base block implementation that most blocks plugins will extend." class="local">\Drupal\Core\Block\BlockBase</a> class, which provides a common configuration form and utility methods for getting and setting configuration in the block configuration entity.</li> <li>Block plugins use the annotations defined by <a href="../../../core-lib-drupal-core-block-annotation-block.php/class/block/8.1.x.html" title="Defines a Block annotation object." class="local">\Drupal\Core\Block\Annotation\Block</a>. See the <a href="../../../core-core.api.php/group/annotation/8.1.x.html" title="Annotations for class discovery and metadata description." class="local">Annotations topic</a> for more information about annotations.</li> </ul> <p>The Block API also makes use of Condition plugins, for conditional block placement. Condition plugins have interface <a href="../../../core-lib-drupal-core-condition-conditioninterface.php/interface/conditioninterface/8.1.x.html" title="An interface for condition plugins." class="local">\Drupal\Core\Condition\ConditionInterface</a>, base class <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Condition%21ConditionPluginBase.php/class/ConditionPluginBase/8.1.x" title="Provides a basis for fulfilling contexts for condition plugins." class="local">\Drupal\Core\Condition\ConditionPluginBase</a>, and go in plugin namespace Plugin\Condition. Again, see the Plugin API and Annotations topics for details of how to create a plugin class and annotate it.</p> <p>There are also several block-related hooks, which allow you to affect the content and access permissions for blocks:</p> <ul> <li>
<a href="../../function/hook_block_view_alter/8.1.x.html" title="Alter the result of \Drupal\Core\Block\BlockBase::build()." class="local">hook_block_view_alter</a>()</li> <li>
<a href="../../function/hook_block_view_base_block_id_alter/8.1.x.html" title="Provide a block plugin specific block_view alteration." class="local">hook_block_view_BASE_BLOCK_ID_alter</a>()</li> <li>
<a href="../../function/hook_block_access/8.1.x.html" title="Control access to a block instance." class="local">hook_block_access</a>()</li> </ul> <p>Further information and examples:</p> <ul> <li>
<a href="https://api.drupal.org/api/drupal/core%21modules%21system%21src%21Plugin%21Block%21SystemPoweredByBlock.php/class/SystemPoweredByBlock/8.1.x" title="Provides a 'Powered by Drupal' block." class="local">\Drupal\system\Plugin\Block\SystemPoweredByBlock</a> provides a simple example of defining a block.</li> <li>
<a href="https://api.drupal.org/api/drupal/core%21modules%21user%21src%21Plugin%21Condition%21UserRole.php/class/UserRole/8.1.x" title="Provides a 'User Role' condition." class="local">\Drupal\user\Plugin\Condition\UserRole</a> is a straightforward example of a block placement condition plugin.</li> <li>
<a href="https://api.drupal.org/api/drupal/core%21modules%21book%21src%21Plugin%21Block%21BookNavigationBlock.php/class/BookNavigationBlock/8.1.x" title="Provides a 'Book navigation' block." class="local">\Drupal\book\Plugin\Block\BookNavigationBlock</a> is an example of a block with a custom configuration form.</li> <li>For a more in-depth discussion of the Block API, see <a href="https://www.drupal.org/developing/api/8/block_api">https://www.drupal.org/developing/api/8/block_api</a>.</li> <li>The Examples for Developers project also provides a Block example in <a href="https://www.drupal.org/project/examples">https://www.drupal.org/project/examples</a>.</li> </ul> <h3>File</h3> 
<dl> <dt>core/modules/block/<a href="https://api.drupal.org/api/drupal/core%21modules%21block%21block.api.php/8.1.x">block.api.php</a>, line 10</dt> <dd>Hooks provided by the Block module.</dd> </dl> <h3>Functions</h3>  <table> <thead> <tr> <th scope="col"> Name </th> <th scope="col"> Location </th> <th scope="col"> Description </th> </tr> </thead> <tbody> <tr> <td data-th="Name"> <a href="../../function/hook_block_access/8.1.x.html">hook_block_access</a> </td> <td data-th="Location"> core/modules/block/<a href="https://api.drupal.org/api/drupal/core%21modules%21block%21block.api.php/8.1.x">block.api.php</a> </td> <td data-th="Description"> Control access to a block instance. </td> </tr> <tr> <td data-th="Name"> <a href="../../function/hook_block_build_alter/8.1.x.html">hook_block_build_alter</a> </td> <td data-th="Location"> core/modules/block/<a href="https://api.drupal.org/api/drupal/core%21modules%21block%21block.api.php/8.1.x">block.api.php</a> </td> <td data-th="Description"> Alter the result of <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21BlockPluginInterface.php/function/BlockPluginInterface%3A%3Abuild/8.1.x" title="Builds and returns the renderable array for this block plugin." class="local">\Drupal\Core\Block\BlockBase::build</a>(). </td> </tr> <tr> <td data-th="Name"> <a href="../../function/hook_block_build_base_block_id_alter/8.1.x.html">hook_block_build_BASE_BLOCK_ID_alter</a> </td> <td data-th="Location"> core/modules/block/<a href="https://api.drupal.org/api/drupal/core%21modules%21block%21block.api.php/8.1.x">block.api.php</a> </td> <td data-th="Description"> Provide a block plugin specific block_build alteration. </td> </tr> <tr> <td data-th="Name"> <a href="../../function/hook_block_view_alter/8.1.x.html">hook_block_view_alter</a> </td> <td data-th="Location"> core/modules/block/<a href="https://api.drupal.org/api/drupal/core%21modules%21block%21block.api.php/8.1.x">block.api.php</a> </td> <td data-th="Description"> Alter the result of <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21BlockPluginInterface.php/function/BlockPluginInterface%3A%3Abuild/8.1.x" title="Builds and returns the renderable array for this block plugin." class="local">\Drupal\Core\Block\BlockBase::build</a>(). </td> </tr> <tr> <td data-th="Name"> <a href="../../function/hook_block_view_base_block_id_alter/8.1.x.html">hook_block_view_BASE_BLOCK_ID_alter</a> </td> <td data-th="Location"> core/modules/block/<a href="https://api.drupal.org/api/drupal/core%21modules%21block%21block.api.php/8.1.x">block.api.php</a> </td> <td data-th="Description"> Provide a block plugin specific block_view alteration. </td> </tr> </tbody> </table>  <h3>Classes</h3>  <table> <thead> <tr> <th scope="col"> Name </th> <th scope="col"> Location </th> <th scope="col"> Description </th> </tr> </thead> <tbody> <tr> <td data-th="Name"> <a href="../../../core-lib-drupal-core-block-annotation-block.php/class/block/8.1.x.html">Block</a> </td> <td data-th="Location"> core/lib/Drupal/Core/Block/Annotation/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21Annotation%21Block.php/8.1.x">Block.php</a> </td> <td data-th="Description"> Defines a Block annotation object. </td> </tr> <tr> <td data-th="Name"> <a href="../../../core-lib-drupal-core-block-blockbase.php/class/blockbase/8.1.x.html">BlockBase</a> </td> <td data-th="Location"> core/lib/Drupal/Core/Block/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21BlockBase.php/8.1.x">BlockBase.php</a> </td> <td data-th="Description"> Defines a base block implementation that most blocks plugins will extend. </td> </tr> </tbody> </table>  <h3>Interfaces</h3>  <table> <thead> <tr> <th scope="col"> Name </th> <th scope="col"> Location </th> <th scope="col"> Description </th> </tr> </thead> <tbody> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21BlockPluginInterface.php/interface/BlockPluginInterface/8.1.x">BlockPluginInterface</a> </td> <td data-th="Location"> core/lib/Drupal/Core/Block/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21BlockPluginInterface.php/8.1.x">BlockPluginInterface.php</a> </td> <td data-th="Description"> Defines the required interface for all block plugins. </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21MainContentBlockPluginInterface.php/interface/MainContentBlockPluginInterface/8.1.x">MainContentBlockPluginInterface</a> </td> <td data-th="Location"> core/lib/Drupal/Core/Block/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21MainContentBlockPluginInterface.php/8.1.x">MainContentBlockPluginInterface.php</a> </td> <td data-th="Description"> The interface for "main page content" blocks. </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21MessagesBlockPluginInterface.php/interface/MessagesBlockPluginInterface/8.1.x">MessagesBlockPluginInterface</a> </td> <td data-th="Location"> core/lib/Drupal/Core/Block/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21MessagesBlockPluginInterface.php/8.1.x">MessagesBlockPluginInterface.php</a> </td> <td data-th="Description"> The interface for "messages" (#type =&gt; status_messages) blocks. </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21TitleBlockPluginInterface.php/interface/TitleBlockPluginInterface/8.1.x">TitleBlockPluginInterface</a> </td> <td data-th="Location"> core/lib/Drupal/Core/Block/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Block%21TitleBlockPluginInterface.php/8.1.x">TitleBlockPluginInterface.php</a> </td> <td data-th="Description"> The interface for "title" blocks. </td> </tr> </tbody> </table><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!modules!block!block.api.php/group/block_api/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!modules!block!block.api.php/group/block_api/8.1.x</a>
  </p>
</div>
