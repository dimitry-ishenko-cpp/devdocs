<h1 id="page-subtitle">public function EntityLastInstalledSchemaRepository::getLastInstalledFieldStorageDefinitions</h1>     <pre class="signature">public <a href="../../class/entitylastinstalledschemarepository/8.1.x.html">EntityLastInstalledSchemaRepository</a>::getLastInstalledFieldStorageDefinitions($entity_type_id)</pre> <p>Gets the entity type's most recently installed field storage definitions.</p> <p>During the application lifetime, field storage definitions can change. For example, updated code can be deployed. The getFieldStorageDefinitions() method will always return the definitions as determined by the current codebase. This method, however, returns what the definitions were when the last time that one of the <a href="../../../core-lib-drupal-core-field-fieldstoragedefinitionlistenerinterface.php/interface/fieldstoragedefinitionlistenerinterface/8.1.x.html" title="Defines an interface for reacting to field storage definition creation, deletion, and updates." class="local">\Drupal\Core\Field\FieldStorageDefinitionListenerInterface</a> events was last fired and completed successfully. In other words, the definitions that the entity type's handlers have incorporated into the application state. For example, if the entity type's storage handler is SQL-based, the definitions for which database tables were created.</p> <p>Application management code can check if getFieldStorageDefinitions() differs from getLastInstalledFieldStorageDefinitions() and decide whether to:</p> <ul> <li>Invoke the appropriate <a href="../../../core-lib-drupal-core-field-fieldstoragedefinitionlistenerinterface.php/interface/fieldstoragedefinitionlistenerinterface/8.1.x.html" title="Defines an interface for reacting to field storage definition creation, deletion, and updates." class="local">\Drupal\Core\Field\FieldStorageDefinitionListenerInterface</a> events so that handlers react to the new definitions.</li> <li>Raise a warning that the application state is incompatible with the codebase.</li> <li>Perform some other action.</li> </ul> <h3>Parameters</h3> <p> <strong>string $entity_type_id</strong>: The entity type ID.</p> <h3>Return value</h3> <p> <a href="../../../core-lib-drupal-core-field-fieldstoragedefinitioninterface.php/interface/fieldstoragedefinitioninterface/8.1.x.html" title="Defines an interface for entity field storage definitions." class="local">\Drupal\Core\Field\FieldStorageDefinitionInterface</a>[] The array of installed field storage definitions for the entity type, keyed by field name.</p> <p class="api-override">Overrides <a href="../../../core-lib-drupal-core-entity-entitylastinstalledschemarepositoryinterface.php/function/entitylastinstalledschemarepositoryinterface-getlastinstalledfieldstoragedefinitions/8.1.x.html">EntityLastInstalledSchemaRepositoryInterface::getLastInstalledFieldStorageDefinitions</a></p> <h3>See also</h3> <p> <a href="../../../core-lib-drupal-core-entity-entitytypelistenerinterface.php/interface/entitytypelistenerinterface/8.1.x.html" title="Defines an interface for reacting to entity type creation, deletion, and updates." class="local">\Drupal\Core\Entity\EntityTypeListenerInterface</a></p>  <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Entity/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Entity%21EntityLastInstalledSchemaRepository.php/8.1.x">EntityLastInstalledSchemaRepository.php</a>, line 61</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../class/entitylastinstalledschemarepository/8.1.x.html">EntityLastInstalledSchemaRepository</a> </dt> <dd>Provides a repository for installed entity definitions.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21Entity/8.1.x">Drupal\Core\Entity</a> <h3>Code</h3> <pre class="php" data-language="php">public function getLastInstalledFieldStorageDefinitions($entity_type_id) {
  return $this-&gt;keyValueFactory-&gt;get('entity.definitions.installed')-&gt;get($entity_type_id . '.field_storage_definitions', []);
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Entity!EntityLastInstalledSchemaRepository.php/function/EntityLastInstalledSchemaRepository::getLastInstalledFieldStorageDefinitions/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Entity!EntityLastInstalledSchemaRepository.php/function/EntityLastInstalledSchemaRepository::getLastInstalledFieldStorageDefinitions/8.1.x</a>
  </p>
</div>
