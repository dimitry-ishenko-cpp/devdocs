<h1 id="page-subtitle">class SessionManager</h1>      <p>Manages user sessions.</p> <p>This class implements the custom session management code inherited from Drupal 7 on top of the corresponding Symfony component. Regrettably the name NativeSessionStorage is not quite accurate. In fact the responsibility for storing and retrieving session data has been extracted from it in Symfony 2.1 but the class name was not changed.</p> <p>@todo In fact the NativeSessionStorage class already implements all of the functionality required by a typical Symfony application. Normally it is not necessary to subclass it at all. In order to reach the point where Drupal can use the Symfony session management unmodified, the code implemented here needs to be extracted either into a dedicated session handler proxy (e.g. sid-hashing) or relocated to the authentication subsystem.</p> <h3>Hierarchy</h3> <ul>
<li class="first last">class \Symfony\Component\HttpFoundation\Session\Storage\<a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/class/NativeSessionStorage/8.1.x" class="">NativeSessionStorage</a> implements \Symfony\Component\HttpFoundation\Session\Storage\SessionStorageInterface <ul>
<li class="first last">class \Drupal\Core\Session\<a href="8.1.x.html" class="active active">SessionManager</a> implements <a href="../../../core-lib-drupal-core-session-sessionmanagerinterface.php/interface/sessionmanagerinterface/8.1.x.html">SessionManagerInterface</a> uses <a href="../../../core-lib-drupal-core-dependencyinjection-dependencyserializationtrait.php/trait/dependencyserializationtrait/8.1.x.html">DependencySerializationTrait</a>
</li> </ul>
</li> </ul>
  <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Session/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Session%21SessionManager.php/8.1.x">SessionManager.php</a>, line 28</dt>  </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21Session/8.1.x">Drupal\Core\Session</a>  <h3>Members</h3>   <table> <thead> <tr> <th scope="col"> Name </th> <th scope="col"> Modifiers </th> <th scope="col"> Type </th> <th scope="col"> Description </th> </tr> </thead> <tbody> <tr> <td data-th="Name"> <a href="../../../core-lib-drupal-core-dependencyinjection-dependencyserializationtrait.php/property/dependencyserializationtrait-_serviceids/8.1.x.html">DependencySerializationTrait::$_serviceIds</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> An array of service IDs keyed by property name used for serialization. </td> </tr> <tr> <td data-th="Name"> <a href="../../../core-lib-drupal-core-dependencyinjection-dependencyserializationtrait.php/function/dependencyserializationtrait-__sleep/8.1.x.html">DependencySerializationTrait::__sleep</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> </td> </tr> <tr> <td data-th="Name"> <a href="../../../core-lib-drupal-core-dependencyinjection-dependencyserializationtrait.php/function/dependencyserializationtrait-__wakeup/8.1.x.html">DependencySerializationTrait::__wakeup</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/property/NativeSessionStorage%3A%3Abags/8.1.x">NativeSessionStorage::$bags</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> Array of SessionBagInterface. </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/property/NativeSessionStorage%3A%3Aclosed/8.1.x">NativeSessionStorage::$closed</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/property/NativeSessionStorage%3A%3AmetadataBag/8.1.x">NativeSessionStorage::$metadataBag</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/property/NativeSessionStorage%3A%3AsaveHandler/8.1.x">NativeSessionStorage::$saveHandler</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/property/NativeSessionStorage%3A%3Astarted/8.1.x">NativeSessionStorage::$started</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3Aclear/8.1.x">NativeSessionStorage::clear</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Clear all session data in memory. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21SessionStorageInterface.php/function/SessionStorageInterface%3A%3Aclear/8.1.x">SessionStorageInterface::clear</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AgetBag/8.1.x">NativeSessionStorage::getBag</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Gets a SessionBagInterface by name. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21SessionStorageInterface.php/function/SessionStorageInterface%3A%3AgetBag/8.1.x">SessionStorageInterface::getBag</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AgetId/8.1.x">NativeSessionStorage::getId</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns the session ID. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21SessionStorageInterface.php/function/SessionStorageInterface%3A%3AgetId/8.1.x">SessionStorageInterface::getId</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AgetMetadataBag/8.1.x">NativeSessionStorage::getMetadataBag</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Gets the MetadataBag. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21SessionStorageInterface.php/function/SessionStorageInterface%3A%3AgetMetadataBag/8.1.x">SessionStorageInterface::getMetadataBag</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AgetName/8.1.x">NativeSessionStorage::getName</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns the session name. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21SessionStorageInterface.php/function/SessionStorageInterface%3A%3AgetName/8.1.x">SessionStorageInterface::getName</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AgetSaveHandler/8.1.x">NativeSessionStorage::getSaveHandler</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Gets the save handler instance. </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AisStarted/8.1.x">NativeSessionStorage::isStarted</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Checks if the session is started. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21SessionStorageInterface.php/function/SessionStorageInterface%3A%3AisStarted/8.1.x">SessionStorageInterface::isStarted</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AloadSession/8.1.x">NativeSessionStorage::loadSession</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> function </td> <td data-th="Description"> Load the session with attributes. </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AregisterBag/8.1.x">NativeSessionStorage::registerBag</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Registers a SessionBagInterface for use. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21SessionStorageInterface.php/function/SessionStorageInterface%3A%3AregisterBag/8.1.x">SessionStorageInterface::registerBag</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AsetId/8.1.x">NativeSessionStorage::setId</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Sets the session ID. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21SessionStorageInterface.php/function/SessionStorageInterface%3A%3AsetId/8.1.x">SessionStorageInterface::setId</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AsetMetadataBag/8.1.x">NativeSessionStorage::setMetadataBag</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Sets the MetadataBag. </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AsetName/8.1.x">NativeSessionStorage::setName</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Sets the session name. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21SessionStorageInterface.php/function/SessionStorageInterface%3A%3AsetName/8.1.x">SessionStorageInterface::setName</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AsetOptions/8.1.x">NativeSessionStorage::setOptions</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Sets session.* ini variables. </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3AsetSaveHandler/8.1.x">NativeSessionStorage::setSaveHandler</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Registers session save handler as a PHP session handler. </td> </tr> <tr> <td data-th="Name"> <a href="../../property/sessionmanager-connection/8.1.x.html">SessionManager::$connection</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> The database connection to use. </td> </tr> <tr> <td data-th="Name"> <a href="../../property/sessionmanager-requeststack/8.1.x.html">SessionManager::$requestStack</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> The request stack. </td> </tr> <tr> <td data-th="Name"> <a href="../../property/sessionmanager-sessionconfiguration/8.1.x.html">SessionManager::$sessionConfiguration</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> The session configuration. </td> </tr> <tr> <td data-th="Name"> <a href="../../property/sessionmanager-startedlazy/8.1.x.html">SessionManager::$startedLazy</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> Whether a lazy session has been started. </td> </tr> <tr> <td data-th="Name"> <a href="../../property/sessionmanager-writesafehandler/8.1.x.html">SessionManager::$writeSafeHandler</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> The write safe session handler. </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-delete/8.1.x.html">SessionManager::delete</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Ends a specific user's session(s). <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-sessionmanagerinterface.php/function/sessionmanagerinterface-delete/8.1.x.html">SessionManagerInterface::delete</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-destroy/8.1.x.html">SessionManager::destroy</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Destroys the current session and removes session cookies. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-sessionmanagerinterface.php/function/sessionmanagerinterface-destroy/8.1.x.html">SessionManagerInterface::destroy</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-getsessiondatamask/8.1.x.html">SessionManager::getSessionDataMask</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns a map specifying which session key is containing user data. </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-iscli/8.1.x.html">SessionManager::isCli</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns whether the current PHP process runs on CLI. </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-issessionobsolete/8.1.x.html">SessionManager::isSessionObsolete</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> function </td> <td data-th="Description"> Determines whether the session contains user data. </td> </tr> <tr> <td data-th="Name"> <a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Session%21SessionManager.php/function/SessionManager%3A%3AmigrateStoredSession/8.1.x">SessionManager::migrateStoredSession</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> function </td> <td data-th="Description"> Migrates the current session to a new session id. </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-regenerate/8.1.x.html">SessionManager::regenerate</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Regenerates id that represents this storage. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3Aregenerate/8.1.x">NativeSessionStorage::regenerate</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-save/8.1.x.html">SessionManager::save</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Force the session to be saved and closed. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3Asave/8.1.x">NativeSessionStorage::save</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-setwritesafehandler/8.1.x.html">SessionManager::setWriteSafeHandler</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Sets the write safe session handler. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-sessionmanagerinterface.php/function/sessionmanagerinterface-setwritesafehandler/8.1.x.html">SessionManagerInterface::setWriteSafeHandler</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-start/8.1.x.html">SessionManager::start</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Starts the session. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3Astart/8.1.x">NativeSessionStorage::start</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-startnow/8.1.x.html">SessionManager::startNow</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> function </td> <td data-th="Description"> Forcibly start a PHP session. </td> </tr> <tr> <td data-th="Name"> <a href="../../function/sessionmanager-__construct/8.1.x.html">SessionManager::__construct</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Constructs a new session manager instance. <em class="api-inheritance-source">Overrides <a href="https://api.drupal.org/api/drupal/vendor%21symfony%21http-foundation%21Session%21Storage%21NativeSessionStorage.php/function/NativeSessionStorage%3A%3A__construct/8.1.x">NativeSessionStorage::__construct</a></em> </td> </tr> </tbody> </table><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Session!SessionManager.php/class/SessionManager/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Session!SessionManager.php/class/SessionManager/8.1.x</a>
  </p>
</div>
