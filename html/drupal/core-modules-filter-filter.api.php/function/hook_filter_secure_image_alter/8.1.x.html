<h1 id="page-subtitle">function hook_filter_secure_image_alter</h1>     <pre class="signature">hook_filter_secure_image_alter(&amp;$image)</pre> <p>Alters images with an invalid source.</p> <p>When the 'Restrict images to this site' filter is enabled, any images that are not hosted on the site will be passed through this hook, most commonly to replace the invalid image with an error indicator.</p> <h3>Parameters</h3> <p> <strong>DOMElement $image</strong>: An IMG node to format, parsed from the filtered text.</p> <h3>Related topics</h3>   <dl api-related-topics> <dt><a href="../../../core-core.api.php/group/hooks/8.1.x.html">Hooks</a></dt> <dd>Define functions that alter the behavior of Drupal core.</dd> </dl>    <h3>File</h3> 
<dl> <dt>core/modules/filter/<a href="https://api.drupal.org/api/drupal/core%21modules%21filter%21filter.api.php/8.1.x">filter.api.php</a>, line 36</dt> <dd>Hooks provided by the Filter module.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function hook_filter_secure_image_alter(&amp;$image) {
  // Turn an invalid image into an error indicator.
  $image-&gt;setAttribute('src', base_path() . 'core/misc/icons/e32700/error.svg');
  $image-&gt;setAttribute('alt', t('Image removed.'));
  $image-&gt;setAttribute('title', t('This image has been removed. For security reasons, only images from the local domain are allowed.'));

  // Add a CSS class to aid in styling.
  $class = ($image-&gt;getAttribute('class') ? trim($image-&gt;getAttribute('class')) . ' ' : '');
  $class .= 'filter-image-invalid';
  $image-&gt;setAttribute('class', $class);
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!modules!filter!filter.api.php/function/hook_filter_secure_image_alter/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!modules!filter!filter.api.php/function/hook_filter_secure_image_alter/8.1.x</a>
  </p>
</div>
