<h1 id="class-portal">Portal</h1> <p><strong>Inherits:</strong> <a href="class_spatial.html#class-spatial"><span class="std std-ref">Spatial</span></a> <strong>&lt;</strong> <a href="class_node.html#class-node"><span class="std std-ref">Node</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p>Portal nodes are used to enable visibility between <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a>s.</p> <section id="description"> <h2>Description</h2> <p><code>Portal</code>s are a special type of <a href="class_meshinstance.html#class-meshinstance"><span class="std std-ref">MeshInstance</span></a> that allow the portal culling system to 'see' from one room to the next. They often correspond to doors and windows in level geometry. By only allowing <a href="class_camera.html#class-camera"><span class="std std-ref">Camera</span></a>s to see through portals, this allows the system to cull out all the objects in rooms that cannot be seen through portals. This is a form of <strong>occlusion culling</strong>, and can greatly increase performance.</p> <p>There are some limitations to the form of portals:</p> <p>They must be single sided convex polygons, and usually you would orientate their front faces <strong>outward</strong> from the <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a> they are placed in. The vertices should be positioned on a single plane (although their positioning does not have to be perfect).</p> <p>There is no need to place an opposite portal in an adjacent room, links are made two-way automatically.</p> </section> <section id="properties"> <h2>Properties</h2> <table class="docutils align-default">   <tr>
<td><p><a href="class_nodepath.html#class-nodepath"><span class="std std-ref">NodePath</span></a></p></td> <td><p><a href="#class-portal-property-linked-room"><span class="std std-ref">linked_room</span></a></p></td> <td><p><code>NodePath("")</code></p></td> </tr> <tr>
<td><p><a href="class_poolvector2array.html#class-poolvector2array"><span class="std std-ref">PoolVector2Array</span></a></p></td> <td><p><a href="#class-portal-property-points"><span class="std std-ref">points</span></a></p></td> <td><p><code>PoolVector2Array( 1, -1, 1, 1, -1, 1, -1, -1 )</code></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-portal-property-portal-active"><span class="std std-ref">portal_active</span></a></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-portal-property-portal-margin"><span class="std std-ref">portal_margin</span></a></p></td> <td><p><code>1.0</code></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-portal-property-two-way"><span class="std std-ref">two_way</span></a></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-portal-property-use-default-margin"><span class="std std-ref">use_default_margin</span></a></p></td> <td><p><code>true</code></p></td> </tr>  </table> </section> <section id="methods"> <h2>Methods</h2> <table class="docutils align-default">   <tr>
<td><p>void</p></td> <td><p><a href="#class-portal-method-set-point"><span class="std std-ref">set_point</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> index, <a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> position <strong>)</strong></p></td> </tr>  </table> </section> <section id="property-descriptions"> <h2>Property Descriptions</h2> <h3 id="class-portal-property-linked-room"><p><a href="class_nodepath.html#class-nodepath"><span class="std std-ref">NodePath</span></a> linked_room</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>NodePath("")</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_linked_room(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_linked_room()</p></td> </tr>  </table> <p>This is a shortcut for setting the linked <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a> in the name of the <code>Portal</code> (the name is used during conversion).</p>  <h3 id="class-portal-property-points"><p><a href="class_poolvector2array.html#class-poolvector2array"><span class="std std-ref">PoolVector2Array</span></a> points</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>PoolVector2Array( 1, -1, 1, 1, -1, 1, -1, -1 )</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_points(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_points()</p></td> </tr>  </table> <p>The points defining the shape of the <code>Portal</code> polygon (which should be convex).</p> <p>These are defined in 2D, with <code>0,0</code> being the origin of the <code>Portal</code> node's <a href="class_spatial.html#class-spatial-property-global-transform"><span class="std std-ref">Spatial.global_transform</span></a>.</p> <p><strong>Note:</strong> These raw points are sanitized for winding order internally.</p>  <h3 id="class-portal-property-portal-active"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> portal_active</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_portal_active(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_portal_active()</p></td> </tr>  </table> <p>Visibility through <code>Portal</code>s can be turned on and off at runtime - this is useful for having closable doors.</p>  <h3 id="class-portal-property-portal-margin"><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a> portal_margin</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>1.0</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_portal_margin(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_portal_margin()</p></td> </tr>  </table> <p>Some objects are so big that they may be present in more than one <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a> ('sprawling'). As we often don't want objects that *just* breach the edges to be assigned to neighbouring rooms, you can assign an extra margin through the <code>Portal</code> to allow objects to breach without sprawling.</p>  <h3 id="class-portal-property-two-way"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> two_way</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_two_way(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>is_two_way()</p></td> </tr>  </table> <p>Portals default to being two way - see through in both directions, however you can make them one way, visible from the source room only.</p>  <h3 id="class-portal-property-use-default-margin"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_default_margin</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_use_default_margin(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_use_default_margin()</p></td> </tr>  </table> <p>In most cases you will want to use the default <code>Portal</code> margin in your portals (this is set in the <a href="class_roommanager.html#class-roommanager"><span class="std std-ref">RoomManager</span></a>).</p> <p>If you want to override this default, set this value to <code>false</code>, and the local <a href="#class-portal-property-portal-margin"><span class="std std-ref">portal_margin</span></a> will take effect.</p> </section> <section id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-portal-method-set-point"><p>void set_point ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> index, <a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> position )</p></h3> <p>Sets individual points. Primarily for use by the editor.</p> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;2022 Juan Linietsky, Ariel Manzur, Godot Engine contributors<br>Licensed under the MIT License.<br>
    <a href="https://docs.godotengine.org/en/3.5/classes/class_portal.html" class="_attribution-link">https://docs.godotengine.org/en/3.5/classes/class_portal.html</a>
  </p>
</div>
