<h1 id="class-packetpeer">PacketPeer</h1> <p><strong>Inherits:</strong> <a href="class_reference.html#class-reference"><span class="std std-ref">Reference</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p><strong>Inherited By:</strong> <a href="class_networkedmultiplayerpeer.html#class-networkedmultiplayerpeer"><span class="std std-ref">NetworkedMultiplayerPeer</span></a>, <a href="class_packetpeerdtls.html#class-packetpeerdtls"><span class="std std-ref">PacketPeerDTLS</span></a>, <a href="class_packetpeergdnative.html#class-packetpeergdnative"><span class="std std-ref">PacketPeerGDNative</span></a>, <a href="class_packetpeerstream.html#class-packetpeerstream"><span class="std std-ref">PacketPeerStream</span></a>, <a href="class_packetpeerudp.html#class-packetpeerudp"><span class="std std-ref">PacketPeerUDP</span></a>, <a href="class_webrtcdatachannel.html#class-webrtcdatachannel"><span class="std std-ref">WebRTCDataChannel</span></a>, <a href="class_websocketpeer.html#class-websocketpeer"><span class="std std-ref">WebSocketPeer</span></a></p> <p>Abstraction and base class for packet-based protocols.</p> <section id="description"> <h2>Description</h2> <p>PacketPeer is an abstraction and base class for packet-based protocols (such as UDP). It provides an API for sending and receiving packets both as raw data or variables. This makes it easy to transfer data over a protocol, without having to encode data as low-level bytes or having to worry about network ordering.</p> </section> <section id="properties"> <h2>Properties</h2> <table class="docutils align-default">   <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-packetpeer-property-allow-object-decoding"><span class="std std-ref">allow_object_decoding</span></a></p></td> <td><p><code>false</code></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-packetpeer-property-encode-buffer-max-size"><span class="std std-ref">encode_buffer_max_size</span></a></p></td> <td><p><code>8388608</code></p></td> </tr>  </table> </section> <section id="methods"> <h2>Methods</h2> <table class="docutils align-default">   <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-packetpeer-method-get-available-packet-count"><span class="std std-ref">get_available_packet_count</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a></p></td> <td><p><a href="#class-packetpeer-method-get-packet"><span class="std std-ref">get_packet</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-packetpeer-method-get-packet-error"><span class="std std-ref">get_packet_error</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a></p></td> <td><p><a href="#class-packetpeer-method-get-var"><span class="std std-ref">get_var</span></a> <strong>(</strong> <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> allow_objects=false <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-packetpeer-method-put-packet"><span class="std std-ref">put_packet</span></a> <strong>(</strong> <a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> buffer <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-packetpeer-method-put-var"><span class="std std-ref">put_var</span></a> <strong>(</strong> <a href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a> var, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> full_objects=false <strong>)</strong></p></td> </tr>  </table> </section> <section id="property-descriptions"> <h2>Property Descriptions</h2> <h3 id="class-packetpeer-property-allow-object-decoding"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> allow_object_decoding</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>false</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_allow_object_decoding(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>is_object_decoding_allowed()</p></td> </tr>  </table> <p><em>Deprecated.</em> Use <code>get_var</code> and <code>put_var</code> parameters instead.</p> <p>If <code>true</code>, the PacketPeer will allow encoding and decoding of object via <a href="#class-packetpeer-method-get-var"><span class="std std-ref">get_var</span></a> and <a href="#class-packetpeer-method-put-var"><span class="std std-ref">put_var</span></a>.</p> <p><strong>Warning:</strong> Deserialized objects can contain code which gets executed. Do not use this option if the serialized object comes from untrusted sources to avoid potential security threats such as remote code execution.</p>  <h3 id="class-packetpeer-property-encode-buffer-max-size"><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a> encode_buffer_max_size</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>8388608</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_encode_buffer_max_size(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_encode_buffer_max_size()</p></td> </tr>  </table> <p>Maximum buffer size allowed when encoding <a href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a>s. Raise this value to support heavier memory allocations.</p> <p>The <a href="#class-packetpeer-method-put-var"><span class="std std-ref">put_var</span></a> method allocates memory on the stack, and the buffer used will grow automatically to the closest power of two to match the size of the <a href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a>. If the <a href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a> is bigger than <code>encode_buffer_max_size</code>, the method will error out with <a href="class_%40globalscope.html#class-globalscope-constant-err-out-of-memory"><span class="std std-ref">@GlobalScope.ERR_OUT_OF_MEMORY</span></a>.</p> </section> <section id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-packetpeer-method-get-available-packet-count"><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_available_packet_count ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the number of packets currently available in the ring-buffer.</p>  <h3 id="class-packetpeer-method-get-packet"><p><a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> get_packet ( )</p></h3> <p>Gets a raw packet.</p>  <h3 id="class-packetpeer-method-get-packet-error"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> get_packet_error ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the error state of the last packet received (via <a href="#class-packetpeer-method-get-packet"><span class="std std-ref">get_packet</span></a> and <a href="#class-packetpeer-method-get-var"><span class="std std-ref">get_var</span></a>).</p>  <h3 id="class-packetpeer-method-get-var"><p><a href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a> get_var ( <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> allow_objects=false )</p></h3> <p>Gets a Variant. If <code>allow_objects</code> (or <a href="#class-packetpeer-property-allow-object-decoding"><span class="std std-ref">allow_object_decoding</span></a>) is <code>true</code>, decoding objects is allowed.</p> <p><strong>Warning:</strong> Deserialized objects can contain code which gets executed. Do not use this option if the serialized object comes from untrusted sources to avoid potential security threats such as remote code execution.</p>  <h3 id="class-packetpeer-method-put-packet"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> put_packet ( <a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> buffer )</p></h3> <p>Sends a raw packet.</p>  <h3 id="class-packetpeer-method-put-var"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> put_var ( <a href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a> var, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> full_objects=false )</p></h3> <p>Sends a <a href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a> as a packet. If <code>full_objects</code> (or <a href="#class-packetpeer-property-allow-object-decoding"><span class="std std-ref">allow_object_decoding</span></a>) is <code>true</code>, encoding objects is allowed (and can potentially include code).</p> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;2022 Juan Linietsky, Ariel Manzur, Godot Engine contributors<br>Licensed under the MIT License.<br>
    <a href="https://docs.godotengine.org/en/3.5/classes/class_packetpeer.html" class="_attribution-link">https://docs.godotengine.org/en/3.5/classes/class_packetpeer.html</a>
  </p>
</div>
