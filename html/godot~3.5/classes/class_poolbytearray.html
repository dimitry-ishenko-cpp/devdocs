<h1 id="class-poolbytearray">PoolByteArray</h1> <p>A pooled array of bytes.</p> <section id="description"> <h2>Description</h2> <p>An array specifically designed to hold bytes. Optimized for memory usage, does not fragment the memory.</p> <p><strong>Note:</strong> This type is passed by value and not by reference. This means that when <em>mutating</em> a class property of type <code>PoolByteArray</code> or mutating a <code>PoolByteArray</code> within an <a href="class_array.html#class-array"><span class="std std-ref">Array</span></a> or <a href="class_dictionary.html#class-dictionary"><span class="std std-ref">Dictionary</span></a>, changes will be lost:</p> <pre data-language="gdscript">var array = [PoolByteArray()]
array[0].push_back(123)
print(array)  # [[]] (empty PoolByteArray within an Array)
</pre> <p>Instead, the entire <code>PoolByteArray</code> property must be <em>reassigned</em> with <code>=</code> for it to be changed:</p> <pre data-language="gdscript">var array = [PoolByteArray()]
var pool_array = array[0]
pool_array.push_back(123)
array[0] = pool_array
print(array)  # [[123]] (PoolByteArray with 1 element inside an Array)
</pre> </section> <section id="methods"> <h2>Methods</h2> <table class="docutils align-default">   <tr>
<td><p><a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a></p></td> <td><p><a href="#class-poolbytearray-method-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> <strong>(</strong> <a href="class_array.html#class-array"><span class="std std-ref">Array</span></a> from <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-poolbytearray-method-append"><span class="std std-ref">append</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> byte <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-poolbytearray-method-append-array"><span class="std std-ref">append_array</span></a> <strong>(</strong> <a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> array <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a></p></td> <td><p><a href="#class-poolbytearray-method-compress"><span class="std std-ref">compress</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> compression_mode=0 <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-poolbytearray-method-count"><span class="std std-ref">count</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a></p></td> <td><p><a href="#class-poolbytearray-method-decompress"><span class="std std-ref">decompress</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> buffer_size, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> compression_mode=0 <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a></p></td> <td><p><a href="#class-poolbytearray-method-decompress-dynamic"><span class="std std-ref">decompress_dynamic</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> max_output_size, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> compression_mode=0 <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-poolbytearray-method-empty"><span class="std std-ref">empty</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-poolbytearray-method-fill"><span class="std std-ref">fill</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> byte <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-poolbytearray-method-find"><span class="std std-ref">find</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> from=0 <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td> <td><p><a href="#class-poolbytearray-method-get-string-from-ascii"><span class="std std-ref">get_string_from_ascii</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td> <td><p><a href="#class-poolbytearray-method-get-string-from-utf8"><span class="std std-ref">get_string_from_utf8</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-poolbytearray-method-has"><span class="std std-ref">has</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td> <td><p><a href="#class-poolbytearray-method-hex-encode"><span class="std std-ref">hex_encode</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-poolbytearray-method-insert"><span class="std std-ref">insert</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> byte <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-poolbytearray-method-invert"><span class="std std-ref">invert</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-poolbytearray-method-push-back"><span class="std std-ref">push_back</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> byte <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-poolbytearray-method-remove"><span class="std std-ref">remove</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-poolbytearray-method-resize"><span class="std std-ref">resize</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-poolbytearray-method-rfind"><span class="std std-ref">rfind</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> from=-1 <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-poolbytearray-method-set"><span class="std std-ref">set</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> byte <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-poolbytearray-method-size"><span class="std std-ref">size</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-poolbytearray-method-sort"><span class="std std-ref">sort</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a></p></td> <td><p><a href="#class-poolbytearray-method-subarray"><span class="std std-ref">subarray</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> from, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> to <strong>)</strong></p></td> </tr>  </table> </section> <section id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-poolbytearray-method-poolbytearray"><p><a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> PoolByteArray ( <a href="class_array.html#class-array"><span class="std std-ref">Array</span></a> from )</p></h3> <p>Constructs a new <code>PoolByteArray</code>. Optionally, you can pass in a generic <a href="class_array.html#class-array"><span class="std std-ref">Array</span></a> that will be converted.</p>  <h3 id="class-poolbytearray-method-append"><p>void append ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> byte )</p></h3> <p>Appends an element at the end of the array (alias of <a href="#class-poolbytearray-method-push-back"><span class="std std-ref">push_back</span></a>).</p>  <h3 id="class-poolbytearray-method-append-array"><p>void append_array ( <a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> array )</p></h3> <p>Appends a <code>PoolByteArray</code> at the end of this array.</p>  <h3 id="class-poolbytearray-method-compress"><p><a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> compress ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> compression_mode=0 )</p></h3> <p>Returns a new <code>PoolByteArray</code> with the data compressed. Set the compression mode using one of <a href="class_file.html#enum-file-compressionmode"><span class="std std-ref">CompressionMode</span></a>'s constants.</p>  <h3 id="class-poolbytearray-method-count"><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a> count ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value )</p></h3> <p>Returns the number of times an element is in the array.</p>  <h3 id="class-poolbytearray-method-decompress"><p><a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> decompress ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> buffer_size, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> compression_mode=0 )</p></h3> <p>Returns a new <code>PoolByteArray</code> with the data decompressed. Set <code>buffer_size</code> to the size of the uncompressed data. Set the compression mode using one of <a href="class_file.html#enum-file-compressionmode"><span class="std std-ref">CompressionMode</span></a>'s constants.</p>  <h3 id="class-poolbytearray-method-decompress-dynamic"><p><a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> decompress_dynamic ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> max_output_size, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> compression_mode=0 )</p></h3> <p>Returns a new <code>PoolByteArray</code> with the data decompressed. Set the compression mode using one of <a href="class_file.html#enum-file-compressionmode"><span class="std std-ref">CompressionMode</span></a>'s constants. <strong>This method only accepts gzip and deflate compression modes.</strong></p> <p>This method is potentially slower than <code>decompress</code>, as it may have to re-allocate its output buffer multiple times while decompressing, where as <code>decompress</code> knows its output buffer size from the beginning.</p> <p>GZIP has a maximal compression ratio of 1032:1, meaning it's very possible for a small compressed payload to decompress to a potentially very large output. To guard against this, you may provide a maximum size this function is allowed to allocate in bytes via <code>max_output_size</code>. Passing -1 will allow for unbounded output. If any positive value is passed, and the decompression exceeds that amount in bytes, then an error will be returned.</p>  <h3 id="class-poolbytearray-method-empty"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> empty ( )</p></h3> <p>Returns <code>true</code> if the array is empty.</p>  <h3 id="class-poolbytearray-method-fill"><p>void fill ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> byte )</p></h3> <p>Assigns the given value to all elements in the array. This can typically be used together with <a href="#class-poolbytearray-method-resize"><span class="std std-ref">resize</span></a> to create an array with a given size and initialized elements.</p>  <h3 id="class-poolbytearray-method-find"><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a> find ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> from=0 )</p></h3> <p>Searches the array for a value and returns its index or <code>-1</code> if not found. Optionally, the initial search index can be passed. Returns <code>-1</code> if <code>from</code> is out of bounds.</p>  <h3 id="class-poolbytearray-method-get-string-from-ascii"><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a> get_string_from_ascii ( )</p></h3> <p>Returns a copy of the array's contents as <a href="class_string.html#class-string"><span class="std std-ref">String</span></a>. Fast alternative to <a href="#class-poolbytearray-method-get-string-from-utf8"><span class="std std-ref">get_string_from_utf8</span></a> if the content is ASCII-only. Unlike the UTF-8 function this function maps every byte to a character in the array. Multibyte sequences will not be interpreted correctly. For parsing user input always use <a href="#class-poolbytearray-method-get-string-from-utf8"><span class="std std-ref">get_string_from_utf8</span></a>.</p>  <h3 id="class-poolbytearray-method-get-string-from-utf8"><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a> get_string_from_utf8 ( )</p></h3> <p>Returns a copy of the array's contents as <a href="class_string.html#class-string"><span class="std std-ref">String</span></a>. Slower than <a href="#class-poolbytearray-method-get-string-from-ascii"><span class="std std-ref">get_string_from_ascii</span></a> but supports UTF-8 encoded data. Use this function if you are unsure about the source of the data. For user input this function should always be preferred.</p>  <h3 id="class-poolbytearray-method-has"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> has ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value )</p></h3> <p>Returns <code>true</code> if the array contains the given value.</p> <p><strong>Note:</strong> This is equivalent to using the <code>in</code> operator.</p>  <h3 id="class-poolbytearray-method-hex-encode"><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a> hex_encode ( )</p></h3> <p>Returns a hexadecimal representation of this array as a <a href="class_string.html#class-string"><span class="std std-ref">String</span></a>.</p> <pre data-language="gdscript">var array = PoolByteArray([11, 46, 255])
print(array.hex_encode()) # Prints: 0b2eff
</pre>  <h3 id="class-poolbytearray-method-insert"><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a> insert ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> byte )</p></h3> <p>Inserts a new element at a given position in the array. The position must be valid, or at the end of the array (<code>idx == size()</code>).</p>  <h3 id="class-poolbytearray-method-invert"><p>void invert ( )</p></h3> <p>Reverses the order of the elements in the array.</p>  <h3 id="class-poolbytearray-method-push-back"><p>void push_back ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> byte )</p></h3> <p>Appends an element at the end of the array.</p>  <h3 id="class-poolbytearray-method-remove"><p>void remove ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx )</p></h3> <p>Removes an element from the array by index.</p>  <h3 id="class-poolbytearray-method-resize"><p>void resize ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx )</p></h3> <p>Sets the size of the array. If the array is grown, reserves elements at the end of the array. If the array is shrunk, truncates the array to the new size.</p> <p><strong>Note:</strong> Added elements are not automatically initialized to 0 and will contain garbage, i.e. indeterminate values.</p>  <h3 id="class-poolbytearray-method-rfind"><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a> rfind ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> from=-1 )</p></h3> <p>Searches the array in reverse order. Optionally, a start search index can be passed. If negative, the start index is considered relative to the end of the array. If the adjusted start index is out of bounds, this method searches from the end of the array.</p>  <h3 id="class-poolbytearray-method-set"><p>void set ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> byte )</p></h3> <p>Changes the byte at the given index.</p>  <h3 id="class-poolbytearray-method-size"><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a> size ( )</p></h3> <p>Returns the number of elements in the array.</p>  <h3 id="class-poolbytearray-method-sort"><p>void sort ( )</p></h3> <p>Sorts the elements of the array in ascending order.</p>  <h3 id="class-poolbytearray-method-subarray"><p><a href="#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> subarray ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> from, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> to )</p></h3> <p>Returns the slice of the <code>PoolByteArray</code> between indices (inclusive) as a new <code>PoolByteArray</code>. Any negative index is considered to be from the end of the array.</p> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;2022 Juan Linietsky, Ariel Manzur, Godot Engine contributors<br>Licensed under the MIT License.<br>
    <a href="https://docs.godotengine.org/en/3.5/classes/class_poolbytearray.html" class="_attribution-link">https://docs.godotengine.org/en/3.5/classes/class_poolbytearray.html</a>
  </p>
</div>
