<h1 id="class-cullinstance">CullInstance</h1> <p><strong>Inherits:</strong> <a href="class_spatial.html#class-spatial"><span class="std std-ref">Spatial</span></a> <strong>&lt;</strong> <a href="class_node.html#class-node"><span class="std std-ref">Node</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p><strong>Inherited By:</strong> <a href="class_visibilitynotifier.html#class-visibilitynotifier"><span class="std std-ref">VisibilityNotifier</span></a>, <a href="class_visualinstance.html#class-visualinstance"><span class="std std-ref">VisualInstance</span></a></p> <p>Parent of all nodes that can be culled by the Portal system.</p> <section id="description"> <h2>Description</h2> <p>Provides common functionality to nodes that can be culled by the <a href="class_portal.html#class-portal"><span class="std std-ref">Portal</span></a> system.</p> <p><code>Static</code> and <code>Dynamic</code> objects are the most efficiently managed objects in the system, but there are some caveats. They are expected to be present initially when <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a>s are converted using the <a href="class_roommanager.html#class-roommanager"><span class="std std-ref">RoomManager</span></a> <code>rooms_convert</code> function, and their lifetime should be the same as the game level (i.e. present until you call <code>rooms_clear</code> on the <a href="class_roommanager.html#class-roommanager"><span class="std std-ref">RoomManager</span></a>. Although you shouldn't create / delete these objects during gameplay, you can manage their visibility with the standard <code>hide</code> and <code>show</code> commands.</p> <p><code>Roaming</code> objects on the other hand, require extra processing to keep track of which <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a> they are within. This enables them to be culled effectively, wherever they are.</p> <p><code>Global</code> objects are not culled by the portal system, and use view frustum culling only.</p> <p>Objects that are not <code>Static</code> or <code>Dynamic</code> can be freely created and deleted during the lifetime of the game level.</p> </section> <section id="properties"> <h2>Properties</h2> <table class="docutils align-default">   <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-cullinstance-property-allow-merging"><span class="std std-ref">allow_merging</span></a></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-cullinstance-property-autoplace-priority"><span class="std std-ref">autoplace_priority</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-cullinstance-property-include-in-bound"><span class="std std-ref">include_in_bound</span></a></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><a href="#enum-cullinstance-portalmode"><span class="std std-ref">PortalMode</span></a></p></td> <td><p><a href="#class-cullinstance-property-portal-mode"><span class="std std-ref">portal_mode</span></a></p></td> <td><p><code>0</code></p></td> </tr>  </table> </section> <section id="enumerations"> <h2>Enumerations</h2> <p id="class-cullinstance-constant-portal-mode-ignore">enum <strong id="enum-cullinstance-portalmode">PortalMode</strong>:</p> <ul class="simple"> <li>
<strong>PORTAL_MODE_STATIC</strong> = <strong>0</strong> --- Use for instances within <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a>s that will <strong>not move</strong> - e.g. walls, floors.</li> </ul> <p><strong>Note:</strong> If you attempt to delete a <code>PORTAL_MODE_STATIC</code> instance while the room graph is loaded (converted), it will unload the room graph and deactivate portal culling. This is because the <strong>room graph</strong> data has been invalidated. You will need to reconvert the rooms using the <a href="class_roommanager.html#class-roommanager"><span class="std std-ref">RoomManager</span></a> to activate the system again.</p> <ul class="simple"> <li>
<strong>PORTAL_MODE_DYNAMIC</strong> = <strong>1</strong> --- Use for instances within rooms that will move but <strong>not change room</strong> - e.g. moving platforms.</li> </ul> <p><strong>Note:</strong> If you attempt to delete a <code>PORTAL_MODE_DYNAMIC</code> instance while the room graph is loaded (converted), it will unload the room graph and deactivate portal culling. This is because the <strong>room graph</strong> data has been invalidated. You will need to reconvert the rooms using the <a href="class_roommanager.html#class-roommanager"><span class="std std-ref">RoomManager</span></a> to activate the system again.</p> <ul class="simple"> <li>
<strong>PORTAL_MODE_ROAMING</strong> = <strong>2</strong> --- Use for instances that will move <strong>between</strong> <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a>s - e.g. players.</li> <li>
<strong>PORTAL_MODE_GLOBAL</strong> = <strong>3</strong> --- Use for instances that will be frustum culled only - e.g. first person weapon, debug.</li> <li>
<strong>PORTAL_MODE_IGNORE</strong> = <strong>4</strong> --- Use for instances that will not be shown at all - e.g. <strong>manual room bounds</strong> (specified by prefix <em>'Bound_'</em>).</li> </ul> </section> <section id="property-descriptions"> <h2>Property Descriptions</h2> <h3 id="class-cullinstance-property-allow-merging"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> allow_merging</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_allow_merging(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_allow_merging()</p></td> </tr>  </table> <p>This allows fine control over the mesh merging feature in the <a href="class_roommanager.html#class-roommanager"><span class="std std-ref">RoomManager</span></a>.</p> <p>Setting this option to <code>false</code> can be used to prevent an instance being merged.</p>  <h3 id="class-cullinstance-property-autoplace-priority"><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a> autoplace_priority</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_portal_autoplace_priority(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_portal_autoplace_priority()</p></td> </tr>  </table> <p>When set to <code>0</code>, <code>CullInstance</code>s will be autoplaced in the <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a> with the highest priority.</p> <p>When set to a value other than <code>0</code>, the system will attempt to autoplace in a <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a> with the <code>autoplace_priority</code>, if it is present.</p> <p>This can be used to control autoplacement of building exteriors in an outer <a href="class_roomgroup.html#class-roomgroup"><span class="std std-ref">RoomGroup</span></a>.</p>  <h3 id="class-cullinstance-property-include-in-bound"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> include_in_bound</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_include_in_bound(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_include_in_bound()</p></td> </tr>  </table> <p>When a manual bound has not been explicitly specified for a <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a>, the convex hull bound will be estimated from the geometry of the objects within the room. This setting determines whether the geometry of an object is included in this estimate of the room bound.</p> <p><strong>Note:</strong> This setting is only relevant when the object is set to <code>PORTAL_MODE_STATIC</code> or <code>PORTAL_MODE_DYNAMIC</code>, and for <a href="class_portal.html#class-portal"><span class="std std-ref">Portal</span></a>s.</p>  <h3 id="class-cullinstance-property-portal-mode"><p><a href="#enum-cullinstance-portalmode"><span class="std std-ref">PortalMode</span></a> portal_mode</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_portal_mode(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_portal_mode()</p></td> </tr>  </table> <p>When using <a href="class_room.html#class-room"><span class="std std-ref">Room</span></a>s and <a href="class_portal.html#class-portal"><span class="std std-ref">Portal</span></a>s, this specifies how the <code>CullInstance</code> is processed in the system.</p> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;2022 Juan Linietsky, Ariel Manzur, Godot Engine contributors<br>Licensed under the MIT License.<br>
    <a href="https://docs.godotengine.org/en/3.5/classes/class_cullinstance.html" class="_attribution-link">https://docs.godotengine.org/en/3.5/classes/class_cullinstance.html</a>
  </p>
</div>
