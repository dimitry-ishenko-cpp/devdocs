<h1 id="class-hmaccontext">HMACContext</h1> <p><strong>Inherits:</strong> <a href="class_reference.html#class-reference"><span class="std std-ref">Reference</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p>Used to create an HMAC for a message using a key.</p> <section id="description"> <h2>Description</h2> <p>The HMACContext class is useful for advanced HMAC use cases, such as streaming the message as it supports creating the message over time rather than providing it all at once.</p> <pre data-language="gdscript">extends Node
var ctx = HMACContext.new()

func _ready():
    var key = "supersecret".to_utf8()
    var err = ctx.start(HashingContext.HASH_SHA256, key)
    assert(err == OK)
    var msg1 = "this is ".to_utf8()
    var msg2 = "super duper secret".to_utf8()
    err = ctx.update(msg1)
    assert(err == OK)
    err = ctx.update(msg2)
    assert(err == OK)
    var hmac = ctx.finish()
    print(hmac.hex_encode())
</pre> <p>And in C# we can use the following.</p> <pre data-language="gdscript">using Godot;
using System;
using System.Diagnostics;

public class CryptoNode : Node
{
    private HMACContext ctx = new HMACContext();
    public override void _Ready()
    {
        PoolByteArray key = String("supersecret").to_utf8();
        Error err = ctx.Start(HashingContext.HASH_SHA256, key);
        GD.Assert(err == OK);
        PoolByteArray msg1 = String("this is ").to_utf8();
        PoolByteArray msg2 = String("super duper secret").to_utf8();
        err = ctx.Update(msg1);
        GD.Assert(err == OK);
        err = ctx.Update(msg2);
        GD.Assert(err == OK);
        PoolByteArray hmac = ctx.Finish();
        GD.Print(hmac.HexEncode());
    }
}
</pre> <p><strong>Note:</strong> Not available in HTML5 exports.</p> </section> <section id="methods"> <h2>Methods</h2> <table class="docutils align-default">   <tr>
<td><p><a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a></p></td> <td><p><a href="#class-hmaccontext-method-finish"><span class="std std-ref">finish</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-hmaccontext-method-start"><span class="std std-ref">start</span></a> <strong>(</strong> <a href="class_hashingcontext.html#enum-hashingcontext-hashtype"><span class="std std-ref">HashType</span></a> hash_type, <a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> key <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-hmaccontext-method-update"><span class="std std-ref">update</span></a> <strong>(</strong> <a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> data <strong>)</strong></p></td> </tr>  </table> </section> <section id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-hmaccontext-method-finish"><p><a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> finish ( )</p></h3> <p>Returns the resulting HMAC. If the HMAC failed, an empty <a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> is returned.</p>  <h3 id="class-hmaccontext-method-start"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> start ( <a href="class_hashingcontext.html#enum-hashingcontext-hashtype"><span class="std std-ref">HashType</span></a> hash_type, <a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> key )</p></h3> <p>Initializes the HMACContext. This method cannot be called again on the same HMACContext until <a href="#class-hmaccontext-method-finish"><span class="std std-ref">finish</span></a> has been called.</p>  <h3 id="class-hmaccontext-method-update"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> update ( <a href="class_poolbytearray.html#class-poolbytearray"><span class="std std-ref">PoolByteArray</span></a> data )</p></h3> <p>Updates the message to be HMACed. This can be called multiple times before <a href="#class-hmaccontext-method-finish"><span class="std std-ref">finish</span></a> is called to append <code>data</code> to the message, but cannot be called until <a href="#class-hmaccontext-method-start"><span class="std std-ref">start</span></a> has been called.</p> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;2022 Juan Linietsky, Ariel Manzur, Godot Engine contributors<br>Licensed under the MIT License.<br>
    <a href="https://docs.godotengine.org/en/3.5/classes/class_hmaccontext.html" class="_attribution-link">https://docs.godotengine.org/en/3.5/classes/class_hmaccontext.html</a>
  </p>
</div>
