<h1 id="class-geometryinstance">GeometryInstance</h1> <p><strong>Inherits:</strong> <a href="class_visualinstance.html#class-visualinstance"><span class="std std-ref">VisualInstance</span></a> <strong>&lt;</strong> <a href="class_cullinstance.html#class-cullinstance"><span class="std std-ref">CullInstance</span></a> <strong>&lt;</strong> <a href="class_spatial.html#class-spatial"><span class="std std-ref">Spatial</span></a> <strong>&lt;</strong> <a href="class_node.html#class-node"><span class="std std-ref">Node</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p><strong>Inherited By:</strong> <a href="class_cpuparticles.html#class-cpuparticles"><span class="std std-ref">CPUParticles</span></a>, <a href="class_csgshape.html#class-csgshape"><span class="std std-ref">CSGShape</span></a>, <a href="class_immediategeometry.html#class-immediategeometry"><span class="std std-ref">ImmediateGeometry</span></a>, <a href="class_label3d.html#class-label3d"><span class="std std-ref">Label3D</span></a>, <a href="class_meshinstance.html#class-meshinstance"><span class="std std-ref">MeshInstance</span></a>, <a href="class_multimeshinstance.html#class-multimeshinstance"><span class="std std-ref">MultiMeshInstance</span></a>, <a href="class_particles.html#class-particles"><span class="std std-ref">Particles</span></a>, <a href="class_spritebase3d.html#class-spritebase3d"><span class="std std-ref">SpriteBase3D</span></a></p> <p>Base node for geometry-based visual instances.</p> <section id="description"> <h2>Description</h2> <p>Base node for geometry-based visual instances. Shares some common functionality like visibility and custom materials.</p> </section> <section id="properties"> <h2>Properties</h2> <table class="docutils align-default">   <tr>
<td><p><a href="#enum-geometryinstance-shadowcastingsetting"><span class="std std-ref">ShadowCastingSetting</span></a></p></td> <td><p><a href="#class-geometryinstance-property-cast-shadow"><span class="std std-ref">cast_shadow</span></a></p></td> <td><p><code>1</code></p></td> </tr> <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-geometryinstance-property-extra-cull-margin"><span class="std std-ref">extra_cull_margin</span></a></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-geometryinstance-property-generate-lightmap"><span class="std std-ref">generate_lightmap</span></a></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><a href="#enum-geometryinstance-lightmapscale"><span class="std std-ref">LightmapScale</span></a></p></td> <td><p><a href="#class-geometryinstance-property-lightmap-scale"><span class="std std-ref">lightmap_scale</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-geometryinstance-property-lod-max-distance"><span class="std std-ref">lod_max_distance</span></a></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-geometryinstance-property-lod-max-hysteresis"><span class="std std-ref">lod_max_hysteresis</span></a></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-geometryinstance-property-lod-min-distance"><span class="std std-ref">lod_min_distance</span></a></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-geometryinstance-property-lod-min-hysteresis"><span class="std std-ref">lod_min_hysteresis</span></a></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><a href="class_material.html#class-material"><span class="std std-ref">Material</span></a></p></td> <td><p><a href="#class-geometryinstance-property-material-overlay"><span class="std std-ref">material_overlay</span></a></p></td> <td></td> </tr> <tr>
<td><p><a href="class_material.html#class-material"><span class="std std-ref">Material</span></a></p></td> <td><p><a href="#class-geometryinstance-property-material-override"><span class="std std-ref">material_override</span></a></p></td> <td></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-geometryinstance-property-use-in-baked-light"><span class="std std-ref">use_in_baked_light</span></a></p></td> <td><p><code>false</code></p></td> </tr>  </table> </section> <section id="methods"> <h2>Methods</h2> <table class="docutils align-default">   <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-geometryinstance-method-get-flag"><span class="std std-ref">get_flag</span></a> <strong>(</strong> <a href="#enum-geometryinstance-flags"><span class="std std-ref">Flags</span></a> flag <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-geometryinstance-method-set-custom-aabb"><span class="std std-ref">set_custom_aabb</span></a> <strong>(</strong> <a href="class_aabb.html#class-aabb"><span class="std std-ref">AABB</span></a> aabb <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-geometryinstance-method-set-flag"><span class="std std-ref">set_flag</span></a> <strong>(</strong> <a href="#enum-geometryinstance-flags"><span class="std std-ref">Flags</span></a> flag, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> value <strong>)</strong></p></td> </tr>  </table> </section> <section id="enumerations"> <h2>Enumerations</h2> <p id="class-geometryinstance-constant-lightmap-scale-max">enum <strong id="enum-geometryinstance-lightmapscale">LightmapScale</strong>:</p> <ul class="simple"> <li>
<strong>LIGHTMAP_SCALE_1X</strong> = <strong>0</strong> --- The generated lightmap texture will have the original size.</li> <li>
<strong>LIGHTMAP_SCALE_2X</strong> = <strong>1</strong> --- The generated lightmap texture will be twice as large, on each axis.</li> <li>
<strong>LIGHTMAP_SCALE_4X</strong> = <strong>2</strong> --- The generated lightmap texture will be 4 times as large, on each axis.</li> <li>
<strong>LIGHTMAP_SCALE_8X</strong> = <strong>3</strong> --- The generated lightmap texture will be 8 times as large, on each axis.</li> <li>
<strong>LIGHTMAP_SCALE_MAX</strong> = <strong>4</strong>
</li> </ul>  <p id="class-geometryinstance-constant-shadow-casting-setting-shadows-only">enum <strong id="enum-geometryinstance-shadowcastingsetting">ShadowCastingSetting</strong>:</p> <ul class="simple"> <li>
<strong>SHADOW_CASTING_SETTING_OFF</strong> = <strong>0</strong> --- Will not cast any shadows.</li> <li>
<strong>SHADOW_CASTING_SETTING_ON</strong> = <strong>1</strong> --- Will cast shadows from all visible faces in the GeometryInstance.</li> </ul> <p>Will take culling into account, so faces not being rendered will not be taken into account when shadow casting.</p> <ul class="simple"> <li>
<strong>SHADOW_CASTING_SETTING_DOUBLE_SIDED</strong> = <strong>2</strong> --- Will cast shadows from all visible faces in the GeometryInstance.</li> </ul> <p>Will not take culling into account, so all faces will be taken into account when shadow casting.</p> <ul class="simple"> <li>
<strong>SHADOW_CASTING_SETTING_SHADOWS_ONLY</strong> = <strong>3</strong> --- Will only show the shadows casted from this object.</li> </ul> <p>In other words, the actual mesh will not be visible, only the shadows casted from the mesh will be.</p>  <p id="class-geometryinstance-constant-flag-max">enum <strong id="enum-geometryinstance-flags">Flags</strong>:</p> <ul class="simple"> <li>
<strong>FLAG_USE_BAKED_LIGHT</strong> = <strong>0</strong> --- Will allow the GeometryInstance to be used when baking lights using a <a href="class_giprobe.html#class-giprobe"><span class="std std-ref">GIProbe</span></a> or <a href="class_bakedlightmap.html#class-bakedlightmap"><span class="std std-ref">BakedLightmap</span></a>.</li> <li>
<strong>FLAG_DRAW_NEXT_FRAME_IF_VISIBLE</strong> = <strong>1</strong> --- Unused in this class, exposed for consistency with <a href="class_visualserver.html#enum-visualserver-instanceflags"><span class="std std-ref">InstanceFlags</span></a>.</li> <li>
<strong>FLAG_MAX</strong> = <strong>2</strong> --- Represents the size of the <a href="#enum-geometryinstance-flags"><span class="std std-ref">Flags</span></a> enum.</li> </ul> </section> <section id="property-descriptions"> <h2>Property Descriptions</h2> <h3 id="class-geometryinstance-property-cast-shadow"><p><a href="#enum-geometryinstance-shadowcastingsetting"><span class="std std-ref">ShadowCastingSetting</span></a> cast_shadow</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>1</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_cast_shadows_setting(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_cast_shadows_setting()</p></td> </tr>  </table> <p>The selected shadow casting flag. See <a href="#enum-geometryinstance-shadowcastingsetting"><span class="std std-ref">ShadowCastingSetting</span></a> for possible values.</p>  <h3 id="class-geometryinstance-property-extra-cull-margin"><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a> extra_cull_margin</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_extra_cull_margin(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_extra_cull_margin()</p></td> </tr>  </table> <p>The extra distance added to the GeometryInstance's bounding box (<a href="class_aabb.html#class-aabb"><span class="std std-ref">AABB</span></a>) to increase its cull box.</p>  <h3 id="class-geometryinstance-property-generate-lightmap"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> generate_lightmap</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_generate_lightmap(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_generate_lightmap()</p></td> </tr>  </table> <p>When disabled, the mesh will be taken into account when computing indirect lighting, but the resulting lightmap will not be saved. Useful for emissive only materials or shadow casters.</p>  <h3 id="class-geometryinstance-property-lightmap-scale"><p><a href="#enum-geometryinstance-lightmapscale"><span class="std std-ref">LightmapScale</span></a> lightmap_scale</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_lightmap_scale(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_lightmap_scale()</p></td> </tr>  </table> <p>Scale factor for the generated baked lightmap. Useful for adding detail to certain mesh instances.</p>  <h3 id="class-geometryinstance-property-lod-max-distance"><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a> lod_max_distance</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_lod_max_distance(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_lod_max_distance()</p></td> </tr>  </table> <p>The GeometryInstance's max LOD distance.</p> <p><strong>Note:</strong> This property currently has no effect.</p>  <h3 id="class-geometryinstance-property-lod-max-hysteresis"><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a> lod_max_hysteresis</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_lod_max_hysteresis(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_lod_max_hysteresis()</p></td> </tr>  </table> <p>The GeometryInstance's max LOD margin.</p> <p><strong>Note:</strong> This property currently has no effect.</p>  <h3 id="class-geometryinstance-property-lod-min-distance"><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a> lod_min_distance</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_lod_min_distance(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_lod_min_distance()</p></td> </tr>  </table> <p>The GeometryInstance's min LOD distance.</p> <p><strong>Note:</strong> This property currently has no effect.</p>  <h3 id="class-geometryinstance-property-lod-min-hysteresis"><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a> lod_min_hysteresis</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_lod_min_hysteresis(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_lod_min_hysteresis()</p></td> </tr>  </table> <p>The GeometryInstance's min LOD margin.</p> <p><strong>Note:</strong> This property currently has no effect.</p>  <h3 id="class-geometryinstance-property-material-overlay"><p><a href="class_material.html#class-material"><span class="std std-ref">Material</span></a> material_overlay</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Setter</em></p></td> <td><p>set_material_overlay(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_material_overlay()</p></td> </tr>  </table> <p>The material overlay for the whole geometry.</p> <p>If a material is assigned to this property, it will be rendered on top of any other active material for all the surfaces.</p>  <h3 id="class-geometryinstance-property-material-override"><p><a href="class_material.html#class-material"><span class="std std-ref">Material</span></a> material_override</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Setter</em></p></td> <td><p>set_material_override(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_material_override()</p></td> </tr>  </table> <p>The material override for the whole geometry.</p> <p>If a material is assigned to this property, it will be used instead of any material set in any material slot of the mesh.</p>  <h3 id="class-geometryinstance-property-use-in-baked-light"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_in_baked_light</p></h3> <table class="docutils align-default">   <tr>
<td><p><em>Default</em></p></td> <td><p><code>false</code></p></td> </tr> <tr>
<td><p><em>Setter</em></p></td> <td><p>set_flag(value)</p></td> </tr> <tr>
<td><p><em>Getter</em></p></td> <td><p>get_flag()</p></td> </tr>  </table> <p>If <code>true</code>, this GeometryInstance will be used when baking lights using a <a href="class_giprobe.html#class-giprobe"><span class="std std-ref">GIProbe</span></a> or <a href="class_bakedlightmap.html#class-bakedlightmap"><span class="std std-ref">BakedLightmap</span></a>.</p> </section> <section id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-geometryinstance-method-get-flag"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> get_flag ( <a href="#enum-geometryinstance-flags"><span class="std std-ref">Flags</span></a> flag ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the <a href="#enum-geometryinstance-flags"><span class="std std-ref">Flags</span></a> that have been set for this object.</p>  <h3 id="class-geometryinstance-method-set-custom-aabb"><p>void set_custom_aabb ( <a href="class_aabb.html#class-aabb"><span class="std std-ref">AABB</span></a> aabb )</p></h3> <p>Overrides the bounding box of this node with a custom one. To remove it, set an <a href="class_aabb.html#class-aabb"><span class="std std-ref">AABB</span></a> with all fields set to zero.</p>  <h3 id="class-geometryinstance-method-set-flag"><p>void set_flag ( <a href="#enum-geometryinstance-flags"><span class="std std-ref">Flags</span></a> flag, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> value )</p></h3> <p>Sets the <a href="#enum-geometryinstance-flags"><span class="std std-ref">Flags</span></a> specified. See <a href="#enum-geometryinstance-flags"><span class="std std-ref">Flags</span></a> for options.</p> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;2022 Juan Linietsky, Ariel Manzur, Godot Engine contributors<br>Licensed under the MIT License.<br>
    <a href="https://docs.godotengine.org/en/3.5/classes/class_geometryinstance.html" class="_attribution-link">https://docs.godotengine.org/en/3.5/classes/class_geometryinstance.html</a>
  </p>
</div>
