<h1>Class elidable.elidable</h1>
<div class="links">
<a href="elidable%24.html">Companion object</a> â€¢ <a href="https://github.com/scala/scala/blob/v2.13.8/src/library/scala/annotation/elidable.scala#L79">Source code</a>
</div>
<h2 id="signature">
<div class="signature">
final class <a href="elidable.html">elidable</a>(val level: <a href="../int.html">Int</a>) extends <a href="constantannotation.html">ConstantAnnotation</a>
</div>
</h2>
<p>An annotation for methods whose bodies may be excluded from compiler-generated bytecode.</p>
<p>Behavior is influenced by passing <code>-Xelide-below &lt;arg&gt;</code> to <code>scalac</code>. Calls to methods marked elidable (as well as the method body) will be omitted from generated code if the priority given the annotation is lower than that given on the command line.</p>
<pre data-language="scala">@elidable(123)           // annotation priority
scalac -Xelide-below 456 // command line priority</pre>
<p>The method call will be replaced with an expression which depends on the type of the elided expression. In decreasing order of precedence:</p>
<pre data-language="scala">Unit            ()
Boolean         false
T &lt;: AnyVal     0
T &gt;: Null       null
T &gt;: Nothing    Predef.???</pre>
<p>Complete example:</p>
<pre data-language="scala">import scala.annotation._, elidable._
object Test extends App {
  def expensiveComputation(): Int = { Thread.sleep(1000) ; 172 }

  @elidable(WARNING) def warning(msg: String) = println(msg)
  @elidable(FINE) def debug(msg: String)      = println(msg)
  @elidable(FINE) def computedValue           = expensiveComputation()

  warning("Warning! Danger! Warning!")
  debug("Debug! Danger! Debug!")
  println("I computed a value: " + computedValue)
}
% scalac example.scala &amp;&amp; scala Test
Warning! Danger! Warning!
Debug! Danger! Debug!
I computed a value: 172

// INFO lies between WARNING and FINE
% scalac -Xelide-below INFO example.scala &amp;&amp; scala Test
Warning! Danger! Warning!
I computed a value: 0</pre>
<p>Note that only concrete methods can be marked <code>@elidable</code>. A non-annotated method is not elided, even if it overrides / implements a method that has the annotation.</p>
<p>Also note that the static type determines which annotations are considered:</p>
<pre data-language="scala">import scala.annotation._, elidable._
class C { @elidable(0) def f(): Unit = ??? }
object O extends C { override def f(): Unit = println("O.f") }
object Test extends App {
  O.f()      // not elided
  (O: C).f() // elided if compiled with `-Xelide-below 1`
}</pre>
<table class="attributes"><tr>
<th>Supertypes</th>
<td><div class="related-types">
<div class="member">trait <a href="constantannotation.html">ConstantAnnotation</a>
</div>
<div class="member">trait <a href="staticannotation.html">StaticAnnotation</a>
</div>
<div class="member">class <a href="annotation.html">Annotation</a>
</div>
<div class="member">class <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a>
</div>
<div class="member">trait <a href="../matchable.html">Matchable</a>
</div>
<div class="member">class <a href="../any.html">Any</a>
</div>
</div></td>
</tr></table>
<h2>Concrete fields</h2>
<h3 id="level-0">
<a href="https://github.com/scala/scala/blob/v2.13.8/src/library/scala/annotation/elidable.scala#L79" class="source-link">Source</a><div class="signature">
final val <a href="elidable.html#level-0">level</a>: <a href="../int.html">Int</a>
</div>
</h3>




<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2002-2022 EPFL, with contributions from Lightbend.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://scala-lang.org/api/3.2.0/scala/annotation/elidable.html" class="_attribution-link">https://scala-lang.org/api/3.2.0/scala/annotation/elidable.html</a>
  </p>
</div>
