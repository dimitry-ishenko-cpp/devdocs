<header> <div class="tsd-page-title"> <div class="container">  <h1> NodePackageImporter</h1> </div> </div> </header> <div class="container container-main"> <div class="col-content"> <section class="tsd-panel tsd-comment"> <div class="tsd-comment tsd-typography">
<dl class="impl-status sl-c-description-list sl-c-description-list--horizontal"> <div class="compatibility"> Compatibility: </div>
<div> <dt>Dart Sass</dt> <dd>since 1.71.0</dd> </div>
<div> <dt>Node Sass</dt> <dd>âœ—</dd> </div>
</dl>
<p>The built-in Node.js package importer. This loads pkg: URLs from node_modules according to the standard Node.js resolution algorithm.</p> <p>A Node.js package importer is exposed as a class that can be added to the <code>importers</code> option.</p> <pre><code class="language-js"><span class="hl-0">const</span><span class="hl-2">sass</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">'sass'</span><span class="hl-1">);</span><br><span class="hl-5">sass</span><span class="hl-1">.</span><span class="hl-3">compileString</span><span class="hl-1">(</span><span class="hl-4">'@use "pkg:vuetify'</span><span class="hl-1">, {</span><br><span class="hl-5">importers:</span><span class="hl-1"> [</span><span class="hl-0">new</span><span class="hl-5">sass</span><span class="hl-1">.</span><span class="hl-3">NodePackageImporter</span><span class="hl-1">()]</span><br><span class="hl-1">});</span>
</code><button>Copy</button></pre> <h2><a href="#md:writing-sass-packages">Writing Sass packages</a></h2>
<p>Package authors can control what is exposed to their users through their <code>package.json</code> manifest. The recommended method is to add a <code>sass</code> conditional export to <code>package.json</code>.</p> <pre><code class="language-json"><span class="hl-6">// node_modules/uicomponents/package.json</span><br><span class="hl-1">{</span><br><span class="hl-11">"exports"</span><span class="hl-1">: {</span><br><span class="hl-11">"."</span><span class="hl-1">: {</span><br><span class="hl-11">"sass"</span><span class="hl-1">: </span><span class="hl-4">"./src/scss/index.scss"</span><span class="hl-1">,</span><br><span class="hl-11">"import"</span><span class="hl-1">: </span><span class="hl-4">"./dist/js/index.mjs"</span><span class="hl-1">,</span><br><span class="hl-11">"default"</span><span class="hl-1">: </span><span class="hl-4">"./dist/js/index.js"</span><br><span class="hl-1">    }</span><br><span class="hl-1">  }</span><br><span class="hl-1">}</span>
</code><button>Copy</button></pre> <p>This allows a package user to write <code>@use "pkg:uicomponents"</code> to load the file at <code>node_modules/uicomponents/src/scss/index.scss</code>.</p> <p>The Node.js package importer supports the variety of formats supported by Node.js <a href="https://nodejs.org/api/packages.html#package-entry-points">package entry points</a>, allowing authors to expose multiple subpaths.</p> <pre><code class="language-json"><span class="hl-6">// node_modules/uicomponents/package.json</span><br><span class="hl-1">{</span><br><span class="hl-11">"exports"</span><span class="hl-1">: {</span><br><span class="hl-11">"."</span><span class="hl-1">: {</span><br><span class="hl-11">"sass"</span><span class="hl-1">: </span><span class="hl-4">"./src/scss/index.scss"</span><span class="hl-1">,</span><br><span class="hl-1">    },</span><br><span class="hl-11">"./colors.scss"</span><span class="hl-1">: {</span><br><span class="hl-11">"sass"</span><span class="hl-1">: </span><span class="hl-4">"./src/scss/_colors.scss"</span><span class="hl-1">,</span><br><span class="hl-1">    },</span><br><span class="hl-11">"./theme/*.scss"</span><span class="hl-1">: {</span><br><span class="hl-11">"sass"</span><span class="hl-1">: </span><span class="hl-4">"./src/scss/theme/*.scss"</span><span class="hl-1">,</span><br><span class="hl-1">    },</span><br><span class="hl-1">  }</span><br><span class="hl-1">}</span>
</code><button>Copy</button></pre> <p>This allows a package user to write:</p> <ul> <li>
<code>@use "pkg:uicomponents";</code> to import the root export.</li> <li>
<code>@use "pkg:uicomponents/colors";</code> to import the colors partial.</li> <li>
<code>@use "pkg:uicomponents/theme/purple";</code> to import a purple theme.</li> </ul> <p>Note that while library users can rely on the importer to resolve <a href="../../at-rules/use.html#partials">partials</a>, <a href="../../at-rules/use.html#index-files">index files</a>, and extensions, library authors must specify the entire file path in <code>exports</code>.</p> <p>In addition to the <code>sass</code> condition, the <code>style</code> condition is also acceptable. Sass will match the <code>default</code> condition if it's a relevant file type, but authors are discouraged from relying on this. Notably, the key order matters, and the importer will resolve to the first value with a key that is <code>sass</code>, <code>style</code>, or <code>default</code>, so you should always put <code>default</code> last.</p> <p>To help package authors who haven't transitioned to package entry points using the <code>exports</code> field, the Node.js package importer provides several fallback options. If the <code>pkg:</code> <span class="caps">URL</span> does not have a subpath, the Node.js package importer will look for a <code>sass</code> or <code>style</code> key at the root of <code>package.json</code>.</p> <pre><code class="language-json"><span class="hl-6">// node_modules/uicomponents/package.json</span><br><span class="hl-1">{</span><br><span class="hl-11">"sass"</span><span class="hl-1">: </span><span class="hl-4">"./src/scss/index.scss"</span><span class="hl-1">,</span><br><span class="hl-1">}</span>
</code><button>Copy</button></pre> <p>This allows a user to write <code>@use "pkg:uicomponents";</code> to import the <code>index.scss</code> file.</p> <p>Finally, the Node.js package importer will look for an <code>index</code> file at the package root, resolving partials and extensions. For example, if the file <code>_index.scss</code> exists in the package root of <code>uicomponents</code>, a user can import that with <code>@use "pkg:uicomponents";</code>.</p> <p>If a <code>pkg:</code> <span class="caps">URL</span> includes a subpath that doesn't have a match in package entry points, the Node.js importer will attempt to find that file relative to the package root, resolving for file extensions, partials and index files. For example, if the file <code>src/sass/_colors.scss</code> exists in the <code>uicomponents</code> package, a user can import that file using <code>@use "pkg:uicomponents/src/sass/colors";</code>.</p> </div></section> <section class="tsd-panel tsd-hierarchy"> <h4>Hierarchy</h4> <ul class="tsd-hierarchy"> <li><span class="target">NodePackageImporter</span></li>
</ul></section><aside class="tsd-sources"> <ul> <li>Defined in <a href="https://github.com/sass/sass/blob/2454cb9/js-api-doc/importer.d.ts#L421">js-api-doc/importer.d.ts:421</a>
</li>
</ul></aside> <section class="tsd-panel-group tsd-index-group"> <section class="tsd-panel tsd-index-panel"> <details class="tsd-index-content tsd-index-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"> <h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabindex="0">
 Index</h5></summary> <div class="tsd-accordion-details"> <section class="tsd-index-section"> <h3 class="tsd-index-heading">Constructors</h3> <div class="tsd-index-list">
<a href="nodepackageimporter.html#constructor" class="tsd-index-link"><span>constructor</span></a> </div></section> <section class="tsd-index-section"> <h3 class="tsd-index-heading">Properties</h3> <div class="tsd-index-list">
<a href="nodepackageimporter.html#_nodePackageImporterKey_" class="tsd-index-link tsd-is-private"><span>[nodePackageImporterKey]</span></a> </div></section>
</div></details></section></section> <section class="tsd-panel-group tsd-member-group"> <h2>Constructors</h2> <section class="tsd-panel tsd-member"> <h3 class="tsd-anchor-link">
<span>constructor</span>
</h3> <ul class="tsd-signatures"> <li class="tsd-signature tsd-anchor-link" id="constructor.new_NodePackageImporter">
<span class="tsd-kind-constructor-signature">new NodePackageImporter</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">entryPointDirectory</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="nodepackageimporter.html" class="tsd-signature-type tsd-kind-class">NodePackageImporter</a>
</li> <li class="tsd-description"> <div class="tsd-comment tsd-typography">
<p>The NodePackageImporter has an optional <code>entryPointDirectory</code> option, which is the directory where the Node Package Importer should start when resolving <code>pkg:</code> URLs in sources other than files on disk. This will be used as the <code>parentURL</code> in the <a href="https://nodejs.org/api/esm.html#resolution-algorithm-specification">Node Module Resolution</a> algorithm.</p> <p>In order to be found by the Node Package Importer, a package will need to be inside a node_modules folder located in the <code>entryPointDirectory</code>, or one of its parent directories, up to the filesystem root.</p> <p>Relative paths will be resolved relative to the current working directory. If a path is not provided, this defaults to the parent directory of the Node.js entrypoint. If that's not available, this will throw an error.</p> </div> <div class="tsd-parameters"> <h4 class="tsd-parameters-title">Parameters</h4> <ul class="tsd-parameter-list"> <li> <h5>
<code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">entryPointDirectory</span>: <span class="tsd-signature-type">string</span>
</h5>
</li>
</ul>
</div> <h4 class="tsd-returns-title">Returns <a href="nodepackageimporter.html" class="tsd-signature-type tsd-kind-class">NodePackageImporter</a>
</h4>
<aside class="tsd-sources"> <ul> <li>Defined in <a href="https://github.com/sass/sass/blob/2454cb9/js-api-doc/importer.d.ts#L441">js-api-doc/importer.d.ts:441</a>
</li>
</ul></aside>
</li>
</ul></section></section> <section class="tsd-panel-group tsd-member-group"> <h2>Properties</h2> <section class="tsd-panel tsd-member tsd-is-private"> <h3 class="tsd-anchor-link">
<code class="tsd-tag ts-flagPrivate">Private</code> <code class="tsd-tag ts-flagReadonly">Readonly</code> <span>[nodePackageImporterKey]</span>
</h3> <div class="tsd-signature">
<span class="tsd-kind-property">[nodePackageImporterKey]</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">true</span>
</div> <div class="tsd-comment tsd-typography">
<p>Used to distinguish this type from any arbitrary object.</p> </div>
<aside class="tsd-sources"> <ul> <li>Defined in <a href="https://github.com/sass/sass/blob/2454cb9/js-api-doc/importer.d.ts#L423">js-api-doc/importer.d.ts:423</a>
</li>
</ul></aside></section></section> </div> <div class="col-sidebar"> <div class="site-menu"> <nav class="tsd-navigation"><a href="../modules.html"><span>sass</span></a> <ul class="tsd-small-nested-navigation"> <li> <details class="tsd-index-accordion" data-key="Compile"><summary class="tsd-accordion-summary"><span>Compile</span></summary> <div class="tsd-accordion-details"> <ul class="tsd-nested-navigation"> <li><a href="asynccompiler.html"><span>AsyncCompiler</span></a></li> <li><a href="compiler.html"><span>Compiler</span></a></li> <li><a href="../interfaces/compileresult.html"><span>CompileResult</span></a></li> <li><a href="../functions/compile.html"><span>compile</span></a></li> <li><a href="../functions/compileasync.html"><span>compileAsync</span></a></li> <li><a href="../functions/compilestring.html"><span>compileString</span></a></li> <li><a href="../functions/compilestringasync.html"><span>compileStringAsync</span></a></li> <li><a href="../functions/initasynccompiler.html"><span>initAsyncCompiler</span></a></li> <li><a href="../functions/initcompiler.html"><span>initCompiler</span></a></li>
</ul>
</div></details>
</li> <li> <details class="tsd-index-accordion" data-key="Options"><summary class="tsd-accordion-summary"><span>Options</span></summary> <div class="tsd-accordion-details"> <ul class="tsd-nested-navigation"> <li><a href="../interfaces/options.html"><span>Options</span></a></li> <li><a href="../interfaces/stringoptions.html"><span>StringOptions</span></a></li> <li><a href="../types/outputstyle.html"><span>OutputStyle</span></a></li> <li><a href="../types/stringoptionswithimporter.html" class="deprecated"><span>StringOptionsWithImporter</span></a></li> <li><a href="../types/stringoptionswithoutimporter.html" class="deprecated"><span>StringOptionsWithoutImporter</span></a></li> <li><a href="../types/syntax.html"><span>Syntax</span></a></li>
</ul>
</div></details>
</li> <li> <details class="tsd-index-accordion" data-key="Logger"><summary class="tsd-accordion-summary"><span>Logger</span></summary> <div class="tsd-accordion-details"> <ul class="tsd-nested-navigation"> <li> <details class="tsd-index-accordion" data-key="Logger"><summary class="tsd-accordion-summary"><a href="../modules/logger.html"><span>Logger</span></a></summary> <div class="tsd-accordion-details"> <ul class="tsd-nested-navigation"> <li><a href="../variables/logger.silent.html"><span>silent</span></a></li>
</ul>
</div></details>
</li> <li><a href="../interfaces/logger-1.html"><span>Logger</span></a></li> <li><a href="../interfaces/sourcelocation.html"><span>SourceLocation</span></a></li> <li><a href="../interfaces/sourcespan.html"><span>SourceSpan</span></a></li> <li><a href="../types/loggerwarnoptions.html"><span>LoggerWarnOptions</span></a></li>
</ul>
</div></details>
</li> <li> <details class="tsd-index-accordion" data-key="Importer"><summary class="tsd-accordion-summary"><span>Importer</span></summary> <div class="tsd-accordion-details"> <ul class="tsd-nested-navigation"> <li><a href="nodepackageimporter.html" class="current"><span>NodePackageImporter</span></a></li> <li><a href="../interfaces/fileimporter.html"><span>FileImporter</span></a></li> <li><a href="../interfaces/importer.html"><span>Importer</span></a></li> <li><a href="../interfaces/importerresult.html"><span>ImporterResult</span></a></li>
</ul>
</div></details>
</li> <li> <details class="tsd-index-accordion" data-key="Custom Function"><summary class="tsd-accordion-summary"><span>Custom Function</span></summary> <div class="tsd-accordion-details"> <ul class="tsd-nested-navigation"> <li><a href="calculationinterpolation.html"><span>CalculationInterpolation</span></a></li> <li><a href="calculationoperation.html"><span>CalculationOperation</span></a></li> <li><a href="sassargumentlist.html"><span>SassArgumentList</span></a></li> <li><a href="sassboolean.html"><span>SassBoolean</span></a></li> <li><a href="sasscalculation.html"><span>SassCalculation</span></a></li> <li><a href="sasscolor.html"><span>SassColor</span></a></li> <li><a href="sassfunction.html"><span>SassFunction</span></a></li> <li><a href="sasslist.html"><span>SassList</span></a></li> <li><a href="sassmap.html"><span>SassMap</span></a></li> <li><a href="sassmixin.html"><span>SassMixin</span></a></li> <li><a href="sassnumber.html"><span>SassNumber</span></a></li> <li><a href="sassstring.html"><span>SassString</span></a></li> <li><a href="value.html"><span>Value</span></a></li> <li><a href="../types/calculationoperator.html"><span>CalculationOperator</span></a></li> <li><a href="../types/calculationvalue.html"><span>CalculationValue</span></a></li> <li><a href="../types/customfunction.html"><span>CustomFunction</span></a></li> <li><a href="../types/listseparator.html"><span>ListSeparator</span></a></li> <li><a href="../variables/sassfalse.html"><span>sassFalse</span></a></li> <li><a href="../variables/sassnull.html"><span>sassNull</span></a></li> <li><a href="../variables/sasstrue.html"><span>sassTrue</span></a></li>
</ul>
</div></details>
</li> <li> <details class="tsd-index-accordion" data-key="Other"><summary class="tsd-accordion-summary"><span>Other</span></summary> <div class="tsd-accordion-details"> <ul class="tsd-nested-navigation"> <li><a href="exception.html"><span>Exception</span></a></li> <li><a href="../interfaces/canonicalizecontext.html"><span>CanonicalizeContext</span></a></li> <li><a href="../interfaces/deprecations.html"><span>Deprecations</span></a></li> <li><a href="../interfaces/legacyfileoptions.html"><span>LegacyFileOptions</span></a></li> <li><a href="../types/channelname.html"><span>ChannelName</span></a></li> <li><a href="../types/channelnamehsl.html"><span>ChannelNameHsl</span></a></li> <li><a href="../types/channelnamehwb.html"><span>ChannelNameHwb</span></a></li> <li><a href="../types/channelnamelab.html"><span>ChannelNameLab</span></a></li> <li><a href="../types/channelnamelch.html"><span>ChannelNameLch</span></a></li> <li><a href="../types/channelnamergb.html"><span>ChannelNameRgb</span></a></li> <li><a href="../types/channelnamexyz.html"><span>ChannelNameXyz</span></a></li> <li><a href="../types/colorspacehsl.html"><span>ColorSpaceHsl</span></a></li> <li><a href="../types/colorspacehwb.html"><span>ColorSpaceHwb</span></a></li> <li><a href="../types/colorspacelab.html"><span>ColorSpaceLab</span></a></li> <li><a href="../types/colorspacelch.html"><span>ColorSpaceLch</span></a></li> <li><a href="../types/colorspacergb.html"><span>ColorSpaceRgb</span></a></li> <li><a href="../types/colorspacexyz.html"><span>ColorSpaceXyz</span></a></li> <li><a href="../types/gamutmapmethod.html"><span>GamutMapMethod</span></a></li> <li><a href="../types/hueinterpolationmethod.html"><span>HueInterpolationMethod</span></a></li> <li><a href="../types/knowncolorspace.html"><span>KnownColorSpace</span></a></li> <li><a href="../types/polarcolorspace.html"><span>PolarColorSpace</span></a></li> <li><a href="../types/promiseor.html"><span>PromiseOr</span></a></li> <li><a href="../types/rectangularcolorspace.html"><span>RectangularColorSpace</span></a></li> <li><a href="../variables/info.html"><span>info</span></a></li>
</ul>
</div></details>
</li> <li> <details class="tsd-index-accordion" data-key="Legacy"><summary class="tsd-accordion-summary"><span>Legacy</span></summary> <div class="tsd-accordion-details"> <ul class="tsd-nested-navigation"> <li> <details class="tsd-index-accordion deprecated" data-key="types"><summary class="tsd-accordion-summary"><a href="../modules/types.html"><span>types</span></a></summary> <div class="tsd-accordion-details"> <ul class="tsd-nested-navigation"> <li><a href="types.boolean.html" class="deprecated"><span>Boolean</span></a></li> <li><a href="types.color.html" class="deprecated"><span>Color</span></a></li> <li><a href="types.error.html" class="deprecated"><span>Error</span></a></li> <li><a href="types.list.html" class="deprecated"><span>List</span></a></li> <li><a href="types.map.html" class="deprecated"><span>Map</span></a></li> <li><a href="types.null.html" class="deprecated"><span>Null</span></a></li> <li><a href="types.number.html" class="deprecated"><span>Number</span></a></li> <li><a href="types.string.html" class="deprecated"><span>String</span></a></li>
</ul>
</div></details>
</li> <li><a href="../interfaces/legacyexception.html" class="deprecated"><span>LegacyException</span></a></li> <li><a href="../interfaces/legacyimporterthis.html" class="deprecated"><span>LegacyImporterThis</span></a></li> <li><a href="../interfaces/legacypluginthis.html" class="deprecated"><span>LegacyPluginThis</span></a></li> <li><a href="../interfaces/legacyresult.html" class="deprecated"><span>LegacyResult</span></a></li> <li><a href="../interfaces/legacysharedoptions.html" class="deprecated"><span>LegacySharedOptions</span></a></li> <li><a href="../interfaces/legacystringoptions.html" class="deprecated"><span>LegacyStringOptions</span></a></li> <li><a href="../types/legacyasyncfunction.html" class="deprecated"><span>LegacyAsyncFunction</span></a></li> <li><a href="../types/legacyasyncfunctiondone.html"><span>LegacyAsyncFunctionDone</span></a></li> <li><a href="../types/legacyasyncimporter.html"><span>LegacyAsyncImporter</span></a></li> <li><a href="../types/legacyfunction.html" class="deprecated"><span>LegacyFunction</span></a></li> <li><a href="../types/legacyimporter.html" class="deprecated"><span>LegacyImporter</span></a></li> <li><a href="../types/legacyimporterresult.html" class="deprecated"><span>LegacyImporterResult</span></a></li> <li><a href="../types/legacyoptions.html" class="deprecated"><span>LegacyOptions</span></a></li> <li><a href="../types/legacysyncfunction.html"><span>LegacySyncFunction</span></a></li> <li><a href="../types/legacysyncimporter.html"><span>LegacySyncImporter</span></a></li> <li><a href="../types/legacyvalue.html" class="deprecated"><span>LegacyValue</span></a></li> <li><a href="../variables/false.html" class="deprecated"><span><span class="caps">FALSE</span></span></a></li> <li><a href="../variables/null.html" class="deprecated"><span><span class="caps">NULL</span></span></a></li> <li><a href="../variables/true.html" class="deprecated"><span><span class="caps">TRUE</span></span></a></li> <li><a href="../functions/render.html"><span>render</span></a></li> <li><a href="../functions/rendersync.html"><span>renderSync</span></a></li>
</ul>
</div></details>
</li> <li> <details class="tsd-index-accordion" data-key="Messages"><summary class="tsd-accordion-summary"><span>Messages</span></summary> <div class="tsd-accordion-details"> <ul class="tsd-nested-navigation"> <li><a href="version.html"><span>Version</span></a></li> <li><a href="../interfaces/deprecation.html"><span>Deprecation</span></a></li> <li><a href="../types/deprecationorid.html"><span>DeprecationOrId</span></a></li> <li><a href="../types/deprecationstatus.html"><span>DeprecationStatus</span></a></li> <li><a href="../variables/deprecations-1.html"><span>deprecations</span></a></li>
</ul>
</div></details>
</li>
</ul></nav> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2025 the Sass team, and numerous contributors<br>Licensed under the MIT License.<br>
    <a href="https://sass-lang.com/documentation/js-api/classes/NodePackageImporter" class="_attribution-link">https://sass-lang.com/documentation/js-api/classes/NodePackageImporter</a>
  </p>
</div>
