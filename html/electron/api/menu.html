<h1>Menu</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-menu">Class: Menu<a class="hash-link" href="#class-menu" title="Direct link to heading">​</a>
</h2>
<blockquote><p>Create native application menus and context menus.</p></blockquote>
<p>Process: <a href="../glossary.html#main-process">Main</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-menu">
<code>new Menu()</code><a class="hash-link" href="#new-menu" title="Direct link to heading">​</a>
</h3>
<p>Creates a new menu.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="static-methods">Static Methods<a class="hash-link" href="#static-methods" title="Direct link to heading">​</a>
</h3>
<p>The <code>Menu</code> class has the following static methods:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="menusetapplicationmenumenu">
<code>Menu.setApplicationMenu(menu)</code><a class="hash-link" href="#menusetapplicationmenumenu" title="Direct link to heading">​</a>
</h4>
<ul><li>
<code>menu</code> Menu | null</li></ul>
<p>Sets <code>menu</code> as the application menu on macOS. On Windows and Linux, the <code>menu</code> will be set as each window's top menu.</p>
<p>Also on Windows and Linux, you can use a <code>&amp;</code> in the top-level item name to indicate which letter should get a generated accelerator. For example, using <code>&amp;File</code> for the file menu would result in a generated <code>Alt-F</code> accelerator that opens the associated menu. The indicated character in the button label then gets an underline, and the <code>&amp;</code> character is not displayed on the button label.</p>
<p>In order to escape the <code>&amp;</code> character in an item name, add a proceeding <code>&amp;</code>. For example, <code>&amp;&amp;File</code> would result in <code>&amp;File</code> displayed on the button label.</p>
<p>Passing <code>null</code> will suppress the default menu. On Windows and Linux, this has the additional effect of removing the menu bar from the window.</p>
<p><strong>Note:</strong> The default menu will be created automatically if the app does not set one. It contains standard items such as <code>File</code>, <code>Edit</code>, <code>View</code>, <code>Window</code> and <code>Help</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="menugetapplicationmenu">
<code>Menu.getApplicationMenu()</code><a class="hash-link" href="#menugetapplicationmenu" title="Direct link to heading">​</a>
</h4>
<p>Returns <code>Menu | null</code> - The application menu, if set, or <code>null</code>, if not set.</p>
<p><strong>Note:</strong> The returned <code>Menu</code> instance doesn't support dynamic addition or removal of menu items. <a href="#instance-properties">Instance properties</a> can still be dynamically modified.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="menusendactiontofirstresponderaction-macos">
<code>Menu.sendActionToFirstResponder(action)</code> <em class="badge badge--primary">macOS</em><a class="hash-link" href="#menusendactiontofirstresponderaction-macos" title="Direct link to heading">​</a>
</h4>
<ul><li>
<code>action</code> string</li></ul>
<p>Sends the <code>action</code> to the first responder of application. This is used for emulating default macOS menu behaviors. Usually you would use the <a href="menu-item.html#roles"><code>role</code></a> property of a <a href="menu-item.html"><code>MenuItem</code></a>.</p>
<p>See the <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/EventOverview/EventArchitecture/EventArchitecture.html#//apple_ref/doc/uid/10000060i-CH3-SW7" target="_blank" rel="noopener noreferrer">macOS Cocoa Event Handling Guide</a> for more information on macOS' native actions.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="menubuildfromtemplatetemplate">
<code>Menu.buildFromTemplate(template)</code><a class="hash-link" href="#menubuildfromtemplatetemplate" title="Direct link to heading">​</a>
</h4>
<ul><li>
<code>template</code> (MenuItemConstructorOptions | MenuItem)[]</li></ul>
<p>Returns <code>Menu</code></p>
<p>Generally, the <code>template</code> is an array of <code>options</code> for constructing a <a href="menu-item.html">MenuItem</a>. The usage can be referenced above.</p>
<p>You can also attach other fields to the element of the <code>template</code> and they will become properties of the constructed menu items.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="instance-methods">Instance Methods<a class="hash-link" href="#instance-methods" title="Direct link to heading">​</a>
</h3>
<p>The <code>menu</code> object has the following instance methods:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="menupopupoptions">
<code>menu.popup([options])</code><a class="hash-link" href="#menupopupoptions" title="Direct link to heading">​</a>
</h4>
<ul><li class="electron-api-options-list">
<code>options</code> Object (optional)<ul>
<li>
<code>window</code> <a href="browser-window.html">BrowserWindow</a> (optional) - Default is the focused window.</li>
<li>
<code>x</code> number (optional) - Default is the current mouse cursor position. Must be declared if <code>y</code> is declared.</li>
<li>
<code>y</code> number (optional) - Default is the current mouse cursor position. Must be declared if <code>x</code> is declared.</li>
<li>
<code>positioningItem</code> number (optional) <em class="badge badge--primary">macOS</em> - The index of the menu item to be positioned under the mouse cursor at the specified coordinates. Default is -1.</li>
<li>
<code>callback</code> Function (optional) - Called when menu is closed.</li>
</ul>
</li></ul>
<p>Pops up this menu as a context menu in the <a href="browser-window.html"><code>BrowserWindow</code></a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="menuclosepopupbrowserwindow">
<code>menu.closePopup([browserWindow])</code><a class="hash-link" href="#menuclosepopupbrowserwindow" title="Direct link to heading">​</a>
</h4>
<ul><li>
<code>browserWindow</code> <a href="browser-window.html">BrowserWindow</a> (optional) - Default is the focused window.</li></ul>
<p>Closes the context menu in the <code>browserWindow</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="menuappendmenuitem">
<code>menu.append(menuItem)</code><a class="hash-link" href="#menuappendmenuitem" title="Direct link to heading">​</a>
</h4>
<ul><li>
<code>menuItem</code> <a href="menu-item.html">MenuItem</a>
</li></ul>
<p>Appends the <code>menuItem</code> to the menu.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="menugetmenuitembyidid">
<code>menu.getMenuItemById(id)</code><a class="hash-link" href="#menugetmenuitembyidid" title="Direct link to heading">​</a>
</h4>
<ul><li>
<code>id</code> string</li></ul>
<p>Returns <code>MenuItem | null</code> the item with the specified <code>id</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="menuinsertpos-menuitem">
<code>menu.insert(pos, menuItem)</code><a class="hash-link" href="#menuinsertpos-menuitem" title="Direct link to heading">​</a>
</h4>
<ul>
<li>
<code>pos</code> Integer</li>
<li>
<code>menuItem</code> <a href="menu-item.html">MenuItem</a>
</li>
</ul>
<p>Inserts the <code>menuItem</code> to the <code>pos</code> position of the menu.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="instance-events">Instance Events<a class="hash-link" href="#instance-events" title="Direct link to heading">​</a>
</h3>
<p>Objects created with <code>new Menu</code> or returned by <code>Menu.buildFromTemplate</code> emit the following events:</p>
<p><strong>Note:</strong> Some events are only available on specific operating systems and are labeled as such.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="event-menu-will-show">Event: 'menu-will-show'<a class="hash-link" href="#event-menu-will-show" title="Direct link to heading">​</a>
</h4>
<p>Returns:</p>
<ul><li>
<code>event</code> Event</li></ul>
<p>Emitted when <code>menu.popup()</code> is called.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="event-menu-will-close">Event: 'menu-will-close'<a class="hash-link" href="#event-menu-will-close" title="Direct link to heading">​</a>
</h4>
<p>Returns:</p>
<ul><li>
<code>event</code> Event</li></ul>
<p>Emitted when a popup is closed either manually or with <code>menu.closePopup()</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="instance-properties">Instance Properties<a class="hash-link" href="#instance-properties" title="Direct link to heading">​</a>
</h3>
<p><code>menu</code> objects also have the following properties:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="menuitems">
<code>menu.items</code><a class="hash-link" href="#menuitems" title="Direct link to heading">​</a>
</h4>
<p>A <code>MenuItem[]</code> array containing the menu's items.</p>
<p>Each <code>Menu</code> consists of multiple <a href="menu-item.html"><code>MenuItem</code></a>s and each <code>MenuItem</code> can have a submenu.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a class="hash-link" href="#examples" title="Direct link to heading">​</a>
</h2>
<p>An example of creating the application menu with the simple template API:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex">
<pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" data-language="javascript">const { app, Menu } = require('electron')

const isMac = process.platform === 'darwin'

const template = [
  // { role: 'appMenu' }
  ...(isMac ? [{
    label: app.name,
    submenu: [
      { role: 'about' },
      { type: 'separator' },
      { role: 'services' },
      { type: 'separator' },
      { role: 'hide' },
      { role: 'hideOthers' },
      { role: 'unhide' },
      { type: 'separator' },
      { role: 'quit' }
    ]
  }] : []),
  // { role: 'fileMenu' }
  {
    label: 'File',
    submenu: [
      isMac ? { role: 'close' } : { role: 'quit' }
    ]
  },
  // { role: 'editMenu' }
  {
    label: 'Edit',
    submenu: [
      { role: 'undo' },
      { role: 'redo' },
      { type: 'separator' },
      { role: 'cut' },
      { role: 'copy' },
      { role: 'paste' },
      ...(isMac ? [
        { role: 'pasteAndMatchStyle' },
        { role: 'delete' },
        { role: 'selectAll' },
        { type: 'separator' },
        {
          label: 'Speech',
          submenu: [
            { role: 'startSpeaking' },
            { role: 'stopSpeaking' }
          ]
        }
      ] : [
        { role: 'delete' },
        { type: 'separator' },
        { role: 'selectAll' }
      ])
    ]
  },
  // { role: 'viewMenu' }
  {
    label: 'View',
    submenu: [
      { role: 'reload' },
      { role: 'forceReload' },
      { role: 'toggleDevTools' },
      { type: 'separator' },
      { role: 'resetZoom' },
      { role: 'zoomIn' },
      { role: 'zoomOut' },
      { type: 'separator' },
      { role: 'togglefullscreen' }
    ]
  },
  // { role: 'windowMenu' }
  {
    label: 'Window',
    submenu: [
      { role: 'minimize' },
      { role: 'zoom' },
      ...(isMac ? [
        { type: 'separator' },
        { role: 'front' },
        { type: 'separator' },
        { role: 'window' }
      ] : [
        { role: 'close' }
      ])
    ]
  },
  {
    role: 'help',
    submenu: [
      {
        label: 'Learn More',
        click: async () =&gt; {
          const { shell } = require('electron')
          await shell.openExternal('https://electronjs.org')
        }
      }
    ]
  }
]

const menu = Menu.buildFromTemplate(template)
Menu.setApplicationMenu(menu)</pre>

</div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="render-process">Render process<a class="hash-link" href="#render-process" title="Direct link to heading">​</a>
</h3>
<p>To create menus initiated by the renderer process, send the required information to the main process using IPC and have the main process display the menu on behalf of the renderer.</p>
<p>Below is an example of showing a menu when the user right clicks the page:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex">
<pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" data-language="javascript">// renderer
window.addEventListener('contextmenu', (e) =&gt; {
  e.preventDefault()
  ipcRenderer.send('show-context-menu')
})

ipcRenderer.on('context-menu-command', (e, command) =&gt; {
  // ...
})

// main
ipcMain.on('show-context-menu', (event) =&gt; {
  const template = [
    {
      label: 'Menu Item 1',
      click: () =&gt; { event.sender.send('context-menu-command', 'menu-item-1') }
    },
    { type: 'separator' },
    { label: 'Menu Item 2', type: 'checkbox', checked: true }
  ]
  const menu = Menu.buildFromTemplate(template)
  menu.popup(BrowserWindow.fromWebContents(event.sender))
})</pre>

</div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="notes-on-macos-application-menu">Notes on macOS Application Menu<a class="hash-link" href="#notes-on-macos-application-menu" title="Direct link to heading">​</a>
</h2>
<p>macOS has a completely different style of application menu from Windows and Linux. Here are some notes on making your app's menu more native-like.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standard-menus">Standard Menus<a class="hash-link" href="#standard-menus" title="Direct link to heading">​</a>
</h3>
<p>On macOS there are many system-defined standard menus, like the <a href="https://developer.apple.com/documentation/appkit/nsapplication/1428608-servicesmenu?language=objc" target="_blank" rel="noopener noreferrer"><code>Services</code></a> and <code>Windows</code> menus. To make your menu a standard menu, you should set your menu's <code>role</code> to one of the following and Electron will recognize them and make them become standard menus:</p>
<ul>
<li><code>window</code></li>
<li><code>help</code></li>
<li><code>services</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standard-menu-item-actions">Standard Menu Item Actions<a class="hash-link" href="#standard-menu-item-actions" title="Direct link to heading">​</a>
</h3>
<p>macOS has provided standard actions for some menu items, like <code>About xxx</code>, <code>Hide xxx</code>, and <code>Hide Others</code>. To set the action of a menu item to a standard action, you should set the <code>role</code> attribute of the menu item.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-menus-name">Main Menu's Name<a class="hash-link" href="#main-menus-name" title="Direct link to heading">​</a>
</h3>
<p>On macOS the label of the application menu's first item is always your app's name, no matter what label you set. To change it, modify your app bundle's <code>Info.plist</code> file. See <a href="https://developer.apple.com/library/ios/documentation/general/Reference/InfoPlistKeyReference/Articles/AboutInformationPropertyListFiles.html" target="_blank" rel="noopener noreferrer">About Information Property List Files</a> for more information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-menu-for-specific-browser-window-linux-windows">Setting Menu for Specific Browser Window (<em class="badge badge--primary">Linux</em> <em class="badge badge--primary">Windows</em>)<a class="hash-link" href="#setting-menu-for-specific-browser-window-linux-windows" title="Direct link to heading">​</a>
</h2>
<p>The <a href="browser-window.html#winsetmenumenu-linux-windows"><code>setMenu</code> method</a> of browser windows can set the menu of certain browser windows.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="menu-item-position">Menu Item Position<a class="hash-link" href="#menu-item-position" title="Direct link to heading">​</a>
</h2>
<p>You can make use of <code>before</code>, <code>after</code>, <code>beforeGroupContaining</code>, <code>afterGroupContaining</code> and <code>id</code> to control how the item will be placed when building a menu with <code>Menu.buildFromTemplate</code>.</p>
<ul>
<li>
<code>before</code> - Inserts this item before the item with the specified label. If the referenced item doesn't exist the item will be inserted at the end of the menu. Also implies that the menu item in question should be placed in the same “group” as the item.</li>
<li>
<code>after</code> - Inserts this item after the item with the specified label. If the referenced item doesn't exist the item will be inserted at the end of the menu. Also implies that the menu item in question should be placed in the same “group” as the item.</li>
<li>
<code>beforeGroupContaining</code> - Provides a means for a single context menu to declare the placement of their containing group before the containing group of the item with the specified label.</li>
<li>
<code>afterGroupContaining</code> - Provides a means for a single context menu to declare the placement of their containing group after the containing group of the item with the specified label.</li>
</ul>
<p>By default, items will be inserted in the order they exist in the template unless one of the specified positioning keywords is used.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="examples-1">Examples<a class="hash-link" href="#examples-1" title="Direct link to heading">​</a>
</h3>
<p>Template:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex">
<pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" data-language="javascript">[
  { id: '1', label: 'one' },
  { id: '2', label: 'two' },
  { id: '3', label: 'three' },
  { id: '4', label: 'four' }
]</pre>

</div></div>
<p>Menu:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex">
<pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" data-language="javascript">- 1
- 2
- 3
- 4</pre>

</div></div>
<p>Template:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex">
<pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" data-language="javascript">[
  { id: '1', label: 'one' },
  { type: 'separator' },
  { id: '3', label: 'three', beforeGroupContaining: ['1'] },
  { id: '4', label: 'four', afterGroupContaining: ['2'] },
  { type: 'separator' },
  { id: '2', label: 'two' }
]</pre>

</div></div>
<p>Menu:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex">
<pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" data-language="javascript">- 3
- 4
- ---
- 1
- ---
- 2</pre>

</div></div>
<p>Template:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex">
<pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" data-language="javascript">[
  { id: '1', label: 'one', after: ['3'] },
  { id: '2', label: 'two', before: ['1'] },
  { id: '3', label: 'three' }
]</pre>

</div></div>
<p>Menu:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex">
<pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" data-language="javascript">- ---
- 3
- 2
- 1</pre>

</div></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; GitHub Inc.<br>Licensed under the MIT license.<br>
    <a href="https://www.electronjs.org/docs/latest/api/menu" class="_attribution-link">https://www.electronjs.org/docs/latest/api/menu</a>
  </p>
</div>
