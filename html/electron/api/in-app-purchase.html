<h1>inAppPurchase</h1>
<blockquote><p>In-app purchases on Mac App Store.</p></blockquote>
<p>Process: <a href="../glossary.html#main-process">Main</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a class="hash-link" href="#events" title="Direct link to heading">​</a>
</h2>
<p>The <code>inAppPurchase</code> module emits the following events:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-transactions-updated">Event: 'transactions-updated'<a class="hash-link" href="#event-transactions-updated" title="Direct link to heading">​</a>
</h3>
<p>Emitted when one or more transactions have been updated.</p>
<p>Returns:</p>
<ul>
<li>
<code>event</code> Event</li>
<li>
<code>transactions</code> Transaction[] - Array of <a aria-describedby="structures-tooltip" href="structures/transaction.html" class="link_nCrB">Transaction</a> objects.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="methods">Methods<a class="hash-link" href="#methods" title="Direct link to heading">​</a>
</h2>
<p>The <code>inAppPurchase</code> module has the following methods:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inapppurchasepurchaseproductproductid-quantity">
<code>inAppPurchase.purchaseProduct(productID[, quantity])</code><a class="hash-link" href="#inapppurchasepurchaseproductproductid-quantity" title="Direct link to heading">​</a>
</h3>
<ul>
<li>
<code>productID</code> string - The identifiers of the product to purchase. (The identifier of <code>com.example.app.product1</code> is <code>product1</code>).</li>
<li>
<code>quantity</code> Integer (optional) - The number of items the user wants to purchase.</li>
</ul>
<p>Returns <code>Promise&lt;boolean&gt;</code> - Returns <code>true</code> if the product is valid and added to the payment queue.</p>
<p>You should listen for the <code>transactions-updated</code> event as soon as possible and certainly before you call <code>purchaseProduct</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inapppurchasegetproductsproductids">
<code>inAppPurchase.getProducts(productIDs)</code><a class="hash-link" href="#inapppurchasegetproductsproductids" title="Direct link to heading">​</a>
</h3>
<ul><li>
<code>productIDs</code> string[] - The identifiers of the products to get.</li></ul>
<p>Returns <code>Promise&lt;Product[]&gt;</code> - Resolves with an array of <a aria-describedby="structures-tooltip" href="structures/product.html" class="link_nCrB">Product</a> objects.</p>
<p>Retrieves the product descriptions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inapppurchasecanmakepayments">
<code>inAppPurchase.canMakePayments()</code><a class="hash-link" href="#inapppurchasecanmakepayments" title="Direct link to heading">​</a>
</h3>
<p>Returns <code>boolean</code> - whether a user can make a payment.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inapppurchaserestorecompletedtransactions">
<code>inAppPurchase.restoreCompletedTransactions()</code><a class="hash-link" href="#inapppurchaserestorecompletedtransactions" title="Direct link to heading">​</a>
</h3>
<p>Restores finished transactions. This method can be called either to install purchases on additional devices, or to restore purchases for an application that the user deleted and reinstalled.</p>
<p><a href="https://developer.apple.com/documentation/storekit/skpaymentqueue?language=objc" target="_blank" rel="noopener noreferrer">The payment queue</a> delivers a new transaction for each previously completed transaction that can be restored. Each transaction includes a copy of the original transaction.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inapppurchasegetreceipturl">
<code>inAppPurchase.getReceiptURL()</code><a class="hash-link" href="#inapppurchasegetreceipturl" title="Direct link to heading">​</a>
</h3>
<p>Returns <code>string</code> - the path to the receipt.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inapppurchasefinishalltransactions">
<code>inAppPurchase.finishAllTransactions()</code><a class="hash-link" href="#inapppurchasefinishalltransactions" title="Direct link to heading">​</a>
</h3>
<p>Completes all pending transactions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inapppurchasefinishtransactionbydatedate">
<code>inAppPurchase.finishTransactionByDate(date)</code><a class="hash-link" href="#inapppurchasefinishtransactionbydatedate" title="Direct link to heading">​</a>
</h3>
<ul><li>
<code>date</code> string - The ISO formatted date of the transaction to finish.</li></ul>
<p>Completes the pending transactions corresponding to the date.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; GitHub Inc.<br>Licensed under the MIT license.<br>
    <a href="https://www.electronjs.org/docs/latest/api/in-app-purchase" class="_attribution-link">https://www.electronjs.org/docs/latest/api/in-app-purchase</a>
  </p>
</div>
