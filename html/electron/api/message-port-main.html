<h1>MessagePortMain</h1>
<p><code>MessagePortMain</code> is the main-process-side equivalent of the DOM <a href="https://developer.mozilla.org/en-US/docs/Web/API/MessagePort" target="_blank" rel="noopener noreferrer"><code>MessagePort</code></a> object. It behaves similarly to the DOM version, with the exception that it uses the Node.js <code>EventEmitter</code> event system, instead of the DOM <code>EventTarget</code> system. This means you should use <code>port.on('message', ...)</code> to listen for events, instead of <code>port.onmessage = ...</code> or <code>port.addEventListener('message', ...)</code></p>
<p>See the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Channel_Messaging_API" target="_blank" rel="noopener noreferrer">Channel Messaging API</a> documentation for more information on using channel messaging.</p>
<p><code>MessagePortMain</code> is an [EventEmitter][event-emitter].</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-messageportmain">Class: MessagePortMain<a class="hash-link" href="#class-messageportmain" title="Direct link to heading">​</a>
</h2>
<blockquote><p>Port interface for channel messaging in the main process.</p></blockquote>
<p>Process: <a href="../glossary.html#main-process">Main</a><br> <em>This class is not exported from the <code>'electron'</code> module. It is only available as a return value of other methods in the Electron API.</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="instance-methods">Instance Methods<a class="hash-link" href="#instance-methods" title="Direct link to heading">​</a>
</h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="portpostmessagemessage-transfer">
<code>port.postMessage(message, [transfer])</code><a class="hash-link" href="#portpostmessagemessage-transfer" title="Direct link to heading">​</a>
</h4>
<ul>
<li>
<code>message</code> any</li>
<li>
<code>transfer</code> MessagePortMain[] (optional)</li>
</ul>
<p>Sends a message from the port, and optionally, transfers ownership of objects to other browsing contexts.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="portstart">
<code>port.start()</code><a class="hash-link" href="#portstart" title="Direct link to heading">​</a>
</h4>
<p>Starts the sending of messages queued on the port. Messages will be queued until this method is called.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="portclose">
<code>port.close()</code><a class="hash-link" href="#portclose" title="Direct link to heading">​</a>
</h4>
<p>Disconnects the port, so it is no longer active.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="instance-events">Instance Events<a class="hash-link" href="#instance-events" title="Direct link to heading">​</a>
</h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="event-message">Event: 'message'<a class="hash-link" href="#event-message" title="Direct link to heading">​</a>
</h4>
<p>Returns:</p>
<ul><li>
<code>messageEvent</code> Object<ul>
<li>
<code>data</code> any</li>
<li>
<code>ports</code> MessagePortMain[]</li>
</ul>
</li></ul>
<p>Emitted when a MessagePortMain object receives a message.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="event-close">Event: 'close'<a class="hash-link" href="#event-close" title="Direct link to heading">​</a>
</h4>
<p>Emitted when the remote end of a MessagePortMain object becomes disconnected.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; GitHub Inc.<br>Licensed under the MIT license.<br>
    <a href="https://www.electronjs.org/docs/latest/api/message-port-main" class="_attribution-link">https://www.electronjs.org/docs/latest/api/message-port-main</a>
  </p>
</div>
