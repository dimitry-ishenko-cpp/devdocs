<devsite-feature-tooltip ack-key="AckCollectionsBookmarkTooltipDismiss" analytics-category="Site-Wide Custom Events" analytics-action-show="Callout Profile displayed" analytics-action-close="Callout Profile dismissed" analytics-label="Create Collection Callout" class="devsite-page-bookmark-tooltip nocontent" dismiss-button="true" id="devsite-collections-dropdown" dismiss-button-text="Dismiss" close-button-text="Got it">    </devsite-feature-tooltip>   <devsite-mathjax config="TeX-AMS-MML_SVG"></devsite-mathjax>  <h1 id="tensorflow::ops::segmentmean" data-text="tensorflow::ops::SegmentMean" tabindex="-1">tensorflow::ops::SegmentMean</h1> <p><code translate="no" dir="ltr">#include &lt;math_ops.h&gt;</code></p> <p>Computes the mean along segments of a tensor. </p> <h2 id="summary" data-text="Summary" tabindex="-1">Summary</h2> <p>Read <a href="https://tensorflow.org/api_docs/python/tf/math#Segmentation">the section on segmentation</a> for an explanation of segments.</p> <p>Computes a tensor such that \(output_i = \frac{\sum_j data_j}{N}\) where <code translate="no" dir="ltr">mean</code> is over <code translate="no" dir="ltr">j</code> such that <code translate="no" dir="ltr">segment_ids[j] == i</code> and <code translate="no" dir="ltr">N</code> is the total number of values summed.</p> <p>If the mean is empty for a given segment ID <code translate="no" dir="ltr">i</code>, <code translate="no" dir="ltr">output[i] = 0</code>.</p> <p>Caution: On CPU, values in <code translate="no" dir="ltr">segment_ids</code> are always validated to be sorted, and an error is thrown for indices that are not increasing. On GPU, this does not throw an error for unsorted indices. On GPU, out-of-order indices result in safe but unspecified behavior, which may include treating out-of-order indices as a smaller following index when computing the numerator of the mean.</p> <p> <figure id="@name"> <img src="https://www.tensorflow.org/static/api_docs/cc/images/SegmentMean.png"> </figure> </p> <p>For example:</p> <p>c = tf.constant([[1.0,2,3,4], [4, 3, 2, 1], [5,6,7,8]]) tf.math.segment_mean(c, tf.constant([0, 0, 1])).numpy() array([[2.5, 2.5, 2.5, 2.5], [5., 6., 7., 8.]], dtype=float32)</p> <p>Args:</p>
<ul> <li>scope: A <a href="../scope.html#classtensorflow_1_1_scope">Scope</a> object</li> <li>segment_ids: A 1-D tensor whose size is equal to the size of <code translate="no" dir="ltr">data</code>'s first dimension. Values should be sorted and can be repeated.</li> </ul> <p>Caution: The values are always validated to be sorted on CPU, never validated on GPU.</p> <p>Returns:</p>
<ul> <li>
<code translate="no" dir="ltr"><a href="../output.html#classtensorflow_1_1_output">Output</a></code>: Has same shape as data, except for dimension 0 which has size <code translate="no" dir="ltr">k</code>, the number of segments. </li> </ul> <table class="constructors responsive"> <tr> <th colspan="2"> Constructors and Destructors </th> </tr> <tr> <td colspan="2"> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_mean_1a9fc798114162e49ca1a2e3be55c67c4e">SegmentMean</a>(const ::<a href="../scope.html#classtensorflow_1_1_scope">tensorflow::Scope</a> &amp; scope, ::<a href="../input.html#classtensorflow_1_1_input">tensorflow::Input</a> data, ::<a href="../input.html#classtensorflow_1_1_input">tensorflow::Input</a> segment_ids)</code> <br> </td> </tr> </table> <table class="properties responsive"> <tr> <th colspan="2"> Public attributes </th> </tr> <tr> <td> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_mean_1ab33c7bc6ed3ae2192796a60aa4e2603d">operation</a></code> </td> <td> <div> <code translate="no" dir="ltr"><a href="../operation.html#classtensorflow_1_1_operation">Operation</a></code> </div> </td> </tr> <tr> <td> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_mean_1a64036d8ee48b0555a734f063c8b5e21e">output</a></code> </td> <td> <div> <code translate="no" dir="ltr">::<a href="../output.html#classtensorflow_1_1_output">tensorflow::Output</a></code> </div> </td> </tr> </table> <table class="methods responsive"> <tr> <th colspan="2"> Public functions </th> </tr> <tr> <td> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_mean_1a9a1dd3986731336496132e50f5882bfd">node</a>() const </code> </td> <td> <div> <code translate="no" dir="ltr">::tensorflow::Node *</code> </div> </td> </tr> <tr> <td> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_mean_1a4555ae396508ae3dd5a91c67b3f7d8f4">operator::tensorflow::Input</a>() const </code> </td> <td>  </td> </tr> <tr> <td> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_mean_1a5a63b16dc3408efa63a3d07570c08783">operator::tensorflow::Output</a>() const </code> </td> <td>  </td> </tr> </table> <h2 id="public-attributes_1" data-text="Public attributes" tabindex="-1">Public attributes</h2> <div id="classtensorflow_1_1ops_1_1_segment_mean_1ab33c7bc6ed3ae2192796a60aa4e2603d"> <h3 id="operation" data-text="operation" tabindex="-1">operation</h3> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Text only" data-language="cpp">Operation operation</pre></devsite-code>  </div> <div id="classtensorflow_1_1ops_1_1_segment_mean_1a64036d8ee48b0555a734f063c8b5e21e"> <h3 id="output" data-text="output" tabindex="-1">output</h3> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Text only" data-language="cpp">::tensorflow::Output output</pre></devsite-code>  </div> <h2 id="public-functions_1" data-text="Public functions" tabindex="-1">Public functions</h2> <div id="classtensorflow_1_1ops_1_1_segment_mean_1a9fc798114162e49ca1a2e3be55c67c4e"> <h3 id="segmentmean" data-text="SegmentMean" tabindex="-1">SegmentMean</h3> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="GDScript" data-language="cpp"> SegmentMean(
  const ::tensorflow::Scope &amp; scope,
  ::tensorflow::Input data,
  ::tensorflow::Input segment_ids
)</pre></devsite-code>  </div> <div id="classtensorflow_1_1ops_1_1_segment_mean_1a9a1dd3986731336496132e50f5882bfd"> <h3 id="node" data-text="node" tabindex="-1">node</h3> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="GDScript" data-language="cpp">::tensorflow::Node * node() const </pre></devsite-code>  </div> <div id="classtensorflow_1_1ops_1_1_segment_mean_1a4555ae396508ae3dd5a91c67b3f7d8f4"> <h3 id="operator::tensorflow::input" data-text="operator::tensorflow::Input" tabindex="-1">operator::tensorflow::Input</h3> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="GDScript" data-language="cpp">operator::tensorflow::Input() const </pre></devsite-code>  </div> <div id="classtensorflow_1_1ops_1_1_segment_mean_1a5a63b16dc3408efa63a3d07570c08783"> <h3 id="operator::tensorflow::output" data-text="operator::tensorflow::Output" tabindex="-1">operator::tensorflow::Output</h3> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="GDScript" data-language="cpp">operator::tensorflow::Output() const </pre></devsite-code>  </div>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/cc/class/tensorflow/ops/segment-mean" class="_attribution-link">https://www.tensorflow.org/api_docs/cc/class/tensorflow/ops/segment-mean</a>
  </p>
</div>
