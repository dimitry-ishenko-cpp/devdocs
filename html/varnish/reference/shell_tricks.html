<h1 id="ref-shell-tricks">Shell Tricks</h1> <p>All the varnish programs can be invoked with the single argument <code>--optstring</code> to request their <code>getopt()</code> specification, which simplifies wrapper scripts:</p> <pre data-language="text">optstring=$(varnishfoo --optstring)

while getopts "$optstring" opt
do
    case $opt in
    n)
        # handle $OPTARG
        ;;
    # handle other options
    *)
        # ignore unneeded options
        ;;
    esac
done

varnishfoo "$@"

# do something with the options
</pre><div class="_attribution">
  <p class="_attribution-p">
    Copyright &copy; 2006 Verdens Gang AS<br>Copyright &copy; 2006&ndash;2020 Varnish Software AS<br>Licensed under the BSD-2-Clause License.<br>
    <a href="https://varnish-cache.org/docs/7.4/reference/shell_tricks.html" class="_attribution-link">https://varnish-cache.org/docs/7.4/reference/shell_tricks.html</a>
  </p>
</div>
