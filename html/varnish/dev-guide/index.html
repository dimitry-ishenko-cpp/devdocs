<h1 id="dev-guide-index">The Varnish Developers Guide</h1> <p>This is the deliberately short and to the point list of things Varnish Developers should know.</p> <section id="behaviour"> <h2>Behaviour</h2> <ul class="simple"> <li>Be sensible.</li> <li>If in doubt, think.</li> <li>If still in doubt, ask.</li> <li>Admit your mistakes, it’s faster that way.</li> <li>Thou SHALL not paint <a class="reference external" href="http://bikeshed.org/">bikesheds.</a>
</li> <li>We will toss you out of the project rather than add another rule.</li> </ul> </section> <section id="technical-stuff"> <h2>Technical stuff</h2> <ul class="simple"> <li>Our coding style guideline is FreeBSD’s <a class="reference external" href="https://www.freebsd.org/cgi/man.cgi?query=style&amp;sektion=9">style(9)</a>
</li> <li>See autogen.des script for developer options to the toolchain.</li> <li>We always -Werror, there are no harmless warnings, only source code that does not express intent well enough.</li> <li>We prefer the source code, rather than the comments explain what is going on, that way tools like FlexeLint and Coverity also gets a chance.</li> <li>Our reference platforms are Ubuntu and FreeBSD.</li> <li>Asserts have negative cost, they save developer time next time around.</li> <li>Our license is BSD 2-clause or looser, no GPL or LGPL.</li> <li>It took 11 years for the first major security issue, and that was too soon.</li> </ul> </section> <section id="bugs-issues-feature-requests-vips"> <h2>Bugs, issues, feature requests &amp; VIPs</h2> <p>Bugs, issues and feature requests start out as github issues.</p> <p>Monday at 15:00-16:00 (EU time) we “bug-wash” on IRC (#varnish-hacking on irc.linpro.no) to decide who and how issues are dealt with.</p> <p>Issues we cannot do anything about are closed.</p> <p>If feature-requests make sense, they get moved to a wiki/VIP page until somebody implements them.</p> <p>Varnishtest cases for bugs is the norm, not the exception.</p> </section> <section id="architectural-stuff"> <h2>Architectural stuff</h2> <p>These rules are imported from the X11 project:</p> <ul class="simple"> <li>It is as important to decide what a system is not as to decide what it is.</li> <li>Do not serve all the world’s needs; rather, make the system extensible so that additional needs can be met in an upwardly compatible fashion.</li> <li>The only thing worse than generalizing from one example is generalizing from no examples at all.</li> <li>If a problem is not completely understood, it is probably best to provide no solution at all.</li> <li>If you can get 90 percent of the desired effect for 10 percent of the work, use the simpler solution.</li> <li>Isolate complexity as much as possible.</li> <li>Provide mechanism, rather than policy.</li> </ul> </section> <section id="various-policies"> <h2>Various policies</h2>  <ul> <li class="toctree-l1"><a class="reference external" href="https://varnish-cache.org/organization/index.html">Varnish Cache organization and day-to-day operation</a></li> <li class="toctree-l1"><a class="reference internal" href="policy_vmods.html">Bundling VMODs with the Varnish distribution</a></li> </ul>  </section> <section id="the-varnish-cache-org-homepage"> <h2>The varnish-cache.org homepage</h2>  <ul> <li class="toctree-l1"><a class="reference internal" href="homepage_dogfood.html">How our website works</a></li> <li class="toctree-l1"><a class="reference internal" href="homepage_contrib.html">How to contribute content to varnish-cache.org</a></li> </ul>  </section> <section id="project-metadata"> <h2>Project metadata</h2>  <ul> <li class="toctree-l1"><a class="reference internal" href="who.html">Who is … ?</a></li> </ul>  </section><div class="_attribution">
  <p class="_attribution-p">
    Copyright &copy; 2006 Verdens Gang AS<br>Copyright &copy; 2006&ndash;2020 Varnish Software AS<br>Licensed under the BSD-2-Clause License.<br>
    <a href="https://varnish-cache.org/docs/7.4/dev-guide/index.html" class="_attribution-link">https://varnish-cache.org/docs/7.4/dev-guide/index.html</a>
  </p>
</div>
