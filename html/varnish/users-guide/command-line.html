<h1 id="users-guide-command-line">Required command line arguments</h1> <p>There a two command line arguments you have to set when starting Varnish, these are:</p> <ul class="simple"> <li>what TCP port to serve HTTP from, and</li> <li>where the backend server can be contacted.</li> </ul> <p>If you have installed Varnish through using a provided operating system bound package, you will find the startup options here:</p> <ul class="simple"> <li>Debian, Ubuntu: <code>/etc/default/varnish</code>
</li> <li>Red Hat, Centos: <code>/etc/sysconfig/varnish</code>
</li> <li>FreeBSD: <code>/etc/rc.conf</code> (See also: /usr/local/etc/rc.d/varnishd)</li> </ul> <section id="a-listen-address"> <h2>‘-a’ <em>listen_address</em>
</h2> <p>The ‘-a’ argument defines what address Varnish should listen to, and service HTTP requests from.</p> <p>You will most likely want to set this to “:80” which is the Well Known Port for HTTP.</p> <p>You can specify multiple addresses separated by a comma, and you can use numeric or host/service names if you like, Varnish will try to open and service as many of them as possible, but if none of them can be opened, <code>varnishd</code> will not start.</p> <p>Here are some examples:</p> <pre data-language="python">-a :80
-a localhost:80
-a 192.168.1.100:8080
-a '[fe80::1]:80'
-a '0.0.0.0:8080,[::]:8081'
</pre> <p>If your webserver runs on the same machine, you will have to move it to another port number first.</p> </section> <section id="f-vcl-file-or-b-backend"> <h2>‘-f’ <em>VCL-file</em> or ‘-b’ <em>backend</em>
</h2> <p>Varnish needs to know where to find the HTTP server it is caching for. You can either specify it with the ‘-b’ argument, or you can put it in your own VCL file, specified with the ‘-f’ argument.</p> <p>Using ‘-b’ is a quick way to get started:</p> <pre data-language="python">-b localhost:81
-b thatotherserver.example.com:80
-b 192.168.1.2:80
</pre> <p>Notice that if you specify a name, it can at most resolve to one IPv4 <em>and</em> one IPv6 address.</p> <p>For more advanced use, you will want to specify a VCL program with <code>-f</code>, but you can start with as little as just:</p> <pre data-language="python">backend default {
        .host = "localhost:81";
}
</pre> <p>which is, by the way, <em>precisely</em> what ‘-b’ does.</p> </section> <section id="optional-arguments"> <h2>Optional arguments</h2> <p>For a complete list of the command line arguments please see <a class="reference internal" href="../reference/varnishd.html#ref-varnishd-options"><span class="std std-ref">varnishd(1) options</span></a>.</p> </section><div class="_attribution">
  <p class="_attribution-p">
    Copyright &copy; 2006 Verdens Gang AS<br>Copyright &copy; 2006&ndash;2020 Varnish Software AS<br>Licensed under the BSD-2-Clause License.<br>
    <a href="https://varnish-cache.org/docs/7.4/users-guide/command-line.html" class="_attribution-link">https://varnish-cache.org/docs/7.4/users-guide/command-line.html</a>
  </p>
</div>
