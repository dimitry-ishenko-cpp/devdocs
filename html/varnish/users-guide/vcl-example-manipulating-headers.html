<h1>Manipulating request headers in VCL</h1> <p>Lets say we want to remove the cookie for all objects in the <code>/images</code> directory of our web server:</p> <pre data-language="python">sub vcl_recv {
  if (req.url ~ "^/images") {
    unset req.http.cookie;
  }
}
</pre> <p>Now, when the request is handled to the backend server there will be no cookie header. The interesting line is the one with the if-statement. It matches the URL, taken from the request object, and matches it against the regular expression. Note the match operator. If it matches the Cookie: header of the request is unset (deleted).</p><div class="_attribution">
  <p class="_attribution-p">
    Copyright &copy; 2006 Verdens Gang AS<br>Copyright &copy; 2006&ndash;2020 Varnish Software AS<br>Licensed under the BSD-2-Clause License.<br>
    <a href="https://varnish-cache.org/docs/7.4/users-guide/vcl-example-manipulating-headers.html" class="_attribution-link">https://varnish-cache.org/docs/7.4/users-guide/vcl-example-manipulating-headers.html</a>
  </p>
</div>
