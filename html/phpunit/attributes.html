<h1>Attributes</h1> <p><a class="reference external" href="https://wiki.php.net/rfc/attributes_v2">Attributes</a> are “a form of structured, syntactic metadata to declarations of classes, properties, functions, methods, parameters and constants. Attributes allow to define configuration directives directly embedded with the declaration of that code.”</p> <p>The attributes supported by PHPUnit are all declared in the <code class="docutils literal notranslate"><span class="pre">PHPUnit\Framework\Attributes</span></code> namespace. They are documented in this appendix.</p> <section id="test"> <h2>
<code class="docutils literal notranslate"><span class="pre">Test</span></code><a class="headerlink" href="#test" title="Permalink to this heading"></a>
</h2> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>As an alternative to prefixing your test method names with <code class="docutils literal notranslate"><span class="pre">test</span></code>, you can use the <code class="docutils literal notranslate"><span class="pre">Test</span></code> attribute to mark it as a test method.</p> <div class="literal-block-wrapper docutils container" id="appendixes-attributes-test-examples-exampletest-php"> <div class="code-block-caption">
<span class="caption-number">Example 2.16 </span><span class="caption-text">Using the <code class="docutils literal notranslate"><span class="pre">Test</span></code> attribute</span><a class="headerlink" href="#appendixes-attributes-test-examples-exampletest-php" title="Permalink to this code"></a>
</div> <div class="highlight-php notranslate">
<div class="highlight"><pre class="highlight" data-language="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\Attributes\Test</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="p">#[</span><span class="nd">Test</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">it_does_something</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div> </div> </div> </section> <section id="testdox"> <h2>
<code class="docutils literal notranslate"><span class="pre">TestDox</span></code><a class="headerlink" href="#testdox" title="Permalink to this heading"></a>
</h2> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">TestDox(string</span> <span class="pre">$text)</span></code> attribute can be used to customize the text that is printed for a test when TestDox output is enabled.</p> <div class="literal-block-wrapper docutils container" id="appendixes-attributes-testdox-examples-exampletest-php"> <div class="code-block-caption">
<span class="caption-number">Example 2.17 </span><span class="caption-text">Using the <code class="docutils literal notranslate"><span class="pre">TestDox</span></code> attribute</span><a class="headerlink" href="#appendixes-attributes-testdox-examples-exampletest-php" title="Permalink to this code"></a>
</div> <div class="highlight-php notranslate">
<div class="highlight"><pre class="highlight" data-language="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\Attributes\TestDox</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="p">#[</span><span class="nd">TestDox</span><span class="p">(</span><span class="s1">'It does something'</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testOne</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div> </div> </div> <p>Running the test shown above with TestDox output enabled yields the output shown below:</p> <pre class="highlight" data-language="php">$ ./tools/phpunit --no-progress --testdox tests/ExampleTest.php
PHPUnit 12.0.0 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.2.2

Time: 00:00.057, Memory: 6.00 MB

Example
 ✔ It does something

OK (1 test, 1 assertion)</pre> <p>When you use the <code class="docutils literal notranslate"><span class="pre">TestDox</span></code> attribute for a test method that uses a <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-data-providers"><span class="std std-ref">data provider</span></a> then you may use the method parameters as placeholders in your alternative description.</p> <div class="literal-block-wrapper docutils container" id="appendixes-attributes-testdox-examples-exampletest2-php"> <div class="code-block-caption">
<span class="caption-number">Example 2.18 </span><span class="caption-text">Using the <code class="docutils literal notranslate"><span class="pre">TestDox</span></code> attribute together with data providers</span><a class="headerlink" href="#appendixes-attributes-testdox-examples-exampletest2-php" title="Permalink to this code"></a>
</div> <div class="highlight-php notranslate">
<div class="highlight"><pre class="highlight" data-language="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\Attributes\DataProvider</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\Attributes\TestDox</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">ExampleTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="p">#[</span><span class="nd">DataProvider</span><span class="p">(</span><span class="s1">'additionProvider'</span><span class="p">)]</span>
    <span class="p">#[</span><span class="nd">TestDox</span><span class="p">(</span><span class="s1">'Adding $a to $b results in $expected'</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testAdd</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$expected</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$a</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$b</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="nv">$expected</span><span class="p">,</span> <span class="nv">$a</span> <span class="o">+</span> <span class="nv">$b</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">additionProvider</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="s1">'data set 1'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="s1">'data set 2'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="s1">'data set 3'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="s1">'data set 4'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div> </div> </div> <p>Running the test shown above with TestDox output enabled yields the output shown below:</p> <pre class="highlight" data-language="php">$ ./tools/phpunit --no-progress --testdox tests/ExampleTest.php
PHPUnit 12.0.0 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.2.2

Time: 00:00.116, Memory: 8.00 MB

Example
 ✔ Adding 0 to 0 results in 0
 ✔ Adding 1 to 0 results in 1
 ✔ Adding 0 to 1 results in 1
 ✘ Adding 1 to 1 results in 3
   │
   │ Failed asserting that 2 is identical to 3.
   │
   │ /path/to/ExampleTest.php:12
   │

FAILURES!
Tests: 4, Assertions: 4, Failures: 1.</pre> <p>Additionally, <code class="docutils literal notranslate"><span class="pre">$_dataName</span></code> is available and holds the name of the current data. That would be <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">set</span> <span class="pre">1</span></code> through <code class="docutils literal notranslate"><span class="pre">data</span> <span class="pre">set</span> <span class="pre">4</span></code> in the example shown above.</p> </section> <section id="disablereturnvaluegenerationfortestdoubles"> <h2>
<code class="docutils literal notranslate"><span class="pre">DisableReturnValueGenerationForTestDoubles</span></code><a class="headerlink" href="#disablereturnvaluegenerationfortestdoubles" title="Permalink to this heading"></a>
</h2> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DisableReturnValueGenerationForTestDoubles</span></code> attribute can be used to disable the return value generation for test doubles created using <code class="docutils literal notranslate"><span class="pre">createMock()</span></code>, <code class="docutils literal notranslate"><span class="pre">createMockForIntersectionOfInterfaces()</span></code>, <code class="docutils literal notranslate"><span class="pre">createPartialMock()</span></code>, <code class="docutils literal notranslate"><span class="pre">createStub()</span></code>, and <code class="docutils literal notranslate"><span class="pre">createStubForIntersectionOfInterfaces()</span></code> for all tests of a test case class.</p> </section> <section id="doesnotperformassertions"> <h2>
<code class="docutils literal notranslate"><span class="pre">DoesNotPerformAssertions</span></code><a class="headerlink" href="#doesnotperformassertions" title="Permalink to this heading"></a>
</h2> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>By default, PHPUnit considers a test that does not perform assertions and does not configure expectations on mock objects as <a class="reference internal" href="risky-tests.html#risky-tests-useless-tests"><span class="std std-ref">risky</span></a>. The <code class="docutils literal notranslate"><span class="pre">DoesNotPerformAssertions</span></code> attribute can be used to prevent this.</p> </section> <section id="ignoredeprecations"> <h2>
<code class="docutils literal notranslate"><span class="pre">IgnoreDeprecations</span></code><a class="headerlink" href="#ignoredeprecations" title="Permalink to this heading"></a>
</h2> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">IgnoreDeprecations</span></code> attribute can be used to configure PHPUnit’s error handler to not emit events for <code class="docutils literal notranslate"><span class="pre">E_DEPRECATED</span></code> and <code class="docutils literal notranslate"><span class="pre">E_USER_DEPRECATED</span></code> errors.</p> </section> <section id="withouterrorhandler"> <h2>
<code class="docutils literal notranslate"><span class="pre">WithoutErrorHandler</span></code><a class="headerlink" href="#withouterrorhandler" title="Permalink to this heading"></a>
</h2> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">WithoutErrorHandler</span></code> attribute can be used to disable PHPUnit’s error handler for a test method.</p> <div class="admonition-warning admonition"> <p class="admonition-title">Warning</p> <p>Features of PHPUnit that rely on PHPUnit’s error handler to be active while a test method is executed will not work when PHPUnit’s error handler is disabled. No <code class="docutils literal notranslate"><span class="pre">E_(USER_)*</span></code> errors triggered by PHP will be processed by PHPUnit when its error handler is disabled.</p> <p>You should only disable PHPUnit’s error handler when it interferes with the code you are testing, for instance when it uses <code class="docutils literal notranslate"><span class="pre">error_get_last()</span></code> to react to <code class="docutils literal notranslate"><span class="pre">E_(USER_)*</span></code> errors triggered by PHP.</p> </div> </section> <section id="code-coverage"> <h2>Code Coverage<a class="headerlink" href="#code-coverage" title="Permalink to this heading"></a>
</h2> <section id="coversclass"> <h3>
<code class="docutils literal notranslate"><span class="pre">CoversClass</span></code><a class="headerlink" href="#coversclass" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">CoversClass(string</span> <span class="pre">$className)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test intends to cover the given class.</p> </section> <section id="coversclassesthatimplementinterface"> <h3>
<code class="docutils literal notranslate"><span class="pre">CoversClassesThatImplementInterface</span></code><a class="headerlink" href="#coversclassesthatimplementinterface" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">CoversClassesThatImplementInterface(string</span> <span class="pre">$interfaceName)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test intends to cover implementations of the given interface.</p> </section> <section id="coversclassesthatextendclass"> <h3>
<code class="docutils literal notranslate"><span class="pre">CoversClassesThatExtendClass</span></code><a class="headerlink" href="#coversclassesthatextendclass" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">CoversClassesThatExtendClass(string</span> <span class="pre">$className)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test intends to cover child classes of the given parent class.</p> </section> <section id="coverstrait"> <h3>
<code class="docutils literal notranslate"><span class="pre">CoversTrait</span></code><a class="headerlink" href="#coverstrait" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">CoversTrait(string</span> <span class="pre">$traitName)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test intends to cover the given trait.</p> </section> <section id="coversmethod"> <h3>
<code class="docutils literal notranslate"><span class="pre">CoversMethod</span></code><a class="headerlink" href="#coversmethod" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">CoversMethod(string</span> <span class="pre">$className,</span> <span class="pre">string</span> <span class="pre">$methodName)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test intends to cover the given method.</p> </section> <section id="coversfunction"> <h3>
<code class="docutils literal notranslate"><span class="pre">CoversFunction</span></code><a class="headerlink" href="#coversfunction" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">CoversFunction(string</span> <span class="pre">$functionName)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test intends to cover the given function.</p> </section> <section id="coversnothing"> <h3>
<code class="docutils literal notranslate"><span class="pre">CoversNothing</span></code><a class="headerlink" href="#coversnothing" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">CoversNothing()</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test does not intend to contribute to code coverage.</p> </section> <section id="usesclass"> <h3>
<code class="docutils literal notranslate"><span class="pre">UsesClass</span></code><a class="headerlink" href="#usesclass" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">UsesClass(string</span> <span class="pre">$className)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test allows the execution of code in the given class, but does not intend to cover it. This is relevant in the context of <a class="reference internal" href="risky-tests.html#risky-tests-unintentionally-covered-code"><span class="std std-ref">preventing unintentionally covered code</span></a>.</p> </section> <section id="usesclassesthatimplementinterface"> <h3>
<code class="docutils literal notranslate"><span class="pre">UsesClassesThatImplementInterface</span></code><a class="headerlink" href="#usesclassesthatimplementinterface" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">UsesClassesThatImplementInterface(string</span> <span class="pre">$interfaceName)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test allows the execution of code in classes that implement the given interface, but does not intend to cover it. This is relevant in the context of <a class="reference internal" href="risky-tests.html#risky-tests-unintentionally-covered-code"><span class="std std-ref">preventing unintentionally covered code</span></a>.</p> </section> <section id="usesclassesthatextendclass"> <h3>
<code class="docutils literal notranslate"><span class="pre">UsesClassesThatExtendClass</span></code><a class="headerlink" href="#usesclassesthatextendclass" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">UsesClassesThatExtendClass(string</span> <span class="pre">$className)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test allows the execution of code in child classes that extend the given parent class, but does not intend to cover it. This is relevant in the context of <a class="reference internal" href="risky-tests.html#risky-tests-unintentionally-covered-code"><span class="std std-ref">preventing unintentionally covered code</span></a>.</p> </section> <section id="usestrait"> <h3>
<code class="docutils literal notranslate"><span class="pre">UsesTrait</span></code><a class="headerlink" href="#usestrait" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">UsesTrait(string</span> <span class="pre">$traitName)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test allows the execution of code in the given trait, but does not intend to cover it. This is relevant in the context of <a class="reference internal" href="risky-tests.html#risky-tests-unintentionally-covered-code"><span class="std std-ref">preventing unintentionally covered code</span></a>.</p> </section> <section id="usesmethod"> <h3>
<code class="docutils literal notranslate"><span class="pre">UsesMethod</span></code><a class="headerlink" href="#usesmethod" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">UsesMethod(string</span> <span class="pre">$className)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test allows the execution of code in the given method, but does not intend to cover it. This is relevant in the context of <a class="reference internal" href="risky-tests.html#risky-tests-unintentionally-covered-code"><span class="std std-ref">preventing unintentionally covered code</span></a>.</p> </section> <section id="usesfunction"> <h3>
<code class="docutils literal notranslate"><span class="pre">UsesFunction</span></code><a class="headerlink" href="#usesfunction" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">UsesFunction(string</span> <span class="pre">$functionName)</span></code> attribute can be used to <a class="reference internal" href="code-coverage.html#code-coverage-targeting-units-of-code"><span class="std std-ref">specify</span></a> that a test allows the execution of code in the given global function, but does not intend to cover it. This is relevant in the context of <a class="reference internal" href="risky-tests.html#risky-tests-unintentionally-covered-code"><span class="std std-ref">preventing unintentionally covered code</span></a>.</p> </section> </section> <section id="data-provider"> <h2>Data Provider<a class="headerlink" href="#data-provider" title="Permalink to this heading"></a>
</h2> <section id="dataprovider"> <h3>
<code class="docutils literal notranslate"><span class="pre">DataProvider</span></code><a class="headerlink" href="#dataprovider" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DataProvider(string</span> <span class="pre">$methodName)</span></code> attribute can be used on a test method to specify a static method that is declared in the same class as the test method as a <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-data-providers"><span class="std std-ref">data provider</span></a>.</p> </section> <section id="dataproviderexternal"> <h3>
<code class="docutils literal notranslate"><span class="pre">DataProviderExternal</span></code><a class="headerlink" href="#dataproviderexternal" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DataProviderExternal(string</span> <span class="pre">$className,</span> <span class="pre">string</span> <span class="pre">$methodName)</span></code> attribute can be used on a test method to specify a static method that is declared in another class as a <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-data-providers"><span class="std std-ref">data provider</span></a>.</p> </section> <section id="testwith"> <h3>
<code class="docutils literal notranslate"><span class="pre">TestWith</span></code><a class="headerlink" href="#testwith" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">TestWith(array</span> <span class="pre">$data)</span></code> attribute can be used to define a <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-data-providers"><span class="std std-ref">data provider</span></a> for a test method without having to implement a static data provider method.</p> <div class="literal-block-wrapper docutils container" id="appendixes-attributes-testwith-examples-exampletest-php"> <div class="code-block-caption">
<span class="caption-number">Example 2.19 </span><span class="caption-text">Using the <code class="docutils literal notranslate"><span class="pre">TestWith</span></code> attribute</span><a class="headerlink" href="#appendixes-attributes-testwith-examples-exampletest-php" title="Permalink to this code"></a>
</div> <div class="highlight-php notranslate">
<div class="highlight"><pre class="highlight" data-language="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\Attributes\TestWith</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">DataTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="p">#[</span><span class="nd">TestWith</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])]</span>
    <span class="p">#[</span><span class="nd">TestWith</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])]</span>
    <span class="p">#[</span><span class="nd">TestWith</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])]</span>
    <span class="p">#[</span><span class="nd">TestWith</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">])]</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testAdd</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$a</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$b</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$expected</span><span class="p">)</span><span class="o">:</span> <span class="nd">void</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="nv">$expected</span><span class="p">,</span> <span class="nv">$a</span> <span class="o">+</span> <span class="nv">$b</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div> </div> </div> <p>Running the test shown above yields the output shown below:</p> <pre class="highlight" data-language="php">./tools/phpunit tests/DataTest.php
PHPUnit 12.0.0 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.2.2

...F                                                                4 / 4 (100%)

Time: 00:00.058, Memory: 8.00 MB

There was 1 failure:

1) DataTest::testAdd with data set #3
Failed asserting that 2 is identical to 3.

/path/to/DataTest.php:10

FAILURES!
Tests: 4, Assertions: 4, Failures: 1.</pre> </section> <section id="testwithjson"> <h3>
<code class="docutils literal notranslate"><span class="pre">TestWithJson</span></code><a class="headerlink" href="#testwithjson" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">TestWithJson(string</span> <span class="pre">$json)</span></code> attribute can be used to define a <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-data-providers"><span class="std std-ref">data provider</span></a> for a test method without having to implement a static data provider method.</p> <div class="literal-block-wrapper docutils container" id="appendixes-attributes-testwithjson-examples-exampletest-php"> <div class="code-block-caption">
<span class="caption-number">Example 2.20 </span><span class="caption-text">Using the <code class="docutils literal notranslate"><span class="pre">TestWithJson</span></code> attribute</span><a class="headerlink" href="#appendixes-attributes-testwithjson-examples-exampletest-php" title="Permalink to this code"></a>
</div> <div class="highlight-php notranslate">
<div class="highlight"><pre class="highlight" data-language="php"><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\Attributes\TestWithJson</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">final</span> <span class="k">class</span> <span class="nc">DataTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="p">#[</span><span class="nd">TestWithJson</span><span class="p">(</span><span class="s1">'[0, 0, 0]'</span><span class="p">)]</span>
    <span class="p">#[</span><span class="nd">TestWithJson</span><span class="p">(</span><span class="s1">'[0, 1, 1]'</span><span class="p">)]</span>
    <span class="p">#[</span><span class="nd">TestWithJson</span><span class="p">(</span><span class="s1">'[1, 0, 1]'</span><span class="p">)]</span>
    <span class="p">#[</span><span class="nd">TestWithJson</span><span class="p">(</span><span class="s1">'[1, 1, 3]'</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testAdd</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$a</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$b</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$expected</span><span class="p">)</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="nv">$expected</span><span class="p">,</span> <span class="nv">$a</span> <span class="o">+</span> <span class="nv">$b</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div> </div> </div> <p>Running the test shown above yields the output shown below:</p> <pre class="highlight" data-language="php">./tools/phpunit tests/DataTest.php
PHPUnit 12.0.0 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.2.2

...F                                                                4 / 4 (100%)

Time: 00:00.058, Memory: 8.00 MB

There was 1 failure:

1) DataTest::testAdd with data set #3
Failed asserting that 2 is identical to 3.

/path/to/DataTest.php:10

FAILURES!
Tests: 4, Assertions: 4, Failures: 1.</pre> </section> </section> <section id="test-dependencies"> <h2>Test Dependencies<a class="headerlink" href="#test-dependencies" title="Permalink to this heading"></a>
</h2> <section id="depends"> <h3>
<code class="docutils literal notranslate"><span class="pre">Depends</span></code><a class="headerlink" href="#depends" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">Depends(string</span> <span class="pre">$methodName)</span></code> attribute can be used to specify that a test <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-test-dependencies"><span class="std std-ref">depends</span></a> on another test that is declared in the same test case class.</p> <p>Any value that is passed from a producer (a depended-upon test) to a consumer (the depending test) is passed without cloning it.</p> </section> <section id="dependsusingdeepclone"> <h3>
<code class="docutils literal notranslate"><span class="pre">DependsUsingDeepClone</span></code><a class="headerlink" href="#dependsusingdeepclone" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DependsUsingDeepClone(string</span> <span class="pre">$methodName)</span></code> attribute can be used to specify that a test <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-test-dependencies"><span class="std std-ref">depends</span></a> on another test that is declared in the same test case class.</p> <p>Any value that is passed from a producer (a depended-upon test) to a consumer (the depending test) is passed after deep-cloning it.</p> </section> <section id="dependsusingshallowclone"> <h3>
<code class="docutils literal notranslate"><span class="pre">DependsUsingShallowClone</span></code><a class="headerlink" href="#dependsusingshallowclone" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DependsUsingShallowClone(string</span> <span class="pre">$methodName)</span></code> attribute can be used to specify that a test <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-test-dependencies"><span class="std std-ref">depends</span></a> on another test that is declared in the same test case class.</p> <p>Any value that is passed from a producer (a depended-upon test) to a consumer (the depending test) is passed after shallow-cloning it.</p> </section> <section id="dependsexternal"> <h3>
<code class="docutils literal notranslate"><span class="pre">DependsExternal</span></code><a class="headerlink" href="#dependsexternal" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DependsExternal(string</span> <span class="pre">$className,</span> <span class="pre">string</span> <span class="pre">$methodName)</span></code> attribute can be used to specify that a test <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-test-dependencies"><span class="std std-ref">depends</span></a> on another test that is declared in another test case class.</p> <p>Any value that is passed from a producer (a depended-upon test) to a consumer (the depending test) is passed without cloning it.</p> </section> <section id="dependsexternalusingdeepclone"> <h3>
<code class="docutils literal notranslate"><span class="pre">DependsExternalUsingDeepClone</span></code><a class="headerlink" href="#dependsexternalusingdeepclone" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DependsExternalUsingDeepClone(string</span> <span class="pre">$className,</span> <span class="pre">string</span> <span class="pre">$methodName)</span></code> attribute can be used to specify that a test <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-test-dependencies"><span class="std std-ref">depends</span></a> on another test that is declared in another test case class.</p> <p>Any value that is passed from a producer (a depended-upon test) to a consumer (the depending test) is passed after deep-cloning it.</p> </section> <section id="dependsexternalusingshallowclone"> <h3>
<code class="docutils literal notranslate"><span class="pre">DependsExternalUsingShallowClone</span></code><a class="headerlink" href="#dependsexternalusingshallowclone" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DependsExternalUsingShallowClone(string</span> <span class="pre">$className,</span> <span class="pre">string</span> <span class="pre">$methodName)</span></code> attribute can be used to specify that a test <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-test-dependencies"><span class="std std-ref">depends</span></a> on another test that is declared in another test case class.</p> <p>Any value that is passed from a producer (a depended-upon test) to a consumer (the depending test) is passed after shallow-cloning it.</p> </section> <section id="dependsonclass"> <h3>
<code class="docutils literal notranslate"><span class="pre">DependsOnClass</span></code><a class="headerlink" href="#dependsonclass" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DependsOnClass(string</span> <span class="pre">$className)</span></code> attribute can be used to specify that a test <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-test-dependencies"><span class="std std-ref">depends</span></a> on all tests of another test case class.</p> <p>Any value that is passed from a producer (a depended-upon test) to a consumer (the depending test) is passed without cloning it.</p> </section> <section id="dependsonclassusingdeepclone"> <h3>
<code class="docutils literal notranslate"><span class="pre">DependsOnClassUsingDeepClone</span></code><a class="headerlink" href="#dependsonclassusingdeepclone" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DependsOnClassUsingDeepClone(string</span> <span class="pre">$className)</span></code> attribute can be used to specify that a test <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-test-dependencies"><span class="std std-ref">depends</span></a> on all tests of another test case class.</p> <p>Any value that is passed from a producer (a depended-upon test) to a consumer (the depending test) is passed after deep-cloning it.</p> </section> <section id="dependsonclassusingshallowclone"> <h3>
<code class="docutils literal notranslate"><span class="pre">DependsOnClassUsingShallowClone</span></code><a class="headerlink" href="#dependsonclassusingshallowclone" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">DependsOnClassUsingShallowClone(string</span> <span class="pre">$className)</span></code> attribute can be used to specify that a test <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-test-dependencies"><span class="std std-ref">depends</span></a> on all tests of another test case class.</p> <p>Any value that is passed from a producer (a depended-upon test) to a consumer (the depending test) is passed after shallow-cloning it.</p> </section> </section> <section id="test-groups"> <h2>Test Groups<a class="headerlink" href="#test-groups" title="Permalink to this heading"></a>
</h2> <section id="group"> <h3>
<code class="docutils literal notranslate"><span class="pre">Group</span></code><a class="headerlink" href="#group" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">Group(string</span> <span class="pre">$name)</span></code> attribute can be used to assign tests to test groups.</p> <p>Groups can be used, for instance, to <a class="reference internal" href="textui.html#textui-command-line-options-selection"><span class="std std-ref">select</span></a> which tests should be run.</p> <p>The strings <code class="docutils literal notranslate"><span class="pre">small</span></code>, <code class="docutils literal notranslate"><span class="pre">medium</span></code>, and <code class="docutils literal notranslate"><span class="pre">large</span></code> may not be used as group names.</p> </section> <section id="small"> <h3>
<code class="docutils literal notranslate"><span class="pre">Small</span></code><a class="headerlink" href="#small" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">Small</span></code> attribute marks the tests of a test case class as small. These tests are added to a special test group named <code class="docutils literal notranslate"><span class="pre">small</span></code> that has special semantics.</p> <p>The size of a test is relevant in the context of <a class="reference internal" href="risky-tests.html#risky-tests-test-execution-timeout"><span class="std std-ref">test execution timeouts</span></a>, for instance.</p> <p>Tests that are marked as small cause the lines of code that they cover to be highlighted by a darker shade of green in the HTML <a class="reference internal" href="code-coverage.html#code-coverage"><span class="std std-ref">code coverage</span></a> report compared to tests that are marked <a class="reference internal" href="#appendixes-attributes-medium"><span class="std std-ref">medium</span></a> or <a class="reference internal" href="#appendixes-attributes-large"><span class="std std-ref">large</span></a>.</p> </section> <section id="medium"> <h3>
<code class="docutils literal notranslate"><span class="pre">Medium</span></code><a class="headerlink" href="#medium" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">Medium</span></code> attribute marks the tests of a test case class as medium. These tests are added to a special test group named <code class="docutils literal notranslate"><span class="pre">medium</span></code> that has special semantics.</p> <p>The size of a test is relevant in the context of <a class="reference internal" href="risky-tests.html#risky-tests-test-execution-timeout"><span class="std std-ref">test execution timeouts</span></a>, for instance.</p> <p>Tests that are marked as medium cause the lines of code that they cover to be highlighted by a darker shade of green in the HTML <a class="reference internal" href="code-coverage.html#code-coverage"><span class="std std-ref">code coverage</span></a> report compared to tests that are marked <a class="reference internal" href="#appendixes-attributes-large"><span class="std std-ref">large</span></a> and by a lighter shade of green compared to test that are marked small <a class="reference internal" href="#appendixes-attributes-small"><span class="std std-ref">small</span></a>.</p> </section> <section id="large"> <h3>
<code class="docutils literal notranslate"><span class="pre">Large</span></code><a class="headerlink" href="#large" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">Large</span></code> attribute marks the tests of a test case class as large. These tests are added to a special test group named <code class="docutils literal notranslate"><span class="pre">large</span></code> that has special semantics.</p> <p>The size of a test is relevant in the context of <a class="reference internal" href="risky-tests.html#risky-tests-test-execution-timeout"><span class="std std-ref">test execution timeouts</span></a>, for instance.</p> <p>Tests that are marked as large cause the lines of code that they cover to be highlighted by a lighter shade of green in the HTML <a class="reference internal" href="code-coverage.html#code-coverage"><span class="std std-ref">code coverage</span></a> report compared to tests that are marked <a class="reference internal" href="#appendixes-attributes-medium"><span class="std std-ref">medium</span></a> or <a class="reference internal" href="#appendixes-attributes-small"><span class="std std-ref">small</span></a>.</p> </section> <section id="ticket"> <h3>
<code class="docutils literal notranslate"><span class="pre">Ticket</span></code><a class="headerlink" href="#ticket" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">Ticket(string</span> <span class="pre">$text)</span></code> attribute is an alias for <code class="docutils literal notranslate"><span class="pre">Group(string</span> <span class="pre">$text)</span></code>.</p> </section> </section> <section id="template-methods"> <h2>Template Methods<a class="headerlink" href="#template-methods" title="Permalink to this heading"></a>
</h2> <section id="beforeclass"> <h3>
<code class="docutils literal notranslate"><span class="pre">BeforeClass</span></code><a class="headerlink" href="#beforeclass" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">BeforeClass(int</span> <span class="pre">$priority</span> <span class="pre">=</span> <span class="pre">0)</span></code> attribute can be used to specify that a public static method should be invoked before the first test method of a test case class is run. This is the same phase where a method named <code class="docutils literal notranslate"><span class="pre">setUpBeforeClass()</span></code> would be invoked. We refer to such methods as “before test class” methods.</p> <p>When a test case class has more than one methods with the <code class="docutils literal notranslate"><span class="pre">BeforeClass</span></code> attribute then, by default, the test runner assumes that the order in which these methods are invoked does not matter. If this assumption is wrong and the order in which these methods are invoked does matter then the attribute’s optional <code class="docutils literal notranslate"><span class="pre">$priority</span></code> argument (non-negative integer) can be used to define the desired invocation order: a method with a higher <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value is invoked before a method with a lower <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value.</p> </section> <section id="before"> <h3>
<code class="docutils literal notranslate"><span class="pre">Before</span></code><a class="headerlink" href="#before" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">Before(int</span> <span class="pre">$priority</span> <span class="pre">=</span> <span class="pre">0)</span></code> attribute can be used to specify that a protected non-static method should be invoked before each test method of a test case class is run. This is the same phase where a method named <code class="docutils literal notranslate"><span class="pre">setUp()</span></code> would be invoked. We refer to such methods as “before test” methods.</p> <p>When a test case class has more than one methods with the <code class="docutils literal notranslate"><span class="pre">Before</span></code> attribute then, by default, the test runner assumes that the order in which these methods are invoked does not matter. If this assumption is wrong and the order in which these methods are invoked does matter then the attribute’s optional <code class="docutils literal notranslate"><span class="pre">$priority</span></code> argument (non-negative integer) can be used to define the desired invocation order: a method with a higher <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value is invoked before a method with a lower <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value.</p> </section> <section id="precondition"> <h3>
<code class="docutils literal notranslate"><span class="pre">PreCondition</span></code><a class="headerlink" href="#precondition" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">PreCondition(int</span> <span class="pre">$priority</span> <span class="pre">=</span> <span class="pre">0)</span></code> attribute can be used to specify that a protected non-static method should be invoked before each test method (but after any “before test” methods) of a test case class is run. This is the same phase where a method named <code class="docutils literal notranslate"><span class="pre">assertPreConditions()</span></code> would be invoked. We refer to such methods as “pre-condition” methods.</p> <p>When a test case class has more than one methods with the <code class="docutils literal notranslate"><span class="pre">PreCondition</span></code> attribute then, by default, the test runner assumes that the order in which these methods are invoked does not matter. If this assumption is wrong and the order in which these methods are invoked does matter then the attribute’s optional <code class="docutils literal notranslate"><span class="pre">$priority</span></code> argument (non-negative integer) can be used to define the desired invocation order: a method with a higher <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value is invoked before a method with a lower <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value.</p> </section> <section id="postcondition"> <h3>
<code class="docutils literal notranslate"><span class="pre">PostCondition</span></code><a class="headerlink" href="#postcondition" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">PostCondition(int</span> <span class="pre">$priority</span> <span class="pre">=</span> <span class="pre">0)</span></code> attribute can be used to specify that a protected non-static method should be invoked after each test method (but before any “after test” methods) of a test case class is run. This is the same phase where a method named <code class="docutils literal notranslate"><span class="pre">assertPostConditions()</span></code> would be invoked. We refer to such methods as “post-condition” methods.</p> <p>When a test case class has more than one methods with the <code class="docutils literal notranslate"><span class="pre">PostCondition</span></code> attribute then, by default, the test runner assumes that the order in which these methods are invoked does not matter. If this assumption is wrong and the order in which these methods are invoked does matter then the attribute’s optional <code class="docutils literal notranslate"><span class="pre">$priority</span></code> argument (non-negative integer) can be used to define the desired invocation order: a method with a higher <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value is invoked before a method with a lower <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value.</p> </section> <section id="after"> <h3>
<code class="docutils literal notranslate"><span class="pre">After</span></code><a class="headerlink" href="#after" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">After(int</span> <span class="pre">$priority</span> <span class="pre">=</span> <span class="pre">0)</span></code> attribute can be used to specify that a protected non-static method should be invoked after each test method of a test case class is run. This is the same phase where a method named <code class="docutils literal notranslate"><span class="pre">tearDown()</span></code> would be invoked. We refer to such methods as “after test” methods.</p> <p>When a test case class has more than one methods with the <code class="docutils literal notranslate"><span class="pre">After</span></code> attribute then, by default, the test runner assumes that the order in which these methods are invoked does not matter. If this assumption is wrong and the order in which these methods are invoked does matter then the attribute’s optional <code class="docutils literal notranslate"><span class="pre">$priority</span></code> argument (non-negative integer) can be used to define the desired invocation order: a method with a higher <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value is invoked before a method with a lower <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value.</p> </section> <section id="afterclass"> <h3>
<code class="docutils literal notranslate"><span class="pre">AfterClass</span></code><a class="headerlink" href="#afterclass" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">AfterClass(int</span> <span class="pre">$priority</span> <span class="pre">=</span> <span class="pre">0)</span></code> attribute can be used to specify that a public static method should be invoked after the last test method of a test case class is run. This is the same phase where a method named <code class="docutils literal notranslate"><span class="pre">tearDownAfterClass()</span></code> would be invoked. We refer to such methods as “after test class” methods.</p> <p>When a test case class has more than one methods with the <code class="docutils literal notranslate"><span class="pre">AfterClass</span></code> attribute then, by default, the test runner assumes that the order in which these methods are invoked does not matter. If this assumption is wrong and the order in which these methods are invoked does matter then the attribute’s optional <code class="docutils literal notranslate"><span class="pre">$priority</span></code> argument (non-negative integer) can be used to define the desired invocation order: a method with a higher <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value is invoked before a method with a lower <code class="docutils literal notranslate"><span class="pre">$priority</span></code> value.</p> </section> </section> <section id="test-isolation"> <h2>Test Isolation<a class="headerlink" href="#test-isolation" title="Permalink to this heading"></a>
</h2> <section id="backupglobals"> <h3>
<code class="docutils literal notranslate"><span class="pre">BackupGlobals</span></code><a class="headerlink" href="#backupglobals" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">BackupGlobals</span></code> attribute can be used to specify that global and super-global variables should be backed up before a test and then restored after the test has been run.</p> </section> <section id="excludeglobalvariablefrombackup"> <h3>
<code class="docutils literal notranslate"><span class="pre">ExcludeGlobalVariableFromBackup</span></code><a class="headerlink" href="#excludeglobalvariablefrombackup" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">ExcludeGlobalVariableFromBackup($globalVariableName)</span></code> attribute can be used to exclude the specified global variable from the backup and restore operations for global and super-global variables.</p> </section> <section id="backupstaticproperties"> <h3>
<code class="docutils literal notranslate"><span class="pre">BackupStaticProperties</span></code><a class="headerlink" href="#backupstaticproperties" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">BackupStaticProperties</span></code> attribute can be used to specify that static properties of classes should be backed up before a test and then restored after the test has been run.</p> </section> <section id="excludestaticpropertyfrombackup"> <h3>
<code class="docutils literal notranslate"><span class="pre">ExcludeStaticPropertyFromBackup</span></code><a class="headerlink" href="#excludestaticpropertyfrombackup" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">ExcludeStaticPropertyFromBackup(string</span> <span class="pre">$className,</span> <span class="pre">string</span> <span class="pre">$propertyName)</span></code> attribute can be used to exclude the specified static property from the backup and restore operations for static properties of classes.</p> </section> <section id="runinseparateprocess"> <h3>
<code class="docutils literal notranslate"><span class="pre">RunInSeparateProcess</span></code><a class="headerlink" href="#runinseparateprocess" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>no</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RunInSeparateProcess</span></code> attribute can be used to specify that a test should be run in a separate process.</p> </section> <section id="runtestsinseparateprocesses"> <h3>
<code class="docutils literal notranslate"><span class="pre">RunTestsInSeparateProcesses</span></code><a class="headerlink" href="#runtestsinseparateprocesses" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RunTestsInSeparateProcesses</span></code> attribute can be used to specify that all tests of a test case class should be run in separate processes (one separate process per test).</p> </section> <section id="runclassinseparateprocess"> <h3>
<code class="docutils literal notranslate"><span class="pre">RunClassInSeparateProcess</span></code><a class="headerlink" href="#runclassinseparateprocess" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>no</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RunClassInSeparateProcess</span></code> attribute can be used to specify that all tests of a test case class should be run in a (single) separate process.</p> </section> <section id="preserveglobalstate"> <h3>
<code class="docutils literal notranslate"><span class="pre">PreserveGlobalState</span></code><a class="headerlink" href="#preserveglobalstate" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">PreserveGlobalState(bool</span> <span class="pre">$enabled)</span></code> attribute can be used to specify whether the global state of the main PHPUnit test runner process should be made available in the child process when a test is run in a separate process.</p> </section> </section> <section id="skipping-tests"> <h2>Skipping Tests<a class="headerlink" href="#skipping-tests" title="Permalink to this heading"></a>
</h2> <section id="requiresphp"> <h3>
<code class="docutils literal notranslate"><span class="pre">RequiresPhp</span></code><a class="headerlink" href="#requiresphp" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RequiresPhp(string</span> <span class="pre">$versionRequirement)</span></code> attribute can be used to <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-skipping-tests-skipping-tests-using-attributes"><span class="std std-ref">skip the execution of a test</span></a> when the PHP version used to run PHPUnit does not match the specified version requirement.</p> <p><code class="docutils literal notranslate"><span class="pre">$versionRequirement</span></code> can either be a <a class="reference external" href="https://www.php.net/manual/en/function.version-compare.php">version number string</a> that is optionally preceded by an operator supported by PHP’s <code class="docutils literal notranslate"><span class="pre">version_compare()</span></code> function or a <a class="reference external" href="https://getcomposer.org/doc/articles/versions.md#writing-version-constraints">version constraint</a> in the syntax that is supported by Composer.</p> <p>Here are some examples:</p> <ul class="simple"> <li><p><code class="docutils literal notranslate"><span class="pre">#[RequiresPhp('8.3.0')]</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">#[RequiresPhp('&gt;=</span> <span class="pre">8.3.0')]</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">#[RequiresPhp('^8.3')]</span></code></p></li> </ul> </section> <section id="requiresphpextension"> <h3>
<code class="docutils literal notranslate"><span class="pre">RequiresPhpExtension</span></code><a class="headerlink" href="#requiresphpextension" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RequiresPhpExtension(string</span> <span class="pre">$extension[,</span> <span class="pre">string</span> <span class="pre">$versionRequirement])</span></code> attribute can be used to <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-skipping-tests-skipping-tests-using-attributes"><span class="std std-ref">skip the execution of a test</span></a> when the specified PHP extension is not available. The optional <code class="docutils literal notranslate"><span class="pre">$versionRequirement</span></code> argument can be used to specify a version requirement for this PHP extension and follows the same format that is described <a class="reference internal" href="#appendixes-attributes-requiresphp"><span class="std std-ref">here</span></a>.</p> <p>Here are some examples:</p> <ul class="simple"> <li><p><code class="docutils literal notranslate"><span class="pre">#[RequiresPhpExtension('mysqli')]</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">#[RequiresPhpExtension('mysqli',</span> <span class="pre">'&gt;=</span> <span class="pre">8.3.0')]</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">#[RequiresPhpExtension('mysqli',</span> <span class="pre">'^8.3')]</span></code></p></li> </ul> </section> <section id="requiressetting"> <h3>
<code class="docutils literal notranslate"><span class="pre">RequiresSetting</span></code><a class="headerlink" href="#requiressetting" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RequiresSetting(string</span> <span class="pre">$setting,</span> <span class="pre">string</span> <span class="pre">$value)</span></code> attribute can be used to <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-skipping-tests-skipping-tests-using-attributes"><span class="std std-ref">skip the execution of a test</span></a> when the specified PHP configuration setting is not set to the expected value.</p> </section> <section id="requiresphpunit"> <h3>
<code class="docutils literal notranslate"><span class="pre">RequiresPhpunit</span></code><a class="headerlink" href="#requiresphpunit" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RequiresPhpunit(string</span> <span class="pre">$versionRequirement)</span></code> attribute can be used to <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-skipping-tests-skipping-tests-using-attributes"><span class="std std-ref">skip the execution of a test</span></a> when the PHPUnit version does not match the specified version requirement.</p> <p><code class="docutils literal notranslate"><span class="pre">$versionRequirement</span></code> can either be a <a class="reference external" href="https://www.php.net/manual/en/function.version-compare.php">version number string</a> that is optionally preceded by an operator supported by PHP’s <code class="docutils literal notranslate"><span class="pre">version_compare()</span></code> function or a <a class="reference external" href="https://getcomposer.org/doc/articles/versions.md#writing-version-constraints">version constraint</a> in the syntax that is supported by Composer.</p> <p>Here are some examples:</p> <ul class="simple"> <li><p><code class="docutils literal notranslate"><span class="pre">#[RequiresPhpunit('10.1.0')]</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">#[RequiresPhpunit('&gt;=</span> <span class="pre">10.1.0')]</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">#[RequiresPhpunit('^10.1')]</span></code></p></li> </ul> </section> <section id="requiresphpunitextension"> <h3>
<code class="docutils literal notranslate"><span class="pre">RequiresPhpunitExtension</span></code><a class="headerlink" href="#requiresphpunitextension" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RequiresPhpunitExtension(string</span> <span class="pre">$extensionClass)</span></code> attribute can be used to <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-skipping-tests-skipping-tests-using-attributes"><span class="std std-ref">skip the execution of a test</span></a> when the PHPUnit extension identified by its bootstrap class is not available.</p> </section> <section id="requiresfunction"> <h3>
<code class="docutils literal notranslate"><span class="pre">RequiresFunction</span></code><a class="headerlink" href="#requiresfunction" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RequiresFunction(string</span> <span class="pre">$functionName)</span></code> attribute can be used to <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-skipping-tests-skipping-tests-using-attributes"><span class="std std-ref">skip the execution of a test</span></a> when the specified global function is not declared.</p> </section> <section id="requiresmethod"> <h3>
<code class="docutils literal notranslate"><span class="pre">RequiresMethod</span></code><a class="headerlink" href="#requiresmethod" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RequiresMethod(string</span> <span class="pre">$className,</span> <span class="pre">string</span> <span class="pre">$methodName)</span></code> attribute can be used to <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-skipping-tests-skipping-tests-using-attributes"><span class="std std-ref">skip the execution of a test</span></a> when the specified method is not declared.</p> </section> <section id="requiresoperatingsystem"> <h3>
<code class="docutils literal notranslate"><span class="pre">RequiresOperatingSystem</span></code><a class="headerlink" href="#requiresoperatingsystem" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RequiresOperatingSystem(string</span> <span class="pre">$regularExpression)</span></code> attribute can be used to <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-skipping-tests-skipping-tests-using-attributes"><span class="std std-ref">skip the execution of a test</span></a> when the specified regular expression does not match the value of the <code class="docutils literal notranslate"><span class="pre">PHP_OS</span></code> constant provided by PHP.</p> </section> <section id="requiresoperatingsystemfamily"> <h3>
<code class="docutils literal notranslate"><span class="pre">RequiresOperatingSystemFamily</span></code><a class="headerlink" href="#requiresoperatingsystemfamily" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>no</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RequiresOperatingSystemFamily(string</span> <span class="pre">$operatingSystemFamily)</span></code> attribute can be used to <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-skipping-tests-skipping-tests-using-attributes"><span class="std std-ref">skip the execution of a test</span></a> when the specified string is not identical to the value of the <code class="docutils literal notranslate"><span class="pre">PHP_OS_FAMILY</span></code> constant provided by PHP.</p> </section> <section id="requiresenvironmentvariable"> <h3>
<code class="docutils literal notranslate"><span class="pre">RequiresEnvironmentVariable</span></code><a class="headerlink" href="#requiresenvironmentvariable" title="Permalink to this heading"></a>
</h3> <table class="docutils align-default"> <thead> <tr class="row-odd">
<th class="head"><p>Class Level</p></th> <th class="head"><p>Method Level</p></th> <th class="head"><p>Repeatable</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>yes</p></td> <td><p>yes</p></td> <td><p>yes</p></td> </tr> </tbody> </table> <p>The <code class="docutils literal notranslate"><span class="pre">RequiresEnvironmentVariable(string</span> <span class="pre">$environmentVariableName[,</span> <span class="pre">string</span> <span class="pre">$value])</span></code> attribute can be used to <a class="reference internal" href="writing-tests-for-phpunit.html#writing-tests-for-phpunit-skipping-tests-skipping-tests-using-attributes"><span class="std std-ref">skip the execution of a test</span></a> when the specified environment variable is not set. Optionally, using the the <code class="docutils literal notranslate"><span class="pre">$value</span></code> argument, a required value can be specified for the environment variable.</p> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2025 Sebastian Bergmann<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>
    <a href="https://docs.phpunit.de/en/12.0/attributes.html" class="_attribution-link">https://docs.phpunit.de/en/12.0/attributes.html</a>
  </p>
</div>
