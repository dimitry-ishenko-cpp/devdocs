<header><h1>position-anchor</h1>
<details class="baseline-indicator not"><summary><h2><span class="not-bold">Limited availability</span></h2>

</summary><div class="extra">
<p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FCSS%2Fposition-anchor&amp;level=not" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content">
<div class="notecard experimental"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The <code>position-anchor</code> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a> property specifies the anchor name of the <strong>anchor element</strong> (i.e. an element that has an <strong>anchor name</strong> set on it via the <a href="anchor-name.html"><code>anchor-name</code></a> property) a positioned element is associated with.</p>
</div>
<section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="css">/* Single values */
position-anchor: auto;
position-anchor: --anchorName;

/* Global values */
position-anchor: inherit;
position-anchor: initial;
position-anchor: revert;
position-anchor: revert-layer;
position-anchor: unset;
</pre></div></div></section><section aria-labelledby="values"><h3 id="values">Values</h3>
<div class="section-content"><dl> <dt id="auto"><a href="#auto"><code>auto</code></a></dt> <dd> <p>Associates a positioned element with its implicit anchor element, if it has one — for example as set by the non-standard HTML <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/anchor"><code>anchor</code></a> attribute.</p> </dd> <dt id="dashed-ident"><a href="dashed-ident.html"><code>&lt;dashed-ident&gt;</code></a></dt> <dd> <p>The name of the anchor element to associate the positioned element with, as listed in the anchor element's <a href="anchor-name.html"><code>anchor-name</code></a> property. This is known as the <strong>default anchor specifier</strong>.</p> </dd> </dl></div></section><section aria-labelledby="description"><h2 id="description">Description</h2>
<div class="section-content">
<p>This property is only relevant to "positioned" elements — elements and pseudo elements that have a <a href="position.html"><code>position</code></a> of <code>absolute</code> or <code>fixed</code> set.</p> <p>To position an element relative to an anchor element, the positioned element requires three features: an association, a position, and a location. The <code>position-anchor</code> and <a href="anchor-name.html"><code>anchor-name</code></a> properties provide the association.</p> <p>The anchor element accepts one or more <code>&lt;dashed-ident&gt;</code> anchor names set on it via the <code>anchor-name</code> property. When one of those names is then set as the value of the positioned element's <code>position-anchor</code> property, the two elements are associated.</p> <p>If there are multiple anchor elements with the anchor name listed in the <code>position-anchor</code> property, the positioned element will be associated with the last anchor element in the source order with that anchor name.</p> <p>To tether a positioned element to its anchor, it must be placed relative to an anchor element using an anchor positioning feature, such as the <a href="anchor.html"><code>anchor()</code></a> function (set as a value on <a href="https://developer.mozilla.org/en-US/docs/Glossary/Inset_properties">inset properties</a>) or the <a href="position-area.html"><code>position-area</code></a> property.</p> <p>If the associated anchor is hidden, for example with <a href="display.html"><code>display: none</code></a> or <a href="visibility.html"><code>visibility: hidden</code></a>, or if it is part of the <a href="css_containment/using_css_containment.html#skips_its_contents">skipped contents</a> of another element due to it having <a href="content-visibility.html"><code>content-visibility: hidden</code></a> set on it, the anchor positioned element will not be displayed.</p> <p>The <code>position-anchor</code> property is supported on all elements that are positioned, including <a href="pseudo-elements.html">pseudo-elements</a> like <a href="::before.html"><code>::before</code></a> and <a href="::after.html"><code>::after</code></a>. Pseudo elements are implicitly anchored to the same element as the pseudo-element's originating element, unless otherwise specified.</p> <p>For more information on anchor features and usage, see the <a href="css_anchor_positioning.html">CSS anchor positioning</a> module landing page and the <a href="css_anchor_positioning/using.html">Using CSS anchor positioning</a> guide.</p>
</div></section><section aria-labelledby="formal_definition"><h2 id="formal_definition">Formal definition</h2>
<div class="section-content"><figure class="table-container"><div class="_table"><table class="properties"><tbody>
<tr>
<th scope="row"><a href="initial_value.html">Initial value</a></th>
<td><code>auto</code></td>
</tr>
<tr>
<th scope="row">Applies to</th>
<td>absolutely positioned elements</td>
</tr>
<tr>
<th scope="row"><a href="inheritance.html">Inherited</a></th>
<td>no</td>
</tr>
<tr>
<th scope="row"><a href="computed_value.html">Computed value</a></th>
<td>as specified</td>
</tr>
<tr>
<th scope="row"><a href="css_animated_properties.html">Animation type</a></th>
<td>discrete</td>
</tr>
</tbody></table></div></figure></div></section><section aria-labelledby="formal_syntax"><h2 id="formal_syntax">Formal syntax</h2>
<div class="section-content"><pre class="notranslate"><span class="token property" id="position-anchor">position-anchor = </span><br>  <span class="token keyword">auto</span>           <a href="value_definition_syntax.html#single_bar">|</a><br>  <span class="token property">&lt;anchor-name&gt;</span>  <br><br><span class="token property" id="&lt;anchor-name&gt;">&lt;anchor-name&gt; = </span><br>  <a href="dashed-ident.html"><span class="token property">&lt;dashed-ident&gt;</span></a>  <br><br></pre></div></section><section aria-labelledby="examples"><h2 id="examples">Examples</h2>
<div class="section-content"><p>See the <code>anchor-name</code> documentation for <a href="anchor-name.html#basic_usage">basic usage</a> and additional <a href="anchor-name.html#examples"><code>position-anchor</code> examples</a>.</p></div></section><section aria-labelledby="using_a_slider_thumb_as_an_anchor"><h3 id="using_a_slider_thumb_as_an_anchor">Using a slider thumb as an anchor</h3>
<div class="section-content">
<p>In this example, an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/output"><code>&lt;output&gt;</code></a> is positioned relative to an anchor that is the thumb of a range slider.</p> <h4 id="html">HTML</h4> <p>We include an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/range"><code>&lt;input type="range"&gt;</code></a> element and an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/output"><code>&lt;output&gt;</code></a> element to display the value of the range. The value displayed in the <code>&lt;output&gt;</code> element is updated via JavaScript as the slider value changes.</p> <div class="code-example"><pre data-language="html">&lt;label for="slider"&gt;Change the value:&lt;/label&gt;
&lt;input type="range" min="0" max="100" value="25" id="slider" /&gt;
&lt;output&gt;25&lt;/output&gt;
</pre></div> <h4 id="css">CSS</h4> <p>We give the thumb, represented by the <a href="::-webkit-slider-thumb.html"><code>::-webkit-slider-thumb</code></a> pseudo-element, an anchor name of <code>--thumb</code>. We then set that name as the value of the <code>&lt;output&gt;</code> element's <code>position-anchor</code> property, and give it a <a href="position.html"><code>position</code></a> value of <code>fixed</code>. These steps associated the <code>&lt;output&gt;</code> with the thumb.</p> <p>Finally, we use <a href="left.html"><code>left</code></a> and <a href="top.html"><code>top</code></a> properties with <a href="anchor.html"><code>anchor()</code></a> values to position the <code>&lt;output&gt;</code> relative to the thumb.</p>  <div class="code-example"><pre data-language="css">input::-webkit-slider-thumb {
  anchor-name: --thumb;
}

output {
  position-anchor: --thumb;
  position: absolute;
  left: anchor(right);
  bottom: anchor(top);
}
</pre></div> <h4 id="javascript">JavaScript</h4> <p>We include an event listener that updates the content of the <code>&lt;output&gt;</code> element when the value of the <code>&lt;input&gt;</code> changes:</p> <div class="code-example"><pre data-language="js">const input = document.querySelector("input");
const output = document.querySelector("output");

input.addEventListener("input", (event) =&gt; {
  output.innerText = `${input.value}`;
});
</pre></div> <h4 id="results">Results</h4> <p>The output is anchored to the thumb. Change the value. If anchor positioning is supported in your browser, the value will be above and to the right of the thumb, no matter where it is along the slider.</p>
<div class="code-example"><iframe class="sample-code-frame" title="A range thumb as anchor sample" id="frame_a_range_thumb_as_anchor" width="100%" height="225" src="https://live.mdnplay.dev/en-US/docs/Web/CSS/position-anchor/runner.html?id=a_range_thumb_as_anchor" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe></div>
</div></section><section aria-labelledby="multiple_positioned_elements_and_anchors"><h3 id="multiple_positioned_elements_and_anchors">Multiple positioned elements and anchors</h3>
<div class="section-content">
<p>In this example, you can move multiple positioned elements around, associating them with different anchors. This example demonstrates how an anchor can be associated with multiple positioned elements, but an anchor-positioned element can only be associated with a single anchor at a time, the anchor defined by the <code>anchor-position</code> property.</p> <h4 id="html_2">HTML</h4> <p>We have four anchors and two positioned elements, distinguished with different <code>id</code> values. The positioned elements contain <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select"><code>&lt;select&gt;</code></a> boxes that allow you to choose which anchor you want to associate them with.</p> <div class="code-example"><pre data-language="html">&lt;div id="anchor-container"&gt;
  &lt;div class="anchor" id="anchor1"&gt;⚓︎&lt;/div&gt;
  &lt;div class="anchor" id="anchor2"&gt;⚓︎&lt;/div&gt;
  &lt;div class="anchor" id="anchor3"&gt;⚓︎&lt;/div&gt;
  &lt;div class="anchor" id="anchor4"&gt;⚓︎&lt;/div&gt;
&lt;/div&gt;

&lt;div class="infobox" id="infobox1"&gt;
  &lt;form&gt;
    &lt;label for="anchor1-anchor-select"&gt;Place infobox on:&lt;/label&gt;
    &lt;select id="anchor1-anchor-select"&gt;
      &lt;option value="1"&gt;Anchor 1&lt;/option&gt;
      &lt;option value="2"&gt;Anchor 2&lt;/option&gt;
      &lt;option value="3"&gt;Anchor 3&lt;/option&gt;
      &lt;option value="4"&gt;Anchor 4&lt;/option&gt;
    &lt;/select&gt;
  &lt;/form&gt;
&lt;/div&gt;

&lt;div class="infobox" id="infobox2"&gt;
  &lt;form&gt;
    &lt;label for="anchor2-anchor-select"&gt;Place infobox on:&lt;/label&gt;
    &lt;select id="anchor2-anchor-select"&gt;
      &lt;option value="1"&gt;Anchor 1&lt;/option&gt;
      &lt;option value="2"&gt;Anchor 2&lt;/option&gt;
      &lt;option value="3"&gt;Anchor 3&lt;/option&gt;
      &lt;option value="4"&gt;Anchor 4&lt;/option&gt;
    &lt;/select&gt;
  &lt;/form&gt;
&lt;/div&gt;
</pre></div> <h4 id="css_2">CSS</h4> <p>We declare the first <code>anchor</code> <code>&lt;div&gt;</code> as an anchor using the <code>anchor-name</code> property, which is given two comma-separated anchor names, one for each positioned element. This is the initial state of the demo — both positioned elements will be tethered to the first anchor.</p>  <div class="code-example"><pre data-language="css">#anchor1 {
  anchor-name: --myAnchor1, --myAnchor2;
}
</pre></div> <p>Each of the positioned elements is given a <code>position-anchor</code> property with a value matching one of the two anchor names. The positioned elements are then given anchor-relative positioning information using a combination of inset, alignment, and margin properties.</p>  <div class="code-example"><pre data-language="css">#infobox1 {
  position-anchor: --myAnchor1;
  position: fixed;
  left: anchor(right);
  align-self: anchor-center;
  margin-left: 10px;
}

#infobox2 {
  position-anchor: --myAnchor2;
  position: fixed;
  bottom: anchor(top);
  justify-self: anchor-center;
  margin-bottom: 15px;
}
</pre></div> <h4 id="javascript_2">JavaScript</h4> <p>We dynamically change which anchor elements the <code>anchor-name</code> values are set on in response to different anchors being selected in the positioned elements' <code>&lt;select&gt;</code> menus. The key functionality here is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/change_event"><code>change</code></a> event handler, <code>updateAnchorNames()</code>. It sets both anchor names on one anchor, if the anchors chosen in the two <code>&lt;select&gt;</code> menus are the same. Otherwise, it sets a single anchor name on two separate anchors as appropriate.</p> <div class="code-example"><pre data-language="js">// Get references to the two select menus
const select1 = document.querySelector("#anchor1-anchor-select");
const select2 = document.querySelector("#anchor2-anchor-select");
// Store references to all the anchors in a NodeList (array-like)
const anchors = document.querySelectorAll("#anchor-container &gt; div");

// Set the same change event handler on both select menus
select1.addEventListener("change", updateAnchorNames);
select2.addEventListener("change", updateAnchorNames);

function updateAnchorNames() {
  // Remove all anchor names from all anchors
  for (const anchor of anchors) {
    anchor.style.anchorName = "none";
  }

  // convert the select menu values to numbers, and remove one to
  // make them match the selected anchors' index positions in the NodeList
  const value1 = Number(select1.value) - 1;
  const value2 = Number(select2.value) - 1;

  if (value1 === value2) {
    // If the chosen anchors are both the same, set both anchor
    // names on the same anchor
    anchors[value1].style.anchorName = "--myAnchor1, --myAnchor2";
  } else {
    // If they are not the same, set the anchor names separately
    // on each selected anchor
    anchors[value1].style.anchorName = "--myAnchor1";
    anchors[value2].style.anchorName = "--myAnchor2";
  }
}
</pre></div> <h4 id="result">Result</h4> <p>Select different values from the drop-down menus to change the anchors that the elements are positioned relative to.</p>
<div class="code-example"><iframe class="sample-code-frame" title="Multiple positioned elements and anchors sample" id="frame_multiple_positioned_elements_and_anchors" width="100%" height="400" src="https://live.mdnplay.dev/en-US/docs/Web/CSS/position-anchor/runner.html?id=multiple_positioned_elements_and_anchors" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe></div>
</div></section><h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://drafts.csswg.org/css-anchor-position-1/#position-anchor">CSS Anchor Positioning <br><small># position-anchor</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>position-anchor</code></th>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">83</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">27.0</td>
<td class="bc-supports-yes">125</td>
</tr>
<tr>
<th><code>auto</code></th>
<td class="bc-supports-yes"><details><summary>125</summary>The generic <code>auto</code> value exists, but it does not yet have the effect described in the spec.</details></td>
<td class="bc-supports-yes"><details><summary>125</summary>The generic <code>auto</code> value exists, but it does not yet have the effect described in the spec.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>111</summary>The generic <code>auto</code> value exists, but it does not yet have the effect described in the spec.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>125</summary>The generic <code>auto</code> value exists, but it does not yet have the effect described in the spec.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>83</summary>The generic <code>auto</code> value exists, but it does not yet have the effect described in the spec.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>27.0</summary>The generic <code>auto</code> value exists, but it does not yet have the effect described in the spec.</details></td>
<td class="bc-supports-yes"><details><summary>125</summary>The generic <code>auto</code> value exists, but it does not yet have the effect described in the spec.</details></td>
</tr>
</tbody>
</table></div>
<section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="anchor-name.html"><code>anchor-name</code></a></li> <li>HTML <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/anchor"><code>anchor</code></a> attribute</li> <li>
<a href="css_anchor_positioning.html">CSS anchor positioning</a> module</li> <li>
<a href="css_anchor_positioning/using.html">Using CSS anchor positioning</a> guide</li> </ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position-anchor" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/position-anchor</a>
  </p>
</div>
