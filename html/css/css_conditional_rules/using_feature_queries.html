<header><h1>Using feature queries</h1></header><div class="section-content">
<p><strong>Feature queries</strong> are conditional group rules that test whether the user agent supports or doesn't support one or more CSS features, such as CSS properties and property values. Feature queries give web developers a way to test to see if a browser has support for a certain feature, and then provide CSS that will only run based on the result of that test. In this guide, you will learn how to implement progressive enhancement using feature queries.</p> <p>Feature queries are created using the CSS at-rule <a href="../@supports.html"><code>@supports</code></a> (or the <code>supports()</code> function within <a href="../@import.html"><code>@import</code></a> at-rules).</p>
</div>
<section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content">
<p>CSS feature queries are part of the <a href="../css_conditional_rules.html">CSS conditional rules</a> module, which also defines the media query <a href="../@media.html"><code>@media</code></a> at-rule. Feature queries behave similarly to <a href="../css_media_queries/using_media_queries.html">media queries</a>. The difference is that with a media query, you are testing something about the environment in which the web page is running, whereas with feature queries you are testing browser support for CSS features.</p> <p>A feature query consists of the <code>@supports</code> at-rule followed by the support condition or a <code>supports()</code> function and declaration parameter within an <code>@import</code> at-rule declaration:</p> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="QE6li2F6ZOoho61kwvc4Wg12ipV8+pTs3PT0Sh2Bozk=" data-language="css"><span class="token comment">/* `@supports` at-rule */</span>
<span class="token atrule"><span class="token rule">@supports</span> &lt;support-condition&gt;</span> <span class="token punctuation">{</span>
  CSS rules to apply
<span class="token punctuation">}</span>

<span class="token comment">/* `supports()` function */</span>
<span class="token atrule"><span class="token rule">@import</span> url_to_import <span class="token function">supports</span><span class="token punctuation">(</span>&lt;declaration&gt;<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</pre>
</div> <p>For example, we can apply a set of styles or import an entire stylesheet if the user-agent supports <code>red</code> as a valid value for the CSS <a href="../color.html"><code>color</code></a> property:</p> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="3ulu8u1UkO3KKdURtQ37sCttFWviSR/M0UIEL85PnkI=" data-language="css"><span class="token comment">/* `@supports` at-rule */</span>
<span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  CSS rules to apply
<span class="token punctuation">}</span>

<span class="token comment">/* `supports()` function */</span>
<span class="token atrule"><span class="token rule">@import</span> `/css/styles.css` <span class="token function">supports</span><span class="token punctuation">(</span><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</pre>
</div> <p>As another example, if you want to check if a browser supports the <code>row-gap</code> property you would write the following feature query. It doesn't matter which value you use in a lot of cases: if all you want is to check that the browser supports this property, then any valid value will do.</p>
<iframe width="100%" height="600" src="https://mdn.github.io/css-examples/feature-queries/simple.html" loading="lazy"></iframe> <p>The value part of the property-value pair matters more if you are testing for new values of a particular property. All browsers support <code>color: red</code>: this dates back to CSS1. However, there are often additional values added to properties in CSS, like <a href="../css_colors/relative_colors.html">relative colors</a>, which may not be supported. Feature queries enable testing property and value pairs, meaning we can detect support for values.</p> <p>Expanding on the <code>color</code> property example above, here we check if the browser supports the <code>color: AccentColor</code> declaration:</p> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="E0soeacKC37H07J6lYqmGS9rQNHjZwLcxgI0wxZXv3Y=" data-language="css"><span class="token comment">/* `@supports` at-rule */</span>
<span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">color</span><span class="token punctuation">:</span> AccentColor<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  CSS rules to apply
<span class="token punctuation">}</span>

<span class="token comment">/* `supports()` function */</span>
<span class="token atrule"><span class="token rule">@import</span> `/css/styles.css` <span class="token function">supports</span><span class="token punctuation">(</span><span class="token property">color</span><span class="token punctuation">:</span> AccentColor<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</pre>
</div> <p>In these examples, we've used feature queries to check if the user-agent supports a specific value of a CSS property, listing the single declaration within parenthesis. You can test for multiple property values or the lack of support.</p>
</div></section><section aria-labelledby="testing_for_lack_of_support"><h2 id="testing_for_lack_of_support">Testing for lack of support</h2>
<div class="section-content">
<p>In addition to asking the browser if it supports a feature, you can test for the opposite by adding in the <code>not</code> keyword:</p> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="wTA4Rhfvcbdb83D9ISOuQ7NcArDKkzQfcyYFRyE3jHM=" data-language="css"><span class="token comment">/* `@supports` at-rule with `not` */</span>
<span class="token atrule"><span class="token rule">@supports</span> <span class="token keyword">not</span> <span class="token punctuation">(</span><span class="token property">property</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  CSS rules to apply
<span class="token punctuation">}</span>
</pre>
</div> <p>The CSS inside the following example feature query will run if the browser does not support <code>row-gap</code>.</p>
<iframe width="100%" height="600" src="https://mdn.github.io/css-examples/feature-queries/not.html" loading="lazy"></iframe>
</div></section><section aria-labelledby="testing_for_more_than_one_feature"><h2 id="testing_for_more_than_one_feature">Testing for more than one feature</h2>
<div class="section-content">
<p>You may need to test support for more than one property in your feature query. To do so, you can include a list of features to test for, separated by <code>and</code> keywords:</p> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="PDCXeLi/CzNc1pkpJcBNUtWNGY1BlF0tCjfUjXsr0jQ=" data-language="css"><span class="token comment">/* multiple feature `@supports` at-rule */</span>
<span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">property1</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">property2</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  CSS rules to apply
<span class="token punctuation">}</span>
</pre>
</div> <p>For example, if the CSS you want to run requires that the browser supports CSS Shapes and CSS grid, you could create a rule that tests browser support for both of these features. The following rule will only return true if <code>shape-outside: circle()</code> and <code>display: grid</code> are both supported by the browser.</p>
<iframe width="100%" height="600" src="https://mdn.github.io/css-examples/feature-queries/and.html" loading="lazy"></iframe>
</div></section><section aria-labelledby="testing_for_at_least_one_of_multiple_features"><h2 id="testing_for_at_least_one_of_multiple_features">Testing for at least one of multiple features</h2>
<div class="section-content">
<p>You can also use <code>or</code> to apply CSS only if one or more declarations are supported:</p> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="naecFGRXsDBYYnKggdCHN3ifi7C2RCxPt/xMFr9OMso=" data-language="css"><span class="token comment">/* any feature `@supports` at-rule */</span>
<span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">property1</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span><span class="token property">property2</span><span class="token punctuation">:</span> value<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  CSS rules to apply
<span class="token punctuation">}</span>
</pre>
</div> <p>This can be particularly useful if a feature is vendor prefixed, as you can test for the standard property plus any vendor prefixes.</p>
<iframe width="100%" height="600" src="https://mdn.github.io/css-examples/feature-queries/or.html" loading="lazy"></iframe>
</div></section><section aria-labelledby="additional_feature_query_options"><h2 id="additional_feature_query_options">Additional feature query options</h2>
<div class="section-content">
<p>Feature queries are not limited to property-value pairs. You can include <a href="../@supports.html#font-tech"><code>font-tech()</code></a>, <a href="../@supports.html#font-format"><code>font-format()</code></a>, and <a href="../@supports.html#function_syntax"><code>selector()</code></a> functions in your feature queries to selectively apply CSS based on whether the user-agent supports a specified font technology, font format, or selector syntax, respectively.</p> <p>For example, the <code>selector()</code> function can be used to import a stylesheet for browsers that support a vendor-prefixed pseudo-element:</p> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="bUcYjdHo75d+FzeSAdUqGc5UTznHVMR2jot2ifHX8lg=" data-language="css"><span class="token comment">/* A `selector()` query within a `supports()` function */</span>
<span class="token atrule"><span class="token rule">@import</span> `/css/webkitShadowStyles.css`
  <span class="token function">supports</span><span class="token punctuation">(</span><span class="token function">selector</span><span class="token punctuation">(</span><span class="token selector-function-argument selector">::-webkit-inner-spin-button</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
</pre>
</div>
</div></section><section aria-labelledby="examples"><h2 id="examples">Examples</h2>
</section><section aria-labelledby="browser_support_test"><h3 id="browser_support_test">Browser support test</h3>
<div class="section-content">
<p>In this example, we check if the browser supports the <code>AccentColor</code> <a href="../system-color.html"><code>&lt;system-color&gt;</code></a> and use <code>display: none</code> to change the default "not supported" message to a "supported" message if the color type is supported.</p> <h4 id="html">HTML</h4> <div class="code-example">
<div class="example-header"><span class="language-name">html</span></div>
<pre data-signature="s2q5qg4rjG2MxxDIqsN7oiRJpox0hv4JEMsysr1sxvQ=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>accentcolor<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  Your browser does <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>not<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> support <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span>AccentColor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span> as a color
  value.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <h4 id="css">CSS</h4> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="dTwUu01YVm0HnbmWmG4RTucdys55vx7j7+0T6sbc+oE=" data-language="css"><span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">color</span><span class="token punctuation">:</span> AccentColor<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px solid<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">span</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@supports</span> <span class="token keyword">not</span> <span class="token punctuation">(</span><span class="token property">color</span><span class="token punctuation">:</span> AccentColor<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
</div> <h4 id="results">Results</h4>
<div class="code-example" id="sect1">

<iframe class="sample-code-frame" title="Browser support test sample" id="frame_browser_support_test" width="600" height="60" src="https://live.mdnplay.dev/en-US/docs/Web/CSS/CSS_conditional_rules/Using_feature_queries/runner.html?id=browser_support_test" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe>
</div>
</div></section><section aria-labelledby="limitations_of_feature_queries"><h2 id="limitations_of_feature_queries">Limitations of feature queries</h2>
<div class="section-content"><p>The <code>@supports</code> rule tests to see if browsers can parse one or more property/value pairs, and therefore if they claim to support the associated feature(s). If the property/value pairs are understood by a browser it returns a positive response. Feature queries check that declarations are considered valid by a browser, but can't be used to check if it supports a feature properly without bugs or spec violations. Feature queries cannot test for <em>partial implementations</em>.</p></div></section><section aria-labelledby="summary"><h2 id="summary">Summary</h2>
<div class="section-content">
<p>Feature queries are a useful tool for progressively enhancing a site. They enable you to provide a good solution for all browsers, and an enhanced solution for browsers that support newer properties and values.</p> <p>You don't need to use feature queries to start using new CSS features; CSS error handling means the browser simply ignores CSS it does not yet recognize. However, feature queries are a useful alternative to fallback declarations, and enable writing code once that can eventually be supported everywhere.</p>
</div></section><section aria-labelledby="see_also"><h3 id="see_also">See also</h3>
<div class="section-content"><ul> <li>
<a href="../css_conditional_rules.html">CSS conditional rules</a> module</li> <li><a href="../css_media_queries/using_media_queries.html">Using CSS media queries</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Supporting_Older_Browsers#feature_queries">Supporting older browsers: feature queries</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Cross_browser_testing/Feature_detection#supports">Browser feature detection: CSS <code>@supports</code></a></li> </ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_conditional_rules/Using_feature_queries" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_conditional_rules/Using_feature_queries</a>
  </p>
</div>
