<header><h1>Using CSS nesting</h1></header><div class="section-content">
<p>The <a href="../css_nesting.html">CSS Nesting</a> module allows you to write your stylesheets so that they are easier to read, more modular, and more maintainable. As you are not constantly repeating selectors, the file size can also be reduced.</p> <p>CSS nesting is different from CSS preprocessors such as <a href="https://sass-lang.com/" target="_blank">Sass</a> in that it is parsed by the browser rather than being pre-compiled by a CSS preprocessor. Also, in CSS nesting, the <a href="nesting_and_specificity.html">specificity of the <code>&amp;</code> nesting selector</a> is similar to the <a href="../:is.html"><code>:is()</code></a> function; it is calculated using the highest specificity in the associated selector list.</p> <p>This guide shows different ways to arrange nesting in CSS.</p> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> Early versions of the specification did not allow nesting of <a href="../type_selectors.html">type selectors</a> without the <a href="../nesting_selector.html"><code>&amp;</code> nesting selector</a>. This has been updated so the <code>&amp;</code> nesting selector is no longer needed. At the time of writing (Aug. 2023) Firefox supports the new version of the specification while Chrome and Safari support the old version of the specification and must use the <code>&amp;</code> nesting selector for type selector nesting.</p> </div>
</div>
<section aria-labelledby="child_selectors"><h2 id="child_selectors">Child selectors</h2>
<div class="section-content">
<p>You can use CSS nesting to create child selectors of a parent, which in turn can be used to target child elements of specific parents. This can be done with or without the <a href="../nesting_selector.html"><code>&amp;</code> nesting selector</a>.</p> <p>There are certain instances where using the <code>&amp;</code> nesting selector can be necessary or helpful:</p> <ul> <li>When joining selectors together, such as using <a href="#compound_selectors">compound selectors</a> or <a href="../pseudo-classes.html">pseudo-classes</a>.</li> <li>For backwards compatability.</li> <li>As a visual indicator to aid with readability, when seeing the <code>&amp;</code> nesting selector you know that CSS nesting is being used.</li> </ul> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="DYHxVu4dTE+vu05kbxUmGXeh/Lj+ZNYqSeCcb0rLF8U=" data-language="css"><span class="token comment">/* Without nesting selector */</span>
<span class="token selector">parent</span> <span class="token punctuation">{</span>
  <span class="token comment">/* parent styles */</span>
  <span class="token selector">child</span> <span class="token punctuation">{</span>
    <span class="token comment">/* child of parent styles */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* With nesting selector */</span>
<span class="token selector">parent</span> <span class="token punctuation">{</span>
  <span class="token comment">/* parent styles */</span>
  <span class="token selector">&amp; child</span> <span class="token punctuation">{</span>
    <span class="token comment">/* child of parent styles */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* the browser will parse both of these as */</span>
<span class="token selector">parent</span> <span class="token punctuation">{</span>
  <span class="token comment">/* parent styles */</span>
<span class="token punctuation">}</span>
<span class="token selector">parent child</span> <span class="token punctuation">{</span>
  <span class="token comment">/* child of parent styles */</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div></section><section aria-labelledby="examples"><h3 id="examples">Examples</h3>
<div class="section-content">
<p>In these examples, one without and one with the <code>&amp;</code> nesting selector, the <code>&lt;input&gt;</code> inside the <code>&lt;label&gt;</code> is being styled differently to the <code>&lt;input&gt;</code> that is a sibling of a <code>&lt;label&gt;</code>. This demonstrates the impact of omitting the <code>&amp;</code> nesting selector.</p> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> This example demonstrates different outputs in browsers implementing the original specification versus the current nesting spec. The original, pre-August 2023 nesting spec that was implemented in Chrome or Safari, requires the <code>&amp;</code> nesting combinator. If your browser supports the current spec, the output of both examples matches that of the second example.</p> </div> <h4 id="without_nesting_selector">Without nesting selector</h4> <h5 id="html">HTML</h5> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="qrVVpLca3YwGNSwT4I3X8ewWIhfs7tVQn7ZN3Mwl1p8=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Name:
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>email:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <h5 id="css">CSS</h5>  <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="7Pcp122BKgSudzsmHR6ekqfe4TA1hQFy+U22vNDpObY=" data-language="css"><span class="token selector">input</span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles for input not in a label  */</span>
  <span class="token property">border</span><span class="token punctuation">:</span> tomato 2px solid<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">label</span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles for label */</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> system-ui<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 1.25rem<span class="token punctuation">;</span>
  <span class="token selector">input</span> <span class="token punctuation">{</span>
    <span class="token comment">/* styles for input in a label  */</span>
    <span class="token property">border</span><span class="token punctuation">:</span> blue 2px dashed<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
</div> <h5 id="result">Result</h5>
<div class="code-example" id="sect3">

<iframe class="sample-code-frame" title="Without nesting selector sample" id="frame_without_nesting_selector" width="100%" height="120" src="https://live.mdnplay.dev/en-US/docs/Web/CSS/CSS_nesting/Using_CSS_nesting/runner.html?id=without_nesting_selector" loading="lazy"></iframe>
</div> <h4 id="with_nesting_selector">With nesting selector</h4> <h5 id="html_2">HTML</h5> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="qrVVpLca3YwGNSwT4I3X8ewWIhfs7tVQn7ZN3Mwl1p8=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Name:
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>email:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <h5 id="css_2">CSS</h5>  <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="p686Nr6f6deszBqsDRa2nJ3/xS+LPugAzNq7J/k7Rl8=" data-language="css"><span class="token selector">input</span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles for input not in a label  */</span>
  <span class="token property">border</span><span class="token punctuation">:</span> tomato 2px solid<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">label</span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles for label */</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> system-ui<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 1.25rem<span class="token punctuation">;</span>
  <span class="token selector">&amp; input</span> <span class="token punctuation">{</span>
    <span class="token comment">/* styles for input in a label  */</span>
    <span class="token property">border</span><span class="token punctuation">:</span> blue 2px dashed<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
</div> <h5 id="result_2">Result</h5>
<div class="code-example" id="sect4">

<iframe class="sample-code-frame" title="With nesting selector sample" id="frame_with_nesting_selector" width="100%" height="120" src="https://live.mdnplay.dev/en-US/docs/Web/CSS/CSS_nesting/Using_CSS_nesting/runner.html?id=with_nesting_selector" loading="lazy"></iframe>
</div>
</div></section><section aria-labelledby="combinators"><h2 id="combinators">Combinators</h2>
<div class="section-content"><p><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors/Combinators">CSS Combinators</a> can also be used with or without the <code>&amp;</code> nesting selector.</p></div></section><section aria-labelledby="example"><h3 id="example">Example</h3>
<div class="section-content">
<h4 id="nesting_the_sibling_combinator">Nesting the sibling combinator</h4> <p>In this example, the first paragraph after each <code>&lt;h2&gt;</code> is targeted with the <a href="../next-sibling_combinator.html">next-sibling combinator (<code>+</code>)</a> using CSS nesting.</p> <h5 id="html_3">HTML</h5> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="ixFGrn4v3BaQ1C48UvCgOnRnH/1YGhdsFgg30MTiBbw=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Heading<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is the first paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is the second paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <h5 id="css_3">CSS</h5> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="VPKOtiedNRYykzDJ5DqIAZ3ILylNPTqu99kXrwWJu58=" data-language="css"><span class="token selector">h2</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> tomato<span class="token punctuation">;</span>
  <span class="token selector">+ p</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* this code can also be written with the &amp; nesting selector */</span>
<span class="token comment">/* 
h2 {
  color: tomato;
  &amp; + p {
    color: white;
    background-color: black;
  }
}
*/</span>
</pre>
</div> <h5 id="result_3">Result</h5>
<div class="code-example" id="sect5">

<iframe class="sample-code-frame" title="Nesting the sibling combinator sample" id="frame_nesting_the_sibling_combinator" width="100%" height="135" src="https://live.mdnplay.dev/en-US/docs/Web/CSS/CSS_nesting/Using_CSS_nesting/runner.html?id=nesting_the_sibling_combinator" loading="lazy"></iframe>
</div>
</div></section><section aria-labelledby="compound_selectors"><h2 id="compound_selectors">Compound selectors</h2>
<div class="section-content">
<p>When using <a href="../css_selectors/selector_structure.html#compound_selector">compound selectors</a> in nested CSS you <strong>have</strong> to use the <code>&amp;</code> nesting selector. This is because the browser will automatically add whitespace between selectors that do not use the <code>&amp;</code> nesting selector.</p> <p>In order to target an element with <code>class="a b"</code> the <code>&amp;</code> nesting selector is needed otherwise the whitespace will break the compound selector.</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="6vs3o/fk2nylarE1wO50cgUP93OMAPr0HI3rWxTKAZw=" data-language="css"><span class="token selector">.a</span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles for element with class="a" */</span>
  <span class="token selector">.b</span> <span class="token punctuation">{</span>
    <span class="token comment">/* styles for element with class="b" which is a descendant of class="a" */</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp;.b</span> <span class="token punctuation">{</span>
    <span class="token comment">/* styles for element with class="a b" */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* the browser parses this as */</span>
<span class="token selector">.a</span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles for element with class="a" */</span>
<span class="token punctuation">}</span>
<span class="token selector">.a .b</span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles for element with class="b" which is a descendant of class="a" */</span>
<span class="token punctuation">}</span>
<span class="token selector">.a.b</span> <span class="token punctuation">{</span>
  <span class="token comment">/* styles for element with class="a b" */</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div></section><section aria-labelledby="example_2"><h3 id="example_2">Example</h3>
<div class="section-content">
<h4 id="nesting_and_compound_selectors">Nesting and compound selectors</h4> <p>In this example the <code>&amp;</code> nesting selector is used to create compound selectors to style elements with multiple classes.</p> <h5 id="html_4">HTML</h5> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="4y8k9bLAAbXh2NbveNlpfOCnLPlyWH0ZgVJRYuvF9zQ=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>notices<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>notice<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>notice-heading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Notice<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Lorem ipsum dolor sit amet consectetur adipisicing elit.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>notice warning<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>warning-heading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Warning<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Lorem ipsum dolor sit amet consectetur adipisicing elit.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>notice success<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>success-heading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Success<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Lorem ipsum dolor sit amet consectetur adipisicing elit.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <h5 id="css_4">CSS</h5> <p>Styles for the <code>.notices</code> to create a column using <a href="../css_flexible_box_layout.html"><code>flexbox layout</code></a>.</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="LgNkupCY/mW69Q8dmRxtURD/kOGgLcUbV0zi9yqR/CA=" data-language="css"><span class="token selector">.notices</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token property">gap</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 90%<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>In the CSS code below, nesting is used to create compound selectors both with and without <code>&amp;</code>. The top-level selector defines the basic styles for elements with <code>class="notice"</code>. The <code>&amp;</code> nesting selector is then used to create compound selectors for elements with either <code>class="notice warning"</code> or <code>class="notice success"</code>. Additionally, the use of nesting to create compound selectors without explicitly using <code>&amp;</code> can be seen in the selector <code>.notice .notice-heading:before</code>.</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="ovk2XBVpzZkd1HYKBTeGz5bsgMlyhZb2IDB8OVJnklM=" data-language="css"><span class="token selector">.notice</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 90%<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> black solid 2px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #ffc107<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
  <span class="token selector">.notice-heading:before</span> <span class="token punctuation">{</span>
    <span class="token comment">/* equivalent to `.notice .notice-heading:before` */</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"ℹ︎ "</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp;.warning</span> <span class="token punctuation">{</span>
    <span class="token comment">/* equivalent to `.notice.warning` */</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #d81b60<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> #d81b60<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
    <span class="token selector">.warning-heading:before</span> <span class="token punctuation">{</span>
      <span class="token comment">/* equivalent to `.notice.warning .warning-heading:before` */</span>
      <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"! "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp;.success</span> <span class="token punctuation">{</span>
    <span class="token comment">/* equivalent to `.notice.success` */</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #004d40<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> #004d40<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
    <span class="token selector">.success-heading:before</span> <span class="token punctuation">{</span>
      <span class="token comment">/* equivalent to `.notice.success .success-heading:before` */</span>
      <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"✓ "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
</div> <h5 id="result_4">Result</h5>
<div class="code-example" id="sect6">

<iframe class="sample-code-frame" title="Nesting and compound selectors sample" id="frame_nesting_and_compound_selectors" width="100%" height="455" src="https://live.mdnplay.dev/en-US/docs/Web/CSS/CSS_nesting/Using_CSS_nesting/runner.html?id=nesting_and_compound_selectors" loading="lazy"></iframe>
</div>
</div></section><section aria-labelledby="appended_nesting_selector"><h2 id="appended_nesting_selector">Appended nesting selector</h2>
<div class="section-content">
<p>The <code>&amp;</code> nesting selector can also be appended to a nested selector which has the effect of reversing the context.</p> <p>This can be useful when we have styles for a child element that change when a parent element is given a different class:</p> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="agzx8HIreWpp2AFO1bBCauL0Rf9RaJ973QbJZltUXEw=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <p>As opposed to:</p> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="jvleJoA6rfuzQpI+aAWltd556uI8hQb3e3r6jzsrNwk=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bar<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="qxhRKADIJ22wMAnUjuxKi/VnNIcb61H97hVSU0sUnqc=" data-language="css"><span class="token selector">.foo</span> <span class="token punctuation">{</span>
  <span class="token comment">/* .foo styles */</span>
  <span class="token selector">.bar &amp;</span> <span class="token punctuation">{</span>
    <span class="token comment">/* .bar .foo styles */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div></section><section aria-labelledby="example_3"><h3 id="example_3">Example</h3>
<div class="section-content">
<h4 id="appending_nesting_selector">Appending nesting selector</h4> <p>In this example there are 3 cards, one of which is featured. The cards are all exactly the same except the featured card will have an alternative color for the heading. By appending the <code>&amp;</code> nesting selector the style for the .featured .h2 can be nested in the style for the <code>h2</code>.</p> <h5 id="html_5">HTML</h5> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="usd8M04hdY7GYEjiHp0chuBFFL92jY6pT+KBcv+o1UA=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Card 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Lorem ipsum dolor, sit amet consectetur adipisicing elit.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card featured<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Card 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Lorem ipsum dolor, sit amet consectetur adipisicing elit.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Card 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Lorem ipsum dolor, sit amet consectetur adipisicing elit.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <h5 id="css_5">CSS</h5> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="VdeudYVSmGdLEr7WPJLJZc+MBqs4k4a1DUDS8I0B55Q=" data-language="css"><span class="token selector">.wrapper</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
  <span class="token property">gap</span><span class="token punctuation">:</span> 0.25rem<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> system-ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>In the following CSS we are creating the styles for <code>.card</code>, <code>.card h2</code> and then in the <code>h2</code> styles we nest the <code>.featured</code> class with the <code>&amp;</code> nesting selector appended which creates a style for <code>.card .featured h2</code>.</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="kr12HDjAlId3XX9rk2bmdSpwHaUXDWO7P0Kj3fn6bTQ=" data-language="css"><span class="token selector">.card</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>
  <span class="token selector">&amp; h2</span> <span class="token punctuation">{</span>
    <span class="token comment">/* equivalent to `.card h2` */</span>
    <span class="token property">color</span><span class="token punctuation">:</span> slateblue<span class="token punctuation">;</span>
    <span class="token selector">.featured &amp;</span> <span class="token punctuation">{</span>
      <span class="token comment">/* equivalent to `.featured .card h2` */</span>
      <span class="token property">color</span><span class="token punctuation">:</span> tomato<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
</div> <h5 id="result_5">Result</h5>
<div class="code-example" id="sect7">

<iframe class="sample-code-frame" title="Appending nesting selector sample" id="frame_appending_nesting_selector" width="100%" height="250" src="https://live.mdnplay.dev/en-US/docs/Web/CSS/CSS_nesting/Using_CSS_nesting/runner.html?id=appending_nesting_selector" loading="lazy"></iframe>
</div>
</div></section><section aria-labelledby="concatenation_is_not_possible"><h2 id="concatenation_is_not_possible">Concatenation (is not possible)</h2>
<div class="section-content">
<p>In CSS preprocessors such as <a href="https://sass-lang.com/" target="_blank">Sass</a>, it is possible to use nesting to join strings to create new classes. This is common in CSS methodologies such as <a href="http://getbem.com/naming/" target="_blank">BEM</a>.</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="SgDoGROaFP2KP8QmAToQy6w5gaMlkGS3jec/PAqzIUM=" data-language="css"><span class="token selector">.component</span> <span class="token punctuation">{</span>
  <span class="token selector">&amp;__child-element</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* In Sass this becomes */</span>
<span class="token selector">.component__child-element</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</pre>
</div> <div class="notecard warning" id="sect8"> <p><strong>Warning:</strong> This is not possible in CSS nesting: when a <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors/Combinators">combinator</a> is not used, the nested selector is treated as a <a href="../type_selectors.html">type selector</a>. Allowing concatenation would break this.</p> </div> <p>In <a href="../css_selectors/selector_structure.html#compound_selector">compound selectors</a>, the type selector must come first. Writing <code>&amp;Element</code> (a <a href="../type_selectors.html">type selector</a>) makes the CSS selector, and the entire selector block, invalid. As the type selector must come first, the compound selector must be written as <code>Element&amp;</code>.</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="q8r/uBr8ycL/oXxtGJLutUkhfJZMRhLXD5LCz39YYWM=" data-language="css"><span class="token selector">.my-class</span> <span class="token punctuation">{</span>
  <span class="token selector">element&amp;</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* the browser parses this to become a compound selector */</span>
<span class="token selector">.my-class</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token selector">element.my-class</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div></section><section aria-labelledby="invalid_nested_style_rules"><h2 id="invalid_nested_style_rules">Invalid nested style rules</h2>
<div class="section-content">
<p>If a nested CSS rule is invalid then all of the enclosed styles will be ignored. This does not affect the parent or preceding rules.</p> <p>In the following example, there is an invalid selector (<code>%</code> is not a valid character for selectors). The rule that includes this selector is ignored, but subsequent valid rules are not.</p> <div class="code-example">
<p class="example-header"><span class="language-name">css</span></p>
<pre data-signature="dCIMV1r9kgRQ82kRLddY/kzcENI2hdHxWP6xHWcyQ2w=" data-language="css"><span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token comment">/* .parent styles these work fine */</span>
  <span class="token selector">&amp; %invalid</span> <span class="token punctuation">{</span>
    <span class="token comment">/* %invalid styles all of which are ignored */</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp; .valid</span> <span class="token punctuation">{</span>
    <span class="token comment">/* .parent .valid styles these work fine */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div></section><section aria-labelledby="see_also"><h2 id="see_also">See Also</h2>
<div class="section-content"><ul> <li>
<a href="../css_nesting.html">CSS nesting</a> module</li> <li><a href="../nesting_selector.html"><code>&amp;</code> nesting selector</a></li> <li><a href="nesting_at-rules.html">Nesting <code>@</code> at-rules</a></li> <li><a href="nesting_and_specificity.html">Nesting and specificity</a></li> </ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_nesting/Using_CSS_nesting" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_nesting/Using_CSS_nesting</a>
  </p>
</div>
