<h1 class="main-heading">Function std::env::home_dir</h1>
<pre class="rust item-decl" data-language="rust">pub fn home_dir() -&gt; Option&lt;PathBuf&gt;</pre>
<span class="item-info"><div class="stab deprecated">
<span class="emoji">ðŸ‘Ž</span><span>Deprecated since 1.29.0: This functionâ€™s behavior may be unexpected on Windows. Consider using a crate from crates.io instead.</span>
</div></span><p>Returns the path of the current userâ€™s home directory if known.</p> <h2 id="unix">Unix</h2> <ul> <li>Returns the value of the â€˜HOMEâ€™ environment variable if it is set (including to an empty string).</li> <li>Otherwise, it tries to determine the home directory by invoking the <code>getpwuid_r</code> function using the UID of the current user. An empty home directory field returned from the <code>getpwuid_r</code> function is considered to be a valid value.</li> <li>Returns <code>None</code> if the current user has no entry in the /etc/passwd file.</li> </ul> <h2 id="windows">Windows</h2> <ul> <li>Returns the value of the â€˜HOMEâ€™ environment variable if it is set (including to an empty string).</li> <li>Otherwise, returns the value of the â€˜USERPROFILEâ€™ environment variable if it is set (including to an empty string).</li> <li>If both do not exist, <a href="https://docs.microsoft.com/en-us/windows/win32/api/userenv/nf-userenv-getuserprofiledirectorya"><code>GetUserProfileDirectory</code></a> is used to return the path.</li> </ul> <h2 id="deprecation">Deprecation</h2> <p>This function is deprecated because the behaviour on Windows is not correct. The â€˜HOMEâ€™ environment variable is not standard on Windows, and may not produce desired results; for instance, under Cygwin or Mingw it will return <code>/home/you</code> when it should return <code>C:\Users\you</code>.</p> <h2 id="examples">Examples</h2> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::env;

match env::home_dir() {
    Some(path) =&gt; println!("Your home directory, probably: {}", path.display()),
    None =&gt; println!("Impossible to get your home dir!"),
}</pre></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/std/env/fn.home_dir.html" class="_attribution-link">https://doc.rust-lang.org/std/env/fn.home_dir.html</a>
  </p>
</div>
