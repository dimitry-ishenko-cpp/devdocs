<h1 class="main-heading">Trait std::net::ToSocketAddrs</h1>
<pre class="rust item-decl" data-language="rust">pub trait ToSocketAddrs {
    type Iter: Iterator&lt;Item = SocketAddr&gt;;

    // Required method
    fn to_socket_addrs(&amp;self) -&gt; Result&lt;Self::Iter&gt;;
}</pre>
<p>A trait for objects which can be converted or resolved to one or more <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a> values.</p> <p>This trait is used for generic address resolution when constructing network objects. By default it is implemented for the following types:</p> <ul> <li> <p><a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a>: <a href="trait.tosocketaddrs.html#tymethod.to_socket_addrs" title="method std::net::ToSocketAddrs::to_socket_addrs"><code>to_socket_addrs</code></a> is the identity function.</p> </li> <li> <p><a href="struct.socketaddrv4.html" title="struct std::net::SocketAddrV4"><code>SocketAddrV4</code></a>, <a href="struct.socketaddrv6.html" title="struct std::net::SocketAddrV6"><code>SocketAddrV6</code></a>, <code>(<a href="enum.ipaddr.html" title="enum std::net::IpAddr">IpAddr</a>, <a href="../primitive.u16.html" title="primitive u16">u16</a>)</code>, <code>(<a href="struct.ipv4addr.html" title="struct std::net::Ipv4Addr">Ipv4Addr</a>, <a href="../primitive.u16.html" title="primitive u16">u16</a>)</code>, <code>(<a href="struct.ipv6addr.html" title="struct std::net::Ipv6Addr">Ipv6Addr</a>, <a href="../primitive.u16.html" title="primitive u16">u16</a>)</code>: <a href="trait.tosocketaddrs.html#tymethod.to_socket_addrs" title="method std::net::ToSocketAddrs::to_socket_addrs"><code>to_socket_addrs</code></a> constructs a <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a> trivially.</p> </li> <li> <p><code>(&amp;<a href="../primitive.str.html" title="primitive str">str</a>, <a href="../primitive.u16.html" title="primitive u16">u16</a>)</code>: <code>&amp;<a href="../primitive.str.html" title="primitive str">str</a></code> should be either a string representation of an <a href="enum.ipaddr.html" title="enum std::net::IpAddr"><code>IpAddr</code></a> address as expected by <a href="../str/trait.fromstr.html" title="std::str::FromStr"><code>FromStr</code></a> implementation or a host name. <a href="../primitive.u16.html" title="primitive u16"><code>u16</code></a> is the port number.</p> </li> <li> <p><code>&amp;<a href="../primitive.str.html" title="primitive str">str</a></code>: the string should be either a string representation of a <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a> as expected by its <a href="../str/trait.fromstr.html" title="std::str::FromStr"><code>FromStr</code></a> implementation or a string like <code>&lt;host_name&gt;:&lt;port&gt;</code> pair where <code>&lt;port&gt;</code> is a <a href="../primitive.u16.html" title="primitive u16"><code>u16</code></a> value.</p> </li> </ul> <p>This trait allows constructing network objects like <a href="struct.tcpstream.html" title="net::TcpStream"><code>TcpStream</code></a> or <a href="struct.udpsocket.html" title="net::UdpSocket"><code>UdpSocket</code></a> easily with values of various types for the bind/connection address. It is needed because sometimes one type is more appropriate than the other: for simple uses a string like <code>"localhost:12345"</code> is much nicer than manual construction of the corresponding <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a>, but sometimes <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a> value is <em>the</em> main source of the address, and converting it to some other type (e.g., a string) just for it to be converted back to <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a> in constructor methods is pointless.</p> <p>Addresses returned by the operating system that are not IP addresses are silently ignored.</p> <h2 id="examples">Examples</h2> <p>Creating a <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a> iterator that yields one item:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::net::{ToSocketAddrs, SocketAddr};

let addr = SocketAddr::from(([127, 0, 0, 1], 443));
let mut addrs_iter = addr.to_socket_addrs().unwrap();

assert_eq!(Some(addr), addrs_iter.next());
assert!(addrs_iter.next().is_none());</pre></div> <p>Creating a <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a> iterator from a hostname:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::net::{SocketAddr, ToSocketAddrs};

// assuming 'localhost' resolves to 127.0.0.1
let mut addrs_iter = "localhost:443".to_socket_addrs().unwrap();
assert_eq!(addrs_iter.next(), Some(SocketAddr::from(([127, 0, 0, 1], 443))));
assert!(addrs_iter.next().is_none());

// assuming 'foo' does not resolve
assert!("foo:443".to_socket_addrs().is_err());</pre></div> <p>Creating a <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a> iterator that yields multiple items:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::net::{SocketAddr, ToSocketAddrs};

let addr1 = SocketAddr::from(([0, 0, 0, 0], 80));
let addr2 = SocketAddr::from(([127, 0, 0, 1], 443));
let addrs = vec![addr1, addr2];

let mut addrs_iter = (&amp;addrs[..]).to_socket_addrs().unwrap();

assert_eq!(Some(addr1), addrs_iter.next());
assert_eq!(Some(addr2), addrs_iter.next());
assert!(addrs_iter.next().is_none());</pre></div> <p>Attempting to create a <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a> iterator from an improperly formatted socket address <code>&amp;str</code> (missing the port):</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::io;
use std::net::ToSocketAddrs;

let err = "127.0.0.1".to_socket_addrs().unwrap_err();
assert_eq!(err.kind(), io::ErrorKind::InvalidInput);</pre></div> <p><a href="struct.tcpstream.html#method.connect" title="associated function std::net::TcpStream::connect"><code>TcpStream::connect</code></a> is an example of an function that utilizes <code>ToSocketAddrs</code> as a trait bound on its parameter in order to accept different types:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::net::{TcpStream, Ipv4Addr};

let stream = TcpStream::connect(("127.0.0.1", 443));
// or
let stream = TcpStream::connect("127.0.0.1:443");
// or
let stream = TcpStream::connect((Ipv4Addr::new(127, 0, 0, 1), 443));</pre></div> <h2 id="required-associated-types" class="small-section-header">Required Associated Types</h2>
<div class="methods">
<summary><section id="associatedtype.Iter" class="method"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#172">source</a><pre class="code-header" data-language="rust">type Iter: Iterator&lt;Item = SocketAddr&gt;</pre></section></summary><div class="docblock">
<p>Returned iterator over socket addresses which this type may correspond to.</p> </div>
</div>
<h2 id="required-methods" class="small-section-header">Required Methods</h2>
<div class="methods">
<summary><section id="tymethod.to_socket_addrs" class="method"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#182">source</a><pre class="code-header" data-language="rust">fn to_socket_addrs(&amp;self) -&gt; Result&lt;Self::Iter&gt;</pre></section></summary><div class="docblock">
<p>Converts this object to an iterator of resolved <a href="enum.socketaddr.html" title="enum std::net::SocketAddr"><code>SocketAddr</code></a>s.</p> <p>The returned iterator might not actually yield any values depending on the outcome of any resolution performed.</p> <p>Note that this function may block the current thread while resolution is performed.</p> </div>
</div>
<h2 id="implementors" class="small-section-header">Implementors</h2>
<div id="implementors-list">
<summary><section id="impl-ToSocketAddrs-for-(%26str,+u16)" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#251-268">source</a><pre class="code-header" data-language="rust">impl ToSocketAddrs for (&amp;str, u16)</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-1" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = IntoIter&lt;SocketAddr&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-(IpAddr,+u16)" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#210-219">source</a><pre class="code-header" data-language="rust">impl ToSocketAddrs for (IpAddr, u16)</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-2" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = IntoIter&lt;SocketAddr&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-(String,+u16)" class="impl"><span class="rightside"><span class="since" title="Stable since Rust version 1.46.0">1.46.0</span><a class="src" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#271-276">source</a></span><pre class="code-header" data-language="rust">impl ToSocketAddrs for (String, u16)</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-3" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = IntoIter&lt;SocketAddr&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-(Ipv4Addr,+u16)" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#222-228">source</a><pre class="code-header" data-language="rust">impl ToSocketAddrs for (Ipv4Addr, u16)</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-4" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = IntoIter&lt;SocketAddr&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-(Ipv6Addr,+u16)" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#231-237">source</a><pre class="code-header" data-language="rust">impl ToSocketAddrs for (Ipv6Addr, u16)</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-5" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = IntoIter&lt;SocketAddr&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-SocketAddr" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#186-191">source</a><pre class="code-header" data-language="rust">impl ToSocketAddrs for SocketAddr</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-6" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = IntoIter&lt;SocketAddr&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-str" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#280-290">source</a><pre class="code-header" data-language="rust">impl ToSocketAddrs for str</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-7" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = IntoIter&lt;SocketAddr&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-String" class="impl"><span class="rightside"><span class="since" title="Stable since Rust version 1.16.0">1.16.0</span><a class="src" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#310-315">source</a></span><pre class="code-header" data-language="rust">impl ToSocketAddrs for String</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-8" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = IntoIter&lt;SocketAddr&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-SocketAddrV4" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#194-199">source</a><pre class="code-header" data-language="rust">impl ToSocketAddrs for SocketAddrV4</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-9" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = IntoIter&lt;SocketAddr&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-SocketAddrV6" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#202-207">source</a><pre class="code-header" data-language="rust">impl ToSocketAddrs for SocketAddrV6</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-10" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = IntoIter&lt;SocketAddr&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-%26%5BSocketAddr%5D" class="impl"><span class="rightside"><span class="since" title="Stable since Rust version 1.8.0">1.8.0</span><a class="src" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#293-299">source</a></span><pre class="code-header" data-language="rust">impl&lt;'a&gt; ToSocketAddrs for &amp;'a [SocketAddr]</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-11" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = Cloned&lt;Iter&lt;'a, SocketAddr&gt;&gt;</pre></section></div>
<summary><section id="impl-ToSocketAddrs-for-%26T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/src/std/net/socket_addr.rs.html#302-307">source</a><pre class="code-header" data-language="rust">impl&lt;T: ToSocketAddrs + ?Sized&gt; ToSocketAddrs for &amp;T</pre></section></summary><div class="impl-items"><section id="associatedtype.Iter-12" class="associatedtype trait-impl"><pre class="code-header" data-language="rust">type Iter = &lt;T as ToSocketAddrs&gt;::Iter</pre></section></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/std/net/trait.ToSocketAddrs.html" class="_attribution-link">https://doc.rust-lang.org/std/net/trait.ToSocketAddrs.html</a>
  </p>
</div>
