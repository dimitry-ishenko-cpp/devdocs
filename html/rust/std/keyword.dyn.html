<h1 class="main-heading">Keyword dyn</h1>
<p><code>dyn</code> is a prefix of a <a href="../book/ch17-02-trait-objects.html">trait object</a>’s type.</p> <p>The <code>dyn</code> keyword is used to highlight that calls to methods on the associated <code>Trait</code> are <a href="https://en.wikipedia.org/wiki/Dynamic_dispatch">dynamically dispatched</a>. To use the trait this way, it must be ‘dyn-compatible’<sup id="fnref1"><a href="#fn1">1</a></sup>.</p> <p>Unlike generic parameters or <code>impl Trait</code>, the compiler does not know the concrete type that is being passed. That is, the type has been <a href="https://en.wikipedia.org/wiki/Type_erasure">erased</a>. As such, a <code>dyn Trait</code> reference contains <em>two</em> pointers. One pointer goes to the data (e.g., an instance of a struct). Another pointer goes to a map of method call names to function pointers (known as a virtual method table or vtable).</p> <p>At run-time, when a method needs to be called on the <code>dyn Trait</code>, the vtable is consulted to get the function pointer and then that function pointer is called.</p> <p>See the Reference for more information on <a href="../reference/types/trait-object.html">trait objects</a> and <a href="../reference/items/traits.html#object-safety">object safety</a>.</p> <h3 id="trade-offs">Trade-offs</h3> <p>The above indirection is the additional runtime cost of calling a function on a <code>dyn Trait</code>. Methods called by dynamic dispatch generally cannot be inlined by the compiler.</p> <p>However, <code>dyn Trait</code> is likely to produce smaller code than <code>impl Trait</code> / generic parameters as the method won’t be duplicated for each concrete type.</p> <div class="footnotes"><ol><li id="fn1"><p>Formerly known as ‘object safe’. <a href="#fnref1">↩</a></p></li></ol></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/std/keyword.dyn.html" class="_attribution-link">https://doc.rust-lang.org/std/keyword.dyn.html</a>
  </p>
</div>
