<h1 class="main-heading">Function std::hint::assert_unchecked</h1>
<pre class="rust item-decl" data-language="rust">pub const unsafe fn assert_unchecked(cond: bool)</pre>
<span class="item-info"><div class="stab unstable">
<span class="emoji">ðŸ”¬</span><span>This is a nightly-only experimental API. (<code>hint_assert_unchecked</code> <a href="https://github.com/rust-lang/rust/issues/119131">#119131</a>)</span>
</div></span><p>Makes a <em>soundness</em> promise to the compiler that <code>cond</code> holds.</p> <p>This may allow the optimizer to simplify things, but it might also make the generated code slower. Either way, calling it will most likely make compilation take longer.</p> <p>This is a situational tool for micro-optimization, and is allowed to do nothing. Any use should come with a repeatable benchmark to show the value and allow removing it later should the optimizer get smarter and no longer need it.</p> <p>The more complicated the condition the less likely this is to be fruitful. For example, <code>assert_unchecked(foo.is_sorted())</code> is a complex enough value that the compiler is unlikely to be able to take advantage of it.</p> <p>Thereâ€™s also no need to <code>assert_unchecked</code> basic properties of things. For example, the compiler already knows the range of <code>count_ones</code>, so thereâ€™s no benefit to <code>let n = u32::count_ones(x); assert_unchecked(n &lt;= u32::BITS);</code>.</p> <p>If ever youâ€™re tempted to write <code>assert_unchecked(false)</code>, then youâ€™re actually looking for <a href="fn.unreachable_unchecked.html" title="fn std::hint::unreachable_unchecked"><code>unreachable_unchecked()</code></a>.</p> <p>You may know this from other places as <a href="https://llvm.org/docs/LangRef.html#llvm-assume-intrinsic"><code>llvm.assume</code></a> or <a href="https://clang.llvm.org/docs/LanguageExtensions.html#builtin-assume"><code>__builtin_assume</code></a>.</p> <p>This promotes a correctness requirement to a soundness requirement. Donâ€™t do that without very good reason.</p> <h2 id="safety">Safety</h2> <p><code>cond</code> must be <code>true</code>. Itâ€™s immediate UB to call this with <code>false</code>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/std/hint/fn.assert_unchecked.html" class="_attribution-link">https://doc.rust-lang.org/std/hint/fn.assert_unchecked.html</a>
  </p>
</div>
