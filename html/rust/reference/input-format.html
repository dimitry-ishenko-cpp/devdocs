<h1 id="input-format">Input format</h1> <p>This chapter describes how a source file is interpreted as a sequence of tokens.</p> <p>See <a href="crates-and-source-files.html">Crates and source files</a> for a description of how programs are organised into files.</p> <h2 id="source-encoding">Source encoding</h2> <p>Each source file is interpreted as a sequence of Unicode characters encoded in UTF-8. It is an error if the file is not valid UTF-8.</p> <h2 id="byte-order-mark-removal">Byte order mark removal</h2> <p>If the first character in the sequence is <code>U+FEFF</code> (<a href="https://en.wikipedia.org/wiki/Byte_order_mark#UTF-8">BYTE ORDER MARK</a>), it is removed.</p> <h2 id="crlf-normalization">CRLF normalization</h2> <p>Each pair of characters <code>U+000D</code> (CR) immediately followed by <code>U+000A</code> (LF) is replaced by a single <code>U+000A</code> (LF).</p> <p>Other occurrences of the character <code>U+000D</code> (CR) are left in place (they are treated as <a href="whitespace.html">whitespace</a>).</p> <h2 id="shebang-removal">Shebang removal</h2> <p>If the remaining sequence begins with the characters <code>#!</code>, the characters up to and including the first <code>U+000A</code> (LF) are removed from the sequence.</p> <p>For example, the first line of the following file would be ignored:</p>  <pre data-language="rust">#!/usr/bin/env rustx

fn main() {
    println!("Hello!");
}</pre> <p>As an exception, if the <code>#!</code> characters are followed (ignoring intervening <a href="comments.html">comments</a> or <a href="whitespace.html">whitespace</a>) by a <code>[</code> token, nothing is removed. This prevents an <a href="attributes.html">inner attribute</a> at the start of a source file being removed.</p> <blockquote> <p><strong>Note</strong>: The standard library <a href="../std/macro.include.html"><code>include!</code></a> macro applies byte order mark removal, CRLF normalization, and shebang removal to the file it reads. The <a href="../std/macro.include_str.html"><code>include_str!</code></a> and <a href="../std/macro.include_bytes.html"><code>include_bytes!</code></a> macros do not.</p> </blockquote> <h2 id="tokenization">Tokenization</h2> <p>The resulting sequence of characters is then converted into tokens as described in the remainder of this chapter.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/input-format.html" class="_attribution-link">https://doc.rust-lang.org/reference/input-format.html</a>
  </p>
</div>
