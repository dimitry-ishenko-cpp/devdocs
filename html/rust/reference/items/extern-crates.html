<h1 id="extern-crate-declarations">Extern crate declarations</h1> <div class="rule" id="r-items.extern-crate"><a class="rule-link" href="#r-items.extern-crate">[items.extern-crate]</a></div> <div class="rule" id="r-items.extern-crate.syntax"><a class="rule-link" href="#r-items.extern-crate.syntax">[items.extern-crate.syntax]</a></div> <blockquote> <p><strong><sup>Syntax:</sup></strong><br> <em>ExternCrate</em> :<br> <code>extern</code> <code>crate</code> <em>CrateRef</em> <em>AsClause</em><sup>?</sup> <code>;</code></p> <p><em>CrateRef</em> :<br> <a href="../identifiers.html">IDENTIFIER</a> | <code>self</code></p> <p><em>AsClause</em> :<br> <code>as</code> ( <a href="../identifiers.html">IDENTIFIER</a> | <code>_</code> )</p> </blockquote> <div class="rule" id="r-items.extern-crate.intro"><a class="rule-link" href="#r-items.extern-crate.intro">[items.extern-crate.intro]</a></div> <p>An <em><code>extern crate</code> declaration</em> specifies a dependency on an external crate.</p> <div class="rule" id="r-items.extern-crate.namespace"><a class="rule-link" href="#r-items.extern-crate.namespace">[items.extern-crate.namespace]</a></div> <p>The external crate is then bound into the declaring scope as the given <a href="../identifiers.html">identifier</a> in the <a href="../names/namespaces.html">type namespace</a>.</p> <div class="rule" id="r-items.extern-crate.extern-prelude"><a class="rule-link" href="#r-items.extern-crate.extern-prelude">[items.extern-crate.extern-prelude]</a></div> <p>Additionally, if the <code>extern crate</code> appears in the crate root, then the crate name is also added to the <a href="../names/preludes.html#extern-prelude">extern prelude</a>, making it automatically in scope in all modules.</p> <div class="rule" id="r-items.extern-crate.as"><a class="rule-link" href="#r-items.extern-crate.as">[items.extern-crate.as]</a></div> <p>The <code>as</code> clause can be used to bind the imported crate to a different name.</p> <div class="rule" id="r-items.extern-crate.lookup"><a class="rule-link" href="#r-items.extern-crate.lookup">[items.extern-crate.lookup]</a></div> <p>The external crate is resolved to a specific <code>soname</code> at compile time, and a runtime linkage requirement to that <code>soname</code> is passed to the linker for loading at runtime. The <code>soname</code> is resolved at compile time by scanning the compiler’s library path and matching the optional <code>crate_name</code> provided against the <a href="../crates-and-source-files.html#the-crate_name-attribute"><code>crate_name</code> attributes</a> that were declared on the external crate when it was compiled. If no <code>crate_name</code> is provided, a default <code>name</code> attribute is assumed, equal to the <a href="../identifiers.html">identifier</a> given in the <code>extern crate</code> declaration.</p> <div class="rule" id="r-items.extern-crate.self"><a class="rule-link" href="#r-items.extern-crate.self">[items.extern-crate.self]</a></div> <p>The <code>self</code> crate may be imported which creates a binding to the current crate. In this case the <code>as</code> clause must be used to specify the name to bind it to.</p> <p>Three examples of <code>extern crate</code> declarations:</p>  <pre data-language="rust">extern crate pcre;

extern crate std; // equivalent to: extern crate std as std;

extern crate std as ruststd; // linking to 'std' under another name</pre> <div class="rule" id="r-items.extern-crate.name-restrictions"><a class="rule-link" href="#r-items.extern-crate.name-restrictions">[items.extern-crate.name-restrictions]</a></div> <p>When naming Rust crates, hyphens are disallowed. However, Cargo packages may make use of them. In such case, when <code>Cargo.toml</code> doesn’t specify a crate name, Cargo will transparently replace <code>-</code> with <code>_</code> (Refer to <a href="https://github.com/rust-lang/rfcs/blob/master/text/0940-hyphens-considered-harmful.md">RFC 940</a> for more details).</p> <p>Here is an example:</p>  <pre data-language="rust">// Importing the Cargo package hello-world
extern crate hello_world; // hyphen replaced with an underscore</pre> <h2 id="underscore-imports">Underscore Imports</h2> <div class="rule" id="r-items.extern-crate.underscore"><a class="rule-link" href="#r-items.extern-crate.underscore">[items.extern-crate.underscore]</a></div> <div class="rule" id="r-items.extern-crate.underscore.intro"><a class="rule-link" href="#r-items.extern-crate.underscore.intro">[items.extern-crate.underscore.intro]</a></div> <p>An external crate dependency can be declared without binding its name in scope by using an underscore with the form <code>extern crate foo as _</code>. This may be useful for crates that only need to be linked, but are never referenced, and will avoid being reported as unused.</p> <div class="rule" id="r-items.extern-crate.underscore.macro_use"><a class="rule-link" href="#r-items.extern-crate.underscore.macro_use">[items.extern-crate.underscore.macro_use]</a></div> <p>The <a href="../macros-by-example.html#the-macro_use-attribute"><code>macro_use</code> attribute</a> works as usual and imports the macro names into the <a href="../names/preludes.html#macro_use-prelude"><code>macro_use</code> prelude</a>.</p> <h2 id="the-no_link-attribute">The <code id="">no_link</code> attribute</h2> <div class="rule" id="r-items.extern-crate.no_link"><a class="rule-link" href="#r-items.extern-crate.no_link">[items.extern-crate.no_link]</a></div> <p>The <em><code>no_link</code> attribute</em> may be specified on an <code>extern crate</code> item to prevent linking the crate into the output. This is commonly used to load a crate to access only its macros.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/items/extern-crates.html" class="_attribution-link">https://doc.rust-lang.org/reference/items/extern-crates.html</a>
  </p>
</div>
