<h1 id="module-Nokogiri::CSS" class="module"> module Nokogiri::CSS </h1> <section class="description"> <p>Translate a <a href="css.html"><code>CSS</code></a> selector into an XPath 1.0 query</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-xpath_for"> <span class="method-callseq"> xpath_for(selector) â†’ String </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> xpath_for(selector [, prefix:] [, visitor:] [, ns:]) â†’ String </span> </div> </div> <div class="method-description">
<div class="method-source-code" id="xpath_for-source"> <pre class="ruby" data-language="ruby"># File lib/nokogiri/css.rb, line 42
def xpath_for(selector, options = {})
  raise TypeError, "no implicit conversion of #{selector.inspect} to String" unless selector.respond_to?(:to_str)

  selector = selector.to_str
  raise Nokogiri::CSS::SyntaxError, "empty CSS selector" if selector.empty?

  prefix = options.fetch(:prefix, Nokogiri::XML::XPath::GLOBAL_SEARCH_PREFIX)
  visitor = options.fetch(:visitor) { Nokogiri::CSS::XPathVisitor.new }
  ns = options.fetch(:ns, {})

  Parser.new(ns).xpath_for(selector, prefix, visitor)
end</pre> </div> <p>Translate a <a href="css.html"><code>CSS</code></a> selector to the equivalent XPath query.</p> <dl class="rdoc-list label-list"> <dt>Parameters </dt>  </dl> <ul> <li> <p><code>selector</code> (String) The <a href="css.html"><code>CSS</code></a> selector to be translated into XPath</p> </li> <li> <p><code>prefix:</code> (String)</p> <p>The XPath prefix for the query, see <a href="xml/xpath.html"><code>Nokogiri::XML::XPath</code></a> for some options. Default is <code>XML::XPath::GLOBAL_SEARCH_PREFIX</code>.</p> </li> <li> <p><code>visitor:</code> (<a href="css/xpathvisitor.html"><code>Nokogiri::CSS::XPathVisitor</code></a>)</p> <p>The visitor class to use to transform the AST into XPath. Default is <code>Nokogiri::CSS::XPathVisitor.new</code>.</p> </li> <li> <p><code>ns:</code> (Hash&lt;String â‡’ String&gt;)</p> <p>The namespaces that are referenced in the query, if any. This is a hash where the keys are the namespace prefix and the values are the namespace URIs. Default is an empty Hash.</p> </li> </ul> <dl class="rdoc-list label-list"> <dt>Returns </dt> <dd> <p>(String) The equivalent XPath query for <code>selector</code></p> </dd> </dl> <p>ðŸ’¡ Note that translated queries are cached for performance concerns.</p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2023 by Mike Dalessio, Aaron Patterson, Yoko Harada, Akinori MUSHA, John Shahid,<br>Karol Bucek, Sam Ruby, Craig Barnes, Stephen Checkoway, Lars Kanis, Sergio Arbeo,<br>Timothy Elliott, Nobuyoshi Nakada, Charles Nutter, Patrick MahoneyLicensed under the MIT License.<br>
    <a href="https://nokogiri.org/rdoc/Nokogiri/CSS.html" class="_attribution-link">https://nokogiri.org/rdoc/Nokogiri/CSS.html</a>
  </p>
</div>
