<h1> Database</h1>
<p>package <a href="index.html">js.html.idb</a></p>
<p>extends <a class="type" title="js.html.EventTarget - EventTarget is an interface implemented by objects that can receive events and may have listeners for them." href="../eventtarget.html">EventTarget</a></p> <p class="availability"><em>Available on js</em></p>
<p>The <code>IDBDatabase</code> interface of the IndexedDB API provides a connection to a database; you can use an <code>IDBDatabase</code> object to open a transaction on your database then create, manipulate, and delete objects (data) in that database. The interface provides the only way to get and manage versions of the database.</p> <p>Documentation <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase">IDBDatabase</a> by <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase%24history">Mozilla Contributors</a>, licensed under <a href="https://creativecommons.org/licenses/by-sa/2.5/">CC-BY-SA 2.5</a>.</p>
<p class="javadoc">See also:</p>
<ul><li><div class="inline-content"><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase">https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase</a></div></li></ul>
<h2 class="section">Variables</h2>
<h3 class="anchor" id="name"><code><span class="label">read only</span><a href="#name">name</a>:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a></code></h3>
<p>A <code>DOMString</code> that contains the name of the connected database.</p>
<h3 class="anchor" id="objectStoreNames"><code><span class="label">read only</span><a href="#objectStoreNames">objectStoreNames</a>:<a class="type" title="js.html.DOMStringList - A type returned by some APIs which contains a list of DOMString (strings)." href="../domstringlist.html">DOMStringList</a></code></h3>
<p>A <code><a href="../domstringlist.html#DOMStringList">DOMStringList</a></code> that contains a list of the names of the object stores currently in the connected database.</p>
<h3 class="anchor" id="onabort"><code><a href="#onabort">onabort</a>:<a class="type" title="haxe.Function - This type unifies with any function type." href="https://api.haxe.org/haxe/Function.html">Function</a></code></h3>
<p>Fires when access of the database is aborted.</p>
<h3 class="anchor" id="onclose"><code><a href="#onclose">onclose</a>:<a class="type" title="haxe.Function - This type unifies with any function type." href="https://api.haxe.org/haxe/Function.html">Function</a></code></h3>
<p>Fires when the <code>close</code> event occurs; this happens when the database is unexpectedly closed, such as during application shutdown.</p>
<h3 class="anchor" id="onerror"><code><a href="#onerror">onerror</a>:<a class="type" title="haxe.Function - This type unifies with any function type." href="https://api.haxe.org/haxe/Function.html">Function</a></code></h3>
<p>Fires when access to the database fails.</p>
<h3 class="anchor" id="onversionchange"><code><a href="#onversionchange">onversionchange</a>:<a class="type" title="haxe.Function - This type unifies with any function type." href="https://api.haxe.org/haxe/Function.html">Function</a></code></h3>
<p>Fires when a database structure change (<code>IDBOpenDBRequest.onupgradeneeded</code> event or<code>IDBFactory.deleteDatabase()</code> was requested elsewhere (most probably in another window/tab on the same computer). This is different from the version change transaction (see <code>IDBVersionChangeEvent</code>), but it is related.</p>
<h3 class="anchor" id="version"><code><span class="label">read only</span><a href="#version">version</a>:<a class="type" title="Int - The standard Int type." href="https://api.haxe.org/Int.html">Int</a></code></h3>
<p>A 64-bit integer that contains the version of the connected database. When a database is first created, this attribute is an empty string.</p>
<h2 class="section">Methods</h2>
<h3 class="anchor" id="close"><code><a href="#close">close</a>():<a class="type" title="Void - The standard Void type." href="https://api.haxe.org/Void.html">Void</a></code></h3>
<p>Returns immediately and closes the connection to a database in a separate thread.</p>
<h3 class="anchor" id="createMutableFile"><code><a href="#createMutableFile">createMutableFile</a>(<span style="white-space:nowrap">name:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a>,</span> <span style="white-space:nowrap">?type:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a></span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="createObjectStore"><code><a href="#createObjectStore">createObjectStore</a>(<span style="white-space:nowrap">name:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a>,</span> <span style="white-space:nowrap">?optionalParameters:<a class="type" title="Null - Null&amp;lt;T&amp;gt; is a wrapper that can be used to make the basic types Int, Float and Bool nullable on static targets." href="https://api.haxe.org/Null.html">Null</a>&lt;<a class="type" title="js.html.idb.ObjectStoreParameters" href="objectstoreparameters.html">ObjectStoreParameters</a>&gt;</span>):<a class="type" title="js.html.idb.ObjectStore - This example shows a variety of different uses of object stores, from updating the data structure with IDBObjectStore." href="objectstore.html">ObjectStore</a></code></h3>
<p>Creates and returns a new object store or index.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="deleteObjectStore"><code><a href="#deleteObjectStore">deleteObjectStore</a>(<span style="white-space:nowrap">name:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a></span>):<a class="type" title="Void - The standard Void type." href="https://api.haxe.org/Void.html">Void</a></code></h3>
<p>Destroys the object store with the given name in the connected database, along with any indexes that reference it.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="transaction"><code><a href="#transaction">transaction</a>(<span style="white-space:nowrap">storeNames:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a>,</span> <span style="white-space:nowrap">mode:<a class="type" title="js.html.idb.TransactionMode" href="transactionmode.html">TransactionMode</a> = READONLY</span>):<a class="type" title="js.html.idb.Transaction - Note that as of Firefox 40, IndexedDB transactions have relaxed durability guarantees to increase performance (see bug 1112702." href="transaction.html">Transaction</a></code></h3>
<h3 class="anchor"><code><a href="#transaction">transaction</a>(<span style="white-space:nowrap">storeNames:<a class="type" title="Array" href="https://api.haxe.org/Array.html">Array</a>&lt;<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a>&gt;,</span> <span style="white-space:nowrap">mode:<a class="type" title="js.html.idb.TransactionMode" href="transactionmode.html">TransactionMode</a> = READONLY</span>):<a class="type" title="js.html.idb.Transaction - Note that as of Firefox 40, IndexedDB transactions have relaxed durability guarantees to increase performance (see bug 1112702." href="transaction.html">Transaction</a></code></h3>
<p>Immediately returns a transaction object (<code>IDBTransaction</code>) containing the <code>IDBTransaction.objectStore</code> method, which you can use to access your object store. Runs in a separate thread.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2020 Haxe Foundation<br>Licensed under a MIT license.<br>
    <a href="https://api.haxe.org/js/html/idb/Database.html" class="_attribution-link">https://api.haxe.org/js/html/idb/Database.html</a>
  </p>
</div>
