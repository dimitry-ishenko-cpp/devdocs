<h1> ObjectStore</h1>
<p>package <a href="index.html">js.html.idb</a></p> <p class="availability"><em>Available on js</em></p>
<p>This example shows a variety of different uses of object stores, from updating the data structure with <code>IDBObjectStore.createIndex</code> inside an <code>onupgradeneeded</code> function, to adding a new item to our object store with <code>IDBObjectStore.add</code>. For a full working example, see our To-do Notifications app (view example live.)</p> <p>Documentation <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore">IDBObjectStore</a> by <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore%24history">Mozilla Contributors</a>, licensed under <a href="https://creativecommons.org/licenses/by-sa/2.5/">CC-BY-SA 2.5</a>.</p>
<p class="javadoc">See also:</p>
<ul><li><div class="inline-content"><a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore">https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore</a></div></li></ul>
<h2 class="section">Variables</h2>
<h3 class="anchor" id="autoIncrement"><code><span class="label">read only</span><a href="#autoIncrement">autoIncrement</a>:<a class="type" title="Bool - The standard Boolean type, which can either be true or false." href="https://api.haxe.org/Bool.html">Bool</a></code></h3>
<p>The value of the auto increment flag for this object store.</p>
<h3 class="anchor" id="indexNames"><code><span class="label">read only</span><a href="#indexNames">indexNames</a>:<a class="type" title="js.html.DOMStringList - A type returned by some APIs which contains a list of DOMString (strings)." href="../domstringlist.html">DOMStringList</a></code></h3>
<p>A list of the names of indexes on objects in this object store.</p>
<h3 class="anchor" id="keyPath"><code><span class="label">read only</span><a href="#keyPath">keyPath</a>:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a></code></h3>
<p>The key path of this object store. If this attribute is <code>null</code>, the application must provide a key for each modification operation.</p>
<h3 class="anchor" id="name"><code><a href="#name">name</a>:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a></code></h3>
<p>The name of this object store.</p>
<h3 class="anchor" id="transaction"><code><span class="label">read only</span><a href="#transaction">transaction</a>:<a class="type" title="js.html.idb.Transaction - Note that as of Firefox 40, IndexedDB transactions have relaxed durability guarantees to increase performance (see bugÂ 1112702." href="transaction.html">Transaction</a></code></h3>
<p>The <code>IDBTransaction</code> object to which this object store belongs.</p>
<h2 class="section">Methods</h2>
<h3 class="anchor" id="add"><code><a href="#add">add</a>(<span style="white-space:nowrap">value:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a>,</span> <span style="white-space:nowrap">?key:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a></span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>Returns an <code>IDBRequest</code> object, and, in a separate thread, creates a structured clone of the <code>value</code>, and stores the cloned value in the object store. This is for adding new records to an object store.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="clear"><code><a href="#clear">clear</a>():<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>Creates and immediately returns an <code>IDBRequest</code> object, and clears this object store in a separate thread. This is for deleting all current records out of an object store.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="count"><code><a href="#count">count</a>(<span style="white-space:nowrap">?key:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a></span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>Returns an <code>IDBRequest</code> object, and, in a separate thread, returns the total number of records that match the provided key or <code>IDBKeyRange</code>. If no arguments are provided, it returns the total number of records in the store.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="createIndex"><code><a href="#createIndex">createIndex</a>(<span style="white-space:nowrap">name:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a>,</span> <span style="white-space:nowrap">keyPath:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a>,</span> <span style="white-space:nowrap">?optionalParameters:<a class="type" title="Null - Null&amp;lt;T&amp;gt; is a wrapper that can be used to make the basic types Int, Float and Bool nullable on static targets." href="https://api.haxe.org/Null.html">Null</a>&lt;<a class="type" title="js.html.idb.IndexParameters" href="indexparameters.html">IndexParameters</a>&gt;</span>):<a class="type" title="js.html.idb.Index - IDBIndex interface of the IndexedDB API provides asynchronous access to an index in a database." href="%24index.html">Index</a></code></h3>
<h3 class="anchor"><code><a href="#createIndex">createIndex</a>(<span style="white-space:nowrap">name:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a>,</span> <span style="white-space:nowrap">keyPath:<a class="type" title="Array" href="https://api.haxe.org/Array.html">Array</a>&lt;<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a>&gt;,</span> <span style="white-space:nowrap">?optionalParameters:<a class="type" title="Null - Null&amp;lt;T&amp;gt; is a wrapper that can be used to make the basic types Int, Float and Bool nullable on static targets." href="https://api.haxe.org/Null.html">Null</a>&lt;<a class="type" title="js.html.idb.IndexParameters" href="indexparameters.html">IndexParameters</a>&gt;</span>):<a class="type" title="js.html.idb.Index - IDBIndex interface of the IndexedDB API provides asynchronous access to an index in a database." href="%24index.html">Index</a></code></h3>
<p>Creates a new index during a version upgrade, returning a new <code>IDBIndex</code> object in the connected database.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="delete"><code><a href="#delete">delete</a>(<span style="white-space:nowrap">key:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a></span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>returns an <code>IDBRequest</code> object, and, in a separate thread, deletes the store object selected by the specified key. This is for deleting individual records out of an object store.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="deleteIndex"><code><a href="#deleteIndex">deleteIndex</a>(<span style="white-space:nowrap">indexName:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a></span>):<a class="type" title="Void - The standard Void type." href="https://api.haxe.org/Void.html">Void</a></code></h3>
<p>Destroys the specified index in the connected database, used during a version upgrade.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="get"><code><a href="#get">get</a>(<span style="white-space:nowrap">key:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a></span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>Returns an <code>IDBRequest</code> object, and, in a separate thread, returns the store object store selected by the specified key. This is for retrieving specific records from an object store.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="getAll"><code><a href="#getAll">getAll</a>(<span style="white-space:nowrap">?key:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a>,</span> <span style="white-space:nowrap">?limit:<a class="type" title="Int - The standard Int type." href="https://api.haxe.org/Int.html">Int</a></span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>Returns an <code>IDBRequest</code> object retrieves all objects in the object store matching the specified parameter or all objects in the store if no parameters are given.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="getAllKeys"><code><a href="#getAllKeys">getAllKeys</a>(<span style="white-space:nowrap">?key:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a>,</span> <span style="white-space:nowrap">?limit:<a class="type" title="Int - The standard Int type." href="https://api.haxe.org/Int.html">Int</a></span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>Returns an <code>IDBRequest</code> object retrieves record keys for all objects in the object store matching the specified parameter or all objects in the store if no parameters are given.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="getKey"><code><a href="#getKey">getKey</a>(<span style="white-space:nowrap">key:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a></span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>Returns an <code>IDBRequest</code> object, and, in a separate thread retrieves and returns the record key for the object in the object stored matching the specified parameter.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="index"><code><a href="#index">index</a>(<span style="white-space:nowrap">name:<a class="type" title="String - The basic String class." href="https://api.haxe.org/String.html">String</a></span>):<a class="type" title="js.html.idb.Index - IDBIndex interface of the IndexedDB API provides asynchronous access to an index in a database." href="%24index.html">Index</a></code></h3>
<p>Opens an index from this object store after which it can, for example, be used to return a sequence of records sorted by that index using a cursor.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="openCursor"><code><a href="#openCursor">openCursor</a>(<span style="white-space:nowrap">?range:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a>,</span> <span style="white-space:nowrap">direction:<a class="type" title="js.html.idb.CursorDirection" href="cursordirection.html">CursorDirection</a> = NEXT</span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>Returns an <code>IDBRequest</code> object, and, in a separate thread, returns a new <code>IDBCursorWithValue</code> object. Used for iterating through an object store by primary key with a cursor.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="openKeyCursor"><code><a href="#openKeyCursor">openKeyCursor</a>(<span style="white-space:nowrap">?range:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a>,</span> <span style="white-space:nowrap">direction:<a class="type" title="js.html.idb.CursorDirection" href="cursordirection.html">CursorDirection</a> = NEXT</span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>Returns an <code>IDBRequest</code> object, and, in a separate thread, returns a new <code>IDBCursor</code>. Used for iterating through an object store with a key.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table>
<h3 class="anchor" id="put"><code><a href="#put">put</a>(<span style="white-space:nowrap">value:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a>,</span> <span style="white-space:nowrap">?key:<a class="type" title="Dynamic - Dynamic is a special type which is compatible with all other types." href="https://api.haxe.org/Dynamic.html">Dynamic</a></span>):<a class="type" title="js.html.idb.Request - The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the IDBRequest instance." href="request.html">Request</a></code></h3>
<p>Returns an <code>IDBRequest</code> object, and, in a separate thread, creates a structured clone of the <code>value</code>, and stores the cloned value in the object store. This is for updating existing records in an object store when the transaction's mode is <code>readwrite</code>.</p>
<p class="javadoc">Throws:</p>
<table class="table table-bordered params"><tr class="indent">
<th style="width:25%;"><code>null</code></th>
<td><p>DOMError</p></td>
</tr></table><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2020 Haxe Foundation<br>Licensed under a MIT license.<br>
    <a href="https://api.haxe.org/js/html/idb/ObjectStore.html" class="_attribution-link">https://api.haxe.org/js/html/idb/ObjectStore.html</a>
  </p>
</div>
