<h1>Server Monitoring</h1>     <p>InfluxDB can display statistical and diagnostic information about each node. This information can be very useful for troubleshooting and performance monitoring.</p> <h2 id="show-stats">SHOW STATS</h2> <p>To see node stats execute the command <code>SHOW STATS</code>.</p> <p>The statistics returned by <code>SHOW STATS</code> are stored in memory only, and are reset to zero when the node is restarted.</p> <h2 id="show-diagnostics">SHOW DIAGNOSTICS</h2> <p>To see node diagnostics execute the command <code>SHOW DIAGNOSTICS</code>. This returns information such as build information, uptime, hostname, server configuration, memory usage, and Go runtime diagnostics.</p> <h2 id="internal-monitoring">Internal Monitoring</h2> <p>InfluxDB also writes statistical and diagnostic information to database named <code>_internal</code>, which records metrics on the internal runtime and service performance. The <code>_internal</code> database can be queried and manipulated like any other InfluxDB database. Check out the <a href="https://github.com/influxdb/influxdb/blob/master/monitor/README.md">monitor service README</a> and the <a href="https://influxdb.com/blog/2015/09/22/monitoring_internal_show_stats.html">internal monitoring blog post</a> for more detail.</p> <h2 id="useful-commands">Useful Commands</h2> <p>Below are a collection of commands to find useful performance metrics about your InfluxDB instance.</p> <p>To find the number of points per second being written to the instance. Must have the <code>monitor</code> service enabled:</p> <pre data-language="bash">$ influx -execute 'select derivative(pointReq, 1s) from "write" where time &gt; now() - 5m' -database '_internal' -precision 'rfc3339'
</pre> <p>To find the number of writes separated by database since the beginnning of the log file:</p> <pre data-language="bash">grep 'POST' /var/log/influxdb/influxd.log | awk '{ print $10 }' | sort | uniq -c
</pre> <p>Or, for systemd systems logging to journald:</p> <pre data-language="bash">journalctl -u influxdb.service | awk '/POST/ { print $10 }' | sort | uniq -c
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2015 InfluxData, Inc.<br>Licensed under the MIT license.<br>
    <a href="https://docs.influxdata.com/influxdb/v1.3/troubleshooting/statistics/" class="_attribution-link">https://docs.influxdata.com/influxdb/v1.3/troubleshooting/statistics/</a>
  </p>
</div>
