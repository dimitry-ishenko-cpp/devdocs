<h1>Release Notes/Changelog</h1>     <h2 id="v1-3-1-2017-07-20">v1.3.1 [2017-07-20]</h2> <h3 id="release-notes">Release Notes</h3> <p>Minor bug fixes were identified via Community and InfluxCloud.</p> <h3 id="bugfixes">Bugfixes</h3> <ul> <li>Ensure temporary TSM files get cleaned up when compaction aborted.</li> <li>Address deadlock issue causing 1.3.0 to become unresponsive.</li> <li>Duplicate points generated via INSERT after DELETE.</li> <li>Fix the CQ start and end times to use Unix timestamps.</li> </ul> <h2 id="v1-3-0-2017-06-21">v1.3.0 [2017-06-21]</h2> <h3 id="release-notes-1">Release Notes</h3> <h4 id="tsi">TSI</h4> <p>Version 1.3.0 marks the first official release of InfluxDB’s new time series index (TSI) engine.</p> <p>The TSI engine is a significant technical advancement in InfluxDB. It offers a solution to the <a href="https://docs.influxdata.com/influxdb/v1.2/concepts/storage_engine/">time-structured merge tree</a> engine’s <a href="../../troubleshooting/frequently-asked-questions/index.html#why-does-series-cardinality-matter">high series cardinality issue</a>. With TSI, the number of series should be unbounded by the memory on the server hardware and the number of existing series will have a negligible impact on database startup time. See Paul Dix’s blogpost <a href="https://www.influxdata.com/path-1-billion-time-series-influxdb-high-cardinality-indexing-ready-testing/">Path to 1 Billion Time Series: InfluxDB High Cardinality Indexing Ready for Testing</a> for additional information.</p> <p>TSI is disabled by default in version 1.3. To enable TSI, uncomment the <a href="../../administration/config/index.html#index-version-inmem"><code>index-version</code> setting</a> and set it to <code>tsi1</code>. The <code>index-version</code> setting is in the <code>[data]</code> section of the configuration file. Next, restart your InfluxDB instance.</p> <pre>[data]
  dir = "/var/lib/influxdb/data"
  index-version = "tsi1"
</pre> <h4 id="continuous-query-statistics">Continuous Query Statistics</h4> <p>When enabled, each time a continuous query is completed, a number of details regarding the execution are written to the <code>cq_query</code> measurement of the internal monitor database (<code>_internal</code> by default). The tags and fields of interest are</p> <table> <thead> <tr> <th align="left">tag / field</th> <th align="left">description</th> </tr> </thead> <tbody> <tr> <td align="left"><code>db</code></td> <td align="left">name of database</td> </tr> <tr> <td align="left"><code>cq</code></td> <td align="left">name of continuous query</td> </tr> <tr> <td align="left"><code>durationNS</code></td> <td align="left">query execution time in nanoseconds</td> </tr> <tr> <td align="left"><code>startTime</code></td> <td align="left">lower bound of time range</td> </tr> <tr> <td align="left"><code>endTime</code></td> <td align="left">upper bound of time range</td> </tr> <tr> <td align="left"><code>pointsWrittenOK</code></td> <td align="left">number of points written to the target measurement</td> </tr> </tbody> </table> <ul> <li>
<code>startTime</code> and <code>endTime</code> are UNIX timestamps, in nanoseconds.</li> <li>The number of points written is also included in CQ log messages.</li> </ul> <h3 id="removals">Removals</h3> <p>The admin UI is removed and unusable in this release. The <code>[admin]</code> configuration section will be ignored.</p> <h3 id="configuration-changes">Configuration Changes</h3> <ul> <li>The top-level config <code>bind-address</code> now defaults to <code>localhost:8088</code>. The previous default was just <code>:8088</code>, causing the backup and restore port to be bound on all available interfaces (i.e. including interfaces on the public internet).</li> </ul> <p>The following new configuration options are available.</p> <h4 id="http-section">
<code>[http]</code> Section</h4> <ul> <li>
<code>max-body-size</code> was added with a default of 25,000,000, but can be disabled by setting it to 0. Specifies the maximum size (in bytes) of a client request body. When a client sends data that exceeds the configured maximum size, a <code>413 Request Entity Too Large</code> HTTP response is returned.</li> </ul> <h4 id="continuous-queries-section">
<code>[continuous_queries]</code> Section</h4> <ul> <li>
<code>query-stats-enabled</code> was added with a default of <code>false</code>. When set to <code>true</code>, continuous query execution statistics are written to the default monitor store.</li> </ul> <h3 id="features">Features</h3> <ul> <li>Add WAL sync delay</li> <li>Add chunked request processing back into the Go client v2</li> <li>Allow non-admin users to execute SHOW DATABASES</li> <li>Reduce memory allocations by reusing gzip.Writers across requests</li> <li>Add system information to /debug/vars</li> <li>Add modulo operator to the query language.</li> <li>Failed points during an import now result in a non-zero exit code</li> <li>Expose some configuration settings via SHOW DIAGNOSTICS</li> <li>Support single and multiline comments in InfluxQL</li> <li>Support timezone offsets for queries</li> <li>Add “integral” function to InfluxQL</li> <li>Add “non_negative_difference” function to InfluxQL</li> <li>Add bitwise AND, OR and XOR operators to the query language</li> <li>Write throughput/concurrency improvements</li> <li>Remove the admin UI</li> <li>Update to go1.8.1</li> <li>Add max concurrent compaction limits</li> <li>Add TSI support tooling</li> <li>Track HTTP client requests for /write and /query with /debug/requests</li> <li>Write and compaction stability</li> <li>Add new profile endpoint for gathering all debug profiles and queries in single archive</li> <li>Add nanosecond duration literal support</li> <li>Optimize top() and bottom() using an incremental aggregator</li> <li>Maintain the tags of points selected by top() or bottom() when writing the results.</li> <li>Write CQ stats to the <code>_internal</code> database</li> </ul> <h3 id="bugfixes-1">Bugfixes</h3> <ul> <li>Several statements were missing the DefaultDatabase method</li> <li>Fix spelling mistake in HTTP section of config – shared-sercret</li> <li>History file should redact passwords before saving to history</li> <li>Suppress headers in output for influx cli when they are the same</li> <li>Add chunked/chunk size as setting/options in cli</li> <li>Do not increment the continuous query statistic if no query is run</li> <li>Forbid wildcards in binary expressions</li> <li>Fix fill(linear) when multiple series exist and there are null values</li> <li>Update liner dependency to handle docker exec</li> <li>Bind backup and restore port to localhost by default</li> <li>Kill query not killing query</li> <li>KILL QUERY should work during all phases of a query</li> <li>Simplify admin user check.</li> <li>Significantly improve DROP DATABASE speed</li> <li>Return an error when an invalid duration literal is parsed</li> <li>Fix the time range when an exact timestamp is selected</li> <li>Fix query parser when using addition and subtraction without spaces</li> <li>Fix a regression when math was used with selectors</li> <li>Ensure the input for certain functions in the query engine are ordered</li> <li>Significantly improve shutdown speed for high cardinality databases</li> <li>Fix racy integration test</li> <li>Prevent overflowing or underflowing during window computation</li> <li>Enabled golint for admin, httpd, subscriber, udp, thanks @karlding</li> <li>Implicitly cast null to false in binary expressions with a boolean</li> <li>Restrict fill(none) and fill(linear) to be usable only with aggregate queries</li> <li>Restrict top() and bottom() selectors to be used with no other functions</li> <li>top() and bottom() now returns the time for every point</li> <li>Remove default upper time bound on DELETE queries</li> <li>Fix LIMIT and OFFSET for certain aggregate queries</li> <li>Refactor the subquery code and fix outer condition queries</li> <li>Fix compaction aborted log messages</li> <li>TSM compaction does not remove .tmp on error</li> <li>Set the CSV output to an empty string for null values</li> <li>Compaction exhausting disk resources in InfluxDB</li> <li>Small edits to the etc/config.sample.toml file</li> <li>Points beyond retention policy scope are dropped silently</li> <li>Fix TSM tmp file leaked on disk</li> <li>Fix large field keys preventing snapshot compactions</li> <li>URL query parameter credentials take priority over Authentication header</li> <li>TSI branch has duplicate tag values</li> <li>Out of memory when using HTTP API</li> <li>Check file count before attempting a TSI level compaction.</li> <li>index file fd leak in tsi branch</li> <li>Fix TSI non-contiguous compaction panic</li> </ul> <h2 id="v1-2-4-2017-05-08">v1.2.4 [2017-05-08]</h2> <h3 id="bugfixes-2">Bugfixes</h3> <ul> <li>Prefix partial write errors with <code>partial write:</code> to generalize identification in other subsystems.</li> </ul> <h2 id="v1-2-3-2017-04-17">v1.2.3 [2017-04-17]</h2> <h3 id="bugfixes-3">Bugfixes</h3> <ul> <li>Redact passwords before saving them to the history file.</li> <li>Add the missing DefaultDatabase method to several InfluxQL statements.</li> <li>Fix segment violation in models.Tags.Get.</li> <li>Simplify the admin user check.</li> <li>Fix a regression when math was used with selectors.</li> <li>Ensure the input for certain functions in the query engine are ordered.</li> <li>Fix issue where deleted <code>time</code> field keys created unparseable points.</li> </ul> <h2 id="v1-2-2-2017-03-14">v1.2.2 [2017-03-14]</h2> <h3 id="release-notes-2">Release Notes</h3> <h3 id="configuration-changes-1">Configuration Changes</h3> <h4 id="http-section-1">
<code>[http]</code> Section</h4> <ul> <li>
<a href="../../administration/config/index.html#max-row-limit-0"><code>max-row-limit</code></a> now defaults to <code>0</code>. In versions 1.0 and 1.1, the default setting was <code>10000</code>, but due to a bug, the value in use in versions 1.0 and 1.1 was effectively <code>0</code>. In versions 1.2.0 through 1.2.1, we fixed that bug, but the fix caused a breaking change for Grafana and Kapacitor users; users who had not set <code>max-row-limit</code> to <code>0</code> experienced truncated/partial data due to the <code>10000</code> row limit. In version 1.2.2, we’ve changed the default <code>max-row-limit</code> setting to <code>0</code> to match the behavior in versions 1.0 and 1.1.</li> </ul> <h3 id="bugfixes-4">Bugfixes</h3> <ul> <li>Change the default <a href="../../administration/config/index.html#max-row-limit-0"><code>max-row-limit</code></a> setting from <code>10000</code> to <code>0</code> to prevent the absence of data in Grafana or Kapacitor.</li> </ul> <h2 id="v1-2-1-2017-03-08">v1.2.1 [2017-03-08]</h2> <h3 id="release-notes-3">Release Notes</h3> <h3 id="bugfixes-5">Bugfixes</h3> <ul> <li>Treat non-reserved measurement names with underscores as normal measurements.</li> <li>Reduce the expression in a subquery to avoid a panic.</li> <li>Properly select a tag within a subquery.</li> <li>Prevent a panic when aggregates are used in an inner query with a raw query.</li> <li>Points missing after compaction.</li> <li>Point.UnmarshalBinary() bounds check.</li> <li>Interface conversion: tsm1.Value is tsm1.IntegerValue, not tsm1.FloatValue.</li> <li>Map types correctly when using a regex and one of the measurements is empty.</li> <li>Map types correctly when selecting a field with multiple measurements where one of the measurements is empty.</li> <li>Include IsRawQuery in the rewritten statement for meta queries.</li> <li>Fix race in WALEntry.Encode and Values.Deduplicate</li> <li>Fix panic in collectd when configured to read types DB from directory.</li> <li>Fix ORDER BY time DESC with ordering series keys.</li> <li>Fix mapping of types when the measurement uses a regular expression.</li> <li>Fix LIMIT and OFFSET when they are used in a subquery.</li> <li>Fix incorrect math when aggregates that emit different times are used.</li> <li>Fix EvalType when a parenthesis expression is used.</li> <li>Fix authentication when subqueries are present.</li> <li>Expand query dimensions from the subquery.</li> <li>Dividing aggregate functions with different outputs doesn’t panic.</li> <li>Anchors not working as expected with case-insensitive regular expression.</li> </ul> <h2 id="v1-2-0-2017-01-24">v1.2.0 [2017-01-24]</h2> <h3 id="release-notes-4">Release Notes</h3> <p>This release introduces a major new querying capability in the form of sub-queries, and provides several performance improvements, including a 50% or better gain in write performance on larger numbers of cores. The release adds some stability and memory-related improvements, as well as several CLI-related bug fixes. If upgrading from a prior version, please read the configuration changes in the following section before upgrading.</p> <h3 id="configuration-changes-2">Configuration Changes</h3> <p>The following new configuration options are available, if upgrading to <code>1.2.0</code> from prior versions.</p> <h4 id="collectd-section">
<code>[[collectd]]</code> Section</h4> <ul> <li>
<code>security-level</code> which defaults to <code>"none"</code>. This field also accepts <code>"sign"</code> and <code>"encrypt"</code> and enables different levels of transmission security for the collectd plugin.</li> <li>
<code>auth-file</code> which defaults to <code>"/etc/collectd/auth_file"</code>. Specifies where to locate the authentication file used to authenticate clients when using signed or encrypted mode.</li> </ul> <h3 id="deprecations">Deprecations</h3> <p>The stress tool <code>influx_stress</code> will be removed in a subsequent release. We recommend using <a href="https://github.com/influxdata/influx-stress"><code>influx-stress</code></a> as a replacement.</p> <h3 id="features-1">Features</h3> <ul> <li>Remove the override of GOMAXPROCS.</li> <li>Uncomment section headers from the default configuration file.</li> <li>Improve write performance significantly.</li> <li>Prune data in meta store for deleted shards.</li> <li>Update latest dependencies with Godeps.</li> <li>Introduce syntax for marking a partial response with chunking.</li> <li>Use X-Forwarded-For IP address in HTTP logger if present.</li> <li>Add support for secure transmission via collectd.</li> <li>Switch logging to use structured logging everywhere.</li> <li>[CLI feature request] USE retention policy for queries.</li> <li>Add clear command to CLI.</li> <li>Adding ability to use parameters in queries in the v2 client using the <code>Parameters</code> map in the <code>Query</code> struct.</li> <li>Allow add items to array config via ENV.</li> <li>Support subquery execution in the query language.</li> <li>Verbose output for SSL connection errors.</li> <li>Cache snapshotting performance improvements</li> </ul> <h3 id="bugfixes-6">Bugfixes</h3> <ul> <li>Fix potential race condition in correctness of tsm1_cache memBytes statistic.</li> <li>Fix broken error return on meta client’s UpdateUser and DropContinuousQuery methods.</li> <li>Fix string quoting and significantly improve performance of <code>influx_inspect export</code>.</li> <li>CLI was caching db/rp for insert into statements.</li> <li>Fix CLI import bug when using self-signed SSL certificates.</li> <li>Fix cross-platform backup/restore.</li> <li>Ensures that all user privileges associated with a database are removed when the database is dropped.</li> <li>Return the time from a percentile call on an integer.</li> <li>Expand string and boolean fields when using a wildcard with <code>sample()</code>.</li> <li>Fix chuid argument order in init script.</li> <li>Reject invalid subscription URLs.</li> <li>CLI should use spaces for alignment, not tabs.</li> <li>0.12.2 InfluxDB CLI client PRECISION returns “Unknown precision…”.</li> <li>Fix parse key panic when missing tag value.</li> <li>Rentention Policy should not allow <code>INF</code> or <code>0</code> as a shard duration.</li> <li>Return Error instead of panic when decoding point values.</li> <li>Fix slice out of bounds panic when pruning shard groups.</li> <li>Drop database will delete /influxdb/data directory.</li> <li>Ensure Subscriber service can be disabled.</li> <li>Fix race in storage engine.</li> <li>InfluxDB should do a partial write on mismatched type errors.</li> </ul> <h2 id="v1-1-5-2017-05-08">v1.1.5 [2017-05-08]</h2> <h3 id="bugfixes-7">Bugfixes</h3> <ul> <li>Redact passwords before saving them to the history file.</li> <li>Add the missing DefaultDatabase method to several InfluxQL statements.</li> </ul> <h2 id="v1-1-4-2017-02-27">v1.1.4 [2017-02-27]</h2> <h3 id="bugfixes-8">Bugfixes</h3> <ul> <li>Backport from 1.2.0: Reduce GC allocations.</li> </ul> <h2 id="v1-1-3-2017-02-17">v1.1.3 [2017-02-17]</h2> <h3 id="bugfixes-9">Bugfixes</h3> <ul> <li>Remove Tags.shouldCopy, replace with forceCopy on series creation.</li> </ul> <h2 id="v1-1-2-2017-02-16">v1.1.2 [2017-02-16]</h2> <h3 id="bugfixes-10">Bugfixes</h3> <ul> <li>Fix memory leak when writing new series over HTTP.</li> <li>Fix series tag iteration segfault.</li> <li>Fix tag dereferencing panic.</li> </ul> <h2 id="v1-1-1-2016-12-06">v1.1.1 [2016-12-06]</h2> <h3 id="features-2">Features</h3> <ul> <li>Update Go version to 1.7.4.</li> </ul> <h3 id="bugfixes-11">Bugfixes</h3> <ul> <li>Fix string fields w/ trailing slashes.</li> <li>Quote the empty string as an ident.</li> <li>Fix incorrect tag value in error message.</li> </ul> <h3 id="security">Security</h3> <p><a href="https://golang.org/doc/devel/release.html#go1.7.minor">Go 1.7.4</a> was released to address two security issues. This release includes these security fixes.</p> <h2 id="v1-1-0-2016-11-14">v1.1.0 [2016-11-14]</h2> <h3 id="release-notes-5">Release Notes</h3> <p>This release is built with GoLang 1.7.3 and provides many performance optimizations, stability changes and a few new query capabilities. If upgrading from a prior version, please read the configuration changes below section before upgrading.</p> <h3 id="deprecations-1">Deprecations</h3> <p>The admin interface is deprecated and will be removed in a subsequent release. The configuration setting to enable the admin UI is now disabled by default, but can be enabled if necessary. We recommend using <a href="https://github.com/influxdata/chronograf">Chronograf</a> or <a href="https://github.com/grafana/grafana">Grafana</a> as a replacement.</p> <h3 id="configuration-changes-3">Configuration Changes</h3> <p>The following configuration changes may need to changed before upgrading to <code>1.1.0</code> from prior versions.</p> <h4 id="admin-section">
<code>[admin]</code> Section</h4> <ul> <li>
<code>enabled</code> now default to false. If you are currently using the admin interaface, you will need to change this value to <code>true</code> to re-enable it. The admin interface is currently deprecated and will be removed in a subsequent release.</li> </ul> <h4 id="data-section">
<code>[data]</code> Section</h4> <ul> <li>
<code>max-values-per-tag</code> was added with a default of 100,000, but can be disabled by setting it to <code>0</code>. Existing measurements with tags that exceed this limit will continue to load, but writes that would cause the tags cardinality to increase will be dropped and a <code>partial write</code> error will be returned to the caller. This limit can be used to prevent high cardinality tag values from being written to a measurement.</li> <li>
<code>cache-max-memory-size</code> has been increased to from <code>524288000</code> to <code>1048576000</code>. This setting is the maximum amount of RAM, in bytes, a shard cache can use before it rejects writes with an error. Setting this value to <code>0</code> disables the limit.</li> <li>
<code>cache-snapshot-write-cold-duration</code> has been decreased from <code>1h</code> to <code>10m</code>. This setting determines how long values will stay in the shard cache while the shard is cold for writes.</li> <li>
<code>compact-full-write-cold-duration</code> has been decreased from <code>24h</code> to <code>4h</code>. The shorter duration allows cold shards to be compacted to an optimal state more quickly.</li> </ul> <h3 id="features-3">Features</h3> <p>The query language has been extended with a few new features:</p> <ul> <li>Support regular expressions on fields keys in select clause.</li> <li>New <code>linear</code> fill option.</li> <li>New <code>cumulative_sum</code> function.</li> <li>Support <code>ON</code> for <code>SHOW</code> commands.</li> </ul> <p>All Changes:</p> <ul> <li>Filter out series within shards that do not have data for that series.</li> <li>Rewrite regular expressions of the form host = /^server-a$/ to host = ‘server-a’, to take advantage of the tsdb index.</li> <li>Improve compaction planning performance by caching tsm file stats.</li> <li>Align binary math expression streams by time.</li> <li>Reduce map allocations when computing the TagSet of a measurement.</li> <li>Make input plugin services open/close idempotent.</li> <li>Speed up shutdown by closing shards concurrently.</li> <li>Add sample function to query language.</li> <li>Add <code>fill(linear)</code> to query language.</li> <li>Implement cumulative_sum() function.</li> <li>Update defaults in config for latest best practices.</li> <li>UDP Client: Split large points.</li> <li>Add stats for active compactions, compaction errors.</li> <li>More man pages for the other tools we package and compress man pages fully.</li> <li>Add max-values-per-tag to limit high tag cardinality data.</li> <li>Update jwt-go dependency to version 3.</li> <li>Support enable HTTP service over unix domain socket.</li> <li>Add additional statistics to query executor.</li> <li>Feature request: <code>influx inspect -export</code> should dump WAL files.</li> <li>Implement text/csv content encoding for the response writer.</li> <li>Support tools for running async queries.</li> <li>Support ON and use default database for SHOW commands.</li> <li>Correctly read in input from a non-interactive stream for the CLI.</li> <li>Support <code>INFLUX_USERNAME</code> and <code>INFLUX_PASSWORD</code> for setting username/password in the CLI.</li> <li>Optimize first/last when no group by interval is present.</li> <li>Make regular expressions work on field and dimension keys in SELECT clause.</li> <li>Change default time boundaries for raw queries.</li> <li>Support mixed duration units.</li> </ul> <h3 id="bugfixes-12">Bugfixes</h3> <ul> <li>Avoid deadlock when <code>max-row-limit</code> is hit.</li> <li>Fix incorrect grouping when multiple aggregates are used with sparse data.</li> <li>Fix output duration units for SHOW QUERIES.</li> <li>Truncate the version string when linking to the documentation.</li> <li>influx_inspect: export does not escape field keys.</li> <li>Fix issue where point would be written to wrong shard.</li> <li>Fix retention policy inconsistencies.</li> <li>Remove accidentally added string support for the stddev call.</li> <li>Remove /data/process_continuous_queries endpoint.</li> <li>Enable https subscriptions to work with custom CA certificates.</li> <li>Reduce query planning allocations.</li> <li>Shard stats include WAL path tag so disk bytes make more sense.</li> <li>Panic with unread show series iterators during drop database.</li> <li>Use consistent column output from the CLI for column formatted responses.</li> <li>Correctly use password-type field in Admin UI.</li> <li>Duplicate parsing bug in ALTER RETENTION POLICY.</li> <li>Fix database locked up when deleting shards.</li> <li>Fix mmap dereferencing.</li> <li>Fix base64 encoding issue with /debug/vars stats.</li> <li>Drop measurement causes cache max memory exceeded error.</li> <li>Decrement number of measurements only once when deleting the last series from a measurement.</li> <li>Delete statement returns an error when retention policy or database is specified.</li> <li>Fix the dollar sign so it properly handles reserved keywords.</li> <li>Exceeding max retention policy duration gives incorrect error message.</li> <li>Drop time when used as a tag or field key.</li> </ul> <h2 id="v1-0-2-2016-10-05">v1.0.2 [2016-10-05]</h2> <h3 id="bugfixes-13">Bugfixes</h3> <ul> <li>Fix RLE integer decoding producing negative numbers.</li> <li>Avoid stat syscall when planning compactions.</li> <li>Subscription data loss under high write load.</li> <li>Do not automatically reset the shard duration when using ALTER RETENTION POLICY.</li> <li>Ensure correct shard groups created when retention policy has been altered.</li> </ul> <h2 id="v1-0-1-2016-09-26">v1.0.1 [2016-09-26]</h2> <h3 id="bugfixes-14">Bugfixes</h3> <ul> <li>Prevent users from manually using system queries since incorrect use would result in a panic.</li> <li>Ensure fieldsCreated stat available in shard measurement.</li> <li>Report cmdline and memstats in /debug/vars.</li> <li>Fixing typo within example configuration file.</li> <li>Implement time math for lazy time literals.</li> <li>Fix database locked up when deleting shards.</li> <li>Skip past points at the same time in derivative call within a merged series.</li> <li>Read an invalid JSON response as an error in the Influx client.</li> </ul> <h2 id="v1-0-0-2016-09-08">v1.0.0 [2016-09-08]</h2> <h3 id="release-notes-6">Release Notes</h3> <p>Inital release of InfluxDB.</p> <h3 id="breaking-changes">Breaking changes</h3> <ul> <li>
<code>max-series-per-database</code> was added with a default of 1M but can be disabled by setting it to <code>0</code>. Existing databases with series that exceed this limit will continue to load but writes that would create new series will fail.</li> <li>Config option <code>[cluster]</code> has been replaced with <code>[coordinator]</code>.</li> <li>Support for config options <code>[collectd]</code> and <code>[opentsdb]</code> has been removed; use <code>[[collectd]]</code> and <code>[[opentsdb]]</code> instead.</li> <li>Config option <code>data-logging-enabled</code> within the <code>[data]</code> section, has been renamed to <code>trace-logging-enabled</code>, and defaults to <code>false</code>.</li> <li>The keywords <code>IF</code>, <code>EXISTS</code>, and <code>NOT</code> where removed for this release. This means you no longer need to specify <code>IF NOT EXISTS</code> for <code>DROP DATABASE</code> or <code>IF EXISTS</code> for <code>CREATE DATABASE</code>. If these are specified, a query parse error is returned.</li> <li>The Shard <code>writePointsFail</code> stat has been renamed to <code>writePointsErr</code> for consistency with other stats.</li> </ul> <p>With this release the systemd configuration files for InfluxDB will use the system configured default for logging and will no longer write files to <code>/var/log/influxdb</code> by default. On most systems, the logs will be directed to the systemd journal and can be accessed by <code>journalctl -u influxdb.service</code>. Consult the systemd journald documentation for configuring journald.</p> <h3 id="features-4">Features</h3> <ul> <li>Add mode function.</li> <li>Support negative timestamps for the query engine.</li> <li>Write path stats.</li> <li>Add MaxSeriesPerDatabase config setting.</li> <li>Remove IF EXISTS/IF NOT EXISTS from influxql language.</li> <li>Update go package library dependencies.</li> <li>Add tsm file export to influx_inspect tool.</li> <li>Create man pages for commands.</li> <li>Return 403 Forbidden when authentication succeeds but authorization fails.</li> <li>Added favicon.</li> <li>Run continuous query for multiple buckets rather than one per bucket.</li> <li>Log the CQ execution time when continuous query logging is enabled.</li> <li>Trim BOM from Windows Notepad-saved config files.</li> <li>Update help and remove unused config options from the configuration file.</li> <li>Add NodeID to execution options.</li> <li>Make httpd logger closer to Common (&amp; combined) Log Format.</li> <li>Allow any variant of the help option to trigger the help.</li> <li>Reduce allocations during query parsing.</li> <li>Optimize timestamp run-length decoding.</li> <li>Adds monitoring statistic for on-disk shard size.</li> <li>Add HTTP(s) based subscriptions.</li> <li>Add new HTTP statistics to monitoring.</li> <li>Speed up drop database.</li> <li>Add Holt-Winter forecasting function.</li> <li>Add support for JWT token authentication.</li> <li>Add ability to create snapshots of shards.</li> <li>Parallelize iterators.</li> <li>Teach the http service how to enforce connection limits.</li> <li>Support cast syntax for selecting a specific type.</li> <li>Refactor monitor service to avoid expvar and write monitor statistics on a truncated time interval.</li> <li>Dynamically update the documentation link in the admin UI.</li> <li>Support wildcards in aggregate functions.</li> <li>Support specifying a retention policy for the graphite service.</li> <li>Add extra trace logging to tsm engine.</li> <li>Add stats and diagnostics to the TSM engine.</li> <li>Support regex selection in SHOW TAG VALUES for the key.</li> <li>Modify the default retention policy name and make it configurable.</li> <li>Update SHOW FIELD KEYS to return the field type with the field key.</li> <li>Support bound parameters in the parser.</li> <li>Add https-private-key option to httpd config.</li> <li>Support loading a folder for collectd typesdb files.</li> </ul> <h3 id="bugfixes-15">Bugfixes</h3> <ul> <li>Optimize queries that compare a tag value to an empty string.</li> <li>Allow blank lines in the line protocol input.</li> <li>Runtime: goroutine stack exceeds 1000000000-byte limit.</li> <li>Fix alter retention policy when all options are used.</li> <li>Concurrent series limit.</li> <li>Ensure gzip writer is closed in influx_inspect export.</li> <li>Fix CREATE DATABASE when dealing with default values.</li> <li>Fix UDP pointsRx being incremented twice.</li> <li>Tombstone memory improvements.</li> <li>Hardcode auto generated RP names to autogen.</li> <li>Ensure IDs can’t clash when managing Continuous Queries.</li> <li>Continuous full compactions.</li> <li>Remove limiter from walkShards.</li> <li>Copy tags in influx_stress to avoid a concurrent write panic on a map.</li> <li>Do not run continuous queries that have no time span.</li> <li>Move the CQ interval by the group by offset.</li> <li>Fix panic parsing empty key.</li> <li>Update connection settings when changing hosts in CLI.</li> <li>Always use the demo config when outputting a new config.</li> <li>Minor improvements to init script. Removes sysvinit-utils as package dependency.</li> <li>Fix compaction planning with large TSM files.</li> <li>Duplicate data for the same timestamp.</li> <li>Fix panic: truncate the slice when merging the caches.</li> <li>Fix regex binary encoding for a measurement.</li> <li>Fix fill(previous) when used with math operators.</li> <li>Rename dumptsmdev to dumptsm in influx_inspect.</li> <li>Remove a double lock in the tsm1 index writer.</li> <li>Remove FieldCodec from TSDB package.</li> <li>Allow a non-admin to call “use” for the influx CLI.</li> <li>Set the condition cursor instead of aux iterator when creating a nil condition cursor.</li> <li>Update <code>stress/v2</code> to work with clusters, ssl, and username/password auth. Code cleanup.</li> <li>Modify the max nanosecond time to be one nanosecond less.</li> <li>Include sysvinit-tools as an rpm dependency.</li> <li>Add port to all graphite log output to help with debugging multiple endpoints.</li> <li>Fix panic: runtime error: index out of range.</li> <li>Remove systemd output redirection.</li> <li>Database unresponsive after DROP MEASUREMENT.</li> <li>Address Out of Memory Error when Dropping Measurement.</li> <li>Fix the point validation parser to identify and sort tags correctly.</li> <li>Prevent panic in concurrent auth cache write.</li> <li>Set X-Influxdb-Version header on every request (even 404 requests).</li> <li>Prevent panic if there are no values.</li> <li>Time sorting broken with overwritten points.</li> <li>queries with strings that look like dates end up with date types, not string types.</li> <li>Concurrent map read write panic.</li> <li>Drop writes from before the retention policy time window.</li> <li>Fix SELECT statement required privileges.</li> <li>Filter out sources that do not match the shard database/retention policy.</li> <li>Truncate the shard group end time if it exceeds MaxNanoTime.</li> <li>Batch SELECT INTO / CQ writes.</li> <li>Fix compaction planning re-compacting large TSM files.</li> <li>Ensure client sends correct precision when inserting points.</li> <li>Accept points with trailing whitespace.</li> <li>Fix panic in SHOW FIELD KEYS.</li> <li>Disable limit optimization when using an aggregate.</li> <li>Fix panic: interface conversion: tsm1.Value is *tsm1.StringValue, not *tsm1.FloatValue.</li> <li>Data race when dropping a database immediately after writing to it.</li> <li>Make sure admin exists before authenticating query.</li> <li>Print the query executor’s stack trace on a panic to the log.</li> <li>Fix read tombstones: EOF.</li> <li>Query-log-enabled in config not ignored anymore.</li> <li>Ensure clients requesting gzip encoded bodies don’t receive empty body.</li> <li>Optimize shard loading.</li> <li>Queries slow down hundreds times after overwriting points.</li> <li>SHOW TAG VALUES accepts != and !~ in WHERE clause.</li> <li>Remove old cluster code.</li> <li>Ensure that future points considered in SHOW queries.</li> <li>Fix full compactions conflicting with level compactions.</li> <li>Overwriting points on large series can cause memory spikes during compactions.</li> <li>Fix parseFill to check for fill ident before attempting to parse an expression.</li> <li>Max index entries exceeded.</li> <li>Address slow startup time.</li> <li>Fix measurement field panic in tsm1 engine.</li> <li>Queries against files that have just been compacted need to point to new files.</li> <li>Check that retention policies exist before creating CQ.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2015 InfluxData, Inc.<br>Licensed under the MIT license.<br>
    <a href="https://docs.influxdata.com/influxdb/v1.3/about_the_project/releasenotes-changelog/" class="_attribution-link">https://docs.influxdata.com/influxdb/v1.3/about_the_project/releasenotes-changelog/</a>
  </p>
</div>
