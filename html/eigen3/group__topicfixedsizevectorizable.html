<h1>Fixed-size vectorizable Eigen objects</h1>      <div> <p>The goal of this page is to explain what we mean by "fixed-size vectorizable".</p> <h1>
<a id="FixedSizeVectorizable_summary"></a> Executive Summary</h1> <p>An <a href="namespaceeigen.html" title="Namespace containing all symbols from the Eigen library.">Eigen</a> object is called "fixed-size vectorizable" if it has fixed size and that size is a multiple of 16 bytes.</p> <p>Examples include: </p>
<ul> <li>Eigen::Vector2d </li> <li>Eigen::Vector4d </li> <li>Eigen::Vector4f </li> <li>Eigen::Matrix2d </li> <li>Eigen::Matrix2f </li> <li>Eigen::Matrix4d </li> <li>Eigen::Matrix4f </li> <li>Eigen::Affine3d </li> <li>Eigen::Affine3f </li> <li>
<a href="group__geometry__module.html#ga5daab8e66aa480465000308455578830">Eigen::Quaterniond</a> </li> <li><a href="group__geometry__module.html#ga66aa915a26d698c60ed206818c3e4c9b">Eigen::Quaternionf</a></li> </ul> <h1>
<a id="FixedSizeVectorizable_explanation"></a> Explanation</h1> <p>First, "fixed-size" should be clear: an Eigen object has fixed size if its number of rows and its number of columns are fixed at compile-time. So for example Matrix3f has fixed size, but MatrixXf doesn't (the opposite of fixed-size is dynamic-size).</p> <p>The array of coefficients of a fixed-size Eigen object is a plain "static array", it is not dynamically allocated. For example, the data behind a Matrix4f is just a "float array[16]".</p> <p>Fixed-size objects are typically very small, which means that we want to handle them with zero runtime overhead â€“ both in terms of memory usage and of speed.</p> <p>Now, vectorization works with 128-bit packets (e.g., SSE, AltiVec, NEON), 256-bit packets (e.g., AVX), or 512-bit packets (e.g., AVX512). Moreover, for performance reasons, these packets are most efficiently read and written if they have the same alignment as the packet size, that is 16 bytes, 32 bytes, and 64 bytes respectively.</p> <p>So it turns out that the best way that fixed-size Eigen objects can be vectorized, is if their size is a multiple of 16 bytes (or more). Eigen will then request 16-byte alignment (or more) for these objects, and henceforth rely on these objects being aligned to achieve maximal efficiency. </p> </div> <div class="_attribution">
  <p class="_attribution-p">
    &copy; Eigen.<br>Licensed under the MPL2 License.<br>
    <a href="https://eigen.tuxfamily.org/dox/group__TopicFixedSizeVectorizable.html" class="_attribution-link">https://eigen.tuxfamily.org/dox/group__TopicFixedSizeVectorizable.html</a>
  </p>
</div>
