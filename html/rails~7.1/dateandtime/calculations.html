<h1 id="module-DateAndTime::Calculations" class="module"> module DateAndTime::Calculations </h1>  <section id="5Buntitled-5D" class="documentation-section"> <section class="constants-list"> <header> <h3>Constants</h3> </header> <dl> <dt id="DAYS_INTO_WEEK">DAYS_INTO_WEEK </dt>

<dt id="WEEKEND_DAYS">WEEKEND_DAYS </dt>

</dl> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-after-3F"> <span class="method-name">after?</span><span class="method-args">(date_or_time)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="after-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 72
def after?(date_or_time)
  self &gt; date_or_time
end</pre> </div> <p>Returns true if the date/time falls after <code>date_or_time</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-all_day"> <span class="method-name">all_day</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="all_day-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 310
def all_day
  beginning_of_day..end_of_day
end</pre> </div> <p>Returns a <span><code>Range</code></span> representing the whole day of the current date/time.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-all_month"> <span class="method-name">all_month</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="all_month-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 321
def all_month
  beginning_of_month..end_of_month
end</pre> </div> <p>Returns a <span><code>Range</code></span> representing the whole month of the current date/time.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-all_quarter"> <span class="method-name">all_quarter</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="all_quarter-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 326
def all_quarter
  beginning_of_quarter..end_of_quarter
end</pre> </div> <p>Returns a <span><code>Range</code></span> representing the whole quarter of the current date/time.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-all_week"> <span class="method-name">all_week</span><span class="method-args">(start_day = Date.beginning_of_week)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="all_week-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 316
def all_week(start_day = Date.beginning_of_week)
  beginning_of_week(start_day)..end_of_week(start_day)
end</pre> </div> <p>Returns a <span><code>Range</code></span> representing the whole week of the current date/time. Week starts on start_day, default is <code>Date.beginning_of_week</code> or <code>config.beginning_of_week</code> when set.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-all_year"> <span class="method-name">all_year</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="all_year-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 331
def all_year
  beginning_of_year..end_of_year
end</pre> </div> <p>Returns a <span><code>Range</code></span> representing the whole year of the current date/time.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-at_beginning_of_month"> <span class="method-name">at_beginning_of_month</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-beginning_of_month">beginning_of_month</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-at_beginning_of_quarter"> <span class="method-name">at_beginning_of_quarter</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-beginning_of_quarter">beginning_of_quarter</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-at_beginning_of_week"> <span class="method-name">at_beginning_of_week</span><span class="method-args">(start_day = Date.beginning_of_week)</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-beginning_of_week">beginning_of_week</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-at_beginning_of_year"> <span class="method-name">at_beginning_of_year</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-beginning_of_year">beginning_of_year</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-at_end_of_month"> <span class="method-name">at_end_of_month</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-end_of_month">end_of_month</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-at_end_of_quarter"> <span class="method-name">at_end_of_quarter</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-end_of_quarter">end_of_quarter</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-at_end_of_week"> <span class="method-name">at_end_of_week</span><span class="method-args">(start_day = Date.beginning_of_week)</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-end_of_week">end_of_week</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-at_end_of_year"> <span class="method-name">at_end_of_year</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-end_of_year">end_of_year</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-before-3F"> <span class="method-name">before?</span><span class="method-args">(date_or_time)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="before-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 67
def before?(date_or_time)
  self &lt; date_or_time
end</pre> </div> <p>Returns true if the date/time falls before <code>date_or_time</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-beginning_of_month"> <span class="method-name">beginning_of_month</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="beginning_of_month-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 125
def beginning_of_month
  first_hour(change(day: 1))
end</pre> </div> <p>Returns a new date/time at the start of the month.</p> <pre class="ruby" data-language="ruby">today = Date.today # =&gt; Thu, 18 Jun 2015
today.beginning_of_month # =&gt; Mon, 01 Jun 2015
</pre> <p><code>DateTime</code> objects will have a time set to 0:00.</p> <pre class="ruby" data-language="ruby">now = DateTime.current # =&gt; Thu, 18 Jun 2015 15:23:13 +0000
now.beginning_of_month # =&gt; Mon, 01 Jun 2015 00:00:00 +0000
</pre>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-at_beginning_of_month">at_beginning_of_month</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-beginning_of_quarter"> <span class="method-name">beginning_of_quarter</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="beginning_of_quarter-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 139
def beginning_of_quarter
  first_quarter_month = month - (2 + month) % 3
  beginning_of_month.change(month: first_quarter_month)
end</pre> </div> <p>Returns a new date/time at the start of the quarter.</p> <pre class="ruby" data-language="ruby">today = Date.today # =&gt; Fri, 10 Jul 2015
today.beginning_of_quarter # =&gt; Wed, 01 Jul 2015
</pre> <p><code>DateTime</code> objects will have a time set to 0:00.</p> <pre class="ruby" data-language="ruby">now = DateTime.current # =&gt; Fri, 10 Jul 2015 18:41:29 +0000
now.beginning_of_quarter # =&gt; Wed, 01 Jul 2015 00:00:00 +0000
</pre>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-at_beginning_of_quarter">at_beginning_of_quarter</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-beginning_of_week"> <span class="method-name">beginning_of_week</span><span class="method-args">(start_day = Date.beginning_of_week)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="beginning_of_week-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 267
def beginning_of_week(start_day = Date.beginning_of_week)
  result = days_ago(days_to_week_start(start_day))
  acts_like?(:time) ? result.midnight : result
end</pre> </div> <p>Returns a new date/time representing the start of this week on the given day. Week is assumed to start on <code>start_day</code>, default is <code>Date.beginning_of_week</code> or <code>config.beginning_of_week</code> when set. <code>DateTime</code> objects have their time set to 0:00.</p>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-at_beginning_of_week">at_beginning_of_week</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-beginning_of_year"> <span class="method-name">beginning_of_year</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="beginning_of_year-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 179
def beginning_of_year
  change(month: 1).beginning_of_month
end</pre> </div> <p>Returns a new date/time at the beginning of the year.</p> <pre class="ruby" data-language="ruby">today = Date.today # =&gt; Fri, 10 Jul 2015
today.beginning_of_year # =&gt; Thu, 01 Jan 2015
</pre> <p><code>DateTime</code> objects will have a time set to 0:00.</p> <pre class="ruby" data-language="ruby">now = DateTime.current # =&gt; Fri, 10 Jul 2015 18:41:29 +0000
now.beginning_of_year # =&gt; Thu, 01 Jan 2015 00:00:00 +0000
</pre>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-at_beginning_of_year">at_beginning_of_year</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-days_ago"> <span class="method-name">days_ago</span><span class="method-args">(days)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="days_ago-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 77
def days_ago(days)
  advance(days: -days)
end</pre> </div> <p>Returns a new date/time the specified number of days ago.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-days_since"> <span class="method-name">days_since</span><span class="method-args">(days)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="days_since-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 82
def days_since(days)
  advance(days: days)
end</pre> </div> <p>Returns a new date/time the specified number of days in the future.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-days_to_week_start"> <span class="method-name">days_to_week_start</span><span class="method-args">(start_day = Date.beginning_of_week)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="days_to_week_start-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 258
def days_to_week_start(start_day = Date.beginning_of_week)
  start_day_number = DAYS_INTO_WEEK.fetch(start_day)
  (wday - start_day_number) % 7
end</pre> </div> <p>Returns the number of days to the start of the week on the given day. Week is assumed to start on <code>start_day</code>, default is <code>Date.beginning_of_week</code> or <code>config.beginning_of_week</code> when set.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-end_of_month"> <span class="method-name">end_of_month</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="end_of_month-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 296
def end_of_month
  last_day = ::Time.days_in_month(month, year)
  last_hour(days_since(last_day - day))
end</pre> </div> <p>Returns a new date/time representing the end of the month. <a href="../datetime.html"><code>DateTime</code></a> objects will have a time set to 23:59:59.</p>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-at_end_of_month">at_end_of_month</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-end_of_quarter"> <span class="method-name">end_of_quarter</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="end_of_quarter-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 154
def end_of_quarter
  last_quarter_month = month + (12 - month) % 3
  beginning_of_month.change(month: last_quarter_month).end_of_month
end</pre> </div> <p>Returns a new date/time at the end of the quarter.</p> <pre class="ruby" data-language="ruby">today = Date.today # =&gt; Fri, 10 Jul 2015
today.end_of_quarter # =&gt; Wed, 30 Sep 2015
</pre> <p><code>DateTime</code> objects will have a time set to 23:59:59.</p> <pre class="ruby" data-language="ruby">now = DateTime.current # =&gt; Fri, 10 Jul 2015 18:41:29 +0000
now.end_of_quarter # =&gt; Wed, 30 Sep 2015 23:59:59 +0000
</pre>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-at_end_of_quarter">at_end_of_quarter</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-end_of_week"> <span class="method-name">end_of_week</span><span class="method-args">(start_day = Date.beginning_of_week)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="end_of_week-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 283
def end_of_week(start_day = Date.beginning_of_week)
  last_hour(days_since(6 - days_to_week_start(start_day)))
end</pre> </div> <p>Returns a new date/time representing the end of this week on the given day. Week is assumed to start on <code>start_day</code>, default is <code>Date.beginning_of_week</code> or <code>config.beginning_of_week</code> when set. <a href="../datetime.html"><code>DateTime</code></a> objects have their time set to 23:59:59.</p>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-at_end_of_week">at_end_of_week</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-end_of_year"> <span class="method-name">end_of_year</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="end_of_year-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 304
def end_of_year
  change(month: 12).end_of_month
end</pre> </div> <p>Returns a new date/time representing the end of the year. <a href="../datetime.html"><code>DateTime</code></a> objects will have a time set to 23:59:59.</p>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-at_end_of_year">at_end_of_year</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-future-3F"> <span class="method-name">future?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="future-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 52
def future?
  self &gt; self.class.current
end</pre> </div> <p>Returns true if the date/time is in the future.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-last_month"> <span class="method-name">last_month</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="last_month-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 240
def last_month
  months_ago(1)
end</pre> </div> <p>Short-hand for <code>months_ago(1)</code>.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-last_quarter"> <span class="method-name">last_quarter</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-prev_quarter">prev_quarter</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-last_week"> <span class="method-name">last_week</span><span class="method-args">(start_day = Date.beginning_of_week, same_time: false)</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-prev_week">prev_week</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-last_weekday"> <span class="method-name">last_weekday</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-prev_weekday">prev_weekday</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-last_year"> <span class="method-name">last_year</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="last_year-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 251
def last_year
  years_ago(1)
end</pre> </div> <p>Short-hand for <code>years_ago(1)</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-monday"> <span class="method-name">monday</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="monday-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 275
def monday
  beginning_of_week(:monday)
end</pre> </div> <p>Returns Monday of this week assuming that week starts on Monday. <code>DateTime</code> objects have their time set to 0:00.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-months_ago"> <span class="method-name">months_ago</span><span class="method-args">(months)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="months_ago-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 97
def months_ago(months)
  advance(months: -months)
end</pre> </div> <p>Returns a new date/time the specified number of months ago.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-months_since"> <span class="method-name">months_since</span><span class="method-args">(months)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="months_since-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 102
def months_since(months)
  advance(months: months)
end</pre> </div> <p>Returns a new date/time the specified number of months in the future.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-next_day-3F"> <span class="method-name">next_day?</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-tomorrow-3F">tomorrow?</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-next_occurring"> <span class="method-name">next_occurring</span><span class="method-args">(day_of_week)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="next_occurring-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 340
def next_occurring(day_of_week)
  from_now = DAYS_INTO_WEEK.fetch(day_of_week) - wday
  from_now += 7 unless from_now &gt; 0
  advance(days: from_now)
end</pre> </div> <p>Returns a new date/time representing the next occurrence of the specified day of week.</p> <pre class="ruby" data-language="ruby">today = Date.today               # =&gt; Thu, 14 Dec 2017
today.next_occurring(:monday)    # =&gt; Mon, 18 Dec 2017
today.next_occurring(:thursday)  # =&gt; Thu, 21 Dec 2017
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-next_quarter"> <span class="method-name">next_quarter</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="next_quarter-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 215
def next_quarter
  months_since(3)
end</pre> </div> <p>Short-hand for <code>months_since(3)</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-next_week"> <span class="method-name">next_week</span><span class="method-args">(given_day_in_next_week = Date.beginning_of_week, same_time: false)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="next_week-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 200
def next_week(given_day_in_next_week = Date.beginning_of_week, same_time: false)
  result = first_hour(weeks_since(1).beginning_of_week.days_since(days_span(given_day_in_next_week)))
  same_time ? copy_time_to(result) : result
end</pre> </div> <p>Returns a new date/time representing the given day in the next week.</p> <pre class="ruby" data-language="ruby">today = Date.today # =&gt; Thu, 07 May 2015
today.next_week    # =&gt; Mon, 11 May 2015
</pre> <p>The <code>given_day_in_next_week</code> defaults to the beginning of the week which is determined by <code>Date.beginning_of_week</code> or <code>config.beginning_of_week</code> when set.</p> <pre class="ruby" data-language="ruby">today = Date.today       # =&gt; Thu, 07 May 2015
today.next_week(:friday) # =&gt; Fri, 15 May 2015
</pre> <p><code>DateTime</code> objects have their time set to 0:00 unless <code>same_time</code> is true.</p> <pre class="ruby" data-language="ruby">now = DateTime.current # =&gt; Thu, 07 May 2015 13:31:16 +0000
now.next_week      # =&gt; Mon, 11 May 2015 00:00:00 +0000
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-next_weekday"> <span class="method-name">next_weekday</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="next_weekday-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 206
def next_weekday
  if next_day.on_weekend?
    next_week(:monday, same_time: true)
  else
    next_day
  end
end</pre> </div> <p>Returns a new date/time representing the next weekday.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-on_weekday-3F"> <span class="method-name">on_weekday?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="on_weekday-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 62
def on_weekday?
  !WEEKEND_DAYS.include?(wday)
end</pre> </div> <p>Returns true if the date/time does not fall on a Saturday or Sunday.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-on_weekend-3F"> <span class="method-name">on_weekend?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="on_weekend-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 57
def on_weekend?
  WEEKEND_DAYS.include?(wday)
end</pre> </div> <p>Returns true if the date/time falls on a Saturday or Sunday.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-past-3F"> <span class="method-name">past?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="past-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 47
def past?
  self &lt; self.class.current
end</pre> </div> <p>Returns true if the date/time is in the past.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-prev_day-3F"> <span class="method-name">prev_day?</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="calculations.html#method-i-yesterday-3F">yesterday?</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-prev_occurring"> <span class="method-name">prev_occurring</span><span class="method-args">(day_of_week)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="prev_occurring-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 351
def prev_occurring(day_of_week)
  ago = wday - DAYS_INTO_WEEK.fetch(day_of_week)
  ago += 7 unless ago &gt; 0
  advance(days: -ago)
end</pre> </div> <p>Returns a new date/time representing the previous occurrence of the specified day of week.</p> <pre class="ruby" data-language="ruby">today = Date.today               # =&gt; Thu, 14 Dec 2017
today.prev_occurring(:monday)    # =&gt; Mon, 11 Dec 2017
today.prev_occurring(:thursday)  # =&gt; Thu, 07 Dec 2017
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-prev_quarter"> <span class="method-name">prev_quarter</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="prev_quarter-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 245
def prev_quarter
  months_ago(3)
end</pre> </div> <p>Short-hand for <code>months_ago(3)</code>.</p>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-last_quarter">last_quarter</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-prev_week"> <span class="method-name">prev_week</span><span class="method-args">(start_day = Date.beginning_of_week, same_time: false)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="prev_week-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 223
def prev_week(start_day = Date.beginning_of_week, same_time: false)
  result = first_hour(weeks_ago(1).beginning_of_week.days_since(days_span(start_day)))
  same_time ? copy_time_to(result) : result
end</pre> </div> <p>Returns a new date/time representing the given day in the previous week. Week is assumed to start on <code>start_day</code>, default is <code>Date.beginning_of_week</code> or <code>config.beginning_of_week</code> when set. <a href="../datetime.html"><code>DateTime</code></a> objects have their time set to 0:00 unless <code>same_time</code> is true.</p>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-last_week">last_week</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-prev_weekday"> <span class="method-name">prev_weekday</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="prev_weekday-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 230
def prev_weekday
  if prev_day.on_weekend?
    copy_time_to(beginning_of_week(:friday))
  else
    prev_day
  end
end</pre> </div> <p>Returns a new date/time representing the previous weekday.</p>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-last_weekday">last_weekday</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-quarter"> <span class="method-name">quarter</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="quarter-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 166
def quarter
  (month / 3.0).ceil
end</pre> </div> <p>Returns the quarter for a date/time.</p> <pre class="ruby" data-language="ruby">Date.new(2010, 1, 31).quarter  # =&gt; 1
Date.new(2010, 4, 12).quarter  # =&gt; 2
Date.new(2010, 9, 15).quarter  # =&gt; 3
Date.new(2010, 12, 25).quarter # =&gt; 4
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-sunday"> <span class="method-name">sunday</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="sunday-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 290
def sunday
  end_of_week(:monday)
end</pre> </div> <p>Returns Sunday of this week assuming that week starts on Monday. <code>DateTime</code> objects have their time set to 23:59:59.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-today-3F"> <span class="method-name">today?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="today-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 30
def today?
  to_date == ::Date.current
end</pre> </div> <p>Returns true if the date/time is today.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-tomorrow"> <span class="method-name">tomorrow</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="tomorrow-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 25
def tomorrow
  advance(days: 1)
end</pre> </div> <p>Returns a new date/time representing tomorrow.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-tomorrow-3F"> <span class="method-name">tomorrow?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="tomorrow-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 35
def tomorrow?
  to_date == ::Date.current.tomorrow
end</pre> </div> <p>Returns true if the date/time is tomorrow.</p>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-next_day-3F">next_day?</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-weeks_ago"> <span class="method-name">weeks_ago</span><span class="method-args">(weeks)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="weeks_ago-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 87
def weeks_ago(weeks)
  advance(weeks: -weeks)
end</pre> </div> <p>Returns a new date/time the specified number of weeks ago.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-weeks_since"> <span class="method-name">weeks_since</span><span class="method-args">(weeks)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="weeks_since-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 92
def weeks_since(weeks)
  advance(weeks: weeks)
end</pre> </div> <p>Returns a new date/time the specified number of weeks in the future.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-years_ago"> <span class="method-name">years_ago</span><span class="method-args">(years)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="years_ago-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 107
def years_ago(years)
  advance(years: -years)
end</pre> </div> <p>Returns a new date/time the specified number of years ago.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-years_since"> <span class="method-name">years_since</span><span class="method-args">(years)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="years_since-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 112
def years_since(years)
  advance(years: years)
end</pre> </div> <p>Returns a new date/time the specified number of years in the future.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-yesterday"> <span class="method-name">yesterday</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="yesterday-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 20
def yesterday
  advance(days: -1)
end</pre> </div> <p>Returns a new date/time representing yesterday.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-yesterday-3F"> <span class="method-name">yesterday?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="yesterday-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/date_and_time/calculations.rb, line 41
def yesterday?
  to_date == ::Date.current.yesterday
end</pre> </div> <p>Returns true if the date/time is yesterday.</p>  </div> <div class="aliases"> Also aliased as: <a href="calculations.html#method-i-prev_day-3F">prev_day?</a> </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>
