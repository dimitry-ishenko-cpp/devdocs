<h1 id="class-ActiveRecord::Encryption::Config" class="class"> class ActiveRecord::Encryption::Config </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../../object.html">Object</a></dd>
</dl> <section class="description"> <p>Container of configuration options</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-add_to_filter_parameters"> <span class="method-name">add_to_filter_parameters</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-deterministic_key"> <span class="method-name">deterministic_key</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-encrypt_fixtures"> <span class="method-name">encrypt_fixtures</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-excluded_from_filter_parameters"> <span class="method-name">excluded_from_filter_parameters</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-extend_queries"> <span class="method-name">extend_queries</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-forced_encoding_for_deterministic_encryption"> <span class="method-name">forced_encoding_for_deterministic_encryption</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-hash_digest_class"> <span class="method-name">hash_digest_class</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-key_derivation_salt"> <span class="method-name">key_derivation_salt</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-previous_schemes"> <span class="method-name">previous_schemes</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-primary_key"> <span class="method-name">primary_key</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-store_key_references"> <span class="method-name">store_key_references</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-support_unencrypted_data"> <span class="method-name">support_unencrypted_data</span><span class="attribute-access-type">[RW]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-validate_column_size"> <span class="method-name">validate_column_size</span><span class="attribute-access-type">[RW]</span> </div>  </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/encryption/config.rb, line 13
def initialize
  set_defaults
end</pre> </div>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-previous-3D"> <span class="method-name">previous=</span><span class="method-args">(previous_schemes_properties)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="previous-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/encryption/config.rb, line 20
def previous=(previous_schemes_properties)
  previous_schemes_properties.each do |properties|
    add_previous_scheme(**properties)
  end
end</pre> </div> <p>Configure previous encryption schemes.</p> <pre class="ruby" data-language="ruby">config.active_record.encryption.previous = [ { key_provider: MyOldKeyProvider.new } ]
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-support_sha1_for_non_deterministic_encryption-3D"> <span class="method-name">support_sha1_for_non_deterministic_encryption=</span><span class="method-args">(value)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="support_sha1_for_non_deterministic_encryption-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/encryption/config.rb, line 26
def support_sha1_for_non_deterministic_encryption=(value)
  if value &amp;&amp; has_primary_key?
    sha1_key_generator = ActiveRecord::Encryption::KeyGenerator.new(hash_digest_class: OpenSSL::Digest::SHA1)
    sha1_key_provider = ActiveRecord::Encryption::DerivedSecretKeyProvider.new(primary_key, key_generator: sha1_key_generator)
    add_previous_scheme key_provider: sha1_key_provider
  end
end</pre> </div>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>
