<h1 id="class-ActionDispatch::Flash::FlashHash" class="class"> class ActionDispatch::Flash::FlashHash </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../../object.html">Object</a></dd>
<dt>Included modules:</dt>
<dd class="meta-includes"><a class="include" href="../../enumerable.html">Enumerable</a></dd>
</dl>  <section id="5Buntitled-5D" class="documentation-section"> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-5B-5D"> <span class="method-name">[]</span><span class="method-args">(k)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 162
def [](k)
  @flashes[k.to_s]
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-5B-5D-3D"> <span class="method-name">[]=</span><span class="method-args">(k, v)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-3D-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 156
def []=(k, v)
  k = k.to_s
  @discard.delete k
  @flashes[k] = v
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-alert"> <span class="method-name">alert</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="alert-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 268
def alert
  self[:alert]
end</pre> </div> <p>Convenience accessor for <code>flash[:alert]</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-alert-3D"> <span class="method-name">alert=</span><span class="method-args">(message)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="alert-3D-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 273
def alert=(message)
  self[:alert] = message
end</pre> </div> <p>Convenience accessor for <code>flash[:alert]=</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-clear"> <span class="method-name">clear</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="clear-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 197
def clear
  @discard.clear
  @flashes.clear
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-delete"> <span class="method-name">delete</span><span class="method-args">(key)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="delete-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 182
def delete(key)
  key = key.to_s
  @discard.delete key
  @flashes.delete key
  self
end</pre> </div> <p>Immediately deletes the single flash entry. Use this method when you want remove the message within the current action. See also <a href="flashhash.html#method-i-discard"><code>discard</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-discard"> <span class="method-name">discard</span><span class="method-args">(k = nil)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="discard-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 253
def discard(k = nil)
  k = k.to_s if k
  @discard.merge Array(k || keys)
  k ? self[k] : self
end</pre> </div> <p>Marks the entire flash or a single flash entry to be discarded by the end of the current action:</p> <pre class="ruby" data-language="ruby">flash.discard              # discard the entire flash at the end of the current action
flash.discard(:warning)    # discard only the "warning" entry at the end of the current action
</pre> <p>Use this method when you want to display the message in the current action but not in the next one. See also <a href="flashhash.html#method-i-delete"><code>delete</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-each"> <span class="method-name">each</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="each-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 202
def each(&amp;block)
  @flashes.each(&amp;block)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-empty-3F"> <span class="method-name">empty?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="empty-3F-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 193
def empty?
  @flashes.empty?
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-initialize_copy"> <span class="method-name">initialize_copy</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="initialize_copy-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 148
def initialize_copy(other)
  if other.now_is_loaded?
    @now = other.now.dup
    @now.flash = self
  end
  super
end</pre> </div> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-keep"> <span class="method-name">keep</span><span class="method-args">(k = nil)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="keep-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 240
def keep(k = nil)
  k = k.to_s if k
  @discard.subtract Array(k || keys)
  k ? self[k] : self
end</pre> </div> <p>Keeps either the entire current flash or a specific flash entry available for the next action:</p> <pre class="ruby" data-language="ruby">flash.keep            # keeps the entire flash
flash.keep(:notice)   # keeps only the "notice" entry, the rest of the flash is discarded
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-key-3F"> <span class="method-name">key?</span><span class="method-args">(name)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="key-3F-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 176
def key?(name)
  @flashes.key? name.to_s
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-keys"> <span class="method-name">keys</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="keys-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 172
def keys
  @flashes.keys
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-notice"> <span class="method-name">notice</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="notice-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 278
def notice
  self[:notice]
end</pre> </div> <p>Convenience accessor for <code>flash[:notice]</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-notice-3D"> <span class="method-name">notice=</span><span class="method-args">(message)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="notice-3D-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 283
def notice=(message)
  self[:notice] = message
end</pre> </div> <p>Convenience accessor for <code>flash[:notice]=</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-now"> <span class="method-name">now</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="now-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 232
def now
  @now ||= FlashNow.new(self)
end</pre> </div> <p>Sets a flash that will not be available to the next action, only to the current.</p> <pre class="ruby" data-language="ruby">flash.now[:message] = "Hello current action"
</pre> <p>This method enables you to use the flash as a central messaging system in your app. When you need to pass an object to the next action, you use the standard flash assign (<code>[]=</code>). When you need to pass an object to the current action, you use <code>now</code>, and your object will vanish when the current action is done.</p> <p>Entries set via <code>now</code> are accessed the same way as standard entries: <code>flash['my-key']</code>.</p> <p>Also, brings two convenience accessors:</p> <pre class="ruby" data-language="ruby">flash.now.alert = "Beware now!"
# Equivalent to flash.now[:alert] = "Beware now!"

flash.now.notice = "Good luck now!"
# Equivalent to flash.now[:notice] = "Good luck now!"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_hash"> <span class="method-name">to_hash</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_hash-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 189
def to_hash
  @flashes.dup
end</pre> </div>  </div> </div> </section> <section id="protected-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Protected Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-now_is_loaded-3F"> <span class="method-name">now_is_loaded?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="now_is_loaded-3F-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 288
def now_is_loaded?
  @now
end</pre> </div>  </div> </div> </section> <section id="private-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Private Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-stringify_array"> <span class="method-name">stringify_array</span><span class="method-args">(array)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="stringify_array-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/middleware/flash.rb, line 293
def stringify_array(array) # :doc:
  array.map do |item|
    item.kind_of?(Symbol) ? item.to_s : item
  end
end</pre> </div>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>
