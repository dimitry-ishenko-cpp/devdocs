<h1 id="chef-apply-provisioner">  Chef Apply Provisioner </h1> <p><strong>Provisioner name: <code>chef_apply</code></strong></p> <p>The Vagrant Chef Apply provisioner allows you to provision the guest using <a href="https://www.getchef.com/">Chef</a>, specifically with <a href="https://docs.getchef.com/ctl_chef_apply.html">Chef Apply</a>.</p> <p>Chef Apply is ideal for people who are already experienced with Chef and the Chef ecosystem. Specifically, this documentation page does not cover how use Chef or how to write Chef recipes.</p> <blockquote class="alert alert-warning"> <p><strong>Warning:</strong> If you are not familiar with Chef and Vagrant already, we recommend starting with the <a href="shell.html">shell provisioner</a>.</p> </blockquote>
<h2 id="options">  Options </h2> <p>This section lists the complete set of available options for the Chef Apply provisioner. More detailed examples of how to use the provisioner are available below this section.</p> <ul> <li>
<p><a href="#recipe"><code>recipe</code></a> (string) - The raw recipe contents to execute using Chef Apply on the guest.</p> </li> <li>
<p><a href="#log_level"><code>log_level</code></a> (string) - The log level to use while executing <code>chef-apply</code>. The default value is "info".</p> </li> <li>
<p><a href="#upload_path"><code>upload_path</code></a> (string) - <strong>Advanced!</strong> The location on the guest where the generated recipe file should be stored. For most use cases, it is unlikely you will need to customize this value. The default value is <code>/tmp/vagrant-chef-apply-#</code> where <code>#</code> is a unique counter generated by Vagrant to prevent collisions.</p> </li> </ul> <p>In addition to all the options listed above, the Chef Apply provisioner supports the <a href="chef_common.html">common options for all Chef provisioners</a>.</p> <h2 id="specifying-a-recipe">  Specifying a Recipe </h2> <p>The easiest way to get started with the Chef Apply provisioner is to just specify an inline <a href="https://docs.chef.io/recipes.html">Chef recipe</a>. For example:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">Vagrant.configure("2") do |config|
  config.vm.provision "chef_apply" do |chef|
    chef.recipe = "package[apache2]"
  end
end
</pre></div>
<p>This causes Vagrant to run Chef Apply with the given recipe contents. If you are familiar with Chef, you know this will install the apache2 package from the system package provider.</p> <p>Since single-line Chef recipes are rare, you can also specify the recipe using a "heredoc":</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">Vagrant.configure("2") do |config|
  config.vm.provision "chef_apply" do |chef|
    chef.recipe = &lt;&lt;-RECIPE
      package "apache2"

      template "/etc/apache2/my.config" do
        # ...
      end
    RECIPE
  end
end
</pre></div>
<p>Finally, if you would prefer to store the recipe as plain-text, you can set the recipe to the contents of a file:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">Vagrant.configure("2") do |config|
  config.vm.provision "chef_apply" do |chef|
    chef.recipe = File.read("/path/to/my/recipe.rb")
  end
end
</pre></div>
<h2 id="roles">  Roles </h2> <p>The Vagrant Chef Apply provisioner does not support roles. Please use a different Vagrant Chef provisioner if you need support for roles.</p> <h2 id="data-bags">  Data Bags </h2> <p>The Vagrant Chef Apply provisioner does not support data_bags. Please use a different Vagrant Chef provisioner if you need support for data_bags.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2018 Mitchell Hashimoto<br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.vagrantup.com/docs/provisioning/chef_apply.html" class="_attribution-link">https://www.vagrantup.com/docs/provisioning/chef_apply.html</a>
  </p>
</div>
