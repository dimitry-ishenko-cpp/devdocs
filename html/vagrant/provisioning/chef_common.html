<h1 id="shared-chef-options">  Shared Chef Options </h1> <h2 id="all-chef-provisioners">  All Chef Provisioners </h2> <p>The following options are available to all Vagrant Chef provisioners. Many of these options are for advanced users only and should not be used unless you understand their purpose.</p> <ul> <li>
<p><a href="#binary_path"><code>binary_path</code></a> (string) - The path to Chef's <code>bin/</code> directory on the guest machine.</p> </li> <li>
<p><a href="#binary_env"><code>binary_env</code></a> (string) - Arbitrary environment variables to set before running the Chef provisioner command. This should be of the format <code>KEY=value</code> as a string.</p> </li> <li>
<p><a href="#install"><code>install</code></a> (boolean, string) - Install Chef on the system if it does not exist. The default value is "true", which will use the official Omnibus installer from Chef. This is a trinary attribute (it can have three values):</p> <ul> <li>
<a href="#true"><code>true</code></a> (boolean) - install Chef </li> <li>
<a href="#false"><code>false</code></a> (boolean) - do not install Chef </li> <li>
<a href="#quot-force-quot-"><code>"force"</code></a> (string) - install Chef, even if it is already installed at the proper version on the guest </li> </ul> </li> <li>
<p><a href="#installer_download_path"><code>installer_download_path</code></a> (string) - The path where the Chef installer will be downloaded to. This option is only honored if the <code>install</code> attribute is <code>true</code> or <code>"force"</code>. The default value is to use the path provided by Chef's Omnibus installer, which varies between releases. This value has no effect on Windows because Chef's omnibus installer lacks the option on Windows.</p> </li> <li>
<p><a href="#log_level"><code>log_level</code></a> (string) - The Chef log level. See the Chef docs for acceptable values.</p> </li> <li>
<p><a href="#product"><code>product</code></a> (string) - The name of the Chef product to install. The default value is "chef", which corresponds to the Chef Client. You can also specify "chefdk", which will install the Chef Development Kit. At the time of this writing, the ChefDK is only available through the "current" channel, so you will need to update that value as well.</p> </li> <li>
<p><a href="#channel"><code>channel</code></a> (string) - The release channel from which to pull the Chef Client or the Chef Development Kit. The default value is <code>"stable"</code> which will pull the latest stable version of the Chef Client. For newer versions, or if you wish to install the Chef Development Kit, you may need to change the channel to "current". Because Chef Software floats the versions that are contained in the channel, they may change and Vagrant is unable to detect this.</p> </li> <li>
<p><a href="#version"><code>version</code></a> (string) - The version of Chef to install on the guest. If Chef is already installed on the system, the installed version is compared with the requested version. If they match, no action is taken. If they do not match, the value specified in this attribute will be installed in favor of the existing version (a message will be displayed). You can also specify "latest" (default), which will install the latest version of Chef on the system. In this case, Chef will use whatever version is on the system. To force the newest version of Chef to be installed on every provision, set the <a href="#install"><code>install</code></a> option to "force".</p> </li> <li>
<p><a href="#omnibus_url"><code>omnibus_url</code></a> (string) - Location of Omnibus installation scripts. This URL specifies the location of install.sh/install.ps1 for Linux/Unix and Windows respectively. It defaults to <a href="https://omnitruck.chef.io">https://omnitruck.chef.io</a>. The full URL is in this case:</p> <ul> <li>Linux/Unix: <a href="https://omnitruck.chef.io/install.sh">https://omnitruck.chef.io/install.sh</a> </li> <li>Windows: <a href="https://omnitruck.chef.io/install.ps1">https://omnitruck.chef.io/install.ps1</a> </li> </ul> </li> </ul> <p>If you want to have <a href="https://example.com/install.sh">https://example.com/install.sh</a> as Omnibus script for your Linux/Unix installations, you should set this option to <a href="https://example.com">https://example.com</a></p> <h2 id="runner-chef-provisioners">  Runner Chef Provisioners </h2> <p>The following options are available to any of the Chef "runner" provisioners which include <a href="chef_solo.html">Chef Solo</a>, <a href="chef_zero.html">Chef Zero</a>, and <a href="chef_client.html">Chef Client</a>.</p> <ul> <li>
<p><a href="#arguments"><code>arguments</code></a> (string) - A list of additional arguments to pass on the command-line to Chef. Since these are passed in a shell-like environment, be sure to properly quote and escape characters if necessary. By default, no additional arguments are sent.</p> </li> <li>
<p><a href="#attempts"><code>attempts</code></a> (int) - The number of times Chef will be run if an error occurs. This defaults to 1. This can be increased to a higher number if your Chef runs take multiple runs to reach convergence.</p> </li> <li>
<p><a href="#custom_config_path"><code>custom_config_path</code></a> (string) - A path to a custom Chef configuration local on your machine that will be used as the Chef configuration. This Chef configuration will be loaded <em>after</em> the Chef configuration that Vagrant generates, allowing you to override anything that Vagrant does. This is also a great way to use new Chef features that may not be supported fully by Vagrant's abstractions yet.</p> </li> <li>
<p><a href="#encrypted_data_bag_secret_key_path"><code>encrypted_data_bag_secret_key_path</code></a> (string) - The path to the secret key file to decrypt encrypted data bags. By default, this is not set.</p> </li> <li>
<p><a href="#environment"><code>environment</code></a> (string) - The environment you want the Chef run to be a part of.</p> </li> <li>
<p><a href="#formatter"><code>formatter</code></a> (string) - The formatter to use for output from Chef.</p> </li> <li>
<p><a href="#http_proxy"><code>http_proxy</code></a>, <code>http_proxy_user</code>, <code>http_proxy_pass</code>, <code>no_proxy</code> (string) - Settings to configure HTTP and HTTPS proxies to use from Chef. These settings are also available with <code>http</code> replaced with <code>https</code> to configure HTTPS proxies.</p> </li> <li>
<p><a href="#json"><code>json</code></a> (hash) - Custom node attributes to pass into the Chef run.</p> </li> <li>
<p><a href="#log_level-1"><code>log_level</code></a> (string) - The log level for Chef output. This defaults to "info".</p> </li> <li>
<p><a href="#node_name"><code>node_name</code></a> (string) - The node name for the Chef Client. By default this will be your hostname.</p> </li> <li>
<p><a href="#provisioning_path"><code>provisioning_path</code></a> (string) - The path on the remote machine where Vagrant will store all necessary files for provisioning such as cookbooks, configurations, etc. This path must be world writable. By default this is <code>/tmp/vagrant-chef-#</code> where "#" is replaced by a unique counter.</p> </li> <li>
<p><a href="#run_list"><code>run_list</code></a> (array) - The run list that will be executed on the node.</p> </li> <li>
<p><a href="#file_cache_path"><code>file_cache_path</code></a> and <code>file_backup_path</code> (string) - Paths on the remote machine where files will be cached and backed up. It is useful sometimes to configure this to a synced folder address so that this can be shared across many Vagrant runs.</p> </li> <li>
<p><a href="#verbose_logging"><code>verbose_logging</code></a> (boolean) - Whether or not to enable the Chef <code>verbose_logging</code> option. By default this is false.</p> </li> <li>
<p><a href="#enable_reporting"><code>enable_reporting</code></a> (boolean) - Whether or not to enable the Chef <code>enable_reporting</code> option. By default this is true.</p> </li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2018 Mitchell Hashimoto<br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.vagrantup.com/docs/provisioning/chef_common.html" class="_attribution-link">https://www.vagrantup.com/docs/provisioning/chef_common.html</a>
  </p>
</div>
