<h1 id="configuration">  Configuration </h1> <p>While Vagrant VMware Desktop provider is a drop-in replacement for VirtualBox, there are some additional features that are exposed that allow you to more finely configure VMware-specific aspects of your machines.</p> <p>Configuration settings for the provider are set in the Vagrantfile:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">Vagrant.configure("2") do |config|
  config.vm.box = "my-box"
  config.vm.provider "vmware_desktop" do |v|
    v.gui = true
  end
end
</pre></div>
<h2 id="provider-settings">  Provider settings </h2> <ul> <li>
<a href="#clone_directory"><code>clone_directory</code></a> (string) - Path for storing VMware clones. This value can also be set using the <code>VAGRANT_VMWARE_CLONE_DIRECTORY</code> environment variable. This defaults to <code>./.vagrant</code> </li> <li>
<a href="#enable_vmrun_ip_lookup"><code>enable_vmrun_ip_lookup</code></a> (bool) - Use vmrun to discover guest IP address. This defaults to <code>true</code> </li> <li>
<a href="#functional_hgfs"><code>functional_hgfs</code></a> (bool) - HGFS is functional within the guest. This defaults to detected capability of the guest </li> <li>
<a href="#unmount_default_hgfs"><code>unmount_default_hgfs</code></a> (bool) - Unmount the default HGFS mount point within the guest. This defaults to <code>false</code> </li> <li>
<a href="#gui"><code>gui</code></a> (bool) - Launch guest with a GUI. This defaults to <code>false</code> </li> <li>
<a href="#ssh_info_public"><code>ssh_info_public</code></a> (bool) - Use the public IP address for SSH connections to guest. This defaults to <code>false</code> </li> <li>
<a href="#verify_vmnet"><code>verify_vmnet</code></a> (bool) - Verify vmnet devices health before usage. This defaults to <code>true</code> </li> <li>
<a href="#linked_clone"><code>linked_clone</code></a> (bool) - Use linked clones instead of full copy clones. This defaults to <code>true</code> </li> <li>
<a href="#vmx"><code>vmx</code></a> (hash) - VMX key/value pairs to set or unset. If the value is <code>nil</code>, the key will be deleted. </li> <li>
<a href="#whitelist_verified"><code>whitelist_verified</code></a> (bool, symbol) - Flag that VMware box has been properly configured for whitelisted VMX settings. <code>true</code> if verified, <code>false</code> if unverified, <code>:disable_warning</code> to silence whitelist warnings. </li> <li>
<a href="#port_forward_network_pause"><code>port_forward_network_pause</code></a> - Number of seconds to pause after applying port forwarding configuration. This allows guest time to acquire DHCP address if previous address is dropped when VMware network services are restarted. This defaults to <code>0</code> </li> <li>
<a href="#utility_port"><code>utility_port</code></a> (integer) - Listen port of the Vagrant VMware Utility service. This defaults to <code>9922</code> </li> <li>
<a href="#utility_certificate_path"><code>utility_certificate_path</code></a> (string) - Path to the Vagrant VMware Utility service certificates directory. The default value is dependent on the host </li> </ul> <h3 id="vm-clone-directory">  VM Clone Directory </h3> <p>By default, the VMware provider will clone the VMware VM in the box to the ".vagrant" folder relative to the folder where the Vagrantfile is. Usually, this is fine. For some people, for example those who use a differential backup software such as Time Machine, this is very annoying because you cannot regularly ignore giant virtual machines as part of backups.</p> <p>The directory where the provider clones the virtual machine can be customized by setting the <code>VAGRANT_VMWARE_CLONE_DIRECTORY</code> environmental variable. This does not need to be unique per project. Each project will get a different sub-directory within this folder. Therefore, it is safe to set this systemwide.</p> <h3 id="linked-clones">  Linked Clones </h3> <p>By default new machines are created using a linked clone to the base box. This reduces the time and required disk space incurred by directly importing the base box.</p> <p>Linked clones are based on a master VM, which is generated by importing the base box only once the first time it is required. For the linked clones only differencing disk images are created where the parent disk image belongs to the master VM. To disable linked clones:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.vm.provider "vmware_desktop" do |v|
  v.linked_clone = false
end
</pre></div>
<h3 id="vmx-customization">  VMX Customization </h3> <p>If you want to add or remove specific keys from the VMX file, you can do that:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.vm.provider "vmware_desktop" do |v|
  v.vmx["custom-key"]  = "value"
  v.vmx["another-key"] = nil
end
</pre></div>
<p>In the example above, the "custom-key" key will be set to "value" and the "another-key" key will be removed from the VMX file.</p> <p>VMX customization is done as the final step before the VMware machine is booted, so you have the ability to possibly undo or misconfigure things that Vagrant has set up itself.</p> <p>VMX is an undocumented format and there is no official reference for the available keys and values. This customization option is exposed for people who have knowledge of exactly what they want.</p> <p>The most common keys people look for are setting memory and CPUs. The example below sets both:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.vm.provider "vmware_desktop" do |v|
  v.vmx["memsize"] = "1024"
  v.vmx["numvcpus"] = "2"
end
</pre></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2018 Mitchell Hashimoto<br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.vagrantup.com/docs/vmware/configuration.html" class="_attribution-link">https://www.vagrantup.com/docs/vmware/configuration.html</a>
  </p>
</div>
