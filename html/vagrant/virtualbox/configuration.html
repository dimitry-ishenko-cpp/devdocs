<h1 id="configuration">  Configuration </h1> <p>The VirtualBox provider exposes some additional configuration options that allow you to more finely control your VirtualBox-powered Vagrant environments.</p> <h2 id="gui-vs-headless">  GUI vs. Headless </h2> <p>By default, VirtualBox machines are started in headless mode, meaning there is no UI for the machines visible on the host machine. Sometimes, you want to have a UI. Common use cases include wanting to see a browser that may be running in the machine, or debugging a strange boot issue. You can easily tell the VirtualBox provider to boot with a GUI:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.vm.provider "virtualbox" do |v|
  v.gui = true
end
</pre></div>
<h2 id="virtual-machine-name">  Virtual Machine Name </h2> <p>You can customize the name that appears in the VirtualBox GUI by setting the <code>name</code> property. By default, Vagrant sets it to the containing folder of the Vagrantfile plus a timestamp of when the machine was created. By setting another name, your VM can be more easily identified.</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.vm.provider "virtualbox" do |v|
  v.name = "my_vm"
end
</pre></div>
<h2 id="linked-clones">  Linked Clones </h2> <p>By default new machines are created by importing the base box. For large boxes this produces a large overhead in terms of time (the import operation) and space (the new machine contains a copy of the base box's image). Using linked clones can drastically reduce this overhead.</p> <p>Linked clones are based on a master VM, which is generated by importing the base box only once the first time it is required. For the linked clones only differencing disk images are created where the parent disk image belongs to the master VM.</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.vm.provider "virtualbox" do |v|
  v.linked_clone = true
end
</pre></div>
<p>To have backward compatibility:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.vm.provider 'virtualbox' do |v|
  v.linked_clone = true if Gem::Version.new(Vagrant::VERSION) &gt;= Gem::Version.new('1.8.0')
end
</pre></div>
<p>If you do not want backward compatibility and want to force users to support linked cloning, you can use <code>Vagrant.require_version</code> with 1.8.</p> <blockquote class="alert alert-info"> <p><strong>Note:</strong> the generated master VMs are currently not removed automatically by Vagrant. This has to be done manually. However, a master VM can only be removed when there are no linked clones connected to it.</p> </blockquote>
<h2 id="vboxmanage-customizations">  VBoxManage Customizations </h2> <p><a href="https://www.virtualbox.org/manual/ch08.html">VBoxManage</a> is a utility that can be used to make modifications to VirtualBox virtual machines from the command line.</p> <p>Vagrant exposes a way to call any command against VBoxManage just prior to booting the machine:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.vm.provider "virtualbox" do |v|
  v.customize ["modifyvm", :id, "--cpuexecutioncap", "50"]
end
</pre></div>
<p>In the example above, the VM is modified to have a host CPU execution cap of 50%, meaning that no matter how much CPU is used in the VM, no more than 50% would be used on your own host machine. Some details:</p> <ul> <li>
<p>The <code>:id</code> special parameter is replaced with the ID of the virtual machine being created, so when a VBoxManage command requires an ID, you can pass this special parameter.</p> </li> <li>
<p>Multiple <code>customize</code> directives can be used. They will be executed in the order given.</p> </li> </ul> <p>There are some convenience shortcuts for memory and CPU settings:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.vm.provider "virtualbox" do |v|
  v.memory = 1024
  v.cpus = 2
end
</pre></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2018 Mitchell Hashimoto<br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.vagrantup.com/docs/virtualbox/configuration.html" class="_attribution-link">https://www.vagrantup.com/docs/virtualbox/configuration.html</a>
  </p>
</div>
