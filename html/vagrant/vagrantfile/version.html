<h1 id="configuration-version">  Configuration Version </h1> <p>Configuration versions are the mechanism by which Vagrant 1.1+ is able to remain <a href="../installation/backwards-compatibility.html">backwards compatible</a> with Vagrant 1.0.x Vagrantfiles, while introducing dramatically new features and configuration options.</p> <p>If you run <code>vagrant init</code> today, the Vagrantfile will be in roughly the following format:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">Vagrant.configure("2") do |config|
  # ...
end
</pre></div>
<p>The <code>"2"</code> in the first line above represents the version of the configuration object <code>config</code> that will be used for configuration for that block (the section between the <code>do</code> and the <code>end</code>). This object can be very different from version to version.</p> <p>Currently, there are only two supported versions: "1" and "2". Version 1 represents the configuration from Vagrant 1.0.x. "2" represents the configuration for 1.1+ leading up to 2.0.x.</p> <p>When loading Vagrantfiles, Vagrant uses the proper configuration object for each version, and properly merges them, just like any other configuration.</p> <p>The important thing to understand as a general user of Vagrant is that <em>within a single configuration section</em>, only a single version can be used. You cannot use the new <code>config.vm.provider</code> configurations in a version 1 configuration section. Likewise, <code>config.vm.forward_port</code> will not work in a version 2 configuration section (it was renamed).</p> <p>If you want, you can mix and match multiple configuration versions in the same Vagrantfile. This is useful if you found some useful configuration snippet or something that you want to use. Example:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">Vagrant.configure("1") do |config|
  # v1 configs...
end

Vagrant.configure("2") do |config|
  # v2 configs...
end
</pre></div>
<blockquote class="alert alert-info"> <p><strong>What is <code>Vagrant::Config.run</code>?</strong> You may see this in Vagrantfiles. This was actually how Vagrant 1.0.x did configuration. In Vagrant 1.1+, this is synonymous with <code>Vagrant.configure("1")</code>.</p> </blockquote><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2018 Mitchell Hashimoto<br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.vagrantup.com/docs/vagrantfile/version.html" class="_attribution-link">https://www.vagrantup.com/docs/vagrantfile/version.html</a>
  </p>
</div>
