<h1 id="installing-vagrant-from-source">  Installing Vagrant from Source </h1> <p>Installing Vagrant from source is an advanced topic and is only recommended when using the official installer is not an option. This page details the steps and prerequisites for installing Vagrant from source.</p> <h2 id="install-ruby">  Install Ruby </h2> <p>You must have a modern Ruby (&gt;= 2.2) in order to develop and build Vagrant. The specific Ruby version is documented in the Vagrant's <code>gemspec</code>. Please refer to the <code>vagrant.gemspec</code> in the repository on GitHub, as it will contain the most up-to-date requirement. This guide will not discuss how to install and manage Ruby. However, beware of the following pitfalls:</p> <ul> <li>Do <strong>NOT</strong> use the system Ruby - use a Ruby version manager like rvm or chruby </li> <li>Vagrant plugins are configured based on current environment. If plugins are installed using Vagrant from source, they will not work from the package based Vagrant installation. </li> </ul> <h2 id="clone-vagrant">  Clone Vagrant </h2> <p>Clone Vagrant's repository from GitHub into the directory where you keep code on your machine:</p> <div class="highlight"><pre class="highlight shell" data-language="shell">$ git clone https://github.com/hashicorp/vagrant.git
</pre></div>
<p>Next, <code>cd</code> into that path. All commands will be run from this path:</p> <div class="highlight"><pre class="highlight shell" data-language="shell">$ cd /path/to/your/vagrant/clone
</pre></div>
<p>Run the <code>bundle</code> command with a required version* to install the requirements:</p> <div class="highlight"><pre class="highlight shell" data-language="shell">$ bundle install
</pre></div>
<p>You can now run Vagrant by running <code>bundle exec vagrant</code> from inside that directory.</p> <h2 id="use-locally">  Use Locally </h2> <p>In order to use your locally-installed version of Vagrant in other projects, you will need to create a binstub and add it to your path.</p> <p>First, run the following command from the Vagrant repo:</p> <div class="highlight"><pre class="highlight shell" data-language="shell">$ bundle --binstubs exec
</pre></div>
<p>This will generate files in <code>exec/</code>, including <code>vagrant</code>. You can now specify the full path to the <code>exec/vagrant</code> anywhere on your operating system:</p> <div class="highlight"><pre class="highlight shell" data-language="shell">$ /path/to/vagrant/exec/vagrant init -m hashicorp/precise64
</pre></div>
<p>Note that you <em>will</em> receive warnings that running Vagrant like this is not supported. It's true. It's not. You should listen to those warnings.</p> <p>If you do not want to specify the full path to Vagrant (i.e. you just want to run <code>vagrant</code>), you can create a symbolic link to your exec:</p> <div class="highlight"><pre class="highlight shell" data-language="shell">$ ln -sf /path/to/vagrant/exec/vagrant /usr/local/bin/vagrant
</pre></div>
<p>When you want to switch back to the official Vagrant version, simply remove the symlink.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2018 Mitchell Hashimoto<br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.vagrantup.com/docs/installation/source.html" class="_attribution-link">https://www.vagrantup.com/docs/installation/source.html</a>
  </p>
</div>
