<h1 id="whitelist-guide">Whitelist Guide</h1> <p>Domain whitelisting is a security model that controls access to external domains over which your application has no control. Cordova provides a configurable security policy to define which external sites may be accessed. By default, new apps are configured to allow access to any site. Before moving your application to production, you should formulate a whitelist and allow access to specific network domains and subdomains.</p> <p>For Android (as of its 4.0 release), Cordova's security policy is extensible via a plugin interface. Your app should use the <a href="../../../reference/cordova-plugin-whitelist/index.html">cordova-plugin-whitelist</a>, as it provides better security and configurability than earlier versions of Cordova. While it is possible to implement your own whitelist plugin, it is not recommended unless your app has very specific security policy needs. See the <a href="../../../reference/cordova-plugin-whitelist/index.html">cordova-plugin-whitelist</a> for details on usage and configuration.</p> <p>For other platforms, Cordova adheres to the <a href="http://www.w3.org/TR/widgets-access/">W3C Widget Access</a> specification, which relies on the <code>&lt;access&gt;</code> element within the app's <code>config.xml</code> file to enable network access to specific domains. For projects that rely on the CLI workflow described in <a href="../../cli/index.html">The Command-Line Interface</a>, this file is located in the project's top-level directory. Otherwise for platform-specific development paths, locations are listed in the sections below.</p> <p>The following examples demonstrate <code>&lt;access&gt;</code> whitelist syntax:</p> <ul> <li>
<p>Access to <a href="http://google.com">google.com</a>:</p> <pre data-language="xml">&lt;access origin="http://google.com" /&gt;
</pre>
</li> <li>
<p>Access to the secure <a href="https://google.com">google.com</a> (<code>https://</code>):</p> <pre data-language="xml">&lt;access origin="https://google.com" /&gt;
</pre>
</li> <li>
<p>Access to the subdomain <a href="http://maps.google.com">maps.google.com</a>:</p> <pre data-language="xml">&lt;access origin="http://maps.google.com" /&gt;
</pre>
</li> <li>
<p>Access to all the subdomains on <a href="http://google.com">google.com</a>, for example <a href="http://mail.google.com">mail.google.com</a> and <a href="http://docs.google.com">docs.google.com</a>:</p> <pre data-language="xml">&lt;access origin="http://*.google.com" /&gt;
</pre>
</li> <li>
<p>Access to <em>all</em> domains, for example, <a href="http://google.com">google.com</a> and <a href="http://developer.mozilla.org">developer.mozilla.org</a>:</p> <pre data-language="xml">&lt;access origin="*" /&gt;
</pre>
</li> </ul> <p>This is the default value for newly created CLI projects.</p> <p>Be aware that some websites may automatically redirect from their home page to a different url, such as using https protocol or to a country-specific domain. For example <code>http://www.google.com</code> will redirect to use SSL/TLS at <code>https://www.google.com</code>, and then may further redirect to a geography such as <code>https://www.google.co.uk</code>. Such scenarios may require modified or additional whitelist entries beyond your initial requirement. Please consider this as you are building your whitelist.</p> <p>Note that the whitelist applies only to the main Cordova webview, and does not apply to an InAppBrowser webview or opening links in the system web browser.</p> <h2 id="android-whitelisting">Android Whitelisting</h2> <p>As above, see <a href="../../../reference/cordova-plugin-whitelist/index.html">cordova-plugin-whitelist</a> for details. For cordova-android prior to 4.0.0, see older versions of this documentation.</p> <h2 id="ios-whitelisting">iOS Whitelisting</h2> <p><code>Cordova-ios</code> version 4.0 and greater does <strong>not</strong> require the <a href="../../../reference/cordova-plugin-whitelist/index.html">cordova-plugin-whitelist</a> plugin to be installed, however its configuration details apply to iOS too. The <code>&lt;allow-intent&gt;</code> and <code>&lt;allow-navigation&gt;</code> tags are <em>new</em> for cordova-ios 4.x and greater, see the <a href="../../../reference/cordova-plugin-whitelist/index.html">cordova-plugin-whitelist</a> documentation for details on the usage of these tags.</p> <p>For cordova-ios versions prior to 4.0.0, see the older versions of this documentation.</p> <p><a href="https://developer.apple.com/library/prerelease/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW33">Application Transport Security (ATS)</a> is new in iOS 9 (Xcode 7). This new feature acts as a whitelist for your app. The cordova cli will automatically convert <code>&lt;access&gt;</code> and <code>&lt;allow-navigation&gt;</code> tags to the appropriate ATS directives.</p> <p>The <code>&lt;access&gt;</code> and <code>&lt;allow-navigation&gt;</code> tags support these three attributes below, which have their equivalents in ATS:</p> <ol> <li>minimum-tls-version (String, defaults to 'TLSv1.2')</li> <li>requires-forward-secrecy (Boolean, defaults to 'true')</li> <li>requires-certificate-transparency (Boolean, defaults to 'false', new in iOS 10)</li> </ol> <ul> <li>
<p>example:</p> <pre data-language="xml">&lt;access origin='https://cordova.apache.org' minimum-tls-version='TLSv1.1' requires-forward-secrecy='false' requires-certificate-transparency='true' /&gt;
</pre>
</li> </ul> <p>In iOS 10 and above, the <code>&lt;access&gt;</code> tag supports these three attributes below, when paired with the origin wildcard <code>*</code>. These attributes also have their equivalents in ATS:</p> <ol> <li>allows-arbitrary-loads-for-media (Boolean, defaults to 'false', new in iOS 10. New in cordova-ios@4.5.0, fixed to use the proper attribute name). The old attribute <code>allows-arbitrary-loads-in-media</code> is now deprecated.</li> <li>allows-arbitrary-loads-in-web-content (Boolean, defaults to 'false', new in iOS 10)</li> <li>allows-local-networking (Boolean, defaults to 'false', new in iOS 10)</li> </ol> <ul> <li>
<p>example:</p> <pre data-language="xml">&lt;access origin='*' allows-arbitrary-loads-for-media='true' allows-arbitrary-loads-in-web-content='true' allows-local-networking='true' /&gt;
</pre>
</li> </ul> <p>See the <a href="https://developer.apple.com/library/prerelease/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW33">ATS Technote</a> for more details.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012, 2013, 2015 The Apache Software Foundation<br>Licensed under the Apache License 2.0.<br>
    <a href="https://cordova.apache.org/docs/en/9.x/guide/appdev/whitelist/index.html" class="_attribution-link">https://cordova.apache.org/docs/en/9.x/guide/appdev/whitelist/index.html</a>
  </p>
</div>
