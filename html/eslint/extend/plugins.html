<h1>Create Plugins</h1> <nav class="docs-toc c-toc" aria-labelledby="js-toc-label"><h2 class="c-toc__label" id="js-toc-label">Table of Contents</h2> <div class="c-toc__panel" id="js-toc-panel"> <nav class="c-toc"> <ol> <li>
<a href="#name-a-plugin">Name a Plugin</a> </li> <li>
<a href="#create-a-plugin">Create a Plugin</a> <ol> <li>
<a href="#rules-in-plugins">Rules in Plugins</a> </li> <li>
<a href="#environments-in-plugins">Environments in Plugins</a> </li> <li>
<a href="#processors-in-plugins">Processors in Plugins</a> </li> <li>
<a href="#configs-in-plugins">Configs in Plugins</a> </li> <li>
<a href="#meta-data-in-plugins">Meta Data in Plugins</a> </li> <li>
<a href="#peer-dependency">Peer Dependency</a> </li> </ol> </li> <li>
<a href="#testing">Testing</a> </li> <li>
<a href="#linting">Linting</a> </li> <li>
<a href="#share-plugins">Share Plugins</a> </li> </ol> </nav> </div></nav> <p>An ESLint plugin is an extension for ESLint that adds additional rules and configuration options. Plugins let you customize your ESLint configuration to enforce rules that are not included in the core ESLint package. Plugins can also provide additional environments, custom processors, and configurations.</p> <h2 id="name-a-plugin" tabindex="-1">Name a Plugin</h2> <p>Each plugin is an npm module with a name in the format of <code>eslint-plugin-&lt;plugin-name&gt;</code>, such as <code>eslint-plugin-jquery</code>. You can also use scoped packages in the format of <code>@&lt;scope&gt;/eslint-plugin-&lt;plugin-name&gt;</code> such as <code>@jquery/eslint-plugin-jquery</code> or even <code>@&lt;scope&gt;/eslint-plugin</code> such as <code>@jquery/eslint-plugin</code>.</p> <h2 id="create-a-plugin" tabindex="-1">Create a Plugin</h2> <p>The easiest way to start creating a plugin is to use the <a href="https://www.npmjs.com/package/generator-eslint">Yeoman generator</a>. The generator will guide you through setting up the skeleton of a plugin.</p> <h3 id="rules-in-plugins" tabindex="-1">Rules in Plugins</h3> <p>Plugins can expose custom rules for use in ESLint. To do so, the plugin must export a <code>rules</code> object containing a key-value mapping of rule ID to rule. The rule ID does not have to follow any naming convention (so it can just be <code>dollar-sign</code>, for instance). To learn more about creating custom rules in plugins, refer to <a href="pluginscustom-rules.html">Custom Rules</a>.</p> <pre class="language-js line-numbers-mode"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"dollar-sign"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">create</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// rule implementation ...</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>To use the rule in ESLint, you would use the unprefixed plugin name, followed by a slash, followed by the rule name. So if this plugin were named <code>eslint-plugin-myplugin</code>, then in your configuration you’d refer to the rule by the name <code>myplugin/dollar-sign</code>. Example: <code>"rules": {"myplugin/dollar-sign": 2}</code>.</p> <h3 id="environments-in-plugins" tabindex="-1">Environments in Plugins</h3> <p>Plugins can expose additional environments for use in ESLint. To do so, the plugin must export an <code>environments</code> object. The keys of the <code>environments</code> object are the names of the different environments provided and the values are the environment settings. For example:</p> <pre class="language-js line-numbers-mode"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">environments</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">jquery</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">globals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">$</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>There’s a <code>jquery</code> environment defined in this plugin. To use the environment in ESLint, you would use the unprefixed plugin name, followed by a slash, followed by the environment name. So if this plugin were named <code>eslint-plugin-myplugin</code>, then you would set the environment in your configuration to be <code>"myplugin/jquery"</code>.</p> <p>Plugin environments can define the following objects:</p> <ol> <li>
<code>globals</code> - acts the same <code>globals</code> in a configuration file. The keys are the names of the globals and the values are <code>true</code> to allow the global to be overwritten and <code>false</code> to disallow.</li> <li>
<code>parserOptions</code> - acts the same as <code>parserOptions</code> in a configuration file.</li> </ol> <h3 id="processors-in-plugins" tabindex="-1">Processors in Plugins</h3> <aside role="note" class="alert alert--warning">  <div class="alert__content"> <span class="alert__type">Warning</span> <div class="alert__text">
<p>File extension-named processors are deprecated and only work in eslintrc-style configuration files. Flat config files do not automatically apply processors; you need to explicitly set the <code>processor</code> property.</p> </div> </div> </aside><p>You can add processors to plugins by including the processor functions in the <code>processors</code> key. For more information on defining custom processors, refer to <a href="pluginscustom-processors.html">Custom Processors</a>.</p> <pre class="language-js line-numbers-mode"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">processors</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// This processor will be applied to `*.md` files automatically.</span>
        <span class="token string-property property">".md"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">preprocess</span><span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> filename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function">postprocess</span><span class="token punctuation">(</span><span class="token parameter">messages<span class="token punctuation">,</span> filename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token string-property property">"processor-name"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">preprocess</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> filename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token function-variable function">postprocess</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">messages<span class="token punctuation">,</span> filename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="configs-in-plugins" tabindex="-1">Configs in Plugins</h3> <p>You can bundle configurations inside a plugin by specifying them under the <code>configs</code> key. This can be useful when you want to bundle a set of custom rules with additional configuration. Multiple configurations are supported per plugin.</p> <p>You can include individual rules from a plugin in a config that’s also included in the plugin. In the config, you must specify your plugin name in the <code>plugins</code> array as well as any rules you want to enable that are part of the plugin. Any plugin rules must be prefixed with the short or long plugin name.</p> <pre class="language-js line-numbers-mode"><code><span class="token comment">// eslint-plugin-myPlugin</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">configs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">myConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"myPlugin"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"browser"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">semi</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"myPlugin/my-rule"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"eslint-plugin-myPlugin/another-rule"</span><span class="token operator">:</span> <span class="token string">"error"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">myOtherConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"myPlugin"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"node"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string-property property">"myPlugin/my-rule"</span><span class="token operator">:</span> <span class="token string">"off"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"eslint-plugin-myPlugin/another-rule"</span><span class="token operator">:</span> <span class="token string">"off"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"eslint-plugin-myPlugin/yet-another-rule"</span><span class="token operator">:</span> <span class="token string">"error"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">"my-rule"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">/* rule definition */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">"another-rule"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">/* rule definition */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">"yet-another-rule"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">/* rule definition */</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Plugins cannot force a specific configuration to be used. Users must manually include a plugin’s configurations in their configuration file.</p> <p>If the example plugin above were called <code>eslint-plugin-myPlugin</code>, the <code>myConfig</code> and <code>myOtherConfig</code> configurations would then be usable in a configuration file by extending <code>"plugin:myPlugin/myConfig"</code> and <code>"plugin:myPlugin/myOtherConfig"</code>, respectively.</p> <pre class="language-json line-numbers-mode"><code><span class="token comment">// .eslintrc.json</span>

<span class="token punctuation">{</span>
    <span class="token property">"extends"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"plugin:myPlugin/myConfig"</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre>
<h3 id="meta-data-in-plugins" tabindex="-1">Meta Data in Plugins</h3> <p>For easier debugging and more effective caching of plugins, it’s recommended to provide a name and version in a <code>meta</code> object at the root of your plugin, like this:</p> <pre class="language-js line-numbers-mode"><code><span class="token comment">// preferred location of name and version</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"eslint-plugin-custom"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">"1.2.3"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>The <code>meta.name</code> property should match the npm package name for your plugin and the <code>meta.version</code> property should match the npm package version for your plugin. The easiest way to accomplish this is by reading this information from your <code>package.json</code>.</p> <p>As an alternative, you can also expose <code>name</code> and <code>version</code> properties at the root of your plugin, such as:</p> <pre class="language-js line-numbers-mode"><code><span class="token comment">// alternate location of name and version</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"eslint-plugin-custom"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">"1.2.3"</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>While the <code>meta</code> object is the preferred way to provide the plugin name and version, this format is also acceptable and is provided for backward compatibility.</p> <h3 id="peer-dependency" tabindex="-1">Peer Dependency</h3> <p>To make clear that the plugin requires ESLint to work correctly, you must declare ESLint as a peer dependency by mentioning it in the <code>peerDependencies</code> field of your plugin’s <code>package.json</code>.</p> <p>Plugin support was introduced in ESLint version <code>0.8.0</code>. Ensure the <code>peerDependencies</code> points to ESLint <code>0.8.0</code> or later.</p> <pre class="language-json line-numbers-mode"><code><span class="token punctuation">{</span>
    <span class="token property">"peerDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"eslint"</span><span class="token operator">:</span> <span class="token string">"&gt;=0.8.0"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="testing" tabindex="-1">Testing</h2> <p>ESLint provides the <a href="plugins../integrate/nodejs-api.html#ruletester"><code>RuleTester</code></a> utility to make it easy to test the rules of your plugin.</p> <h2 id="linting" tabindex="-1">Linting</h2> <p>ESLint plugins should be linted too! It’s suggested to lint your plugin with the <code>recommended</code> configurations of:</p> <ul> <li><a href="https://www.npmjs.com/package/eslint">eslint</a></li> <li><a href="https://www.npmjs.com/package/eslint-plugin-eslint-plugin">eslint-plugin-eslint-plugin</a></li> <li><a href="https://www.npmjs.com/package/eslint-plugin-n">eslint-plugin-n</a></li> </ul> <h2 id="share-plugins" tabindex="-1">Share Plugins</h2> <p>In order to make your plugin available to the community you have to publish it on npm.</p> <p>To make it easy for others to find your plugin, add these <a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json#keywords">keywords</a> to your <code>package.json</code> file:</p> <ul> <li><code>eslint</code></li> <li><code>eslintplugin</code></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; OpenJS Foundation and other contributors<br>Licensed under the MIT License.<br>
    <a href="https://eslint.org/docs/latest/extend/plugins" class="_attribution-link">https://eslint.org/docs/latest/extend/plugins</a>
  </p>
</div>
