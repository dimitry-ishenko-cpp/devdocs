<h1>block-scoped-var</h1> 
<p>Enforce the use of variables within the scope they are defined</p>   <p>The <code>block-scoped-var</code> rule generates warnings when variables are used outside of the block in which they were defined. This emulates C-style block scope.</p> <h2 id="rule-details" tabindex="-1">Rule Details</h2> <p>This rule aims to reduce the usage of variables outside of their binding context and emulate traditional block scope from other languages. This is to help newcomers to the language avoid difficult bugs with variable hoisting.</p> <p>Examples of <strong>incorrect</strong> code for this rule:</p> <div class="incorrect"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qZXNsaW50IGJsb2NrLXNjb3BlZC12YXI6IFwiZXJyb3JcIiovXG5cbmZ1bmN0aW9uIGRvSWYoKSB7XG4gICAgaWYgKHRydWUpIHtcbiAgICAgICAgdmFyIGJ1aWxkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhidWlsZCk7XG59XG5cbmZ1bmN0aW9uIGRvSWZFbHNlKCkge1xuICAgIGlmICh0cnVlKSB7XG4gICAgICAgIHZhciBidWlsZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGJ1aWxkID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkb1RyeUNhdGNoKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBidWlsZCA9IDE7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB2YXIgZiA9IGJ1aWxkO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZG9Gb3IoKSB7XG4gICAgZm9yICh2YXIgeCA9IDE7IHggPCAxMDsgeCsrKSB7XG4gICAgICAgIHZhciB5ID0gZih4KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coeSk7XG59XG5cbmNsYXNzIEMge1xuICAgIHN0YXRpYyB7XG4gICAgICAgIGlmIChzb21ldGhpbmcpIHtcbiAgICAgICAgICAgIHZhciBidWlsZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYnVpbGQgPSBmYWxzZTtcbiAgICB9XG59In0=" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/*eslint block-scoped-var: "error"*/</span>

<span class="token keyword">function</span> <span class="token function">doIf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> build <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token eslint-marked eslint-message-id-1" title="'build' declared on line 5 column 13 is used outside of binding context.">build</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">doIfElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> <span class="token eslint-marked eslint-message-id-2" title="'build' declared on line 15 column 13 is used outside of binding context.">build</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> <span class="token eslint-marked eslint-message-id-3" title="'build' declared on line 13 column 13 is used outside of binding context.">build</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">doTryCatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> build <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token eslint-marked eslint-message-id-4" title="'build' declared on line 21 column 13 is used outside of binding context.">build</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">doFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token eslint-marked eslint-message-id-5" title="'y' declared on line 29 column 13 is used outside of binding context.">y</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>something<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> build <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token eslint-marked eslint-message-id-6" title="'build' declared on line 37 column 17 is used outside of binding context.">build</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<p>Examples of <strong>correct</strong> code for this rule:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qZXNsaW50IGJsb2NrLXNjb3BlZC12YXI6IFwiZXJyb3JcIiovXG5cbmZ1bmN0aW9uIGRvSWYoKSB7XG4gICAgdmFyIGJ1aWxkO1xuXG4gICAgaWYgKHRydWUpIHtcbiAgICAgICAgYnVpbGQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGJ1aWxkKTtcbn1cblxuZnVuY3Rpb24gZG9JZkVsc2UoKSB7XG4gICAgdmFyIGJ1aWxkO1xuXG4gICAgaWYgKHRydWUpIHtcbiAgICAgICAgYnVpbGQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1aWxkID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkb1RyeUNhdGNoKCkge1xuICAgIHZhciBidWlsZDtcbiAgICB2YXIgZjtcblxuICAgIHRyeSB7XG4gICAgICAgIGJ1aWxkID0gMTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGYgPSBidWlsZDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRvRm9yKCkge1xuICAgIGZvciAodmFyIHggPSAxOyB4IDwgMTA7IHgrKykge1xuICAgICAgICB2YXIgeSA9IGYoeCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHkpO1xuICAgIH1cbn1cblxuY2xhc3MgQyB7XG4gICAgc3RhdGljIHtcbiAgICAgICAgdmFyIGJ1aWxkID0gZmFsc2U7XG4gICAgICAgIGlmIChzb21ldGhpbmcpIHtcbiAgICAgICAgICAgIGJ1aWxkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn0ifQ==" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/*eslint block-scoped-var: "error"*/</span>

<span class="token keyword">function</span> <span class="token function">doIf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> build<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        build <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>build<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">doIfElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> build<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        build <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        build <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">doTryCatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> build<span class="token punctuation">;</span>
    <span class="token keyword">var</span> f<span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        build <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        f <span class="token operator">=</span> build<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">doFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> build <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>something<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            build <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div> <h2 id="version">Version</h2> <p>This rule was introduced in ESLint v0.1.0.</p> <h2 id="further-reading">Further Reading</h2> <article class="resource">  <div class="resource__content"> <a href="https://www.adequatelygood.com/JavaScript-Scoping-and-Hoisting.html" class="resource__title"> JavaScript Scoping and Hoisting </a><br>  </div>  </article> <article class="resource">  <div class="resource__content"> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var#var_hoisting" class="resource__title"> var - JavaScript | MDN </a><br>  </div>  </article> <h2 id="resources">Resources</h2> <ul> <li><a href="https://github.com/eslint/eslint/blob/main/lib/rules/block-scoped-var.js">Rule source</a></li> <li><a href="https://github.com/eslint/eslint/blob/main/tests/lib/rules/block-scoped-var.js">Tests source</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; OpenJS Foundation and other contributors<br>Licensed under the MIT License.<br>
    <a href="https://eslint.org/docs/latest/rules/block-scoped-var" class="_attribution-link">https://eslint.org/docs/latest/rules/block-scoped-var</a>
  </p>
</div>
