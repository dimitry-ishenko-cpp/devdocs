<h1>complexity</h1> 
<p>Enforce a maximum cyclomatic complexity allowed in a program</p>   <p>Cyclomatic complexity measures the number of linearly independent paths through a programâ€™s source code. This rule allows setting a cyclomatic complexity threshold.</p> <pre class="language-js line-numbers-mode"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span> <span class="token comment">// 1st path</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 2nd path</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">// 3rd path</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="rule-details" tabindex="-1">Rule Details</h2> <p>This rule is aimed at reducing code complexity by capping the amount of cyclomatic complexity allowed in a program. As such, it will warn when the cyclomatic complexity crosses the configured threshold (default is <code>20</code>).</p> <p>Examples of <strong>incorrect</strong> code for a maximum of 2:</p> <div class="incorrect"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qZXNsaW50IGNvbXBsZXhpdHk6IFtcImVycm9yXCIsIDJdKi9cblxuZnVuY3Rpb24gYSh4KSB7XG4gICAgaWYgKHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfSBlbHNlIGlmIChmYWxzZSkge1xuICAgICAgICByZXR1cm4geCsxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiA0OyAvLyAzcmQgcGF0aFxuICAgIH1cbn1cblxuZnVuY3Rpb24gYigpIHtcbiAgICBmb28gfHw9IDE7XG4gICAgYmFyICYmPSAxO1xufVxuXG5mdW5jdGlvbiBjKGEgPSB7fSkgeyAvLyBkZWZhdWx0IHBhcmFtZXRlciAtPiAybmQgcGF0aFxuICAgIGNvbnN0IHsgYiA9ICdkZWZhdWx0JyB9ID0gYTsgLy8gZGVmYXVsdCB2YWx1ZSBkdXJpbmcgZGVzdHJ1Y3R1cmluZyAtPiAzcmQgcGF0aFxufVxuXG5mdW5jdGlvbiBkKGEpIHtcbiAgICByZXR1cm4gYT8uYj8uYzsgLy8gb3B0aW9uYWwgY2hhaW5pbmcgd2l0aCB0d28gb3B0aW9uYWwgcHJvcGVydGllcyBjcmVhdGVzIHR3byBhZGRpdGlvbmFsIGJyYW5jaGVzXG59In0=" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/*eslint complexity: ["error", 2]*/</span>

<span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">function</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token function">a</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">(</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token parameter">x</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">)</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">{</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">if</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">(</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token boolean">true</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">)</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">{</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">return</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."> x</span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">;</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">}</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">else</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">if</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">(</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token boolean">false</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">)</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">{</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">return</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."> x</span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token operator">+</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token number">1</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">;</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">}</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">else</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">{</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">return</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token number">4</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">;</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token comment">// 3rd path</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">}</span></span><span class="token eslint-marked eslint-message-id-1" title="Function 'a' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">}</span></span>

<span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">function</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token function">b</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">(</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">)</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">{</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2.">    foo </span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token operator">||=</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token number">1</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">;</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2.">    bar </span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token operator">&amp;&amp;=</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token number">1</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">;</span></span><span class="token eslint-marked eslint-message-id-2" title="Function 'b' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">}</span></span>

<span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">function</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token function">c</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">(</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token parameter">a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">)</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">{</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token comment">// default parameter -&gt; 2nd path</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">const</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">{</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."> b </span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token operator">=</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token string">'default'</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">}</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token operator">=</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."> a</span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">;</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token comment">// default value during destructuring -&gt; 3rd path</span></span><span class="token eslint-marked eslint-message-id-3" title="Function 'c' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">}</span></span>

<span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">function</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token function">d</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">(</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token parameter">a</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">)</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">{</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token keyword">return</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."> a</span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token operator">?.</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2.">b</span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token operator">?.</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2.">c</span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">;</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token comment">// optional chaining with two optional properties creates two additional branches</span></span><span class="token eslint-marked eslint-message-id-4" title="Function 'd' has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">}</span></span>
</code></pre>
</div>
<p>Examples of <strong>correct</strong> code for a maximum of 2:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qZXNsaW50IGNvbXBsZXhpdHk6IFtcImVycm9yXCIsIDJdKi9cblxuZnVuY3Rpb24gYSh4KSB7XG4gICAgaWYgKHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBiKCkge1xuICAgIGZvbyB8fD0gMTtcbn0ifQ==" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/*eslint complexity: ["error", 2]*/</span>

<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    foo <span class="token operator">||=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<p>Class field initializers and class static blocks are implicit functions. Therefore, their complexity is calculated separately for each initializer and each static block, and it doesnâ€™t contribute to the complexity of the enclosing code.</p> <p>Examples of additional <strong>incorrect</strong> code for a maximum of 2:</p> <div class="incorrect"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qZXNsaW50IGNvbXBsZXhpdHk6IFtcImVycm9yXCIsIDJdKi9cblxuY2xhc3MgQyB7XG4gICAgeCA9IGEgfHwgYiB8fCBjOyAvLyB0aGlzIGluaXRpYWxpemVyIGhhcyBjb21wbGV4aXR5ID0gM1xufVxuXG5jbGFzcyBEIHsgLy8gdGhpcyBzdGF0aWMgYmxvY2sgaGFzIGNvbXBsZXhpdHkgPSAzXG4gICAgc3RhdGljIHtcbiAgICAgICAgaWYgKGZvbykge1xuICAgICAgICAgICAgYmFyID0gYmF6IHx8IHF1eDtcbiAgICAgICAgfVxuICAgIH1cbn0ifQ==" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/*eslint complexity: ["error", 2]*/</span>

<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
    x <span class="token operator">=</span> <span class="token eslint-marked eslint-message-id-1" title="Class field initializer has a complexity of 3. Maximum allowed is 2.">a <span class="token operator">||</span> b <span class="token operator">||</span> c</span><span class="token punctuation">;</span> <span class="token comment">// this initializer has complexity = 3</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token punctuation">{</span> <span class="token comment">// this static block has complexity = 3</span>
    <span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token keyword">static</span></span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">{</span></span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token keyword">if</span></span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">(</span></span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2.">foo</span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">)</span></span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">{</span></span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2.">            bar </span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token operator">=</span></span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."> baz </span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token operator">||</span></span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."> qux</span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">;</span></span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">}</span></span><span class="token eslint-marked eslint-message-id-2" title="Class static block has a complexity of 3. Maximum allowed is 2."><span class="token punctuation">}</span></span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<p>Examples of additional <strong>correct</strong> code for a maximum of 2:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qZXNsaW50IGNvbXBsZXhpdHk6IFtcImVycm9yXCIsIDJdKi9cblxuZnVuY3Rpb24gZm9vKCkgeyAvLyB0aGlzIGZ1bmN0aW9uIGhhcyBjb21wbGV4aXR5ID0gMVxuICAgIGNsYXNzIEMge1xuICAgICAgICB4ID0gYSArIGI7IC8vIHRoaXMgaW5pdGlhbGl6ZXIgaGFzIGNvbXBsZXhpdHkgPSAxXG4gICAgICAgIHkgPSBjIHx8IGQ7IC8vIHRoaXMgaW5pdGlhbGl6ZXIgaGFzIGNvbXBsZXhpdHkgPSAyXG4gICAgICAgIHogPSBlICYmIGY7IC8vIHRoaXMgaW5pdGlhbGl6ZXIgaGFzIGNvbXBsZXhpdHkgPSAyXG5cbiAgICAgICAgc3RhdGljIHAgPSBnIHx8IGg7IC8vIHRoaXMgaW5pdGlhbGl6ZXIgaGFzIGNvbXBsZXhpdHkgPSAyXG4gICAgICAgIHN0YXRpYyBxID0gaSA/IGogOiBrOyAvLyB0aGlzIGluaXRpYWxpemVyIGhhcyBjb21wbGV4aXR5ID0gMlxuXG4gICAgICAgIHN0YXRpYyB7IC8vIHRoaXMgc3RhdGljIGJsb2NrIGhhcyBjb21wbGV4aXR5ID0gMlxuICAgICAgICAgICAgaWYgKGZvbykge1xuICAgICAgICAgICAgICAgIGJheiA9IGJhcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRpYyB7IC8vIHRoaXMgc3RhdGljIGJsb2NrIGhhcyBjb21wbGV4aXR5ID0gMlxuICAgICAgICAgICAgcXV4ID0gYmF6IHx8IHF1dXg7XG4gICAgICAgIH1cbiAgICB9XG59In0=" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/*eslint complexity: ["error", 2]*/</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// this function has complexity = 1</span>
    <span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
        x <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// this initializer has complexity = 1</span>
        y <span class="token operator">=</span> c <span class="token operator">||</span> d<span class="token punctuation">;</span> <span class="token comment">// this initializer has complexity = 2</span>
        z <span class="token operator">=</span> e <span class="token operator">&amp;&amp;</span> f<span class="token punctuation">;</span> <span class="token comment">// this initializer has complexity = 2</span>

        <span class="token keyword">static</span> p <span class="token operator">=</span> g <span class="token operator">||</span> h<span class="token punctuation">;</span> <span class="token comment">// this initializer has complexity = 2</span>
        <span class="token keyword">static</span> q <span class="token operator">=</span> i <span class="token operator">?</span> j <span class="token operator">:</span> k<span class="token punctuation">;</span> <span class="token comment">// this initializer has complexity = 2</span>

        <span class="token keyword">static</span> <span class="token punctuation">{</span> <span class="token comment">// this static block has complexity = 2</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                baz <span class="token operator">=</span> bar<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">static</span> <span class="token punctuation">{</span> <span class="token comment">// this static block has complexity = 2</span>
            qux <span class="token operator">=</span> baz <span class="token operator">||</span> quux<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<h2 id="options" tabindex="-1">Options</h2> <p>This rule has a number or object option:</p> <ul> <li> <p><code>"max"</code> (default: <code>20</code>) enforces a maximum complexity</p> </li> <li> <p><code>"variant": "classic" | "modified"</code> (default: <code>"classic"</code>) cyclomatic complexity variant to use</p> </li> </ul> <h3 id="max" tabindex="-1">max</h3> <p>Customize the threshold with the <code>max</code> property.</p> <pre class="language-json line-numbers-mode"><code><span class="token property">"complexity"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property">"max"</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre>
<p><strong>Deprecated:</strong> the object property <code>maximum</code> is deprecated. Please use the property <code>max</code> instead.</p> <p>Or use the shorthand syntax:</p> <pre class="language-json line-numbers-mode"><code><span class="token property">"complexity"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
</code></pre>
<h3 id="variant" tabindex="-1">variant</h3> <p>Cyclomatic complexity variant to use:</p> <ul> <li>
<code>"classic"</code> (default) - Classic McCabe cyclomatic complexity</li> <li>
<code>"modified"</code> - Modified cyclomatic complexity</li> </ul> <p><em>Modified cyclomatic complexity</em> is the same as the classic cyclomatic complexity, but each <code>switch</code> statement only increases the complexity value by <code>1</code>, regardless of how many <code>case</code> statements it contains.</p> <p>Examples of <strong>correct</strong> code for this rule with the <code>{ "max": 3, "variant": "modified" }</code> option:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qZXNsaW50IGNvbXBsZXhpdHk6IFtcImVycm9yXCIsIHtcIm1heFwiOiAzLCBcInZhcmlhbnRcIjogXCJtb2RpZmllZFwifV0qL1xuXG5mdW5jdGlvbiBhKHgpIHsgICAgIC8vIGluaXRpYWwgbW9kaWZpZWQgY29tcGxleGl0eSBpcyAxXG4gICAgc3dpdGNoICh4KSB7ICAgIC8vIHN3aXRjaCBzdGF0ZW1lbnQgaW5jcmVhc2VzIG1vZGlmaWVkIGNvbXBsZXhpdHkgYnkgMVxuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIDI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgaWYgKHggPT09ICdmb28nKSB7ICAvLyBpZiBibG9jayBpbmNyZWFzZXMgbW9kaWZpZWQgY29tcGxleGl0eSBieSAxXG4gICAgICAgICAgICAgICAgMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgNDtcbiAgICB9XG59In0=" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/*eslint complexity: ["error", {"max": 3, "variant": "modified"}]*/</span>

<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment">// initial modified complexity is 1</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// switch statement increases modified complexity by 1</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
            <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
            <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">===</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// if block increases modified complexity by 1</span>
                <span class="token number">3</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<p>The classic cyclomatic complexity of the above function is <code>5</code>, but the modified cyclomatic complexity is only <code>3</code>.</p> <h2 id="when-not-to-use-it" tabindex="-1">When Not To Use It</h2> <p>If you canâ€™t determine an appropriate complexity limit for your code, then itâ€™s best to disable this rule.</p> <h2 id="related-rules">Related Rules</h2> <ul class="related-rules__list" role="list"> <li class="related-rules__list__item"> <a href="max-depth.html"> <span>max-depth</span>  </a> </li>
<li class="related-rules__list__item"> <a href="max-len.html"> <span>max-len</span>  </a> </li>
<li class="related-rules__list__item"> <a href="max-lines.html"> <span>max-lines</span>  </a> </li>
<li class="related-rules__list__item"> <a href="max-lines-per-function.html"> <span>max-lines-per-function</span>  </a> </li>
<li class="related-rules__list__item"> <a href="max-nested-callbacks.html"> <span>max-nested-callbacks</span>  </a> </li>
<li class="related-rules__list__item"> <a href="max-params.html"> <span>max-params</span>  </a> </li>
<li class="related-rules__list__item"> <a href="max-statements.html"> <span>max-statements</span>  </a> </li> </ul> <h2 id="version">Version</h2> <p>This rule was introduced in ESLint v0.0.9.</p> <h2 id="further-reading">Further Reading</h2> <article class="resource">  <div class="resource__content"> <a href="https://en.wikipedia.org/wiki/Cyclomatic_complexity" class="resource__title"> Cyclomatic complexity - Wikipedia </a><br>  </div>  </article> <article class="resource">  <div class="resource__content"> <a href="https://ariya.io/2012/12/complexity-analysis-of-javascript-code" class="resource__title"> Complexity Analysis of JavaScript Code </a><br>  </div>  </article> <article class="resource">  <div class="resource__content"> <a href="https://craftsmanshipforsoftware.com/2015/05/25/complexity-for-javascript/" class="resource__title"> Complexity for JavaScript </a><br>  </div>  </article> <article class="resource">  <div class="resource__content"> <a href="https://web.archive.org/web/20160808115119/http://jscomplexity.org/complexity" class="resource__title"> About complexity | JSComplexity.org </a><br>  </div>  </article> <article class="resource">  <div class="resource__content"> <a href="https://github.com/eslint/eslint/issues/4808#issuecomment-167795140" class="resource__title"> Complexity has no default Â· Issue #4808 Â· eslint/eslint </a><br>  </div>  </article> <h2 id="resources">Resources</h2> <ul> <li><a href="https://github.com/eslint/eslint/blob/main/lib/rules/complexity.js">Rule source</a></li> <li><a href="https://github.com/eslint/eslint/blob/main/tests/lib/rules/complexity.js">Tests source</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; OpenJS Foundation and other contributors<br>Licensed under the MIT License.<br>
    <a href="https://eslint.org/docs/latest/rules/complexity" class="_attribution-link">https://eslint.org/docs/latest/rules/complexity</a>
  </p>
</div>
