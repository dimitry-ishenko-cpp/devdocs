<h1>prefer-arrow-callback</h1> 
<p>Require using arrow functions for callbacks</p> <div class="rule-categories" aria-label="Rule Categories"><div class="rule-category"> <span class="rule-category__icon">ðŸ”§ <span class="visually-hidden">Fixable</span></span> <p> Some problems reported by this rule are automatically fixable by the <code>--fix</code> <a href="prefer-arrow-callback../use/command-line-interface.html#--fix">command line</a> option </p> </div></div>  <p>Arrow functions can be an attractive alternative to function expressions for callbacks or function arguments.</p> <p>For example, arrow functions are automatically bound to their surrounding scope/context. This provides an alternative to the pre-ES6 standard of explicitly binding function expressions to achieve similar behavior.</p> <p>Additionally, arrow functions are:</p> <ul> <li> <p>less verbose, and easier to reason about.</p> </li> <li> <p>bound lexically regardless of where or when they are invoked.</p> </li> </ul> <h2 id="rule-details" tabindex="-1">Rule Details</h2> <p>This rule locates function expressions used as callbacks or function arguments. An error will be produced for any that could be replaced by an arrow function without changing the result.</p> <p>The following examples <strong>will</strong> be flagged:</p> <div class="incorrect"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qIGVzbGludCBwcmVmZXItYXJyb3ctY2FsbGJhY2s6IFwiZXJyb3JcIiAqL1xuXG5mb28oZnVuY3Rpb24oYSkgeyByZXR1cm4gYTsgfSk7IC8vIEVSUk9SXG4vLyBwcmVmZXI6IGZvbyhhID0+IGEpXG5cbmZvbyhmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuYTsgfS5iaW5kKHRoaXMpKTsgLy8gRVJST1Jcbi8vIHByZWZlcjogZm9vKCgpID0+IHRoaXMuYSkifQ==" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/* eslint prefer-arrow-callback: "error" */</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token eslint-marked eslint-message-id-1" title="Unexpected function expression."><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> a<span class="token punctuation">;</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ERROR</span>
<span class="token comment">// prefer: foo(a =&gt; a)</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token eslint-marked eslint-message-id-1" title="Unexpected function expression."><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token punctuation">}</span></span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ERROR</span>
<span class="token comment">// prefer: foo(() =&gt; this.a)</span>
</code></pre>
</div>
<p>Instances where an arrow function would not produce identical results will be ignored.</p> <p>The following examples <strong>will not</strong> be flagged:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qIGVzbGludCBwcmVmZXItYXJyb3ctY2FsbGJhY2s6IFwiZXJyb3JcIiAqL1xuXG4vLyBhcnJvdyBmdW5jdGlvbiBjYWxsYmFja1xuZm9vKGEgPT4gYSk7IC8vIE9LXG5cbi8vIGdlbmVyYXRvciBhcyBjYWxsYmFja1xuZm9vKGZ1bmN0aW9uKigpIHsgeWllbGQ7IH0pOyAvLyBPS1xuXG4vLyBmdW5jdGlvbiBleHByZXNzaW9uIG5vdCB1c2VkIGFzIGNhbGxiYWNrIG9yIGZ1bmN0aW9uIGFyZ3VtZW50XG52YXIgZm9vID0gZnVuY3Rpb24gZm9vKGEpIHsgcmV0dXJuIGE7IH07IC8vIE9LXG5cbi8vIHVuYm91bmQgZnVuY3Rpb24gZXhwcmVzc2lvbiBjYWxsYmFja1xuZm9vKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5hOyB9KTsgLy8gT0tcblxuLy8gcmVjdXJzaXZlIG5hbWVkIGZ1bmN0aW9uIGNhbGxiYWNrXG5mb28oZnVuY3Rpb24gYmFyKG4pIHsgcmV0dXJuIG4gJiYgbiArIGJhcihuIC0gMSk7IH0pOyAvLyBPSyJ9" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/* eslint prefer-arrow-callback: "error" */</span>

<span class="token comment">// arrow function callback</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>

<span class="token comment">// generator as callback</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">yield</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>

<span class="token comment">// function expression not used as callback or function argument</span>
<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> a<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>

<span class="token comment">// unbound function expression callback</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>

<span class="token comment">// recursive named function callback</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> n <span class="token operator">&amp;&amp;</span> n <span class="token operator">+</span> <span class="token function">bar</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
</div>
<h2 id="options" tabindex="-1">Options</h2> <p>Access further control over this ruleâ€™s behavior via an options object.</p> <p>Default: <code>{ allowNamedFunctions: false, allowUnboundThis: true }</code></p> <h3 id="allownamedfunctions" tabindex="-1">allowNamedFunctions</h3> <p>By default <code>{ "allowNamedFunctions": false }</code>, this <code>boolean</code> option prohibits using named functions as callbacks or function arguments.</p> <p>Changing this value to <code>true</code> will reverse this optionâ€™s behavior by allowing use of named functions without restriction.</p> <p><code>{ "allowNamedFunctions": true }</code> <strong>will not</strong> flag the following example:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qIGVzbGludCBwcmVmZXItYXJyb3ctY2FsbGJhY2s6IFsgXCJlcnJvclwiLCB7IFwiYWxsb3dOYW1lZEZ1bmN0aW9uc1wiOiB0cnVlIH0gXSAqL1xuXG5mb28oZnVuY3Rpb24gYmFyKCkge30pOyJ9" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/* eslint prefer-arrow-callback: [ "error", { "allowNamedFunctions": true } ] */</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div>
<h3 id="allowunboundthis" tabindex="-1">allowUnboundThis</h3> <p>By default <code>{ "allowUnboundThis": true }</code>, this <code>boolean</code> option allows function expressions containing <code>this</code> to be used as callbacks, as long as the function in question has not been explicitly bound.</p> <p>When set to <code>false</code> this option prohibits the use of function expressions as callbacks or function arguments entirely, without exception.</p> <p><code>{ "allowUnboundThis": false }</code> <strong>will</strong> flag the following examples:</p> <div class="incorrect"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qIGVzbGludCBwcmVmZXItYXJyb3ctY2FsbGJhY2s6IFsgXCJlcnJvclwiLCB7IFwiYWxsb3dVbmJvdW5kVGhpc1wiOiBmYWxzZSB9IF0gKi9cblxuZm9vKGZ1bmN0aW9uKCkgeyB0aGlzLmE7IH0pO1xuXG5mb28oZnVuY3Rpb24oKSB7ICgoKSA9PiB0aGlzKTsgfSk7XG5cbnNvbWVBcnJheS5tYXAoZnVuY3Rpb24oaXRlbSkgeyByZXR1cm4gdGhpcy5kb1NvbWV0aGluZyhpdGVtKTsgfSwgc29tZU9iamVjdCk7In0=" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/* eslint prefer-arrow-callback: [ "error", { "allowUnboundThis": false } ] */</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token eslint-marked eslint-message-id-1" title="Unexpected function expression."><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token eslint-marked eslint-message-id-1" title="Unexpected function expression."><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

someArray<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token eslint-marked eslint-message-id-1" title="Unexpected function expression."><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span><span class="token punctuation">,</span> someObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div>
<h2 id="when-not-to-use-it" tabindex="-1">When Not To Use It</h2> <ul> <li> <p>In environments that have not yet adopted ES6 language features (ES3/5).</p> </li> <li> <p>In ES6+ environments that allow the use of function expressions when describing callbacks or function arguments.</p> </li> </ul> <h2 id="version">Version</h2> <p>This rule was introduced in ESLint v1.2.0.</p> <h2 id="further-reading">Further Reading</h2> <article class="resource">  <div class="resource__content"> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" class="resource__title"> Arrow function expressions - JavaScript | MDN </a><br>  </div>  </article> <h2 id="resources">Resources</h2> <ul> <li><a href="https://github.com/eslint/eslint/blob/main/lib/rules/prefer-arrow-callback.js">Rule source</a></li> <li><a href="https://github.com/eslint/eslint/blob/main/tests/lib/rules/prefer-arrow-callback.js">Tests source</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; OpenJS Foundation and other contributors<br>Licensed under the MIT License.<br>
    <a href="https://eslint.org/docs/latest/rules/prefer-arrow-callback" class="_attribution-link">https://eslint.org/docs/latest/rules/prefer-arrow-callback</a>
  </p>
</div>
