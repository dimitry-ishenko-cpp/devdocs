<h1>no-unexpected-multiline</h1> 
<p>Disallow confusing multiline expressions</p> <div class="rule-categories" aria-label="Rule Categories"><div class="rule-category"> <span class="rule-category__icon">âœ… <span class="visually-hidden">Recommended</span></span> <p> Using the <code>recommended</code> config from <code>@eslint/js</code> in a <a href="no-unexpected-multiline../use/configure/configuration-files.html#using-predefined-configurations">configuration file</a> enables this rule </p> </div></div>  <p>Semicolons are usually optional in JavaScript, because of automatic semicolon insertion (ASI). You can require or disallow semicolons with the <a href="no-unexpected-multiline./semi.html">semi</a> rule.</p> <p>The rules for ASI are relatively straightforward: As once described by Isaac Schlueter, a newline character always ends a statement, just like a semicolon, <strong>except</strong> where one of the following is true:</p> <ul> <li>The statement has an unclosed paren, array literal, or object literal or ends in some other way that is not a valid way to end a statement. (For instance, ending with <code>.</code> or <code>,</code>.)</li> <li>The line is <code>--</code> or <code>++</code> (in which case it will decrement/increment the next token.)</li> <li>It is a <code>for()</code>, <code>while()</code>, <code>do</code>, <code>if()</code>, or <code>else</code>, and there is no <code>{</code>
</li> <li>The next line starts with <code>[</code>, <code>(</code>, <code>+</code>, <code>*</code>, <code>/</code>, <code>-</code>, <code>,</code>, <code>.</code>, or some other binary operator that can only be found between two tokens in a single expression.</li> </ul> <p>In the exceptions where a newline does <strong>not</strong> end a statement, a typing mistake to omit a semicolon causes two unrelated consecutive lines to be interpreted as one expression. Especially for a coding style without semicolons, readers might overlook the mistake. Although syntactically correct, the code might throw exceptions when it is executed.</p> <h2 id="rule-details" tabindex="-1">Rule Details</h2> <p>This rule disallows confusing multiline expressions where a newline looks like it is ending a statement, but is not.</p> <p>Examples of <strong>incorrect</strong> code for this rule:</p> <div class="incorrect"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qZXNsaW50IG5vLXVuZXhwZWN0ZWQtbXVsdGlsaW5lOiBcImVycm9yXCIqL1xuXG52YXIgZm9vID0gYmFyXG4oMSB8fCAyKS5iYXooKTtcblxudmFyIGhlbGxvID0gJ3dvcmxkJ1xuWzEsIDIsIDNdLmZvckVhY2goYWRkTnVtYmVyKTtcblxubGV0IHggPSBmdW5jdGlvbigpIHt9XG5gaGVsbG9gXG5cbmxldCB5ID0gZnVuY3Rpb24oKSB7fVxueVxuYGhlbGxvYFxuXG5sZXQgeiA9IGZvb1xuL3JlZ2V4L2cudGVzdChiYXIpIn0=" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/*eslint no-unexpected-multiline: "error"*/</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token function">bar</span>
<span class="token eslint-marked eslint-message-id-1" title="Unexpected newline between function and ( of function call."><span class="token punctuation">(</span></span><span class="token number">1</span> <span class="token operator">||</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token string">'world'</span>
<span class="token eslint-marked eslint-message-id-2" title="Unexpected newline between object and [ of property access."><span class="token punctuation">[</span></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>addNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">x</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token template-string"><span class="token eslint-marked eslint-message-id-3" title="Unexpected newline between template tag and template literal."><span class="token template-punctuation string">`</span></span><span class="token string">hello</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">let</span> <span class="token function-variable function">y</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
y
<span class="token template-string"><span class="token eslint-marked eslint-message-id-3" title="Unexpected newline between template tag and template literal."><span class="token template-punctuation string">`</span></span><span class="token string">hello</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">let</span> z <span class="token operator">=</span> foo
<span class="token eslint-marked eslint-message-id-4" title="Unexpected newline between numerator and division operator."><span class="token operator">/</span></span>regex<span class="token operator">/</span>g<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span>
</code></pre>
</div>
<p>Examples of <strong>correct</strong> code for this rule:</p> <div class="correct"> <a class="c-btn c-btn--secondary c-btn--playground" href="https://eslint.org/play#eyJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsic291cmNlVHlwZSI6Im1vZHVsZSJ9fSwidGV4dCI6Ii8qZXNsaW50IG5vLXVuZXhwZWN0ZWQtbXVsdGlsaW5lOiBcImVycm9yXCIqL1xuXG52YXIgZm9vID0gYmFyO1xuKDEgfHwgMikuYmF6KCk7XG5cbnZhciBmb28gPSBiYXJcbjsoMSB8fCAyKS5iYXooKVxuXG52YXIgaGVsbG8gPSAnd29ybGQnO1xuWzEsIDIsIDNdLmZvckVhY2goYWRkTnVtYmVyKTtcblxudmFyIGhlbGxvID0gJ3dvcmxkJ1xudm9pZCBbMSwgMiwgM10uZm9yRWFjaChhZGROdW1iZXIpO1xuXG5sZXQgeCA9IGZ1bmN0aW9uKCkge307XG5gaGVsbG9gXG5cbmxldCB0YWcgPSBmdW5jdGlvbigpIHt9XG50YWcgYGhlbGxvYCJ9" target="_blank"> Open in Playground </a><pre class="language-js line-numbers-mode"><code><span class="token comment">/*eslint no-unexpected-multiline: "error"*/</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> bar<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">||</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> bar
<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">||</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token string">'world'</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>addNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> hello <span class="token operator">=</span> <span class="token string">'world'</span>
<span class="token keyword">void</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>addNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">x</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">let</span> <span class="token function-variable function">tag</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
tag <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello</span><span class="token template-punctuation string">`</span></span>
</code></pre>
</div>
<h2 id="when-not-to-use-it" tabindex="-1">When Not To Use It</h2> <p>You can turn this rule off if you are confident that you will not accidentally introduce code like this.</p> <p>Note that the patterns considered problems are <strong>not</strong> flagged by the <a href="no-unexpected-multilinesemi.html">semi</a> rule.</p> <h2 id="related-rules">Related Rules</h2> <ul class="related-rules__list" role="list"> <li class="related-rules__list__item"> <a href="func-call-spacing.html"> <span>func-call-spacing</span>  </a> </li>
<li class="related-rules__list__item"> <a href="semi.html"> <span>semi</span>  </a> </li>
<li class="related-rules__list__item"> <a href="space-unary-ops.html"> <span>space-unary-ops</span>  </a> </li> </ul> <h2 id="version">Version</h2> <p>This rule was introduced in ESLint v0.24.0.</p> <h2 id="resources">Resources</h2> <ul> <li><a href="https://github.com/eslint/eslint/blob/main/lib/rules/no-unexpected-multiline.js">Rule source</a></li> <li><a href="https://github.com/eslint/eslint/blob/main/tests/lib/rules/no-unexpected-multiline.js">Tests source</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; OpenJS Foundation and other contributors<br>Licensed under the MIT License.<br>
    <a href="https://eslint.org/docs/latest/rules/no-unexpected-multiline" class="_attribution-link">https://eslint.org/docs/latest/rules/no-unexpected-multiline</a>
  </p>
</div>
