<h1>Package.json Conventions</h1> <nav class="docs-toc c-toc" aria-labelledby="js-toc-label"><h2 class="c-toc__label" id="js-toc-label">Table of Contents</h2> <div class="c-toc__panel" id="js-toc-panel"> <nav class="c-toc"> <ol> <li>
<a href="#names">Names</a> </li> <li>
<a href="#order">Order</a> </li> <li>
<a href="#main-script-names">Main Script Names</a> <ol> <li>
<a href="#build">Build</a> </li> <li>
<a href="#fetch">Fetch</a> </li> <li>
<a href="#release">Release</a> </li> <li>
<a href="#lint">Lint</a> </li> <li>
<a href="#start">Start</a> </li> <li>
<a href="#test">Test</a> </li> </ol> </li> <li>
<a href="#modifiers">Modifiers</a> <ol> <li>
<a href="#fix">Fix</a> </li> <li>
<a href="#target">Target</a> </li> <li>
<a href="#options">Options</a> </li> <li>
<a href="#watch">Watch</a> </li> </ol> </li> </ol> </nav> </div></nav> <p>The following applies to the “scripts” section of <code>package.json</code> files.</p> <h2 id="names" tabindex="-1">Names</h2> <p>npm script names MUST contain only lower case letters, <code>:</code> to separate parts, <code>-</code> to separate words, and <code>+</code> to separate file extensions. Each part name SHOULD be either a full English word (e.g. <code>coverage</code> not <code>cov</code>) or a well-known initialism in all lowercase (e.g. <code>wasm</code>).</p> <p>Here is a summary of the proposal in ABNF.</p> <pre class="language-abnf line-numbers-mode"><code><span class="token definition keyword">name</span>         <span class="token operator">=</span> <span class="token rule">life-cycle</span> <span class="token operator">/</span> <span class="token rule">main</span> <span class="token rule">target</span>? <span class="token rule">option</span>* <span class="token string">":watch"</span>?
<span class="token definition keyword">life-cycle</span>   <span class="token operator">=</span> <span class="token string">"prepare"</span> <span class="token operator">/</span> <span class="token string">"preinstall"</span> <span class="token operator">/</span> <span class="token string">"install"</span> <span class="token operator">/</span> <span class="token string">"postinstall"</span> <span class="token operator">/</span> <span class="token string">"prepublish"</span> <span class="token operator">/</span> <span class="token string">"preprepare"</span> <span class="token operator">/</span> <span class="token string">"prepare"</span> <span class="token operator">/</span> <span class="token string">"postprepare"</span> <span class="token operator">/</span> <span class="token string">"prepack"</span> <span class="token operator">/</span> <span class="token string">"postpack"</span> <span class="token operator">/</span> <span class="token string">"prepublishOnly"</span>
<span class="token definition keyword">main</span>         <span class="token operator">=</span> <span class="token string">"build"</span> <span class="token operator">/</span> <span class="token string">"lint"</span> <span class="token string">":fix"</span>? <span class="token operator">/</span> <span class="token string">"release"</span> <span class="token operator">/</span> <span class="token string">"start"</span> <span class="token operator">/</span> <span class="token string">"test"</span> <span class="token operator">/</span> <span class="token string">"fetch"</span>
<span class="token definition keyword">target</span>       <span class="token operator">=</span> <span class="token string">":"</span> <span class="token rule">word</span> <span class="token punctuation">(</span><span class="token string">"-"</span> <span class="token rule">word</span><span class="token punctuation">)</span><span class="token repetition operator">*</span> <span class="token operator">/</span> <span class="token rule">extension</span> <span class="token punctuation">(</span><span class="token string">"+"</span> <span class="token rule">extension</span><span class="token punctuation">)</span><span class="token repetition operator">*</span>
<span class="token definition keyword">option</span>       <span class="token operator">=</span> <span class="token string">":"</span> <span class="token rule">word</span> <span class="token punctuation">(</span><span class="token string">"-"</span> <span class="token rule">word</span><span class="token punctuation">)</span><span class="token repetition operator">*</span>
<span class="token definition keyword">word</span>         <span class="token operator">=</span> <span class="token core-rule rule constant">ALPHA</span> +
<span class="token definition keyword">extension</span>    <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token core-rule rule constant">ALPHA</span> <span class="token operator">/</span> <span class="token core-rule rule constant">DIGIT</span> <span class="token punctuation">)</span>+
</code></pre>
<h2 id="order" tabindex="-1">Order</h2> <p>The script names MUST appear in the package.json file in alphabetical order. The other conventions outlined in this document ensure that alphabetical order will coincide with logical groupings.</p> <h2 id="main-script-names" tabindex="-1">Main Script Names</h2> <p>With the exception of <a href="https://docs.npmjs.com/cli/v8/using-npm/scripts#life-cycle-scripts">npm life cycle scripts</a> all script names MUST begin with one of the following names.</p> <h3 id="build" tabindex="-1">Build</h3> <p>Scripts that generate a set of files from source code and / or data MUST have names that begin with <code>build</code>.</p> <p>If a package contains any <code>build:*</code> scripts, there MAY be a script named <code>build</code>. If so, SHOULD produce the same output as running each of the <code>build</code> scripts individually. It MUST produce a subset of the output from running those scripts.</p> <h3 id="fetch" tabindex="-1">Fetch</h3> <p>Scripts that generate a set of files from external data or resources MUST have names that begin with <code>fetch</code>.</p> <p>If a package contains any <code>fetch:*</code> scripts, there MAY be a script named <code>fetch</code>. If so, it SHOULD produce the same output as running each of the <code>fetch</code> scripts individually. It MUST produce a subset of the output from running those scripts.</p> <h3 id="release" tabindex="-1">Release</h3> <p>Scripts that have public side effects (publishing the web site, committing to Git, etc.) MUST begin with <code>release</code>.</p> <h3 id="lint" tabindex="-1">Lint</h3> <p>Scripts that statically analyze files (mostly, but not limited to running <code>eslint</code> itself) MUST have names that begin with <code>lint</code>.</p> <p>If a package contains any <code>lint:*</code> scripts, there SHOULD be a script named <code>lint</code> and it MUST run all of the checks that would have been run if each <code>lint:*</code> script was called individually.</p> <p>If fixing is available, a linter MUST NOT apply fixes UNLESS the script contains the <code>:fix</code> modifier (see below).</p> <h3 id="start" tabindex="-1">Start</h3> <p>A <code>start</code> script is used to start a server. As of this writing, no ESLint package has more than one <code>start</code> script, so there’s no need <code>start</code> to have any modifiers.</p> <h3 id="test" tabindex="-1">Test</h3> <p>Scripts that execute code in order to ensure the actual behavior matches expected behavior MUST have names that begin with <code>test</code>.</p> <p>If a package contains any <code>test:*</code> scripts, there SHOULD be a script named <code>test</code> and it MUST run of all of the tests that would have been run if each <code>test:*</code> script was called individually.</p> <p>A test script SHOULD NOT include linting.</p> <p>A test script SHOULD report test coverage when possible.</p> <h2 id="modifiers" tabindex="-1">Modifiers</h2> <p>One or more of the following modifiers MAY be appended to the standard script names above. If a target has modifiers, they MUST be in the order in which they appear below (e.g. <code>lint:fix:js:watch</code> not <code>lint:watch:js:fix</code>)</p> <h3 id="fix" tabindex="-1">Fix</h3> <p>If it’s possible for a linter to fix problems that it finds, add a copy of the script with <code>:fix</code> appended to the end that also fixes.</p> <h3 id="target" tabindex="-1">Target</h3> <p>The name of the target of the action being run. In the case of a <code>build</code> script, it SHOULD identify the build artifact(s), e.g. “javascript” or “css” or “website”. In the case of a <code>lint</code> or <code>test</code> script, it SHOULD identify the item(s) being linted or tested. In the case of a <code>start</code> script, it SHOULD identify which server is starting.</p> <p>A target MAY refer to a list of affected file extensions (such as <code>cjs</code> or <code>less</code>) delimited by a <code>+</code>. If there is more than one extension, the list SHOULD be alphabetized. When a file extension has variants (such as <code>cjs</code> for CommonJS and <code>mjs</code> for ESM), the common part of the extension MAY be used instead of explicitly listing out all of the variants (e.g. <code>js</code> instead of <code>cjs+jsx+mjs</code>).</p> <p>The target SHOULD NOT refer to name of the name of the tool that’s performing the action (<code>eleventy</code>, <code>webpack</code>, etc.)</p> <h3 id="options" tabindex="-1">Options</h3> <p>Additional options that don’t fit under the other modifiers.</p> <h3 id="watch" tabindex="-1">Watch</h3> <p>If a script watches the filesystem and responds to changes, add <code>:watch</code> to the script name.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; OpenJS Foundation and other contributors<br>Licensed under the MIT License.<br>
    <a href="https://eslint.org/docs/latest/contribute/package-json-conventions" class="_attribution-link">https://eslint.org/docs/latest/contribute/package-json-conventions</a>
  </p>
</div>
