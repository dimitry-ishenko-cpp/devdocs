<h1>Simple HTTP server</h1>
<div>
<p>In this tutorial, let's build a HTTP server that responds to all incoming HTTP requests with <code data-language="ts">Hello, world!</code> and a <code data-language="ts">200 OK</code> HTTP status. We will be using the Deno Deploy playground to deploy and edit this script.</p> <h2 id="step-1%3A-write-the-http-server-script" tabindex="-1">Step 1: Write the HTTP server script </h2> <p>A simple HTTP server can be written with a single line of code in Deno using <a href="../../api/deno/~/deno.serve.html"><code data-language="ts">Deno.serve</code></a>:</p> <div>
<div class="markdownBlockTitle">One-line HTTP server</div>
<div class="relative">
<pre class="language-js" tabindex="0"><code data-language="js">Deno<span class="token punctuation">.</span><span class="token function">serve</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<p>While this type of server is useful for getting started, <code data-language="ts">Deno.serve</code> is capable of supporting more advanced usage as well (<a href="../../api/deno/~/deno.serve.html">API reference docs</a>). Below is an example of a more complex server that takes advantage of other API features.</p> <div>
<div class="markdownBlockTitle">More complex Hello World server</div>
<div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts">Deno<span class="token punctuation">.</span><span class="token function">serve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">onListen</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> port <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Deno server listening on *:"</span><span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>req<span class="token operator">:</span> Request<span class="token punctuation">,</span> conn<span class="token operator">:</span> Deno<span class="token punctuation">.</span>ServeHandlerInfo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Get information about the incoming request</span>
  <span class="token keyword">const</span> method <span class="token operator">=</span> req<span class="token punctuation">.</span>method<span class="token punctuation">;</span>
  <span class="token keyword">const</span> ip <span class="token operator">=</span> conn<span class="token punctuation">.</span>remoteAddr<span class="token punctuation">.</span>hostname<span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ip<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> just made an HTTP </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>method<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> request.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Return a web standard Response object</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<h2 id="step-2%3A-deploy-script-to-deno-deploy" tabindex="-1">Step 2: Deploy script to Deno Deploy </h2> <ol> <li>Create a new playground project by visiting <a href="https://dash.deno.com/account/overview">your Deno dashboard</a>, and clicking the <strong>New Playground</strong> button.</li> <li>On the next screen, copy the code above (either the short or the longer example) into the editor on the left side of the screen.</li> <li>Press the <strong>Save &amp; Deploy</strong> button on the right side of the top toolbar (or press <kbd>Ctrl</kbd>+<kbd>S</kbd>).</li> </ol> <p>You can preview the result on the right side of the playground editor, in the preview pane.</p> <p>You will see that if you change the script (for example <code data-language="ts">Hello, World!</code> -&gt; <code data-language="ts">Hello, Galaxy!</code>) and then re-deploy, the preview will automatically update. The URL shown at the top of the preview pane can be used to visit the deployed page from anywhere.</p> <p>Even in the playground editor, scripts are deployed worldwide across our entire global network. This guarantees fast and reliable performance, no matter the location of your users.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018â€“2024 the Deno authors<br>Licensed under the MIT License.<br>
    <a href="https://docs.deno.com/deploy/tutorials/tutorial-http-server" class="_attribution-link">https://docs.deno.com/deploy/tutorials/tutorial-http-server</a>
  </p>
</div>
