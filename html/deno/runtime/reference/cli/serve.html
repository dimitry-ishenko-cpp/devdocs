<h1>deno serve</h1>
<div>
<div class="p-4 bg-stone-100 dark:bg-transparent rounded border border-gray-300 dark:border-background-tertiary mt-6 mb-6 relative">
<h3 class="!text-xs !m-0 -top-2.5 bg-background-primary border border-gray-600/25 px-2 py-0.5 rounded absolute !font-normal">Command line usage</h3>
<div><pre class="!mb-0 !px-3 !py-2 language-none" tabindex="0"><code data-language="none">deno serve [OPTIONS] [SCRIPT_ARG]...</code></pre></div>
</div>
<div>
<p>Run a server defined in a main module</p> <p>The serve command uses the default exports of the main module to determine which servers to start.</p> <p>Start a server defined in server.ts:</p> <div class="relative">
<pre class="language-none" tabindex="0"><code data-language="none">deno serve server.ts
</code></pre>   </div>
<p>Start a server defined in server.ts, watching for changes and running on port 5050:</p> <div class="relative">
<pre class="language-none" tabindex="0"><code data-language="none">deno serve --watch --port 5050 server.ts
</code></pre>   </div>
</div>
<br><h2 id="type-checking-options">Type checking options </h2>
<h3 id="type-checking-options-check">
<code data-language="ts">--check</code> </h3>

<p>Enable type-checking. This subcommand does not type-check by default If the value of "all" is supplied, remote modules will be included. Alternatively, the 'deno check' subcommand can be used.</p>

<h3 id="type-checking-options-no-check">
<code data-language="ts">--no-check</code> </h3>

<p>Skip type-checking. If the value of "remote" is supplied, diagnostic errors from remote modules will be ignored.</p>

<h2 id="dependency-management-options">Dependency management options </h2>
<h3 id="dependency-management-options-cached-only">
<code data-language="ts">--cached-only</code> </h3>

<p>Require that remote dependencies are already cached.</p>

<h3 id="dependency-management-options-frozen">
<code data-language="ts">--frozen</code> </h3>

<p>Error out if lockfile is out of date.</p>

<h3 id="dependency-management-options-import-map">
<code data-language="ts"><a href="https://docs.deno.com/runtime/manual/basics/import_maps">--import-map</a></code> </h3>

<p>Load import map file from local file or remote URL.</p>

<h3 id="dependency-management-options-lock">
<code data-language="ts">--lock</code> </h3>

<p>Check the specified lock file. (If value is not provided, defaults to "./deno.lock").</p>

<h3 id="dependency-management-options-no-lock">
<code data-language="ts">--no-lock</code> </h3>

<p>Disable auto discovery of the lock file.</p>

<h3 id="dependency-management-options-no-npm">
<code data-language="ts">--no-npm</code> </h3>

<p>Do not resolve npm modules.</p>

<h3 id="dependency-management-options-no-remote">
<code data-language="ts">--no-remote</code> </h3>

<p>Do not resolve remote modules.</p>

<h3 id="dependency-management-options-node-modules-dir">
<code data-language="ts">--node-modules-dir</code> </h3>

<p>Sets the node modules management mode for npm packages.</p>

<h3 id="dependency-management-options-reload">
<code data-language="ts">--reload</code> </h3>
<p>Short flag: <code data-language="ts">-r</code></p>

<p>Reload source code cache (recompile TypeScript) no value Reload everything jsr:@std/http/file-server,jsr:@std/assert/assert-equals Reloads specific modules npm: Reload all npm modules npm:chalk Reload specific npm module.</p>

<h3 id="dependency-management-options-vendor">
<code data-language="ts">--vendor</code> </h3>

<p>Toggles local vendor folder usage for remote modules and a node_modules folder for npm packages.</p>

<h2 id="options">Options </h2>
<h3 id="options-allow-scripts">
<code data-language="ts">--allow-scripts</code> </h3>

<p>Allow running npm lifecycle scripts for the given packages Note: Scripts will only be executed when using a node_modules directory (<code data-language="ts">--node-modules-dir</code>).</p>

<h3 id="options-cert">
<code data-language="ts">--cert</code> </h3>

<p>Load certificate authority from PEM encoded file.</p>

<h3 id="options-config">
<code data-language="ts"><a href="https://docs.deno.com/go/config">--config</a></code> </h3>
<p>Short flag: <code data-language="ts">-c</code></p>

<p>Configure different aspects of deno including TypeScript, linting, and code formatting Typically the configuration file will be called <code data-language="ts">deno.json</code> or <code data-language="ts">deno.jsonc</code> and automatically detected; in that case this flag is not necessary.</p>

<h3 id="options-env-file">
<code data-language="ts">--env-file</code> </h3>

<p>Load environment variables from local file Only the first environment variable with a given key is used. Existing process environment variables are not overwritten, so if variables with the same names already exist in the environment, their values will be preserved. Where multiple declarations for the same environment variable exist in your .env file, the first one encountered is applied. This is determined by the order of the files you pass as arguments.</p>

<h3 id="options-ext">
<code data-language="ts">--ext</code> </h3>

<p>Set content type of the supplied file.</p>

<h3 id="options-host">
<code data-language="ts">--host</code> </h3>

<p>The TCP address to serve on, defaulting to 0.0.0.0 (all interfaces).</p>

<h3 id="options-location">
<code data-language="ts">--location</code> </h3>

<p>Value of globalThis.location used by some web APIs.</p>

<h3 id="options-no-code-cache">
<code data-language="ts">--no-code-cache</code> </h3>

<p>Disable V8 code cache feature.</p>

<h3 id="options-no-config">
<code data-language="ts">--no-config</code> </h3>

<p>Disable automatic loading of the configuration file.</p>

<h3 id="options-parallel">
<code data-language="ts">--parallel</code> </h3>

<p>Run multiple server workers in parallel. Parallelism defaults to the number of available CPUs or the value of the DENO_JOBS environment variable.</p>

<h3 id="options-port">
<code data-language="ts">--port</code> </h3>

<p>The TCP port to serve on. Pass 0 to pick a random free port [default: 8000]</p>

<h3 id="options-seed">
<code data-language="ts">--seed</code> </h3>

<p>Set the random number generator seed.</p>

<h3 id="options-v8-flags">
<code data-language="ts">--v8-flags</code> </h3>

<p>To see a list of all available flags use<code data-language="ts"> --v8-flags=--help</code> Flags can also be set via the DENO_V8_FLAGS environment variable. Any flags set with this flag are appended after the DENO_V8_FLAGS environment variable.</p>

<h2 id="debugging-options">Debugging options </h2>
<h3 id="debugging-options-inspect">
<code data-language="ts">--inspect</code> </h3>

<p>Activate inspector on host:port [default: 127.0.0.1:9229]</p>

<h3 id="debugging-options-inspect-brk">
<code data-language="ts">--inspect-brk</code> </h3>

<p>Activate inspector on host:port, wait for debugger to connect and break at the start of user script.</p>

<h3 id="debugging-options-inspect-wait">
<code data-language="ts">--inspect-wait</code> </h3>

<p>Activate inspector on host:port and wait for debugger to connect before running user code.</p>

<h2 id="file-watching-options">File watching options </h2>
<h3 id="file-watching-options-hmr">
<code data-language="ts">--hmr</code> </h3>

<p>Watch for file changes and restart process automatically. Local files from entry point module graph are watched by default. Additional paths might be watched by passing them as arguments to this flag.</p>

<h3 id="file-watching-options-no-clear-screen">
<code data-language="ts">--no-clear-screen</code> </h3>

<p>Do not clear terminal screen when under watch mode.</p>

<h3 id="file-watching-options-watch">
<code data-language="ts">--watch</code> </h3>

<p>Watch for file changes and restart process automatically. Local files from entry point module graph are watched by default. Additional paths might be watched by passing them as arguments to this flag.</p>

<h3 id="file-watching-options-watch-exclude">
<code data-language="ts">--watch-exclude</code> </h3>

<p>Exclude provided files/patterns from watch mode.</p>

</div>
<div>
<h2 id="example" tabindex="-1">Example </h2> <p>Here's an example of how you can create a simple HTTP server with declarative fetch:</p> <div>
<div class="markdownBlockTitle">server.ts</div>
<div class="relative">
<pre class="language-typescript" tabindex="0"><code data-language="typescript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">fetch</span><span class="token punctuation">(</span>_req<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token string">"Hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<p>You can then run the server using the <code data-language="ts">deno serve</code> command:</p> <div class="relative">
<pre class="language-bash" tabindex="0"><code data-language="bash">deno serve server.ts
</code></pre>   </div>
<p>The logic inside the <code data-language="ts">fetch</code> function can be customized to handle different types of requests and serve content accordingly:</p> <div>
<div class="markdownBlockTitle">server.ts</div>
<div class="relative">
<pre class="language-typescript" tabindex="0"><code data-language="typescript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">fetch</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"/json"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> hello<span class="token operator">:</span> <span class="token string">"world"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token string">"Hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018–2024 the Deno authors<br>Licensed under the MIT License.<br>
    <a href="https://docs.deno.com/runtime/reference/cli/serve" class="_attribution-link">https://docs.deno.com/runtime/reference/cli/serve</a>
  </p>
</div>
