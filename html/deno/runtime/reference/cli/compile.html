<h1>
<code data-language="ts">deno compile</code>, standalone executables</h1>
<div>
<div class="p-4 bg-stone-100 dark:bg-transparent rounded border border-gray-300 dark:border-background-tertiary mt-6 mb-6 relative">
<h3 class="!text-xs !m-0 -top-2.5 bg-background-primary border border-gray-600/25 px-2 py-0.5 rounded absolute !font-normal">Command line usage</h3>
<div><pre class="!mb-0 !px-3 !py-2 language-none" tabindex="0"><code data-language="none">deno compile [OPTIONS] [SCRIPT_ARG]...</code></pre></div>
</div>
<div>
<p>Compiles the given script into a self contained executable.</p> <div class="relative">
<pre class="language-none" tabindex="0"><code data-language="none">deno compile --allow-read --allow-net jsr:@std/http/file-server
</code></pre>   </div>
<div class="relative">
<pre class="language-none" tabindex="0"><code data-language="none">deno compile --output file_server jsr:@std/http/file-server
</code></pre>   </div>
<p>Any flags specified which affect runtime behavior will be applied to the resulting binary.</p> <p>This allows distribution of a Deno application to systems that do not have Deno installed. Under the hood, it bundles a slimmed down version of the Deno runtime along with your JavaScript or TypeScript code.</p> <p>Cross-compiling to different target architectures is supported using the <code data-language="ts">--target</code> flag. On the first invocation with deno will download the proper binary and cache it in <code data-language="ts">$DENO_DIR</code>.</p>
</div>
<br><h2 id="type-checking-options">Type checking options </h2>
<h3 id="type-checking-options-check">
<code data-language="ts">--check</code> </h3>

<p>Set type-checking behavior. This subcommand type-checks local modules by default, so adding<code data-language="ts"> --check</code> is redundant If the value of "all" is supplied, remote modules will be included. Alternatively, the 'deno check' subcommand can be used.</p>

<h3 id="type-checking-options-no-check">
<code data-language="ts">--no-check</code> </h3>

<p>Skip type-checking. If the value of "remote" is supplied, diagnostic errors from remote modules will be ignored.</p>

<h2 id="dependency-management-options">Dependency management options </h2>
<h3 id="dependency-management-options-cached-only">
<code data-language="ts">--cached-only</code> </h3>

<p>Require that remote dependencies are already cached.</p>

<h3 id="dependency-management-options-frozen">
<code data-language="ts">--frozen</code> </h3>

<p>Error out if lockfile is out of date.</p>

<h3 id="dependency-management-options-import-map">
<code data-language="ts"><a href="https://docs.deno.com/runtime/manual/basics/import_maps">--import-map</a></code> </h3>

<p>Load import map file from local file or remote URL.</p>

<h3 id="dependency-management-options-lock">
<code data-language="ts">--lock</code> </h3>

<p>Check the specified lock file. (If value is not provided, defaults to "./deno.lock").</p>

<h3 id="dependency-management-options-no-lock">
<code data-language="ts">--no-lock</code> </h3>

<p>Disable auto discovery of the lock file.</p>

<h3 id="dependency-management-options-no-npm">
<code data-language="ts">--no-npm</code> </h3>

<p>Do not resolve npm modules.</p>

<h3 id="dependency-management-options-no-remote">
<code data-language="ts">--no-remote</code> </h3>

<p>Do not resolve remote modules.</p>

<h3 id="dependency-management-options-node-modules-dir">
<code data-language="ts">--node-modules-dir</code> </h3>

<p>Sets the node modules management mode for npm packages.</p>

<h3 id="dependency-management-options-reload">
<code data-language="ts">--reload</code> </h3>
<p>Short flag: <code data-language="ts">-r</code></p>

<p>Reload source code cache (recompile TypeScript) no value Reload everything jsr:@std/http/file-server,jsr:@std/assert/assert-equals Reloads specific modules npm: Reload all npm modules npm:chalk Reload specific npm module.</p>

<h3 id="dependency-management-options-vendor">
<code data-language="ts">--vendor</code> </h3>

<p>Toggles local vendor folder usage for remote modules and a node_modules folder for npm packages.</p>

<h2 id="options">Options </h2>
<h3 id="options-allow-scripts">
<code data-language="ts">--allow-scripts</code> </h3>

<p>Allow running npm lifecycle scripts for the given packages Note: Scripts will only be executed when using a node_modules directory (<code data-language="ts">--node-modules-dir</code>).</p>

<h3 id="options-cert">
<code data-language="ts">--cert</code> </h3>

<p>Load certificate authority from PEM encoded file.</p>

<h3 id="options-config">
<code data-language="ts"><a href="https://docs.deno.com/go/config">--config</a></code> </h3>
<p>Short flag: <code data-language="ts">-c</code></p>

<p>Configure different aspects of deno including TypeScript, linting, and code formatting Typically the configuration file will be called <code data-language="ts">deno.json</code> or <code data-language="ts">deno.jsonc</code> and automatically detected; in that case this flag is not necessary.</p>

<h3 id="options-env-file">
<code data-language="ts">--env-file</code> </h3>

<p>Load environment variables from local file Only the first environment variable with a given key is used. Existing process environment variables are not overwritten, so if variables with the same names already exist in the environment, their values will be preserved. Where multiple declarations for the same environment variable exist in your .env file, the first one encountered is applied. This is determined by the order of the files you pass as arguments.</p>

<h3 id="options-ext">
<code data-language="ts">--ext</code> </h3>

<p>Set content type of the supplied file.</p>

<h3 id="options-location">
<code data-language="ts">--location</code> </h3>

<p>Value of globalThis.location used by some web APIs.</p>

<h3 id="options-no-code-cache">
<code data-language="ts">--no-code-cache</code> </h3>

<p>Disable V8 code cache feature.</p>

<h3 id="options-no-config">
<code data-language="ts">--no-config</code> </h3>

<p>Disable automatic loading of the configuration file.</p>

<h3 id="options-seed">
<code data-language="ts">--seed</code> </h3>

<p>Set the random number generator seed.</p>

<h3 id="options-v8-flags">
<code data-language="ts">--v8-flags</code> </h3>

<p>To see a list of all available flags use<code data-language="ts"> --v8-flags=--help</code> Flags can also be set via the DENO_V8_FLAGS environment variable. Any flags set with this flag are appended after the DENO_V8_FLAGS environment variable.</p>

<h2 id="compile-options">Compile options </h2>
<h3 id="compile-options-icon">
<code data-language="ts">--icon</code> </h3>

<p>Set the icon of the executable on Windows (.ico).</p>

<h3 id="compile-options-include">
<code data-language="ts">--include</code> </h3>

<p>Includes an additional module or file/directory in the compiled executable. Use this flag if a dynamically imported module or a web worker main module fails to load in the executable or to embed a file or directory in the executable. This flag can be passed multiple times, to include multiple additional modules.</p>

<h3 id="compile-options-no-terminal">
<code data-language="ts">--no-terminal</code> </h3>

<p>Hide terminal on Windows.</p>

<h3 id="compile-options-output">
<code data-language="ts">--output</code> </h3>
<p>Short flag: <code data-language="ts">-o</code></p>

<p>Output file (defaults to $PWD/<inferred-name>).</inferred-name></p>

<h3 id="compile-options-target">
<code data-language="ts">--target</code> </h3>

<p>Target OS architecture.</p>

</div>
<div>
<h2 id="flags" tabindex="-1">Flags </h2> <p>As with <a href="install.html"><code data-language="ts">deno install</code></a>, the runtime flags used to execute the script must be specified at compilation time. This includes permission flags.</p> <div class="relative">
<pre class="language-sh" tabindex="0"><code data-language="sh">deno compile --allow-read --allow-net jsr:@std/http@1.0.0/file-server
</code></pre>   </div>
<p><a href="../../getting_started/command_line_interface.html#passing-script-arguments">Script arguments</a> can be partially embedded.</p> <div class="relative">
<pre class="language-console" tabindex="0"><code data-language="console">deno compile --allow-read --allow-net jsr:@std/http@1.0.0/file-server -p 8080

./file_server --help
</code></pre>   </div>
<h2 id="cross-compilation" tabindex="-1">Cross Compilation </h2> <p>You can cross-compile binaries for other platforms by using the <code data-language="ts">--target</code> flag.</p> <div class="relative">
<pre class="language-none" tabindex="0"><code data-language="none"># Cross compile for Apple Silicon
deno compile --target aarch64-apple-darwin main.ts

# Cross compile for Windows with an icon
deno compile --target x86_64-pc-windows-msvc --icon ./icon.ico main.ts
</code></pre>   </div>
<h3 id="supported-targets" tabindex="-1">Supported Targets </h3> <p>Deno supports cross compiling to all targets regardless of the host platform.</p> <table> <thead> <tr> <th>OS</th> <th>Architecture</th> <th>Target</th> </tr> </thead> <tbody> <tr> <td>Windows</td> <td>x86_64</td> <td><code data-language="ts">x86_64-pc-windows-msvc</code></td> </tr> <tr> <td>macOS</td> <td>x86_64</td> <td><code data-language="ts">x86_64-apple-darwin</code></td> </tr> <tr> <td>macOS</td> <td>ARM64</td> <td><code data-language="ts">aarch64-apple-darwin</code></td> </tr> <tr> <td>Linux</td> <td>x86_64</td> <td><code data-language="ts">x86_64-unknown-linux-gnu</code></td> </tr> <tr> <td>Linux</td> <td>ARM64</td> <td><code data-language="ts">aarch64-unknown-linux-gnu</code></td> </tr> </tbody> </table> <h2 id="icons" tabindex="-1">Icons </h2> <p>It is possible to add an icon to the executable by using the <code data-language="ts">--icon</code> flag when targeting Windows. The icon must be in the <code data-language="ts">.ico</code> format.</p> <div class="relative">
<pre class="language-none" tabindex="0"><code data-language="none">deno compile --icon icon.ico main.ts

# Cross compilation with icon
deno compile --target x86_64-pc-windows-msvc --icon ./icon.ico main.ts
</code></pre>   </div>
<h2 id="dynamic-imports" tabindex="-1">Dynamic Imports </h2> <p>By default, statically analyzable dynamic imports (imports that have the string literal within the <code data-language="ts">import("...")</code> call expression) will be included in the output.</p> <div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts"><span class="token comment">// calculator.ts and its dependencies will be included in the binary</span>
<span class="token keyword">const</span> calculator <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"./calculator.ts"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
<p>But non-statically analyzable dynamic imports won't:</p> <div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts"><span class="token keyword">const</span> specifier <span class="token operator">=</span> condition <span class="token operator">?</span> <span class="token string">"./calc.ts"</span> <span class="token operator">:</span> <span class="token string">"./better_calc.ts"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> calculator <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span>specifier<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
<p>To include non-statically analyzable dynamic imports, specify an <code data-language="ts">--include &lt;path&gt;</code> flag.</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno compile <span class="token parameter variable">--include</span> calc.ts <span class="token parameter variable">--include</span> better_calc.ts main.ts
</code></pre>   </div>
<h2 id="including-data-files-or-directories" tabindex="-1">Including Data Files or Directories </h2> <p>Starting in Deno 2.1, you can include files or directories in the executable by specifying them via the <code data-language="ts">--include &lt;path&gt;</code> flag.</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno compile <span class="token parameter variable">--include</span> names.csv <span class="token parameter variable">--include</span> data main.ts
</code></pre>   </div>
<p>Then read the file relative to the directory path of the current module via <code data-language="ts">import.meta.dirname</code>:</p> <div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts"><span class="token comment">// main.ts</span>
<span class="token keyword">const</span> names <span class="token operator">=</span> Deno<span class="token punctuation">.</span><span class="token function">readTextFileSync</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>dirname <span class="token operator">+</span> <span class="token string">"/names.csv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> dataFiles <span class="token operator">=</span> Deno<span class="token punctuation">.</span><span class="token function">readDirSync</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>dirname <span class="token operator">+</span> <span class="token string">"/data"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// use names and dataFiles here</span>
</code></pre>   </div>
<p>Note this currently only works for files on the file system and not remote files.</p> <h2 id="workers" tabindex="-1">Workers </h2> <p>Similarly to non-statically analyzable dynamic imports, code for <a href="../web_platform_apis.html#web-workers">workers</a> is not included in the compiled executable by default. There are two ways to include workers:</p> <ol> <li>Use the <code data-language="ts">--include &lt;path&gt;</code> flag to include the worker code.</li> </ol> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno compile <span class="token parameter variable">--include</span> worker.ts main.ts
</code></pre>   </div>
<ol start="2"> <li>Import worker module using a statically analyzable import.</li> </ol> <div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts"><span class="token comment">// main.ts</span>
<span class="token keyword">import</span> <span class="token string">"./worker.ts"</span><span class="token punctuation">;</span>
</code></pre>   </div>
<div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno compile main.ts
</code></pre>   </div>
<h2 id="code-signing" tabindex="-1">Code Signing </h2> <h3 id="macos" tabindex="-1">macOS </h3> <p>By default, on macOS, the compiled executable will be signed using an ad-hoc signature which is the equivalent of running <code data-language="ts">codesign -s -</code>:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">$ deno compile <span class="token parameter variable">-o</span> main main.ts
$ codesign <span class="token parameter variable">--verify</span> <span class="token parameter variable">-vv</span> ./main

./main: valid on disk
./main: satisfies its Designated Requirement
</code></pre>   </div>
<p>You can specify a signing identity when code signing the executable just like you would do with any other macOS executable:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">codesign <span class="token parameter variable">-s</span> <span class="token string">"Developer ID Application: Your Name"</span> ./main
</code></pre>   </div>
<p>Refer to the <a href="https://developer.apple.com/documentation/security/notarizing-macos-software-before-distribution">official documentation</a> for more information on codesigning and notarization on macOS.</p> <h3 id="windows" tabindex="-1">Windows </h3> <p>On Windows, the compiled executable can be signed using the <code data-language="ts">SignTool.exe</code> utility.</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">$ deno compile <span class="token parameter variable">-o</span> main.exe main.ts
$ signtool sign /fd SHA256 main.exe
</code></pre>   </div>
<h2 id="unavailable-in-executables" tabindex="-1">Unavailable in executables </h2> <ul> <li><a href="../web_platform_apis.html#web-storage">Web Storage API</a></li> </ul> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018–2024 the Deno authors<br>Licensed under the MIT License.<br>
    <a href="https://docs.deno.com/runtime/reference/cli/compile" class="_attribution-link">https://docs.deno.com/runtime/reference/cli/compile</a>
  </p>
</div>
