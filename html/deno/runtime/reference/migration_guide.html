<h1>Deno 1.x to 2.x Migration Guide</h1>
<div>
<p>While we’ve accomplished a ton in Deno 1.x, the next major version is focused on using Deno <strong>at scale</strong>. This means seamless interoperability with Node.js and npm JavaScript infrastructure and supporting a wider range of projects and development teams, all without sacrificing the simplicity, security, and “batteries included” nature that developers love.</p> <h2 id="backwards-compatibility-with-node.js-and-npm" tabindex="-1">Backwards compatibility with Node.js and npm </h2> <p>Deno 2 is backwards compatible with Node.js and npm. This allows you to not only run Deno in your current Node.js projects, but also incrementally adopt pieces of Deno's all-in-one toolchain.</p> <p>For example you can use <code data-language="ts">deno install</code> on a Node.js project to install dependencies, run <code data-language="ts">deno fmt</code> to format code without needing Prettier, or use <code data-language="ts">deno lint</code> to checks for common pitfalls instead of using ESLint.</p> <p>Deno 2 understands <code data-language="ts">package.json</code>, <code data-language="ts">node_modules</code> directory and even npm workspaces, allowing you to migrate your existing projects using ESM with little effort.</p> <p><a href="../fundamentals/node.html">Read more on <code data-language="ts">Node.js support</code> page</a></p> <h3 id="long-term-support-releases" tabindex="-1">Long Term Support releases </h3> <p>Starting with Deno v2.1.0 (to be released in November 2024) Deno will offer a LTS (long-term support) channel.</p> <p>An LTS version is supported for 6 months, receiving bug fixes and critical performance fixes, before a new version is promoted to LTS.</p> <p><a href="../fundamentals/stability_and_releases.html#long-term-support-(lts)">Read more on <code data-language="ts">Stability and releases</code> page</a></p> <h2 id="managing-dependencies" tabindex="-1">Managing dependencies </h2> <p>Deno 2 greatly improves dependency management for npm and JSR packages with tools like:</p> <ul> <li><a href="cli/install.html"><code data-language="ts">deno install</code></a></li> <li><a href="cli/add.html"><code data-language="ts">deno add</code></a></li> <li><a href="cli/remove.html"><code data-language="ts">deno remove</code></a></li> </ul> <p>You can expect seemless experience with Deno-first projects using <code data-language="ts">deno.json</code>, Node.js-first project using <code data-language="ts">package.json</code>, as well as hybrid projects using both <code data-language="ts">deno.json</code> and <code data-language="ts">package.json</code> to enable easy migration path.</p> <h2 id="monorepo%2C-workspace-and-private-registries-support" tabindex="-1">Monorepo, workspace and private registries support </h2> <p>Deno 2 was built with development teams working on mission-critical projects in mind. These team work on complex codebases, sharing internal code, often using private registries.</p> <p>With Deno 2 your team can leverage private npm registries, the same way you'd do with Node.js and npm, using an <code data-language="ts">.npmrc</code> file:</p> <div>
<div class="markdownBlockTitle">.npmrc</div>
<div class="relative">
<pre class="language-none" tabindex="0"><code data-language="js">@mycompany:registry=http://mycompany.com:8111/
mycompany.com:8111/:_authToken=token
</code></pre>   </div>
</div>
<p>Learn more about private registry configuration <a href="../fundamentals/node.html#private-registries">on <code data-language="ts">npm packages</code> page</a>.</p> <p>Deno 2 has workspace support, allowing you to mix Deno-first and Node-first packages in the same monorepo, making incremental adoption fast and approachable.</p> <p>Read more <a href="../fundamentals/workspaces.html">on <code data-language="ts">Workspaces and Monorepos</code> page</a>.</p> <h2 id="framework-support" tabindex="-1">Framework support </h2> <p>With improved Node.js and npm compatibility, Deno 2 supports a plethora or user-favorite frameworks like:</p> <ul> <li>Next.js</li> <li>SvelteKit</li> <li>Remix</li> <li>Nuxt</li> <li>TanStack</li> <li>Qwik</li> <li>and more</li> </ul> <p>Most existing project should require minimal or no changes; just replace <code data-language="ts">npm run dev</code> with <code data-language="ts">deno task dev</code> and get on with your work.</p> <p>Deno will provide helpful error messages with suggestions to guide you towards a working solution.</p> <p>You can also use <code data-language="ts">deno lint --fix</code> to automatically fix common incompatibilies.</p> <hr> <p>The following section outline CLI and API changes between Deno 1.x and Deno 2.</p> <h2 id="cli-changes" tabindex="-1">CLI changes </h2> <ul> <li><code data-language="ts">deno bundle</code></li> </ul> <p>The <code data-language="ts">deno bundle</code> command has been removed. We recommend using <a href="https://esbuild.github.io/"><code data-language="ts">esbuild</code></a> together with <a href="https://jsr.io/@luca/esbuild-deno-loader"><code data-language="ts">esbuild-deno-loader</code></a>.</p> <div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> esbuild <span class="token keyword">from</span> <span class="token string">"npm:esbuild"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> denoPlugins <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"jsr:@luca/esbuild-deno-loader"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> esbuild<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">denoPlugins</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  entryPoints<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://deno.land/std@0.185.0/bytes/mod.ts"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  outfile<span class="token operator">:</span> <span class="token string">"./dist/bytes.esm.js"</span><span class="token punctuation">,</span>
  bundle<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  format<span class="token operator">:</span> <span class="token string">"esm"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

esbuild<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
<ul> <li><code data-language="ts">deno cache</code></li> </ul> <p>The <code data-language="ts">deno cache</code> command has been merged into the <code data-language="ts">deno install</code> command under the <code data-language="ts">--entrypoint</code> option.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno cache main.ts
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno install --entrypoint main.ts
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">deno vendor</code></li> </ul> <p>The <code data-language="ts">deno vendor</code> command has been replaced by a <code data-language="ts">"vendor": true</code> configuration option in <code data-language="ts">deno.json</code>.</p> <div>
<div class="markdownBlockTitle">deno.json</div>
<div class="relative">
<pre class="language-json" tabindex="0"><code data-language="json"><span class="token punctuation">{</span>
  <span class="token property">"vendor"</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre>   </div>
</div>
<ul> <li><code data-language="ts">--allow-none</code></li> </ul> <p>Use the <code data-language="ts">--permit-no-files</code> CLI flag instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno test --allow-none
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno test --permit-no-files
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">--jobs</code></li> </ul> <p>Use the <a href="https://docs.deno.com/runtime/manual/basics/env_variables/#special-environment-variables"><code data-language="ts">DENO_JOBS</code></a> environment variable instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno test --jobs=4 --parallel
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> DENO_JOBS=4 deno test --parallel
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">--ts</code></li> </ul> <p>Use the <code data-language="ts">--ext=ts</code> CLI flag instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno run --ts script.ts
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno run --ext=ts script.ts
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno run -T script.ts
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno run --ext=ts script.ts
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">--trace-ops</code></li> </ul> <p>Use the <code data-language="ts">--trace-leaks</code> CLI flag instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno test --trace-ops
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno test --trace-leaks
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">--unstable</code></li> </ul> <p>Use granular unstable flags (<code data-language="ts">--unstable-*</code>) or configuration options instead. See <a href="cli/unstable_flags.html">Unstable Feature Flags</a> for reference.</p> <div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts"><span class="token comment">// kv.ts</span>
<span class="token keyword">const</span> kv <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
</code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno run --unstable kv.ts
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno run --unstable-kv kv.ts
</span></span></code></pre>   </div>
<p>Or</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff">{
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> "unstable": ["kv"]
</span></span>}
</code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#changes-to-how-we-handle-unstable-features">Deno 1.40 Blog Post</a> for details.</p> <h2 id="api-changes" tabindex="-1">API changes </h2> <ul> <li><code data-language="ts">Deno.Buffer</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/buffer/~/Buffer"><code data-language="ts">Buffer</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { Buffer } from "jsr:@std/io/buffer";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const buffer = new Deno.Buffer();
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const buffer = new Buffer();
</span></span>
<span class="token unchanged"><span class="token line"> // ...
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.Closer</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/types/~/Closer"><code data-language="ts">Closer</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { Closer } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(closer: Deno.Closer) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(closer: Closer) {
</span></span><span class="token unchanged"><span class="token line"> // ...  
</span></span>}
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.close()</code></li> </ul> <p>Use the <code data-language="ts">.close()</code> method on the resource instead.</p> <p><a href="#" id="rid">test</a></p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> const conn = await Deno.connect({ port: 80 });
</span></span>
<span class="token unchanged"><span class="token line"> // ...
</span></span>

<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(conn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> conn.close();
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> const file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token unchanged"><span class="token line"> // ...
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.close();
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.Conn.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.conn.html"><code data-language="ts">Deno.Conn</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> const conn = await Deno.connect({ port: 80 });
</span></span>
<span class="token unchanged"><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(conn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.read(buffer);
</span></span>
<span class="token unchanged"><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(conn.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.shutdown(conn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.closeWrite();
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(conn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> conn.close();
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.ConnectTlsOptions.certChain</code></li> </ul> <p>Use the <a href="../../api/deno/~/deno.tlscertifiedkeypem.html#property_cert"><code data-language="ts">cert</code></a> option instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff">const caCert = await Deno.readTextFile("./certs/my_custom_root_CA.pem");
using conn = await Deno.connectTls({
<span class="token unchanged"><span class="token line"> hostname: "192.0.2.1",
</span><span class="token line"> port: 80,
</span><span class="token line"> caCerts: [caCert],
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> certChain: Deno.readTextFileSync("./server.crt"),
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> cert: Deno.readTextFileSync("./server.crt"),
</span></span><span class="token unchanged"><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/pull/22274">deno#22274</a> for details.</p> <ul> <li><code data-language="ts">Deno.ConnectTlsOptions.certFile</code></li> </ul> <p>Use the <a href="../../api/deno/~/deno.tlscertifiedkeypem.html#property_cert"><code data-language="ts">cert</code></a> option instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff">const caCert = await Deno.readTextFile("./certs/my_custom_root_CA.pem");
using conn = await Deno.connectTls({
<span class="token unchanged"><span class="token line"> hostname: "192.0.2.1",
</span><span class="token line"> port: 80,
</span><span class="token line"> caCerts: [caCert],
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> certFile: "./server.crt",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> cert: Deno.readTextFileSync("./server.crt"),
</span></span><span class="token unchanged"><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/pull/22274">deno#22274</a> for details.</p> <ul> <li><code data-language="ts">Deno.ConnectTlsOptions.privateKey</code></li> </ul> <p>Use the <a href="../../api/deno/~/deno.tlscertifiedkeypem.html#property_key"><code data-language="ts">key</code></a> option instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff">const caCert = await Deno.readTextFile("./certs/my_custom_root_CA.pem");
using conn = await Deno.connectTls({
<span class="token unchanged"><span class="token line"> hostname: "192.0.2.1",
</span><span class="token line"> port: 80,
</span><span class="token line"> caCerts: [caCert],
</span><span class="token line"> cert: Deno.readTextFileSync("./server.crt"),
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> keyFile: "./server.key",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/pull/22274">deno#22274</a> for details.</p> <ul> <li><code data-language="ts">Deno.copy()</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/copy/~/copy"><code data-language="ts">copy()</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { copy } from "jsr:@std/io/copy";
</span></span>
<span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.copy(file, Deno.stdout);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await copy(file, Deno.stdout);
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.customInspect</code></li> </ul> <p>Use <code data-language="ts">Symbol.for("Deno.customInspect")</code> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff">class Foo {
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> [Deno.customInspect]() {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> [Symbol.for("Deno.customInspect")] {
</span></span><span class="token unchanged"><span class="token line"> }
</span></span>}
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9294">deno#9294</a> for details.</p> <ul> <li><code data-language="ts">Deno.fdatasync()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.syncdata.html"><code data-language="ts">Deno.FsFile.prototype.syncData()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt", { read: true, write: true });
</span></span>
<span class="token unchanged"><span class="token line"> await file.write(new TextEncoder().encode("Hello, world!"));
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.fdatasync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.syncData();
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">Deno.fdatasyncSync()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.syncdatasync.html"><code data-language="ts">Deno.FsFile.prototype.syncDataSync()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = Deno.openSync("/foo/bar.txt", { read: true, write: true });
</span></span>
<span class="token unchanged"><span class="token line"> file.writeSync(new TextEncoder().encode("Hello, world!"));
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.fdatasyncSync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.syncDataSync();
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">Deno.File</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.html"><code data-language="ts">Deno.FsFile</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(file: Deno.File) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(file: Deno.FsFile) {
</span></span><span class="token unchanged"><span class="token line"> // ...
</span></span>}
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/13661">deno#13661</a> for details.</p> <ul> <li><code data-language="ts">Deno.flock()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.lock.html"><code data-language="ts">Deno.FsFile.prototype.lock()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.flock(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.lock();
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/22178">deno#22178</a> for details.</p> <ul> <li><code data-language="ts">Deno.flockSync()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.locksync.html"><code data-language="ts">Deno.FsFile.prototype.lockSync()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.flockSync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.lockSync();
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/22178">deno#22178</a> for details.</p> <ul> <li><code data-language="ts">Deno.FsFile.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.html"><code data-language="ts">Deno.FsFile</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> const file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token unchanged"><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(file.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.read(buffer);
</span></span>
<span class="token unchanged"><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(file.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.close();
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">Deno.fstatSync()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.statsync.html"><code data-language="ts">Deno.FsFile.prototype.statSync()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const fileInfo = Deno.fstatSync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const fileInfo = file.statSync();
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.fstat()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.stat.html"><code data-language="ts">Deno.FsFile.prototype.stat()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const fileInfo = await Deno.fstat(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const fileInfo = await file.stat();
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.FsWatcher.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fswatcher.html"><code data-language="ts">Deno.FsWatcher</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using watcher = Deno.watchFs("/dir");
</span></span>
<span class="token unchanged"><span class="token line"> // ...
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(watcher.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> watcher.close();
</span></span></code></pre>   </div>
<p>See <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.fsync()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.sync.html"><code data-language="ts">Deno.FsFile.prototype.sync()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt", { read: true, write: true });
</span></span>
<span class="token unchanged"><span class="token line"> await file.write(new TextEncoder().encode("Hello, world!"));
</span><span class="token line"> await file.truncate(1);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.fsync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.sync();
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">Deno.fsyncSync()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.syncsync.html"><code data-language="ts">Deno.FsFile.prototype.syncSync()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = Deno.openSync("/foo/bar.txt", { read: true, write: true });
</span></span>
<span class="token unchanged"><span class="token line"> file.writeSync("new TextEncoder().encode("Hello, world!"));
</span><span class="token line"> file.truncateSync(1);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.fsyncSync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.syncSync();
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">Deno.ftruncateSync()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.truncatesync.html"><code data-language="ts">Deno.FsFile.prototype.truncateSync()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.ftruncateSync(file.rid, 7);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.truncateSync(7);
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.ftruncate()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.truncate.html"><code data-language="ts">Deno.FsFile.prototype.truncate()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.ftruncate(file.rid, 7);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.truncate(7);
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.funlock()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.unlock.html"><code data-language="ts">Deno.FsFile.prototype.unlock()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.funlock(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.unlock();
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/22178">deno#22178</a> for details.</p> <ul> <li><code data-language="ts">Deno.funlockSync()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.unlocksync.html"><code data-language="ts">Deno.FsFile.prototype.unlockSync()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.funlockSync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.unlockSync();
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/22178">deno#22178</a> for details.</p> <ul> <li><code data-language="ts">Deno.futimeSync()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.utimesync.html"><code data-language="ts">Deno.FsFile.prototype.utimeSync()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.futimeSync(file.rid, 1556495550, new Date());
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.utimeSync(1556495550, new Date());
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.futime()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.utime.html"><code data-language="ts">Deno.FsFile.prototype.utime()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.futime(file.rid, 1556495550, new Date());
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.utime(1556495550, new Date());
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.isatty()</code></li> </ul> <p>Use <code data-language="ts">Deno.FsFile.prototype.isTerminal()</code>, <code data-language="ts">Deno.stdin.prototype.isTerminal()</code>, <code data-language="ts">Deno.stdout.prototype.isTerminal()</code> or <code data-language="ts">Deno.stderr.prototype.isTerminal()</code> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/dev/tty6");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.isatty(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.isTerminal();
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.isatty(Deno.stdin.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stdin.isTerminal();
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.isatty(Deno.stdout.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stdout.isTerminal();
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.isatty(Deno.stderr.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stderr.isTerminal();
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.iter()</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/iterate-reader/~/iterateReader"><code data-language="ts">iterateReader()</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { iterateReader } from "jsr:@std/io/iterate-reader";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> for await (const chunk of Deno.iter(Deno.stdout)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> for await (const chunk of iterateReader(Deno.stdout)) {
</span></span><span class="token unchanged"><span class="token line"> // ...
</span></span>}
</code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { iterateReaderSync } from "jsr:@std/io/iterate-reader";
</span></span>
<span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> for await (const chunk of Deno.iter(file)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> for await (const chunk of iterateReader(file)) {
</span></span><span class="token unchanged"><span class="token line"> // ...
</span></span>}
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.iterSync()</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/iterate-reader/~/iterateReaderSync"><code data-language="ts">iterateReaderSync()</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { iterateReaderSync } from "jsr:@std/io/iterate-reader";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> for (const chunk of Deno.iterSync(Deno.stdout)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> for (const chunk of iterateReaderSync(Deno.stdout)) {
</span></span><span class="token unchanged"><span class="token line"> // ...
</span></span>}
</code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { iterateReaderSync } from "jsr:@std/io/iterate-reader";
</span></span>
<span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> for (const chunk of Deno.iterSync(file)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> for (const chunk of iterateReaderSync(file)) {
</span></span><span class="token unchanged"><span class="token line"> // ...
</span></span>}
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.Listener.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.listener.html"><code data-language="ts">Deno.Listener</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> const listener = Deno.listen({ port: 80 })
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(listener.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> listener.close();
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.ListenTlsOptions.certChain</code></li> </ul> <p>Use the <a href="../../api/deno/~/deno.listentlsoptions.html#property_cert"><code data-language="ts">cert</code></a> option instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff">using listener = Deno.listenTls({
<span class="token unchanged"><span class="token line"> port: 443,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> certChain: Deno.readTextFile("./server.crt"),
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> cert: Deno.readTextFile("./server.crt"),
</span></span><span class="token unchanged"><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>   </div>
<ul> <li><code data-language="ts">Deno.ListenTlsOptions.certFile</code></li> </ul> <p>Pass the certificate file contents to the <a href="../../api/deno/~/deno.listentlsoptions.html#property_cert"><code data-language="ts">cert</code></a> option instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff">using listener = Deno.listenTls({
<span class="token unchanged"><span class="token line"> port: 443,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> certFile: "./server.crt",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> cert: Deno.readTextFile("./server.crt"),
</span></span><span class="token unchanged"><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/12639">deno#12639</a> for details.</p> <ul> <li><code data-language="ts">Deno.ListenTlsOptions.keyFile</code></li> </ul> <p>Pass the key file contents to the <a href="../../api/deno/~/deno.listentlsoptions.html#property_key"><code data-language="ts">key</code></a> option instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff">using listener = Deno.listenTls({
<span class="token unchanged"><span class="token line"> port: 443,
</span><span class="token line"> cert: Deno.readTextFile("./server.crt"),
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> keyFile: "./server.key",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/12639">deno#12639</a> for details.</p> <ul> <li><code data-language="ts">Deno.metrics()</code></li> </ul> <p>There is no replacement API for this symbol.</p> <ul> <li><code data-language="ts">Deno.readAllSync()</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/read-all/~/readAllSync"><code data-language="ts">readAllSync()</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { readAllSync } from "jsr:@std/io/read-all";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const data = Deno.readAllSync(Deno.stdin);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const data = readAllSync(Deno.stdin);
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { readAllSync } from "jsr:@std/io/read-all";
</span></span>
<span class="token unchanged"><span class="token line"> using file = Deno.openSync("/foo/bar.txt", { read: true });
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const data = Deno.readAllSync(file);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const data = readAllSync(file);
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.readAll()</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/read-all/~/readAll"><code data-language="ts">readAll()</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { readAll } from "jsr:@std/io/read-all";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const data = await Deno.readAll(Deno.stdin);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const data = await readAll(Deno.stdin);
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { readAll } from "jsr:@std/io/read-all";
</span></span>
<span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt", { read: true });
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const data = await Deno.readAll(file);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const data = await readAll(file);
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.Reader</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/~/Reader"><code data-language="ts">Reader</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { Reader } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(closer: Deno.Reader) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(closer: Reader) {
</span></span><span class="token unchanged"><span class="token line"> // ...  
</span></span>}
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.ReaderSync</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/~/ReaderSync"><code data-language="ts">ReaderSync</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { ReaderSync } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(reader: Deno.ReaderSync) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(reader: ReaderSync) {
</span></span><span class="token unchanged"><span class="token line"> // ...  
</span></span>}
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.readSync()</code></li> </ul> <p>Use the <code data-language="ts">.readSync()</code> method on the resource itself.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using conn = await Deno.connect({ port: 80 });
</span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.readSync(conn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> conn.readSync(buffer);
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.readSync(file.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.readSync(buffer);
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.read()</code></li> </ul> <p>Use the <code data-language="ts">.read()</code> method on the resource itself.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using conn = await Deno.connect({ port: 80 });
</span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(conn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.read(buffer);
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(file.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.read(buffer);
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.resources()</code></li> </ul> <p>There is no replacement API for this symbol, as resource IDs (RIDs) are being phased-out.</p> <ul> <li><code data-language="ts">Deno.run()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.command.html"><code data-language="ts">new Deno.Command()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const process = Deno.run({ cmd: [ "echo", "hello world" ], stdout: "piped" });
</span><span class="token prefix deleted">-</span><span class="token line"> const [{ success }, stdout] = await Promise.all([
</span><span class="token prefix deleted">-</span><span class="token line">   process.status(),
</span><span class="token prefix deleted">-</span><span class="token line">   process.output(),
</span><span class="token prefix deleted">-</span><span class="token line"> ]);
</span><span class="token prefix deleted">-</span><span class="token line"> process.close();
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const command = new Deno.Command("echo", {
</span><span class="token prefix inserted">+</span><span class="token line">   args: ["hello world"]
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span><span class="token prefix inserted">+</span><span class="token line"> const { success, stdout } = await command.output();
</span></span><span class="token unchanged"><span class="token line"> console.log(success);
</span><span class="token line"> console.log(new TextDecoder().decode(stdout));
</span></span></code></pre>   </div>
<p>Note: This symbol is soft-removed as of Deno 2. Its types have been removed but its implementation remains in order to reduce breaking changes. You can ignore "property does not exist" TypeScript errors by using the <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments"><code data-language="ts">@ts-ignore</code></a> directive.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> // @ts-ignore `Deno.run()` is soft-removed as of Deno 2.
</span></span><span class="token unchanged"><span class="token line"> const process = Deno.run({ cmd: [ "echo", "hello world" ], stdout: "piped" });
</span><span class="token line"> const [{ success }, stdout] = await Promise.all([
</span><span class="token line">   process.status(),
</span><span class="token line">   process.output(),
</span><span class="token line"> ]);
</span><span class="token line"> process.close();
</span><span class="token line"> console.log(success);
</span><span class="token line"> console.log(new TextDecoder().decode(stdout));
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/pull/16516">deno#16516</a> for details.</p> <ul> <li><code data-language="ts">Deno.Seeker</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/types/~/Seeker"><code data-language="ts">Seeker</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { Seeker } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(seeker: Deno.Seeker) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(seeker: Seeker) {
</span></span><span class="token unchanged"><span class="token line"> // ...  
</span></span>}
</code></pre>   </div>
<ul> <li><code data-language="ts">Deno.SeekerSync</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/types/~/SeekerSync"><code data-language="ts">SeekerSync</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { SeekerSync } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(seeker: Deno.SeekerSync) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(seeker: SeekerSync) {
</span></span><span class="token unchanged"><span class="token line"> // ...  
</span></span>}
</code></pre>   </div>
<ul> <li><code data-language="ts">Deno.seekSync()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.seeksync.html"><code data-language="ts">Deno.FsFile.prototype.seekSync()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.seekSync(file.rid, 6, Deno.SeekMode.Start);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.seekSync(6, Deno.SeekMode.Start);
</span></span></code></pre>   </div>
<p>See <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.seek()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.fsfile.prototype.seek.html"><code data-language="ts">Deno.FsFile.prototype.seek()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.seek(file.rid, 6, Deno.SeekMode.Start);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.seek(6, Deno.SeekMode.Start);
</span></span></code></pre>   </div>
<p>See <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.serveHttp()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.serve.html"><code data-language="ts">Deno.serve()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const conn = Deno.listen({ port: 80 });
</span><span class="token prefix deleted">-</span><span class="token line"> const httpConn = Deno.serveHttp(await conn.accept());
</span><span class="token prefix deleted">-</span><span class="token line"> const e = await httpConn.nextRequest();
</span><span class="token prefix deleted">-</span><span class="token line"> if (e) {
</span><span class="token prefix deleted">-</span><span class="token line">  e.respondWith(new Response("Hello World"));
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.serve({ port: 80 }, () =&gt; new Response("Hello World"));
</span></span></code></pre>   </div>
<p>Note: This symbol is soft-removed as of Deno 2. Its types have been removed but its implementation remains in order to reduce breaking changes. You can ignore "property does not exist" TypeScript errors by using the <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments"><code data-language="ts">@ts-ignore</code></a> directive.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> const conn = Deno.listen({ port: 80 });
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> // @ts-ignore `Deno.serveHttp()` is soft-removed as of Deno 2.
</span></span><span class="token unchanged"><span class="token line"> const httpConn = Deno.serveHttp(await conn.accept());
</span><span class="token line"> const e = await httpConn.nextRequest();
</span><span class="token line"> if (e) {
</span><span class="token line">  e.respondWith(new Response("Hello World"));
</span><span class="token line"> }
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.35#denoserve-is-now-stable">Deno 1.35 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.Server</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.httpserver.html"><code data-language="ts">Deno.HttpServer</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(server: Deno.Server) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(server: Deno.HttpServer) {
</span></span><span class="token unchanged"><span class="token line"> // ...  
</span></span>}
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/20840">deno#20840</a> for details.</p> <ul> <li><code data-language="ts">Deno.shutdown()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.conn.html#method_closeWrite_0"><code data-language="ts">Deno.Conn.closeWrite()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using conn = await Deno.connect({ port: 80 });
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.shutdown(conn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.closeWrite();
</span></span></code></pre>   </div>
<p>See <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.stderr.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.stderr.html"><code data-language="ts">Deno.stderr</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> if (Deno.isatty(Deno.stderr.rid)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> if (Deno.stderr.isTerminal()) {
</span></span><span class="token unchanged"><span class="token line">   console.log("`Deno.stderr` is a terminal");
</span><span class="token line"> }
</span></span>
<span class="token unchanged"><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(Deno.stderr.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await Deno.stderr.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(Deno.stderr.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stderr.close();
</span></span></code></pre>   </div>
<p>Note: This symbol is soft-removed as of Deno 2. Its types have been removed but its implementation remains in order to reduce breaking changes. You can ignore "property does not exist" TypeScript errors by using the <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments"><code data-language="ts">@ts-ignore</code></a> directive.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> // @ts-ignore `Deno.stderr.rid` is soft-removed as of Deno 2.
</span></span><span class="token unchanged"><span class="token line"> Deno.isatty(Deno.stderr.rid);
</span></span></code></pre>   </div>
<p>See <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.stdin.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.stdin.html"><code data-language="ts">Deno.stdin</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> if (Deno.isatty(Deno.stdin.rid)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> if (Deno.stdin.isTerminal()) {
</span></span><span class="token unchanged"><span class="token line">   console.log("`Deno.stdout` is a terminal");
</span><span class="token line"> }
</span></span>
<span class="token unchanged"><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(Deno.stdin.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await Deno.stdin.write(buffer);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(Deno.stdin.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stdin.close();
</span></span></code></pre>   </div>
<p>Note: This symbol is soft-removed as of Deno 2. Its types have been removed but its implementation remains in order to reduce breaking changes. You can ignore "property does not exist" TypeScript errors by using the <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments"><code data-language="ts">@ts-ignore</code></a> directive.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> // @ts-ignore `Deno.stdin.rid` is soft-removed as of Deno 2.
</span></span><span class="token unchanged"><span class="token line"> Deno.isatty(Deno.stdin.rid);
</span></span></code></pre>   </div>
<p>See <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.stdout.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.stdout.html"><code data-language="ts">Deno.stdout</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> if (Deno.isatty(Deno.stdout.rid)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> if (Deno.stdout.isTerminal()) {
</span></span><span class="token unchanged"><span class="token line">   console.log("`Deno.stdout` is a terminal");
</span><span class="token line"> }
</span></span>
<span class="token unchanged"><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(Deno.stdout.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await Deno.stdout.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(Deno.stdout.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stdout.close();
</span></span></code></pre>   </div>
<p>Note: This symbol is soft-removed as of Deno 2. Its types have been removed but its implementation remains in order to reduce breaking changes. You can ignore "property does not exist" TypeScript errors by using the <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments"><code data-language="ts">@ts-ignore</code></a> directive.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> // @ts-ignore `Deno.stdout.rid` is soft-removed as of Deno 2.
</span></span><span class="token unchanged"><span class="token line"> Deno.isatty(Deno.stdout.rid);
</span></span></code></pre>   </div>
<p>See <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.TcpConn.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.tcpconn.html"><code data-language="ts">Deno.TcpConn</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using tcpConn = await Deno.connect({ port: 80 });
</span></span>
<span class="token unchanged"><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(tcpConn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tcpConn.read(buffer);
</span></span>
<span class="token unchanged"><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(tcpConn.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tcpConn.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.shutdown(tcpConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tcpConn.closeWrite();
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(tcpConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> tcpConn.close();
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.TlsConn.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.tlsconn.html"><code data-language="ts">Deno.TlsConn</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> const caCert = await Deno.readTextFile("./certs/my_custom_root_CA.pem");
</span><span class="token line"> using tlsConn = await Deno.connectTls({ caCerts: [caCert], hostname: "192.0.2.1", port: 80 });
</span></span>
<span class="token unchanged"><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(tlsConn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tlsConn.read(buffer);
</span></span>
<span class="token unchanged"><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(tlsConn.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tlsConn.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.shutdown(tlsConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tlsConn.closeWrite();
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(tlsConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> tlsConn.close();
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.TlsListener.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.tlslistener.html"><code data-language="ts">Deno.TlsListener</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> const listener = Deno.listenTls({
</span><span class="token line">   port: 443,
</span><span class="token line">   cert: Deno.readTextFileSync("./server.crt"),
</span><span class="token line">   key: Deno.readTextFileSync("./server.key"),
</span><span class="token line"> });
</span></span>
<span class="token unchanged"><span class="token line"> // ...
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(listener.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> listener.close();
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.UnixConn.prototype.rid</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.unixconn.html"><code data-language="ts">Deno.UnixConn</code></a> instance methods instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using unixConn = await Deno.connect({ path: "/foo/bar.sock", transport: "unix" });
</span></span>
<span class="token unchanged"><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(unixConn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await unixConn.read(buffer);
</span></span>
<span class="token unchanged"><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(unixConn.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await unixConn.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.shutdown(unixConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await unixConn.closeWrite();
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(unixConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> unixConn.close();
</span></span></code></pre>   </div>
<p>See the <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 blog post</a> for details.</p> <ul> <li><code data-language="ts">Deno.writeAllSync()</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/~/writeAllSync"><code data-language="ts">writeAllSync()</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { writeAllSync } from "jsr:@std/io/write-all";
</span></span>
<span class="token unchanged"><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.writeAllSync(Deno.stdout, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> writeAllSync(Deno.stdout, data);
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.writeAll()</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/~/writeAll"><code data-language="ts">writeAll()</code></a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { writeAll } from "jsr:@std/io/write-all";
</span></span>
<span class="token unchanged"><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.writeAll(Deno.stdout, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await writeAll(Deno.stdout, data);
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.Writer</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/~/Writer">Writer</a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { Writer } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(writer: Deno.Writer) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(writer: Writer) {
</span></span><span class="token unchanged"><span class="token line"> // ...  
</span></span>}
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.WriterSync</code></li> </ul> <p>Use <a href="https://jsr.io/@std/io/doc/~/WriterSync">WriterSync</a> from the Standard Library instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { WriterSync } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(writer: Deno.WriterSync) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(writer: WriterSync) {
</span></span><span class="token unchanged"><span class="token line"> // ...  
</span></span>}
</code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.writeSync()</code></li> </ul> <p>Use the <code data-language="ts">.writeSync()</code> method on the resource itself.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using conn = await Deno.connect({ port: 80 });
</span><span class="token line"> const buffer = new TextEncoder().encode("My message");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.writeSync(conn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> conn.writeSync(buffer);
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = Deno.openSync("/foo/bar.txt", { write: true });
</span><span class="token line"> const buffer = new TextEncoder().encode("My message");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.writeSync(file.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.writeSync(buffer);
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">Deno.write()</code></li> </ul> <p>Use the <code data-language="ts">.write()</code> method on the resource itself.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using conn = await Deno.connect({ port: 80 });
</span><span class="token line"> const buffer = new TextEncoder().encode("My message");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(conn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.write(buffer);
</span></span></code></pre>   </div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> using file = await Deno.open("/foo/bar.txt", { write: true });
</span><span class="token line"> const buffer = new TextEncoder().encode("My message");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(file.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.write(buffer);
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> <ul> <li><code data-language="ts">new Deno.FsFile()</code></li> </ul> <p>Use <a href="../../api/deno/~/deno.opensync.html"><code data-language="ts">Deno.openSync()</code></a> or <a href="../../api/deno/~/deno.open.html"><code data-language="ts">Deno.open()</code></a> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const file = new Deno.FsFile(3);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span></code></pre>   </div>
<ul> <li><code data-language="ts">window</code></li> </ul> <p>Use <code data-language="ts">globalThis</code> instead.</p> <div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff"><span class="token unchanged"><span class="token line"> const messageBuffer = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const hashBuffer = await window.crypto.subtle.digest("SHA-256", messageBuffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const hashBuffer = await globalThis.crypto.subtle.digest("SHA-256", messageBuffer);
</span></span></code></pre>   </div>
<p>See <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a> for details.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018–2024 the Deno authors<br>Licensed under the MIT License.<br>
    <a href="https://docs.deno.com/runtime/reference/migration_guide" class="_attribution-link">https://docs.deno.com/runtime/reference/migration_guide</a>
  </p>
</div>
