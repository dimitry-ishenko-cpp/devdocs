<h1>Command line interface</h1>
<div>
<p>Deno is a command line program. The Deno command line interface (CLI) can be used to run scripts, manage dependencies, and even compile your code into standalone executables. You may be familiar with some simple commands having followed the examples thus far. This page will provide a more detailed overview of the Deno CLI.</p> <p>The Deno CLI has a number of subcommands (like <code data-language="ts">run</code>, <code data-language="ts">init</code> and <code data-language="ts">test</code>, etc.). They are used to perform different tasks within the Deno runtime environment. Each subcommand has its own set of flags and options (eg --version) that can be used to customize its behavior.</p> <p>You can view all of the available commands and flags by running the <code data-language="ts">deno help</code> subcommand in your terminal, or using the <code data-language="ts">-h</code> or <code data-language="ts">--help</code> flags.</p> <p>Check out the <a href="../reference/cli.html">CLI reference guide</a> for a further documentation on all the subcommands and flags available. We'll take a look at a few commands in a bit more detail below to see how they can be used and configured.</p> <h2 id="an-example-subcommand---deno-run" tabindex="-1">An example subcommand - <code data-language="ts">deno run</code> </h2> <p>You can run a local TypeScript or JavaScript file by specifying its path relative to the current working directory:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno run main.ts
</code></pre>   </div>
<p>Deno supports running scripts directly from URLs. This is particularly useful for quickly testing or running code without downloading it first:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno run https://docs.deno.com/examples/hello-world.ts
</code></pre>   </div>
<p>You can also run a script by piping it through standard input. This is useful for integrating with other command-line tools or dynamically generating scripts:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell"><span class="token function">cat</span> main.ts <span class="token operator">|</span> deno run -
</code></pre>   </div>
<h2 id="passing-script-arguments" tabindex="-1">Passing script arguments </h2> <p>Script arguments are additional parameters you can pass to your script when running it from the command line. These arguments can be used to customize the behavior of your program based on the input provided at runtime. Arguments should be passed <strong>after</strong> the script name.</p> <p>To test this out we can make a script that will log the arguments passed to it:</p> <div>
<div class="markdownBlockTitle">main.ts</div>
<div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Deno<span class="token punctuation">.</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<p>When we run that script and pass it some arguments it will log them to the console:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">$ deno run main.ts arg1 arg2 arg3
<span class="token punctuation">[</span> <span class="token string">"arg1"</span>, <span class="token string">"arg2"</span>, <span class="token string">"arg3"</span> <span class="token punctuation">]</span>
</code></pre>   </div>
<h2 id="argument-and-flag-ordering" tabindex="-1">Argument and flag ordering </h2> <p><em>Note that anything passed after the script name will be passed as a script argument and not consumed as a Deno runtime flag.</em> This leads to the following pitfall:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell"><span class="token comment"># Good. We grant net permission to net_client.ts.</span>
deno run --allow-net net_client.ts

<span class="token comment"># Bad! --allow-net was passed to Deno.args, throws a net permission error.</span>
deno run net_client.ts --allow-net
</code></pre>   </div>
<h2 id="common-flags" tabindex="-1">Common flags </h2> <p>Some flags can be used with multiple related subcommands. We discuss these below.</p> <h3 id="watch-mode" tabindex="-1">Watch mode </h3> <p>You can supply the <code data-language="ts">--watch</code> flag to <code data-language="ts">deno run</code>, <code data-language="ts">deno test</code>, <code data-language="ts">deno compile</code>, and <code data-language="ts">deno fmt</code> to enable the built-in file watcher. The watcher enables automatic reloading of your application whenever changes are detected in the source files. This is particularly useful during development, as it allows you to see the effects of your changes immediately without manually restarting the application.</p> <p>The files that are watched will depend on the subcommand used:</p> <ul> <li>for <code data-language="ts">deno run</code>, <code data-language="ts">deno test</code>, and <code data-language="ts">deno compile</code> the entrypoint, and all local files that the entrypoint statically imports will be watched.</li> <li>for <code data-language="ts">deno fmt</code> all local files and directories specified as command line arguments (or the working directory if no specific files/directories is passed) are watched.</li> </ul> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno run <span class="token parameter variable">--watch</span> main.ts
deno <span class="token builtin class-name">test</span> <span class="token parameter variable">--watch</span>
deno <span class="token function">fmt</span> <span class="token parameter variable">--watch</span>
</code></pre>   </div>
<p>You can exclude paths or patterns from watching by providing the <code data-language="ts">--watch-exclude</code> flag. The syntax is <code data-language="ts">--watch-exclude=path1,path2</code>. For example:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno run <span class="token parameter variable">--watch</span> --watch-exclude<span class="token operator">=</span>file1.ts,file2.ts main.ts
</code></pre>   </div>
<p>This will exclude file1.ts and file2.ts from being watched.</p> <p>To exclude a pattern, remember to surround it in quotes to prevent your shell from expanding the glob:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno run <span class="token parameter variable">--watch</span> --watch-exclude<span class="token operator">=</span><span class="token string">'*.js'</span> main.ts
</code></pre>   </div>
<h3 id="hot-module-replacement-mode" tabindex="-1">Hot Module Replacement mode </h3> <p>You can use <code data-language="ts">--watch-hmr</code> flag with <code data-language="ts">deno run</code> to enable the hot module replacement mode. Instead of restarting the program, the runtime will try to update the program in-place. If updating in-place fails, the program will still be restarted.</p> <div class="relative">
<pre class="language-sh" tabindex="0"><code data-language="sh">deno run --watch-hmr main.ts
</code></pre>   </div>
<p>When a hot module replacement is triggered, the runtime will dispatch a <code data-language="ts">CustomEvent</code> of type <code data-language="ts">hmr</code> that will include <code data-language="ts">path</code> property in its <code data-language="ts">detail</code> object. You can listen for this event and perform any additional logic that you need to do when a module is updated (eg. notify a browser over a WebSocket connection).</p> <div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts"><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"hmr"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"HMR triggered"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
<h3 id="integrity-flags-(lock-files)" tabindex="-1">Integrity flags (lock files) </h3> <p>Affect commands which can download resources to the cache: <code data-language="ts">deno install</code>, <code data-language="ts">deno run</code>, <code data-language="ts">deno test</code>, <code data-language="ts">deno doc</code>, and <code data-language="ts">deno compile</code>.</p> <div class="relative">
<pre class="language-sh" tabindex="0"><code data-language="sh"><span class="token parameter variable">--lock</span> <span class="token operator">&lt;</span>FILE<span class="token operator">&gt;</span>    Check the specified lock <span class="token function">file</span>
--frozen<span class="token punctuation">[</span><span class="token operator">=</span><span class="token operator">&lt;</span>BOOLEAN<span class="token operator">&gt;</span><span class="token punctuation">]</span> Error out <span class="token keyword">if</span> lockfile is out of <span class="token function">date</span>
</code></pre>   </div>
<p>Find out more about these <a href="../fundamentals/modules.html#integrity-checking-and-lock-files">here</a>.</p> <h3 id="cache-and-compilation-flags" tabindex="-1">Cache and compilation flags </h3> <p>Affect commands which can populate the cache: <code data-language="ts">deno install</code>, <code data-language="ts">deno run</code>, <code data-language="ts">deno test</code>, <code data-language="ts">deno doc</code>, and <code data-language="ts">deno compile</code>. As well as the flags above, this includes those which affect module resolution, compilation configuration etc.</p> <div class="relative">
<pre class="language-sh" tabindex="0"><code data-language="sh"><span class="token parameter variable">--config</span> <span class="token operator">&lt;</span>FILE<span class="token operator">&gt;</span>               Load configuration <span class="token function">file</span>
--import-map <span class="token operator">&lt;</span>FILE<span class="token operator">&gt;</span>           Load <span class="token function">import</span> map <span class="token function">file</span>
--no-remote                   Do not resolve remote modules
<span class="token parameter variable">--reload</span><span class="token operator">=</span><span class="token operator">&lt;</span>CACHE_BLOCKLIST<span class="token operator">&gt;</span>    Reload <span class="token builtin class-name">source</span> code cache <span class="token punctuation">(</span>recompile TypeScript<span class="token punctuation">)</span>
<span class="token parameter variable">--unstable</span>                    Enable unstable APIs
</code></pre>   </div>
<h3 id="runtime-flags" tabindex="-1">Runtime flags </h3> <p>Affect commands which execute user code: <code data-language="ts">deno run</code> and <code data-language="ts">deno test</code>. These include all of the above as well as the following.</p> <h3 id="type-checking-flags" tabindex="-1">Type checking flags </h3> <p>You can type-check your code (without executing it) using the command:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell"><span class="token operator">&gt;</span> deno check main.ts
</code></pre>   </div>
<p>You can also type-check your code before execution by using the <code data-language="ts">--check</code> argument to deno run:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell"><span class="token operator">&gt;</span> deno run <span class="token parameter variable">--check</span> main.ts
</code></pre>   </div>
<p>This flag affects <code data-language="ts">deno run</code>, <code data-language="ts">deno eval</code>, <code data-language="ts">deno repl</code>. The following table describes the type-checking behavior of various subcommands. Here "Local" means that only errors from local code will induce type-errors, modules imported from https URLs (remote) may have type errors that are not reported. (To turn on type-checking for all modules, use <code data-language="ts">--check=all</code>.)</p> <table> <thead> <tr> <th>Subcommand</th> <th>Type checking mode</th> </tr> </thead> <tbody> <tr> <td><code data-language="ts">deno bench</code></td> <td>📁 Local</td> </tr> <tr> <td><code data-language="ts">deno check</code></td> <td>📁 Local</td> </tr> <tr> <td><code data-language="ts">deno compile</code></td> <td>📁 Local</td> </tr> <tr> <td><code data-language="ts">deno eval</code></td> <td>❌ None</td> </tr> <tr> <td><code data-language="ts">deno repl</code></td> <td>❌ None</td> </tr> <tr> <td><code data-language="ts">deno run</code></td> <td>❌ None</td> </tr> <tr> <td><code data-language="ts">deno test</code></td> <td>📁 Local</td> </tr> </tbody> </table> <h3 id="permission-flags" tabindex="-1">Permission flags </h3> <p>These are listed <a href="../fundamentals/security.html">here</a>.</p> <h3 id="other-runtime-flags" tabindex="-1">Other runtime flags </h3> <p>More flags which affect the execution environment.</p> <div class="relative">
<pre class="language-sh" tabindex="0"><code data-language="sh">--cached-only                Require that remote dependencies are already cached
<span class="token parameter variable">--inspect</span><span class="token operator">=</span><span class="token operator">&lt;</span>HOST:PORT<span class="token operator">&gt;</span>        activate inspector on host:port <span class="token punctuation">..</span>.
--inspect-brk<span class="token operator">=</span><span class="token operator">&lt;</span>HOST:PORT<span class="token operator">&gt;</span>    activate inspector on host:port and <span class="token builtin class-name">break</span> at <span class="token punctuation">..</span>.
--inspect-wait<span class="token operator">=</span><span class="token operator">&lt;</span>HOST:PORT<span class="token operator">&gt;</span>   activate inspector on host:port and <span class="token function">wait</span> <span class="token keyword">for</span> <span class="token punctuation">..</span>.
<span class="token parameter variable">--location</span> <span class="token operator">&lt;</span>HREF<span class="token operator">&gt;</span>            Value of <span class="token string">'globalThis.location'</span> used by some web APIs
<span class="token parameter variable">--prompt</span>                     Fallback to prompt <span class="token keyword">if</span> required permission wasn't passed
<span class="token parameter variable">--seed</span> <span class="token operator">&lt;</span>NUMBER<span class="token operator">&gt;</span>              Seed Math.random<span class="token punctuation">(</span><span class="token punctuation">)</span>
--v8-flags<span class="token operator">=</span><span class="token operator">&lt;</span>v8-flags<span class="token operator">&gt;</span>        Set V8 <span class="token builtin class-name">command</span> line options. For help: <span class="token punctuation">..</span>.
</code></pre>   </div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018–2024 the Deno authors<br>Licensed under the MIT License.<br>
    <a href="https://docs.deno.com/runtime/getting_started/command_line_interface" class="_attribution-link">https://docs.deno.com/runtime/getting_started/command_line_interface</a>
  </p>
</div>
