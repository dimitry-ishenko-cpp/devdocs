<h1>Build a React app with a starter template</h1>
<div>
<p><a href="https://reactjs.org">React</a> is the most widely used JavaScript frontend library.</p> <p>In this tutorial we'll build a simple React app with Deno. The app will display a list of dinosaurs. When you click on one, it'll take you to a dinosaur page with more details. You can see the <a href="https://github.com/denoland/tutorial-with-react-denojson">finished app repo on GitHub</a></p> <p><img src="https://docs.deno.com/runtime/tutorials/images/how-to/react/react-dinosaur-app-demo.gif" alt="demo of the app"></p> <p>This tutorial will use <a href="https://vitejs.dev/">Vite</a> to serve the app locally. Vite is a build tool and development server for modern web projects. It pairs well with React and Deno, leveraging ES modules and allowing you to import React components directly.</p> <h2 id="starter-app" tabindex="-1">Starter app </h2> <p>We've set up a <a href="https://github.com/denoland/react-vite-ts-template">starter template for you to use</a>. This will set up a basic starter app with React, Vite and a deno.json file for you to configure your project. Visit the GitHub repository at <a href="https://github.com/denoland/react-vite-ts-template">https://github.com/denoland/react-vite-ts-template</a> and click the "Use this template" button to create a new repository.</p> <p>Once you have created a new repository from the template, clone it to your local machine and navigate to the project directory.</p> <h2 id="clone-the-repository-locally" tabindex="-1">Clone the repository locally </h2> <div class="relative">
<pre class="language-sh" tabindex="0"><code data-language="sh"><span class="token function">git</span> clone https://github.com/your-username/your-repo-name.git
<span class="token builtin class-name">cd</span> your-repo-name
</code></pre>   </div>
<h2 id="install-the-dependencies" tabindex="-1">Install the dependencies </h2> <p>Install the project dependencies by running:</p> <div class="relative">
<pre class="language-sh" tabindex="0"><code data-language="sh">deno <span class="token function">install</span>
</code></pre>   </div>
<h2 id="run-the-dev-server" tabindex="-1">Run the dev server </h2> <p>Now you can serve your new react app by running:</p> <div class="relative">
<pre class="language-sh" tabindex="0"><code data-language="sh">deno run dev
</code></pre>   </div>
<p>This will start the Vite server, click the output link to localhost to see your app in the browser.</p> <h2 id="about-the-template" tabindex="-1">About the template </h2> <p>The template repository you cloned comes with a basic React app. The app uses Vite as a dev server and provides a static file server built with <a href="https://jsr.io/@oak/oak">oak</a> which will serve the built app when deployed. The React app is in the <code data-language="ts">client</code> folder and the backend server is in the <code data-language="ts">server</code> folder.</p> <p>The <code data-language="ts">deno.json</code> file is used to configure the project and specify the permissions required to run the app, it contains the <code data-language="ts">tasks</code> field which defines the tasks that can be run with <code data-language="ts">deno run</code>. It has a <code data-language="ts">dev</code> task which runs the Vite server and a <code data-language="ts">build</code> task which builds the app with Vite, and a <code data-language="ts">serve</code> task which runs the backend server to serve the built app.</p> <h2 id="add-a-backend-api" tabindex="-1">Add a backend API </h2> <p>We'll build an API into the server provided by the template. This will be where we get our dinosaur data.</p> <p>In the <code data-language="ts">server</code> directory of your new project, create an <code data-language="ts">api</code> folder. In that folder, create a <code data-language="ts">data.json</code>, which will contain the hard coded dinosaur data.</p> <p>Copy and paste <a href="https://github.com/denoland/tutorial-with-react/blob/main/api/data.json">this json file</a> into the <code data-language="ts">api/data.json</code> file. (If you were building a real app, you would probably fetch this data from a database or an external API.)</p> <p>We're going to build out some API routes that return dinosaur information into the server that came with the template, we'll need the <a href="https://jsr.io/@tajpouria/cors"><code data-language="ts">cors</code> middleware</a> to enable <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">CORS</a>.</p> <p>Use the <code data-language="ts">deno install</code> command to add the cors dependency to your project:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno <span class="token function">install</span> jsr:@tajpouria/cors
</code></pre>   </div>
<p>Next, update <code data-language="ts">server/main.ts</code> to import the required modules and create a new <code data-language="ts">Router</code> instance to define some routes:</p> <div>
<div class="markdownBlockTitle">main.ts</div>
<div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> Application <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"jsr:@oak/oak/application"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"jsr:@oak/oak/router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> oakCors <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@tajpouria/cors"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> routeStaticFilesFrom <span class="token keyword">from</span> <span class="token string">"./util/routeStaticFilesFrom.ts"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> data <span class="token keyword">from</span> <span class="token string">"./api/data.json"</span> <span class="token keyword">with</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">"json"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Application</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<p>After this, in the same file, we'll define two routes. One at <code data-language="ts">/api/dinosaurs</code> to return all the dinosaurs, and <code data-language="ts">/api/dinosaurs/:dinosaur</code> to return a specific dinosaur based on the name in the URL:</p> <div>
<div class="markdownBlockTitle">main.ts</div>
<div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts">router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/api/dinosaurs"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  context<span class="token punctuation">.</span>response<span class="token punctuation">.</span>body <span class="token operator">=</span> data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"/api/dinosaurs/:dinosaur"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>context<span class="token operator">?.</span>params<span class="token operator">?.</span>dinosaur<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    context<span class="token punctuation">.</span>response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">"No dinosaur name provided."</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> dinosaur <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    item<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> context<span class="token punctuation">.</span>params<span class="token punctuation">.</span>dinosaur<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span>response<span class="token punctuation">.</span>body <span class="token operator">=</span> dinosaur <span class="token operator">??</span> <span class="token string">"No dinosaur found."</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<p>At the bottom of the same file, attach the routes we just defined to the application. We also must include the the static file server from the template, and finally we'll start the server listening on port 8000:</p> <div>
<div class="markdownBlockTitle">main.ts</div>
<div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">oakCors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span><span class="token function">routes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span><span class="token function">allowedMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">routeStaticFilesFrom</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Deno<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/client/dist</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Deno<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/client/public</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>main<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Server listening on port http://localhost:8000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">{</span> port<span class="token operator">:</span> <span class="token number">8000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>   </div>
</div>
<p>You can run the API server with <code data-language="ts">deno run --allow-env --allow-net server/main.ts</code>. We'll create a task to run this command in the background and update the dev task to run both the React app and the API server.</p> <p>In your <code data-language="ts">package.json</code> file, update the <code data-language="ts">scripts</code> field to include the following:</p> <div>
<div class="markdownBlockTitle">deno.json</div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff">{
<span class="token unchanged"><span class="token line"> "tasks": {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   "dev": "deno run -A --node-modules-dir=auto npm:vite &amp; deno run server:start",
</span></span><span class="token unchanged"><span class="token line">   "build": "deno run -A --node-modules-dir=auto npm:vite build",
</span><span class="token line">   "server:start": "deno run -A --node-modules-dir --watch ./server/main.ts",
</span><span class="token line">   "serve": "deno run build &amp;&amp; deno run server:start"
</span></span>}
</code></pre>   </div>
</div>
<p>If you run <code data-language="ts">deno run dev</code> now and visit <code data-language="ts">localhost:8000/api/dinosaurs</code>, in your browser you should see a JSON response of all of the dinosaurs.</p> <h2 id="update-the-entrypoint" tabindex="-1">Update the entrypoint </h2> <p>The entrypoint for the React app is in the <code data-language="ts">client/src/main.tsx</code> file. Ours is going to be very basic:</p> <div>
<div class="markdownBlockTitle">main.tsx</div>
<div class="relative">
<pre class="language-tsx" tabindex="0"><code data-language="tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> StrictMode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRoot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-dom/client"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">"./index.css"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">"./App.tsx"</span><span class="token punctuation">;</span>

<span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">StrictMode</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">StrictMode</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<h2 id="add-a-router" tabindex="-1">Add a router </h2> <p>The app will have two routes: <code data-language="ts">/</code> and <code data-language="ts">/:dinosaur</code>.</p> <p>We'll use <a href="https://reactrouter.com/en/main"><code data-language="ts">react-router-dom</code></a> to build out some routing logic, so we'll need to add the <code data-language="ts">react-router-dom</code> dependency to your project. In the project root run:</p> <div class="relative">
<pre class="language-shell" tabindex="0"><code data-language="shell">deno <span class="token function">install</span> npm:react-router-dom
</code></pre>   </div>
<p>Update the <code data-language="ts">/src/App.tsx</code> file to import and use the <a href="https://reactrouter.com/en/main/router-components/browser-router"><code data-language="ts">BrowserRouter</code></a> component from <code data-language="ts">react-router-dom</code> and define the two routes:</p> <div>
<div class="markdownBlockTitle">App.tsx</div>
<div class="relative">
<pre class="language-tsx" tabindex="0"><code data-language="tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-router-dom"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Index <span class="token keyword">from</span> <span class="token string">"./pages/index.tsx"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Dinosaur <span class="token keyword">from</span> <span class="token string">"./pages/Dinosaur.tsx"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">"./App.css"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">BrowserRouter</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Routes</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">element</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Index</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/:selectedDinosaur<span class="token punctuation">"</span></span> <span class="token attr-name">element</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Dinosaur</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Routes</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">BrowserRouter</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<h2 id="proxy-to-forward-the-api-requests" tabindex="-1">Proxy to forward the api requests </h2> <p>Vite will be serving the application on port <code data-language="ts">3000</code> while our api is running on port <code data-language="ts">8000</code>. Therefore, we'll need to set up a proxy to allow the <code data-language="ts">api/</code> paths to be reachable by the router. Add a proxy setting to the <code data-language="ts">vite.config.ts</code>:</p> <div>
<div class="markdownBlockTitle">vite.config.ts</div>
<div class="relative">
<pre class="language-diff" tabindex="0"><code data-language="diff">export default defineConfig({
<span class="token unchanged"><span class="token line"> root: "./client",
</span><span class="token line"> server: {
</span><span class="token line">   port: 3000,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   proxy: {
</span><span class="token prefix inserted">+</span><span class="token line">     "/api": {
</span><span class="token prefix inserted">+</span><span class="token line">       target: "http://localhost:8000",
</span><span class="token prefix inserted">+</span><span class="token line">       changeOrigin: true,
</span><span class="token prefix inserted">+</span><span class="token line">     },
</span><span class="token prefix inserted">+</span><span class="token line">   },
</span></span></code></pre>   </div>
</div>
<h2 id="create-the-pages" tabindex="-1">Create the pages </h2> <p>We'll create two pages: <code data-language="ts">Index</code> and <code data-language="ts">Dinosaur</code>. The <code data-language="ts">Index</code> page will list all the dinosaurs and the <code data-language="ts">Dinosaur</code> page will show details of a specific dinosaur.</p> <p>Create a <code data-language="ts">pages</code> folder in the <code data-language="ts">src</code> directory and inside that create two files: <code data-language="ts">index.tsx</code> and <code data-language="ts">Dinosaur.tsx</code>.</p> <h3 id="types" tabindex="-1">Types </h3> <p>Both pages will use the <code data-language="ts">Dino</code> type to describe the shape of data they're expecting from the API, so let's create a <code data-language="ts">types.ts</code> file in the <code data-language="ts">src</code> directory:</p> <div>
<div class="markdownBlockTitle">types.ts</div>
<div class="relative">
<pre class="language-ts" tabindex="0"><code data-language="ts"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">Dino</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> description<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<h3 id="index.tsx" tabindex="-1">index.tsx </h3> <p>This page will fetch the list of dinosaurs from the API and render them as links:</p> <div>
<div class="markdownBlockTitle">index.tsx</div>
<div class="relative">
<pre class="language-tsx" tabindex="0"><code data-language="tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-router-dom"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Dino <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../types.ts"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>dinosaurs<span class="token punctuation">,</span> setDinosaurs<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>Dino<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/dinosaurs/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> allDinosaurs <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Dino<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token function">setDinosaurs</span><span class="token punctuation">(</span>allDinosaurs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Welcome to the Dinosaur app</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Click on a dinosaur below to learn more.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>dinosaurs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dinosaur<span class="token operator">:</span> Dino<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span>
            <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dinosaur<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>
            <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dinosaur<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span>
            <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dinosaur<span class="token punctuation">"</span></span>
          <span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>dinosaur<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>   </div>
</div>
<h3 id="dinosaur.tsx" tabindex="-1">Dinosaur.tsx </h3> <p>This page will fetch the details of a specific dinosaur from the API and render it in a paragraph:</p> <div>
<div class="markdownBlockTitle">Dinosaur.tsx</div>
<div class="relative">
<pre class="language-tsx" tabindex="0"><code data-language="tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span> useParams <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-router-dom"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Dino <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../types"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Dinosaur</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> selectedDinosaur <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>dinosaur<span class="token punctuation">,</span> setDino<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>Dino<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span> description<span class="token operator">:</span> <span class="token string">""</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> resp <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/api/dinosaurs/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>selectedDinosaur<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> dino <span class="token operator">=</span> <span class="token keyword">await</span> resp<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Dino<span class="token punctuation">;</span>
      <span class="token function">setDino</span><span class="token punctuation">(</span>dino<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>selectedDinosaur<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>dinosaur<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>dinosaur<span class="token punctuation">.</span>description<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">🠠 Back to all dinosaurs</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>   </div>
</div>
<h3 id="styling-the-list-of-dinosaurs" tabindex="-1">Styling the list of dinosaurs </h3> <p>Since we are displaying the list of dinosaurs on the main page, let's do some basic formatting. Add the following to the bottom of <code data-language="ts">src/App.css</code> to display our list of dinosaurs in an orderly fashion:</p> <div>
<div class="markdownBlockTitle">src/App.css</div>
<div class="relative">
<pre class="language-css" tabindex="0"><code data-language="css"><span class="token selector">.dinosaur</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>   </div>
</div>
<h2 id="run-the-app" tabindex="-1">Run the app </h2> <p>To run the app use the task you set up earlier</p> <div class="relative">
<pre class="language-sh" tabindex="0"><code data-language="sh">deno run dev
</code></pre>   </div>
<p>Navigate to the local Vite server in your browser (<code data-language="ts">localhost:5173</code>) and you should see the list of dinosaurs displayed which you can click through to find out about each one.</p> <p><img src="https://docs.deno.com/runtime/tutorials/images/how-to/react/react-dinosaur-app-demo.gif" alt="demo of the app"></p> <h2 id="build-and-deploy" tabindex="-1">Build and deploy </h2> <p>The template you cloned comes with a <code data-language="ts">serve</code> task that builds the app and serves it with the backend server. Run the following command to build and serve the app:</p> <div class="relative">
<pre class="language-sh" tabindex="0"><code data-language="sh">deno run serve
</code></pre>   </div>
<p>If you visit <code data-language="ts">localhost:8000</code> in your browser you should see the app running!</p> <p>You can deploy this app to your favourite cloud provider. We recommend using <a href="https://deno.com/deploy">Deno Deploy</a> for a simple and easy deployment experience.</p> <p>To deploy to Deno Deploy, visit the <a href="https://dash.deno.com">Deno Deploy dashboard</a> and create a new project. You can then deploy the app by connecting your GitHub repository and selecting the branch you want to deploy.</p> <p>Give the project a name, and make sure that the <code data-language="ts">build step</code> is set to <code data-language="ts">deno run build</code> and the <code data-language="ts">Entrypoint</code> is <code data-language="ts">./server.main.ts</code>.</p> <p>Click the <code data-language="ts">Deploy Project</code> button and your app will be live!</p> <p>🦕 Now you can scaffold and develop a React app with Vite and Deno! You’re ready to build blazing-fast web applications. We hope you enjoy exploring these cutting-edge tools, we can't wait to see what you make!</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018–2024 the Deno authors<br>Licensed under the MIT License.<br>
    <a href="https://docs.deno.com/runtime/tutorials/how_to_with_npm/react" class="_attribution-link">https://docs.deno.com/runtime/tutorials/how_to_with_npm/react</a>
  </p>
</div>
