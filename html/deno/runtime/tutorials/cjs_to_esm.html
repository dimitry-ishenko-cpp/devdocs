<h1>Updating from CommonJS to ESM</h1>
<div>
<p>If your Node.js project uses CommonJS modules (e.g. it uses <code data-language="ts">require</code>), you'll need to update your code to use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">ECMAScript modules (ESM)</a> to run it in Deno. This guide will help you update your code to use ESM syntax.</p> <h2 id="module-imports-and-exports" tabindex="-1">Module imports and exports </h2> <p>Deno supports <a href="../fundamentals/modules.html">ECMAScript modules</a> exclusively. If your Node.js code uses <a href="https://nodejs.org/api/modules.html#modules-commonjs-modules"><code data-language="ts">require</code></a>, you should update it to use <code data-language="ts">import</code> statements instead. If your internal code uses CommonJS-style exports, those will also need to be updated.</p> <p>A typical CommonJS-style project might look similar to this:</p> <div>
<div class="markdownBlockTitle">add_numbers.js</div>
<div class="relative">
<pre class="language-js" tabindex="0"><code data-language="js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">addNumbers</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<div>
<div class="markdownBlockTitle">index.js</div>
<div class="relative">
<pre class="language-js" tabindex="0"><code data-language="js"><span class="token keyword">const</span> addNumbers <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./add_numbers"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">addNumbers</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<p>To convert these to <a href="../fundamentals/modules.html">ECMAScript modules</a>, we'll make a few minor changes:</p> <div>
<div class="markdownBlockTitle">add_numbers.js</div>
<div class="relative">
<pre class="language-js" tabindex="0"><code data-language="js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">addNumbers</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>   </div>
</div>
<div>
<div class="markdownBlockTitle">index.js</div>
<div class="relative">
<pre class="language-js" tabindex="0"><code data-language="js"><span class="token keyword">import</span> <span class="token punctuation">{</span> addNumbers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./add_numbers.js"</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">addNumbers</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div>
<p>Exports:</p> <table> <thead> <tr> <th>CommonJS</th> <th>ECMAScript modules</th> </tr> </thead> <tbody> <tr> <td><code data-language="ts">module.exports = function add() {}</code></td> <td><code data-language="ts">export default function add() {}</code></td> </tr> <tr> <td><code data-language="ts">exports.add = function add() {}</code></td> <td><code data-language="ts">export function add() {}</code></td> </tr> </tbody> </table> <p>Imports:</p> <table> <thead> <tr> <th>CommonJS</th> <th>ECMAScript modules</th> </tr> </thead> <tbody> <tr> <td><code data-language="ts">const add = require("./add_numbers");</code></td> <td><code data-language="ts">import add from "./add_numbers.js";</code></td> </tr> <tr> <td><code data-language="ts">const { add } = require("./add_numbers")</code></td> <td><code data-language="ts">import { add } from "./add_numbers.js"</code></td> </tr> </tbody> </table> <h3 id="quick-fix-with-vs-code" tabindex="-1">Quick fix with VS Code </h3> <p>If you are using VS Code, you can use its built-in feature to convert CommonJS to ES6 modules. Right-click on the <code data-language="ts">require</code> statement, or the lightbulb icon and select <code data-language="ts">Quick Fix</code> and then <code data-language="ts">Convert to ES module</code>.</p> <p><img src="data:image/png;base64,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" alt="Quick Fix"></p> <h3 id="commonjs-vs-ecmascript-resolution" tabindex="-1">CommonJS vs ECMAScript resolution </h3> <p>An important distinction between the two module systems is that ECMAScript resolution requires the full specifier <strong>including the file extension</strong>. Omitting the file extension, and special handling of <code data-language="ts">index.js</code>, are features unique to CommonJS. The benefit of the ECMAScript resolution is that it works the same across the browser, Deno, and other runtimes.</p> <table> <thead> <tr> <th>CommonJS</th> <th>ECMAScript modules</th> </tr> </thead> <tbody> <tr> <td><code data-language="ts">"./add_numbers"</code></td> <td><code data-language="ts">"./add_numbers.js"</code></td> </tr> <tr> <td><code data-language="ts">"./some/directory"</code></td> <td><code data-language="ts">"./some/directory/index.js"</code></td> </tr> </tbody> </table> 
<div class="admonition tip"> <div class="title">Tip</div>  <p>Deno can add all the missing file extensions for you by running <code data-language="ts">deno lint --fix</code>. Deno's linter comes with a <code data-language="ts">no-sloppy-imports</code> rule that will show a linting error when an import path doesn't contain the file extension.</p> 
</div>  <p>ðŸ¦• Now that you know how to port from CJS to ESM you can take advantage of the modern features that ESM offers, such as async module loading, interop with browsers, better readability, standardization and future proofing.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018â€“2024 the Deno authors<br>Licensed under the MIT License.<br>
    <a href="https://docs.deno.com/runtime/tutorials/cjs_to_esm" class="_attribution-link">https://docs.deno.com/runtime/tutorials/cjs_to_esm</a>
  </p>
</div>
