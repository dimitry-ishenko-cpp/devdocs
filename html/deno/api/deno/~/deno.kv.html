<h1 class="text-2xl leading-none break-all"> <span class="text-Class">class</span> <span class="font-bold">Deno.Kv</span> </h1>
<article> <div> <div> <div class="symbolSubtitle"><div> <span class="type"> implements </span><span>Disposable</span>
</div></div>
<div class="space-x-2 !mt-2">
<div class="text-unstable border border-unstable/50 bg-unstable/5 inline-flex items-center gap-0.5 *:flex-none rounded-md leading-none font-bold py-2 px-3">Unstable</div> </div>
</div>
</div>
<div>
<div class="space-y-7" id="">
<div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>A key-value database that can be used to store and retrieve data.</p> <p>Data is stored as key-value pairs, where the key is a <a href="deno.kvkey.html"><code data-language="ts">Deno.KvKey</code></a> and the value is an arbitrary structured-serializable JavaScript value. Keys are ordered lexicographically as described in the documentation for <a href="deno.kvkey.html"><code data-language="ts">Deno.KvKey</code></a>. Keys are unique within a database, and the last value set for a given key is the one that is returned when reading the key. Keys can be deleted from the database, in which case they will no longer be returned when reading keys.</p> <p>Values can be any structured-serializable JavaScript value (objects, arrays, strings, numbers, etc.). The special value <a href="deno.kvu64.html"><code data-language="ts">Deno.KvU64</code></a> can be used to store 64-bit unsigned integers in the database. This special value can not be nested within other objects or arrays. In addition to the regular database mutation operations, the unsigned 64-bit integer value also supports <code data-language="ts">sum</code>, <code data-language="ts">max</code>, and <code data-language="ts">min</code> mutations.</p> <p>Keys are versioned on write by assigning the key an ever-increasing "versionstamp". The versionstamp represents the version of a key-value pair in the database at some point in time, and can be used to perform transactional operations on the database without requiring any locking. This is enabled by atomic operations, which can have conditions that ensure that the operation only succeeds if the versionstamp of the key-value pair matches an expected versionstamp.</p> <p>Keys have a maximum length of 2048 bytes after serialization. Values have a maximum length of 64 KiB after serialization. Serialization of both keys and values is somewhat opaque, but one can usually assume that the serialization of any value is about the same length as the resulting string of a JSON serialization of that same value. If theses limits are exceeded, an exception will be thrown.</p> </div>
<section class="section" id="methods"> <div> <h2 class="anchorable mb-1">
 Methods</h2>
</div>
<div class="space-y-8">
<div class="anchorable docEntry" id="method_symbol_dispose_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">[Symbol.dispose](): void</code> </div>
</div>
</div> <div class="anchorable docEntry" id="method_atomic_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">atomic(): AtomicOperation</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Create a new <a href="deno.atomicoperation.html"><code data-language="ts">Deno.AtomicOperation</code></a> object which can be used to perform an atomic transaction on the database. This does not perform any operations on the database - the atomic transaction must be committed explicitly using the <code data-language="ts">Deno.AtomicOperation.commit</code> method once all checks and mutations have been added to the operation.</p> </div></div>
</div> <div class="anchorable docEntry" id="method_close_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">close(): void</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Close the database connection. This will prevent any further operations from being performed on the database, and interrupt any in-flight operations immediately.</p> </div></div>
</div> <div class="anchorable docEntry" id="method_commitversionstamp_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">commitVersionstamp(): symbol</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Get a symbol that represents the versionstamp of the current atomic operation. This symbol can be used as the last part of a key in <code data-language="ts">.set()</code>, both directly on the <code data-language="ts">Kv</code> object and on an <code data-language="ts">AtomicOperation</code> object created from this <code data-language="ts">Kv</code> instance.</p> </div></div>
</div> <div class="anchorable docEntry" id="method_delete_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">delete(key: KvKey): Promise&lt;void&gt;</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Delete the value for the given key from the database. If no value exists for the key, this operation is a no-op.</p> <div class="relative">
<pre><code data-language="ts"><span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div></div>
</div> <div class="anchorable docEntry" id="method_enqueue_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">enqueue(value: unknown,options?: { delay?: number; keysIfUndelivered?: KvKey[]; backoffSchedule?: number[];  },): Promise&lt;KvCommitResult&gt;</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Add a value into the database queue to be delivered to the queue listener via <code data-language="ts">Deno.Kv.listenQueue</code>.</p> <div class="relative">
<pre><code data-language="ts"><span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token string">"bar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
<p>The <code data-language="ts">delay</code> option can be used to specify the delay (in milliseconds) of the value delivery. The default delay is 0, which means immediate delivery.</p> <div class="relative">
<pre><code data-language="ts"><span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token string">"bar"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> delay<span class="token operator">:</span> <span class="token number">60000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
<p>The <code data-language="ts">keysIfUndelivered</code> option can be used to specify the keys to be set if the value is not successfully delivered to the queue listener after several attempts. The values are set to the value of the queued message.</p> <p>The <code data-language="ts">backoffSchedule</code> option can be used to specify the retry policy for failed message delivery. Each element in the array represents the number of milliseconds to wait before retrying the delivery. For example, <code data-language="ts">[1000, 5000, 10000]</code> means that a failed delivery will be retried at most 3 times, with 1 second, 5 seconds, and 10 seconds delay between each retry.</p> <div class="relative">
<pre><code data-language="ts"><span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token string">"bar"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  keysIfUndelivered<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">,</span> <span class="token string">"bar"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  backoffSchedule<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div></div>
</div> <div class="anchorable docEntry" id="method_get_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">get&lt;T = unknown&gt;(key: KvKey,options?: { consistency?: KvConsistencyLevel;  },): Promise&lt;KvEntryMaybe&lt;T&gt;&gt;</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Retrieve the value and versionstamp for the given key from the database in the form of a <a href="deno.kventrymaybe.html"><code data-language="ts">Deno.KvEntryMaybe</code></a>. If no value exists for the key, the returned entry will have a <code data-language="ts">null</code> value and versionstamp.</p> <div class="relative">
<pre><code data-language="ts"><span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
result<span class="token punctuation">.</span>key<span class="token punctuation">;</span> <span class="token comment">// ["foo"]</span>
result<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// "bar"</span>
result<span class="token punctuation">.</span>versionstamp<span class="token punctuation">;</span> <span class="token comment">// "00000000000000010000"</span>
</code></pre>   </div>
<p>The <code data-language="ts">consistency</code> option can be used to specify the consistency level for the read operation. The default consistency level is "strong". Some use cases can benefit from using a weaker consistency level. For more information on consistency levels, see the documentation for <a href="deno.kvconsistencylevel.html"><code data-language="ts">Deno.KvConsistencyLevel</code></a>.</p> </div></div>
</div> <div class="anchorable docEntry" id="method_getmany_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">getMany&lt;T extends readonly unknown[]&gt;(keys: readonly [...[K in keyof T]: KvKey],options?: { consistency?: KvConsistencyLevel;  },): Promise&lt;[K in keyof T]: KvEntryMaybe&lt;T[K]&gt;&gt;</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Retrieve multiple values and versionstamps from the database in the form of an array of <a href="deno.kventrymaybe.html"><code data-language="ts">Deno.KvEntryMaybe</code></a> objects. The returned array will have the same length as the <code data-language="ts">keys</code> array, and the entries will be in the same order as the keys. If no value exists for a given key, the returned entry will have a <code data-language="ts">null</code> value and versionstamp.</p> <div class="relative">
<pre><code data-language="ts"><span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">getMany</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"baz"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span> <span class="token comment">// ["foo"]</span>
result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// "bar"</span>
result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>versionstamp<span class="token punctuation">;</span> <span class="token comment">// "00000000000000010000"</span>
result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span> <span class="token comment">// ["baz"]</span>
result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// null</span>
result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>versionstamp<span class="token punctuation">;</span> <span class="token comment">// null</span>
</code></pre>   </div>
<p>The <code data-language="ts">consistency</code> option can be used to specify the consistency level for the read operation. The default consistency level is "strong". Some use cases can benefit from using a weaker consistency level. For more information on consistency levels, see the documentation for <a href="deno.kvconsistencylevel.html"><code data-language="ts">Deno.KvConsistencyLevel</code></a>.</p> </div></div>
</div> <div class="anchorable docEntry" id="method_list_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">list&lt;T = unknown&gt;(selector: KvListSelector,options?: KvListOptions,): KvListIterator&lt;T&gt;</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Retrieve a list of keys in the database. The returned list is an <a href="deno.kvlistiterator.html"><code data-language="ts">Deno.KvListIterator</code></a> which can be used to iterate over the entries in the database.</p> <p>Each list operation must specify a selector which is used to specify the range of keys to return. The selector can either be a prefix selector, or a range selector:</p> <ul> <li>A prefix selector selects all keys that start with the given prefix of key parts. For example, the selector <code data-language="ts">["users"]</code> will select all keys that start with the prefix <code data-language="ts">["users"]</code>, such as <code data-language="ts">["users", "alice"]</code> and <code data-language="ts">["users", "bob"]</code>. Note that you can not partially match a key part, so the selector <code data-language="ts">["users", "a"]</code> will not match the key <code data-language="ts">["users", "alice"]</code>. A prefix selector may specify a <code data-language="ts">start</code> key that is used to skip over keys that are lexicographically less than the start key.</li> <li>A range selector selects all keys that are lexicographically between the given start and end keys (including the start, and excluding the end). For example, the selector <code data-language="ts">["users", "a"], ["users", "n"]</code> will select all keys that start with the prefix <code data-language="ts">["users"]</code> and have a second key part that is lexicographically between <code data-language="ts">a</code> and <code data-language="ts">n</code>, such as <code data-language="ts">["users", "alice"]</code>, <code data-language="ts">["users", "bob"]</code>, and <code data-language="ts">["users", "mike"]</code>, but not <code data-language="ts">["users", "noa"]</code> or <code data-language="ts">["users", "zoe"]</code>.</li> </ul> <div class="relative">
<pre><code data-language="ts"><span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> entries <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"users"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> entry <span class="token keyword">of</span> entries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">.</span>key<span class="token punctuation">;</span> <span class="token comment">// ["users", "alice"]</span>
  entry<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// { name: "Alice" }</span>
  entry<span class="token punctuation">.</span>versionstamp<span class="token punctuation">;</span> <span class="token comment">// "00000000000000010000"</span>
<span class="token punctuation">}</span>
</code></pre>   </div>
<p>The <code data-language="ts">options</code> argument can be used to specify additional options for the list operation. See the documentation for <a href="deno.kvlistoptions.html"><code data-language="ts">Deno.KvListOptions</code></a> for more information.</p> </div></div>
</div> <div class="anchorable docEntry" id="method_listenqueue_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">listenQueue(handler: (value: any) =&gt; Promise&lt;void&gt; | void): Promise&lt;void&gt;</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Listen for queue values to be delivered from the database queue, which were enqueued with <code data-language="ts">Deno.Kv.enqueue</code>. The provided handler callback is invoked on every dequeued value. A failed callback invocation is automatically retried multiple times until it succeeds or until the maximum number of retries is reached.</p> <div class="relative">
<pre><code data-language="ts"><span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">listenQueue</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>msg<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
</div></div>
</div> <div class="anchorable docEntry" id="method_set_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">set(key: KvKey,value: unknown,options?: { expireIn?: number;  },): Promise&lt;KvCommitResult&gt;</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Set the value for the given key in the database. If a value already exists for the key, it will be overwritten.</p> <div class="relative">
<pre><code data-language="ts"><span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"bar"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>   </div>
<p>Optionally an <code data-language="ts">expireIn</code> option can be specified to set a time-to-live (TTL) for the key. The TTL is specified in milliseconds, and the key will be deleted from the database at earliest after the specified number of milliseconds have elapsed. Once the specified duration has passed, the key may still be visible for some additional time. If the <code data-language="ts">expireIn</code> option is not specified, the key will not expire.</p> </div></div>
</div> <div class="anchorable docEntry" id="method_watch_0"> <div class="docEntryHeader"> <div>
<code data-language="ts">watch&lt;T extends readonly unknown[]&gt;(keys: readonly [...[K in keyof T]: KvKey],options?: { raw?: boolean;  },): ReadableStream&lt;[K in keyof T]: KvEntryMaybe&lt;T[K]&gt;&gt;</code> </div>
</div>
<div class="max-w-[75ch]"><div data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" class="markdown-body">
<p>Watch for changes to the given keys in the database. The returned stream is a <code data-language="ts">ReadableStream</code> that emits a new value whenever any of the watched keys change their versionstamp. The emitted value is an array of <a href="deno.kventrymaybe.html"><code data-language="ts">Deno.KvEntryMaybe</code></a> objects, with the same length and order as the <code data-language="ts">keys</code> array. If no value exists for a given key, the returned entry will have a <code data-language="ts">null</code> value and versionstamp.</p> <p>The returned stream does not return every single intermediate state of the watched keys, but rather only keeps you up to date with the latest state of the keys. This means that if a key is modified multiple times quickly, you may not receive a notification for every single change, but rather only the latest state of the key.</p> <div class="relative">
<pre><code data-language="ts"><span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> stream <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"bar"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> entries <span class="token keyword">of</span> stream<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  entries<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span> <span class="token comment">// ["foo"]</span>
  entries<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// "bar"</span>
  entries<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>versionstamp<span class="token punctuation">;</span> <span class="token comment">// "00000000000000010000"</span>
  entries<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span> <span class="token comment">// ["bar"]</span>
  entries<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// null</span>
  entries<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>versionstamp<span class="token punctuation">;</span> <span class="token comment">// null</span>
<span class="token punctuation">}</span>
</code></pre>   </div>
<p>The <code data-language="ts">options</code> argument can be used to specify additional options for the watch operation. The <code data-language="ts">raw</code> option can be used to specify whether a new value should be emitted whenever a mutation occurs on any of the watched keys (even if the value of the key does not change, such as deleting a deleted key), or only when entries have observably changed in some way. When <code data-language="ts">raw: true</code> is used, it is possible for the stream to occasionally emit values even if no mutations have occurred on any of the watched keys. The default value for this option is <code data-language="ts">false</code>.</p> </div></div>
</div> </div></section> </div> </div> </article><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018–2024 the Deno authors<br>Licensed under the MIT License.<br>
    <a href="https://docs.deno.com/api/deno/~/Deno.Kv" class="_attribution-link">https://docs.deno.com/api/deno/~/Deno.Kv</a>
  </p>
</div>
