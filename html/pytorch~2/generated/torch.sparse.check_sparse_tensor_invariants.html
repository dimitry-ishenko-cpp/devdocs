<h1 id="check-sparse-tensor-invariants">check_sparse_tensor_invariants</h1> <dl class="py class"> <dt class="sig sig-object py" id="torch.sparse.check_sparse_tensor_invariants">
<code>class torch.sparse.check_sparse_tensor_invariants(enable=True)</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/sparse.html#check_sparse_tensor_invariants"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A tool to control checking sparse tensor invariants.</p> <p>The following options exists to manage sparsr tensor invariants checking in sparse tensor construction:</p> <ol class="arabic"> <li>
<p>Using a context manager:</p> <pre data-language="python">with torch.sparse.check_sparse_tensor_invariants():
    run_my_model()
</pre> </li> <li>
<p>Using a procedural approach:</p> <pre data-language="python">prev_checks_enabled = torch.sparse.check_sparse_tensor_invariants.is_enabled()
torch.sparse.check_sparse_tensor_invariants.enable()

run_my_model()

if not prev_checks_enabled:
    torch.sparse.check_sparse_tensor_invariants.disable()
</pre> </li> <li>
<p>Using function decoration:</p> <pre data-language="python">@torch.sparse.check_sparse_tensor_invariants()
def run_my_model():
    ...

run_my_model()
</pre> </li> <li>
<p>Using <code>check_invariants</code> keyword argument in sparse tensor constructor call. For example:</p> <pre data-language="python">&gt;&gt;&gt; torch.sparse_csr_tensor([0, 1, 3], [0, 1], [1, 2], check_invariants=True)
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
RuntimeError: `crow_indices[..., -1] == nnz` is not satisfied.
</pre> </li> </ol> <dl class="py method"> <dt class="sig sig-object py" id="torch.sparse.check_sparse_tensor_invariants.disable">
<code>static disable()</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/sparse.html#check_sparse_tensor_invariants.disable"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Disable sparse tensor invariants checking in sparse tensor constructors.</p> <p>See <a class="reference internal" href="#torch.sparse.check_sparse_tensor_invariants.enable" title="torch.sparse.check_sparse_tensor_invariants.enable"><code>torch.sparse.check_sparse_tensor_invariants.enable()</code></a> for more information.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="torch.sparse.check_sparse_tensor_invariants.enable">
<code>static enable()</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/sparse.html#check_sparse_tensor_invariants.enable"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Enable sparse tensor invariants checking in sparse tensor constructors.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>By default, the sparse tensor invariants checks are disabled. Use <a class="reference internal" href="#torch.sparse.check_sparse_tensor_invariants.is_enabled" title="torch.sparse.check_sparse_tensor_invariants.is_enabled"><code>torch.sparse.check_sparse_tensor_invariants.is_enabled()</code></a> to retrieve the current state of sparse tensor invariants checking.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The sparse tensor invariants check flag is effective to all sparse tensor constructors, both in Python and ATen.</p> <p>The flag can be locally overridden by the <code>check_invariants</code> optional argument of the sparse tensor constructor functions.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="torch.sparse.check_sparse_tensor_invariants.is_enabled">
<code>static is_enabled()</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/sparse.html#check_sparse_tensor_invariants.is_enabled"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns True if the sparse tensor invariants checking is enabled.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Use <a class="reference internal" href="#torch.sparse.check_sparse_tensor_invariants.enable" title="torch.sparse.check_sparse_tensor_invariants.enable"><code>torch.sparse.check_sparse_tensor_invariants.enable()</code></a> or <a class="reference internal" href="#torch.sparse.check_sparse_tensor_invariants.disable" title="torch.sparse.check_sparse_tensor_invariants.disable"><code>torch.sparse.check_sparse_tensor_invariants.disable()</code></a> to manage the state of the sparse tensor invariants checks.</p> </div> </dd>
</dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024, PyTorch Contributors<br>PyTorch has a BSD-style license, as found in the <a href="https://github.com/pytorch/pytorch/blob/main/LICENSE">LICENSE</a> file.<br>
    <a href="https://pytorch.org/docs/2.1/generated/torch.sparse.check_sparse_tensor_invariants.html" class="_attribution-link">https://pytorch.org/docs/2.1/generated/torch.sparse.check_sparse_tensor_invariants.html</a>
  </p>
</div>
