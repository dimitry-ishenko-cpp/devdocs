<h1>Overview of GTK input and event handling</h1>
<div class="chapter">  <div class="toc"><dl class="toc"> <dt><span class="sect1"><a href="input-overview.html#id-1.3.3.3">Devices and events</a></span></dt> <dt><span class="sect1"><a href="event-propagation.html">Event propagation</a></span></dt> <dt><span class="sect1"><a href="ch05s03.html">Keyboard input</a></span></dt> <dt><span class="sect1"><a href="event-controllers-and-gestures.html">Event controllers and gestures</a></span></dt> <dt><span class="sect1"><a href="ch05s05.html">Gesture states</a></span></dt> </dl></div> <p> This chapter describes in detail how GTK handles input. If you are interested in what happens to translate a key press or mouse motion of the users into a change of a GTK widget, you should read this chapter. This knowledge will also be useful if you decide to implement your own widgets. </p> <div class="sect1">  <p> The most basic input devices that every computer user has interacted with are keyboards and mice; beyond these, GTK supports touchpads, touchscreens and more exotic input devices such as graphics tablets. Inside GTK, every such input device is represented by a <a href="https://developer-old.gnome.org/gtk4/html/GdkDevice.html#GdkDevice-struct"><span class="type">GdkDevice</span></a> object. </p> <p> To simplify dealing with the variability between these input devices, GTK has a concept of logical and physical devices. The concrete physical devices that have many different characteristics (mice may have 2 or 3 or 8 buttons, keyboards have different layouts and may or may not have a separate number block, etc) are represented as physical devices. Each physical device is associated with a virtual logical device. Logical devices always come in pointer/keyboard pairs - you can think of such a pair as a <span class="quote">“<span class="quote">seat</span>”</span>. </p> <p> GTK widgets generally deal with the logical devices, and thus can be used with any pointing device or keyboard. </p> <p> When a user interacts with an input device (e.g. moves a mouse or presses a key on the keyboard), GTK receives events from the windowing system. These are typically directed at a specific surface - for pointer events, the surface under the pointer (grabs complicate this), for keyboard events, the surface with the keyboard focus. </p> <p> GDK translates these raw windowing system events into <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Events.html#GdkEvent-struct"><span class="type">GdkEvents</span></a>. Typical input events are button clicks, pointer motion, key presses or touch events. These are all represented as <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Events.html#GdkEvent-struct"><span class="type">GdkEvents</span></a>, but you can differentiate between different events by looking at their type, using <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Events.html#gdk-event-get-event-type"><code class="function">gdk_event_get_event_type()</code></a>. </p> <p> Some events, such as touch events or button press-release pairs, are connected in to each other in an <span class="quote">“<span class="quote">event sequence</span>”</span> that univocally identifies events that are related to the same interaction. </p> <p> When GTK creates a GdkSurface, it connects to the <a href="https://developer-old.gnome.org/gtk4/html/GdkSurface.html#GdkSurface-event"><span class="type">“event”</span></a> signal on it, which receives all of these input events. Surfaces have have signals and properties, e.g. to deal with window management related events. </p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2020 The GNOME Project<br>Licensed under the GNU Lesser General Public License version 2.1 or later.<br>
    <a href="https://developer-old.gnome.org/gtk4/4.0/input-overview.html" class="_attribution-link">https://developer-old.gnome.org/gtk4/4.0/input-overview.html</a>
  </p>
</div>
