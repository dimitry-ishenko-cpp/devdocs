<h1>GtkPadController</h1>
<div class="refentry">  <div class="refnamediv"><p>GtkPadController — Controller for drawing tablet pads</p></div> <div class="refsect1"> <h2 id="GtkPadController.functions">Functions</h2> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="function_type"> <a href="gtkpadcontroller.html#GtkPadController-struct"><span class="returnvalue">GtkPadController</span></a> * </td> <td class="function_name"> <a href="gtkpadcontroller.html#gtk-pad-controller-new">gtk_pad_controller_new</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">void</span> </td> <td class="function_name"> <a href="gtkpadcontroller.html#gtk-pad-controller-set-action-entries">gtk_pad_controller_set_action_entries</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">void</span> </td> <td class="function_name"> <a href="gtkpadcontroller.html#gtk-pad-controller-set-action">gtk_pad_controller_set_action</a> <span class="c_punctuation">()</span> </td> </tr> </tbody> </table></div> </div> <div class="refsect1"> <h2 id="GtkPadController.properties">Properties</h2> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="property_type"> <span class="type">GActionGroup</span> *</td> <td class="property_name"><a href="gtkpadcontroller.html#GtkPadController--action-group">action-group</a></td> <td class="property_flags">Read / Write / Construct Only</td> </tr> <tr> <td class="property_type"> <a href="https://developer-old.gnome.org/gtk4/html/GdkDevice.html#GdkDevice-struct"><span class="type">GdkDevice</span></a> *</td> <td class="property_name"><a href="gtkpadcontroller.html#GtkPadController--pad">pad</a></td> <td class="property_flags">Read / Write / Construct Only</td> </tr> </tbody> </table></div> </div> <div class="refsect1"> <h2 id="GtkPadController.other">Types and Values</h2> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="datatype_keyword"> </td> <td class="function_name"><a href="gtkpadcontroller.html#GtkPadController-struct">GtkPadController</a></td> </tr> <tr> <td class="datatype_keyword">enum</td> <td class="function_name"><a href="gtkpadcontroller.html#GtkPadActionType">GtkPadActionType</a></td> </tr> <tr> <td class="datatype_keyword">struct</td> <td class="function_name"><a href="gtkpadcontroller.html#GtkPadActionEntry">GtkPadActionEntry</a></td> </tr> </tbody> </table></div> </div> <div class="refsect1"> <h2 id="GtkPadController.object-hierarchy">Object Hierarchy</h2> <pre class="screen">    GObject
    <span class="lineart">╰──</span> <a href="gtkeventcontroller.html#GtkEventController-struct">GtkEventController</a>
        <span class="lineart">╰──</span> GtkPadController
</pre> </div> <div class="refsect1"> <h2 id="GtkPadController.includes">Includes</h2> <pre class="synopsis" data-language="c">#include &lt;gtk/gtk.h&gt;
</pre> </div> <div class="refsect1"> <h2 id="GtkPadController.description">Description</h2> <p><a href="gtkpadcontroller.html#GtkPadController-struct"><span class="type">GtkPadController</span></a> is an event controller for the pads found in drawing tablets (The collection of buttons and tactile sensors often found around the stylus-sensitive area).</p> <p>These buttons and sensors have no implicit meaning, and by default they perform no action, this event controller is provided to map those to <span class="type">GAction</span> objects, thus letting the application give those a more semantic meaning.</p> <p>Buttons and sensors are not constrained to triggering a single action, some <a href="https://developer-old.gnome.org/gtk4/html/GdkDevice.html#GDK-SOURCE-TABLET-PAD:CAPS"><code class="literal">GDK_SOURCE_TABLET_PAD</code></a> devices feature multiple "modes", all these input elements have one current mode, which may determine the final action being triggered. Pad devices often divide buttons and sensors into groups, all elements in a group share the same current mode, but different groups may have different modes. See <a href="https://developer-old.gnome.org/gtk4/html/GdkDevicePad.html#gdk-device-pad-get-n-groups"><code class="function">gdk_device_pad_get_n_groups()</code></a> and <a href="https://developer-old.gnome.org/gtk4/html/GdkDevicePad.html#gdk-device-pad-get-group-n-modes"><code class="function">gdk_device_pad_get_group_n_modes()</code></a>.</p> <p>Each of the actions that a given button/strip/ring performs for a given mode is defined by <a href="gtkpadcontroller.html#GtkPadActionEntry"><span class="type">GtkPadActionEntry</span></a>, it contains an action name that will be looked up in the given <span class="type">GActionGroup</span> and activated whenever the specified input element and mode are triggered.</p> <p>A simple example of <a href="gtkpadcontroller.html#GtkPadController-struct"><span class="type">GtkPadController</span></a> usage, assigning button 1 in all modes and pad devices to an "invert-selection" action:</p> <div class="informalexample"> <td class="listing_code"><pre class="programlisting" data-language="c">GtkPadActionEntry *pad_actions[] = {
  { GTK_PAD_ACTION_BUTTON, 1, -1, "Invert selection", "pad-actions.invert-selection" },
  …
};

…
action_group = g_simple_action_group_new ();
action = g_simple_action_new ("pad-actions.invert-selection", NULL);
g_signal_connect (action, "activate", on_invert_selection_activated, NULL);
g_action_map_add_action (G_ACTION_MAP (action_group), action);
…
pad_controller = gtk_pad_controller_new (action_group, NULL);</pre></td> </div>  <p>The actions belonging to rings/strips will be activated with a parameter of type <code class="literal">G_VARIANT_TYPE_DOUBLE</code> bearing the value of the given axis, it is required that those are made stateful and accepting this <span class="type">GVariantType</span>.</p> </div> <div class="refsect1"> <h2 id="GtkPadController.functions_details">Functions</h2> <div class="refsect2"> <h3 id="gtk-pad-controller-new">gtk_pad_controller_new ()</h3> <pre class="programlisting"><a href="gtkpadcontroller.html#GtkPadController-struct"><span class="returnvalue">GtkPadController</span></a> *
gtk_pad_controller_new (<em class="parameter"><code><span class="type">GActionGroup</span> *group</code></em>,
                        <em class="parameter"><code><a href="https://developer-old.gnome.org/gtk4/html/GdkDevice.html#GdkDevice-struct"><span class="type">GdkDevice</span></a> *pad</code></em>);</pre> <p>Creates a new <a href="gtkpadcontroller.html#GtkPadController-struct"><span class="type">GtkPadController</span></a> that will associate events from <em class="parameter"><code>pad</code></em> to actions. A <code class="literal">NULL</code> pad may be provided so the controller manages all pad devices generically, it is discouraged to mix <a href="gtkpadcontroller.html#GtkPadController-struct"><span class="type">GtkPadController</span></a> objects with <code class="literal">NULL</code> and non-<code class="literal">NULL</code> <em class="parameter"><code>pad</code></em> argument on the same toplevel window, as execution order is not guaranteed.</p> <p>The <a href="gtkpadcontroller.html#GtkPadController-struct"><span class="type">GtkPadController</span></a> is created with no mapped actions. In order to map pad events to actions, use <a href="gtkpadcontroller.html#gtk-pad-controller-set-action-entries"><code class="function">gtk_pad_controller_set_action_entries()</code></a> or <a href="gtkpadcontroller.html#gtk-pad-controller-set-action"><code class="function">gtk_pad_controller_set_action()</code></a>.</p> <p>Be aware that pad events will only be delivered to <a href="gtkwindow.html#GtkWindow-struct"><span class="type">GtkWindows</span></a>, so adding a pad controller to any other type of widget will not have an effect.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>group</p></td> <td class="parameter_description"><p><span class="type">GActionGroup</span> to trigger actions from</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>pad</p></td> <td class="parameter_description"><p>A <a href="https://developer-old.gnome.org/gtk4/html/GdkDevice.html#GDK-SOURCE-TABLET-PAD:CAPS"><code class="literal">GDK_SOURCE_TABLET_PAD</code></a> device, or <code class="literal">NULL</code> to handle all pads. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> A newly created <a href="gtkpadcontroller.html#GtkPadController-struct"><span class="type">GtkPadController</span></a></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-pad-controller-set-action-entries">gtk_pad_controller_set_action_entries ()</h3> <pre class="programlisting"><span class="returnvalue">void</span>
gtk_pad_controller_set_action_entries (<em class="parameter"><code><a href="gtkpadcontroller.html#GtkPadController-struct"><span class="type">GtkPadController</span></a> *controller</code></em>,
                                       <em class="parameter"><code>const <a href="gtkpadcontroller.html#GtkPadActionEntry"><span class="type">GtkPadActionEntry</span></a> *entries</code></em>,
                                       <em class="parameter"><code><span class="type">int</span> n_entries</code></em>);</pre> <p>This is a convenience function to add a group of action entries on <em class="parameter"><code>controller</code></em> . See <a href="gtkpadcontroller.html#GtkPadActionEntry"><span class="type">GtkPadActionEntry</span></a> and <a href="gtkpadcontroller.html#gtk-pad-controller-set-action"><code class="function">gtk_pad_controller_set_action()</code></a>.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>controller</p></td> <td class="parameter_description"><p>a <a href="gtkpadcontroller.html#GtkPadController-struct"><span class="type">GtkPadController</span></a></p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>entries</p></td> <td class="parameter_description"><p>the action entries to set on <em class="parameter"><code>controller</code></em> . </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Parameter points to an array of items."><span class="acronym">array</span></acronym> length=n_entries]</span></td> </tr> <tr> <td class="parameter_name"><p>n_entries</p></td> <td class="parameter_description"><p>the number of elements in <em class="parameter"><code>entries</code></em> </p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> </div>  <div class="refsect2"> <h3 id="gtk-pad-controller-set-action">gtk_pad_controller_set_action ()</h3> <pre class="programlisting"><span class="returnvalue">void</span>
gtk_pad_controller_set_action (<em class="parameter"><code><a href="gtkpadcontroller.html#GtkPadController-struct"><span class="type">GtkPadController</span></a> *controller</code></em>,
                               <em class="parameter"><code><a href="gtkpadcontroller.html#GtkPadActionType"><span class="type">GtkPadActionType</span></a> type</code></em>,
                               <em class="parameter"><code><span class="type">int</span> index</code></em>,
                               <em class="parameter"><code><span class="type">int</span> mode</code></em>,
                               <em class="parameter"><code>const <span class="type">char</span> *label</code></em>,
                               <em class="parameter"><code>const <span class="type">char</span> *action_name</code></em>);</pre> <p>Adds an individual action to <em class="parameter"><code>controller</code></em> . This action will only be activated if the given button/ring/strip number in <em class="parameter"><code>index</code></em> is interacted while the current mode is <em class="parameter"><code>mode</code></em> . -1 may be used for simple cases, so the action is triggered on all modes.</p> <p>The given <em class="parameter"><code>label</code></em> should be considered user-visible, so internationalization rules apply. Some windowing systems may be able to use those for user feedback.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>controller</p></td> <td class="parameter_description"><p>a <a href="gtkpadcontroller.html#GtkPadController-struct"><span class="type">GtkPadController</span></a></p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>type</p></td> <td class="parameter_description"><p>the type of pad feature that will trigger this action</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>index</p></td> <td class="parameter_description"><p>the 0-indexed button/ring/strip number that will trigger this action</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>mode</p></td> <td class="parameter_description"><p>the mode that will trigger this action, or -1 for all modes.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>label</p></td> <td class="parameter_description"><p>Human readable description of this action, this string should be deemed user-visible.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>action_name</p></td> <td class="parameter_description"><p>action name that will be activated in the <span class="type">GActionGroup</span></p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> </div> </div> <div class="refsect1"> <h2 id="GtkPadController.other_details">Types and Values</h2> <div class="refsect2"> <h3 id="GtkPadController-struct">GtkPadController</h3> <pre class="programlisting" data-language="c">typedef struct _GtkPadController GtkPadController;</pre> </div>  <div class="refsect2"> <h3 id="GtkPadActionType">enum GtkPadActionType</h3> <p>The type of a pad action.</p> <div class="refsect3"> <h4>Members</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="enum_member_name" id="GTK-PAD-ACTION-BUTTON:CAPS"><p>GTK_PAD_ACTION_BUTTON</p></td> <td class="enum_member_description"> <p>Action is triggered by a pad button</p> </td> <td class="enum_member_annotations"> </td> </tr> <tr> <td class="enum_member_name" id="GTK-PAD-ACTION-RING:CAPS"><p>GTK_PAD_ACTION_RING</p></td> <td class="enum_member_description"> <p>Action is triggered by a pad ring</p> </td> <td class="enum_member_annotations"> </td> </tr> <tr> <td class="enum_member_name" id="GTK-PAD-ACTION-STRIP:CAPS"><p>GTK_PAD_ACTION_STRIP</p></td> <td class="enum_member_description"> <p>Action is triggered by a pad strip</p> </td> <td class="enum_member_annotations"> </td> </tr> </tbody> </table></div> </div> </div>  <div class="refsect2"> <h3 id="GtkPadActionEntry">struct GtkPadActionEntry</h3> <pre class="programlisting" data-language="c">struct GtkPadActionEntry {
  GtkPadActionType type;
  int index;
  int mode;
  const char *label;
  const char *action_name;
};
</pre> <p>Struct defining a pad action entry.</p> <div class="refsect3"> <h4>Members</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="struct_member_name" id="GtkPadActionEntry.type"><p><a href="gtkpadcontroller.html#GtkPadActionType"><span class="type">GtkPadActionType</span></a> <em class="structfield"><code>type</code></em>;</p></td> <td class="struct_member_description"><p>the type of pad feature that will trigger this action entry.</p></td> <td class="struct_member_annotations"> </td> </tr> <tr> <td class="struct_member_name" id="GtkPadActionEntry.index"><p><span class="type">int</span> <em class="structfield"><code>index</code></em>;</p></td> <td class="struct_member_description"><p>the 0-indexed button/ring/strip number that will trigger this action entry.</p></td> <td class="struct_member_annotations"> </td> </tr> <tr> <td class="struct_member_name" id="GtkPadActionEntry.mode"><p><span class="type">int</span> <em class="structfield"><code>mode</code></em>;</p></td> <td class="struct_member_description"><p>the mode that will trigger this action entry, or -1 for all modes.</p></td> <td class="struct_member_annotations"> </td> </tr> <tr> <td class="struct_member_name" id="GtkPadActionEntry.label"><p>const <span class="type">char</span> *<em class="structfield"><code>label</code></em>;</p></td> <td class="struct_member_description"><p>Human readable description of this action entry, this string should be deemed user-visible.</p></td> <td class="struct_member_annotations"> </td> </tr> <tr> <td class="struct_member_name" id="GtkPadActionEntry.action-name"><p>const <span class="type">char</span> *<em class="structfield"><code>action_name</code></em>;</p></td> <td class="struct_member_description"><p>action name that will be activated in the <span class="type">GActionGroup</span>.</p></td> <td class="struct_member_annotations"> </td> </tr> </tbody> </table></div> </div> </div> </div> <div class="refsect1"> <h2 id="GtkPadController.property-details">Property Details</h2> <div class="refsect2"> <h3 id="GtkPadController--action-group">The <code class="literal">“action-group”</code> property</h3> <pre class="programlisting" data-language="c">  “action-group”             GActionGroup *</pre> <p>Action group to launch actions from.</p> <p>Owner: GtkPadController</p> <p>Flags: Read / Write / Construct Only</p> </div>  <div class="refsect2"> <h3 id="GtkPadController--pad">The <code class="literal">“pad”</code> property</h3> <pre class="programlisting">  “pad”                      <a href="https://developer-old.gnome.org/gtk4/html/GdkDevice.html#GdkDevice-struct"><span class="type">GdkDevice</span></a> *</pre> <p>Pad device to control.</p> <p>Owner: GtkPadController</p> <p>Flags: Read / Write / Construct Only</p> </div> </div> <div class="refsect1"> <h2 id="GtkPadController.see-also">See Also</h2> <p><a href="gtkeventcontroller.html#GtkEventController-struct"><span class="type">GtkEventController</span></a>, <a href="https://developer-old.gnome.org/gtk4/html/GdkDevicePad.html#GdkDevicePad-struct"><span class="type">GdkDevicePad</span></a></p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2020 The GNOME Project<br>Licensed under the GNU Lesser General Public License version 2.1 or later.<br>
    <a href="https://developer-old.gnome.org/gtk4/4.0/GtkPadController.html" class="_attribution-link">https://developer-old.gnome.org/gtk4/4.0/GtkPadController.html</a>
  </p>
</div>
