<h1>Compiling GTK Applications on UNIX</h1>
<div class="chapter">  <p> To compile a GTK application, you need to tell the compiler where to find the GTK header files and libraries. This is done with the <code class="literal">pkg-config</code> utility. </p> <p> The following interactive shell session demonstrates how <code class="literal">pkg-config</code> is used (the actual output on your system may be different): </p> <pre class="programlisting" data-language="c">$ pkg-config --cflags gtk4
 -pthread -I/usr/include/gtk-4.0 -I/usr/lib64/gtk-4.0/include -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng12
$ pkg-config --libs gtk4
 -pthread -lgtk-4 -lgdk-4 -lgio-2.0 -lpangoft2-1.0 -lgdk_pixbuf-2.0 -lpangocairo-1.0 -lcairo -lpango-1.0 -lfreetype -lfontconfig -lgobject-2.0 -lgmodule-2.0 -lgthread-2.0 -lrt -lglib-2.0
</pre> <p> The simplest way to compile a program is to use the <span class="quote">“<span class="quote">backticks</span>”</span> feature of the shell. If you enclose a command in backticks (<span class="emphasis"><em>not single quotes</em></span>), then its output will be substituted into the command line before execution. So to compile a GTK Hello, World, you would type the following: </p> <pre class="programlisting" data-language="c">$ cc `pkg-config --cflags gtk4` hello.c -o hello `pkg-config --libs gtk4`
</pre> <p> Deprecated GTK functions are annotated to make the compiler emit warnings when they are used (e.g. with gcc, you need to use the -Wdeprecated-declarations option). If these warnings are problematic, they can be turned off by defining the preprocessor symbol <a href="https://developer-old.gnome.org/gtk4/html/gdk4-General.html#GDK-DISABLE-DEPRECATION-WARNINGS:CAPS"><code class="literal">GDK_DISABLE_DEPRECATION_WARNINGS</code></a> by using the commandline option <code class="literal">-DGDK_DISABLE_DEPRECATION_WARNINGS</code>. </p> <p> GTK deprecation annotations are versioned; by defining the macros <a href="https://developer-old.gnome.org/gtk4/html/gdk4-General.html#GDK-VERSION-MIN-REQUIRED:CAPS"><code class="literal">GDK_VERSION_MIN_REQUIRED</code></a> and <a href="https://developer-old.gnome.org/gtk4/html/gdk4-General.html#GDK-VERSION-MAX-ALLOWED:CAPS"><code class="literal">GDK_VERSION_MAX_ALLOWED</code></a>, you can specify the range of GTK versions whose API you want to use. APIs that were deprecated before or introduced after this range will trigger compiler warnings. </p> <p> Here is how you would compile hello.c if you want to allow it to use symbols that were not deprecated in 4.2: </p> <pre class="programlisting" data-language="c">$ cc `pkg-config --cflags gtk4` -DGDK_VERSION_MIN_REQUIRED=GDK_VERSION_4_2 hello.c -o hello `pkg-config --libs gtk4`
</pre> <p> And here is how you would compile hello.c if you don’t want it to use any symbols that were introduced after 4.2: </p> <pre class="programlisting" data-language="c">$ cc `pkg-config --cflags gtk4` -DGDK_VERSION_MAX_ALLOWED=GDK_VERSION_4_2 hello.c -o hello `pkg-config --libs gtk4`
</pre> <p> The older deprecation mechanism of hiding deprecated interfaces entirely from the compiler by using the preprocessor symbol GTK_DISABLE_DEPRECATED is still used for deprecated macros, enumeration values, etc. To detect uses of these in your code, use the commandline option <code class="literal">-DGTK_DISABLE_DEPRECATED</code>. There are similar symbols GDK_DISABLE_DEPRECATED, GDK_PIXBUF_DISABLE_DEPRECATED and G_DISABLE_DEPRECATED for GDK, GdkPixbuf and GLib. </p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2020 The GNOME Project<br>Licensed under the GNU Lesser General Public License version 2.1 or later.<br>
    <a href="https://developer-old.gnome.org/gtk4/4.0/gtk-compiling.html" class="_attribution-link">https://developer-old.gnome.org/gtk4/4.0/gtk-compiling.html</a>
  </p>
</div>
