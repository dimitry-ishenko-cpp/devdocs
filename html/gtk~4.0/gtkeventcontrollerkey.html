<h1>GtkEventControllerKey</h1>
<div class="refentry">  <div class="refnamediv"><p>GtkEventControllerKey — Event controller for key events</p></div> <div class="refsect1"> <h2 id="GtkEventControllerKey.functions">Functions</h2> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="function_type"> <a href="gtkeventcontroller.html#GtkEventController-struct"><span class="returnvalue">GtkEventController</span></a> * </td> <td class="function_name"> <a href="gtkeventcontrollerkey.html#gtk-event-controller-key-new">gtk_event_controller_key_new</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">void</span> </td> <td class="function_name"> <a href="gtkeventcontrollerkey.html#gtk-event-controller-key-set-im-context">gtk_event_controller_key_set_im_context</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkimcontext.html#GtkIMContext-struct"><span class="returnvalue">GtkIMContext</span></a> * </td> <td class="function_name"> <a href="gtkeventcontrollerkey.html#gtk-event-controller-key-get-im-context">gtk_event_controller_key_get_im_context</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">gboolean</span> </td> <td class="function_name"> <a href="gtkeventcontrollerkey.html#gtk-event-controller-key-forward">gtk_event_controller_key_forward</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">guint</span> </td> <td class="function_name"> <a href="gtkeventcontrollerkey.html#gtk-event-controller-key-get-group">gtk_event_controller_key_get_group</a> <span class="c_punctuation">()</span> </td> </tr> </tbody> </table></div> </div> <div class="refsect1"> <h2 id="GtkEventControllerKey.signals">Signals</h2> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="signal_type"><span class="returnvalue">void</span></td> <td class="signal_name"><a href="gtkeventcontrollerkey.html#GtkEventControllerKey-im-update">im-update</a></td> <td class="signal_flags">Run Last</td> </tr> <tr> <td class="signal_type"><span class="returnvalue">gboolean</span></td> <td class="signal_name"><a href="gtkeventcontrollerkey.html#GtkEventControllerKey-key-pressed">key-pressed</a></td> <td class="signal_flags">Run Last</td> </tr> <tr> <td class="signal_type"><span class="returnvalue">void</span></td> <td class="signal_name"><a href="gtkeventcontrollerkey.html#GtkEventControllerKey-key-released">key-released</a></td> <td class="signal_flags">Run Last</td> </tr> <tr> <td class="signal_type"><span class="returnvalue">gboolean</span></td> <td class="signal_name"><a href="gtkeventcontrollerkey.html#GtkEventControllerKey-modifiers">modifiers</a></td> <td class="signal_flags">Run Last</td> </tr> </tbody> </table></div> </div> <div class="refsect1"> <h2 id="GtkEventControllerKey.other">Types and Values</h2> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="datatype_keyword"> </td> <td class="function_name"><a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct">GtkEventControllerKey</a></td> </tr></tbody> </table></div> </div> <div class="refsect1"> <h2 id="GtkEventControllerKey.object-hierarchy">Object Hierarchy</h2> <pre class="screen">    GObject
    <span class="lineart">╰──</span> <a href="gtkeventcontroller.html#GtkEventController-struct">GtkEventController</a>
        <span class="lineart">╰──</span> GtkEventControllerKey
</pre> </div> <div class="refsect1"> <h2 id="GtkEventControllerKey.includes">Includes</h2> <pre class="synopsis" data-language="c">#include &lt;gtk/gtk.h&gt;
</pre> </div> <div class="refsect1"> <h2 id="GtkEventControllerKey.description">Description</h2> <p><a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a> is an event controller meant for situations where you need access to key events.</p> </div> <div class="refsect1"> <h2 id="GtkEventControllerKey.functions_details">Functions</h2> <div class="refsect2"> <h3 id="gtk-event-controller-key-new">gtk_event_controller_key_new ()</h3> <pre class="programlisting"><a href="gtkeventcontroller.html#GtkEventController-struct"><span class="returnvalue">GtkEventController</span></a> *
gtk_event_controller_key_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre> <p>Creates a new event controller that will handle key events.</p> <div class="refsect3"> <h4>Returns</h4> <p> a new <a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-event-controller-key-set-im-context">gtk_event_controller_key_set_im_context ()</h3> <pre class="programlisting"><span class="returnvalue">void</span>
gtk_event_controller_key_set_im_context
                               (<em class="parameter"><code><a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a> *controller</code></em>,
                                <em class="parameter"><code><a href="gtkimcontext.html#GtkIMContext-struct"><span class="type">GtkIMContext</span></a> *im_context</code></em>);</pre> <p>Sets the input method context of the key <em class="parameter"><code>controller</code></em> .</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>controller</p></td> <td class="parameter_description"><p>a <a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a></p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>im_context</p></td> <td class="parameter_description"><p>a <a href="gtkimcontext.html#GtkIMContext-struct"><span class="type">GtkIMContext</span></a></p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> </div>  <div class="refsect2"> <h3 id="gtk-event-controller-key-get-im-context">gtk_event_controller_key_get_im_context ()</h3> <pre class="programlisting"><a href="gtkimcontext.html#GtkIMContext-struct"><span class="returnvalue">GtkIMContext</span></a> *
gtk_event_controller_key_get_im_context
                               (<em class="parameter"><code><a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a> *controller</code></em>);</pre> <p>Gets the input method context of the key <em class="parameter"><code>controller</code></em> .</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>controller</p></td> <td class="parameter_description"><p>a <a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a></p></td> <td class="parameter_annotations"> </td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>the <a href="gtkimcontext.html#GtkIMContext-struct"><span class="type">GtkIMContext</span></a>. </p> <p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-event-controller-key-forward">gtk_event_controller_key_forward ()</h3> <pre class="programlisting"><span class="returnvalue">gboolean</span>
gtk_event_controller_key_forward (<em class="parameter"><code><a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a> *controller</code></em>,
                                  <em class="parameter"><code><a href="gtkwidget.html#GtkWidget-struct"><span class="type">GtkWidget</span></a> *widget</code></em>);</pre> <p>Forwards the current event of this <em class="parameter"><code>controller</code></em> to a <em class="parameter"><code>widget</code></em> .</p> <p>This function can only be used in handlers for the <a href="gtkeventcontrollerkey.html#GtkEventControllerKey-key-pressed"><span class="type">“key-pressed”</span></a>, <a href="gtkeventcontrollerkey.html#GtkEventControllerKey-key-released"><span class="type">“key-released”</span></a> or <a href="gtkeventcontrollerkey.html#GtkEventControllerKey-modifiers"><span class="type">“modifiers”</span></a> signals.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>controller</p></td> <td class="parameter_description"><p>a <a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a></p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>widget</p></td> <td class="parameter_description"><p>a <a href="gtkwidget.html#GtkWidget-struct"><span class="type">GtkWidget</span></a></p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> whether the <em class="parameter"><code>widget</code></em> handled the event</p> </div> </div>  <div class="refsect2"> <h3 id="gtk-event-controller-key-get-group">gtk_event_controller_key_get_group ()</h3> <pre class="programlisting"><span class="returnvalue">guint</span>
gtk_event_controller_key_get_group (<em class="parameter"><code><a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a> *controller</code></em>);</pre> <p>Gets the key group of the current event of this <em class="parameter"><code>controller</code></em> . See <code class="function">gdk_key_event_get_group()</code>.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>controller</p></td> <td class="parameter_description"><p>a <a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a></p></td> <td class="parameter_annotations"> </td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> the key group</p> </div> </div> </div> <div class="refsect1"> <h2 id="GtkEventControllerKey.other_details">Types and Values</h2> <div class="refsect2"> <h3 id="GtkEventControllerKey-struct">GtkEventControllerKey</h3> <pre class="programlisting" data-language="c">typedef struct _GtkEventControllerKey GtkEventControllerKey;</pre> </div> </div> <div class="refsect1"> <h2 id="GtkEventControllerKey.signal-details">Signal Details</h2> <div class="refsect2"> <h3 id="GtkEventControllerKey-im-update">The <code class="literal">“im-update”</code> signal</h3> <pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a> *controller,
               <span class="type">gpointer</span>               user_data)</pre> <p>This signal is emitted whenever the input method context filters away a keypress and prevents the <em class="parameter"><code>controller</code></em> receiving it. See <a href="gtkeventcontrollerkey.html#gtk-event-controller-key-set-im-context"><code class="function">gtk_event_controller_key_set_im_context()</code></a> and <a href="gtkimcontext.html#gtk-im-context-filter-keypress"><code class="function">gtk_im_context_filter_keypress()</code></a>.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>controller</p></td> <td class="parameter_description"><p>the object which received the signal</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>user_data</p></td> <td class="parameter_description"><p>user data set when the signal handler was connected.</p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <p>Flags: Run Last</p> </div>  <div class="refsect2"> <h3 id="GtkEventControllerKey-key-pressed">The <code class="literal">“key-pressed”</code> signal</h3> <pre class="programlisting"><span class="returnvalue">gboolean</span>
user_function (<a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a> *controller,
               <span class="type">guint</span>                  keyval,
               <span class="type">guint</span>                  keycode,
               <a href="https://developer-old.gnome.org/gtk4/html/GdkSurface.html#GdkModifierType"><span class="type">GdkModifierType</span></a>        state,
               <span class="type">gpointer</span>               user_data)</pre> <p>This signal is emitted whenever a key is pressed.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>controller</p></td> <td class="parameter_description"><p>the object which received the signal.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>keyval</p></td> <td class="parameter_description"><p>the pressed key.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>keycode</p></td> <td class="parameter_description"><p>the raw code of the pressed key.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>state</p></td> <td class="parameter_description"><p>the bitmask, representing the state of modifier keys and pointer buttons. See <a href="https://developer-old.gnome.org/gtk4/html/GdkSurface.html#GdkModifierType"><span class="type">GdkModifierType</span></a>.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>user_data</p></td> <td class="parameter_description"><p>user data set when the signal handler was connected.</p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> <code class="literal">TRUE</code> if the key press was handled, <code class="literal">FALSE</code> otherwise.</p> </div> <p>Flags: Run Last</p> </div>  <div class="refsect2"> <h3 id="GtkEventControllerKey-key-released">The <code class="literal">“key-released”</code> signal</h3> <pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a> *controller,
               <span class="type">guint</span>                  keyval,
               <span class="type">guint</span>                  keycode,
               <a href="https://developer-old.gnome.org/gtk4/html/GdkSurface.html#GdkModifierType"><span class="type">GdkModifierType</span></a>        state,
               <span class="type">gpointer</span>               user_data)</pre> <p>This signal is emitted whenever a key is released.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>controller</p></td> <td class="parameter_description"><p>the object which received the signal.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>keyval</p></td> <td class="parameter_description"><p>the released key.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>keycode</p></td> <td class="parameter_description"><p>the raw code of the released key.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>state</p></td> <td class="parameter_description"><p>the bitmask, representing the state of modifier keys and pointer buttons. See <a href="https://developer-old.gnome.org/gtk4/html/GdkSurface.html#GdkModifierType"><span class="type">GdkModifierType</span></a>.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>user_data</p></td> <td class="parameter_description"><p>user data set when the signal handler was connected.</p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <p>Flags: Run Last</p> </div>  <div class="refsect2"> <h3 id="GtkEventControllerKey-modifiers">The <code class="literal">“modifiers”</code> signal</h3> <pre class="programlisting"><span class="returnvalue">gboolean</span>
user_function (<a href="gtkeventcontrollerkey.html#GtkEventControllerKey-struct"><span class="type">GtkEventControllerKey</span></a> *controller,
               <a href="https://developer-old.gnome.org/gtk4/html/GdkSurface.html#GdkModifierType"><span class="type">GdkModifierType</span></a>        keyval,
               <span class="type">gpointer</span>               user_data)</pre> <p>This signal is emitted whenever the state of modifier keys and pointer buttons change.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>controller</p></td> <td class="parameter_description"><p>the object which received the signal.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>keyval</p></td> <td class="parameter_description"><p>the released key.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>state</p></td> <td class="parameter_description"><p>the bitmask, representing the new state of modifier keys and pointer buttons. See <a href="https://developer-old.gnome.org/gtk4/html/GdkSurface.html#GdkModifierType"><span class="type">GdkModifierType</span></a>.</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>user_data</p></td> <td class="parameter_description"><p>user data set when the signal handler was connected.</p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <p>Flags: Run Last</p> </div> </div> <div class="refsect1"> <h2 id="GtkEventControllerKey.see-also">See Also</h2> <p><a href="gtkeventcontroller.html#GtkEventController-struct"><span class="type">GtkEventController</span></a></p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2020 The GNOME Project<br>Licensed under the GNU Lesser General Public License version 2.1 or later.<br>
    <a href="https://developer-old.gnome.org/gtk4/4.0/GtkEventControllerKey.html" class="_attribution-link">https://developer-old.gnome.org/gtk4/4.0/GtkEventControllerKey.html</a>
  </p>
</div>
