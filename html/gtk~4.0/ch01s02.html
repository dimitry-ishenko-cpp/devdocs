<h1>Hello, World</h1>
<div class="sect1">  <p> In the long tradition of programming languages and libraries, this example is called <span class="emphasis"><em>Hello, World</em></span>. </p> <div class="figure"> <p class="title"><b>Figure 2. Hello, world</b></p> <div class="figure-contents"><div class="mediaobject"><img alt="Hello, world" src="data:image/png;base64,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"></div></div> </div> <div class="sect2"> <div class="titlepage"><div><div><h3 class="title" id="gtk-getting-started-hello-world"> Hello World in C</h3></div></div></div> <p> Create a new file with the following content named <code class="literal">example-1.c</code>. </p> <pre class="programlisting" data-language="c">#include &lt;gtk/gtk.h&gt;

static void
print_hello (GtkWidget *widget,
             gpointer   data)
{
  g_print ("Hello World\n");
}

static void
activate (GtkApplication *app,
          gpointer        user_data)
{
  GtkWidget *window;
  GtkWidget *button;
  GtkWidget *box;

  window = gtk_application_window_new (app);
  gtk_window_set_title (GTK_WINDOW (window), "Window");
  gtk_window_set_default_size (GTK_WINDOW (window), 200, 200);

  box = gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
  gtk_window_set_child (GTK_WINDOW (window), box);

  button = gtk_button_new_with_label ("Hello World");
  g_signal_connect (button, "clicked", G_CALLBACK (print_hello), NULL);
  g_signal_connect_swapped (button, "clicked", G_CALLBACK (gtk_window_destroy), window);
  gtk_box_append (GTK_BOX (box), button);

  gtk_widget_show (window);
}

int
main (int    argc,
      char **argv)
{
  GtkApplication *app;
  int status;

  app = gtk_application_new ("org.gtk.example", G_APPLICATION_FLAGS_NONE);
  g_signal_connect (app, "activate", G_CALLBACK (activate), NULL);
  status = g_application_run (G_APPLICATION (app), argc, argv);
  g_object_unref (app);

  return status;
}
</pre> <p> You can compile the program above with GCC using: </p> <pre class="programlisting" data-language="c">gcc `pkg-config --cflags gtk4` -o example-1 example-1.c `pkg-config --libs gtk4`
</pre> <p> As seen above, example-1.c builds further upon example-0.c by adding a button to our window, with the label <span class="quote">“<span class="quote">Hello World</span>”</span>. Two new GtkWidget pointers are declared to accomplish this, <code class="literal">button</code> and <code class="literal">box</code>. The box variable is created to store a GtkBox, which is GTK’s way of controlling the size and layout of buttons. </p> <p> The GtkBox is created with <a href="gtkbox.html#gtk-box-new"><code class="function">gtk_box_new()</code></a> which takes a GtkOrientation enum as parameter. The buttons which this box will contain can either be laid out horizontally or vertically. This does not matter in this particular case, as we are dealing with only one button. After initializing box with the newly created GtkBox, the code adds the box widget to the window widget using <a href="gtkwindow.html#gtk-window-set-child"><code class="function">gtk_window_set_child()</code></a>. </p> <p> Next the <code class="literal">button</code> variable is initialized in similar manner. <a href="gtkbutton.html#gtk-button-new-with-label"><code class="function">gtk_button_new_with_label()</code></a> is called which returns a GtkButton to be stored in <code class="literal">button</code>. Afterwards <code class="literal">button</code> is added to our <code class="literal">box</code>. </p> <p> Using <code class="function">g_signal_connect()</code>, the button is connected to a function in our app called <code class="function">print_hello()</code>, so that when the button is clicked, GTK will call this function. As the <code class="function">print_hello()</code> function does not use any data as input, NULL is passed to it. <code class="function">print_hello()</code> calls <code class="function">g_print()</code> with the string <span class="quote">“<span class="quote">Hello World</span>”</span> which will print Hello World in a terminal if the GTK application was started from one. </p> <p> After connecting <code class="function">print_hello()</code>, another signal is connected to the <span class="quote">“<span class="quote">clicked</span>”</span> state of the button using <code class="function">g_signal_connect_swapped()</code>. This functions is similar to a <code class="function">g_signal_connect()</code> with the difference lying in how the callback function is treated. <code class="function">g_signal_connect_swapped()</code> allows you to specify what the callback function should take as parameter by letting you pass it as data. In this case the function being called back is <a href="gtkwindow.html#gtk-window-destroy"><code class="function">gtk_window_destroy()</code></a> and the <code class="literal">window</code> pointer is passed to it. This has the effect that when the button is clicked, the whole GTK window is destroyed. In contrast if a normal <code class="function">g_signal_connect()</code> were used to connect the <span class="quote">“<span class="quote">clicked</span>”</span> signal with <a href="gtkwindow.html#gtk-window-destroy"><code class="function">gtk_window_destroy()</code></a>, then the function would be called on <code class="literal">button</code> (which would not go well, since the function expects a GtkWindow as argument). </p> <p> More information about creating buttons can be found <a class="ulink" href="https://wiki.gnome.org/HowDoI/Buttons" target="_top">here</a>. </p> <p> The rest of the code in <code class="literal">example-1.c</code> is identical to <code class="literal">example-0.c</code>. The next section will elaborate further on how to add several GtkWidgets to your GTK application. </p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2020 The GNOME Project<br>Licensed under the GNU Lesser General Public License version 2.1 or later.<br>
    <a href="https://developer-old.gnome.org/gtk4/4.0/ch01s02.html" class="_attribution-link">https://developer-old.gnome.org/gtk4/4.0/ch01s02.html</a>
  </p>
</div>
