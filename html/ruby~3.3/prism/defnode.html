<h1 id="class-Prism::DefNode" class="class"> class Prism::DefNode </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="node.html">Prism::Node</a></dd>
</dl> <section class="description"> <p>Represents a method definition.</p> <pre>def method
end
^^^^^^^^^^</pre> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-body"> <span class="method-name">body</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader body: <a href="node.html"><code>Node</code></a>?</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-def_keyword_loc"> <span class="method-name">def_keyword_loc</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader <a href="defnode.html#attribute-i-def_keyword_loc"><code>def_keyword_loc</code></a>: <a href="location.html"><code>Location</code></a></p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-end_keyword_loc"> <span class="method-name">end_keyword_loc</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader <a href="defnode.html#attribute-i-end_keyword_loc"><code>end_keyword_loc</code></a>: <a href="location.html"><code>Location</code></a>?</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-equal_loc"> <span class="method-name">equal_loc</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader <a href="defnode.html#attribute-i-equal_loc"><code>equal_loc</code></a>: <a href="location.html"><code>Location</code></a>?</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-locals"> <span class="method-name">locals</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader locals: <span>Array</span></p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-locals_body_index"> <span class="method-name">locals_body_index</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader <a href="defnode.html#attribute-i-locals_body_index"><code>locals_body_index</code></a>: <a href="../integer.html"><code>Integer</code></a></p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-lparen_loc"> <span class="method-name">lparen_loc</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader <a href="defnode.html#attribute-i-lparen_loc"><code>lparen_loc</code></a>: <a href="location.html"><code>Location</code></a>?</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-name"> <span class="method-name">name</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader name: <a href="../symbol.html"><code>Symbol</code></a></p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-name_loc"> <span class="method-name">name_loc</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader <a href="defnode.html#attribute-i-name_loc"><code>name_loc</code></a>: <a href="location.html"><code>Location</code></a></p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-operator_loc"> <span class="method-name">operator_loc</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader <a href="defnode.html#attribute-i-operator_loc"><code>operator_loc</code></a>: <a href="location.html"><code>Location</code></a>?</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-parameters"> <span class="method-name">parameters</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader parameters: <a href="parametersnode.html"><code>ParametersNode</code></a>?</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-receiver"> <span class="method-name">receiver</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader receiver: <a href="node.html"><code>Node</code></a>?</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-rparen_loc"> <span class="method-name">rparen_loc</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader <a href="defnode.html#attribute-i-rparen_loc"><code>rparen_loc</code></a>: <a href="location.html"><code>Location</code></a>?</p> </div> </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(name, name_loc, receiver, parameters, body, locals, locals_body_index, def_keyword_loc, operator_loc, lparen_loc, rparen_loc, equal_loc, end_keyword_loc, location)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5278
def initialize(name, name_loc, receiver, parameters, body, locals, locals_body_index, def_keyword_loc, operator_loc, lparen_loc, rparen_loc, equal_loc, end_keyword_loc, location)
  @name = name
  @name_loc = name_loc
  @receiver = receiver
  @parameters = parameters
  @body = body
  @locals = locals
  @locals_body_index = locals_body_index
  @def_keyword_loc = def_keyword_loc
  @operator_loc = operator_loc
  @lparen_loc = lparen_loc
  @rparen_loc = rparen_loc
  @equal_loc = equal_loc
  @end_keyword_loc = end_keyword_loc
  @location = location
end</pre> </div> <p>def initialize: (name: <a href="../symbol.html"><code>Symbol</code></a>, <a href="defnode.html#attribute-i-name_loc"><code>name_loc</code></a>: <a href="location.html"><code>Location</code></a>, receiver: <a href="node.html"><code>Node</code></a>?, parameters: <a href="parametersnode.html"><code>ParametersNode</code></a>?, body: <a href="node.html"><code>Node</code></a>?, locals: <span>Array</span>, <a href="defnode.html#attribute-i-locals_body_index"><code>locals_body_index</code></a>: <a href="../integer.html"><code>Integer</code></a>, <a href="defnode.html#attribute-i-def_keyword_loc"><code>def_keyword_loc</code></a>: <a href="location.html"><code>Location</code></a>, <a href="defnode.html#attribute-i-operator_loc"><code>operator_loc</code></a>: <a href="location.html"><code>Location</code></a>?, <a href="defnode.html#attribute-i-lparen_loc"><code>lparen_loc</code></a>: <a href="location.html"><code>Location</code></a>?, <a href="defnode.html#attribute-i-rparen_loc"><code>rparen_loc</code></a>: <a href="location.html"><code>Location</code></a>?, <a href="defnode.html#attribute-i-equal_loc"><code>equal_loc</code></a>: <a href="location.html"><code>Location</code></a>?, <a href="defnode.html#attribute-i-end_keyword_loc"><code>end_keyword_loc</code></a>: <a href="location.html"><code>Location</code></a>?, location: <a href="location.html"><code>Location</code></a>) -&gt; void</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-type"> <span class="method-name">type</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="type-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5435
def self.type
  :def_node
end</pre> </div> <p>Similar to <a href="defnode.html#method-i-type"><code>type</code></a>, this method returns a symbol that you can use for splitting on the type of the node without having to do a long === chain. Note that like <a href="defnode.html#method-i-type"><code>type</code></a>, it will still be slower than using == for a single class, but should be faster in a case statement or an array comparison.</p> <p>def self.type: () -&gt; <a href="../symbol.html"><code>Symbol</code></a></p>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-accept"> <span class="method-name">accept</span><span class="method-args">(visitor)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="accept-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5296
def accept(visitor)
  visitor.visit_def_node(self)
end</pre> </div> <p>def accept: (visitor: <a href="visitor.html"><code>Visitor</code></a>) -&gt; void</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-child_nodes"> <span class="method-name">child_nodes</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="child_nodes-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5301
def child_nodes
  [receiver, parameters, body]
end</pre> </div> <p>def <a href="defnode.html#method-i-child_nodes"><code>child_nodes</code></a>: () -&gt; Array[nil | Node]</p>  </div> <div class="aliases"> Also aliased as: <a href="defnode.html#method-i-deconstruct">deconstruct</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-comment_targets"> <span class="method-name">comment_targets</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="comment_targets-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5315
def comment_targets
  [name_loc, *receiver, *parameters, *body, def_keyword_loc, *operator_loc, *lparen_loc, *rparen_loc, *equal_loc, *end_keyword_loc]
end</pre> </div> <p>def <a href="defnode.html#method-i-comment_targets"><code>comment_targets</code></a>: () -&gt; Array[Node | Location]</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-compact_child_nodes"> <span class="method-name">compact_child_nodes</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="compact_child_nodes-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5306
def compact_child_nodes
  compact = []
  compact &lt;&lt; receiver if receiver
  compact &lt;&lt; parameters if parameters
  compact &lt;&lt; body if body
  compact
end</pre> </div> <p>def <a href="defnode.html#method-i-compact_child_nodes"><code>compact_child_nodes</code></a>: () -&gt; <span>Array</span></p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-copy"> <span class="method-name">copy</span><span class="method-args">(**params)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="copy-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5320
def copy(**params)
  DefNode.new(
    params.fetch(:name) { name },
    params.fetch(:name_loc) { name_loc },
    params.fetch(:receiver) { receiver },
    params.fetch(:parameters) { parameters },
    params.fetch(:body) { body },
    params.fetch(:locals) { locals },
    params.fetch(:locals_body_index) { locals_body_index },
    params.fetch(:def_keyword_loc) { def_keyword_loc },
    params.fetch(:operator_loc) { operator_loc },
    params.fetch(:lparen_loc) { lparen_loc },
    params.fetch(:rparen_loc) { rparen_loc },
    params.fetch(:equal_loc) { equal_loc },
    params.fetch(:end_keyword_loc) { end_keyword_loc },
    params.fetch(:location) { location },
  )
end</pre> </div> <p>def copy: (**params) -&gt; <a href="defnode.html"><code>DefNode</code></a></p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-deconstruct"> <span class="method-name">deconstruct</span><span class="method-args">()</span> </div> </div> <div class="method-description"> <p>def deconstruct: () -&gt; Array[nil | Node]</p> </div> <div class="aliases"> Alias for: <a href="defnode.html#method-i-child_nodes">child_nodes</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-deconstruct_keys"> <span class="method-name">deconstruct_keys</span><span class="method-args">(keys)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="deconstruct_keys-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5343
def deconstruct_keys(keys)
  { name: name, name_loc: name_loc, receiver: receiver, parameters: parameters, body: body, locals: locals, locals_body_index: locals_body_index, def_keyword_loc: def_keyword_loc, operator_loc: operator_loc, lparen_loc: lparen_loc, rparen_loc: rparen_loc, equal_loc: equal_loc, end_keyword_loc: end_keyword_loc, location: location }
end</pre> </div> <p>def <a href="defnode.html#method-i-deconstruct_keys"><code>deconstruct_keys</code></a>: (keys: <span>Array</span>) -&gt; Hash[Symbol, nil | <a href="node.html"><code>Node</code></a> | <span>Array</span> | <a href="../string.html"><code>String</code></a> | <a href="token.html"><code>Token</code></a> | <span>Array</span> | Location]</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-def_keyword"> <span class="method-name">def_keyword</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="def_keyword-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5348
def def_keyword
  def_keyword_loc.slice
end</pre> </div> <p>def <a href="defnode.html#method-i-def_keyword"><code>def_keyword</code></a>: () -&gt; <a href="../string.html"><code>String</code></a></p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-end_keyword"> <span class="method-name">end_keyword</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="end_keyword-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5373
def end_keyword
  end_keyword_loc&amp;.slice
end</pre> </div> <p>def <a href="defnode.html#method-i-end_keyword"><code>end_keyword</code></a>: () -&gt; <a href="../string.html"><code>String</code></a>?</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-equal"> <span class="method-name">equal</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="equal-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5368
def equal
  equal_loc&amp;.slice
end</pre> </div> <p>def equal: () -&gt; <a href="../string.html"><code>String</code></a>?</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-inspect"> <span class="method-name">inspect</span><span class="method-args">(inspector = NodeInspector.new)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="inspect-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5378
def inspect(inspector = NodeInspector.new)
  inspector &lt;&lt; inspector.header(self)
  inspector &lt;&lt; "├── name: #{name.inspect}\n"
  inspector &lt;&lt; "├── name_loc: #{inspector.location(name_loc)}\n"
  if (receiver = self.receiver).nil?
    inspector &lt;&lt; "├── receiver: ∅\n"
  else
    inspector &lt;&lt; "├── receiver:\n"
    inspector &lt;&lt; receiver.inspect(inspector.child_inspector("│   ")).delete_prefix(inspector.prefix)
  end
  if (parameters = self.parameters).nil?
    inspector &lt;&lt; "├── parameters: ∅\n"
  else
    inspector &lt;&lt; "├── parameters:\n"
    inspector &lt;&lt; parameters.inspect(inspector.child_inspector("│   ")).delete_prefix(inspector.prefix)
  end
  if (body = self.body).nil?
    inspector &lt;&lt; "├── body: ∅\n"
  else
    inspector &lt;&lt; "├── body:\n"
    inspector &lt;&lt; body.inspect(inspector.child_inspector("│   ")).delete_prefix(inspector.prefix)
  end
  inspector &lt;&lt; "├── locals: #{locals.inspect}\n"
  inspector &lt;&lt; "├── locals_body_index: #{locals_body_index.inspect}\n"
  inspector &lt;&lt; "├── def_keyword_loc: #{inspector.location(def_keyword_loc)}\n"
  inspector &lt;&lt; "├── operator_loc: #{inspector.location(operator_loc)}\n"
  inspector &lt;&lt; "├── lparen_loc: #{inspector.location(lparen_loc)}\n"
  inspector &lt;&lt; "├── rparen_loc: #{inspector.location(rparen_loc)}\n"
  inspector &lt;&lt; "├── equal_loc: #{inspector.location(equal_loc)}\n"
  inspector &lt;&lt; "└── end_keyword_loc: #{inspector.location(end_keyword_loc)}\n"
  inspector.to_str
end</pre> </div> <p>def inspect(inspector: NodeInspector) -&gt; <a href="../string.html"><code>String</code></a></p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-lparen"> <span class="method-name">lparen</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="lparen-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5358
def lparen
  lparen_loc&amp;.slice
end</pre> </div> <p>def lparen: () -&gt; <a href="../string.html"><code>String</code></a>?</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-operator"> <span class="method-name">operator</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="operator-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5353
def operator
  operator_loc&amp;.slice
end</pre> </div> <p>def operator: () -&gt; <a href="../string.html"><code>String</code></a>?</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-rparen"> <span class="method-name">rparen</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="rparen-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5363
def rparen
  rparen_loc&amp;.slice
end</pre> </div> <p>def rparen: () -&gt; <a href="../string.html"><code>String</code></a>?</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-type"> <span class="method-name">type</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="type-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 5425
def type
  :def_node
end</pre> </div> <p>Sometimes you want to check an instance of a node against a list of classes to see what kind of behavior to perform. Usually this is done by calling ‘[cls1, cls2].include?(node.class)` or putting the node into a case statement and doing `case node; when cls1; when cls2; end`. Both of these approaches are relatively slow because of the constant lookups, method calls, and/or array allocations.</p> <p>Instead, you can call <a href="defnode.html#method-i-type"><code>type</code></a>, which will return to you a symbol that you can use for comparison. This is faster than the other approaches because it uses a single integer comparison, but also because if you’re on CRuby you can take advantage of the fact that case statements with all symbol keys will use a jump table.</p> <p>def type: () -&gt; <a href="../symbol.html"><code>Symbol</code></a></p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core &copy; 1993&ndash;2022 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library &copy; contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>
