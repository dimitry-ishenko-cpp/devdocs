<header><h1>Screen Capture API</h1></header><div class="section-content"><p>The Screen Capture API introduces additions to the existing Media Capture and Streams API to let the user select a screen or portion of a screen (such as a window) to capture as a media stream. This stream can then be recorded or shared with others over the network.</p></div>
<h2 id="screen_capture_api_concepts_and_usage">Screen Capture API concepts and usage</h2>
<div class="section-content">
<p>The Screen Capture API is relatively simple to use. Its sole method is <a href="mediadevices/getdisplaymedia.html"><code>MediaDevices.getDisplayMedia()</code></a>, whose job is to ask the user to select a screen or portion of a screen to capture in the form of a <a href="mediastream.html"><code>MediaStream</code></a>.</p> <p>To start capturing video from the screen, you call <code>getDisplayMedia()</code> on <code>navigator.mediaDevices</code>:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="XYiknFkLu8xXIXKpaFjj9TBpfdNx6Y6luMTDA8SpbxI=" data-language="js">captureStream <span class="token operator">=</span>
  <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>mediaDevices<span class="token punctuation">.</span><span class="token function">getDisplayMedia</span><span class="token punctuation">(</span>displayMediaOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> returned by <code>getDisplayMedia()</code> resolves to a <a href="mediastream.html"><code>MediaStream</code></a> which streams the captured media.</p> <p>See the article <a href="screen_capture_api/using_screen_capture.html">Using the Screen Capture API</a> for a more in-depth look at how to use the API to capture screen contents as a stream.</p>
</div>
<h2 id="interfaces">Interfaces</h2>
<div class="section-content"><dl> <dt id="sect1"><a href="capturecontroller.html"><code>CaptureController</code></a></dt> <dd> <p>Provides methods that can be used to further manipulate a capture session separate from its initiation via <a href="mediadevices/getdisplaymedia.html"><code>MediaDevices.getDisplayMedia()</code></a>. A <code>CaptureController</code> object is associated with a capture session by passing it into a <a href="mediadevices/getdisplaymedia.html"><code>getDisplayMedia()</code></a> call as the value of the options object's <code>controller</code> property.</p> </dd> </dl></div>
<h2 id="additions_to_the_mediadevices_interface">Additions to the MediaDevices interface</h2>
<div class="section-content"><dl> <dt id="sect2"><a href="mediadevices/getdisplaymedia.html"><code>MediaDevices.getDisplayMedia()</code></a></dt> <dd> <p>The <code>getDisplayMedia()</code> method is added to the <code>MediaDevices</code> interface. Similar to <a href="mediadevices/getusermedia.html"><code>getUserMedia()</code></a>, this method creates a promise that resolves with a <a href="mediastream.html"><code>MediaStream</code></a> containing the display area selected by the user, in a format that matches the specified options.</p> </dd> </dl></div>
<h2 id="additions_to_existing_dictionaries">Additions to existing dictionaries</h2>
<div class="section-content"><p>The Screen Capture API adds properties to the following dictionaries defined by other specifications.</p></div>
<h3 id="mediatrackconstraints">MediaTrackConstraints</h3>
<div class="section-content"><dl> <dt id="sect3"><a href="mediatrackconstraints/displaysurface.html"><code>MediaTrackConstraints.displaySurface</code></a></dt> <dd> <p>A <a href="mediatrackconstraints.html#constraindomstring"><code>ConstrainDOMString</code></a> indicating what type of display surface is to be captured. The value is one of <code>browser</code>, <code>monitor</code>, or <code>window</code>.</p> </dd> <dt id="sect4"><a href="mediatrackconstraints/logicalsurface.html"><code>MediaTrackConstraints.logicalSurface</code></a></dt> <dd> <p>Indicates whether or not the video in the stream represents a logical display surface (that is, one which may not be entirely visible onscreen, or may be completely offscreen). A value of <code>true</code> indicates a logical display surface is to be captured.</p> </dd> <dt id="sect5"><a href="mediatrackconstraints/suppresslocalaudioplayback.html"><code>MediaTrackConstraints.suppressLocalAudioPlayback</code></a></dt> <dd> <p>Controls whether the audio playing in a tab will continue to be played out of a user's local speakers when the tab is captured, or whether it will be suppressed. A value of <code>true</code> indicates that it will be suppressed.</p> </dd> </dl></div>
<h3 id="mediatracksettings">MediaTrackSettings</h3>
<div class="section-content"><dl> <dt id="sect6"><a href="mediatracksettings/cursor.html"><code>MediaTrackSettings.cursor</code></a></dt> <dd> <p>A string which indicates whether or not the display surface currently being captured includes the mouse cursor, and if so, whether it's only visible while the mouse is in motion or if it's always visible. The value is one of <code>always</code>, <code>motion</code>, or <code>never</code>.</p> </dd> <dt id="sect7"><a href="mediatracksettings/displaysurface.html"><code>MediaTrackSettings.displaySurface</code></a></dt> <dd> <p>A string indicating what type of display surface is currently being captured. The value is one of <code>browser</code>, <code>monitor</code>, or <code>window</code>.</p> </dd> <dt id="sect8"><a href="mediatracksettings/logicalsurface.html"><code>MediaTrackSettings.logicalSurface</code></a></dt> <dd> <p>A boolean value, which is <code>true</code> if the video being captured doesn't directly correspond to a single onscreen display area.</p> </dd> <dt id="sect9"><a href="mediatracksettings/suppresslocalaudioplayback.html"><code>MediaTrackSettings.suppressLocalAudioPlayback</code></a></dt> <dd> <p>A boolean value, which is <code>true</code> if the audio being captured is not played out of the user's local speakers.</p> </dd> </dl></div>
<h3 id="mediatracksupportedconstraints">MediaTrackSupportedConstraints</h3>
<div class="section-content"><dl> <dt id="sect10"><a href="mediatracksupportedconstraints/displaysurface.html"><code>MediaTrackSupportedConstraints.displaySurface</code></a></dt> <dd> <p>A boolean, which is <code>true</code> if the current environment supports the <a href="mediatrackconstraints/displaysurface.html"><code>MediaTrackConstraints.displaySurface</code></a> constraint.</p> </dd> <dt id="sect11"><a href="mediatracksupportedconstraints/logicalsurface.html"><code>MediaTrackSupportedConstraints.logicalSurface</code></a></dt> <dd> <p>A boolean, which is <code>true</code> if the current environment supports the constraint <a href="mediatrackconstraints/logicalsurface.html"><code>MediaTrackConstraints.logicalSurface</code></a>.</p> </dd> <dt id="sect12"><a href="mediatracksupportedconstraints/suppresslocalaudioplayback.html"><code>MediaTrackSupportedConstraints.suppressLocalAudioPlayback</code></a></dt> <dd> <p>A boolean, which is <code>true</code> if the current environment supports the constraint <a href="mediatrackconstraints/suppresslocalaudioplayback.html"><code>MediaTrackConstraints.suppressLocalAudioPlayback</code></a>.</p> </dd> </dl></div>
<h2 id="permissions_policy_validation">Permissions Policy validation</h2>
<div class="section-content">
<p><a href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent">User agents</a> that support <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy">Permissions Policy</a> (either using the HTTP <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy"><code>Permissions-Policy</code></a> header or the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a> attribute <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#allow"><code>allow</code></a>) can specify a desire to use the Screen Capture API using the directive <code>display-capture</code>:</p> <div class="code-example">
<p class="example-header"><span class="language-name">html</span></p>
<pre data-signature="rc77OqtAYG1NRymyUCXwdRVfDjR6eNGOiJt4Lc1jMKM=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">allow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>display-capture<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/some-other-document.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>â€¦<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <p>The default allowlist is <code>self</code>, which lets any content within the same origin use Screen Capture.</p>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/mediacapture-screen-share/#dom-mediadevices-getdisplaymedia">Screen Capture <br><small># dom-mediadevices-getdisplaymedia</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>Screen_Capture_API</code></th>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">79<details><summary>17â€“79</summary>Available as a member of <code>Navigator</code> instead of <code>MediaDevices</code>.</details>
</td>
<td class="bc-supports-yes">66<details><summary>33â€“66</summary>Since Firefox 33 you can capture screen data using <code><a href="https://developer.mozilla.org/docs/Web/API/MediaDevices/getUserMedia">getUserMedia()</a></code>, with a <code>video</code> constraint called <code>mediaSource</code>. Before 52 it relied on a client-configurable list of allowed sites.</details>
</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">13</td>
<td class="bc-supports-no"><details><summary>No</summary>From Chrome Android 72 to 88, this method was exposed, but always failed with <code>NotAllowedError</code>. See <a href="https://crbug.com/487935">bug 487935</a>.</details></td>
<td class="bc-supports-no"><details><summary>No</summary>From Chrome Android 72 to 88, this method was exposed, but always failed with <code>NotAllowedError</code>. See <a href="https://crbug.com/487935">bug 487935</a>.</details></td>
<td class="bc-supports-no"><details><summary>No</summary>From Firefox Android 66 to 79, this method was exposed, but always failed with <code>NotAllowedError</code>.</details></td>
<td class="bc-supports-no"><details><summary>No</summary>From Opera Android 72 to 88, this method was exposed, but always failed with <code>NotAllowedError</code>. See <a href="https://crbug.com/487935">bug 487935</a>.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no"><details><summary>No</summary>From Samsung Internet Android 72 to 88, this method was exposed, but always failed with <code>NotAllowedError</code>. See <a href="https://crbug.com/487935">bug 487935</a>.</details></td>
</tr>
<tr>
<th><code>audio_capture_support</code></th>
<td class="bc-supports-yes"><details><summary>74</summary>On Windows and Chrome OS the entire system audio can be captured, but on Linux and macOS only the audio of a tab can be captured.</details></td>
<td class="bc-supports-yes"><details><summary>â‰¤79</summary>On Windows, the entire system audio can be captured, but on Linux and macOS only the audio of a tab can be captured.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>62</summary>On Windows, the entire system audio can be captured, but on Linux and macOS only the audio of a tab can be captured.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>controller_option</code></th>
<td class="bc-supports-yes">109</td>
<td class="bc-supports-yes">109</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">95</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>preferCurrentTab_option</code></th>
<td class="bc-supports-yes"><details><summary>94</summary>Default value = <code>false</code></details></td>
<td class="bc-supports-yes"><details><summary>94</summary>Default value = <code>false</code></details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>80</summary>Default value = <code>false</code></details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>selfBrowserSurface_option</code></th>
<td class="bc-supports-yes">
<details><summary>112</summary>Default value = <code>exclude</code></details><details><summary>107â€“111</summary>Default value = <code>include</code></details>
</td>
<td class="bc-supports-yes">
<details><summary>112</summary>Default value = <code>exclude</code></details><details><summary>107â€“111</summary>Default value = <code>include</code></details>
</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">
<details><summary>98</summary>Default value = <code>exclude</code></details><details><summary>93â€“97</summary>Default value = <code>include</code></details>
</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>surfaceSwitching_option</code></th>
<td class="bc-supports-yes"><details><summary>107</summary>Default value = <code>exclude</code></details></td>
<td class="bc-supports-yes"><details><summary>107</summary>Default value = <code>exclude</code></details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>93</summary>Default value = <code>exclude</code></details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>systemAudio_option</code></th>
<td class="bc-supports-yes"><details><summary>105</summary>Default value = <code>include</code></details></td>
<td class="bc-supports-yes"><details><summary>105</summary>Default value = <code>include</code></details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>91</summary>Default value = <code>include</code></details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
</tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="screen_capture_api/using_screen_capture.html">Using the Screen Capture API</a></li> <li><a href="mediadevices/getdisplaymedia.html"><code>MediaDevices.getDisplayMedia()</code></a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Screen_Capture_API" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Screen_Capture_API</a>
  </p>
</div>
