<header><h1>Document: startViewTransition() method</h1>
<details class="baseline-indicator not"><summary><div class="status-title"><span class="not-bold">Limited availability</span></div>

</summary><div class="extra">
<p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FDocument%2FstartViewTransition&amp;level=not" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content">
<p>The <code>startViewTransition()</code> method of the <a href="../document.html"><code>Document</code></a> interface starts a new same-document (SPA) <a href="../view_transition_api.html">view transition</a> and returns a <a href="../viewtransition.html"><code>ViewTransition</code></a> object to represent it.</p> <p>When <code>startViewTransition()</code> is invoked, a sequence of steps is followed as explained in <a href="../view_transition_api/using.html#the_view_transition_process">The view transition process</a>.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js">startViewTransition()
startViewTransition(updateCallback)
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="updatecallback"><a href="#updatecallback"><code>updateCallback</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An optional callback function typically invoked to update the DOM during the SPA view transition process, which returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>. The callback is invoked once the API has taken a snapshot of the current page. When the promise returned by the callback fulfills, the view transition begins in the next frame. If the promise returned by the callback rejects, the transition is abandoned.</p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="../viewtransition.html"><code>ViewTransition</code></a> object instance.</p></div>
<h2 id="examples">Examples</h2>

<h3 id="basic_usage">Basic usage</h3>
<div class="section-content">
<p>In our <a href="https://mdn.github.io/dom-examples/view-transitions/spa/" target="_blank">Basic SPA View Transitions demo</a>, the <code>updateView()</code> function handles both browsers that do and don't support the View Transition API. In supporting browsers, we invoke <code>startViewTransition()</code> to trigger the view transition process without worrying about the return value.</p> <div class="code-example"><pre data-language="js">function updateView(event) {
  // Handle the difference in whether the event is fired on the &lt;a&gt; or the &lt;img&gt;
  let targetIdentifier;
  if (event.target.firstChild === null) {
    targetIdentifier = event.target;
  } else {
    targetIdentifier = event.target.firstChild;
  }

  const displayNewImage = () =&gt; {
    const mainSrc = `${targetIdentifier.src.split("_th.jpg")[0]}.jpg`;
    galleryImg.src = mainSrc;
    galleryCaption.textContent = targetIdentifier.alt;
  };

  // Fallback for browsers that don't support View Transitions:
  if (!document.startViewTransition) {
    displayNewImage();
    return;
  }

  // With View Transitions:
  const transition = document.startViewTransition(() =&gt; displayNewImage());
}
</pre></div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://drafts.csswg.org/css-view-transitions/#dom-document-startviewtransition">CSS View Transitions Module Level 1 <br><small># dom-document-startviewtransition</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>startViewTransition</code></th>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">97</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">75</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">22.0</td>
<td class="bc-supports-yes">111</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="https://developer.chrome.com/docs/web-platform/view-transitions/" target="_blank">Smooth transitions with the View Transition API</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition</a>
  </p>
</div>
