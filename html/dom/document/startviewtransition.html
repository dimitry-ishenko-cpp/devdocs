<header><h1>Document: startViewTransition() method</h1></header><div class="section-content">
<div class="notecard experimental" id="sect1"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p> The <code>startViewTransition()</code> method of the <a href="../view_transitions_api.html">View Transitions API</a> starts a new view transition and returns a <a href="../viewtransition.html"><code>ViewTransition</code></a> object to represent it. </p> <p>When <code>startViewTransition()</code> is invoked, a sequence of steps is followed as explained in <a href="../view_transitions_api.html#the_view_transition_process">The view transition process</a>.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="tiksixbEu+uNecTnYnEkdhhLM+kkMsGsKN0BNNOpMvU=" data-language="js"><span class="token function">startViewTransition</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="callback"><a href="#callback"><code>callback</code></a></dt> <dd> <p>A callback function typically invoked to update the DOM during the view transition process, which returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>. The callback is invoked once the API has taken a screenshot of the current page. When the promise returned by the callback fulfills, the view transition begins in the next frame. If the promise returned by the callback rejects, the transition is abandoned.</p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="../viewtransition.html"><code>ViewTransition</code></a> object instance.</p></div>
<h2 id="examples">Examples</h2>

<h3 id="basic_usage">Basic usage</h3>
<div class="section-content">
<p>In our <a href="https://mdn.github.io/dom-examples/view-transitions/" target="_blank">Basic View Transitions demo</a>, the <code>updateView()</code> function handles both browsers that do and don't support the View Transitions API. In supporting browsers, we invoke <code>startViewTransition()</code> to set off the view transition process without worrying about the return value.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="jqMlmug1k+JYcjGpCa9JdIvz2aLm4b7pp9f7cc4nwOk=" data-language="js"><span class="token keyword">function</span> <span class="token function">updateView</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Handle the difference in whether the event is fired on the &lt;a&gt; or the &lt;img&gt;</span>
  <span class="token keyword">let</span> targetIdentifier<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>firstChild <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    targetIdentifier <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    targetIdentifier <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> <span class="token function-variable function">displayNewImage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> mainSrc <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>targetIdentifier<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"_th.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.jpg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    galleryImg<span class="token punctuation">.</span>src <span class="token operator">=</span> mainSrc<span class="token punctuation">;</span>
    galleryCaption<span class="token punctuation">.</span>textContent <span class="token operator">=</span> targetIdentifier<span class="token punctuation">.</span>alt<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Fallback for browsers that don't support View Transitions:</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>document<span class="token punctuation">.</span>startViewTransition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">displayNewImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// With View Transitions:</span>
  <span class="token keyword">const</span> transition <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">startViewTransition</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">displayNewImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://drafts.csswg.org/css-view-transitions/#dom-document-startviewtransition">CSS View Transitions Module Level 1 <br><small># dom-document-startviewtransition</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>startViewTransition</code></th>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">97</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">22.0</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="https://developer.chrome.com/docs/web-platform/view-transitions/" target="_blank">Smooth and simple transitions with the View Transitions API</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Document/startViewTransition</a>
  </p>
</div>
