<header><h1>Document: createNodeIterator() method</h1></header><div class="section-content"><p>The <code>Document.createNodeIterator()</code> method returns a new <a href="../nodeiterator.html"><code>NodeIterator</code></a> object.</p></div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="/vL/JrmUAgS2j8zojUIi418wsKTduwfGl3+uy0FZ/Wg=" data-language="js"><span class="token function">createNodeIterator</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>
<span class="token function">createNodeIterator</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> whatToShow<span class="token punctuation">)</span>
<span class="token function">createNodeIterator</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> whatToShow<span class="token punctuation">,</span> filter<span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="root"><a href="#root"><code>root</code></a></dt> <dd> <p>The root node at which to begin the <a href="../nodeiterator.html"><code>NodeIterator</code></a>'s traversal.</p> </dd> <dt id="whattoshow">
<a href="#whattoshow"><code>whatToShow</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> An optional <code>unsigned long</code> representing a bitmask created by combining the constant properties of <a href="https://www.w3.org/TR/DOM-Level-2-Traversal-Range/traversal.html#Traversal-NodeFilter" target="_blank"><code>NodeFilter</code></a>. It is a convenient way of filtering for certain types of node. It defaults to <code>0xFFFFFFFF</code> representing the <code>SHOW_ALL</code> constant. </p> <figure class="table-container"><div class="_table"><table> <thead> <tr> <th>Constant</th> <th>Numerical value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>NodeFilter.SHOW_ALL</code></td> <td>
<code>4294967295</code> (that is the max value of <code>unsigned long</code>)</td> <td>Shows all nodes.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_ATTRIBUTE</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr>
</td> <td><code>2</code></td> <td>Shows attribute <a href="../attr.html"><code>Attr</code></a> nodes. This is meaningful only when creating a <a href="../treewalker.html"><code>TreeWalker</code></a> with an <a href="../attr.html"><code>Attr</code></a> node as its root. In this case, it means that the attribute node will appear in the first position of the iteration or traversal. Since attributes are never children of other nodes, they do not appear when traversing over the document tree.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_CDATA_SECTION</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr>
</td> <td><code>8</code></td> <td>Shows <a href="../cdatasection.html"><code>CDATASection</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_COMMENT</code></td> <td><code>128</code></td> <td>Shows <a href="../comment.html"><code>Comment</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_DOCUMENT</code></td> <td><code>256</code></td> <td>Shows <a href="../document.html"><code>Document</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_DOCUMENT_FRAGMENT</code></td> <td><code>1024</code></td> <td>Shows <a href="../documentfragment.html"><code>DocumentFragment</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_DOCUMENT_TYPE</code></td> <td><code>512</code></td> <td>Shows <a href="../documenttype.html"><code>DocumentType</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_ELEMENT</code></td> <td><code>1</code></td> <td>Shows <a href="../element.html"><code>Element</code></a> nodes.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_ENTITY</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr>
</td> <td><code>32</code></td> <td>Legacy, no more usable.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_ENTITY_REFERENCE</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr>
</td> <td><code>16</code></td> <td>Legacy, no more usable.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_NOTATION</code> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr>
</td> <td><code>2048</code></td> <td>Legacy, no more usable.</td> </tr> <tr> <td><code>NodeFilter.SHOW_PROCESSING_INSTRUCTION</code></td> <td><code>64</code></td> <td>Shows <a href="../processinginstruction.html"><code>ProcessingInstruction</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_TEXT</code></td> <td><code>4</code></td> <td>Shows <a href="../text.html"><code>Text</code></a> nodes.</td> </tr> </tbody> </table></div></figure> </dd> <dt id="filter">
<a href="#filter"><code>filter</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A callback function or an object with an <code>acceptNode()</code> method. The function or method will be called for each node in the subtree based at root which is accepted as included by the whatToShow flag to determine whether or not to include it in the list of iterable nodes. The method should return one of <code>NodeFilter.FILTER_ACCEPT</code>, <code>NodeFilter.FILTER_REJECT</code>, or <code>NodeFilter.FILTER_SKIP</code>. See the <a href="#examples">Example</a>.</p> <p>For <code>createNodeIterator</code>, the values <code>NodeFilter.FILTER_REJECT</code> and <code>NodeFilter.FILTER_SKIP</code> are equivalent. This node will not be included in the list of iterable nodes, but its children will continue to be iterated over.</p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A new <a href="../nodeiterator.html"><code>NodeIterator</code></a> object.</p></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="Xeku+7ffNjsYp3wJJGqaTyDAI+VkZjjfFIVPmTOJILg=" data-language="js"><span class="token keyword">const</span> nodeIterator <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createNodeIterator</span><span class="token punctuation">(</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">,</span>
  NodeFilter<span class="token punctuation">.</span><span class="token constant">SHOW_ELEMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    node<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"p"</span>
      <span class="token operator">?</span> NodeFilter<span class="token punctuation">.</span><span class="token constant">FILTER_ACCEPT</span>
      <span class="token operator">:</span> NodeFilter<span class="token punctuation">.</span><span class="token constant">FILTER_REJECT</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> currentNode<span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>currentNode <span class="token operator">=</span> nodeIterator<span class="token punctuation">.</span><span class="token function">nextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  pars<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>The same, but using an object with an <code>acceptNode()</code> method:</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="gyzCoeWeS+fS+jlOilVRIkHn9P/2jmW7pD9qgi2Q2/Q=" data-language="js"><span class="token keyword">const</span> nodeIterator <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createNodeIterator</span><span class="token punctuation">(</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">,</span>
  NodeFilter<span class="token punctuation">.</span><span class="token constant">SHOW_ELEMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function">acceptNode</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> node<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"p"</span>
        <span class="token operator">?</span> NodeFilter<span class="token punctuation">.</span><span class="token constant">FILTER_ACCEPT</span>
        <span class="token operator">:</span> NodeFilter<span class="token punctuation">.</span><span class="token constant">FILTER_REJECT</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> currentNode<span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>currentNode <span class="token operator">=</span> nodeIterator<span class="token punctuation">.</span><span class="token function">nextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  pars<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://dom.spec.whatwg.org/#dom-document-createnodeiterator">DOM Standard <br><small># dom-document-createnodeiterator</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>createNodeIterator</code></th>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">12</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">9</td>
<td class="bc-supports-yes">3</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">4</td>
<td class="bc-supports-yes">10.1</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">1.0</td>
<td class="bc-supports-yes">4.4</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/createNodeIterator" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Document/createNodeIterator</a>
  </p>
</div>
