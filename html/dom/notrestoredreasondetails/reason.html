<header><h1>NotRestoredReasonDetails: reason property</h1></header><div class="section-content">
<div class="notecard experimental" id="sect1"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p> The <code>reason</code> read-only property of the <a href="../notrestoredreasondetails.html"><code>NotRestoredReasonDetails</code></a> interface returns a string describing a reason that the page was blocked from using the back/forward cache (<a href="https://developer.mozilla.org/en-US/docs/Glossary/bfcache">bfcache</a>). </p>
</div>
<h2 id="value">Value</h2>
<div class="section-content">
<p>A string.</p> <p>There are many different reasons why blocking could occur, and browsers can choose to implement their own specific reasons for blocking, based on how they operate. Developers should avoid depending on specific wording for reasons and be prepared to handle new reasons being added and deleted.</p> <p>The initial values listed in the specification are:</p> <dl> <dt id="fetch"><a href="#fetch"><code>"fetch"</code></a></dt> <dd> <p>While unloading, a fetch initiated by the current document (e.g. via <a href="../window/fetch.html"><code>fetch()</code></a>) was canceled while ongoing. As a result, the page was not in a stable state that could be stored in the bfcache.</p> </dd> <dt id="lock"><a href="#lock"><code>"lock"</code></a></dt> <dd> <p>While unloading, held locks and lock requests were terminated, so the page was not in a stable state that could be stored in the bfcache.</p> </dd> <dt id="masked"><a href="#masked"><code>"masked"</code></a></dt> <dd> <p>The exact reason is hidden for privacy purposes. This value can mean one of the following:</p> <ul> <li>The current document has children contained in a cross-origin <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a>, and they prevented storage in the bfcache.</li> <li>The current Document could not be stored in the bfcache for user agent-specific reasons.</li> </ul> </dd> <dt id="navigation-failure"><a href="#navigation-failure"><code>"navigation-failure"</code></a></dt> <dd> <p>The original navigation that created the current document errored, and storing the resulting error document in the bfcache was prevented.</p> </dd> <dt id="parser-aborted"><a href="#parser-aborted"><code>"parser-aborted"</code></a></dt> <dd> <p>The current document never finished its initial HTML parsing, and storing the unfinished document in the bfcache was prevented.</p> </dd> <dt id="websocket"><a href="#websocket"><code>"websocket"</code></a></dt> <dd> <p>While unloading, an open <a href="../websockets_api.html">WebSocket</a> connect was shut down, so the page was not in a stable state that could be stored in the bfcache.</p> </dd> </dl> <p>Additional blocking reasons may be used by some browsers, for example:</p> <dl> <dt id="unload-listener"><a href="#unload-listener"><code>"unload-listener"</code></a></dt> <dd> <p>The page registers an <a href="../window/unload_event.html"><code>unload</code></a> handler, which prevents bfcache usage. This serves as a useful warning, as <code>unload</code> is deprecated. See <a href="../window/unload_event.html#usage_notes">usage notes</a> for more information.</p> </dd> <dt id="response-cache-control-no-store"><a href="#response-cache-control-no-store"><code>"response-cache-control-no-store"</code></a></dt> <dd> <p>The page uses <code>no-store</code> as a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control"><code>Cache-Control</code></a> header value.</p> </dd> <dt id="related-active-contents"><a href="#related-active-contents"><code>"related-active-contents"</code></a></dt> <dd> <p>The page was opened from another page that still has a reference to this page, for example using "duplicate tab" functionality.</p> </dd> </dl>
</div>
<h2 id="examples">Examples</h2>
<div class="section-content"><p>See <a href="../performance_api/monitoring_bfcache_blocking_reasons.html">Monitoring bfcache blocking reasons</a> for examples.</p></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-not-restored-reason-details-reason">HTML Standard <br><small># dom-not-restored-reason-details-reason</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>reason</code></th>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">125</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">83</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">125</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../performance_api/monitoring_bfcache_blocking_reasons.html">Monitoring bfcache blocking reasons</a></li> <li><a href="../performancenavigationtiming/notrestoredreasons.html"><code>PerformanceNavigationTiming.notRestoredReasons</code></a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/NotRestoredReasonDetails/reason" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/NotRestoredReasonDetails/reason</a>
  </p>
</div>
