<header><h1>PaymentRequestUpdateEvent: updateWith() method</h1>
<details class="baseline-indicator not"><summary><div class="status-title"><span class="not-bold">Limited availability</span></div>

</summary><div class="extra">
<p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPaymentRequestUpdateEvent%2FupdateWith&amp;level=not" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content">
<div class="notecard secure"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div> <p>The <code>updateWith()</code> method of the <a href="../paymentrequestupdateevent.html"><code>PaymentRequestUpdateEvent</code></a> interface updates the details of an existing <a href="../paymentrequest.html"><code>PaymentRequest</code></a>.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js">updateWith(details)
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="details"><a href="#details"><code>details</code></a></dt> <dd> <p>Either an object or a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to an object, specifying the changes applied to the payment request:</p> <dl> <dt id="displayitems"><a href="#displayitems"><code>displayItems</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An array of objects, each describing one line item for the payment request. These represent the line items on a receipt or invoice, each with the following properties:</p> <dl> <dt id="amount"><a href="#amount"><code>amount</code></a></dt> <dd> <p>An object describing the monetary value of the item. This object includes the following fields:</p> <dl> <dt id="currency"><a href="#currency"><code>currency</code></a></dt> <dd> <p>A string containing a valid 3-letter <a href="https://www.iso.org/iso-4217-currency-codes.html" target="_blank">ISO 4217</a> currency identifier (<a href="https://en.wikipedia.org/wiki/ISO_4217" target="_blank">ISO 4217</a>) indicating the currency used for the payment <code>value</code>.</p> </dd> <dt id="value"><a href="#value"><code>value</code></a></dt> <dd> <p>A string containing a valid decimal value representing the mount of currency constituting the payment amount. This string must only contain an optional leading "-" to indicate a negative value, then one or more digits from 0 to 9, and an optional decimal point (".", regardless of locale) followed by at least one more digit. No whitespace is permitted.</p> </dd> </dl> </dd> <dt id="label"><a href="#label"><code>label</code></a></dt> <dd> <p>A string specifying a human-readable name or description of the item or service being charged for. This may be displayed to the user by the <a href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent">user agent</a>, depending on the design of the interface.</p> </dd> <dt id="pending"><a href="#pending"><code>pending</code></a></dt> <dd> <p>A Boolean value which is <code>true</code> if the specified <code>amount</code> has not yet been finalized. This can be used to show items such as shipping or tax amounts that depend upon the selection of shipping address, shipping option, or so forth. The user agent may show this information but is not required to do so.</p> </dd> </dl> </dd> <dt id="error"><a href="#error"><code>error</code> <span class="badge inline optional">Optional</span> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr> <abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using."> <span class="visually-hidden">Non-standard</span> </abbr></a></dt> <dd> <p>A string specifying an error message to present to the user. When calling <code>updateWith()</code>, including <code>error</code> in the updated data causes the <a href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent">user agent</a> to display the text as a general error message. For address field-specific errors, use the <code>shippingAddressErrors</code> field.</p> </dd> <dt id="modifiers"><a href="#modifiers"><code>modifiers</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a> of <code>PaymentDetailsModifier</code> objects, whose properties are described in <a href="../paymentrequestevent/modifiers.html"><code>PaymentRequestEvent.modifiers</code></a>.</p> <p>For example, you can use one to adjust the total payment amount based on the selected payment method ("5% cash discount!").</p> </dd> <dt id="shippingaddresserrors"><a href="#shippingaddresserrors"><code>shippingAddressErrors</code> <span class="badge inline optional">Optional</span> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr> <abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using."> <span class="visually-hidden">Non-standard</span> </abbr></a></dt> <dd> <p>An object which includes an error message for each property of the shipping address that could not be validated.</p> </dd> <dt id="shippingoptions"><a href="#shippingoptions"><code>shippingOptions</code> <span class="badge inline optional">Optional</span> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr> <abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using."> <span class="visually-hidden">Non-standard</span> </abbr></a></dt> <dd> <p>An array of objects, each describing one available shipping option from which the user may choose.</p> </dd> <dt id="total"><a href="#total"><code>total</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An object with the same properties as the objects in <code>displayItems</code> providing an updated total for the payment. Make sure this equals the sum of all of the items in <code>displayItems</code>. <em>This is not calculated automatically</em>. You must update this value yourself anytime the total amount due changes. This lets you have flexibility for how to handle things like tax, discounts, and other adjustments to the total price charged.</p> </dd> </dl> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>None (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>).</p></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/payment-request/#dom-paymentrequestupdateevent-updatewith">Payment Request API <br><small># dom-paymentrequestupdateevent-updatewith</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>updateWith</code></th>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">55</td>
<td class="bc-supports-yes">47</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">41</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">6.0</td>
<td class="bc-supports-no">No</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequestUpdateEvent/updateWith" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequestUpdateEvent/updateWith</a>
  </p>
</div>
