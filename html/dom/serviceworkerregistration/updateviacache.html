<header><h1>ServiceWorkerRegistration: updateViaCache property</h1></header><div class="section-content">
<div class="notecard secure" id="sect1"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> This feature is available in <a href="../web_workers_api.html">Web Workers</a>.</p> </div> <p>The <code>updateViaCache</code> read-only property of the <a href="../serviceworkerregistration.html"><code>ServiceWorkerRegistration</code></a> interface returns the value of the setting used to determine the circumstances in which the browser will consult the HTTP cache when it tries to update the service worker or any scripts that are imported via <a href="../workerglobalscope/importscripts.html"><code>importScripts()</code></a>.</p>
</div>
<h2 id="value">Value</h2>
<div class="section-content">
<p>Returns one of the following values:</p> <ul> <li>
<code>imports</code>, meaning the HTTP cache is not consulted for updates to the service worker script, but is consulted for scripts imported using <a href="../workerglobalscope/importscripts.html"><code>importScripts()</code></a>. This is the default value.</li> <li>
<code>all</code>, meaning the HTTP cache is consulted for updates to the service worker script and for scripts imported using <a href="../workerglobalscope/importscripts.html"><code>importScripts()</code></a>.</li> <li>
<code>none</code>, meaning the HTTP cache is never consulted.</li> </ul>
</div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p>The following example shows the use of updateViaCache.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="C69mW/mQ6ZtJo62RiCVJiAziAxeVkIFt/QjsuDZ/Bns=" data-language="js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"serviceWorker"</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  navigator<span class="token punctuation">.</span>serviceWorker
    <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">"/service-worker.js"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">updateViaCache</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      registration<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"updatefound"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// If updatefound is fired, it means that there's</span>
        <span class="token comment">// a new service worker being installed.</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Value of updateViaCache: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>registration<span class="token punctuation">.</span>updateViaCache<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Service worker registration failed: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/ServiceWorker/#service-worker-registration-updateviacache">Service Workers <br><small># service-worker-registration-updateviacache</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>updateViaCache</code></th>
<td class="bc-supports-yes">68</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes">55</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">68</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes">48</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">10.0</td>
<td class="bc-supports-yes">68</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../service_worker_api/using_service_workers.html">Using Service Workers</a></li> <li><a href="https://github.com/mdn/dom-examples/tree/main/service-worker/simple-service-worker" target="_blank">Service workers basic code example</a></li> <li><a href="../web_workers_api/using_web_workers.html">Using web workers</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/updateViaCache" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/updateViaCache</a>
  </p>
</div>
