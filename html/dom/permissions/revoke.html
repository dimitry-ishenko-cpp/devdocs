<header><h1>Permissions: revoke() method</h1></header><div class="section-content">
<div class="notecard note"><p><strong>Note:</strong> This feature is available in <a href="../web_workers_api.html">Web Workers</a>.</p></div> <div class="notecard deprecated"><p><strong>Deprecated:</strong> This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the <a href="#browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p></div> <p>The <code>revoke()</code> method of the <a href="../permissions.html"><code>Permissions</code></a> interface reverts a currently set permission back to its default state, which is usually <code>prompt</code>. This method is called on the global <a href="../permissions.html"><code>Permissions</code></a> object <a href="../navigator/permissions.html"><code>navigator.permissions</code></a>.</p> <p>This method is removed from the main permissions API specification because its use case is unclear. Permissions are managed by the browser and the current permission model does not involve the site developer being able to imperatively request or revoke permissions. Browsers have shipped this API behind preferences but it's unlikely to reach the standards track. For more context, see the <a href="https://github.com/w3c/permissions/issues/46" target="_blank">original discussion to remove <code>permissions.revoke()</code></a>.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js">revoke(permissionDescriptor)
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="permissiondescriptor"><a href="#permissiondescriptor"><code>permissionDescriptor</code></a></dt> <dd> <p>An object that sets options for the <code>revoke</code> operation. The available options for this descriptor depend on the permission type.</p> <p>All permissions have a name:</p> <dl> <dt id="name"><a href="#name"><code>name</code></a></dt> <dd> <p>A string containing the name of the API whose permissions you want to query. The returned <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> will reject with a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a> if the permission name is not supported by the browser.</p> </dd> </dl> <p>For the <code>push</code> permissions you can also specify:</p> <dl> <dt id="uservisibleonly"><a href="#uservisibleonly"><code>userVisibleOnly</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>(Push only, not supported in Firefox — see the Browser Support section below) Indicates whether you want to show a notification for every message or be able to send silent push notifications. The default is <code>false</code>.</p> </dd> </dl> <p>For the <code>midi</code> permission you can also specify:</p> <dl> <dt id="sysex"><a href="#sysex"><code>sysex</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>Indicates whether you need and/or receive system exclusive messages. The default is <code>false</code>.</p> </dd> </dl> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that calls its fulfillment handler with a <a href="../permissionstatus.html"><code>PermissionStatus</code></a> object indicating the result of the request.</p></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><dl> <dt id="typeerror"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a></dt> <dd> <p>Retrieving the <code>PermissionDescriptor</code> information failed in some way, or the permission doesn't exist or is currently unsupported (e.g. <code>midi</code>, or <code>push</code> with <code>userVisibleOnly</code>).</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p>This function can be used by an app to request that its own Geolocation API permission be revoked.</p> <div class="code-example"><pre data-language="js">function revokePermission() {
  navigator.permissions.revoke({ name: "geolocation" }).then((result) =&gt; {
    report(result.state);
  });
}
</pre></div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://wicg.github.io/permissions-revoke/#dom-permissions-revoke">Relinquishing Permissions <br><small># dom-permissions-revoke</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>revoke</code></th>
<td class="bc-supports-yes">46</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">5147–51</td>
<td class="bc-supports-yes">33</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">46</td>
<td class="bc-supports-no">47–51</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions/revoke" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Permissions/revoke</a>
  </p>
</div>
