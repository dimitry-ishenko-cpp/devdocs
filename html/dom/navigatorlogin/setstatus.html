<header><h1>NavigatorLogin: setStatus() method</h1></header><div class="section-content">
<div class="notecard secure" id="sect1"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div>
<div class="notecard experimental" id="sect2"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The <code>setStatus()</code> method of the <a href="../navigatorlogin.html"><code>NavigatorLogin</code></a> interface sets the login status of a federated identity provider (IdP), when called from the IdP's origin. By this, we mean "whether any users are logged into the IdP on the current browser or not". This should be called by the IdP site following a user login or logout.</p> <p>The browser stores this state for each IdP; the <a href="../fedcm_api.html">FedCM API</a> API then uses it to reduce the number of requests it makes to the IdP (because it does not need to waste time requesting accounts when there are no users logged in to the IdP). It also mitigates <a href="https://github.com/w3c-fedid/FedCM/issues/447" target="_blank">potential timing attacks</a>.</p> <p>See <a href="../fedcm_api/idp_integration.html#update_login_status_using_the_login_status_api">Update login status using the Login Status API</a> for more information about FedCM login status.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="yM+LTsrk5/J90rAVp83Ni55lT6BK7BeAV/wUds0aGgQ=" data-language="js"><span class="token function">setStatus</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="status"><a href="#status"><code>status</code></a></dt> <dd> <p>A string representing the login status to set for the IdP. Possible values are:</p> <ul> <li>
<code>"logged-in"</code>: The IdP has at least one user account signed in.</li> <li>
<code>"logged-out"</code>: All IdP user accounts are currently signed out.</li> </ul> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that fulfills with <code>undefined</code>.</p></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><dl> <dt id="securityerror">
<a href="#securityerror"><code>SecurityError</code></a> <a href="../domexception.html"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if the calling domain is not in a frame where all of the nesting hierarchy is same-origin. Whether called from the main frame, an <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a> nested inside the main frame, or another <code>&lt;iframe&gt;</code> nested one or more levels deep inside the first <code>&lt;iframe&gt;</code>, <em>all</em> levels of the nesting hierarchy must be same-origin for the call to be successful.</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>
<div class="section-content"><div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="yrOC8rsSXWzWNgySRKanRXTht+/U/IijxXK7cUmbQw8=" data-language="js"><span class="token comment">/* Set logged-in status */</span>
navigator<span class="token punctuation">.</span>login<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">"logged-in"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Set logged-out status */</span>
navigator<span class="token punctuation">.</span>login<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token string">"logged-out"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://fedidcg.github.io/FedCM/#dom-navigatorlogin-setstatus">Federated Credential Management API <br><small># dom-navigatorlogin-setstatus</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>setStatus</code></th>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">106</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">120</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">25.0</td>
<td class="bc-supports-no">No</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../fedcm_api.html">Federated Credential Management (FedCM) API</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigatorLogin/setStatus" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/NavigatorLogin/setStatus</a>
  </p>
</div>
