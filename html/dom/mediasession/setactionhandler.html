<header><h1>MediaSession: setActionHandler() method</h1>
<details class="baseline-indicator not"><summary><div class="status-title"><span class="not-bold">Limited availability</span></div>

</summary><div class="extra">
<p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaSession%2FsetActionHandler&amp;level=not" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content"><p>The <code>setActionHandler()</code> method of the <a href="../mediasession.html"><code>MediaSession</code></a> interface sets a handler for a media session action. These actions let a web app receive notifications when the user engages a device's built-in physical or onscreen media controls, such as play, stop, or seek buttons.</p></div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js">setActionHandler(type, callback)
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="type"><a href="#type"><code>type</code></a></dt> <dd> <p>A string representing an action type to listen for. It will be one of the following:</p> <dl> <dt id="hangup"><a href="#hangup"><code>hangup</code></a></dt> <dd> <p>End a call.</p> </dd> <dt id="nextslide"><a href="#nextslide"><code>nextslide</code></a></dt> <dd> <p>Moves to the next slide, when presenting a slide deck.</p> </dd> <dt id="nexttrack"><a href="#nexttrack"><code>nexttrack</code></a></dt> <dd> <p>Advances playback to the next track.</p> </dd> <dt id="pause"><a href="#pause"><code>pause</code></a></dt> <dd> <p>Pauses playback of the media.</p> </dd> <dt id="play"><a href="#play"><code>play</code></a></dt> <dd> <p>Begins (or resumes) playback of the media.</p> </dd> <dt id="previousslide"><a href="#previousslide"><code>previousslide</code></a></dt> <dd> <p>Moves to the previous slide, when presenting a slide deck.</p> </dd> <dt id="previoustrack"><a href="#previoustrack"><code>previoustrack</code></a></dt> <dd> <p>Moves back to the previous track.</p> </dd> <dt id="seekbackward"><a href="#seekbackward"><code>seekbackward</code></a></dt> <dd> <p>Seeks backward through the media from the current position. The <code>seekOffset</code> property passed to the callback specifies the amount of time to seek backward.</p> </dd> <dt id="seekforward"><a href="#seekforward"><code>seekforward</code></a></dt> <dd> <p>Seeks forward from the current position through the media. The <code>seekOffset</code> property passed to the callback specifies the amount of time to seek forward.</p> </dd> <dt id="seekto"><a href="#seekto"><code>seekto</code></a></dt> <dd> <p>Moves the playback position to the specified time within the media. The time to which to seek is specified in the <code>seekTime</code> property passed to the callback. If you intend to perform multiple <code>seekto</code> operations in rapid succession, you can also specify the <code>fastSeek</code> property passed to the callback with a value of <code>true</code>. This lets the browser know it can take steps to optimize repeated operations, and is likely to result in improved performance.</p> </dd> <dt id="skipad"><a href="#skipad"><code>skipad</code></a></dt> <dd> <p>Skips past the currently playing advertisement or commercial. This action may or may not be available, depending on the platform and <a href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent">user agent</a>, or may be disabled due to subscription level or other circumstances.</p> </dd> <dt id="stop"><a href="#stop"><code>stop</code></a></dt> <dd> <p>Halts playback entirely.</p> </dd> <dt id="togglecamera"><a href="#togglecamera"><code>togglecamera</code></a></dt> <dd> <p>Turn the user's active camera on or off.</p> </dd> <dt id="togglemicrophone"><a href="#togglemicrophone"><code>togglemicrophone</code></a></dt> <dd> <p>Mute or unmute the user's microphone.</p> </dd> </dl> </dd> <dt id="callback"><a href="#callback"><code>callback</code></a></dt> <dd> <p>A function to call when the specified action type is invoked. The callback should not return a value. The callback receives a dictionary containing the following properties:</p> <dl> <dt id="action"><a href="#action"><code>action</code></a></dt> <dd> <p>A string representing the action type. This property allows a single callback to handle multiple action types.</p> </dd> <dt id="fastseek"><a href="#fastseek"><code>fastSeek</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>A <a href="#seekto"><code>seekto</code></a> action may <em>optionally</em> include this property, which is a Boolean value indicating whether or not to perform a "fast" seek. A "fast" seek is a seek being performed in a rapid sequence, such as when fast-forwarding or reversing through the media, rapidly skipping through it. This property can be used to indicate that you should use the shortest possible method to seek the media. <code>fastSeek</code> is not included on the final action in the seek sequence in this situation.</p> </dd> <dt id="seekoffset"><a href="#seekoffset"><code>seekOffset</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>If the <code>action</code> is either <a href="#seekforward"><code>seekforward</code></a> or <a href="#seekbackward"><code>seekbackward</code></a> and this property is present, it is a floating point value which indicates the number of seconds to move the play position forward or backward. If this property isn't present, those actions should choose a reasonable default distance to skip forward or backward (such as 7 or 10 seconds).</p> </dd> <dt id="seektime"><a href="#seektime"><code>seekTime</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>If the <code>action</code> is <a href="#seekto"><code>seekto</code></a>, this property must be present and must be a floating-point value indicating the absolute time within the media to move the playback position to, where 0 indicates the beginning of the media. This property is not present for other action types.</p> </dd> </dl> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>None (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>).</p></div>
<h2 id="description">Description</h2>
<div class="section-content">
<p>To remove a previously-established action handler, call <code>setActionHandler()</code> again, specifying <code>null</code> as the <code>callback</code>.</p> <p>The action handler receives as input a single parameter: an object which provides both the action type (so the same function can handle multiple action types), as well as data needed in order to perform the action.</p>
</div>
<h2 id="examples">Examples</h2>

<h3 id="setting_up_action_handlers_for_a_music_player">Setting up action handlers for a music player</h3>
<div class="section-content">
<p>This example creates a new media session and assigns action handlers (which don't do anything) to it.</p> <div class="code-example"><pre data-language="js">if ("mediaSession" in navigator) {
  navigator.mediaSession.metadata = new MediaMetadata({
    title: "Unforgettable",
    artist: "Nat King Cole",
    album: "The Ultimate Collection (Remastered)",
    artwork: [
      {
        src: "https://dummyimage.com/96x96",
        sizes: "96x96",
        type: "image/png",
      },
      {
        src: "https://dummyimage.com/128x128",
        sizes: "128x128",
        type: "image/png",
      },
      {
        src: "https://dummyimage.com/192x192",
        sizes: "192x192",
        type: "image/png",
      },
      {
        src: "https://dummyimage.com/256x256",
        sizes: "256x256",
        type: "image/png",
      },
      {
        src: "https://dummyimage.com/384x384",
        sizes: "384x384",
        type: "image/png",
      },
      {
        src: "https://dummyimage.com/512x512",
        sizes: "512x512",
        type: "image/png",
      },
    ],
  });

  navigator.mediaSession.setActionHandler("play", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("pause", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("stop", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("seekbackward", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("seekforward", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("seekto", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("previoustrack", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("nexttrack", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("skipad", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("togglecamera", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("togglemicrophone", () =&gt; {
    /* Code excerpted. */
  });
  navigator.mediaSession.setActionHandler("hangup", () =&gt; {
    /* Code excerpted. */
  });
}
</pre></div> <p>The following example sets up two functions for playing and pausing, then uses them as callbacks with the relevant action handlers.</p> <div class="code-example"><pre data-language="js">const actionHandlers = [
  // play
  [
    "play",
    async () =&gt; {
      // play our audio
      await audioEl.play();
      // set playback state
      navigator.mediaSession.playbackState = "playing";
      // update our status element
      updateStatus(allMeta[index], "Action: play  |  Track is playing…");
    },
  ],
  [
    "pause",
    () =&gt; {
      // pause out audio
      audioEl.pause();
      // set playback state
      navigator.mediaSession.playbackState = "paused";
      // update our status element
      updateStatus(allMeta[index], "Action: pause  |  Track has been paused…");
    },
  ],
];

for (const [action, handler] of actionHandlers) {
  try {
    navigator.mediaSession.setActionHandler(action, handler);
  } catch (error) {
    console.log(`The media session action "${action}" is not supported yet.`);
  }
}
</pre></div> <p>This example uses appropriate action handlers to allow seeking in either direction through the playing media.</p> <div class="code-example"><pre data-language="js">navigator.mediaSession.setActionHandler("seekbackward", (evt) =&gt; {
  // User clicked "Seek Backward" media notification icon.
  let skipTime = evt.seekOffset || 10; // Time to skip in seconds
  audio.currentTime = Math.max(audio.currentTime - skipTime, 0);
});

navigator.mediaSession.setActionHandler("seekforward", (evt) =&gt; {
  // User clicked "Seek Forward" media notification icon.
  let skipTime = evt.seekOffset || 10; // Time to skip in seconds
  audio.currentTime = Math.min(audio.currentTime + skipTime, audio.duration);
});
</pre></div> <p>To remove a media action handler, assign it to null.</p> <div class="code-example"><pre data-language="js">navigator.mediaSession.setActionHandler("nexttrack", null);
</pre></div>
</div>
<h3 id="supporting_multiple_actions_in_one_handler_function">Supporting multiple actions in one handler function</h3>
<div class="section-content">
<p>You can also, if you prefer, use a single function to handle multiple action types, by checking the value of the <code>action</code> property:</p> <div class="code-example"><pre data-language="js">let skipTime = 7;

navigator.mediaSession.setActionHandler("seekforward", handleSeek);
navigator.mediaSession.setActionHandler("seekbackward", handleSeek);

function handleSeek(details) {
  switch (details.action) {
    case "seekforward":
      audio.currentTime = Math.min(
        audio.currentTime + skipTime,
        audio.duration,
      );
      break;
    case "seekbackward":
      audio.currentTime = Math.max(audio.currentTime - skipTime, 0);
      break;
  }
}
</pre></div> <p>Here, the <code>handleSeek()</code> function handles both <code>seekbackward</code> and <code>seekforward</code> actions.</p>
</div>
<h3 id="using_action_handlers_to_control_a_slide_presentation">Using action handlers to control a slide presentation</h3>
<div class="section-content">
<p>The <code>"previousslide"</code> and <code>"nextslide"</code> action handlers can be used to handle moving forward and backward through a slide presentation, for example when the user puts their presentation into a <a href="../picture-in-picture_api.html">Picture-in-Picture</a> window, and presses the browser-supplied controls for navigating through slides.</p> <div class="code-example"><pre data-language="js">try {
  navigator.mediaSession.setActionHandler("previousslide", () =&gt; {
    log('&gt; User clicked "Previous Slide" icon.');
    if (slideNumber &gt; 1) slideNumber--;
    updateSlide();
  });
} catch (error) {
  log('Warning! The "previousslide" media session action is not supported.');
}

try {
  navigator.mediaSession.setActionHandler("nextslide", () =&gt; {
    log('&gt; User clicked "Next Slide" icon.');
    slideNumber++;
    updateSlide();
  });
} catch (error) {
  log('Warning! The "nextslide" media session action is not supported.');
}
</pre></div> <p>See <a href="https://googlechrome.github.io/samples/media-session/slides.html" target="_blank">Presenting Slides / Media Session Sample</a> for a working example.</p>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/mediasession/#dom-mediasession-setactionhandler">Media Session <br><small># dom-mediasession-setactionhandler</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>setActionHandler</code></th>
<td class="bc-supports-yes">73</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes"><details><summary>82</summary>Firefox exposes the API, but does not provide a corresponding user-facing media control interface.</details></td>
<td class="bc-supports-yes">43</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">7.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>hangup_type</code></th>
<td class="bc-supports-yes">93</td>
<td class="bc-supports-yes">93</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">93</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">66</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>nextslide_type</code></th>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">97</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">75</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">22.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>nexttrack_type</code></th>
<td class="bc-supports-yes">73</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">43</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">7.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>pause_type</code></th>
<td class="bc-supports-yes">73</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">43</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">7.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>play_type</code></th>
<td class="bc-supports-yes">73</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">43</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">7.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>previousslide_type</code></th>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">97</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">111</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">75</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">22.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>previoustrack_type</code></th>
<td class="bc-supports-yes">73</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">43</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">7.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>seekbackward_type</code></th>
<td class="bc-supports-yes">73</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">43</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">7.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>seekforward_type</code></th>
<td class="bc-supports-yes">73</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">60</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">43</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">7.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>seekto_type</code></th>
<td class="bc-supports-yes">78</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">78</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">56</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">12.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>skipad_type</code></th>
<td class="bc-supports-yes">128</td>
<td class="bc-supports-yes">128</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">114</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">128</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">85</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>stop_type</code></th>
<td class="bc-supports-yes">77</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">64</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">77</td>
<td class="bc-supports-yes">82</td>
<td class="bc-supports-yes">55</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">12.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>togglecamera_type</code></th>
<td class="bc-supports-yes">93</td>
<td class="bc-supports-yes">93</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">93</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">66</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
<td class="bc-supports-no">No</td>
</tr>
<tr>
<th><code>togglemicrophone_type</code></th>
<td class="bc-supports-yes">93</td>
<td class="bc-supports-yes">93</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">93</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">66</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">17.0</td>
<td class="bc-supports-no">No</td>
</tr>
</tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaSession/setActionHandler" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/MediaSession/setActionHandler</a>
  </p>
</div>
