<header><h1>MediaStreamTrack: stop() method</h1>
<details class="baseline-indicator high"><summary><h2>Baseline <span class="not-bold">Widely available</span>
</h2>

</summary><div class="extra">
<p>This feature is well established and works across many devices and browser versions. It’s been available across browsers since September 2017.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaStreamTrack%2Fstop&amp;level=high" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content"><p>The <code>stop()</code> method of the <a href="../mediastreamtrack.html"><code>MediaStreamTrack</code></a> interface stops the track.</p></div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="yYpoFNP9kCbLh/pqXIz4JeP+tdcC9j9kqttDlKhy9uU=" data-language="js"><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><p>None.</p></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>None (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>).</p></div>
<h2 id="description">Description</h2>
<div class="section-content">
<p> Calling <code>stop()</code> tells the <a href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent">user agent</a> that the track's source—whatever that source may be, including files, network streams, or a local camera or microphone—is no longer needed by the <a href="../mediastreamtrack.html"><code>MediaStreamTrack</code></a>. Since multiple tracks may use the same source (for example, if two tabs are using the device's microphone), the source itself isn't necessarily immediately stopped. It is instead disassociated from the track and the track object is stopped. Once no media tracks are using the source, the source may actually be completely stopped. </p> <p> Immediately after calling <code>stop()</code>, the <a href="readystate.html"><code>readyState</code></a> property is set to <code>ended</code>. Note that the <a href="ended_event.html"><code>ended</code></a> event will not be fired in this situation. </p>
</div>
<h2 id="examples">Examples</h2>

<h3 id="stopping_a_video_stream">Stopping a video stream</h3>
<div class="section-content">
<p> In this example, we see a function which stops a streamed video by calling <code>stop()</code> on every track on a given <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a>. </p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="y07ZMiMwMjpbZnGkovEbamyu3YENDNWZFUdE32TwDvw=" data-language="js"><span class="token keyword">function</span> <span class="token function">stopStreamedVideo</span><span class="token punctuation">(</span><span class="token parameter">videoElem</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> stream <span class="token operator">=</span> videoElem<span class="token punctuation">.</span>srcObject<span class="token punctuation">;</span>
  <span class="token keyword">const</span> tracks <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">getTracks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  tracks<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">track</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    track<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  videoElem<span class="token punctuation">.</span>srcObject <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p> This works by obtaining the video element's stream from its <a href="../htmlmediaelement/srcobject.html"><code>srcObject</code></a> property. Then the stream's track list is obtained by calling its <a href="../mediastream/gettracks.html"><code>getTracks()</code></a> method. From there, all that remains to do is to iterate over the track list using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach"><code>forEach()</code></a> and calling each track's <code>stop()</code> method. </p> <p> Finally, <code>srcObject</code> is set to <code>null</code> to sever the link to the <a href="../mediastream.html"><code>MediaStream</code></a> object so it can be released. </p>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/mediacapture-main/#dom-mediastreamtrack-stop">Media Capture and Streams <br><small># dom-mediastreamtrack-stop</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>stop</code></th>
<td class="bc-supports-yes">32</td>
<td class="bc-supports-yes">12</td>
<td class="bc-supports-yes">34</td>
<td class="bc-supports-yes">19</td>
<td class="bc-supports-yes">11</td>
<td class="bc-supports-yes">32</td>
<td class="bc-supports-yes">34</td>
<td class="bc-supports-yes">19</td>
<td class="bc-supports-yes">11</td>
<td class="bc-supports-yes">2.0</td>
<td class="bc-supports-yes">4.4.3</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li>
<a href="../mediastreamtrack.html"><code>MediaStreamTrack</code></a>, the interface it belongs to.</li> <li><a href="readystate.html"><code>MediaStreamTrack.readyState</code></a></li> <li><a href="ended_event.html"><code>ended</code></a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack/stop" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack/stop</a>
  </p>
</div>
