<header><h1>RTCIceCandidate: RTCIceCandidate() constructor</h1></header><div class="section-content"><p> The <code>RTCIceCandidate()</code> constructor creates and returns a new <a href="../rtcicecandidate.html"><code>RTCIceCandidate</code></a> object, which can be configured to represent a single <a href="https://developer.mozilla.org/en-US/docs/Glossary/ICE">ICE</a> candidate. </p></div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="DJfpqaqqELpeaLV/1j+IDPuTGsaU+Q8aUcgrpao5WOs=" data-language="js"><span class="token keyword">new</span> <span class="token class-name">RTCIceCandidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">RTCIceCandidate</span><span class="token punctuation">(</span>candidateInfo<span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="candidateinfo">
<a href="#candidateinfo"><code>candidateInfo</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> An optional object that can be provided to configure the candidate. The object has the following properties: </p> <dl> <dt id="candidate">
<a href="#candidate"><code>candidate</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> A string describing the properties of the candidate, taken directly from the <a href="../webrtc_api/protocols.html#sdp">SDP</a> attribute <code>"candidate"</code>. The candidate string specifies the network connectivity information for the candidate. If the <code>candidate</code> is an empty string (<code>""</code>), the end of the candidate list has been reached; this candidate is known as the "end-of-candidates" marker. </p> <p> The syntax of the candidate string is described in <a href="https://datatracker.ietf.org/doc/html/rfc5245#section-15.1" target="_blank">RFC 5245, section 15.1</a>. For an a-line (attribute line) that looks like this: </p> <pre data-language="plain">a=candidate:4234997325 1 udp 2043278322 192.0.2.172 44323 typ host
</pre> <p> the corresponding <code>candidate</code> string's value will be <code>"candidate:4234997325 1 udp 2043278322 192.0.2.172 44323 typ host"</code>. </p> <p> The <a href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent">user agent</a> always prefers candidates with the highest <a href="priority.html"><code>priority</code></a>, all else being equal. In the example above, the priority is <code>2043278322</code>. The attributes are all separated by a single space character, and are in a specific order. The complete list of attributes for this example candidate is: </p> <ul> <li>
<a href="foundation.html"><code>foundation</code></a> = 4234997325</li> <li>
<a href="component.html"><code>component</code></a> = <code>"rtp"</code> (the number 1 is encoded to this string; 2 becomes <code>"rtcp"</code>)</li> <li>
<a href="protocol.html"><code>protocol</code></a> = <code>"udp"</code>
</li> <li>
<a href="priority.html"><code>priority</code></a> = 2043278322</li> <li>
<a href="address.html"><code>ip</code></a> = <code>"192.0.2.172"</code>
</li> <li>
<a href="port.html"><code>port</code></a> = 44323</li> <li>
<a href="type.html"><code>type</code></a> = <code>"host"</code>
</li> </ul> <p>Additional information can be found in <a href="candidate.html"><code>RTCIceCandidate.candidate</code></a>.</p> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> For backward compatibility with older versions of the WebRTC specification, the constructor also accepts this string directly as an argument.</p> </div> </dd> <dt id="sdpmid">
<a href="#sdpmid"><code>sdpMid</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A string containing the identification tag of the media stream with which the candidate is associated, or <code>null</code> if there is no associated media stream. The default is <code>null</code>.</p> <p>Additional information can be found in <a href="sdpmid.html"><code>RTCIceCandidate.sdpMid</code></a>.</p> </dd> <dt id="sdpmlineindex">
<a href="#sdpmlineindex"><code>sdpMLineIndex</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A number property containing the zero-based index of the m-line with which the candidate is associated, within the <a href="../webrtc_api/protocols.html#sdp">SDP</a> of the media description, or <code>null</code> if no such associated exists. The default is <code>null</code>.</p> <p>Additional information can be found in <a href="sdpmlineindex.html"><code>RTCIceCandidate.sdpMLineIndex</code></a>.</p> </dd> <dt id="usernamefragment">
<a href="#usernamefragment"><code>usernameFragment</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> A string containing the username fragment (usually referred to in shorthand as "ufrag" or "ice-ufrag"). This fragment, along with the ICE password ("ice-pwd"), uniquely identifies a single ongoing ICE interaction (including for any communication with the <a href="https://developer.mozilla.org/en-US/docs/Glossary/STUN">STUN</a> server). </p> <p> The string is generated by WebRTC at the beginning of the session. It may be up to 256 characters long, and at least 24 bits must contain random data. It has no default value and is not present unless set explicitly. </p> <p>Additional information can be found in <a href="usernamefragment.html"><code>RTCIceCandidate.usernameFragment</code></a>.</p> </dd> </dl> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content">
<p>A newly-created <a href="../rtcicecandidate.html"><code>RTCIceCandidate</code></a> object.</p> <p>If <code>candidateInfo</code> is provided, the new <code>RTCIceCandidate</code> is initialized as follows:</p> <ul> <li> Each member of the <code>RTCIceCandidate</code> object is initialized to the value of the property by the same name from <code>candidateInfo</code>. This includes the <a href="candidate.html"><code>candidate</code></a>, <a href="sdpmid.html"><code>sdpMid</code></a>, <a href="sdpmlineindex.html"><code>sdpMLineIndex</code></a>, and <a href="usernamefragment.html"><code>usernameFragment</code></a> properties. </li> <li> The <code>candidate</code> string (which is SDP text) is parsed; each property found is stored in the corresponding field in the <code>RTCIceCandidate</code>. If any of the fields is invalid, parsing of the string silently aborts without throwing an exception. The default value of <code>candidate</code> is the empty string, which indicates that the candidate is an "end-of-candidates" message. </li> <li> The following fields are initialized to <code>null</code> if they are not included in the <a href="candidate.html"><code>RTCIceCandidate.candidate</code></a> property: <a href="foundation.html"><code>foundation</code></a>, <a href="component.html"><code>component</code></a>, <a href="priority.html"><code>priority</code></a>, <a href="address.html"><code>address</code></a>, <a href="protocol.html"><code>protocol</code></a>, <a href="port.html"><code>port</code></a>, <a href="type.html"><code>type</code></a>, <a href="tcptype.html"><code>tcpType</code></a>, <a href="relatedaddress.html"><code>relatedAddress</code></a>, and <a href="relatedport.html"><code>relatedPort</code></a>. </li> </ul> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> Parsing of the <code>candidate</code> string is performed using the <a href="https://w3c.github.io/webrtc-pc/#candidate-attribute-grammar" target="_blank">candidate-attribute grammar</a> from the WebRTC Specification.</p> </div>
</div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><dl> <dt id="typeerror"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a></dt> <dd> <p>Thrown if the specified <code>candidateInfo</code> has values of <code>null</code> in <strong>both</strong> the <code>sdpMid</code> and <code>sdpMLineIndex</code> properties.</p> </dd> </dl></div>
<h2 id="usage_notes">Usage notes</h2>
<div class="section-content"><p>This constructor does not do complete validation of the specified <code>candidateInfo</code> object or string.</p></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-constructor">WebRTC: Real-Time Communication in Browsers <br><small># dom-rtcicecandidate-constructor</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>RTCIceCandidate</code></th>
<td class="bc-supports-yes">23</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">
<details><summary>44</summary>Before Firefox 68, the constructor's <code>candidateInfo</code> parameter is required and the <code>candidateInfo</code> object must have a <code>candidate</code> property.</details><details><summary>22</summary>Before Firefox 68, the constructor's <code>candidateInfo</code> parameter is required and the <code>candidateInfo</code> object must have a <code>candidate</code> property.</details>
</td>
<td class="bc-supports-yes">15</td>
<td class="bc-supports-yes">11</td>
<td class="bc-supports-yes">25</td>
<td class="bc-supports-yes">
<details><summary>44</summary>Before Firefox 68, the constructor's <code>candidateInfo</code> parameter is required and the <code>candidateInfo</code> object must have a <code>candidate</code> property.</details><details><summary>24</summary>Before Firefox 68, the constructor's <code>candidateInfo</code> parameter is required and the <code>candidateInfo</code> object must have a <code>candidate</code> property.</details>
</td>
<td class="bc-supports-yes">14</td>
<td class="bc-supports-yes">11</td>
<td class="bc-supports-yes">1.5</td>
<td class="bc-supports-yes">4.4</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../webrtc_api/protocols.html#ice">Introduction to WebRTC protocols</a></li> <li><a href="../webrtc_api/connectivity.html">WebRTC connectivity</a></li> <li><a href="../webrtc_api/session_lifetime.html">Lifetime of a WebRTC session</a></li> <li><a href="../webrtc_api/signaling_and_video_calling.html">Signaling and video calling</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCIceCandidate/RTCIceCandidate" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCIceCandidate/RTCIceCandidate</a>
  </p>
</div>
