<header><h1>WebTransport: getStats() method</h1></header><div class="section-content">
<div class="notecard experimental" id="sect1"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The <code>getStats()</code> method of the <a href="../webtransport.html"><code>WebTransport</code></a> interface asynchronously returns an object containing HTTP/3 connection statistics.</p>
<div class="notecard note" id="sect2"> <p><strong>Note:</strong> This feature is available in <a href="../web_workers_api.html">Web Workers</a></p> </div>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="XQTHtXbblB0kB7dq9C02VMm1Yw2vM3nHfkpou6Yh28s=" data-language="js"><span class="token function">getStats</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><p>None.</p></div>
<h3 id="return_value">Return value</h3>
<div class="section-content">
<p> A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to a object containing HTTP/3 connection statistics. The returned object may have the following properties/statistics: </p> <dl> <dt id="timestamp"><a href="#timestamp"><code>timestamp</code></a></dt> <dd> <p>A <a href="../domhighrestimestamp.html"><code>DOMHighResTimeStamp</code></a> indicating the timestamp at which the statistics were gathered, relative to Jan 1, 1970, UTC.</p> </dd> <dt id="bytessent"><a href="#bytessent"><code>bytesSent</code></a></dt> <dd> <p> A positive integer indicating the number of bytes sent on the QUIC connection, including retransmissions. Note that this count does not include additional data from protocols used by QUIC, such as UDP, or any other outer framing. </p> </dd> <dt id="packetssent"><a href="#packetssent"><code>packetsSent</code></a></dt> <dd> <p>A positive integer indicating the number of packets sent on the QUIC connection, including those that are known to have been lost.</p> </dd> <dt id="packetslost"><a href="#packetslost"><code>packetsLost</code></a></dt> <dd> <p> A positive integer indicating the number of packets lost on the QUIC connection. This value will increase as packets are declared lost, and decrease if they are subsequently received. </p> </dd> <dt id="numoutgoingstreamscreated"><a href="#numoutgoingstreamscreated"><code>numOutgoingStreamsCreated</code></a></dt> <dd> <p>A positive integer indicating the number of outgoing QUIC streams created on the QUIC connection.</p> </dd> <dt id="numincomingstreamscreated"><a href="#numincomingstreamscreated"><code>numIncomingStreamsCreated</code></a></dt> <dd> <p>A positive integer indicating the number of incoming QUIC streams created on the QUIC connection.</p> </dd> <dt id="bytesreceived"><a href="#bytesreceived"><code>bytesReceived</code></a></dt> <dd> <p> A positive integer indicating the total number of bytes received on the QUIC connection. This count includes duplicate data from streams, but does not include additional data for protocols used by QUIC, such as UDP, or any other outer framing. </p> </dd> <dt id="packetsreceived"><a href="#packetsreceived"><code>packetsReceived</code></a></dt> <dd> <p>A positive integer indicating the total number of packets received on the QUIC connection, including packets that were not processable.</p> </dd> <dt id="smoothedrtt"><a href="#smoothedrtt"><code>smoothedRtt</code></a></dt> <dd> <p>A <a href="../domhighrestimestamp.html"><code>DOMHighResTimeStamp</code></a> containing the smoothed <a href="https://developer.mozilla.org/en-US/docs/Glossary/Round_Trip_Time">round-trip time (RTT)</a> currently observed on the connection, calculated as an exponentially weighted moving average of an endpoint's RTT samples after taking account of acknowledgement delays.</p> </dd> <dt id="rttvariation"><a href="#rttvariation"><code>rttVariation</code></a></dt> <dd> <p>A <a href="../domhighrestimestamp.html"><code>DOMHighResTimeStamp</code></a> containing the mean variation in round-trip time samples currently observed on the connection.</p> </dd> <dt id="minrtt"><a href="#minrtt"><code>minRtt</code></a></dt> <dd> <p>A <a href="../domhighrestimestamp.html"><code>DOMHighResTimeStamp</code></a> containing the minimum round-trip time observed on the entire connection.</p> </dd> <dt id="datagrams"><a href="#datagrams"><code>datagrams</code></a></dt> <dd> <p> An object containing statistics for datagram transmission over the connection. The object has the following properties: </p> <dl> <dt id="timestamp_2"><a href="#timestamp_2"><code>timestamp</code></a></dt> <dd> <p>A <a href="../domhighrestimestamp.html"><code>DOMHighResTimeStamp</code></a> indicating the timestamp at which the statistics were gathered, relative to Jan 1, 1970, UTC.</p> </dd> <dt id="expiredoutgoing"><a href="#expiredoutgoing"><code>expiredOutgoing</code></a></dt> <dd> <p> A positive integer indicating the number of datagrams that were dropped from the queue for sending because they expired. Note that the maximum age before a datagram in the send-queue expires can be found in <a href="../webtransportdatagramduplexstream/outgoingmaxage.html"><code>outgoingMaxAge</code></a>. </p> </dd> <dt id="droppedincoming"><a href="#droppedincoming"><code>droppedIncoming</code></a></dt> <dd> <p> A positive integer indicating the number incoming datagrams that were dropped. Incoming datagrams are dropped if the application does not read them before new datagrams overflow the <a href="../webtransportdatagramduplexstream/readable.html"><code>readable</code> stream</a> receive queue. </p> </dd> <dt id="lostoutgoing"><a href="#lostoutgoing"><code>lostOutgoing</code></a></dt> <dd> <p> A positive integer indicating the number of sent datagrams that were declared lost. Note that a datagram may be declared lost if, for example, no acknowledgement arrived within a timeout, or an acknowledgement for a later datagram was received first. </p> </dd> </dl> </dd> </dl>
</div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p> The example below uses <code>await</code> to wait on the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> returned by <code>getStats()</code>. When the promise fulfills, the result for the <code>bytesSent</code> property in the stats object is logged to the console. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="o4Eib8uRoY5zE8iH3DRxiMAVJYB3c6m1e+Q0PmgQslA=" data-language="js"><span class="token keyword">const</span> stats <span class="token operator">=</span> <span class="token keyword">await</span> transport<span class="token punctuation">.</span><span class="token function">getStats</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bytes send: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>stats<span class="token punctuation">.</span>bytesSent<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/webtransport/#dom-webtransport-getstats">WebTransport <br><small># dom-webtransport-getstats</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>getStats</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>114</summary>Method is defined but throws a not-implemented error.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>114</summary>Method is defined but throws a not-implemented error.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebTransport/getStats" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/WebTransport/getStats</a>
  </p>
</div>
