<header><h1>Keyboard: lock() method</h1></header><div class="section-content">
<div class="notecard experimental" id="sect1"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div>
<div class="notecard secure" id="sect2"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div> <p> The <code>lock()</code> method of the <a href="../keyboard.html"><code>Keyboard</code></a> interface returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> after enabling the capture of keypresses for any or all of the keys on the physical keyboard. This method can only capture keys that are granted access by the underlying operating system. </p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="DOYKh9Uc5m/X93TOcrQj5SMXh6QhDrvqrFxwLNI089I=" data-language="js"><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">lock</span><span class="token punctuation">(</span>keyCodes<span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="keycodes">
<a href="#keycodes"><code>keyCodes</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> An <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a> of one or more key codes to lock. If no keycodes are provided all keys will be locked. A list of valid code values is found in the <a href="https://www.w3.org/TR/uievents-code/#key-alphanumeric-writing-system" target="_blank">UI Events KeyboardEvent code Values</a> spec. </p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>.</p></div>
<h2 id="security">Security</h2>
<div class="section-content"><p><a href="https://developer.mozilla.org/en-US/docs/Web/Security/User_activation">Transient user activation</a> is required. The user has to interact with the page or a UI element in order for this feature to work.</p></div>
<h2 id="examples">Examples</h2>

<h3 id="capturing_all_keys">Capturing all keys</h3>
<div class="section-content">
<p>The following example captures all keypresses.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="xpTaKn9LReYj0dhnj58YCYtoWqo2S/5VSc4LAjPMC4s=" data-language="js">navigator<span class="token punctuation">.</span>keyboard<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h3 id="capturing_specific_keys">Capturing specific keys</h3>
<div class="section-content">
<p> The following example captures the "W", "A", "S", and "D" keys. It captures these keys regardless of which modifiers are used with the key press. Assuming a standard US QWERTY layout, registering <code>"KeyW"</code> ensures that "W", Shift+"W", Control+"W", Control+Shift+"W", and all other key modifier combinations with "W" are sent to the app. The same applies to for <code>"KeyA"</code>, <code>"KeyS"</code> and <code>"KeyD"</code>. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="Cm27QD7qetfknqvabuet+75lxNv0YnIgICilXTQhuV0=" data-language="js">navigator<span class="token punctuation">.</span>keyboard<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"KeyW"</span><span class="token punctuation">,</span> <span class="token string">"KeyA"</span><span class="token punctuation">,</span> <span class="token string">"KeyS"</span><span class="token punctuation">,</span> <span class="token string">"KeyD"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://wicg.github.io/keyboard-lock/#h-keyboard-lock">Keyboard Lock <br><small># h-keyboard-lock</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>lock</code></th>
<td class="bc-supports-yes">68</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">55</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">68</td>
<td class="bc-supports-yes">68</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">48</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">10.0</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Keyboard/lock" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Keyboard/lock</a>
  </p>
</div>
