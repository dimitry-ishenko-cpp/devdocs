<header><h1>Keyboard: lock() method</h1>
<details class="baseline-indicator not"><summary><div class="status-title"><span class="not-bold">Limited availability</span></div>

</summary><div class="extra">
<p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FKeyboard%2Flock&amp;level=not" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content">
<div class="notecard experimental"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <div class="notecard secure"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div> <p>The <code>lock()</code> method of the <a href="../keyboard.html"><code>Keyboard</code></a> interface returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves after enabling the capture of keypresses for any or all of the keys on the physical keyboard. This method can only capture keys that are granted access by the underlying operating system.</p> <p>If <code>lock()</code> is called multiple times then only the key codes specified in the most recent call will be locked. Any keys locked by a previous call to <code>lock()</code> are unlocked.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js">lock()
lock(keyCodes)
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="keycodes"><a href="#keycodes"><code>keyCodes</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a> of one or more key codes to lock. If no keycodes are provided all keys will be locked. A list of valid code values is found in the <a href="https://w3c.github.io/uievents-code/#key-alphanumeric-writing-system" target="_blank">UI Events KeyboardEvent code Values</a> spec.</p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a> when the lock was successful.</p></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><dl> <dt id="aborterror">
<code>AbortError</code> <a href="../domexception.html"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if a new call to <code>lock()</code> is made before the current one has finished.</p> </dd> <dt id="invalidaccesserror">
<code>InvalidAccessError</code> <a href="../domexception.html"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if any key in <code>keyCodes</code> is not a valid <a href="https://www.w3.org/TR/uievents-code/#key-code-attribute-value" target="_blank">key code attribute value</a>.</p> </dd> <dt id="invalidstateerror">
<code>InvalidStateError</code> <a href="../domexception.html"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if <code>lock()</code> is not called in an active top-level browsing context.</p> </dd> </dl></div>
<h2 id="security">Security</h2>
<div class="section-content"><p><a href="https://developer.mozilla.org/en-US/docs/Web/Security/User_activation">Transient user activation</a> is required. The user has to interact with the page or a UI element in order for this feature to work.</p></div>
<h2 id="examples">Examples</h2>

<h3 id="capturing_all_keys">Capturing all keys</h3>
<div class="section-content">
<p>The following example captures all keypresses.</p> <div class="code-example"><pre data-language="js">navigator.keyboard.lock();
</pre></div>
</div>
<h3 id="capturing_specific_keys">Capturing specific keys</h3>
<div class="section-content">
<p>The following example captures the "W", "A", "S", and "D" keys. It captures these keys regardless of which modifiers are used with the key press. Assuming a standard US QWERTY layout, registering <code>"KeyW"</code> ensures that "W", Shift+"W", Control+"W", Control+Shift+"W", and all other key modifier combinations with "W" are sent to the app. The same applies to for <code>"KeyA"</code>, <code>"KeyS"</code> and <code>"KeyD"</code>.</p> <div class="code-example"><pre data-language="js">navigator.keyboard.lock(["KeyW", "KeyA", "KeyS", "KeyD"]);
</pre></div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://wicg.github.io/keyboard-lock/#h-keyboard-lock">Keyboard Lock <br><small># h-keyboard-lock</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>lock</code></th>
<td class="bc-supports-yes">68</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">55</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">68</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">48</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">10.0</td>
<td class="bc-supports-yes">68</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Keyboard/lock" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Keyboard/lock</a>
  </p>
</div>
