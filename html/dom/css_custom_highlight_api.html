<header><h1>CSS Custom Highlight API</h1></header><div class="section-content"><p>The CSS Custom Highlight API provides a mechanism for styling arbitrary text ranges on a document by using JavaScript to create the ranges, and CSS to style them.</p></div>
<h2 id="concepts_and_usage">Concepts and usage</h2>
<div class="section-content">
<p>Styling text ranges on a webpage can be very useful. For example, text editing web apps highlight spelling or grammar errors, and code editors highlight syntax errors.</p> <p>The CSS Custom Highlight API extends the concept of other highlight pseudo-elements such as <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::selection"><code>::selection</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::spelling-error"><code>::spelling-error</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::grammar-error"><code>::grammar-error</code></a>, and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::target-text"><code>::target-text</code></a> by providing a way to create and style arbitrary <a href="range.html"><code>Range</code></a> objects, rather than being limited to browser-defined ranges.</p> <p>Using the CSS Custom Highlight API, you can programmatically create text ranges and highlight them without affecting the DOM structure in the page.</p> <p>There are four steps to style text ranges on a webpage using the CSS Custom Highlight API:</p> <ol> <li>Creating <a href="range.html"><code>Range</code></a> objects.</li> <li>Creating <a href="highlight.html"><code>Highlight</code></a> objects for these ranges.</li> <li>Registering the highlights using the <a href="highlightregistry.html"><code>HighlightRegistry</code></a>.</li> <li>Styling the highlights using the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::highlight"><code>::highlight()</code></a> pseudo-element.</li> </ol>
</div>
<h3 id="create_ranges">Create ranges</h3>
<div class="section-content">
<p>The first step is to define the text ranges that you want to style by creating <a href="range.html"><code>Range</code></a> objects in JavaScript. For example:</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="+mh8IEtnnTwdbWAkY+rl9q770UAjDlTige+kfsKNqsw=" data-language="js"><span class="token keyword">const</span> parentNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> range1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Range</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
range1<span class="token punctuation">.</span><span class="token function">setStart</span><span class="token punctuation">(</span>parentNode<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
range1<span class="token punctuation">.</span><span class="token function">setEnd</span><span class="token punctuation">(</span>parentNode<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> range2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Range</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
range2<span class="token punctuation">.</span><span class="token function">setStart</span><span class="token punctuation">(</span>parentNode<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
range2<span class="token punctuation">.</span><span class="token function">setEnd</span><span class="token punctuation">(</span>parentNode<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h3 id="create_highlights">Create highlights</h3>
<div class="section-content">
<p>The second step is to instantiate <a href="highlight.html"><code>Highlight</code></a> objects for your text ranges.</p> <p>Multiple ranges can be associated to one highlight. If you want to highlight multiple pieces of text the same way, you need to create a single highlight and initialize it with the corresponding ranges.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="95/7cIPo9nAcpFYT189oBkoEOkrZZKVLUqq79oMCtnM=" data-language="js"><span class="token keyword">const</span> highlight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Highlight</span><span class="token punctuation">(</span>range1<span class="token punctuation">,</span> range2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>But you can also create as many highlights as you need. For example, if you are building a collaborative text editor where each user gets a different text color, then you can create one highlight per user, as seen in the code snippet below:</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="SjzGbPYxlodpLTVFIDO2NUca2mVaXm5DDsZYFg3LGrk=" data-language="js"><span class="token keyword">const</span> user1Highlight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Highlight</span><span class="token punctuation">(</span>user1Range1<span class="token punctuation">,</span> user1Range2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> user2Highlight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Highlight</span><span class="token punctuation">(</span>user2Range1<span class="token punctuation">,</span> user2Range2<span class="token punctuation">,</span> user2Range3<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>Each highlight can be styled differently.</p>
</div>
<h3 id="register_highlights">Register highlights</h3>
<div class="section-content">
<p>Once highlights have been created, register them by using the <a href="highlightregistry.html"><code>HighlightRegistry</code></a> available as <a href="css/highlights_static.html"><code>CSS.highlights</code></a>.</p> <p>The registry is a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a>-like object used to register highlights by names, as seen below:</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="RLHkhi8gmWl8+5PDRdEqOaCZxmSp5ah+wHP8Q8f3DjI=" data-language="js"><span class="token constant">CSS</span><span class="token punctuation">.</span>highlights<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"user-1-highlight"</span><span class="token punctuation">,</span> user1Highlight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">CSS</span><span class="token punctuation">.</span>highlights<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"user-2-highlight"</span><span class="token punctuation">,</span> user2Highlight<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>In the above code snippet, the <code>user-1-highlight</code> and <code>user-2-highlight</code> strings are custom identifiers that can be used in CSS to apply styles to the registered highlights.</p> <p>You can register as many highlights as you need in the registry, as well as remove highlights and clear the entire registry.</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="8GyD4F3fiN7NaoCl9wUKgi5SiRMzZUXsr58UA3mqeVc=" data-language="js"><span class="token comment">// Remove a single highlight from the registry.</span>
<span class="token constant">CSS</span><span class="token punctuation">.</span>highlights<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">"user-1-highlight"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Clear the registry.</span>
<span class="token constant">CSS</span><span class="token punctuation">.</span>highlights<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h3 id="style_highlights">Style highlights</h3>
<div class="section-content">
<p>The final step is to style the registered highlights. This is done by using the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::highlight"><code>::highlight()</code></a> pseudo-element. For example, to style the <code>user-1-highlight</code> highlight registered in the previous step:</p> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="SHuyQKb+aS753saaPmzw6UEvOidnNUq35YRkbRzSnRU=" data-language="css"><span class="token selector">::highlight(user-1-highlight)</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div>
</div>
<h2 id="interfaces">Interfaces</h2>
<div class="section-content"><dl> <dt id="highlight"><a href="highlight.html"><code>Highlight</code></a></dt> <dd> <p>This interface is used to represent a collection of ranges to be styled on a document.</p> </dd> <dt id="highlightregistry"><a href="highlightregistry.html"><code>HighlightRegistry</code></a></dt> <dd> <p>Accessible via <a href="css/highlights_static.html"><code>CSS.highlights</code></a>, this <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a>-like object is used to register highlights with custom identifiers.</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>

<h3 id="highlighting_search_results">Highlighting search results</h3>
<div class="section-content">
<p>This example shows how to use the CSS Custom Highlight API to highlight search results.</p> <h4 id="html">HTML</h4> <p>The HTML code snippet below defines a search field and an article with a few paragraphs of text:</p> <div class="code-example">
<div class="example-header"><span class="language-name">html</span></div>
<pre data-signature="EYGV4e+YDC3JozJNimEouWMG0b37LAjW59xge8mZL8Y=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Search within text <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>query<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    Maxime debitis hic, delectus perspiciatis laborum molestiae labore,
    deleniti, quam consequatur iure veniam alias voluptas nisi quo. Dolorem
    eaque alias, quo vel quas repudiandae architecto deserunt quidem, sapiente
    laudantium nulla.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    Maiores odit molestias, necessitatibus doloremque dolor illum reprehenderit
    provident nostrum laboriosam iste, tempore perferendis! Ab porro neque esse
    voluptas libero necessitatibus fugiat, ex, minus atque deserunt veniam
    molestiae tempora? Vitae.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    Dolorum facilis voluptate eaque eius similique ducimus dignissimos assumenda
    quos architecto. Doloremque deleniti non exercitationem rerum quam alias
    harum, nisi obcaecati corporis temporibus vero sapiente voluptatum est
    quibusdam id ipsa.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <h4 id="javascript">JavaScript</h4> <p>JavaScript is used to listen to the <code>input</code> event on the search field. When the event is fired, the code locates matches for the input text in the article text. It then creates ranges for the matches, and uses the CSS Custom Highlight API to create and register a <code>search-results</code> highlight object:</p> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="9tQGPzbODw/Itnq9yshLYp+QuB+14ZXgkoHv68Jdq9g=" data-language="js"><span class="token keyword">const</span> query <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"query"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> article <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"article"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Find all text nodes in the article. We'll search within</span>
<span class="token comment">// these text nodes.</span>
<span class="token keyword">const</span> treeWalker <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTreeWalker</span><span class="token punctuation">(</span>article<span class="token punctuation">,</span> NodeFilter<span class="token punctuation">.</span><span class="token constant">SHOW_TEXT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> allTextNodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> currentNode <span class="token operator">=</span> treeWalker<span class="token punctuation">.</span><span class="token function">nextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>currentNode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  allTextNodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
  currentNode <span class="token operator">=</span> treeWalker<span class="token punctuation">.</span><span class="token function">nextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Listen to the input event to run the search.</span>
query<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// If the CSS Custom Highlight API is not supported,</span>
  <span class="token comment">// display a message and bail-out.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">CSS</span><span class="token punctuation">.</span>highlights<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    article<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">"CSS Custom Highlight API not supported."</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Clear the HighlightRegistry to remove the</span>
  <span class="token comment">// previous search results.</span>
  <span class="token constant">CSS</span><span class="token punctuation">.</span>highlights<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Clean-up the search query and bail-out if</span>
  <span class="token comment">// if it's empty.</span>
  <span class="token keyword">const</span> str <span class="token operator">=</span> query<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Iterate over all text nodes and find matches.</span>
  <span class="token keyword">const</span> ranges <span class="token operator">=</span> allTextNodes
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> el<span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> el<span class="token punctuation">.</span>textContent<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> text<span class="token punctuation">,</span> el <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> indices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> startPos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>startPos <span class="token operator">&lt;</span> text<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> index <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> startPos<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
        indices<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        startPos <span class="token operator">=</span> index <span class="token operator">+</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// Create a range object for each instance of</span>
      <span class="token comment">// str we found in the text node.</span>
      <span class="token keyword">return</span> indices<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> range <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Range</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        range<span class="token punctuation">.</span><span class="token function">setStart</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        range<span class="token punctuation">.</span><span class="token function">setEnd</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> index <span class="token operator">+</span> str<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> range<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Create a Highlight object for the ranges.</span>
  <span class="token keyword">const</span> searchResultsHighlight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Highlight</span><span class="token punctuation">(</span><span class="token operator">...</span>ranges<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Register the Highlight object in the registry.</span>
  <span class="token constant">CSS</span><span class="token punctuation">.</span>highlights<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"search-results"</span><span class="token punctuation">,</span> searchResultsHighlight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <h4 id="css">CSS</h4> <p>Finally, the <code>::highlight()</code> pseudo-element is used in CSS to style the highlights:</p> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="wkk1APWKsHpo7iDxyi55bDSYRLh9VTnRLeOZNQiEF1s=" data-language="css"><span class="token selector">::highlight(search-results)</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #f06<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <h4 id="result">Result</h4> <p>The result is shown below. Type text within the search field to highlight matches in the article:</p>
<div class="code-example" id="sect1">

<iframe class="sample-code-frame" title="Highlighting search results sample" id="frame_highlighting_search_results" width="700" height="300" src="https://live.mdnplay.dev/en-US/docs/Web/API/CSS_Custom_Highlight_API/runner.html?id=highlighting_search_results" sandbox="allow-same-origin allow-scripts" loading="lazy"></iframe>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://drafts.csswg.org/css-highlight-api-1/">CSS Custom Highlight API Module Level 1 <br></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>CSS_Custom_Highlight_API</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes"><details><summary>preview</summary>Cannot yet be used with <code>text-decoration</code> and <code>text-shadow</code>.</details></td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no"><details><summary>No</summary>Cannot yet be used with <code>text-decoration</code> and <code>text-shadow</code>.</details></td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr></tbody>
</table></div>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>@@iterator</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>CSS_Custom_Highlight_API</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>clear</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>delete</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>entries</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>forEach</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>get</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>has</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>keys</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>set</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>size</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>values</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
</tbody>
</table></div>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>@@iterator</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>Highlight</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>CSS_Custom_Highlight_API</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>add</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>clear</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>delete</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>entries</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>forEach</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>has</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>keys</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>priority</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>size</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>type</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
<tr>
<th><code>values</code></th>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-yes">preview</td>
<td class="bc-supports-yes">91</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">105</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">72</td>
<td class="bc-supports-yes">17.2</td>
<td class="bc-supports-yes">20.0</td>
<td class="bc-supports-yes">105</td>
</tr>
</tbody>
</table></div>
<h3 id="api.highlight">api.Highlight</h3>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<h3 id="api.highlightregistry">api.HighlightRegistry</h3>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<h3 id="css.selectors.highlight">css.selectors.highlight</h3>
<p>BCD tables only load in the browser<noscript> with JavaScript enabled. Enable JavaScript to view data.</noscript></p>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="https://css-tricks.com/css-custom-highlight-api-early-look/" target="_blank">CSS Custom Highlight API: The Future of Highlighting Text Ranges on the Web</a></li> <li>HTML <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable"><code>contentEditable</code></a> attribute</li> <li>CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements"><code>pseudo-elements</code></a>
</li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Custom_Highlight_API" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/CSS_Custom_Highlight_API</a>
  </p>
</div>
