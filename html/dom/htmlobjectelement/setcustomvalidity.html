<header><h1>HTMLObjectElement: setCustomValidity() method</h1></header><div class="section-content"><p> The <code>setCustomValidity()</code> method of the <a href="../htmlobjectelement.html"><code>HTMLObjectElement</code></a> interface sets a custom validity message for the element. </p></div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="29qc4o4n1uGtPNTiZ5UAQNwoPOJjcqsCBj3rcW/VzcU=" data-language="js"><span class="token function">setCustomValidity</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="errormessage"><a href="#errormessage"><code>errorMessage</code></a></dt> <dd> <p>The message to use for validity errors.</p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>None (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>).</p></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><p>None.</p></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p> In this example, we pass the ID of an input element, and set different error messages depending on whether the value is missing, too low or too high. Additionally you <em>must</em> call the <a href="../htmlformelement/reportvalidity.html">reportValidity</a> method on the same element or nothing will happen. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="WqYznzCPBLK1SyvtslsPXpOsHA4kTA7L9SX+LlSp7qg=" data-language="js"><span class="token keyword">function</span> <span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">inputID</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>inputID<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> validityState <span class="token operator">=</span> input<span class="token punctuation">.</span>validity<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>validityState<span class="token punctuation">.</span>valueMissing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">"You gotta fill this out, yo!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>validityState<span class="token punctuation">.</span>rangeUnderflow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">"We need a higher number!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>validityState<span class="token punctuation">.</span>rangeOverflow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">"Thats too high!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    input<span class="token punctuation">.</span><span class="token function">setCustomValidity</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  input<span class="token punctuation">.</span><span class="token function">reportValidity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p> It's vital to set the message to an empty string if there are no errors. As long as the error message is not empty, the form will not pass validation and will not be submitted. </p>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#dom-cva-setcustomvalidity-dev">HTML Standard <br><small># dom-cva-setcustomvalidity-dev</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>setCustomValidity</code></th>
<td class="bc-supports-yes">10</td>
<td class="bc-supports-yes">12</td>
<td class="bc-supports-yes">4</td>
<td class="bc-supports-yes">10</td>
<td class="bc-supports-yes">≤12.1</td>
<td class="bc-supports-yes">5.1</td>
<td class="bc-supports-yes">≤37</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">4</td>
<td class="bc-supports-yes">≤12.1</td>
<td class="bc-supports-yes">5</td>
<td class="bc-supports-yes">1.0</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../validitystate.html"><code>validityState</code></a></li> <li><a href="../validitystate/valuemissing.html"><code>validityState.valueMissing</code></a></li> <li><a href="../validitystate/typemismatch.html"><code>validityState.typeMismatch</code></a></li> <li><a href="../validitystate/patternmismatch.html"><code>validityState.patternMismatch</code></a></li> <li><a href="../validitystate/toolong.html"><code>validityState.tooLong</code></a></li> <li><a href="../validitystate/tooshort.html"><code>validityState.tooShort</code></a></li> <li><a href="../validitystate/rangeunderflow.html"><code>validityState.rangeUnderflow</code></a></li> <li><a href="../validitystate/rangeoverflow.html"><code>validityState.rangeOverflow</code></a></li> <li><a href="../validitystate/stepmismatch.html"><code>validityState.stepMismatch</code></a></li> <li><a class="page-not-created"><code>validityState.valid</code></a></li> <li><a class="page-not-created"><code>validityState.customError</code></a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLObjectElement/setCustomValidity" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/HTMLObjectElement/setCustomValidity</a>
  </p>
</div>
