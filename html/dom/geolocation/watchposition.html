<header><h1>Geolocation: watchPosition() method</h1>
<details class="baseline-indicator high"><summary><div class="status-title">Baseline <span class="not-bold">Widely available</span>
</div>

</summary><div class="extra">
<p>This feature is well established and works across many devices and browser versions. It’s been available across browsers since July 2015.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FGeolocation%2FwatchPosition&amp;level=high" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content">
<div class="notecard secure"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div> <p>The <code>watchPosition()</code> method of the <a href="../geolocation.html"><code>Geolocation</code></a> interface is used to register a handler function that will be called automatically each time the position of the device changes. You can also, optionally, specify an error handling callback function.</p> <p>Note that in addition to requiring a secure context this feature may be blocked by the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/geolocation"><code>geolocation</code></a> <code>Permissions-Policy</code>, and also requires that explicit permission be granted by the user. If required, the user will be prompted when this method is called. The permission state can be queried using the <code>geolocation</code> user permission in the <a href="../permissions_api.html">Permissions API</a>.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js">watchPosition(success)
watchPosition(success, error)
watchPosition(success, error, options)
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="success"><a href="#success"><code>success</code></a></dt> <dd> <p>A callback function that takes a <a href="../geolocationposition.html"><code>GeolocationPosition</code></a> object as an input parameter.</p> </dd> <dt id="error"><a href="#error"><code>error</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An optional callback function that takes a <a href="../geolocationpositionerror.html"><code>GeolocationPositionError</code></a> object as an input parameter.</p> </dd> <dt id="options"><a href="#options"><code>options</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An optional object that provides configuration options for the location watch. See <a href="getcurrentposition.html"><code>Geolocation.getCurrentPosition()</code></a> for more details on possible options.</p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>An integer ID that identifies the registered handler. The ID can be passed to the <a href="clearwatch.html"><code>Geolocation.clearWatch()</code></a> to unregister the handler.</p></div>
<h2 id="examples">Examples</h2>
<div class="section-content"><div class="code-example"><pre data-language="js">let id;
let target;
let options;

function success(pos) {
  const crd = pos.coords;

  if (target.latitude === crd.latitude &amp;&amp; target.longitude === crd.longitude) {
    console.log("Congratulations, you reached the target");
    navigator.geolocation.clearWatch(id);
  }
}

function error(err) {
  console.error(`ERROR(${err.code}): ${err.message}`);
}

target = {
  latitude: 0,
  longitude: 0,
};

options = {
  enableHighAccuracy: false,
  timeout: 5000,
  maximumAge: 0,
};

id = navigator.geolocation.watchPosition(success, error, options);
</pre></div></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/geolocation/#watchposition-method">Geolocation <br><small># watchposition-method</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>watchPosition</code></th>
<td class="bc-supports-yes">5</td>
<td class="bc-supports-yes">12</td>
<td class="bc-supports-yes">3.5</td>
<td class="bc-supports-yes">10.6</td>
<td class="bc-supports-yes">5</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">4</td>
<td class="bc-supports-yes">11</td>
<td class="bc-supports-yes">≤3</td>
<td class="bc-supports-yes">1.0</td>
<td class="bc-supports-yes">≤37</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../geolocation_api/using_the_geolocation_api.html">Using the Geolocation API</a></li> <li>The interface it belongs to, <a href="../geolocation.html"><code>Geolocation</code></a>, and the way to access it — <a href="../navigator/geolocation.html"><code>Navigator.geolocation</code></a>.</li> <li>The opposite operation: <a href="clearwatch.html"><code>Geolocation.clearWatch()</code></a>
</li> <li>A similar method: <a href="getcurrentposition.html"><code>Geolocation.getCurrentPosition()</code></a>
</li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/watchPosition" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/watchPosition</a>
  </p>
</div>
