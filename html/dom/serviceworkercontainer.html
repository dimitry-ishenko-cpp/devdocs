<header><h1>ServiceWorkerContainer</h1>
<details class="baseline-indicator high"><summary><div class="status-title">Baseline <span class="not-bold">Widely available</span> *</div>

</summary><div class="extra">
<p>This feature is well established and works across many devices and browser versions. It’s been available across browsers since April 2018.</p>
<p>* Some parts of this feature may have varying levels of support.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FServiceWorkerContainer&amp;level=high" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content">
<div class="notecard secure"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div> <div class="notecard note"><p><strong>Note:</strong> This feature is available in <a href="web_workers_api.html">Web Workers</a>.</p></div> <p>The <code>ServiceWorkerContainer</code> interface of the <a href="service_worker_api.html">Service Worker API</a> provides an object representing the service worker as an overall unit in the network ecosystem, including facilities to register, unregister and update service workers, and access the state of service workers and their registrations.</p> <p>Most importantly, it exposes the <a href="serviceworkercontainer/register.html"><code>ServiceWorkerContainer.register()</code></a> method used to register service workers, and the <a href="serviceworkercontainer/controller.html"><code>ServiceWorkerContainer.controller</code></a> property used to determine whether or not the current page is actively controlled.</p> <p><code>ServiceWorkerContainer</code> objects are exposed in the Window scope through <a href="navigator/serviceworker.html"><code>Navigator.serviceWorker</code></a> and in workers using <a href="workernavigator/serviceworker.html"><code>WorkerNavigator.serviceWorker</code></a> (if supported — check <a href="#browser_compatibility">browser compatibility</a>).</p> <svg viewbox="-1 -1 650 42" preserveaspectratio="xMinYMin meet"><a style="text-decoration: none;" href="eventtarget.html">  <text x="44" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> EventTarget </text> </a><a style="text-decoration: none;" href="serviceworkercontainer.html" aria-current="page">  <text x="206" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> ServiceWorkerContainer </text> </a></svg>
</div>
<h2 id="instance_properties">Instance properties</h2>
<div class="section-content"><dl> <dt id="serviceworkercontainer.controller">
<a href="serviceworkercontainer/controller.html"><code>ServiceWorkerContainer.controller</code></a> <span class="badge inline readonly">Read only</span>
</dt> <dd> <p>Returns a <a href="serviceworker.html"><code>ServiceWorker</code></a> object if its state is <code>activating</code> or <code>activated</code> (the same object returned by <a href="serviceworkerregistration/active.html"><code>ServiceWorkerRegistration.active</code></a>). This property returns <code>null</code> during a force-refresh request (<em>Shift</em> + refresh) or if there is no active worker.</p> </dd> <dt id="serviceworkercontainer.ready">
<a href="serviceworkercontainer/ready.html"><code>ServiceWorkerContainer.ready</code></a> <span class="badge inline readonly">Read only</span>
</dt> <dd> <p>Provides a way of delaying code execution until a service worker is active. It returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that will never reject, and which waits indefinitely until the <a href="serviceworkerregistration.html"><code>ServiceWorkerRegistration</code></a> associated with the current page has an <a href="serviceworkerregistration/active.html"><code>ServiceWorkerRegistration.active</code></a> worker. Once that condition is met, it resolves with the <a href="serviceworkerregistration.html"><code>ServiceWorkerRegistration</code></a>.</p> </dd> </dl></div>
<h2 id="instance_methods">Instance methods</h2>
<div class="section-content"><dl> <dt id="serviceworkercontainer.getregistration"><a href="serviceworkercontainer/getregistration.html"><code>ServiceWorkerContainer.getRegistration()</code></a></dt> <dd> <p>Gets a <a href="serviceworkerregistration.html"><code>ServiceWorkerRegistration</code></a> object whose scope matches the provided document URL. The method returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to a <a href="serviceworkerregistration.html"><code>ServiceWorkerRegistration</code></a> or <code>undefined</code>.</p> </dd> <dt id="serviceworkercontainer.getregistrations"><a href="serviceworkercontainer/getregistrations.html"><code>ServiceWorkerContainer.getRegistrations()</code></a></dt> <dd> <p>Returns all <a href="serviceworkerregistration.html"><code>ServiceWorkerRegistration</code></a> objects associated with a <code>ServiceWorkerContainer</code> in an array. The method returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to an array of <a href="serviceworkerregistration.html"><code>ServiceWorkerRegistration</code></a>.</p> </dd> <dt id="serviceworkercontainer.register"><a href="serviceworkercontainer/register.html"><code>ServiceWorkerContainer.register()</code></a></dt> <dd> <p>Creates or updates a <a href="serviceworkerregistration.html"><code>ServiceWorkerRegistration</code></a> for the given <code>scriptURL</code>.</p> </dd> <dt id="serviceworkercontainer.startmessages"><a href="serviceworkercontainer/startmessages.html"><code>ServiceWorkerContainer.startMessages()</code></a></dt> <dd> <p>Explicitly starts the flow of messages being dispatched from a service worker to pages under its control (e.g. sent via <a href="client/postmessage.html"><code>Client.postMessage()</code></a>). This can be used to react to sent messages earlier, even before that page's content has finished loading.</p> </dd> </dl></div>
<h2 id="events">Events</h2>
<div class="section-content"><dl> <dt id="controllerchange"><a href="serviceworkercontainer/controllerchange_event.html"><code>controllerchange</code></a></dt> <dd> <p>Fired when the document's associated <a href="serviceworkerregistration.html"><code>ServiceWorkerRegistration</code></a> acquires a new <a href="serviceworkerregistration/active.html"><code>active</code></a> worker.</p> </dd> <dt id="error">
<a href="serviceworkercontainer/error_event.html"><code>error</code></a> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites."> <span class="visually-hidden">Deprecated</span> </abbr> <abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using."> <span class="visually-hidden">Non-standard</span> </abbr>
</dt> <dd> <p>Fired whenever an error occurs in the associated service workers.</p> </dd> <dt id="message"><a href="serviceworkercontainer/message_event.html"><code>message</code></a></dt> <dd> <p>Fired when incoming messages are received by the <code>ServiceWorkerContainer</code> object (e.g. via a <a href="messageport/postmessage.html"><code>MessagePort.postMessage()</code></a> call).</p> </dd> <dt id="messageerror"><a href="serviceworkercontainer/messageerror_event.html"><code>messageerror</code></a></dt> <dd> <p>Fired when incoming messages can not deserialized by the <code>ServiceWorkerContainer</code> object (e.g. via a <a href="messageport/postmessage.html"><code>MessagePort.postMessage()</code></a> call).</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p>The example below first checks to see if the browser supports service workers. If supported, the code registers the service worker and determines if the page is actively controlled by the service worker. If it isn't, it prompts the user to reload the page so the service worker can take control. The code also reports any registration failures.</p> <div class="code-example"><pre data-language="js">if ("serviceWorker" in navigator) {
  // Register a service worker hosted at the root of the
  // site using the default scope.
  navigator.serviceWorker
    .register("/sw.js")
    .then((registration) =&gt; {
      console.log("Service worker registration succeeded:", registration);

      // At this point, you can optionally do something
      // with registration. See https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration
    })
    .catch((error) =&gt; {
      console.error(`Service worker registration failed: ${error}`);
    });

  // Independent of the registration, let's also display
  // information about whether the current page is controlled
  // by an existing service worker, and when that
  // controller changes.

  // First, do a one-off check if there's currently a
  // service worker in control.
  if (navigator.serviceWorker.controller) {
    console.log(
      "This page is currently controlled by:",
      navigator.serviceWorker.controller,
    );
  }

  // Then, register a handler to detect when a new or
  // updated service worker takes control.
  navigator.serviceWorker.oncontrollerchange = () =&gt; {
    console.log(
      "This page is now controlled by",
      navigator.serviceWorker.controller,
    );
  };
} else {
  console.log("Service workers are not supported.");
}
</pre></div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/ServiceWorker/#serviceworkercontainer-interface">Service Workers <br><small># serviceworkercontainer-interface</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>ServiceWorkerContainer</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
<td class="bc-supports-yes">40</td>
</tr>
<tr>
<th><code>controller</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
<td class="bc-supports-yes">40</td>
</tr>
<tr>
<th><code>controllerchange_event</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
<td class="bc-supports-yes">40</td>
</tr>
<tr>
<th><code>getRegistration</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
<td class="bc-supports-yes">40</td>
</tr>
<tr>
<th><code>getRegistrations</code></th>
<td class="bc-supports-yes">45</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">45</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
<td class="bc-supports-yes">40</td>
</tr>
<tr>
<th><code>message_event</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
<td class="bc-supports-yes">40</td>
</tr>
<tr>
<th><code>messageerror_event</code></th>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">8017–79</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">67</td>
<td class="bc-supports-yes">16.4<details><summary>11.1–16.4</summary>Although the <code>onmessageerror</code> event handler property is supported, the <code>messageerror</code> event is never fired.</details>
</td>
<td class="bc-supports-yes">80</td>
<td class="bc-supports-yes">65</td>
<td class="bc-supports-yes">57</td>
<td class="bc-supports-yes">16.4<details><summary>11.3–16.4</summary>Although the <code>onmessageerror</code> event handler property is supported, the <code>messageerror</code> event is never fired.</details>
</td>
<td class="bc-supports-yes">13.0</td>
<td class="bc-supports-yes">80</td>
</tr>
<tr>
<th><code>ready</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
<td class="bc-supports-yes">40</td>
</tr>
<tr>
<th><code>register</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">4.0</td>
<td class="bc-supports-yes">40</td>
</tr>
<tr>
<th><code>startMessages</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-yes">64</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">64</td>
<td class="bc-supports-yes">50</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-yes">11.0</td>
<td class="bc-supports-yes">74</td>
</tr>
<tr>
<th><code>worker_support</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">133</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.1</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">133</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.3</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
</tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="service_worker_api/using_service_workers.html">Using Service Workers</a></li> <li><a href="https://github.com/mdn/dom-examples/tree/main/service-worker/simple-service-worker" target="_blank">Service workers basic code example</a></li> <li><a href="web_workers_api/using_web_workers.html">Using web workers</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer</a>
  </p>
</div>
