<header><h1>HID: requestDevice() method</h1></header><div class="section-content">
<div class="notecard secure" id="sect1"><p><strong>Secure context:</strong> This feature is available only in <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div>
<div class="notecard experimental" id="sect2"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The <code>requestDevice()</code> method of the <a href="../hid.html"><code>HID</code></a> interface requests access to a HID device.</p> <p>The user agent will present a permission dialog including a list of connected devices, and ask the user to select and grant permission to one of these devices.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="lBTZsPXGiEucRcWkCnfTegJh9qtb/qC6KYssbGECp6c=" data-language="js"><span class="token function">requestDevice</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content">
<dl> <dt id="options"><a href="#options"><code>options</code></a></dt> <dd> <p>An object containing an array of filter objects for possible devices to pair with. Each filter object can have the following properties:</p> <dl> <dt id="vendorid">
<a href="#vendorid"><code>vendorId</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>An integer representing the vendorId of the requested HID device</p> </dd> <dt id="productid">
<a href="#productid"><code>productId</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>An integer representing the productId of the requested HID device.</p> </dd> <dt id="usagepage">
<a href="#usagepage"><code>usagePage</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>An integer representing the usage page component of the HID usage of the requested device. The usage for a top level collection is used to identify the device type.</p> <p>Standard HID usage values can be found in the <a href="https://usb.org/document-library/hid-usage-tables-13" target="_blank">HID Usage Tables</a> document</p> </dd> <dt id="usage">
<a href="#usage"><code>usage</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>An integer representing the usage ID component of the HID usage of the requested device.</p> </dd> </dl> </dd> </dl> <div class="notecard note" id="sect3"> <p><strong>Note:</strong> The device filters are used to narrow the list of devices presented to the user. If no filters are present, all connected devices are shown. When one or more filters are included, a device is included if any filter matches. To match a filter, all of the rules included in that filter must match.</p> </div>
</div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves with an array of connected <a href="../hiddevice.html"><code>HIDDevice</code></a> objects that match the filters passed in.</p></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><dl> <dt id="securityerror">
<a href="#securityerror"><code>SecurityError</code></a> <a href="../domexception.html"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if the page does not allow access to the HID feature.</p> </dd> </dl></div>
<h2 id="security">Security</h2>
<div class="section-content"><p><a href="https://developer.mozilla.org/en-US/docs/Web/Security/User_activation">Transient user activation</a> is required. The user has to interact with the page or a UI element in order for this feature to work.</p></div>
<h2 id="examples">Examples</h2>

<h3 id="matching_a_device_with_all_four_filter_rules">Matching a device with all four filter rules</h3>
<div class="section-content">
<p>In the following example a HID device is requested that has a vendor ID of <code>0xABCD</code>, product ID of <code>0x1234</code>, usage page <code>0x0C</code> and usage ID <code>0x01</code>. Only devices that match all of these rules will be shown.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="cyioj87hwSmbiD+juSWFiHxZh1P676QYCCJ6Feb3XgU=" data-language="js"><span class="token keyword">let</span> requestButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"request-hid-device"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
requestButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> device<span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> devices <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>hid<span class="token punctuation">.</span><span class="token function">requestDevice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">vendorId</span><span class="token operator">:</span> <span class="token number">0xabcd</span><span class="token punctuation">,</span>
          <span class="token literal-property property">productId</span><span class="token operator">:</span> <span class="token number">0x1234</span><span class="token punctuation">,</span>
          <span class="token literal-property property">usagePage</span><span class="token operator">:</span> <span class="token number">0x0c</span><span class="token punctuation">,</span>
          <span class="token literal-property property">usage</span><span class="token operator">:</span> <span class="token number">0x01</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    device <span class="token operator">=</span> devices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"An error occurred."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>device<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"No device was selected."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">HID: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>device<span class="token punctuation">.</span>productName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h3 id="an_example_with_two_filters">An example with two filters</h3>
<div class="section-content">
<p>This next example includes two filters. Devices will be shown if they match either of these filters.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="DVt6cP9Q3gjcsc6eMysQz71gq7/EvPkD2X3KgMzbna8=" data-language="js"><span class="token comment">// Filter on devices with the Nintendo Switch Joy-Con USB Vendor/Product IDs.</span>
<span class="token keyword">const</span> filters <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">vendorId</span><span class="token operator">:</span> <span class="token number">0x057e</span><span class="token punctuation">,</span> <span class="token comment">// Nintendo Co., Ltd</span>
    <span class="token literal-property property">productId</span><span class="token operator">:</span> <span class="token number">0x2006</span><span class="token punctuation">,</span> <span class="token comment">// Joy-Con Left</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">vendorId</span><span class="token operator">:</span> <span class="token number">0x057e</span><span class="token punctuation">,</span> <span class="token comment">// Nintendo Co., Ltd</span>
    <span class="token literal-property property">productId</span><span class="token operator">:</span> <span class="token number">0x2007</span><span class="token punctuation">,</span> <span class="token comment">// Joy-Con Right</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Prompt user to select a Joy-Con device.</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>device<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>hid<span class="token punctuation">.</span><span class="token function">requestDevice</span><span class="token punctuation">(</span><span class="token punctuation">{</span> filters <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://wicg.github.io/webhid/#dom-hid-requestdevice">WebHID API <br><small># dom-hid-requestdevice</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>requestDevice</code></th>
<td class="bc-supports-yes">89</td>
<td class="bc-supports-yes">89</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">75</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/HID/requestDevice" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/HID/requestDevice</a>
  </p>
</div>
