<header><h1>Response: clone() method</h1></header><div class="section-content">
<p>The <code>clone()</code> method of the <a href="../response.html"><code>Response</code></a> interface creates a clone of a response object, identical in every way, but stored in a different variable.</p> <p> Like the underlying <a href="../readablestream/tee.html"><code>ReadableStream.tee</code></a> api, the <a href="body.html"><code>body</code></a> of a cloned <code>Response</code> will signal backpressure at the rate of the <em>faster</em> consumer of the two bodies, and unread data is enqueued internally on the slower consumed <code>body</code> without any limit or backpressure. Backpressure refers to the mechanism by which the streaming consumer of data (in this case, the code that reads the body) slows down the producer of data (such as the TCP server) so as not to load large amounts of data in memory that is waiting to be used by the application. If only one cloned branch is consumed, then the entire body will be buffered in memory. Therefore, <code>clone()</code> is one way to read a response twice in sequence, but you should not use it to read very large bodies in parallel at different speeds. </p> <p> <code>clone()</code> throws a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a> if the response body has already been used. In fact, the main reason <code>clone()</code> exists is to allow multiple uses of body objects (when they are one-use only.) </p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="EQAye799LENZ4zMzyxJPlcQWJGFb1tk18jvZNti3x5o=" data-language="js"><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><p>None.</p></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="../response.html"><code>Response</code></a> object.</p></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p> In our <a href="https://github.com/mdn/dom-examples/blob/main/fetch/fetch-response-clone/index.html" target="_blank">Fetch Response clone example</a> (see <a href="https://mdn.github.io/dom-examples/fetch/fetch-response-clone/" target="_blank">Fetch Response clone live</a>) we create a new <a href="../request.html"><code>Request</code></a> object using the <a href="../request/request.html"><code>Request()</code></a> constructor, passing it a JPG path. We then fetch this request using <a href="../fetch.html"><code>fetch()</code></a>. When the fetch resolves successfully, we clone it, extract a blob from both responses using two <a href="blob.html"><code>Response.blob</code></a> calls, create object URLs out of the blobs using <a href="../url/createobjecturl_static.html"><code>URL.createObjectURL()</code></a>, and display them in two separate <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img"><code>&lt;img&gt;</code></a> elements. </p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="7H1IHuXQYrZ0/ThofAMsZUxlJmNG2MvYbNPHQCGEDtg=" data-language="js"><span class="token keyword">const</span> image1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".img1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> image2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".img2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> myRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">"flowers.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fetch</span><span class="token punctuation">(</span>myRequest<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response2 <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  response<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">myBlob</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> objectURL <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>myBlob<span class="token punctuation">)</span><span class="token punctuation">;</span>
    image1<span class="token punctuation">.</span>src <span class="token operator">=</span> objectURL<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  response2<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">myBlob</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> objectURL <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>myBlob<span class="token punctuation">)</span><span class="token punctuation">;</span>
    image2<span class="token punctuation">.</span>src <span class="token operator">=</span> objectURL<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="#">Fetch Standard <br><small># ref-for-dom-response-cloneâ‘ </small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>clone</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">14</td>
<td class="bc-supports-yes">39</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">10.1</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">39</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-yes">10.3</td>
<td class="bc-supports-yes">4.0</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../service_worker_api.html">ServiceWorker API</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">HTTP access control (CORS)</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP">HTTP</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response/clone" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Response/clone</a>
  </p>
</div>
