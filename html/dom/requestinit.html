<header><h1>RequestInit</h1></header><div class="section-content">
<p>The <code>RequestInit</code> dictionary of the <a href="fetch_api.html">Fetch API</a> represents the set of options that can be used to configure a <a href="window/fetch.html">fetch request</a>.</p> <p>You can pass a <code>RequestInit</code> object into the <a href="request/request.html"><code>Request()</code></a> constructor, or directly into the <a href="window/fetch.html"><code>fetch()</code></a> function call.</p> <p>You can also construct a <code>Request</code> with a <code>RequestInit</code>, and pass the <code>Request</code> to a <code>fetch()</code> call along with another <code>RequestInit</code>. If you do this, and the same option is set in both places, then the value passed directly into <code>fetch()</code> is used.</p>
</div>
<h2 id="instance_properties">Instance properties</h2>
<div class="section-content"><dl> <dt id="attributionreporting"><a href="#attributionreporting"><code>attributionReporting</code> <span class="badge inline optional">Optional</span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr></a></dt> <dd> <p>Indicates that you want the request's response to be able to register a JavaScript-based <a href="attribution_reporting_api/registering_sources.html#javascript-based_event_sources">attribution source</a> or <a href="attribution_reporting_api/registering_triggers.html#javascript-based_attribution_triggers">attribution trigger</a>. <code>attributionReporting</code> is an object containing the following properties:</p> <dl> <dt id="eventsourceeligible"><a href="#eventsourceeligible"><code>eventSourceEligible</code></a></dt> <dd> <p>A boolean. If set to <code>true</code>, the request's response is eligible to register an attribution source. If set to <code>false</code>, it isn't.</p> </dd> <dt id="triggereligible"><a href="#triggereligible"><code>triggerEligible</code></a></dt> <dd> <p>A boolean. If set to <code>true</code>, the request's response is eligible to register an attribution trigger. If set to <code>false</code>, it isn't.</p> </dd> </dl> <p>See the <a href="attribution_reporting_api.html">Attribution Reporting API</a> for more details.</p> </dd> <dt id="body"><a href="#body"><code>body</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>The request body contains content to send to the server, for example in a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST"><code>POST</code></a> or <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT"><code>PUT</code></a> request. It is specified as an instance of any of the following types:</p> <ul> <li>a string</li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a></li> <li><a href="blob.html"><code>Blob</code></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView"><code>DataView</code></a></li> <li><a href="file.html"><code>File</code></a></li> <li><a href="formdata.html"><code>FormData</code></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray"><code>TypedArray</code></a></li> <li><a href="urlsearchparams.html"><code>URLSearchParams</code></a></li> <li><a href="readablestream.html"><code>ReadableStream</code></a></li> </ul> <p>See <a href="fetch_api/using_fetch.html#setting_a_body">Setting a body</a> for more details.</p> </dd> <dt id="browsingtopics"><a href="#browsingtopics"><code>browsingTopics</code> <span class="badge inline optional">Optional</span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr></a></dt> <dd> <p>A boolean specifying that the selected topics for the current user should be sent in a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-Browsing-Topics"><code>Sec-Browsing-Topics</code></a> header with the associated request.</p> <p>See <a href="topics_api/using.html">Using the Topics API</a> for more details.</p> </dd> <dt id="cache"><a href="#cache"><code>cache</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>The <a href="request/cache.html">cache mode</a> you want to use for the request. This may be any one of the following values:</p> <dl> <dt id="default"><a href="#default"><code>default</code></a></dt> <dd> <p>The browser looks in its HTTP cache for a response matching the request.</p> <ul> <li>If there is a match and it is <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching#fresh_and_stale_based_on_age">fresh</a>, it will be returned from the cache.</li> <li>If there is a match but it is <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching#fresh_and_stale_based_on_age">stale</a>, the browser will make a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Conditional_requests">conditional request</a> to the remote server. If the server indicates that the resource has not changed, it will be returned from the cache. Otherwise the resource will be downloaded from the server and the cache will be updated.</li> <li>If there is no match, the browser will make a normal request, and will update the cache with the downloaded resource.</li> </ul> </dd> <dt id="no-store"><a href="#no-store"><code>no-store</code></a></dt> <dd> <p>The browser fetches the resource from the remote server without first looking in the cache, <em>and will not</em> update the cache with the downloaded resource.</p> </dd> <dt id="reload"><a href="#reload"><code>reload</code></a></dt> <dd> <p>The browser fetches the resource from the remote server without first looking in the cache, <em>but then will</em> update the cache with the downloaded resource.</p> </dd> <dt id="no-cache"><a href="#no-cache"><code>no-cache</code></a></dt> <dd> <p>The browser looks in its HTTP cache for a response matching the request.</p> <ul> <li>If there is a match, <em>fresh or stale,</em> the browser will make a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Conditional_requests">conditional request</a> to the remote server. If the server indicates that the resource has not changed, it will be returned from the cache. Otherwise the resource will be downloaded from the server and the cache will be updated.</li> <li>If there is no match, the browser will make a normal request, and will update the cache with the downloaded resource.</li> </ul> </dd> <dt id="force-cache"><a href="#force-cache"><code>force-cache</code></a></dt> <dd> <p>The browser looks in its HTTP cache for a response matching the request.</p> <ul> <li>If there is a match, <em>fresh or stale</em>, it will be returned from the cache.</li> <li>If there is no match, the browser will make a normal request, and will update the cache with the downloaded resource.</li> </ul> </dd> <dt id="only-if-cached"><a href="#only-if-cached"><code>only-if-cached</code></a></dt> <dd> <p>The browser looks in its HTTP cache for a response matching the request. <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr></p> <ul> <li>If there is a match, <em>fresh or stale</em>, it will be returned from the cache.</li> <li>If there is no match, a network error is returned.</li> </ul> </dd> </dl> <p>The <code>"only-if-cached"</code> mode can only be used if the request's <a href="request/mode.html"><code>mode</code></a> is <code>"same-origin"</code>. Cached redirects will be followed if the request's <code>redirect</code> property is <code>"follow"</code> and the redirects do not violate the <code>"same-origin"</code> mode.</p> </dd> <dt id="credentials"><a href="#credentials"><code>credentials</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>Controls whether or not the browser sends credentials with the request, as well as whether any <code>Set-Cookie</code> response headers are respected. Credentials are cookies, <a href="https://developer.mozilla.org/en-US/docs/Glossary/TLS">TLS</a> client certificates, or authentication headers containing a username and password. This option may be any one of the following values:</p> <dl> <dt id="omit"><a href="#omit"><code>omit</code></a></dt> <dd> <p>Never send credentials in the request or include credentials in the response.</p> </dd> <dt id="same-origin"><a href="#same-origin"><code>same-origin</code></a></dt> <dd> <p>Only send and include credentials for same-origin requests.</p> </dd> <dt id="include"><a href="#include"><code>include</code></a></dt> <dd> <p>Always include credentials, even for cross-origin requests.</p> </dd> </dl> <p>Including credentials in cross-origin requests can make a site vulnerable to <a href="https://developer.mozilla.org/en-US/docs/Glossary/CSRF">CSRF</a> attacks, so even if <code>credentials</code> is set to <code>include</code>, the server must also agree to their inclusion by including the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials"><code>Access-Control-Allow-Credentials</code></a> in its response. Additionally, in this situation the server must explicitly specify the client's origin in the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin"><code>Access-Control-Allow-Origin</code></a> response header (that is, <code>*</code> is not allowed).</p> <p>See <a href="fetch_api/using_fetch.html#including_credentials">Including credentials</a> for more details.</p> <p>Defaults to <code>same-origin</code>.</p> </dd> <dt id="headers"><a href="#headers"><code>headers</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>Any headers you want to add to your request, contained within a <a href="headers.html"><code>Headers</code></a> object or an object literal whose keys are the names of headers and whose values are the header values.</p> <p>Many headers are set automatically by the browser and can't be set by a script: these are called <a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name">Forbidden header names</a>.</p> <p>If the <code>mode</code> option is set to <code>no-cors</code>, you can only set <a href="https://developer.mozilla.org/en-US/docs/Glossary/CORS-safelisted_request_header">CORS-safelisted request headers</a>.</p> <p>See <a href="fetch_api/using_fetch.html#setting_headers">Setting headers</a> for more details.</p> </dd> <dt id="integrity"><a href="#integrity"><code>integrity</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>Contains the <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity">subresource integrity</a> value of the request.</p> <p>This will be checked when the resource is fetched, just as it would be when the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#integrity"><code>integrity</code></a> attribute is set on a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script"><code>&lt;script&gt;</code></a> element. The browser will compute the <a href="https://developer.mozilla.org/en-US/docs/Glossary/Cryptographic_hash_function">hash</a> of the fetched resource using the specified algorithm, and if the result does not match the value specified, the browser will reject the fetch request with a network error.</p> <p>The format of this option is <code>&lt;hash-algo&gt;-&lt;hash-source&gt;</code> where:</p> <ul> <li>
<code>&lt;hash-algo&gt;</code> is one of the following values: <code>sha256</code>, <code>sha384</code>, or <code>sha512</code>
</li> <li>
<code>&lt;hash-source&gt;</code> is the <a href="https://developer.mozilla.org/en-US/docs/Glossary/Base64">Base64-encoding</a> of the result of hashing the resource with the specified hash algorithm.</li> </ul> <p>Defaults to an empty string.</p> </dd> <dt id="keepalive"><a href="#keepalive"><code>keepalive</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>A boolean. When set to <code>true</code>, the browser will not abort the associated request if the page that initiated it is unloaded before the request is complete. This enables a <a href="window/fetch.html"><code>fetch()</code></a> request to send analytics at the end of a session even if the user navigates away from or closes the page.</p> <p>This has some advantages over using <a href="navigator/sendbeacon.html"><code>Navigator.sendBeacon()</code></a> for the same purpose. For example, you can use HTTP methods other than <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST"><code>POST</code></a>, customize request properties, and access the server response via the fetch <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> fulfillment. It is also available in <a href="service_worker_api.html">service workers</a>.</p> <p>The body size for <code>keepalive</code> requests is limited to 64 kibibytes.</p> <p>Defaults to <code>false</code>.</p> </dd> <dt id="method"><a href="#method"><code>method</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods">request method</a>.</p> <p>Defaults to <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET"><code>GET</code></a>.</p> </dd> <dt id="mode"><a href="#mode"><code>mode</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>Sets cross-origin behavior for the request. One of the following values:</p> <dl> <dt id="same-origin_2"><a href="#same-origin_2"><code>same-origin</code></a></dt> <dd> <p>Disallows cross-origin requests. If a <code>same-origin</code> request is sent to a different origin, the result is a network error.</p> </dd> <dt id="cors"><a href="#cors"><code>cors</code></a></dt> <dd> <p>If the request is cross-origin then it will use the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">Cross-Origin Resource Sharing (CORS)</a> mechanism. Only <a href="https://developer.mozilla.org/en-US/docs/Glossary/CORS-safelisted_response_header">CORS-safelisted response headers</a> are exposed in the response.</p> </dd> <dt id="no-cors"><a href="#no-cors"><code>no-cors</code></a></dt> <dd> <p>Disables CORS for cross-origin requests. This option comes with the following restrictions:</p> <ul> <li>The method may only be one of <code>HEAD</code>, <code>GET</code> or <code>POST</code>.</li> <li>The headers may only be <a href="https://developer.mozilla.org/en-US/docs/Glossary/CORS-safelisted_request_header">CORS-safelisted request headers</a>, with the additional restriction that the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Range"><code>Range</code></a> header is also not allowed. This also applies to any headers added by service workers.</li> <li>The response is <em>opaque</em>, meaning that its headers and body are not available to JavaScript, and its <a href="response/status.html">status code</a> is always <code>0</code>.</li> </ul> <p>The main application for <code>no-cors</code> is for a service worker: although the response to a <code>no-cors</code> request can't be read by JavaScript, it can be cached by a service worker and then used as a response to an intercepted fetch request. Note that in this situation you don't know whether the request succeeded or not, so you should adopt a caching strategy which enables the cached response to be updated from the network (such as <a href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Guides/Caching#cache_first_with_cache_refresh">cache first with cache refresh</a>).</p> </dd> <dt id="navigate"><a href="#navigate"><code>navigate</code></a></dt> <dd> <p>Used only by HTML navigation. A <code>navigate</code> request is created only while navigating between documents.</p> </dd> </dl> <p>See <a href="fetch_api/using_fetch.html#making_cross-origin_requests">Making cross-origin requests</a> for more details.</p> <p>Defaults to <code>cors</code>.</p> </dd> <dt id="priority"><a href="#priority"><code>priority</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>Specifies the priority of the fetch request relative to other requests of the same type. Must be one of the following:</p> <dl> <dt id="high"><a href="#high"><code>high</code></a></dt> <dd> <p>A high priority fetch request relative to other requests of the same type.</p> </dd> <dt id="low"><a href="#low"><code>low</code></a></dt> <dd> <p>A low priority fetch request relative to other requests of the same type.</p> </dd> <dt id="auto"><a href="#auto"><code>auto</code></a></dt> <dd> <p>No user preference for the fetch priority. It is used if no value is set or if an invalid value is set.</p> </dd> </dl> <p>Defaults to <code>auto</code>.</p> </dd> <dt id="redirect"><a href="#redirect"><code>redirect</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>Determines the browser's behavior in case the server replies with a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#redirection_messages">redirect status</a>. One of the following values:</p> <dl> <dt id="follow"><a href="#follow"><code>follow</code></a></dt> <dd> <p>Automatically follow redirects.</p> </dd> <dt id="error"><a href="#error"><code>error</code></a></dt> <dd> <p>Reject the promise with a network error when a redirect status is returned.</p> </dd> <dt id="manual"><a href="#manual"><code>manual</code></a></dt> <dd> <p>Return a response with almost all fields filtered out, to enable a service worker to store the response and later replay it.</p> </dd> </dl> <p>Defaults to <code>follow</code>.</p> </dd> <dt id="referrer"><a href="#referrer"><code>referrer</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>A string specifying the value to use for the request's <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer"><code>Referer</code></a> header. One of the following:</p> <dl> <dt id="a_same-origin_relative_or_absolute_url"><a href="#a_same-origin_relative_or_absolute_url">A same-origin relative or absolute URL</a></dt> <dd> <p>Set the <code>Referer</code> header to the given value. Relative URLs are resolved relative to the URL of the page that made the request.</p> </dd> <dt id="an_empty_string"><a href="#an_empty_string">An empty string</a></dt> <dd> <p>Omit the <code>Referer</code> header.</p> </dd> <dt id="aboutclient"><a href="#aboutclient"><code>about:client</code></a></dt> <dd> <p>Set the <code>Referer</code> header to the default value for the context of the request (for example, the URL of the page that made the request).</p> </dd> </dl> <p>Defaults to <code>about:client</code>.</p> </dd> <dt id="referrerpolicy"><a href="#referrerpolicy"><code>referrerPolicy</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>A string that sets a policy for the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer"><code>Referer</code></a> header. The syntax and semantics of this option are exactly the same as for the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy"><code>Referrer-Policy</code></a> header.</p> </dd> <dt id="signal"><a href="#signal"><code>signal</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>An <a href="abortsignal.html"><code>AbortSignal</code></a>. If this option is set, the request can be canceled by calling <a href="abortcontroller/abort.html"><code>abort()</code></a> on the corresponding <code>AbortController</code>.</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>

<h3 id="passing_options_into_fetch">Passing options into <code>fetch()</code>
</h3>
<div class="section-content">
<p>In this example we pass the <code>method</code>, <code>body</code>, and <code>headers</code> options directly into the <a href="window/fetch.html"><code>fetch()</code></a> method call:</p> <div class="code-example"><pre data-language="js">async function post() {
  const response = await fetch("https://example.org/post", {
    method: "POST",
    body: JSON.stringify({ username: "example" }),
    headers: {
      "Content-Type": "application/json",
    },
  });

  console.log(response.status);
}
</pre></div>
</div>
<h3 id="passing_options_into_the_request_constructor">Passing options into the <code>Request()</code> constructor</h3>
<div class="section-content">
<p>In this example we create a <a href="request.html"><code>Request</code></a>, passing the same set of options into its constructor, and then pass the request into <code>fetch()</code>:</p> <div class="code-example"><pre data-language="js">async function post() {
  const request = new Request("https://example.org/post", {
    method: "POST",
    body: JSON.stringify({ username: "example" }),
    headers: {
      "Content-Type": "application/json",
    },
  });

  const response = await fetch(request);

  console.log(response.status);
}
</pre></div>
</div>
<h3 id="passing_options_into_both_request_and_fetch">Passing options into both <code>Request()</code> and <code>fetch()</code>
</h3>
<div class="section-content">
<p>In this example we create a <a href="request.html"><code>Request</code></a>, passing the <code>method</code>, <code>headers</code>, and <code>body</code> options into its constructor. We then pass the request into <code>fetch()</code> along with <code>body</code> and <code>referrer</code> options:</p> <div class="code-example"><pre data-language="js">async function post() {
  const request = new Request("https://example.org/post", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify({ username: "example1" }),
  });

  const response = await fetch(request, {
    body: JSON.stringify({ username: "example2" }),
    referrer: "",
  });

  console.log(response.status);
}
</pre></div> <p>In this case the request will be sent with the following options:</p> <ul> <li><code>method: "POST"</code></li> <li><code>headers: {"Content-Type": "application/json"}</code></li> <li><code>body: '{"username":"example2"}'</code></li> <li><code>referrer: ""</code></li> </ul>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://fetch.spec.whatwg.org/#requestinit">Fetch <br><small># requestinit</small></a></td></tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="fetch_api/using_fetch.html">Using Fetch</a></li> <li><a href="service_worker_api.html">ServiceWorker API</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">HTTP access control (CORS)</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP">HTTP</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RequestInit" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RequestInit</a>
  </p>
</div>
