<header><h1>BackgroundFetchRegistration</h1></header><div class="section-content">
<div class="notecard experimental" id="sect1"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The <code>BackgroundFetchRegistration</code> interface of the <a href="background_fetch_api.html">Background Fetch API</a> represents an individual background fetch.</p> <p>A <code>BackgroundFetchRegistration</code> instance is returned by the <a href="backgroundfetchmanager/fetch.html"><code>BackgroundFetchManager.fetch()</code></a> or <a href="backgroundfetchmanager/get.html"><code>BackgroundFetchManager.get()</code></a> methods, and therefore there has no constructor.</p>
<svg viewbox="-1 -1 650 42" preserveaspectratio="xMinYMin meet"> <a style="text-decoration: none;" xlink:href="/en-US/docs/Web/API/EventTarget.html">  <text x="44" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> EventTarget </text> </a>   <a style="text-decoration: none;" xlink:href="/en-US/docs/Web/API/BackgroundFetchRegistration.html" aria-current="page">  <text x="226" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> BackgroundFetchRegistration </text> </a></svg>
</div>
<h2 id="instance_properties">Instance properties</h2>
<div class="section-content">
<p>The following properties are available synchronously, as convenience properties copied from those in the <code>BackgroundFetchRegistration</code> instance.</p> <dl> <dt id="sect2">
<a href="backgroundfetchregistration/id.html"><code>BackgroundFetchRegistration.id</code></a> <span class="badge inline readonly">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>A string containing the background fetch's ID.</p> </dd> <dt id="sect3">
<a href="backgroundfetchregistration/uploadtotal.html"><code>BackgroundFetchRegistration.uploadTotal</code></a> <span class="badge inline readonly">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>number</code></a> containing the total number of bytes to be uploaded.</p> </dd> <dt id="sect4">
<a href="backgroundfetchregistration/uploaded.html"><code>BackgroundFetchRegistration.uploaded</code></a> <span class="badge inline readonly">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>number</code></a> containing the size in bytes successfully sent, initially <code>0</code>.</p> </dd> <dt id="sect5">
<a href="backgroundfetchregistration/downloadtotal.html"><code>BackgroundFetchRegistration.downloadTotal</code></a> <span class="badge inline readonly">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>number</code></a> containing the total size in bytes of this download. This is the value set when the background fetch was registered, or <code>0</code>.</p> </dd> <dt id="sect6">
<a href="backgroundfetchregistration/downloaded.html"><code>BackgroundFetchRegistration.downloaded</code></a> <span class="badge inline readonly">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>number</code></a> containing the size in bytes that has been downloaded, initially <code>0</code>.</p> </dd> <dt id="sect7">
<a href="backgroundfetchregistration/result.html"><code>BackgroundFetchRegistration.result</code></a> <span class="badge inline readonly">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Returns an empty string initially, on completion either the string <code>"success"</code> or <code>"failure"</code>.</p> </dd> <dt id="sect8">
<a href="backgroundfetchregistration/failurereason.html"><code>BackgroundFetchRegistration.failureReason</code></a> <span class="badge inline readonly">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>One of the following strings:</p> <dl> <dt id="sect9"><a href="#sect9"><code>""</code></a></dt> <dd> <p>The background fetch has not completed, or was successful.</p> </dd> <dt id="aborted"><a href="#aborted"><code>"aborted"</code></a></dt> <dd> <p>The operation was cancelled by the user, or <a href="backgroundfetchregistration/abort.html"><code>abort()</code></a> was called.</p> </dd> <dt id="bad-status"><a href="#bad-status"><code>"bad-status"</code></a></dt> <dd> <p>A response had a not-ok status (a status outside the range 200-299).</p> </dd> <dt id="fetch-error"><a href="#fetch-error"><code>"fetch-error"</code></a></dt> <dd> <p>A fetch failed for other reasons, for example CORS, or a network failure.</p> </dd> <dt id="quota-exceeded"><a href="#quota-exceeded"><code>"quota-exceeded"</code></a></dt> <dd> <p>Storage quota was reached during the operation.</p> </dd> <dt id="download-total-exceeded"><a href="#download-total-exceeded"><code>"download-total-exceeded"</code></a></dt> <dd> <p>The provided <code>downloadTotal</code> was exceeded. This value was set when the background fetch was registered.</p> </dd> </dl> </dd> <dt id="sect10">
<a href="backgroundfetchregistration/recordsavailable.html"><code>BackgroundFetchRegistration.recordsAvailable</code></a> <span class="badge inline readonly">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>boolean</code></a> indicating whether the <code>recordsAvailable</code> flag is set.</p> </dd> </dl>
</div>
<h2 id="instance_methods">Instance methods</h2>
<div class="section-content"><dl> <dt id="sect11">
<a href="backgroundfetchregistration/abort.html"><code>BackgroundFetchRegistration.abort()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Aborts the background fetch. Returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves with <code>true</code> if the fetch was successfully aborted.</p> </dd> <dt id="sect12">
<a href="backgroundfetchregistration/match.html"><code>BackgroundFetchRegistration.match()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Returns a single <a href="backgroundfetchrecord.html"><code>BackgroundFetchRecord</code></a> object which is the first match for the arguments.</p> </dd> <dt id="sect13">
<a href="backgroundfetchregistration/matchall.html"><code>BackgroundFetchRegistration.matchAll()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p>Returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves with an array of <a href="backgroundfetchrecord.html"><code>BackgroundFetchRecord</code></a> objects containing requests and responses.</p> </dd> </dl></div>
<h2 id="events">Events</h2>
<div class="section-content">
<p>Listen to these events using <a href="eventtarget/addeventlistener.html"><code>addEventListener()</code></a> or by assigning an event listener to the <code>oneventname</code> property of this interface.</p> <dl> <dt id="sect14">
<a href="backgroundfetchregistration/progress_event.html"><code>progress</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future."> <span class="visually-hidden">Experimental</span> </abbr>
</dt> <dd> <p> Fired when there is a change to any of the following properties: <a href="backgroundfetchregistration/uploaded.html"><code>uploaded</code></a>, <a href="backgroundfetchregistration/downloaded.html"><code>downloaded</code></a>, <a href="backgroundfetchregistration/result.html"><code>result</code></a> or <a href="backgroundfetchregistration/failurereason.html"><code>failureReason</code></a>. </p> </dd> </dl>
</div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p>The following code creates a <code>BackGroundFetchRegistration</code> as <code>bgFetch</code>, with an <code>id</code> of <code>"my-fetch"</code>.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="eOia0SKTStBz7yDF6hh06JZCLErpvLYX9rUVF3R+fDU=" data-language="js">navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span>ready<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">swReg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> bgFetch <span class="token operator">=</span> <span class="token keyword">await</span> swReg<span class="token punctuation">.</span>backgroundFetch<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>
    <span class="token string">"my-fetch"</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">"/ep-5.mp3"</span><span class="token punctuation">,</span> <span class="token string">"ep-5-artwork.jpg"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"Episode 5: Interesting things."</span><span class="token punctuation">,</span>
      <span class="token literal-property property">icons</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">sizes</span><span class="token operator">:</span> <span class="token string">"300x300"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">"/ep-5-icon.png"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"image/png"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">downloadTotal</span><span class="token operator">:</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>Logging the <a href="backgroundfetchregistration/id.html"><code>id</code></a> to the console returns <code>"my-fetch"</code>.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="ePSpwdU/QIb4sFF9XuDKEt1plCHuLjJWsI0xAFu8kgM=" data-language="js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bgFetch<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "my-fetch"</span>
</pre>
</div> <p>The <a href="backgroundfetchregistration/match.html"><code>match()</code></a> method can be used to find a particular <a href="backgroundfetchrecord.html"><code>BackgroundFetchRecord</code></a> from those that are part of the registration.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="eMbVycZeIyRO7ftEatR35yM2vBEFf9xy+f/u7zWRPOw=" data-language="js">bgFetch<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token string">"/ep-5.mp3"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">record</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>record<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"No record found"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Here's the request</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> record<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> record<span class="token punctuation">.</span>responseReady<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">And here's the response</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://wicg.github.io/background-fetch/#background-fetch-registration">Background Fetch <br><small># background-fetch-registration</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>BackgroundFetchRegistration</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>abort</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>downloadTotal</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>downloaded</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>failureReason</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>id</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>match</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>matchAll</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>progress_event</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>recordsAvailable</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>result</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>uploadTotal</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
<tr>
<th><code>uploaded</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr>
</tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/BackgroundFetchRegistration</a>
  </p>
</div>
