<header><h1>Element: contentvisibilityautostatechange event</h1>
<details class="baseline-indicator low"><summary><div class="status-title">Baseline <span class="not-bold">2024</span>
</div>
<div class="pill">Newly available</div>

</summary><div class="extra">
<p>Since September 2024, this feature works across the latest devices and browser versions. This feature might not work in older devices or browsers.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FElement%2Fcontentvisibilityautostatechange_event&amp;level=low" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content">
<p>The <code>contentvisibilityautostatechange</code> event fires on any element with <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/content-visibility"><code>content-visibility: auto</code></a> set on it when it starts or stops being <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_containment/Using_CSS_containment#relevant_to_the_user">relevant to the user</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_containment/Using_CSS_containment#skips_its_contents">skipping its contents</a>.</p> <p>While the element is not relevant (between the start and end events), the user agent skips an element's rendering, including layout and painting, which can significantly improve page rendering speed. The <code>contentvisibilityautostatechange</code> event provides a way for an app's code to also start or stop rendering processes (e.g. drawing on a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas"><code>&lt;canvas&gt;</code></a>) when they are not needed, thereby conserving processing power.</p> <p>Note that even when hidden from view, element contents will remain semantically relevant (e.g. to assistive technology users), so this signal should not be used to skip significant semantic DOM updates.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content">
<p>Use the event name in methods like <a href="../eventtarget/addeventlistener.html"><code>addEventListener()</code></a>, or set an event handler property.</p> <div class="code-example"><pre data-language="js">addEventListener("contentvisibilityautostatechange", (event) =&gt; {});
oncontentvisibilityautostatechange = (event) =&gt; {};
</pre></div> <div class="notecard note"> <p><strong>Note:</strong> The event object is of type <a href="../contentvisibilityautostatechangeevent.html"><code>ContentVisibilityAutoStateChangeEvent</code></a>.</p> </div>
</div>
<h2 id="examples">Examples</h2>
<div class="section-content"><div class="code-example"><pre data-language="js">const canvasElem = document.querySelector("canvas");

canvasElem.addEventListener("contentvisibilityautostatechange", stateChanged);
canvasElem.style.contentVisibility = "auto";

function stateChanged(event) {
  if (event.skipped) {
    stopCanvasUpdates(canvasElem);
  } else {
    startCanvasUpdates(canvasElem);
  }
}

// Call this when the canvas updates need to start.
function startCanvasUpdates(canvas) {
  // …
}

// Call this when the canvas updates need to stop.
function stopCanvasUpdates(canvas) {
  // …
}
</pre></div></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://drafts.csswg.org/css-contain/#content-visibility-auto-state-change">CSS Containment Module Level 2 <br><small># content-visibility-auto-state-change</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>contentvisibilityautostatechange_event</code></th>
<td class="bc-supports-yes">108</td>
<td class="bc-supports-yes">108</td>
<td class="bc-supports-yes">130<details><summary>124–130</summary>The <code>oncontentvisibilityautostatechange</code> event handler property is not supported.</details>
</td>
<td class="bc-supports-yes">94</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">108</td>
<td class="bc-supports-yes">130<details><summary>124–130</summary>The <code>oncontentvisibilityautostatechange</code> event handler property is not supported.</details>
</td>
<td class="bc-supports-yes">73</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">21.0</td>
<td class="bc-supports-yes">108</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../contentvisibilityautostatechangeevent.html"><code>ContentVisibilityAutoStateChangeEvent</code></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_containment">CSS Containment</a></li> <li>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/content-visibility"><code>content-visibility</code></a> property</li> <li>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/contain"><code>contain</code></a> property</li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/contentvisibilityautostatechange_event" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Element/contentvisibilityautostatechange_event</a>
  </p>
</div>
