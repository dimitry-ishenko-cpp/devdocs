<header><h1>PerformanceNavigationTiming: criticalCHRestart property</h1></header><div class="section-content">
<div class="notecard experimental"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>A website can indicate that a particular <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Client_hints">Client Hint</a> is critical to the page by including it in a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Critical-CH"><code>Critical-CH</code></a> HTTP response header (as well as the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-CH"><code>Accept-CH</code></a> HTTP request header which is needed for all client hints whether critical or not). Doing so will trigger a connection restart if the hint listed in the <code>Critical-CH</code> HTTP response header could have been, but wasn't, included in the HTTP request initially sent. If the browser does not support that client hint, it is ignored and no connection restart occurs.</p> <p>The <code>criticalCHRestart</code> read-only property represents the time at which the connection restart occurred.</p>
</div>
<h2 id="value">Value</h2>
<div class="section-content">
<p>A <a href="../domhighrestimestamp.html"><code>DOMHighResTimeStamp</code></a> representing the number of milliseconds elapsed since <a href="../performanceentry/starttime.html"><code>PerformanceEntry.startTime</code></a> when the connection restart occurred in milliseconds.</p> <p>If the value is <code>0</code> the connection was not restarted.</p>
</div>
<h2 id="examples">Examples</h2>

<h3 id="detecting_connection_restart_pages">Detecting connection restart pages</h3>
<div class="section-content">
<p>The following JavaScript can be used to see if the connection was restarted:</p> <div class="code-example"><pre data-language="js">const restartTime =
  performance?.getEntriesByType?.("navigation")[0]?.criticalCHRestart;
if (restartTime &gt; 0) {
  console.log("Time at which connection restart happened:", restartTime);
}
</pre></div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/navigation-timing/#dom-performancenavigationtiming-criticalchrestart">Navigation Timing Level 2 <br><small># dom-performancenavigationtiming-criticalchrestart</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>criticalCHRestart</code></th>
<td class="bc-supports-yes">116</td>
<td class="bc-supports-yes">116</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">102</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">116</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">78</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">24.0</td>
<td class="bc-supports-yes">116</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Client_hints">Client hints</a></li> <li><a href="../user-agent_client_hints_api.html">User-Agent Client Hints API</a></li> <li>
<a href="https://developer.chrome.com/docs/privacy-security/user-agent-client-hints" target="_blank">Improving user privacy and developer experience with User-Agent Client Hints</a> (developer.chrome.com)</li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-CH"><code>Accept-CH</code></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Critical-CH"><code>Critical-CH</code></a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/PerformanceNavigationTiming/criticalCHRestart" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/PerformanceNavigationTiming/criticalCHRestart</a>
  </p>
</div>
