<header><h1>EditContext: updateControlBounds() method</h1>
<details class="baseline-indicator not"><summary><h2><span class="not-bold">Limited availability</span></h2>

</summary><div class="extra">
<p>This feature is not Baseline because it does not work in some of the most widely-used browsers.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FEditContext%2FupdateControlBounds&amp;level=not" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content">
<div class="notecard experimental" id="sect1"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The <code>EditContext.updateControlBounds()</code> method of the <a href="../editcontext.html"><code>EditContext</code></a> interface is used to inform the operating system about the position and size of the editable text region of the <code>EditContext</code> object.</p> <p>Call this method to tell the operating system the bounds of the current editable region. You should call it when initializing the EditContext, and whenever the editable region's bounds change such as when the webpage is resized. These bounds are used to position platform-specific editing-related UI surfaces such as an <a href="https://developer.mozilla.org/en-US/docs/Glossary/Input_method_editor">Input Method Editor</a> (IME) window.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="S0AIvw37FCleBH3hsnK2HZYGOtzCv5RZCScWnqDxDOs=" data-language="js"><span class="token function">updateControlBounds</span><span class="token punctuation">(</span>controlBounds<span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="controlbounds"><a href="#controlbounds"><code>controlBounds</code></a></dt> <dd> <p>A <a href="../domrect.html"><code>DOMRect</code></a> object representing the new control bounds.</p> </dd> </dl></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><ul> <li>If no argument is provided, a <code>TypeError</code> <a href="../domexception.html"><code>DOMException</code></a> is thrown.</li> <li>If the provided argument is not a <a href="../domrect.html"><code>DOMRect</code></a> a <code>TypeError</code> <a href="../domexception.html"><code>DOMException</code></a> is thrown.</li> </ul></div>
<h2 id="examples">Examples</h2>

<h3 id="updating_the_control_bounds_when_the_editor_is_initialized_and_on_window_resize">Updating the control bounds when the editor is initialized and on window resize</h3>
<div class="section-content">
<p>This example shows how to use the <code>updateControlBounds()</code> method to tell the platform where the editable region is at all times.</p> <div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="Z+IMSdIUPr6F5QJ1j0eCGz+Ow8+ZqQkSlc8NUNg3qg0=" data-language="css"><span class="token selector">#editor</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50vw<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 50vh<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <div class="code-example">
<div class="example-header"><span class="language-name">html</span></div>
<pre data-signature="9n04uhJk752HogHFrznfr9iu9GM5LmHzD9EdVNsqyhw=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>editor<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</pre>
</div> <div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="jTXPBOOXomdpmpnKzAIby2oWjpRlO/CJJD2+QrsDrGE=" data-language="js"><span class="token keyword">const</span> editorEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"editor"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> editContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EditContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editorEl<span class="token punctuation">.</span>editContext <span class="token operator">=</span> editContext<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">updateControlBounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> editorBounds <span class="token operator">=</span> editorEl<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  editContext<span class="token punctuation">.</span><span class="token function">updateControlBounds</span><span class="token punctuation">(</span>editorBounds<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Updated control bounds to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>editorBounds<span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>editorBounds<span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>editorBounds<span class="token punctuation">.</span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>editorBounds<span class="token punctuation">.</span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Update the control bounds now.</span>
<span class="token function">updateControlBounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// And when the page is resized.</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> updateControlBounds<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/edit-context/#dom-editcontext-updatecontrolbounds">EditContext API <br><small># dom-editcontext-updatecontrolbounds</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody><tr>
<th><code>updateControlBounds</code></th>
<td class="bc-supports-yes">121</td>
<td class="bc-supports-yes">121</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">107</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">121</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">81</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">25.0</td>
<td class="bc-supports-yes">121</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li>The <a href="../editcontext.html"><code>EditContext</code></a> interface it belongs to.</li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/EditContext/updateControlBounds" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/EditContext/updateControlBounds</a>
  </p>
</div>
