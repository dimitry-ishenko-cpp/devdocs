<header><h1>SecurePaymentConfirmationRequest</h1></header><div class="section-content">
<p>The <code>SecurePaymentConfirmationRequest</code> dictionary describes input to the <a href="payment_request_api.html">Payment Request API</a> when used to authenticate a user during an e-commerce transaction <a href="payment_request_api/using_secure_payment_confirmation.html">using SPC with Payment Request API</a>.</p> <p>An instance of this dictionary must be passed into the <a href="paymentrequest/paymentrequest.html"><code>PaymentRequest()</code></a> constructor as the value of the <a href="paymentrequest/paymentrequest.html#data"><code>data</code></a> field corresponding to a <a href="paymentrequest/paymentrequest.html#supportedmethods"><code>supportedMethods</code></a> value of <code>"secure-payment-confirmation"</code>.</p>
</div>
<h2 id="instance_properties">Instance properties</h2>
<div class="section-content"><dl> <dt id="challenge"><a href="#challenge"><code>challenge</code></a></dt> <dd> <p>An <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray"><code>TypedArray</code></a>, or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView"><code>DataView</code></a> provided by the relying party's server and used as a <a href="https://en.wikipedia.org/wiki/Challenge%E2%80%93response_authentication" target="_blank">cryptographic challenge</a>. This value will be signed by the authenticator and the signature will be sent back as part of <a href="authenticatorattestationresponse/attestationobject.html"><code>AuthenticatorAttestationResponse.attestationObject</code></a>. This helps prevent replay attacks.</p> </dd> <dt id="credentialids"><a href="#credentialids"><code>credentialIds</code></a></dt> <dd> <p>A list of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray"><code>TypedArray</code></a>, or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView"><code>DataView</code></a>. These <a href="https://www.w3.org/TR/webauthn-2/#credential-id" target="_blank">Credential IDs</a> represent Web Authentication credentials that have been registered with the relying party for authenticating during a payment with the associated <code>instrument</code>.</p> </dd> <dt id="extensions">
<a href="#extensions"><code>extensions</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>Any <a href="web_authentication_api/webauthn_extensions.html">WebAuthn extensions</a> that should be used for the passed credential(s). The caller does not need to specify the <a href="web_authentication_api/webauthn_extensions.html#payment"><code>payment</code> extension</a>; this is added automatically.</p> </dd> <dt id="instrument"><a href="#instrument"><code>instrument</code></a></dt> <dd> <p>The description of the instrument name and icon to display during registration and to be signed along with the transaction details. This is an object with the following properties:</p> <dl> <dt id="displayname"><a href="#displayname"><code>displayName</code></a></dt> <dd> <p>A string containing the payment instrument's name, which will be displayed to the user.</p> </dd> <dt id="icon"><a href="#icon"><code>icon</code></a></dt> <dd> <p>A string containing the URL of the payment instrument's icon.</p> </dd> <dt id="iconmustbeshown">
<a href="#iconmustbeshown"><code>iconMustBeShown</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A boolean value indicating whether the icon must be successfully fetched and shown for the request to succeed. Defaults to <code>true</code>.</p> </dd> </dl> </dd> <dt id="locale">
<a href="#locale"><code>locale</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>An optional list of well-formed <a href="https://datatracker.ietf.org/doc/html/rfc5646" target="_blank">RFC 5646: Tags for Identifying Languages (also known as BCP 47)</a> language tags, in descending order of priority, that identify the local preferences of the website. That is, this represents a language priority list <a href="https://datatracker.ietf.org/doc/html/rfc4647" target="_blank">RFC 4647: Matching of Language Tags</a>, which the user agent can use to perform <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Content_negotiation">language negotiation</a> and locale-affected formatting with the caller.</p> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> The locale is distinct from language or direction metadata associated with specific input members, in that it represents the caller's requested localized experience rather than assertion about a specific string value. See <a href="https://w3c.github.io/secure-payment-confirmation/#sctn-i18n-considerations" target="_blank">SPC internationalization Considerations</a> for more discussion.</p> </div> </dd> <dt id="payeename">
<a href="#payeename"><code>payeeName</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A string that serves as the display name of the payee that this SPC call is for (e.g., the merchant). Optional, may be provided alongside or instead of <code>payeeOrigin</code>.</p> </dd> <dt id="payeeorigin">
<a href="#payeeorigin"><code>payeeOrigin</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A string that is the origin of the payee that this SPC call is for (e.g., the merchant). Optional, may be provided alongside or instead of <code>payeeName</code>.</p> </dd> <dt id="rpid"><a href="#rpid"><code>rpId</code></a></dt> <dd> <p>A string that specifies the relying party's identifier (for example "login.example.org").</p> </dd> <dt id="showoptout">
<a href="#showoptout"><code>showOptOut</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>A boolean indicating whether the user should be given a chance to opt-out during the <a href="payment_request_api/using_secure_payment_confirmation.html#authenticating_a_payment">transaction dialog UX</a>. Defaults to <code>false</code>.</p> </dd> <dt id="timeout">
<a href="#timeout"><code>timeout</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>The number of milliseconds before the request to sign the transaction details times out. At most 1 hour.</p> </dd> </dl></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/secure-payment-confirmation/#sctn-securepaymentconfirmationrequest-dictionary">Secure Payment Confirmation <br><small># sctn-securepaymentconfirmationrequest-dictionary</small></a></td></tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/SecurePaymentConfirmationRequest" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/SecurePaymentConfirmationRequest</a>
  </p>
</div>
