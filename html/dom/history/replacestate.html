<header><h1>History: replaceState() method</h1>
<details class="baseline-indicator high"><summary><div class="status-title">Baseline <span class="not-bold">Widely available</span>
</div>

</summary><div class="extra">
<p>This feature is well established and works across many devices and browser versions. It’s been available across browsers since July 2015.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FHistory%2FreplaceState&amp;level=high" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content"><p>The <code>replaceState()</code> method of the <a href="../history.html"><code>History</code></a> interface modifies the current history entry, replacing it with the state object and URL passed in the method parameters. This method is particularly useful when you want to update the state object or URL of the current history entry in response to some user action.</p></div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js">replaceState(state, unused)
replaceState(state, unused, url)
</pre></div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="state"><a href="#state"><code>state</code></a></dt> <dd> <p>An object which is associated with the history entry passed to the <code>replaceState()</code> method. The state object can be <code>null</code>.</p> </dd> <dt id="unused"><a href="#unused"><code>unused</code></a></dt> <dd> <p>This parameter exists for historical reasons, and cannot be omitted; passing the empty string is traditional, and safe against future changes to the method.</p> </dd> <dt id="url"><a href="#url"><code>url</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>The URL of the history entry. The new URL must be of the same origin as the current URL; otherwise the <code>replaceState()</code> method throws an exception.</p> </dd> </dl></div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>None (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>).</p></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><dl> <dt id="securityerror">
<code>SecurityError</code> <a href="../domexception.html"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if the associated document is not fully active, or if the provided <code>url</code> parameter is not a valid URL. Browsers also throttle navigations and may throw this error, generate a warning, or ignore the call if it's called too frequently.</p> </dd> <dt id="datacloneerror">
<code>DataCloneError</code> <a href="../domexception.html"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if the provided <code>state</code> parameter is not serializable.</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p>Suppose <code>https://www.mozilla.org/foo.html</code> executes the following JavaScript:</p> <div class="code-example"><pre data-language="js">const stateObj = { foo: "bar" };
history.pushState(stateObj, "", "bar.html");
</pre></div> <p>On the next page you could then use <code>history.state</code> to access the <code>stateObj</code> that was just added.</p> <p>The explanation of these two lines above can be found in the <a href="../history_api/working_with_the_history_api.html#using_pushstate">Working with the History API</a> article. Then suppose <code>https://www.mozilla.org/bar.html</code> executes the following JavaScript:</p> <div class="code-example"><pre data-language="js">history.replaceState(stateObj, "", "bar2.html");
</pre></div> <p>This will cause the URL bar to display <code>https://www.mozilla.org/bar2.html</code>, but won't cause the browser to load <code>bar2.html</code> or even check that <code>bar2.html</code> exists.</p> <p>Suppose now that the user navigates to <code>https://www.microsoft.com</code>, then clicks the Back button. At this point, the URL bar will display <code>https://www.mozilla.org/bar2.html</code>. If the user now clicks Back again, the URL bar will display <code>https://www.mozilla.org/foo.html</code>, and totally bypass bar.html.</p>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-replacestate-dev">HTML <br><small># dom-history-replacestate-dev</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>replaceState</code></th>
<td class="bc-supports-yes">5</td>
<td class="bc-supports-yes">12</td>
<td class="bc-supports-yes"><details><summary>4</summary>Until Firefox 5, the passed object is serialized using JSON. Starting in Firefox 6, the object is serialized using <a href="https://developer.mozilla.org/docs/DOM/The_structured_clone_algorithm">the structured clone algorithm</a>. This allows a wider variety of objects to be safely passed.</details></td>
<td class="bc-supports-yes">11.5</td>
<td class="bc-supports-yes">5</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes"><details><summary>4</summary>Until Firefox for Android 5, the passed object is serialized using JSON. Starting in Firefox for Android 6, the object is serialized using <a href="https://developer.mozilla.org/docs/DOM/The_structured_clone_algorithm">the structured clone algorithm</a>. This allows a wider variety of objects to be safely passed.</details></td>
<td class="bc-supports-yes">11.5</td>
<td class="bc-supports-yes">4</td>
<td class="bc-supports-yes">1.0</td>
<td class="bc-supports-yes">≤37</td>
</tr>
<tr>
<th><code>unused_parameter</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>5</summary>This feature may be removed, see <a href="https://webkit.org/b/223190">bug 223190</a>.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes"><details><summary>4</summary>This feature may be removed, see <a href="https://webkit.org/b/223190">bug 223190</a>.</details></td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr>
</tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState</a>
  </p>
</div>
