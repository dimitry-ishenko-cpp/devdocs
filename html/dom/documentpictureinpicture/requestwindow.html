<header><h1>DocumentPictureInPicture: requestWindow() method</h1></header><div class="section-content">
<div class="notecard experimental" id="sect1"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p> The <code>requestWindow()</code> method of the <a href="../documentpictureinpicture.html"><code>DocumentPictureInPicture</code></a> interface opens the Picture-in-Picture window for the current main browsing context. It returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that fulfills with a <a href="../window.html"><code>Window</code></a> instance representing the browsing context inside the Picture-in-Picture window. </p> <p>The <code>requestWindow()</code> method requires <a href="https://developer.mozilla.org/en-US/docs/Glossary/Transient_activation">transient activation</a>, i.e. it must be invoked in response to a user action such as a mouse click or button press.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="8HtrxtHe8VlyWarE2D/rzCx97eh2IGIMRZGclxoSaMg=" data-language="js"><span class="token function">requestWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">requestWindow</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</pre>
</div></div>
<h3 id="parameters">Parameters</h3>
<div class="section-content">
<dl> <dt id="options">
<a href="#options"><code>options</code></a> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>An options object containing the following properties:</p> <dl> <dt id="height"><a href="#height"><code>height</code></a></dt> <dd> <p>A non-negative number representing the height to set for the Picture-in-Picture window's viewport, in pixels. If <code>options</code> is not specified, the default value 0 is used.</p> </dd> <dt id="width"><a href="#width"><code>width</code></a></dt> <dd> <p>A non-negative number representing the width to set for the Picture-in-Picture window's viewport, in pixels. If <code>options</code> is not specified, the default value 0 is used.</p> </dd> </dl> </dd> </dl> <div class="notecard note" id="sect2"> <p><strong>Note:</strong> If one of the options is specified, the other one must be too, otherwise an error is thrown. If both values are not specified, specified as 0, or set too large, the browser will clamp or ignore the values as appropriate to provide a reasonable user experience. The clamped size will vary depending on implementation, display size, and other factors.</p> </div>
</div>
<h3 id="return_value">Return value</h3>
<div class="section-content"><p>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that fulfills with a <a href="../window.html"><code>Window</code></a> object instance representing the browsing context inside the Picture-in-Picture window.</p></div>
<h3 id="exceptions">Exceptions</h3>
<div class="section-content"><dl> <dt id="notallowederror">
<a href="#notallowederror"><code>NotAllowedError</code></a> <a href="../domexception.html"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if:</p> <ul> <li>
<code>requestWindow()</code> is invoked without <a href="https://developer.mozilla.org/en-US/docs/Glossary/Transient_activation">transient activation</a>.</li> <li>The API has been explicitly disabled (for example via browser settings).</li> <li>
<code>requestWindow()</code> is called from the <code>window</code> object of the Picture-in-Picture window (i.e. <a href="window.html"><code>DocumentPictureInPicture.window</code></a>)</li> </ul> </dd> <dt id="rangeerror">
<a href="#rangeerror"><code>RangeError</code></a> <a href="../domexception.html"><code>DOMException</code></a>
</dt> <dd> <p>Thrown if only one of <code>height</code> and <code>width</code> are set, or if <code>height</code> and <code>width</code> are set with negative values.</p> </dd> </dl></div>
<h2 id="examples">Examples</h2>
<div class="section-content"><div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="ZPpghQmJXmWgNzKn9CA/qAAfnDBWYeJ+Iq2p3Gr9jio=" data-language="js"><span class="token keyword">const</span> videoPlayer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"player"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token comment">// Open a Picture-in-Picture window.</span>
<span class="token keyword">const</span> pipWindow <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">.</span>documentPictureInPicture<span class="token punctuation">.</span><span class="token function">requestWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> videoPlayer<span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span>
  <span class="token literal-property property">height</span><span class="token operator">:</span> videoPlayer<span class="token punctuation">.</span>clientHeight<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
</pre>
</div></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://wicg.github.io/document-picture-in-picture/#dom-documentpictureinpicture-requestwindow">Document Picture-in-Picture Specification <br><small># dom-documentpictureinpicture-requestwindow</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>requestWindow</code></th>
<td class="bc-supports-yes">116</td>
<td class="bc-supports-yes">116</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">102</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../document_picture-in-picture_api.html">Document Picture-in-Picture API</a></li> <li><a href="../document_picture-in-picture_api/using.html">Using the Document Picture-in-Picture API</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/DocumentPictureInPicture/requestWindow" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/DocumentPictureInPicture/requestWindow</a>
  </p>
</div>
