<header><h1>ServiceWorkerGlobalScope: backgroundfetchabort event</h1></header><div class="section-content">
<div class="notecard experimental" id="sect1"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>The <code>backgroundfetchabort</code> event of the <a href="../serviceworkerglobalscope.html"><code>ServiceWorkerGlobalScope</code></a> interface is fired when the user or the app itself cancels a <a href="../background_fetch_api.html">background fetch</a> operation.</p> <p>This event is not cancelable and does not bubble.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content">
<p>Use the event name in methods like <a href="../eventtarget/addeventlistener.html"><code>addEventListener()</code></a>, or set an event handler property.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="PMkVIQ93p3g9A3F00FIP44fcMIrSGPBgBMjXyRZ8cGM=" data-language="js"><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"backgroundfetchabort"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function-variable function">onbackgroundfetchabort</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="event_type">Event type</h2>
<div class="section-content">
<p>A <a href="../backgroundfetchevent.html"><code>BackgroundFetchEvent</code></a>.</p>
<svg viewbox="-1 -1 650 42" preserveaspectratio="xMinYMin meet"> <a style="text-decoration: none;" xlink:href="/en-US/docs/Web/API/Event.html">  <text x="37.5" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> Event </text> </a>   <a style="text-decoration: none;" xlink:href="/en-US/docs/Web/API/ExtendableEvent.html">  <text x="165" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> ExtendableEvent </text> </a>   <a style="text-decoration: none;" xlink:href="/en-US/docs/Web/API/BackgroundFetchEvent.html">  <text x="335" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> BackgroundFetchEvent </text> </a></svg>
</div>
<h2 id="event_properties">Event properties</h2>
<div class="section-content">
<p><em>Inherits properties from its parent, <a href="../extendableevent.html"><code>ExtendableEvent</code></a>.</em></p> <dl> <dt id="sect2"><a href="../backgroundfetchevent/registration.html"><code>BackgroundFetchEvent.registration</code></a></dt> <dd> <p>Returns the <a href="../backgroundfetchregistration.html"><code>BackgroundFetchRegistration</code></a> for the aborted fetch.</p> </dd> </dl>
</div>
<h2 id="description">Description</h2>
<div class="section-content">
<p>In the background fetch API, the browser shows a UI element to the user to indicate the progress of the operation. This element also enables the user to cancel the fetch. The app itself can also cancel the fetch by calling <a href="../backgroundfetchregistration/abort.html"><code>BackgroundFetchRegistration.abort()</code></a>.</p> <p>If the fetch is canceled, the browser aborts the fetch, starts the service worker, if necessary, and fires the <code>backgroundfetchabort</code> event in the service worker's global scope.</p> <p>In the handler for this event, the service worker can clean up any related data for the operation. It can also retrieve and store any successful responses (for example, using the <a href="../cache.html"><code>Cache</code></a> API). To access the response data, the service worker uses the event's <a href="../backgroundfetchevent/registration.html"><code>registration</code></a> property.</p>
</div>
<h2 id="examples">Examples</h2>

<h3 id="cleaning_up">Cleaning up</h3>
<div class="section-content">
<p>This event handler might perform any cleanup of data associated with the aborted fetch.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="GGvE2v0UB768I1RLNLgBJMj4egoy1dd8aJugEG0C3Rc=" data-language="js"><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"backgroundfetchabort"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// clean up any related data</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://wicg.github.io/background-fetch/#dom-serviceworkerglobalscope-onbackgroundfetchabort">Background Fetch <br><small># dom-serviceworkerglobalscope-onbackgroundfetchabort</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>backgroundfetchabort_event</code></th>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">79</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">62</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">53</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">11.0</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../background_fetch_api.html">Background Fetch API</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/backgroundfetchabort_event" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/backgroundfetchabort_event</a>
  </p>
</div>
