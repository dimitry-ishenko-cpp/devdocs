<header><h1>ServiceWorkerGlobalScope: notificationclick event</h1></header><div class="section-content">
<p>The <code>notificationclick</code> event is fired to indicate that a system notification spawned by <a href="../serviceworkerregistration/shownotification.html"><code>ServiceWorkerRegistration.showNotification()</code></a> has been clicked.</p> <p>This event is not cancelable and does not bubble.</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="section-content">
<p>Use the event name in methods like <a href="../eventtarget/addeventlistener.html"><code>addEventListener()</code></a>, or set an event handler property.</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="IHiR2TGdPV5khftnm47vWIPHKeJM/tpf6TgmvjxFr0k=" data-language="js"><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"notificationclick"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function-variable function">onnotificationclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="event_type">Event type</h2>
<div class="section-content">
<p>A <a href="../notificationevent.html"><code>NotificationEvent</code></a>. Inherits from <a href="../event.html"><code>Event</code></a>.</p>
<svg viewbox="-1 -1 650 42" preserveaspectratio="xMinYMin meet"> <a style="text-decoration: none;" xlink:href="/en-US/docs/Web/API/Event.html">  <text x="37.5" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> Event </text> </a>   <a style="text-decoration: none;" xlink:href="/en-US/docs/Web/API/ExtendableEvent.html">  <text x="165" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> ExtendableEvent </text> </a>   <a style="text-decoration: none;" xlink:href="/en-US/docs/Web/API/NotificationEvent.html">  <text x="323" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle"> NotificationEvent </text> </a></svg>
</div>
<h2 id="event_properties">Event properties</h2>
<div class="section-content">
<p><em>Inherits properties from its ancestor, <a href="../event.html"><code>Event</code></a></em>.</p> <dl> <dt id="sect1">
<a href="../notificationevent/notification.html"><code>NotificationEvent.notification</code></a> <span class="badge inline readonly">Read only </span>
</dt> <dd> <p>Returns a <a href="../notification.html"><code>Notification</code></a> object representing the notification that was clicked to fire the event.</p> </dd> <dt id="sect2">
<a href="../notificationevent/action.html"><code>NotificationEvent.action</code></a> <span class="badge inline readonly">Read only </span>
</dt> <dd> <p>Returns the string ID of the notification button the user clicked. This value returns an empty string if the user clicked the notification somewhere other than an action button, or the notification does not have a button.</p> </dd> </dl>
</div>
<h2 id="examples">Examples</h2>
<div class="section-content">
<p>You can use the <code>notificationclick</code> event in an <a href="../eventtarget/addeventlistener.html"><code>addEventListener</code></a> method:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="Cqdigq6hpy0mYag03Rs6j74xLSUSmxZzr1Bi58yhqUo=" data-language="js">self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"notificationclick"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"On notification click: "</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>notification<span class="token punctuation">.</span>tag<span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span>notification<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// This looks to see if the current is already open and</span>
  <span class="token comment">// focuses if it is</span>
  event<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    clients
      <span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"window"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">clientList</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> client <span class="token keyword">of</span> clientList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>client<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/"</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"focus"</span> <span class="token keyword">in</span> client<span class="token punctuation">)</span> <span class="token keyword">return</span> client<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>clients<span class="token punctuation">.</span>openWindow<span class="token punctuation">)</span> <span class="token keyword">return</span> clients<span class="token punctuation">.</span><span class="token function">openWindow</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div> <p>Or use the <code>onnotificationclick</code> event handler property:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="pk+4YnTK1phi8g32EVDg6LGxoInLaYjee2yEhkLpMXk=" data-language="js">self<span class="token punctuation">.</span><span class="token function-variable function">onnotificationclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"On notification click: "</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>notification<span class="token punctuation">.</span>tag<span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span>notification<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// This looks to see if the current is already open and</span>
  <span class="token comment">// focuses if it is</span>
  event<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    clients
      <span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"window"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">clientList</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> client <span class="token keyword">of</span> clientList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>client<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">"/"</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"focus"</span> <span class="token keyword">in</span> client<span class="token punctuation">)</span> <span class="token keyword">return</span> client<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>clients<span class="token punctuation">.</span>openWindow<span class="token punctuation">)</span> <span class="token keyword">return</span> clients<span class="token punctuation">.</span><span class="token function">openWindow</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</pre>
</div> <p>You can handle event actions using <code>event.action</code> within a <a href="notificationclick_event.html" aria-current="page"><code>notificationclick</code></a> event handler:</p> <div class="code-example">
<p class="example-header"><span class="language-name">js</span></p>
<pre data-signature="k4IvEaIoBi7lsJlgy0VI9dSeWhmzRPENJVfDR3/nWD4=" data-language="js">navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">"sw.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Notification<span class="token punctuation">.</span><span class="token function">requestPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">===</span> <span class="token string">"granted"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span>ready<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// Show a notification that includes an action titled Archive.</span>
      registration<span class="token punctuation">.</span><span class="token function">showNotification</span><span class="token punctuation">(</span><span class="token string">"New mail from Alice"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">action</span><span class="token operator">:</span> <span class="token string">"archive"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"Archive"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">"notificationclick"</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span>notification<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>action <span class="token operator">===</span> <span class="token string">"archive"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// User selected the Archive action.</span>
      <span class="token function">archiveEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// User selected (e.g., clicked in) the main body of notification.</span>
      clients<span class="token punctuation">.</span><span class="token function">openWindow</span><span class="token punctuation">(</span><span class="token string">"/inbox"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre>
</div>
</div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody>
<tr><td><a href="https://notifications.spec.whatwg.org/#activating-a-notification">Notifications API Standard <br><small># activating-a-notification</small></a></td></tr>
<tr><td><a href="https://notifications.spec.whatwg.org/#dom-serviceworkerglobalscope-onnotificationclick">Notifications API Standard <br><small># dom-serviceworkerglobalscope-onnotificationclick</small></a></td></tr>
</tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>notificationclick_event</code></th>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">17</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">24</td>
<td class="bc-supports-yes"><details><summary>16</summary>Supported on macOS 13 and later</details></td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">40</td>
<td class="bc-supports-yes">44</td>
<td class="bc-supports-yes">27</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">4.0</td>
</tr></tbody>
</table></div>
<h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../service_worker_api.html">Service Worker API</a></li> <li><a href="../notifications_api.html">Notifications API</a></li> </ul></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/notificationclick_event" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/notificationclick_event</a>
  </p>
</div>
