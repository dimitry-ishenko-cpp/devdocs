<header><h1>Boilerplate 1</h1></header><div class="section-content">
<ul class="prev-next"> <li><a class="button secondary" href="canvas_size_and_webgl.html">« Previous</a></li> <li><a class="button secondary" href="scissor_animation.html">Next »</a></li> </ul> <p>This example describes repeated pieces of code that will be hidden from now on, as well as defining a JavaScript utility function to make WebGL initialization easier.</p>
</div>
<h2 id="boilerplate_code_for_setting_up_webgl_rendering_context">Boilerplate code for setting up WebGL rendering context</h2>
<div class="section-content">
<p>By now you are quite used to seeing the same pieces of <a href="https://developer.mozilla.org/en-US/docs/Glossary/HTML">HTML</a>, <a href="https://developer.mozilla.org/en-US/docs/Glossary/CSS">CSS</a>, and <a href="https://developer.mozilla.org/en-US/docs/Glossary/JavaScript">JavaScript</a> repeated again and again. So we are going to hide them from now on. This would allow us to focus on the interesting pieces of code that are most relevant for learning <a href="https://developer.mozilla.org/en-US/docs/Glossary/WebGL">WebGL</a>.</p> <p>Specifically, the HTML has a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p"><code>&lt;p&gt;</code></a> element that contains some descriptive text about the page and may also hold error messages; a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas"><code>&lt;canvas&gt;</code></a> element; and optionally a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button"><code>&lt;button&gt;</code></a>. The CSS contains rules for <code>body</code>, <code>canvas</code>, and <code>button</code>. Any additional non-trivial CSS and HTML will be displayed on the pages of specific examples.</p> <p>In following examples, we will use a JavaScript helper function, <code>getRenderingContext()</code>, to initialize the <a href="../../webglrenderingcontext.html">WebGL rendering context</a>. By now, you should be able to understand what the function does. Basically, it gets the WebGL rendering context from the canvas element, initializes the drawing buffer, clears it black, and returns the initialized context. In case of error, it displays an error message and returns <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/null"><code>null</code></a>.</p> <p>Finally, all JavaScript code will run within an immediate function, which is a common JavaScript technique (see <a href="https://developer.mozilla.org/en-US/docs/Glossary/Function">Function</a>). The function declaration and invocation will also be hidden.</p>
</div>
<h3 id="html">HTML</h3>
<div class="section-content"><div class="code-example">
<div class="example-header"><span class="language-name">html</span></div>
<pre data-signature="YUdqKOIdfNE2czI0xZgK9mE5nHGbBTpaFcShYPysBy4=" data-language="html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>[ Some descriptive text about the example. ]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>[ Optional button element. ]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span><span class="token punctuation">&gt;</span></span>Your browser does not seem to support HTML canvas.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</pre>
</div></div>
<h3 id="css">CSS</h3>
<div class="section-content"><div class="code-example">
<div class="example-header"><span class="language-name">css</span></div>
<pre data-signature="sCFnDOMCLh/uKxO8TWQ27A0JYFQrPjH4PgldvXMTR7c=" data-language="css"><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">canvas</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 210px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">button</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0.6em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div></div>
<h3 id="javascript">JavaScript</h3>
<div class="section-content">
<div class="code-example">
<div class="example-header"><span class="language-name">js</span></div>
<pre data-signature="fHmC1S4mKPwGgQBLOFinEpJw/y973FU7FfgLWQcxeYA=" data-language="js"><span class="token keyword">function</span> <span class="token function">getRenderingContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> canvas<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> canvas<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
  <span class="token keyword">const</span> gl <span class="token operator">=</span>
    canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"webgl"</span><span class="token punctuation">)</span> <span class="token operator">||</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"experimental-webgl"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>gl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> paragraph <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    paragraph<span class="token punctuation">.</span>textContent <span class="token operator">=</span>
      <span class="token string">"Failed to get WebGL context. Your browser or device may not support WebGL."</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  gl<span class="token punctuation">.</span><span class="token function">viewport</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> gl<span class="token punctuation">.</span>drawingBufferWidth<span class="token punctuation">,</span> gl<span class="token punctuation">.</span>drawingBufferHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">clearColor</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>gl<span class="token punctuation">.</span><span class="token constant">COLOR_BUFFER_BIT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> gl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre>
</div> <p>The source code of this example is also available on <a href="https://github.com/idofilin/webgl-by-example/tree/master/boilerplate-1" target="_blank">GitHub</a>.</p>
<ul class="prev-next"> <li><a class="button secondary" href="canvas_size_and_webgl.html">« Previous</a></li> <li><a class="button secondary" href="scissor_animation.html">Next »</a></li> </ul>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/By_example/Boilerplate_1" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/By_example/Boilerplate_1</a>
  </p>
</div>
