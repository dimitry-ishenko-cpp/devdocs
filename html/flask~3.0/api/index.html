<h1 id="api">API</h1> <p>This part of the documentation covers all the interfaces of Flask. For parts where Flask depends on external libraries, we document the most important right here and provide links to the canonical documentation.</p> <section id="application-object"> <h2>Application Object</h2> <dl class="py class"> <dt class="sig sig-object py" id="flask.Flask">
<code>class flask.Flask(import_name, static_url_path=None, static_folder='static', static_host=None, host_matching=False, subdomain_matching=False, template_folder='templates', instance_path=None, instance_relative_config=False, root_path=None)</code> </dt> <dd>
<p>The flask object implements a WSGI application and acts as the central object. It is passed the name of the module or package of the application. Once it is created it will act as a central registry for the view functions, the URL rules, template configuration and much more.</p> <p>The name of the package is used to resolve resources from inside the package or the folder the module is contained in depending on if the package parameter resolves to an actual python package (a folder with an <code>__init__.py</code> file inside) or a standard module (just a <code>.py</code> file).</p> <p>For more information about resource loading, see <a class="reference internal" href="#flask.Flask.open_resource" title="flask.Flask.open_resource"><code>open_resource()</code></a>.</p> <p>Usually you create a <a class="reference internal" href="#flask.Flask" title="flask.Flask"><code>Flask</code></a> instance in your main module or in the <code>__init__.py</code> file of your package like this:</p> <pre data-language="python">from flask import Flask
app = Flask(__name__)
</pre> <div class="admonition-about-the-first-parameter admonition"> <p class="admonition-title">About the First Parameter</p> <p>The idea of the first parameter is to give Flask an idea of what belongs to your application. This name is used to find resources on the filesystem, can be used by extensions to improve debugging information and a lot more.</p> <p>So it’s important what you provide there. If you are using a single module, <code>__name__</code> is always the correct value. If you however are using a package, it’s usually recommended to hardcode the name of your package there.</p> <p>For example if your application is defined in <code>yourapplication/app.py</code> you should create it with one of the two versions below:</p> <pre data-language="python">app = Flask('yourapplication')
app = Flask(__name__.split('.')[0])
</pre> <p>Why is that? The application will work even with <code>__name__</code>, thanks to how resources are looked up. However it will make debugging more painful. Certain extensions can make assumptions based on the import name of your application. For example the Flask-SQLAlchemy extension will look for the code in your application that triggered an SQL query in debug mode. If the import name is not properly set up, that debugging information is lost. (For example it would only pick up SQL queries in <code>yourapplication.app</code> and not <code>yourapplication.views.frontend</code>)</p> </div> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 1.0: </span>The <code>host_matching</code> and <code>static_host</code> parameters were added.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0: </span>The <code>subdomain_matching</code> parameter was added. Subdomain matching needs to be enabled manually now. Setting <a class="reference internal" href="../config/index.html#SERVER_NAME" title="SERVER_NAME"><code>SERVER_NAME</code></a> does not implicitly enable it.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.11: </span>The <code>root_path</code> parameter was added.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.8: </span>The <code>instance_path</code> and <code>instance_relative_config</code> parameters were added.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.7: </span>The <code>static_url_path</code>, <code>static_folder</code>, and <code>template_folder</code> parameters were added.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>import_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – the name of the application package</li> <li>
<strong>static_url_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – can be used to specify a different path for the static files on the web. Defaults to the name of the <code>static_folder</code> folder.</li> <li>
<strong>static_folder</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">os.PathLike</a><em> | </em><em>None</em>) – The folder with static files that is served at <code>static_url_path</code>. Relative to the application <code>root_path</code> or an absolute path. Defaults to <code>'static'</code>.</li> <li>
<strong>static_host</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the host to use when adding the static route. Defaults to None. Required when using <code>host_matching=True</code> with a <code>static_folder</code> configured.</li> <li>
<strong>host_matching</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – set <code>url_map.host_matching</code> attribute. Defaults to False.</li> <li>
<strong>subdomain_matching</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – consider the subdomain relative to <a class="reference internal" href="../config/index.html#SERVER_NAME" title="SERVER_NAME"><code>SERVER_NAME</code></a> when matching routes. Defaults to False.</li> <li>
<strong>template_folder</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">os.PathLike</a><em> | </em><em>None</em>) – the folder that contains the templates that should be used by the application. Defaults to <code>'templates'</code> folder in the root path of the application.</li> <li>
<strong>instance_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – An alternative instance path for the application. By default the folder <code>'instance'</code> next to the package or module is assumed to be the instance path.</li> <li>
<strong>instance_relative_config</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – if set to <code>True</code> relative filenames for loading the config are assumed to be relative to the instance path instead of the application root.</li> <li>
<strong>root_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – The path to the root of the application files. This should only be set manually when it can’t be detected automatically, such as for namespace packages.</li> </ul> </dd> </dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.aborter">
<code>aborter</code> </dt> <dd>
<p>An instance of <a class="reference internal" href="#flask.Flask.aborter_class" title="flask.Flask.aborter_class"><code>aborter_class</code></a> created by <a class="reference internal" href="#flask.Flask.make_aborter" title="flask.Flask.make_aborter"><code>make_aborter()</code></a>. This is called by <a class="reference internal" href="#flask.abort" title="flask.abort"><code>flask.abort()</code></a> to raise HTTP errors, and can be called directly as well.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2: </span>Moved from <code>flask.abort</code>, which calls this object.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.aborter_class">
<code>aborter_class</code> </dt> <dd>
<p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.Aborter" title="(in Werkzeug v2.3.x)"><code>Aborter</code></a></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.add_template_filter">
<code>add_template_filter(f, name=None)</code> </dt> <dd>
<p>Register a custom template filter. Works exactly like the <a class="reference internal" href="#flask.Flask.template_filter" title="flask.Flask.template_filter"><code>template_filter()</code></a> decorator.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the filter, otherwise the function name will be used.</li> <li>
<strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em>]</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.add_template_global">
<code>add_template_global(f, name=None)</code> </dt> <dd>
<p>Register a custom template global function. Works exactly like the <a class="reference internal" href="#flask.Flask.template_global" title="flask.Flask.template_global"><code>template_global()</code></a> decorator.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the global function, otherwise the function name will be used.</li> <li>
<strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em>]</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.add_template_test">
<code>add_template_test(f, name=None)</code> </dt> <dd>
<p>Register a custom template test. Works exactly like the <a class="reference internal" href="#flask.Flask.template_test" title="flask.Flask.template_test"><code>template_test()</code></a> decorator.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the test, otherwise the function name will be used.</li> <li>
<strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a><em>]</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.add_url_rule">
<code>add_url_rule(rule, endpoint=None, view_func=None, provide_automatic_options=None, **options)</code> </dt> <dd>
<p>Register a rule for routing incoming requests and building URLs. The <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code>route()</code></a> decorator is a shortcut to call this with the <code>view_func</code> argument. These are equivalent:</p> <pre data-language="python">@app.route("/")
def index():
    ...
</pre> <pre data-language="python">def index():
    ...

app.add_url_rule("/", view_func=index)
</pre> <p>See <a class="reference internal" href="#url-route-registrations"><span class="std std-ref">URL Route Registrations</span></a>.</p> <p>The endpoint name for the route defaults to the name of the view function if the <code>endpoint</code> parameter isn’t passed. An error will be raised if a function has already been registered for the endpoint.</p> <p>The <code>methods</code> parameter defaults to <code>["GET"]</code>. <code>HEAD</code> is always added automatically, and <code>OPTIONS</code> is added automatically by default.</p> <p><code>view_func</code> does not necessarily need to be passed, but if the rule should participate in routing an endpoint name must be associated with a view function at some point with the <a class="reference internal" href="#flask.Flask.endpoint" title="flask.Flask.endpoint"><code>endpoint()</code></a> decorator.</p> <pre data-language="python">app.add_url_rule("/", endpoint="index")

@app.endpoint("index")
def index():
    ...
</pre> <p>If <code>view_func</code> has a <code>required_methods</code> attribute, those methods are added to the passed and automatic methods. If it has a <code>provide_automatic_methods</code> attribute, it is used as the default if the parameter is not passed.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The URL rule string.</li> <li>
<strong>endpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – The endpoint name to associate with the rule and view function. Used when routing and building URLs. Defaults to <code>view_func.__name__</code>.</li> <li>
<strong>view_func</strong> (<em>ft.RouteCallable</em><em> | </em><em>None</em>) – The view function to associate with the endpoint name.</li> <li>
<strong>provide_automatic_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a><em> | </em><em>None</em>) – Add the <code>OPTIONS</code> method and respond to <code>OPTIONS</code> requests automatically.</li> <li>
<strong>options</strong> (<em>t.Any</em>) – Extra options passed to the <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/routing/#werkzeug.routing.Rule" title="(in Werkzeug v2.3.x)"><code>Rule</code></a> object.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.after_request">
<code>after_request(f)</code> </dt> <dd>
<p>Register a function to run after each request to this object.</p> <p>The function is called with the response object, and must return a response object. This allows the functions to modify or replace the response before it is sent.</p> <p>If a function raises an exception, any remaining <code>after_request</code> functions will not be called. Therefore, this should not be used for actions that must execute, such as to close resources. Use <a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code>teardown_request()</code></a> for that.</p> <p>This is available on both app and blueprint objects. When used on an app, this executes after every request. When used on a blueprint, this executes after every request that the blueprint handles. To register with a blueprint and execute after every request, use <a class="reference internal" href="#flask.Blueprint.after_app_request" title="flask.Blueprint.after_app_request"><code>Blueprint.after_app_request()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_after_request</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_after_request</em></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.after_request_funcs">
<code>after_request_funcs: dict[ft.AppOrBlueprintKey, list[ft.AfterRequestCallable]]</code> </dt> <dd>
<p>A data structure of functions to call at the end of each request, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Flask.after_request" title="flask.Flask.after_request"><code>after_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.app_context">
<code>app_context()</code> </dt> <dd>
<p>Create an <a class="reference internal" href="#flask.ctx.AppContext" title="flask.ctx.AppContext"><code>AppContext</code></a>. Use as a <code>with</code> block to push the context, which will make <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a> point at this application.</p> <p>An application context is automatically pushed by <code>RequestContext.push()</code> when handling a request, and when running a CLI command. Use this to manually create a context outside of these situations.</p> <pre data-language="python">with app.app_context():
    init_db()
</pre> <p>See <a class="reference internal" href="../appcontext/index.html"><span class="doc">The Application Context</span></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference internal" href="#flask.ctx.AppContext" title="flask.ctx.AppContext">AppContext</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.app_ctx_globals_class">
<code>app_ctx_globals_class</code> </dt> <dd>
<p>alias of <a class="reference internal" href="#flask.ctx._AppCtxGlobals" title="flask.ctx._AppCtxGlobals"><code>_AppCtxGlobals</code></a></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.async_to_sync">
<code>async_to_sync(func)</code> </dt> <dd>
<p>Return a sync function that will run the coroutine function.</p> <pre data-language="python">result = app.async_to_sync(func)(*args, **kwargs)
</pre> <p>Override this method to change how the app converts async code to be synchronously callable.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Coroutine" title="(in Python v3.11)">Coroutine</a><em>]</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[…], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.auto_find_instance_path">
<code>auto_find_instance_path()</code> </dt> <dd>
<p>Tries to locate the instance path if it was not provided to the constructor of the application class. It will basically calculate the path to a folder named <code>instance</code> next to your main file or the package.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.before_request">
<code>before_request(f)</code> </dt> <dd>
<p>Register a function to run before each request.</p> <p>For example, this can be used to open a database connection, or to load the logged in user from the session.</p> <pre data-language="python">@app.before_request
def load_user():
    if "user_id" in session:
        g.user = db.session.get(session["user_id"])
</pre> <p>The function will be called without any arguments. If it returns a non-<code>None</code> value, the value is handled as if it was the return value from the view, and further request handling is stopped.</p> <p>This is available on both app and blueprint objects. When used on an app, this executes before every request. When used on a blueprint, this executes before every request that the blueprint handles. To register with a blueprint and execute before every request, use <a class="reference internal" href="#flask.Blueprint.before_app_request" title="flask.Blueprint.before_app_request"><code>Blueprint.before_app_request()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_before_request</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_before_request</em></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.before_request_funcs">
<code>before_request_funcs: dict[ft.AppOrBlueprintKey, list[ft.BeforeRequestCallable]]</code> </dt> <dd>
<p>A data structure of functions to call at the beginning of each request, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Flask.before_request" title="flask.Flask.before_request"><code>before_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.blueprints">
<code>blueprints: dict[str, Blueprint]</code> </dt> <dd>
<p>Maps registered blueprint names to blueprint objects. The dict retains the order the blueprints were registered in. Blueprints can be registered multiple times, this dict does not track how often they were attached.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.cli">
<code>cli</code> </dt> <dd>
<p>The Click command group for registering CLI commands for this object. The commands are available from the <code>flask</code> command once the application has been discovered and blueprints have been registered.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.config">
<code>config</code> </dt> <dd>
<p>The configuration dictionary as <a class="reference internal" href="#flask.Config" title="flask.Config"><code>Config</code></a>. This behaves exactly like a regular dictionary but supports additional methods to load a config from files.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.config_class">
<code>config_class</code> </dt> <dd>
<p>alias of <a class="reference internal" href="#flask.Config" title="flask.config.Config"><code>Config</code></a></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.context_processor">
<code>context_processor(f)</code> </dt> <dd>
<p>Registers a template context processor function. These functions run before rendering a template. The keys of the returned dict are added as variables available in the template.</p> <p>This is available on both app and blueprint objects. When used on an app, this is called for every rendered template. When used on a blueprint, this is called for templates rendered from the blueprint’s views. To register with a blueprint and affect every template, use <a class="reference internal" href="#flask.Blueprint.app_context_processor" title="flask.Blueprint.app_context_processor"><code>Blueprint.app_context_processor()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_template_context_processor</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_template_context_processor</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.create_global_jinja_loader">
<code>create_global_jinja_loader()</code> </dt> <dd>
<p>Creates the loader for the Jinja2 environment. Can be used to override just the loader and keeping the rest unchanged. It’s discouraged to override this function. Instead one should override the <a class="reference internal" href="#flask.Flask.jinja_loader" title="flask.Flask.jinja_loader"><code>jinja_loader()</code></a> function instead.</p> <p>The global loader dispatches between the loaders of the application and the individual blueprints.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><em>DispatchingJinjaLoader</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.create_jinja_environment">
<code>create_jinja_environment()</code> </dt> <dd>
<p>Create the Jinja environment based on <a class="reference internal" href="#flask.Flask.jinja_options" title="flask.Flask.jinja_options"><code>jinja_options</code></a> and the various Jinja-related methods of the app. Changing <a class="reference internal" href="#flask.Flask.jinja_options" title="flask.Flask.jinja_options"><code>jinja_options</code></a> after this will have no effect. Also adds Flask-related globals and filters to the environment.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.11: </span><code>Environment.auto_reload</code> set in accordance with <code>TEMPLATES_AUTO_RELOAD</code> configuration option.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><em>Environment</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.create_url_adapter">
<code>create_url_adapter(request)</code> </dt> <dd>
<p>Creates a URL adapter for the given request. The URL adapter is created at a point where the request context is not yet set up so the request is passed explicitly.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span><a class="reference internal" href="../config/index.html#SERVER_NAME" title="SERVER_NAME"><code>SERVER_NAME</code></a> no longer implicitly enables subdomain matching. Use <code>subdomain_matching</code> instead.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>This can now also be called without a request object when the URL adapter is created for the application context.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.6.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>request</strong> (<a class="reference internal" href="#flask.Request" title="flask.wrappers.Request">Request</a><em> | </em><em>None</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/routing/#werkzeug.routing.MapAdapter" title="(in Werkzeug v2.3.x)">MapAdapter</a> | None</p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Flask.debug">
<code>property debug: bool</code> </dt> <dd>
<p>Whether debug mode is enabled. When using <code>flask run</code> to start the development server, an interactive debugger will be shown for unhandled exceptions, and the server will be reloaded when code changes. This maps to the <a class="reference internal" href="../config/index.html#DEBUG" title="DEBUG"><code>DEBUG</code></a> config key. It may not behave as expected if set late.</p> <p><strong>Do not enable debug mode when deploying in production.</strong></p> <p>Default: <code>False</code></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.delete">
<code>delete(rule, **options)</code> </dt> <dd>
<p>Shortcut for <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code>route()</code></a> with <code>methods=["DELETE"]</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.dispatch_request">
<code>dispatch_request()</code> </dt> <dd>
<p>Does the request dispatching. Matches the URL and returns the return value of the view or error handler. This does not have to be a response object. In order to convert the return value to a proper response object, call <a class="reference internal" href="#flask.make_response" title="flask.make_response"><code>make_response()</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.7: </span>This no longer does the exception handling, this code was moved to the new <a class="reference internal" href="#flask.Flask.full_dispatch_request" title="flask.Flask.full_dispatch_request"><code>full_dispatch_request()</code></a>.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>ft.ResponseReturnValue</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.do_teardown_appcontext">
<code>do_teardown_appcontext(exc=&lt;object object&gt;)</code> </dt> <dd>
<p>Called right before the application context is popped.</p> <p>When handling a request, the application context is popped after the request context. See <a class="reference internal" href="#flask.Flask.do_teardown_request" title="flask.Flask.do_teardown_request"><code>do_teardown_request()</code></a>.</p> <p>This calls all functions decorated with <a class="reference internal" href="#flask.Flask.teardown_appcontext" title="flask.Flask.teardown_appcontext"><code>teardown_appcontext()</code></a>. Then the <a class="reference internal" href="#flask.appcontext_tearing_down" title="flask.appcontext_tearing_down"><code>appcontext_tearing_down</code></a> signal is sent.</p> <p>This is called by <a class="reference internal" href="#flask.ctx.AppContext.pop" title="flask.ctx.AppContext.pop"><code>AppContext.pop()</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>exc</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#BaseException" title="(in Python v3.11)">BaseException</a><em> | </em><em>None</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.do_teardown_request">
<code>do_teardown_request(exc=&lt;object object&gt;)</code> </dt> <dd>
<p>Called after the request is dispatched and the response is returned, right before the request context is popped.</p> <p>This calls all functions decorated with <a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code>teardown_request()</code></a>, and <a class="reference internal" href="#flask.Blueprint.teardown_request" title="flask.Blueprint.teardown_request"><code>Blueprint.teardown_request()</code></a> if a blueprint handled the request. Finally, the <a class="reference internal" href="#flask.request_tearing_down" title="flask.request_tearing_down"><code>request_tearing_down</code></a> signal is sent.</p> <p>This is called by <a class="reference internal" href="#flask.ctx.RequestContext.pop" title="flask.ctx.RequestContext.pop"><code>RequestContext.pop()</code></a>, which may be delayed during testing to maintain access to resources.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>exc</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#BaseException" title="(in Python v3.11)">BaseException</a><em> | </em><em>None</em>) – An unhandled exception raised while dispatching the request. Detected from the current exception information if not passed. Passed to each teardown function.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>Added the <code>exc</code> argument.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.endpoint">
<code>endpoint(endpoint)</code> </dt> <dd>
<p>Decorate a view function to register it for the given endpoint. Used if a rule is added without a <code>view_func</code> with <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code>add_url_rule()</code></a>.</p> <pre data-language="python">app.add_url_rule("/ex", endpoint="example")

@app.endpoint("example")
def example():
    ...
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>endpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The endpoint name to associate with the view function.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>F</em>], <em>F</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.ensure_sync">
<code>ensure_sync(func)</code> </dt> <dd>
<p>Ensure that the function is synchronous for WSGI workers. Plain <code>def</code> functions are returned as-is. <code>async def</code> functions are wrapped to run and wait for the response.</p> <p>Override this method to change how the app runs async views.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.error_handler_spec">
<code>error_handler_spec: dict[ft.AppOrBlueprintKey, dict[int | None, dict[type[Exception], ft.ErrorHandlerCallable]]]</code> </dt> <dd>
<p>A data structure of registered error handlers, in the format <code>{scope: {code: {class: handler}}}</code>. The <code>scope</code> key is the name of a blueprint the handlers are active for, or <code>None</code> for all requests. The <code>code</code> key is the HTTP status code for <code>HTTPException</code>, or <code>None</code> for other exceptions. The innermost dictionary maps exception classes to handler functions.</p> <p>To register an error handler, use the <a class="reference internal" href="#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code>errorhandler()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.errorhandler">
<code>errorhandler(code_or_exception)</code> </dt> <dd>
<p>Register a function to handle errors by code or exception class.</p> <p>A decorator that is used to register a function given an error code. Example:</p> <pre data-language="python">@app.errorhandler(404)
def page_not_found(error):
    return 'This page does not exist', 404
</pre> <p>You can also register handlers for arbitrary exceptions:</p> <pre data-language="python">@app.errorhandler(DatabaseError)
def special_exception_handler(error):
    return 'Database connection failed', 500
</pre> <p>This is available on both app and blueprint objects. When used on an app, this can handle errors from every request. When used on a blueprint, this can handle errors from requests that the blueprint handles. To register with a blueprint and affect every request, use <a class="reference internal" href="#flask.Blueprint.app_errorhandler" title="flask.Blueprint.app_errorhandler"><code>Blueprint.app_errorhandler()</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7: </span>Use <a class="reference internal" href="#flask.Flask.register_error_handler" title="flask.Flask.register_error_handler"><code>register_error_handler()</code></a> instead of modifying <a class="reference internal" href="#flask.Flask.error_handler_spec" title="flask.Flask.error_handler_spec"><code>error_handler_spec</code></a> directly, for application wide error handlers.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.7: </span>One can now additionally also register custom exception types that do not necessarily have to be a subclass of the <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.HTTPException" title="(in Werkzeug v2.3.x)"><code>HTTPException</code></a> class.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>code_or_exception</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)">type</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.11)">Exception</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>) – the code as integer for the handler, or an arbitrary exception</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_error_handler</em>], <em>T_error_handler</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.extensions">
<code>extensions: dict</code> </dt> <dd>
<p>a place where extensions can store application specific state. For example this is where an extension could store database engines and similar things.</p> <p>The key must match the name of the extension module. For example in case of a “Flask-Foo” extension in <code>flask_foo</code>, the key would be <code>'foo'</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.full_dispatch_request">
<code>full_dispatch_request()</code> </dt> <dd>
<p>Dispatches the request and on top of that performs request pre and postprocessing as well as HTTP exception catching and error handling.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference internal" href="#flask.Response" title="flask.wrappers.Response">Response</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.get">
<code>get(rule, **options)</code> </dt> <dd>
<p>Shortcut for <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code>route()</code></a> with <code>methods=["GET"]</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.get_send_file_max_age">
<code>get_send_file_max_age(filename)</code> </dt> <dd>
<p>Used by <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code>send_file()</code></a> to determine the <code>max_age</code> cache value for a given file path if it wasn’t passed.</p> <p>By default, this returns <a class="reference internal" href="../config/index.html#SEND_FILE_MAX_AGE_DEFAULT" title="SEND_FILE_MAX_AGE_DEFAULT"><code>SEND_FILE_MAX_AGE_DEFAULT</code></a> from the configuration of <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a>. This defaults to <code>None</code>, which tells the browser to use conditional requests instead of a timed cache, which is usually preferable.</p> <p>Note this is a duplicate of the same method in the Flask class.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The default configuration is <code>None</code> instead of 12 hours.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a> | None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.handle_exception">
<code>handle_exception(e)</code> </dt> <dd>
<p>Handle an exception that did not have an error handler associated with it, or that was raised from an error handler. This always causes a 500 <code>InternalServerError</code>.</p> <p>Always sends the <a class="reference internal" href="#flask.got_request_exception" title="flask.got_request_exception"><code>got_request_exception</code></a> signal.</p> <p>If <a class="reference internal" href="../config/index.html#PROPAGATE_EXCEPTIONS" title="PROPAGATE_EXCEPTIONS"><code>PROPAGATE_EXCEPTIONS</code></a> is <code>True</code>, such as in debug mode, the error will be re-raised so that the debugger can display it. Otherwise, the original exception is logged, and an <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.InternalServerError" title="(in Werkzeug v2.3.x)"><code>InternalServerError</code></a> is returned.</p> <p>If an error handler is registered for <code>InternalServerError</code> or <code>500</code>, it will be used. For consistency, the handler will always receive the <code>InternalServerError</code>. The original unhandled exception is available as <code>e.original_exception</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.1.0: </span>Always passes the <code>InternalServerError</code> instance to the handler, setting <code>original_exception</code> to the unhandled error.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.1.0: </span><code>after_request</code> functions and other finalization is done even for the default 500 response when there is no handler.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.3.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>e</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.11)">Exception</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Response" title="flask.wrappers.Response">Response</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.handle_http_exception">
<code>handle_http_exception(e)</code> </dt> <dd>
<p>Handles an HTTP exception. By default this will invoke the registered error handlers and fall back to returning the exception as response.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0.3: </span><code>RoutingException</code>, used internally for actions such as slash redirects during routing, is not passed to error handlers.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span>Exceptions are looked up by code <em>and</em> by MRO, so <code>HTTPException</code> subclasses can be handled with a catch-all handler for the base <code>HTTPException</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.3.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>e</strong> (<em>HTTPException</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>HTTPException | ft.ResponseReturnValue</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.handle_url_build_error">
<code>handle_url_build_error(error, endpoint, values)</code> </dt> <dd>
<p>Called by <a class="reference internal" href="#flask.Flask.url_for" title="flask.Flask.url_for"><code>url_for()</code></a> if a <code>BuildError</code> was raised. If this returns a value, it will be returned by <code>url_for</code>, otherwise the error will be re-raised.</p> <p>Each function in <a class="reference internal" href="#flask.Flask.url_build_error_handlers" title="flask.Flask.url_build_error_handlers"><code>url_build_error_handlers</code></a> is called with <code>error</code>, <code>endpoint</code> and <code>values</code>. If a function returns <code>None</code> or raises a <code>BuildError</code>, it is skipped. Otherwise, its return value is returned by <code>url_for</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>error</strong> (<em>BuildError</em>) – The active <code>BuildError</code> being handled.</li> <li>
<strong>endpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The endpoint being built.</li> <li>
<strong>values</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em>]</em>) – The keyword arguments passed to <code>url_for</code>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.handle_user_exception">
<code>handle_user_exception(e)</code> </dt> <dd>
<p>This method is called whenever an exception occurs that should be handled. A special case is <code>HTTPException</code> which is forwarded to the <a class="reference internal" href="#flask.Flask.handle_http_exception" title="flask.Flask.handle_http_exception"><code>handle_http_exception()</code></a> method. This function will either return a response value or reraise the exception with the same traceback.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span>Key errors raised from request data like <code>form</code> show the bad key in debug mode rather than a generic bad request message.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>e</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.11)">Exception</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>HTTPException | ft.ResponseReturnValue</p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Flask.has_static_folder">
<code>property has_static_folder: bool</code> </dt> <dd>
<p><code>True</code> if <a class="reference internal" href="#flask.Flask.static_folder" title="flask.Flask.static_folder"><code>static_folder</code></a> is set.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.import_name">
<code>import_name</code> </dt> <dd>
<p>The name of the package or module that this object belongs to. Do not change this once it is set by the constructor.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.inject_url_defaults">
<code>inject_url_defaults(endpoint, values)</code> </dt> <dd>
<p>Injects the URL defaults for the given endpoint directly into the values dictionary passed. This is used internally and automatically called on URL building.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>endpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>values</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.instance_path">
<code>instance_path</code> </dt> <dd>
<p>Holds the path to the instance folder.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.iter_blueprints">
<code>iter_blueprints()</code> </dt> <dd>
<p>Iterates over all blueprints by the order they were registered.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.11.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>t.ValuesView[<a class="reference internal" href="#flask.Blueprint" title="flask.Blueprint">Blueprint</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Flask.jinja_env">
<code>property jinja_env: Environment</code> </dt> <dd>
<p>The Jinja environment used to load templates.</p> <p>The environment is created the first time this property is accessed. Changing <a class="reference internal" href="#flask.Flask.jinja_options" title="flask.Flask.jinja_options"><code>jinja_options</code></a> after that will have no effect.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.jinja_environment">
<code>jinja_environment</code> </dt> <dd>
<p>alias of <code>Environment</code></p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Flask.jinja_loader">
<code>property jinja_loader: FileSystemLoader | None</code> </dt> <dd>
<p>The Jinja loader for this object’s templates. By default this is a class <a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/api/#jinja2.FileSystemLoader" title="(in Jinja v3.1.x)"><code>jinja2.loaders.FileSystemLoader</code></a> to <a class="reference internal" href="#flask.Flask.template_folder" title="flask.Flask.template_folder"><code>template_folder</code></a> if it is set.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.jinja_options">
<code>jinja_options: dict = {}</code> </dt> <dd>
<p>Options that are passed to the Jinja environment in <a class="reference internal" href="#flask.Flask.create_jinja_environment" title="flask.Flask.create_jinja_environment"><code>create_jinja_environment()</code></a>. Changing these options after the environment is created (accessing <a class="reference internal" href="#flask.Flask.jinja_env" title="flask.Flask.jinja_env"><code>jinja_env</code></a>) will have no effect.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.1.0: </span>This is a <code>dict</code> instead of an <code>ImmutableDict</code> to allow easier configuration.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.json">
<code>json: JSONProvider</code> </dt> <dd>
<p>Provides access to JSON methods. Functions in <code>flask.json</code> will call methods on this provider when the application context is active. Used for handling JSON requests and responses.</p> <p>An instance of <a class="reference internal" href="#flask.Flask.json_provider_class" title="flask.Flask.json_provider_class"><code>json_provider_class</code></a>. Can be customized by changing that attribute on a subclass, or by assigning to this attribute afterwards.</p> <p>The default, <a class="reference internal" href="#flask.json.provider.DefaultJSONProvider" title="flask.json.provider.DefaultJSONProvider"><code>DefaultJSONProvider</code></a>, uses Python’s built-in <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.11)"><code>json</code></a> library. A different provider can use a different JSON library.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.json_provider_class">
<code>json_provider_class</code> </dt> <dd>
<p>alias of <a class="reference internal" href="#flask.json.provider.DefaultJSONProvider" title="flask.json.provider.DefaultJSONProvider"><code>DefaultJSONProvider</code></a></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.log_exception">
<code>log_exception(exc_info)</code> </dt> <dd>
<p>Logs an exception. This is called by <a class="reference internal" href="#flask.Flask.handle_exception" title="flask.Flask.handle_exception"><code>handle_exception()</code></a> if debugging is disabled and right before the handler is called. The default implementation logs the exception as error on the <a class="reference internal" href="#flask.Flask.logger" title="flask.Flask.logger"><code>logger</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>exc_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)">type</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#BaseException" title="(in Python v3.11)">BaseException</a><em>, </em><em>traceback</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a><em>[</em><em>None</em><em>, </em><em>None</em><em>, </em><em>None</em><em>]</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Flask.logger">
<code>property logger: Logger</code> </dt> <dd>
<p>A standard Python <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.11)"><code>Logger</code></a> for the app, with the same name as <a class="reference internal" href="#flask.Flask.name" title="flask.Flask.name"><code>name</code></a>.</p> <p>In debug mode, the logger’s <code>level</code> will be set to <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.DEBUG" title="(in Python v3.11)"><code>DEBUG</code></a>.</p> <p>If there are no handlers configured, a default handler will be added. See <a class="reference internal" href="../logging/index.html"><span class="doc">Logging</span></a> for more information.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.1.0: </span>The logger takes the same name as <a class="reference internal" href="#flask.Flask.name" title="flask.Flask.name"><code>name</code></a> rather than hard-coding <code>"flask.app"</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0.0: </span>Behavior was simplified. The logger is always named <code>"flask.app"</code>. The level is only set during configuration, it doesn’t check <code>app.debug</code> each time. Only one format is used, not different ones depending on <code>app.debug</code>. No handlers are removed, and a handler is only added if no handlers are already configured.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.3.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.make_aborter">
<code>make_aborter()</code> </dt> <dd>
<p>Create the object to assign to <a class="reference internal" href="#flask.Flask.aborter" title="flask.Flask.aborter"><code>aborter</code></a>. That object is called by <a class="reference internal" href="#flask.abort" title="flask.abort"><code>flask.abort()</code></a> to raise HTTP errors, and can be called directly as well.</p> <p>By default, this creates an instance of <a class="reference internal" href="#flask.Flask.aborter_class" title="flask.Flask.aborter_class"><code>aborter_class</code></a>, which defaults to <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.Aborter" title="(in Werkzeug v2.3.x)"><code>werkzeug.exceptions.Aborter</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.Aborter" title="(in Werkzeug v2.3.x)">Aborter</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.make_config">
<code>make_config(instance_relative=False)</code> </dt> <dd>
<p>Used to create the config attribute by the Flask constructor. The <code>instance_relative</code> parameter is passed in from the constructor of Flask (there named <code>instance_relative_config</code>) and indicates if the config should be relative to the instance path or the root path of the application.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>instance_relative</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Config" title="flask.config.Config">Config</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.make_default_options_response">
<code>make_default_options_response()</code> </dt> <dd>
<p>This method is called to create the default <code>OPTIONS</code> response. This can be changed through subclassing to change the default behavior of <code>OPTIONS</code> responses.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference internal" href="#flask.Response" title="flask.wrappers.Response">Response</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.make_response">
<code>make_response(rv)</code> </dt> <dd>
<p>Convert the return value from a view function to an instance of <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code>response_class</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>rv</strong> (<em>ft.ResponseReturnValue</em>) – </p>
<p>the return value from the view function. The view function must return a response. Returning <code>None</code>, or the view ending without returning, is not allowed. The following types are allowed for <code>view_rv</code>:</p> <dl class="simple"> <dt>
<code>str</code> </dt>
<dd>
<p>A response object is created with the string encoded to UTF-8 as the body.</p> </dd> <dt>
<code>bytes</code> </dt>
<dd>
<p>A response object is created with the bytes as the body.</p> </dd> <dt>
<code>dict</code> </dt>
<dd>
<p>A dictionary that will be jsonify’d before being returned.</p> </dd> <dt>
<code>list</code> </dt>
<dd>
<p>A list that will be jsonify’d before being returned.</p> </dd> <dt>
<code>generator or iterator</code> </dt>
<dd>
<p>A generator that returns <code>str</code> or <code>bytes</code> to be streamed as the response.</p> </dd> <dt>
<code>tuple</code> </dt>
<dd>
<p>Either <code>(body, status, headers)</code>, <code>(body, status)</code>, or <code>(body, headers)</code>, where <code>body</code> is any of the other types allowed here, <code>status</code> is a string or an integer, and <code>headers</code> is a dictionary or a list of <code>(key, value)</code> tuples. If <code>body</code> is a <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code>response_class</code></a> instance, <code>status</code> overwrites the exiting value and <code>headers</code> are extended.</p> </dd> <dt>
 <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code>response_class</code></a>
</dt>
<dd>
<p>The object is returned unchanged.</p> </dd> <dt>
<code>other Response class</code> </dt>
<dd>
<p>The object is coerced to <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code>response_class</code></a>.</p> </dd> <dt>
 <a class="reference external" href="https://docs.python.org/3/library/functions.html#callable" title="(in Python v3.11)"><code>callable()</code></a>
</dt>
<dd>
<p>The function is called as a WSGI application. The result is used to create a response object.</p> </dd> </dl> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>A generator will be converted to a streaming response. A list will be converted to a JSON response.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.1: </span>A dict will be converted to a JSON response.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>Previously a tuple was interpreted as the arguments for the response object.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.make_shell_context">
<code>make_shell_context()</code> </dt> <dd>
<p>Returns the shell context for an interactive shell for this application. This runs all the registered shell context processors.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.11.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Flask.name">
<code>property name: str</code> </dt> <dd>
<p>The name of the application. This is usually the import name with the difference that it’s guessed from the run file if the import name is main. This name is used as a display name when Flask needs the name of the application. It can be set and overridden to change the value.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.open_instance_resource">
<code>open_instance_resource(resource, mode='rb')</code> </dt> <dd>
<p>Opens a resource from the application’s instance folder (<a class="reference internal" href="#flask.Flask.instance_path" title="flask.Flask.instance_path"><code>instance_path</code></a>). Otherwise works like <a class="reference internal" href="#flask.Flask.open_resource" title="flask.Flask.open_resource"><code>open_resource()</code></a>. Instance resources can also be opened for writing.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>resource</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – the name of the resource. To access resources within subfolders use forward slashes as separator.</li> <li>
<strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – resource file opening mode, default is ‘rb’.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.11)">IO</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.open_resource">
<code>open_resource(resource, mode='rb')</code> </dt> <dd>
<p>Open a resource file relative to <a class="reference internal" href="#flask.Flask.root_path" title="flask.Flask.root_path"><code>root_path</code></a> for reading.</p> <p>For example, if the file <code>schema.sql</code> is next to the file <code>app.py</code> where the <code>Flask</code> app is defined, it can be opened with:</p> <pre data-language="python">with app.open_resource("schema.sql") as f:
    conn.executescript(f.read())
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>resource</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – Path to the resource relative to <a class="reference internal" href="#flask.Flask.root_path" title="flask.Flask.root_path"><code>root_path</code></a>.</li> <li>
<strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – Open the file in this mode. Only reading is supported, valid values are “r” (or “rt”) and “rb”.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.11)">IO</a></p> </dd> </dl> <p>Note this is a duplicate of the same method in the Flask class.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.patch">
<code>patch(rule, **options)</code> </dt> <dd>
<p>Shortcut for <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code>route()</code></a> with <code>methods=["PATCH"]</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.permanent_session_lifetime">
<code>permanent_session_lifetime</code> </dt> <dd>
<p>A <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.11)"><code>timedelta</code></a> which is used to set the expiration date of a permanent session. The default is 31 days which makes a permanent session survive for roughly one month.</p> <p>This attribute can also be configured from the config with the <code>PERMANENT_SESSION_LIFETIME</code> configuration key. Defaults to <code>timedelta(days=31)</code></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.post">
<code>post(rule, **options)</code> </dt> <dd>
<p>Shortcut for <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code>route()</code></a> with <code>methods=["POST"]</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.preprocess_request">
<code>preprocess_request()</code> </dt> <dd>
<p>Called before the request is dispatched. Calls <a class="reference internal" href="#flask.Flask.url_value_preprocessors" title="flask.Flask.url_value_preprocessors"><code>url_value_preprocessors</code></a> registered with the app and the current blueprint (if any). Then calls <a class="reference internal" href="#flask.Flask.before_request_funcs" title="flask.Flask.before_request_funcs"><code>before_request_funcs</code></a> registered with the app and the blueprint.</p> <p>If any <a class="reference internal" href="#flask.Flask.before_request" title="flask.Flask.before_request"><code>before_request()</code></a> handler returns a non-None value, the value is handled as if it was the return value from the view, and further request handling is stopped.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>ft.ResponseReturnValue | None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.process_response">
<code>process_response(response)</code> </dt> <dd>
<p>Can be overridden in order to modify the response object before it’s sent to the WSGI server. By default this will call all the <a class="reference internal" href="#flask.Flask.after_request" title="flask.Flask.after_request"><code>after_request()</code></a> decorated functions.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.5: </span>As of Flask 0.5 the functions registered for after request execution are called in reverse order of registration.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>response</strong> (<a class="reference internal" href="#flask.Response" title="flask.wrappers.Response">Response</a>) – a <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code>response_class</code></a> object.</p> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>a new response object or the same, has to be an instance of <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code>response_class</code></a>.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference internal" href="#flask.Response" title="flask.wrappers.Response">Response</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.put">
<code>put(rule, **options)</code> </dt> <dd>
<p>Shortcut for <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code>route()</code></a> with <code>methods=["PUT"]</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.redirect">
<code>redirect(location, code=302)</code> </dt> <dd>
<p>Create a redirect response object.</p> <p>This is called by <a class="reference internal" href="#flask.redirect" title="flask.redirect"><code>flask.redirect()</code></a>, and can be called directly as well.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>location</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The URL to redirect to.</li> <li>
<strong>code</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>) – The status code for the redirect.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>BaseResponse</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2: </span>Moved from <code>flask.redirect</code>, which calls this method.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.register_blueprint">
<code>register_blueprint(blueprint, **options)</code> </dt> <dd>
<p>Register a <a class="reference internal" href="#flask.Blueprint" title="flask.Blueprint"><code>Blueprint</code></a> on the application. Keyword arguments passed to this method will override the defaults set on the blueprint.</p> <p>Calls the blueprint’s <a class="reference internal" href="#flask.Blueprint.register" title="flask.Blueprint.register"><code>register()</code></a> method after recording the blueprint in the application’s <a class="reference internal" href="#flask.Flask.blueprints" title="flask.Flask.blueprints"><code>blueprints</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>blueprint</strong> (<a class="reference internal" href="#flask.Blueprint" title="flask.Blueprint">Blueprint</a>) – The blueprint to register.</li> <li>
<strong>url_prefix</strong> – Blueprint routes will be prefixed with this.</li> <li>
<strong>subdomain</strong> – Blueprint routes will match on this subdomain.</li> <li>
<strong>url_defaults</strong> – Blueprint routes will use these default values for view arguments.</li> <li>
<strong>options</strong> (<em>t.Any</em>) – Additional keyword arguments are passed to <a class="reference internal" href="#flask.blueprints.BlueprintSetupState" title="flask.blueprints.BlueprintSetupState"><code>BlueprintSetupState</code></a>. They can be accessed in <a class="reference internal" href="#flask.Blueprint.record" title="flask.Blueprint.record"><code>record()</code></a> callbacks.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0.1: </span>The <code>name</code> option can be used to change the (pre-dotted) name the blueprint is registered with. This allows the same blueprint to be registered multiple times with unique names for <code>url_for</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.register_error_handler">
<code>register_error_handler(code_or_exception, f)</code> </dt> <dd>
<p>Alternative error attach function to the <a class="reference internal" href="#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code>errorhandler()</code></a> decorator that is more straightforward to use for non decorator usage.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>code_or_exception</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)">type</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.11)">Exception</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>) – </li> <li>
<strong>f</strong> (<em>ft.ErrorHandlerCallable</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.request_class">
<code>request_class</code> </dt> <dd>
<p>alias of <a class="reference internal" href="#flask.Request" title="flask.wrappers.Request"><code>Request</code></a></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.request_context">
<code>request_context(environ)</code> </dt> <dd>
<p>Create a <a class="reference internal" href="#flask.ctx.RequestContext" title="flask.ctx.RequestContext"><code>RequestContext</code></a> representing a WSGI environment. Use a <code>with</code> block to push the context, which will make <a class="reference internal" href="#flask.request" title="flask.request"><code>request</code></a> point at this request.</p> <p>See <a class="reference internal" href="../reqcontext/index.html"><span class="doc">The Request Context</span></a>.</p> <p>Typically you should not call this from your own code. A request context is automatically pushed by the <a class="reference internal" href="#flask.Flask.wsgi_app" title="flask.Flask.wsgi_app"><code>wsgi_app()</code></a> when handling a request. Use <a class="reference internal" href="#flask.Flask.test_request_context" title="flask.Flask.test_request_context"><code>test_request_context()</code></a> to create an environment and context instead of this method.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>environ</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a>) – a WSGI environment</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.ctx.RequestContext" title="flask.ctx.RequestContext">RequestContext</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.response_class">
<code>response_class</code> </dt> <dd>
<p>alias of <a class="reference internal" href="#flask.Response" title="flask.wrappers.Response"><code>Response</code></a></p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.root_path">
<code>root_path</code> </dt> <dd>
<p>Absolute path to the package on the filesystem. Used to look up resources contained in the package.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.route">
<code>route(rule, **options)</code> </dt> <dd>
<p>Decorate a view function to register it with the given URL rule and options. Calls <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code>add_url_rule()</code></a>, which has more details about the implementation.</p> <pre data-language="python">@app.route("/")
def index():
    return "Hello, World!"
</pre> <p>See <a class="reference internal" href="#url-route-registrations"><span class="std std-ref">URL Route Registrations</span></a>.</p> <p>The endpoint name for the route defaults to the name of the view function if the <code>endpoint</code> parameter isn’t passed.</p> <p>The <code>methods</code> parameter defaults to <code>["GET"]</code>. <code>HEAD</code> and <code>OPTIONS</code> are added automatically.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The URL rule string.</li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Extra options passed to the <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/routing/#werkzeug.routing.Rule" title="(in Werkzeug v2.3.x)"><code>Rule</code></a> object.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.run">
<code>run(host=None, port=None, debug=None, load_dotenv=True, **options)</code> </dt> <dd>
<p>Runs the application on a local development server.</p> <p>Do not use <code>run()</code> in a production setting. It is not intended to meet security and performance requirements for a production server. Instead, see <a class="reference internal" href="../deploying/index.html"><span class="doc">Deploying to Production</span></a> for WSGI server recommendations.</p> <p>If the <a class="reference internal" href="#flask.Flask.debug" title="flask.Flask.debug"><code>debug</code></a> flag is set the server will automatically reload for code changes and show a debugger in case an exception happened.</p> <p>If you want to run the application in debug mode, but disable the code execution on the interactive debugger, you can pass <code>use_evalex=False</code> as parameter. This will keep the debugger’s traceback screen active, but disable code execution.</p> <p>It is not recommended to use this function for development with automatic reloading as this is badly supported. Instead you should be using the <strong class="command">flask</strong> command line script’s <code>run</code> support.</p> <div class="admonition-keep-in-mind admonition"> <p class="admonition-title">Keep in Mind</p> <p>Flask will suppress any server error with a generic error page unless it is in debug mode. As such to enable just the interactive debugger without the code reloading, you have to invoke <a class="reference internal" href="#flask.Flask.run" title="flask.Flask.run"><code>run()</code></a> with <code>debug=True</code> and <code>use_reloader=False</code>. Setting <code>use_debugger</code> to <code>True</code> without being in debug mode won’t catch any exceptions because there won’t be any to catch.</p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>host</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the hostname to listen on. Set this to <code>'0.0.0.0'</code> to have the server available externally as well. Defaults to <code>'127.0.0.1'</code> or the host in the <code>SERVER_NAME</code> config variable if present.</li> <li>
<strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a><em> | </em><em>None</em>) – the port of the webserver. Defaults to <code>5000</code> or the port defined in the <code>SERVER_NAME</code> config variable if present.</li> <li>
<strong>debug</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a><em> | </em><em>None</em>) – if given, enable or disable debug mode. See <a class="reference internal" href="#flask.Flask.debug" title="flask.Flask.debug"><code>debug</code></a>.</li> <li>
<strong>load_dotenv</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Load the nearest <code>.env</code> and <code>.flaskenv</code> files to set environment variables. Will also change the working directory to the directory containing the first file found.</li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – the options to be forwarded to the underlying Werkzeug server. See <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/serving/#werkzeug.serving.run_simple" title="(in Werkzeug v2.3.x)"><code>werkzeug.serving.run_simple()</code></a> for more information.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span>If installed, python-dotenv will be used to load environment variables from <code>.env</code> and <code>.flaskenv</code> files.</p> <p>The <code id="index-0">FLASK_DEBUG</code> environment variable will override <a class="reference internal" href="#flask.Flask.debug" title="flask.Flask.debug"><code>debug</code></a>.</p> <p>Threaded mode is enabled by default.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.10: </span>The default port is now picked from the <code>SERVER_NAME</code> variable.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.secret_key">
<code>secret_key</code> </dt> <dd>
<p>If a secret key is set, cryptographic components can use this to sign cookies and other things. Set this to a complex random value when you want to use the secure cookie for instance.</p> <p>This attribute can also be configured from the config with the <a class="reference internal" href="../config/index.html#SECRET_KEY" title="SECRET_KEY"><code>SECRET_KEY</code></a> configuration key. Defaults to <code>None</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.select_jinja_autoescape">
<code>select_jinja_autoescape(filename)</code> </dt> <dd>
<p>Returns <code>True</code> if autoescaping should be active for the given template name. If no template name is given, returns <code>True</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>Autoescaping is now enabled by default for <code>.svg</code> files.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.send_static_file">
<code>send_static_file(filename)</code> </dt> <dd>
<p>The view function used to serve files from <a class="reference internal" href="#flask.Flask.static_folder" title="flask.Flask.static_folder"><code>static_folder</code></a>. A route is automatically registered for this view at <a class="reference internal" href="#flask.Flask.static_url_path" title="flask.Flask.static_url_path"><code>static_url_path</code></a> if <a class="reference internal" href="#flask.Flask.static_folder" title="flask.Flask.static_folder"><code>static_folder</code></a> is set.</p> <p>Note this is a duplicate of the same method in the Flask class.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Response" title="flask.wrappers.Response">Response</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.session_interface">
<code>session_interface: SessionInterface = &lt;flask.sessions.SecureCookieSessionInterface object&gt;</code> </dt> <dd>
<p>the session interface to use. By default an instance of <a class="reference internal" href="#flask.sessions.SecureCookieSessionInterface" title="flask.sessions.SecureCookieSessionInterface"><code>SecureCookieSessionInterface</code></a> is used here.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.shell_context_processor">
<code>shell_context_processor(f)</code> </dt> <dd>
<p>Registers a shell context processor function.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.11.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_shell_context_processor</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_shell_context_processor</em></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.shell_context_processors">
<code>shell_context_processors: list[ft.ShellContextProcessorCallable]</code> </dt> <dd>
<p>A list of shell context processor functions that should be run when a shell context is created.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.11.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.should_ignore_error">
<code>should_ignore_error(error)</code> </dt> <dd>
<p>This is called to figure out if an error should be ignored or not as far as the teardown system is concerned. If this function returns <code>True</code> then the teardown handlers will not be passed the error.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>error</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#BaseException" title="(in Python v3.11)">BaseException</a><em> | </em><em>None</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Flask.static_folder">
<code>property static_folder: str | None</code> </dt> <dd>
<p>The absolute path to the configured static folder. <code>None</code> if no static folder is set.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Flask.static_url_path">
<code>property static_url_path: str | None</code> </dt> <dd>
<p>The URL prefix that the static route will be accessible from.</p> <p>If it was not configured during init, it is derived from <a class="reference internal" href="#flask.Flask.static_folder" title="flask.Flask.static_folder"><code>static_folder</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.teardown_appcontext">
<code>teardown_appcontext(f)</code> </dt> <dd>
<p>Registers a function to be called when the application context is popped. The application context is typically popped after the request context for each request, at the end of CLI commands, or after a manually pushed context ends.</p> <pre data-language="python">with app.app_context():
    ...
</pre> <p>When the <code>with</code> block exits (or <code>ctx.pop()</code> is called), the teardown functions are called just before the app context is made inactive. Since a request context typically also manages an application context it would also be called when you pop a request context.</p> <p>When a teardown function was called because of an unhandled exception it will be passed an error object. If an <a class="reference internal" href="#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code>errorhandler()</code></a> is registered, it will handle the exception and the teardown will not receive it.</p> <p>Teardown functions must avoid raising exceptions. If they execute code that might fail they must surround that code with a <code>try</code>/<code>except</code> block and log any errors.</p> <p>The return values of teardown functions are ignored.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_teardown</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_teardown</em></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.teardown_appcontext_funcs">
<code>teardown_appcontext_funcs: list[ft.TeardownCallable]</code> </dt> <dd>
<p>A list of functions that are called when the application context is destroyed. Since the application context is also torn down if the request ends this is the place to store code that disconnects from databases.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.teardown_request">
<code>teardown_request(f)</code> </dt> <dd>
<p>Register a function to be called when the request context is popped. Typically this happens at the end of each request, but contexts may be pushed manually as well during testing.</p> <pre data-language="python">with app.test_request_context():
    ...
</pre> <p>When the <code>with</code> block exits (or <code>ctx.pop()</code> is called), the teardown functions are called just before the request context is made inactive.</p> <p>When a teardown function was called because of an unhandled exception it will be passed an error object. If an <a class="reference internal" href="#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code>errorhandler()</code></a> is registered, it will handle the exception and the teardown will not receive it.</p> <p>Teardown functions must avoid raising exceptions. If they execute code that might fail they must surround that code with a <code>try</code>/<code>except</code> block and log any errors.</p> <p>The return values of teardown functions are ignored.</p> <p>This is available on both app and blueprint objects. When used on an app, this executes after every request. When used on a blueprint, this executes after every request that the blueprint handles. To register with a blueprint and execute after every request, use <a class="reference internal" href="#flask.Blueprint.teardown_app_request" title="flask.Blueprint.teardown_app_request"><code>Blueprint.teardown_app_request()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_teardown</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_teardown</em></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.teardown_request_funcs">
<code>teardown_request_funcs: dict[ft.AppOrBlueprintKey, list[ft.TeardownCallable]]</code> </dt> <dd>
<p>A data structure of functions to call at the end of each request even if an exception is raised, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code>teardown_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.template_context_processors">
<code>template_context_processors: dict[ft.AppOrBlueprintKey, list[ft.TemplateContextProcessorCallable]]</code> </dt> <dd>
<p>A data structure of functions to call to pass extra context values when rendering templates, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Flask.context_processor" title="flask.Flask.context_processor"><code>context_processor()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.template_filter">
<code>template_filter(name=None)</code> </dt> <dd>
<p>A decorator that is used to register custom template filter. You can specify a name for the filter, otherwise the function name will be used. Example:</p> <pre data-language="python">@app.template_filter()
def reverse(s):
    return s[::-1]
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the filter, otherwise the function name will be used.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_template_filter</em>], <em>T_template_filter</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.template_folder">
<code>template_folder</code> </dt> <dd>
<p>The path to the templates folder, relative to <a class="reference internal" href="#flask.Flask.root_path" title="flask.Flask.root_path"><code>root_path</code></a>, to add to the template loader. <code>None</code> if templates should not be added.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.template_global">
<code>template_global(name=None)</code> </dt> <dd>
<p>A decorator that is used to register a custom template global function. You can specify a name for the global function, otherwise the function name will be used. Example:</p> <pre data-language="python">@app.template_global()
def double(n):
    return 2 * n
</pre> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the global function, otherwise the function name will be used.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_template_global</em>], <em>T_template_global</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.template_test">
<code>template_test(name=None)</code> </dt> <dd>
<p>A decorator that is used to register custom template test. You can specify a name for the test, otherwise the function name will be used. Example:</p> <pre data-language="python">@app.template_test()
def is_prime(n):
    if n == 2:
        return True
    for i in range(2, int(math.ceil(math.sqrt(n))) + 1):
        if n % i == 0:
            return False
    return True
</pre> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the test, otherwise the function name will be used.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_template_test</em>], <em>T_template_test</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.test_cli_runner">
<code>test_cli_runner(**kwargs)</code> </dt> <dd>
<p>Create a CLI runner for testing CLI commands. See <a class="reference internal" href="../testing/index.html#testing-cli"><span class="std std-ref">Running Commands with the CLI Runner</span></a>.</p> <p>Returns an instance of <a class="reference internal" href="#flask.Flask.test_cli_runner_class" title="flask.Flask.test_cli_runner_class"><code>test_cli_runner_class</code></a>, by default <a class="reference internal" href="#flask.testing.FlaskCliRunner" title="flask.testing.FlaskCliRunner"><code>FlaskCliRunner</code></a>. The Flask app object is passed as the first argument.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>kwargs</strong> (<em>t.Any</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.testing.FlaskCliRunner" title="flask.testing.FlaskCliRunner">FlaskCliRunner</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.test_cli_runner_class">
<code>test_cli_runner_class: type[FlaskCliRunner] | None = None</code> </dt> <dd>
<p>The <a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.testing.CliRunner" title="(in Click v8.1.x)"><code>CliRunner</code></a> subclass, by default <a class="reference internal" href="#flask.testing.FlaskCliRunner" title="flask.testing.FlaskCliRunner"><code>FlaskCliRunner</code></a> that is used by <a class="reference internal" href="#flask.Flask.test_cli_runner" title="flask.Flask.test_cli_runner"><code>test_cli_runner()</code></a>. Its <code>__init__</code> method should take a Flask app object as the first argument.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.test_client">
<code>test_client(use_cookies=True, **kwargs)</code> </dt> <dd>
<p>Creates a test client for this application. For information about unit testing head over to <a class="reference internal" href="../testing/index.html"><span class="doc">Testing Flask Applications</span></a>.</p> <p>Note that if you are testing for assertions or exceptions in your application code, you must set <code>app.testing = True</code> in order for the exceptions to propagate to the test client. Otherwise, the exception will be handled by the application (not visible to the test client) and the only indication of an AssertionError or other exception will be a 500 status code response to the test client. See the <a class="reference internal" href="#flask.Flask.testing" title="flask.Flask.testing"><code>testing</code></a> attribute. For example:</p> <pre data-language="python">app.testing = True
client = app.test_client()
</pre> <p>The test client can be used in a <code>with</code> block to defer the closing down of the context until the end of the <code>with</code> block. This is useful if you want to access the context locals for testing:</p> <pre data-language="python">with app.test_client() as c:
    rv = c.get('/?vodka=42')
    assert request.args['vodka'] == '42'
</pre> <p>Additionally, you may pass optional keyword arguments that will then be passed to the application’s <a class="reference internal" href="#flask.Flask.test_client_class" title="flask.Flask.test_client_class"><code>test_client_class</code></a> constructor. For example:</p> <pre data-language="python">from flask.testing import FlaskClient

class CustomClient(FlaskClient):
    def __init__(self, *args, **kwargs):
        self._authentication = kwargs.pop("authentication")
        super(CustomClient,self).__init__( *args, **kwargs)

app.test_client_class = CustomClient
client = app.test_client(authentication='Basic ....')
</pre> <p>See <a class="reference internal" href="#flask.testing.FlaskClient" title="flask.testing.FlaskClient"><code>FlaskClient</code></a> for more information.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.11: </span>Added <code>**kwargs</code> to support passing additional keyword arguments to the constructor of <a class="reference internal" href="#flask.Flask.test_client_class" title="flask.Flask.test_client_class"><code>test_client_class</code></a>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.7: </span>The <code>use_cookies</code> parameter was added as well as the ability to override the client to be used by setting the <a class="reference internal" href="#flask.Flask.test_client_class" title="flask.Flask.test_client_class"><code>test_client_class</code></a> attribute.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.4: </span>added support for <code>with</code> block usage for the client.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>use_cookies</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> <li>
<strong>kwargs</strong> (<em>t.Any</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.testing.FlaskClient" title="flask.testing.FlaskClient">FlaskClient</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.test_client_class">
<code>test_client_class: type[FlaskClient] | None = None</code> </dt> <dd>
<p>The <a class="reference internal" href="#flask.Flask.test_client" title="flask.Flask.test_client"><code>test_client()</code></a> method creates an instance of this test client class. Defaults to <a class="reference internal" href="#flask.testing.FlaskClient" title="flask.testing.FlaskClient"><code>FlaskClient</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.test_request_context">
<code>test_request_context(*args, **kwargs)</code> </dt> <dd>
<p>Create a <a class="reference internal" href="#flask.ctx.RequestContext" title="flask.ctx.RequestContext"><code>RequestContext</code></a> for a WSGI environment created from the given values. This is mostly useful during testing, where you may want to run a function that uses request data without dispatching a full request.</p> <p>See <a class="reference internal" href="../reqcontext/index.html"><span class="doc">The Request Context</span></a>.</p> <p>Use a <code>with</code> block to push the context, which will make <a class="reference internal" href="#flask.request" title="flask.request"><code>request</code></a> point at the request for the created environment.</p> <pre data-language="python">with app.test_request_context(...):
    generate_report()
</pre> <p>When using the shell, it may be easier to push and pop the context manually to avoid indentation.</p> <pre data-language="python">ctx = app.test_request_context(...)
ctx.push()
...
ctx.pop()
</pre> <p>Takes the same arguments as Werkzeug’s <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/test/#werkzeug.test.EnvironBuilder" title="(in Werkzeug v2.3.x)"><code>EnvironBuilder</code></a>, with some defaults from the application. See the linked Werkzeug docs for most of the available arguments. Flask-specific behavior is listed here.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>path</strong> – URL path being requested.</li> <li>
<strong>base_url</strong> – Base URL where the app is being served, which <code>path</code> is relative to. If not given, built from <a class="reference internal" href="../config/index.html#PREFERRED_URL_SCHEME" title="PREFERRED_URL_SCHEME"><code>PREFERRED_URL_SCHEME</code></a>, <code>subdomain</code>, <a class="reference internal" href="../config/index.html#SERVER_NAME" title="SERVER_NAME"><code>SERVER_NAME</code></a>, and <a class="reference internal" href="../config/index.html#APPLICATION_ROOT" title="APPLICATION_ROOT"><code>APPLICATION_ROOT</code></a>.</li> <li>
<strong>subdomain</strong> – Subdomain name to append to <a class="reference internal" href="../config/index.html#SERVER_NAME" title="SERVER_NAME"><code>SERVER_NAME</code></a>.</li> <li>
<strong>url_scheme</strong> – Scheme to use instead of <a class="reference internal" href="../config/index.html#PREFERRED_URL_SCHEME" title="PREFERRED_URL_SCHEME"><code>PREFERRED_URL_SCHEME</code></a>.</li> <li>
<strong>data</strong> – The request body, either as a string or a dict of form keys and values.</li> <li>
<strong>json</strong> – If given, this is serialized as JSON and passed as <code>data</code>. Also defaults <code>content_type</code> to <code>application/json</code>.</li> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – other positional arguments passed to <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/test/#werkzeug.test.EnvironBuilder" title="(in Werkzeug v2.3.x)"><code>EnvironBuilder</code></a>.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – other keyword arguments passed to <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/test/#werkzeug.test.EnvironBuilder" title="(in Werkzeug v2.3.x)"><code>EnvironBuilder</code></a>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.ctx.RequestContext" title="flask.ctx.RequestContext">RequestContext</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.testing">
<code>testing</code> </dt> <dd>
<p>The testing flag. Set this to <code>True</code> to enable the test mode of Flask extensions (and in the future probably also Flask itself). For example this might activate test helpers that have an additional runtime cost which should not be enabled by default.</p> <p>If this is enabled and PROPAGATE_EXCEPTIONS is not changed from the default it’s implicitly enabled.</p> <p>This attribute can also be configured from the config with the <code>TESTING</code> configuration key. Defaults to <code>False</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.trap_http_exception">
<code>trap_http_exception(e)</code> </dt> <dd>
<p>Checks if an HTTP exception should be trapped or not. By default this will return <code>False</code> for all exceptions except for a bad request key error if <code>TRAP_BAD_REQUEST_ERRORS</code> is set to <code>True</code>. It also returns <code>True</code> if <code>TRAP_HTTP_EXCEPTIONS</code> is set to <code>True</code>.</p> <p>This is called for all HTTP exceptions raised by a view function. If it returns <code>True</code> for any exception the error handler for this exception is not called and it shows up as regular exception in the traceback. This is helpful for debugging implicitly raised HTTP exceptions.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span>Bad request errors are not trapped by default in debug mode.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>e</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.11)">Exception</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.update_template_context">
<code>update_template_context(context)</code> </dt> <dd>
<p>Update the template context with some commonly used variables. This injects request, session, config and g into the template context as well as everything template context processors want to inject. Note that the as of Flask 0.6, the original values in the context will not be overridden if a context processor decides to return a value with the same key.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>context</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a>) – the context as a dictionary that is updated in place to add extra variables.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.url_build_error_handlers">
<code>url_build_error_handlers: list[t.Callable[[Exception, str, dict[str, t.Any]], str]]</code> </dt> <dd>
<p>A list of functions that are called by <a class="reference internal" href="#flask.Flask.handle_url_build_error" title="flask.Flask.handle_url_build_error"><code>handle_url_build_error()</code></a> when <a class="reference internal" href="#flask.Flask.url_for" title="flask.Flask.url_for"><code>url_for()</code></a> raises a <code>BuildError</code>. Each function is called with <code>error</code>, <code>endpoint</code> and <code>values</code>. If a function returns <code>None</code> or raises a <code>BuildError</code>, it is skipped. Otherwise, its return value is returned by <code>url_for</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.url_default_functions">
<code>url_default_functions: dict[ft.AppOrBlueprintKey, list[ft.URLDefaultCallable]]</code> </dt> <dd>
<p>A data structure of functions to call to modify the keyword arguments when generating URLs, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Flask.url_defaults" title="flask.Flask.url_defaults"><code>url_defaults()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.url_defaults">
<code>url_defaults(f)</code> </dt> <dd>
<p>Callback function for URL defaults for all view functions of the application. It’s called with the endpoint and values and should update the values passed in place.</p> <p>This is available on both app and blueprint objects. When used on an app, this is called for every request. When used on a blueprint, this is called for requests that the blueprint handles. To register with a blueprint and affect every request, use <a class="reference internal" href="#flask.Blueprint.app_url_defaults" title="flask.Blueprint.app_url_defaults"><code>Blueprint.app_url_defaults()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_url_defaults</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_url_defaults</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.url_for">
<code>url_for(endpoint, *, _anchor=None, _method=None, _scheme=None, _external=None, **values)</code> </dt> <dd>
<p>Generate a URL to the given endpoint with the given values.</p> <p>This is called by <a class="reference internal" href="#flask.url_for" title="flask.url_for"><code>flask.url_for()</code></a>, and can be called directly as well.</p> <p>An <em>endpoint</em> is the name of a URL rule, usually added with <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code>@app.route()</code></a>, and usually the same name as the view function. A route defined in a <a class="reference internal" href="#flask.Blueprint" title="flask.Blueprint"><code>Blueprint</code></a> will prepend the blueprint’s name separated by a <code>.</code> to the endpoint.</p> <p>In some cases, such as email messages, you want URLs to include the scheme and domain, like <code>https://example.com/hello</code>. When not in an active request, URLs will be external by default, but this requires setting <a class="reference internal" href="../config/index.html#SERVER_NAME" title="SERVER_NAME"><code>SERVER_NAME</code></a> so Flask knows what domain to use. <a class="reference internal" href="../config/index.html#APPLICATION_ROOT" title="APPLICATION_ROOT"><code>APPLICATION_ROOT</code></a> and <a class="reference internal" href="../config/index.html#PREFERRED_URL_SCHEME" title="PREFERRED_URL_SCHEME"><code>PREFERRED_URL_SCHEME</code></a> should also be configured as needed. This config is only used when not in an active request.</p> <p>Functions can be decorated with <a class="reference internal" href="#flask.Flask.url_defaults" title="flask.Flask.url_defaults"><code>url_defaults()</code></a> to modify keyword arguments before the URL is built.</p> <p>If building fails for some reason, such as an unknown endpoint or incorrect values, the app’s <a class="reference internal" href="#flask.Flask.handle_url_build_error" title="flask.Flask.handle_url_build_error"><code>handle_url_build_error()</code></a> method is called. If that returns a string, that is returned, otherwise a <code>BuildError</code> is raised.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>endpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The endpoint name associated with the URL to generate. If this starts with a <code>.</code>, the current blueprint name (if any) will be used.</li> <li>
<strong>_anchor</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – If given, append this as <code>#anchor</code> to the URL.</li> <li>
<strong>_method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – If given, generate the URL associated with this method for the endpoint.</li> <li>
<strong>_scheme</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – If given, the URL will have this scheme if it is external.</li> <li>
<strong>_external</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a><em> | </em><em>None</em>) – If given, prefer the URL to be internal (False) or require it to be external (True). External URLs include the scheme and domain. When not in an active request, URLs are external by default.</li> <li>
<strong>values</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Values to use for the variable parts of the URL rule. Unknown keys are appended as query string arguments, like <code>?a=b&amp;c=d</code>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2: </span>Moved from <code>flask.url_for</code>, which calls this method.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.url_map">
<code>url_map</code> </dt> <dd>
<p>The <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/routing/#werkzeug.routing.Map" title="(in Werkzeug v2.3.x)"><code>Map</code></a> for this instance. You can use this to change the routing converters after the class was created but before any routes are connected. Example:</p> <pre data-language="python">from werkzeug.routing import BaseConverter

class ListConverter(BaseConverter):
    def to_python(self, value):
        return value.split(',')
    def to_url(self, values):
        return ','.join(super(ListConverter, self).to_url(value)
                        for value in values)

app = Flask(__name__)
app.url_map.converters['list'] = ListConverter
</pre> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.url_map_class">
<code>url_map_class</code> </dt> <dd>
<p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/routing/#werkzeug.routing.Map" title="(in Werkzeug v2.3.x)"><code>Map</code></a></p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.url_rule_class">
<code>url_rule_class</code> </dt> <dd>
<p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/routing/#werkzeug.routing.Rule" title="(in Werkzeug v2.3.x)"><code>Rule</code></a></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.url_value_preprocessor">
<code>url_value_preprocessor(f)</code> </dt> <dd>
<p>Register a URL value preprocessor function for all view functions in the application. These functions will be called before the <a class="reference internal" href="#flask.Flask.before_request" title="flask.Flask.before_request"><code>before_request()</code></a> functions.</p> <p>The function can modify the values captured from the matched url before they are passed to the view. For example, this can be used to pop a common language code value and place it in <code>g</code> rather than pass it to every view.</p> <p>The function is passed the endpoint name and values dict. The return value is ignored.</p> <p>This is available on both app and blueprint objects. When used on an app, this is called for every request. When used on a blueprint, this is called for requests that the blueprint handles. To register with a blueprint and affect every request, use <a class="reference internal" href="#flask.Blueprint.app_url_value_preprocessor" title="flask.Blueprint.app_url_value_preprocessor"><code>Blueprint.app_url_value_preprocessor()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_url_value_preprocessor</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_url_value_preprocessor</em></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.url_value_preprocessors">
<code>url_value_preprocessors: dict[ft.AppOrBlueprintKey, list[ft.URLValuePreprocessorCallable]]</code> </dt> <dd>
<p>A data structure of functions to call to modify the keyword arguments passed to the view function, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Flask.url_value_preprocessor" title="flask.Flask.url_value_preprocessor"><code>url_value_preprocessor()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Flask.view_functions">
<code>view_functions: dict[str, t.Callable]</code> </dt> <dd>
<p>A dictionary mapping endpoint names to view functions.</p> <p>To register a view function, use the <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code>route()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Flask.wsgi_app">
<code>wsgi_app(environ, start_response)</code> </dt> <dd>
<p>The actual WSGI application. This is not implemented in <code>__call__()</code> so that middlewares can be applied without losing a reference to the app object. Instead of doing this:</p> <pre data-language="python">app = MyMiddleware(app)
</pre> <p>It’s a better idea to do this instead:</p> <pre data-language="python">app.wsgi_app = MyMiddleware(app.wsgi_app)
</pre> <p>Then you still have the original application object around and can continue to call methods on it.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.7: </span>Teardown events for the request and app contexts are called even if an unhandled error occurs. Other events may not be called depending on when an error occurs during dispatch. See <a class="reference internal" href="../reqcontext/index.html#callbacks-and-errors"><span class="std std-ref">Callbacks and Errors</span></a>.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>environ</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a>) – A WSGI environment.</li> <li>
<strong>start_response</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>) – A callable accepting a status code, a list of headers, and an optional exception context to start the response.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> </section> <section id="blueprint-objects"> <h2>Blueprint Objects</h2> <dl class="py class"> <dt class="sig sig-object py" id="flask.Blueprint">
<code>class flask.Blueprint(name, import_name, static_folder=None, static_url_path=None, template_folder=None, url_prefix=None, subdomain=None, url_defaults=None, root_path=None, cli_group=&lt;object object&gt;)</code> </dt> <dd>
<dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>import_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>static_folder</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">os.PathLike</a><em> | </em><em>None</em>) – </li> <li>
<strong>static_url_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> <li>
<strong>template_folder</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">os.PathLike</a><em> | </em><em>None</em>) – </li> <li>
<strong>url_prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> <li>
<strong>subdomain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> <li>
<strong>url_defaults</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a><em> | </em><em>None</em>) – </li> <li>
<strong>root_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> <li>
<strong>cli_group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> </ul> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.add_app_template_filter">
<code>add_app_template_filter(f, name=None)</code> </dt> <dd>
<p>Register a template filter, available in any template rendered by the application. Works like the <a class="reference internal" href="#flask.Blueprint.app_template_filter" title="flask.Blueprint.app_template_filter"><code>app_template_filter()</code></a> decorator. Equivalent to <a class="reference internal" href="#flask.Flask.add_template_filter" title="flask.Flask.add_template_filter"><code>Flask.add_template_filter()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the filter, otherwise the function name will be used.</li> <li>
<strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em>]</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.add_app_template_global">
<code>add_app_template_global(f, name=None)</code> </dt> <dd>
<p>Register a template global, available in any template rendered by the application. Works like the <a class="reference internal" href="#flask.Blueprint.app_template_global" title="flask.Blueprint.app_template_global"><code>app_template_global()</code></a> decorator. Equivalent to <a class="reference internal" href="#flask.Flask.add_template_global" title="flask.Flask.add_template_global"><code>Flask.add_template_global()</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the global, otherwise the function name will be used.</li> <li>
<strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em>]</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.add_app_template_test">
<code>add_app_template_test(f, name=None)</code> </dt> <dd>
<p>Register a template test, available in any template rendered by the application. Works like the <a class="reference internal" href="#flask.Blueprint.app_template_test" title="flask.Blueprint.app_template_test"><code>app_template_test()</code></a> decorator. Equivalent to <a class="reference internal" href="#flask.Flask.add_template_test" title="flask.Flask.add_template_test"><code>Flask.add_template_test()</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the test, otherwise the function name will be used.</li> <li>
<strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a><em>]</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.add_url_rule">
<code>add_url_rule(rule, endpoint=None, view_func=None, provide_automatic_options=None, **options)</code> </dt> <dd>
<p>Register a URL rule with the blueprint. See <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code>Flask.add_url_rule()</code></a> for full documentation.</p> <p>The URL rule is prefixed with the blueprint’s URL prefix. The endpoint name, used with <a class="reference internal" href="#flask.url_for" title="flask.url_for"><code>url_for()</code></a>, is prefixed with the blueprint’s name.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>endpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> <li>
<strong>view_func</strong> (<em>ft.RouteCallable</em><em> | </em><em>None</em>) – </li> <li>
<strong>provide_automatic_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a><em> | </em><em>None</em>) – </li> <li>
<strong>options</strong> (<em>t.Any</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.after_app_request">
<code>after_app_request(f)</code> </dt> <dd>
<p>Like <a class="reference internal" href="#flask.Blueprint.after_request" title="flask.Blueprint.after_request"><code>after_request()</code></a>, but after every request, not only those handled by the blueprint. Equivalent to <a class="reference internal" href="#flask.Flask.after_request" title="flask.Flask.after_request"><code>Flask.after_request()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_after_request</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_after_request</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.after_request">
<code>after_request(f)</code> </dt> <dd>
<p>Register a function to run after each request to this object.</p> <p>The function is called with the response object, and must return a response object. This allows the functions to modify or replace the response before it is sent.</p> <p>If a function raises an exception, any remaining <code>after_request</code> functions will not be called. Therefore, this should not be used for actions that must execute, such as to close resources. Use <a class="reference internal" href="#flask.Blueprint.teardown_request" title="flask.Blueprint.teardown_request"><code>teardown_request()</code></a> for that.</p> <p>This is available on both app and blueprint objects. When used on an app, this executes after every request. When used on a blueprint, this executes after every request that the blueprint handles. To register with a blueprint and execute after every request, use <a class="reference internal" href="#flask.Blueprint.after_app_request" title="flask.Blueprint.after_app_request"><code>Blueprint.after_app_request()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_after_request</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_after_request</em></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.after_request_funcs">
<code>after_request_funcs: dict[ft.AppOrBlueprintKey, list[ft.AfterRequestCallable]]</code> </dt> <dd>
<p>A data structure of functions to call at the end of each request, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Blueprint.after_request" title="flask.Blueprint.after_request"><code>after_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.app_context_processor">
<code>app_context_processor(f)</code> </dt> <dd>
<p>Like <a class="reference internal" href="#flask.Blueprint.context_processor" title="flask.Blueprint.context_processor"><code>context_processor()</code></a>, but for templates rendered by every view, not only by the blueprint. Equivalent to <a class="reference internal" href="#flask.Flask.context_processor" title="flask.Flask.context_processor"><code>Flask.context_processor()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_template_context_processor</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_template_context_processor</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.app_errorhandler">
<code>app_errorhandler(code)</code> </dt> <dd>
<p>Like <a class="reference internal" href="#flask.Blueprint.errorhandler" title="flask.Blueprint.errorhandler"><code>errorhandler()</code></a>, but for every request, not only those handled by the blueprint. Equivalent to <a class="reference internal" href="#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code>Flask.errorhandler()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>code</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)">type</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.11)">Exception</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_error_handler</em>], <em>T_error_handler</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.app_template_filter">
<code>app_template_filter(name=None)</code> </dt> <dd>
<p>Register a template filter, available in any template rendered by the application. Equivalent to <a class="reference internal" href="#flask.Flask.template_filter" title="flask.Flask.template_filter"><code>Flask.template_filter()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the filter, otherwise the function name will be used.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_template_filter</em>], <em>T_template_filter</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.app_template_global">
<code>app_template_global(name=None)</code> </dt> <dd>
<p>Register a template global, available in any template rendered by the application. Equivalent to <a class="reference internal" href="#flask.Flask.template_global" title="flask.Flask.template_global"><code>Flask.template_global()</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the global, otherwise the function name will be used.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_template_global</em>], <em>T_template_global</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.app_template_test">
<code>app_template_test(name=None)</code> </dt> <dd>
<p>Register a template test, available in any template rendered by the application. Equivalent to <a class="reference internal" href="#flask.Flask.template_test" title="flask.Flask.template_test"><code>Flask.template_test()</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the optional name of the test, otherwise the function name will be used.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_template_test</em>], <em>T_template_test</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.app_url_defaults">
<code>app_url_defaults(f)</code> </dt> <dd>
<p>Like <a class="reference internal" href="#flask.Blueprint.url_defaults" title="flask.Blueprint.url_defaults"><code>url_defaults()</code></a>, but for every request, not only those handled by the blueprint. Equivalent to <a class="reference internal" href="#flask.Flask.url_defaults" title="flask.Flask.url_defaults"><code>Flask.url_defaults()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_url_defaults</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_url_defaults</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.app_url_value_preprocessor">
<code>app_url_value_preprocessor(f)</code> </dt> <dd>
<p>Like <a class="reference internal" href="#flask.Blueprint.url_value_preprocessor" title="flask.Blueprint.url_value_preprocessor"><code>url_value_preprocessor()</code></a>, but for every request, not only those handled by the blueprint. Equivalent to <a class="reference internal" href="#flask.Flask.url_value_preprocessor" title="flask.Flask.url_value_preprocessor"><code>Flask.url_value_preprocessor()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_url_value_preprocessor</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_url_value_preprocessor</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.before_app_request">
<code>before_app_request(f)</code> </dt> <dd>
<p>Like <a class="reference internal" href="#flask.Blueprint.before_request" title="flask.Blueprint.before_request"><code>before_request()</code></a>, but before every request, not only those handled by the blueprint. Equivalent to <a class="reference internal" href="#flask.Flask.before_request" title="flask.Flask.before_request"><code>Flask.before_request()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_before_request</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_before_request</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.before_request">
<code>before_request(f)</code> </dt> <dd>
<p>Register a function to run before each request.</p> <p>For example, this can be used to open a database connection, or to load the logged in user from the session.</p> <pre data-language="python">@app.before_request
def load_user():
    if "user_id" in session:
        g.user = db.session.get(session["user_id"])
</pre> <p>The function will be called without any arguments. If it returns a non-<code>None</code> value, the value is handled as if it was the return value from the view, and further request handling is stopped.</p> <p>This is available on both app and blueprint objects. When used on an app, this executes before every request. When used on a blueprint, this executes before every request that the blueprint handles. To register with a blueprint and execute before every request, use <a class="reference internal" href="#flask.Blueprint.before_app_request" title="flask.Blueprint.before_app_request"><code>Blueprint.before_app_request()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_before_request</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_before_request</em></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.before_request_funcs">
<code>before_request_funcs: dict[ft.AppOrBlueprintKey, list[ft.BeforeRequestCallable]]</code> </dt> <dd>
<p>A data structure of functions to call at the beginning of each request, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Blueprint.before_request" title="flask.Blueprint.before_request"><code>before_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.cli">
<code>cli</code> </dt> <dd>
<p>The Click command group for registering CLI commands for this object. The commands are available from the <code>flask</code> command once the application has been discovered and blueprints have been registered.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.context_processor">
<code>context_processor(f)</code> </dt> <dd>
<p>Registers a template context processor function. These functions run before rendering a template. The keys of the returned dict are added as variables available in the template.</p> <p>This is available on both app and blueprint objects. When used on an app, this is called for every rendered template. When used on a blueprint, this is called for templates rendered from the blueprint’s views. To register with a blueprint and affect every template, use <a class="reference internal" href="#flask.Blueprint.app_context_processor" title="flask.Blueprint.app_context_processor"><code>Blueprint.app_context_processor()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_template_context_processor</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_template_context_processor</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.delete">
<code>delete(rule, **options)</code> </dt> <dd>
<p>Shortcut for <a class="reference internal" href="#flask.Blueprint.route" title="flask.Blueprint.route"><code>route()</code></a> with <code>methods=["DELETE"]</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.endpoint">
<code>endpoint(endpoint)</code> </dt> <dd>
<p>Decorate a view function to register it for the given endpoint. Used if a rule is added without a <code>view_func</code> with <a class="reference internal" href="#flask.Blueprint.add_url_rule" title="flask.Blueprint.add_url_rule"><code>add_url_rule()</code></a>.</p> <pre data-language="python">app.add_url_rule("/ex", endpoint="example")

@app.endpoint("example")
def example():
    ...
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>endpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The endpoint name to associate with the view function.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>F</em>], <em>F</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.error_handler_spec">
<code>error_handler_spec: dict[ft.AppOrBlueprintKey, dict[int | None, dict[type[Exception], ft.ErrorHandlerCallable]]]</code> </dt> <dd>
<p>A data structure of registered error handlers, in the format <code>{scope: {code: {class: handler}}}</code>. The <code>scope</code> key is the name of a blueprint the handlers are active for, or <code>None</code> for all requests. The <code>code</code> key is the HTTP status code for <code>HTTPException</code>, or <code>None</code> for other exceptions. The innermost dictionary maps exception classes to handler functions.</p> <p>To register an error handler, use the <a class="reference internal" href="#flask.Blueprint.errorhandler" title="flask.Blueprint.errorhandler"><code>errorhandler()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.errorhandler">
<code>errorhandler(code_or_exception)</code> </dt> <dd>
<p>Register a function to handle errors by code or exception class.</p> <p>A decorator that is used to register a function given an error code. Example:</p> <pre data-language="python">@app.errorhandler(404)
def page_not_found(error):
    return 'This page does not exist', 404
</pre> <p>You can also register handlers for arbitrary exceptions:</p> <pre data-language="python">@app.errorhandler(DatabaseError)
def special_exception_handler(error):
    return 'Database connection failed', 500
</pre> <p>This is available on both app and blueprint objects. When used on an app, this can handle errors from every request. When used on a blueprint, this can handle errors from requests that the blueprint handles. To register with a blueprint and affect every request, use <a class="reference internal" href="#flask.Blueprint.app_errorhandler" title="flask.Blueprint.app_errorhandler"><code>Blueprint.app_errorhandler()</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7: </span>Use <a class="reference internal" href="#flask.Blueprint.register_error_handler" title="flask.Blueprint.register_error_handler"><code>register_error_handler()</code></a> instead of modifying <a class="reference internal" href="#flask.Blueprint.error_handler_spec" title="flask.Blueprint.error_handler_spec"><code>error_handler_spec</code></a> directly, for application wide error handlers.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.7: </span>One can now additionally also register custom exception types that do not necessarily have to be a subclass of the <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.HTTPException" title="(in Werkzeug v2.3.x)"><code>HTTPException</code></a> class.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>code_or_exception</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)">type</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.11)">Exception</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>) – the code as integer for the handler, or an arbitrary exception</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_error_handler</em>], <em>T_error_handler</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.get">
<code>get(rule, **options)</code> </dt> <dd>
<p>Shortcut for <a class="reference internal" href="#flask.Blueprint.route" title="flask.Blueprint.route"><code>route()</code></a> with <code>methods=["GET"]</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.get_send_file_max_age">
<code>get_send_file_max_age(filename)</code> </dt> <dd>
<p>Used by <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code>send_file()</code></a> to determine the <code>max_age</code> cache value for a given file path if it wasn’t passed.</p> <p>By default, this returns <a class="reference internal" href="../config/index.html#SEND_FILE_MAX_AGE_DEFAULT" title="SEND_FILE_MAX_AGE_DEFAULT"><code>SEND_FILE_MAX_AGE_DEFAULT</code></a> from the configuration of <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a>. This defaults to <code>None</code>, which tells the browser to use conditional requests instead of a timed cache, which is usually preferable.</p> <p>Note this is a duplicate of the same method in the Flask class.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The default configuration is <code>None</code> instead of 12 hours.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a> | None</p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Blueprint.has_static_folder">
<code>property has_static_folder: bool</code> </dt> <dd>
<p><code>True</code> if <a class="reference internal" href="#flask.Blueprint.static_folder" title="flask.Blueprint.static_folder"><code>static_folder</code></a> is set.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.import_name">
<code>import_name</code> </dt> <dd>
<p>The name of the package or module that this object belongs to. Do not change this once it is set by the constructor.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Blueprint.jinja_loader">
<code>property jinja_loader: FileSystemLoader | None</code> </dt> <dd>
<p>The Jinja loader for this object’s templates. By default this is a class <a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/api/#jinja2.FileSystemLoader" title="(in Jinja v3.1.x)"><code>jinja2.loaders.FileSystemLoader</code></a> to <a class="reference internal" href="#flask.Blueprint.template_folder" title="flask.Blueprint.template_folder"><code>template_folder</code></a> if it is set.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.make_setup_state">
<code>make_setup_state(app, options, first_registration=False)</code> </dt> <dd>
<p>Creates an instance of <a class="reference internal" href="#flask.blueprints.BlueprintSetupState" title="flask.blueprints.BlueprintSetupState"><code>BlueprintSetupState()</code></a> object that is later passed to the register callback functions. Subclasses can override this to return a subclass of the setup state.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<em>App</em>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a>) – </li> <li>
<strong>first_registration</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.blueprints.BlueprintSetupState" title="flask.blueprints.BlueprintSetupState">BlueprintSetupState</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.open_resource">
<code>open_resource(resource, mode='rb')</code> </dt> <dd>
<p>Open a resource file relative to <a class="reference internal" href="#flask.Blueprint.root_path" title="flask.Blueprint.root_path"><code>root_path</code></a> for reading.</p> <p>For example, if the file <code>schema.sql</code> is next to the file <code>app.py</code> where the <code>Flask</code> app is defined, it can be opened with:</p> <pre data-language="python">with app.open_resource("schema.sql") as f:
    conn.executescript(f.read())
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>resource</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – Path to the resource relative to <a class="reference internal" href="#flask.Blueprint.root_path" title="flask.Blueprint.root_path"><code>root_path</code></a>.</li> <li>
<strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – Open the file in this mode. Only reading is supported, valid values are “r” (or “rt”) and “rb”.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.11)">IO</a></p> </dd> </dl> <p>Note this is a duplicate of the same method in the Flask class.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.patch">
<code>patch(rule, **options)</code> </dt> <dd>
<p>Shortcut for <a class="reference internal" href="#flask.Blueprint.route" title="flask.Blueprint.route"><code>route()</code></a> with <code>methods=["PATCH"]</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.post">
<code>post(rule, **options)</code> </dt> <dd>
<p>Shortcut for <a class="reference internal" href="#flask.Blueprint.route" title="flask.Blueprint.route"><code>route()</code></a> with <code>methods=["POST"]</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.put">
<code>put(rule, **options)</code> </dt> <dd>
<p>Shortcut for <a class="reference internal" href="#flask.Blueprint.route" title="flask.Blueprint.route"><code>route()</code></a> with <code>methods=["PUT"]</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.record">
<code>record(func)</code> </dt> <dd>
<p>Registers a function that is called when the blueprint is registered on the application. This function is called with the state as argument as returned by the <a class="reference internal" href="#flask.Blueprint.make_setup_state" title="flask.Blueprint.make_setup_state"><code>make_setup_state()</code></a> method.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.record_once">
<code>record_once(func)</code> </dt> <dd>
<p>Works like <a class="reference internal" href="#flask.Blueprint.record" title="flask.Blueprint.record"><code>record()</code></a> but wraps the function in another function that will ensure the function is only called once. If the blueprint is registered a second time on the application, the function passed is not called.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.register">
<code>register(app, options)</code> </dt> <dd>
<p>Called by <a class="reference internal" href="#flask.Flask.register_blueprint" title="flask.Flask.register_blueprint"><code>Flask.register_blueprint()</code></a> to register all views and callbacks registered on the blueprint with the application. Creates a <a class="reference internal" href="#flask.blueprints.BlueprintSetupState" title="flask.blueprints.BlueprintSetupState"><code>BlueprintSetupState</code></a> and calls each <a class="reference internal" href="#flask.Blueprint.record" title="flask.Blueprint.record"><code>record()</code></a> callback with it.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<em>App</em>) – The application this blueprint is being registered with.</li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a>) – Keyword arguments forwarded from <a class="reference internal" href="#flask.Flask.register_blueprint" title="flask.Flask.register_blueprint"><code>register_blueprint()</code></a>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>Nested blueprints now correctly apply subdomains.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1: </span>Registering the same blueprint with the same name multiple times is an error.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0.1: </span>Nested blueprints are registered with their dotted name. This allows different blueprints with the same name to be nested at different locations.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0.1: </span>The <code>name</code> option can be used to change the (pre-dotted) name the blueprint is registered with. This allows the same blueprint to be registered multiple times with unique names for <code>url_for</code>.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.register_blueprint">
<code>register_blueprint(blueprint, **options)</code> </dt> <dd>
<p>Register a <a class="reference internal" href="#flask.Blueprint" title="flask.Blueprint"><code>Blueprint</code></a> on this blueprint. Keyword arguments passed to this method will override the defaults set on the blueprint.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0.1: </span>The <code>name</code> option can be used to change the (pre-dotted) name the blueprint is registered with. This allows the same blueprint to be registered multiple times with unique names for <code>url_for</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>blueprint</strong> (<em>Blueprint</em>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.register_error_handler">
<code>register_error_handler(code_or_exception, f)</code> </dt> <dd>
<p>Alternative error attach function to the <a class="reference internal" href="#flask.Blueprint.errorhandler" title="flask.Blueprint.errorhandler"><code>errorhandler()</code></a> decorator that is more straightforward to use for non decorator usage.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>code_or_exception</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)">type</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.11)">Exception</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>) – </li> <li>
<strong>f</strong> (<em>ft.ErrorHandlerCallable</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.root_path">
<code>root_path</code> </dt> <dd>
<p>Absolute path to the package on the filesystem. Used to look up resources contained in the package.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.route">
<code>route(rule, **options)</code> </dt> <dd>
<p>Decorate a view function to register it with the given URL rule and options. Calls <a class="reference internal" href="#flask.Blueprint.add_url_rule" title="flask.Blueprint.add_url_rule"><code>add_url_rule()</code></a>, which has more details about the implementation.</p> <pre data-language="python">@app.route("/")
def index():
    return "Hello, World!"
</pre> <p>See <a class="reference internal" href="#url-route-registrations"><span class="std std-ref">URL Route Registrations</span></a>.</p> <p>The endpoint name for the route defaults to the name of the view function if the <code>endpoint</code> parameter isn’t passed.</p> <p>The <code>methods</code> parameter defaults to <code>["GET"]</code>. <code>HEAD</code> and <code>OPTIONS</code> are added automatically.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The URL rule string.</li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Extra options passed to the <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/routing/#werkzeug.routing.Rule" title="(in Werkzeug v2.3.x)"><code>Rule</code></a> object.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>T_route</em>], <em>T_route</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.send_static_file">
<code>send_static_file(filename)</code> </dt> <dd>
<p>The view function used to serve files from <a class="reference internal" href="#flask.Blueprint.static_folder" title="flask.Blueprint.static_folder"><code>static_folder</code></a>. A route is automatically registered for this view at <a class="reference internal" href="#flask.Blueprint.static_url_path" title="flask.Blueprint.static_url_path"><code>static_url_path</code></a> if <a class="reference internal" href="#flask.Blueprint.static_folder" title="flask.Blueprint.static_folder"><code>static_folder</code></a> is set.</p> <p>Note this is a duplicate of the same method in the Flask class.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Blueprint.static_folder">
<code>property static_folder: str | None</code> </dt> <dd>
<p>The absolute path to the configured static folder. <code>None</code> if no static folder is set.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Blueprint.static_url_path">
<code>property static_url_path: str | None</code> </dt> <dd>
<p>The URL prefix that the static route will be accessible from.</p> <p>If it was not configured during init, it is derived from <a class="reference internal" href="#flask.Blueprint.static_folder" title="flask.Blueprint.static_folder"><code>static_folder</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.teardown_app_request">
<code>teardown_app_request(f)</code> </dt> <dd>
<p>Like <a class="reference internal" href="#flask.Blueprint.teardown_request" title="flask.Blueprint.teardown_request"><code>teardown_request()</code></a>, but after every request, not only those handled by the blueprint. Equivalent to <a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code>Flask.teardown_request()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_teardown</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_teardown</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.teardown_request">
<code>teardown_request(f)</code> </dt> <dd>
<p>Register a function to be called when the request context is popped. Typically this happens at the end of each request, but contexts may be pushed manually as well during testing.</p> <pre data-language="python">with app.test_request_context():
    ...
</pre> <p>When the <code>with</code> block exits (or <code>ctx.pop()</code> is called), the teardown functions are called just before the request context is made inactive.</p> <p>When a teardown function was called because of an unhandled exception it will be passed an error object. If an <a class="reference internal" href="#flask.Blueprint.errorhandler" title="flask.Blueprint.errorhandler"><code>errorhandler()</code></a> is registered, it will handle the exception and the teardown will not receive it.</p> <p>Teardown functions must avoid raising exceptions. If they execute code that might fail they must surround that code with a <code>try</code>/<code>except</code> block and log any errors.</p> <p>The return values of teardown functions are ignored.</p> <p>This is available on both app and blueprint objects. When used on an app, this executes after every request. When used on a blueprint, this executes after every request that the blueprint handles. To register with a blueprint and execute after every request, use <a class="reference internal" href="#flask.Blueprint.teardown_app_request" title="flask.Blueprint.teardown_app_request"><code>Blueprint.teardown_app_request()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_teardown</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_teardown</em></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.teardown_request_funcs">
<code>teardown_request_funcs: dict[ft.AppOrBlueprintKey, list[ft.TeardownCallable]]</code> </dt> <dd>
<p>A data structure of functions to call at the end of each request even if an exception is raised, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Blueprint.teardown_request" title="flask.Blueprint.teardown_request"><code>teardown_request()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.template_context_processors">
<code>template_context_processors: dict[ft.AppOrBlueprintKey, list[ft.TemplateContextProcessorCallable]]</code> </dt> <dd>
<p>A data structure of functions to call to pass extra context values when rendering templates, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Blueprint.context_processor" title="flask.Blueprint.context_processor"><code>context_processor()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.template_folder">
<code>template_folder</code> </dt> <dd>
<p>The path to the templates folder, relative to <a class="reference internal" href="#flask.Blueprint.root_path" title="flask.Blueprint.root_path"><code>root_path</code></a>, to add to the template loader. <code>None</code> if templates should not be added.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.url_default_functions">
<code>url_default_functions: dict[ft.AppOrBlueprintKey, list[ft.URLDefaultCallable]]</code> </dt> <dd>
<p>A data structure of functions to call to modify the keyword arguments when generating URLs, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Blueprint.url_defaults" title="flask.Blueprint.url_defaults"><code>url_defaults()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.url_defaults">
<code>url_defaults(f)</code> </dt> <dd>
<p>Callback function for URL defaults for all view functions of the application. It’s called with the endpoint and values and should update the values passed in place.</p> <p>This is available on both app and blueprint objects. When used on an app, this is called for every request. When used on a blueprint, this is called for requests that the blueprint handles. To register with a blueprint and affect every request, use <a class="reference internal" href="#flask.Blueprint.app_url_defaults" title="flask.Blueprint.app_url_defaults"><code>Blueprint.app_url_defaults()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_url_defaults</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_url_defaults</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Blueprint.url_value_preprocessor">
<code>url_value_preprocessor(f)</code> </dt> <dd>
<p>Register a URL value preprocessor function for all view functions in the application. These functions will be called before the <a class="reference internal" href="#flask.Blueprint.before_request" title="flask.Blueprint.before_request"><code>before_request()</code></a> functions.</p> <p>The function can modify the values captured from the matched url before they are passed to the view. For example, this can be used to pop a common language code value and place it in <code>g</code> rather than pass it to every view.</p> <p>The function is passed the endpoint name and values dict. The return value is ignored.</p> <p>This is available on both app and blueprint objects. When used on an app, this is called for every request. When used on a blueprint, this is called for requests that the blueprint handles. To register with a blueprint and affect every request, use <a class="reference internal" href="#flask.Blueprint.app_url_value_preprocessor" title="flask.Blueprint.app_url_value_preprocessor"><code>Blueprint.app_url_value_preprocessor()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>T_url_value_preprocessor</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>T_url_value_preprocessor</em></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.url_value_preprocessors">
<code>url_value_preprocessors: dict[ft.AppOrBlueprintKey, list[ft.URLValuePreprocessorCallable]]</code> </dt> <dd>
<p>A data structure of functions to call to modify the keyword arguments passed to the view function, in the format <code>{scope: [functions]}</code>. The <code>scope</code> key is the name of a blueprint the functions are active for, or <code>None</code> for all requests.</p> <p>To register a function, use the <a class="reference internal" href="#flask.Blueprint.url_value_preprocessor" title="flask.Blueprint.url_value_preprocessor"><code>url_value_preprocessor()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Blueprint.view_functions">
<code>view_functions: dict[str, t.Callable]</code> </dt> <dd>
<p>A dictionary mapping endpoint names to view functions.</p> <p>To register a view function, use the <a class="reference internal" href="#flask.Blueprint.route" title="flask.Blueprint.route"><code>route()</code></a> decorator.</p> <p>This data structure is internal. It should not be modified directly and its format may change at any time.</p> </dd>
</dl> </dd>
</dl> </section> <section id="incoming-request-data"> <h2>Incoming Request Data</h2> <dl class="py class"> <dt class="sig sig-object py" id="flask.Request">
<code>class flask.Request(environ, populate_request=True, shallow=False)</code> </dt> <dd>
<p>The request object used by default in Flask. Remembers the matched endpoint and view arguments.</p> <p>It is what ends up as <a class="reference internal" href="#flask.request" title="flask.request"><code>request</code></a>. If you want to replace the request object used you can subclass this and set <a class="reference internal" href="#flask.Flask.request_class" title="flask.Flask.request_class"><code>request_class</code></a> to your subclass.</p> <p>The request object is a <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/wrappers/#werkzeug.wrappers.Request" title="(in Werkzeug v2.3.x)"><code>Request</code></a> subclass and provides all of the attributes Werkzeug defines plus a few Flask specific ones.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>environ</strong> (<em>WSGIEnvironment</em>) – </li> <li>
<strong>populate_request</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> <li>
<strong>shallow</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> </ul> </dd> </dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.accept_charsets">
<code>property accept_charsets: CharsetAccept</code> </dt> <dd>
<p>List of charsets this client supports as <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.CharsetAccept" title="(in Werkzeug v2.3.x)"><code>CharsetAccept</code></a> object.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.accept_encodings">
<code>property accept_encodings: Accept</code> </dt> <dd>
<p>List of encodings this client accepts. Encodings in a HTTP term are compression encodings such as gzip. For charsets have a look at <code>accept_charset</code>.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.accept_languages">
<code>property accept_languages: LanguageAccept</code> </dt> <dd>
<p>List of languages this client accepts as <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.LanguageAccept" title="(in Werkzeug v2.3.x)"><code>LanguageAccept</code></a> object.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.accept_mimetypes">
<code>property accept_mimetypes: MIMEAccept</code> </dt> <dd>
<p>List of mimetypes this client supports as <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.MIMEAccept" title="(in Werkzeug v2.3.x)"><code>MIMEAccept</code></a> object.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.access_control_request_headers">
<code>access_control_request_headers</code> </dt> <dd>
<p>Sent with a preflight request to indicate which headers will be sent with the cross origin request. Set <code>access_control_allow_headers</code> on the response to indicate which headers are allowed.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.access_control_request_method">
<code>access_control_request_method</code> </dt> <dd>
<p>Sent with a preflight request to indicate which method will be used for the cross origin request. Set <code>access_control_allow_methods</code> on the response to indicate which methods are allowed.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.access_route">
<code>property access_route: list[str]</code> </dt> <dd>
<p>If a forwarded header exists this is a list of all ip addresses from the client ip to the last proxy server.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Request.application">
<code>classmethod application(f)</code> </dt> <dd>
<p>Decorate a function as responder that accepts the request as the last argument. This works like the <code>responder()</code> decorator but the function is passed the request object as the last argument and the request object will be closed automatically:</p> <pre data-language="python">@Request.application
def my_wsgi_app(request):
    return Response('Hello World!')
</pre> <p>As of Werkzeug 0.14 HTTP exceptions are automatically caught and converted to responses instead of failing.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>t.Callable</em><em>[</em><em>[</em><a class="reference internal" href="#flask.Request" title="flask.Request">Request</a><em>]</em><em>, </em><em>WSGIApplication</em><em>]</em>) – the WSGI callable to decorate</p> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>a new WSGI callable</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>WSGIApplication</p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.args">
<code>property args: MultiDict[str, str]</code> </dt> <dd>
<p>The parsed URL parameters (the part in the URL after the question mark).</p> <p>By default an <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict" title="(in Werkzeug v2.3.x)"><code>ImmutableMultiDict</code></a> is returned from this function. This can be changed by setting <a class="reference internal" href="#flask.Request.parameter_storage_class" title="flask.Request.parameter_storage_class"><code>parameter_storage_class</code></a> to a different type. This might be necessary if the order of the form data is important.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>Invalid bytes remain percent encoded.</p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.authorization">
<code>property authorization: Authorization | None</code> </dt> <dd>
<p>The <code>Authorization</code> header parsed into an <code>Authorization</code> object. <code>None</code> if the header is not present.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span><code>Authorization</code> is no longer a <code>dict</code>. The <code>token</code> attribute was added for auth schemes that use a token instead of parameters.</p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.base_url">
<code>property base_url: str</code> </dt> <dd>
<p>Like <a class="reference internal" href="#flask.Request.url" title="flask.Request.url"><code>url</code></a> but without the query string.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.blueprint">
<code>property blueprint: str | None</code> </dt> <dd>
<p>The registered name of the current blueprint.</p> <p>This will be <code>None</code> if the endpoint is not part of a blueprint, or if URL matching failed or has not been performed yet.</p> <p>This does not necessarily match the name the blueprint was created with. It may have been nested, or registered with a different name.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.blueprints">
<code>property blueprints: list[str]</code> </dt> <dd>
<p>The registered names of the current blueprint upwards through parent blueprints.</p> <p>This will be an empty list if there is no current blueprint, or if URL matching failed.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.1.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.cache_control">
<code>property cache_control: RequestCacheControl</code> </dt> <dd>
<p>A <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.RequestCacheControl" title="(in Werkzeug v2.3.x)"><code>RequestCacheControl</code></a> object for the incoming cache control headers.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Request.close">
<code>close()</code> </dt> <dd>
<p>Closes associated resources of this request object. This closes all file handles explicitly. You can also use the request object in a with statement which will automatically close it.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.content_encoding">
<code>content_encoding</code> </dt> <dd>
<p>The Content-Encoding entity-header field is used as a modifier to the media-type. When present, its value indicates what additional content codings have been applied to the entity-body, and thus what decoding mechanisms must be applied in order to obtain the media-type referenced by the Content-Type header field.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.content_length">
<code>property content_length: int | None</code> </dt> <dd>
<p>The Content-Length entity-header field indicates the size of the entity-body in bytes or, in the case of the HEAD method, the size of the entity-body that would have been sent had the request been a GET.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.content_md5">
<code>content_md5</code> </dt> <dd>
<p>The Content-MD5 entity-header field, as defined in RFC 1864, is an MD5 digest of the entity-body for the purpose of providing an end-to-end message integrity check (MIC) of the entity-body. (Note: a MIC is good for detecting accidental modification of the entity-body in transit, but is not proof against malicious attacks.)</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.content_type">
<code>content_type</code> </dt> <dd>
<p>The Content-Type entity-header field indicates the media type of the entity-body sent to the recipient or, in the case of the HEAD method, the media type that would have been sent had the request been a GET.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.cookies">
<code>property cookies: ImmutableMultiDict[str, str]</code> </dt> <dd>
<p>A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code>dict</code></a> with the contents of all cookies transmitted with the request.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.data">
<code>property data: bytes</code> </dt> <dd>
<p>The raw data read from <a class="reference internal" href="#flask.Request.stream" title="flask.Request.stream"><code>stream</code></a>. Will be empty if the request represents form data.</p> <p>To get the raw data even if it represents form data, use <a class="reference internal" href="#flask.Request.get_data" title="flask.Request.get_data"><code>get_data()</code></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.date">
<code>date</code> </dt> <dd>
<p>The Date general-header field represents the date and time at which the message was originated, having the same semantics as orig-date in RFC 822.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.dict_storage_class">
<code>dict_storage_class</code> </dt> <dd>
<p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict" title="(in Werkzeug v2.3.x)"><code>ImmutableMultiDict</code></a></p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.endpoint">
<code>property endpoint: str | None</code> </dt> <dd>
<p>The endpoint that matched the request URL.</p> <p>This will be <code>None</code> if matching failed or has not been performed yet.</p> <p>This in combination with <a class="reference internal" href="#flask.Request.view_args" title="flask.Request.view_args"><code>view_args</code></a> can be used to reconstruct the same URL or a modified URL.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.environ">
<code>environ: WSGIEnvironment</code> </dt> <dd>
<p>The WSGI environment containing HTTP headers and information from the WSGI server.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.files">
<code>property files: ImmutableMultiDict[str, FileStorage]</code> </dt> <dd>
<p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.MultiDict" title="(in Werkzeug v2.3.x)"><code>MultiDict</code></a> object containing all uploaded files. Each key in <a class="reference internal" href="#flask.Request.files" title="flask.Request.files"><code>files</code></a> is the name from the <code>&lt;input type="file" name=""&gt;</code>. Each value in <a class="reference internal" href="#flask.Request.files" title="flask.Request.files"><code>files</code></a> is a Werkzeug <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.FileStorage" title="(in Werkzeug v2.3.x)"><code>FileStorage</code></a> object.</p> <p>It basically behaves like a standard file object you know from Python, with the difference that it also has a <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.FileStorage.save" title="(in Werkzeug v2.3.x)"><code>save()</code></a> function that can store the file on the filesystem.</p> <p>Note that <a class="reference internal" href="#flask.Request.files" title="flask.Request.files"><code>files</code></a> will only contain data if the request method was POST, PUT or PATCH and the <code>&lt;form&gt;</code> that posted to the request had <code>enctype="multipart/form-data"</code>. It will be empty otherwise.</p> <p>See the <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.MultiDict" title="(in Werkzeug v2.3.x)"><code>MultiDict</code></a> / <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.FileStorage" title="(in Werkzeug v2.3.x)"><code>FileStorage</code></a> documentation for more details about the used data structure.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.form">
<code>property form: ImmutableMultiDict[str, str]</code> </dt> <dd>
<p>The form parameters. By default an <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict" title="(in Werkzeug v2.3.x)"><code>ImmutableMultiDict</code></a> is returned from this function. This can be changed by setting <a class="reference internal" href="#flask.Request.parameter_storage_class" title="flask.Request.parameter_storage_class"><code>parameter_storage_class</code></a> to a different type. This might be necessary if the order of the form data is important.</p> <p>Please keep in mind that file uploads will not end up here, but instead in the <a class="reference internal" href="#flask.Request.files" title="flask.Request.files"><code>files</code></a> attribute.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>Previous to Werkzeug 0.9 this would only contain form data for POST and PUT requests.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.form_data_parser_class">
<code>form_data_parser_class</code> </dt> <dd>
<p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/http/#werkzeug.formparser.FormDataParser" title="(in Werkzeug v2.3.x)"><code>FormDataParser</code></a></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Request.from_values">
<code>classmethod from_values(*args, **kwargs)</code> </dt> <dd>
<p>Create a new request object based on the values provided. If environ is given missing values are filled from there. This method is useful for small scripts when you need to simulate a request from an URL. Do not use this method for unittesting, there is a full featured client object (<code>Client</code>) that allows to create multipart requests, support for cookies etc.</p> <p>This accepts the same options as the <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/test/#werkzeug.test.EnvironBuilder" title="(in Werkzeug v2.3.x)"><code>EnvironBuilder</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.5: </span>This method now accepts the same arguments as <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/test/#werkzeug.test.EnvironBuilder" title="(in Werkzeug v2.3.x)"><code>EnvironBuilder</code></a>. Because of this the <code>environ</code> parameter is now called <code>environ_overrides</code>.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Returns<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>request object</p> </dd> <dt class="field-even">Parameters<span class="colon">:</span>
</dt> <dd class="field-even">
<ul class="simple"> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/wrappers/#werkzeug.wrappers.Request" title="(in Werkzeug v2.3.x)">Request</a></p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.full_path">
<code>property full_path: str</code> </dt> <dd>
<p>Requested path, including the query string.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Request.get_data">
<code>get_data(cache=True, as_text=False, parse_form_data=False)</code> </dt> <dd>
<p>This reads the buffered incoming data from the client into one bytes object. By default this is cached but that behavior can be changed by setting <code>cache</code> to <code>False</code>.</p> <p>Usually it’s a bad idea to call this method without checking the content length first as a client could send dozens of megabytes or more to cause memory problems on the server.</p> <p>Note that if the form data was already parsed this method will not return anything as form data parsing does not cache the data like this method does. To implicitly invoke form data parsing function set <code>parse_form_data</code> to <code>True</code>. When this is done the return value of this method will be an empty string if the form parser handles the data. This generally is not necessary as if the whole data is cached (which is the default) the form parser will used the cached data to parse the form data. Please be generally aware of checking the content length first in any case before calling this method to avoid exhausting server memory.</p> <p>If <code>as_text</code> is set to <code>True</code> the return value will be a decoded string.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> <li>
<strong>as_text</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> <li>
<strong>parse_form_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Request.get_json">
<code>get_json(force=False, silent=False, cache=True)</code> </dt> <dd>
<p>Parse <a class="reference internal" href="#flask.Request.data" title="flask.Request.data"><code>data</code></a> as JSON.</p> <p>If the mimetype does not indicate JSON (<em class="mimetype">application/json</em>, see <a class="reference internal" href="#flask.Request.is_json" title="flask.Request.is_json"><code>is_json</code></a>), or parsing fails, <a class="reference internal" href="#flask.Request.on_json_loading_failed" title="flask.Request.on_json_loading_failed"><code>on_json_loading_failed()</code></a> is called and its return value is used as the return value. By default this raises a 415 Unsupported Media Type resp.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Ignore the mimetype and always try to parse JSON.</li> <li>
<strong>silent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Silence mimetype and parsing errors, and return <code>None</code> instead.</li> <li>
<strong>cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Store the parsed JSON to return for subsequent calls.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a> | None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>Raise a 415 error instead of 400.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1: </span>Raise a 400 error if the content type is incorrect.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.headers">
<code>headers</code> </dt> <dd>
<p>The headers received with the request.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.host">
<code>property host: str</code> </dt> <dd>
<p>The host name the request was made to, including the port if it’s non-standard. Validated with <a class="reference internal" href="#flask.Request.trusted_hosts" title="flask.Request.trusted_hosts"><code>trusted_hosts</code></a>.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.host_url">
<code>property host_url: str</code> </dt> <dd>
<p>The request URL scheme and host only.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.if_match">
<code>property if_match: ETags</code> </dt> <dd>
<p>An object containing all the etags in the <code>If-Match</code> header.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.ETags" title="(in Werkzeug v2.3.x)"><code>ETags</code></a></p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.if_modified_since">
<code>property if_modified_since: datetime | None</code> </dt> <dd>
<p>The parsed <code>If-Modified-Since</code> header as a datetime object.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.if_none_match">
<code>property if_none_match: ETags</code> </dt> <dd>
<p>An object containing all the etags in the <code>If-None-Match</code> header.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.ETags" title="(in Werkzeug v2.3.x)"><code>ETags</code></a></p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.if_range">
<code>property if_range: IfRange</code> </dt> <dd>
<p>The parsed <code>If-Range</code> header.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span><code>IfRange.date</code> is timezone-aware.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.if_unmodified_since">
<code>property if_unmodified_since: datetime | None</code> </dt> <dd>
<p>The parsed <code>If-Unmodified-Since</code> header as a datetime object.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.input_stream">
<code>input_stream</code> </dt> <dd>
<p>The raw WSGI input stream, without any safety checks.</p> <p>This is dangerous to use. It does not guard against infinite streams or reading past <a class="reference internal" href="#flask.Request.content_length" title="flask.Request.content_length"><code>content_length</code></a> or <a class="reference internal" href="#flask.Request.max_content_length" title="flask.Request.max_content_length"><code>max_content_length</code></a>.</p> <p>Use <a class="reference internal" href="#flask.Request.stream" title="flask.Request.stream"><code>stream</code></a> instead.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.is_json">
<code>property is_json: bool</code> </dt> <dd>
<p>Check if the mimetype indicates JSON data, either <em class="mimetype">application/json</em> or <em class="mimetype">application/*+json</em>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.is_multiprocess">
<code>is_multiprocess</code> </dt> <dd>
<p>boolean that is <code>True</code> if the application is served by a WSGI server that spawns multiple processes.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.is_multithread">
<code>is_multithread</code> </dt> <dd>
<p>boolean that is <code>True</code> if the application is served by a multithreaded WSGI server.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.is_run_once">
<code>is_run_once</code> </dt> <dd>
<p>boolean that is <code>True</code> if the application will be executed only once in a process lifetime. This is the case for CGI for example, but it’s not guaranteed that the execution only happens one time.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.is_secure">
<code>property is_secure: bool</code> </dt> <dd>
<p><code>True</code> if the request was made with a secure protocol (HTTPS or WSS).</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.json">
<code>property json: Any | None</code> </dt> <dd>
<p>The parsed JSON data if <a class="reference internal" href="#flask.Request.mimetype" title="flask.Request.mimetype"><code>mimetype</code></a> indicates JSON (<em class="mimetype">application/json</em>, see <a class="reference internal" href="#flask.Request.is_json" title="flask.Request.is_json"><code>is_json</code></a>).</p> <p>Calls <a class="reference internal" href="#flask.Request.get_json" title="flask.Request.get_json"><code>get_json()</code></a> with default arguments.</p> <p>If the request content type is not <code>application/json</code>, this will raise a 415 Unsupported Media Type error.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>Raise a 415 error instead of 400.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1: </span>Raise a 400 error if the content type is incorrect.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.list_storage_class">
<code>list_storage_class</code> </dt> <dd>
<p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.ImmutableList" title="(in Werkzeug v2.3.x)"><code>ImmutableList</code></a></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Request.make_form_data_parser">
<code>make_form_data_parser()</code> </dt> <dd>
<p>Creates the form data parser. Instantiates the <a class="reference internal" href="#flask.Request.form_data_parser_class" title="flask.Request.form_data_parser_class"><code>form_data_parser_class</code></a> with some parameters.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/http/#werkzeug.formparser.FormDataParser" title="(in Werkzeug v2.3.x)">FormDataParser</a></p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.max_content_length">
<code>property max_content_length: int | None</code> </dt> <dd>
<p>Read-only view of the <code>MAX_CONTENT_LENGTH</code> config key.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.max_form_memory_size">
<code>max_form_memory_size: int | None = None</code> </dt> <dd>
<p>the maximum form field size. This is forwarded to the form data parsing function (<code>parse_form_data()</code>). When set and the <a class="reference internal" href="#flask.Request.form" title="flask.Request.form"><code>form</code></a> or <a class="reference internal" href="#flask.Request.files" title="flask.Request.files"><code>files</code></a> attribute is accessed and the data in memory for post data is longer than the specified value a <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.RequestEntityTooLarge" title="(in Werkzeug v2.3.x)"><code>RequestEntityTooLarge</code></a> exception is raised.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.max_form_parts">
<code>max_form_parts = 1000</code> </dt> <dd>
<p>The maximum number of multipart parts to parse, passed to <a class="reference internal" href="#flask.Request.form_data_parser_class" title="flask.Request.form_data_parser_class"><code>form_data_parser_class</code></a>. Parsing form data with more than this many parts will raise <code>RequestEntityTooLarge</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2.3.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.max_forwards">
<code>max_forwards</code> </dt> <dd>
<p>The Max-Forwards request-header field provides a mechanism with the TRACE and OPTIONS methods to limit the number of proxies or gateways that can forward the request to the next inbound server.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.method">
<code>method</code> </dt> <dd>
<p>The method the request was made with, such as <code>GET</code>.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.mimetype">
<code>property mimetype: str</code> </dt> <dd>
<p>Like <a class="reference internal" href="#flask.Request.content_type" title="flask.Request.content_type"><code>content_type</code></a>, but without parameters (eg, without charset, type etc.) and always lowercase. For example if the content type is <code>text/HTML; charset=utf-8</code> the mimetype would be <code>'text/html'</code>.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.mimetype_params">
<code>property mimetype_params: dict[str, str]</code> </dt> <dd>
<p>The mimetype parameters as dict. For example if the content type is <code>text/html; charset=utf-8</code> the params would be <code>{'charset': 'utf-8'}</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Request.on_json_loading_failed">
<code>on_json_loading_failed(e)</code> </dt> <dd>
<p>Called if <a class="reference internal" href="#flask.Request.get_json" title="flask.Request.get_json"><code>get_json()</code></a> fails and isn’t silenced.</p> <p>If this method returns a value, it is used as the return value for <a class="reference internal" href="#flask.Request.get_json" title="flask.Request.get_json"><code>get_json()</code></a>. The default implementation raises <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.BadRequest" title="(in Werkzeug v2.3.x)"><code>BadRequest</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>e</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)">ValueError</a><em> | </em><em>None</em>) – If parsing failed, this is the exception. It will be <code>None</code> if the content type wasn’t <code>application/json</code>.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>Raise a 415 error instead of 400.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.origin">
<code>origin</code> </dt> <dd>
<p>The host that the request originated from. Set <code>access_control_allow_origin</code> on the response to indicate which origins are allowed.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.parameter_storage_class">
<code>parameter_storage_class</code> </dt> <dd>
<p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict" title="(in Werkzeug v2.3.x)"><code>ImmutableMultiDict</code></a></p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.path">
<code>path</code> </dt> <dd>
<p>The path part of the URL after <a class="reference internal" href="#flask.Request.root_path" title="flask.Request.root_path"><code>root_path</code></a>. This is the path used for routing within the application.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.pragma">
<code>property pragma: HeaderSet</code> </dt> <dd>
<p>The Pragma general-header field is used to include implementation-specific directives that might apply to any recipient along the request/response chain. All pragma directives specify optional behavior from the viewpoint of the protocol; however, some systems MAY require that behavior be consistent with the directives.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.query_string">
<code>query_string</code> </dt> <dd>
<p>The part of the URL after the “?”. This is the raw value, use <a class="reference internal" href="#flask.Request.args" title="flask.Request.args"><code>args</code></a> for the parsed values.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.range">
<code>property range: Range | None</code> </dt> <dd>
<p>The parsed <code>Range</code> header.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.Range" title="(in Werkzeug v2.3.x)"><code>Range</code></a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.referrer">
<code>referrer</code> </dt> <dd>
<p>The Referer[sic] request-header field allows the client to specify, for the server’s benefit, the address (URI) of the resource from which the Request-URI was obtained (the “referrer”, although the header field is misspelled).</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.remote_addr">
<code>remote_addr</code> </dt> <dd>
<p>The address of the client sending the request.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.remote_user">
<code>remote_user</code> </dt> <dd>
<p>If the server supports user authentication, and the script is protected, this attribute contains the username the user has authenticated as.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.root_path">
<code>root_path</code> </dt> <dd>
<p>The prefix that the application is mounted under, without a trailing slash. <a class="reference internal" href="#flask.Request.path" title="flask.Request.path"><code>path</code></a> comes after this.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.root_url">
<code>property root_url: str</code> </dt> <dd>
<p>The request URL scheme, host, and root path. This is the root that the application is accessed from.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.routing_exception">
<code>routing_exception: Exception | None = None</code> </dt> <dd>
<p>If matching the URL failed, this is the exception that will be raised / was raised as part of the request handling. This is usually a <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.NotFound" title="(in Werkzeug v2.3.x)"><code>NotFound</code></a> exception or something similar.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.scheme">
<code>scheme</code> </dt> <dd>
<p>The URL scheme of the protocol the request used, such as <code>https</code> or <code>wss</code>.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.script_root">
<code>property script_root: str</code> </dt> <dd>
<p>Alias for <code>self.root_path</code>. <code>environ["SCRIPT_ROOT"]</code> without a trailing slash.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.server">
<code>server</code> </dt> <dd>
<p>The address of the server. <code>(host, port)</code>, <code>(path, None)</code> for unix sockets, or <code>None</code> if not known.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.shallow">
<code>shallow: bool</code> </dt> <dd>
<p>Set when creating the request object. If <code>True</code>, reading from the request body will cause a <code>RuntimeException</code>. Useful to prevent modifying the stream from middleware.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.stream">
<code>property stream: IO[bytes]</code> </dt> <dd>
<p>The WSGI input stream, with safety checks. This stream can only be consumed once.</p> <p>Use <a class="reference internal" href="#flask.Request.get_data" title="flask.Request.get_data"><code>get_data()</code></a> to get the full data as bytes or text. The <a class="reference internal" href="#flask.Request.data" title="flask.Request.data"><code>data</code></a> attribute will contain the full bytes only if they do not represent form data. The <a class="reference internal" href="#flask.Request.form" title="flask.Request.form"><code>form</code></a> attribute will contain the parsed form data in that case.</p> <p>Unlike <a class="reference internal" href="#flask.Request.input_stream" title="flask.Request.input_stream"><code>input_stream</code></a>, this stream guards against infinite streams or reading past <a class="reference internal" href="#flask.Request.content_length" title="flask.Request.content_length"><code>content_length</code></a> or <a class="reference internal" href="#flask.Request.max_content_length" title="flask.Request.max_content_length"><code>max_content_length</code></a>.</p> <p>If <code>max_content_length</code> is set, it can be enforced on streams if <code>wsgi.input_terminated</code> is set. Otherwise, an empty stream is returned.</p> <p>If the limit is reached before the underlying stream is exhausted (such as a file that is too large, or an infinite stream), the remaining contents of the stream cannot be read safely. Depending on how the server handles this, clients may show a “connection reset” failure instead of seeing the 413 response.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>Check <code>max_content_length</code> preemptively and while reading.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>The stream is always set (but may be consumed) even if form parsing was accessed first.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.trusted_hosts">
<code>trusted_hosts: list[str] | None = None</code> </dt> <dd>
<p>Valid host names when handling requests. By default all hosts are trusted, which means that whatever the client says the host is will be accepted.</p> <p>Because <code>Host</code> and <code>X-Forwarded-Host</code> headers can be set to any value by a malicious client, it is recommended to either set this property or implement similar validation in the proxy (if the application is being run behind one).</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.url">
<code>property url: str</code> </dt> <dd>
<p>The full request URL with the scheme, host, root path, path, and query string.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.url_root">
<code>property url_root: str</code> </dt> <dd>
<p>Alias for <a class="reference internal" href="#flask.Request.root_url" title="flask.Request.root_url"><code>root_url</code></a>. The URL with scheme, host, and root path. For example, <code>https://example.com/app/</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.url_rule">
<code>url_rule: Rule | None = None</code> </dt> <dd>
<p>The internal URL rule that matched the request. This can be useful to inspect which methods are allowed for the URL from a before/after handler (<code>request.url_rule.methods</code>) etc. Though if the request’s method was invalid for the URL rule, the valid list is available in <code>routing_exception.valid_methods</code> instead (an attribute of the Werkzeug exception <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.MethodNotAllowed" title="(in Werkzeug v2.3.x)"><code>MethodNotAllowed</code></a>) because the request was never internally bound.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.6.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.user_agent">
<code>property user_agent: UserAgent</code> </dt> <dd>
<p>The user agent. Use <code>user_agent.string</code> to get the header value. Set <a class="reference internal" href="#flask.Request.user_agent_class" title="flask.Request.user_agent_class"><code>user_agent_class</code></a> to a subclass of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/utils/#werkzeug.user_agent.UserAgent" title="(in Werkzeug v2.3.x)"><code>UserAgent</code></a> to provide parsing for the other properties or other extended data.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1: </span>The built-in parser was removed. Set <code>user_agent_class</code> to a <code>UserAgent</code> subclass to parse data from the string.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.user_agent_class">
<code>user_agent_class</code> </dt> <dd>
<p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/utils/#werkzeug.user_agent.UserAgent" title="(in Werkzeug v2.3.x)"><code>UserAgent</code></a></p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.values">
<code>property values: CombinedMultiDict[str, str]</code> </dt> <dd>
<p>A <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.CombinedMultiDict" title="(in Werkzeug v2.3.x)"><code>werkzeug.datastructures.CombinedMultiDict</code></a> that combines <a class="reference internal" href="#flask.Request.args" title="flask.Request.args"><code>args</code></a> and <a class="reference internal" href="#flask.Request.form" title="flask.Request.form"><code>form</code></a>.</p> <p>For GET requests, only <code>args</code> are present, not <code>form</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>For GET requests, only <code>args</code> are present, not <code>form</code>.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Request.view_args">
<code>view_args: dict[str, t.Any] | None = None</code> </dt> <dd>
<p>A dict of view arguments that matched the request. If an exception happened when matching, this will be <code>None</code>.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Request.want_form_data_parsed">
<code>property want_form_data_parsed: bool</code> </dt> <dd>
<p><code>True</code> if the request method carries content. By default this is true if a <code>Content-Type</code> is sent.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details>
</dd>
</dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.request">
<code>flask.request</code> </dt> <dd>
<p>To access incoming request data, you can use the global <code>request</code> object. Flask parses incoming request data for you and gives you access to it through that global object. Internally Flask makes sure that you always get the correct data for the active thread if you are in a multithreaded environment.</p> <p>This is a proxy. See <a class="reference internal" href="../reqcontext/index.html#notes-on-proxies"><span class="std std-ref">Notes On Proxies</span></a> for more information.</p> <p>The request object is an instance of a <a class="reference internal" href="#flask.Request" title="flask.Request"><code>Request</code></a>.</p> </dd>
</dl> </section> <section id="response-objects"> <h2>Response Objects</h2> <dl class="py class"> <dt class="sig sig-object py" id="flask.Response">
<code>class flask.Response(response=None, status=None, headers=None, mimetype=None, content_type=None, direct_passthrough=False)</code> </dt> <dd>
<p>The response object that is used by default in Flask. Works like the response object from Werkzeug but is set to have an HTML mimetype by default. Quite often you don’t have to create this object yourself because <a class="reference internal" href="#flask.Flask.make_response" title="flask.Flask.make_response"><code>make_response()</code></a> will take care of that for you.</p> <p>If you want to replace the response object used you can subclass this and set <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code>response_class</code></a> to your subclass.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span>JSON support is added to the response, like the request. This is useful when testing to get the test client response data as JSON.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span>Added <a class="reference internal" href="#flask.Response.max_cookie_size" title="flask.Response.max_cookie_size"><code>max_cookie_size</code></a>.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>response</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)">Iterable</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)">Iterable</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a><em>]</em>) – </li> <li>
<strong>status</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>HTTPStatus</em><em> | </em><em>None</em>) – </li> <li>
<strong>headers</strong> (<a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.Headers" title="(in Werkzeug v2.3.x)">Headers</a>) – </li> <li>
<strong>mimetype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> <li>
<strong>content_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> <li>
<strong>direct_passthrough</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> </ul> </dd> </dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.accept_ranges">
<code>accept_ranges</code> </dt> <dd>
<p>The <code>Accept-Ranges</code> header. Even though the name would indicate that multiple values are supported, it must be one string token only.</p> <p>The values <code>'bytes'</code> and <code>'none'</code> are common.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.access_control_allow_credentials">
<code>property access_control_allow_credentials: bool</code> </dt> <dd>
<p>Whether credentials can be shared by the browser to JavaScript code. As part of the preflight request it indicates whether credentials can be used on the cross origin request.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.access_control_allow_headers">
<code>access_control_allow_headers</code> </dt> <dd>
<p>Which headers can be sent with the cross origin request.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.access_control_allow_methods">
<code>access_control_allow_methods</code> </dt> <dd>
<p>Which methods can be used for the cross origin request.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.access_control_allow_origin">
<code>access_control_allow_origin</code> </dt> <dd>
<p>The origin or ‘*’ for any origin that may make cross origin requests.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.access_control_expose_headers">
<code>access_control_expose_headers</code> </dt> <dd>
<p>Which headers can be shared by the browser to JavaScript code.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.access_control_max_age">
<code>access_control_max_age</code> </dt> <dd>
<p>The maximum age in seconds the access control settings can be cached for.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.add_etag">
<code>add_etag(overwrite=False, weak=False)</code> </dt> <dd>
<p>Add an etag for the current response if there is none yet.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>SHA-1 is used to generate the value. MD5 may not be available in some environments.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>overwrite</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> <li>
<strong>weak</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.age">
<code>age</code> </dt> <dd>
<p>The Age response-header field conveys the sender’s estimate of the amount of time since the response (or its revalidation) was generated at the origin server.</p> <p>Age values are non-negative decimal integers, representing time in seconds.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.allow">
<code>property allow: HeaderSet</code> </dt> <dd>
<p>The Allow entity-header field lists the set of methods supported by the resource identified by the Request-URI. The purpose of this field is strictly to inform the recipient of valid methods associated with the resource. An Allow header field MUST be present in a 405 (Method Not Allowed) response.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.autocorrect_location_header">
<code>autocorrect_location_header = False</code> </dt> <dd>
<p>If a redirect <code>Location</code> header is a relative URL, make it an absolute URL, including scheme and domain.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1: </span>This is disabled by default, so responses will send relative redirects.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.automatically_set_content_length">
<code>automatically_set_content_length = True</code> </dt> <dd>
<p>Should this response object automatically set the content-length header if possible? This is true by default.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.cache_control">
<code>property cache_control: ResponseCacheControl</code> </dt> <dd>
<p>The Cache-Control general-header field is used to specify directives that MUST be obeyed by all caching mechanisms along the request/response chain.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.calculate_content_length">
<code>calculate_content_length()</code> </dt> <dd>
<p>Returns the content length if available or <code>None</code> otherwise.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a> | None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.call_on_close">
<code>call_on_close(func)</code> </dt> <dd>
<p>Adds a function to the internal list of functions that should be called as part of closing down the response. Since 0.7 this function also returns the function that was passed so that this can be used as a decorator.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.6.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em>]</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.close">
<code>close()</code> </dt> <dd>
<p>Close the wrapped response if possible. You can also use the object in a with statement which will automatically close it.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9: </span>Can now be used in a with statement.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.content_encoding">
<code>content_encoding</code> </dt> <dd>
<p>The Content-Encoding entity-header field is used as a modifier to the media-type. When present, its value indicates what additional content codings have been applied to the entity-body, and thus what decoding mechanisms must be applied in order to obtain the media-type referenced by the Content-Type header field.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.content_language">
<code>property content_language: HeaderSet</code> </dt> <dd>
<p>The Content-Language entity-header field describes the natural language(s) of the intended audience for the enclosed entity. Note that this might not be equivalent to all the languages used within the entity-body.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.content_length">
<code>content_length</code> </dt> <dd>
<p>The Content-Length entity-header field indicates the size of the entity-body, in decimal number of OCTETs, sent to the recipient or, in the case of the HEAD method, the size of the entity-body that would have been sent had the request been a GET.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.content_location">
<code>content_location</code> </dt> <dd>
<p>The Content-Location entity-header field MAY be used to supply the resource location for the entity enclosed in the message when that entity is accessible from a location separate from the requested resource’s URI.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.content_md5">
<code>content_md5</code> </dt> <dd>
<p>The Content-MD5 entity-header field, as defined in RFC 1864, is an MD5 digest of the entity-body for the purpose of providing an end-to-end message integrity check (MIC) of the entity-body. (Note: a MIC is good for detecting accidental modification of the entity-body in transit, but is not proof against malicious attacks.)</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.content_range">
<code>property content_range: ContentRange</code> </dt> <dd>
<p>The <code>Content-Range</code> header as a <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.ContentRange" title="(in Werkzeug v2.3.x)"><code>ContentRange</code></a> object. Available even if the header is not set.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.content_security_policy">
<code>property content_security_policy: ContentSecurityPolicy</code> </dt> <dd>
<p>The <code>Content-Security-Policy</code> header as a <code>ContentSecurityPolicy</code> object. Available even if the header is not set.</p> <p>The Content-Security-Policy header adds an additional layer of security to help detect and mitigate certain types of attacks.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.content_security_policy_report_only">
<code>property content_security_policy_report_only: ContentSecurityPolicy</code> </dt> <dd>
<p>The <code>Content-Security-policy-report-only</code> header as a <code>ContentSecurityPolicy</code> object. Available even if the header is not set.</p> <p>The Content-Security-Policy-Report-Only header adds a csp policy that is not enforced but is reported thereby helping detect certain types of attacks.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.content_type">
<code>content_type</code> </dt> <dd>
<p>The Content-Type entity-header field indicates the media type of the entity-body sent to the recipient or, in the case of the HEAD method, the media type that would have been sent had the request been a GET.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.cross_origin_embedder_policy">
<code>cross_origin_embedder_policy</code> </dt> <dd>
<p>Prevents a document from loading any cross-origin resources that do not explicitly grant the document permission. Values must be a member of the <code>werkzeug.http.COEP</code> enum.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.cross_origin_opener_policy">
<code>cross_origin_opener_policy</code> </dt> <dd>
<p>Allows control over sharing of browsing context group with cross-origin documents. Values must be a member of the <code>werkzeug.http.COOP</code> enum.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.data">
<code>property data: bytes | str</code> </dt> <dd>
<p>A descriptor that calls <a class="reference internal" href="#flask.Response.get_data" title="flask.Response.get_data"><code>get_data()</code></a> and <a class="reference internal" href="#flask.Response.set_data" title="flask.Response.set_data"><code>set_data()</code></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.date">
<code>date</code> </dt> <dd>
<p>The Date general-header field represents the date and time at which the message was originated, having the same semantics as orig-date in RFC 822.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.default_mimetype">
<code>default_mimetype: str | None = 'text/html'</code> </dt> <dd>
<p>the default mimetype if none is provided.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.default_status">
<code>default_status = 200</code> </dt> <dd>
<p>the default status if none is provided.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.delete_cookie">
<code>delete_cookie(key, path='/', domain=None, secure=False, httponly=False, samesite=None)</code> </dt> <dd>
<p>Delete a cookie. Fails silently if key doesn’t exist.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – the key (name) of the cookie to be deleted.</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – if the cookie that should be deleted was limited to a path, the path has to be defined here.</li> <li>
<strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – if the cookie that should be deleted was limited to a domain, that domain has to be defined here.</li> <li>
<strong>secure</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – If <code>True</code>, the cookie will only be available via HTTPS.</li> <li>
<strong>httponly</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Disallow JavaScript access to the cookie.</li> <li>
<strong>samesite</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – Limit the scope of the cookie to only be attached to requests that are “same-site”.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.direct_passthrough">
<code>direct_passthrough</code> </dt> <dd>
<p>Pass the response body directly through as the WSGI iterable. This can be used when the body is a binary file or other iterator of bytes, to skip some unnecessary checks. Use <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/utils/#werkzeug.utils.send_file" title="(in Werkzeug v2.3.x)"><code>send_file()</code></a> instead of setting this manually.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.expires">
<code>expires</code> </dt> <dd>
<p>The Expires entity-header field gives the date/time after which the response is considered stale. A stale cache entry may not normally be returned by a cache.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.force_type">
<code>classmethod force_type(response, environ=None)</code> </dt> <dd>
<p>Enforce that the WSGI response is a response object of the current type. Werkzeug will use the <a class="reference internal" href="#flask.Response" title="flask.Response"><code>Response</code></a> internally in many situations like the exceptions. If you call <code>get_response()</code> on an exception you will get back a regular <a class="reference internal" href="#flask.Response" title="flask.Response"><code>Response</code></a> object, even if you are using a custom subclass.</p> <p>This method can enforce a given response type, and it will also convert arbitrary WSGI callables into response objects if an environ is provided:</p> <pre data-language="python"># convert a Werkzeug response object into an instance of the
# MyResponseClass subclass.
response = MyResponseClass.force_type(response)

# convert any WSGI application into a response object
response = MyResponseClass.force_type(response, environ)
</pre> <p>This is especially useful if you want to post-process responses in the main dispatcher and use functionality provided by your subclass.</p> <p>Keep in mind that this will modify response objects in place if possible!</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>response</strong> (<a class="reference internal" href="#flask.Response" title="flask.Response">Response</a>) – a response object or wsgi application.</li> <li>
<strong>environ</strong> (<em>WSGIEnvironment</em><em> | </em><em>None</em>) – a WSGI environment object.</li> </ul> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>a response object.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.freeze">
<code>freeze()</code> </dt> <dd>
<p>Make the response object ready to be pickled. Does the following:</p> <ul class="simple"> <li>Buffer the response into a list, ignoring <code>implicity_sequence_conversion</code> and <a class="reference internal" href="#flask.Response.direct_passthrough" title="flask.Response.direct_passthrough"><code>direct_passthrough</code></a>.</li> <li>Set the <code>Content-Length</code> header.</li> <li>Generate an <code>ETag</code> header if one is not already set.</li> </ul> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1: </span>Removed the <code>no_etag</code> parameter.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>An <code>ETag</code> header is always added.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.6: </span>The <code>Content-Length</code> header is set.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.from_app">
<code>classmethod from_app(app, environ, buffered=False)</code> </dt> <dd>
<p>Create a new response object from an application output. This works best if you pass it an application that returns a generator all the time. Sometimes applications may use the <code>write()</code> callable returned by the <code>start_response</code> function. This tries to resolve such edge cases automatically. But if you don’t get the expected output you should set <code>buffered</code> to <code>True</code> which enforces buffering.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<em>WSGIApplication</em>) – the WSGI application to execute.</li> <li>
<strong>environ</strong> (<em>WSGIEnvironment</em>) – the WSGI environment to execute against.</li> <li>
<strong>buffered</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – set to <code>True</code> to enforce buffering.</li> </ul> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>a response object.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.get_app_iter">
<code>get_app_iter(environ)</code> </dt> <dd>
<p>Returns the application iterator for the given environ. Depending on the request method and the current status code the return value might be an empty response rather than the one from the response.</p> <p>If the request method is <code>HEAD</code> or the status code is in a range where the HTTP specification requires an empty response, an empty iterable is returned.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.6.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>environ</strong> (<em>WSGIEnvironment</em>) – the WSGI environment of the request.</p> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>a response iterable.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>t.Iterable[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.get_data">
<code>get_data(as_text=False)</code> </dt> <dd>
<p>The string representation of the response body. Whenever you call this property the response iterable is encoded and flattened. This can lead to unwanted behavior if you stream big data.</p> <p>This behavior can be disabled by setting <a class="reference internal" href="#flask.Response.implicit_sequence_conversion" title="flask.Response.implicit_sequence_conversion"><code>implicit_sequence_conversion</code></a> to <code>False</code>.</p> <p>If <code>as_text</code> is set to <code>True</code> the return value will be a decoded string.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>as_text</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.get_etag">
<code>get_etag()</code> </dt> <dd>
<p>Return a tuple in the form <code>(etag, is_weak)</code>. If there is no ETag the return value is <code>(None, None)</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[None, None]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.get_json">
<code>get_json(force=False, silent=False)</code> </dt> <dd>
<p>Parse <a class="reference internal" href="#flask.Response.data" title="flask.Response.data"><code>data</code></a> as JSON. Useful during testing.</p> <p>If the mimetype does not indicate JSON (<em class="mimetype">application/json</em>, see <a class="reference internal" href="#flask.Response.is_json" title="flask.Response.is_json"><code>is_json</code></a>), this returns <code>None</code>.</p> <p>Unlike <a class="reference internal" href="#flask.Request.get_json" title="flask.Request.get_json"><code>Request.get_json()</code></a>, the result is not cached.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Ignore the mimetype and always try to parse JSON.</li> <li>
<strong>silent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Silence parsing errors and return <code>None</code> instead.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a> | None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.get_wsgi_headers">
<code>get_wsgi_headers(environ)</code> </dt> <dd>
<p>This is automatically called right before the response is started and returns headers modified for the given environment. It returns a copy of the headers from the response with some modifications applied if necessary.</p> <p>For example the location header (if present) is joined with the root URL of the environment. Also the content length is automatically set to zero here for certain status codes.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.6: </span>Previously that function was called <code>fix_headers</code> and modified the response object in place. Also since 0.6, IRIs in location and content-location headers are handled properly.</p> <p>Also starting with 0.6, Werkzeug will attempt to set the content length if it is able to figure it out on its own. This is the case if all the strings in the response iterable are already encoded and the iterable is buffered.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>environ</strong> (<em>WSGIEnvironment</em>) – the WSGI environment of the request.</p> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>returns a new <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/datastructures/#werkzeug.datastructures.Headers" title="(in Werkzeug v2.3.x)"><code>Headers</code></a> object.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>Headers</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.get_wsgi_response">
<code>get_wsgi_response(environ)</code> </dt> <dd>
<p>Returns the final WSGI response as tuple. The first item in the tuple is the application iterator, the second the status and the third the list of headers. The response returned is created specially for the given environment. For example if the request method in the WSGI environment is <code>'HEAD'</code> the response will be empty and only the headers and status code will be present.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.6.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>environ</strong> (<em>WSGIEnvironment</em>) – the WSGI environment of the request.</p> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>an <code>(app_iter, status, headers)</code> tuple.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[t.Iterable[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a>], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>]]]</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.implicit_sequence_conversion">
<code>implicit_sequence_conversion = True</code> </dt> <dd>
<p>if set to <code>False</code> accessing properties on the response object will not try to consume the response iterator and convert it into a list.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.6.2: </span>That attribute was previously called <code>implicit_seqence_conversion</code>. (Notice the typo). If you did use this feature, you have to adapt your code to the name change.</p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.is_json">
<code>property is_json: bool</code> </dt> <dd>
<p>Check if the mimetype indicates JSON data, either <em class="mimetype">application/json</em> or <em class="mimetype">application/*+json</em>.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.is_sequence">
<code>property is_sequence: bool</code> </dt> <dd>
<p>If the iterator is buffered, this property will be <code>True</code>. A response object will consider an iterator to be buffered if the response attribute is a list or tuple.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.6.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.is_streamed">
<code>property is_streamed: bool</code> </dt> <dd>
<p>If the response is streamed (the response is not an iterable with a length information) this property is <code>True</code>. In this case streamed means that there is no information about the number of iterations. This is usually <code>True</code> if a generator is passed to the response object.</p> <p>This is useful for checking before applying some sort of post filtering that should not take place for streamed responses.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.iter_encoded">
<code>iter_encoded()</code> </dt> <dd>
<p>Iter the response encoded with the encoding of the response. If the response object is invoked as WSGI application the return value of this method is used as application iterator unless <a class="reference internal" href="#flask.Response.direct_passthrough" title="flask.Response.direct_passthrough"><code>direct_passthrough</code></a> was activated.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.11)">Iterator</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.json">
<code>property json: Any | None</code> </dt> <dd>
<p>The parsed JSON data if <a class="reference internal" href="#flask.Response.mimetype" title="flask.Response.mimetype"><code>mimetype</code></a> indicates JSON (<em class="mimetype">application/json</em>, see <a class="reference internal" href="#flask.Response.is_json" title="flask.Response.is_json"><code>is_json</code></a>).</p> <p>Calls <a class="reference internal" href="#flask.Response.get_json" title="flask.Response.get_json"><code>get_json()</code></a> with default arguments.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.last_modified">
<code>last_modified</code> </dt> <dd>
<p>The Last-Modified entity-header field indicates the date and time at which the origin server believes the variant was last modified.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.location">
<code>location</code> </dt> <dd>
<p>The Location response-header field is used to redirect the recipient to a location other than the Request-URI for completion of the request or identification of a new resource.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.make_conditional">
<code>make_conditional(request_or_environ, accept_ranges=False, complete_length=None)</code> </dt> <dd>
<p>Make the response conditional to the request. This method works best if an etag was defined for the response already. The <code>add_etag</code> method can be used to do that. If called without etag just the date header is set.</p> <p>This does nothing if the request method in the request or environ is anything but GET or HEAD.</p> <p>For optimal performance when handling range requests, it’s recommended that your response data object implements <code>seekable</code>, <code>seek</code> and <code>tell</code> methods as described by <a class="reference external" href="https://docs.python.org/3/library/io.html#io.IOBase" title="(in Python v3.11)"><code>io.IOBase</code></a>. Objects returned by <code>wrap_file()</code> automatically implement those methods.</p> <p>It does not remove the body of the response because that’s something the <code>__call__()</code> function does for us automatically.</p> <p>Returns self so that you can do <code>return resp.make_conditional(req)</code> but modifies the object in-place.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>request_or_environ</strong> (<em>WSGIEnvironment</em><em> | </em><a class="reference internal" href="#flask.Request" title="flask.Request">Request</a>) – a request object or WSGI environment to be used to make the response conditional against.</li> <li>
<strong>accept_ranges</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – This parameter dictates the value of <code>Accept-Ranges</code> header. If <code>False</code> (default), the header is not set. If <code>True</code>, it will be set to <code>"bytes"</code>. If it’s a string, it will use this value.</li> <li>
<strong>complete_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a><em> | </em><em>None</em>) – Will be used only in valid Range Requests. It will set <code>Content-Range</code> complete length value and compute <code>Content-Length</code> real value. This parameter is mandatory for successful Range Requests completion.</li> </ul> </dd> <dt class="field-even">Raises<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.RequestedRangeNotSatisfiable" title="(in Werkzeug v2.3.x)"><code>RequestedRangeNotSatisfiable</code></a> if <code>Range</code> header could not be parsed or satisfied.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>Range processing is skipped if length is 0 instead of raising a 416 Range Not Satisfiable error.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.make_sequence">
<code>make_sequence()</code> </dt> <dd>
<p>Converts the response iterator in a list. By default this happens automatically if required. If <code>implicit_sequence_conversion</code> is disabled, this method is not automatically called and some properties might raise exceptions. This also encodes all the items.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.6.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.max_cookie_size">
<code>property max_cookie_size: int</code> </dt> <dd>
<p>Read-only view of the <a class="reference internal" href="../config/index.html#MAX_COOKIE_SIZE" title="MAX_COOKIE_SIZE"><code>MAX_COOKIE_SIZE</code></a> config key.</p> <p>See <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/wrappers/#werkzeug.wrappers.Response.max_cookie_size" title="(in Werkzeug v2.3.x)"><code>max_cookie_size</code></a> in Werkzeug’s docs.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.mimetype">
<code>property mimetype: str | None</code> </dt> <dd>
<p>The mimetype (content type without charset etc.)</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.mimetype_params">
<code>property mimetype_params: dict[str, str]</code> </dt> <dd>
<p>The mimetype parameters as dict. For example if the content type is <code>text/html; charset=utf-8</code> the params would be <code>{'charset': 'utf-8'}</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.Response.response">
<code>response: t.Iterable[str] | t.Iterable[bytes]</code> </dt> <dd>
<p>The response body to send as the WSGI iterable. A list of strings or bytes represents a fixed-length response, any other iterable is a streaming response. Strings are encoded to bytes as UTF-8.</p> <p>Do not set to a plain string or bytes, that will cause sending the response to be very inefficient as it will iterate one byte at a time.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.retry_after">
<code>property retry_after: datetime | None</code> </dt> <dd>
<p>The Retry-After response-header field can be used with a 503 (Service Unavailable) response to indicate how long the service is expected to be unavailable to the requesting client.</p> <p>Time in seconds until expiration or date.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The datetime object is timezone-aware.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.set_cookie">
<code>set_cookie(key, value='', max_age=None, expires=None, path='/', domain=None, secure=False, httponly=False, samesite=None)</code> </dt> <dd>
<p>Sets a cookie.</p> <p>A warning is raised if the size of the cookie header exceeds <a class="reference internal" href="#flask.Response.max_cookie_size" title="flask.Response.max_cookie_size"><code>max_cookie_size</code></a>, but the header will still be set.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – the key (name) of the cookie to be set.</li> <li>
<strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – the value of the cookie.</li> <li>
<strong>max_age</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.11)">timedelta</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a><em> | </em><em>None</em>) – should be a number of seconds, or <code>None</code> (default) if the cookie should last only as long as the client’s browser session.</li> <li>
<strong>expires</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)">datetime</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a><em> | </em><em>None</em>) – should be a <code>datetime</code> object or UNIX timestamp.</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – limits the cookie to a given path, per default it will span the whole domain.</li> <li>
<strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – if you want to set a cross-domain cookie. For example, <code>domain="example.com"</code> will set a cookie that is readable by the domain <code>www.example.com</code>, <code>foo.example.com</code> etc. Otherwise, a cookie will only be readable by the domain that set it.</li> <li>
<strong>secure</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – If <code>True</code>, the cookie will only be available via HTTPS.</li> <li>
<strong>httponly</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Disallow JavaScript access to the cookie.</li> <li>
<strong>samesite</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – Limit the scope of the cookie to only be attached to requests that are “same-site”.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.set_data">
<code>set_data(value)</code> </dt> <dd>
<p>Sets a new string as response. The value must be a string or bytes. If a string is set it’s encoded to the charset of the response (utf-8 by default).</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Response.set_etag">
<code>set_etag(etag, weak=False)</code> </dt> <dd>
<p>Set the etag, and override the old one if there was one.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>etag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>weak</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.status">
<code>property status: str</code> </dt> <dd>
<p>The HTTP status code as a string.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.status_code">
<code>property status_code: int</code> </dt> <dd>
<p>The HTTP status code as a number.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.stream">
<code>property stream: ResponseStream</code> </dt> <dd>
<p>The response iterable as write-only stream.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.vary">
<code>property vary: HeaderSet</code> </dt> <dd>
<p>The Vary field value indicates the set of request-header fields that fully determines, while the response is fresh, whether a cache is permitted to use the response to reply to a subsequent request without revalidation.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.Response.www_authenticate">
<code>property www_authenticate: WWWAuthenticate</code> </dt> <dd>
<p>The <code>WWW-Authenticate</code> header parsed into a <code>WWWAuthenticate</code> object. Modifying the object will modify the header value.</p> <p>This header is not set by default. To set this header, assign an instance of <code>WWWAuthenticate</code> to this attribute.</p> <pre data-language="python">response.www_authenticate = WWWAuthenticate(
    "basic", {"realm": "Authentication Required"}
)
</pre> <p>Multiple values for this header can be sent to give the client multiple options. Assign a list to set multiple headers. However, modifying the items in the list will not automatically update the header values, and accessing this attribute will only ever return the first value.</p> <p>To unset this header, assign <code>None</code> or use <code>del</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>This attribute can be assigned to to set the header. A list can be assigned to set multiple header values. Use <code>del</code> to unset the header.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span><code>WWWAuthenticate</code> is no longer a <code>dict</code>. The <code>token</code> attribute was added for auth challenges that use a token instead of parameters.</p> </div> </details>
</dd>
</dl> </dd>
</dl> </section> <section id="sessions"> <h2>Sessions</h2> <p>If you have set <a class="reference internal" href="#flask.Flask.secret_key" title="flask.Flask.secret_key"><code>Flask.secret_key</code></a> (or configured it from <a class="reference internal" href="../config/index.html#SECRET_KEY" title="SECRET_KEY"><code>SECRET_KEY</code></a>) you can use sessions in Flask applications. A session makes it possible to remember information from one request to another. The way Flask does this is by using a signed cookie. The user can look at the session contents, but can’t modify it unless they know the secret key, so make sure to set that to something complex and unguessable.</p> <p>To access the current session you can use the <a class="reference internal" href="#flask.session" title="flask.session"><code>session</code></a> object:</p> <dl class="py class"> <dt class="sig sig-object py" id="flask.session">
<code>class flask.session</code> </dt> <dd>
<p>The session object works pretty much like an ordinary dict, with the difference that it keeps track of modifications.</p> <p>This is a proxy. See <a class="reference internal" href="../reqcontext/index.html#notes-on-proxies"><span class="std std-ref">Notes On Proxies</span></a> for more information.</p> <p>The following attributes are interesting:</p> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.session.new">
<code>new</code> </dt> <dd>
<p><code>True</code> if the session is new, <code>False</code> otherwise.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.session.modified">
<code>modified</code> </dt> <dd>
<p><code>True</code> if the session object detected a modification. Be advised that modifications on mutable structures are not picked up automatically, in that situation you have to explicitly set the attribute to <code>True</code> yourself. Here an example:</p> <pre data-language="python"># this change is not picked up because a mutable object (here
# a list) is changed.
session['objects'].append(42)
# so mark it as modified yourself
session.modified = True
</pre> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.session.permanent">
<code>permanent</code> </dt> <dd>
<p>If set to <code>True</code> the session lives for <a class="reference internal" href="#flask.Flask.permanent_session_lifetime" title="flask.Flask.permanent_session_lifetime"><code>permanent_session_lifetime</code></a> seconds. The default is 31 days. If set to <code>False</code> (which is the default) the session will be deleted when the user closes the browser.</p> </dd>
</dl> </dd>
</dl> </section> <section id="session-interface"> <h2>Session Interface</h2> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details><p>The session interface provides a simple way to replace the session implementation that Flask is using.</p> <dl class="py class"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface">
<code>class flask.sessions.SessionInterface</code> </dt> <dd>
<p>The basic interface you have to implement in order to replace the default session interface which uses werkzeug’s securecookie implementation. The only methods you have to implement are <a class="reference internal" href="#flask.sessions.SessionInterface.open_session" title="flask.sessions.SessionInterface.open_session"><code>open_session()</code></a> and <a class="reference internal" href="#flask.sessions.SessionInterface.save_session" title="flask.sessions.SessionInterface.save_session"><code>save_session()</code></a>, the others have useful defaults which you don’t need to change.</p> <p>The session object returned by the <a class="reference internal" href="#flask.sessions.SessionInterface.open_session" title="flask.sessions.SessionInterface.open_session"><code>open_session()</code></a> method has to provide a dictionary like interface plus the properties and methods from the <a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin"><code>SessionMixin</code></a>. We recommend just subclassing a dict and adding that mixin:</p> <pre data-language="python">class Session(dict, SessionMixin):
    pass
</pre> <p>If <a class="reference internal" href="#flask.sessions.SessionInterface.open_session" title="flask.sessions.SessionInterface.open_session"><code>open_session()</code></a> returns <code>None</code> Flask will call into <a class="reference internal" href="#flask.sessions.SessionInterface.make_null_session" title="flask.sessions.SessionInterface.make_null_session"><code>make_null_session()</code></a> to create a session that acts as replacement if the session support cannot work because some requirement is not fulfilled. The default <a class="reference internal" href="#flask.sessions.NullSession" title="flask.sessions.NullSession"><code>NullSession</code></a> class that is created will complain that the secret key was not set.</p> <p>To replace the session interface on an application all you have to do is to assign <a class="reference internal" href="#flask.Flask.session_interface" title="flask.Flask.session_interface"><code>flask.Flask.session_interface</code></a>:</p> <pre data-language="python">app = Flask(__name__)
app.session_interface = MySessionInterface()
</pre> <p>Multiple requests with the same session may be sent and handled concurrently. When implementing a new session interface, consider whether reads or writes to the backing store must be synchronized. There is no guarantee on the order in which the session for each request is opened or saved, it will occur in the order that requests begin and end processing.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details><dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.get_cookie_domain">
<code>get_cookie_domain(app)</code> </dt> <dd>
<p>The value of the <code>Domain</code> parameter on the session cookie. If not set, browsers will only send the cookie to the exact domain it was set from. Otherwise, they will send it to any subdomain of the given value as well.</p> <p>Uses the <a class="reference internal" href="../config/index.html#SESSION_COOKIE_DOMAIN" title="SESSION_COOKIE_DOMAIN"><code>SESSION_COOKIE_DOMAIN</code></a> config.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>Not set by default, does not fall back to <code>SERVER_NAME</code>.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a> | None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.get_cookie_httponly">
<code>get_cookie_httponly(app)</code> </dt> <dd>
<p>Returns True if the session cookie should be httponly. This currently just returns the value of the <code>SESSION_COOKIE_HTTPONLY</code> config var.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.get_cookie_name">
<code>get_cookie_name(app)</code> </dt> <dd>
<p>The name of the session cookie. Uses``app.config[“SESSION_COOKIE_NAME”]``.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.get_cookie_path">
<code>get_cookie_path(app)</code> </dt> <dd>
<p>Returns the path for which the cookie should be valid. The default implementation uses the value from the <code>SESSION_COOKIE_PATH</code> config var if it’s set, and falls back to <code>APPLICATION_ROOT</code> or uses <code>/</code> if it’s <code>None</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.get_cookie_samesite">
<code>get_cookie_samesite(app)</code> </dt> <dd>
<p>Return <code>'Strict'</code> or <code>'Lax'</code> if the cookie should use the <code>SameSite</code> attribute. This currently just returns the value of the <a class="reference internal" href="../config/index.html#SESSION_COOKIE_SAMESITE" title="SESSION_COOKIE_SAMESITE"><code>SESSION_COOKIE_SAMESITE</code></a> setting.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.get_cookie_secure">
<code>get_cookie_secure(app)</code> </dt> <dd>
<p>Returns True if the cookie should be secure. This currently just returns the value of the <code>SESSION_COOKIE_SECURE</code> setting.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.get_expiration_time">
<code>get_expiration_time(app, session)</code> </dt> <dd>
<p>A helper method that returns an expiration date for the session or <code>None</code> if the session is linked to the browser session. The default implementation returns now + the permanent session lifetime configured on the application.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </li> <li>
<strong>session</strong> (<a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin">SessionMixin</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>datetime | None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.is_null_session">
<code>is_null_session(obj)</code> </dt> <dd>
<p>Checks if a given object is a null session. Null sessions are not asked to be saved.</p> <p>This checks if the object is an instance of <a class="reference internal" href="#flask.sessions.SessionInterface.null_session_class" title="flask.sessions.SessionInterface.null_session_class"><code>null_session_class</code></a> by default.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)">object</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.make_null_session">
<code>make_null_session(app)</code> </dt> <dd>
<p>Creates a null session which acts as a replacement object if the real session support could not be loaded due to a configuration error. This mainly aids the user experience because the job of the null session is to still support lookup without complaining but modifications are answered with a helpful error message of what failed.</p> <p>This creates an instance of <a class="reference internal" href="#flask.sessions.SessionInterface.null_session_class" title="flask.sessions.SessionInterface.null_session_class"><code>null_session_class</code></a> by default.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.sessions.NullSession" title="flask.sessions.NullSession">NullSession</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.null_session_class">
<code>null_session_class</code> </dt> <dd>
<p><a class="reference internal" href="#flask.sessions.SessionInterface.make_null_session" title="flask.sessions.SessionInterface.make_null_session"><code>make_null_session()</code></a> will look here for the class that should be created when a null session is requested. Likewise the <a class="reference internal" href="#flask.sessions.SessionInterface.is_null_session" title="flask.sessions.SessionInterface.is_null_session"><code>is_null_session()</code></a> method will perform a typecheck against this type.</p> <p>alias of <a class="reference internal" href="#flask.sessions.NullSession" title="flask.sessions.NullSession"><code>NullSession</code></a></p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.open_session">
<code>open_session(app, request)</code> </dt> <dd>
<p>This is called at the beginning of each request, after pushing the request context, before matching the URL.</p> <p>This must return an object which implements a dictionary-like interface as well as the <a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin"><code>SessionMixin</code></a> interface.</p> <p>This will return <code>None</code> to indicate that loading failed in some way that is not immediately an error. The request context will fall back to using <a class="reference internal" href="#flask.sessions.SessionInterface.make_null_session" title="flask.sessions.SessionInterface.make_null_session"><code>make_null_session()</code></a> in this case.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </li> <li>
<strong>request</strong> (<a class="reference internal" href="#flask.Request" title="flask.Request">Request</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin">SessionMixin</a> | None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.pickle_based">
<code>pickle_based = False</code> </dt> <dd>
<p>A flag that indicates if the session interface is pickle based. This can be used by Flask extensions to make a decision in regards to how to deal with the session object.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.save_session">
<code>save_session(app, session, response)</code> </dt> <dd>
<p>This is called at the end of each request, after generating a response, before removing the request context. It is skipped if <a class="reference internal" href="#flask.sessions.SessionInterface.is_null_session" title="flask.sessions.SessionInterface.is_null_session"><code>is_null_session()</code></a> returns <code>True</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </li> <li>
<strong>session</strong> (<a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin">SessionMixin</a>) – </li> <li>
<strong>response</strong> (<a class="reference internal" href="#flask.Response" title="flask.Response">Response</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SessionInterface.should_set_cookie">
<code>should_set_cookie(app, session)</code> </dt> <dd>
<p>Used by session backends to determine if a <code>Set-Cookie</code> header should be set for this session cookie for this response. If the session has been modified, the cookie is set. If the session is permanent and the <code>SESSION_REFRESH_EACH_REQUEST</code> config is true, the cookie is always set.</p> <p>This check is usually skipped if the session was deleted.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.11.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </li> <li>
<strong>session</strong> (<a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin">SessionMixin</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSessionInterface">
<code>class flask.sessions.SecureCookieSessionInterface</code> </dt> <dd>
<p>The default session interface that stores sessions in signed cookies through the <code>itsdangerous</code> module.</p> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSessionInterface.digest_method">
<code>static digest_method(string=b'', *, usedforsecurity=True)</code> </dt> <dd>
<p>the hash function to use for the signature. The default is sha1</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSessionInterface.key_derivation">
<code>key_derivation = 'hmac'</code> </dt> <dd>
<p>the name of the itsdangerous supported key derivation. The default is hmac.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSessionInterface.open_session">
<code>open_session(app, request)</code> </dt> <dd>
<p>This is called at the beginning of each request, after pushing the request context, before matching the URL.</p> <p>This must return an object which implements a dictionary-like interface as well as the <a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin"><code>SessionMixin</code></a> interface.</p> <p>This will return <code>None</code> to indicate that loading failed in some way that is not immediately an error. The request context will fall back to using <code>make_null_session()</code> in this case.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </li> <li>
<strong>request</strong> (<a class="reference internal" href="#flask.Request" title="flask.Request">Request</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.sessions.SecureCookieSession" title="flask.sessions.SecureCookieSession">SecureCookieSession</a> | None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSessionInterface.salt">
<code>salt = 'cookie-session'</code> </dt> <dd>
<p>the salt that should be applied on top of the secret key for the signing of cookie based sessions.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSessionInterface.save_session">
<code>save_session(app, session, response)</code> </dt> <dd>
<p>This is called at the end of each request, after generating a response, before removing the request context. It is skipped if <code>is_null_session()</code> returns <code>True</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </li> <li>
<strong>session</strong> (<a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin">SessionMixin</a>) – </li> <li>
<strong>response</strong> (<a class="reference internal" href="#flask.Response" title="flask.Response">Response</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSessionInterface.serializer">
<code>serializer = &lt;flask.json.tag.TaggedJSONSerializer object&gt;</code> </dt> <dd>
<p>A python serializer for the payload. The default is a compact JSON derived serializer with support for some extra Python types such as datetime objects or tuples.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSessionInterface.session_class">
<code>session_class</code> </dt> <dd>
<p>alias of <a class="reference internal" href="#flask.sessions.SecureCookieSession" title="flask.sessions.SecureCookieSession"><code>SecureCookieSession</code></a></p> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSession">
<code>class flask.sessions.SecureCookieSession(initial=None)</code> </dt> <dd>
<p>Base class for sessions based on signed cookies.</p> <p>This session backend will set the <a class="reference internal" href="#flask.sessions.SecureCookieSession.modified" title="flask.sessions.SecureCookieSession.modified"><code>modified</code></a> and <a class="reference internal" href="#flask.sessions.SecureCookieSession.accessed" title="flask.sessions.SecureCookieSession.accessed"><code>accessed</code></a> attributes. It cannot reliably track whether a session is new (vs. empty), so <code>new</code> remains hard coded to <code>False</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>initial</strong> (<em>t.Any</em>) – </p> </dd> </dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSession.accessed">
<code>accessed = False</code> </dt> <dd>
<p>header, which allows caching proxies to cache different pages for different users.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSession.get">
<code>get(key, default=None)</code> </dt> <dd>
<p>Return the value for key if key is in the dictionary, else default.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em> | </em><em>None</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSession.modified">
<code>modified = False</code> </dt> <dd>
<p>When data is changed, this is set to <code>True</code>. Only the session dictionary itself is tracked; if the session contains mutable data (for example a nested dict) then this must be set to <code>True</code> manually when modifying that data. The session cookie will only be written to the response if this is <code>True</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.SecureCookieSession.setdefault">
<code>setdefault(key, default=None)</code> </dt> <dd>
<p>Insert key with a value of default if key is not in the dictionary.</p> <p>Return the value for key if key is in the dictionary, else default.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em> | </em><em>None</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.sessions.NullSession">
<code>class flask.sessions.NullSession(initial=None)</code> </dt> <dd>
<p>Class used to generate nicer error messages if sessions are not available. Will still allow read-only access to the empty session but fail on setting.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>initial</strong> (<em>t.Any</em>) – </p> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.NullSession.clear">
<code>clear() → None. Remove all items from D.</code> </dt> <dd>
<dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NoReturn" title="(in Python v3.11)">NoReturn</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.NullSession.pop">
<code>pop(k[, d]) → v, remove specified key and return the corresponding value.</code> </dt> <dd>
<p>If the key is not found, return the default if given; otherwise, raise a KeyError.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NoReturn" title="(in Python v3.11)">NoReturn</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.NullSession.popitem">
<code>popitem(*args, **kwargs)</code> </dt> <dd>
<p>Remove and return a (key, value) pair as a 2-tuple.</p> <p>Pairs are returned in LIFO (last-in, first-out) order. Raises KeyError if the dict is empty.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NoReturn" title="(in Python v3.11)">NoReturn</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.NullSession.setdefault">
<code>setdefault(*args, **kwargs)</code> </dt> <dd>
<p>Insert key with a value of default if key is not in the dictionary.</p> <p>Return the value for key if key is in the dictionary, else default.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NoReturn" title="(in Python v3.11)">NoReturn</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.sessions.NullSession.update">
<code>update([E, ]**F) → None. Update D from dict/iterable E and F.</code> </dt> <dd>
<p>If E is present and has a .keys() method, then does: for k in E: D[k] = E[k] If E is present and lacks a .keys() method, then does: for k, v in E: D[k] = v In either case, this is followed by: for k in F: D[k] = F[k]</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NoReturn" title="(in Python v3.11)">NoReturn</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.sessions.SessionMixin">
<code>class flask.sessions.SessionMixin</code> </dt> <dd>
<p>Expands a basic dictionary with session attributes.</p> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.sessions.SessionMixin.accessed">
<code>accessed = True</code> </dt> <dd>
<p>Some implementations can detect when session data is read or written and set this when that happens. The mixin default is hard coded to <code>True</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.sessions.SessionMixin.modified">
<code>modified = True</code> </dt> <dd>
<p>Some implementations can detect changes to the session and set this when that happens. The mixin default is hard coded to <code>True</code>.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="flask.sessions.SessionMixin.permanent">
<code>property permanent: bool</code> </dt> <dd>
<p>This reflects the <code>'_permanent'</code> key in the dict.</p> </dd>
</dl> </dd>
</dl> <div class="admonition-notice admonition"> <p class="admonition-title">Notice</p> <p>The <a class="reference internal" href="../config/index.html#PERMANENT_SESSION_LIFETIME" title="PERMANENT_SESSION_LIFETIME"><code>PERMANENT_SESSION_LIFETIME</code></a> config can be an integer or <code>timedelta</code>. The <a class="reference internal" href="#flask.Flask.permanent_session_lifetime" title="flask.Flask.permanent_session_lifetime"><code>permanent_session_lifetime</code></a> attribute is always a <code>timedelta</code>.</p> </div> </section> <section id="test-client"> <h2>Test Client</h2> <dl class="py class"> <dt class="sig sig-object py" id="flask.testing.FlaskClient">
<code>class flask.testing.FlaskClient(*args, **kwargs)</code> </dt> <dd>
<p>Works like a regular Werkzeug test client but has knowledge about Flask’s contexts to defer the cleanup of the request context until the end of a <code>with</code> block. For general information about how to use this class refer to <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/test/#werkzeug.test.Client" title="(in Werkzeug v2.3.x)"><code>werkzeug.test.Client</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.12: </span><code>app.test_client()</code> includes preset default environment, which can be set after instantiation of the <code>app.test_client()</code> object in <code>client.environ_base</code>.</p> </div> </details><p>Basic usage is outlined in the <a class="reference internal" href="../testing/index.html"><span class="doc">Testing Flask Applications</span></a> chapter.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<em>t.Any</em>) – </li> <li>
<strong>kwargs</strong> (<em>t.Any</em>) – </li> </ul> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.testing.FlaskClient.open">
<code>open(*args, buffered=False, follow_redirects=False, **kwargs)</code> </dt> <dd>
<p>Generate an environ dict from the given arguments, make a request to the application using it, and return the response.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<em>t.Any</em>) – Passed to <code>EnvironBuilder</code> to create the environ for the request. If a single arg is passed, it can be an existing <code>EnvironBuilder</code> or an environ dict.</li> <li>
<strong>buffered</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Convert the iterator returned by the app into a list. If the iterator has a <code>close()</code> method, it is called automatically.</li> <li>
<strong>follow_redirects</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Make additional requests to follow HTTP redirects until a non-redirect status is returned. <code>TestResponse.history</code> lists the intermediate responses.</li> <li>
<strong>kwargs</strong> (<em>t.Any</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>TestResponse</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1: </span>Removed the <code>as_tuple</code> parameter.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The request input stream is closed when calling <code>response.close()</code>. Input streams for redirects are automatically closed.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.5: </span>If a dict is provided as file in the dict for the <code>data</code> parameter the content type has to be called <code>content_type</code> instead of <code>mimetype</code>. This change was made for consistency with <code>werkzeug.FileWrapper</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.5: </span>Added the <code>follow_redirects</code> parameter.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.testing.FlaskClient.session_transaction">
<code>session_transaction(*args, **kwargs)</code> </dt> <dd>
<p>When used in combination with a <code>with</code> statement this opens a session transaction. This can be used to modify the session that the test client uses. Once the <code>with</code> block is left the session is stored back.</p> <pre data-language="python">with client.session_transaction() as session:
    session['value'] = 42
</pre> <p>Internally this is implemented by going through a temporary test request context and since session handling could depend on request variables this function accepts the same arguments as <a class="reference internal" href="#flask.Flask.test_request_context" title="flask.Flask.test_request_context"><code>test_request_context()</code></a> which are directly passed through.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.11)">Generator</a>[<a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin">SessionMixin</a>, None, None]</p> </dd> </dl> </dd>
</dl> </dd>
</dl> </section> <section id="test-cli-runner"> <h2>Test CLI Runner</h2> <dl class="py class"> <dt class="sig sig-object py" id="flask.testing.FlaskCliRunner">
<code>class flask.testing.FlaskCliRunner(app, **kwargs)</code> </dt> <dd>
<p>A <a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.testing.CliRunner" title="(in Click v8.1.x)"><code>CliRunner</code></a> for testing a Flask app’s CLI commands. Typically created using <a class="reference internal" href="#flask.Flask.test_cli_runner" title="flask.Flask.test_cli_runner"><code>test_cli_runner()</code></a>. See <a class="reference internal" href="../testing/index.html#testing-cli"><span class="std std-ref">Running Commands with the CLI Runner</span></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </li> <li>
<strong>kwargs</strong> (<em>t.Any</em>) – </li> </ul> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.testing.FlaskCliRunner.invoke">
<code>invoke(cli=None, args=None, **kwargs)</code> </dt> <dd>
<p>Invokes a CLI command in an isolated environment. See <a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.testing.CliRunner.invoke" title="(in Click v8.1.x)"><code>CliRunner.invoke</code></a> for full method documentation. See <a class="reference internal" href="../testing/index.html#testing-cli"><span class="std std-ref">Running Commands with the CLI Runner</span></a> for examples.</p> <p>If the <code>obj</code> argument is not given, passes an instance of <a class="reference internal" href="#flask.cli.ScriptInfo" title="flask.cli.ScriptInfo"><code>ScriptInfo</code></a> that knows how to load the Flask app being tested.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>cli</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em> | </em><em>None</em>) – Command object to invoke. Default is the app’s <code>cli</code> group.</li> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em> | </em><em>None</em>) – List of strings to invoke the command with.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>a <a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.testing.Result" title="(in Click v8.1.x)"><code>Result</code></a> object.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> </section> <section id="application-globals"> <h2>Application Globals</h2> <p>To share data that is valid for one request only from one function to another, a global variable is not good enough because it would break in threaded environments. Flask provides you with a special object that ensures it is only valid for the active request and that will return different values for each request. In a nutshell: it does the right thing, like it does for <a class="reference internal" href="#flask.request" title="flask.request"><code>request</code></a> and <a class="reference internal" href="#flask.session" title="flask.session"><code>session</code></a>.</p> <dl class="py data"> <dt class="sig sig-object py" id="flask.g">
<code>flask.g</code> </dt> <dd>
<p>A namespace object that can store data during an <a class="reference internal" href="../appcontext/index.html"><span class="doc">application context</span></a>. This is an instance of <a class="reference internal" href="#flask.Flask.app_ctx_globals_class" title="flask.Flask.app_ctx_globals_class"><code>Flask.app_ctx_globals_class</code></a>, which defaults to <a class="reference internal" href="#flask.ctx._AppCtxGlobals" title="flask.ctx._AppCtxGlobals"><code>ctx._AppCtxGlobals</code></a>.</p> <p>This is a good place to store resources during a request. For example, a <code>before_request</code> function could load a user object from a session id, then set <code>g.user</code> to be used in the view function.</p> <p>This is a proxy. See <a class="reference internal" href="../reqcontext/index.html#notes-on-proxies"><span class="std std-ref">Notes On Proxies</span></a> for more information.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.10: </span>Bound to the application context instead of the request context.</p> </div> </details>
</dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.ctx._AppCtxGlobals">
<code>class flask.ctx._AppCtxGlobals</code> </dt> <dd>
<p>A plain object. Used as a namespace for storing data during an application context.</p> <p>Creating an app context automatically creates this object, which is made available as the <code>g</code> proxy.</p> <dl class="describe"> <dt class="sig sig-object"> <span class="sig-name descname">'key' in g</span>
</dt> <dd>
<p>Check whether an attribute is present.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details>
</dd>
</dl> <dl class="describe"> <dt class="sig sig-object"> <span class="sig-name descname">iter(g)</span>
</dt> <dd>
<p>Return an iterator over the attribute names.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.ctx._AppCtxGlobals.get">
<code>get(name, default=None)</code> </dt> <dd>
<p>Get an attribute by name, or a default value. Like <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict.get" title="(in Python v3.11)"><code>dict.get()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – Name of attribute to get.</li> <li>
<strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em> | </em><em>None</em>) – Value to return if the attribute is not present.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.ctx._AppCtxGlobals.pop">
<code>pop(name, default=&lt;object object&gt;)</code> </dt> <dd>
<p>Get and remove an attribute by name. Like <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict.pop" title="(in Python v3.11)"><code>dict.pop()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – Name of attribute to pop.</li> <li>
<strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Value to return if the attribute is not present, instead of raising a <code>KeyError</code>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.11.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.ctx._AppCtxGlobals.setdefault">
<code>setdefault(name, default=None)</code> </dt> <dd>
<p>Get the value of an attribute if it is present, otherwise set and return a default value. Like <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict.setdefault" title="(in Python v3.11)"><code>dict.setdefault()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – Name of attribute to get.</li> <li>
<strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em> | </em><em>None</em>) – Value to set and return if the attribute is not present.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.11.</span></p> </div> </details>
</dd>
</dl> </dd>
</dl> </section> <section id="useful-functions-and-classes"> <h2>Useful Functions and Classes</h2> <dl class="py data"> <dt class="sig sig-object py" id="flask.current_app">
<code>flask.current_app</code> </dt> <dd>
<p>A proxy to the application handling the current request. This is useful to access the application without needing to import it, or if it can’t be imported, such as when using the application factory pattern or in blueprints and extensions.</p> <p>This is only available when an <a class="reference internal" href="../appcontext/index.html"><span class="doc">application context</span></a> is pushed. This happens automatically during requests and CLI commands. It can be controlled manually with <a class="reference internal" href="#flask.Flask.app_context" title="flask.Flask.app_context"><code>app_context()</code></a>.</p> <p>This is a proxy. See <a class="reference internal" href="../reqcontext/index.html#notes-on-proxies"><span class="std std-ref">Notes On Proxies</span></a> for more information.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.has_request_context">
<code>flask.has_request_context()</code> </dt> <dd>
<p>If you have code that wants to test if a request context is there or not this function can be used. For instance, you may want to take advantage of request information if the request object is available, but fail silently if it is unavailable.</p> <pre data-language="python">class User(db.Model):

    def __init__(self, username, remote_addr=None):
        self.username = username
        if remote_addr is None and has_request_context():
            remote_addr = request.remote_addr
        self.remote_addr = remote_addr
</pre> <p>Alternatively you can also just test any of the context bound objects (such as <a class="reference internal" href="#flask.request" title="flask.request"><code>request</code></a> or <a class="reference internal" href="#flask.g" title="flask.g"><code>g</code></a>) for truthness:</p> <pre data-language="python">class User(db.Model):

    def __init__(self, username, remote_addr=None):
        self.username = username
        if remote_addr is None and request:
            remote_addr = request.remote_addr
        self.remote_addr = remote_addr
</pre> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.copy_current_request_context">
<code>flask.copy_current_request_context(f)</code> </dt> <dd>
<p>A helper function that decorates a function to retain the current request context. This is useful when working with greenlets. The moment the function is decorated a copy of the request context is created and then pushed when the function is called. The current session is also included in the copied request context.</p> <p>Example:</p> <pre data-language="python">import gevent
from flask import copy_current_request_context

@app.route('/')
def index():
    @copy_current_request_context
    def do_some_work():
        # do some work here, it can access flask.request or
        # flask.session like you would otherwise in the view function.
        ...
    gevent.spawn(do_some_work)
    return 'Regular response'
</pre> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a></p> </dd> </dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.has_app_context">
<code>flask.has_app_context()</code> </dt> <dd>
<p>Works like <a class="reference internal" href="#flask.has_request_context" title="flask.has_request_context"><code>has_request_context()</code></a> but for the application context. You can also just do a boolean check on the <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a> object instead.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.url_for">
<code>flask.url_for(endpoint, *, _anchor=None, _method=None, _scheme=None, _external=None, **values)</code> </dt> <dd>
<p>Generate a URL to the given endpoint with the given values.</p> <p>This requires an active request or application context, and calls <a class="reference internal" href="#flask.Flask.url_for" title="flask.Flask.url_for"><code>current_app.url_for()</code></a>. See that method for full documentation.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>endpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The endpoint name associated with the URL to generate. If this starts with a <code>.</code>, the current blueprint name (if any) will be used.</li> <li>
<strong>_anchor</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – If given, append this as <code>#anchor</code> to the URL.</li> <li>
<strong>_method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – If given, generate the URL associated with this method for the endpoint.</li> <li>
<strong>_scheme</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – If given, the URL will have this scheme if it is external.</li> <li>
<strong>_external</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a><em> | </em><em>None</em>) – If given, prefer the URL to be internal (False) or require it to be external (True). External URLs include the scheme and domain. When not in an active request, URLs are external by default.</li> <li>
<strong>values</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Values to use for the variable parts of the URL rule. Unknown keys are appended as query string arguments, like <code>?a=b&amp;c=d</code>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>Calls <code>current_app.url_for</code>, allowing an app to override the behavior.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.10: </span>The <code>_scheme</code> parameter was added.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>The <code>_anchor</code> and <code>_method</code> parameters were added.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>Calls <code>app.handle_url_build_error</code> on build errors.</p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.abort">
<code>flask.abort(code, *args, **kwargs)</code> </dt> <dd>
<p>Raise an <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.HTTPException" title="(in Werkzeug v2.3.x)"><code>HTTPException</code></a> for the given status code.</p> <p>If <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a> is available, it will call its <a class="reference internal" href="#flask.Flask.aborter" title="flask.Flask.aborter"><code>aborter</code></a> object, otherwise it will use <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.abort" title="(in Werkzeug v2.3.x)"><code>werkzeug.exceptions.abort()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>code</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a><em> | </em><em>BaseResponse</em>) – The status code for the exception, which must be registered in <code>app.aborter</code>.</li> <li>
<strong>args</strong> (<em>t.Any</em>) – Passed to the exception.</li> <li>
<strong>kwargs</strong> (<em>t.Any</em>) – Passed to the exception.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>t.NoReturn</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2: </span>Calls <code>current_app.aborter</code> if available instead of always using Werkzeug’s default <code>abort</code>.</p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.redirect">
<code>flask.redirect(location, code=302, Response=None)</code> </dt> <dd>
<p>Create a redirect response object.</p> <p>If <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a> is available, it will use its <a class="reference internal" href="#flask.Flask.redirect" title="flask.Flask.redirect"><code>redirect()</code></a> method, otherwise it will use <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/utils/#werkzeug.utils.redirect" title="(in Werkzeug v2.3.x)"><code>werkzeug.utils.redirect()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>location</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The URL to redirect to.</li> <li>
<strong>code</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>) – The status code for the redirect.</li> <li>
<strong>Response</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)">type</a><em>[</em><em>BaseResponse</em><em>] </em><em>| </em><em>None</em>) – The response class to use. Not used when <code>current_app</code> is active, which uses <code>app.response_class</code>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>BaseResponse</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2: </span>Calls <code>current_app.redirect</code> if available instead of always using Werkzeug’s default <code>redirect</code>.</p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.make_response">
<code>flask.make_response(*args)</code> </dt> <dd>
<p>Sometimes it is necessary to set additional headers in a view. Because views do not have to return response objects but can return a value that is converted into a response object by Flask itself, it becomes tricky to add headers to it. This function can be called instead of using a return and you will get a response object which you can use to attach headers.</p> <p>If view looked like this and you want to add a new header:</p> <pre data-language="python">def index():
    return render_template('index.html', foo=42)
</pre> <p>You can now do something like this:</p> <pre data-language="python">def index():
    response = make_response(render_template('index.html', foo=42))
    response.headers['X-Parachutes'] = 'parachutes are cool'
    return response
</pre> <p>This function accepts the very same arguments you can return from a view function. This for example creates a response with a 404 error code:</p> <pre data-language="python">response = make_response(render_template('not_found.html'), 404)
</pre> <p>The other use case of this function is to force the return value of a view function into a response which is helpful with view decorators:</p> <pre data-language="python">response = make_response(view_function())
response.headers['X-Parachutes'] = 'parachutes are cool'
</pre> <p>Internally this function does the following things:</p> <ul class="simple"> <li>if no arguments are passed, it creates a new response argument</li> <li>if one argument is passed, <a class="reference internal" href="#flask.Flask.make_response" title="flask.Flask.make_response"><code>flask.Flask.make_response()</code></a> is invoked with it.</li> <li>if more than one argument is passed, the arguments are passed to the <a class="reference internal" href="#flask.Flask.make_response" title="flask.Flask.make_response"><code>flask.Flask.make_response()</code></a> function as tuple.</li> </ul> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.6.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>args</strong> (<em>t.Any</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.after_this_request">
<code>flask.after_this_request(f)</code> </dt> <dd>
<p>Executes a function after this request. This is useful to modify response objects. The function is passed the response object and has to return the same or a new one.</p> <p>Example:</p> <pre data-language="python">@app.route('/')
def index():
    @after_this_request
    def add_header(response):
        response.headers['X-Foo'] = 'Parachute'
        return response
    return 'Hello World!'
</pre> <p>This is more useful if a function other than the view function wants to modify a response. For instance think of a decorator that wants to add some headers without converting the return value into a response object.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>ResponseClass</em><em>]</em><em>, </em><em>ResponseClass</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>ResponseClass</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.11)">Awaitable</a><em>[</em><em>ResponseClass</em><em>]</em><em>]</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>ResponseClass</em>], <em>ResponseClass</em>] | <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a>[[<em>ResponseClass</em>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.11)">Awaitable</a>[<em>ResponseClass</em>]]</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.send_file">
<code>flask.send_file(path_or_file, mimetype=None, as_attachment=False, download_name=None, conditional=True, etag=True, last_modified=None, max_age=None)</code> </dt> <dd>
<p>Send the contents of a file to the client.</p> <p>The first argument can be a file path or a file-like object. Paths are preferred in most cases because Werkzeug can manage the file and get extra information from the path. Passing a file-like object requires that the file is opened in binary mode, and is mostly useful when building a file in memory with <a class="reference external" href="https://docs.python.org/3/library/io.html#io.BytesIO" title="(in Python v3.11)"><code>io.BytesIO</code></a>.</p> <p>Never pass file paths provided by a user. The path is assumed to be trusted, so a user could craft a path to access a file you didn’t intend. Use <a class="reference internal" href="#flask.send_from_directory" title="flask.send_from_directory"><code>send_from_directory()</code></a> to safely serve user-requested paths from within a directory.</p> <p>If the WSGI server sets a <code>file_wrapper</code> in <code>environ</code>, it is used, otherwise Werkzeug’s built-in wrapper is used. Alternatively, if the HTTP server supports <code>X-Sendfile</code>, configuring Flask with <code>USE_X_SENDFILE = True</code> will tell the server to send the given path, which is much more efficient than reading it in Python.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>path_or_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">os.PathLike</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>t.BinaryIO</em>) – The path to the file to send, relative to the current working directory if a relative path is given. Alternatively, a file-like object opened in binary mode. Make sure the file pointer is seeked to the start of the data.</li> <li>
<strong>mimetype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – The MIME type to send for the file. If not provided, it will try to detect it from the file name.</li> <li>
<strong>as_attachment</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Indicate to a browser that it should offer to save the file instead of displaying it.</li> <li>
<strong>download_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – The default name browsers will use when saving the file. Defaults to the passed file name.</li> <li>
<strong>conditional</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Enable conditional and range responses based on request headers. Requires passing a file path and <code>environ</code>.</li> <li>
<strong>etag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – Calculate an ETag for the file, which requires passing a file path. Can also be a string to use instead.</li> <li>
<strong>last_modified</strong> (<em>datetime</em><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a><em> | </em><em>None</em>) – The last modified time to send for the file, in seconds. If not provided, it will try to detect it from the file path.</li> <li>
<strong>max_age</strong> (<em>None</em><em> | </em><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a><em> | </em><em>t.Callable</em><em>[</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a><em> | </em><em>None</em><em>]</em><em>)</em>) – How long the client should cache the file, in seconds. If set, <code>Cache-Control</code> will be <code>public</code>, otherwise it will be <code>no-cache</code> to prefer conditional caching.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span><code>download_name</code> replaces the <code>attachment_filename</code> parameter. If <code>as_attachment=False</code>, it is passed with <code>Content-Disposition: inline</code> instead.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span><code>max_age</code> replaces the <code>cache_timeout</code> parameter. <code>conditional</code> is enabled and <code>max_age</code> is not set by default.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span><code>etag</code> replaces the <code>add_etags</code> parameter. It can be a string to use instead of generating one.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>Passing a file-like object that inherits from <a class="reference external" href="https://docs.python.org/3/library/io.html#io.TextIOBase" title="(in Python v3.11)"><code>TextIOBase</code></a> will raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><code>ValueError</code></a> rather than sending an empty file.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.0: </span>Moved the implementation to Werkzeug. This is now a wrapper to pass some Flask-specific arguments.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.1: </span><code>filename</code> may be a <a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)"><code>PathLike</code></a> object.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.1: </span>Passing a <a class="reference external" href="https://docs.python.org/3/library/io.html#io.BytesIO" title="(in Python v3.11)"><code>BytesIO</code></a> object supports range requests.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0.3: </span>Filenames are encoded with ASCII instead of Latin-1 for broader compatibility with WSGI servers.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span>UTF-8 filenames as specified in <a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2231.html" id="index-1"><strong>RFC 2231</strong></a> are supported.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.12: </span>The filename is no longer automatically inferred from file objects. If you want to use automatic MIME and etag support, pass a filename via <code>filename_or_fp</code> or <code>attachment_filename</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.12: </span><code>attachment_filename</code> is preferred over <code>filename</code> for MIME detection.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span><code>cache_timeout</code> defaults to <a class="reference internal" href="#flask.Flask.get_send_file_max_age" title="flask.Flask.get_send_file_max_age"><code>Flask.get_send_file_max_age()</code></a>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.7: </span>MIME guessing and etag support for file-like objects was removed because it was unreliable. Pass a filename if you are able to, otherwise attach an etag yourself.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.5: </span>The <code>add_etags</code>, <code>cache_timeout</code> and <code>conditional</code> parameters were added. The default behavior is to add etags.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.2.</span></p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.send_from_directory">
<code>flask.send_from_directory(directory, path, **kwargs)</code> </dt> <dd>
<p>Send a file from within a directory using <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code>send_file()</code></a>.</p> <pre data-language="python">@app.route("/uploads/&lt;path:name&gt;")
def download_file(name):
    return send_from_directory(
        app.config['UPLOAD_FOLDER'], name, as_attachment=True
    )
</pre> <p>This is a secure way to serve files from a folder, such as static files or uploads. Uses <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/utils/#werkzeug.security.safe_join" title="(in Werkzeug v2.3.x)"><code>safe_join()</code></a> to ensure the path coming from the client is not maliciously crafted to point outside the specified directory.</p> <p>If the final path does not point to an existing regular file, raises a 404 <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.NotFound" title="(in Werkzeug v2.3.x)"><code>NotFound</code></a> error.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">os.PathLike</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The directory that <code>path</code> must be located under, relative to the current application’s root path.</li> <li>
<strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">os.PathLike</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The path to the file to send, relative to <code>directory</code>.</li> <li>
<strong>kwargs</strong> (<em>t.Any</em>) – Arguments to pass to <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code>send_file()</code></a>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span><code>path</code> replaces the <code>filename</code> parameter.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.0: </span>Moved the implementation to Werkzeug. This is now a wrapper to pass some Flask-specific arguments.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.5.</span></p> </div> </details>
</dd>
</dl> </section> <section id="message-flashing"> <h2>Message Flashing</h2> <dl class="py function"> <dt class="sig sig-object py" id="flask.flash">
<code>flask.flash(message, category='message')</code> </dt> <dd>
<p>Flashes a message to the next request. In order to remove the flashed message from the session and to display it to the user, the template has to call <a class="reference internal" href="#flask.get_flashed_messages" title="flask.get_flashed_messages"><code>get_flashed_messages()</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.3: </span><code>category</code> parameter added.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – the message to be flashed.</li> <li>
<strong>category</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – the category for the message. The following values are recommended: <code>'message'</code> for any kind of message, <code>'error'</code> for errors, <code>'info'</code> for information messages and <code>'warning'</code> for warnings. However any kind of string can be used as category.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.get_flashed_messages">
<code>flask.get_flashed_messages(with_categories=False, category_filter=())</code> </dt> <dd>
<p>Pulls all flashed messages from the session and returns them. Further calls in the same request to the function will return the same messages. By default just the messages are returned, but when <code>with_categories</code> is set to <code>True</code>, the return value will be a list of tuples in the form <code>(category, message)</code> instead.</p> <p>Filter the flashed messages to one or more categories by providing those categories in <code>category_filter</code>. This allows rendering categories in separate html blocks. The <code>with_categories</code> and <code>category_filter</code> arguments are distinct:</p> <ul class="simple"> <li>
<code>with_categories</code> controls whether categories are returned with message text (<code>True</code> gives a tuple, where <code>False</code> gives just the message text).</li> <li>
<code>category_filter</code> filters the messages down to only those matching the provided categories.</li> </ul> <p>See <a class="reference internal" href="../patterns/flashing/index.html"><span class="doc">Message Flashing</span></a> for examples.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span><code>category_filter</code> parameter added.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.3: </span><code>with_categories</code> parameter added.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>with_categories</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – set to <code>True</code> to also receive categories.</li> <li>
<strong>category_filter</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.11)">Iterable</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>]</em>) – filter of categories to limit return values. Only categories in the list will be returned.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>] | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>]]</p> </dd> </dl> </dd>
</dl> </section> <section id="module-flask.json"> <h2 id="json-support">JSON Support</h2> <p>Flask uses Python’s built-in <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.11)"><code>json</code></a> module for handling JSON by default. The JSON implementation can be changed by assigning a different provider to <a class="reference internal" href="#flask.Flask.json_provider_class" title="flask.Flask.json_provider_class"><code>flask.Flask.json_provider_class</code></a> or <a class="reference internal" href="#flask.Flask.json" title="flask.Flask.json"><code>flask.Flask.json</code></a>. The functions provided by <code>flask.json</code> will use methods on <code>app.json</code> if an app context is active.</p> <p>Jinja’s <code>|tojson</code> filter is configured to use the app’s JSON provider. The filter marks the output with <code>|safe</code>. Use it to render data inside HTML <code>&lt;script&gt;</code> tags.</p> <pre data-language="html+jinja">&lt;script&gt;
    const names = {{ names|tojson }};
    renderChart(names, {{ axis_data|tojson }});
&lt;/script&gt;
</pre> <dl class="py function"> <dt class="sig sig-object py" id="flask.json.jsonify">
<code>flask.json.jsonify(*args, **kwargs)</code> </dt> <dd>
<p>Serialize the given arguments as JSON, and return a <a class="reference internal" href="#flask.Response" title="flask.Response"><code>Response</code></a> object with the <code>application/json</code> mimetype. A dict or list returned from a view will be converted to a JSON response automatically without needing to call this.</p> <p>This requires an active request or application context, and calls <a class="reference internal" href="#flask.json.provider.JSONProvider.response" title="flask.json.provider.JSONProvider.response"><code>app.json.response()</code></a>.</p> <p>In debug mode, the output is formatted with indentation to make it easier to read. This may also be controlled by the provider.</p> <p>Either positional or keyword arguments can be given, not both. If no arguments are given, <code>None</code> is serialized.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<em>t.Any</em>) – A single value to serialize, or multiple values to treat as a list to serialize.</li> <li>
<strong>kwargs</strong> (<em>t.Any</em>) – Treat as a dict to serialize.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>Calls <code>current_app.json.response</code>, allowing an app to override the behavior.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0.2: </span><a class="reference external" href="https://docs.python.org/3/library/decimal.html#decimal.Decimal" title="(in Python v3.11)"><code>decimal.Decimal</code></a> is supported by converting to a string.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.11: </span>Added support for serializing top-level arrays. This was a security risk in ancient browsers. See <a class="reference internal" href="../security/index.html#security-json"><span class="std std-ref">JSON Security</span></a>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.2.</span></p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.json.dumps">
<code>flask.json.dumps(obj, **kwargs)</code> </dt> <dd>
<p>Serialize data as JSON.</p> <p>If <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a> is available, it will use its <a class="reference internal" href="#flask.json.provider.JSONProvider.dumps" title="flask.json.provider.JSONProvider.dumps"><code>app.json.dumps()</code></a> method, otherwise it will use <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dumps" title="(in Python v3.11)"><code>json.dumps()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – The data to serialize.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Arguments passed to the <code>dumps</code> implementation.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>The <code>app</code> parameter was removed.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>Calls <code>current_app.json.dumps</code>, allowing an app to override the behavior.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0.2: </span><a class="reference external" href="https://docs.python.org/3/library/decimal.html#decimal.Decimal" title="(in Python v3.11)"><code>decimal.Decimal</code></a> is supported by converting to a string.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span><code>encoding</code> will be removed in Flask 2.1.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0.3: </span><code>app</code> can be passed directly, rather than requiring an app context for configuration.</p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.json.dump">
<code>flask.json.dump(obj, fp, **kwargs)</code> </dt> <dd>
<p>Serialize data as JSON and write to a file.</p> <p>If <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a> is available, it will use its <a class="reference internal" href="#flask.json.provider.JSONProvider.dump" title="flask.json.provider.JSONProvider.dump"><code>app.json.dump()</code></a> method, otherwise it will use <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dump" title="(in Python v3.11)"><code>json.dump()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – The data to serialize.</li> <li>
<strong>fp</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.11)">IO</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>]</em>) – A file opened for writing text. Should use the UTF-8 encoding to be valid JSON.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Arguments passed to the <code>dump</code> implementation.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>The <code>app</code> parameter was removed.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>Calls <code>current_app.json.dump</code>, allowing an app to override the behavior.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>Writing to a binary file, and the <code>encoding</code> argument, will be removed in Flask 2.1.</p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.json.loads">
<code>flask.json.loads(s, **kwargs)</code> </dt> <dd>
<p>Deserialize data as JSON.</p> <p>If <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a> is available, it will use its <a class="reference internal" href="#flask.json.provider.JSONProvider.loads" title="flask.json.provider.JSONProvider.loads"><code>app.json.loads()</code></a> method, otherwise it will use <a class="reference external" href="https://docs.python.org/3/library/json.html#json.loads" title="(in Python v3.11)"><code>json.loads()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a>) – Text or UTF-8 bytes.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Arguments passed to the <code>loads</code> implementation.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>The <code>app</code> parameter was removed.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>Calls <code>current_app.json.loads</code>, allowing an app to override the behavior.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span><code>encoding</code> will be removed in Flask 2.1. The data must be a string or UTF-8 bytes.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0.3: </span><code>app</code> can be passed directly, rather than requiring an app context for configuration.</p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.json.load">
<code>flask.json.load(fp, **kwargs)</code> </dt> <dd>
<p>Deserialize data as JSON read from a file.</p> <p>If <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a> is available, it will use its <a class="reference internal" href="#flask.json.provider.JSONProvider.load" title="flask.json.provider.JSONProvider.load"><code>app.json.load()</code></a> method, otherwise it will use <a class="reference external" href="https://docs.python.org/3/library/json.html#json.load" title="(in Python v3.11)"><code>json.load()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>fp</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.11)">IO</a>) – A file opened for reading text or UTF-8 bytes.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Arguments passed to the <code>load</code> implementation.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>The <code>app</code> parameter was removed.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>Calls <code>current_app.json.load</code>, allowing an app to override the behavior.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>The <code>app</code> parameter will be removed in Flask 2.3.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span><code>encoding</code> will be removed in Flask 2.1. The file must be text mode, or binary mode with UTF-8 bytes.</p> </div> </details>
</dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.json.provider.JSONProvider">
<code>class flask.json.provider.JSONProvider(app)</code> </dt> <dd>
<p>A standard set of JSON operations for an application. Subclasses of this can be used to customize JSON behavior or use different JSON libraries.</p> <p>To implement a provider for a specific library, subclass this base class and implement at least <a class="reference internal" href="#flask.json.provider.JSONProvider.dumps" title="flask.json.provider.JSONProvider.dumps"><code>dumps()</code></a> and <a class="reference internal" href="#flask.json.provider.JSONProvider.loads" title="flask.json.provider.JSONProvider.loads"><code>loads()</code></a>. All other methods have default implementations.</p> <p>To use a different provider, either subclass <code>Flask</code> and set <a class="reference internal" href="#flask.Flask.json_provider_class" title="flask.Flask.json_provider_class"><code>json_provider_class</code></a> to a provider class, or set <a class="reference internal" href="#flask.Flask.json" title="flask.Flask.json"><code>app.json</code></a> to an instance of the class.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>app</strong> (<em>App</em>) – An application instance. This will be stored as a <code>weakref.proxy</code> on the <code>_app</code> attribute.</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2.</span></p> </div> </details><dl class="py method"> <dt class="sig sig-object py" id="flask.json.provider.JSONProvider.dumps">
<code>dumps(obj, **kwargs)</code> </dt> <dd>
<p>Serialize data as JSON.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – The data to serialize.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – May be passed to the underlying JSON library.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.provider.JSONProvider.dump">
<code>dump(obj, fp, **kwargs)</code> </dt> <dd>
<p>Serialize data as JSON and write to a file.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – The data to serialize.</li> <li>
<strong>fp</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.11)">IO</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>]</em>) – A file opened for writing text. Should use the UTF-8 encoding to be valid JSON.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – May be passed to the underlying JSON library.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.provider.JSONProvider.loads">
<code>loads(s, **kwargs)</code> </dt> <dd>
<p>Deserialize data as JSON.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a>) – Text or UTF-8 bytes.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – May be passed to the underlying JSON library.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.provider.JSONProvider.load">
<code>load(fp, **kwargs)</code> </dt> <dd>
<p>Deserialize data as JSON read from a file.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>fp</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.11)">IO</a>) – A file opened for reading text or UTF-8 bytes.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – May be passed to the underlying JSON library.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.provider.JSONProvider.response">
<code>response(*args, **kwargs)</code> </dt> <dd>
<p>Serialize the given arguments as JSON, and return a <a class="reference internal" href="#flask.Response" title="flask.Response"><code>Response</code></a> object with the <code>application/json</code> mimetype.</p> <p>The <a class="reference internal" href="#flask.json.jsonify" title="flask.json.jsonify"><code>jsonify()</code></a> function calls this method for the current application.</p> <p>Either positional or keyword arguments can be given, not both. If no arguments are given, <code>None</code> is serialized.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<em>t.Any</em>) – A single value to serialize, or multiple values to treat as a list to serialize.</li> <li>
<strong>kwargs</strong> (<em>t.Any</em>) – Treat as a dict to serialize.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.json.provider.DefaultJSONProvider">
<code>class flask.json.provider.DefaultJSONProvider(app)</code> </dt> <dd>
<p>Provide JSON operations using Python’s built-in <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.11)"><code>json</code></a> library. Serializes the following additional data types:</p> <ul class="simple"> <li>
<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><code>datetime.datetime</code></a> and <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.11)"><code>datetime.date</code></a> are serialized to <a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html" id="index-2"><strong>RFC 822</strong></a> strings. This is the same as the HTTP date format.</li> <li>
<a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(in Python v3.11)"><code>uuid.UUID</code></a> is serialized to a string.</li> <li>
<code>dataclasses.dataclass</code> is passed to <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.asdict" title="(in Python v3.11)"><code>dataclasses.asdict()</code></a>.</li> <li>
<code>Markup</code> (or any object with a <code>__html__</code> method) will call the <code>__html__</code> method to get a string.</li> </ul> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>app</strong> (<em>App</em>) – </p> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.provider.DefaultJSONProvider.default">
<code>static default(o)</code> </dt> <dd>
<p>Apply this function to any object that <code>json.dumps()</code> does not know how to serialize. It should return a valid JSON type or raise a <code>TypeError</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>o</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.json.provider.DefaultJSONProvider.ensure_ascii">
<code>ensure_ascii = True</code> </dt> <dd>
<p>Replace non-ASCII characters with escape sequences. This may be more compatible with some clients, but can be disabled for better performance and size.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.json.provider.DefaultJSONProvider.sort_keys">
<code>sort_keys = True</code> </dt> <dd>
<p>Sort the keys in any serialized dicts. This may be useful for some caching situations, but can be disabled for better performance. When enabled, keys must all be strings, they are not converted before sorting.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.json.provider.DefaultJSONProvider.compact">
<code>compact: bool | None = None</code> </dt> <dd>
<p>If <code>True</code>, or <code>None</code> out of debug mode, the <a class="reference internal" href="#flask.json.provider.DefaultJSONProvider.response" title="flask.json.provider.DefaultJSONProvider.response"><code>response()</code></a> output will not add indentation, newlines, or spaces. If <code>False</code>, or <code>None</code> in debug mode, it will use a non-compact representation.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.json.provider.DefaultJSONProvider.mimetype">
<code>mimetype = 'application/json'</code> </dt> <dd>
<p>The mimetype set in <a class="reference internal" href="#flask.json.provider.DefaultJSONProvider.response" title="flask.json.provider.DefaultJSONProvider.response"><code>response()</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.provider.DefaultJSONProvider.dumps">
<code>dumps(obj, **kwargs)</code> </dt> <dd>
<p>Serialize data as JSON to a string.</p> <p>Keyword arguments are passed to <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dumps" title="(in Python v3.11)"><code>json.dumps()</code></a>. Sets some parameter defaults from the <a class="reference internal" href="#flask.json.provider.DefaultJSONProvider.default" title="flask.json.provider.DefaultJSONProvider.default"><code>default</code></a>, <a class="reference internal" href="#flask.json.provider.DefaultJSONProvider.ensure_ascii" title="flask.json.provider.DefaultJSONProvider.ensure_ascii"><code>ensure_ascii</code></a>, and <a class="reference internal" href="#flask.json.provider.DefaultJSONProvider.sort_keys" title="flask.json.provider.DefaultJSONProvider.sort_keys"><code>sort_keys</code></a> attributes.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – The data to serialize.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Passed to <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dumps" title="(in Python v3.11)"><code>json.dumps()</code></a>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.provider.DefaultJSONProvider.loads">
<code>loads(s, **kwargs)</code> </dt> <dd>
<p>Deserialize data as JSON from a string or bytes.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a>) – Text or UTF-8 bytes.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – Passed to <a class="reference external" href="https://docs.python.org/3/library/json.html#json.loads" title="(in Python v3.11)"><code>json.loads()</code></a>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.provider.DefaultJSONProvider.response">
<code>response(*args, **kwargs)</code> </dt> <dd>
<p>Serialize the given arguments as JSON, and return a <a class="reference internal" href="#flask.Response" title="flask.Response"><code>Response</code></a> object with it. The response mimetype will be “application/json” and can be changed with <a class="reference internal" href="#flask.json.provider.DefaultJSONProvider.mimetype" title="flask.json.provider.DefaultJSONProvider.mimetype"><code>mimetype</code></a>.</p> <p>If <a class="reference internal" href="#flask.json.provider.DefaultJSONProvider.compact" title="flask.json.provider.DefaultJSONProvider.compact"><code>compact</code></a> is <code>False</code> or debug mode is enabled, the output will be formatted to be easier to read.</p> <p>Either positional or keyword arguments can be given, not both. If no arguments are given, <code>None</code> is serialized.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<em>t.Any</em>) – A single value to serialize, or multiple values to treat as a list to serialize.</li> <li>
<strong>kwargs</strong> (<em>t.Any</em>) – Treat as a dict to serialize.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#flask.Response" title="flask.Response">Response</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <section id="tagged-json"> <h3>Tagged JSON</h3> <p>A compact representation for lossless serialization of non-standard JSON types. <a class="reference internal" href="#flask.sessions.SecureCookieSessionInterface" title="flask.sessions.SecureCookieSessionInterface"><code>SecureCookieSessionInterface</code></a> uses this to serialize the session data, but it may be useful in other places. It can be extended to support other types.</p> <dl class="py class"> <dt class="sig sig-object py" id="flask.json.tag.TaggedJSONSerializer">
<code>class flask.json.tag.TaggedJSONSerializer</code> </dt> <dd>
<p>Serializer that uses a tag system to compactly represent objects that are not JSON types. Passed as the intermediate serializer to <code>itsdangerous.Serializer</code>.</p> <p>The following extra types are supported:</p> <ul class="simple"> <li><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code>dict</code></a></li> <li><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code>tuple</code></a></li> <li><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)"><code>bytes</code></a></li> <li><code>Markup</code></li> <li><a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(in Python v3.11)"><code>UUID</code></a></li> <li><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><code>datetime</code></a></li> </ul>  <dl class="py attribute"> <dt class="sig sig-object py" id="flask.json.tag.TaggedJSONSerializer.default_tags">
<code>default_tags = [&lt;class 'flask.json.tag.TagDict'&gt;, &lt;class 'flask.json.tag.PassDict'&gt;, &lt;class 'flask.json.tag.TagTuple'&gt;, &lt;class 'flask.json.tag.PassList'&gt;, &lt;class 'flask.json.tag.TagBytes'&gt;, &lt;class 'flask.json.tag.TagMarkup'&gt;, &lt;class 'flask.json.tag.TagUUID'&gt;, &lt;class 'flask.json.tag.TagDateTime'&gt;]</code> </dt> <dd>
<p>Tag classes to bind when creating the serializer. Other tags can be added later using <a class="reference internal" href="#flask.json.tag.TaggedJSONSerializer.register" title="flask.json.tag.TaggedJSONSerializer.register"><code>register()</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.tag.TaggedJSONSerializer.dumps">
<code>dumps(value)</code> </dt> <dd>
<p>Tag the value and dump it to a compact JSON string.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.tag.TaggedJSONSerializer.loads">
<code>loads(value)</code> </dt> <dd>
<p>Load data from a JSON string and deserialized any tagged objects.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.tag.TaggedJSONSerializer.register">
<code>register(tag_class, force=False, index=None)</code> </dt> <dd>
<p>Register a new tag with this serializer.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>tag_class</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.11)">type</a><em>[</em><a class="reference internal" href="#flask.json.tag.JSONTag" title="flask.json.tag.JSONTag">flask.json.tag.JSONTag</a><em>]</em>) – tag class to register. Will be instantiated with this serializer instance.</li> <li>
<strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – overwrite an existing tag. If false (default), a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.11)"><code>KeyError</code></a> is raised.</li> <li>
<strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a><em> | </em><em>None</em>) – index to insert the new tag in the tag order. Useful when the new tag is a special case of an existing tag. If <code>None</code> (default), the tag is appended to the end of the order.</li> </ul> </dd> <dt class="field-even">Raises<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.11)"><strong>KeyError</strong></a> – if the tag key is already registered and <code>force</code> is not true.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.tag.TaggedJSONSerializer.tag">
<code>tag(value)</code> </dt> <dd>
<p>Convert a value to a tagged representation if necessary.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.tag.TaggedJSONSerializer.untag">
<code>untag(value)</code> </dt> <dd>
<p>Convert a tagged representation back to the original type.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em>]</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.json.tag.JSONTag">
<code>class flask.json.tag.JSONTag(serializer)</code> </dt> <dd>
<p>Base class for defining type tags for <a class="reference internal" href="#flask.json.tag.TaggedJSONSerializer" title="flask.json.tag.TaggedJSONSerializer"><code>TaggedJSONSerializer</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>serializer</strong> (<a class="reference internal" href="#flask.json.tag.TaggedJSONSerializer" title="flask.json.tag.TaggedJSONSerializer">TaggedJSONSerializer</a>) – </p> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.tag.JSONTag.check">
<code>check(value)</code> </dt> <dd>
<p>Check if the given value should be tagged by this tag.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.json.tag.JSONTag.key">
<code>key: str | None = None</code> </dt> <dd>
<p>The tag to mark the serialized object with. If <code>None</code>, this tag is only used as an intermediate step during tagging.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.tag.JSONTag.tag">
<code>tag(value)</code> </dt> <dd>
<p>Convert the value to a valid JSON type and add the tag structure around it.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.tag.JSONTag.to_json">
<code>to_json(value)</code> </dt> <dd>
<p>Convert the Python object to an object that is a valid JSON type. The tag will be added later.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.json.tag.JSONTag.to_python">
<code>to_python(value)</code> </dt> <dd>
<p>Convert the JSON representation back to the correct type. The tag will already be removed.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <p>Let’s see an example that adds support for <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.11)"><code>OrderedDict</code></a>. Dicts don’t have an order in JSON, so to handle this we will dump the items as a list of <code>[key, value]</code> pairs. Subclass <a class="reference internal" href="#flask.json.tag.JSONTag" title="flask.json.tag.JSONTag"><code>JSONTag</code></a> and give it the new key <code>' od'</code> to identify the type. The session serializer processes dicts first, so insert the new tag at the front of the order since <code>OrderedDict</code> must be processed before <code>dict</code>.</p> <pre data-language="python">from flask.json.tag import JSONTag

class TagOrderedDict(JSONTag):
    __slots__ = ('serializer',)
    key = ' od'

    def check(self, value):
        return isinstance(value, OrderedDict)

    def to_json(self, value):
        return [[k, self.serializer.tag(v)] for k, v in iteritems(value)]

    def to_python(self, value):
        return OrderedDict(value)

app.session_interface.serializer.register(TagOrderedDict, index=0)
</pre> </section> </section> <section id="template-rendering"> <h2>Template Rendering</h2> <dl class="py function"> <dt class="sig sig-object py" id="flask.render_template">
<code>flask.render_template(template_name_or_list, **context)</code> </dt> <dd>
<p>Render a template by name with the given context.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>template_name_or_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/api/#jinja2.Template" title="(in Jinja v3.1.x)">Template</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/api/#jinja2.Template" title="(in Jinja v3.1.x)">jinja2.environment.Template</a><em>]</em>) – The name of the template to render. If a list is given, the first name to exist will be rendered.</li> <li>
<strong>context</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – The variables to make available in the template.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.render_template_string">
<code>flask.render_template_string(source, **context)</code> </dt> <dd>
<p>Render a template from the given source string with the given context.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The source code of the template to render.</li> <li>
<strong>context</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – The variables to make available in the template.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.stream_template">
<code>flask.stream_template(template_name_or_list, **context)</code> </dt> <dd>
<p>Render a template by name with the given context as a stream. This returns an iterator of strings, which can be used as a streaming response from a view.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>template_name_or_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/api/#jinja2.Template" title="(in Jinja v3.1.x)">Template</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/api/#jinja2.Template" title="(in Jinja v3.1.x)">jinja2.environment.Template</a><em>]</em>) – The name of the template to render. If a list is given, the first name to exist will be rendered.</li> <li>
<strong>context</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – The variables to make available in the template.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.11)">Iterator</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>]</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2.</span></p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.stream_template_string">
<code>flask.stream_template_string(source, **context)</code> </dt> <dd>
<p>Render a template from the given source string with the given context as a stream. This returns an iterator of strings, which can be used as a streaming response from a view.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – The source code of the template to render.</li> <li>
<strong>context</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – The variables to make available in the template.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.11)">Iterator</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>]</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2.</span></p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.get_template_attribute">
<code>flask.get_template_attribute(template_name, attribute)</code> </dt> <dd>
<p>Loads a macro (or variable) a template exports. This can be used to invoke a macro from within Python code. If you for example have a template named <code>_cider.html</code> with the following contents:</p> <pre data-language="html+jinja">{% macro hello(name) %}Hello {{ name }}!{% endmacro %}
</pre> <p>You can access this from Python code like this:</p> <pre data-language="python">hello = get_template_attribute('_cider.html', 'hello')
return hello('World')
</pre> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.2.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>template_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – the name of the template</li> <li>
<strong>attribute</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – the name of the variable of macro to access</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> </section> <section id="configuration"> <h2>Configuration</h2> <dl class="py class"> <dt class="sig sig-object py" id="flask.Config">
<code>class flask.Config(root_path, defaults=None)</code> </dt> <dd>
<p>Works exactly like a dict but provides ways to fill it from files or special dictionaries. There are two common patterns to populate the config.</p> <p>Either you can fill the config from a config file:</p> <pre data-language="python">app.config.from_pyfile('yourconfig.cfg')
</pre> <p>Or alternatively you can define the configuration options in the module that calls <a class="reference internal" href="#flask.Config.from_object" title="flask.Config.from_object"><code>from_object()</code></a> or provide an import path to a module that should be loaded. It is also possible to tell it to use the same module and with that provide the configuration values just before the call:</p> <pre data-language="python">DEBUG = True
SECRET_KEY = 'development key'
app.config.from_object(__name__)
</pre> <p>In both cases (loading from any Python file or loading from modules), only uppercase keys are added to the config. This makes it possible to use lowercase values in the config file for temporary values that are not added to the config or to define the config keys in the same file that implements the application.</p> <p>Probably the most interesting way to load configurations is from an environment variable pointing to a file:</p> <pre data-language="python">app.config.from_envvar('YOURAPPLICATION_SETTINGS')
</pre> <p>In this case before launching the application you have to set this environment variable to the file you want to use. On Linux and OS X use the export statement:</p> <pre data-language="python">export YOURAPPLICATION_SETTINGS='/path/to/config/file'
</pre> <p>On windows use <code>set</code> instead.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>root_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">os.PathLike</a>) – path to which files are read relative from. When the config object is created by the application, this is the application’s <a class="reference internal" href="#flask.Flask.root_path" title="flask.Flask.root_path"><code>root_path</code></a>.</li> <li>
<strong>defaults</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a><em> | </em><em>None</em>) – an optional dictionary of default values</li> </ul> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Config.from_envvar">
<code>from_envvar(variable_name, silent=False)</code> </dt> <dd>
<p>Loads a configuration from an environment variable pointing to a configuration file. This is basically just a shortcut with nicer error messages for this line of code:</p> <pre data-language="python">app.config.from_pyfile(os.environ['YOURAPPLICATION_SETTINGS'])
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>variable_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – name of the environment variable</li> <li>
<strong>silent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – set to <code>True</code> if you want silent failure for missing files.</li> </ul> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p><code>True</code> if the file was loaded successfully.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Config.from_file">
<code>from_file(filename, load, silent=False, text=True)</code> </dt> <dd>
<p>Update the values in the config from a file that is loaded using the <code>load</code> parameter. The loaded data is passed to the <a class="reference internal" href="#flask.Config.from_mapping" title="flask.Config.from_mapping"><code>from_mapping()</code></a> method.</p> <pre data-language="python">import json
app.config.from_file("config.json", load=json.load)

import tomllib
app.config.from_file("config.toml", load=tomllib.load, text=False)
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">PathLike</a>) – The path to the data file. This can be an absolute path or relative to the config root path.</li> <li>
<strong>load</strong> (<code>Callable[[Reader], Mapping]</code> where <code>Reader</code> implements a <code>read</code> method.) – A callable that takes a file handle and returns a mapping of loaded data from the file.</li> <li>
<strong>silent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Ignore the file if it doesn’t exist.</li> <li>
<strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Open the file in text or binary mode.</li> </ul> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p><code>True</code> if the file was loaded successfully.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>The <code>text</code> parameter was added.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Config.from_mapping">
<code>from_mapping(mapping=None, **kwargs)</code> </dt> <dd>
<p>Updates the config like <code>update()</code> ignoring items with non-upper keys.</p> <dl class="field-list simple"> <dt class="field-odd">Returns<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>Always returns <code>True</code>.</p> </dd> <dt class="field-even">Parameters<span class="colon">:</span>
</dt> <dd class="field-even">
<ul class="simple"> <li>
<strong>mapping</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.11)">Mapping</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em>] </em><em>| </em><em>None</em>) – </li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.11.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Config.from_object">
<code>from_object(obj)</code> </dt> <dd>
<p>Updates the values from the given object. An object can be of one of the following two types:</p> <ul class="simple"> <li>a string: in this case the object with that name will be imported</li> <li>an actual object reference: that object is used directly</li> </ul> <p>Objects are usually either modules or classes. <a class="reference internal" href="#flask.Config.from_object" title="flask.Config.from_object"><code>from_object()</code></a> loads only the uppercase attributes of the module/class. A <code>dict</code> object will not work with <a class="reference internal" href="#flask.Config.from_object" title="flask.Config.from_object"><code>from_object()</code></a> because the keys of a <code>dict</code> are not attributes of the <code>dict</code> class.</p> <p>Example of module-based configuration:</p> <pre data-language="python">app.config.from_object('yourapplication.default_config')
from yourapplication import default_config
app.config.from_object(default_config)
</pre> <p>Nothing is done to the object before loading. If the object is a class and has <code>@property</code> attributes, it needs to be instantiated before being passed to this method.</p> <p>You should not use this function to load the actual configuration but rather configuration defaults. The actual config should be loaded with <a class="reference internal" href="#flask.Config.from_pyfile" title="flask.Config.from_pyfile"><code>from_pyfile()</code></a> and ideally from a location not within the package because the package might be installed system wide.</p> <p>See <a class="reference internal" href="../config/index.html#config-dev-prod"><span class="std std-ref">Development / Production</span></a> for an example of class-based configuration using <a class="reference internal" href="#flask.Config.from_object" title="flask.Config.from_object"><code>from_object()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)">object</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – an import name or object</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Config.from_prefixed_env">
<code>from_prefixed_env(prefix='FLASK', *, loads=&lt;function loads&gt;)</code> </dt> <dd>
<p>Load any environment variables that start with <code>FLASK_</code>, dropping the prefix from the env key for the config key. Values are passed through a loading function to attempt to convert them to more specific types than strings.</p> <p>Keys are loaded in <a class="reference external" href="https://docs.python.org/3/library/functions.html#sorted" title="(in Python v3.11)"><code>sorted()</code></a> order.</p> <p>The default loading function attempts to parse values as any valid JSON type, including dicts and lists.</p> <p>Specific items in nested dicts can be set by separating the keys with double underscores (<code>__</code>). If an intermediate key doesn’t exist, it will be initialized to an empty dict.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – Load env vars that start with this prefix, separated with an underscore (<code>_</code>).</li> <li>
<strong>loads</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a><em>]</em>) – Pass each string value to this function and use the returned value as the config value. If any error is raised it is ignored and the value remains a string. The default is <a class="reference internal" href="#flask.json.loads" title="flask.json.loads"><code>json.loads()</code></a>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.1.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Config.from_pyfile">
<code>from_pyfile(filename, silent=False)</code> </dt> <dd>
<p>Updates the values in the config from a Python file. This function behaves as if the file was imported as module with the <a class="reference internal" href="#flask.Config.from_object" title="flask.Config.from_object"><code>from_object()</code></a> function.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">PathLike</a>) – the filename of the config. This can either be an absolute filename or a filename relative to the root path.</li> <li>
<strong>silent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – set to <code>True</code> if you want silent failure for missing files.</li> </ul> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p><code>True</code> if the file was loaded successfully.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7: </span><code>silent</code> parameter.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.Config.get_namespace">
<code>get_namespace(namespace, lowercase=True, trim_namespace=True)</code> </dt> <dd>
<p>Returns a dictionary containing a subset of configuration options that match the specified namespace/prefix. Example usage:</p> <pre data-language="python">app.config['IMAGE_STORE_TYPE'] = 'fs'
app.config['IMAGE_STORE_PATH'] = '/var/app/images'
app.config['IMAGE_STORE_BASE_URL'] = 'http://img.website.com'
image_store_config = app.config.get_namespace('IMAGE_STORE_')
</pre> <p>The resulting dictionary <code>image_store_config</code> would look like:</p> <pre data-language="python">{
    'type': 'fs',
    'path': '/var/app/images',
    'base_url': 'http://img.website.com'
}
</pre> <p>This is often useful when configuration options map directly to keyword arguments in functions or class constructors.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>namespace</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – a configuration namespace</li> <li>
<strong>lowercase</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – a flag indicating if the keys of the resulting dictionary should be lowercase</li> <li>
<strong>trim_namespace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – a flag indicating if the keys of the resulting dictionary should not include the namespace</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>]</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.11.</span></p> </div> </details>
</dd>
</dl> </dd>
</dl> </section> <section id="stream-helpers"> <h2>Stream Helpers</h2> <dl class="py function"> <dt class="sig sig-object py" id="flask.stream_with_context">
<code>flask.stream_with_context(generator_or_function)</code> </dt> <dd>
<p>Request contexts disappear when the response is started on the server. This is done for efficiency reasons and to make it less likely to encounter memory leaks with badly written WSGI middlewares. The downside is that if you are using streamed responses, the generator cannot access request bound information any more.</p> <p>This function however can help you keep the context around for longer:</p> <pre data-language="python">from flask import stream_with_context, request, Response

@app.route('/stream')
def streamed_response():
    @stream_with_context
    def generate():
        yield 'Hello '
        yield request.args['name']
        yield '!'
    return Response(generate())
</pre> <p>Alternatively it can also be used around a specific generator:</p> <pre data-language="python">from flask import stream_with_context, request, Response

@app.route('/stream')
def streamed_response():
    def generate():
        yield 'Hello '
        yield request.args['name']
        yield '!'
    return Response(stream_with_context(generate()))
</pre> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.9.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>generator_or_function</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.11)">Iterator</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.11)">Iterator</a><em>]</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.11)">Iterator</a></p> </dd> </dl> </dd>
</dl> </section> <section id="useful-internals"> <h2>Useful Internals</h2> <dl class="py class"> <dt class="sig sig-object py" id="flask.ctx.RequestContext">
<code>class flask.ctx.RequestContext(app, environ, request=None, session=None)</code> </dt> <dd>
<p>The request context contains per-request information. The Flask app creates and pushes it at the beginning of the request, then pops it at the end of the request. It will create the URL adapter and request object for the WSGI environment provided.</p> <p>Do not attempt to use this class directly, instead use <a class="reference internal" href="#flask.Flask.test_request_context" title="flask.Flask.test_request_context"><code>test_request_context()</code></a> and <a class="reference internal" href="#flask.Flask.request_context" title="flask.Flask.request_context"><code>request_context()</code></a> to create this object.</p> <p>When the request context is popped, it will evaluate all the functions registered on the application for teardown execution (<a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code>teardown_request()</code></a>).</p> <p>The request context is automatically popped at the end of the request. When using the interactive debugger, the context will be restored so <code>request</code> is still accessible. Similarly, the test client can preserve the context after the request ends. However, teardown functions may already have closed some resources such as database connections.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </li> <li>
<strong>environ</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a>) – </li> <li>
<strong>request</strong> (<a class="reference internal" href="#flask.Request" title="flask.Request">Request</a><em> | </em><em>None</em>) – </li> <li>
<strong>session</strong> (<a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin">SessionMixin</a><em> | </em><em>None</em>) – </li> </ul> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.ctx.RequestContext.copy">
<code>copy()</code> </dt> <dd>
<p>Creates a copy of this request context with the same request object. This can be used to move a request context to a different greenlet. Because the actual request object is the same this cannot be used to move a request context to a different thread unless access to the request object is locked.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.1: </span>The current session object is used instead of reloading the original data. This prevents <code>flask.session</code> pointing to an out-of-date object.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference internal" href="#flask.ctx.RequestContext" title="flask.ctx.RequestContext">RequestContext</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.ctx.RequestContext.match_request">
<code>match_request()</code> </dt> <dd>
<p>Can be overridden by a subclass to hook into the matching of the request.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.ctx.RequestContext.pop">
<code>pop(exc=&lt;object object&gt;)</code> </dt> <dd>
<p>Pops the request context and unbinds it by doing that. This will also trigger the execution of functions registered by the <a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code>teardown_request()</code></a> decorator.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>Added the <code>exc</code> argument.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>exc</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#BaseException" title="(in Python v3.11)">BaseException</a><em> | </em><em>None</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.flask.globals.request_ctx">
<code>flask.globals.request_ctx</code> </dt> <dd>
<p>The current <a class="reference internal" href="#flask.ctx.RequestContext" title="flask.ctx.RequestContext"><code>RequestContext</code></a>. If a request context is not active, accessing attributes on this proxy will raise a <code>RuntimeError</code>.</p> <p>This is an internal object that is essential to how Flask handles requests. Accessing this should not be needed in most cases. Most likely you want <a class="reference internal" href="#flask.request" title="flask.request"><code>request</code></a> and <a class="reference internal" href="#flask.session" title="flask.session"><code>session</code></a> instead.</p> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.ctx.AppContext">
<code>class flask.ctx.AppContext(app)</code> </dt> <dd>
<p>The app context contains application-specific information. An app context is created and pushed at the beginning of each request if one is not already active. An app context is also pushed when running CLI commands.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>app</strong> (<a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a>) – </p> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.ctx.AppContext.pop">
<code>pop(exc=&lt;object object&gt;)</code> </dt> <dd>
<p>Pops the app context.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>exc</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#BaseException" title="(in Python v3.11)">BaseException</a><em> | </em><em>None</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.ctx.AppContext.push">
<code>push()</code> </dt> <dd>
<p>Binds the app context to the current context.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>None</p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.flask.globals.app_ctx">
<code>flask.globals.app_ctx</code> </dt> <dd>
<p>The current <a class="reference internal" href="#flask.ctx.AppContext" title="flask.ctx.AppContext"><code>AppContext</code></a>. If an app context is not active, accessing attributes on this proxy will raise a <code>RuntimeError</code>.</p> <p>This is an internal object that is essential to how Flask handles requests. Accessing this should not be needed in most cases. Most likely you want <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code>current_app</code></a> and <a class="reference internal" href="#flask.g" title="flask.g"><code>g</code></a> instead.</p> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.blueprints.BlueprintSetupState">
<code>class flask.blueprints.BlueprintSetupState(blueprint, app, options, first_registration)</code> </dt> <dd>
<p>Temporary holder object for registering a blueprint with the application. An instance of this class is created by the <a class="reference internal" href="#flask.Blueprint.make_setup_state" title="flask.Blueprint.make_setup_state"><code>make_setup_state()</code></a> method and later passed to all register callback functions.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>blueprint</strong> (<a class="reference internal" href="#flask.Blueprint" title="flask.blueprints.Blueprint">Blueprint</a>) – </li> <li>
<strong>app</strong> (<em>App</em>) – </li> <li>
<strong>options</strong> (<em>t.Any</em>) – </li> <li>
<strong>first_registration</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> </ul> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.blueprints.BlueprintSetupState.add_url_rule">
<code>add_url_rule(rule, endpoint=None, view_func=None, **options)</code> </dt> <dd>
<p>A helper method to register a rule (and optionally a view function) to the application. The endpoint is automatically prefixed with the blueprint’s name.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>rule</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>endpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> <li>
<strong>view_func</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.11)">Callable</a><em> | </em><em>None</em>) – </li> <li>
<strong>options</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.blueprints.BlueprintSetupState.app">
<code>app</code> </dt> <dd>
<p>a reference to the current application</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.blueprints.BlueprintSetupState.blueprint">
<code>blueprint</code> </dt> <dd>
<p>a reference to the blueprint that created this setup state.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.blueprints.BlueprintSetupState.first_registration">
<code>first_registration</code> </dt> <dd>
<p>as blueprints can be registered multiple times with the application and not everything wants to be registered multiple times on it, this attribute can be used to figure out if the blueprint was registered in the past already.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.blueprints.BlueprintSetupState.options">
<code>options</code> </dt> <dd>
<p>a dictionary with all options that were passed to the <a class="reference internal" href="#flask.Flask.register_blueprint" title="flask.Flask.register_blueprint"><code>register_blueprint()</code></a> method.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.blueprints.BlueprintSetupState.subdomain">
<code>subdomain</code> </dt> <dd>
<p>The subdomain that the blueprint should be active for, <code>None</code> otherwise.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.blueprints.BlueprintSetupState.url_defaults">
<code>url_defaults</code> </dt> <dd>
<p>A dictionary with URL defaults that is added to each and every URL that was defined with the blueprint.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.blueprints.BlueprintSetupState.url_prefix">
<code>url_prefix</code> </dt> <dd>
<p>The prefix that should be used for all URLs defined on the blueprint.</p> </dd>
</dl> </dd>
</dl> </section> <section id="signals"> <h2 id="core-signals-list">Signals</h2> <p>Signals are provided by the <a class="reference external" href="https://blinker.readthedocs.io/">Blinker</a> library. See <a class="reference internal" href="../signals/index.html"><span class="doc">Signals</span></a> for an introduction.</p> <dl class="py data"> <dt class="sig sig-object py" id="flask.template_rendered">
<code>flask.template_rendered</code> </dt> <dd>
<p>This signal is sent when a template was successfully rendered. The signal is invoked with the instance of the template as <code>template</code> and the context as dictionary (named <code>context</code>).</p> <p>Example subscriber:</p> <pre data-language="python">def log_template_renders(sender, template, context, **extra):
    sender.logger.debug('Rendering template "%s" with context %s',
                        template.name or 'string template',
                        context)

from flask import template_rendered
template_rendered.connect(log_template_renders, app)
</pre> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py"> <span class="sig-prename descclassname">flask.</span><span class="sig-name descname">before_render_template</span>
</dt> <dd>
<p>This signal is sent before template rendering process. The signal is invoked with the instance of the template as <code>template</code> and the context as dictionary (named <code>context</code>).</p> <p>Example subscriber:</p> <pre data-language="python">def log_template_renders(sender, template, context, **extra):
    sender.logger.debug('Rendering template "%s" with context %s',
                        template.name or 'string template',
                        context)

from flask import before_render_template
before_render_template.connect(log_template_renders, app)
</pre> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.request_started">
<code>flask.request_started</code> </dt> <dd>
<p>This signal is sent when the request context is set up, before any request processing happens. Because the request context is already bound, the subscriber can access the request with the standard global proxies such as <a class="reference internal" href="#flask.request" title="flask.request"><code>request</code></a>.</p> <p>Example subscriber:</p> <pre data-language="python">def log_request(sender, **extra):
    sender.logger.debug('Request context is set up')

from flask import request_started
request_started.connect(log_request, app)
</pre> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.request_finished">
<code>flask.request_finished</code> </dt> <dd>
<p>This signal is sent right before the response is sent to the client. It is passed the response to be sent named <code>response</code>.</p> <p>Example subscriber:</p> <pre data-language="python">def log_response(sender, response, **extra):
    sender.logger.debug('Request context is about to close down. '
                        'Response: %s', response)

from flask import request_finished
request_finished.connect(log_response, app)
</pre> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.got_request_exception">
<code>flask.got_request_exception</code> </dt> <dd>
<p>This signal is sent when an unhandled exception happens during request processing, including when debugging. The exception is passed to the subscriber as <code>exception</code>.</p> <p>This signal is not sent for <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/exceptions/#werkzeug.exceptions.HTTPException" title="(in Werkzeug v2.3.x)"><code>HTTPException</code></a>, or other exceptions that have error handlers registered, unless the exception was raised from an error handler.</p> <p>This example shows how to do some extra logging if a theoretical <code>SecurityException</code> was raised:</p> <pre data-language="python">from flask import got_request_exception

def log_security_exception(sender, exception, **extra):
    if not isinstance(exception, SecurityException):
        return

    security_logger.exception(
        f"SecurityException at {request.url!r}",
        exc_info=exception,
    )

got_request_exception.connect(log_security_exception, app)
</pre> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.request_tearing_down">
<code>flask.request_tearing_down</code> </dt> <dd>
<p>This signal is sent when the request is tearing down. This is always called, even if an exception is caused. Currently functions listening to this signal are called after the regular teardown handlers, but this is not something you can rely on.</p> <p>Example subscriber:</p> <pre data-language="python">def close_db_connection(sender, **extra):
    session.close()

from flask import request_tearing_down
request_tearing_down.connect(close_db_connection, app)
</pre> <p>As of Flask 0.9, this will also be passed an <code>exc</code> keyword argument that has a reference to the exception that caused the teardown if there was one.</p> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.appcontext_tearing_down">
<code>flask.appcontext_tearing_down</code> </dt> <dd>
<p>This signal is sent when the app context is tearing down. This is always called, even if an exception is caused. Currently functions listening to this signal are called after the regular teardown handlers, but this is not something you can rely on.</p> <p>Example subscriber:</p> <pre data-language="python">def close_db_connection(sender, **extra):
    session.close()

from flask import appcontext_tearing_down
appcontext_tearing_down.connect(close_db_connection, app)
</pre> <p>This will also be passed an <code>exc</code> keyword argument that has a reference to the exception that caused the teardown if there was one.</p> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.appcontext_pushed">
<code>flask.appcontext_pushed</code> </dt> <dd>
<p>This signal is sent when an application context is pushed. The sender is the application. This is usually useful for unittests in order to temporarily hook in information. For instance it can be used to set a resource early onto the <code>g</code> object.</p> <p>Example usage:</p> <pre data-language="python">from contextlib import contextmanager
from flask import appcontext_pushed

@contextmanager
def user_set(app, user):
    def handler(sender, **kwargs):
        g.user = user
    with appcontext_pushed.connected_to(handler, app):
        yield
</pre> <p>And in the testcode:</p> <pre data-language="python">def test_user_me(self):
    with user_set(app, 'john'):
        c = app.test_client()
        resp = c.get('/users/me')
        assert resp.data == 'username=john'
</pre> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details>
</dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.appcontext_popped">
<code>flask.appcontext_popped</code> </dt> <dd>
<p>This signal is sent when an application context is popped. The sender is the application. This usually falls in line with the <a class="reference internal" href="#flask.appcontext_tearing_down" title="flask.appcontext_tearing_down"><code>appcontext_tearing_down</code></a> signal.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details>
</dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.message_flashed">
<code>flask.message_flashed</code> </dt> <dd>
<p>This signal is sent when the application is flashing a message. The messages is sent as <code>message</code> keyword argument and the category as <code>category</code>.</p> <p>Example subscriber:</p> <pre data-language="python">recorded = []
def record(sender, message, category, **extra):
    recorded.append((message, category))

from flask import message_flashed
message_flashed.connect(record, app)
</pre> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.</span></p> </div> </details>
</dd>
</dl> </section> <section id="class-based-views"> <h2>Class-Based Views</h2> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.7.</span></p> </div> </details><dl class="py class"> <dt class="sig sig-object py" id="flask.views.View">
<code>class flask.views.View</code> </dt> <dd>
<p>Subclass this class and override <a class="reference internal" href="#flask.views.View.dispatch_request" title="flask.views.View.dispatch_request"><code>dispatch_request()</code></a> to create a generic class-based view. Call <a class="reference internal" href="#flask.views.View.as_view" title="flask.views.View.as_view"><code>as_view()</code></a> to create a view function that creates an instance of the class with the given arguments and calls its <code>dispatch_request</code> method with any URL variables.</p> <p>See <a class="reference internal" href="../views/index.html"><span class="doc">Class-based Views</span></a> for a detailed guide.</p> <pre data-language="python">class Hello(View):
    init_every_request = False

    def dispatch_request(self, name):
        return f"Hello, {name}!"

app.add_url_rule(
    "/hello/&lt;name&gt;", view_func=Hello.as_view("hello")
)
</pre> <p>Set <a class="reference internal" href="#flask.views.View.methods" title="flask.views.View.methods"><code>methods</code></a> on the class to change what methods the view accepts.</p> <p>Set <a class="reference internal" href="#flask.views.View.decorators" title="flask.views.View.decorators"><code>decorators</code></a> on the class to apply a list of decorators to the generated view function. Decorators applied to the class itself will not be applied to the generated view function!</p> <p>Set <a class="reference internal" href="#flask.views.View.init_every_request" title="flask.views.View.init_every_request"><code>init_every_request</code></a> to <code>False</code> for efficiency, unless you need to store request-global data on <code>self</code>.</p> <dl class="py method"> <dt class="sig sig-object py" id="flask.views.View.as_view">
<code>classmethod as_view(name, *class_args, **class_kwargs)</code> </dt> <dd>
<p>Convert the class into a view function that can be registered for a route.</p> <p>By default, the generated view will create a new instance of the view class for every request and call its <a class="reference internal" href="#flask.views.View.dispatch_request" title="flask.views.View.dispatch_request"><code>dispatch_request()</code></a> method. If the view class sets <a class="reference internal" href="#flask.views.View.init_every_request" title="flask.views.View.init_every_request"><code>init_every_request</code></a> to <code>False</code>, the same instance will be used for every request.</p> <p>Except for <code>name</code>, all other arguments passed to this method are forwarded to the view class <code>__init__</code> method.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>Added the <code>init_every_request</code> class attribute.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>) – </li> <li>
<strong>class_args</strong> (<em>t.Any</em>) – </li> <li>
<strong>class_kwargs</strong> (<em>t.Any</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>ft.RouteCallable</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.views.View.decorators">
<code>decorators: ClassVar[list[Callable]] = []</code> </dt> <dd>
<p>A list of decorators to apply, in order, to the generated view function. Remember that <code>@decorator</code> syntax is applied bottom to top, so the first decorator in the list would be the bottom decorator.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.views.View.dispatch_request">
<code>dispatch_request()</code> </dt> <dd>
<p>The actual view function behavior. Subclasses must override this and return a valid response. Any variables from the URL rule are passed as keyword arguments.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>ft.ResponseReturnValue</p> </dd> </dl> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.views.View.init_every_request">
<code>init_every_request: ClassVar[bool] = True</code> </dt> <dd>
<p>Create a new instance of this view class for every request by default. If a view subclass sets this to <code>False</code>, the same instance is used for every request.</p> <p>A single instance is more efficient, especially if complex setup is done during init. However, storing data on <code>self</code> is no longer safe across requests, and <a class="reference internal" href="#flask.g" title="flask.g"><code>g</code></a> should be used instead.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 2.2.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.views.View.methods">
<code>methods: ClassVar[Collection[str] | None] = None</code> </dt> <dd>
<p>The methods this view is registered for. Uses the same default (<code>["GET", "HEAD", "OPTIONS"]</code>) as <code>route</code> and <code>add_url_rule</code> by default.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.views.View.provide_automatic_options">
<code>provide_automatic_options: ClassVar[bool | None] = None</code> </dt> <dd>
<p>Control whether the <code>OPTIONS</code> method is handled automatically. Uses the same default (<code>True</code>) as <code>route</code> and <code>add_url_rule</code> by default.</p> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.views.MethodView">
<code>class flask.views.MethodView</code> </dt> <dd>
<p>Dispatches request methods to the corresponding instance methods. For example, if you implement a <code>get</code> method, it will be used to handle <code>GET</code> requests.</p> <p>This can be useful for defining a REST API.</p> <p><code>methods</code> is automatically set based on the methods defined on the class.</p> <p>See <a class="reference internal" href="../views/index.html"><span class="doc">Class-based Views</span></a> for a detailed guide.</p> <pre data-language="python">class CounterAPI(MethodView):
    def get(self):
        return str(session.get("counter", 0))

    def post(self):
        session["counter"] = session.get("counter", 0) + 1
        return redirect(url_for("counter"))

app.add_url_rule(
    "/counter", view_func=CounterAPI.as_view("counter")
)
</pre> <dl class="py method"> <dt class="sig sig-object py" id="flask.views.MethodView.dispatch_request">
<code>dispatch_request(**kwargs)</code> </dt> <dd>
<p>The actual view function behavior. Subclasses must override this and return a valid response. Any variables from the URL rule are passed as keyword arguments.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>kwargs</strong> (<em>t.Any</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>ft.ResponseReturnValue</p> </dd> </dl> </dd>
</dl> </dd>
</dl> </section> <section id="url-route-registrations"> <h2 id="id1">URL Route Registrations</h2> <p>Generally there are three ways to define rules for the routing system:</p> <ol class="arabic simple"> <li>You can use the <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code>flask.Flask.route()</code></a> decorator.</li> <li>You can use the <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code>flask.Flask.add_url_rule()</code></a> function.</li> <li>You can directly access the underlying Werkzeug routing system which is exposed as <a class="reference internal" href="#flask.Flask.url_map" title="flask.Flask.url_map"><code>flask.Flask.url_map</code></a>.</li> </ol> <p>Variable parts in the route can be specified with angular brackets (<code>/user/&lt;username&gt;</code>). By default a variable part in the URL accepts any string without a slash however a different converter can be specified as well by using <code>&lt;converter:name&gt;</code>.</p> <p>Variable parts are passed to the view function as keyword arguments.</p> <p>The following converters are available:</p> <table class="docutils align-default">  <tr>
<td><p><code>string</code></p></td> <td><p>accepts any text without a slash (the default)</p></td> </tr> <tr>
<td><p><code>int</code></p></td> <td><p>accepts integers</p></td> </tr> <tr>
<td><p><code>float</code></p></td> <td><p>like <code>int</code> but for floating point values</p></td> </tr> <tr>
<td><p><code>path</code></p></td> <td><p>like the default but also accepts slashes</p></td> </tr> <tr>
<td><p><code>any</code></p></td> <td><p>matches one of the items provided</p></td> </tr> <tr>
<td><p><code>uuid</code></p></td> <td><p>accepts UUID strings</p></td> </tr>  </table> <p>Custom converters can be defined using <a class="reference internal" href="#flask.Flask.url_map" title="flask.Flask.url_map"><code>flask.Flask.url_map</code></a>.</p> <p>Here are some examples:</p> <pre data-language="python">@app.route('/')
def index():
    pass

@app.route('/&lt;username&gt;')
def show_user(username):
    pass

@app.route('/post/&lt;int:post_id&gt;')
def show_post(post_id):
    pass
</pre> <p>An important detail to keep in mind is how Flask deals with trailing slashes. The idea is to keep each URL unique so the following rules apply:</p> <ol class="arabic simple"> <li>If a rule ends with a slash and is requested without a slash by the user, the user is automatically redirected to the same page with a trailing slash attached.</li> <li>If a rule does not end with a trailing slash and the user requests the page with a trailing slash, a 404 not found is raised.</li> </ol> <p>This is consistent with how web servers deal with static files. This also makes it possible to use relative link targets safely.</p> <p>You can also define multiple rules for the same function. They have to be unique however. Defaults can also be specified. Here for example is a definition for a URL that accepts an optional page:</p> <pre data-language="python">@app.route('/users/', defaults={'page': 1})
@app.route('/users/page/&lt;int:page&gt;')
def show_users(page):
    pass
</pre> <p>This specifies that <code>/users/</code> will be the URL for page one and <code>/users/page/N</code> will be the URL for page <code>N</code>.</p> <p>If a URL contains a default value, it will be redirected to its simpler form with a 301 redirect. In the above example, <code>/users/page/1</code> will be redirected to <code>/users/</code>. If your route handles <code>GET</code> and <code>POST</code> requests, make sure the default route only handles <code>GET</code>, as redirects can’t preserve form data.</p> <pre data-language="python">@app.route('/region/', defaults={'id': 1})
@app.route('/region/&lt;int:id&gt;', methods=['GET', 'POST'])
def region(id):
   pass
</pre> <p>Here are the parameters that <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code>route()</code></a> and <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code>add_url_rule()</code></a> accept. The only difference is that with the route parameter the view function is defined with the decorator instead of the <code>view_func</code> parameter.</p> <table class="docutils align-default">  <tr>
<td><p><code>rule</code></p></td> <td><p>the URL rule as string</p></td> </tr> <tr>
<td><p><code>endpoint</code></p></td> <td><p>the endpoint for the registered URL rule. Flask itself assumes that the name of the view function is the name of the endpoint if not explicitly stated.</p></td> </tr> <tr>
<td><p><code>view_func</code></p></td> <td><p>the function to call when serving a request to the provided endpoint. If this is not provided one can specify the function later by storing it in the <a class="reference internal" href="#flask.Flask.view_functions" title="flask.Flask.view_functions"><code>view_functions</code></a> dictionary with the endpoint as key.</p></td> </tr> <tr>
<td><p><code>defaults</code></p></td> <td><p>A dictionary with defaults for this rule. See the example above for how defaults work.</p></td> </tr> <tr>
<td><p><code>subdomain</code></p></td> <td><p>specifies the rule for the subdomain in case subdomain matching is in use. If not specified the default subdomain is assumed.</p></td> </tr> <tr>
<td><p><code>**options</code></p></td> <td><p>the options to be forwarded to the underlying <a class="reference external" href="https://werkzeug.palletsprojects.com/en/2.3.x/routing/#werkzeug.routing.Rule" title="(in Werkzeug v2.3.x)"><code>Rule</code></a> object. A change to Werkzeug is handling of method options. methods is a list of methods this rule should be limited to (<code>GET</code>, <code>POST</code> etc.). By default a rule just listens for <code>GET</code> (and implicitly <code>HEAD</code>). Starting with Flask 0.6, <code>OPTIONS</code> is implicitly added and handled by the standard request handling. They have to be specified as keyword arguments.</p></td> </tr>  </table> </section> <section id="view-function-options"> <h2>View Function Options</h2> <p>For internal usage the view functions can have some attributes attached to customize behavior the view function would normally not have control over. The following attributes can be provided optionally to either override some defaults to <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code>add_url_rule()</code></a> or general behavior:</p> <ul class="simple"> <li>
<code>__name__</code>: The name of a function is by default used as endpoint. If endpoint is provided explicitly this value is used. Additionally this will be prefixed with the name of the blueprint by default which cannot be customized from the function itself.</li> <li>
<code>methods</code>: If methods are not provided when the URL rule is added, Flask will look on the view function object itself if a <code>methods</code> attribute exists. If it does, it will pull the information for the methods from there.</li> <li>
<code>provide_automatic_options</code>: if this attribute is set Flask will either force enable or disable the automatic implementation of the HTTP <code>OPTIONS</code> response. This can be useful when working with decorators that want to customize the <code>OPTIONS</code> response on a per-view basis.</li> <li>
<code>required_methods</code>: if this attribute is set, Flask will always add these methods when registering a URL rule even if the methods were explicitly overridden in the <code>route()</code> call.</li> </ul> <p>Full example:</p> <pre data-language="python">def index():
    if request.method == 'OPTIONS':
        # custom options handling here
        ...
    return 'Hello World!'
index.provide_automatic_options = False
index.methods = ['GET', 'OPTIONS']

app.add_url_rule('/', index)
</pre> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.8: </span>The <code>provide_automatic_options</code> functionality was added.</p> </div> </details></section> <section id="command-line-interface"> <h2>Command Line Interface</h2> <dl class="py class"> <dt class="sig sig-object py" id="flask.cli.FlaskGroup">
<code>class flask.cli.FlaskGroup(add_default_commands=True, create_app=None, add_version_option=True, load_dotenv=True, set_debug_flag=True, **extra)</code> </dt> <dd>
<p>Special subclass of the <a class="reference internal" href="#flask.cli.AppGroup" title="flask.cli.AppGroup"><code>AppGroup</code></a> group that supports loading more commands from the configured Flask app. Normally a developer does not have to interface with this class but there are some very advanced use cases for which it makes sense to create an instance of this. see <a class="reference internal" href="../cli/index.html#custom-scripts"><span class="std std-ref">Custom Scripts</span></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>add_default_commands</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – if this is True then the default run and shell commands will be added.</li> <li>
<strong>add_version_option</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – adds the <code>--version</code> option.</li> <li>
<strong>create_app</strong> (<em>t.Callable</em><em>[</em><em>...</em><em>, </em><a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a><em>] </em><em>| </em><em>None</em>) – an optional callback that is passed the script info and returns the loaded app.</li> <li>
<strong>load_dotenv</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Load the nearest <code>.env</code> and <code>.flaskenv</code> files to set environment variables. Will also change the working directory to the directory containing the first file found.</li> <li>
<strong>set_debug_flag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – Set the app’s debug flag.</li> <li>
<strong>extra</strong> (<em>t.Any</em>) – </li> </ul> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>Added the <code>-A/--app</code>, <code>--debug/--no-debug</code>, <code>-e/--env-file</code> options.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>An app context is pushed when running <code>app.cli</code> commands, so <code>@with_appcontext</code> is no longer required for those commands.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span>If installed, python-dotenv will be used to load environment variables from <code>.env</code> and <code>.flaskenv</code> files.</p> </div> </details><dl class="py method"> <dt class="sig sig-object py" id="flask.cli.FlaskGroup.get_command">
<code>get_command(ctx, name)</code> </dt> <dd>
<p>Given a context and a command name, this returns a <code>Command</code> object if it exists or returns <code>None</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.cli.FlaskGroup.list_commands">
<code>list_commands(ctx)</code> </dt> <dd>
<p>Returns a list of subcommand names in the order they should appear.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.cli.FlaskGroup.make_context">
<code>make_context(info_name, args, parent=None, **extra)</code> </dt> <dd>
<p>This function when given an info name and arguments will kick off the parsing and create a new <code>Context</code>. It does not invoke the actual command callback though.</p> <p>To quickly customize the context class used without overriding this method, set the <code>context_class</code> attribute.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>info_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – the info name for this invocation. Generally this is the most descriptive name for the script or command. For the toplevel script it’s usually the name of the script, for commands below it’s the name of the command.</li> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>]</em>) – the arguments to parse as list of strings.</li> <li>
<strong>parent</strong> (<a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.Context" title="(in Click v8.1.x)">Context</a><em> | </em><em>None</em>) – the parent context if available.</li> <li>
<strong>extra</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – extra keyword arguments forwarded to the context constructor.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.Context" title="(in Click v8.1.x)">Context</a></p> </dd> </dl> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 8.0: </span>Added the <code>context_class</code> attribute.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.cli.FlaskGroup.parse_args">
<code>parse_args(ctx, args)</code> </dt> <dd>
<p>Given a context and a list of arguments this creates the parser and parses the arguments, then modifies the context as necessary. This is automatically invoked by <a class="reference internal" href="#flask.cli.FlaskGroup.make_context" title="flask.cli.FlaskGroup.make_context"><code>make_context()</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>ctx</strong> (<a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.Context" title="(in Click v8.1.x)">Context</a>) – </li> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>]</em>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>]</p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.cli.AppGroup">
<code>class flask.cli.AppGroup(name=None, commands=None, **attrs)</code> </dt> <dd>
<p>This works similar to a regular click <a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.Group" title="(in Click v8.1.x)"><code>Group</code></a> but it changes the behavior of the <a class="reference internal" href="#flask.cli.AppGroup.command" title="flask.cli.AppGroup.command"><code>command()</code></a> decorator so that it automatically wraps the functions in <a class="reference internal" href="#flask.cli.with_appcontext" title="flask.cli.with_appcontext"><code>with_appcontext()</code></a>.</p> <p>Not to be confused with <a class="reference internal" href="#flask.cli.FlaskGroup" title="flask.cli.FlaskGroup"><code>FlaskGroup</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> <li>
<strong>commands</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.MutableMapping" title="(in Python v3.11)">MutableMapping</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>, </em><a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.Command" title="(in Click v8.1.x)">Command</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.11)">Sequence</a><em>[</em><a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.Command" title="(in Click v8.1.x)">Command</a><em>] </em><em>| </em><em>None</em>) – </li> <li>
<strong>attrs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.cli.AppGroup.command">
<code>command(*args, **kwargs)</code> </dt> <dd>
<p>This works exactly like the method of the same name on a regular <a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.Group" title="(in Click v8.1.x)"><code>click.Group</code></a> but it wraps callbacks in <a class="reference internal" href="#flask.cli.with_appcontext" title="flask.cli.with_appcontext"><code>with_appcontext()</code></a> unless it’s disabled by passing <code>with_appcontext=False</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.cli.AppGroup.group">
<code>group(*args, **kwargs)</code> </dt> <dd>
<p>This works exactly like the method of the same name on a regular <a class="reference external" href="https://click.palletsprojects.com/en/8.1.x/api/#click.Group" title="(in Click v8.1.x)"><code>click.Group</code></a> but it defaults the group class to <a class="reference internal" href="#flask.cli.AppGroup" title="flask.cli.AppGroup"><code>AppGroup</code></a>.</p> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="flask.cli.ScriptInfo">
<code>class flask.cli.ScriptInfo(app_import_path=None, create_app=None, set_debug_flag=True)</code> </dt> <dd>
<p>Helper object to deal with Flask applications. This is usually not necessary to interface with as it’s used internally in the dispatching to click. In future versions of Flask this object will most likely play a bigger role. Typically it’s created automatically by the <a class="reference internal" href="#flask.cli.FlaskGroup" title="flask.cli.FlaskGroup"><code>FlaskGroup</code></a> but you can also manually create it and pass it onwards as click object.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app_import_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><em>None</em>) – </li> <li>
<strong>create_app</strong> (<em>t.Callable</em><em>[</em><em>...</em><em>, </em><a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a><em>] </em><em>| </em><em>None</em>) – </li> <li>
<strong>set_debug_flag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a>) – </li> </ul> </dd> </dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.cli.ScriptInfo.app_import_path">
<code>app_import_path</code> </dt> <dd>
<p>Optionally the import path for the Flask application.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.cli.ScriptInfo.create_app">
<code>create_app</code> </dt> <dd>
<p>Optionally a function that is passed the script info to create the instance of the application.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="flask.cli.ScriptInfo.data">
<code>data: dict[t.Any, t.Any]</code> </dt> <dd>
<p>A dictionary with arbitrary data that can be associated with this script info.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="flask.cli.ScriptInfo.load_app">
<code>load_app()</code> </dt> <dd>
<p>Loads the Flask app (if not yet loaded) and returns it. Calling this multiple times will just result in the already loaded app to be returned.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference internal" href="#flask.Flask" title="flask.Flask">Flask</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.cli.load_dotenv">
<code>flask.cli.load_dotenv(path=None)</code> </dt> <dd>
<p>Load “dotenv” files in order of precedence to set environment variables.</p> <p>If an env var is already set it is not overwritten, so earlier files in the list are preferred over later files.</p> <p>This is a no-op if <a class="reference external" href="https://github.com/theskumar/python-dotenv#readme">python-dotenv</a> is not installed.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.11)">PathLike</a><em> | </em><em>None</em>) – Load the file at this location instead of searching.</p> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p><code>True</code> if a file was loaded.</p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>The current directory is not changed to the location of the loaded file.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>When loading the env files, set the default encoding to UTF-8.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.1.0: </span>Returns <code>False</code> when python-dotenv is not installed, or when the given path isn’t a file.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.</span></p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.cli.with_appcontext">
<code>flask.cli.with_appcontext(f)</code> </dt> <dd>
<p>Wraps a callback so that it’s guaranteed to be executed with the script’s application context.</p> <p>Custom commands (and their options) registered under <code>app.cli</code> or <code>blueprint.cli</code> will always have an app context available, this decorator is not required in that case.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.2: </span>The app context is active for subcommands as well as the decorated callback. The app context is always available to <code>app.cli</code> command and parameter callbacks.</p> </div> </details>
</dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="flask.cli.pass_script_info">
<code>flask.cli.pass_script_info(f)</code> </dt> <dd>
<p>Marks a function so that an instance of <a class="reference internal" href="#flask.cli.ScriptInfo" title="flask.cli.ScriptInfo"><code>ScriptInfo</code></a> is passed as first argument to the click callback.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>f</strong> (<em>t.Callable</em><em>[</em><em>te.Concatenate</em><em>[</em><em>T</em><em>, </em><em>P</em><em>]</em><em>, </em><em>R</em><em>]</em>) – </p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>t.Callable[P, R]</p> </dd> </dl> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.cli.run_command">
<code>flask.cli.run_command = &lt;Command run&gt;</code> </dt> <dd>
<p>Run a local development server.</p> <p>This server is for development purposes only. It does not provide the stability, security, or performance of production WSGI servers.</p> <p>The reloader and debugger are enabled by default with the ‘–debug’ option.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="flask.cli.shell_command">
<code>flask.cli.shell_command = &lt;Command shell&gt;</code> </dt> <dd>
<p>Run an interactive Python shell in the context of a given Flask application. The application will populate the default namespace of this shell according to its configuration.</p> <p>This is useful for executing small snippets of management code without having to manually configure the application.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a>) – </li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.11)">Any</a></p> </dd> </dl> </dd>
</dl> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 Pallets<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://flask.palletsprojects.com/en/3.0.x/api/" class="_attribution-link">https://flask.palletsprojects.com/en/3.0.x/api/</a>
  </p>
</div>
