<h1 id="filter"><span class="pre">filter</span></h1> <p>The <code class="docutils literal notranslate"><span class="pre">filter</span></code> filter filters elements of a sequence or a mapping using an arrow function. The arrow function receives the value of the sequence or mapping:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">sizes</span> <span class="o">=</span> <span class="o">[</span><span class="m">34</span><span class="o">,</span> <span class="m">36</span><span class="o">,</span> <span class="m">38</span><span class="o">,</span> <span class="m">40</span><span class="o">,</span> <span class="m">42</span><span class="o">]</span> <span class="cp">%}</span>

<span class="cp">{{</span> <span class="nv">sizes</span><span class="o">|</span><span class="nf">filter</span><span class="o">(</span><span class="nv">v</span> <span class="o">=&gt;</span> <span class="nv">v</span> <span class="o">&gt;</span> <span class="m">38</span><span class="o">)|</span><span class="nf">join</span><span class="o">(</span><span class="s1">', '</span><span class="o">)</span> <span class="cp">}}</span>
<span class="c">{# output 40, 42 #}</span>
</pre></div> <p>Combined with the <code class="docutils literal notranslate"><span class="pre">for</span></code> tag, it allows to filter the items to iterate over:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">v</span> <span class="k">in</span> <span class="nv">sizes</span><span class="o">|</span><span class="nf">filter</span><span class="o">(</span><span class="nv">v</span> <span class="o">=&gt;</span> <span class="nv">v</span> <span class="o">&gt;</span> <span class="m">38</span><span class="o">)</span> -<span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">v</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="c">{# output 40 42 #}</span>
</pre></div> <p>It also works with mappings:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">sizes</span> <span class="o">=</span> <span class="o">{</span>
    <span class="nv">xs</span><span class="o">:</span> <span class="m">34</span><span class="o">,</span>
    <span class="nv">s</span><span class="o">:</span>  <span class="m">36</span><span class="o">,</span>
    <span class="nv">m</span><span class="o">:</span>  <span class="m">38</span><span class="o">,</span>
    <span class="nv">l</span><span class="o">:</span>  <span class="m">40</span><span class="o">,</span>
    <span class="nv">xl</span><span class="o">:</span> <span class="m">42</span><span class="o">,</span>
<span class="o">}</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">k</span><span class="o">,</span> <span class="nv">v</span> <span class="k">in</span> <span class="nv">sizes</span><span class="o">|</span><span class="nf">filter</span><span class="o">(</span><span class="nv">v</span> <span class="o">=&gt;</span> <span class="nv">v</span> <span class="o">&gt;</span> <span class="m">38</span><span class="o">)</span> -<span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">k</span> <span class="cp">}}</span><span class="x"> = </span><span class="cp">{{</span> <span class="nv">v</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="c">{# output l = 40 xl = 42 #}</span>
</pre></div> <p>The arrow function also receives the key as a second argument:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">k</span><span class="o">,</span> <span class="nv">v</span> <span class="k">in</span> <span class="nv">sizes</span><span class="o">|</span><span class="nf">filter</span><span class="o">((</span><span class="nv">v</span><span class="o">,</span> <span class="nv">k</span><span class="o">)</span> <span class="o">=&gt;</span> <span class="nv">v</span> <span class="o">&gt;</span> <span class="m">38</span> <span class="k">and</span> <span class="nv">k</span> <span class="o">!=</span> <span class="s2">"xl"</span><span class="o">)</span> -<span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">k</span> <span class="cp">}}</span><span class="x"> = </span><span class="cp">{{</span> <span class="nv">v</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="c">{# output l = 40 #}</span>
</pre></div> <p>Note that the arrow function has access to the current context.</p>  <h2 id="arguments">Arguments</h2> <ul class="simple"> <li>
<code class="docutils literal notranslate"><span class="pre">array</span></code>: The sequence or mapping</li> <li>
<code class="docutils literal notranslate"><span class="pre">arrow</span></code>: The arrow function</li> </ul>    <div class="navigation" style="text-align: center"> <a accesskey="P" title="escape" href="escape.html"> « escape </a> <span class="separator">|</span> <a accesskey="N" title="first" href="first.html"> first » </a> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;2018 by the Twig Team<br>Licensed under the three clause BSD license.<br>The Twig logo is &copy; 2010&ndash;2020 Symfony<br>
    <a href="https://twig.symfony.com/doc/3.x/filters/filter.html" class="_attribution-link">https://twig.symfony.com/doc/3.x/filters/filter.html</a>
  </p>
</div>
