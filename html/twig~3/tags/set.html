<h1 id="set"><span class="pre">set</span></h1> <p>Inside code blocks you can also assign values to variables. Assignments use the <code class="docutils literal notranslate"><span class="pre">set</span></code> tag and can have multiple targets.</p> <p>Here is how you can assign the <code class="docutils literal notranslate"><span class="pre">bar</span></code> value to the <code class="docutils literal notranslate"><span class="pre">foo</span></code> variable:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">'bar'</span> <span class="cp">%}</span>
</pre></div> <p>After the <code class="docutils literal notranslate"><span class="pre">set</span></code> call, the <code class="docutils literal notranslate"><span class="pre">foo</span></code> variable is available in the template like any other ones:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="c">{# displays bar #}</span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="cp">}}</span>
</pre></div> <p>The assigned value can be any valid <a class="reference internal" href="../templates.html#twig-expressions"><span class="std std-ref">Twig expression</span></a>:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">]</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="o">}</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">'foo'</span> <span class="o">~</span> <span class="s1">'bar'</span> <span class="cp">%}</span>
</pre></div> <p>Several variables can be assigned in one block:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span><span class="o">,</span> <span class="nv">bar</span> <span class="o">=</span> <span class="s1">'foo'</span><span class="o">,</span> <span class="s1">'bar'</span> <span class="cp">%}</span>

<span class="c">{# is equivalent to #}</span>

<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">'foo'</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">bar</span> <span class="o">=</span> <span class="s1">'bar'</span> <span class="cp">%}</span>
</pre></div> <p>The <code class="docutils literal notranslate"><span class="pre">set</span></code> tag can also be used to ‘capture’ chunks of text:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"pagination"</span><span class="p">&gt;</span>
        ...
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endset</span> <span class="cp">%}</span>
</pre></div> <div class="admonition caution"> <p class="first admonition-title">Caution</p> <p class="last">If you enable automatic output escaping, Twig will only consider the content to be safe when capturing chunks of text.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>Note that loops are scoped in Twig; therefore a variable declared inside a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop is not accessible outside the loop itself:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">list</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="nv">item</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

<span class="c">{# foo is NOT available #}</span>
</pre></div> <p>If you want to access the variable, just declare it before the loop:</p> <div class="last highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s2">""</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">list</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="nv">item</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

<span class="c">{# foo is available #}</span>
</pre></div> </div>   <div class="navigation" style="text-align: center"> <a accesskey="P" title="sandbox" href="sandbox.html"> « sandbox </a> <span class="separator">|</span> <a accesskey="N" title="use" href="use.html"> use » </a> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;2018 by the Twig Team<br>Licensed under the three clause BSD license.<br>The Twig logo is &copy; 2010&ndash;2020 Symfony<br>
    <a href="https://twig.symfony.com/doc/3.x/tags/set.html" class="_attribution-link">https://twig.symfony.com/doc/3.x/tags/set.html</a>
  </p>
</div>
