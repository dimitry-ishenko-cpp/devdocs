<h1 id="with"><span class="pre">with</span></h1> <p>Use the <code class="docutils literal notranslate"><span class="pre">with</span></code> tag to create a new inner scope. Variables set within this scope are not visible outside of the scope:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">with</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="m">42</span> <span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="cp">}}</span><span class="c">{# foo is 42 here #}</span>
<span class="cp">{%</span> <span class="k">endwith</span> <span class="cp">%}</span>
<span class="x">foo is not visible here any longer</span>
</pre></div> <p>Instead of defining variables at the beginning of the scope, you can pass a hash of variables you want to define in the <code class="docutils literal notranslate"><span class="pre">with</span></code> tag; the previous example is equivalent to the following one:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">with</span> <span class="o">{</span> <span class="nv">foo</span><span class="o">:</span> <span class="m">42</span> <span class="o">}</span> <span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="cp">}}</span><span class="c">{# foo is 42 here #}</span>
<span class="cp">{%</span> <span class="k">endwith</span> <span class="cp">%}</span>
<span class="x">foo is not visible here any longer</span>

<span class="c">{# it works with any expression that resolves to a hash #}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">vars</span> <span class="o">=</span> <span class="o">{</span> <span class="nv">foo</span><span class="o">:</span> <span class="m">42</span> <span class="o">}</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">with</span> <span class="nv">vars</span> <span class="cp">%}</span>
<span class="x">    ...</span>
<span class="cp">{%</span> <span class="k">endwith</span> <span class="cp">%}</span>
</pre></div> <p>By default, the inner scope has access to the outer scope context; you can disable this behavior by appending the <code class="docutils literal notranslate"><span class="pre">only</span></code> keyword:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">bar</span> <span class="o">=</span> <span class="s1">'bar'</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">with</span> <span class="o">{</span> <span class="nv">foo</span><span class="o">:</span> <span class="m">42</span> <span class="o">}</span> <span class="nv">only</span> <span class="cp">%}</span>
<span class="c">{# only foo is defined #}</span>
<span class="c">{# bar is not defined #}</span>
<span class="cp">{%</span> <span class="k">endwith</span> <span class="cp">%}</span>
</pre></div>   <div class="navigation" style="text-align: center"> <a accesskey="P" title="verbatim" href="verbatim.html"> « verbatim </a> <span class="separator">|</span> <a accesskey="N" title="Filters" href="../filters/index.html"> Filters » </a> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;2018 by the Twig Team<br>Licensed under the three clause BSD license.<br>The Twig logo is &copy; 2010&ndash;2020 Symfony<br>
    <a href="https://twig.symfony.com/doc/3.x/tags/with.html" class="_attribution-link">https://twig.symfony.com/doc/3.x/tags/with.html</a>
  </p>
</div>
