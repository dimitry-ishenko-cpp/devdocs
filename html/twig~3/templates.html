<h1 id="twig-for-template-designers">Twig for Template Designers</h1> <p>This document describes the syntax and semantics of the template engine and will be most useful as reference to those creating Twig templates.</p>  <h2 id="synopsis">Synopsis</h2> <p>A template is a regular text file. It can generate any text-based format (HTML, XML, CSV, LaTeX, etc.). It doesn’t have a specific extension, <code class="docutils literal notranslate"><span class="pre">.html</span></code> or <code class="docutils literal notranslate"><span class="pre">.xml</span></code> are just fine.</p> <p>A template contains <strong>variables</strong> or <strong>expressions</strong>, which get replaced with values when the template is evaluated, and <strong>tags</strong>, which control the template’s logic.</p> <p>Below is a minimal template that illustrates a few basics. We will cover further details later on:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My Webpage<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">"navigation"</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">navigation</span> <span class="cp">%}</span>
            <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">item.href</span> <span class="cp">}}</span><span class="s">"</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">item.caption</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>My Webpage<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="cp">{{</span> <span class="nv">a_variable</span> <span class="cp">}}</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div> <p>There are two kinds of delimiters: <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></code> and <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">...</span> <span class="pre">}}</span></code>. The first one is used to execute statements such as for-loops, the latter outputs the result of an expression.</p>   <h2 id="ides-integration">IDEs Integration</h2> <p>Many IDEs support syntax highlighting and auto-completion for Twig:</p> <ul class="simple"> <li>
<em>Textmate</em> via the <a class="reference external" href="https://github.com/Anomareh/PHP-Twig.tmbundle">Twig bundle</a>
</li> <li>
<em>Vim</em> via the <a class="reference external" href="http://jinja.pocoo.org/docs/integration/#vim">Jinja syntax plugin</a> or the <a class="reference external" href="https://github.com/lumiliet/vim-twig">vim-twig plugin</a>
</li> <li>
<em>Netbeans</em> via the <a class="reference external" href="http://plugins.netbeans.org/plugin/37069/php-twig">Twig syntax plugin</a> (until 7.1, native as of 7.2)</li> <li>
<em>PhpStorm</em> (native as of 2.1)</li> <li>
<em>Eclipse</em> via the <a class="reference external" href="https://github.com/pulse00/Twig-Eclipse-Plugin">Twig plugin</a>
</li> <li>
<em>Sublime Text</em> via the <a class="reference external" href="https://github.com/Anomareh/PHP-Twig.tmbundle">Twig bundle</a>
</li> <li>
<em>GtkSourceView</em> via the <a class="reference external" href="https://github.com/gabrielcorpse/gedit-twig-template-language">Twig language definition</a> (used by gedit and other projects)</li> <li>
<em>Coda</em> and <em>SubEthaEdit</em> via the <a class="reference external" href="https://github.com/bobthecow/Twig-HTML.mode">Twig syntax mode</a>
</li> <li>
<em>Coda 2</em> via the <a class="reference external" href="https://github.com/muxx/Twig-HTML.mode">other Twig syntax mode</a>
</li> <li>
<em>Komodo</em> and <em>Komodo Edit</em> via the Twig highlight/syntax check mode</li> <li>
<em>Notepad++</em> via the <a class="reference external" href="https://github.com/Banane9/notepadplusplus-twig">Notepad++ Twig Highlighter</a>
</li> <li>
<em>Emacs</em> via <a class="reference external" href="http://web-mode.org/">web-mode.el</a>
</li> <li>
<em>Atom</em> via the <a class="reference external" href="https://github.com/reesef/php-twig">PHP-twig for atom</a>
</li> <li>
<em>Visual Studio Code</em> via the <a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=bajdzis.vscode-twig-pack">Twig pack</a>
</li> </ul> <p>Also, <a class="reference external" href="https://twigfiddle.com/">TwigFiddle</a> is an online service that allows you to execute Twig templates from a browser; it supports all versions of Twig.</p>   <h2 id="variables">Variables</h2> <p>The application passes variables to the templates for manipulation in the template. Variables may have attributes or elements you can access, too. The visual representation of a variable depends heavily on the application providing it.</p> <p>Use a dot (<code class="docutils literal notranslate"><span class="pre">.</span></code>) to access attributes of a variable (methods or properties of a PHP object, or items of a PHP array):</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="nv">foo.bar</span> <span class="cp">}}</span>
</pre></div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">It’s important to know that the curly braces are <em>not</em> part of the variable but the print statement. When accessing variables inside tags, don’t put the braces around them.</p> </div> <div class="sidebar"> <p class="first sidebar-title">Implementation</p> <p>For convenience’s sake <code class="docutils literal notranslate"><span class="pre">foo.bar</span></code> does the following things on the PHP layer:</p> <ul class="simple"> <li>check if <code class="docutils literal notranslate"><span class="pre">foo</span></code> is an array and <code class="docutils literal notranslate"><span class="pre">bar</span></code> a valid element;</li> <li>if not, and if <code class="docutils literal notranslate"><span class="pre">foo</span></code> is an object, check that <code class="docutils literal notranslate"><span class="pre">bar</span></code> is a valid property;</li> <li>if not, and if <code class="docutils literal notranslate"><span class="pre">foo</span></code> is an object, check that <code class="docutils literal notranslate"><span class="pre">bar</span></code> is a valid method (even if <code class="docutils literal notranslate"><span class="pre">bar</span></code> is the constructor - use <code class="docutils literal notranslate"><span class="pre">__construct()</span></code> instead);</li> <li>if not, and if <code class="docutils literal notranslate"><span class="pre">foo</span></code> is an object, check that <code class="docutils literal notranslate"><span class="pre">getBar</span></code> is a valid method;</li> <li>if not, and if <code class="docutils literal notranslate"><span class="pre">foo</span></code> is an object, check that <code class="docutils literal notranslate"><span class="pre">isBar</span></code> is a valid method;</li> <li>if not, and if <code class="docutils literal notranslate"><span class="pre">foo</span></code> is an object, check that <code class="docutils literal notranslate"><span class="pre">hasBar</span></code> is a valid method;</li> <li>if not, return a <code class="docutils literal notranslate"><span class="pre">null</span></code> value.</li> </ul> <p>Twig also supports a specific syntax for accessing items on PHP arrays, <code class="docutils literal notranslate"><span class="pre">foo['bar']</span></code>:</p> <ul class="last simple"> <li>check if <code class="docutils literal notranslate"><span class="pre">foo</span></code> is an array and <code class="docutils literal notranslate"><span class="pre">bar</span></code> a valid element;</li> <li>if not, return a <code class="docutils literal notranslate"><span class="pre">null</span></code> value.</li> </ul> </div> <p>If a variable or attribute does not exist, you will receive a <code class="docutils literal notranslate"><span class="pre">null</span></code> value when the <code class="docutils literal notranslate"><span class="pre">strict_variables</span></code> option is set to <code class="docutils literal notranslate"><span class="pre">false</span></code>; alternatively, if <code class="docutils literal notranslate"><span class="pre">strict_variables</span></code> is set, Twig will throw an error (see <a class="reference internal" href="api.html#environment-options"><span class="std std-ref">environment options</span></a>).</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>If you want to access a dynamic attribute of a variable, use the <a class="reference internal" href="functions/attribute.html"><span class="doc">attribute</span></a> function instead.</p> <p>The <code class="docutils literal notranslate"><span class="pre">attribute</span></code> function is also useful when the attribute contains special characters (like <code class="docutils literal notranslate"><span class="pre">-</span></code> that would be interpreted as the minus operator):</p> <div class="last highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="c">{# equivalent to the non-working foo.data-foo #}</span>
<span class="cp">{{</span> <span class="nv">attribute</span><span class="o">(</span><span class="nv">foo</span><span class="o">,</span> <span class="s1">'data-foo'</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div> </div>  <h3 id="global-variables">Global Variables</h3> <p>The following variables are always available in templates:</p> <ul class="simple"> <li>
<code class="docutils literal notranslate"><span class="pre">_self</span></code>: references the current template name;</li> <li>
<code class="docutils literal notranslate"><span class="pre">_context</span></code>: references the current context;</li> <li>
<code class="docutils literal notranslate"><span class="pre">_charset</span></code>: references the current charset.</li> </ul>   <h3 id="setting-variables">Setting Variables</h3> <p>You can assign values to variables inside code blocks. Assignments use the <a class="reference internal" href="tags/set.html"><span class="doc">set</span></a> tag:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">'foo'</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">]</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="o">}</span> <span class="cp">%}</span>
</pre></div>    <h2 id="filters">Filters</h2> <p>Variables can be modified by <strong>filters</strong>. Filters are separated from the variable by a pipe symbol (<code class="docutils literal notranslate"><span class="pre">|</span></code>). Multiple filters can be chained. The output of one filter is applied to the next.</p> <p>The following example removes all HTML tags from the <code class="docutils literal notranslate"><span class="pre">name</span></code> and title-cases it:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="nv">name</span><span class="o">|</span><span class="nf">striptags</span><span class="o">|</span><span class="nf">title</span> <span class="cp">}}</span>
</pre></div> <p>Filters that accept arguments have parentheses around the arguments. This example joins the elements of a list by commas:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="nv">list</span><span class="o">|</span><span class="nf">join</span><span class="o">(</span><span class="s1">', '</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div> <p>To apply a filter on a section of code, wrap it with the <a class="reference internal" href="tags/apply.html"><span class="doc">apply</span></a> tag:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">apply</span> <span class="nv">upper</span> <span class="cp">%}</span>
<span class="x">    This text becomes uppercase</span>
<span class="cp">{%</span> <span class="k">endapply</span> <span class="cp">%}</span>
</pre></div> <p>Go to the <a class="reference internal" href="filters/index.html"><span class="doc">filters</span></a> page to learn more about built-in filters.</p>   <h2 id="functions">Functions</h2> <p>Functions can be called to generate content. Functions are called by their name followed by parentheses (<code class="docutils literal notranslate"><span class="pre">()</span></code>) and may have arguments.</p> <p>For instance, the <code class="docutils literal notranslate"><span class="pre">range</span></code> function returns a list containing an arithmetic progression of integers:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="m">0</span><span class="o">,</span> <span class="m">3</span><span class="o">)</span> <span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div> <p>Go to the <a class="reference internal" href="functions/index.html"><span class="doc">functions</span></a> page to learn more about the built-in functions.</p>   <h2>Named Arguments</h2> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="nv">low</span><span class="o">=</span><span class="m">1</span><span class="o">,</span> <span class="nv">high</span><span class="o">=</span><span class="m">10</span><span class="o">,</span> <span class="nv">step</span><span class="o">=</span><span class="m">2</span><span class="o">)</span> <span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div> <p>Using named arguments makes your templates more explicit about the meaning of the values you pass as arguments:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="nv">data</span><span class="o">|</span><span class="nf">convert_encoding</span><span class="o">(</span><span class="s1">'UTF-8'</span><span class="o">,</span> <span class="s1">'iso-2022-jp'</span><span class="o">)</span> <span class="cp">}}</span>

<span class="c">{# versus #}</span>

<span class="cp">{{</span> <span class="nv">data</span><span class="o">|</span><span class="nf">convert_encoding</span><span class="o">(</span><span class="nv">from</span><span class="o">=</span><span class="s1">'iso-2022-jp'</span><span class="o">,</span> <span class="nv">to</span><span class="o">=</span><span class="s1">'UTF-8'</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div> <p>Named arguments also allow you to skip some arguments for which you don’t want to change the default value:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="c">{# the first argument is the date format, which defaults to the global date format if null is passed #}</span>
<span class="cp">{{</span> <span class="s2">"now"</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="kp">null</span><span class="o">,</span> <span class="s2">"Europe/Paris"</span><span class="o">)</span> <span class="cp">}}</span>

<span class="c">{# or skip the format value by using a named argument for the time zone #}</span>
<span class="cp">{{</span> <span class="s2">"now"</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="nv">timezone</span><span class="o">=</span><span class="s2">"Europe/Paris"</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div> <p>You can also use both positional and named arguments in one call, in which case positional arguments must always come before named arguments:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="s2">"now"</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="s1">'d/m/Y H:i'</span><span class="o">,</span> <span class="nv">timezone</span><span class="o">=</span><span class="s2">"Europe/Paris"</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div> <div class="admonition tip"> <p class="first admonition-title">Tip</p> <p class="last">Each function and filter documentation page has a section where the names of all arguments are listed when supported.</p> </div>   <h2 id="control-structure">Control Structure</h2> <p>A control structure refers to all those things that control the flow of a program - conditionals (i.e. <code class="docutils literal notranslate"><span class="pre">if</span></code>/<code class="docutils literal notranslate"><span class="pre">elseif</span></code>/<code class="docutils literal notranslate"><span class="pre">else</span></code>), <code class="docutils literal notranslate"><span class="pre">for</span></code>-loops, as well as things like blocks. Control structures appear inside <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></code> blocks.</p> <p>For example, to display a list of users provided in a variable called <code class="docutils literal notranslate"><span class="pre">users</span></code>, use the <a class="reference internal" href="tags/for.html"><span class="doc">for</span></a> tag:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Members<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</pre></div> <p>The <a class="reference internal" href="tags/if.html"><span class="doc">if</span></a> tag can be used to test an expression:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">if</span> <span class="nv">users</span><span class="o">|</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span>
            <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre></div> <p>Go to the <a class="reference internal" href="tags/index.html"><span class="doc">tags</span></a> page to learn more about the built-in tags.</p>   <h2 id="comments">Comments</h2> <p>To comment-out part of a line in a template, use the comment syntax <code class="docutils literal notranslate"><span class="pre">{#</span> <span class="pre">...</span>
<span class="pre">#}</span></code>. This is useful for debugging or to add information for other template designers or yourself:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="c">{# note: disabled template because we no longer use this</span>
<span class="c">    {% for user in users %}</span>
<span class="c">        ...</span>
<span class="c">    {% endfor %}</span>
<span class="c">#}</span>
</pre></div>   <h2 id="including-other-templates">Including other Templates</h2> <p>The <a class="reference internal" href="functions/include.html"><span class="doc">include</span></a> function is useful to include a template and return the rendered content of that template into the current one:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="nv">include</span><span class="o">(</span><span class="s1">'sidebar.html'</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div> <p>By default, included templates have access to the same context as the template which includes them. This means that any variable defined in the main template will be available in the included template too:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">box</span> <span class="k">in</span> <span class="nv">boxes</span> <span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">include</span><span class="o">(</span><span class="s1">'render_box.html'</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div> <p>The included template <code class="docutils literal notranslate"><span class="pre">render_box.html</span></code> is able to access the <code class="docutils literal notranslate"><span class="pre">box</span></code> variable.</p> <p>The name of the template depends on the template loader. For instance, the <code class="docutils literal notranslate"><span class="pre">\Twig\Loader\FilesystemLoader</span></code> allows you to access other templates by giving the filename. You can access templates in subdirectories with a slash:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="nv">include</span><span class="o">(</span><span class="s1">'sections/articles/sidebar.html'</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div> <p>This behavior depends on the application embedding Twig.</p>   <h2 id="template-inheritance">Template Inheritance</h2> <p>The most powerful part of Twig is template inheritance. Template inheritance allows you to build a base “skeleton” template that contains all the common elements of your site and defines <strong>blocks</strong> that child templates can override.</p> <p>It’s easier to understand the concept by starting with an example.</p> <p>Let’s define a base template, <code class="docutils literal notranslate"><span class="pre">base.html</span></code>, which defines an HTML skeleton document that might be used for a two-column page:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
            <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">href</span><span class="o">=</span><span class="s">"style.css"</span><span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span> - My Webpage<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"content"</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"footer"</span><span class="p">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span>
                <span class="ni">&amp;copy;</span> Copyright 2011 by <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"http://domain.invalid/"</span><span class="p">&gt;</span>you<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>.
            <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div> <p>In this example, the <a class="reference internal" href="tags/block.html"><span class="doc">block</span></a> tags define four blocks that child templates can fill in. All the <code class="docutils literal notranslate"><span class="pre">block</span></code> tag does is to tell the template engine that a child template may override those portions of the template.</p> <p>A child template might look like this:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">"base.html"</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>Index<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>
    <span class="p">&lt;</span><span class="nt">style</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
        <span class="p">.</span><span class="nc">important</span> <span class="p">{</span> <span class="k">color</span><span class="p">:</span> <span class="mh">#336699</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Index<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"important"</span><span class="p">&gt;</span>
        Welcome to my awesome homepage.
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div> <p>The <a class="reference internal" href="tags/extends.html"><span class="doc">extends</span></a> tag is the key here. It tells the template engine that this template “extends” another template. When the template system evaluates this template, first it locates the parent. The extends tag should be the first tag in the template.</p> <p>Note that since the child template doesn’t define the <code class="docutils literal notranslate"><span class="pre">footer</span></code> block, the value from the parent template is used instead.</p> <p>It’s possible to render the contents of the parent block by using the <a class="reference internal" href="functions/parent.html"><span class="doc">parent</span></a> function. This gives back the results of the parent block:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Table Of Contents<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
    ...
    <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div> <div class="admonition tip"> <p class="first admonition-title">Tip</p> <p class="last">The documentation page for the <a class="reference internal" href="tags/extends.html"><span class="doc">extends</span></a> tag describes more advanced features like block nesting, scope, dynamic inheritance, and conditional inheritance.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Twig also supports multiple inheritance via “horizontal reuse” with the help of the <a class="reference internal" href="tags/use.html"><span class="doc">use</span></a> tag.</p> </div>   <h2 id="html-escaping">HTML Escaping</h2> <p>When generating HTML from templates, there’s always a risk that a variable will include characters that affect the resulting HTML. There are two approaches: manually escaping each variable or automatically escaping everything by default.</p> <p>Twig supports both, automatic escaping is enabled by default.</p> <p>The automatic escaping strategy can be configured via the <a class="reference internal" href="api.html#environment-options"><span class="std std-ref">autoescape</span></a> option and defaults to <code class="docutils literal notranslate"><span class="pre">html</span></code>.</p>  <h3 id="working-with-manual-escaping">Working with Manual Escaping</h3> <p>If manual escaping is enabled, it is <strong>your</strong> responsibility to escape variables if needed. What to escape? Any variable that comes from an untrusted source.</p> <p>Escaping works by using the <a class="reference internal" href="filters/escape.html"><span class="doc">escape</span></a> or <code class="docutils literal notranslate"><span class="pre">e</span></code> filter:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span>
</pre></div> <p>By default, the <code class="docutils literal notranslate"><span class="pre">escape</span></code> filter uses the <code class="docutils literal notranslate"><span class="pre">html</span></code> strategy, but depending on the escaping context, you might want to explicitly use an other strategy:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">'js'</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">'css'</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">'url'</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">'html_attr'</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>   <h3 id="working-with-automatic-escaping">Working with Automatic Escaping</h3> <p>Whether automatic escaping is enabled or not, you can mark a section of a template to be escaped or not by using the <a class="reference internal" href="tags/autoescape.html"><span class="doc">autoescape</span></a> tag:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">autoescape</span> <span class="cp">%}</span>
<span class="x">    Everything will be automatically escaped in this block (using the HTML strategy)</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span>
</pre></div> <p>By default, auto-escaping uses the <code class="docutils literal notranslate"><span class="pre">html</span></code> escaping strategy. If you output variables in other contexts, you need to explicitly escape them with the appropriate escaping strategy:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">autoescape</span> <span class="s1">'js'</span> <span class="cp">%}</span>
<span class="x">    Everything will be automatically escaped in this block (using the JS strategy)</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span>
</pre></div>    <h2 id="escaping">Escaping</h2> <p>It is sometimes desirable or even necessary to have Twig ignore parts it would otherwise handle as variables or blocks. For example if the default syntax is used and you want to use <code class="docutils literal notranslate"><span class="pre">{{</span></code> as raw string in the template and not start a variable you have to use a trick.</p> <p>The easiest way is to output the variable delimiter (<code class="docutils literal notranslate"><span class="pre">{{</span></code>) by using a variable expression:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="s1">'{{'</span> <span class="cp">}}</span>
</pre></div> <p>For bigger sections it makes sense to mark a block <a class="reference internal" href="tags/verbatim.html"><span class="doc">verbatim</span></a>.</p>   <h2 id="macros">Macros</h2> <p>Macros are comparable with functions in regular programming languages. They are useful to reuse HTML fragments to not repeat yourself. They are described in the <a class="reference internal" href="tags/macro.html"><span class="doc">macro</span></a> tag documentation.</p>   <h2>Expressions</h2> <p>Twig allows expressions everywhere.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>The operator precedence is as follows, with the lowest-precedence operators listed first: <code class="docutils literal notranslate"><span class="pre">?:</span></code> (ternary operator), <code class="docutils literal notranslate"><span class="pre">b-and</span></code>, <code class="docutils literal notranslate"><span class="pre">b-xor</span></code>, <code class="docutils literal notranslate"><span class="pre">b-or</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>, <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">in</span></code>, <code class="docutils literal notranslate"><span class="pre">matches</span></code>, <code class="docutils literal notranslate"><span class="pre">starts</span> <span class="pre">with</span></code>, <code class="docutils literal notranslate"><span class="pre">ends</span> <span class="pre">with</span></code>, <code class="docutils literal notranslate"><span class="pre">..</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">~</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>, <code class="docutils literal notranslate"><span class="pre">//</span></code>, <code class="docutils literal notranslate"><span class="pre">%</span></code>, <code class="docutils literal notranslate"><span class="pre">is</span></code> (tests), <code class="docutils literal notranslate"><span class="pre">**</span></code>, <code class="docutils literal notranslate"><span class="pre">??</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code> (filters), <code class="docutils literal notranslate"><span class="pre">[]</span></code>, and <code class="docutils literal notranslate"><span class="pre">.</span></code>:</p> <div class="last highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">greeting</span> <span class="o">=</span> <span class="s1">'Hello '</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">name</span> <span class="o">=</span> <span class="s1">'Fabien'</span> <span class="cp">%}</span>

<span class="cp">{{</span> <span class="nv">greeting</span> <span class="o">~</span> <span class="nv">name</span><span class="o">|</span><span class="nf">lower</span> <span class="cp">}}</span><span class="c">{# Hello fabien #}</span>

<span class="c">{# use parenthesis to change precedence #}</span>
<span class="cp">{{</span> <span class="o">(</span><span class="nv">greeting</span> <span class="o">~</span> <span class="nv">name</span><span class="o">)|</span><span class="nf">lower</span> <span class="cp">}}</span><span class="c">{# hello fabien #}</span>
</pre></div> </div>  <h3 id="literals">Literals</h3> <p>The simplest form of expressions are literals. Literals are representations for PHP types such as strings, numbers, and arrays. The following literals exist:</p> <ul> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">"Hello</span> <span class="pre">World"</span></code>: Everything between two double or single quotes is a string. They are useful whenever you need a string in the template (for example as arguments to function calls, filters or just to extend or include a template). A string can contain a delimiter if it is preceded by a backslash (<code class="docutils literal notranslate"><span class="pre">\</span></code>) – like in <code class="docutils literal notranslate"><span class="pre">'It\'s</span> <span class="pre">good'</span></code>. If the string contains a backslash (e.g. <code class="docutils literal notranslate"><span class="pre">'c:\Program</span> <span class="pre">Files'</span></code>) escape it by doubling it (e.g. <code class="docutils literal notranslate"><span class="pre">'c:\\Program</span> <span class="pre">Files'</span></code>).</p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">42</span></code> / <code class="docutils literal notranslate"><span class="pre">42.23</span></code>: Integers and floating point numbers are created by writing the number down. If a dot is present the number is a float, otherwise an integer.</p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">["foo",</span> <span class="pre">"bar"]</span></code>: Arrays are defined by a sequence of expressions separated by a comma (<code class="docutils literal notranslate"><span class="pre">,</span></code>) and wrapped with squared brackets (<code class="docutils literal notranslate"><span class="pre">[]</span></code>).</p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">{"foo":</span> <span class="pre">"bar"}</span></code>: Hashes are defined by a list of keys and values separated by a comma (<code class="docutils literal notranslate"><span class="pre">,</span></code>) and wrapped with curly braces (<code class="docutils literal notranslate"><span class="pre">{}</span></code>):</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="c">{# keys as string #}</span>
<span class="x">{ 'foo': 'foo', 'bar': 'bar' }</span>

<span class="c">{# keys as names (equivalent to the previous hash) #}</span>
<span class="x">{ foo: 'foo', bar: 'bar' }</span>

<span class="c">{# keys as integer #}</span>
<span class="x">{ 2: 'foo', 4: 'bar' }</span>

<span class="c">{# keys can be omitted if it is the same as the variable name #}</span>
<span class="x">{ foo }</span>
<span class="c">{# is equivalent to the following #}</span>
<span class="x">{ 'foo': foo }</span>

<span class="c">{# keys as expressions (the expression must be enclosed into parentheses) #}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">'foo'</span> <span class="cp">%}</span>
<span class="x">{ (foo): 'foo', (1 + 1): 'bar', (foo ~ 'b'): 'baz' }</span>
</pre></div> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">true</span></code> / <code class="docutils literal notranslate"><span class="pre">false</span></code>: <code class="docutils literal notranslate"><span class="pre">true</span></code> represents the true value, <code class="docutils literal notranslate"><span class="pre">false</span></code> represents the false value.</p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">null</span></code>: <code class="docutils literal notranslate"><span class="pre">null</span></code> represents no specific value. This is the value returned when a variable does not exist. <code class="docutils literal notranslate"><span class="pre">none</span></code> is an alias for <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p> </li> </ul> <p>Arrays and hashes can be nested:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="o">{</span><span class="s2">"foo"</span><span class="o">:</span> <span class="s2">"bar"</span><span class="o">}]</span> <span class="cp">%}</span>
</pre></div> <div class="admonition tip"> <p class="first admonition-title">Tip</p> <p class="last">Using double-quoted or single-quoted strings has no impact on performance but <a class="reference internal" href="#templates-string-interpolation"><span class="std std-ref">string interpolation</span></a> is only supported in double-quoted strings.</p> </div>   <h3 id="math">Math</h3> <p>Twig allows you to do math in templates; the following operators are supported:</p> <ul class="simple"> <li>
<code class="docutils literal notranslate"><span class="pre">+</span></code>: Adds two numbers together (the operands are casted to numbers). <code class="docutils literal notranslate"><span class="pre">{{</span>
<span class="pre">1</span> <span class="pre">+</span> <span class="pre">1</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">2</span></code>.</li> <li>
<code class="docutils literal notranslate"><span class="pre">-</span></code>: Subtracts the second number from the first one. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">3</span> <span class="pre">-</span> <span class="pre">2</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</li> <li>
<code class="docutils literal notranslate"><span class="pre">/</span></code>: Divides two numbers. The returned value will be a floating point number. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">2</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">0.5</span> <span class="pre">}}</span></code>.</li> <li>
<code class="docutils literal notranslate"><span class="pre">%</span></code>: Calculates the remainder of an integer division. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">11</span> <span class="pre">%</span> <span class="pre">7</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">4</span></code>.</li> <li>
<code class="docutils literal notranslate"><span class="pre">//</span></code>: Divides two numbers and returns the floored integer result. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">20</span>
<span class="pre">//</span> <span class="pre">7</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">2</span></code>, <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">-20</span>  <span class="pre">//</span> <span class="pre">7</span> <span class="pre">}}</span></code> is <code class="docutils literal notranslate"><span class="pre">-3</span></code> (this is just syntactic sugar for the <a class="reference internal" href="filters/round.html"><span class="doc">round</span></a> filter).</li> <li>
<code class="docutils literal notranslate"><span class="pre">*</span></code>: Multiplies the left operand with the right one. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">}}</span></code> would return <code class="docutils literal notranslate"><span class="pre">4</span></code>.</li> <li>
<code class="docutils literal notranslate"><span class="pre">**</span></code>: Raises the left operand to the power of the right operand. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">**</span>
<span class="pre">3</span> <span class="pre">}}</span></code> would return <code class="docutils literal notranslate"><span class="pre">8</span></code>.</li> </ul>   <h3>Logic</h3> <p>You can combine multiple expressions with the following operators:</p> <ul class="simple"> <li>
<code class="docutils literal notranslate"><span class="pre">and</span></code>: Returns true if the left and the right operands are both true.</li> <li>
<code class="docutils literal notranslate"><span class="pre">or</span></code>: Returns true if the left or the right operand is true.</li> <li>
<code class="docutils literal notranslate"><span class="pre">not</span></code>: Negates a statement.</li> <li>
<code class="docutils literal notranslate"><span class="pre">(expr)</span></code>: Groups an expression.</li> </ul> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Twig also supports bitwise operators (<code class="docutils literal notranslate"><span class="pre">b-and</span></code>, <code class="docutils literal notranslate"><span class="pre">b-xor</span></code>, and <code class="docutils literal notranslate"><span class="pre">b-or</span></code>).</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Operators are case sensitive.</p> </div>   <h3 id="comparisons">Comparisons</h3> <p>The following comparison operators are supported in any expression: <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>.</p> <p>You can also check if a string <code class="docutils literal notranslate"><span class="pre">starts</span> <span class="pre">with</span></code> or <code class="docutils literal notranslate"><span class="pre">ends</span> <span class="pre">with</span></code> another string:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">if</span> <span class="s1">'Fabien'</span> <span class="k">starts with</span> <span class="s1">'F'</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">if</span> <span class="s1">'Fabien'</span> <span class="k">ends with</span> <span class="s1">'n'</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre></div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>For complex string comparisons, the <code class="docutils literal notranslate"><span class="pre">matches</span></code> operator allows you to use <a class="reference external" href="https://secure.php.net/manual/en/pcre.pattern.php">regular expressions</a>:</p> <div class="last highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">if</span> <span class="nv">phone</span> <span class="nv">matches</span> <span class="s1">'/^[\\d\\.]+$/'</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre></div> </div>   <h3 id="containment-operator">Containment Operator</h3> <p>The <code class="docutils literal notranslate"><span class="pre">in</span></code> operator performs containment test. It returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the left operand is contained in the right:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="c">{# returns true #}</span>

<span class="cp">{{</span> <span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">}}</span>

<span class="cp">{{</span> <span class="s1">'cd'</span> <span class="k">in</span> <span class="s1">'abcde'</span> <span class="cp">}}</span>
</pre></div> <div class="admonition tip"> <p class="first admonition-title">Tip</p> <p class="last">You can use this filter to perform a containment test on strings, arrays, or objects implementing the <code class="docutils literal notranslate"><span class="pre">Traversable</span></code> interface.</p> </div> <p>To perform a negative test, use the <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">in</span></code> operator:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">if</span> <span class="m">1</span> <span class="k">not</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">%}</span>

<span class="c">{# is equivalent to #}</span>
<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="o">(</span><span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">])</span> <span class="cp">%}</span>
</pre></div>   <h3 id="test-operator">Test Operator</h3> <p>The <code class="docutils literal notranslate"><span class="pre">is</span></code> operator performs tests. Tests can be used to test a variable against a common expression. The right operand is name of the test:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="c">{# find out if a variable is odd #}</span>

<span class="cp">{{</span> <span class="nv">name</span> <span class="k">is</span> <span class="nf">odd</span> <span class="cp">}}</span>
</pre></div> <p>Tests can accept arguments too:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">if</span> <span class="nv">post.status</span> <span class="k">is</span> <span class="nf">constant</span><span class="o">(</span><span class="s1">'Post::PUBLISHED'</span><span class="o">)</span> <span class="cp">%}</span>
</pre></div> <p>Tests can be negated by using the <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">not</span></code> operator:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">if</span> <span class="nv">post.status</span> <span class="k">is</span> <span class="k">not</span> <span class="nf">constant</span><span class="o">(</span><span class="s1">'Post::PUBLISHED'</span><span class="o">)</span> <span class="cp">%}</span>

<span class="c">{# is equivalent to #}</span>
<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="o">(</span><span class="nv">post.status</span> <span class="k">is</span> <span class="nf">constant</span><span class="o">(</span><span class="s1">'Post::PUBLISHED'</span><span class="o">))</span> <span class="cp">%}</span>
</pre></div> <p>Go to the <a class="reference internal" href="tests/index.html"><span class="doc">tests</span></a> page to learn more about the built-in tests.</p>   <h3 id="other-operators">Other Operators</h3> <p>The following operators don’t fit into any of the other categories:</p> <ul> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">|</span></code>: Applies a filter.</p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">..</span></code>: Creates a sequence based on the operand before and after the operator (this is syntactic sugar for the <a class="reference internal" href="functions/range.html"><span class="doc">range</span></a> function):</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="m">1..5</span> <span class="cp">}}</span>

<span class="c">{# equivalent to #}</span>
<span class="cp">{{</span> <span class="nv">range</span><span class="o">(</span><span class="m">1</span><span class="o">,</span> <span class="m">5</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div> <p>Note that you must use parentheses when combining it with the filter operator due to the <a class="reference internal" href="#twig-expressions"><span class="std std-ref">operator precedence rules</span></a>:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="x">(1..5)|join(', ')</span>
</pre></div> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">~</span></code>: Converts all operands into strings and concatenates them. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">"Hello</span>
<span class="pre">"</span> <span class="pre">~</span> <span class="pre">name</span> <span class="pre">~</span> <span class="pre">"!"</span> <span class="pre">}}</span></code> would return (assuming <code class="docutils literal notranslate"><span class="pre">name</span></code> is <code class="docutils literal notranslate"><span class="pre">'John'</span></code>) <code class="docutils literal notranslate"><span class="pre">Hello</span>
<span class="pre">John!</span></code>.</p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">.</span></code>, <code class="docutils literal notranslate"><span class="pre">[]</span></code>: Gets an attribute of a variable.</p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">?:</span></code>: The ternary operator:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="nv">foo</span> <span class="o">?</span> <span class="s1">'yes'</span> <span class="o">:</span> <span class="s1">'no'</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="o">?:</span> <span class="s1">'no'</span> <span class="cp">}}</span><span class="x"> is the same as </span><span class="cp">{{</span> <span class="nv">foo</span> <span class="o">?</span> <span class="nv">foo</span> <span class="o">:</span> <span class="s1">'no'</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="o">?</span> <span class="s1">'yes'</span> <span class="cp">}}</span><span class="x"> is the same as </span><span class="cp">{{</span> <span class="nv">foo</span> <span class="o">?</span> <span class="s1">'yes'</span> <span class="o">:</span> <span class="s1">''</span> <span class="cp">}}</span>
</pre></div> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">??</span></code>: The null-coalescing operator:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="c">{# returns the value of foo if it is defined and not null, 'no' otherwise #}</span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="o">??</span> <span class="s1">'no'</span> <span class="cp">}}</span>
</pre></div> </li> </ul>   <h3>String Interpolation</h3> <p>String interpolation (<code class="docutils literal notranslate"><span class="pre">#{expression}</span></code>) allows any valid expression to appear within a <em>double-quoted string</em>. The result of evaluating that expression is inserted into the string:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="s2">"foo #{bar} baz"</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="s2">"foo #{1 + 2} baz"</span> <span class="cp">}}</span>
</pre></div>    <h2>Whitespace Control</h2> <p>The first newline after a template tag is removed automatically (like in PHP). Whitespace is not further modified by the template engine, so each whitespace (spaces, tabs, newlines etc.) is returned unchanged.</p> <p>You can also control whitespace on a per tag level. By using the whitespace control modifiers on your tags, you can trim leading and or trailing whitespace.</p> <p>Twig supports two modifiers:</p> <ul class="simple"> <li>
<em>Whitespace trimming</em> via the <code class="docutils literal notranslate"><span class="pre">-</span></code> modifier: Removes all whitespace (including newlines);</li> <li>
<em>Line whitespace trimming</em> via the <code class="docutils literal notranslate"><span class="pre">~</span></code> modifier: Removes all whitespace (excluding newlines). Using this modifier on the right disables the default removal of the first newline inherited from PHP.</li> </ul> <p>The modifiers can be used on either side of the tags like in <code class="docutils literal notranslate"><span class="pre">{%-</span></code> or <code class="docutils literal notranslate"><span class="pre">-%}</span></code> and they consume all whitespace for that side of the tag. It is possible to use the modifiers on one side of a tag or on both sides:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">set</span> <span class="nv">value</span> <span class="o">=</span> <span class="s1">'no spaces'</span> <span class="cp">%}</span>
<span class="c">{#- No leading/trailing whitespace -#}</span>
<span class="cp">{%</span>- <span class="k">if</span> <span class="kp">true</span> -<span class="cp">%}</span>
    <span class="cp">{{</span><span class="o">-</span> <span class="nv">value</span> -<span class="cp">}}</span>
<span class="cp">{%</span>- <span class="k">endif</span> -<span class="cp">%}</span>
<span class="c">{# output 'no spaces' #}</span>

<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="cp">{{</span> <span class="nv">value</span> <span class="cp">}}</span>    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="c">{# outputs '&lt;li&gt;\n    no spaces    &lt;/li&gt;' #}</span>

<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="cp">{{</span><span class="o">-</span> <span class="nv">value</span> <span class="cp">}}</span>    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="c">{# outputs '&lt;li&gt;no spaces    &lt;/li&gt;' #}</span>

<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="cp">{{</span><span class="o">~</span> <span class="nv">value</span> <span class="cp">}}</span>    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="c">{# outputs '&lt;li&gt;\nno spaces    &lt;/li&gt;' #}</span>
</pre></div> <div class="admonition tip"> <p class="first admonition-title">Tip</p> <p>In addition to the whitespace modifiers, Twig also has a <code class="docutils literal notranslate"><span class="pre">spaceless</span></code> filter that removes whitespace <strong>between HTML tags</strong>:</p> <div class="last highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">apply</span> <span class="nv">spaceless</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>foo bar<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endapply</span> <span class="cp">%}</span>

<span class="c">{# output will be &lt;div&gt;&lt;strong&gt;foo bar&lt;/strong&gt;&lt;/div&gt; #}</span>
</pre></div> </div>   <h2 id="extensions">Extensions</h2> <p>Twig can be extended. If you want to create your own extensions, read the <a class="reference internal" href="advanced.html#creating-extensions"><span class="std std-ref">Creating an Extension</span></a> chapter.</p>    <div class="navigation" style="text-align: center"> <a accesskey="P" title="Installation" href="installation.html"> « Installation </a> <span class="separator">|</span> <a accesskey="N" title="Twig for Developers" href="api.html"> Twig for Developers » </a> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;2018 by the Twig Team<br>Licensed under the three clause BSD license.<br>The Twig logo is &copy; 2010&ndash;2020 Symfony<br>
    <a href="https://twig.symfony.com/doc/3.x/templates.html" class="_attribution-link">https://twig.symfony.com/doc/3.x/templates.html</a>
  </p>
</div>
