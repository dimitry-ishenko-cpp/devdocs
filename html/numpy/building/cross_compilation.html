<section id="cross-compilation"> <h1>Cross compilation</h1> <p>Cross compilation is a complex topic, we only add some hopefully helpful hints here (for now). As of May 2023, cross-compilation based on <code>crossenv</code> is known to work, as used (for example) in conda-forge. Cross-compilation without <code>crossenv</code> requires some manual overrides. You instruct these overrides by passing options to <code>meson setup</code> via <a class="reference external" href="https://meson-python.readthedocs.io/en/latest/how-to-guides/meson-args.html">meson-python</a>.</p> <p>All distributions that are known to successfully cross compile NumPy are using <code>python -m build</code> (<code>pypa/build</code>), but using <code>pip</code> for that should be possible as well. Here are links to the NumPy “build recipes” on those distros:</p> <ul class="simple"> <li><a class="reference external" href="https://github.com/void-linux/void-packages/blob/master/srcpkgs/python3-numpy/template">Void Linux</a></li> <li><a class="reference external" href="https://github.com/nixos/nixpkgs/blob/master/pkgs/development/python-modules/numpy/default.nix">Nix</a></li> <li><a class="reference external" href="https://github.com/conda-forge/numpy-feedstock/blob/main/recipe/build.sh">Conda-forge</a></li> </ul> <p>See also <a class="reference external" href="https://mesonbuild.com/Cross-compilation.html">Meson’s documentation on cross compilation</a> to learn what options you may need to pass to Meson to successfully cross compile.</p> <p>One possible hiccup is that the build requires running a compiled executable in order to determine the <code>long double</code> format for the host platform. This may be an obstable, since it requires <code>crossenv</code> or QEMU to run the host (cross) Python. To avoid this problem, specify the paths to the relevant directories in your <em>cross file</em>:</p> <pre data-language="ini">[properties]
longdouble_format = 'IEEE_DOUBLE_LE'
</pre> <p>For more details and the current status around cross compilation, see:</p> <ul class="simple"> <li>The state of cross compilation in Python: <a class="reference external" href="https://pypackaging-native.github.io/key-issues/cross_compilation/">pypackaging-native key issue page</a>
</li> <li>Tracking issue for SciPy cross-compilation needs and issues: <a class="reference external" href="https://github.com/scipy/scipy/issues/14812">scipy#14812</a>
</li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 NumPy Developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://numpy.org/doc/2.0/building/cross_compilation.html" class="_attribution-link">https://numpy.org/doc/2.0/building/cross_compilation.html</a>
  </p>
</div>
