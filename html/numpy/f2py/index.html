<h1 id="f2py">F2PY user guide and reference manual</h1> <p>The purpose of the <code>F2PY</code> –<em>Fortran to Python interface generator</em>– utility is to provide a connection between Python and Fortran. F2PY is a part of <a class="reference external" href="https://www.numpy.org/">NumPy</a> (<code>numpy.f2py</code>) and also available as a standalone command line tool.</p> <p>F2PY facilitates creating/building Python C/API extension modules that make it possible</p> <ul class="simple"> <li>to call Fortran 77/90/95 external subroutines and Fortran 90/95 module subroutines as well as C functions;</li> <li>to access Fortran 77 <code>COMMON</code> blocks and Fortran 90/95 module data, including allocatable arrays</li> </ul> <p>from Python.</p> <p>F2PY can be used either as a command line tool <code>f2py</code> or as a Python module <code>numpy.f2py</code>. While we try to provide the command line tool as part of the numpy setup, some platforms like Windows make it difficult to reliably put the executables on the <code>PATH</code>. If the <code>f2py</code> command is not available in your system, you may have to run it as a module:</p> <pre data-language="python">python -m numpy.f2py
</pre> <p>If you run <code>f2py</code> with no arguments, and the line <code>numpy Version</code> at the end matches the NumPy version printed from <code>python -m numpy.f2py</code>, then you can use the shorter version. If not, or if you cannot run <code>f2py</code>, you should replace all calls to <code>f2py</code> mentioned in this guide with the longer version.</p>  <ul> <li class="toctree-l1">
<a class="reference internal" href="f2py.getting-started.html">Three ways to wrap - getting started</a><ul> <li class="toctree-l2"><a class="reference internal" href="f2py.getting-started.html#the-quick-way">The quick way</a></li> <li class="toctree-l2"><a class="reference internal" href="f2py.getting-started.html#the-smart-way">The smart way</a></li> <li class="toctree-l2"><a class="reference internal" href="f2py.getting-started.html#the-quick-and-smart-way">The quick and smart way</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="f2py-user.html">F2PY user guide</a><ul> <li class="toctree-l2">
<a class="reference internal" href="f2py.getting-started.html">Three ways to wrap - getting started</a><ul> <li class="toctree-l3"><a class="reference internal" href="f2py.getting-started.html#the-quick-way">The quick way</a></li> <li class="toctree-l3"><a class="reference internal" href="f2py.getting-started.html#the-smart-way">The smart way</a></li> <li class="toctree-l3"><a class="reference internal" href="f2py.getting-started.html#the-quick-and-smart-way">The quick and smart way</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="usage.html">Using F2PY</a><ul> <li class="toctree-l3"><a class="reference internal" href="usage.html#using-f2py-as-a-command-line-tool">Using <code>f2py</code> as a command-line tool</a></li> <li class="toctree-l3"><a class="reference internal" href="usage.html#python-module-numpy-f2py">Python module <code>numpy.f2py</code></a></li> <li class="toctree-l3"><a class="reference internal" href="usage.html#automatic-extension-module-generation">Automatic extension module generation</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="f2py-examples.html">F2PY examples</a><ul> <li class="toctree-l3"><a class="reference internal" href="f2py-examples.html#f2py-walkthrough-a-basic-extension-module">F2PY walkthrough: a basic extension module</a></li> <li class="toctree-l3"><a class="reference internal" href="f2py-examples.html#a-filtering-example">A filtering example</a></li> <li class="toctree-l3"><a class="reference internal" href="f2py-examples.html#depends-keyword-example"><code>depends</code> keyword example</a></li> <li class="toctree-l3"><a class="reference internal" href="f2py-examples.html#read-more">Read more</a></li> </ul> </li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="f2py-reference.html">F2PY reference manual</a><ul> <li class="toctree-l2">
<a class="reference internal" href="signature-file.html">Signature file</a><ul> <li class="toctree-l3"><a class="reference internal" href="signature-file.html#signature-files-syntax">Signature files syntax</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="python-usage.html">Using F2PY bindings in Python</a><ul> <li class="toctree-l3"><a class="reference internal" href="python-usage.html#fortran-type-objects">Fortran type objects</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage.html#scalar-arguments">Scalar arguments</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage.html#string-arguments">String arguments</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage.html#array-arguments">Array arguments</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage.html#call-back-arguments">Call-back arguments</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage.html#common-blocks">Common blocks</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage.html#fortran-90-module-data">Fortran 90 module data</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage.html#allocatable-arrays">Allocatable arrays</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="buildtools/index.html">F2PY and Build Systems</a><ul> <li class="toctree-l3"><a class="reference internal" href="buildtools/index.html#basic-concepts">Basic Concepts</a></li> <li class="toctree-l3"><a class="reference internal" href="buildtools/index.html#build-systems">Build Systems</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="advanced.html">Advanced F2PY use cases</a><ul> <li class="toctree-l3"><a class="reference internal" href="advanced.html#adding-user-defined-functions-to-f2py-generated-modules">Adding user-defined functions to F2PY generated modules</a></li> <li class="toctree-l3"><a class="reference internal" href="advanced.html#adding-user-defined-variables">Adding user-defined variables</a></li> <li class="toctree-l3"><a class="reference internal" href="advanced.html#dealing-with-kind-specifiers">Dealing with KIND specifiers</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="f2py-testing.html">F2PY test suite</a><ul> <li class="toctree-l3"><a class="reference internal" href="f2py-testing.html#adding-a-test">Adding a test</a></li> </ul> </li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="usage.html">Using F2PY</a><ul> <li class="toctree-l2">
<a class="reference internal" href="usage.html#using-f2py-as-a-command-line-tool">Using <code>f2py</code> as a command-line tool</a><ul> <li class="toctree-l3"><a class="reference internal" href="usage.html#signature-file-generation">1. Signature file generation</a></li> <li class="toctree-l3"><a class="reference internal" href="usage.html#extension-module-construction">2. Extension module construction</a></li> <li class="toctree-l3"><a class="reference internal" href="usage.html#building-a-module">3. Building a module</a></li> <li class="toctree-l3"><a class="reference internal" href="usage.html#other-options">Other options</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="usage.html#python-module-numpy-f2py">Python module <code>numpy.f2py</code></a></li> <li class="toctree-l2"><a class="reference internal" href="usage.html#automatic-extension-module-generation">Automatic extension module generation</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="python-usage.html">Using F2PY bindings in Python</a><ul> <li class="toctree-l2"><a class="reference internal" href="python-usage.html#fortran-type-objects">Fortran type objects</a></li> <li class="toctree-l2"><a class="reference internal" href="python-usage.html#scalar-arguments">Scalar arguments</a></li> <li class="toctree-l2"><a class="reference internal" href="python-usage.html#string-arguments">String arguments</a></li> <li class="toctree-l2"><a class="reference internal" href="python-usage.html#array-arguments">Array arguments</a></li> <li class="toctree-l2">
<a class="reference internal" href="python-usage.html#call-back-arguments">Call-back arguments</a><ul> <li class="toctree-l3"><a class="reference internal" href="python-usage.html#resolving-arguments-to-call-back-functions">Resolving arguments to call-back functions</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="python-usage.html#common-blocks">Common blocks</a></li> <li class="toctree-l2"><a class="reference internal" href="python-usage.html#fortran-90-module-data">Fortran 90 module data</a></li> <li class="toctree-l2"><a class="reference internal" href="python-usage.html#allocatable-arrays">Allocatable arrays</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="signature-file.html">Signature file</a><ul> <li class="toctree-l2">
<a class="reference internal" href="signature-file.html#signature-files-syntax">Signature files syntax</a><ul> <li class="toctree-l3"><a class="reference internal" href="signature-file.html#python-module-block">Python module block</a></li> <li class="toctree-l3"><a class="reference internal" href="signature-file.html#fortran-c-routine-signatures">Fortran/C routine signatures</a></li> <li class="toctree-l3"><a class="reference internal" href="signature-file.html#type-declarations">Type declarations</a></li> <li class="toctree-l3"><a class="reference internal" href="signature-file.html#statements">Statements</a></li> <li class="toctree-l3"><a class="reference internal" href="signature-file.html#attributes">Attributes</a></li> <li class="toctree-l3"><a class="reference internal" href="signature-file.html#extensions">Extensions</a></li> </ul> </li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="buildtools/index.html">F2PY and Build Systems</a><ul> <li class="toctree-l2"><a class="reference internal" href="buildtools/index.html#basic-concepts">Basic Concepts</a></li> <li class="toctree-l2">
<a class="reference internal" href="buildtools/index.html#build-systems">Build Systems</a><ul> <li class="toctree-l3"><a class="reference internal" href="buildtools/distutils.html">Using via <code>numpy.distutils</code></a></li> <li class="toctree-l3"><a class="reference internal" href="buildtools/meson.html">Using via <code>meson</code></a></li> <li class="toctree-l3"><a class="reference internal" href="buildtools/cmake.html">Using via <code>cmake</code></a></li> <li class="toctree-l3"><a class="reference internal" href="buildtools/skbuild.html">Using via <code>scikit-build</code></a></li> </ul> </li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="advanced.html">Advanced F2PY use cases</a><ul> <li class="toctree-l2"><a class="reference internal" href="advanced.html#adding-user-defined-functions-to-f2py-generated-modules">Adding user-defined functions to F2PY generated modules</a></li> <li class="toctree-l2"><a class="reference internal" href="advanced.html#adding-user-defined-variables">Adding user-defined variables</a></li> <li class="toctree-l2"><a class="reference internal" href="advanced.html#dealing-with-kind-specifiers">Dealing with KIND specifiers</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="windows/index.html">F2PY and Windows</a><ul> <li class="toctree-l2"><a class="reference internal" href="windows/index.html#overview">Overview</a></li> <li class="toctree-l2"><a class="reference internal" href="windows/index.html#baseline">Baseline</a></li> <li class="toctree-l2"><a class="reference internal" href="windows/index.html#powershell-and-msvc">Powershell and MSVC</a></li> <li class="toctree-l2">
<a class="reference internal" href="windows/index.html#windows-store-python-paths">Windows Store Python Paths</a><ul> <li class="toctree-l3"><a class="reference internal" href="windows/intel.html">F2PY and Windows Intel Fortran</a></li> <li class="toctree-l3"><a class="reference internal" href="windows/msys2.html">F2PY and Windows with MSYS2</a></li> <li class="toctree-l3"><a class="reference internal" href="windows/conda.html">F2PY and Conda on Windows</a></li> <li class="toctree-l3"><a class="reference internal" href="windows/pgi.html">F2PY and PGI Fortran on Windows</a></li> </ul> </li> </ul> </li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2022 NumPy Developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://numpy.org/doc/1.23/f2py/index.html" class="_attribution-link">https://numpy.org/doc/1.23/f2py/index.html</a>
  </p>
</div>
