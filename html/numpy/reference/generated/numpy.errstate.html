<section id="numpy-errstate"> <h1>numpy.errstate</h1> <dl class="py class"> <dt class="sig sig-object py" id="numpy.errstate"> <em class="property">class</em><span class="sig-prename descclassname">numpy.</span><span class="sig-name descname">errstate</span><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/numpy/numpy/blob/v2.0.0/numpy/__init__.py"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Context manager for floating-point error handling.</p> <p>Using an instance of <a class="reference internal" href="#numpy.errstate" title="numpy.errstate"><code>errstate</code></a> as a context manager allows statements in that context to execute with a known error handling behavior. Upon entering the context the error handling is set with <a class="reference internal" href="numpy.seterr.html#numpy.seterr" title="numpy.seterr"><code>seterr</code></a> and <a class="reference internal" href="numpy.seterrcall.html#numpy.seterrcall" title="numpy.seterrcall"><code>seterrcall</code></a>, and upon exiting it is reset to what it was before.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.17.0: </span><a class="reference internal" href="#numpy.errstate" title="numpy.errstate"><code>errstate</code></a> is also usable as a function decorator, saving a level of indentation if an entire function is wrapped.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span><a class="reference internal" href="#numpy.errstate" title="numpy.errstate"><code>errstate</code></a> is now fully thread and asyncio safe, but may not be entered more than once. It is not safe to decorate async functions using <code>errstate</code>.</p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>kwargs</strong><span class="classifier">{divide, over, under, invalid}</span>
</dt>
<dd>
<p>Keyword arguments. The valid keywords are the possible floating-point exceptions. Each keyword should have a string value that defines the treatment for the particular error. Possible values are {‘ignore’, ‘warn’, ‘raise’, ‘call’, ‘print’, ‘log’}.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt>
<a class="reference internal" href="numpy.seterr.html#numpy.seterr" title="numpy.seterr"><code>seterr</code></a>, <a class="reference internal" href="numpy.geterr.html#numpy.geterr" title="numpy.geterr"><code>geterr</code></a>, <a class="reference internal" href="numpy.seterrcall.html#numpy.seterrcall" title="numpy.seterrcall"><code>seterrcall</code></a>, <a class="reference internal" href="numpy.geterrcall.html#numpy.geterrcall" title="numpy.geterrcall"><code>geterrcall</code></a>
</dt>
 </dl> </div> <h4 class="rubric">Notes</h4> <p>For complete documentation of the types of floating-point exceptions and treatment options, see <a class="reference internal" href="numpy.seterr.html#numpy.seterr" title="numpy.seterr"><code>seterr</code></a>.</p> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; olderr = np.seterr(all='ignore')  # Set error handling to known state.
</pre> <pre data-language="python">&gt;&gt;&gt; np.arange(3) / 0.
array([nan, inf, inf])
&gt;&gt;&gt; with np.errstate(divide='ignore'):
...     np.arange(3) / 0.
array([nan, inf, inf])
</pre> <pre data-language="python">&gt;&gt;&gt; np.sqrt(-1)
np.float64(nan)
&gt;&gt;&gt; with np.errstate(invalid='raise'):
...     np.sqrt(-1)
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 2, in &lt;module&gt;
FloatingPointError: invalid value encountered in sqrt
</pre> <p>Outside the context the error handling behavior has not changed:</p> <pre data-language="python">&gt;&gt;&gt; np.geterr()
{'divide': 'ignore', 'over': 'ignore', 'under': 'ignore', 'invalid': 'ignore'}
&gt;&gt;&gt; olderr = np.seterr(**olderr)  # restore original state
</pre> <h4 class="rubric">Methods</h4> <div class="pst-scrollable-table-container">
<table class="autosummary longtable table autosummary">  <tr>
<td><p><a class="reference internal" href="numpy.errstate.__call__.html#numpy.errstate.__call__" title="numpy.errstate.__call__"><code>__call__</code></a>(func)</p></td> <td><p>Call self as a function.</p></td> </tr>  </table> </div> </dd>
</dl> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 NumPy Developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://numpy.org/doc/2.0/reference/generated/numpy.errstate.html" class="_attribution-link">https://numpy.org/doc/2.0/reference/generated/numpy.errstate.html</a>
  </p>
</div>
