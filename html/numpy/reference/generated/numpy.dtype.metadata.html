<h1>numpy.dtype.metadata</h1> <p>attribute</p> <dl class="py attribute"> <dt class="sig sig-object py" id="numpy.dtype.metadata"> <span class="sig-prename descclassname">dtype.</span><span class="sig-name descname">metadata</span>
</dt> <dd>
<p>Either <code>None</code> or a readonly dictionary of metadata (mappingproxy).</p> <p>The metadata field can be set using any dictionary at data-type creation. NumPy currently has no uniform approach to propagating metadata; although some array operations preserve it, there is no guarantee that others will.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Although used in certain projects, this feature was long undocumented and is not well supported. Some aspects of metadata propagation are expected to change in the future.</p> </div> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; dt = np.dtype(float, metadata={"key": "value"})
&gt;&gt;&gt; dt.metadata["key"]
'value'
&gt;&gt;&gt; arr = np.array([1, 2, 3], dtype=dt)
&gt;&gt;&gt; arr.dtype.metadata
mappingproxy({'key': 'value'})
</pre> <p>Adding arrays with identical datatypes currently preserves the metadata:</p> <pre data-language="python">&gt;&gt;&gt; (arr + arr).dtype.metadata
mappingproxy({'key': 'value'})
</pre> <p>But if the arrays have different dtype metadata, the metadata may be dropped:</p> <pre data-language="python">&gt;&gt;&gt; dt2 = np.dtype(float, metadata={"key2": "value2"})
&gt;&gt;&gt; arr2 = np.array([3, 2, 1], dtype=dt2)
&gt;&gt;&gt; (arr + arr2).dtype.metadata is None
True  # The metadata field is cleared so None is returned
</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2022 NumPy Developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://numpy.org/doc/1.23/reference/generated/numpy.dtype.metadata.html" class="_attribution-link">https://numpy.org/doc/1.23/reference/generated/numpy.dtype.metadata.html</a>
  </p>
</div>
