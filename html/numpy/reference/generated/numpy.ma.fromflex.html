<section id="numpy-ma-fromflex"> <h1>numpy.ma.fromflex</h1> <dl class="py function"> <dt class="sig sig-object py" id="numpy.ma.fromflex"> <span class="sig-prename descclassname">ma.</span><span class="sig-name descname">fromflex</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">fxarray</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/numpy/numpy/blob/v2.0.0/numpy/ma/core.py#L8450-L8511"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Build a masked array from a suitable flexible-type array.</p> <p>The input array has to have a data-type with <code>_data</code> and <code>_mask</code> fields. This type of array is output by <a class="reference internal" href="numpy.ma.maskedarray.toflex.html#numpy.ma.MaskedArray.toflex" title="numpy.ma.MaskedArray.toflex"><code>MaskedArray.toflex</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>fxarray</strong><span class="classifier">ndarray</span>
</dt>
<dd>
<p>The structured input array, containing <code>_data</code> and <code>_mask</code> fields. If present, other fields are discarded.</p> </dd> </dl> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<dl class="simple"> <dt>
<strong>result</strong><span class="classifier">MaskedArray</span>
</dt>
<dd>
<p>The constructed masked array.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="numpy.ma.maskedarray.toflex.html#numpy.ma.MaskedArray.toflex" title="numpy.ma.MaskedArray.toflex"><code>MaskedArray.toflex</code></a></dt>
<dd>
<p>Build a flexible-type array from a masked array.</p> </dd> </dl> </div> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; x = np.ma.array(np.arange(9).reshape(3, 3), mask=[0] + [1, 0] * 4)
&gt;&gt;&gt; rec = x.toflex()
&gt;&gt;&gt; rec
array([[(0, False), (1,  True), (2, False)],
       [(3,  True), (4, False), (5,  True)],
       [(6, False), (7,  True), (8, False)]],
      dtype=[('_data', '&lt;i8'), ('_mask', '?')])
&gt;&gt;&gt; x2 = np.ma.fromflex(rec)
&gt;&gt;&gt; x2
masked_array(
  data=[[0, --, 2],
        [--, 4, --],
        [6, --, 8]],
  mask=[[False,  True, False],
        [ True, False,  True],
        [False,  True, False]],
  fill_value=999999)
</pre> <p>Extra fields can be present in the structured array but are discarded:</p> <pre data-language="python">&gt;&gt;&gt; dt = [('_data', '&lt;i4'), ('_mask', '|b1'), ('field3', '&lt;f4')]
&gt;&gt;&gt; rec2 = np.zeros((2, 2), dtype=dt)
&gt;&gt;&gt; rec2
array([[(0, False, 0.), (0, False, 0.)],
       [(0, False, 0.), (0, False, 0.)]],
      dtype=[('_data', '&lt;i4'), ('_mask', '?'), ('field3', '&lt;f4')])
&gt;&gt;&gt; y = np.ma.fromflex(rec2)
&gt;&gt;&gt; y
masked_array(
  data=[[0, 0],
        [0, 0]],
  mask=[[False, False],
        [False, False]],
  fill_value=np.int64(999999),
  dtype=int32)
</pre> </dd>
</dl> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 NumPy Developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://numpy.org/doc/2.0/reference/generated/numpy.ma.fromflex.html" class="_attribution-link">https://numpy.org/doc/2.0/reference/generated/numpy.ma.fromflex.html</a>
  </p>
</div>
