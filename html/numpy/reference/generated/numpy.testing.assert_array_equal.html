<section id="numpy-testing-assert-array-equal"> <h1>numpy.testing.assert_array_equal</h1> <dl class="py function"> <dt class="sig sig-object py" id="numpy.testing.assert_array_equal"> <span class="sig-prename descclassname">testing.</span><span class="sig-name descname">assert_array_equal</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">actual</span></em>, <em class="sig-param"><span class="n">desired</span></em>, <em class="sig-param"><span class="n">err_msg</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">strict</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/numpy/numpy/blob/v2.0.0/numpy/testing/_private/utils.py#L896-L1023"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Raises an AssertionError if two array_like objects are not equal.</p> <p>Given two array_like objects, check that the shape is equal and all elements of these objects are equal (but see the Notes for the special handling of a scalar). An exception is raised at shape mismatch or conflicting values. In contrast to the standard usage in numpy, NaNs are compared like numbers, no assertion is raised if both objects have NaNs in the same positions.</p> <p>The usual caution for verifying equality with floating point numbers is advised.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>When either <code>actual</code> or <code>desired</code> is already an instance of <a class="reference internal" href="numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray"><code>numpy.ndarray</code></a> and <code>desired</code> is not a <code>dict</code>, the behavior of <code>assert_equal(actual, desired)</code> is identical to the behavior of this function. Otherwise, this function performs <code>np.asanyarray</code> on the inputs before comparison, whereas <a class="reference internal" href="numpy.testing.assert_equal.html#numpy.testing.assert_equal" title="numpy.testing.assert_equal"><code>assert_equal</code></a> defines special comparison rules for common Python types. For example, only <a class="reference internal" href="numpy.testing.assert_equal.html#numpy.testing.assert_equal" title="numpy.testing.assert_equal"><code>assert_equal</code></a> can be used to compare nested Python lists. In new code, consider using only <a class="reference internal" href="numpy.testing.assert_equal.html#numpy.testing.assert_equal" title="numpy.testing.assert_equal"><code>assert_equal</code></a>, explicitly converting either <code>actual</code> or <code>desired</code> to arrays if the behavior of <a class="reference internal" href="#numpy.testing.assert_array_equal" title="numpy.testing.assert_array_equal"><code>assert_array_equal</code></a> is desired.</p> </div> <dl class="field-list"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<dl> <dt>
<strong>actual</strong><span class="classifier">array_like</span>
</dt>
<dd>
<p>The actual object to check.</p> </dd> <dt>
<strong>desired</strong><span class="classifier">array_like</span>
</dt>
<dd>
<p>The desired, expected object.</p> </dd> <dt>
<strong>err_msg</strong><span class="classifier">str, optional</span>
</dt>
<dd>
<p>The error message to be printed in case of failure.</p> </dd> <dt>
<strong>verbose</strong><span class="classifier">bool, optional</span>
</dt>
<dd>
<p>If True, the conflicting values are appended to the error message.</p> </dd> <dt>
<strong>strict</strong><span class="classifier">bool, optional</span>
</dt>
<dd>
<p>If True, raise an AssertionError when either the shape or the data type of the array_like objects does not match. The special handling for scalars mentioned in the Notes section is disabled.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.24.0.</span></p> </div> </dd> </dl> </dd> <dt class="field-even">Raises<span class="colon">:</span>
</dt> <dd class="field-even">
<dl class="simple"> <dt>AssertionError</dt>
<dd>
<p>If actual and desired objects are not equal.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="numpy.testing.assert_allclose.html#numpy.testing.assert_allclose" title="numpy.testing.assert_allclose"><code>assert_allclose</code></a></dt>
<dd>
<p>Compare two array_like objects for equality with desired relative and/or absolute precision.</p> </dd> <dt>
<a class="reference internal" href="numpy.testing.assert_array_almost_equal_nulp.html#numpy.testing.assert_array_almost_equal_nulp" title="numpy.testing.assert_array_almost_equal_nulp"><code>assert_array_almost_equal_nulp</code></a>, <a class="reference internal" href="numpy.testing.assert_array_max_ulp.html#numpy.testing.assert_array_max_ulp" title="numpy.testing.assert_array_max_ulp"><code>assert_array_max_ulp</code></a>, <a class="reference internal" href="numpy.testing.assert_equal.html#numpy.testing.assert_equal" title="numpy.testing.assert_equal"><code>assert_equal</code></a>
</dt>
 </dl> </div> <h4 class="rubric">Notes</h4> <p>When one of <code>actual</code> and <code>desired</code> is a scalar and the other is array_like, the function checks that each element of the array_like object is equal to the scalar. This behaviour can be disabled with the <code>strict</code> parameter.</p> <h4 class="rubric">Examples</h4> <p>The first assert does not raise an exception:</p> <pre data-language="python">&gt;&gt;&gt; np.testing.assert_array_equal([1.0,2.33333,np.nan],
...                               [np.exp(0),2.33333, np.nan])
</pre> <p>Assert fails with numerical imprecision with floats:</p> <pre data-language="python">&gt;&gt;&gt; np.testing.assert_array_equal([1.0,np.pi,np.nan],
...                               [1, np.sqrt(np.pi)**2, np.nan])
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not equal

Mismatched elements: 1 / 3 (33.3%)
Max absolute difference among violations: 4.4408921e-16
Max relative difference among violations: 1.41357986e-16
 ACTUAL: array([1.      , 3.141593,      nan])
 DESIRED: array([1.      , 3.141593,      nan])
</pre> <p>Use <a class="reference internal" href="numpy.testing.assert_allclose.html#numpy.testing.assert_allclose" title="numpy.testing.assert_allclose"><code>assert_allclose</code></a> or one of the nulp (number of floating point values) functions for these cases instead:</p> <pre data-language="python">&gt;&gt;&gt; np.testing.assert_allclose([1.0,np.pi,np.nan],
...                            [1, np.sqrt(np.pi)**2, np.nan],
...                            rtol=1e-10, atol=0)
</pre> <p>As mentioned in the Notes section, <a class="reference internal" href="#numpy.testing.assert_array_equal" title="numpy.testing.assert_array_equal"><code>assert_array_equal</code></a> has special handling for scalars. Here the test checks that each value in <code>x</code> is 3:</p> <pre data-language="python">&gt;&gt;&gt; x = np.full((2, 5), fill_value=3)
&gt;&gt;&gt; np.testing.assert_array_equal(x, 3)
</pre> <p>Use <code>strict</code> to raise an AssertionError when comparing a scalar with an array:</p> <pre data-language="python">&gt;&gt;&gt; np.testing.assert_array_equal(x, 3, strict=True)
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not equal

(shapes (2, 5), () mismatch)
 ACTUAL: array([[3, 3, 3, 3, 3],
       [3, 3, 3, 3, 3]])
 DESIRED: array(3)
</pre> <p>The <code>strict</code> parameter also ensures that the array data types match:</p> <pre data-language="python">&gt;&gt;&gt; x = np.array([2, 2, 2])
&gt;&gt;&gt; y = np.array([2., 2., 2.], dtype=np.float32)
&gt;&gt;&gt; np.testing.assert_array_equal(x, y, strict=True)
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not equal

(dtypes int64, float32 mismatch)
 ACTUAL: array([2, 2, 2])
 DESIRED: array([2., 2., 2.], dtype=float32)
</pre> </dd>
</dl> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 NumPy Developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://numpy.org/doc/2.0/reference/generated/numpy.testing.assert_array_equal.html" class="_attribution-link">https://numpy.org/doc/2.0/reference/generated/numpy.testing.assert_array_equal.html</a>
  </p>
</div>
