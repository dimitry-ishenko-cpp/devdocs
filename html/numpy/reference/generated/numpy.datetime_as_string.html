<h1>numpy.datetime_as_string</h1> <dl class="py function"> <dt class="sig sig-object py" id="numpy.datetime_as_string"> <span class="sig-prename descclassname">numpy.</span><span class="sig-name descname">datetime_as_string</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">timezone</span><span class="o">=</span><span class="default_value">'naive'</span></em>, <em class="sig-param"><span class="n">casting</span><span class="o">=</span><span class="default_value">'same_kind'</span></em><span class="sig-paren">)</span>
</dt> <dd>
<p>Convert an array of datetimes into an array of strings.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>arr</strong><span class="classifier">array_like of datetime64</span>
</dt>
<dd>
<p>The array of UTC timestamps to format.</p> </dd> <dt>
<strong>unit</strong><span class="classifier">str</span>
</dt>
<dd>
<p>One of None, ‘auto’, or a <a class="reference internal" href="../arrays.datetime.html#arrays-dtypes-dateunits"><span class="std std-ref">datetime unit</span></a>.</p> </dd> <dt>
<strong>timezone</strong><span class="classifier">{‘naive’, ‘UTC’, ‘local’} or tzinfo</span>
</dt>
<dd>
<p>Timezone information to use when displaying the datetime. If ‘UTC’, end with a Z to indicate UTC time. If ‘local’, convert to the local timezone first, and suffix with a +-#### timezone offset. If a tzinfo object, then do as with ‘local’, but use the specified timezone.</p> </dd> <dt>
<strong>casting</strong><span class="classifier">{‘no’, ‘equiv’, ‘safe’, ‘same_kind’, ‘unsafe’}</span>
</dt>
<dd>
<p>Casting to allow when changing between datetime units.</p> </dd> </dl> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<dl class="simple"> <dt>
<strong>str_arr</strong><span class="classifier">ndarray</span>
</dt>
<dd>
<p>An array of strings the same shape as <code>arr</code>.</p> </dd> </dl> </dd> </dl> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; import pytz
&gt;&gt;&gt; d = np.arange('2002-10-27T04:30', 4*60, 60, dtype='M8[m]')
&gt;&gt;&gt; d
array(['2002-10-27T04:30', '2002-10-27T05:30', '2002-10-27T06:30',
       '2002-10-27T07:30'], dtype='datetime64[m]')
</pre> <p>Setting the timezone to UTC shows the same information, but with a Z suffix</p> <pre data-language="python">&gt;&gt;&gt; np.datetime_as_string(d, timezone='UTC')
array(['2002-10-27T04:30Z', '2002-10-27T05:30Z', '2002-10-27T06:30Z',
       '2002-10-27T07:30Z'], dtype='&lt;U35')
</pre> <p>Note that we picked datetimes that cross a DST boundary. Passing in a <code>pytz</code> timezone object will print the appropriate offset</p> <pre data-language="python">&gt;&gt;&gt; np.datetime_as_string(d, timezone=pytz.timezone('US/Eastern'))
array(['2002-10-27T00:30-0400', '2002-10-27T01:30-0400',
       '2002-10-27T01:30-0500', '2002-10-27T02:30-0500'], dtype='&lt;U39')
</pre> <p>Passing in a unit will change the precision</p> <pre data-language="python">&gt;&gt;&gt; np.datetime_as_string(d, unit='h')
array(['2002-10-27T04', '2002-10-27T05', '2002-10-27T06', '2002-10-27T07'],
      dtype='&lt;U32')
&gt;&gt;&gt; np.datetime_as_string(d, unit='s')
array(['2002-10-27T04:30:00', '2002-10-27T05:30:00', '2002-10-27T06:30:00',
       '2002-10-27T07:30:00'], dtype='&lt;U38')
</pre> <p>‘casting’ can be used to specify whether precision can be changed</p> <pre data-language="python">&gt;&gt;&gt; np.datetime_as_string(d, unit='h', casting='safe')
Traceback (most recent call last):
    ...
TypeError: Cannot create a datetime string as units 'h' from a NumPy
datetime with units 'm' according to the rule 'safe'
</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2022 NumPy Developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://numpy.org/doc/1.23/reference/generated/numpy.datetime_as_string.html" class="_attribution-link">https://numpy.org/doc/1.23/reference/generated/numpy.datetime_as_string.html</a>
  </p>
</div>
