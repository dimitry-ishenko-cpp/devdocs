<h1>numpy.ma.average</h1> <dl class="py function"> <dt class="sig sig-object py" id="numpy.ma.average"> <span class="sig-prename descclassname">ma.</span><span class="sig-name descname">average</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">axis=None</span></em>, <em class="sig-param"><span class="n">weights=None</span></em>, <em class="sig-param"><span class="n">returned=False</span></em>, <em class="sig-param"><span class="n">*</span></em>, <em class="sig-param"><span class="n">keepdims=&lt;no value&gt;</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/numpy/numpy/blob/v1.23.0/numpy/ma/extras.py#L528-L657"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Return the weighted average of array over the given axis.</p> <dl class="field-list"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl> <dt>
<strong>a</strong><span class="classifier">array_like</span>
</dt>
<dd>
<p>Data to be averaged. Masked entries are not taken into account in the computation.</p> </dd> <dt>
<strong>axis</strong><span class="classifier">int, optional</span>
</dt>
<dd>
<p>Axis along which to average <code>a</code>. If None, averaging is done over the flattened array.</p> </dd> <dt>
<strong>weights</strong><span class="classifier">array_like, optional</span>
</dt>
<dd>
<p>The importance that each element has in the computation of the average. The weights array can either be 1-D (in which case its length must be the size of <code>a</code> along the given axis) or of the same shape as <code>a</code>. If <code>weights=None</code>, then all data in <code>a</code> are assumed to have a weight equal to one. The 1-D calculation is:</p> <pre data-language="python">avg = sum(a * weights) / sum(weights)
</pre> <p>The only constraint on <code>weights</code> is that <code>sum(weights)</code> must not be 0.</p> </dd> <dt>
<strong>returned</strong><span class="classifier">bool, optional</span>
</dt>
<dd>
<p>Flag indicating whether a tuple <code>(result, sum of weights)</code> should be returned as output (True), or just the result (False). Default is False.</p> </dd> <dt>
<strong>keepdims</strong><span class="classifier">bool, optional</span>
</dt>
<dd>
<p>If this is set to True, the axes which are reduced are left in the result as dimensions with size one. With this option, the result will broadcast correctly against the original <code>a</code>. <em>Note:</em> <code>keepdims</code> will not work with instances of <a class="reference internal" href="numpy.matrix.html#numpy.matrix" title="numpy.matrix"><code>numpy.matrix</code></a> or other classes whose methods do not support <code>keepdims</code>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.23.0.</span></p> </div> </dd> </dl> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<dl class="simple"> <dt>
<strong>average, [sum_of_weights]</strong><span class="classifier">(tuple of) scalar or MaskedArray</span>
</dt>
<dd>
<p>The average along the specified axis. When returned is <code>True</code>, return a tuple with the average as the first element and the sum of the weights as the second element. The return type is <code>np.float64</code> if <code>a</code> is of integer type and floats smaller than <a class="reference internal" href="../arrays.scalars.html#numpy.float64" title="numpy.float64"><code>float64</code></a>, or the input data-type, otherwise. If returned, <code>sum_of_weights</code> is always <a class="reference internal" href="../arrays.scalars.html#numpy.float64" title="numpy.float64"><code>float64</code></a>.</p> </dd> </dl> </dd> </dl> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; a = np.ma.array([1., 2., 3., 4.], mask=[False, False, True, True])
&gt;&gt;&gt; np.ma.average(a, weights=[3, 1, 0, 0])
1.25
</pre> <pre data-language="python">&gt;&gt;&gt; x = np.ma.arange(6.).reshape(3, 2)
&gt;&gt;&gt; x
masked_array(
  data=[[0., 1.],
        [2., 3.],
        [4., 5.]],
  mask=False,
  fill_value=1e+20)
&gt;&gt;&gt; avg, sumweights = np.ma.average(x, axis=0, weights=[1, 2, 3],
...                                 returned=True)
&gt;&gt;&gt; avg
masked_array(data=[2.6666666666666665, 3.6666666666666665],
             mask=[False, False],
       fill_value=1e+20)
</pre> <p>With <code>keepdims=True</code>, the following result has shape (3, 1).</p> <pre data-language="python">&gt;&gt;&gt; np.ma.average(x, axis=1, keepdims=True)
masked_array(
  data=[[0.5],
        [2.5],
        [4.5]],
  mask=False,
  fill_value=1e+20)
</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2022 NumPy Developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://numpy.org/doc/1.23/reference/generated/numpy.ma.average.html" class="_attribution-link">https://numpy.org/doc/1.23/reference/generated/numpy.ma.average.html</a>
  </p>
</div>
