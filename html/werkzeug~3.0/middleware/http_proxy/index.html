<h1>Basic HTTP Proxy</h1> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.middleware.http_proxy.ProxyMiddleware">
<code>class werkzeug.middleware.http_proxy.ProxyMiddleware(app, targets, chunk_size=16384, timeout=10)</code> </dt> <dd>
<p>Proxy requests under a path to an external server, routing other requests to the app.</p> <p>This middleware can only proxy HTTP requests, as HTTP is the only protocol handled by the WSGI server. Other protocols, such as WebSocket requests, cannot be proxied at this layer. This should only be used for development, in production a real proxy server should be used.</p> <p>The middleware takes a dict mapping a path prefix to a dict describing the host to be proxied to:</p> <pre data-language="python">app = ProxyMiddleware(app, {
    "/static/": {
        "target": "http://127.0.0.1:5001/",
    }
})
</pre> <p>Each host has the following options:</p> <dl class="simple"> <dt>
<code>target:</code> </dt>
<dd>
<p>The target URL to dispatch to. This is required.</p> </dd> <dt>
<code>remove_prefix:</code> </dt>
<dd>
<p>Whether to remove the prefix from the URL before dispatching it to the target. The default is <code>False</code>.</p> </dd> <dt>
<code>host:</code> </dt>
<dd>
<dl class="simple"> <dt>
<code>"&lt;auto&gt;" (default):</code> </dt>
<dd>
<p>The host header is automatically rewritten to the URL of the target.</p> </dd> <dt>
<code>None:</code> </dt>
<dd>
<p>The host header is unmodified from the client request.</p> </dd> <dt>Any other value:</dt>
<dd>
<p>The host header is overwritten with the value.</p> </dd> </dl> </dd> <dt>
<code>headers:</code> </dt>
<dd>
<p>A dictionary of headers to be sent with the request to the target. The default is <code>{}</code>.</p> </dd> <dt>
<code>ssl_context:</code> </dt>
<dd>
<p>A <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext" title="(in Python v3.11)"><code>ssl.SSLContext</code></a> defining how to verify requests if the target is HTTPS. The default is <code>None</code>.</p> </dd> </dl> <p>In the example above, everything under <code>"/static/"</code> is proxied to the server on port 5001. The host header is rewritten to the target, and the <code>"/static/"</code> prefix is removed from the URLs.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>app</strong> (<em>WSGIApplication</em>) – The WSGI application to wrap.</li> <li>
<strong>targets</strong> (<em>t.Mapping</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a><em>, </em><em>t.Any</em><em>]</em><em>]</em>) – Proxy target configurations. See description above.</li> <li>
<strong>chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>) – Size of chunks to read from input stream and write to target.</li> <li>
<strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>) – Seconds before an operation to a target fails.</li> </ul> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">New in version 0.14.</span></p> </div> </details>
</dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2007 Pallets<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://werkzeug.palletsprojects.com/en/3.0.x/middleware/http_proxy/" class="_attribution-link">https://werkzeug.palletsprojects.com/en/3.0.x/middleware/http_proxy/</a>
  </p>
</div>
