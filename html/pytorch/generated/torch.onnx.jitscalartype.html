<h1 id="jitscalartype">JitScalarType</h1> <dl class="py class"> <dt class="sig sig-object py" id="torch.onnx.JitScalarType">
<code>class torch.onnx.JitScalarType(value)</code> </dt> <dd>
<p>Scalar types defined in torch.</p> <p>Use <code>JitScalarType</code> to convert from torch and JIT scalar types to ONNX scalar types.</p> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; JitScalarType.from_value(torch.ones(1, 2)).onnx_type()
TensorProtoDataType.FLOAT
</pre> <pre data-language="python">&gt;&gt;&gt; JitScalarType.from_value(torch_c_value_with_type_float).onnx_type()
TensorProtoDataType.FLOAT
</pre> <pre data-language="python">&gt;&gt;&gt; JitScalarType.from_dtype(torch.get_default_dtype).onnx_type()
TensorProtoDataType.FLOAT
</pre> <dl class="py method"> <dt class="sig sig-object py" id="torch.onnx.JitScalarType.dtype">
<code>dtype()</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/onnx/_type_utils.html#JitScalarType.dtype"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Convert a JitScalarType to a torch dtype.</p> <dl class="field-list simple"> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference internal" href="../tensor_attributes.html#torch.dtype" title="torch.dtype">dtype</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="torch.onnx.JitScalarType.from_dtype">
<code>classmethod from_dtype(dtype)</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/onnx/_type_utils.html#JitScalarType.from_dtype"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Convert a torch dtype to JitScalarType.</p> <dl class="simple"> <dt>
<code>Note: DO NOT USE this API when dtype comes from a torch._C.Value.type() calls.</code> </dt>
<dd>
<p>A “RuntimeError: INTERNAL ASSERT FAILED at “../aten/src/ATen/core/jit_type_base.h” can be raised in several scenarios where shape info is not present. Instead use <code>from_value</code> API which is safer.</p> </dd> </dl> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>dtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)">Optional</a><em>[</em><a class="reference internal" href="../tensor_attributes.html#torch.dtype" title="torch.dtype">dtype</a><em>]</em>) – A torch.dtype to create a JitScalarType from</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>JitScalarType</p> </dd> <dt class="field-odd">Raises</dt> <dd class="field-odd">
<p><a class="reference internal" href="../onnx_dynamo.html#torch.onnx.OnnxExporterError" title="torch.onnx.OnnxExporterError"><strong>OnnxExporterError</strong></a> – if dtype is not a valid torch.dtype or if it is None.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference internal" href="#torch.onnx.JitScalarType" title="torch.onnx.JitScalarType">JitScalarType</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="torch.onnx.JitScalarType.from_value">
<code>classmethod from_value(value, default=None)</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/onnx/_type_utils.html#JitScalarType.from_value"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Create a JitScalarType from an value’s scalar type.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)">Union</a><em>[</em><em>None</em><em>, </em><em>Value</em><em>, </em><a class="reference internal" href="../tensors.html#torch.Tensor" title="torch.Tensor">Tensor</a><em>]</em>) – An object to fetch scalar type from.</li> <li>
<strong>default</strong> – The JitScalarType to return if a valid scalar cannot be fetched from value</li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>JitScalarType.</p> </dd> <dt class="field-odd">Raises</dt> <dd class="field-odd">
<ul class="simple"> <li>
<a class="reference internal" href="../onnx_dynamo.html#torch.onnx.OnnxExporterError" title="torch.onnx.OnnxExporterError"><strong>OnnxExporterError</strong></a> – if value does not have a valid scalar type and default is None.</li> <li>
<strong>SymbolicValueError</strong> – when value.type()’s info are empty and default is None</li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference internal" href="#torch.onnx.JitScalarType" title="torch.onnx.JitScalarType">JitScalarType</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="torch.onnx.JitScalarType.onnx_compatible">
<code>onnx_compatible()</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/onnx/_type_utils.html#JitScalarType.onnx_compatible"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Return whether this JitScalarType is compatible with ONNX.</p> <dl class="field-list simple"> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="torch.onnx.JitScalarType.onnx_type">
<code>onnx_type()</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/onnx/_type_utils.html#JitScalarType.onnx_type"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Convert a JitScalarType to an ONNX data type.</p> <dl class="field-list simple"> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><em>TensorProtoDataType</em></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="torch.onnx.JitScalarType.scalar_name">
<code>scalar_name()</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/onnx/_type_utils.html#JitScalarType.scalar_name"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Convert a JitScalarType to a JIT scalar type name.</p> <dl class="field-list simple"> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)">Literal</a>[‘Byte’, ‘Char’, ‘Double’, ‘Float’, ‘Half’, ‘Int’, ‘Long’, ‘Short’, ‘Bool’, ‘ComplexHalf’, ‘ComplexFloat’, ‘ComplexDouble’, ‘QInt8’, ‘QUInt8’, ‘QInt32’, ‘BFloat16’, ‘Float8E5M2’, ‘Float8E4M3FN’, ‘Undefined’]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="torch.onnx.JitScalarType.torch_name">
<code>torch_name()</code> <a class="reference internal" href="https://pytorch.org/docs/2.1/_modules/torch/onnx/_type_utils.html#JitScalarType.torch_name"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Convert a JitScalarType to a torch type name.</p> <dl class="field-list simple"> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)">Literal</a>[‘bool’, ‘uint8_t’, ‘int8_t’, ‘double’, ‘float’, ‘half’, ‘int’, ‘int64_t’, ‘int16_t’, ‘complex32’, ‘complex64’, ‘complex128’, ‘qint8’, ‘quint8’, ‘qint32’, ‘bfloat16’, ‘float8_e5m2’, ‘float8_e4m3fn’]</p> </dd> </dl> </dd>
</dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024, PyTorch Contributors<br>PyTorch has a BSD-style license, as found in the <a href="https://github.com/pytorch/pytorch/blob/main/LICENSE">LICENSE</a> file.<br>
    <a href="https://pytorch.org/docs/2.1/generated/torch.onnx.JitScalarType.html" class="_attribution-link">https://pytorch.org/docs/2.1/generated/torch.onnx.JitScalarType.html</a>
  </p>
</div>
