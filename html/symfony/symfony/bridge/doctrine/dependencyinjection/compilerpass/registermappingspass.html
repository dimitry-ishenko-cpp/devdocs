<h1> RegisterMappingsPass </h1> <p>abstract class <strong>RegisterMappingsPass</strong> implements <a href="../../../../component/dependencyinjection/compiler/compilerpassinterface.html" title="Symfony\Component\DependencyInjection\Compiler\CompilerPassInterface">CompilerPassInterface</a> </p> <div class="description"> <p>Base class for the doctrine bundles to provide a compiler pass class that helps to register doctrine mappings.</p> <p>The compiler pass is meant to register the mappings with the metadata chain driver corresponding to one of the object managers.</p> <p>For concrete implementations that are easy to use, see the RegisterXyMappingsPass classes in the DoctrineBundle resp. DoctrineMongodbBundle, DoctrineCouchdbBundle and DoctrinePhpcrBundle.</p> </div> <h2>Properties</h2> <table class="table table-condensed"> <tr> <td class="type" id="property_driver"> protected <a href="../../../../component/dependencyinjection/definition.html" title="Symfony\Component\DependencyInjection\Definition">Definition</a>|<a href="../../../../component/dependencyinjection/reference.html" title="Symfony\Component\DependencyInjection\Reference">Reference</a> </td> <td>$driver</td> <td class="last">DI object for the driver to use, either a service definition for a private service or a reference for a public service.</td> <td></td> </tr> <tr> <td class="type" id="property_namespaces"> protected string[] </td> <td>$namespaces</td> <td class="last">List of namespaces handled by the driver.</td> <td></td> </tr> <tr> <td class="type" id="property_managerParameters"> protected string[] </td> <td>$managerParameters</td> <td class="last">List of potential container parameters that hold the object manager name to register the mappings with the correct metadata driver, for example array('acme.manager', 'doctrine.default_entity_manager').</td> <td></td> </tr> <tr> <td class="type" id="property_driverPattern"> protected string </td> <td>$driverPattern</td> <td class="last">Naming pattern of the metadata chain driver service ids, for example 'doctrine.orm.%s_metadata_driver'.</td> <td></td> </tr> <tr> <td class="type" id="property_enabledParameter"> protected string|false </td> <td>$enabledParameter</td> <td class="last">A name for a parameter in the container. If set, this compiler pass will only do anything if the parameter is present. (But regardless of the value of that parameter.</td> <td></td> </tr> </table> <h2>Methods</h2> <table> <tr> <td> </td> <td> <a href="#method___construct">__construct</a>(<a href="../../../../component/dependencyinjection/definition.html" title="Symfony\Component\DependencyInjection\Definition">Definition</a>|<a href="../../../../component/dependencyinjection/reference.html" title="Symfony\Component\DependencyInjection\Reference">Reference</a> $driver, array $namespaces, array $managerParameters, string $driverPattern, string|false $enabledParameter = false, string $configurationPattern = '', string $registerAliasMethodName = '', array $aliasMap = array()) <p>The $managerParameters is an ordered list of container parameters that could provide the name of the manager to register these namespaces and alias on. The first non-empty name is used, the others skipped.</p> </td> <td></td>
</tr>  <tr> <td> </td> <td> <a href="#method_process">process</a>(<a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a> $container) <p>Register mappings and alias with the metadata drivers.</p> </td> <td></td>
</tr>  <tr> <td> string </td> <td> <a href="#method_getChainDriverServiceName">getChainDriverServiceName</a>(<a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a> $container) <p>Get the service name of the metadata chain driver that the mappings should be registered with.</p> </td> <td></td>
</tr>  <tr> <td> <a href="../../../../component/dependencyinjection/definition.html" title="Symfony\Component\DependencyInjection\Definition">Definition</a>|<a href="../../../../component/dependencyinjection/reference.html" title="Symfony\Component\DependencyInjection\Reference">Reference</a> </td> <td> <a href="#method_getDriver">getDriver</a>(<a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a> $container) <p>Create the service definition for the metadata driver.</p> </td> <td></td>
</tr>  <tr> <td> bool </td> <td> <a href="#method_enabled">enabled</a>(<a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a> $container) <p>Determine whether this mapping should be activated or not. This allows to take this decision with the container builder available.</p> </td> <td></td>
</tr>  </table> <h2>Details</h2> <div id="method-details">  <h3 id="method___construct">                      
    __construct(<a href="../../../../component/dependencyinjection/definition.html" title="Symfony\Component\DependencyInjection\Definition">Definition</a>|<a href="../../../../component/dependencyinjection/reference.html" title="Symfony\Component\DependencyInjection\Reference">Reference</a> $driver, array $namespaces, array $managerParameters, string $driverPattern, string|false $enabledParameter = false, string $configurationPattern = '', string $registerAliasMethodName = '', array $aliasMap = array())
         </h3>   <p>The $managerParameters is an ordered list of container parameters that could provide the name of the manager to register these namespaces and alias on. The first non-empty name is used, the others skipped.</p> <p>The $aliasMap parameter can be used to define bundle namespace shortcuts like the DoctrineBundle provides automatically for objects in the default Entity/Document folder.</p>   <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>
<a href="../../../../component/dependencyinjection/definition.html" title="Symfony\Component\DependencyInjection\Definition">Definition</a>|<a href="../../../../component/dependencyinjection/reference.html" title="Symfony\Component\DependencyInjection\Reference">Reference</a>
</td> <td>$driver</td> <td>Driver DI definition or reference</td> </tr> <tr> <td>array</td> <td>$namespaces</td> <td>List of namespaces handled by $driver</td> </tr> <tr> <td>array</td> <td>$managerParameters</td> <td>list of container parameters that could hold the manager name</td> </tr> <tr> <td>string</td> <td>$driverPattern</td> <td>Pattern for the metadata driver service name</td> </tr> <tr> <td>string|false</td> <td>$enabledParameter</td> <td>Service container parameter that must be present to enable the mapping. Set to false to not do any check, optional.</td> </tr> <tr> <td>string</td> <td>$configurationPattern</td> <td>Pattern for the Configuration service name</td> </tr> <tr> <td>string</td> <td>$registerAliasMethodName</td> <td>Name of Configuration class method to register alias</td> </tr> <tr> <td>array</td> <td>$aliasMap</td> <td>Map of alias to namespace</td> </tr> </table>     <h3 id="method_process">                      
    process(<a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a> $container)
         </h3>   <p>Register mappings and alias with the metadata drivers.</p>   <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a></td> <td>$container</td> <td></td> </tr> </table>     <h3 id="method_getChainDriverServiceName">              protected        string
    getChainDriverServiceName(<a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a> $container)
         </h3>   <p>Get the service name of the metadata chain driver that the mappings should be registered with.</p>   <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a></td> <td>$container</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>string</td> <td>The name of the chain driver service</td> </tr> </table> <h4>Exceptions</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../component/dependencyinjection/exception/invalidargumentexception.html" title="Symfony\Component\DependencyInjection\Exception\InvalidArgumentException">InvalidArgumentException</a></td> <td>if non of the managerParameters has a non-empty value</td> </tr> </table>     <h3 id="method_getDriver">              protected        <a href="../../../../component/dependencyinjection/definition.html" title="Symfony\Component\DependencyInjection\Definition">Definition</a>|<a href="../../../../component/dependencyinjection/reference.html" title="Symfony\Component\DependencyInjection\Reference">Reference</a>
    getDriver(<a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a> $container)
         </h3>   <p>Create the service definition for the metadata driver.</p>   <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a></td> <td>$container</td> <td>Passed on in case an extending class needs access to the container</td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>
<a href="../../../../component/dependencyinjection/definition.html" title="Symfony\Component\DependencyInjection\Definition">Definition</a>|<a href="../../../../component/dependencyinjection/reference.html" title="Symfony\Component\DependencyInjection\Reference">Reference</a>
</td> <td>the metadata driver to add to all chain drivers</td> </tr> </table>     <h3 id="method_enabled">              protected        bool
    enabled(<a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a> $container)
         </h3>   <p>Determine whether this mapping should be activated or not. This allows to take this decision with the container builder available.</p> <p>This default implementation checks if the class has the enabledParameter configured and if so if that parameter is present in the container.</p>   <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../component/dependencyinjection/containerbuilder.html" title="Symfony\Component\DependencyInjection\ContainerBuilder">ContainerBuilder</a></td> <td>$container</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td>bool</td> <td>whether this compiler pass really should register the mappings</td> </tr> </table>    </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2017 Fabien Potencier<br>Licensed under the MIT License.<br>
    <a href="https://api.symfony.com/4.1/Symfony/Bridge/Doctrine/DependencyInjection/CompilerPass/RegisterMappingsPass.html" class="_attribution-link">https://api.symfony.com/4.1/Symfony/Bridge/Doctrine/DependencyInjection/CompilerPass/RegisterMappingsPass.html</a>
  </p>
</div>
