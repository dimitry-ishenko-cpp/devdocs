<h1> DoctrineTokenProvider </h1> <p> class <strong>DoctrineTokenProvider</strong> implements <a href="../../../../component/security/core/authentication/rememberme/tokenproviderinterface.html" title="Symfony\Component\Security\Core\Authentication\RememberMe\TokenProviderInterface">TokenProviderInterface</a> </p> <div class="description"> <p>This class provides storage for the tokens that is set in "remember me" cookies. This way no password secrets will be stored in the cookies on the client machine, and thus the security is improved.</p> <p>This depends only on doctrine in order to get a database connection and to do the conversion of the datetime column.</p> <p>In order to use this class, you need the following table in your database:</p> <pre><code>CREATE TABLE `rememberme_token` (
    `series`   char(88)     UNIQUE PRIMARY KEY NOT NULL,
    `value`    char(88)     NOT NULL,
    `lastUsed` datetime     NOT NULL,
    `class`    varchar(100) NOT NULL,
    `username` varchar(200) NOT NULL
);
</code></pre> </div> <h2>Methods</h2> <table> <tr> <td> </td> <td> <a href="#method___construct">__construct</a>(Connection $conn)  </td> <td></td>
</tr>  <tr> <td> <a href="../../../../component/security/core/authentication/rememberme/persistenttokeninterface.html" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a> </td> <td> <a href="#method_loadTokenBySeries">loadTokenBySeries</a>(string $series) <p>Loads the active token for the given series.</p> </td> <td></td>
</tr>  <tr> <td> </td> <td> <a href="#method_deleteTokenBySeries">deleteTokenBySeries</a>(string $series) <p>Deletes all tokens belonging to series.</p> </td> <td></td>
</tr>  <tr> <td> </td> <td> <a href="#method_updateToken">updateToken</a>(string $series, string $tokenValue, <a target="_blank" href="http://php.net/DateTime">DateTime</a> $lastUsed) <p>Updates the token according to this data.</p> </td> <td></td>
</tr>  <tr> <td> </td> <td> <a href="#method_createNewToken">createNewToken</a>(<a href="../../../../component/security/core/authentication/rememberme/persistenttokeninterface.html" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a> $token) <p>Creates a new token.</p> </td> <td></td>
</tr>  </table> <h2>Details</h2> <div id="method-details">  <h3 id="method___construct">                      
    __construct(Connection $conn)
         </h3>   <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>Connection</td> <td>$conn</td> <td></td> </tr> </table>     <h3 id="method_loadTokenBySeries">                      <a href="../../../../component/security/core/authentication/rememberme/persistenttokeninterface.html" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a>
    loadTokenBySeries(string $series)
         </h3>   <p>Loads the active token for the given series.</p>   <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>string</td> <td>$series</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../component/security/core/authentication/rememberme/persistenttokeninterface.html" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a></td> <td></td> </tr> </table> <h4>Exceptions</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../component/security/core/exception/tokennotfoundexception.html" title="Symfony\Component\Security\Core\Exception\TokenNotFoundException">TokenNotFoundException</a></td> <td>if the token is not found</td> </tr> </table>     <h3 id="method_deleteTokenBySeries">                      
    deleteTokenBySeries(string $series)
         </h3>   <p>Deletes all tokens belonging to series.</p>   <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>string</td> <td>$series</td> <td></td> </tr> </table>     <h3 id="method_updateToken">                      
    updateToken(string $series, string $tokenValue, <a target="_blank" href="http://php.net/DateTime">DateTime</a> $lastUsed)
         </h3>   <p>Updates the token according to this data.</p>   <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>string</td> <td>$series</td> <td></td> </tr> <tr> <td>string</td> <td>$tokenValue</td> <td></td> </tr> <tr> <td><a target="_blank" href="http://php.net/DateTime">DateTime</a></td> <td>$lastUsed</td> <td></td> </tr> </table> <h4>Exceptions</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../component/security/core/exception/tokennotfoundexception.html" title="Symfony\Component\Security\Core\Exception\TokenNotFoundException">TokenNotFoundException</a></td> <td>if the token is not found</td> </tr> </table>     <h3 id="method_createNewToken">                      
    createNewToken(<a href="../../../../component/security/core/authentication/rememberme/persistenttokeninterface.html" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a> $token)
         </h3>   <p>Creates a new token.</p>   <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../component/security/core/authentication/rememberme/persistenttokeninterface.html" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a></td> <td>$token</td> <td></td> </tr> </table>    </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2017 Fabien Potencier<br>Licensed under the MIT License.<br>
    <a href="https://api.symfony.com/4.1/Symfony/Bridge/Doctrine/Security/RememberMe/DoctrineTokenProvider.html" class="_attribution-link">https://api.symfony.com/4.1/Symfony/Bridge/Doctrine/Security/RememberMe/DoctrineTokenProvider.html</a>
  </p>
</div>
