<h1>Class yii\filters\Cors</h1> <div class="top-nav"> <a href="index.html">All Classes</a> | <a href="#properties">Properties</a> | <a href="#methods">Methods</a> </div> <table> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Inheritance</th>
<td>
<a href="yii-filters-cors.html">yii\filters\Cors</a> » <a href="yii-base-actionfilter.html">yii\base\ActionFilter</a> » <a href="yii-base-behavior.html">yii\base\Behavior</a> » <a href="yii-base-object.html">yii\base\Object</a>
</td>
</tr> <tr>
<th>Implements</th>
<td><a href="yii-base-configurable.html">yii\base\Configurable</a></td>
</tr> <tr>
<th>Available since version</th>
<td>2.0</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2/blob/master/framework/filters/Cors.php">https://github.com/yiisoft/yii2/blob/master/framework/filters/Cors.php</a></td> </tr> </table>  <p><strong>Cors filter implements <a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing">Cross Origin Resource Sharing</a>.</strong></p> <p>Make sure to read carefully what CORS does and does not. CORS do not secure your API, but allow the developer to grant access to third party code (ajax calls from external domain).</p> <p>You may use CORS filter by attaching it as a behavior to a controller or module, like the following,</p> <pre data-language="php">public function behaviors()
{
    return [
        'corsFilter' =&gt; [
            'class' =&gt; \yii\filters\Cors::className(),
        ],
    ];
}
</pre> <p>The CORS filter can be specialized to restrict parameters, like this, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS">MDN CORS Information</a></p> <pre data-language="php">public function behaviors()
{
    return [
        'corsFilter' =&gt; [
            'class' =&gt; \yii\filters\Cors::className(),
            'cors' =&gt; [
                // restrict access to
                'Origin' =&gt; ['http://www.myserver.com', 'https://www.myserver.com'],
                'Access-Control-Request-Method' =&gt; ['POST', 'PUT'],
                // Allow only POST and PUT methods
                'Access-Control-Request-Headers' =&gt; ['X-Wsse'],
                // Allow only headers 'X-Wsse'
                'Access-Control-Allow-Credentials' =&gt; true,
                // Allow OPTIONS caching
                'Access-Control-Max-Age' =&gt; 3600,
                // Allow the X-Pagination-Current-Page header to be exposed to the browser.
                'Access-Control-Expose-Headers' =&gt; ['X-Pagination-Current-Page'],
            ],

        ],
    ];
}
</pre> <p>For more information on how to add the CORS filter to a controller, see the <a href="guide-rest-controllers.html#cors">Guide on REST controllers</a>.</p>    <h2 id="properties">Public Properties</h2>  <table> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="$actions"> <td><a href="yii-filters-cors.html#%24actions-detail">$actions</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>Define specific CORS rules for specific actions</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> <tr id="$cors"> <td><a href="yii-filters-cors.html#%24cors-detail">$cors</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>Basic headers handled for the CORS requests.</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> <tr id="$except"> <td><a href="yii-base-actionfilter.html#%24except-detail">$except</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>List of action IDs that this filter should not apply to.</td> <td><a href="yii-base-actionfilter.html">yii\base\ActionFilter</a></td> </tr> <tr id="$only"> <td><a href="yii-base-actionfilter.html#%24only-detail">$only</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>List of action IDs that this filter should apply to.</td> <td><a href="yii-base-actionfilter.html">yii\base\ActionFilter</a></td> </tr> <tr id="$owner"> <td><a href="yii-base-behavior.html#%24owner-detail">$owner</a></td> <td>
<a href="yii-base-component.html">yii\base\Component</a>|<a href="http://www.php.net/language.types.null">null</a>
</td> <td>The owner of this behavior</td> <td><a href="yii-base-behavior.html">yii\base\Behavior</a></td> </tr> <tr id="$request"> <td><a href="yii-filters-cors.html#%24request-detail">$request</a></td> <td><a href="yii-web-request.html">yii\web\Request</a></td> <td>The current request.</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> <tr id="$response"> <td><a href="yii-filters-cors.html#%24response-detail">$response</a></td> <td><a href="yii-web-response.html">yii\web\Response</a></td> <td>The response to be sent.</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> </table>    <h2 id="methods">Public Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="__call()"> <td><a href="yii-base-object.html#__call()-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__construct()"> <td><a href="yii-base-object.html#__construct()-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__get()"> <td><a href="yii-base-object.html#__get()-detail">__get()</a></td> <td>Returns the value of an object property.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__isset()"> <td><a href="yii-base-object.html#__isset()-detail">__isset()</a></td> <td>Checks if a property is set, i.e. defined and not null.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__set()"> <td><a href="yii-base-object.html#__set()-detail">__set()</a></td> <td>Sets value of an object property.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__unset()"> <td><a href="yii-base-object.html#__unset()-detail">__unset()</a></td> <td>Sets an object property to null.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="addCorsHeaders()"> <td><a href="yii-filters-cors.html#addCorsHeaders()-detail">addCorsHeaders()</a></td> <td>Adds the CORS headers to the response</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> <tr id="afterAction()"> <td><a href="yii-base-actionfilter.html#afterAction()-detail">afterAction()</a></td> <td>This method is invoked right after an action is executed.</td> <td><a href="yii-base-actionfilter.html">yii\base\ActionFilter</a></td> </tr> <tr id="afterFilter()"> <td><a href="yii-base-actionfilter.html#afterFilter()-detail">afterFilter()</a></td> <td></td> <td><a href="yii-base-actionfilter.html">yii\base\ActionFilter</a></td> </tr> <tr id="attach()"> <td><a href="yii-base-behavior.html#attach()-detail">attach()</a></td> <td>Attaches the behavior object to the component.</td> <td><a href="yii-base-behavior.html">yii\base\Behavior</a></td> </tr> <tr id="beforeAction()"> <td><a href="yii-filters-cors.html#beforeAction()-detail">beforeAction()</a></td> <td>This method is invoked right before an action is to be executed (after all possible filters.) You may override this method to do last-minute preparation for the action.</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> <tr id="beforeFilter()"> <td><a href="yii-base-actionfilter.html#beforeFilter()-detail">beforeFilter()</a></td> <td></td> <td><a href="yii-base-actionfilter.html">yii\base\ActionFilter</a></td> </tr> <tr id="canGetProperty()"> <td><a href="yii-base-object.html#canGetProperty()-detail">canGetProperty()</a></td> <td>Returns a value indicating whether a property can be read.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="canSetProperty()"> <td><a href="yii-base-object.html#canSetProperty()-detail">canSetProperty()</a></td> <td>Returns a value indicating whether a property can be set.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="className()"> <td><a href="yii-base-object.html#className()-detail">className()</a></td> <td>Returns the fully qualified name of this class.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="detach()"> <td><a href="yii-base-behavior.html#detach()-detail">detach()</a></td> <td>Detaches the behavior object from the component.</td> <td><a href="yii-base-behavior.html">yii\base\Behavior</a></td> </tr> <tr id="events()"> <td><a href="yii-base-behavior.html#events()-detail">events()</a></td> <td>Declares event handlers for the <a href="yii-base-behavior.html#%24owner-detail">$owner</a>'s events.</td> <td><a href="yii-base-behavior.html">yii\base\Behavior</a></td> </tr> <tr id="extractHeaders()"> <td><a href="yii-filters-cors.html#extractHeaders()-detail">extractHeaders()</a></td> <td>Extract CORS headers from the request</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> <tr id="hasMethod()"> <td><a href="yii-base-object.html#hasMethod()-detail">hasMethod()</a></td> <td>Returns a value indicating whether a method is defined.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="hasProperty()"> <td><a href="yii-base-object.html#hasProperty()-detail">hasProperty()</a></td> <td>Returns a value indicating whether a property is defined.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="init()"> <td><a href="yii-base-object.html#init()-detail">init()</a></td> <td>Initializes the object.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="overrideDefaultSettings()"> <td><a href="yii-filters-cors.html#overrideDefaultSettings()-detail">overrideDefaultSettings()</a></td> <td>Override settings for specific action</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> <tr id="prepareHeaders()"> <td><a href="yii-filters-cors.html#prepareHeaders()-detail">prepareHeaders()</a></td> <td>For each CORS headers create the specific response</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> </table>   <h2>Protected Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="getActionId()"> <td><a href="yii-base-actionfilter.html#getActionId()-detail">getActionId()</a></td> <td>Returns an action ID by converting <a href="yii-base-action.html#%24uniqueId-detail">yii\base\Action::$uniqueId</a> into an ID relative to the module</td> <td><a href="yii-base-actionfilter.html">yii\base\ActionFilter</a></td> </tr> <tr id="headerize()"> <td><a href="yii-filters-cors.html#headerize()-detail">headerize()</a></td> <td>Convert any string (including php headers with HTTP prefix) to header format like : <em> X-PINGOTHER -&gt; X-Pingother </em> X_PINGOTHER -&gt; X-Pingother</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> <tr id="headerizeToPhp()"> <td><a href="yii-filters-cors.html#headerizeToPhp()-detail">headerizeToPhp()</a></td> <td>Convert any string (including php headers with HTTP prefix) to header format like : <em> X-Pingother -&gt; HTTP_X_PINGOTHER </em> X PINGOTHER -&gt; HTTP_X_PINGOTHER</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> <tr id="isActive()"> <td><a href="yii-base-actionfilter.html#isActive()-detail">isActive()</a></td> <td>Returns a value indicating whether the filter is active for the given action.</td> <td><a href="yii-base-actionfilter.html">yii\base\ActionFilter</a></td> </tr> <tr id="prepareAllowHeaders()"> <td><a href="yii-filters-cors.html#prepareAllowHeaders()-detail">prepareAllowHeaders()</a></td> <td>Handle classic CORS request to avoid duplicate code</td> <td><a href="yii-filters-cors.html">yii\filters\Cors</a></td> </tr> </table>    <h2 id="constants">Property Details</h2>  <h3 id="$actions-detail"> $actions <span class="detail-header-tag small"> public property </span> </h3>  <p>Define specific CORS rules for specific actions</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.array">array</a></span> <a href="yii-filters-cors.html#%24actions-detail">$actions</a> = []</pre> <h3 id="$cors-detail"> $cors <span class="detail-header-tag small"> public property </span> </h3>  <p>Basic headers handled for the CORS requests.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.array">array</a></span> <a href="yii-filters-cors.html#%24cors-detail">$cors</a> = ['Origin' =&gt; ['*'], 'Access-Control-Request-Method' =&gt; ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS'], 'Access-Control-Request-Headers' =&gt; ['*'], 'Access-Control-Allow-Credentials' =&gt; null, 'Access-Control-Max-Age' =&gt; 86400, 'Access-Control-Expose-Headers' =&gt; []]</pre> <h3 id="$request-detail"> $request <span class="detail-header-tag small"> public property </span> </h3>  <p>The current request. If not set, the <code>request</code> application component will be used.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="yii-web-request.html">yii\web\Request</a></span> <a href="yii-filters-cors.html#%24request-detail">$request</a> = null</pre> <h3 id="$response-detail"> $response <span class="detail-header-tag small"> public property </span> </h3>  <p>The response to be sent. If not set, the <code>response</code> application component will be used.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="yii-web-response.html">yii\web\Response</a></span> <a href="yii-filters-cors.html#%24response-detail">$response</a> = null</pre>  <h2>Method Details</h2> <div class="method-doc"> <h3 id="addCorsHeaders()-detail"> addCorsHeaders() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Adds the CORS headers to the response</strong></p>  <table> <tr><th colspan="3">public void <strong><a href="yii-filters-cors.html#addCorsHeaders()-detail">addCorsHeaders</a></strong> ( $response, $headers )</th></tr> <tr> <td>$response</td> <td><a href="yii-web-response.html">yii\web\Response</a></td> <td></td> </tr> <tr> <td>$headers</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>CORS headers which have been computed</p> </td> </tr> </table>  <h3 id="beforeAction()-detail"> beforeAction() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>This method is invoked right before an action is to be executed (after all possible filters.) You may override this method to do last-minute preparation for the action.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-filters-cors.html#beforeAction()-detail">beforeAction</a></strong> ( $action )</th></tr> <tr> <td>$action</td> <td><a href="yii-base-action.html">yii\base\Action</a></td> <td>
<p>The action to be executed.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the action should continue to be executed.</p> </td> </tr> </table>  <h3 id="extractHeaders()-detail"> extractHeaders() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Extract CORS headers from the request</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-filters-cors.html#extractHeaders()-detail">extractHeaders</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>CORS headers to handle</p> </td> </tr> </table>  <h3 id="headerize()-detail"> headerize() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Convert any string (including php headers with HTTP prefix) to header format like : <em> X-PINGOTHER -&gt; X-Pingother </em> X_PINGOTHER -&gt; X-Pingother</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-filters-cors.html#headerize()-detail">headerize</a></strong> ( $string )</th></tr> <tr> <td>$string</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>String to convert</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The result in "header" format</p> </td> </tr> </table>  <h3 id="headerizeToPhp()-detail"> headerizeToPhp() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Convert any string (including php headers with HTTP prefix) to header format like : <em> X-Pingother -&gt; HTTP_X_PINGOTHER </em> X PINGOTHER -&gt; HTTP_X_PINGOTHER</strong></p>  <table> <tr><th colspan="3">protected <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-filters-cors.html#headerizeToPhp()-detail">headerizeToPhp</a></strong> ( $string )</th></tr> <tr> <td>$string</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>String to convert</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The result in "php $_SERVER header" format</p> </td> </tr> </table>  <h3 id="overrideDefaultSettings()-detail"> overrideDefaultSettings() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Override settings for specific action</strong></p>  <table> <tr><th colspan="3">public void <strong><a href="yii-filters-cors.html#overrideDefaultSettings()-detail">overrideDefaultSettings</a></strong> ( $action )</th></tr> <tr> <td>$action</td> <td><a href="yii-base-action.html">yii\base\Action</a></td> <td>
<p>The action settings to override</p> </td> </tr> </table>  <h3 id="prepareAllowHeaders()-detail"> prepareAllowHeaders() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Handle classic CORS request to avoid duplicate code</strong></p>  <table> <tr><th colspan="3">protected void <strong><a href="yii-filters-cors.html#prepareAllowHeaders()-detail">prepareAllowHeaders</a></strong> ( $type, $requestHeaders, <b>&amp;</b>$responseHeaders )</th></tr> <tr> <td>$type</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The kind of headers we would handle</p> </td> </tr> <tr> <td>$requestHeaders</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>CORS headers request by client</p> </td> </tr> <tr> <td>$responseHeaders</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>CORS response headers sent to the client</p> </td> </tr> </table>  <h3 id="prepareHeaders()-detail"> prepareHeaders() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>For each CORS headers create the specific response</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-filters-cors.html#prepareHeaders()-detail">prepareHeaders</a></strong> ( $requestHeaders )</th></tr> <tr> <td>$requestHeaders</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>CORS headers we have detected</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>CORS headers ready to be sent</p> </td> </tr> </table>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yii-filters-cors.html" class="_attribution-link">http://www.yiiframework.com/doc-2.0/yii-filters-cors.html</a>
  </p>
</div>
