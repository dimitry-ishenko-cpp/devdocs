<h1>Class yii\log\FileTarget</h1> <div class="top-nav"> <a href="index.html">All Classes</a> | <a href="#properties">Properties</a> | <a href="#methods">Methods</a> </div> <table> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Inheritance</th>
<td>
<a href="yii-log-filetarget.html">yii\log\FileTarget</a> » <a href="yii-log-target.html">yii\log\Target</a> » <a href="yii-base-component.html">yii\base\Component</a> » <a href="yii-base-object.html">yii\base\Object</a>
</td>
</tr> <tr>
<th>Implements</th>
<td><a href="yii-base-configurable.html">yii\base\Configurable</a></td>
</tr> <tr>
<th>Available since version</th>
<td>2.0</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2/blob/master/framework/log/FileTarget.php">https://github.com/yiisoft/yii2/blob/master/framework/log/FileTarget.php</a></td> </tr> </table>  <p><strong>FileTarget records log messages in a file.</strong></p> <p>The log file is specified via <a href="yii-log-filetarget.html#%24logFile-detail">$logFile</a>. If the size of the log file exceeds <a href="yii-log-filetarget.html#%24maxFileSize-detail">$maxFileSize</a> (in kilo-bytes), a rotation will be performed, which renames the current log file by suffixing the file name with '.1'. All existing log files are moved backwards by one place, i.e., '.2' to '.3', '.1' to '.2', and so on. The property <a href="yii-log-filetarget.html#%24maxLogFiles-detail">$maxLogFiles</a> specifies how many history files to keep.</p>    <h2 id="properties">Public Properties</h2>  <table> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="$behaviors"> <td><a href="yii-base-component.html#%24behaviors-detail">$behaviors</a></td> <td>
<a href="yii-base-behavior.html">yii\base\Behavior</a>[]</td> <td>List of behaviors attached to this component</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="$categories"> <td><a href="yii-log-target.html#%24categories-detail">$categories</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>List of message categories that this target is interested in.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="$dirMode"> <td><a href="yii-log-filetarget.html#%24dirMode-detail">$dirMode</a></td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>The permission to be set for newly created directories.</td> <td><a href="yii-log-filetarget.html">yii\log\FileTarget</a></td> </tr> <tr id="$enableRotation"> <td><a href="yii-log-filetarget.html#%24enableRotation-detail">$enableRotation</a></td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>Whether log files should be rotated when they reach a certain <a href="yii-log-filetarget.html#%24maxFileSize-detail">maximum size</a>.</td> <td><a href="yii-log-filetarget.html">yii\log\FileTarget</a></td> </tr> <tr id="$enabled"> <td><a href="yii-log-target.html#%24enabled-detail">$enabled</a></td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>Whether to enable this log target.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="$except"> <td><a href="yii-log-target.html#%24except-detail">$except</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>List of message categories that this target is NOT interested in.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="$exportInterval"> <td><a href="yii-log-target.html#%24exportInterval-detail">$exportInterval</a></td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>How many messages should be accumulated before they are exported.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="$fileMode"> <td><a href="yii-log-filetarget.html#%24fileMode-detail">$fileMode</a></td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>The permission to be set for newly created log files.</td> <td><a href="yii-log-filetarget.html">yii\log\FileTarget</a></td> </tr> <tr id="$levels"> <td><a href="yii-log-target.html#%24levels-detail">$levels</a></td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>The message levels that this target is interested in.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="$logFile"> <td><a href="yii-log-filetarget.html#%24logFile-detail">$logFile</a></td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>Log file path or <a href="guide-concept-aliases.html">path alias</a>.</td> <td><a href="yii-log-filetarget.html">yii\log\FileTarget</a></td> </tr> <tr id="$logVars"> <td><a href="yii-log-target.html#%24logVars-detail">$logVars</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>List of the PHP predefined variables that should be logged in a message.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="$maxFileSize"> <td><a href="yii-log-filetarget.html#%24maxFileSize-detail">$maxFileSize</a></td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>Maximum log file size, in kilo-bytes.</td> <td><a href="yii-log-filetarget.html">yii\log\FileTarget</a></td> </tr> <tr id="$maxLogFiles"> <td><a href="yii-log-filetarget.html#%24maxLogFiles-detail">$maxLogFiles</a></td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>Number of log files used for rotation.</td> <td><a href="yii-log-filetarget.html">yii\log\FileTarget</a></td> </tr> <tr id="$messages"> <td><a href="yii-log-target.html#%24messages-detail">$messages</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>The messages that are retrieved from the logger so far by this log target.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="$prefix"> <td><a href="yii-log-target.html#%24prefix-detail">$prefix</a></td> <td><a href="http://www.php.net/language.types.callable">callable</a></td> <td>A PHP callable that returns a string to be prefixed to every exported message.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="$rotateByCopy"> <td><a href="yii-log-filetarget.html#%24rotateByCopy-detail">$rotateByCopy</a></td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>Whether to rotate log files by copy and truncate in contrast to rotation by renaming files.</td> <td><a href="yii-log-filetarget.html">yii\log\FileTarget</a></td> </tr> </table>    <h2 id="methods">Public Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="__call()"> <td><a href="yii-base-object.html#__call()-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__clone()"> <td><a href="yii-base-component.html#__clone()-detail">__clone()</a></td> <td>This method is called after the object is created by cloning an existing one.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__construct()"> <td><a href="yii-base-object.html#__construct()-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__get()"> <td><a href="yii-base-object.html#__get()-detail">__get()</a></td> <td>Returns the value of an object property.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__isset()"> <td><a href="yii-base-object.html#__isset()-detail">__isset()</a></td> <td>Checks if a property is set, i.e. defined and not null.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__set()"> <td><a href="yii-base-object.html#__set()-detail">__set()</a></td> <td>Sets value of an object property.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__unset()"> <td><a href="yii-base-object.html#__unset()-detail">__unset()</a></td> <td>Sets an object property to null.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="attachBehavior()"> <td><a href="yii-base-component.html#attachBehavior()-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="attachBehaviors()"> <td><a href="yii-base-component.html#attachBehaviors()-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="behaviors()"> <td><a href="yii-base-component.html#behaviors()-detail">behaviors()</a></td> <td>Returns a list of behaviors that this component should behave as.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="canGetProperty()"> <td><a href="yii-base-object.html#canGetProperty()-detail">canGetProperty()</a></td> <td>Returns a value indicating whether a property can be read.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="canSetProperty()"> <td><a href="yii-base-object.html#canSetProperty()-detail">canSetProperty()</a></td> <td>Returns a value indicating whether a property can be set.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="className()"> <td><a href="yii-base-object.html#className()-detail">className()</a></td> <td>Returns the fully qualified name of this class.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="collect()"> <td><a href="yii-log-target.html#collect()-detail">collect()</a></td> <td>Processes the given log messages.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="detachBehavior()"> <td><a href="yii-base-component.html#detachBehavior()-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="detachBehaviors()"> <td><a href="yii-base-component.html#detachBehaviors()-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="ensureBehaviors()"> <td><a href="yii-base-component.html#ensureBehaviors()-detail">ensureBehaviors()</a></td> <td>Makes sure that the behaviors declared in <a href="yii-base-component.html#behaviors()-detail">behaviors()</a> are attached to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="export()"> <td><a href="yii-log-filetarget.html#export()-detail">export()</a></td> <td>Writes log messages to a file.</td> <td><a href="yii-log-filetarget.html">yii\log\FileTarget</a></td> </tr> <tr id="filterMessages()"> <td><a href="yii-log-target.html#filterMessages()-detail">filterMessages()</a></td> <td>Filters the given messages according to their categories and levels.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="formatMessage()"> <td><a href="yii-log-target.html#formatMessage()-detail">formatMessage()</a></td> <td>Formats a log message for display as a string.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="getBehavior()"> <td><a href="yii-base-component.html#getBehavior()-detail">getBehavior()</a></td> <td>Returns the named behavior object.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="getBehaviors()"> <td><a href="yii-base-component.html#getBehaviors()-detail">getBehaviors()</a></td> <td>Returns all behaviors attached to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="getLevels()"> <td><a href="yii-log-target.html#getLevels()-detail">getLevels()</a></td> <td></td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="getMessagePrefix()"> <td><a href="yii-log-target.html#getMessagePrefix()-detail">getMessagePrefix()</a></td> <td>Returns a string to be prefixed to the given message.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="hasEventHandlers()"> <td><a href="yii-base-component.html#hasEventHandlers()-detail">hasEventHandlers()</a></td> <td>Returns a value indicating whether there is any handler attached to the named event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="hasMethod()"> <td><a href="yii-base-object.html#hasMethod()-detail">hasMethod()</a></td> <td>Returns a value indicating whether a method is defined.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="hasProperty()"> <td><a href="yii-base-object.html#hasProperty()-detail">hasProperty()</a></td> <td>Returns a value indicating whether a property is defined.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="init()"> <td><a href="yii-log-filetarget.html#init()-detail">init()</a></td> <td>Initializes the route.</td> <td><a href="yii-log-filetarget.html">yii\log\FileTarget</a></td> </tr> <tr id="off()"> <td><a href="yii-base-component.html#off()-detail">off()</a></td> <td>Detaches an existing event handler from this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="on()"> <td><a href="yii-base-component.html#on()-detail">on()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="setLevels()"> <td><a href="yii-log-target.html#setLevels()-detail">setLevels()</a></td> <td>Sets the message levels that this target is interested in.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="trigger()"> <td><a href="yii-base-component.html#trigger()-detail">trigger()</a></td> <td>Triggers an event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> </table>   <h2>Protected Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="getContextMessage()"> <td><a href="yii-log-target.html#getContextMessage()-detail">getContextMessage()</a></td> <td>Generates the context information to be logged.</td> <td><a href="yii-log-target.html">yii\log\Target</a></td> </tr> <tr id="rotateFiles()"> <td><a href="yii-log-filetarget.html#rotateFiles()-detail">rotateFiles()</a></td> <td>Rotates log files.</td> <td><a href="yii-log-filetarget.html">yii\log\FileTarget</a></td> </tr> </table>    <h2 id="constants">Property Details</h2>  <h3 id="$dirMode-detail"> $dirMode <span class="detail-header-tag small"> public property </span> </h3>  <p>The permission to be set for newly created directories. This value will be used by PHP chmod() function. No umask will be applied. Defaults to 0775, meaning the directory is read-writable by owner and group, but read-only for other users.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.integer">integer</a></span> <a href="yii-log-filetarget.html#%24dirMode-detail">$dirMode</a> = 0775</pre> <h3 id="$enableRotation-detail"> $enableRotation <span class="detail-header-tag small"> public property (available since version 2.0.3) </span> </h3>  <p>Whether log files should be rotated when they reach a certain <a href="yii-log-filetarget.html#%24maxFileSize-detail">maximum size</a>. Log rotation is enabled by default. This property allows you to disable it, when you have configured an external tools for log rotation on your server.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.boolean">boolean</a></span> <a href="yii-log-filetarget.html#%24enableRotation-detail">$enableRotation</a> = true</pre> <h3 id="$fileMode-detail"> $fileMode <span class="detail-header-tag small"> public property </span> </h3>  <p>The permission to be set for newly created log files. This value will be used by PHP chmod() function. No umask will be applied. If not set, the permission will be determined by the current environment.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.integer">integer</a></span> <a href="yii-log-filetarget.html#%24fileMode-detail">$fileMode</a> = null</pre> <h3 id="$logFile-detail"> $logFile <span class="detail-header-tag small"> public property </span> </h3>  <p>Log file path or <a href="guide-concept-aliases.html">path alias</a>. If not set, it will use the "@runtime/logs/app.log" file. The directory containing the log files will be automatically created if not existing.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.string">string</a></span> <a href="yii-log-filetarget.html#%24logFile-detail">$logFile</a> = null</pre> <h3 id="$maxFileSize-detail"> $maxFileSize <span class="detail-header-tag small"> public property </span> </h3>  <p>Maximum log file size, in kilo-bytes. Defaults to 10240, meaning 10MB.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.integer">integer</a></span> <a href="yii-log-filetarget.html#%24maxFileSize-detail">$maxFileSize</a> = 10240</pre> <h3 id="$maxLogFiles-detail"> $maxLogFiles <span class="detail-header-tag small"> public property </span> </h3>  <p>Number of log files used for rotation. Defaults to 5.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.integer">integer</a></span> <a href="yii-log-filetarget.html#%24maxLogFiles-detail">$maxLogFiles</a> = 5</pre> <h3 id="$rotateByCopy-detail"> $rotateByCopy <span class="detail-header-tag small"> public property </span> </h3>  <p>Whether to rotate log files by copy and truncate in contrast to rotation by renaming files. Defaults to <code>true</code> to be more compatible with log tailers and is windows systems which do not play well with rename on open files. Rotation by renaming however is a bit faster.</p> <p>The problem with windows systems where the <a href="http://www.php.net/manual/en/function.rename.php">rename()</a> function does not work with files that are opened by some process is described in a <a href="http://www.php.net/manual/en/function.rename.php#102274">comment by Martin Pelletier</a> in the PHP documentation. By setting rotateByCopy to <code>true</code> you can work around this problem.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.boolean">boolean</a></span> <a href="yii-log-filetarget.html#%24rotateByCopy-detail">$rotateByCopy</a> = true</pre>  <h2>Method Details</h2> <div class="method-doc"> <h3 id="export()-detail"> export() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Writes log messages to a file.</strong></p>  <table> <tr><th colspan="3">public void <strong><a href="yii-log-filetarget.html#export()-detail">export</a></strong> ( )</th></tr> <tr> <td>throws</td> <td><a href="yii-base-invalidconfigexception.html">yii\base\InvalidConfigException</a></td> <td>
<p>if unable to open the log file for writing</p> </td> </tr> </table>  <h3 id="init()-detail"> init() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Initializes the route.</strong></p> <p>This method is invoked after the route is created by the route manager.</p>  <table> <tr><th colspan="3">public void <strong><a href="yii-log-filetarget.html#init()-detail">init</a></strong> ( )</th></tr> </table>  <h3 id="rotateFiles()-detail"> rotateFiles() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Rotates log files.</strong></p>  <table> <tr><th colspan="3">protected void <strong><a href="yii-log-filetarget.html#rotateFiles()-detail">rotateFiles</a></strong> ( )</th></tr> </table>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yii-log-filetarget.html" class="_attribution-link">http://www.yiiframework.com/doc-2.0/yii-log-filetarget.html</a>
  </p>
</div>
