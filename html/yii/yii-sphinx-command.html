<h1>Class yii\sphinx\Command</h1> <div class="top-nav"> <a href="index.html">All Classes</a> | <a href="#properties">Properties</a> | <a href="#methods">Methods</a> </div> <table> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Inheritance</th>
<td>
<a href="yii-sphinx-command.html">yii\sphinx\Command</a> » <a href="yii-db-command.html">yii\db\Command</a> » <a href="yii-base-component.html">yii\base\Component</a> » <a href="yii-base-object.html">yii\base\Object</a>
</td>
</tr> <tr>
<th>Implements</th>
<td><a href="yii-base-configurable.html">yii\base\Configurable</a></td>
</tr> <tr>
<th>Available since version</th>
<td>2.0</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2-sphinx/blob/master/Command.php">https://github.com/yiisoft/yii2-sphinx/blob/master/Command.php</a></td> </tr> </table>  <p><strong>Command represents a SQL statement to be executed against a Sphinx.</strong></p> <p>A command object is usually created by calling <a href="yii-sphinx-connection.html#createCommand()-detail">yii\sphinx\Connection::createCommand()</a>. The SQL statement it represents can be set via the <a href="yii-db-command.html#%24sql-detail">$sql</a> property.</p> <p>To execute a non-query SQL (such as INSERT, REPLACE, DELETE, UPDATE), call <a href="yii-db-command.html#execute()-detail">execute()</a>. To execute a SQL statement that returns result data set (such as SELECT, CALL SNIPPETS, CALL KEYWORDS), use <a href="yii-db-command.html#queryAll()-detail">queryAll()</a>, <a href="yii-db-command.html#queryOne()-detail">queryOne()</a>, <a href="yii-db-command.html#queryColumn()-detail">queryColumn()</a>, <a href="yii-db-command.html#queryScalar()-detail">queryScalar()</a>, or <a href="yii-db-command.html#query()-detail">query()</a>. For example,</p> <pre data-language="php">$articles = $connection-&gt;createCommand("SELECT * FROM `idx_article` WHERE MATCH('programming')")-&gt;queryAll();
</pre> <p>Command supports SQL statement preparation and parameter binding just as <a href="yii-db-command.html">yii\db\Command</a> does.</p> <p>Command also supports building SQL statements by providing methods such as <a href="yii-db-command.html#insert()-detail">insert()</a>, <a href="yii-sphinx-command.html#update()-detail">update()</a>, etc. For example,</p> <pre data-language="php">$connection-&gt;createCommand()-&gt;update('idx_article', [
    'genre_id' =&gt; 15,
    'author_id' =&gt; 157,
])-&gt;execute();
</pre> <p>To build SELECT SQL statements, please use <a href="yii-sphinx-query.html">yii\sphinx\Query</a> and <a href="yii-sphinx-querybuilder.html">yii\sphinx\QueryBuilder</a> instead.</p>    <h2 id="properties">Public Properties</h2>  <table> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="$behaviors"> <td><a href="yii-base-component.html#%24behaviors-detail">$behaviors</a></td> <td>
<a href="yii-base-behavior.html">yii\base\Behavior</a>[]</td> <td>List of behaviors attached to this component</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="$db"> <td><a href="yii-sphinx-command.html#%24db-detail">$db</a></td> <td><a href="yii-sphinx-connection.html">yii\sphinx\Connection</a></td> <td>The Sphinx connection that this command is associated with.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="$fetchMode"> <td><a href="yii-db-command.html#%24fetchMode-detail">$fetchMode</a></td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>The default fetch mode for this command.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="$params"> <td><a href="yii-db-command.html#%24params-detail">$params</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>The parameters (name =&gt; value) that are bound to the current PDO statement.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="$pdoStatement"> <td><a href="yii-db-command.html#%24pdoStatement-detail">$pdoStatement</a></td> <td><a href="http://www.php.net/class.pdostatement">PDOStatement</a></td> <td>The PDOStatement object that this command is associated with</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="$queryCacheDependency"> <td><a href="yii-db-command.html#%24queryCacheDependency-detail">$queryCacheDependency</a></td> <td><a href="yii-caching-dependency.html">yii\caching\Dependency</a></td> <td>The dependency to be associated with the cached query result for this command</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="$queryCacheDuration"> <td><a href="yii-db-command.html#%24queryCacheDuration-detail">$queryCacheDuration</a></td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>The default number of seconds that query results can remain valid in cache.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="$rawSql"> <td><a href="yii-db-command.html#%24rawSql-detail">$rawSql</a></td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>The raw SQL with parameter values inserted into the corresponding placeholders in <a href="yii-db-command.html#%24sql-detail">$sql</a>.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="$sql"> <td><a href="yii-db-command.html#%24sql-detail">$sql</a></td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>The SQL statement to be executed</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> </table>    <h2 id="methods">Public Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="__call()"> <td><a href="yii-base-component.html#__call()-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__clone()"> <td><a href="yii-base-component.html#__clone()-detail">__clone()</a></td> <td>This method is called after the object is created by cloning an existing one.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__construct()"> <td><a href="yii-base-object.html#__construct()-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="__get()"> <td><a href="yii-base-component.html#__get()-detail">__get()</a></td> <td>Returns the value of a component property.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__isset()"> <td><a href="yii-base-component.html#__isset()-detail">__isset()</a></td> <td>Checks if a property is set, i.e. defined and not null.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__set()"> <td><a href="yii-base-component.html#__set()-detail">__set()</a></td> <td>Sets the value of a component property.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="__unset()"> <td><a href="yii-base-component.html#__unset()-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="addColumn()"> <td><a href="yii-sphinx-command.html#addColumn()-detail">addColumn()</a></td> <td>Creates a SQL command for adding a new DB column.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="addCommentOnColumn()"> <td><a href="yii-db-command.html#addCommentOnColumn()-detail">addCommentOnColumn()</a></td> <td>Builds a SQL command for adding comment to column</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="addCommentOnTable()"> <td><a href="yii-db-command.html#addCommentOnTable()-detail">addCommentOnTable()</a></td> <td>Builds a SQL command for adding comment to table</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="addForeignKey()"> <td><a href="yii-sphinx-command.html#addForeignKey()-detail">addForeignKey()</a></td> <td>Creates a SQL command for adding a foreign key constraint to an existing table.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="addPrimaryKey()"> <td><a href="yii-sphinx-command.html#addPrimaryKey()-detail">addPrimaryKey()</a></td> <td>Creates a SQL command for adding a primary key constraint to an existing table.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="alterColumn()"> <td><a href="yii-sphinx-command.html#alterColumn()-detail">alterColumn()</a></td> <td>Creates a SQL command for changing the definition of a column.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="attachBehavior()"> <td><a href="yii-base-component.html#attachBehavior()-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="attachBehaviors()"> <td><a href="yii-base-component.html#attachBehaviors()-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="batchInsert()"> <td><a href="yii-sphinx-command.html#batchInsert()-detail">batchInsert()</a></td> <td>Creates a batch INSERT command.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="batchReplace()"> <td><a href="yii-sphinx-command.html#batchReplace()-detail">batchReplace()</a></td> <td>Creates a batch REPLACE command.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="behaviors()"> <td><a href="yii-base-component.html#behaviors()-detail">behaviors()</a></td> <td>Returns a list of behaviors that this component should behave as.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="bindParam()"> <td><a href="yii-db-command.html#bindParam()-detail">bindParam()</a></td> <td>Binds a parameter to the SQL statement to be executed.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="bindValue()"> <td><a href="yii-sphinx-command.html#bindValue()-detail">bindValue()</a></td> <td>Binds a value to a parameter.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="bindValues()"> <td><a href="yii-sphinx-command.html#bindValues()-detail">bindValues()</a></td> <td>Binds a list of values to the corresponding parameters.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="cache()"> <td><a href="yii-db-command.html#cache()-detail">cache()</a></td> <td>Enables query cache for this command.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="callKeywords()"> <td><a href="yii-sphinx-command.html#callKeywords()-detail">callKeywords()</a></td> <td>Returns tokenized and normalized forms of the keywords, and, optionally, keyword statistics.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="callSnippets()"> <td><a href="yii-sphinx-command.html#callSnippets()-detail">callSnippets()</a></td> <td>Builds a snippet from provided data and query, using specified index settings.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="canGetProperty()"> <td><a href="yii-base-component.html#canGetProperty()-detail">canGetProperty()</a></td> <td>Returns a value indicating whether a property can be read.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="canSetProperty()"> <td><a href="yii-base-component.html#canSetProperty()-detail">canSetProperty()</a></td> <td>Returns a value indicating whether a property can be set.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="cancel()"> <td><a href="yii-db-command.html#cancel()-detail">cancel()</a></td> <td>Cancels the execution of the SQL statement.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="checkIntegrity()"> <td><a href="yii-sphinx-command.html#checkIntegrity()-detail">checkIntegrity()</a></td> <td>Builds a SQL command for enabling or disabling integrity check.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="className()"> <td><a href="yii-base-object.html#className()-detail">className()</a></td> <td>Returns the fully qualified name of this class.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="createIndex()"> <td><a href="yii-sphinx-command.html#createIndex()-detail">createIndex()</a></td> <td>Creates a SQL command for creating a new index.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="createTable()"> <td><a href="yii-sphinx-command.html#createTable()-detail">createTable()</a></td> <td>Creates a SQL command for creating a new DB table.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="delete()"> <td><a href="yii-db-command.html#delete()-detail">delete()</a></td> <td>Creates a DELETE command.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="detachBehavior()"> <td><a href="yii-base-component.html#detachBehavior()-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="detachBehaviors()"> <td><a href="yii-base-component.html#detachBehaviors()-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="dropColumn()"> <td><a href="yii-sphinx-command.html#dropColumn()-detail">dropColumn()</a></td> <td>Creates a SQL command for dropping a DB column.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="dropCommentFromColumn()"> <td><a href="yii-db-command.html#dropCommentFromColumn()-detail">dropCommentFromColumn()</a></td> <td>Builds a SQL command for dropping comment from column</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="dropCommentFromTable()"> <td><a href="yii-db-command.html#dropCommentFromTable()-detail">dropCommentFromTable()</a></td> <td>Builds a SQL command for dropping comment from table</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="dropForeignKey()"> <td><a href="yii-sphinx-command.html#dropForeignKey()-detail">dropForeignKey()</a></td> <td>Creates a SQL command for dropping a foreign key constraint.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="dropIndex()"> <td><a href="yii-sphinx-command.html#dropIndex()-detail">dropIndex()</a></td> <td>Creates a SQL command for dropping an index.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="dropPrimaryKey()"> <td><a href="yii-sphinx-command.html#dropPrimaryKey()-detail">dropPrimaryKey()</a></td> <td>Creates a SQL command for removing a primary key constraint to an existing table.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="dropTable()"> <td><a href="yii-sphinx-command.html#dropTable()-detail">dropTable()</a></td> <td>Creates a SQL command for dropping a DB table.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="ensureBehaviors()"> <td><a href="yii-base-component.html#ensureBehaviors()-detail">ensureBehaviors()</a></td> <td>Makes sure that the behaviors declared in <a href="yii-base-component.html#behaviors()-detail">behaviors()</a> are attached to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="execute()"> <td><a href="yii-db-command.html#execute()-detail">execute()</a></td> <td>Executes the SQL statement.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="getBehavior()"> <td><a href="yii-base-component.html#getBehavior()-detail">getBehavior()</a></td> <td>Returns the named behavior object.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="getBehaviors()"> <td><a href="yii-base-component.html#getBehaviors()-detail">getBehaviors()</a></td> <td>Returns all behaviors attached to this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="getRawSql()"> <td><a href="yii-db-command.html#getRawSql()-detail">getRawSql()</a></td> <td>Returns the raw SQL by inserting parameter values into the corresponding placeholders in <a href="yii-db-command.html#%24sql-detail">$sql</a>.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="getSql()"> <td><a href="yii-db-command.html#getSql()-detail">getSql()</a></td> <td>Returns the SQL statement for this command.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="hasEventHandlers()"> <td><a href="yii-base-component.html#hasEventHandlers()-detail">hasEventHandlers()</a></td> <td>Returns a value indicating whether there is any handler attached to the named event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="hasMethod()"> <td><a href="yii-base-component.html#hasMethod()-detail">hasMethod()</a></td> <td>Returns a value indicating whether a method is defined.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="hasProperty()"> <td><a href="yii-base-component.html#hasProperty()-detail">hasProperty()</a></td> <td>Returns a value indicating whether a property is defined for this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="init()"> <td><a href="yii-base-object.html#init()-detail">init()</a></td> <td>Initializes the object.</td> <td><a href="yii-base-object.html">yii\base\Object</a></td> </tr> <tr id="insert()"> <td><a href="yii-db-command.html#insert()-detail">insert()</a></td> <td>Creates an INSERT command.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="noCache()"> <td><a href="yii-db-command.html#noCache()-detail">noCache()</a></td> <td>Disables query cache for this command.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="off()"> <td><a href="yii-base-component.html#off()-detail">off()</a></td> <td>Detaches an existing event handler from this component.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="on()"> <td><a href="yii-base-component.html#on()-detail">on()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="prepare()"> <td><a href="yii-sphinx-command.html#prepare()-detail">prepare()</a></td> <td>Prepares the SQL statement to be executed.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="query()"> <td><a href="yii-db-command.html#query()-detail">query()</a></td> <td>Executes the SQL statement and returns query result.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="queryAll()"> <td><a href="yii-db-command.html#queryAll()-detail">queryAll()</a></td> <td>Executes the SQL statement and returns ALL rows at once.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="queryColumn()"> <td><a href="yii-db-command.html#queryColumn()-detail">queryColumn()</a></td> <td>Executes the SQL statement and returns the first column of the result.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="queryOne()"> <td><a href="yii-db-command.html#queryOne()-detail">queryOne()</a></td> <td>Executes the SQL statement and returns the first row of the result.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="queryScalar()"> <td><a href="yii-db-command.html#queryScalar()-detail">queryScalar()</a></td> <td>Executes the SQL statement and returns the value of the first column in the first row of data.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="renameColumn()"> <td><a href="yii-sphinx-command.html#renameColumn()-detail">renameColumn()</a></td> <td>Creates a SQL command for renaming a column.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="renameTable()"> <td><a href="yii-sphinx-command.html#renameTable()-detail">renameTable()</a></td> <td>Creates a SQL command for renaming a DB table.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="replace()"> <td><a href="yii-sphinx-command.html#replace()-detail">replace()</a></td> <td>Creates an REPLACE command.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="resetSequence()"> <td><a href="yii-sphinx-command.html#resetSequence()-detail">resetSequence()</a></td> <td>Creates a SQL command for resetting the sequence value of a table's primary key.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="setSql()"> <td><a href="yii-db-command.html#setSql()-detail">setSql()</a></td> <td>Specifies the SQL statement to be executed.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="trigger()"> <td><a href="yii-base-component.html#trigger()-detail">trigger()</a></td> <td>Triggers an event.</td> <td><a href="yii-base-component.html">yii\base\Component</a></td> </tr> <tr id="truncateIndex()"> <td><a href="yii-sphinx-command.html#truncateIndex()-detail">truncateIndex()</a></td> <td>Creates a SQL command for truncating a runtime index.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="truncateTable()"> <td><a href="yii-sphinx-command.html#truncateTable()-detail">truncateTable()</a></td> <td>Creates a SQL command for truncating a DB table.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> <tr id="update()"> <td><a href="yii-sphinx-command.html#update()-detail">update()</a></td> <td>Creates an UPDATE command.</td> <td><a href="yii-sphinx-command.html">yii\sphinx\Command</a></td> </tr> </table>   <h2>Protected Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="bindPendingParams()"> <td><a href="yii-db-command.html#bindPendingParams()-detail">bindPendingParams()</a></td> <td>Binds pending parameters that were registered via <a href="yii-db-command.html#bindValue()-detail">bindValue()</a> and <a href="yii-db-command.html#bindValues()-detail">bindValues()</a>.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="queryInternal()"> <td><a href="yii-db-command.html#queryInternal()-detail">queryInternal()</a></td> <td>Performs the actual DB query of a SQL statement.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="refreshTableSchema()"> <td><a href="yii-db-command.html#refreshTableSchema()-detail">refreshTableSchema()</a></td> <td>Refreshes table schema, which was marked by <a href="yii-db-command.html#requireTableSchemaRefresh()-detail">requireTableSchemaRefresh()</a>
</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> <tr id="requireTableSchemaRefresh()"> <td><a href="yii-db-command.html#requireTableSchemaRefresh()-detail">requireTableSchemaRefresh()</a></td> <td>Marks a specified table schema to be refreshed after command execution.</td> <td><a href="yii-db-command.html">yii\db\Command</a></td> </tr> </table>    <h2 id="constants">Property Details</h2>  <h3 id="$db-detail"> $db <span class="detail-header-tag small"> public property </span> </h3>  <p>The Sphinx connection that this command is associated with.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="yii-sphinx-connection.html">yii\sphinx\Connection</a></span> <a href="yii-sphinx-command.html#%24db-detail">$db</a> = null</pre>  <h2>Method Details</h2> <div class="method-doc"> <h3 id="addColumn()-detail"> addColumn() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for adding a new DB column.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#addColumn()-detail">addColumn</a></strong> ( $table, $column, $type )</th></tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table that the new column will be added to. The table name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$column</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the new column. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$type</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The column type. <a href="yii-db-querybuilder.html#getColumnType()-detail">yii\db\QueryBuilder::getColumnType()</a> will be called to convert the give column type to the physical one. For example, <code>string</code> will be converted as <code>varchar(255)</code>, and <code>string not null</code> becomes <code>varchar(255) not null</code>.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="addForeignKey()-detail"> addForeignKey() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for adding a foreign key constraint to an existing table.</strong></p> <p>The method will properly quote the table and column names.</p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#addForeignKey()-detail">addForeignKey</a></strong> ( $name, $table, $columns, $refTable, $refColumns, $delete = null, $update = null )</th></tr> <tr> <td>$name</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the foreign key constraint.</p> </td> </tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table that the foreign key constraint will be added to.</p> </td> </tr> <tr> <td>$columns</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>The name of the column to that the constraint will be added on. If there are multiple columns, separate them with commas.</p> </td> </tr> <tr> <td>$refTable</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table that the foreign key references to.</p> </td> </tr> <tr> <td>$refColumns</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>The name of the column that the foreign key references to. If there are multiple columns, separate them with commas.</p> </td> </tr> <tr> <td>$delete</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL</p> </td> </tr> <tr> <td>$update</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="addPrimaryKey()-detail"> addPrimaryKey() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for adding a primary key constraint to an existing table.</strong></p> <p>The method will properly quote the table and column names.</p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#addPrimaryKey()-detail">addPrimaryKey</a></strong> ( $name, $table, $columns )</th></tr> <tr> <td>$name</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the primary key constraint.</p> </td> </tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table that the primary key constraint will be added to.</p> </td> </tr> <tr> <td>$columns</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>Comma separated string or array of columns that the primary key will consist of.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself.</p> </td> </tr> </table>  <h3 id="alterColumn()-detail"> alterColumn() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for changing the definition of a column.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#alterColumn()-detail">alterColumn</a></strong> ( $table, $column, $type )</th></tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table whose column is to be changed. The table name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$column</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the column to be changed. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$type</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The column type. <a href="yii-db-querybuilder.html#getColumnType()-detail">yii\db\QueryBuilder::getColumnType()</a> will be called to convert the give column type to the physical one. For example, <code>string</code> will be converted as <code>varchar(255)</code>, and <code>string not null</code> becomes <code>varchar(255) not null</code>.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="batchInsert()-detail"> batchInsert() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a batch INSERT command.</strong></p> <p>For example,</p> <pre data-language="php">$connection-&gt;createCommand()-&gt;batchInsert('idx_user', ['name', 'age'], [
    ['Tom', 30],
    ['Jane', 20],
    ['Linda', 25],
])-&gt;execute();
</pre> <p>Note that the values in each row must match the corresponding column names.</p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#batchInsert()-detail">batchInsert</a></strong> ( $index, $columns, $rows )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index that new rows will be inserted into.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column names</p> </td> </tr> <tr> <td>$rows</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The rows to be batch inserted into the index</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="batchReplace()-detail"> batchReplace() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a batch REPLACE command.</strong></p> <p>For example,</p> <pre data-language="php">$connection-&gt;createCommand()-&gt;batchReplace('idx_user', ['name', 'age'], [
    ['Tom', 30],
    ['Jane', 20],
    ['Linda', 25],
])-&gt;execute();
</pre> <p>Note that the values in each row must match the corresponding column names.</p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#batchReplace()-detail">batchReplace</a></strong> ( $index, $columns, $rows )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index that new rows will be replaced.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column names</p> </td> </tr> <tr> <td>$rows</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The rows to be batch replaced in the index</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="bindValue()-detail"> bindValue() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Binds a value to a parameter.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#bindValue()-detail">bindValue</a></strong> ( $name, $value, $dataType = null )</th></tr> <tr> <td>$name</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.integer">integer</a>
</td> <td>
<p>Parameter identifier. For a prepared statement using named placeholders, this will be a parameter name of the form <code>:name</code>. For a prepared statement using question mark placeholders, this will be the 1-indexed position of the parameter.</p> </td> </tr> <tr> <td>$value</td> <td>mixed</td> <td>
<p>The value to bind to the parameter</p> </td> </tr> <tr> <td>$dataType</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>SQL data type of the parameter. If null, the type is determined by the PHP type of the value.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The current command being executed</p> </td> </tr> </table>  <h3 id="bindValues()-detail"> bindValues() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Binds a list of values to the corresponding parameters.</strong></p> <p>This is similar to <a href="yii-sphinx-command.html#bindValue()-detail">bindValue()</a> except that it binds multiple values at a time. Note that the SQL data type of each value is determined by its PHP type.</p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#bindValues()-detail">bindValues</a></strong> ( $values )</th></tr> <tr> <td>$values</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The values to be bound. This must be given in terms of an associative array with array keys being the parameter names, and array values the corresponding parameter values, e.g. <code>[':name' =&gt; 'John', ':age' =&gt; 25]</code>. By default, the PDO type of each value is determined by its PHP type. You may explicitly specify the PDO type by using an array: <code>[value, type]</code>, e.g. <code>[':name' =&gt; 'John', ':profile' =&gt; [$profile, \PDO::PARAM_LOB]]</code>.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The current command being executed</p> </td> </tr> </table>  <h3 id="callKeywords()-detail"> callKeywords() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Returns tokenized and normalized forms of the keywords, and, optionally, keyword statistics.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#callKeywords()-detail">callKeywords</a></strong> ( $index, $text, $fetchStatistic = false )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the index from which to take the text processing settings</p> </td> </tr> <tr> <td>$text</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The text to break down to keywords.</p> </td> </tr> <tr> <td>$fetchStatistic</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether to return document and hit occurrence statistics</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="callSnippets()-detail"> callSnippets() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Builds a snippet from provided data and query, using specified index settings.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#callSnippets()-detail">callSnippets</a></strong> ( $index, $source, $match, $options = [] )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Name of the index, from which to take the text processing settings.</p> </td> </tr> <tr> <td>$source</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>Is the source data to extract a snippet from. It could be either a single string or array of strings.</p> </td> </tr> <tr> <td>$match</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The full-text query to build snippets for.</p> </td> </tr> <tr> <td>$options</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>List of options in format: optionName =&gt; optionValue</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="checkIntegrity()-detail"> checkIntegrity() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Builds a SQL command for enabling or disabling integrity check.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#checkIntegrity()-detail">checkIntegrity</a></strong> ( $check = true, $schema = '', $table = '' )</th></tr> <tr> <td>$check</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether to turn on or off the integrity check.</p> </td> </tr> <tr> <td>$schema</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The schema name of the tables. Defaults to empty string, meaning the current or default schema.</p> </td> </tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table name.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-notsupportedexception.html">yii\base\NotSupportedException</a></td> <td>
<p>if this is not supported by the underlying DBMS</p> </td> </tr> </table>  <h3 id="createIndex()-detail"> createIndex() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for creating a new index.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#createIndex()-detail">createIndex</a></strong> ( $name, $table, $columns, $unique = false )</th></tr> <tr> <td>$name</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the index. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table that the new index will be created for. The table name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$columns</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>The column(s) that should be included in the index. If there are multiple columns, please separate them by commas. The column names will be properly quoted by the method.</p> </td> </tr> <tr> <td>$unique</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether to add UNIQUE constraint on the created index.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="createTable()-detail"> createTable() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for creating a new DB table.</strong></p> <p>The columns in the new table should be specified as name-definition pairs (e.g. 'name' =&gt; 'string'), where name stands for a column name which will be properly quoted by the method, and definition stands for the column type which can contain an abstract DB type. The method <span class="broken-link">yii\sphinx\QueryBuilder::getColumnType()</span> will be called to convert the abstract column types to physical ones. For example, <code>string</code> will be converted as <code>varchar(255)</code>, and <code>string not null</code> becomes <code>varchar(255) not null</code>.</p> <p>If a column is specified with definition only (e.g. 'PRIMARY KEY (name, type)'), it will be directly inserted into the generated SQL.</p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#createTable()-detail">createTable</a></strong> ( $table, $columns, $options = null )</th></tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the table to be created. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The columns (name =&gt; definition) in the new table.</p> </td> </tr> <tr> <td>$options</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>Additional SQL fragment that will be appended to the generated SQL.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="dropColumn()-detail"> dropColumn() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for dropping a DB column.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#dropColumn()-detail">dropColumn</a></strong> ( $table, $column )</th></tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table whose column is to be dropped. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$column</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the column to be dropped. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="dropForeignKey()-detail"> dropForeignKey() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for dropping a foreign key constraint.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#dropForeignKey()-detail">dropForeignKey</a></strong> ( $name, $table )</th></tr> <tr> <td>$name</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the foreign key constraint to be dropped. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table whose foreign is to be dropped. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="dropIndex()-detail"> dropIndex() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for dropping an index.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#dropIndex()-detail">dropIndex</a></strong> ( $name, $table )</th></tr> <tr> <td>$name</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the index to be dropped. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table whose index is to be dropped. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="dropPrimaryKey()-detail"> dropPrimaryKey() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for removing a primary key constraint to an existing table.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#dropPrimaryKey()-detail">dropPrimaryKey</a></strong> ( $name, $table )</th></tr> <tr> <td>$name</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the primary key constraint to be removed.</p> </td> </tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table that the primary key constraint will be removed from.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="dropTable()-detail"> dropTable() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for dropping a DB table.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#dropTable()-detail">dropTable</a></strong> ( $table )</th></tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table to be dropped. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="prepare()-detail"> prepare() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Prepares the SQL statement to be executed.</strong></p> <p>For complex SQL statement that is to be executed multiple times, this may improve performance. For SQL statement with binding parameters, this method is invoked automatically.</p>  <table> <tr><th colspan="3">public void <strong><a href="yii-sphinx-command.html#prepare()-detail">prepare</a></strong> ( $forRead = null )</th></tr> <tr> <td>$forRead</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether this method is called for a read query. If null, it means the SQL statement should be used to determine whether it is for read or write.</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-db-exception.html">yii\db\Exception</a></td> <td>
<p>if there is any DB error</p> </td> </tr> </table>  <h3 id="renameColumn()-detail"> renameColumn() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for renaming a column.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#renameColumn()-detail">renameColumn</a></strong> ( $table, $oldName, $newName )</th></tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table whose column is to be renamed. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$oldName</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The old name of the column. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$newName</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The new name of the column. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="renameTable()-detail"> renameTable() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for renaming a DB table.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#renameTable()-detail">renameTable</a></strong> ( $table, $newName )</th></tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table to be renamed. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>$newName</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The new table name. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="replace()-detail"> replace() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates an REPLACE command.</strong></p> <p>For example,</p> <pre data-language="php">$connection-&gt;createCommand()-&gt;replace('idx_user', [
    'name' =&gt; 'Sam',
    'age' =&gt; 30,
])-&gt;execute();
</pre> <p>The method will properly escape the column names, and bind the values to be replaced.</p> <p>Note that the created command is not executed until <a href="yii-db-command.html#execute()-detail">execute()</a> is called.</p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#replace()-detail">replace</a></strong> ( $index, $columns )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index that new rows will be replaced into.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column data (name =&gt; value) to be replaced into the index.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="resetSequence()-detail"> resetSequence() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for resetting the sequence value of a table's primary key.</strong></p> <p>The sequence will be reset such that the primary key of the next new row inserted will have the specified value or 1.</p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#resetSequence()-detail">resetSequence</a></strong> ( $table, $value = null )</th></tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The name of the table whose primary key sequence will be reset</p> </td> </tr> <tr> <td>$value</td> <td>mixed</td> <td>
<p>The value for the primary key of the next new row inserted. If this is not set, the next new row's primary key will have a value 1.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-base-notsupportedexception.html">yii\base\NotSupportedException</a></td> <td>
<p>if this is not supported by the underlying DBMS</p> </td> </tr> </table>  <h3 id="truncateIndex()-detail"> truncateIndex() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for truncating a runtime index.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#truncateIndex()-detail">truncateIndex</a></strong> ( $index )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index to be truncated. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="truncateTable()-detail"> truncateTable() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates a SQL command for truncating a DB table.</strong></p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#truncateTable()-detail">truncateTable</a></strong> ( $table )</th></tr> <tr> <td>$table</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The table to be truncated. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  <h3 id="update()-detail"> update() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Creates an UPDATE command.</strong></p> <p>For example,</p> <pre data-language="php">$connection-&gt;createCommand()-&gt;update('user', ['status' =&gt; 1], 'age &gt; 30')-&gt;execute();
</pre> <p>The method will properly escape the column names and bind the values to be updated.</p> <p>Note that the created command is not executed until <a href="yii-db-command.html#execute()-detail">execute()</a> is called.</p>  <table> <tr><th colspan="3">public <a href="yii-sphinx-command.html">$this</a> <strong><a href="yii-sphinx-command.html#update()-detail">update</a></strong> ( $index, $columns, $condition = '', $params = [], $options = [] )</th></tr> <tr> <td>$index</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The index to be updated.</p> </td> </tr> <tr> <td>$columns</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The column data (name =&gt; value) to be updated.</p> </td> </tr> <tr> <td>$condition</td> <td>
<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.array">array</a>
</td> <td>
<p>The condition that will be put in the WHERE part. Please refer to <a href="yii-db-querytrait.html#where()-detail">yii\sphinx\Query::where()</a> on how to specify condition.</p> </td> </tr> <tr> <td>$params</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The parameters to be bound to the command</p> </td> </tr> <tr> <td>$options</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>List of options in format: optionName =&gt; optionValue</p> </td> </tr> <tr> <td>return</td> <td><a href="yii-sphinx-command.html">$this</a></td> <td>
<p>The command object itself</p> </td> </tr> </table>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yii-sphinx-command.html" class="_attribution-link">http://www.yiiframework.com/doc-2.0/yii-sphinx-command.html</a>
  </p>
</div>
