<h1>Interface yii\caching\CacheInterface</h1> <div class="top-nav"> <a href="index.html">All Classes</a> | <a href="#methods">Methods</a> </div> <table> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Extends</th>
<td><a href="http://www.php.net/class.arrayaccess">ArrayAccess</a></td>
</tr> <tr>
<th>Implemented by</th>
<td>
<a href="yii-caching-apccache.html">yii\caching\ApcCache</a>, <a href="yii-caching-arraycache.html">yii\caching\ArrayCache</a>, <a href="yii-caching-cache.html">yii\caching\Cache</a>, <a href="yii-caching-dbcache.html">yii\caching\DbCache</a>, <a href="yii-caching-dummycache.html">yii\caching\DummyCache</a>, <a href="yii-caching-filecache.html">yii\caching\FileCache</a>, <a href="yii-caching-memcache.html">yii\caching\MemCache</a>, <a href="yii-caching-wincache.html">yii\caching\WinCache</a>, <a href="yii-caching-xcache.html">yii\caching\XCache</a>, <a href="yii-caching-zenddatacache.html">yii\caching\ZendDataCache</a>, <a href="yii-mongodb-cache.html">yii\mongodb\Cache</a>, <a href="yii-redis-cache.html">yii\redis\Cache</a>
</td>
</tr> <tr>
<th>Available since version</th>
<td>2.0.13.</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2/blob/master/framework/caching/CacheInterface.php">https://github.com/yiisoft/yii2/blob/master/framework/caching/CacheInterface.php</a></td> </tr> </table>  <p><strong>CacheInterface is the base interface for cache.</strong></p> <p>A data item can be stored in the cache by calling <a href="yii-caching-cacheinterface.html#set()-detail">set()</a> and be retrieved back later (in the same or different request) by <a href="yii-caching-cacheinterface.html#get()-detail">get()</a>. In both operations, a key identifying the data item is required. An expiration time and/or a <a href="yii-caching-dependency.html">dependency</a> can also be specified when calling <a href="yii-caching-cacheinterface.html#set()-detail">set()</a>. If the data item expires or the dependency changes at the time of calling <a href="yii-caching-cacheinterface.html#get()-detail">get()</a>, the cache will return no data.</p> <p>A typical usage pattern of cache is like the following:</p> <pre data-language="php">$key = 'demo';
$data = $cache-&gt;get($key);
if ($data === false) {
    // ...generate $data here...
    $cache-&gt;set($key, $data, $duration, $dependency);
}
</pre> <p>Because CacheInterface extends the <a href="http://www.php.net/class.arrayaccess">ArrayAccess</a> interface, it can be used like an array. For example,</p> <pre data-language="php">$cache['foo'] = 'some data';
echo $cache['foo'];
</pre> <p>For more details and usage information on Cache, see the <a href="guide-caching-overview.html">guide article on caching</a>.</p>     <h2 id="methods">Public Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="add()"> <td><a href="yii-caching-cacheinterface.html#add()-detail">add()</a></td> <td>Stores a value identified by a key into cache if the cache does not contain this key.</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> <tr id="buildKey()"> <td><a href="yii-caching-cacheinterface.html#buildKey()-detail">buildKey()</a></td> <td>Builds a normalized cache key from a given key.</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> <tr id="delete()"> <td><a href="yii-caching-cacheinterface.html#delete()-detail">delete()</a></td> <td>Deletes a value with the specified key from cache</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> <tr id="exists()"> <td><a href="yii-caching-cacheinterface.html#exists()-detail">exists()</a></td> <td>Checks whether a specified key exists in the cache.</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> <tr id="flush()"> <td><a href="yii-caching-cacheinterface.html#flush()-detail">flush()</a></td> <td>Deletes all values from cache.</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> <tr id="get()"> <td><a href="yii-caching-cacheinterface.html#get()-detail">get()</a></td> <td>Retrieves a value from cache with a specified key.</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> <tr id="getOrSet()"> <td><a href="yii-caching-cacheinterface.html#getOrSet()-detail">getOrSet()</a></td> <td>Method combines both <a href="yii-caching-cacheinterface.html#set()-detail">set()</a> and <a href="yii-caching-cacheinterface.html#get()-detail">get()</a> methods to retrieve value identified by a $key, or to store the result of $callable execution if there is no cache available for the $key.</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> <tr id="multiAdd()"> <td><a href="yii-caching-cacheinterface.html#multiAdd()-detail">multiAdd()</a></td> <td>Stores multiple items in cache. Each item contains a value identified by a key.</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> <tr id="multiGet()"> <td><a href="yii-caching-cacheinterface.html#multiGet()-detail">multiGet()</a></td> <td>Retrieves multiple values from cache with the specified keys.</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> <tr id="multiSet()"> <td><a href="yii-caching-cacheinterface.html#multiSet()-detail">multiSet()</a></td> <td>Stores multiple items in cache. Each item contains a value identified by a key.</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> <tr id="set()"> <td><a href="yii-caching-cacheinterface.html#set()-detail">set()</a></td> <td>Stores a value identified by a key into cache.</td> <td><a href="yii-caching-cacheinterface.html">yii\caching\CacheInterface</a></td> </tr> </table>    <h2 id="constants">Method Details</h2> <div class="method-doc"> <h3 id="add()-detail"> add() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Stores a value identified by a key into cache if the cache does not contain this key.</strong></p> <p>Nothing will be done if the cache already contains the key.</p>  <table> <tr><th colspan="3">public abstract <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-caching-cacheinterface.html#add()-detail">add</a></strong> ( $key, $value, $duration = 0, $dependency = null )</th></tr> <tr> <td>$key</td> <td>mixed</td> <td>
<p>A key identifying the value to be cached. This can be a simple string or a complex data structure consisting of factors representing the key.</p> </td> </tr> <tr> <td>$value</td> <td>mixed</td> <td>
<p>The value to be cached</p> </td> </tr> <tr> <td>$duration</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>The number of seconds in which the cached value will expire. 0 means never expire.</p> </td> </tr> <tr> <td>$dependency</td> <td><a href="yii-caching-dependency.html">yii\caching\Dependency</a></td> <td>
<p>Dependency of the cached item. If the dependency changes, the corresponding value in the cache will be invalidated when it is fetched via <a href="yii-caching-cacheinterface.html#get()-detail">get()</a>. This parameter is ignored if <span class="broken-link">\yii\caching\serializer</span> is false.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the value is successfully stored into cache</p> </td> </tr> </table>  <h3 id="buildKey()-detail"> buildKey() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Builds a normalized cache key from a given key.</strong></p> <p>If the given key is a string containing alphanumeric characters only and no more than 32 characters, then the key will be returned back prefixed with <span class="broken-link">\yii\caching\keyPrefix</span>. Otherwise, a normalized key is generated by serializing the given key, applying MD5 hashing, and prefixing with <span class="broken-link">\yii\caching\keyPrefix</span>.</p>  <table> <tr><th colspan="3">public abstract <a href="http://www.php.net/language.types.string">string</a> <strong><a href="yii-caching-cacheinterface.html#buildKey()-detail">buildKey</a></strong> ( $key )</th></tr> <tr> <td>$key</td> <td>mixed</td> <td>
<p>The key to be normalized</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>
<p>The generated cache key</p> </td> </tr> </table>  <h3 id="delete()-detail"> delete() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Deletes a value with the specified key from cache</strong></p>  <table> <tr><th colspan="3">public abstract <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-caching-cacheinterface.html#delete()-detail">delete</a></strong> ( $key )</th></tr> <tr> <td>$key</td> <td>mixed</td> <td>
<p>A key identifying the value to be deleted from cache. This can be a simple string or a complex data structure consisting of factors representing the key.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>If no error happens during deletion</p> </td> </tr> </table>  <h3 id="exists()-detail"> exists() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Checks whether a specified key exists in the cache.</strong></p> <p>This can be faster than getting the value from the cache if the data is big. In case a cache does not support this feature natively, this method will try to simulate it but has no performance improvement over getting it. Note that this method does not check whether the dependency associated with the cached data, if there is any, has changed. So a call to <a href="yii-caching-cacheinterface.html#get()-detail">get()</a> may return false while exists returns true.</p>  <table> <tr><th colspan="3">public abstract <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-caching-cacheinterface.html#exists()-detail">exists</a></strong> ( $key )</th></tr> <tr> <td>$key</td> <td>mixed</td> <td>
<p>A key identifying the cached value. This can be a simple string or a complex data structure consisting of factors representing the key.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>True if a value exists in cache, false if the value is not in the cache or expired.</p> </td> </tr> </table>  <h3 id="flush()-detail"> flush() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Deletes all values from cache.</strong></p> <p>Be careful of performing this operation if the cache is shared among multiple applications.</p>  <table> <tr><th colspan="3">public abstract <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-caching-cacheinterface.html#flush()-detail">flush</a></strong> ( )</th></tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the flush operation was successful.</p> </td> </tr> </table>  <h3 id="get()-detail"> get() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Retrieves a value from cache with a specified key.</strong></p>  <table> <tr><th colspan="3">public abstract mixed <strong><a href="yii-caching-cacheinterface.html#get()-detail">get</a></strong> ( $key )</th></tr> <tr> <td>$key</td> <td>mixed</td> <td>
<p>A key identifying the cached value. This can be a simple string or a complex data structure consisting of factors representing the key.</p> </td> </tr> <tr> <td>return</td> <td>mixed</td> <td>
<p>The value stored in cache, false if the value is not in the cache, expired, or the dependency associated with the cached data has changed.</p> </td> </tr> </table>  <h3 id="getOrSet()-detail"> getOrSet() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Method combines both <a href="yii-caching-cacheinterface.html#set()-detail">set()</a> and <a href="yii-caching-cacheinterface.html#get()-detail">get()</a> methods to retrieve value identified by a $key, or to store the result of $callable execution if there is no cache available for the $key.</strong></p> <p>Usage example:</p> <pre data-language="php">public function getTopProducts($count = 10) {
    $cache = $this-&gt;cache; // Could be Yii::$app-&gt;cache
    return $cache-&gt;getOrSet(['top-n-products', 'n' =&gt; $count], function ($cache) use ($count) {
        return Products::find()-&gt;mostPopular()-&gt;limit(10)-&gt;all();
    }, 1000);
}
</pre>  <table> <tr><th colspan="3">public abstract mixed <strong><a href="yii-caching-cacheinterface.html#getOrSet()-detail">getOrSet</a></strong> ( $key, $callable, $duration = null, $dependency = null )</th></tr> <tr> <td>$key</td> <td>mixed</td> <td>
<p>A key identifying the value to be cached. This can be a simple string or a complex data structure consisting of factors representing the key.</p> </td> </tr> <tr> <td>$callable</td> <td>
<a href="http://www.php.net/language.types.callable">callable</a>|<a href="http://www.php.net/class.closure">Closure</a>
</td> <td>
<p>The callable or closure that will be used to generate a value to be cached. In case $callable returns <code>false</code>, the value will not be cached.</p> </td> </tr> <tr> <td>$duration</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>Default duration in seconds before the cache will expire. If not set, <span class="broken-link">\yii\caching\defaultDuration</span> value will be used.</p> </td> </tr> <tr> <td>$dependency</td> <td><a href="yii-caching-dependency.html">yii\caching\Dependency</a></td> <td>
<p>Dependency of the cached item. If the dependency changes, the corresponding value in the cache will be invalidated when it is fetched via <a href="yii-caching-cacheinterface.html#get()-detail">get()</a>. This parameter is ignored if <span class="broken-link">\yii\caching\serializer</span> is <code>false</code>.</p> </td> </tr> <tr> <td>return</td> <td>mixed</td> <td>
<p>Result of $callable execution</p> </td> </tr> </table>  <h3 id="multiAdd()-detail"> multiAdd() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Stores multiple items in cache. Each item contains a value identified by a key.</strong></p> <p>If the cache already contains such a key, the existing value and expiration time will be preserved.</p>  <table> <tr><th colspan="3">public abstract <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-caching-cacheinterface.html#multiAdd()-detail">multiAdd</a></strong> ( $items, $duration = 0, $dependency = null )</th></tr> <tr> <td>$items</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The items to be cached, as key-value pairs.</p> </td> </tr> <tr> <td>$duration</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>Default number of seconds in which the cached values will expire. 0 means never expire.</p> </td> </tr> <tr> <td>$dependency</td> <td><a href="yii-caching-dependency.html">yii\caching\Dependency</a></td> <td>
<p>Dependency of the cached items. If the dependency changes, the corresponding values in the cache will be invalidated when it is fetched via <a href="yii-caching-cacheinterface.html#get()-detail">get()</a>. This parameter is ignored if <span class="broken-link">\yii\caching\serializer</span> is false.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Array of failed keys</p> </td> </tr> </table>  <h3 id="multiGet()-detail"> multiGet() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Retrieves multiple values from cache with the specified keys.</strong></p> <p>Some caches (such as memcache, apc) allow retrieving multiple cached values at the same time, which may improve the performance. In case a cache does not support this feature natively, this method will try to simulate it.</p>  <table> <tr><th colspan="3">public abstract <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-caching-cacheinterface.html#multiGet()-detail">multiGet</a></strong> ( $keys )</th></tr> <tr> <td>$keys</td> <td>
<a href="http://www.php.net/language.types.string">string</a>[]</td> <td>
<p>List of string keys identifying the cached values</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>List of cached values corresponding to the specified keys. The array is returned in terms of (key, value) pairs. If a value is not cached or expired, the corresponding array value will be false.</p> </td> </tr> </table>  <h3 id="multiSet()-detail"> multiSet() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Stores multiple items in cache. Each item contains a value identified by a key.</strong></p> <p>If the cache already contains such a key, the existing value and expiration time will be replaced with the new ones, respectively.</p>  <table> <tr><th colspan="3">public abstract <a href="http://www.php.net/language.types.array">array</a> <strong><a href="yii-caching-cacheinterface.html#multiSet()-detail">multiSet</a></strong> ( $items, $duration = 0, $dependency = null )</th></tr> <tr> <td>$items</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>The items to be cached, as key-value pairs.</p> </td> </tr> <tr> <td>$duration</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>Default number of seconds in which the cached values will expire. 0 means never expire.</p> </td> </tr> <tr> <td>$dependency</td> <td><a href="yii-caching-dependency.html">yii\caching\Dependency</a></td> <td>
<p>Dependency of the cached items. If the dependency changes, the corresponding values in the cache will be invalidated when it is fetched via <a href="yii-caching-cacheinterface.html#get()-detail">get()</a>. This parameter is ignored if <span class="broken-link">\yii\caching\serializer</span> is false.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>
<p>Array of failed keys</p> </td> </tr> </table>  <h3 id="set()-detail"> set() <span class="detail-header-tag small"> public abstract method </span> </h3>  <p><strong>Stores a value identified by a key into cache.</strong></p> <p>If the cache already contains such a key, the existing value and expiration time will be replaced with the new ones, respectively.</p>  <table> <tr><th colspan="3">public abstract <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-caching-cacheinterface.html#set()-detail">set</a></strong> ( $key, $value, $duration = null, $dependency = null )</th></tr> <tr> <td>$key</td> <td>mixed</td> <td>
<p>A key identifying the value to be cached. This can be a simple string or a complex data structure consisting of factors representing the key.</p> </td> </tr> <tr> <td>$value</td> <td>mixed</td> <td>
<p>The value to be cached</p> </td> </tr> <tr> <td>$duration</td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>
<p>Default duration in seconds before the cache will expire. If not set, default <span class="broken-link">\yii\caching\defaultDuration</span> value is used.</p> </td> </tr> <tr> <td>$dependency</td> <td><a href="yii-caching-dependency.html">yii\caching\Dependency</a></td> <td>
<p>Dependency of the cached item. If the dependency changes, the corresponding value in the cache will be invalidated when it is fetched via <a href="yii-caching-cacheinterface.html#get()-detail">get()</a>. This parameter is ignored if <span class="broken-link">\yii\caching\serializer</span> is false.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the value is successfully stored into cache</p> </td> </tr> </table>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yii-caching-cacheinterface.html" class="_attribution-link">http://www.yiiframework.com/doc-2.0/yii-caching-cacheinterface.html</a>
  </p>
</div>
