<h1>dojo/_base/connect</h1>  <h2 id="summary">Summary</h2> <p>This module defines the dojo.connect API. This modules also provides keyboard event handling helpers. This module exports an extension event for emulating Firefox's keypress handling. However, this extension event exists primarily for backwards compatibility and is not recommended. WebKit and IE uses an alternate keypress handling (only firing for printable characters, to distinguish from keydown events), and most consider the WebKit/IE behavior more desirable.</p>  <p>See the <a href="http://dojotoolkit.org/reference-guide/1.10/dojo/_base/connect.html" target="_blank">dojo/_base/connect reference documentation</a> for more information.</p>          <h2 id="methods">Methods</h2>     <h3 id="1_10dojo__base_connect_connect">
<code class="functionIcon">connect</code><code class="parameters">(obj,event,context,method,dontFix)</code> </h3> <p class="jsdoc-inheritance">Defined by <a href="connect.html">dojo/_base/connect</a> </p> <p><code>dojo.connect</code> is a deprecated event handling and delegation method in Dojo. It allows one function to "listen in" on the execution of any other, triggering the second whenever the first is called. Many listeners may be attached to a function, and source functions may be either regular function calls or DOM events. </p>  <p>Connects listeners to actions, so that after event fires, a listener is called with the same arguments passed to the original function. </p> <p>Since <code>dojo.connect</code> allows the source of events to be either a "regular" JavaScript function or a DOM event, it provides a uniform interface for listening to all the types of events that an application is likely to deal with though a single, unified interface. DOM programmers may want to think of it as "addEventListener for everything and anything". </p> <p>When setting up a connection, the <code>event</code> parameter must be a string that is the name of the method/event to be listened for. If <code>obj</code> is null, <code>kernel.global</code> is assumed, meaning that connections to global methods are supported but also that you may inadvertently connect to a global by passing an incorrect object name or invalid reference. </p> <p><code>dojo.connect</code> generally is forgiving. If you pass the name of a function or method that does not yet exist on <code>obj</code>, connect will not fail, but will instead set up a stub method. Similarly, null arguments may simply be omitted such that fewer than 4 arguments may be required to set up a connection See the examples for details. </p> <p>The return value is a handle that is needed to remove this connection with <code>dojo.disconnect</code>. </p>  <table> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>obj</td> <td>Object</td> <td> <div><em>Optional</em></div>
<p>The source object for the event function. Defaults to <code>kernel.global</code> if null. If obj is a DOM node, the connection is delegated to the DOM event manager (unless dontFix is true). </p> </td> </tr> <tr> <td>event</td> <td>String</td> <td>
<p>String name of the event function in obj. I.e. identifies a property <code>obj[event]</code>. </p> </td> </tr> <tr> <td>context</td> <td>Object | null</td> <td>
<p>The object that method will receive as "this". </p> <p>If context is null and method is a function, then method inherits the context of event. </p> <p>If method is a string then context must be the source object object for method (context[method]). If context is null, kernel.global is used. </p> </td> </tr> <tr> <td>method</td> <td>String | Function</td> <td>
<p>A function reference, or name of a function in context. The function identified by method fires after event does. method receives the same arguments as the event. See context argument comments for information on method's scope. </p> </td> </tr> <tr> <td>dontFix</td> <td>Boolean</td> <td> <div><em>Optional</em></div>
<p>If obj is a DOM node, set dontFix to true to prevent delegation of this connection to the DOM event manager. </p> </td> </tr> </table> <p class="returnsInfo"><strong>Returns: </strong>undefined</p>  <h2>Examples</h2>  <h3>Example 1</h3><p>When obj.onchange(), do ui.update(): </p> <pre data-language="javascript"><code>dojo.connect(obj, "onchange", ui, "update");
dojo.connect(obj, "onchange", ui, ui.update); // same</code></pre>   <h3>Example 2</h3><p>Using return value for disconnect: </p> <pre data-language="javascript"><code>var link = dojo.connect(obj, "onchange", ui, "update");
...
dojo.disconnect(link);</code></pre>   <h3>Example 3</h3><p>When onglobalevent executes, watcher.handler is invoked: </p> <pre data-language="javascript"><code>dojo.connect(null, "onglobalevent", watcher, "handler");</code></pre>   <h3>Example 4</h3><p>When ob.onCustomEvent executes, customEventHandler is invoked: </p> <pre data-language="javascript"><code>dojo.connect(ob, "onCustomEvent", null, "customEventHandler");
dojo.connect(ob, "onCustomEvent", "customEventHandler"); // same</code></pre>   <h3>Example 5</h3><p>When ob.onCustomEvent executes, customEventHandler is invoked with the same scope (this): </p> <pre data-language="javascript"><code>dojo.connect(ob, "onCustomEvent", null, customEventHandler);
dojo.connect(ob, "onCustomEvent", customEventHandler); // same</code></pre>   <h3>Example 6</h3><p>When globalEvent executes, globalHandler is invoked with the same scope (this): </p> <pre data-language="javascript"><code>dojo.connect(null, "globalEvent", null, globalHandler);
dojo.connect("globalEvent", globalHandler); // same</code></pre>       <h3 id="1_10dojo__base_connect_connectPublisher">
<code class="functionIcon">connectPublisher</code><code class="parameters">(topic,obj,event)</code> </h3> <p class="jsdoc-inheritance">Defined by <a href="connect.html">dojo/_base/connect</a> </p> <p>Ensure that every time obj.event() is called, a message is published on the topic. Returns a handle which can be passed to dojo.disconnect() to disable subsequent automatic publication on the topic.</p>  <table> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>topic</td> <td>String</td> <td>
<p>The name of the topic to publish.</p> </td> </tr> <tr> <td>obj</td> <td>Object</td> <td> <div><em>Optional</em></div>
<p>The source object for the event function. Defaults to kernel.global if null.</p> </td> </tr> <tr> <td>event</td> <td>String</td> <td>
<p>The name of the event function in obj. I.e. identifies a property obj[event].</p> </td> </tr> </table> <p class="returnsInfo"><strong>Returns: </strong>undefined</p>  <h2>Examples</h2>  <h3>Example 1</h3><pre data-language="javascript"><code>dojo.connectPublisher("/ajax/start", dojo, "xhrGet");</code></pre>       <h3 id="1_10dojo__base_connect_disconnect">
<code class="functionIcon">disconnect</code><code class="parameters">(handle)</code> </h3> <p class="jsdoc-inheritance">Defined by <a href="connect.html">dojo/_base/connect</a> </p> <p>Remove a link created by dojo.connect.</p>  <p>Removes the connection between event and the method referenced by handle.</p>  <table> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>handle</td> <td>Handle</td> <td>
<p>the return value of the dojo.connect call that created the connection.</p> </td> </tr> </table>     <h3 id="1_10dojo__base_connect_isCopyKey">
<code class="functionIcon">isCopyKey</code><code class="parameters">(e)</code> </h3> <p class="jsdoc-inheritance">Defined by <a href="connect.html">dojo/_base/connect</a> </p> <p>Checks an event for the copy key (meta on Mac, and ctrl anywhere else)</p>  <table> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>e</td> <td>Event</td> <td>
<p>Event object to examine</p> </td> </tr> </table> <p class="returnsInfo"><strong>Returns: </strong>undefined</p>     <h3 id="1_10dojo__base_connect_publish">
<code class="functionIcon">publish</code><code class="parameters">(topic,args)</code> </h3> <p class="jsdoc-inheritance">Defined by <a href="connect.html">dojo/_base/connect</a> </p> <p>Invoke all listener method subscribed to topic.</p>  <table> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>topic</td> <td>String</td> <td>
<p>The name of the topic to publish.</p> </td> </tr> <tr> <td>args</td> <td>Array</td> <td> <div><em>Optional</em></div>
<p>An array of arguments. The arguments will be applied to each topic subscriber (as first class parameters, via apply).</p> </td> </tr> </table> <p class="returnsInfo"><strong>Returns: </strong>undefined</p>  <h2>Examples</h2>  <h3>Example 1</h3><pre data-language="javascript"><code>dojo.subscribe("alerts", null, function(caption, message){ alert(caption + "\n" + message); };
dojo.publish("alerts", [ "read this", "hello world" ]);</code></pre>       <h3 id="1_10dojo__base_connect_subscribe">
<code class="functionIcon">subscribe</code><code class="parameters">(topic,context,method)</code> </h3> <p class="jsdoc-inheritance">Defined by <a href="connect.html">dojo/_base/connect</a> </p> <p>Attach a listener to a named topic. The listener function is invoked whenever the named topic is published (see: dojo.publish). Returns a handle which is needed to unsubscribe this listener.</p>  <table> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>topic</td> <td>String</td> <td>
<p>The topic to which to subscribe.</p> </td> </tr> <tr> <td>context</td> <td>Object</td> <td> <div><em>Optional</em></div>
<p>Scope in which method will be invoked, or null for default scope.</p> </td> </tr> <tr> <td>method</td> <td>String | Function</td> <td>
<p>The name of a function in context, or a function reference. This is the function that is invoked when topic is published.</p> </td> </tr> </table> <p class="returnsInfo"><strong>Returns: </strong>undefined</p>  <h2>Examples</h2>  <h3>Example 1</h3><pre data-language="javascript"><code>dojo.subscribe("alerts", null, function(caption, message){ alert(caption + "\n" + message); });
dojo.publish("alerts", [ "read this", "hello world" ]);</code></pre>       <h3 id="1_10dojo__base_connect_unsubscribe">
<code class="functionIcon">unsubscribe</code><code class="parameters">(handle)</code> </h3> <p class="jsdoc-inheritance">Defined by <a href="connect.html">dojo/_base/connect</a> </p> <p>Remove a topic listener.</p>  <table> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>handle</td> <td>Handle</td> <td>
<p>The handle returned from a call to subscribe.</p> </td> </tr> </table>  <h2>Examples</h2>  <h3>Example 1</h3><pre data-language="javascript"><code>var alerter = dojo.subscribe("alerts", null, function(caption, message){ alert(caption + "\n" + message); };
...
dojo.unsubscribe(alerter);</code></pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 JS Foundation<br>Licensed under the AFL 2.1 and BSD 3-Clause licenses.<br>
    <a href="http://dojotoolkit.org/api/1.10/dojo/_base/connect.html" class="_attribution-link">http://dojotoolkit.org/api/1.10/dojo/_base/connect.html</a>
  </p>
</div>
