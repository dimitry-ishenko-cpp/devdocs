<h1>dojo/_base/unload</h1>  <h2 id="summary">Summary</h2> <p>This module contains the document and window unload detection API. This module is deprecated. Use on(window, "unload", func) and on(window, "beforeunload", func) instead.</p>  <p>See the <a href="http://dojotoolkit.org/reference-guide/1.10/dojo/_base/unload.html" target="_blank">dojo/_base/unload reference documentation</a> for more information.</p>          <h2 id="methods">Methods</h2>    <h3 id="1_10dojo__base_unload_addOnUnload">
<code class="functionIcon">addOnUnload</code><code class="parameters">(obj,functionName)</code> </h3> <p class="jsdoc-inheritance">Defined by <a href="unload.html">dojo/_base/unload</a> </p> <p>Registers a function to be triggered when the page unloads. Deprecated, use on(window, "beforeunload", lang.hitch(obj, functionName)) instead.</p>  <p>The first time that addOnUnload is called Dojo will register a page listener to trigger your unload handler with. </p> <p>In a browser environment, the functions will be triggered during the window.onbeforeunload event. Be careful of doing too much work in an unload handler. onbeforeunload can be triggered if a link to download a file is clicked, or if the link is a javascript: link. In these cases, the onbeforeunload event fires, but the document is not actually destroyed. So be careful about doing destructive operations in a dojo.addOnUnload callback. </p> <p>Further note that calling dojo.addOnUnload will prevent browsers from using a "fast back" cache to make page loading via back button instantaneous.</p>  <table> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>obj</td> <td>Object? | Function</td> <td> <div><em>Optional</em></div> </td> </tr> <tr> <td>functionName</td> <td>String | Function</td> <td> <div><em>Optional</em></div> </td> </tr> </table>  <h2>Examples</h2>  <h3>Example 1</h3><pre data-language="javascript"><code>var afunc = function() {console.log("global function");};
require(["dojo/_base/unload"], function(unload) {
    var foo = {bar: function(){ console.log("bar unloading...");}, 
               data: "mydata"};
    unload.addOnUnload(afunc);
    unload.addOnUnload(foo, "bar");
    unload.addOnUnload(foo, function(){console.log("", this.data);});
});</code></pre>       <h3 id="1_10dojo__base_unload_addOnWindowUnload">
<code class="functionIcon">addOnWindowUnload</code><code class="parameters">(obj,functionName)</code> </h3> <p class="jsdoc-inheritance">Defined by <a href="unload.html">dojo/_base/unload</a> </p> <p>Registers a function to be triggered when window.onunload fires. Deprecated, use on(window, "unload", lang.hitch(obj, functionName)) instead.</p>  <p>The first time that addOnWindowUnload is called Dojo will register a page listener to trigger your unload handler with. Note that registering these handlers may destroy "fastback" page caching in browsers that support it. Be careful trying to modify the DOM or access JavaScript properties during this phase of page unloading: they may not always be available. Consider addOnUnload() if you need to modify the DOM or do heavy JavaScript work since it fires at the equivalent of the page's "onbeforeunload" event.</p>  <table> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td>obj</td> <td>Object | Function</td> <td> <div><em>Optional</em></div> </td> </tr> <tr> <td>functionName</td> <td>String | Function</td> <td> <div><em>Optional</em></div> </td> </tr> </table>  <h2>Examples</h2>  <h3>Example 1</h3><pre data-language="javascript"><code>var afunc = function() {console.log("global function");};
require(["dojo/_base/unload"], function(unload) {
    var foo = {bar: function(){ console.log("bar unloading...");}, 
               data: "mydata"};
    unload.addOnWindowUnload(afunc);
    unload.addOnWindowUnload(foo, "bar");
    unload.addOnWindowUnload(foo, function(){console.log("", this.data);});
});</code></pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 JS Foundation<br>Licensed under the AFL 2.1 and BSD 3-Clause licenses.<br>
    <a href="http://dojotoolkit.org/api/1.10/dojo/_base/unload.html" class="_attribution-link">http://dojotoolkit.org/api/1.10/dojo/_base/unload.html</a>
  </p>
</div>
