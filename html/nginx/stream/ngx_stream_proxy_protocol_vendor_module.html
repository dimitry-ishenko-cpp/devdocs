<h1>Module ngx_stream_proxy_protocol_vendor_module</h1>
<ul>
<li><a href="#example">Example Configuration</a></li>
<li><a href="#variables">Embedded Variables</a></li>
</ul> <p id="summary"> The <code>ngx_stream_proxy_protocol_vendor_module</code> module (1.23.3) allows obtaining additional information about a connection in cloud platforms from application-specific TLVs of the <a href="http://www.haproxy.org/download/1.8/doc/proxy-protocol.txt">PROXY protocol</a> header. </p>
<p> Supported cloud platforms: </p> <ul class="compact"> <li> Amazon Web Services </li> <li> Google Cloud Platform </li> <li> Microsoft Azure </li> </ul>

<p> The PROXY protocol must be previously enabled by setting the <code>proxy_protocol</code> parameter in the <a href="ngx_stream_core_module.html#listen">listen</a> directive. </p>
 <blockquote class="note"> This module is available as part of our <a href="http://nginx.com/products/">commercial subscription</a>. </blockquote>
 <h4 id="example">Example Configuration</h4>
 <pre data-language="nginx">
server {
    listen 12345 proxy_protocol;
    return $proxy_protocol_tlv_gcp_conn_id;
}
</pre>
 <h4 id="variables">Embedded Variables</h4>
 <dl class="compact"> <dt id="var_proxy_protocol_tlv_aws_vpce_id"><code>$proxy_protocol_tlv_aws_vpce_id</code></dt> <dd> TLV value from the PROXY Protocol header representing the <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-target-groups.html#proxy-protocol">ID of AWS VPC endpoint</a> </dd> <dt id="var_proxy_protocol_tlv_azure_pel_id"><code>$proxy_protocol_tlv_azure_pel_id</code></dt> <dd> TLV value from the PROXY Protocol header representing the <a href="https://learn.microsoft.com/en-us/azure/private-link/private-link-service-overview#getting-connection-information-using-tcp-proxy-v2">LinkID of Azure private endpoint</a> </dd> <dt id="var_proxy_protocol_tlv_gcp_conn_id"><code>$proxy_protocol_tlv_gcp_conn_id</code></dt> <dd> TLV value from the PROXY Protocol header representing <a href="https://cloud.google.com/vpc/docs/configure-private-service-connect-producer#proxy-protocol">Google Cloud PSC connection ID</a> </dd> </dl>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2002-2021 Igor Sysoev<br>&copy; 2011-2023 Nginx, Inc.<br>Licensed under the BSD License.<br>
    <a href="https://nginx.org/en/docs/stream/ngx_stream_proxy_protocol_vendor_module.html" class="_attribution-link">https://nginx.org/en/docs/stream/ngx_stream_proxy_protocol_vendor_module.html</a>
  </p>
</div>
