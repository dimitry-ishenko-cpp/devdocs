<h1>Understanding preloaded objects</h1>
<p id="summary"> For each incoming request njs creates a separate virtual machine. This brings a lot of benefits such as predictable memory consumption or requests isolation. However, as all requests are isolated, if a request handler needs to access some data, it has to read it by itself. This is not efficient especially when the amount of data is large. </p>
<p> To address this limitation, a preloaded shared object was introduced. Such objects are created immutable and do not have prototype chains: their values cannot be changed, properties cannot be added or removed. </p>
<h4 id="working_with_preload_objects">Working with preload objects</h4>
<p> Here are some examples of how to work with a preload object in njs: </p> <ul class="compact"> <li> access properties by name: <pre data-language="nginx">
preloaded_object.prop_name
preloaded_object[prop_name]
</pre> </li> <li> enumerate properties: <pre data-language="nginx">
for (i in preloaded_object_name) {
    ...
}
</pre> </li> <li> apply non-modifying built-in methods using <code>call()</code>: <pre data-language="nginx">
Array.prototype.filter.call(preloaded_object_name, ...)
</pre> </li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2002-2021 Igor Sysoev<br>&copy; 2011-2024 Nginx, Inc.<br>Licensed under the BSD License.<br>
    <a href="https://nginx.org/en/docs/njs/preload_objects.html" class="_attribution-link">https://nginx.org/en/docs/njs/preload_objects.html</a>
  </p>
</div>
