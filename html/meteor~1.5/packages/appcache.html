<h1 class="title-page">appcache</h1> <div class="subtitle-page">Documentation of Meteor's `appcache` package.</div>    <p>The <code>appcache</code> package stores the static parts of a Meteor application (the client side Javascript, HTML, CSS, and images) in the browser’s <a href="https://en.wikipedia.org/wiki/AppCache" target="_blank" rel="external">application cache</a>. To enable caching simply add the <code>appcache</code> package to your project.</p> <ul> <li>
<p>Once a user has visited a Meteor application for the first time and the application has been cached, on subsequent visits the web page loads faster because the browser can load the application out of the cache without contacting the server first.</p> </li> <li>
<p>Hot code pushes are loaded by the browser in the background while the app continues to run. Once the new code has been fully loaded the browser is able to switch over to the new code quickly.</p> </li> <li>
<p>The application cache allows the application to be loaded even when the browser doesn’t have an Internet connection, and so enables using the app offline.</p> </li> </ul> <p>(Note however that the <code>appcache</code> package by itself doesn’t make <em>data</em> available offline: in an application loaded offline, a Meteor Collection will appear to be empty in the client until the Internet becomes available and the browser is able to establish a DDP connection).</p> <p>To turn AppCache off for specific browsers use:</p> <pre class="highlight js" data-language="js">Meteor.AppCache.config({
  chrome: false,
  firefox: false

});</pre> <p>The supported browsers that can be enabled or disabled include, but are not limited to, <code>android</code>, <code>chrome</code>, <code>chromium</code>, <code>chromeMobileIOS</code>, <code>firefox</code>, <code>ie</code>, <code>mobileSafari</code> and <code>safari</code>.</p> <p>Browsers limit the amount of data they will put in the application cache, which can vary due to factors such as how much disk space is free. Unfortunately if your application goes over the limit rather than disabling the application cache altogether and running the application online, the browser will instead fail that particular <em>update</em> of the cache, leaving your users running old code.</p> <p>Thus it’s best to keep the size of the cache below 5MB. The <code>appcache</code> package will print a warning on the Meteor server console if the total size of the resources being cached is over 5MB.</p> <p>If you have files too large to fit in the cache you can disable caching by URL prefix. For example,</p> <pre class="highlight js" data-language="js">Meteor.AppCache.config({ onlineOnly: ['/online/'] });</pre> <p>causes files in your <code>public/online</code> directory to not be cached, and so they will only be available online. You can then move your large files into that directory and refer to them at the new URL:</p> <pre class="highlight html" data-language="html">&lt;img src="/online/bigimage.jpg"&gt;</pre> <p>If you’d prefer not to move your files, you can use the file names themselves as the URL prefix:</p> <pre class="highlight js" data-language="js">Meteor.AppCache.config({
  onlineOnly: [
    '/bigimage.jpg',
    '/largedata.json'

  ]
});</pre> <p>though keep in mind that since the exclusion is by prefix (this is a limitation of the application cache manifest), excluding <code>/largedata.json</code> will also exclude such URLs as <code>/largedata.json.orig</code> and <code>/largedata.json/file1</code>.</p> <p>For more information about how Meteor interacts with the application cache, see the <a href="https://github.com/meteor/meteor/wiki/AppCache" target="_blank" rel="external">AppCache page</a> in the Meteor wiki.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2011&ndash;2017 Meteor Development Group, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://docs.meteor.com/packages/appcache.html" class="_attribution-link">https://docs.meteor.com/packages/appcache.html</a>
  </p>
</div>
