<div class="subsection" id="Basic-Usage-and-Examples">   <h1 class="subsection">6.1.1 Basic Usage and Examples</h1> <p>Here are some examples of using data structures in Octave. </p> <p>Elements of structures can be of any value type. For example, the three expressions </p> <pre class="example" data-language="matlab">x.a = 1;
x.b = [1, 2; 3, 4];
x.c = "string";</pre>  <p>create a structure with three elements. The ‘<samp>.</samp>’ character separates the structure name (in the example above <code>x</code>) from the field name and indicates to Octave that this variable is a structure. To print the value of the structure you can type its name, just as for any other variable: </p> <pre class="example" data-language="matlab">x
     ⇒ x =

         scalar structure containing the fields:

           a =  1
           b =

              1   2
              3   4

           c = string</pre> <p>Note that Octave may print the elements in any order. </p> <p>Structures may be copied just like any other variable: </p> <pre class="example" data-language="matlab">y = x
     ⇒ y =

         scalar structure containing the fields:

           a =  1
           b =

              1   2
              3   4

           c = string</pre> <p>Since structures are themselves values, structure elements may reference other structures, as well. The following statement adds the field <code>d</code> to the structure <code>x</code>. The value of field <code>d</code> is itself a data structure containing the single field <code>a</code>, which has a value of 3. </p> <pre class="example" data-language="matlab">x.d.a = 3;
x.d
     ⇒ ans =

         scalar structure containing the fields:

           a =  3

x
     ⇒ x =

         scalar structure containing the fields:

           a =  1
           b =

              1   2
              3   4

           c = string
           d =

             scalar structure containing the fields:

               a =  3</pre> <p>Note that when Octave prints the value of a structure that contains other structures, only a few levels are displayed. For example: </p> <pre class="example" data-language="matlab">a.b.c.d.e = 1;
a
     ⇒ a =

         scalar structure containing the fields:

           b =

             scalar structure containing the fields:

               c =

                 scalar structure containing the fields:

                   d: 1x1 scalar struct</pre> <p>This prevents long and confusing output from large deeply nested structures. The number of levels to print for nested structures may be set with the function <code>struct_levels_to_print</code>, and the function <code>print_struct_array_contents</code> may be used to enable printing of the contents of structure arrays. </p> <dl class="def"> <dt id="index-struct_005flevels_005fto_005fprint">
<span class="category">: </span><span><em><var>val</var> =</em> <strong>struct_levels_to_print</strong> <em>()</em><a href="#index-struct_005flevels_005fto_005fprint" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-struct_005flevels_005fto_005fprint-1">
<span class="category">: </span><span><em><var>old_val</var> =</em> <strong>struct_levels_to_print</strong> <em>(<var>new_val</var>)</em><a href="#index-struct_005flevels_005fto_005fprint-1" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-struct_005flevels_005fto_005fprint-2">
<span class="category">: </span><span><em><var>old_val</var> =</em> <strong>struct_levels_to_print</strong> <em>(<var>new_val</var>, "local")</em><a href="#index-struct_005flevels_005fto_005fprint-2" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Query or set the internal variable that specifies the number of structure levels to display. </p> <p>When called from inside a function with the <code>"local"</code> option, the variable is changed locally for the function and any subroutines it calls. The original variable value is restored when exiting the function. </p> <p><strong>See also:</strong> <a href="#XREFprint_005fstruct_005farray_005fcontents">print_struct_array_contents</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-print_005fstruct_005farray_005fcontents">
<span class="category">: </span><span><em><var>val</var> =</em> <strong>print_struct_array_contents</strong> <em>()</em><a href="#index-print_005fstruct_005farray_005fcontents" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-print_005fstruct_005farray_005fcontents-1">
<span class="category">: </span><span><em><var>old_val</var> =</em> <strong>print_struct_array_contents</strong> <em>(<var>new_val</var>)</em><a href="#index-print_005fstruct_005farray_005fcontents-1" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-print_005fstruct_005farray_005fcontents-2">
<span class="category">: </span><span><em><var>old_val</var> =</em> <strong>print_struct_array_contents</strong> <em>(<var>new_val</var>, "local")</em><a href="#index-print_005fstruct_005farray_005fcontents-2" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Query or set the internal variable that specifies whether to print struct array contents. </p> <p>If true, values of struct array elements are printed. This variable does not affect scalar structures whose elements are always printed. In both cases, however, printing will be limited to the number of levels specified by <var>struct_levels_to_print</var>. </p> <p>When called from inside a function with the <code>"local"</code> option, the variable is changed locally for the function and any subroutines it calls. The original variable value is restored when exiting the function. </p> <p><strong>See also:</strong> <a href="#XREFstruct_005flevels_005fto_005fprint">struct_levels_to_print</a>. </p>
</dd>
</dl> <p>Functions can return structures. For example, the following function separates the real and complex parts of a matrix and stores them in two elements of the same structure variable <code>y</code>. </p> <pre class="example" data-language="matlab">function y = f (x)
  y.re = real (x);
  y.im = imag (x);
endfunction</pre> <p>When called with a complex-valued argument, the function <code>f</code> returns the data structure containing the real and imaginary parts of the original function argument. </p> <pre class="example" data-language="matlab">f (rand (2) + rand (2) * I)
     ⇒ ans =

         scalar structure containing the fields:

           re =

              0.040239  0.242160
              0.238081  0.402523

           im =

              0.26475  0.14828
              0.18436  0.83669</pre> <p>Function return lists can include structure elements, and they may be indexed like any other variable. For example: </p> <pre class="example" data-language="matlab">[ x.u, x.s(2:3,2:3), x.v ] = svd ([1, 2; 3, 4]);
x

     ⇒ x =

         scalar structure containing the fields:

           u =

             -0.40455  -0.91451
             -0.91451   0.40455

           s =

              0.00000   0.00000   0.00000
              0.00000   5.46499   0.00000
              0.00000   0.00000   0.36597

           v =

             -0.57605   0.81742
             -0.81742  -0.57605</pre> <p>It is also possible to cycle through all the elements of a structure in a loop, using a special form of the <code>for</code> statement (see <a href="looping-over-structure-elements.html">Looping Over Structure Elements</a>). </p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v8.1.0/Basic-Usage-and-Examples.html" class="_attribution-link">https://docs.octave.org/v8.1.0/Basic-Usage-and-Examples.html</a>
  </p>
</div>
