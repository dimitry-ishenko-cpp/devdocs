<div class="chapter" id="Evaluation">   <h1 class="chapter">9 Evaluation</h1> <p>Normally, you evaluate expressions simply by typing them at the Octave prompt, or by asking Octave to interpret commands that you have saved in a file. </p> <p>Sometimes, you may find it necessary to evaluate an expression that has been computed and stored in a string, which is exactly what the <code>eval</code> function lets you do. </p> <dl class="def"> <dt id="index-eval">
<span class="category">: </span><span> <strong>eval</strong> <em>(<var>try</var>)</em><a href="#index-eval" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-eval-1">
<span class="category">: </span><span> <strong>eval</strong> <em>(<var>try</var>, <var>catch</var>)</em><a href="#index-eval-1" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Parse the string <var>try</var> and evaluate it as if it were an Octave program. </p> <p>If execution fails, evaluate the optional string <var>catch</var>. </p> <p>The string <var>try</var> is evaluated in the current context, so any results remain available after <code>eval</code> returns. </p> <p>The following example creates the variable <var>A</var> with the approximate value of 3.1416 in the current workspace. </p> <pre class="example" data-language="matlab">eval ("A = acos(-1);");</pre> <p>If an error occurs during the evaluation of <var>try</var> then the <var>catch</var> string is evaluated, as the following example shows: </p> <pre class="example" data-language="matlab">eval ('error ("This is a bad example");',
      'printf ("This error occurred:\n%s\n", lasterr ());');
     -| This error occurred:
        This is a bad example</pre> <p>Programming Note: if you are only using <code>eval</code> as an error-capturing mechanism, rather than for the execution of arbitrary code strings, Consider using try/catch blocks or unwind_protect/unwind_protect_cleanup blocks instead. These techniques have higher performance and don’t introduce the security considerations that the evaluation of arbitrary code does. </p> <p><strong>See also:</strong> <a href="evaluation-in-a-different-context.html#XREFevalin">evalin</a>, <a href="#XREFevalc">evalc</a>, <a href="evaluation-in-a-different-context.html#XREFassignin">assignin</a>, <a href="calling-a-function-by-its-name.html#XREFfeval">feval</a>. </p>
</dd>
</dl> <p>The <code>evalc</code> function additionally captures any console output produced by the evaluated expression. </p> <dl class="def"> <dt id="index-evalc">
<span class="category">: </span><span><em><var>s</var> =</em> <strong>evalc</strong> <em>(<var>try</var>)</em><a href="#index-evalc" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-evalc-1">
<span class="category">: </span><span><em><var>s</var> =</em> <strong>evalc</strong> <em>(<var>try</var>, <var>catch</var>)</em><a href="#index-evalc-1" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Parse and evaluate the string <var>try</var> as if it were an Octave program, while capturing the output into the return variable <var>s</var>. </p> <p>If execution fails, evaluate the optional string <var>catch</var>. </p> <p>This function behaves like <code>eval</code>, but any output or warning messages which would normally be written to the console are captured and returned in the string <var>s</var>. </p> <p>The <code>diary</code> is disabled during the execution of this function. When <code>system</code> is used, any output produced by external programs is <em>not</em> captured, unless their output is captured by the <code>system</code> function itself. </p> <pre class="example" data-language="matlab">s = evalc ("t = 42"), t
  ⇒ s = t =  42

  ⇒ t =  42</pre> <p><strong>See also:</strong> <a href="#XREFeval">eval</a>, <a href="diary-and-echo-commands.html#XREFdiary">diary</a>. </p>
</dd>
</dl> <ul class="section-toc"> <li><a href="calling-a-function-by-its-name.html" accesskey="1">Calling a Function by its Name</a></li> <li><a href="evaluation-in-a-different-context.html" accesskey="2">Evaluation in a Different Context</a></li> </ul> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v8.1.0/Evaluation.html" class="_attribution-link">https://docs.octave.org/v8.1.0/Evaluation.html</a>
  </p>
</div>
