<div class="subsection" id="Validating-the-type-of-Arguments">   <h1 class="subsection">11.9.2 Validating the type of Arguments</h1> <p>Besides the number of arguments, inputs can be checked for various properties. <code>validatestring</code> is used for string arguments and <code>validateattributes</code> for numeric arguments. </p> <dl class="def"> <dt id="index-validatestring">
<span class="category">: </span><span><em><var>validstr</var> =</em> <strong>validatestring</strong> <em>(<var>str</var>, <var>strarray</var>)</em><a href="#index-validatestring" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-validatestring-1">
<span class="category">: </span><span><em><var>validstr</var> =</em> <strong>validatestring</strong> <em>(<var>str</var>, <var>strarray</var>, <var>funcname</var>)</em><a href="#index-validatestring-1" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-validatestring-2">
<span class="category">: </span><span><em><var>validstr</var> =</em> <strong>validatestring</strong> <em>(<var>str</var>, <var>strarray</var>, <var>funcname</var>, <var>varname</var>)</em><a href="#index-validatestring-2" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-validatestring-3">
<span class="category">: </span><span><em><var>validstr</var> =</em> <strong>validatestring</strong> <em>(…, <var>position</var>)</em><a href="#index-validatestring-3" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Verify that <var>str</var> is an element, or substring of an element, in <var>strarray</var>. </p> <p>When <var>str</var> is a character string to be tested, and <var>strarray</var> is a cell array of strings of valid values, then <var>validstr</var> will be the validated form of <var>str</var> where validation is defined as <var>str</var> being a member or substring of <var>validstr</var>. This is useful for both verifying and expanding short options, such as <code>"r"</code>, to their longer forms, such as <code>"red"</code>. If <var>str</var> is a substring of <var>validstr</var>, and there are multiple matches, the shortest match will be returned if all matches are substrings of each other. Otherwise, an error will be raised because the expansion of <var>str</var> is ambiguous. All comparisons are case insensitive. </p> <p>The additional inputs <var>funcname</var>, <var>varname</var>, and <var>position</var> are optional and will make any generated validation error message more specific. </p> <p>Examples: </p> <pre class="example" data-language="matlab">validatestring ("r", {"red", "green", "blue"})
⇒ "red"

validatestring ("b", {"red", "green", "blue", "black"})
⇒ error: validatestring: multiple unique matches were found for 'b':
   blue, black</pre> <p><strong>See also:</strong> <a href="searching-in-strings.html#XREFstrcmp">strcmp</a>, <a href="searching-in-strings.html#XREFstrcmpi">strcmpi</a>, <a href="#XREFvalidateattributes">validateattributes</a>, <a href="parsing-arguments.html#XREFinputParser">inputParser</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-validateattributes">
<span class="category">: </span><span> <strong>validateattributes</strong> <em>(<var>A</var>, <var>classes</var>, <var>attributes</var>)</em><a href="#index-validateattributes" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-validateattributes-1">
<span class="category">: </span><span> <strong>validateattributes</strong> <em>(<var>A</var>, <var>classes</var>, <var>attributes</var>, <var>arg_idx</var>)</em><a href="#index-validateattributes-1" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-validateattributes-2">
<span class="category">: </span><span> <strong>validateattributes</strong> <em>(<var>A</var>, <var>classes</var>, <var>attributes</var>, <var>func_name</var>)</em><a href="#index-validateattributes-2" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-validateattributes-3">
<span class="category">: </span><span> <strong>validateattributes</strong> <em>(<var>A</var>, <var>classes</var>, <var>attributes</var>, <var>func_name</var>, <var>arg_name</var>)</em><a href="#index-validateattributes-3" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-validateattributes-4">
<span class="category">: </span><span> <strong>validateattributes</strong> <em>(<var>A</var>, <var>classes</var>, <var>attributes</var>, <var>func_name</var>, <var>arg_name</var>, <var>arg_idx</var>)</em><a href="#index-validateattributes-4" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Check validity of input argument. </p> <p>Confirms that the argument <var>A</var> is valid by belonging to one of <var>classes</var>, and holding all of the <var>attributes</var>. If it does not, an error is thrown, with a message formatted accordingly. The error message can be made further complete by the function name <var>fun_name</var>, the argument name <var>arg_name</var>, and its position in the input <var>arg_idx</var>. </p> <p><var>classes</var> must be a cell array of strings (an empty cell array is allowed) with the name of classes (remember that a class name is case sensitive). In addition to the class name, the following categories names are also valid: </p> <dl compact> <dt><span><code>"float"</code></span></dt> <dd>
<p>Floating point value comprising classes <code>"double"</code> and <code>"single"</code>. </p> </dd> <dt><span><code>"integer"</code></span></dt> <dd>
<p>Integer value comprising classes (u)int8, (u)int16, (u)int32, (u)int64. </p> </dd> <dt><span><code>"numeric"</code></span></dt> <dd>
<p>Numeric value comprising either a floating point or integer value. </p> </dd> </dl> <p><var>attributes</var> must be a cell array with names of checks for <var>A</var>. Some of them require an additional value to be supplied right after the name (see details for each below). </p> <dl compact> <dt><span><code>"&lt;="</code></span></dt> <dd>
<p>All values are less than or equal to the following value in <var>attributes</var>. </p> </dd> <dt><span><code>"&lt;"</code></span></dt> <dd>
<p>All values are less than the following value in <var>attributes</var>. </p> </dd> <dt><span><code>"&gt;="</code></span></dt> <dd>
<p>All values are greater than or equal to the following value in <var>attributes</var>. </p> </dd> <dt><span><code>"&gt;"</code></span></dt> <dd>
<p>All values are greater than the following value in <var>attributes</var>. </p> </dd> <dt><span><code>"2d"</code></span></dt> <dd>
<p>A 2-dimensional matrix. Note that vectors and empty matrices have 2 dimensions, one of them being of length 1, or both length 0. </p> </dd> <dt><span><code>"3d"</code></span></dt> <dd>
<p>Has no more than 3 dimensions. A 2-dimensional matrix is a 3-D matrix whose 3rd dimension is of length 1. </p> </dd> <dt><span><code>"binary"</code></span></dt> <dd>
<p>All values are either 1 or 0. </p> </dd> <dt><span><code>"column"</code></span></dt> <dd>
<p>Values are arranged in a single column. </p> </dd> <dt><span><code>"decreasing"</code></span></dt> <dd>
<p>No value is <var>NaN</var>, and each is less than the preceding one. </p> </dd> <dt><span><code>"diag"</code></span></dt> <dd>
<p>Value is a diagonal matrix. </p> </dd> <dt><span><code>"even"</code></span></dt> <dd>
<p>All values are even numbers. </p> </dd> <dt><span><code>"finite"</code></span></dt> <dd>
<p>All values are finite. </p> </dd> <dt><span><code>"increasing"</code></span></dt> <dd>
<p>No value is <var>NaN</var>, and each is greater than the preceding one. </p> </dd> <dt><span><code>"integer"</code></span></dt> <dd>
<p>All values are integer. This is different than using <code>isinteger</code> which only checks its an integer type. This checks that each value in <var>A</var> is an integer value, i.e., it has no decimal part. </p> </dd> <dt><span><code>"ncols"</code></span></dt> <dd>
<p>Has exactly as many columns as the next value in <var>attributes</var>. </p> </dd> <dt><span><code>"ndims"</code></span></dt> <dd>
<p>Has exactly as many dimensions as the next value in <var>attributes</var>. </p> </dd> <dt><span><code>"nondecreasing"</code></span></dt> <dd>
<p>No value is <var>NaN</var>, and each is greater than or equal to the preceding one. </p> </dd> <dt><span><code>"nonempty"</code></span></dt> <dd>
<p>It is not empty. </p> </dd> <dt><span><code>"nonincreasing"</code></span></dt> <dd>
<p>No value is <var>NaN</var>, and each is less than or equal to the preceding one. </p> </dd> <dt><span><code>"nonnan"</code></span></dt> <dd>
<p>No value is a <code>NaN</code>. </p> </dd> <dt><span><code>"nonnegative"</code></span></dt> <dd>
<p>All values are non negative. </p> </dd> <dt><span><code>"nonsparse"</code></span></dt> <dd>
<p>It is not a sparse matrix. </p> </dd> <dt><span><code>"nonzero"</code></span></dt> <dd>
<p>No value is zero. </p> </dd> <dt><span><code>"nrows"</code></span></dt> <dd>
<p>Has exactly as many rows as the next value in <var>attributes</var>. </p> </dd> <dt><span><code>"numel"</code></span></dt> <dd>
<p>Has exactly as many elements as the next value in <var>attributes</var>. </p> </dd> <dt><span><code>"odd"</code></span></dt> <dd>
<p>All values are odd numbers. </p> </dd> <dt><span><code>"positive"</code></span></dt> <dd>
<p>All values are positive. </p> </dd> <dt><span><code>"real"</code></span></dt> <dd>
<p>It is a non-complex matrix. </p> </dd> <dt><span><code>"row"</code></span></dt> <dd>
<p>Values are arranged in a single row. </p> </dd> <dt><span><code>"scalar"</code></span></dt> <dd>
<p>It is a scalar. </p> </dd> <dt><span><code>"size"</code></span></dt> <dd>
<p>Its size has length equal to the values of the next in <var>attributes</var>. The next value must is an array with the length for each dimension. To ignore the check for a certain dimension, the value of <code>NaN</code> can be used. </p> </dd> <dt><span><code>"square"</code></span></dt> <dd>
<p>Is a square matrix. </p> </dd> <dt><span><code>"vector"</code></span></dt> <dd>
<p>Values are arranged in a single vector (column or vector). </p> </dd> </dl> <p><strong>See also:</strong> <a href="built_002din-data-types.html#XREFisa">isa</a>, <a href="#XREFvalidatestring">validatestring</a>, <a href="parsing-arguments.html#XREFinputParser">inputParser</a>. </p>
</dd>
</dl> <p>As alternatives to <code>validateattributes</code> there are several shorter convenience functions to check for individual properties. </p> <dl class="def"> <dt id="index-mustBeFinite">
<span class="category">: </span><span> <strong>mustBeFinite</strong> <em>(<var>x</var>)</em><a href="#index-mustBeFinite" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is finite. </p> <p>Raise an error if any element of the input <var>x</var> is not finite, as determined by <code>isfinite (x)</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeNonNan">mustBeNonNan</a>, <a href="finding-elements-and-checking-conditions.html#XREFisfinite">isfinite</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeGreaterThan">
<span class="category">: </span><span> <strong>mustBeGreaterThan</strong> <em>(<var>x</var>, <var>c</var>)</em><a href="#index-mustBeGreaterThan" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is greater than <var>c</var>. </p> <p>Raise an error if any element of the input <var>x</var> is not greater than <var>c</var>, as determined by <code><var>x</var> &gt; <var>c</var></code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeGreaterThanOrEqual">mustBeGreaterThanOrEqual</a>, <a href="#XREFmustBeLessThan">mustBeLessThan</a>, <a href="comparison-ops.html#XREFgt">gt</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeGreaterThanOrEqual">
<span class="category">: </span><span> <strong>mustBeGreaterThanOrEqual</strong> <em>(<var>x</var>, <var>c</var>)</em><a href="#index-mustBeGreaterThanOrEqual" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is greater than or equal to <var>c</var>. </p> <p>Raise an error if any element of the input <var>x</var> is not greater than or equal to <var>c</var>, as determined by <code><var>x</var> &gt;= <var>c</var></code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeGreaterThan">mustBeGreaterThan</a>, <a href="#XREFmustBeLessThanOrEqual">mustBeLessThanOrEqual</a>, <a href="comparison-ops.html#XREFge">ge</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeInteger">
<span class="category">: </span><span> <strong>mustBeInteger</strong> <em>(<var>x</var>)</em><a href="#index-mustBeInteger" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is integer-valued (but not necessarily integer-typed). </p> <p>Raise an error if any element of the input <var>x</var> is not a finite, real, integer-valued numeric value, as determined by various checks. </p> <p><strong>See also:</strong> <a href="#XREFmustBeNumeric">mustBeNumeric</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeLessThan">
<span class="category">: </span><span> <strong>mustBeLessThan</strong> <em>(<var>x</var>, <var>c</var>)</em><a href="#index-mustBeLessThan" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is less than <var>c</var>. </p> <p>Raise an error if any element of the input <var>x</var> is not less than <var>c</var>, as determined by <code><var>x</var> &lt; <var>c</var></code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeLessThanOrEqual">mustBeLessThanOrEqual</a>, <a href="#XREFmustBeGreaterThan">mustBeGreaterThan</a>, <a href="comparison-ops.html#XREFlt">lt</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeLessThanOrEqual">
<span class="category">: </span><span> <strong>mustBeLessThanOrEqual</strong> <em>(<var>x</var>, <var>c</var>)</em><a href="#index-mustBeLessThanOrEqual" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input is less than or equal to a given value. </p> <p>Raise an error if any element of the input <var>x</var> is not less than or equal to <var>c</var>, as determined by <code><var>x</var> &lt;= <var>c</var></code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeLessThan">mustBeLessThan</a>, <a href="#XREFmustBeGreaterThanOrEqual">mustBeGreaterThanOrEqual</a>, <a href="comparison-ops.html#XREFle">le</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeMember">
<span class="category">: </span><span> <strong>mustBeMember</strong> <em>(<var>x</var>, <var>valid</var>)</em><a href="#index-mustBeMember" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is a member of a set of given valid values. </p> <p>Raise an error if any element of the input <var>x</var> is not a member of the set <var>valid</var>, as determined by <code>ismember (<var>x</var>)</code>. </p> <p>Programming Note: char inputs may behave strangely because of the interaction between chars and cellstrings when calling <code>ismember</code> on them. But it will probably "do what you mean" if you just use it naturally. To guarantee operation, convert all char arrays to cellstrings with <code>cellstr</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeNonempty">mustBeNonempty</a>, <a href="set-operations.html#XREFismember">ismember</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeNegative">
<span class="category">: </span><span> <strong>mustBeNegative</strong> <em>(<var>x</var>)</em><a href="#index-mustBeNegative" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is negative. </p> <p>Raise an error if any element of the input <var>x</var> is not negative, as determined by <code><var>x</var> &lt; 0</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeNonnegative">mustBeNonnegative</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeNonempty">
<span class="category">: </span><span> <strong>mustBeNonempty</strong> <em>(<var>x</var>)</em><a href="#index-mustBeNonempty" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is nonempty. </p> <p>Raise an error if the input <var>x</var> is empty, as determined by <code>isempty (<var>x</var>)</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeMember">mustBeMember</a>, <a href="#XREFmustBeNonzero">mustBeNonzero</a>, <a href="object-sizes.html#XREFisempty">isempty</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeNonNan">
<span class="category">: </span><span> <strong>mustBeNonNan</strong> <em>(<var>x</var>)</em><a href="#index-mustBeNonNan" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is non-<code>NaN</code>. </p> <p>Raise an error if any element of the input <var>x</var> is <code>NaN</code>, as determined by <code>isnan (<var>x</var>)</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeFinite">mustBeFinite</a>, <a href="#XREFmustBeNonempty">mustBeNonempty</a>, <a href="finding-elements-and-checking-conditions.html#XREFisnan">isnan</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeNonnegative">
<span class="category">: </span><span> <strong>mustBeNonnegative</strong> <em>(<var>x</var>)</em><a href="#index-mustBeNonnegative" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is not negative. </p> <p>Raise an error if any element of the input <var>x</var> is negative, as determined by <code><var>x</var> &gt;= 0</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeNonzero">mustBeNonzero</a>, <a href="#XREFmustBePositive">mustBePositive</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeNonpositive">
<span class="category">: </span><span> <strong>mustBeNonpositive</strong> <em>(<var>x</var>)</em><a href="#index-mustBeNonpositive" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is not positive. </p> <p>Raise an error if any element of the input <var>x</var> is positive, as determined by <code><var>x</var> &lt;= 0</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeNegative">mustBeNegative</a>, <a href="#XREFmustBeNonzero">mustBeNonzero</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeNonsparse">
<span class="category">: </span><span> <strong>mustBeNonsparse</strong> <em>(<var>x</var>)</em><a href="#index-mustBeNonsparse" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is not sparse. </p> <p>Raise an error if the input <var>x</var> is sparse, as determined by <code>issparse (<var>x</var>)</code>. </p> <p><strong>See also:</strong> <a href="information.html#XREFissparse">issparse</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeNonzero">
<span class="category">: </span><span> <strong>mustBeNonzero</strong> <em>(<var>x</var>)</em><a href="#index-mustBeNonzero" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is not zero. </p> <p>Raise an error if any element of the input <var>x</var> is zero, as determined by <code><var>x</var> == 0</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeNonnegative">mustBeNonnegative</a>, <a href="#XREFmustBePositive">mustBePositive</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeNumeric">
<span class="category">: </span><span> <strong>mustBeNumeric</strong> <em>(<var>x</var>)</em><a href="#index-mustBeNumeric" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is numeric. </p> <p>Raise an error if the input <var>x</var> is not numeric, as determined by <code>isnumeric (<var>x</var>)</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeNumericOrLogical">mustBeNumericOrLogical</a>, <a href="predicates-for-numeric-objects.html#XREFisnumeric">isnumeric</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeNumericOrLogical">
<span class="category">: </span><span> <strong>mustBeNumericOrLogical</strong> <em>(<var>x</var>)</em><a href="#index-mustBeNumericOrLogical" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is numeric or logical. </p> <p>Raise an error if the input <var>x</var> is not numeric or logical, as determined by <code>isnumeric (<var>x</var>) || islogical (<var>x</var>)</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeNumeric">mustBeNumeric</a>, <a href="predicates-for-numeric-objects.html#XREFisnumeric">isnumeric</a>, <a href="predicates-for-numeric-objects.html#XREFislogical">islogical</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBePositive">
<span class="category">: </span><span> <strong>mustBePositive</strong> <em>(<var>x</var>)</em><a href="#index-mustBePositive" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is positive. </p> <p>Raise an error if any element of the input <var>x</var> is not positive, as determined by <code><var>x</var> &gt; 0</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeNonnegative">mustBeNonnegative</a>, <a href="#XREFmustBeNonzero">mustBeNonzero</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-mustBeReal">
<span class="category">: </span><span> <strong>mustBeReal</strong> <em>(<var>x</var>)</em><a href="#index-mustBeReal" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Require that input <var>x</var> is real. </p> <p>Raise an error if the input <var>x</var> is not real, as determined by <code>isreal (<var>x</var>)</code>. </p> <p><strong>See also:</strong> <a href="#XREFmustBeFinite">mustBeFinite</a>, <a href="#XREFmustBeNonNan">mustBeNonNan</a>, <a href="predicates-for-numeric-objects.html#XREFisreal">isreal</a>. </p>
</dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v8.1.0/Validating-the-type-of-Arguments.html" class="_attribution-link">https://docs.octave.org/v8.1.0/Validating-the-type-of-Arguments.html</a>
  </p>
</div>
