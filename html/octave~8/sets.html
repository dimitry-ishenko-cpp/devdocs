<div class="chapter" id="Sets">   <h1 class="chapter">27 Sets</h1> <p>Octave has a number of functions for managing sets of data. A set is defined as a collection of unique elements and is typically represented by a vector of numbers sorted in ascending order. Any vector or matrix can be converted to a set by removing duplicates through the use of the <code>unique</code> function. However, it isn’t necessary to explicitly create a set as all of the functions which operate on sets will convert their input to a set before proceeding. </p> <dl class="def"> <dt id="index-unique">
<span class="category">: </span><span><em><var>y</var> =</em> <strong>unique</strong> <em>(<var>x</var>)</em><a href="#index-unique" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-unique-1">
<span class="category">: </span><span><em><var>y</var> =</em> <strong>unique</strong> <em>(<var>x</var>, "rows")</em><a href="#index-unique-1" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-unique-2">
<span class="category">: </span><span><em><var>y</var> =</em> <strong>unique</strong> <em>(…, "sorted")</em><a href="#index-unique-2" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-unique-3">
<span class="category">: </span><span><em><var>y</var> =</em> <strong>unique</strong> <em>(…, "stable")</em><a href="#index-unique-3" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-unique-4">
<span class="category">: </span><span><em>[<var>y</var>, <var>i</var>, <var>j</var>] =</em> <strong>unique</strong> <em>(…)</em><a href="#index-unique-4" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-unique-5">
<span class="category">: </span><span><em>[<var>y</var>, <var>i</var>, <var>j</var>] =</em> <strong>unique</strong> <em>(…, "first")</em><a href="#index-unique-5" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-unique-6">
<span class="category">: </span><span><em>[<var>y</var>, <var>i</var>, <var>j</var>] =</em> <strong>unique</strong> <em>(…, "last")</em><a href="#index-unique-6" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-unique-7">
<span class="category">: </span><span><em>[<var>y</var>, <var>i</var>, <var>j</var>] =</em> <strong>unique</strong> <em>(…, "legacy")</em><a href="#index-unique-7" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Return the unique elements of <var>x</var>. </p> <p>If the input <var>x</var> is a column vector then return a column vector; Otherwise, return a row vector. <var>x</var> may also be a cell array of strings. </p> <p>If the optional argument <code>"rows"</code> is given then return the unique rows of <var>x</var>. The input must be a 2-D numeric matrix to use this option. </p> <p>The optional argument <code>"sorted"</code>/<code>"stable"</code> controls the order in which unique values appear in the output. The default is <code>"sorted"</code> and values in the output are placed in ascending order. The alternative <code>"stable"</code> preserves the order found in the input <var>x</var>. </p> <p>If requested, return column index vectors <var>i</var> and <var>j</var> such that <code><var>y</var> = <var>x</var>(<var>i</var>)</code> and <code><var>x</var> = <var>y</var>(<var>j</var>)</code>. </p> <p>Additionally, if <var>i</var> is a requested output then one of the flags <code>"first"</code> or <code>"last"</code> may be given. If <code>"last"</code> is specified, return the highest possible indices in <var>i</var>, otherwise, if <code>"first"</code> is specified, return the lowest. The default is <code>"first"</code>. </p> <p>Example 1 : sort order </p> <pre class="example" data-language="matlab">unique ([3, 1, 1, 2])
⇒ [1, 2, 3]
unique ([3, 1, 1, 2], "stable")
⇒ [3, 1, 2]</pre> <p>Example 2 : index selection </p> <pre class="example" data-language="matlab">[~, i] = unique ([3, 1, 1, 2], "first")
⇒ i = [2; 4; 1]
[~, i] = unique ([3, 1, 1, 2], "last")
⇒ i = [3; 4; 1]</pre> <p>Programming Notes: The input flag <code>"legacy"</code> changes the algorithm to be compatible with <small>MATLAB</small> releases prior to R2012b. Specifically, The index ordering flag is changed to <code>"last"</code>, and the shape of the outputs <var>i</var>, <var>j</var> will follow the shape of the input <var>x</var> rather than always being column vectors. </p> <p>The third output, <var>j</var>, has not been implemented yet when the sort order is <code>"stable"</code>. </p> <p><strong>See also:</strong> <a href="set-operations.html#XREFunion">union</a>, <a href="set-operations.html#XREFintersect">intersect</a>, <a href="set-operations.html#XREFsetdiff">setdiff</a>, <a href="set-operations.html#XREFsetxor">setxor</a>, <a href="set-operations.html#XREFismember">ismember</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-uniquetol">
<span class="category">: </span><span><em><var>c</var> =</em> <strong>uniquetol</strong> <em>(<var>A</var>)</em><a href="#index-uniquetol" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-uniquetol-1">
<span class="category">: </span><span><em><var>c</var> =</em> <strong>uniquetol</strong> <em>(<var>A</var>, <var>tol</var>)</em><a href="#index-uniquetol-1" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-uniquetol-2">
<span class="category">: </span><span><em><var>c</var> =</em> <strong>uniquetol</strong> <em>(…, <var>property</var>, <var>value</var>)</em><a href="#index-uniquetol-2" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-uniquetol-3">
<span class="category">: </span><span><em>[<var>c</var>, <var>ia</var>, <var>ic</var>] =</em> <strong>uniquetol</strong> <em>(…)</em><a href="#index-uniquetol-3" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Return the unique elements of <var>A</var> within tolerance <var>tol</var>. </p> <p>Two values, <var>x</var> and <var>y</var>, are within relative tolerance if <code>abs (<var>x</var> - <var>y</var>) &lt;= <var>tol</var> * max (abs (<var>A</var>(:)))</code>. </p> <p>The input <var>A</var> must be a real (non-complex) floating point type (double or single). </p> <p>If <var>tol</var> is unspecified, the default tolerance is 1e-12 for double precision input or 1e-6 for single precision input. </p> <p>The function may also be called with the following optional property/value pairs. Property/value pairs must be passed after other input arguments: </p> <dl compact> <dt><span><code>"ByRows"</code> (default: <code>false</code>)</span></dt> <dd>
<p>When true, return the unique rows of <var>A</var>. <var>A</var> must be a 2-D array to use this option. For rows, the criteria for uniqueness is changed to <code>all (abs (<var>x</var> - <var>y</var>) &lt;= <var>tol</var>*max (abs (<var>A</var>),[],1))</code> which compares each column component of a row against a column-specific tolerance. </p> </dd> <dt><span><code>"DataScale"</code></span></dt> <dd>
<p>The tolerance test is changed to <code>abs (<var>x</var> - <var>y</var>) &lt;= <var>tol</var>*<var>DS</var></code> where <var>DS</var> is a scalar unless the property <code>"ByRows"</code> is true. In that case, <var>DS</var> can either be a scalar or a vector with a length equal to the number of columns in <var>A</var>. Using a value of <code>1.0</code> for <var>DS</var> will change the tolerance from a relative one to an absolute tolerance. Using a value of <code>Inf</code> will disable testing. </p> </dd> <dt><span><code>"OutputAllIndices"</code> (default: <code>false</code>)</span></dt> <dd><p>When true, <var>ia</var> is a cell array (not a vector) that contains the indices for <em>all</em> elements in <var>A</var> that are within tolerance of a value in <var>C</var>. That is, each cell in <var>ia</var> corresponds to a single unique value in <var>C</var>, and the values in each cell correspond to locations in <var>A</var>. </p></dd> </dl> <p>The output <var>c</var> is a row vector if the input <var>A</var> is a row vector. For all other cases, a column vector is returned. </p> <p>The optional output <var>ia</var> is a column index vector such that <code><var>c</var> = <var>A</var>(<var>ia</var>)</code>. If the <code>"ByRows"</code> property is true, the condition is <code><var>c</var> = <var>A</var>(<var>ia</var>, :)</code>. If the <code>"OutputAllIndices"</code> property is true, then the values <code><var>A</var>(<var>ia</var>{<var>i</var>})</code> are all within tolerance of the unique value <code><var>c</var>(<var>i</var>)</code>. </p> <p>The optional output <var>ic</var> is a column index vector such that <code><var>A</var> = <var>c</var>(<var>ic</var>)</code> when <var>A</var> is a vector. When <var>A</var> is a matrix, <code><var>A</var>(:) = <var>c</var>(<var>ic</var>)</code>. If the <code>"ByRows"</code> property is true then <code><var>A</var> = <var>c</var>(<var>ic</var>,:)</code>. </p> <p>Example: small round-off errors require <code>uniquetol</code>, not <code>unique</code> </p> <pre class="example" data-language="matlab">x = [1:5];
## Inverse_Function (Function (x)) should return exactly x
y = exp (log (x));
D = unique ([x, y])
⇒ [1   2   3   3   4   5   5]
C = uniquetol ([x, y])
⇒ [1   2   3   4   5]</pre> <p><strong>See also:</strong> <a href="#XREFunique">unique</a>, <a href="set-operations.html#XREFunion">union</a>, <a href="set-operations.html#XREFintersect">intersect</a>, <a href="set-operations.html#XREFsetdiff">setdiff</a>, <a href="set-operations.html#XREFsetxor">setxor</a>, <a href="set-operations.html#XREFismember">ismember</a>. </p>
</dd>
</dl> <ul class="section-toc"> <li><a href="set-operations.html" accesskey="1">Set Operations</a></li> </ul> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v8.1.0/Sets.html" class="_attribution-link">https://docs.octave.org/v8.1.0/Sets.html</a>
  </p>
</div>
