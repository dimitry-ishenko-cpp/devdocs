<section id="s-module-django.contrib.admin"> <h1 id="the-django-admin-site">The Django admin site</h1> <p>One of the most powerful parts of Django is the automatic admin interface. It reads metadata from your models to provide a quick, model-centric interface where trusted users can manage content on your site. The admin’s recommended use is limited to an organization’s internal management tool. It’s not intended for building your entire front end around.</p> <p>The admin has many hooks for customization, but beware of trying to use those hooks exclusively. If you need to provide a more process-centric interface that abstracts away the implementation details of database tables and fields, then it’s probably time to write your own views.</p> <p>In this document we discuss how to activate, use, and customize Django’s admin interface.</p> <section id="s-overview"> <h2 id="overview">Overview</h2> <p>The admin is enabled in the default project template used by <a class="reference internal" href="../../django-admin.html#django-admin-startproject"><code>startproject</code></a>.</p> <p>If you’re not using the default project template, here are the requirements:</p> <ol class="arabic simple"> <li>Add <code>'django.contrib.admin'</code> and its dependencies - <a class="reference internal" href="../../../topics/auth/index.html#module-django.contrib.auth" title="django.contrib.auth: Django's authentication framework."><code>django.contrib.auth</code></a>, <a class="reference internal" href="../contenttypes.html#module-django.contrib.contenttypes" title="django.contrib.contenttypes: Provides generic interface to installed models."><code>django.contrib.contenttypes</code></a>, <a class="reference internal" href="../messages.html#module-django.contrib.messages" title="django.contrib.messages: Provides cookie- and session-based temporary message storage."><code>django.contrib.messages</code></a>, and <a class="reference internal" href="../../../topics/http/sessions.html#module-django.contrib.sessions" title="django.contrib.sessions: Provides session management for Django projects."><code>django.contrib.sessions</code></a> - to your <a class="reference internal" href="../../settings.html#std-setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a> setting.</li> <li>Configure a <a class="reference internal" href="../../../topics/templates.html#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><code>DjangoTemplates</code></a> backend in your <a class="reference internal" href="../../settings.html#std-setting-TEMPLATES"><code>TEMPLATES</code></a> setting with <code>django.template.context_processors.request</code>, <code>django.contrib.auth.context_processors.auth</code>, and <code>django.contrib.messages.context_processors.messages</code> in the <code>'context_processors'</code> option of <a class="reference internal" href="../../settings.html#std-setting-TEMPLATES-OPTIONS"><code>OPTIONS</code></a>.</li> <li>If you’ve customized the <a class="reference internal" href="../../settings.html#std-setting-MIDDLEWARE"><code>MIDDLEWARE</code></a> setting, <a class="reference internal" href="../../middleware.html#django.contrib.sessions.middleware.SessionMiddleware" title="django.contrib.sessions.middleware.SessionMiddleware"><code>django.contrib.sessions.middleware.SessionMiddleware</code></a>, <a class="reference internal" href="../../middleware.html#django.contrib.auth.middleware.AuthenticationMiddleware" title="django.contrib.auth.middleware.AuthenticationMiddleware"><code>django.contrib.auth.middleware.AuthenticationMiddleware</code></a>, and <a class="reference internal" href="../../middleware.html#django.contrib.messages.middleware.MessageMiddleware" title="django.contrib.messages.middleware.MessageMiddleware"><code>django.contrib.messages.middleware.MessageMiddleware</code></a> must be included.</li> <li>
<a class="reference internal" href="#hooking-adminsite-to-urlconf"><span class="std std-ref">Hook the admin’s URLs into your URLconf</span></a>.</li> </ol> <p>After you’ve taken these steps, you’ll be able to use the admin site by visiting the URL you hooked it into (<code>/admin/</code>, by default).</p> <p>If you need to create a user to login with, use the <a class="reference internal" href="../../django-admin.html#django-admin-createsuperuser"><code>createsuperuser</code></a> command. By default, logging in to the admin requires that the user has the <a class="reference internal" href="../auth.html#django.contrib.auth.models.User.is_staff" title="django.contrib.auth.models.User.is_staff"><code>is_staff</code></a> attribute set to <code>True</code>.</p> <p>Finally, determine which of your application’s models should be editable in the admin interface. For each of those models, register them with the admin as described in <a class="reference internal" href="#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><code>ModelAdmin</code></a>.</p> <section id="s-other-topics"> <h3 id="other-topics">Other topics</h3>  <ul> <li class="toctree-l1"><a class="reference internal" href="actions.html">Admin actions</a></li> <li class="toctree-l1"><a class="reference internal" href="filters.html"><code>ModelAdmin</code> List Filters</a></li> <li class="toctree-l1"><a class="reference internal" href="admindocs.html">The Django admin documentation generator</a></li> <li class="toctree-l1"><a class="reference internal" href="javascript.html">JavaScript customizations in the admin</a></li> </ul>  <div class="admonition seealso"> <p class="admonition-title">See also</p> <p>For information about serving the static files (images, JavaScript, and CSS) associated with the admin in production, see <a class="reference internal" href="../../../howto/deployment/wsgi/modwsgi.html#serving-files"><span class="std std-ref">Serving files</span></a>.</p> <p>Having problems? Try <a class="reference internal" href="https://docs.djangoproject.com/en/5.2/faq/admin/"><span class="doc">FAQ: The admin</span></a>.</p> </div> </section> </section> <section id="s-modeladmin-objects"> <h2 id="modeladmin-objects">
<code>ModelAdmin</code> objects</h2> <dl class="py class"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin">
<code>class ModelAdmin</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L644"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>ModelAdmin</code> class is the representation of a model in the admin interface. Usually, these are stored in a file named <code>admin.py</code> in your application. Let’s take a look at an example of the <code>ModelAdmin</code>:</p> <pre data-language="python">from django.contrib import admin
from myapp.models import Author


class AuthorAdmin(admin.ModelAdmin):
    pass


admin.site.register(Author, AuthorAdmin)
</pre> <div class="admonition-do-you-need-a-modeladmin-object-at-all admonition"> <p class="admonition-title">Do you need a <code>ModelAdmin</code> object at all?</p> <p>In the preceding example, the <code>ModelAdmin</code> class doesn’t define any custom values (yet). As a result, the default admin interface will be provided. If you are happy with the default admin interface, you don’t need to define a <code>ModelAdmin</code> object at all – you can register the model class without providing a <code>ModelAdmin</code> description. The preceding example could be simplified to:</p> <pre data-language="python">from django.contrib import admin
from myapp.models import Author

admin.site.register(Author)
</pre> </div> </dd>
</dl> <section id="s-the-register-decorator"> <h3 id="the-register-decorator">The <code>register</code> decorator</h3> <dl class="py function"> <dt class="sig sig-object py" id="django.contrib.admin.register">
<code>register(*models, site=django.contrib.admin.sites.site)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/decorators.py#L80"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>There is also a decorator for registering your <code>ModelAdmin</code> classes:</p> <pre data-language="python">from django.contrib import admin
from .models import Author


@admin.register(Author)
class AuthorAdmin(admin.ModelAdmin):
    pass
</pre> <p>It’s given one or more model classes to register with the <code>ModelAdmin</code>. If you’re using a custom <a class="reference internal" href="#django.contrib.admin.AdminSite" title="django.contrib.admin.AdminSite"><code>AdminSite</code></a>, pass it using the <code>site</code> keyword argument:</p> <pre data-language="python">from django.contrib import admin
from .models import Author, Editor, Reader
from myproject.admin_site import custom_admin_site


@admin.register(Author, Reader, Editor, site=custom_admin_site)
class PersonAdmin(admin.ModelAdmin):
    pass
</pre> <p>You can’t use this decorator if you have to reference your model admin class in its <code>__init__()</code> method, e.g. <code>super(PersonAdmin, self).__init__(*args, **kwargs)</code>. You can use <code>super().__init__(*args, **kwargs)</code>.</p> </dd>
</dl> </section> <section id="s-discovery-of-admin-files"> <h3 id="discovery-of-admin-files">Discovery of admin files</h3> <p>When you put <code>'django.contrib.admin'</code> in your <a class="reference internal" href="../../settings.html#std-setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a> setting, Django automatically looks for an <code>admin</code> module in each application and imports it.</p> <dl class="py class"> <dt class="sig sig-object py" id="django.contrib.admin.apps.AdminConfig">
<code>class apps.AdminConfig</code> </dt> <dd>
<p>This is the default <a class="reference internal" href="../../applications.html#django.apps.AppConfig" title="django.apps.AppConfig"><code>AppConfig</code></a> class for the admin. It calls <a class="reference internal" href="#django.contrib.admin.autodiscover" title="django.contrib.admin.autodiscover"><code>autodiscover()</code></a> when Django starts.</p> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="django.contrib.admin.apps.SimpleAdminConfig">
<code>class apps.SimpleAdminConfig</code> </dt> <dd>
<p>This class works like <a class="reference internal" href="#django.contrib.admin.apps.AdminConfig" title="django.contrib.admin.apps.AdminConfig"><code>AdminConfig</code></a>, except it doesn’t call <a class="reference internal" href="#django.contrib.admin.autodiscover" title="django.contrib.admin.autodiscover"><code>autodiscover()</code></a>.</p> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.apps.SimpleAdminConfig.default_site">
<code>default_site</code> </dt> <dd>
<p>A dotted import path to the default admin site’s class or to a callable that returns a site instance. Defaults to <code>'django.contrib.admin.sites.AdminSite'</code>. See <a class="reference internal" href="#overriding-default-admin-site"><span class="std std-ref">Overriding the default admin site</span></a> for usage.</p> </dd>
</dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="django.contrib.admin.autodiscover">
<code>autodiscover()</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/__init__.py#L51"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>This function attempts to import an <code>admin</code> module in each installed application. Such modules are expected to register models with the admin.</p> <p>Typically you won’t need to call this function directly as <a class="reference internal" href="#django.contrib.admin.apps.AdminConfig" title="django.contrib.admin.apps.AdminConfig"><code>AdminConfig</code></a> calls it when Django starts.</p> </dd>
</dl> <p>If you are using a custom <code>AdminSite</code>, it is common to import all of the <code>ModelAdmin</code> subclasses into your code and register them to the custom <code>AdminSite</code>. In that case, in order to disable auto-discovery, you should put <code>'django.contrib.admin.apps.SimpleAdminConfig'</code> instead of <code>'django.contrib.admin'</code> in your <a class="reference internal" href="../../settings.html#std-setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a> setting.</p> </section> <section id="s-modeladmin-options"> <h3 id="modeladmin-options">
<code>ModelAdmin</code> options</h3> <p>The <code>ModelAdmin</code> is very flexible. It has several options for dealing with customizing the interface. All options are defined on the <code>ModelAdmin</code> subclass:</p> <pre data-language="python">from django.contrib import admin


class AuthorAdmin(admin.ModelAdmin):
    date_hierarchy = "pub_date"
</pre> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.actions">
<code>ModelAdmin.actions</code> </dt> <dd>
<p>A list of actions to make available on the change list page. See <a class="reference internal" href="actions.html"><span class="doc">Admin actions</span></a> for details.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.actions_on_top">
<code>ModelAdmin.actions_on_top</code> </dt> 
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.actions_on_bottom">
<code>ModelAdmin.actions_on_bottom</code> </dt> <dd>
<p>Controls where on the page the actions bar appears. By default, the admin changelist displays actions at the top of the page (<code>actions_on_top = True;
actions_on_bottom = False</code>).</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.actions_selection_counter">
<code>ModelAdmin.actions_selection_counter</code> </dt> <dd>
<p>Controls whether a selection counter is displayed next to the action dropdown. By default, the admin changelist will display it (<code>actions_selection_counter = True</code>).</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.date_hierarchy">
<code>ModelAdmin.date_hierarchy</code> </dt> <dd>
<p>Set <code>date_hierarchy</code> to the name of a <code>DateField</code> or <code>DateTimeField</code> in your model, and the change list page will include a date-based drilldown navigation by that field.</p> <p>Example:</p> <pre data-language="python">date_hierarchy = "pub_date"
</pre> <p>You can also specify a field on a related model using the <code>__</code> lookup, for example:</p> <pre data-language="python">date_hierarchy = "author__pub_date"
</pre> <p>This will intelligently populate itself based on available data, e.g. if all the dates are in one month, it’ll show the day-level drill-down only.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p><code>date_hierarchy</code> uses <a class="reference internal" href="../../models/querysets.html#django.db.models.query.QuerySet.datetimes" title="django.db.models.query.QuerySet.datetimes"><code>QuerySet.datetimes()</code></a> internally. Please refer to its documentation for some caveats when time zone support is enabled (<a class="reference internal" href="../../settings.html#std-setting-USE_TZ"><code>USE_TZ = True</code></a>).</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.empty_value_display">
<code>ModelAdmin.empty_value_display</code> </dt> <dd>
<p>This attribute overrides the default display value for record’s fields that are empty (<code>None</code>, empty string, etc.). The default value is <code>-</code> (a dash). For example:</p> <pre data-language="python">from django.contrib import admin


class AuthorAdmin(admin.ModelAdmin):
    empty_value_display = "-empty-"
</pre> <p>You can also override <code>empty_value_display</code> for all admin pages with <a class="reference internal" href="#django.contrib.admin.AdminSite.empty_value_display" title="django.contrib.admin.AdminSite.empty_value_display"><code>AdminSite.empty_value_display</code></a>, or for specific fields like this:</p> <pre data-language="python">from django.contrib import admin


class AuthorAdmin(admin.ModelAdmin):
    list_display = ["name", "title", "view_birth_date"]

    @admin.display(empty_value="???")
    def view_birth_date(self, obj):
        return obj.birth_date
</pre> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.exclude">
<code>ModelAdmin.exclude</code> </dt> <dd>
<p>This attribute, if given, should be a list of field names to exclude from the form.</p> <p>For example, let’s consider the following model:</p> <pre data-language="python">from django.db import models


class Author(models.Model):
    name = models.CharField(max_length=100)
    title = models.CharField(max_length=3)
    birth_date = models.DateField(blank=True, null=True)
</pre> <p>If you want a form for the <code>Author</code> model that includes only the <code>name</code> and <code>title</code> fields, you would specify <code>fields</code> or <code>exclude</code> like this:</p> <pre data-language="python">from django.contrib import admin


class AuthorAdmin(admin.ModelAdmin):
    fields = ["name", "title"]


class AuthorAdmin(admin.ModelAdmin):
    exclude = ["birth_date"]
</pre> <p>Since the Author model only has three fields, <code>name</code>, <code>title</code>, and <code>birth_date</code>, the forms resulting from the above declarations will contain exactly the same fields.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.fields">
<code>ModelAdmin.fields</code> </dt> <dd>
<p>Use the <code>fields</code> option to make simple layout changes in the forms on the “add” and “change” pages such as showing only a subset of available fields, modifying their order, or grouping them into rows. For example, you could define a simpler version of the admin form for the <a class="reference internal" href="../flatpages.html#django.contrib.flatpages.models.FlatPage" title="django.contrib.flatpages.models.FlatPage"><code>django.contrib.flatpages.models.FlatPage</code></a> model as follows:</p> <pre data-language="python">class FlatPageAdmin(admin.ModelAdmin):
    fields = ["url", "title", "content"]
</pre> <p>In the above example, only the fields <code>url</code>, <code>title</code> and <code>content</code> will be displayed, sequentially, in the form. <code>fields</code> can contain values defined in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.readonly_fields" title="django.contrib.admin.ModelAdmin.readonly_fields"><code>ModelAdmin.readonly_fields</code></a> to be displayed as read-only.</p> <p>For more complex layout needs, see the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fieldsets" title="django.contrib.admin.ModelAdmin.fieldsets"><code>fieldsets</code></a> option.</p> <p>The <code>fields</code> option accepts the same types of values as <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_display" title="django.contrib.admin.ModelAdmin.list_display"><code>list_display</code></a>, except that callables and <code>__</code> lookups for related fields aren’t accepted. Names of model and model admin methods will only be used if they’re listed in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.readonly_fields" title="django.contrib.admin.ModelAdmin.readonly_fields"><code>readonly_fields</code></a>.</p> <p>To display multiple fields on the same line, wrap those fields in their own tuple. In this example, the <code>url</code> and <code>title</code> fields will display on the same line and the <code>content</code> field will be displayed below them on its own line:</p> <pre data-language="python">class FlatPageAdmin(admin.ModelAdmin):
    fields = [("url", "title"), "content"]
</pre> <div class="admonition-possible-confusion-with-the-modeladmin-fieldsets-option admonition"> <p class="admonition-title">Possible confusion with the <code>ModelAdmin.fieldsets</code> option</p> <p>This <code>fields</code> option should not be confused with the <code>fields</code> dictionary key that is within the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fieldsets" title="django.contrib.admin.ModelAdmin.fieldsets"><code>fieldsets</code></a> option, as described in the next section.</p> </div> <p>If neither <code>fields</code> nor <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fieldsets" title="django.contrib.admin.ModelAdmin.fieldsets"><code>fieldsets</code></a> options are present, Django will default to displaying each field that isn’t an <code>AutoField</code> and has <code>editable=True</code>, in a single fieldset, in the same order as the fields are defined in the model, followed by any fields defined in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.readonly_fields" title="django.contrib.admin.ModelAdmin.readonly_fields"><code>readonly_fields</code></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.fieldsets">
<code>ModelAdmin.fieldsets</code> </dt> <dd>
<p>Set <code>fieldsets</code> to control the layout of admin “add” and “change” pages.</p> <p><code>fieldsets</code> is a list of 2-tuples, in which each 2-tuple represents a <code>&lt;fieldset&gt;</code> on the admin form page. (A <code>&lt;fieldset&gt;</code> is a “section” of the form.)</p> <p>The 2-tuples are in the format <code>(name, field_options)</code>, where <code>name</code> is a string representing the title of the fieldset and <code>field_options</code> is a dictionary of information about the fieldset, including a list of fields to be displayed in it.</p> <p>A full example, taken from the <a class="reference internal" href="../flatpages.html#django.contrib.flatpages.models.FlatPage" title="django.contrib.flatpages.models.FlatPage"><code>django.contrib.flatpages.models.FlatPage</code></a> model:</p> <pre data-language="python">from django.contrib import admin


class FlatPageAdmin(admin.ModelAdmin):
    fieldsets = [
        (
            None,
            {
                "fields": ["url", "title", "content", "sites"],
            },
        ),
        (
            "Advanced options",
            {
                "classes": ["collapse"],
                "fields": ["registration_required", "template_name"],
            },
        ),
    ]
</pre> <p>This results in an admin page that looks like:</p> <img alt="../../../_images/fieldsets.png" src="data:image/png;base64,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"> <p>If neither <code>fieldsets</code> nor <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fields" title="django.contrib.admin.ModelAdmin.fields"><code>fields</code></a> options are present, Django will default to displaying each field that isn’t an <code>AutoField</code> and has <code>editable=True</code>, in a single fieldset, in the same order as the fields are defined in the model.</p> <p>The <code>field_options</code> dictionary can have the following keys:</p> <ul> <li>
<dl> <dt>
<code>fields</code> </dt>
<dd>
<p>A list or tuple of field names to display in this fieldset. This key is required.</p> <p>Example:</p> <pre data-language="python">{
    "fields": ["first_name", "last_name", "address", "city", "state"],
}
</pre> <p>As with the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fields" title="django.contrib.admin.ModelAdmin.fields"><code>fields</code></a> option, to display multiple fields on the same line, wrap those fields in their own tuple. In this example, the <code>first_name</code> and <code>last_name</code> fields will display on the same line:</p> <pre data-language="python">{
    "fields": [("first_name", "last_name"), "address", "city", "state"],
}
</pre> <p><code>fields</code> can contain values defined in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.readonly_fields" title="django.contrib.admin.ModelAdmin.readonly_fields"><code>readonly_fields</code></a> to be displayed as read-only.</p> <p>If you add the name of a callable to <code>fields</code>, the same rule applies as with the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fields" title="django.contrib.admin.ModelAdmin.fields"><code>fields</code></a> option: the callable must be listed in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.readonly_fields" title="django.contrib.admin.ModelAdmin.readonly_fields"><code>readonly_fields</code></a>.</p> </dd> </dl> </li> <li>
<dl> <dt>
<code>classes</code> </dt>
<dd>
<p>A list or tuple containing extra CSS classes to apply to the fieldset. This can include any custom CSS class defined in the project, as well as any of the CSS classes provided by Django. Within the default admin site CSS stylesheet, two particularly useful classes are defined: <code>collapse</code> and <code>wide</code>.</p> <p>Example:</p> <pre data-language="python">{
    "classes": ["wide", "collapse"],
}
</pre> <p>Fieldsets with the <code>wide</code> style will be given extra horizontal space in the admin interface. Fieldsets with a name and the <code>collapse</code> style will be initially collapsed, using an expandable widget with a toggle for switching their visibility.</p> <div class="versionchanged"> <span class="title">Changed in Django 5.1:</span> <p><code>fieldsets</code> using the <code>collapse</code> class now use <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements, provided they define a <code>name</code>.</p> </div> </dd> </dl> </li> <li>
<dl> <dt>
<code>description</code> </dt>
<dd>
<p>A string of optional extra text to be displayed at the top of each fieldset, under the heading of the fieldset.</p> <p>Note that this value is <em>not</em> HTML-escaped when it’s displayed in the admin interface. This lets you include HTML if you so desire. Alternatively you can use plain text and <a class="reference internal" href="../../utils.html#django.utils.html.escape" title="django.utils.html.escape"><code>django.utils.html.escape()</code></a> to escape any HTML special characters.</p> </dd> </dl> </li> </ul> <div class="admonition-class-django-contrib-admin-tabularinline-has-limited-support-for-fieldsets admonition"> <p class="admonition-title"><a class="reference internal" href="#django.contrib.admin.TabularInline" title="django.contrib.admin.TabularInline"><code>TabularInline</code></a> has limited support for <code>fieldsets</code></p> <p>Using <code>fieldsets</code> with <a class="reference internal" href="#django.contrib.admin.TabularInline" title="django.contrib.admin.TabularInline"><code>TabularInline</code></a> has limited functionality. You can specify which fields will be displayed and their order within the <code>TabularInline</code> layout by defining <code>fields</code> in the <code>field_options</code> dictionary.</p> <p>All other features are not supported. This includes the use of <code>name</code> to define a title for a group of fields.</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.filter_horizontal">
<code>ModelAdmin.filter_horizontal</code> </dt> <dd>
<p>By default, a <a class="reference internal" href="../../models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> is displayed in the admin site with a <code>&lt;select multiple&gt;</code>. However, multiple-select boxes can be difficult to use when selecting many items. Adding a <a class="reference internal" href="../../models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a> to this list will instead use a nifty unobtrusive JavaScript “filter” interface that allows searching within the options. The unselected and selected options appear in two boxes side by side. See <a class="reference internal" href="#django.contrib.admin.ModelAdmin.filter_vertical" title="django.contrib.admin.ModelAdmin.filter_vertical"><code>filter_vertical</code></a> to use a vertical interface.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.filter_vertical">
<code>ModelAdmin.filter_vertical</code> </dt> <dd>
<p>Same as <a class="reference internal" href="#django.contrib.admin.ModelAdmin.filter_horizontal" title="django.contrib.admin.ModelAdmin.filter_horizontal"><code>filter_horizontal</code></a>, but uses a vertical display of the filter interface with the box of unselected options appearing above the box of selected options.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.form">
<code>ModelAdmin.form</code> </dt> <dd>
<p>By default a <code>ModelForm</code> is dynamically created for your model. It is used to create the form presented on both the add/change pages. You can easily provide your own <code>ModelForm</code> to override any default form behavior on the add/change pages. Alternatively, you can customize the default form rather than specifying an entirely new one by using the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_form" title="django.contrib.admin.ModelAdmin.get_form"><code>ModelAdmin.get_form()</code></a> method.</p> <p>For an example see the section <a class="reference internal" href="#admin-custom-validation"><span class="std std-ref">Adding custom validation to the admin</span></a>.</p> <div class="admonition-omit-the-meta-model-attribute admonition"> <p class="admonition-title">Omit the <code>Meta.model</code> attribute</p> <p>If you define the <code>Meta.model</code> attribute on a <a class="reference internal" href="../../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code>ModelForm</code></a>, you must also define the <code>Meta.fields</code> attribute (or the <code>Meta.exclude</code> attribute). However, since the admin has its own way of defining fields, the <code>Meta.fields</code> attribute will be ignored.</p> <p>If the <code>ModelForm</code> is only going to be used for the admin, the easiest solution is to omit the <code>Meta.model</code> attribute, since <code>ModelAdmin</code> will provide the correct model to use. Alternatively, you can set <code>fields = []</code> in the <code>Meta</code> class to satisfy the validation on the <code>ModelForm</code>.</p> </div> <div class="admonition-modeladmin-exclude-takes-precedence admonition"> <p class="admonition-title"><code>ModelAdmin.exclude</code> takes precedence</p> <p>If your <code>ModelForm</code> and <code>ModelAdmin</code> both define an <code>exclude</code> option then <code>ModelAdmin</code> takes precedence:</p> <pre data-language="python">from django import forms
from django.contrib import admin
from myapp.models import Person


class PersonForm(forms.ModelForm):
    class Meta:
        model = Person
        exclude = ["name"]


class PersonAdmin(admin.ModelAdmin):
    exclude = ["age"]
    form = PersonForm
</pre> <p>In the above example, the “age” field will be excluded but the “name” field will be included in the generated form.</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.formfield_overrides">
<code>ModelAdmin.formfield_overrides</code> </dt> <dd>
<p>This provides a quick-and-dirty way to override some of the <a class="reference internal" href="../../forms/fields.html#django.forms.Field" title="django.forms.Field"><code>Field</code></a> options for use in the admin. <code>formfield_overrides</code> is a dictionary mapping a field class to a dict of arguments to pass to the field at construction time.</p> <p>Since that’s a bit abstract, let’s look at a concrete example. The most common use of <code>formfield_overrides</code> is to add a custom widget for a certain type of field. So, imagine we’ve written a <code>RichTextEditorWidget</code> that we’d like to use for large text fields instead of the default <code>&lt;textarea&gt;</code>. Here’s how we’d do that:</p> <pre data-language="python">from django.contrib import admin
from django.db import models

# Import our custom widget and our model from where they're defined
from myapp.models import MyModel
from myapp.widgets import RichTextEditorWidget


class MyModelAdmin(admin.ModelAdmin):
    formfield_overrides = {
        models.TextField: {"widget": RichTextEditorWidget},
    }
</pre> <p>Note that the key in the dictionary is the actual field class, <em>not</em> a string. The value is another dictionary; these arguments will be passed to the form field’s <code>__init__()</code> method. See <a class="reference internal" href="../../forms/api.html"><span class="doc">The Forms API</span></a> for details.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>If you want to use a custom widget with a relation field (i.e. <a class="reference internal" href="../../models/fields.html#django.db.models.ForeignKey" title="django.db.models.ForeignKey"><code>ForeignKey</code></a> or <a class="reference internal" href="../../models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a>), make sure you haven’t included that field’s name in <code>raw_id_fields</code>, <code>radio_fields</code>, or <code>autocomplete_fields</code>.</p> <p><code>formfield_overrides</code> won’t let you change the widget on relation fields that have <code>raw_id_fields</code>, <code>radio_fields</code>, or <code>autocomplete_fields</code> set. That’s because <code>raw_id_fields</code>, <code>radio_fields</code>, and <code>autocomplete_fields</code> imply custom widgets of their own.</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.inlines">
<code>ModelAdmin.inlines</code> </dt> <dd>
<p>See <a class="reference internal" href="#django.contrib.admin.InlineModelAdmin" title="django.contrib.admin.InlineModelAdmin"><code>InlineModelAdmin</code></a> objects below as well as <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_formsets_with_inlines" title="django.contrib.admin.ModelAdmin.get_formsets_with_inlines"><code>ModelAdmin.get_formsets_with_inlines()</code></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.list_display">
<code>ModelAdmin.list_display</code> </dt> <dd>
<p>Set <code>list_display</code> to control which fields are displayed on the change list page of the admin.</p> <p>Example:</p> <pre data-language="python">list_display = ["first_name", "last_name"]
</pre> <p>If you don’t set <code>list_display</code>, the admin site will display a single column that displays the <code>__str__()</code> representation of each object.</p> <p>There are five types of values that can be used in <code>list_display</code>. All but the simplest may use the <a class="reference internal" href="#django.contrib.admin.display" title="django.contrib.admin.display"><code>display()</code></a> decorator, which is used to customize how the field is presented:</p> <ul> <li>
<p>The name of a model field. For example:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    list_display = ["first_name", "last_name"]
</pre> </li> <li>
<p>The name of a related field, using the <code>__</code> notation. For example:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    list_display = ["city__name"]
</pre> </li> <li>
<p>A callable that accepts one argument, the model instance. For example:</p> <pre data-language="python">@admin.display(description="Name")
def upper_case_name(obj):
    return f"{obj.first_name} {obj.last_name}".upper()


class PersonAdmin(admin.ModelAdmin):
    list_display = [upper_case_name]
</pre> </li> <li>
<p>A string representing a <code>ModelAdmin</code> method that accepts one argument, the model instance. For example:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    list_display = ["upper_case_name"]

    @admin.display(description="Name")
    def upper_case_name(self, obj):
        return f"{obj.first_name} {obj.last_name}".upper()
</pre> </li> <li>
<p>A string representing a model attribute or method (without any required arguments). For example:</p> <pre data-language="python">from django.contrib import admin
from django.db import models


class Person(models.Model):
    name = models.CharField(max_length=50)
    birthday = models.DateField()

    @admin.display(description="Birth decade")
    def decade_born_in(self):
        decade = self.birthday.year // 10 * 10
        return f"{decade}’s"


class PersonAdmin(admin.ModelAdmin):
    list_display = ["name", "decade_born_in"]
</pre> </li> </ul> <div class="versionchanged"> <span class="title">Changed in Django 5.1:</span> <p>Support for using <code>__</code> lookups was added, when targeting related fields.</p> </div> <p>A few special cases to note about <code>list_display</code>:</p> <ul> <li>If the field is a <code>ForeignKey</code>, Django will display the <code>__str__()</code> of the related object.</li> <li>
<code>ManyToManyField</code> fields aren’t supported, because that would entail executing a separate SQL statement for each row in the table. If you want to do this nonetheless, give your model a custom method, and add that method’s name to <code>list_display</code>. (See below for more on custom methods in <code>list_display</code>.)</li> <li>If the field is a <code>BooleanField</code>, Django will display a pretty “yes”, “no”, or “unknown” icon instead of <code>True</code>, <code>False</code>, or <code>None</code>.</li> <li>
<p>If the string given is a method of the model, <code>ModelAdmin</code> or a callable, Django will HTML-escape the output by default. To escape user input and allow your own unescaped tags, use <a class="reference internal" href="../../utils.html#django.utils.html.format_html" title="django.utils.html.format_html"><code>format_html()</code></a>.</p> <p>Here’s a full example model:</p> <pre data-language="python">from django.contrib import admin
from django.db import models
from django.utils.html import format_html


class Person(models.Model):
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)
    color_code = models.CharField(max_length=6)

    @admin.display
    def colored_name(self):
        return format_html(
            '&lt;span style="color: #{};"&gt;{} {}&lt;/span&gt;',
            self.color_code,
            self.first_name,
            self.last_name,
        )


class PersonAdmin(admin.ModelAdmin):
    list_display = ["first_name", "last_name", "colored_name"]
</pre> </li> <li>As some examples have already demonstrated, when using a callable, a model method, or a <code>ModelAdmin</code> method, you can customize the column’s title by wrapping the callable with the <a class="reference internal" href="#django.contrib.admin.display" title="django.contrib.admin.display"><code>display()</code></a> decorator and passing the <code>description</code> argument.</li> <li>
<p>If the value of a field is <code>None</code>, an empty string, or an iterable without elements, Django will display <code>-</code> (a dash). You can override this with <a class="reference internal" href="#django.contrib.admin.AdminSite.empty_value_display" title="django.contrib.admin.AdminSite.empty_value_display"><code>AdminSite.empty_value_display</code></a>:</p> <pre data-language="python">from django.contrib import admin

admin.site.empty_value_display = "(None)"
</pre> <p>You can also use <a class="reference internal" href="#django.contrib.admin.ModelAdmin.empty_value_display" title="django.contrib.admin.ModelAdmin.empty_value_display"><code>ModelAdmin.empty_value_display</code></a>:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    empty_value_display = "unknown"
</pre> <p>Or on a field level:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    list_display = ["name", "birth_date_view"]

    @admin.display(empty_value="unknown")
    def birth_date_view(self, obj):
        return obj.birth_date
</pre> </li> <li>
<p>If the string given is a method of the model, <code>ModelAdmin</code> or a callable that returns <code>True</code>, <code>False</code>, or <code>None</code>, Django will display a pretty “yes”, “no”, or “unknown” icon if you wrap the method with the <a class="reference internal" href="#django.contrib.admin.display" title="django.contrib.admin.display"><code>display()</code></a> decorator passing the <code>boolean</code> argument with the value set to <code>True</code>:</p> <pre data-language="python">from django.contrib import admin
from django.db import models


class Person(models.Model):
    first_name = models.CharField(max_length=50)
    birthday = models.DateField()

    @admin.display(boolean=True)
    def born_in_fifties(self):
        return 1950 &lt;= self.birthday.year &lt; 1960


class PersonAdmin(admin.ModelAdmin):
    list_display = ["name", "born_in_fifties"]
</pre> </li> <li>
<p>The <code>__str__()</code> method is just as valid in <code>list_display</code> as any other model method, so it’s perfectly OK to do this:</p> <pre data-language="python">list_display = ["__str__", "some_other_field"]
</pre> </li> <li>
<p>Usually, elements of <code>list_display</code> that aren’t actual database fields can’t be used in sorting (because Django does all the sorting at the database level).</p> <p>However, if an element of <code>list_display</code> represents a certain database field, you can indicate this fact by using the <a class="reference internal" href="#django.contrib.admin.display" title="django.contrib.admin.display"><code>display()</code></a> decorator on the method, passing the <code>ordering</code> argument:</p> <pre data-language="python">from django.contrib import admin
from django.db import models
from django.utils.html import format_html


class Person(models.Model):
    first_name = models.CharField(max_length=50)
    color_code = models.CharField(max_length=6)

    @admin.display(ordering="first_name")
    def colored_first_name(self):
        return format_html(
            '&lt;span style="color: #{};"&gt;{}&lt;/span&gt;',
            self.color_code,
            self.first_name,
        )


class PersonAdmin(admin.ModelAdmin):
    list_display = ["first_name", "colored_first_name"]
</pre> <p>The above will tell Django to order by the <code>first_name</code> field when trying to sort by <code>colored_first_name</code> in the admin.</p> <p>To indicate descending order with the <code>ordering</code> argument you can use a hyphen prefix on the field name. Using the above example, this would look like:</p> <pre data-language="python">@admin.display(ordering="-first_name")
def colored_first_name(self): ...
</pre> <p>The <code>ordering</code> argument supports query lookups to sort by values on related models. This example includes an “author first name” column in the list display and allows sorting it by first name:</p> <pre data-language="python">class Blog(models.Model):
    title = models.CharField(max_length=255)
    author = models.ForeignKey(Person, on_delete=models.CASCADE)


class BlogAdmin(admin.ModelAdmin):
    list_display = ["title", "author", "author_first_name"]

    @admin.display(ordering="author__first_name")
    def author_first_name(self, obj):
        return obj.author.first_name
</pre> <p><a class="reference internal" href="../../models/expressions.html"><span class="doc">Query expressions</span></a> may be used with the <code>ordering</code> argument:</p> <pre data-language="python">from django.db.models import Value
from django.db.models.functions import Concat


class Person(models.Model):
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)

    @admin.display(ordering=Concat("first_name", Value(" "), "last_name"))
    def full_name(self):
        return self.first_name + " " + self.last_name
</pre> </li> <li>
<p>Elements of <code>list_display</code> can also be properties</p> <pre data-language="python">class Person(models.Model):
    first_name = models.CharField(max_length=50)
    last_name = models.CharField(max_length=50)

    @property
    @admin.display(
        ordering="last_name",
        description="Full name of the person",
        boolean=False,
    )
    def full_name(self):
        return self.first_name + " " + self.last_name


class PersonAdmin(admin.ModelAdmin):
    list_display = ["full_name"]
</pre> <p>Note that <code>@property</code> must be above <code>@display</code>. If you’re using the old way – setting the display-related attributes directly rather than using the <a class="reference internal" href="#django.contrib.admin.display" title="django.contrib.admin.display"><code>display()</code></a> decorator – be aware that the <code>property()</code> function and <strong>not</strong> the <code>@property</code> decorator must be used:</p> <pre data-language="python">def my_property(self):
    return self.first_name + " " + self.last_name


my_property.short_description = "Full name of the person"
my_property.admin_order_field = "last_name"
my_property.boolean = False

full_name = property(my_property)
</pre> </li> <li>The field names in <code>list_display</code> will also appear as CSS classes in the HTML output, in the form of <code>column-&lt;field_name&gt;</code> on each <code>&lt;th&gt;</code> element. This can be used to set column widths in a CSS file for example.</li> <li>
<p>Django will try to interpret every element of <code>list_display</code> in this order:</p> <ul class="simple"> <li>A field of the model or from a related field.</li> <li>A callable.</li> <li>A string representing a <code>ModelAdmin</code> attribute.</li> <li>A string representing a model attribute.</li> </ul> <p>For example if you have <code>first_name</code> as a model field and as a <code>ModelAdmin</code> attribute, the model field will be used.</p> </li> </ul> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.list_display_links">
<code>ModelAdmin.list_display_links</code> </dt> <dd>
<p>Use <code>list_display_links</code> to control if and which fields in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_display" title="django.contrib.admin.ModelAdmin.list_display"><code>list_display</code></a> should be linked to the “change” page for an object.</p> <p>By default, the change list page will link the first column – the first field specified in <code>list_display</code> – to the change page for each item. But <code>list_display_links</code> lets you change this:</p> <ul> <li>Set it to <code>None</code> to get no links at all.</li> <li>
<p>Set it to a list or tuple of fields (in the same format as <code>list_display</code>) whose columns you want converted to links.</p> <p>You can specify one or many fields. As long as the fields appear in <code>list_display</code>, Django doesn’t care how many (or how few) fields are linked. The only requirement is that if you want to use <code>list_display_links</code> in this fashion, you must define <code>list_display</code>.</p> </li> </ul> <p>In this example, the <code>first_name</code> and <code>last_name</code> fields will be linked on the change list page:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    list_display = ["first_name", "last_name", "birthday"]
    list_display_links = ["first_name", "last_name"]
</pre> <p>In this example, the change list page grid will have no links:</p> <pre data-language="python">class AuditEntryAdmin(admin.ModelAdmin):
    list_display = ["timestamp", "message"]
    list_display_links = None
</pre> </dd>
</dl> <dl class="py attribute" id="admin-list-editable"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.list_editable">
<code>ModelAdmin.list_editable</code> </dt> <dd>
<p>Set <code>list_editable</code> to a list of field names on the model which will allow editing on the change list page. That is, fields listed in <code>list_editable</code> will be displayed as form widgets on the change list page, allowing users to edit and save multiple rows at once.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p><code>list_editable</code> interacts with a couple of other options in particular ways; you should note the following rules:</p> <ul class="simple"> <li>Any field in <code>list_editable</code> must also be in <code>list_display</code>. You can’t edit a field that’s not displayed!</li> <li>The same field can’t be listed in both <code>list_editable</code> and <code>list_display_links</code> – a field can’t be both a form and a link.</li> </ul> <p>You’ll get a validation error if either of these rules are broken.</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.list_filter">
<code>ModelAdmin.list_filter</code> </dt> <dd>
<p>Set <code>list_filter</code> to activate filters in the right sidebar of the change list page of the admin.</p> <p>At it’s simplest <code>list_filter</code> takes a list or tuple of field names to activate filtering upon, but several more advanced options as available. See <a class="reference internal" href="filters.html#modeladmin-list-filters"><span class="std std-ref">ModelAdmin List Filters</span></a> for the details.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.list_max_show_all">
<code>ModelAdmin.list_max_show_all</code> </dt> <dd>
<p>Set <code>list_max_show_all</code> to control how many items can appear on a “Show all” admin change list page. The admin will display a “Show all” link on the change list only if the total result count is less than or equal to this setting. By default, this is set to <code>200</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.list_per_page">
<code>ModelAdmin.list_per_page</code> </dt> <dd>
<p>Set <code>list_per_page</code> to control how many items appear on each paginated admin change list page. By default, this is set to <code>100</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.list_select_related">
<code>ModelAdmin.list_select_related</code> </dt> <dd>
<p>Set <code>list_select_related</code> to tell Django to use <a class="reference internal" href="../../models/querysets.html#django.db.models.query.QuerySet.select_related" title="django.db.models.query.QuerySet.select_related"><code>select_related()</code></a> in retrieving the list of objects on the admin change list page. This can save you a bunch of database queries.</p> <p>The value should be either a boolean, a list or a tuple. Default is <code>False</code>.</p> <p>When value is <code>True</code>, <code>select_related()</code> will always be called. When value is set to <code>False</code>, Django will look at <code>list_display</code> and call <code>select_related()</code> if any <code>ForeignKey</code> is present.</p> <p>If you need more fine-grained control, use a tuple (or list) as value for <code>list_select_related</code>. Empty tuple will prevent Django from calling <code>select_related</code> at all. Any other tuple will be passed directly to <code>select_related</code> as parameters. For example:</p> <pre data-language="python">class ArticleAdmin(admin.ModelAdmin):
    list_select_related = ["author", "category"]
</pre> <p>will call <code>select_related('author', 'category')</code>.</p> <p>If you need to specify a dynamic value based on the request, you can implement a <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_list_select_related" title="django.contrib.admin.ModelAdmin.get_list_select_related"><code>get_list_select_related()</code></a> method.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p><code>ModelAdmin</code> ignores this attribute when <a class="reference internal" href="../../models/querysets.html#django.db.models.query.QuerySet.select_related" title="django.db.models.query.QuerySet.select_related"><code>select_related()</code></a> was already called on the changelist’s <code>QuerySet</code>.</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.ordering">
<code>ModelAdmin.ordering</code> </dt> <dd>
<p>Set <code>ordering</code> to specify how lists of objects should be ordered in the Django admin views. This should be a list or tuple in the same format as a model’s <a class="reference internal" href="../../models/options.html#django.db.models.Options.ordering" title="django.db.models.Options.ordering"><code>ordering</code></a> parameter.</p> <p>If this isn’t provided, the Django admin will use the model’s default ordering.</p> <p>If you need to specify a dynamic order (for example depending on user or language) you can implement a <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_ordering" title="django.contrib.admin.ModelAdmin.get_ordering"><code>get_ordering()</code></a> method.</p> <div class="admonition-performance-considerations-with-ordering-and-sorting admonition"> <p class="admonition-title">Performance considerations with ordering and sorting</p> <p>To ensure a deterministic ordering of results, the changelist adds <code>pk</code> to the ordering if it can’t find a single or unique together set of fields that provide total ordering.</p> <p>For example, if the default ordering is by a non-unique <code>name</code> field, then the changelist is sorted by <code>name</code> and <code>pk</code>. This could perform poorly if you have a lot of rows and don’t have an index on <code>name</code> and <code>pk</code>.</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.paginator">
<code>ModelAdmin.paginator</code> </dt> <dd>
<p>The paginator class to be used for pagination. By default, <a class="reference internal" href="../../paginator.html#django.core.paginator.Paginator" title="django.core.paginator.Paginator"><code>django.core.paginator.Paginator</code></a> is used. If the custom paginator class doesn’t have the same constructor interface as <a class="reference internal" href="../../paginator.html#django.core.paginator.Paginator" title="django.core.paginator.Paginator"><code>django.core.paginator.Paginator</code></a>, you will also need to provide an implementation for <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_paginator" title="django.contrib.admin.ModelAdmin.get_paginator"><code>ModelAdmin.get_paginator()</code></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.prepopulated_fields">
<code>ModelAdmin.prepopulated_fields</code> </dt> <dd>
<p>Set <code>prepopulated_fields</code> to a dictionary mapping field names to the fields it should prepopulate from:</p> <pre data-language="python">class ArticleAdmin(admin.ModelAdmin):
    prepopulated_fields = {"slug": ["title"]}
</pre> <p>When set, the given fields will use a bit of JavaScript to populate from the fields assigned. The main use for this functionality is to automatically generate the value for <code>SlugField</code> fields from one or more other fields. The generated value is produced by concatenating the values of the source fields, and then by transforming that result into a valid slug (e.g. substituting dashes for spaces and lowercasing ASCII letters).</p> <p>Prepopulated fields aren’t modified by JavaScript after a value has been saved. It’s usually undesired that slugs change (which would cause an object’s URL to change if the slug is used in it).</p> <p><code>prepopulated_fields</code> doesn’t accept <code>DateTimeField</code>, <code>ForeignKey</code>, <code>OneToOneField</code>, and <code>ManyToManyField</code> fields.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.preserve_filters">
<code>ModelAdmin.preserve_filters</code> </dt> <dd>
<p>By default, applied filters are preserved on the list view after creating, editing, or deleting an object. You can have filters cleared by setting this attribute to <code>False</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.show_facets">
<code>ModelAdmin.show_facets</code> </dt> <dd>
<p>Controls whether facet counts are displayed for filters in the admin changelist. Defaults to <a class="reference internal" href="#django.contrib.admin.ModelAdmin.ShowFacets.ALLOW" title="django.contrib.admin.ModelAdmin.ShowFacets.ALLOW"><code>ShowFacets.ALLOW</code></a>.</p> <p>When displayed, facet counts update in line with currently applied filters.</p> <dl class="py class"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.ShowFacets">
<code>class ShowFacets</code> </dt> <dd>
<p>Enum of allowed values for <a class="reference internal" href="#django.contrib.admin.ModelAdmin.show_facets" title="django.contrib.admin.ModelAdmin.show_facets"><code>ModelAdmin.show_facets</code></a>.</p> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.ShowFacets.ALWAYS">
<code>ALWAYS</code> </dt> <dd>
<p>Always show facet counts.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.ShowFacets.ALLOW">
<code>ALLOW</code> </dt> <dd>
<p>Show facet counts when the <code>_facets</code> query string parameter is provided.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.ShowFacets.NEVER">
<code>NEVER</code> </dt> <dd>
<p>Never show facet counts.</p> </dd>
</dl> </dd>
</dl> <p>Set <code>show_facets</code> to the desired <a class="reference internal" href="#django.contrib.admin.ModelAdmin.ShowFacets" title="django.contrib.admin.ModelAdmin.ShowFacets"><code>ShowFacets</code></a> value. For example, to always show facet counts without needing to provide the query parameter:</p> <pre data-language="python">from django.contrib import admin


class MyModelAdmin(admin.ModelAdmin):
    ...
    # Have facets always shown for this model admin.
    show_facets = admin.ShowFacets.ALWAYS
</pre> <div class="admonition-performance-considerations-with-facets admonition"> <p class="admonition-title">Performance considerations with facets</p> <p>Enabling facet filters will increase the number of queries on the admin changelist page in line with the number of filters. These queries may cause performance problems, especially for large datasets. In these cases it may be appropriate to set <code>show_facets</code> to <a class="reference internal" href="#django.contrib.admin.ModelAdmin.ShowFacets.NEVER" title="django.contrib.admin.ModelAdmin.ShowFacets.NEVER"><code>ShowFacets.NEVER</code></a> to disable faceting entirely.</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.radio_fields">
<code>ModelAdmin.radio_fields</code> </dt> <dd>
<p>By default, Django’s admin uses a select-box interface (&lt;select&gt;) for fields that are <code>ForeignKey</code> or have <code>choices</code> set. If a field is present in <code>radio_fields</code>, Django will use a radio-button interface instead. Assuming <code>group</code> is a <code>ForeignKey</code> on the <code>Person</code> model:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    radio_fields = {"group": admin.VERTICAL}
</pre> <p>You have the choice of using <code>HORIZONTAL</code> or <code>VERTICAL</code> from the <code>django.contrib.admin</code> module.</p> <p>Don’t include a field in <code>radio_fields</code> unless it’s a <code>ForeignKey</code> or has <code>choices</code> set.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.autocomplete_fields">
<code>ModelAdmin.autocomplete_fields</code> </dt> <dd>
<p><code>autocomplete_fields</code> is a list of <code>ForeignKey</code> and/or <code>ManyToManyField</code> fields you would like to change to <a class="reference external" href="https://select2.org/">Select2</a> autocomplete inputs.</p> <p>By default, the admin uses a select-box interface (<code>&lt;select&gt;</code>) for those fields. Sometimes you don’t want to incur the overhead of selecting all the related instances to display in the dropdown.</p> <p>The Select2 input looks similar to the default input but comes with a search feature that loads the options asynchronously. This is faster and more user-friendly if the related model has many instances.</p> <p>You must define <a class="reference internal" href="#django.contrib.admin.ModelAdmin.search_fields" title="django.contrib.admin.ModelAdmin.search_fields"><code>search_fields</code></a> on the related object’s <code>ModelAdmin</code> because the autocomplete search uses it.</p> <p>To avoid unauthorized data disclosure, users must have the <code>view</code> or <code>change</code> permission to the related object in order to use autocomplete.</p> <p>Ordering and pagination of the results are controlled by the related <code>ModelAdmin</code>’s <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_ordering" title="django.contrib.admin.ModelAdmin.get_ordering"><code>get_ordering()</code></a> and <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_paginator" title="django.contrib.admin.ModelAdmin.get_paginator"><code>get_paginator()</code></a> methods.</p> <p>In the following example, <code>ChoiceAdmin</code> has an autocomplete field for the <code>ForeignKey</code> to the <code>Question</code>. The results are filtered by the <code>question_text</code> field and ordered by the <code>date_created</code> field:</p> <pre data-language="python">class QuestionAdmin(admin.ModelAdmin):
    ordering = ["date_created"]
    search_fields = ["question_text"]


class ChoiceAdmin(admin.ModelAdmin):
    autocomplete_fields = ["question"]
</pre> <div class="admonition-performance-considerations-for-large-datasets admonition"> <p class="admonition-title">Performance considerations for large datasets</p> <p>Ordering using <a class="reference internal" href="#django.contrib.admin.ModelAdmin.ordering" title="django.contrib.admin.ModelAdmin.ordering"><code>ModelAdmin.ordering</code></a> may cause performance problems as sorting on a large queryset will be slow.</p> <p>Also, if your search fields include fields that aren’t indexed by the database, you might encounter poor performance on extremely large tables.</p> <p>For those cases, it’s a good idea to write your own <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_search_results" title="django.contrib.admin.ModelAdmin.get_search_results"><code>ModelAdmin.get_search_results()</code></a> implementation using a full-text indexed search.</p> <p>You may also want to change the <code>Paginator</code> on very large tables as the default paginator always performs a <code>count()</code> query. For example, you could override the default implementation of the <code>Paginator.count</code> property.</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.raw_id_fields">
<code>ModelAdmin.raw_id_fields</code> </dt> <dd>
<p>By default, Django’s admin uses a select-box interface (&lt;select&gt;) for fields that are <code>ForeignKey</code>. Sometimes you don’t want to incur the overhead of having to select all the related instances to display in the drop-down.</p> <p><code>raw_id_fields</code> is a list of fields you would like to change into an <code>Input</code> widget for either a <code>ForeignKey</code> or <code>ManyToManyField</code>:</p> <pre data-language="python">class ArticleAdmin(admin.ModelAdmin):
    raw_id_fields = ["newspaper"]
</pre> <p>The <code>raw_id_fields</code> <code>Input</code> widget should contain a primary key if the field is a <code>ForeignKey</code> or a comma separated list of values if the field is a <code>ManyToManyField</code>. The <code>raw_id_fields</code> widget shows a magnifying glass button next to the field which allows users to search for and select a value:</p> <img alt="../../../_images/raw_id_fields.png" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAY4AAAA7CAMAAABbqp08AAAAbFBMVEX///+0tLRycnL29vZVVVX7+/ve3t7o6OjMzMxmZmbR0dF+fn5tbW3BwcG5ubmCgoJpaWl3d3eMjIygoKCFhYXl5eWlpaWSkpKZmZm+vr7Hx8fv7++srKywsLDb29vW1tZgYGAzMzM6OjpNTU3dW9MbAAACwUlEQVR42u2c63KbMBBGhS7AcpUQ94txk/d/xwrsNmln7GkmLbHc7/wxBuPRclitxGhgDAAAAPggEXggcD8CAAAAAAAAAADgj1GnJPaO5KSe1EbSeBiZapLn9BF6+pwtCp9Sh693mUqeUkeMhiMq6IAORIWG/486RiOlGe/8OCUj3M8oh45/3nCRyp1S3NFBM3Qc0/BKnodpGs6yuq3DcN1cdAxGlwmrqGGWKiYoVbPRJmABjXXWTYzNqTatYidaep2e3Ayny7gV7nhT6Wnm6zFRhbK8bs3y5XXxR0ck5Wn7PEl5c0qbpqO79puOnOq81E1BBXOKVExzTPVgB3e5dVtRx1hrh5oGp4N6S1woQ8FCvTvOeaVaHR8SVfGaXXWIelXJy+qNjkLWl41aDjd1cJcP8aajplAltETURVTQ2tK6Es/dXDiglqmM9llxTNbpSF3i0ZpQp1StVUDV1hmqY6LKm758t1sW3uiYpb1sWLnc0dGQ2XQY2rDMZDmJLEgzxQpOPHE6iq3GTMKmPNt1uEyxNOb7CTTtxw/sgt/riF4ab3QMb9mR39HBWir37IjDMIzct65kXed6IdcfFGR+ZkdLtsl/yY7KnRCqqw71BTqU7r2sHdM9HYLTpXYMhW1Y4koFCzK3Z+yHwF36H7XDUpvUuw7qLBmljJ6HZblkD2t1crgOxUvfRlZiG1ndbvWmw5nYRlZ5qrNqcnccxWx1nRBbtx3Nlh3pNrKKam1GvndWnS5Dxqaea1NcdRw2snrTIbLar3mHkVfmT/zf77Vhrx1fGNWuQzRuKF4Lh0cTJlFUdE7jQcrlyXS0kgXfNs4ezl8LKcen0XHpZB+/ht95nBB8QsdDRiUjn3X4Dx6wIyrogA5EhYZ/FCzseSh8XfbWPOeyNywKfbDIsGQaAAAAAAAAAAAAfx+88A4v3wMAgA/yHXkSRtWzKpjMAAAAAElFTkSuQmCC"> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.readonly_fields">
<code>ModelAdmin.readonly_fields</code> </dt> <dd>
<p>By default the admin shows all fields as editable. Any fields in this option (which should be a <code>list</code> or <code>tuple</code>) will display its data as-is and non-editable; they are also excluded from the <a class="reference internal" href="../../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code>ModelForm</code></a> used for creating and editing. Note that when specifying <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fields" title="django.contrib.admin.ModelAdmin.fields"><code>ModelAdmin.fields</code></a> or <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fieldsets" title="django.contrib.admin.ModelAdmin.fieldsets"><code>ModelAdmin.fieldsets</code></a> the read-only fields must be present to be shown (they are ignored otherwise).</p> <p>If <code>readonly_fields</code> is used without defining explicit ordering through <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fields" title="django.contrib.admin.ModelAdmin.fields"><code>ModelAdmin.fields</code></a> or <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fieldsets" title="django.contrib.admin.ModelAdmin.fieldsets"><code>ModelAdmin.fieldsets</code></a> they will be added last after all editable fields.</p> <p>A read-only field can not only display data from a model’s field, it can also display the output of a model’s method or a method of the <code>ModelAdmin</code> class itself. This is very similar to the way <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_display" title="django.contrib.admin.ModelAdmin.list_display"><code>ModelAdmin.list_display</code></a> behaves. This provides a way to use the admin interface to provide feedback on the status of the objects being edited, for example:</p> <pre data-language="python">from django.contrib import admin
from django.utils.html import format_html_join
from django.utils.safestring import mark_safe


class PersonAdmin(admin.ModelAdmin):
    readonly_fields = ["address_report"]

    # description functions like a model field's verbose_name
    @admin.display(description="Address")
    def address_report(self, instance):
        # assuming get_full_address() returns a list of strings
        # for each line of the address and you want to separate each
        # line by a linebreak
        return format_html_join(
            mark_safe("&lt;br&gt;"),
            "{}",
            ((line,) for line in instance.get_full_address()),
        ) or mark_safe("&lt;span class='errors'&gt;I can't determine this address.&lt;/span&gt;")
</pre> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.save_as">
<code>ModelAdmin.save_as</code> </dt> <dd>
<p>Set <code>save_as</code> to enable a “save as new” feature on admin change forms.</p> <p>Normally, objects have three save options: “Save”, “Save and continue editing”, and “Save and add another”. If <code>save_as</code> is <code>True</code>, “Save and add another” will be replaced by a “Save as new” button that creates a new object (with a new ID) rather than updating the existing object.</p> <p>By default, <code>save_as</code> is set to <code>False</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.save_as_continue">
<code>ModelAdmin.save_as_continue</code> </dt> <dd>
<p>When <a class="reference internal" href="#django.contrib.admin.ModelAdmin.save_as" title="django.contrib.admin.ModelAdmin.save_as"><code>save_as=True</code></a>, the default redirect after saving the new object is to the change view for that object. If you set <code>save_as_continue=False</code>, the redirect will be to the changelist view.</p> <p>By default, <code>save_as_continue</code> is set to <code>True</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.save_on_top">
<code>ModelAdmin.save_on_top</code> </dt> <dd>
<p>Set <code>save_on_top</code> to add save buttons across the top of your admin change forms.</p> <p>Normally, the save buttons appear only at the bottom of the forms. If you set <code>save_on_top</code>, the buttons will appear both on the top and the bottom.</p> <p>By default, <code>save_on_top</code> is set to <code>False</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.search_fields">
<code>ModelAdmin.search_fields</code> </dt> <dd>
<p>Set <code>search_fields</code> to enable a search box on the admin change list page. This should be set to a list of field names that will be searched whenever somebody submits a search query in that text box.</p> <p>These fields should be some kind of text field, such as <code>CharField</code> or <code>TextField</code>. You can also perform a related lookup on a <code>ForeignKey</code> or <code>ManyToManyField</code> with the lookup API “follow” notation:</p> <pre data-language="python">search_fields = ["foreign_key__related_fieldname"]
</pre> <p>For example, if you have a blog entry with an author, the following definition would enable searching blog entries by the email address of the author:</p> <pre data-language="python">search_fields = ["user__email"]
</pre> <p>When somebody does a search in the admin search box, Django splits the search query into words and returns all objects that contain each of the words, case-insensitive (using the <a class="reference internal" href="../../models/querysets.html#std-fieldlookup-icontains"><code>icontains</code></a> lookup), where each word must be in at least one of <code>search_fields</code>. For example, if <code>search_fields</code> is set to <code>['first_name', 'last_name']</code> and a user searches for <code>john lennon</code>, Django will do the equivalent of this SQL <code>WHERE</code> clause:</p> <pre data-language="sql">WHERE (first_name ILIKE '%john%' OR last_name ILIKE '%john%')
AND (first_name ILIKE '%lennon%' OR last_name ILIKE '%lennon%')
</pre> <p>The search query can contain quoted phrases with spaces. For example, if a user searches for <code>"john winston"</code> or <code>'john winston'</code>, Django will do the equivalent of this SQL <code>WHERE</code> clause:</p> <pre data-language="sql">WHERE (first_name ILIKE '%john winston%' OR last_name ILIKE '%john winston%')
</pre> <p>If you don’t want to use <code>icontains</code> as the lookup, you can use any lookup by appending it the field. For example, you could use <a class="reference internal" href="../../models/querysets.html#std-fieldlookup-exact"><code>exact</code></a> by setting <code>search_fields</code> to <code>['first_name__exact']</code>.</p> <p>Some (older) shortcuts for specifying a field lookup are also available. You can prefix a field in <code>search_fields</code> with the following characters and it’s equivalent to adding <code>__&lt;lookup&gt;</code> to the field:</p> <table class="docutils"> <thead> <tr>
<th class="head"><p>Prefix</p></th> <th class="head"><p>Lookup</p></th> </tr> </thead>  <tr>
<td><p>^</p></td> <td><p><a class="reference internal" href="../../models/querysets.html#std-fieldlookup-istartswith"><code>istartswith</code></a></p></td> </tr> <tr>
<td><p>=</p></td> <td><p><a class="reference internal" href="../../models/querysets.html#std-fieldlookup-iexact"><code>iexact</code></a></p></td> </tr> <tr>
<td><p>@</p></td> <td><p><a class="reference internal" href="../postgres/search.html#std-fieldlookup-search"><code>search</code></a></p></td> </tr> <tr>
<td><p>None</p></td> <td><p><a class="reference internal" href="../../models/querysets.html#std-fieldlookup-icontains"><code>icontains</code></a></p></td> </tr>  </table> <p>If you need to customize search you can use <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_search_results" title="django.contrib.admin.ModelAdmin.get_search_results"><code>ModelAdmin.get_search_results()</code></a> to provide additional or alternate search behavior.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.search_help_text">
<code>ModelAdmin.search_help_text</code> </dt> <dd>
<p>Set <code>search_help_text</code> to specify a descriptive text for the search box which will be displayed below it.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.show_full_result_count">
<code>ModelAdmin.show_full_result_count</code> </dt> <dd>
<p>Set <code>show_full_result_count</code> to control whether the full count of objects should be displayed on a filtered admin page (e.g. <code>99 results (103 total)</code>). If this option is set to <code>False</code>, a text like <code>99 results (Show all)</code> is displayed instead.</p> <p>The default of <code>show_full_result_count=True</code> generates a query to perform a full count on the table which can be expensive if the table contains a large number of rows.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.sortable_by">
<code>ModelAdmin.sortable_by</code> </dt> <dd>
<p>By default, the change list page allows sorting by all model fields (and callables that use the <code>ordering</code> argument to the <a class="reference internal" href="#django.contrib.admin.display" title="django.contrib.admin.display"><code>display()</code></a> decorator or have the <code>admin_order_field</code> attribute) specified in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_display" title="django.contrib.admin.ModelAdmin.list_display"><code>list_display</code></a>.</p> <p>If you want to disable sorting for some columns, set <code>sortable_by</code> to a collection (e.g. <code>list</code>, <code>tuple</code>, or <code>set</code>) of the subset of <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_display" title="django.contrib.admin.ModelAdmin.list_display"><code>list_display</code></a> that you want to be sortable. An empty collection disables sorting for all columns.</p> <p>If you need to specify this list dynamically, implement a <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_sortable_by" title="django.contrib.admin.ModelAdmin.get_sortable_by"><code>get_sortable_by()</code></a> method instead.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.view_on_site">
<code>ModelAdmin.view_on_site</code> </dt> <dd>
<p>Set <code>view_on_site</code> to control whether or not to display the “View on site” link. This link should bring you to a URL where you can display the saved object.</p> <p>This value can be either a boolean flag or a callable. If <code>True</code> (the default), the object’s <a class="reference internal" href="../../models/instances.html#django.db.models.Model.get_absolute_url" title="django.db.models.Model.get_absolute_url"><code>get_absolute_url()</code></a> method will be used to generate the url.</p> <p>If your model has a <a class="reference internal" href="../../models/instances.html#django.db.models.Model.get_absolute_url" title="django.db.models.Model.get_absolute_url"><code>get_absolute_url()</code></a> method but you don’t want the “View on site” button to appear, you only need to set <code>view_on_site</code> to <code>False</code>:</p> <pre data-language="python">from django.contrib import admin


class PersonAdmin(admin.ModelAdmin):
    view_on_site = False
</pre> <p>In case it is a callable, it accepts the model instance as a parameter. For example:</p> <pre data-language="python">from django.contrib import admin
from django.urls import reverse


class PersonAdmin(admin.ModelAdmin):
    def view_on_site(self, obj):
        url = reverse("person-detail", kwargs={"slug": obj.slug})
        return "https://example.com" + url
</pre> </dd>
</dl> <section id="s-custom-template-options"> <h4 id="custom-template-options">Custom template options</h4> <p>The <a class="reference internal" href="#admin-overriding-templates"><span class="std std-ref">Overriding admin templates</span></a> section describes how to override or extend the default admin templates. Use the following options to override the default templates used by the <a class="reference internal" href="#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><code>ModelAdmin</code></a> views:</p> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.add_form_template">
<code>ModelAdmin.add_form_template</code> </dt> <dd>
<p>Path to a custom template, used by <a class="reference internal" href="#django.contrib.admin.ModelAdmin.add_view" title="django.contrib.admin.ModelAdmin.add_view"><code>add_view()</code></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.change_form_template">
<code>ModelAdmin.change_form_template</code> </dt> <dd>
<p>Path to a custom template, used by <a class="reference internal" href="#django.contrib.admin.ModelAdmin.change_view" title="django.contrib.admin.ModelAdmin.change_view"><code>change_view()</code></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.change_list_template">
<code>ModelAdmin.change_list_template</code> </dt> <dd>
<p>Path to a custom template, used by <a class="reference internal" href="#django.contrib.admin.ModelAdmin.changelist_view" title="django.contrib.admin.ModelAdmin.changelist_view"><code>changelist_view()</code></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.delete_confirmation_template">
<code>ModelAdmin.delete_confirmation_template</code> </dt> <dd>
<p>Path to a custom template, used by <a class="reference internal" href="#django.contrib.admin.ModelAdmin.delete_view" title="django.contrib.admin.ModelAdmin.delete_view"><code>delete_view()</code></a> for displaying a confirmation page when deleting one or more objects.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.delete_selected_confirmation_template">
<code>ModelAdmin.delete_selected_confirmation_template</code> </dt> <dd>
<p>Path to a custom template, used by the <code>delete_selected</code> action method for displaying a confirmation page when deleting one or more objects. See the <a class="reference internal" href="actions.html"><span class="doc">actions documentation</span></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.object_history_template">
<code>ModelAdmin.object_history_template</code> </dt> <dd>
<p>Path to a custom template, used by <a class="reference internal" href="#django.contrib.admin.ModelAdmin.history_view" title="django.contrib.admin.ModelAdmin.history_view"><code>history_view()</code></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.popup_response_template">
<code>ModelAdmin.popup_response_template</code> </dt> <dd>
<p>Path to a custom template, used by <a class="reference internal" href="#django.contrib.admin.ModelAdmin.response_add" title="django.contrib.admin.ModelAdmin.response_add"><code>response_add()</code></a>, <a class="reference internal" href="#django.contrib.admin.ModelAdmin.response_change" title="django.contrib.admin.ModelAdmin.response_change"><code>response_change()</code></a>, and <a class="reference internal" href="#django.contrib.admin.ModelAdmin.response_delete" title="django.contrib.admin.ModelAdmin.response_delete"><code>response_delete()</code></a>.</p> </dd>
</dl> </section> </section> <section id="s-modeladmin-methods"> <h3 id="model-admin-methods">
<code>ModelAdmin</code> methods</h3> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>When overriding <a class="reference internal" href="#django.contrib.admin.ModelAdmin.save_model" title="django.contrib.admin.ModelAdmin.save_model"><code>ModelAdmin.save_model()</code></a> and <a class="reference internal" href="#django.contrib.admin.ModelAdmin.delete_model" title="django.contrib.admin.ModelAdmin.delete_model"><code>ModelAdmin.delete_model()</code></a>, your code must save/delete the object. They aren’t meant for veto purposes, rather they allow you to perform extra operations.</p> </div> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.save_model">
<code>ModelAdmin.save_model(request, obj, form, change)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1310"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>save_model</code> method is given the <code>HttpRequest</code>, a model instance, a <code>ModelForm</code> instance, and a boolean value based on whether it is adding or changing the object. Overriding this method allows doing pre- or post-save operations. Call <code>super().save_model()</code> to save the object using <a class="reference internal" href="../../models/instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><code>Model.save()</code></a>.</p> <p>For example to attach <code>request.user</code> to the object prior to saving:</p> <pre data-language="python">from django.contrib import admin


class ArticleAdmin(admin.ModelAdmin):
    def save_model(self, request, obj, form, change):
        obj.user = request.user
        super().save_model(request, obj, form, change)
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.delete_model">
<code>ModelAdmin.delete_model(request, obj)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1316"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>delete_model</code> method is given the <code>HttpRequest</code> and a model instance. Overriding this method allows doing pre- or post-delete operations. Call <code>super().delete_model()</code> to delete the object using <a class="reference internal" href="../../models/instances.html#django.db.models.Model.delete" title="django.db.models.Model.delete"><code>Model.delete()</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.delete_queryset">
<code>ModelAdmin.delete_queryset(request, queryset)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1322"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>delete_queryset()</code> method is given the <code>HttpRequest</code> and a <code>QuerySet</code> of objects to be deleted. Override this method to customize the deletion process for the “delete selected objects” <a class="reference internal" href="actions.html"><span class="doc">action</span></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.save_formset">
<code>ModelAdmin.save_formset(request, form, formset, change)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1326"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>save_formset</code> method is given the <code>HttpRequest</code>, the parent <code>ModelForm</code> instance and a boolean value based on whether it is adding or changing the parent object.</p> <p>For example, to attach <code>request.user</code> to each changed formset model instance:</p> <pre data-language="python">class ArticleAdmin(admin.ModelAdmin):
    def save_formset(self, request, form, formset, change):
        instances = formset.save(commit=False)
        for obj in formset.deleted_objects:
            obj.delete()
        for instance in instances:
            instance.user = request.user
            instance.save()
        formset.save_m2m()
</pre> <p>See also <a class="reference internal" href="../../../topics/forms/modelforms.html#saving-objects-in-the-formset"><span class="std std-ref">Saving objects in the formset</span></a>.</p> </dd>
</dl> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>All hooks that return a <code>ModelAdmin</code> property return the property itself rather than a copy of its value. Dynamically modifying the value can lead to surprising results.</p> <p>Let’s take <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_readonly_fields" title="django.contrib.admin.ModelAdmin.get_readonly_fields"><code>ModelAdmin.get_readonly_fields()</code></a> as an example:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    readonly_fields = ["name"]

    def get_readonly_fields(self, request, obj=None):
        readonly = super().get_readonly_fields(request, obj)
        if not request.user.is_superuser:
            readonly.append("age")  # Edits the class attribute.
        return readonly
</pre> <p>This results in <code>readonly_fields</code> becoming <code>["name", "age", "age", ...]</code>, even for a superuser, as <code>"age"</code> is added each time non-superuser visits the page.</p> </div> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_ordering">
<code>ModelAdmin.get_ordering(request)</code> </dt> <dd>
<p>The <code>get_ordering</code> method takes a <code>request</code> as parameter and is expected to return a <code>list</code> or <code>tuple</code> for ordering similar to the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.ordering" title="django.contrib.admin.ModelAdmin.ordering"><code>ordering</code></a> attribute. For example:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    def get_ordering(self, request):
        if request.user.is_superuser:
            return ["name", "rank"]
        else:
            return ["name"]
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_search_results">
<code>ModelAdmin.get_search_results(request, queryset, search_term)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1172"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>get_search_results</code> method modifies the list of objects displayed into those that match the provided search term. It accepts the request, a queryset that applies the current filters, and the user-provided search term. It returns a tuple containing a queryset modified to implement the search, and a boolean indicating if the results may contain duplicates.</p> <p>The default implementation searches the fields named in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.search_fields" title="django.contrib.admin.ModelAdmin.search_fields"><code>ModelAdmin.search_fields</code></a>.</p> <p>This method may be overridden with your own custom search method. For example, you might wish to search by an integer field, or use an external tool such as <a class="reference external" href="https://solr.apache.org">Solr</a> or <a class="reference external" href="https://haystacksearch.org">Haystack</a>. You must establish if the queryset changes implemented by your search method may introduce duplicates into the results, and return <code>True</code> in the second element of the return value.</p> <p>For example, to search by <code>name</code> and <code>age</code>, you could use:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    list_display = ["name", "age"]
    search_fields = ["name"]

    def get_search_results(self, request, queryset, search_term):
        queryset, may_have_duplicates = super().get_search_results(
            request,
            queryset,
            search_term,
        )
        try:
            search_term_as_int = int(search_term)
        except ValueError:
            pass
        else:
            queryset |= self.model.objects.filter(age=search_term_as_int)
        return queryset, may_have_duplicates
</pre> <p>This implementation is more efficient than <code>search_fields =
('name', '=age')</code> which results in a string comparison for the numeric field, for example <code>... OR UPPER("polls_choice"."votes"::text) = UPPER('4')</code> on PostgreSQL.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.save_related">
<code>ModelAdmin.save_related(request, form, formsets, change)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1332"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>save_related</code> method is given the <code>HttpRequest</code>, the parent <code>ModelForm</code> instance, the list of inline formsets and a boolean value based on whether the parent is being added or changed. Here you can do any pre- or post-save operations for objects related to the parent. Note that at this point the parent object and its form have already been saved.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_autocomplete_fields">
<code>ModelAdmin.get_autocomplete_fields(request)</code> </dt> <dd>
<p>The <code>get_autocomplete_fields()</code> method is given the <code>HttpRequest</code> and is expected to return a <code>list</code> or <code>tuple</code> of field names that will be displayed with an autocomplete widget as described above in the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.autocomplete_fields" title="django.contrib.admin.ModelAdmin.autocomplete_fields"><code>ModelAdmin.autocomplete_fields</code></a> section.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_readonly_fields">
<code>ModelAdmin.get_readonly_fields(request, obj=None)</code> </dt> <dd>
<p>The <code>get_readonly_fields</code> method is given the <code>HttpRequest</code> and the <code>obj</code> being edited (or <code>None</code> on an add form) and is expected to return a <code>list</code> or <code>tuple</code> of field names that will be displayed as read-only, as described above in the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.readonly_fields" title="django.contrib.admin.ModelAdmin.readonly_fields"><code>ModelAdmin.readonly_fields</code></a> section.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_prepopulated_fields">
<code>ModelAdmin.get_prepopulated_fields(request, obj=None)</code> </dt> <dd>
<p>The <code>get_prepopulated_fields</code> method is given the <code>HttpRequest</code> and the <code>obj</code> being edited (or <code>None</code> on an add form) and is expected to return a <code>dictionary</code>, as described above in the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.prepopulated_fields" title="django.contrib.admin.ModelAdmin.prepopulated_fields"><code>ModelAdmin.prepopulated_fields</code></a> section.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_list_display">
<code>ModelAdmin.get_list_display(request)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1128"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>get_list_display</code> method is given the <code>HttpRequest</code> and is expected to return a <code>list</code> or <code>tuple</code> of field names that will be displayed on the changelist view as described above in the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_display" title="django.contrib.admin.ModelAdmin.list_display"><code>ModelAdmin.list_display</code></a> section.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_list_display_links">
<code>ModelAdmin.get_list_display_links(request, list_display)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1135"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>get_list_display_links</code> method is given the <code>HttpRequest</code> and the <code>list</code> or <code>tuple</code> returned by <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_list_display" title="django.contrib.admin.ModelAdmin.get_list_display"><code>ModelAdmin.get_list_display()</code></a>. It is expected to return either <code>None</code> or a <code>list</code> or <code>tuple</code> of field names on the changelist that will be linked to the change view, as described in the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_display_links" title="django.contrib.admin.ModelAdmin.list_display_links"><code>ModelAdmin.list_display_links</code></a> section.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_exclude">
<code>ModelAdmin.get_exclude(request, obj=None)</code> </dt> <dd>
<p>The <code>get_exclude</code> method is given the <code>HttpRequest</code> and the <code>obj</code> being edited (or <code>None</code> on an add form) and is expected to return a list of fields, as described in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.exclude" title="django.contrib.admin.ModelAdmin.exclude"><code>ModelAdmin.exclude</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_fields">
<code>ModelAdmin.get_fields(request, obj=None)</code> </dt> <dd>
<p>The <code>get_fields</code> method is given the <code>HttpRequest</code> and the <code>obj</code> being edited (or <code>None</code> on an add form) and is expected to return a list of fields, as described above in the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fields" title="django.contrib.admin.ModelAdmin.fields"><code>ModelAdmin.fields</code></a> section.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_fieldsets">
<code>ModelAdmin.get_fieldsets(request, obj=None)</code> </dt> <dd>
<p>The <code>get_fieldsets</code> method is given the <code>HttpRequest</code> and the <code>obj</code> being edited (or <code>None</code> on an add form) and is expected to return a list of 2-tuples, in which each 2-tuple represents a <code>&lt;fieldset&gt;</code> on the admin form page, as described above in the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fieldsets" title="django.contrib.admin.ModelAdmin.fieldsets"><code>ModelAdmin.fieldsets</code></a> section.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_list_filter">
<code>ModelAdmin.get_list_filter(request)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1151"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>get_list_filter</code> method is given the <code>HttpRequest</code> and is expected to return the same kind of sequence type as for the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_filter" title="django.contrib.admin.ModelAdmin.list_filter"><code>list_filter</code></a> attribute.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_list_select_related">
<code>ModelAdmin.get_list_select_related(request)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1158"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>get_list_select_related</code> method is given the <code>HttpRequest</code> and should return a boolean or list as <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_select_related" title="django.contrib.admin.ModelAdmin.list_select_related"><code>ModelAdmin.list_select_related</code></a> does.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_search_fields">
<code>ModelAdmin.get_search_fields(request)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1165"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>get_search_fields</code> method is given the <code>HttpRequest</code> and is expected to return the same kind of sequence type as for the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.search_fields" title="django.contrib.admin.ModelAdmin.search_fields"><code>search_fields</code></a> attribute.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_sortable_by">
<code>ModelAdmin.get_sortable_by(request)</code> </dt> <dd>
<p>The <code>get_sortable_by()</code> method is passed the <code>HttpRequest</code> and is expected to return a collection (e.g. <code>list</code>, <code>tuple</code>, or <code>set</code>) of field names that will be sortable in the change list page.</p> <p>Its default implementation returns <a class="reference internal" href="#django.contrib.admin.ModelAdmin.sortable_by" title="django.contrib.admin.ModelAdmin.sortable_by"><code>sortable_by</code></a> if it’s set, otherwise it defers to <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_list_display" title="django.contrib.admin.ModelAdmin.get_list_display"><code>get_list_display()</code></a>.</p> <p>For example, to prevent one or more columns from being sortable:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    def get_sortable_by(self, request):
        return {*self.get_list_display(request)} - {"rank"}
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_inline_instances">
<code>ModelAdmin.get_inline_instances(request, obj=None)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L697"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>get_inline_instances</code> method is given the <code>HttpRequest</code> and the <code>obj</code> being edited (or <code>None</code> on an add form) and is expected to return a <code>list</code> or <code>tuple</code> of <a class="reference internal" href="#django.contrib.admin.InlineModelAdmin" title="django.contrib.admin.InlineModelAdmin"><code>InlineModelAdmin</code></a> objects, as described below in the <a class="reference internal" href="#django.contrib.admin.InlineModelAdmin" title="django.contrib.admin.InlineModelAdmin"><code>InlineModelAdmin</code></a> section. For example, the following would return inlines without the default filtering based on add, change, delete, and view permissions:</p> <pre data-language="python">class MyModelAdmin(admin.ModelAdmin):
    inlines = [MyInline]

    def get_inline_instances(self, request, obj=None):
        return [inline(self.model, self.admin_site) for inline in self.inlines]
</pre> <p>If you override this method, make sure that the returned inlines are instances of the classes defined in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.inlines" title="django.contrib.admin.ModelAdmin.inlines"><code>inlines</code></a> or you might encounter a “Bad Request” error when adding related objects.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_inlines">
<code>ModelAdmin.get_inlines(request, obj)</code> </dt> <dd>
<p>The <code>get_inlines</code> method is given the <code>HttpRequest</code> and the <code>obj</code> being edited (or <code>None</code> on an add form) and is expected to return an iterable of inlines. You can override this method to dynamically add inlines based on the request or model instance instead of specifying them in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.inlines" title="django.contrib.admin.ModelAdmin.inlines"><code>ModelAdmin.inlines</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_urls">
<code>ModelAdmin.get_urls()</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L714"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The <code>get_urls</code> method on a <code>ModelAdmin</code> returns the URLs to be used for that ModelAdmin in the same way as a URLconf. Therefore you can extend them as documented in <a class="reference internal" href="../../../topics/http/urls.html"><span class="doc">URL dispatcher</span></a>, using the <code>AdminSite.admin_view()</code> wrapper on your views:</p> <pre data-language="python">from django.contrib import admin
from django.template.response import TemplateResponse
from django.urls import path


class MyModelAdmin(admin.ModelAdmin):
    def get_urls(self):
        urls = super().get_urls()
        my_urls = [path("my_view/", self.admin_site.admin_view(self.my_view))]
        return my_urls + urls

    def my_view(self, request):
        # ...
        context = dict(
            # Include common variables for rendering the admin template.
            self.admin_site.each_context(request),
            # Anything else you want in the context...
            key=value,
        )
        return TemplateResponse(request, "sometemplate.html", context)
</pre> <p>If you want to use the admin layout, extend from <code>admin/base_site.html</code>:</p> <pre data-language="markup">{% extends "admin/base_site.html" %}
{% block content %}
...
{% endblock %}
</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Notice how the <code>self.my_view</code> function is wrapped in <code>self.admin_site.admin_view</code>. This is important, since it ensures two things:</p> <ol class="arabic simple"> <li>Permission checks are run, ensuring only active staff users can access the view.</li> <li>The <a class="reference internal" href="../../../topics/http/decorators.html#django.views.decorators.cache.never_cache" title="django.views.decorators.cache.never_cache"><code>django.views.decorators.cache.never_cache()</code></a> decorator is applied to prevent caching, ensuring the returned information is up-to-date.</li> </ol> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Notice that the custom patterns are included <em>before</em> the regular admin URLs: the admin URL patterns are very permissive and will match nearly anything, so you’ll usually want to prepend your custom URLs to the built-in ones.</p> <p>In this example, <code>my_view</code> will be accessed at <code>/admin/myapp/mymodel/my_view/</code> (assuming the admin URLs are included at <code>/admin/</code>.)</p> </div> <p>If the page is cacheable, but you still want the permission check to be performed, you can pass a <code>cacheable=True</code> argument to <code>AdminSite.admin_view()</code>:</p> <pre data-language="python">path("my_view/", self.admin_site.admin_view(self.my_view, cacheable=True))
</pre> <p><code>ModelAdmin</code> views have <code>model_admin</code> attributes. Other <code>AdminSite</code> views have <code>admin_site</code> attributes.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_form">
<code>ModelAdmin.get_form(request, obj=None, **kwargs)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L791"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a <a class="reference internal" href="../../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code>ModelForm</code></a> class for use in the admin add and change views, see <a class="reference internal" href="#django.contrib.admin.ModelAdmin.add_view" title="django.contrib.admin.ModelAdmin.add_view"><code>add_view()</code></a> and <a class="reference internal" href="#django.contrib.admin.ModelAdmin.change_view" title="django.contrib.admin.ModelAdmin.change_view"><code>change_view()</code></a>.</p> <p>The base implementation uses <a class="reference internal" href="../../forms/models.html#django.forms.models.modelform_factory" title="django.forms.models.modelform_factory"><code>modelform_factory()</code></a> to subclass <a class="reference internal" href="#django.contrib.admin.ModelAdmin.form" title="django.contrib.admin.ModelAdmin.form"><code>form</code></a>, modified by attributes such as <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fields" title="django.contrib.admin.ModelAdmin.fields"><code>fields</code></a> and <a class="reference internal" href="#django.contrib.admin.ModelAdmin.exclude" title="django.contrib.admin.ModelAdmin.exclude"><code>exclude</code></a>. So, for example, if you wanted to offer additional fields to superusers, you could swap in a different base form like so:</p> <pre data-language="python">class MyModelAdmin(admin.ModelAdmin):
    def get_form(self, request, obj=None, **kwargs):
        if request.user.is_superuser:
            kwargs["form"] = MySuperuserForm
        return super().get_form(request, obj, **kwargs)
</pre> <p>You may also return a custom <a class="reference internal" href="../../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code>ModelForm</code></a> class directly.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_formsets_with_inlines">
<code>ModelAdmin.get_formsets_with_inlines(request, obj=None)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L933"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Yields (<code>FormSet</code>, <a class="reference internal" href="#django.contrib.admin.InlineModelAdmin" title="django.contrib.admin.InlineModelAdmin"><code>InlineModelAdmin</code></a>) pairs for use in admin add and change views.</p> <p>For example if you wanted to display a particular inline only in the change view, you could override <code>get_formsets_with_inlines</code> as follows:</p> <pre data-language="python">class MyModelAdmin(admin.ModelAdmin):
    inlines = [MyInline, SomeOtherInline]

    def get_formsets_with_inlines(self, request, obj=None):
        for inline in self.get_inline_instances(request, obj):
            # hide MyInline in the add view
            if not isinstance(inline, MyInline) or obj is not None:
                yield inline.get_formset(request, obj), inline
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.formfield_for_foreignkey">
<code>ModelAdmin.formfield_for_foreignkey(db_field, request, **kwargs)</code> </dt> <dd>
<p>The <code>formfield_for_foreignkey</code> method on a <code>ModelAdmin</code> allows you to override the default formfield for a foreign keys field. For example, to return a subset of objects for this foreign key field based on the user:</p> <pre data-language="python">class MyModelAdmin(admin.ModelAdmin):
    def formfield_for_foreignkey(self, db_field, request, **kwargs):
        if db_field.name == "car":
            kwargs["queryset"] = Car.objects.filter(owner=request.user)
        return super().formfield_for_foreignkey(db_field, request, **kwargs)
</pre> <p>This uses the <code>HttpRequest</code> instance to filter the <code>Car</code> foreign key field to only display the cars owned by the <code>User</code> instance.</p> <p>For more complex filters, you can use <code>ModelForm.__init__()</code> method to filter based on an <code>instance</code> of your model (see <a class="reference internal" href="../../forms/fields.html#fields-which-handle-relationships"><span class="std std-ref">Fields which handle relationships</span></a>). For example:</p> <pre data-language="python">class CountryAdminForm(forms.ModelForm):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.fields["capital"].queryset = self.instance.cities.all()


class CountryAdmin(admin.ModelAdmin):
    form = CountryAdminForm
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.formfield_for_manytomany">
<code>ModelAdmin.formfield_for_manytomany(db_field, request, **kwargs)</code> </dt> <dd>
<p>Like the <code>formfield_for_foreignkey</code> method, the <code>formfield_for_manytomany</code> method can be overridden to change the default formfield for a many to many field. For example, if an owner can own multiple cars and cars can belong to multiple owners – a many to many relationship – you could filter the <code>Car</code> foreign key field to only display the cars owned by the <code>User</code>:</p> <pre data-language="python">class MyModelAdmin(admin.ModelAdmin):
    def formfield_for_manytomany(self, db_field, request, **kwargs):
        if db_field.name == "cars":
            kwargs["queryset"] = Car.objects.filter(owner=request.user)
        return super().formfield_for_manytomany(db_field, request, **kwargs)
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.formfield_for_choice_field">
<code>ModelAdmin.formfield_for_choice_field(db_field, request, **kwargs)</code> </dt> <dd>
<p>Like the <code>formfield_for_foreignkey</code> and <code>formfield_for_manytomany</code> methods, the <code>formfield_for_choice_field</code> method can be overridden to change the default formfield for a field that has declared choices. For example, if the choices available to a superuser should be different than those available to regular staff, you could proceed as follows:</p> <pre data-language="python">class MyModelAdmin(admin.ModelAdmin):
    def formfield_for_choice_field(self, db_field, request, **kwargs):
        if db_field.name == "status":
            kwargs["choices"] = [
                ("accepted", "Accepted"),
                ("denied", "Denied"),
            ]
            if request.user.is_superuser:
                kwargs["choices"].append(("ready", "Ready for deployment"))
        return super().formfield_for_choice_field(db_field, request, **kwargs)
</pre> <div class="admonition-choices-limitations admonition"> <p class="admonition-title"><code>choices</code> limitations</p> <p>Any <code>choices</code> attribute set on the formfield will be limited to the form field only. If the corresponding field on the model has choices set, the choices provided to the form must be a valid subset of those choices, otherwise the form submission will fail with a <a class="reference internal" href="../../exceptions.html#django.core.exceptions.ValidationError" title="django.core.exceptions.ValidationError"><code>ValidationError</code></a> when the model itself is validated before saving.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_changelist">
<code>ModelAdmin.get_changelist(request, **kwargs)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L847"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns the <code>Changelist</code> class to be used for listing. By default, <code>django.contrib.admin.views.main.ChangeList</code> is used. By inheriting this class you can change the behavior of the listing.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_changelist_form">
<code>ModelAdmin.get_changelist_form(request, **kwargs)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L901"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a <a class="reference internal" href="../../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code>ModelForm</code></a> class for use in the <code>Formset</code> on the changelist page. To use a custom form, for example:</p> <pre data-language="python">from django import forms


class MyForm(forms.ModelForm):
    pass


class MyModelAdmin(admin.ModelAdmin):
    def get_changelist_form(self, request, **kwargs):
        return MyForm
</pre> <div class="admonition-omit-the-meta-model-attribute admonition"> <p class="admonition-title">Omit the <code>Meta.model</code> attribute</p> <p>If you define the <code>Meta.model</code> attribute on a <a class="reference internal" href="../../../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><code>ModelForm</code></a>, you must also define the <code>Meta.fields</code> attribute (or the <code>Meta.exclude</code> attribute). However, <code>ModelAdmin</code> ignores this value, overriding it with the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_editable" title="django.contrib.admin.ModelAdmin.list_editable"><code>ModelAdmin.list_editable</code></a> attribute. The easiest solution is to omit the <code>Meta.model</code> attribute, since <code>ModelAdmin</code> will provide the correct model to use.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_changelist_formset">
<code>ModelAdmin.get_changelist_formset(request, **kwargs)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L916"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a <a class="reference internal" href="../../../topics/forms/modelforms.html#model-formsets"><span class="std std-ref">ModelFormSet</span></a> class for use on the changelist page if <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_editable" title="django.contrib.admin.ModelAdmin.list_editable"><code>list_editable</code></a> is used. To use a custom formset, for example:</p> <pre data-language="python">from django.forms import BaseModelFormSet


class MyAdminFormSet(BaseModelFormSet):
    pass


class MyModelAdmin(admin.ModelAdmin):
    def get_changelist_formset(self, request, **kwargs):
        kwargs["formset"] = MyAdminFormSet
        return super().get_changelist_formset(request, **kwargs)
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.lookup_allowed">
<code>ModelAdmin.lookup_allowed(lookup, value, request)</code> </dt> <dd>
<p>The objects in the changelist page can be filtered with lookups from the URL’s query string. This is how <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_filter" title="django.contrib.admin.ModelAdmin.list_filter"><code>list_filter</code></a> works, for example. The lookups are similar to what’s used in <a class="reference internal" href="../../models/querysets.html#django.db.models.query.QuerySet.filter" title="django.db.models.query.QuerySet.filter"><code>QuerySet.filter()</code></a> (e.g. <code>user__email=user@example.com</code>). Since the lookups in the query string can be manipulated by the user, they must be sanitized to prevent unauthorized data exposure.</p> <p>The <code>lookup_allowed()</code> method is given a lookup path from the query string (e.g. <code>'user__email'</code>), the corresponding value (e.g. <code>'user@example.com'</code>), and the request, and returns a boolean indicating whether filtering the changelist’s <code>QuerySet</code> using the parameters is permitted. If <code>lookup_allowed()</code> returns <code>False</code>, <code>DisallowedModelAdminLookup</code> (subclass of <a class="reference internal" href="../../exceptions.html#django.core.exceptions.SuspiciousOperation" title="django.core.exceptions.SuspiciousOperation"><code>SuspiciousOperation</code></a>) is raised.</p> <p>By default, <code>lookup_allowed()</code> allows access to a model’s local fields, field paths used in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_filter" title="django.contrib.admin.ModelAdmin.list_filter"><code>list_filter</code></a> (but not paths from <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_list_filter" title="django.contrib.admin.ModelAdmin.get_list_filter"><code>get_list_filter()</code></a>), and lookups required for <a class="reference internal" href="../../models/fields.html#django.db.models.ForeignKey.limit_choices_to" title="django.db.models.ForeignKey.limit_choices_to"><code>limit_choices_to</code></a> to function correctly in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.raw_id_fields" title="django.contrib.admin.ModelAdmin.raw_id_fields"><code>raw_id_fields</code></a>.</p> <p>Override this method to customize the lookups permitted for your <a class="reference internal" href="#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><code>ModelAdmin</code></a> subclass.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.has_view_permission">
<code>ModelAdmin.has_view_permission(request, obj=None)</code> </dt> <dd>
<p>Should return <code>True</code> if viewing <code>obj</code> is permitted, <code>False</code> otherwise. If obj is <code>None</code>, should return <code>True</code> or <code>False</code> to indicate whether viewing of objects of this type is permitted in general (e.g., <code>False</code> will be interpreted as meaning that the current user is not permitted to view any object of this type).</p> <p>The default implementation returns <code>True</code> if the user has either the “change” or “view” permission.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.has_add_permission">
<code>ModelAdmin.has_add_permission(request)</code> </dt> <dd>
<p>Should return <code>True</code> if adding an object is permitted, <code>False</code> otherwise.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.has_change_permission">
<code>ModelAdmin.has_change_permission(request, obj=None)</code> </dt> <dd>
<p>Should return <code>True</code> if editing <code>obj</code> is permitted, <code>False</code> otherwise. If <code>obj</code> is <code>None</code>, should return <code>True</code> or <code>False</code> to indicate whether editing of objects of this type is permitted in general (e.g., <code>False</code> will be interpreted as meaning that the current user is not permitted to edit any object of this type).</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.has_delete_permission">
<code>ModelAdmin.has_delete_permission(request, obj=None)</code> </dt> <dd>
<p>Should return <code>True</code> if deleting <code>obj</code> is permitted, <code>False</code> otherwise. If <code>obj</code> is <code>None</code>, should return <code>True</code> or <code>False</code> to indicate whether deleting objects of this type is permitted in general (e.g., <code>False</code> will be interpreted as meaning that the current user is not permitted to delete any object of this type).</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.has_module_permission">
<code>ModelAdmin.has_module_permission(request)</code> </dt> <dd>
<p>Should return <code>True</code> if displaying the module on the admin index page and accessing the module’s index page is permitted, <code>False</code> otherwise. Uses <a class="reference internal" href="../auth.html#django.contrib.auth.models.User.has_module_perms" title="django.contrib.auth.models.User.has_module_perms"><code>User.has_module_perms()</code></a> by default. Overriding it does not restrict access to the view, add, change, or delete views, <a class="reference internal" href="#django.contrib.admin.ModelAdmin.has_view_permission" title="django.contrib.admin.ModelAdmin.has_view_permission"><code>has_view_permission()</code></a>, <a class="reference internal" href="#django.contrib.admin.ModelAdmin.has_add_permission" title="django.contrib.admin.ModelAdmin.has_add_permission"><code>has_add_permission()</code></a>, <a class="reference internal" href="#django.contrib.admin.ModelAdmin.has_change_permission" title="django.contrib.admin.ModelAdmin.has_change_permission"><code>has_change_permission()</code></a>, and <a class="reference internal" href="#django.contrib.admin.ModelAdmin.has_delete_permission" title="django.contrib.admin.ModelAdmin.has_delete_permission"><code>has_delete_permission()</code></a> should be used for that.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_queryset">
<code>ModelAdmin.get_queryset(request)</code> </dt> <dd>
<p>The <code>get_queryset</code> method on a <code>ModelAdmin</code> returns a <a class="reference internal" href="../../models/querysets.html#django.db.models.query.QuerySet" title="django.db.models.query.QuerySet"><code>QuerySet</code></a> of all model instances that can be edited by the admin site. One use case for overriding this method is to show objects owned by the logged-in user:</p> <pre data-language="python">class MyModelAdmin(admin.ModelAdmin):
    def get_queryset(self, request):
        qs = super().get_queryset(request)
        if request.user.is_superuser:
            return qs
        return qs.filter(author=request.user)
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.message_user">
<code>ModelAdmin.message_user(request, message, level=messages.INFO, extra_tags='', fail_silently=False)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1275"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Sends a message to the user using the <a class="reference internal" href="../messages.html#module-django.contrib.messages" title="django.contrib.messages: Provides cookie- and session-based temporary message storage."><code>django.contrib.messages</code></a> backend. See the <a class="reference internal" href="actions.html#custom-admin-action"><span class="std std-ref">custom ModelAdmin example</span></a>.</p> <p>Keyword arguments allow you to change the message level, add extra CSS tags, or fail silently if the <code>contrib.messages</code> framework is not installed. These keyword arguments match those for <a class="reference internal" href="../messages.html#django.contrib.messages.add_message" title="django.contrib.messages.add_message"><code>django.contrib.messages.add_message()</code></a>, see that function’s documentation for more details. One difference is that the level may be passed as a string label in addition to integer/constant.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_paginator">
<code>ModelAdmin.get_paginator(request, queryset, per_page, orphans=0, allow_empty_first_page=True)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L940"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns an instance of the paginator to use for this view. By default, instantiates an instance of <a class="reference internal" href="#django.contrib.admin.ModelAdmin.paginator" title="django.contrib.admin.ModelAdmin.paginator"><code>paginator</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.response_add">
<code>ModelAdmin.response_add(request, obj, post_url_continue=None)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1412"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Determines the <a class="reference internal" href="../../request-response.html#django.http.HttpResponse" title="django.http.HttpResponse"><code>HttpResponse</code></a> for the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.add_view" title="django.contrib.admin.ModelAdmin.add_view"><code>add_view()</code></a> stage.</p> <p><code>response_add</code> is called after the admin form is submitted and just after the object and all the related instances have been created and saved. You can override it to change the default behavior after the object has been created.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.response_change">
<code>ModelAdmin.response_change(request, obj)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1512"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Determines the <a class="reference internal" href="../../request-response.html#django.http.HttpResponse" title="django.http.HttpResponse"><code>HttpResponse</code></a> for the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.change_view" title="django.contrib.admin.ModelAdmin.change_view"><code>change_view()</code></a> stage.</p> <p><code>response_change</code> is called after the admin form is submitted and just after the object and all the related instances have been saved. You can override it to change the default behavior after the object has been changed.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.response_delete">
<code>ModelAdmin.response_delete(request, obj_display, obj_id)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1700"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Determines the <a class="reference internal" href="../../request-response.html#django.http.HttpResponse" title="django.http.HttpResponse"><code>HttpResponse</code></a> for the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.delete_view" title="django.contrib.admin.ModelAdmin.delete_view"><code>delete_view()</code></a> stage.</p> <p><code>response_delete</code> is called after the object has been deleted. You can override it to change the default behavior after the object has been deleted.</p> <p><code>obj_display</code> is a string with the name of the deleted object.</p> <p><code>obj_id</code> is the serialized identifier used to retrieve the object to be deleted.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_formset_kwargs">
<code>ModelAdmin.get_formset_kwargs(request, obj, inline, prefix)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L2334"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A hook for customizing the keyword arguments passed to the constructor of a formset. For example, to pass <code>request</code> to formset forms:</p> <pre data-language="python">class MyModelAdmin(admin.ModelAdmin):
    def get_formset_kwargs(self, request, obj, inline, prefix):
        return {
            **super().get_formset_kwargs(request, obj, inline, prefix),
            "form_kwargs": {"request": request},
        }
</pre> <p>You can also use it to set <code>initial</code> for formset forms.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_changeform_initial_data">
<code>ModelAdmin.get_changeform_initial_data(request)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1809"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A hook for the initial data on admin change forms. By default, fields are given initial values from <code>GET</code> parameters. For instance, <code>?name=initial_value</code> will set the <code>name</code> field’s initial value to be <code>initial_value</code>.</p> <p>This method should return a dictionary in the form <code>{'fieldname': 'fieldval'}</code>:</p> <pre data-language="python">def get_changeform_initial_data(self, request):
    return {"name": "custom_initial_value"}
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.get_deleted_objects">
<code>ModelAdmin.get_deleted_objects(objs, request)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L2194"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A hook for customizing the deletion process of the <a class="reference internal" href="#django.contrib.admin.ModelAdmin.delete_view" title="django.contrib.admin.ModelAdmin.delete_view"><code>delete_view()</code></a> and the “delete selected” <a class="reference internal" href="actions.html"><span class="doc">action</span></a>.</p> <p>The <code>objs</code> argument is a homogeneous iterable of objects (a <code>QuerySet</code> or a list of model instances) to be deleted, and <code>request</code> is the <a class="reference internal" href="../../request-response.html#django.http.HttpRequest" title="django.http.HttpRequest"><code>HttpRequest</code></a>.</p> <p>This method must return a 4-tuple of <code>(deleted_objects, model_count, perms_needed, protected)</code>.</p> <p><code>deleted_objects</code> is a list of strings representing all the objects that will be deleted. If there are any related objects to be deleted, the list is nested and includes those related objects. The list is formatted in the template using the <a class="reference internal" href="../../templates/builtins.html#std-templatefilter-unordered_list"><code>unordered_list</code></a> filter.</p> <p><code>model_count</code> is a dictionary mapping each model’s <a class="reference internal" href="../../models/options.html#django.db.models.Options.verbose_name_plural" title="django.db.models.Options.verbose_name_plural"><code>verbose_name_plural</code></a> to the number of objects that will be deleted.</p> <p><code>perms_needed</code> is a set of <a class="reference internal" href="../../models/options.html#django.db.models.Options.verbose_name" title="django.db.models.Options.verbose_name"><code>verbose_name</code></a>s of the models that the user doesn’t have permission to delete.</p> <p><code>protected</code> is a list of strings representing of all the protected related objects that can’t be deleted. The list is displayed in the template.</p> </dd>
</dl> <section id="s-other-methods"> <h4 id="other-methods">Other methods</h4> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.add_view">
<code>ModelAdmin.add_view(request, form_url='', extra_context=None)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1983"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Django view for the model instance addition page. See note below.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.change_view">
<code>ModelAdmin.change_view(request, object_id, form_url='', extra_context=None)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L1986"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Django view for the model instance editing page. See note below.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.changelist_view">
<code>ModelAdmin.changelist_view(request, extra_context=None)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L2013"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Django view for the model instances change list/actions page. See note below.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.delete_view">
<code>ModelAdmin.delete_view(request, object_id, extra_context=None)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L2202"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Django view for the model instance(s) deletion confirmation page. See note below.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.ModelAdmin.history_view">
<code>ModelAdmin.history_view(request, object_id, extra_context=None)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L2274"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Django view for the page that shows the modification history for a given model instance.</p> </dd>
</dl> <p>Unlike the hook-type <code>ModelAdmin</code> methods detailed in the previous section, these five methods are in reality designed to be invoked as Django views from the admin application URL dispatching handler to render the pages that deal with model instances CRUD operations. As a result, completely overriding these methods will significantly change the behavior of the admin application.</p> <p>One common reason for overriding these methods is to augment the context data that is provided to the template that renders the view. In the following example, the change view is overridden so that the rendered template is provided some extra mapping data that would not otherwise be available:</p> <pre data-language="python">class MyModelAdmin(admin.ModelAdmin):
    # A template for a very customized change view:
    change_form_template = "admin/myapp/extras/openstreetmap_change_form.html"

    def get_osm_info(self):
        # ...
        pass

    def change_view(self, request, object_id, form_url="", extra_context=None):
        extra_context = extra_context or {}
        extra_context["osm_data"] = self.get_osm_info()
        return super().change_view(
            request,
            object_id,
            form_url,
            extra_context=extra_context,
        )
</pre> <p>These views return <a class="reference internal" href="../../template-response.html#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><code>TemplateResponse</code></a> instances which allow you to easily customize the response data before rendering. For more details, see the <a class="reference internal" href="../../template-response.html"><span class="doc">TemplateResponse documentation</span></a>.</p> </section> </section> <section id="s-modeladmin-asset-definitions"> <h3 id="id1">
<code>ModelAdmin</code> asset definitions</h3> <p>There are times where you would like add a bit of CSS and/or JavaScript to the add/change views. This can be accomplished by using a <code>Media</code> inner class on your <code>ModelAdmin</code>:</p> <pre data-language="python">class ArticleAdmin(admin.ModelAdmin):
    class Media:
        css = {
            "all": ["my_styles.css"],
        }
        js = ["my_code.js"]
</pre> <p>The <a class="reference internal" href="../staticfiles.html"><span class="doc">staticfiles app</span></a> prepends <a class="reference internal" href="../../settings.html#std-setting-STATIC_URL"><code>STATIC_URL</code></a> (or <a class="reference internal" href="../../settings.html#std-setting-MEDIA_URL"><code>MEDIA_URL</code></a> if <a class="reference internal" href="../../settings.html#std-setting-STATIC_URL"><code>STATIC_URL</code></a> is <code>None</code>) to any asset paths. The same rules apply as <a class="reference internal" href="../../../topics/forms/media.html#form-asset-paths"><span class="std std-ref">regular asset definitions on forms</span></a>.</p> <section id="s-jquery"> <h4 id="contrib-admin-jquery">jQuery</h4> <p>Django admin JavaScript makes use of the <a class="reference external" href="https://jquery.com">jQuery</a> library.</p> <p>To avoid conflicts with user-supplied scripts or libraries, Django’s jQuery (version 3.7.1) is namespaced as <code>django.jQuery</code>. If you want to use jQuery in your own admin JavaScript without including a second copy, you can use the <code>django.jQuery</code> object on changelist and add/edit views. Also, your own admin forms or widgets depending on <code>django.jQuery</code> must specify <code>js=['admin/js/jquery.init.js', …]</code> when <a class="reference internal" href="../../../topics/forms/media.html#assets-as-a-static-definition"><span class="std std-ref">declaring form media assets</span></a>.</p> <p>The <a class="reference internal" href="#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><code>ModelAdmin</code></a> class requires jQuery by default, so there is no need to add jQuery to your <code>ModelAdmin</code>’s list of media resources unless you have a specific need. For example, if you require the jQuery library to be in the global namespace (for example when using third-party jQuery plugins) or if you need a newer version of jQuery, you will have to include your own copy.</p> <p>Django provides both uncompressed and ‘minified’ versions of jQuery, as <code>jquery.js</code> and <code>jquery.min.js</code> respectively.</p> <p><a class="reference internal" href="#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><code>ModelAdmin</code></a> and <a class="reference internal" href="#django.contrib.admin.InlineModelAdmin" title="django.contrib.admin.InlineModelAdmin"><code>InlineModelAdmin</code></a> have a <code>media</code> property that returns a list of <code>Media</code> objects which store paths to the JavaScript files for the forms and/or formsets. If <a class="reference internal" href="../../settings.html#std-setting-DEBUG"><code>DEBUG</code></a> is <code>True</code> it will return the uncompressed versions of the various JavaScript files, including <code>jquery.js</code>; if not, it will return the ‘minified’ versions.</p> </section> </section> <section id="s-adding-custom-validation-to-the-admin"> <h3 id="admin-custom-validation">Adding custom validation to the admin</h3> <p>You can also add custom validation of data in the admin. The automatic admin interface reuses <a class="reference internal" href="../../forms/api.html#module-django.forms" title="django.forms"><code>django.forms</code></a>, and the <code>ModelAdmin</code> class gives you the ability to define your own form:</p> <pre data-language="python">class ArticleAdmin(admin.ModelAdmin):
    form = MyArticleAdminForm
</pre> <p><code>MyArticleAdminForm</code> can be defined anywhere as long as you import where needed. Now within your form you can add your own custom validation for any field:</p> <pre data-language="python">class MyArticleAdminForm(forms.ModelForm):
    def clean_name(self):
        # do something that validates your data
        return self.cleaned_data["name"]
</pre> <p>It is important you use a <code>ModelForm</code> here otherwise things can break. See the <a class="reference internal" href="../../forms/index.html"><span class="doc">forms</span></a> documentation on <a class="reference internal" href="../../forms/validation.html"><span class="doc">custom validation</span></a> and, more specifically, the <a class="reference internal" href="../../../topics/forms/modelforms.html#overriding-modelform-clean-method"><span class="std std-ref">model form validation notes</span></a> for more information.</p> </section> </section> <section id="s-inlinemodeladmin-objects"> <h2 id="admin-inlines">
<code>InlineModelAdmin</code> objects</h2> <dl class="py class"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin">
<code>class InlineModelAdmin</code> </dt> 
</dl> <dl class="py class"> <dt class="sig sig-object py" id="django.contrib.admin.TabularInline">
<code>class TabularInline</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L2599"><span class="viewcode-link">[source]</span></a>
</dt> 
</dl> <dl class="py class"> <dt class="sig sig-object py" id="django.contrib.admin.StackedInline">
<code>class StackedInline</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/options.py#L2595"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>The admin interface has the ability to edit models on the same page as a parent model. These are called inlines. Suppose you have these two models:</p> <pre data-language="python">from django.db import models


class Author(models.Model):
    name = models.CharField(max_length=100)


class Book(models.Model):
    author = models.ForeignKey(Author, on_delete=models.CASCADE)
    title = models.CharField(max_length=100)
</pre> <p>You can edit the books authored by an author on the author page. You add inlines to a model by specifying them in a <code>ModelAdmin.inlines</code>:</p> <pre data-language="python">from django.contrib import admin
from myapp.models import Author, Book


class BookInline(admin.TabularInline):
    model = Book


class AuthorAdmin(admin.ModelAdmin):
    inlines = [
        BookInline,
    ]


admin.site.register(Author, AuthorAdmin)
</pre> <p>Django provides two subclasses of <code>InlineModelAdmin</code> and they are:</p> <ul class="simple"> <li><a class="reference internal" href="#django.contrib.admin.TabularInline" title="django.contrib.admin.TabularInline"><code>TabularInline</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.StackedInline" title="django.contrib.admin.StackedInline"><code>StackedInline</code></a></li> </ul> <p>The difference between these two is merely the template used to render them.</p> </dd>
</dl> <section id="s-inlinemodeladmin-options"> <h3 id="inlinemodeladmin-options">
<code>InlineModelAdmin</code> options</h3> <p><code>InlineModelAdmin</code> shares many of the same features as <code>ModelAdmin</code>, and adds some of its own (the shared features are actually defined in the <code>BaseModelAdmin</code> superclass). The shared features are:</p> <ul class="simple"> <li><a class="reference internal" href="#django.contrib.admin.InlineModelAdmin.form" title="django.contrib.admin.InlineModelAdmin.form"><code>form</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.fieldsets" title="django.contrib.admin.ModelAdmin.fieldsets"><code>fieldsets</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.fields" title="django.contrib.admin.ModelAdmin.fields"><code>fields</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.formfield_overrides" title="django.contrib.admin.ModelAdmin.formfield_overrides"><code>formfield_overrides</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.exclude" title="django.contrib.admin.ModelAdmin.exclude"><code>exclude</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.filter_horizontal" title="django.contrib.admin.ModelAdmin.filter_horizontal"><code>filter_horizontal</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.filter_vertical" title="django.contrib.admin.ModelAdmin.filter_vertical"><code>filter_vertical</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.ordering" title="django.contrib.admin.ModelAdmin.ordering"><code>ordering</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.prepopulated_fields" title="django.contrib.admin.ModelAdmin.prepopulated_fields"><code>prepopulated_fields</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_fieldsets" title="django.contrib.admin.ModelAdmin.get_fieldsets"><code>get_fieldsets()</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_queryset" title="django.contrib.admin.ModelAdmin.get_queryset"><code>get_queryset()</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.radio_fields" title="django.contrib.admin.ModelAdmin.radio_fields"><code>radio_fields</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.readonly_fields" title="django.contrib.admin.ModelAdmin.readonly_fields"><code>readonly_fields</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.InlineModelAdmin.raw_id_fields" title="django.contrib.admin.InlineModelAdmin.raw_id_fields"><code>raw_id_fields</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.formfield_for_choice_field" title="django.contrib.admin.ModelAdmin.formfield_for_choice_field"><code>formfield_for_choice_field()</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.formfield_for_foreignkey" title="django.contrib.admin.ModelAdmin.formfield_for_foreignkey"><code>formfield_for_foreignkey()</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.formfield_for_manytomany" title="django.contrib.admin.ModelAdmin.formfield_for_manytomany"><code>formfield_for_manytomany()</code></a></li> <li><a class="reference internal" href="#django.contrib.admin.ModelAdmin.has_module_permission" title="django.contrib.admin.ModelAdmin.has_module_permission"><code>has_module_permission()</code></a></li> </ul> <p>The <code>InlineModelAdmin</code> class adds or customizes:</p> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.model">
<code>InlineModelAdmin.model</code> </dt> <dd>
<p>The model which the inline is using. This is required.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.fk_name">
<code>InlineModelAdmin.fk_name</code> </dt> <dd>
<p>The name of the foreign key on the model. In most cases this will be dealt with automatically, but <code>fk_name</code> must be specified explicitly if there are more than one foreign key to the same parent model.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.formset">
<code>InlineModelAdmin.formset</code> </dt> <dd>
<p>This defaults to <a class="reference internal" href="../../../topics/forms/modelforms.html#django.forms.models.BaseInlineFormSet" title="django.forms.models.BaseInlineFormSet"><code>BaseInlineFormSet</code></a>. Using your own formset can give you many possibilities of customization. Inlines are built around <a class="reference internal" href="../../../topics/forms/modelforms.html#model-formsets"><span class="std std-ref">model formsets</span></a>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.form">
<code>InlineModelAdmin.form</code> </dt> <dd>
<p>The value for <code>form</code> defaults to <code>ModelForm</code>. This is what is passed through to <a class="reference internal" href="../../forms/models.html#django.forms.models.inlineformset_factory" title="django.forms.models.inlineformset_factory"><code>inlineformset_factory()</code></a> when creating the formset for this inline.</p> </dd>
</dl> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>When writing custom validation for <code>InlineModelAdmin</code> forms, be cautious of writing validation that relies on features of the parent model. If the parent model fails to validate, it may be left in an inconsistent state as described in the warning in <a class="reference internal" href="../../../topics/forms/modelforms.html#validation-on-modelform"><span class="std std-ref">Validation on a ModelForm</span></a>.</p> </div> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.classes">
<code>InlineModelAdmin.classes</code> </dt> <dd>
<p>A list or tuple containing extra CSS classes to apply to the fieldset that is rendered for the inlines. Defaults to <code>None</code>. As with classes configured in <a class="reference internal" href="#django.contrib.admin.ModelAdmin.fieldsets" title="django.contrib.admin.ModelAdmin.fieldsets"><code>fieldsets</code></a>, inlines with a <code>collapse</code> class will be initially collapsed using an expandable widget.</p> <div class="versionchanged"> <span class="title">Changed in Django 5.1:</span> <p><code>fieldsets</code> using the <code>collapse</code> class now use <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> elements, provided they define a <code>name</code>.</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.extra">
<code>InlineModelAdmin.extra</code> </dt> <dd>
<p>This controls the number of extra forms the formset will display in addition to the initial forms. Defaults to 3. See the <a class="reference internal" href="../../../topics/forms/formsets.html"><span class="doc">formsets documentation</span></a> for more information.</p> <p>For users with JavaScript-enabled browsers, an “Add another” link is provided to enable any number of additional inlines to be added in addition to those provided as a result of the <code>extra</code> argument.</p> <p>The dynamic link will not appear if the number of currently displayed forms exceeds <code>max_num</code>, or if the user does not have JavaScript enabled.</p> <p><a class="reference internal" href="#django.contrib.admin.InlineModelAdmin.get_extra" title="django.contrib.admin.InlineModelAdmin.get_extra"><code>InlineModelAdmin.get_extra()</code></a> also allows you to customize the number of extra forms.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.max_num">
<code>InlineModelAdmin.max_num</code> </dt> <dd>
<p>This controls the maximum number of forms to show in the inline. This doesn’t directly correlate to the number of objects, but can if the value is small enough. See <a class="reference internal" href="../../../topics/forms/modelforms.html#model-formsets-max-num"><span class="std std-ref">Limiting the number of editable objects</span></a> for more information.</p> <p><a class="reference internal" href="#django.contrib.admin.InlineModelAdmin.get_max_num" title="django.contrib.admin.InlineModelAdmin.get_max_num"><code>InlineModelAdmin.get_max_num()</code></a> also allows you to customize the maximum number of extra forms.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.min_num">
<code>InlineModelAdmin.min_num</code> </dt> <dd>
<p>This controls the minimum number of forms to show in the inline. See <a class="reference internal" href="../../forms/models.html#django.forms.models.modelformset_factory" title="django.forms.models.modelformset_factory"><code>modelformset_factory()</code></a> for more information.</p> <p><a class="reference internal" href="#django.contrib.admin.InlineModelAdmin.get_min_num" title="django.contrib.admin.InlineModelAdmin.get_min_num"><code>InlineModelAdmin.get_min_num()</code></a> also allows you to customize the minimum number of displayed forms.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.raw_id_fields">
<code>InlineModelAdmin.raw_id_fields</code> </dt> <dd>
<p>By default, Django’s admin uses a select-box interface (&lt;select&gt;) for fields that are <code>ForeignKey</code>. Sometimes you don’t want to incur the overhead of having to select all the related instances to display in the drop-down.</p> <p><code>raw_id_fields</code> is a list of fields you would like to change into an <code>Input</code> widget for either a <code>ForeignKey</code> or <code>ManyToManyField</code>:</p> <pre data-language="python">class BookInline(admin.TabularInline):
    model = Book
    raw_id_fields = ["pages"]
</pre> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.template">
<code>InlineModelAdmin.template</code> </dt> <dd>
<p>The template used to render the inline on the page.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.verbose_name">
<code>InlineModelAdmin.verbose_name</code> </dt> <dd>
<p>An override to the <a class="reference internal" href="../../models/options.html#django.db.models.Options.verbose_name" title="django.db.models.Options.verbose_name"><code>verbose_name</code></a> from the model’s inner <code>Meta</code> class.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.verbose_name_plural">
<code>InlineModelAdmin.verbose_name_plural</code> </dt> <dd>
<p>An override to the <a class="reference internal" href="../../models/options.html#django.db.models.Options.verbose_name_plural" title="django.db.models.Options.verbose_name_plural"><code>verbose_name_plural</code></a> from the model’s inner <code>Meta</code> class. If this isn’t given and the <a class="reference internal" href="#django.contrib.admin.InlineModelAdmin.verbose_name" title="django.contrib.admin.InlineModelAdmin.verbose_name"><code>InlineModelAdmin.verbose_name</code></a> is defined, Django will use <a class="reference internal" href="#django.contrib.admin.InlineModelAdmin.verbose_name" title="django.contrib.admin.InlineModelAdmin.verbose_name"><code>InlineModelAdmin.verbose_name</code></a> + <code>'s'</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.can_delete">
<code>InlineModelAdmin.can_delete</code> </dt> <dd>
<p>Specifies whether or not inline objects can be deleted in the inline. Defaults to <code>True</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.show_change_link">
<code>InlineModelAdmin.show_change_link</code> </dt> <dd>
<p>Specifies whether or not inline objects that can be changed in the admin have a link to the change form. Defaults to <code>False</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.get_formset">
<code>InlineModelAdmin.get_formset(request, obj=None, **kwargs)</code> </dt> <dd>
<p>Returns a <a class="reference internal" href="../../../topics/forms/modelforms.html#django.forms.models.BaseInlineFormSet" title="django.forms.models.BaseInlineFormSet"><code>BaseInlineFormSet</code></a> class for use in admin add/change views. <code>obj</code> is the parent object being edited or <code>None</code> when adding a new parent. See the example for <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_formsets_with_inlines" title="django.contrib.admin.ModelAdmin.get_formsets_with_inlines"><code>ModelAdmin.get_formsets_with_inlines</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.get_extra">
<code>InlineModelAdmin.get_extra(request, obj=None, **kwargs)</code> </dt> <dd>
<p>Returns the number of extra inline forms to use. By default, returns the <a class="reference internal" href="#django.contrib.admin.InlineModelAdmin.extra" title="django.contrib.admin.InlineModelAdmin.extra"><code>InlineModelAdmin.extra</code></a> attribute.</p> <p>Override this method to programmatically determine the number of extra inline forms. For example, this may be based on the model instance (passed as the keyword argument <code>obj</code>):</p> <pre data-language="python">class BinaryTreeAdmin(admin.TabularInline):
    model = BinaryTree

    def get_extra(self, request, obj=None, **kwargs):
        extra = 2
        if obj:
            return extra - obj.binarytree_set.count()
        return extra
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.get_max_num">
<code>InlineModelAdmin.get_max_num(request, obj=None, **kwargs)</code> </dt> <dd>
<p>Returns the maximum number of extra inline forms to use. By default, returns the <a class="reference internal" href="#django.contrib.admin.InlineModelAdmin.max_num" title="django.contrib.admin.InlineModelAdmin.max_num"><code>InlineModelAdmin.max_num</code></a> attribute.</p> <p>Override this method to programmatically determine the maximum number of inline forms. For example, this may be based on the model instance (passed as the keyword argument <code>obj</code>):</p> <pre data-language="python">class BinaryTreeAdmin(admin.TabularInline):
    model = BinaryTree

    def get_max_num(self, request, obj=None, **kwargs):
        max_num = 10
        if obj and obj.parent:
            return max_num - 5
        return max_num
</pre> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.get_min_num">
<code>InlineModelAdmin.get_min_num(request, obj=None, **kwargs)</code> </dt> <dd>
<p>Returns the minimum number of inline forms to use. By default, returns the <a class="reference internal" href="#django.contrib.admin.InlineModelAdmin.min_num" title="django.contrib.admin.InlineModelAdmin.min_num"><code>InlineModelAdmin.min_num</code></a> attribute.</p> <p>Override this method to programmatically determine the minimum number of inline forms. For example, this may be based on the model instance (passed as the keyword argument <code>obj</code>).</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.has_add_permission">
<code>InlineModelAdmin.has_add_permission(request, obj)</code> </dt> <dd>
<p>Should return <code>True</code> if adding an inline object is permitted, <code>False</code> otherwise. <code>obj</code> is the parent object being edited or <code>None</code> when adding a new parent.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.has_change_permission">
<code>InlineModelAdmin.has_change_permission(request, obj=None)</code> </dt> <dd>
<p>Should return <code>True</code> if editing an inline object is permitted, <code>False</code> otherwise. <code>obj</code> is the parent object being edited.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.InlineModelAdmin.has_delete_permission">
<code>InlineModelAdmin.has_delete_permission(request, obj=None)</code> </dt> <dd>
<p>Should return <code>True</code> if deleting an inline object is permitted, <code>False</code> otherwise. <code>obj</code> is the parent object being edited.</p> </dd>
</dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The <code>obj</code> argument passed to <code>InlineModelAdmin</code> methods is the parent object being edited or <code>None</code> when adding a new parent.</p> </div> </section> <section id="s-working-with-a-model-with-two-or-more-foreign-keys-to-the-same-parent-model"> <h3 id="working-with-a-model-with-two-or-more-foreign-keys-to-the-same-parent-model">Working with a model with two or more foreign keys to the same parent model</h3> <p>It is sometimes possible to have more than one foreign key to the same model. Take this model for instance:</p> <pre data-language="python">from django.db import models


class Person(models.Model):
    name = models.CharField(max_length=128)


class Friendship(models.Model):
    to_person = models.ForeignKey(
        Person, on_delete=models.CASCADE, related_name="friends"
    )
    from_person = models.ForeignKey(
        Person, on_delete=models.CASCADE, related_name="from_friends"
    )
</pre> <p>If you wanted to display an inline on the <code>Person</code> admin add/change pages you need to explicitly define the foreign key since it is unable to do so automatically:</p> <pre data-language="python">from django.contrib import admin
from myapp.models import Friendship, Person


class FriendshipInline(admin.TabularInline):
    model = Friendship
    fk_name = "to_person"


class PersonAdmin(admin.ModelAdmin):
    inlines = [
        FriendshipInline,
    ]


admin.site.register(Person, PersonAdmin)
</pre> </section> <section id="s-working-with-many-to-many-models"> <h3 id="working-with-many-to-many-models">Working with many-to-many models</h3> <p>By default, admin widgets for many-to-many relations will be displayed on whichever model contains the actual reference to the <a class="reference internal" href="../../models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a>. Depending on your <code>ModelAdmin</code> definition, each many-to-many field in your model will be represented by a standard HTML <code>&lt;select multiple&gt;</code>, a horizontal or vertical filter, or a <code>raw_id_fields</code> widget. However, it is also possible to replace these widgets with inlines.</p> <p>Suppose we have the following models:</p> <pre data-language="python">from django.db import models


class Person(models.Model):
    name = models.CharField(max_length=128)


class Group(models.Model):
    name = models.CharField(max_length=128)
    members = models.ManyToManyField(Person, related_name="groups")
</pre> <p>If you want to display many-to-many relations using an inline, you can do so by defining an <code>InlineModelAdmin</code> object for the relationship:</p> <pre data-language="python">from django.contrib import admin
from myapp.models import Group


class MembershipInline(admin.TabularInline):
    model = Group.members.through


class GroupAdmin(admin.ModelAdmin):
    inlines = [
        MembershipInline,
    ]
    exclude = ["members"]


admin.site.register(Group, GroupAdmin)
</pre> <p>There are two features worth noting in this example.</p> <p>Firstly - the <code>MembershipInline</code> class references <code>Group.members.through</code>. The <code>through</code> attribute is a reference to the model that manages the many-to-many relation. This model is automatically created by Django when you define a many-to-many field.</p> <p>Secondly, the <code>GroupAdmin</code> must manually exclude the <code>members</code> field. Django displays an admin widget for a many-to-many field on the model that defines the relation (in this case, <code>Group</code>). If you want to use an inline model to represent the many-to-many relationship, you must tell Django’s admin to <em>not</em> display this widget - otherwise you will end up with two widgets on your admin page for managing the relation.</p> <p>Note that when using this technique the <a class="reference internal" href="../../signals.html#django.db.models.signals.m2m_changed" title="django.db.models.signals.m2m_changed"><code>m2m_changed</code></a> signals aren’t triggered. This is because as far as the admin is concerned, <code>through</code> is just a model with two foreign key fields rather than a many-to-many relation.</p> <p>In all other respects, the <code>InlineModelAdmin</code> is exactly the same as any other. You can customize the appearance using any of the normal <code>ModelAdmin</code> properties.</p> </section> <section id="s-working-with-many-to-many-intermediary-models"> <h3 id="working-with-many-to-many-intermediary-models">Working with many-to-many intermediary models</h3> <p>When you specify an intermediary model using the <code>through</code> argument to a <a class="reference internal" href="../../models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a>, the admin will not display a widget by default. This is because each instance of that intermediary model requires more information than could be displayed in a single widget, and the layout required for multiple widgets will vary depending on the intermediate model.</p> <p>However, we still want to be able to edit that information inline. Fortunately, we can do this with inline admin models. Suppose we have the following models:</p> <pre data-language="python">from django.db import models


class Person(models.Model):
    name = models.CharField(max_length=128)


class Group(models.Model):
    name = models.CharField(max_length=128)
    members = models.ManyToManyField(Person, through="Membership")


class Membership(models.Model):
    person = models.ForeignKey(Person, on_delete=models.CASCADE)
    group = models.ForeignKey(Group, on_delete=models.CASCADE)
    date_joined = models.DateField()
    invite_reason = models.CharField(max_length=64)
</pre> <p>The first step in displaying this intermediate model in the admin is to define an inline class for the <code>Membership</code> model:</p> <pre data-language="python">class MembershipInline(admin.TabularInline):
    model = Membership
    extra = 1
</pre> <p>This example uses the default <code>InlineModelAdmin</code> values for the <code>Membership</code> model, and limits the extra add forms to one. This could be customized using any of the options available to <code>InlineModelAdmin</code> classes.</p> <p>Now create admin views for the <code>Person</code> and <code>Group</code> models:</p> <pre data-language="python">class PersonAdmin(admin.ModelAdmin):
    inlines = [MembershipInline]


class GroupAdmin(admin.ModelAdmin):
    inlines = [MembershipInline]
</pre> <p>Finally, register your <code>Person</code> and <code>Group</code> models with the admin site:</p> <pre data-language="python">admin.site.register(Person, PersonAdmin)
admin.site.register(Group, GroupAdmin)
</pre> <p>Now your admin site is set up to edit <code>Membership</code> objects inline from either the <code>Person</code> or the <code>Group</code> detail pages.</p> </section> <section id="s-using-generic-relations-as-an-inline"> <h3 id="id3">Using generic relations as an inline</h3> <p>It is possible to use an inline with generically related objects. Let’s say you have the following models:</p> <pre data-language="python">from django.contrib.contenttypes.fields import GenericForeignKey
from django.db import models


class Image(models.Model):
    image = models.ImageField(upload_to="images")
    content_type = models.ForeignKey(ContentType, on_delete=models.CASCADE)
    object_id = models.PositiveIntegerField()
    content_object = GenericForeignKey("content_type", "object_id")


class Product(models.Model):
    name = models.CharField(max_length=100)
</pre> <p>If you want to allow editing and creating an <code>Image</code> instance on the <code>Product</code>, add/change views you can use <a class="reference internal" href="../contenttypes.html#django.contrib.contenttypes.admin.GenericTabularInline" title="django.contrib.contenttypes.admin.GenericTabularInline"><code>GenericTabularInline</code></a> or <a class="reference internal" href="../contenttypes.html#django.contrib.contenttypes.admin.GenericStackedInline" title="django.contrib.contenttypes.admin.GenericStackedInline"><code>GenericStackedInline</code></a> (both subclasses of <a class="reference internal" href="../contenttypes.html#django.contrib.contenttypes.admin.GenericInlineModelAdmin" title="django.contrib.contenttypes.admin.GenericInlineModelAdmin"><code>GenericInlineModelAdmin</code></a>) provided by <a class="reference internal" href="../contenttypes.html#module-django.contrib.contenttypes.admin" title="django.contrib.contenttypes.admin"><code>admin</code></a>. They implement tabular and stacked visual layouts for the forms representing the inline objects, respectively, just like their non-generic counterparts. They behave just like any other inline. In your <code>admin.py</code> for this example app:</p> <pre data-language="python">from django.contrib import admin
from django.contrib.contenttypes.admin import GenericTabularInline

from myapp.models import Image, Product


class ImageInline(GenericTabularInline):
    model = Image


class ProductAdmin(admin.ModelAdmin):
    inlines = [
        ImageInline,
    ]


admin.site.register(Product, ProductAdmin)
</pre> <p>See the <a class="reference internal" href="../contenttypes.html"><span class="doc">contenttypes documentation</span></a> for more specific information.</p> </section> </section> <section id="s-overriding-admin-templates"> <h2 id="admin-overriding-templates">Overriding admin templates</h2> <p>You can override many of the templates which the admin module uses to generate the various pages of an admin site. You can even override a few of these templates for a specific app, or a specific model.</p> <section id="s-set-up-your-projects-admin-template-directories"> <h3 id="set-up-your-projects-admin-template-directories">Set up your projects admin template directories</h3> <p>The admin template files are located in the <a class="extlink-source reference external" href="https://github.com/django/django/blob/main/django/contrib/admin/templates/admin">django/contrib/admin/templates/admin</a> directory.</p> <p>In order to override one or more of them, first create an <code>admin</code> directory in your project’s <code>templates</code> directory. This can be any of the directories you specified in the <a class="reference internal" href="../../settings.html#std-setting-TEMPLATES-DIRS"><code>DIRS</code></a> option of the <code>DjangoTemplates</code> backend in the <a class="reference internal" href="../../settings.html#std-setting-TEMPLATES"><code>TEMPLATES</code></a> setting. If you have customized the <code>'loaders'</code> option, be sure <code>'django.template.loaders.filesystem.Loader'</code> appears before <code>'django.template.loaders.app_directories.Loader'</code> so that your custom templates will be found by the template loading system before those that are included with <a class="reference internal" href="#module-django.contrib.admin" title="django.contrib.admin: Django's admin site."><code>django.contrib.admin</code></a>.</p> <p>Within this <code>admin</code> directory, create sub-directories named after your app. Within these app subdirectories create sub-directories named after your models. Note, that the admin app will lowercase the model name when looking for the directory, so make sure you name the directory in all lowercase if you are going to run your app on a case-sensitive filesystem.</p> <p>To override an admin template for a specific app, copy and edit the template from the <a class="extlink-source reference external" href="https://github.com/django/django/blob/main/django/contrib/admin/templates/admin">django/contrib/admin/templates/admin</a> directory, and save it to one of the directories you just created.</p> <p>For example, if we wanted to add a tool to the change list view for all the models in an app named <code>my_app</code>, we would copy <code>contrib/admin/templates/admin/change_list.html</code> to the <code>templates/admin/my_app/</code> directory of our project, and make any necessary changes.</p> <p>If we wanted to add a tool to the change list view for only a specific model named ‘Page’, we would copy that same file to the <code>templates/admin/my_app/page</code> directory of our project.</p> </section> <section id="s-overriding-vs-replacing-an-admin-template"> <h3 id="overriding-vs-replacing-an-admin-template">Overriding vs. replacing an admin template</h3> <p>Because of the modular design of the admin templates, it is usually neither necessary nor advisable to replace an entire template. It is almost always better to override only the section of the template which you need to change.</p> <p>To continue the example above, we want to add a new link next to the <code>History</code> tool for the <code>Page</code> model. After looking at <code>change_form.html</code> we determine that we only need to override the <code>object-tools-items</code> block. Therefore here is our new <code>change_form.html</code> :</p> <pre data-language="markup">{% extends "admin/change_form.html" %}
{% load i18n admin_urls %}
{% block object-tools-items %}
    &lt;li&gt;
        &lt;a href="{% url opts|admin_urlname:'history' original.pk|admin_urlquote %}.html" class="historylink"&gt;{% translate "History" %}&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="mylink/.html" class="historylink"&gt;My Link&lt;/a&gt;
    &lt;/li&gt;
    {% if has_absolute_url %}
        &lt;li&gt;
            &lt;a href="{% url 'admin:view_on_site' content_type_id original.pk %}.html" class="viewsitelink"&gt;{% translate "View on site" %}&lt;/a&gt;
        &lt;/li&gt;
    {% endif %}
{% endblock %}
</pre> <p>And that’s it! If we placed this file in the <code>templates/admin/my_app</code> directory, our link would appear on the change form for all models within my_app.</p> </section> <section id="s-templates-which-may-be-overridden-per-app-or-model"> <h3 id="admin-templates-overridden-per-app-or-model">Templates which may be overridden per app or model</h3> <p>Not every template in <code>contrib/admin/templates/admin</code> may be overridden per app or per model. The following can:</p> <ul class="simple"> <li><code>actions.html</code></li> <li><code>app_index.html</code></li> <li><code>change_form.html</code></li> <li><code>change_form_object_tools.html</code></li> <li><code>change_list.html</code></li> <li><code>change_list_object_tools.html</code></li> <li><code>change_list_results.html</code></li> <li><code>date_hierarchy.html</code></li> <li><code>delete_confirmation.html</code></li> <li><code>object_history.html</code></li> <li><code>pagination.html</code></li> <li><code>popup_response.html</code></li> <li><code>prepopulated_fields_js.html</code></li> <li><code>search_form.html</code></li> <li><code>submit_line.html</code></li> </ul> <p>For those templates that cannot be overridden in this way, you may still override them for your entire project by placing the new version in your <code>templates/admin</code> directory. This is particularly useful to create custom 404 and 500 pages.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Some of the admin templates, such as <code>change_list_results.html</code> are used to render custom inclusion tags. These may be overridden, but in such cases you are probably better off creating your own version of the tag in question and giving it a different name. That way you can use it selectively.</p> </div> </section> <section id="s-root-and-login-templates"> <h3 id="root-and-login-templates">Root and login templates</h3> <p>If you wish to change the index, login or logout templates, you are better off creating your own <code>AdminSite</code> instance (see below), and changing the <a class="reference internal" href="#django.contrib.admin.AdminSite.index_template" title="django.contrib.admin.AdminSite.index_template"><code>AdminSite.index_template</code></a> , <a class="reference internal" href="#django.contrib.admin.AdminSite.login_template" title="django.contrib.admin.AdminSite.login_template"><code>AdminSite.login_template</code></a> or <a class="reference internal" href="#django.contrib.admin.AdminSite.logout_template" title="django.contrib.admin.AdminSite.logout_template"><code>AdminSite.logout_template</code></a> properties.</p> </section> </section> <section id="s-theming-support"> <h2 id="admin-theming">Theming support</h2> <p>The admin uses CSS variables to define colors and fonts. This allows changing themes without having to override many individual CSS rules. For example, if you preferred purple instead of blue you could add a <code>admin/base.html</code> template override to your project:</p> <pre data-language="markup">{% extends 'admin/base.html' %}

{% block extrastyle %}{{ block.super }}
&lt;style&gt;
html[data-theme="light"], :root {
  --primary: #9774d5;
  --secondary: #785cab;
  --link-fg: #7c449b;
  --link-selected-fg: #8f5bb2;
}
&lt;/style&gt;
{% endblock %}
</pre> <p>The list of CSS variables are defined at <a class="extlink-source reference external" href="https://github.com/django/django/blob/main/django/contrib/admin/static/admin/css/base.css">django/contrib/admin/static/admin/css/base.css</a>.</p> <p>Dark mode variables, respecting the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme">prefers-color-scheme</a> media query, are defined at <a class="extlink-source reference external" href="https://github.com/django/django/blob/main/django/contrib/admin/static/admin/css/dark_mode.css">django/contrib/admin/static/admin/css/dark_mode.css</a>. This is linked to the document in <code>{% block dark-mode-vars %}</code>.</p> </section> <section id="s-extrabody-block"> <h2 id="extrabody">
<code>extrabody</code> block</h2> <div class="versionadded"> <span class="title">New in Django 5.2.</span> </div> <p>You can add custom HTML, JavaScript, or other content to appear just before the closing <code>&lt;/body&gt;</code> tag of templates that extend <code>admin/base.html</code> by extending the <code>extrabody</code> block. For example, if you want an alert to appear on page load you could add a <code>admin/base.html</code> template override to your project:</p> <pre data-language="markup">{% extends 'admin/base.html' %}

{% block extrabody %}
    {{ block.super }}
    &lt;script&gt;
        document.addEventListener('DOMContentLoaded', function() {
            window.alert('Welcome!');
        });
    &lt;/script&gt;
{% endblock extrabody %}
</pre> </section> <section id="s-adminsite-objects"> <h2 id="adminsite-objects">
<code>AdminSite</code> objects</h2> <dl class="py class"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite">
<code>class AdminSite(name='admin')</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/sites.py#L30"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A Django administrative site is represented by an instance of <code>django.contrib.admin.sites.AdminSite</code>; by default, an instance of this class is created as <code>django.contrib.admin.site</code> and you can register your models and <code>ModelAdmin</code> instances with it.</p> <p>If you want to customize the default admin site, you can <a class="reference internal" href="#overriding-default-admin-site"><span class="std std-ref">override it</span></a>.</p> <p>When constructing an instance of an <code>AdminSite</code>, you can provide a unique instance name using the <code>name</code> argument to the constructor. This instance name is used to identify the instance, especially when <a class="reference internal" href="#admin-reverse-urls"><span class="std std-ref">reversing admin URLs</span></a>. If no instance name is provided, a default instance name of <code>admin</code> will be used. See <a class="reference internal" href="#customizing-adminsite"><span class="std std-ref">Customizing the AdminSite class</span></a> for an example of customizing the <a class="reference internal" href="#django.contrib.admin.AdminSite" title="django.contrib.admin.AdminSite"><code>AdminSite</code></a> class.</p> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="django.contrib.admin.django.contrib.admin.sites.all_sites">
<code>django.contrib.admin.sites.all_sites</code> </dt> <dd>
<p>A <a class="reference external" href="https://docs.python.org/3/library/weakref.html#weakref.WeakSet" title="(in Python v3.13)"><code>WeakSet</code></a> contains all admin site instances.</p> </dd>
</dl> <section id="s-adminsite-attributes"> <h3 id="adminsite-attributes">
<code>AdminSite</code> attributes</h3> <p>Templates can override or extend base admin templates as described in <a class="reference internal" href="#admin-overriding-templates"><span class="std std-ref">Overriding admin templates</span></a>.</p> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.site_header">
<code>AdminSite.site_header</code> </dt> <dd>
<p>The text to put at the top of each admin page, as a <code>&lt;div&gt;</code> (a string). By default, this is “Django administration”.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.site_title">
<code>AdminSite.site_title</code> </dt> <dd>
<p>The text to put at the end of each admin page’s <code>&lt;title&gt;</code> (a string). By default, this is “Django site admin”.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.site_url">
<code>AdminSite.site_url</code> </dt> <dd>
<p>The URL for the “View site” link at the top of each admin page. By default, <code>site_url</code> is <code>/</code>. Set it to <code>None</code> to remove the link.</p> <p>For sites running on a subpath, the <a class="reference internal" href="#django.contrib.admin.AdminSite.each_context" title="django.contrib.admin.AdminSite.each_context"><code>each_context()</code></a> method checks if the current request has <code>request.META['SCRIPT_NAME']</code> set and uses that value if <code>site_url</code> isn’t set to something other than <code>/</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.index_title">
<code>AdminSite.index_title</code> </dt> <dd>
<p>The text to put at the top of the admin index page (a string). By default, this is “Site administration”.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.index_template">
<code>AdminSite.index_template</code> </dt> <dd>
<p>Path to a custom template that will be used by the admin site main index view.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.app_index_template">
<code>AdminSite.app_index_template</code> </dt> <dd>
<p>Path to a custom template that will be used by the admin site app index view.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.empty_value_display">
<code>AdminSite.empty_value_display</code> </dt> <dd>
<p>The string to use for displaying empty values in the admin site’s change list. Defaults to a dash. The value can also be overridden on a per <code>ModelAdmin</code> basis and on a custom field within a <code>ModelAdmin</code> by setting an <code>empty_value_display</code> attribute on the field. See <a class="reference internal" href="#django.contrib.admin.ModelAdmin.empty_value_display" title="django.contrib.admin.ModelAdmin.empty_value_display"><code>ModelAdmin.empty_value_display</code></a> for examples.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.enable_nav_sidebar">
<code>AdminSite.enable_nav_sidebar</code> </dt> <dd>
<p>A boolean value that determines whether to show the navigation sidebar on larger screens. By default, it is set to <code>True</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.final_catch_all_view">
<code>AdminSite.final_catch_all_view</code> </dt> <dd>
<p>A boolean value that determines whether to add a final catch-all view to the admin that redirects unauthenticated users to the login page. By default, it is set to <code>True</code>.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Setting this to <code>False</code> is not recommended as the view protects against a potential model enumeration privacy issue.</p> </div> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.login_template">
<code>AdminSite.login_template</code> </dt> <dd>
<p>Path to a custom template that will be used by the admin site login view.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.login_form">
<code>AdminSite.login_form</code> </dt> <dd>
<p>Subclass of <a class="reference internal" href="../../../topics/auth/default.html#django.contrib.auth.forms.AuthenticationForm" title="django.contrib.auth.forms.AuthenticationForm"><code>AuthenticationForm</code></a> that will be used by the admin site login view.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.logout_template">
<code>AdminSite.logout_template</code> </dt> <dd>
<p>Path to a custom template that will be used by the admin site logout view.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.password_change_template">
<code>AdminSite.password_change_template</code> </dt> <dd>
<p>Path to a custom template that will be used by the admin site password change view.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.password_change_done_template">
<code>AdminSite.password_change_done_template</code> </dt> <dd>
<p>Path to a custom template that will be used by the admin site password change done view.</p> </dd>
</dl> </section> <section id="s-adminsite-methods"> <h3 id="adminsite-methods">
<code>AdminSite</code> methods</h3> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.each_context">
<code>AdminSite.each_context(request)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/sites.py#L326"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a dictionary of variables to put in the template context for every page in the admin site.</p> <p>Includes the following variables and values by default:</p> <ul> <li>
<code>site_header</code>: <a class="reference internal" href="#django.contrib.admin.AdminSite.site_header" title="django.contrib.admin.AdminSite.site_header"><code>AdminSite.site_header</code></a>
</li> <li>
<code>site_title</code>: <a class="reference internal" href="#django.contrib.admin.AdminSite.site_title" title="django.contrib.admin.AdminSite.site_title"><code>AdminSite.site_title</code></a>
</li> <li>
<code>site_url</code>: <a class="reference internal" href="#django.contrib.admin.AdminSite.site_url" title="django.contrib.admin.AdminSite.site_url"><code>AdminSite.site_url</code></a>
</li> <li>
<code>has_permission</code>: <a class="reference internal" href="#django.contrib.admin.AdminSite.has_permission" title="django.contrib.admin.AdminSite.has_permission"><code>AdminSite.has_permission()</code></a>
</li> <li>
<p><code>available_apps</code>: a list of applications from the <a class="reference internal" href="../../applications.html"><span class="doc">application registry</span></a> available for the current user. Each entry in the list is a dict representing an application with the following keys:</p> <ul class="simple"> <li>
<code>app_label</code>: the application label</li> <li>
<code>app_url</code>: the URL of the application index in the admin</li> <li>
<code>has_module_perms</code>: a boolean indicating if displaying and accessing of the module’s index page is permitted for the current user</li> <li>
<code>models</code>: a list of the models available in the application</li> </ul> <p>Each model is a dict with the following keys:</p> <ul class="simple"> <li>
<code>model</code>: the model class</li> <li>
<code>object_name</code>: class name of the model</li> <li>
<code>name</code>: plural name of the model</li> <li>
<code>perms</code>: a <code>dict</code> tracking <code>add</code>, <code>change</code>, <code>delete</code>, and <code>view</code> permissions</li> <li>
<code>admin_url</code>: admin changelist URL for the model</li> <li>
<code>add_url</code>: admin URL to add a new model instance</li> </ul> </li> <li>
<code>is_popup</code>: whether the current page is displayed in a popup window</li> <li>
<code>is_nav_sidebar_enabled</code>: <a class="reference internal" href="#django.contrib.admin.AdminSite.enable_nav_sidebar" title="django.contrib.admin.AdminSite.enable_nav_sidebar"><code>AdminSite.enable_nav_sidebar</code></a>
</li> <li>
<code>log_entries</code>: <a class="reference internal" href="#django.contrib.admin.AdminSite.get_log_entries" title="django.contrib.admin.AdminSite.get_log_entries"><code>AdminSite.get_log_entries()</code></a>
</li> </ul> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.get_app_list">
<code>AdminSite.get_app_list(request, app_label=None)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/sites.py#L541"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a list of applications from the <a class="reference internal" href="../../applications.html"><span class="doc">application registry</span></a> available for the current user. You can optionally pass an <code>app_label</code> argument to get details for a single app. Each entry in the list is a dictionary representing an application with the following keys:</p> <ul class="simple"> <li>
<code>app_label</code>: the application label</li> <li>
<code>app_url</code>: the URL of the application index in the admin</li> <li>
<code>has_module_perms</code>: a boolean indicating if displaying and accessing of the module’s index page is permitted for the current user</li> <li>
<code>models</code>: a list of the models available in the application</li> <li>
<code>name</code>: name of the application</li> </ul> <p>Each model is a dictionary with the following keys:</p> <ul class="simple"> <li>
<code>model</code>: the model class</li> <li>
<code>object_name</code>: class name of the model</li> <li>
<code>name</code>: plural name of the model</li> <li>
<code>perms</code>: a <code>dict</code> tracking <code>add</code>, <code>change</code>, <code>delete</code>, and <code>view</code> permissions</li> <li>
<code>admin_url</code>: admin changelist URL for the model</li> <li>
<code>add_url</code>: admin URL to add a new model instance</li> </ul> <p>Lists of applications and models are sorted alphabetically by their names. You can override this method to change the default order on the admin index page.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.has_permission">
<code>AdminSite.has_permission(request)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/sites.py#L202"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns <code>True</code> if the user for the given <code>HttpRequest</code> has permission to view at least one page in the admin site. Defaults to requiring both <a class="reference internal" href="../auth.html#django.contrib.auth.models.User.is_active" title="django.contrib.auth.models.User.is_active"><code>User.is_active</code></a> and <a class="reference internal" href="../auth.html#django.contrib.auth.models.User.is_staff" title="django.contrib.auth.models.User.is_staff"><code>User.is_staff</code></a> to be <code>True</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.register">
<code>AdminSite.register(model_or_iterable, admin_class=None, **options)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/sites.py#L93"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Registers the given model class (or iterable of classes) with the given <code>admin_class</code>. <code>admin_class</code> defaults to <a class="reference internal" href="#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><code>ModelAdmin</code></a> (the default admin options). If keyword arguments are given – e.g. <code>list_display</code> – they’ll be applied as options to the admin class.</p> <p>Raises <a class="reference internal" href="../../exceptions.html#django.core.exceptions.ImproperlyConfigured" title="django.core.exceptions.ImproperlyConfigured"><code>ImproperlyConfigured</code></a> if a model is abstract. and <code>django.contrib.admin.exceptions.AlreadyRegistered</code> if a model is already registered.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.unregister">
<code>AdminSite.unregister(model_or_iterable)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/sites.py#L149"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Unregisters the given model class (or iterable of classes).</p> <p>Raises <code>django.contrib.admin.exceptions.NotRegistered</code> if a model isn’t already registered.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.get_model_admin">
<code>AdminSite.get_model_admin(model)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/sites.py#L168"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns an admin class for the given model class. Raises <code>django.contrib.admin.exceptions.NotRegistered</code> if a model isn’t registered.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.AdminSite.get_log_entries">
<code>AdminSite.get_log_entries(request)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/sites.py#L602"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns a queryset for the related <a class="reference internal" href="#django.contrib.admin.models.LogEntry" title="django.contrib.admin.models.LogEntry"><code>LogEntry</code></a> instances, shown on the site index page. This method can be overridden to filter the log entries by other criteria.</p> </dd>
</dl> </section> <section id="s-hooking-adminsite-instances-into-your-urlconf"> <h3 id="hooking-adminsite-to-urlconf">Hooking <code>AdminSite</code> instances into your URLconf</h3> <p>The last step in setting up the Django admin is to hook your <code>AdminSite</code> instance into your URLconf. Do this by pointing a given URL at the <code>AdminSite.urls</code> method. It is not necessary to use <a class="reference internal" href="../../urls.html#django.urls.include" title="django.urls.include"><code>include()</code></a>.</p> <p>In this example, we register the default <code>AdminSite</code> instance <code>django.contrib.admin.site</code> at the URL <code>/admin/</code></p> <pre data-language="python"># urls.py
from django.contrib import admin
from django.urls import path

urlpatterns = [
    path("admin/", admin.site.urls),
]
</pre> </section> <section id="s-customizing-the-adminsite-class"> <h3 id="customizing-adminsite">Customizing the <a class="reference internal" href="#django.contrib.admin.AdminSite" title="django.contrib.admin.AdminSite"><code>AdminSite</code></a> class</h3> <p>If you’d like to set up your own admin site with custom behavior, you’re free to subclass <code>AdminSite</code> and override or add anything you like. Then, create an instance of your <code>AdminSite</code> subclass (the same way you’d instantiate any other Python class) and register your models and <code>ModelAdmin</code> subclasses with it instead of with the default site. Finally, update <code>myproject/urls.py</code> to reference your <a class="reference internal" href="#django.contrib.admin.AdminSite" title="django.contrib.admin.AdminSite"><code>AdminSite</code></a> subclass.</p> <div class="literal-block-wrapper docutils container" id="id4"> <div class="code-block-caption"><span class="caption-text"><code>myapp/admin.py</code></span></div> <pre data-language="python">from django.contrib import admin

from .models import MyModel


class MyAdminSite(admin.AdminSite):
    site_header = "Monty Python administration"


admin_site = MyAdminSite(name="myadmin")
admin_site.register(MyModel)
</pre> </div> <div class="literal-block-wrapper docutils container" id="id5"> <div class="code-block-caption"><span class="caption-text"><code>myproject/urls.py</code></span></div> <pre data-language="python">from django.urls import path

from myapp.admin import admin_site

urlpatterns = [
    path("myadmin/", admin_site.urls),
]
</pre> </div> <p>Note that you may not want autodiscovery of <code>admin</code> modules when using your own <code>AdminSite</code> instance since you will likely be importing all the per-app <code>admin</code> modules in your <code>myproject.admin</code> module. This means you need to put <code>'django.contrib.admin.apps.SimpleAdminConfig'</code> instead of <code>'django.contrib.admin'</code> in your <a class="reference internal" href="../../settings.html#std-setting-INSTALLED_APPS"><code>INSTALLED_APPS</code></a> setting.</p> </section> <section id="s-overriding-the-default-admin-site"> <h3 id="overriding-default-admin-site">Overriding the default admin site</h3> <p>You can override the default <code>django.contrib.admin.site</code> by setting the <a class="reference internal" href="#django.contrib.admin.apps.SimpleAdminConfig.default_site" title="django.contrib.admin.apps.SimpleAdminConfig.default_site"><code>default_site</code></a> attribute of a custom <code>AppConfig</code> to the dotted import path of either a <code>AdminSite</code> subclass or a callable that returns a site instance.</p> <div class="literal-block-wrapper docutils container" id="id6"> <div class="code-block-caption"><span class="caption-text"><code>myproject/admin.py</code></span></div> <pre data-language="python">from django.contrib import admin


class MyAdminSite(admin.AdminSite): ...
</pre> </div> <div class="literal-block-wrapper docutils container" id="id7"> <div class="code-block-caption"><span class="caption-text"><code>myproject/apps.py</code></span></div> <pre data-language="python">from django.contrib.admin.apps import AdminConfig


class MyAdminConfig(AdminConfig):
    default_site = "myproject.admin.MyAdminSite"
</pre> </div> <div class="literal-block-wrapper docutils container" id="id8"> <div class="code-block-caption"><span class="caption-text"><code>myproject/settings.py</code></span></div> <pre data-language="python">INSTALLED_APPS = [
    # ...
    "myproject.apps.MyAdminConfig",  # replaces 'django.contrib.admin'
    # ...
]
</pre> </div> </section> <section id="s-multiple-admin-sites-in-the-same-urlconf"> <h3 id="multiple-admin-sites">Multiple admin sites in the same URLconf</h3> <p>You can create multiple instances of the admin site on the same Django-powered website. Create multiple instances of <code>AdminSite</code> and place each one at a different URL.</p> <p>In this example, the URLs <code>/basic-admin/</code> and <code>/advanced-admin/</code> feature separate versions of the admin site – using the <code>AdminSite</code> instances <code>myproject.admin.basic_site</code> and <code>myproject.admin.advanced_site</code>, respectively:</p> <pre data-language="python"># urls.py
from django.urls import path
from myproject.admin import advanced_site, basic_site

urlpatterns = [
    path("basic-admin/", basic_site.urls),
    path("advanced-admin/", advanced_site.urls),
]
</pre> <p><code>AdminSite</code> instances take a single argument to their constructor, their name, which can be anything you like. This argument becomes the prefix to the URL names for the purposes of <a class="reference internal" href="#admin-reverse-urls"><span class="std std-ref">reversing them</span></a>. This is only necessary if you are using more than one <code>AdminSite</code>.</p> </section> <section id="s-adding-views-to-admin-sites"> <h3 id="adding-views-to-admin-sites">Adding views to admin sites</h3> <p>Just like <a class="reference internal" href="#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><code>ModelAdmin</code></a>, <a class="reference internal" href="#django.contrib.admin.AdminSite" title="django.contrib.admin.AdminSite"><code>AdminSite</code></a> provides a <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_urls" title="django.contrib.admin.ModelAdmin.get_urls"><code>get_urls()</code></a> method that can be overridden to define additional views for the site. To add a new view to your admin site, extend the base <a class="reference internal" href="#django.contrib.admin.ModelAdmin.get_urls" title="django.contrib.admin.ModelAdmin.get_urls"><code>get_urls()</code></a> method to include a pattern for your new view.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Any view you render that uses the admin templates, or extends the base admin template, should set <code>request.current_app</code> before rendering the template. It should be set to either <code>self.name</code> if your view is on an <code>AdminSite</code> or <code>self.admin_site.name</code> if your view is on a <code>ModelAdmin</code>.</p> </div> </section> <section id="s-adding-a-password-reset-feature"> <h3 id="auth-password-reset">Adding a password reset feature</h3> <p>You can add a password reset feature to the admin site by adding a few lines to your URLconf. Specifically, add these four patterns:</p> <pre data-language="python">from django.contrib import admin
from django.contrib.auth import views as auth_views

path(
    "admin/password_reset/",
    auth_views.PasswordResetView.as_view(
        extra_context={"site_header": admin.site.site_header}
    ),
    name="admin_password_reset",
),
path(
    "admin/password_reset/done/",
    auth_views.PasswordResetDoneView.as_view(
        extra_context={"site_header": admin.site.site_header}
    ),
    name="password_reset_done",
),
path(
    "reset/&lt;uidb64&gt;/&lt;token&gt;/",
    auth_views.PasswordResetConfirmView.as_view(
        extra_context={"site_header": admin.site.site_header}
    ),
    name="password_reset_confirm",
),
path(
    "reset/done/",
    auth_views.PasswordResetCompleteView.as_view(
        extra_context={"site_header": admin.site.site_header}
    ),
    name="password_reset_complete",
),
</pre> <p>(This assumes you’ve added the admin at <code>admin/</code> and requires that you put the URLs starting with <code>^admin/</code> before the line that includes the admin app itself).</p> <p>The presence of the <code>admin_password_reset</code> named URL will cause a “forgotten your password?” link to appear on the default admin log-in page under the password box.</p> </section> </section> <section id="s-logentry-objects"> <h2 id="logentry-objects">
<code>LogEntry</code> objects</h2> <dl class="py class"> <dt class="sig sig-object py" id="django.contrib.admin.models.LogEntry">
<code>class models.LogEntry</code> </dt> <dd>
<p>The <code>LogEntry</code> class tracks additions, changes, and deletions of objects done through the admin interface.</p> </dd>
</dl> <section id="s-logentry-attributes"> <h3 id="logentry-attributes">
<code>LogEntry</code> attributes</h3> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.models.LogEntry.action_time">
<code>LogEntry.action_time</code> </dt> <dd>
<p>The date and time of the action.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.models.LogEntry.user">
<code>LogEntry.user</code> </dt> <dd>
<p>The user (an <a class="reference internal" href="../../settings.html#std-setting-AUTH_USER_MODEL"><code>AUTH_USER_MODEL</code></a> instance) who performed the action.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.models.LogEntry.content_type">
<code>LogEntry.content_type</code> </dt> <dd>
<p>The <a class="reference internal" href="../contenttypes.html#django.contrib.contenttypes.models.ContentType" title="django.contrib.contenttypes.models.ContentType"><code>ContentType</code></a> of the modified object.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.models.LogEntry.object_id">
<code>LogEntry.object_id</code> </dt> <dd>
<p>The textual representation of the modified object’s primary key.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.models.LogEntry.object_repr">
<code>LogEntry.object_repr</code> </dt> <dd>
<p>The object`s <code>repr()</code> after the modification.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.models.LogEntry.action_flag">
<code>LogEntry.action_flag</code> </dt> <dd>
<p>The type of action logged: <code>ADDITION</code>, <code>CHANGE</code>, <code>DELETION</code>.</p> <p>For example, to get a list of all additions done through the admin:</p> <pre data-language="python">from django.contrib.admin.models import ADDITION, LogEntry

LogEntry.objects.filter(action_flag=ADDITION)
</pre> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="django.contrib.admin.models.LogEntry.change_message">
<code>LogEntry.change_message</code> </dt> <dd>
<p>The detailed description of the modification. In the case of an edit, for example, the message contains a list of the edited fields. The Django admin site formats this content as a JSON structure, so that <a class="reference internal" href="#django.contrib.admin.models.LogEntry.get_change_message" title="django.contrib.admin.models.LogEntry.get_change_message"><code>get_change_message()</code></a> can recompose a message translated in the current user language. Custom code might set this as a plain string though. You are advised to use the <a class="reference internal" href="#django.contrib.admin.models.LogEntry.get_change_message" title="django.contrib.admin.models.LogEntry.get_change_message"><code>get_change_message()</code></a> method to retrieve this value instead of accessing it directly.</p> </dd>
</dl> </section> <section id="s-logentry-methods"> <h3 id="logentry-methods">
<code>LogEntry</code> methods</h3> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.models.LogEntry.get_edited_object">
<code>LogEntry.get_edited_object()</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/models.py#L229"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>A shortcut that returns the referenced object.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="django.contrib.admin.models.LogEntry.get_change_message">
<code>LogEntry.get_change_message()</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/models.py#L165"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Formats and translates <a class="reference internal" href="#django.contrib.admin.models.LogEntry.change_message" title="django.contrib.admin.models.LogEntry.change_message"><code>change_message</code></a> into the current user language. Messages created before Django 1.10 will always be displayed in the language in which they were logged.</p> </dd>
</dl> </section> </section> <section id="s-reversing-admin-urls"> <h2 id="admin-reverse-urls">Reversing admin URLs</h2> <p>When an <a class="reference internal" href="#django.contrib.admin.AdminSite" title="django.contrib.admin.AdminSite"><code>AdminSite</code></a> is deployed, the views provided by that site are accessible using Django’s <a class="reference internal" href="../../../topics/http/urls.html#naming-url-patterns"><span class="std std-ref">URL reversing system</span></a>.</p> <p>The <a class="reference internal" href="#django.contrib.admin.AdminSite" title="django.contrib.admin.AdminSite"><code>AdminSite</code></a> provides the following named URL patterns:</p> <table class="docutils"> <thead> <tr>
<th class="head"><p>Page</p></th> <th class="head"><p>URL name</p></th> <th class="head"><p>Parameters</p></th> </tr> </thead>  <tr>
<td><p>Index</p></td> <td><p><code>index</code></p></td> <td></td> </tr> <tr>
<td><p>Login</p></td> <td><p><code>login</code></p></td> <td></td> </tr> <tr>
<td><p>Logout</p></td> <td><p><code>logout</code></p></td> <td></td> </tr> <tr>
<td><p>Password change</p></td> <td><p><code>password_change</code></p></td> <td></td> </tr> <tr>
<td><p>Password change done</p></td> <td><p><code>password_change_done</code></p></td> <td></td> </tr> <tr>
<td><p>i18n JavaScript</p></td> <td><p><code>jsi18n</code></p></td> <td></td> </tr> <tr>
<td><p>Application index page</p></td> <td><p><code>app_list</code></p></td> <td><p><code>app_label</code></p></td> </tr> <tr>
<td><p>Redirect to object’s page</p></td> <td><p><code>view_on_site</code></p></td> <td><p><code>content_type_id</code>, <code>object_id</code></p></td> </tr>  </table> <p>Each <a class="reference internal" href="#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><code>ModelAdmin</code></a> instance provides an additional set of named URLs:</p> <table class="docutils"> <thead> <tr>
<th class="head"><p>Page</p></th> <th class="head"><p>URL name</p></th> <th class="head"><p>Parameters</p></th> </tr> </thead>  <tr>
<td><p>Changelist</p></td> <td><p><code>{{ app_label }}_{{ model_name }}_changelist</code></p></td> <td></td> </tr> <tr>
<td><p>Add</p></td> <td><p><code>{{ app_label }}_{{ model_name }}_add</code></p></td> <td></td> </tr> <tr>
<td><p>History</p></td> <td><p><code>{{ app_label }}_{{ model_name }}_history</code></p></td> <td><p><code>object_id</code></p></td> </tr> <tr>
<td><p>Delete</p></td> <td><p><code>{{ app_label }}_{{ model_name }}_delete</code></p></td> <td><p><code>object_id</code></p></td> </tr> <tr>
<td><p>Change</p></td> <td><p><code>{{ app_label }}_{{ model_name }}_change</code></p></td> <td><p><code>object_id</code></p></td> </tr>  </table> <p>The <code>UserAdmin</code> provides a named URL:</p> <table class="docutils"> <thead> <tr>
<th class="head"><p>Page</p></th> <th class="head"><p>URL name</p></th> <th class="head"><p>Parameters</p></th> </tr> </thead>  <tr>
<td><p>Password change</p></td> <td><p><code>auth_user_password_change</code></p></td> <td><p><code>user_id</code></p></td> </tr>  </table> <p>These named URLs are registered with the application namespace <code>admin</code>, and with an instance namespace corresponding to the name of the Site instance.</p> <p>So - if you wanted to get a reference to the Change view for a particular <code>Choice</code> object (from the polls application) in the default admin, you would call:</p> <pre data-language="pycon">&gt;&gt;&gt; from django.urls import reverse
&gt;&gt;&gt; c = Choice.objects.get(...)
&gt;&gt;&gt; change_url = reverse("admin:polls_choice_change", args=(c.id,))
</pre> <p>This will find the first registered instance of the admin application (whatever the instance name), and resolve to the view for changing <code>poll.Choice</code> instances in that instance.</p> <p>If you want to find a URL in a specific admin instance, provide the name of that instance as a <code>current_app</code> hint to the reverse call. For example, if you specifically wanted the admin view from the admin instance named <code>custom</code>, you would need to call:</p> <pre data-language="pycon">&gt;&gt;&gt; change_url = reverse("admin:polls_choice_change", args=(c.id,), current_app="custom")
</pre> <p>For more details, see the documentation on <a class="reference internal" href="../../../topics/http/urls.html#topics-http-reversing-url-namespaces"><span class="std std-ref">reversing namespaced URLs</span></a>.</p> <p>To allow easier reversing of the admin urls in templates, Django provides an <code>admin_urlname</code> filter which takes an action as argument:</p> <pre data-language="markup">{% load admin_urls %}
&lt;a href="{% url opts|admin_urlname:'add' %}.html"&gt;Add user&lt;/a&gt;
&lt;a href="{% url opts|admin_urlname:'delete' user.pk %}.html"&gt;Delete this user&lt;/a&gt;
</pre> <p>The action in the examples above match the last part of the URL names for <a class="reference internal" href="#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><code>ModelAdmin</code></a> instances described above. The <code>opts</code> variable can be any object which has an <code>app_label</code> and <code>model_name</code> attributes and is usually supplied by the admin views for the current model.</p> </section> <section id="s-the-display-decorator"> <h2 id="the-display-decorator">The <code>display</code> decorator</h2> <dl class="py function"> <dt class="sig sig-object py" id="django.contrib.admin.display">
<code>display(*, boolean=None, ordering=None, description=None, empty_value=None)</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/decorators.py#L34"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>This decorator can be used for setting specific attributes on custom display functions that can be used with <a class="reference internal" href="#django.contrib.admin.ModelAdmin.list_display" title="django.contrib.admin.ModelAdmin.list_display"><code>list_display</code></a> or <a class="reference internal" href="#django.contrib.admin.ModelAdmin.readonly_fields" title="django.contrib.admin.ModelAdmin.readonly_fields"><code>readonly_fields</code></a>:</p> <pre data-language="python">@admin.display(
    boolean=True,
    ordering="-publish_date",
    description="Is Published?",
)
def is_published(self, obj):
    return obj.publish_date is not None
</pre> <p>This is equivalent to setting some attributes (with the original, longer names) on the function directly:</p> <pre data-language="python">def is_published(self, obj):
    return obj.publish_date is not None


is_published.boolean = True
is_published.admin_order_field = "-publish_date"
is_published.short_description = "Is Published?"
</pre> <p>Also note that the <code>empty_value</code> decorator parameter maps to the <code>empty_value_display</code> attribute assigned directly to the function. It cannot be used in conjunction with <code>boolean</code> – they are mutually exclusive.</p> <p>Use of this decorator is not compulsory to make a display function, but it can be useful to use it without arguments as a marker in your source to identify the purpose of the function:</p> <pre data-language="python">@admin.display
def published_year(self, obj):
    return obj.publish_date.year
</pre> <p>In this case it will add no attributes to the function.</p> </dd>
</dl> </section> <section id="s-the-staff-member-required-decorator"> <h2 id="the-staff-member-required-decorator">The <code>staff_member_required</code> decorator</h2> <dl class="py function"> <dt class="sig sig-object py" id="django.contrib.admin.views.decorators.staff_member_required">
<code>staff_member_required(redirect_field_name='next', login_url='admin:login')</code> <a class="reference external" href="https://github.com/django/django/blob/stable/5.2.x/django/contrib/admin/views/decorators.py#L5"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>This decorator is used on the admin views that require authorization. A view decorated with this function will have the following behavior:</p> <ul class="simple"> <li>If the user is logged in, is a staff member (<code>User.is_staff=True</code>), and is active (<code>User.is_active=True</code>), execute the view normally.</li> <li>Otherwise, the request will be redirected to the URL specified by the <code>login_url</code> parameter, with the originally requested path in a query string variable specified by <code>redirect_field_name</code>. For example: <code>/admin/login/?next=/admin/polls/question/3/</code>.</li> </ul> <p>Example usage:</p> <pre data-language="python">from django.contrib.admin.views.decorators import staff_member_required


@staff_member_required
def my_view(request): ...
</pre> </dd>
</dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; Django Software Foundation and individual contributors<br>Licensed under the BSD License.<br>
    <a href="https://docs.djangoproject.com/en/5.2/ref/contrib/admin/index/" class="_attribution-link">https://docs.djangoproject.com/en/5.2/ref/contrib/admin/index/</a>
  </p>
</div>
