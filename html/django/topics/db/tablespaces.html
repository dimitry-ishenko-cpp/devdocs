<h1 id="tablespaces">Tablespaces</h1> <p id="s-tablespaces">A common paradigm for optimizing performance in database systems is the use of <a class="reference external" href="https://en.wikipedia.org/wiki/Tablespace">tablespaces</a> to organize disk layout.</p> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">Django does not create the tablespaces for you. Please refer to your database engine’s documentation for details on creating and managing tablespaces.</p> </div>  <h2 id="declaring-tablespaces-for-tables">Declaring tablespaces for tables</h2> <p id="s-declaring-tablespaces-for-tables">A tablespace can be specified for the table generated by a model by supplying the <a class="reference internal" href="../../ref/models/options.html#django.db.models.Options.db_tablespace" title="django.db.models.Options.db_tablespace"><code>db_tablespace</code></a> option inside the model’s <code>class Meta</code>. This option also affects tables automatically created for <a class="reference internal" href="../../ref/models/fields.html#django.db.models.ManyToManyField" title="django.db.models.ManyToManyField"><code>ManyToManyField</code></a>s in the model.</p> <p>You can use the <a class="reference internal" href="../../ref/settings.html#std-setting-DEFAULT_TABLESPACE"><code>DEFAULT_TABLESPACE</code></a> setting to specify a default value for <a class="reference internal" href="../../ref/models/options.html#django.db.models.Options.db_tablespace" title="django.db.models.Options.db_tablespace"><code>db_tablespace</code></a>. This is useful for setting a tablespace for the built-in Django apps and other applications whose code you cannot control.</p>   <h2 id="declaring-tablespaces-for-indexes">Declaring tablespaces for indexes</h2> <p id="s-declaring-tablespaces-for-indexes">You can pass the <a class="reference internal" href="../../ref/models/indexes.html#django.db.models.Index.db_tablespace" title="django.db.models.Index.db_tablespace"><code>db_tablespace</code></a> option to an <code>Index</code> constructor to specify the name of a tablespace to use for the index. For single field indexes, you can pass the <a class="reference internal" href="../../ref/models/fields.html#django.db.models.Field.db_tablespace" title="django.db.models.Field.db_tablespace"><code>db_tablespace</code></a> option to a <code>Field</code> constructor to specify an alternate tablespace for the field’s column index. If the column doesn’t have an index, the option is ignored.</p> <p>You can use the <a class="reference internal" href="../../ref/settings.html#std-setting-DEFAULT_INDEX_TABLESPACE"><code>DEFAULT_INDEX_TABLESPACE</code></a> setting to specify a default value for <a class="reference internal" href="../../ref/models/fields.html#django.db.models.Field.db_tablespace" title="django.db.models.Field.db_tablespace"><code>db_tablespace</code></a>.</p> <p>If <a class="reference internal" href="../../ref/models/fields.html#django.db.models.Field.db_tablespace" title="django.db.models.Field.db_tablespace"><code>db_tablespace</code></a> isn’t specified and you didn’t set <a class="reference internal" href="../../ref/settings.html#std-setting-DEFAULT_INDEX_TABLESPACE"><code>DEFAULT_INDEX_TABLESPACE</code></a>, the index is created in the same tablespace as the tables.</p>   <h2 id="an-example">An example</h2> <pre data-language="python" id="s-an-example">class TablespaceExample(models.Model):
    name = models.CharField(max_length=30, db_index=True, db_tablespace="indexes")
    data = models.CharField(max_length=255, db_index=True)
    shortcut = models.CharField(max_length=7)
    edges = models.ManyToManyField(to="self", db_tablespace="indexes")

    class Meta:
        db_tablespace = "tables"
        indexes = [models.Index(fields=["shortcut"], db_tablespace="other_indexes")]
</pre> <p>In this example, the tables generated by the <code>TablespaceExample</code> model (i.e. the model table and the many-to-many table) would be stored in the <code>tables</code> tablespace. The index for the name field and the indexes on the many-to-many table would be stored in the <code>indexes</code> tablespace. The <code>data</code> field would also generate an index, but no tablespace for it is specified, so it would be stored in the model tablespace <code>tables</code> by default. The index for the <code>shortcut</code> field would be stored in the <code>other_indexes</code> tablespace.</p>   <h2 id="database-support">Database support</h2> <p id="s-database-support">PostgreSQL and Oracle support tablespaces. SQLite, MariaDB and MySQL don’t.</p> <p>When you use a backend that lacks support for tablespaces, Django ignores all tablespace-related options.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Django Software Foundation and individual contributors<br>Licensed under the BSD License.<br>
    <a href="https://docs.djangoproject.com/en/5.1/topics/db/tablespaces/" class="_attribution-link">https://docs.djangoproject.com/en/5.1/topics/db/tablespaces/</a>
  </p>
</div>
