<h1 id="prop_tgt:UNITY_BUILD_BATCH_SIZE">UNITY_BUILD_BATCH_SIZE</h1> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.16.</span></p> </div> <p>Specifies the maximum number of source files that can be combined into any one unity source file when unity builds are enabled by the <a class="reference internal" href="unity_build.html#prop_tgt:UNITY_BUILD" title="UNITY_BUILD" id="index-0-prop_tgt:UNITY_BUILD"><code>UNITY_BUILD</code></a> target property. The original source files will be distributed across as many unity source files as necessary to honor this limit.</p> <p>The initial value for this property is taken from the <a class="reference internal" href="../variable/cmake_unity_build_batch_size.html#variable:CMAKE_UNITY_BUILD_BATCH_SIZE" title="CMAKE_UNITY_BUILD_BATCH_SIZE" id="index-0-variable:CMAKE_UNITY_BUILD_BATCH_SIZE"><code>CMAKE_UNITY_BUILD_BATCH_SIZE</code></a> variable when the target is created. If that variable has not been set, the initial value will be 8.</p> <p>The batch size needs to be selected carefully. If set too high, the size of the combined source files could result in the compiler using excessive memory or hitting other similar limits. In extreme cases, this can even result in build failure. On the other hand, if the batch size is too low, there will be little gain in build performance.</p> <p>Although strongly discouraged, the batch size may be set to a value of 0 to combine all the sources for the target into a single unity file, regardless of how many sources are involved. This runs the risk of creating an excessively large unity source file and negatively impacting the build performance, so a value of 0 is not generally recommended.</p>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/prop_tgt/UNITY_BUILD_BATCH_SIZE.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/prop_tgt/UNITY_BUILD_BATCH_SIZE.html</a>
  </p>
</div>
