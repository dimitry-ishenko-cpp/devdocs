<h1 id="variable:CMAKE_GENERATOR_INSTANCE">CMAKE_GENERATOR_INSTANCE</h1> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.11.</span></p> </div> <p>Generator-specific instance specification provided by user.</p> <p>Some CMake generators support selection of an instance of the native build system when multiple instances are available. If the user specifies an instance (e.g. by setting this cache entry or via the <a class="reference internal" href="../envvar/cmake_generator_instance.html#envvar:CMAKE_GENERATOR_INSTANCE" title="CMAKE_GENERATOR_INSTANCE" id="index-0-envvar:CMAKE_GENERATOR_INSTANCE"><code>CMAKE_GENERATOR_INSTANCE</code></a> environment variable), or after a default instance is chosen when a build tree is first configured, the value will be available in this variable.</p> <p>The value of this variable should never be modified by project code. A toolchain file specified by the <a class="reference internal" href="cmake_toolchain_file.html#variable:CMAKE_TOOLCHAIN_FILE" title="CMAKE_TOOLCHAIN_FILE" id="index-0-variable:CMAKE_TOOLCHAIN_FILE"><code>CMAKE_TOOLCHAIN_FILE</code></a> variable may initialize <code>CMAKE_GENERATOR_INSTANCE</code> as a cache entry. Once a given build tree has been initialized with a particular value for this variable, changing the value has undefined behavior.</p> <p>Instance specification is supported only on specific generators.</p>  <h2>Visual Studio Instance Selection</h2> <p><a class="reference internal" href="../manual/cmake-generators.7.html#visual-studio-generators"><span class="std std-ref">Visual Studio Generators</span></a> support instance specification for Visual Studio 2017 and above. The <code>CMAKE_GENERATOR_INSTANCE</code> variable may be set as a cache entry selecting an instance of Visual Studio via one of the following forms:</p> <ul class="simple"> <li><code>location</code></li> <li><code>location[,key=value]*</code></li> <li><code>key=value[,key=value]*</code></li> </ul> <p>The <code>location</code> specifies the absolute path to the top-level directory of the VS installation.</p> <p>The <code>key=value</code> pairs form a comma-separated list of options to specify details of the instance selection. Supported pairs are:</p> <dl> <dt>
<code>version=&lt;major&gt;.&lt;minor&gt;.&lt;date&gt;.&lt;build&gt;</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.23.</span></p> </div> <p>Specify the 4-component VS Build Version, a.k.a. Build Number.</p> <p>The components are:</p> <p><code>&lt;major&gt;.&lt;minor&gt;</code></p>  <p>The VS major and minor version numbers. These are the same as the release version numbers.</p>  <p><code>&lt;date&gt;</code></p>  <p>A build date in the format <code>MMMDD</code>, where <code>MMM</code> is a month index since an epoch used by Microsoft, and <code>DD</code> is a day in that month.</p>  <p><code>&lt;build&gt;</code></p>  <p>A build index on the day represented by <code>&lt;date&gt;</code>.</p>  <p>The build number is reported by <code>vswhere</code> as <code>installationVersion</code>. For example, VS 16.11.10 has build number <code>16.11.32126.315</code>.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.23: </span>A portable VS instance, which is not known to the Visual Studio Installer, may be specified by providing both <code>location</code> and <code>version=</code>.</p> </div> <p>If the value of <code>CMAKE_GENERATOR_INSTANCE</code> is not specified explicitly by the user or a toolchain file, CMake queries the Visual Studio Installer to locate VS instances, chooses one, and sets the variable as a cache entry to hold the value persistently. If an environment variable of the form <code>VS##0COMNTOOLS</code>, where <code>##</code> the Visual Studio major version number, is set and points to the <code>Common7/Tools</code> directory within one of the VS instances, that instance will be used. Otherwise, if more than one VS instance is installed we do not define which one is chosen by default.</p> <p>The VS version build number of the selected VS instance is provided in the <a class="reference internal" href="cmake_vs_version_build_number.html#variable:CMAKE_VS_VERSION_BUILD_NUMBER" title="CMAKE_VS_VERSION_BUILD_NUMBER" id="index-0-variable:CMAKE_VS_VERSION_BUILD_NUMBER"><code>CMAKE_VS_VERSION_BUILD_NUMBER</code></a> variable.</p>   <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/variable/CMAKE_GENERATOR_INSTANCE.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/variable/CMAKE_GENERATOR_INSTANCE.html</a>
  </p>
</div>
