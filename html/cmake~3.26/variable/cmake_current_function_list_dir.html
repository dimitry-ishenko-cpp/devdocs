<h1 id="variable:CMAKE_CURRENT_FUNCTION_LIST_DIR">CMAKE_CURRENT_FUNCTION_LIST_DIR</h1> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.17.</span></p> </div> <p>When executing code inside a <a class="reference internal" href="../command/function.html#command:function" title="function" id="index-0-command:function"><code>function()</code></a>, this variable contains the full directory of the listfile that defined the current function.</p> <p>It is quite common practice in CMake for modules to use some additional files, such as templates to be copied in after substituting CMake variables. In such cases, a function needs to know where to locate those files in a way that doesn't depend on where the function is called. Without <code>CMAKE_CURRENT_FUNCTION_LIST_DIR</code>, the code to do that would typically use the following pattern:</p> <pre data-language="cmake">set(_THIS_MODULE_BASE_DIR "${CMAKE_CURRENT_LIST_DIR}")

function(foo)
  configure_file(
    "${_THIS_MODULE_BASE_DIR}/some.template.in"
    some.output
  )
endfunction()
</pre> <p>Using <code>CMAKE_CURRENT_FUNCTION_LIST_DIR</code> inside the function instead eliminates the need for the extra variable which would otherwise be visible outside the function's scope. The above example can be written in the more concise and more robust form:</p> <pre data-language="cmake">function(foo)
  configure_file(
    "${CMAKE_CURRENT_FUNCTION_LIST_DIR}/some.template.in"
    some.output
  )
endfunction()
</pre> <p>See also <a class="reference internal" href="cmake_current_function.html#variable:CMAKE_CURRENT_FUNCTION" title="CMAKE_CURRENT_FUNCTION" id="index-0-variable:CMAKE_CURRENT_FUNCTION"><code>CMAKE_CURRENT_FUNCTION</code></a>, <a class="reference internal" href="cmake_current_function_list_file.html#variable:CMAKE_CURRENT_FUNCTION_LIST_FILE" title="CMAKE_CURRENT_FUNCTION_LIST_FILE" id="index-0-variable:CMAKE_CURRENT_FUNCTION_LIST_FILE"><code>CMAKE_CURRENT_FUNCTION_LIST_FILE</code></a> and <a class="reference internal" href="cmake_current_function_list_line.html#variable:CMAKE_CURRENT_FUNCTION_LIST_LINE" title="CMAKE_CURRENT_FUNCTION_LIST_LINE" id="index-0-variable:CMAKE_CURRENT_FUNCTION_LIST_LINE"><code>CMAKE_CURRENT_FUNCTION_LIST_LINE</code></a>.</p>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/variable/CMAKE_CURRENT_FUNCTION_LIST_DIR.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/variable/CMAKE_CURRENT_FUNCTION_LIST_DIR.html</a>
  </p>
</div>
