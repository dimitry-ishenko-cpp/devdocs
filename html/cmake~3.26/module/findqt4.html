<h1 id="module:FindQt4">FindQt4</h1>  <h2>Finding and Using Qt4</h2> <p>This module can be used to find Qt4. The most important issue is that the Qt4 qmake is available via the system path. This qmake is then used to detect basically everything else. This module defines a number of <a class="reference internal" href="../prop_tgt/imported.html#prop_tgt:IMPORTED" title="IMPORTED" id="index-0-prop_tgt:IMPORTED"><code>IMPORTED</code></a> targets, macros and variables.</p> <p>Typical usage could be something like:</p> <pre data-language="cmake">set(CMAKE_AUTOMOC ON)
set(CMAKE_INCLUDE_CURRENT_DIR ON)
find_package(Qt4 4.4.3 REQUIRED QtGui QtXml)
add_executable(myexe main.cpp)
target_link_libraries(myexe Qt4::QtGui Qt4::QtXml)
</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>When using <a class="reference internal" href="../prop_tgt/imported.html#prop_tgt:IMPORTED" title="IMPORTED" id="index-1-prop_tgt:IMPORTED"><code>IMPORTED</code></a> targets, the qtmain.lib static library is automatically linked on Windows for <a class="reference internal" href="../prop_tgt/win32_executable.html#prop_tgt:WIN32_EXECUTABLE" title="WIN32_EXECUTABLE" id="index-0-prop_tgt:WIN32_EXECUTABLE"><code>WIN32</code></a> executables. To disable that globally, set the <code>QT4_NO_LINK_QTMAIN</code> variable before finding Qt4. To disable that for a particular executable, set the <code>QT4_NO_LINK_QTMAIN</code> target property to <code>TRUE</code> on the executable.</p> </div>   <h2>Qt Build Tools</h2> <p>Qt relies on some bundled tools for code generation, such as <code>moc</code> for meta-object code generation,``uic`` for widget layout and population, and <code>rcc</code> for virtual filesystem content generation. These tools may be automatically invoked by <a class="reference internal" href="../manual/cmake.1.html#manual:cmake(1)" title="cmake(1)" id="index-0-manual:cmake(1)"><code>cmake(1)</code></a> if the appropriate conditions are met. See <a class="reference internal" href="../manual/cmake-qt.7.html#manual:cmake-qt(7)" title="cmake-qt(7)" id="index-0-manual:cmake-qt(7)"><code>cmake-qt(7)</code></a> for more.</p>   <h2>Qt Macros</h2> <p>In some cases it can be necessary or useful to invoke the Qt build tools in a more-manual way. Several macros are available to add targets for such uses.</p> <pre data-language="none">macro QT4_WRAP_CPP(outfiles inputfile ... [TARGET tgt] OPTIONS ...)
      create moc code from a list of files containing Qt class with
      the Q_OBJECT declaration.  Per-directory preprocessor definitions
      are also added.  If the &lt;tgt&gt; is specified, the
      INTERFACE_INCLUDE_DIRECTORIES and INTERFACE_COMPILE_DEFINITIONS from
      the &lt;tgt&gt; are passed to moc.  Options may be given to moc, such as
      those found when executing "moc -help".
</pre> <pre data-language="none">macro QT4_WRAP_UI(outfiles inputfile ... OPTIONS ...)
      create code from a list of Qt designer ui files.
      Options may be given to uic, such as those found
      when executing "uic -help"
</pre> <pre data-language="none">macro QT4_ADD_RESOURCES(outfiles inputfile ... OPTIONS ...)
      create code from a list of Qt resource files.
      Options may be given to rcc, such as those found
      when executing "rcc -help"
</pre> <pre data-language="none">macro QT4_GENERATE_MOC(inputfile outputfile [TARGET tgt])
      creates a rule to run moc on infile and create outfile.
      Use this if for some reason QT4_WRAP_CPP() isn't appropriate, e.g.
      because you need a custom filename for the moc file or something
      similar.  If the &lt;tgt&gt; is specified, the
      INTERFACE_INCLUDE_DIRECTORIES and INTERFACE_COMPILE_DEFINITIONS from
      the &lt;tgt&gt; are passed to moc.
</pre> <pre data-language="none">macro QT4_ADD_DBUS_INTERFACE(outfiles interface basename)
      Create the interface header and implementation files with the
      given basename from the given interface xml file and add it to
      the list of sources.

      You can pass additional parameters to the qdbusxml2cpp call by setting
      properties on the input file:

      INCLUDE the given file will be included in the generate interface header

      CLASSNAME the generated class is named accordingly

      NO_NAMESPACE the generated class is not wrapped in a namespace
</pre> <pre data-language="none">macro QT4_ADD_DBUS_INTERFACES(outfiles inputfile ... )
      Create the interface header and implementation files
      for all listed interface xml files.
      The basename will be automatically determined from the name
      of the xml file.

      The source file properties described for
      QT4_ADD_DBUS_INTERFACE also apply here.
</pre> <pre data-language="none">macro QT4_ADD_DBUS_ADAPTOR(outfiles xmlfile parentheader parentclassname
                           [basename] [classname])
      create a dbus adaptor (header and implementation file) from the xml file
      describing the interface, and add it to the list of sources. The adaptor
      forwards the calls to a parent class, defined in parentheader and named
      parentclassname. The name of the generated files will be
      &lt;basename&gt;adaptor.{cpp,h} where basename defaults to the basename of the
      xml file.
      If &lt;classname&gt; is provided, then it will be used as the classname of the
      adaptor itself.
</pre> <pre data-language="none">macro QT4_GENERATE_DBUS_INTERFACE( header [interfacename] OPTIONS ...)
      generate the xml interface file from the given header.
      If the optional argument interfacename is omitted, the name of the
      interface file is constructed from the basename of the header with
      the suffix .xml appended.
      Options may be given to qdbuscpp2xml, such as those found when
      executing "qdbuscpp2xml --help"
</pre> <pre data-language="none">macro QT4_CREATE_TRANSLATION( qm_files directories ... sources ...
                              ts_files ... OPTIONS ...)
      out: qm_files
      in:  directories sources ts_files
      options: flags to pass to lupdate, such as -extensions to specify
      extensions for a directory scan.
      generates commands to create .ts (via lupdate) and .qm
      (via lrelease) - files from directories and/or sources. The ts files are
      created and/or updated in the source tree (unless given with full paths).
      The qm files are generated in the build tree.
      Updating the translations can be done by adding the qm_files
      to the source list of your library/executable, so they are
      always updated, or by adding a custom target to control when
      they get updated/generated.
</pre> <pre data-language="none">macro QT4_ADD_TRANSLATION( qm_files ts_files ... )
      out: qm_files
      in:  ts_files
      generates commands to create .qm from .ts - files. The generated
      filenames can be found in qm_files. The ts_files
      must exist and are not updated in any way.
</pre> <pre data-language="none">macro QT4_AUTOMOC(sourcefile1 sourcefile2 ... [TARGET tgt])
      The qt4_automoc macro is obsolete.  Use the CMAKE_AUTOMOC feature instead.
      This macro is still experimental.
      It can be used to have moc automatically handled.
      So if you have the files foo.h and foo.cpp, and in foo.h a
      a class uses the Q_OBJECT macro, moc has to run on it. If you don't
      want to use QT4_WRAP_CPP() (which is reliable and mature), you can insert
      #include "foo.moc"
      in foo.cpp and then give foo.cpp as argument to QT4_AUTOMOC(). This will
      scan all listed files at cmake-time for such included moc files and if it
      finds them cause a rule to be generated to run moc at build time on the
      accompanying header file foo.h.
      If a source file has the SKIP_AUTOMOC property set it will be ignored by
      this macro.
      If the &lt;tgt&gt; is specified, the INTERFACE_INCLUDE_DIRECTORIES and
      INTERFACE_COMPILE_DEFINITIONS from the &lt;tgt&gt; are passed to moc.
</pre> <pre data-language="none">function QT4_USE_MODULES( target [link_type] modules...)
       This function is obsolete. Use target_link_libraries with IMPORTED targets
       instead.
       Make &lt;target&gt; use the &lt;modules&gt; from Qt. Using a Qt module means
       to link to the library, add the relevant include directories for the
       module, and add the relevant compiler defines for using the module.
       Modules are roughly equivalent to components of Qt4, so usage would be
       something like:
        qt4_use_modules(myexe Core Gui Declarative)
       to use QtCore, QtGui and QtDeclarative. The optional &lt;link_type&gt; argument
       can be specified as either LINK_PUBLIC or LINK_PRIVATE to specify the
       same argument to the target_link_libraries call.
</pre>   <h2>IMPORTED Targets</h2> <p>A particular Qt library may be used by using the corresponding <a class="reference internal" href="../prop_tgt/imported.html#prop_tgt:IMPORTED" title="IMPORTED" id="index-2-prop_tgt:IMPORTED"><code>IMPORTED</code></a> target with the <a class="reference internal" href="../command/target_link_libraries.html#command:target_link_libraries" title="target_link_libraries" id="index-0-command:target_link_libraries"><code>target_link_libraries()</code></a> command:</p> <pre data-language="cmake">target_link_libraries(myexe Qt4::QtGui Qt4::QtXml)
</pre> <p>Using a target in this way causes :cmake(1)` to use the appropriate include directories and compile definitions for the target when compiling <code>myexe</code>.</p> <p>Targets are aware of their dependencies, so for example it is not necessary to list <code>Qt4::QtCore</code> if another Qt library is listed, and it is not necessary to list <code>Qt4::QtGui</code> if <code>Qt4::QtDeclarative</code> is listed. Targets may be tested for existence in the usual way with the <a class="reference internal" href="../command/if.html#command:if" title="if" id="index-0-command:if"><code>if(TARGET)</code></a> command.</p> <p>The Qt toolkit may contain both debug and release libraries. <a class="reference internal" href="../manual/cmake.1.html#manual:cmake(1)" title="cmake(1)" id="index-1-manual:cmake(1)"><code>cmake(1)</code></a> will choose the appropriate version based on the build configuration.</p> <dl class="simple"> <dt>
<code>Qt4::QtCore</code> </dt>
<dd>
<p>The QtCore target</p> </dd> <dt>
<code>Qt4::QtGui</code> </dt>
<dd>
<p>The QtGui target</p> </dd> <dt>
<code>Qt4::Qt3Support</code> </dt>
<dd>
<p>The Qt3Support target</p> </dd> <dt>
<code>Qt4::QtAssistant</code> </dt>
<dd>
<p>The QtAssistant target</p> </dd> <dt>
<code>Qt4::QtAssistantClient</code> </dt>
<dd>
<p>The QtAssistantClient target</p> </dd> <dt>
<code>Qt4::QAxContainer</code> </dt>
<dd>
<p>The QAxContainer target (Windows only)</p> </dd> <dt>
<code>Qt4::QAxServer</code> </dt>
<dd>
<p>The QAxServer target (Windows only)</p> </dd> <dt>
<code>Qt4::QtDBus</code> </dt>
<dd>
<p>The QtDBus target</p> </dd> <dt>
<code>Qt4::QtDeclarative</code> </dt>
<dd>
<p>The QtDeclarative target</p> </dd> <dt>
<code>Qt4::QtDesigner</code> </dt>
<dd>
<p>The QtDesigner target</p> </dd> <dt>
<code>Qt4::QtDesignerComponents</code> </dt>
<dd>
<p>The QtDesignerComponents target</p> </dd> <dt>
<code>Qt4::QtHelp</code> </dt>
<dd>
<p>The QtHelp target</p> </dd> <dt>
<code>Qt4::QtMotif</code> </dt>
<dd>
<p>The QtMotif target</p> </dd> <dt>
<code>Qt4::QtMultimedia</code> </dt>
<dd>
<p>The QtMultimedia target</p> </dd> <dt>
<code>Qt4::QtNetwork</code> </dt>
<dd>
<p>The QtNetwork target</p> </dd> <dt>
<code>Qt4::QtNsPLugin</code> </dt>
<dd>
<p>The QtNsPLugin target</p> </dd> <dt>
<code>Qt4::QtOpenGL</code> </dt>
<dd>
<p>The QtOpenGL target</p> </dd> <dt>
<code>Qt4::QtScript</code> </dt>
<dd>
<p>The QtScript target</p> </dd> <dt>
<code>Qt4::QtScriptTools</code> </dt>
<dd>
<p>The QtScriptTools target</p> </dd> <dt>
<code>Qt4::QtSql</code> </dt>
<dd>
<p>The QtSql target</p> </dd> <dt>
<code>Qt4::QtSvg</code> </dt>
<dd>
<p>The QtSvg target</p> </dd> <dt>
<code>Qt4::QtTest</code> </dt>
<dd>
<p>The QtTest target</p> </dd> <dt>
<code>Qt4::QtUiTools</code> </dt>
<dd>
<p>The QtUiTools target</p> </dd> <dt>
<code>Qt4::QtWebKit</code> </dt>
<dd>
<p>The QtWebKit target</p> </dd> <dt>
<code>Qt4::QtXml</code> </dt>
<dd>
<p>The QtXml target</p> </dd> <dt>
<code>Qt4::QtXmlPatterns</code> </dt>
<dd>
<p>The QtXmlPatterns target</p> </dd> <dt>
<code>Qt4::phonon</code> </dt>
<dd>
<p>The phonon target</p> </dd> </dl>   <h2>Result Variables</h2>  <p>Below is a detailed list of variables that FindQt4.cmake sets.</p>  <dl class="simple"> <dt>
<code>Qt4_FOUND</code> </dt>
<dd>
<p>If false, don't try to use Qt 4.</p> </dd> <dt>
<code>QT_FOUND</code> </dt>
<dd>
<p>If false, don't try to use Qt. This variable is for compatibility only.</p> </dd> <dt>
<code>QT4_FOUND</code> </dt>
<dd>
<p>If false, don't try to use Qt 4. This variable is for compatibility only.</p> </dd> <dt>
<code>QT_VERSION_MAJOR</code> </dt>
<dd>
<p>The major version of Qt found.</p> </dd> <dt>
<code>QT_VERSION_MINOR</code> </dt>
<dd>
<p>The minor version of Qt found.</p> </dd> <dt>
<code>QT_VERSION_PATCH</code> </dt>
<dd>
<p>The patch version of Qt found.</p> </dd> </dl>   <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/module/FindQt4.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/module/FindQt4.html</a>
  </p>
</div>
