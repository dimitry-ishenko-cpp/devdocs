<h1 id="policy:CMP0117">CMP0117</h1> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.20.</span></p> </div> <p>MSVC RTTI flag <code>/GR</code> is not added to <a class="reference internal" href="#" title="CMAKE_&lt;LANG&gt;_FLAGS" id="index-0-variable:CMAKE_&lt;LANG&gt;_FLAGS"><code>CMAKE_CXX_FLAGS</code></a> by default.</p> <p>When using MSVC-like compilers in CMake 3.19 and below, the RTTI flag <code>/GR</code> is added to <a class="reference internal" href="#" title="CMAKE_&lt;LANG&gt;_FLAGS" id="index-1-variable:CMAKE_&lt;LANG&gt;_FLAGS"><code>CMAKE_CXX_FLAGS</code></a> by default. This behavior is left from support for MSVC versions from Visual Studio 2003 and below that did not enable RTTI by default. It is no longer necessary. Furthermore, it is problematic for projects that want to change to <code>/GR-</code> programmatically. In particular, it requires string editing of the <a class="reference internal" href="#" title="CMAKE_&lt;LANG&gt;_FLAGS" id="index-2-variable:CMAKE_&lt;LANG&gt;_FLAGS"><code>CMAKE_CXX_FLAGS</code></a> variable with knowledge of the CMake builtin default so it can be replaced.</p> <p>CMake 3.20 and above prefer to leave out <code>/GR</code> from the value of <a class="reference internal" href="#" title="CMAKE_&lt;LANG&gt;_FLAGS" id="index-3-variable:CMAKE_&lt;LANG&gt;_FLAGS"><code>CMAKE_CXX_FLAGS</code></a> by default.</p> <p>This policy provides compatibility with projects that have not been updated to expect the lack of the <code>/GR</code> flag. The policy setting takes effect as of the first <a class="reference internal" href="../command/project.html#command:project" title="project" id="index-0-command:project"><code>project()</code></a> or <a class="reference internal" href="../command/enable_language.html#command:enable_language" title="enable_language" id="index-0-command:enable_language"><code>enable_language()</code></a> command that initializes <a class="reference internal" href="#" title="CMAKE_&lt;LANG&gt;_FLAGS" id="index-4-variable:CMAKE_&lt;LANG&gt;_FLAGS"><code>CMAKE_CXX_FLAGS</code></a>.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Once the policy has taken effect at the top of a project for a given language, that choice must be used throughout the tree for that language. In projects that have nested projects in subdirectories, be sure to convert everything together.</p> </div> <p>The <code>OLD</code> behavior for this policy is to place the MSVC <code>/GR</code> flag in the default <a class="reference internal" href="#" title="CMAKE_&lt;LANG&gt;_FLAGS" id="index-5-variable:CMAKE_&lt;LANG&gt;_FLAGS"><code>CMAKE_CXX_FLAGS</code></a> cache entry. The <code>NEW</code> behavior for this policy is to <em>not</em> place the MSVC <code>/GR</code> flag in the default cache entry.</p> <p>This policy was introduced in CMake version 3.20. Use the <a class="reference internal" href="../command/cmake_policy.html#command:cmake_policy" title="cmake_policy" id="index-0-command:cmake_policy"><code>cmake_policy()</code></a> command to set it to <code>OLD</code> or <code>NEW</code> explicitly. Unlike many policies, CMake version 3.26.0-rc3 does <em>not</em> warn when this policy is not set and simply uses <code>OLD</code> behavior.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The <code>OLD</code> behavior of a policy is <a class="reference internal" href="../manual/cmake-policies.7.html#manual:cmake-policies(7)" title="cmake-policies(7)" id="index-0-manual:cmake-policies(7)"><code>deprecated by definition</code></a> and may be removed in a future version of CMake.</p> </div>  <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/policy/CMP0117.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/policy/CMP0117.html</a>
  </p>
</div>
