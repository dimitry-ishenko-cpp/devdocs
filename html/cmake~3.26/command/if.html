<h1 id="command:if">if</h1> <p>Conditionally execute a group of commands.</p>  <h2>Synopsis</h2> <pre data-language="cmake">if(&lt;condition&gt;)
  &lt;commands&gt;
elseif(&lt;condition&gt;) # optional block, can be repeated
  &lt;commands&gt;
else()              # optional block
  &lt;commands&gt;
endif()
</pre> <p>Evaluates the <code>condition</code> argument of the <code>if</code> clause according to the <a class="reference internal" href="#condition-syntax">Condition syntax</a> described below. If the result is true, then the <code>commands</code> in the <code>if</code> block are executed. Otherwise, optional <code>elseif</code> blocks are processed in the same way. Finally, if no <code>condition</code> is true, <code>commands</code> in the optional <code>else</code> block are executed.</p> <p>Per legacy, the <a class="reference internal" href="else.html#command:else" title="else" id="index-0-command:else"><code>else()</code></a> and <a class="reference internal" href="endif.html#command:endif" title="endif" id="index-0-command:endif"><code>endif()</code></a> commands admit an optional <code>&lt;condition&gt;</code> argument. If used, it must be a verbatim repeat of the argument of the opening <code>if</code> command.</p>   <h2 id="id1">Condition Syntax</h2> <p>The following syntax applies to the <code>condition</code> argument of the <code>if</code>, <code>elseif</code> and <a class="reference internal" href="while.html#command:while" title="while" id="index-0-command:while"><code>while()</code></a> clauses.</p> <p>Compound conditions are evaluated in the following order of precedence:</p> <ol class="arabic simple"> <li>Parentheses.</li> <li>Unary tests such as <a class="reference internal" href="#exists">EXISTS</a>, <a class="reference internal" href="#command">COMMAND</a>, and <a class="reference internal" href="#defined">DEFINED</a>.</li> <li>Binary tests such as <a class="reference internal" href="#equal">EQUAL</a>, <a class="reference internal" href="#less">LESS</a>, <a class="reference internal" href="#less-equal">LESS_EQUAL</a>, <a class="reference internal" href="#greater">GREATER</a>, <a class="reference internal" href="#greater-equal">GREATER_EQUAL</a>, <a class="reference internal" href="#strequal">STREQUAL</a>, <a class="reference internal" href="#strless">STRLESS</a>, <a class="reference internal" href="#strless-equal">STRLESS_EQUAL</a>, <a class="reference internal" href="#strgreater">STRGREATER</a>, <a class="reference internal" href="#strgreater-equal">STRGREATER_EQUAL</a>, <a class="reference internal" href="#version-equal">VERSION_EQUAL</a>, <a class="reference internal" href="#version-less">VERSION_LESS</a>, <a class="reference internal" href="#version-less-equal">VERSION_LESS_EQUAL</a>, <a class="reference internal" href="#version-greater">VERSION_GREATER</a>, <a class="reference internal" href="#version-greater-equal">VERSION_GREATER_EQUAL</a>, <a class="reference internal" href="#path-equal">PATH_EQUAL</a>, and <a class="reference internal" href="#matches">MATCHES</a>.</li> <li>Unary logical operator <a class="reference internal" href="#not">NOT</a>.</li> <li>Binary logical operators <a class="reference internal" href="#and">AND</a> and <a class="reference internal" href="#or">OR</a>, from left to right, without any short-circuit.</li> </ol>  <h3>Basic Expressions</h3> <dl class="simple"> <dt>
<code>if(&lt;constant&gt;)</code> </dt>
<dd>
<p>True if the constant is <code>1</code>, <code>ON</code>, <code>YES</code>, <code>TRUE</code>, <code>Y</code>, or a non-zero number (including floating point numbers). False if the constant is <code>0</code>, <code>OFF</code>, <code>NO</code>, <code>FALSE</code>, <code>N</code>, <code>IGNORE</code>, <code>NOTFOUND</code>, the empty string, or ends in the suffix <code>-NOTFOUND</code>. Named boolean constants are case-insensitive. If the argument is not one of these specific constants, it is treated as a variable or string (see <a class="reference internal" href="#variable-expansion">Variable Expansion</a> further below) and one of the following two forms applies.</p> </dd> <dt>
<code>if(&lt;variable&gt;)</code> </dt>
<dd>
<p>True if given a variable that is defined to a value that is not a false constant. False otherwise, including if the variable is undefined. Note that macro arguments are not variables. <a class="reference internal" href="../manual/cmake-language.7.html#cmake-language-environment-variables"><span class="std std-ref">Environment Variables</span></a> also cannot be tested this way, e.g. <code>if(ENV{some_var})</code> will always evaluate to false.</p> </dd> <dt>
<code>if(&lt;string&gt;)</code> </dt>
<dd>
<p>A quoted string always evaluates to false unless:</p> <ul class="simple"> <li>The string's value is one of the true constants, or</li> <li>Policy <a class="reference internal" href="../policy/cmp0054.html#policy:CMP0054" title="CMP0054" id="index-0-policy:CMP0054"><code>CMP0054</code></a> is not set to <code>NEW</code> and the string's value happens to be a variable name that is affected by <a class="reference internal" href="../policy/cmp0054.html#policy:CMP0054" title="CMP0054" id="index-1-policy:CMP0054"><code>CMP0054</code></a>'s behavior.</li> </ul> </dd> </dl>   <h3>Logic Operators</h3> <dl class="simple" id="not"> <dt>
<code>if(NOT &lt;condition&gt;)</code> </dt>
<dd>
<p>True if the condition is not true.</p> </dd> </dl> <dl class="simple" id="and"> <dt>
<code>if(&lt;cond1&gt; AND &lt;cond2&gt;)</code> </dt>
<dd>
<p>True if both conditions would be considered true individually.</p> </dd> </dl> <dl class="simple" id="or"> <dt>
<code>if(&lt;cond1&gt; OR &lt;cond2&gt;)</code> </dt>
<dd>
<p>True if either condition would be considered true individually.</p> </dd> <dt>
<code>if((condition) AND (condition OR (condition)))</code> </dt>
<dd>
<p>The conditions inside the parenthesis are evaluated first and then the remaining condition is evaluated as in the other examples. Where there are nested parenthesis the innermost are evaluated as part of evaluating the condition that contains them.</p> </dd> </dl>   <h3>Existence Checks</h3> <dl id="command"> <dt>
<code>if(COMMAND command-name)</code> </dt>
<dd>
<p>True if the given name is a command, macro or function that can be invoked.</p> </dd> <dt>
<code>if(POLICY policy-id)</code> </dt>
<dd>
<p>True if the given name is an existing policy (of the form <code>CMP&lt;NNNN&gt;</code>).</p> </dd> <dt>
<code>if(TARGET target-name)</code> </dt>
<dd>
<p>True if the given name is an existing logical target name created by a call to the <a class="reference internal" href="add_executable.html#command:add_executable" title="add_executable" id="index-0-command:add_executable"><code>add_executable()</code></a>, <a class="reference internal" href="add_library.html#command:add_library" title="add_library" id="index-0-command:add_library"><code>add_library()</code></a>, or <a class="reference internal" href="add_custom_target.html#command:add_custom_target" title="add_custom_target" id="index-0-command:add_custom_target"><code>add_custom_target()</code></a> command that has already been invoked (in any directory).</p> </dd> <dt>
<code>if(TEST test-name)</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.3: </span>True if the given name is an existing test name created by the <a class="reference internal" href="add_test.html#command:add_test" title="add_test" id="index-0-command:add_test"><code>add_test()</code></a> command.</p> </div> </dd> </dl> <dl id="defined"> <dt>
<code>if(DEFINED &lt;name&gt;|CACHE{&lt;name&gt;}|ENV{&lt;name&gt;})</code> </dt>
<dd>
<p>True if a variable, cache variable or environment variable with given <code>&lt;name&gt;</code> is defined. The value of the variable does not matter. Note the following caveats:</p> <ul class="simple"> <li>Macro arguments are not variables.</li> <li>It is not possible to test directly whether a <code>&lt;name&gt;</code> is a non-cache variable. The expression <code>if(DEFINED someName)</code> will evaluate to true if either a cache or non-cache variable <code>someName</code> exists. In comparison, the expression <code>if(DEFINED CACHE{someName})</code> will only evaluate to true if a cache variable <code>someName</code> exists. Both expressions need to be tested if you need to know whether a non-cache variable exists: <code>if(DEFINED someName AND NOT DEFINED CACHE{someName})</code>.</li> </ul> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.14: </span>Added support for <code>CACHE{&lt;name&gt;}</code> variables.</p> </div> </dd> <dt>
<code>if(&lt;variable|string&gt; IN_LIST &lt;variable&gt;)</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.3: </span>True if the given element is contained in the named list variable.</p> </div> </dd> </dl>   <h3>File Operations</h3> <dl id="exists"> <dt>
<code>if(EXISTS path-to-file-or-directory)</code> </dt>
<dd>
<p>True if the named file or directory exists. Behavior is well-defined only for explicit full paths (a leading <code>~/</code> is not expanded as a home directory and is considered a relative path). Resolves symbolic links, i.e. if the named file or directory is a symbolic link, returns true if the target of the symbolic link exists.</p> <p>False if the given path is an empty string.</p> </dd> <dt>
<code>if(file1 IS_NEWER_THAN file2)</code> </dt>
<dd>
<p>True if <code>file1</code> is newer than <code>file2</code> or if one of the two files doesn't exist. Behavior is well-defined only for full paths. If the file time stamps are exactly the same, an <code>IS_NEWER_THAN</code> comparison returns true, so that any dependent build operations will occur in the event of a tie. This includes the case of passing the same file name for both file1 and file2.</p> </dd> <dt>
<code>if(IS_DIRECTORY path)</code> </dt>
<dd>
<p>True if <code>path</code> is a directory. Behavior is well-defined only for full paths.</p> <p>False if the given path is an empty string.</p> </dd> <dt>
<code>if(IS_SYMLINK file-name)</code> </dt>
<dd>
<p>True if the given name is a symbolic link. Behavior is well-defined only for full paths.</p> </dd> <dt>
<code>if(IS_ABSOLUTE path)</code> </dt>
<dd>
<p>True if the given path is an absolute path. Note the following special cases:</p> <ul class="simple"> <li>An empty <code>path</code> evaluates to false.</li> <li>On Windows hosts, any <code>path</code> that begins with a drive letter and colon (e.g. <code>C:</code>), a forward slash or a backslash will evaluate to true. This means a path like <code>C:no\base\dir</code> will evaluate to true, even though the non-drive part of the path is relative.</li> <li>On non-Windows hosts, any <code>path</code> that begins with a tilde (<code>~</code>) evaluates to true.</li> </ul> </dd> </dl>   <h3>Comparisons</h3> <dl id="matches"> <dt>
<code>if(&lt;variable|string&gt; MATCHES regex)</code> </dt>
<dd>
<p>True if the given string or variable's value matches the given regular expression. See <a class="reference internal" href="string.html#regex-specification"><span class="std std-ref">Regex Specification</span></a> for regex format.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 3.9: </span><code>()</code> groups are captured in <a class="reference internal" href="#" title="CMAKE_MATCH_&lt;n&gt;" id="index-0-variable:CMAKE_MATCH_&lt;n&gt;"><code>CMAKE_MATCH_&lt;n&gt;</code></a> variables.</p> </div> </dd> </dl> <dl class="simple" id="less"> <dt>
<code>if(&lt;variable|string&gt; LESS &lt;variable|string&gt;)</code> </dt>
<dd>
<p>True if the given string or variable's value is a valid number and less than that on the right.</p> </dd> </dl> <dl class="simple" id="greater"> <dt>
<code>if(&lt;variable|string&gt; GREATER &lt;variable|string&gt;)</code> </dt>
<dd>
<p>True if the given string or variable's value is a valid number and greater than that on the right.</p> </dd> </dl> <dl class="simple" id="equal"> <dt>
<code>if(&lt;variable|string&gt; EQUAL &lt;variable|string&gt;)</code> </dt>
<dd>
<p>True if the given string or variable's value is a valid number and equal to that on the right.</p> </dd> </dl> <dl id="less-equal"> <dt>
<code>if(&lt;variable|string&gt; LESS_EQUAL &lt;variable|string&gt;)</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.7: </span>True if the given string or variable's value is a valid number and less than or equal to that on the right.</p> </div> </dd> </dl> <dl id="greater-equal"> <dt>
<code>if(&lt;variable|string&gt; GREATER_EQUAL &lt;variable|string&gt;)</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.7: </span>True if the given string or variable's value is a valid number and greater than or equal to that on the right.</p> </div> </dd> </dl> <dl class="simple" id="strless"> <dt>
<code>if(&lt;variable|string&gt; STRLESS &lt;variable|string&gt;)</code> </dt>
<dd>
<p>True if the given string or variable's value is lexicographically less than the string or variable on the right.</p> </dd> </dl> <dl class="simple" id="strgreater"> <dt>
<code>if(&lt;variable|string&gt; STRGREATER &lt;variable|string&gt;)</code> </dt>
<dd>
<p>True if the given string or variable's value is lexicographically greater than the string or variable on the right.</p> </dd> </dl> <dl class="simple" id="strequal"> <dt>
<code>if(&lt;variable|string&gt; STREQUAL &lt;variable|string&gt;)</code> </dt>
<dd>
<p>True if the given string or variable's value is lexicographically equal to the string or variable on the right.</p> </dd> </dl> <dl id="strless-equal"> <dt>
<code>if(&lt;variable|string&gt; STRLESS_EQUAL &lt;variable|string&gt;)</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.7: </span>True if the given string or variable's value is lexicographically less than or equal to the string or variable on the right.</p> </div> </dd> </dl> <dl id="strgreater-equal"> <dt>
<code>if(&lt;variable|string&gt; STRGREATER_EQUAL &lt;variable|string&gt;)</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.7: </span>True if the given string or variable's value is lexicographically greater than or equal to the string or variable on the right.</p> </div> </dd> </dl>   <h3>Version Comparisons</h3> <dl class="simple" id="version-less"> <dt>
<code>if(&lt;variable|string&gt; VERSION_LESS &lt;variable|string&gt;)</code> </dt>
<dd>
<p>Component-wise integer version number comparison (version format is <code>major[.minor[.patch[.tweak]]]</code>, omitted components are treated as zero). Any non-integer version component or non-integer trailing part of a version component effectively truncates the string at that point.</p> </dd> </dl> <dl class="simple" id="version-greater"> <dt>
<code>if(&lt;variable|string&gt; VERSION_GREATER &lt;variable|string&gt;)</code> </dt>
<dd>
<p>Component-wise integer version number comparison (version format is <code>major[.minor[.patch[.tweak]]]</code>, omitted components are treated as zero). Any non-integer version component or non-integer trailing part of a version component effectively truncates the string at that point.</p> </dd> </dl> <dl class="simple" id="version-equal"> <dt>
<code>if(&lt;variable|string&gt; VERSION_EQUAL &lt;variable|string&gt;)</code> </dt>
<dd>
<p>Component-wise integer version number comparison (version format is <code>major[.minor[.patch[.tweak]]]</code>, omitted components are treated as zero). Any non-integer version component or non-integer trailing part of a version component effectively truncates the string at that point.</p> </dd> </dl> <dl id="version-less-equal"> <dt>
<code>if(&lt;variable|string&gt; VERSION_LESS_EQUAL &lt;variable|string&gt;)</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.7: </span>Component-wise integer version number comparison (version format is <code>major[.minor[.patch[.tweak]]]</code>, omitted components are treated as zero). Any non-integer version component or non-integer trailing part of a version component effectively truncates the string at that point.</p> </div> </dd> </dl> <dl id="version-greater-equal"> <dt>
<code>if(&lt;variable|string&gt; VERSION_GREATER_EQUAL &lt;variable|string&gt;)</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.7: </span>Component-wise integer version number comparison (version format is <code>major[.minor[.patch[.tweak]]]</code>, omitted components are treated as zero). Any non-integer version component or non-integer trailing part of a version component effectively truncates the string at that point.</p> </div> </dd> </dl>   <h3>Path Comparisons</h3> <dl id="path-equal"> <dt>
<code>if(&lt;variable|string&gt; PATH_EQUAL &lt;variable|string&gt;)</code> </dt>
<dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3.24.</span></p> </div> <p>Compares the two paths component-by-component. Only if every component of both paths match will the two paths compare equal. Multiple path separators are effectively collapsed into a single separator, but note that backslashes are not converted to forward slashes. No other <a class="reference internal" href="cmake_path.html#normalization"><span class="std std-ref">path normalization</span></a> is performed.</p> <p>Component-wise comparison is superior to string-based comparison due to the handling of multiple path separators. In the following example, the expression evaluates to true using <code>PATH_EQUAL</code>, but false with <code>STREQUAL</code>:</p> <pre data-language="cmake"># comparison is TRUE
if ("/a//b/c" PATH_EQUAL "/a/b/c")
   ...
endif()

# comparison is FALSE
if ("/a//b/c" STREQUAL "/a/b/c")
   ...
endif()
</pre> <p>See <a class="reference internal" href="cmake_path.html#path-compare"><span class="std std-ref">cmake_path(COMPARE)</span></a> for more details.</p> </dd> </dl>    <h2>Variable Expansion</h2> <p>The if command was written very early in CMake's history, predating the <code>${}</code> variable evaluation syntax, and for convenience evaluates variables named by its arguments as shown in the above signatures. Note that normal variable evaluation with <code>${}</code> applies before the if command even receives the arguments. Therefore code like</p> <pre data-language="cmake">set(var1 OFF)
set(var2 "var1")
if(${var2})
</pre> <p>appears to the if command as</p> <pre data-language="cmake">if(var1)
</pre> <p>and is evaluated according to the <code>if(&lt;variable&gt;)</code> case documented above. The result is <code>OFF</code> which is false. However, if we remove the <code>${}</code> from the example then the command sees</p> <pre data-language="cmake">if(var2)
</pre> <p>which is true because <code>var2</code> is defined to <code>var1</code> which is not a false constant.</p> <p>Automatic evaluation applies in the other cases whenever the above-documented condition syntax accepts <code>&lt;variable|string&gt;</code>:</p> <ul class="simple"> <li>The left hand argument to <code>MATCHES</code> is first checked to see if it is a defined variable, if so the variable's value is used, otherwise the original value is used.</li> <li>If the left hand argument to <code>MATCHES</code> is missing it returns false without error</li> <li>Both left and right hand arguments to <code>LESS</code>, <code>GREATER</code>, <code>EQUAL</code>, <code>LESS_EQUAL</code>, and <code>GREATER_EQUAL</code>, are independently tested to see if they are defined variables, if so their defined values are used otherwise the original value is used.</li> <li>Both left and right hand arguments to <code>STRLESS</code>, <code>STRGREATER</code>, <code>STREQUAL</code>, <code>STRLESS_EQUAL</code>, and <code>STRGREATER_EQUAL</code> are independently tested to see if they are defined variables, if so their defined values are used otherwise the original value is used.</li> <li>Both left and right hand arguments to <code>VERSION_LESS</code>, <code>VERSION_GREATER</code>, <code>VERSION_EQUAL</code>, <code>VERSION_LESS_EQUAL</code>, and <code>VERSION_GREATER_EQUAL</code> are independently tested to see if they are defined variables, if so their defined values are used otherwise the original value is used.</li> <li>The right hand argument to <code>NOT</code> is tested to see if it is a boolean constant, if so the value is used, otherwise it is assumed to be a variable and it is dereferenced.</li> <li>The left and right hand arguments to <code>AND</code> and <code>OR</code> are independently tested to see if they are boolean constants, if so they are used as such, otherwise they are assumed to be variables and are dereferenced.</li> </ul> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span>To prevent ambiguity, potential variable or keyword names can be specified in a <a class="reference internal" href="../manual/cmake-language.7.html#quoted-argument"><span class="std std-ref">Quoted Argument</span></a> or a <a class="reference internal" href="../manual/cmake-language.7.html#bracket-argument"><span class="std std-ref">Bracket Argument</span></a>. A quoted or bracketed variable or keyword will be interpreted as a string and not dereferenced or interpreted. See policy <a class="reference internal" href="../policy/cmp0054.html#policy:CMP0054" title="CMP0054" id="index-2-policy:CMP0054"><code>CMP0054</code></a>.</p> </div> <p>There is no automatic evaluation for environment or cache <a class="reference internal" href="../manual/cmake-language.7.html#variable-references"><span class="std std-ref">Variable References</span></a>. Their values must be referenced as <code>$ENV{&lt;name&gt;}</code> or <code>$CACHE{&lt;name&gt;}</code> wherever the above-documented condition syntax accepts <code>&lt;variable|string&gt;</code>.</p>   <h2>See also</h2> <ul class="simple"> <li><a class="reference internal" href="else.html#command:else" title="else" id="index-1-command:else"><code>else()</code></a></li> <li><a class="reference internal" href="elseif.html#command:elseif" title="elseif" id="index-0-command:elseif"><code>elseif()</code></a></li> <li><a class="reference internal" href="endif.html#command:endif" title="endif" id="index-1-command:endif"><code>endif()</code></a></li> </ul>   <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2000&ndash;2023 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.26/command/if.html" class="_attribution-link">https://cmake.org/cmake/help/v3.26/command/if.html</a>
  </p>
</div>
