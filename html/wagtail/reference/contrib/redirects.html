<h1 id="id1">Redirects</h1> <p id="module-wagtail.contrib.redirects">The <code>redirects</code> module provides the models and user interface for managing arbitrary redirection between urls and <code>Pages</code> or other urls.</p> <section id="installation"> <h2>Installation</h2> <p>The <code>redirects</code> module is not enabled by default. To install it, add <code>wagtail.contrib.redirects</code> to <code>INSTALLED_APPS</code> and <code>wagtail.contrib.redirects.middleware.RedirectMiddleware</code> to <code>MIDDLEWARE</code> in your project’s Django settings file.</p> <pre data-language="python">INSTALLED_APPS = [
    # ...

    'wagtail.contrib.redirects',
]

MIDDLEWARE = [
    # ...
    # all other django middlware first

    'wagtail.contrib.redirects.middleware.RedirectMiddleware',
]
</pre> <p>This app contains migrations so make sure you run the <code>migrate</code> django-admin command after installing.</p> </section> <section id="usage"> <h2>Usage</h2> <p>Once installed, a new menu item called “Redirects” should appear in the “Settings” menu. This is where you can add arbitrary redirects to your site.</p> <p>For an editor’s guide to the interface, see .</p> </section> <section id="automatic-redirect-creation"> <h2>Automatic redirect creation</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.16.</span></p> </div> <p>Wagtail automatically creates permanent redirects for pages (and their descendants) when they are moved or their slug is changed. This helps to preserve SEO rankings of pages over time, and helps site visitors get to the right place when using bookmarks or using outdated links.</p> <section id="creating-redirects-for-alternative-page-routes"> <h3>Creating redirects for alternative page routes</h3> <p>If your project uses <code>RoutablePageMixin</code> to create pages with alternative routes, you might want to consider overriding the <code>get_route_paths()</code> method for those page types. Adding popular route paths to this list will result in the creation of additional redirects; helping visitors to alternative routes to get to the right place also.</p> <p>For more information, please see :meth:<code>~wagtail.models.Page.get_route_paths</code>.</p> </section> <section id="disabling-automatic-redirect-creation"> <h3>Disabling automatic redirect creation</h3> <div class="versionadded"> <p><span class="versionmodified added">New in version 4.0: </span>When generating redirects, custom field values are now fetched as part of the initial database query, so using custom field values in overridden url methods will no longer trigger additional per-object queries.</p> </div> <p>Wagtail’s default implementation works best for small-to-medium sized projects (5000 pages or fewer) that mostly use Wagtail’s built-in methods for URL generation.</p> <p>Overrides to the following <code>Page</code> methods are respected when generating redirects, but use of specific page fields in those overrides will trigger additional database queries.</p> <ul class="simple"> <li><a class="reference internal" href="../pages/model_reference.html#wagtail.models.Page.get_url_parts" title="wagtail.models.Page.get_url_parts"><code>get_url_parts()</code></a></li> <li><a class="reference internal" href="../pages/model_reference.html#wagtail.models.Page.get_route_paths" title="wagtail.models.Page.get_route_paths"><code>get_route_paths()</code></a></li> </ul> <p>If you find the feature is not a good fit for your project, you can disable it by adding the following to your project settings:</p> <pre data-language="python">WAGTAILREDIRECTS_AUTO_CREATE = False
</pre> </section> </section> <section id="management-commands"> <h2>Management commands</h2> <section id="import-redirects"> <h3><code>import_redirects</code></h3> <pre data-language="sh">./manage.py import_redirects
</pre> <p>This command imports and creates redirects from a file supplied by the user.</p> <p>Options:</p> <table class="colwidths-auto docutils align-default"> <thead> <tr>
<th class="head"><p>Option</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><p><strong>src</strong></p></td> <td><p>This is the path to the file you wish to import redirects from.</p></td> </tr> <tr>
<td><p><strong>site</strong></p></td> <td><p>This is the <strong>site</strong> for the site you wish to save redirects to.</p></td> </tr> <tr>
<td><p><strong>permanent</strong></p></td> <td><p>If the redirects imported should be <strong>permanent</strong> (True) or not (False). It’s True by default.</p></td> </tr> <tr>
<td><p><strong>from</strong></p></td> <td><p>The column index you want to use as redirect from value.</p></td> </tr> <tr>
<td><p><strong>to</strong></p></td> <td><p>The column index you want to use as redirect to value.</p></td> </tr> <tr>
<td><p><strong>dry_run</strong></p></td> <td><p>Lets you run a import without doing any changes.</p></td> </tr> <tr>
<td><p><strong>ask</strong></p></td> <td><p>Lets you inspect and approve each redirect before it is created.</p></td> </tr>  </table> </section> </section> <section id="module-wagtail.contrib.redirects.models"> <h2 id="the-redirect-class">The <code>Redirect</code> class</h2>  </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014-present Torchbox Ltd and individual contributors.<br>All rights are reserved.<br>Licensed under the BSD License.<br>
    <a href="https://docs.wagtail.org/en/stable/reference/contrib/redirects.html" class="_attribution-link">https://docs.wagtail.org/en/stable/reference/contrib/redirects.html</a>
  </p>
</div>
