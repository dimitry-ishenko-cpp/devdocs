<div id="top-content"> <h1> <a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L1" title="View Source" class="source" rel="help">Source</a> <span translate="no">Mix.Shell</span> <small>behaviour</small>  </h1> <section id="moduledoc"> <p>Defines <a href="mix.shell.html"><code class="inline">Mix.Shell</code></a> contract.</p> </section> </div> <section id="summary" class="details-list"> <h1 class="section-heading">  <span class="text">Summary</span> </h1> <h2> Callbacks </h2>
<dl class="summary-callbacks summary">  <div class="summary-row"> <dt class="summary-signature"> <a href="#c:cmd/1" data-no-tooltip translate="no">cmd(command)</a> </dt> <dd class="summary-synopsis"><p>Executes the given command and returns its exit status.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:cmd/2" data-no-tooltip translate="no">cmd(command, options)</a> </dt> <dd class="summary-synopsis"><p>Executes the given command and returns its exit status.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:error/1" data-no-tooltip translate="no">error(message)</a> </dt> <dd class="summary-synopsis"><p>Prints the given ANSI error to the shell.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:info/1" data-no-tooltip translate="no">info(message)</a> </dt> <dd class="summary-synopsis"><p>Prints the given ANSI message to the shell.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:print_app/0" data-no-tooltip translate="no">print_app()</a> </dt> <dd class="summary-synopsis"><p>Prints the current application to the shell if it was not printed yet.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:prompt/1" data-no-tooltip translate="no">prompt(message)</a> </dt> <dd class="summary-synopsis"><p>Prompts the user for input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:yes?/1" data-no-tooltip translate="no">yes?(message)</a> </dt> <dd class="summary-synopsis"><p>Prompts the user for confirmation.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#c:yes?/2" data-no-tooltip translate="no">yes?(message, options)</a> </dt> <dd class="summary-synopsis"><p>Prompts the user for confirmation.</p></dd> </div> </dl> <h2> Functions </h2>
<dl class="summary-functions summary">  <div class="summary-row"> <dt class="summary-signature"> <a href="#cmd/3" data-no-tooltip translate="no">cmd(command, options \\ [], callback)</a> </dt> <dd class="summary-synopsis"><p>Executes the given <code class="inline">command</code> and invokes the <code class="inline">callback</code> for the streamed response.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#printable_app_name/0" data-no-tooltip translate="no">printable_app_name()</a> </dt> <dd class="summary-synopsis"><p>Returns the printable app name.</p></dd> </div> </dl> </section> <section id="callbacks" class="details-list"> <h1 class="section-heading">  <span class="text">Callbacks</span> </h1> <div class="callbacks-list"> <section class="detail"> <h3 class="detail-header" id="c:cmd/1">cmd(command)<a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L24" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@callback cmd(command :: String.t()) :: integer()</pre> </div> <p>Executes the given command and returns its exit status.</p>
<p>Shortcut for <a href="#c:cmd/2"><code class="inline">cmd/2</code></a> with empty options.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="c:cmd/2">cmd(command, options)<a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L47" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@callback cmd(command :: String.t(), options :: keyword()) :: integer()</pre> </div> <p>Executes the given command and returns its exit status.</p>
<h4 id="c:cmd/2-options" class="section-heading">  <span class="text">Options</span> </h4> <p>This callback should support the following options:</p>
<ul>
<li><p><code class="inline">:print_app</code> - when <code class="inline">false</code>, does not print the app name when the command outputs something</p></li>
<li><p><code class="inline">:stderr_to_stdout</code> - when <code class="inline">false</code>, does not redirect stderr to stdout</p></li>
<li><p><code class="inline">:quiet</code> - when <code class="inline">true</code>, do not print the command output</p></li>
<li><p><code class="inline">:env</code> - environment options to the executed command</p></li>
<li><p><code class="inline">:cd</code> <em>(since v1.11.0)</em> - the directory to run the command in</p></li>
</ul>
<p>All the built-in shells support these.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="c:error/1">error(message)<a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L17" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@callback error(message :: IO.ANSI.ansidata()) :: :ok</pre> </div> <p>Prints the given ANSI error to the shell.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="c:info/1">info(message)<a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L12" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@callback info(message :: IO.ANSI.ansidata()) :: :ok</pre> </div> <p>Prints the given ANSI message to the shell.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="c:print_app/0">print_app()<a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L74" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@callback print_app() :: :ok</pre> </div> <p>Prints the current application to the shell if it was not printed yet.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="c:prompt/1">prompt(message)<a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L52" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@callback prompt(message :: binary()) :: binary()</pre> </div> <p>Prompts the user for input.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="c:yes?/1">yes?(message)<a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L59" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@callback yes?(message :: binary()) :: boolean()</pre> </div> <p>Prompts the user for confirmation.</p>
<p>Shortcut for <code class="inline">yes?/2</code> with empty options.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="c:yes?/2">yes?(message, options)<a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L68" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@callback yes?(message :: binary(), options :: keyword()) :: boolean()</pre> </div> <p>Prompts the user for confirmation.</p>
<h4 id="c:yes?/2-options" class="section-heading">  <span class="text">Options</span> </h4> <ul><li>
<code class="inline">:default</code> - <code class="inline">:yes</code> or <code class="inline">:no</code> (the default is <code class="inline">:yes</code>)</li></ul> </section> </section> </div> </section> <section id="functions" class="details-list"> <h1 class="section-heading">  <span class="text">Functions</span> </h1> <div class="functions-list"> <section class="detail"> <h3 class="detail-header" id="cmd/3">cmd(command, options \\ [], callback)<a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L118" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@spec cmd(String.t() | {String.t(), [String.t()]}, keyword(), (binary() -&gt; term())) ::
  exit_status :: non_neg_integer()</pre> </div> <p>Executes the given <code class="inline">command</code> and invokes the <code class="inline">callback</code> for the streamed response.</p>
<p><code class="inline">command</code> is either a string, to be executed as a <a href="https://hexdocs.pm/elixir/1.18.1/System.html#shell/2"><code class="inline">System.shell/2</code></a> command, or a <code class="inline">{executable, args}</code> to be executed via <a href="https://hexdocs.pm/elixir/1.18.1/System.html#cmd/3"><code class="inline">System.cmd/3</code></a>.</p>
<p><code class="inline">callback</code> takes the output data of the command. Its return value is ignored.</p>
<p>This function is most commonly used by <a href="mix.shell.html"><code class="inline">Mix.Shell</code></a> implementations but can also be invoked directly.</p>
<h4 id="cmd/3-options" class="section-heading">  <span class="text">Options</span> </h4> <ul>
<li><p><code class="inline">:cd</code> <em>(since v1.11.0)</em> - the directory to run the command in</p></li>
<li><p><code class="inline">:stderr_to_stdout</code> - redirects stderr to stdout, defaults to true, unless use_stdio is set to false</p></li>
<li><p><code class="inline">:use_stdio</code> - controls whether the command should use stdin / stdout / stdrr, defaults to true</p></li>
<li><p><code class="inline">:env</code> - a list of environment variables, defaults to <code class="inline">[]</code></p></li>
<li><p><code class="inline">:quiet</code> - overrides the callback to no-op</p></li>
</ul> </section> </section> <section class="detail"> <h3 class="detail-header" id="printable_app_name/0">printable_app_name()<a href="https://github.com/elixir-lang/elixir/blob/v1.18.1/lib/mix/lib/mix/shell.ex#L88" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@spec printable_app_name() :: atom() | nil</pre> </div> <p>Returns the printable app name.</p>
<p>This function returns the current application name, but only if the application name should be printed.</p>
<p>Calling this function automatically toggles its value to <code class="inline">false</code> until the current project is re-entered. The goal is to avoid printing the application name multiple times.</p> </section> </section> </div> </section> <footer class="footer"> <p> <span class="line"> <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages"> Search HexDocs </button> <a href="mix.epub.html" title="ePub version"> Download ePub version </a> </span> </p> <p class="built-using"> Built using <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.36.1) for the <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a> </p> </footer><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012-2024 The Elixir Team<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://hexdocs.pm/mix/1.18.1/Mix.Shell.html" class="_attribution-link">https://hexdocs.pm/mix/1.18.1/Mix.Shell.html</a>
  </p>
</div>
