<h1>Release Notes</h1> <ul> <li> <a href="#versioning-scheme">Versioning Scheme</a> </li> <li> <a href="#support-policy">Support Policy</a> </li> <li> <a href="#laravel-11">Laravel 11</a> </li> </ul>  <h2 id="versioning-scheme">Versioning Scheme</h2> <p>Laravel and its other first-party packages follow <a href="https://semver.org">Semantic Versioning</a>. Major framework releases are released every year (~Q1), while minor and patch releases may be released as often as every week. Minor and patch releases should <strong>never</strong> contain breaking changes.</p> <p>When referencing the Laravel framework or its components from your application or package, you should always use a version constraint such as <code>^11.0</code>, since major releases of Laravel do include breaking changes. However, we strive to always ensure you may update to a new major release in one day or less.</p>  <h4 id="named-arguments">Named Arguments</h4> <p><a href="https://www.php.net/manual/en/functions.arguments.php#functions.named-arguments">Named arguments</a> are not covered by Laravel's backwards compatibility guidelines. We may choose to rename function arguments when necessary in order to improve the Laravel codebase. Therefore, using named arguments when calling Laravel methods should be done cautiously and with the understanding that the parameter names may change in the future.</p>  <h2 id="support-policy">Support Policy</h2> <p>For all Laravel releases, bug fixes are provided for 18 months and security fixes are provided for 2 years. For all additional libraries, including Lumen, only the latest major release receives bug fixes. In addition, please review the database versions <a href="database.html#introduction">supported by Laravel</a>.</p> <div class="overflow-auto"> <table> <thead> <tr> <th>Version</th> <th>PHP (*)</th> <th>Release</th> <th>Bug Fixes Until</th> <th>Security Fixes Until</th> </tr> </thead> <tbody> <tr> <td>9</td> <td>8.0 - 8.2</td> <td>February 8th, 2022</td> <td>August 8th, 2023</td> <td>February 6th, 2024</td> </tr> <tr> <td>10</td> <td>8.1 - 8.3</td> <td>February 14th, 2023</td> <td>August 6th, 2024</td> <td>February 4th, 2025</td> </tr> <tr> <td>11</td> <td>8.2 - 8.3</td> <td>March 12th, 2024</td> <td>September 3rd, 2025</td> <td>March 12th, 2026</td> </tr> <tr> <td>12</td> <td>8.2 - 8.3</td> <td>Q1 2025</td> <td>Q3, 2026</td> <td>Q1, 2027</td> </tr> </tbody> </table> </div> <div class="version-colors"> <div class="end-of-life">  <div>End of life</div> </div> <div class="security-fixes">  <div>Security fixes only</div> </div> </div> <p>(*) Supported PHP versions</p>  <h2 id="laravel-11">Laravel 11</h2> <p>Laravel 11 continues the improvements made in Laravel 10.x by introducing a streamlined application structure, per-second rate limiting, health routing, graceful encryption key rotation, queue testing improvements, <a href="https://resend.com">Resend</a> mail transport, Prompt validator integration, new Artisan commands, and more. In addition, Laravel Reverb, a first-party, scalable WebSocket server has been introduced to provide robust real-time capabilities to your applications.</p>  <h3 id="php-8">PHP 8.2</h3> <p>Laravel 11.x requires a minimum PHP version of 8.2.</p>  <h3 id="structure">Streamlined Application Structure</h3> <p><em>Laravel's streamlined application structure was developed by <a href="https://github.com/taylorotwell">Taylor Otwell</a> and <a href="https://github.com/nunomaduro">Nuno Maduro</a></em>.</p> <p>Laravel 11 introduces a streamlined application structure for <strong>new</strong> Laravel applications, without requiring any changes to existing applications. The new application structure is intended to provide a leaner, more modern experience, while retaining many of the concepts that Laravel developers are already familiar with. Below we will discuss the highlights of Laravel's new application structure.</p> <h4>The Application Bootstrap File</h4> <p>The <code>bootstrap/app.php</code> file has been revitalized as a code-first application configuration file. From this file, you may now customize your application's routing, middleware, service providers, exception handling, and more. This file unifies a variety of high-level application behavior settings that were previously scattered throughout your application's file structure:</p> <div class="code-container"> <pre data-language="php">return Application::configure(basePath: dirname(__DIR__))
    -&gt;withRouting(
        web: __DIR__.'/../routes/web.php',
        commands: __DIR__.'/../routes/console.php',
        health: '/up',
    )
    -&gt;withMiddleware(function (Middleware $middleware) {
        //
    })
    -&gt;withExceptions(function (Exceptions $exceptions) {
        //
    })-&gt;create();</pre> </div>  <h4 id="service-providers">Service Providers</h4> <p>Instead of the default Laravel application structure containing five service providers, Laravel 11 only includes a single <code>AppServiceProvider</code>. The functionality of the previous service providers has been incorporated into the <code>bootstrap/app.php</code>, is handled automatically by the framework, or may be placed in your application's <code>AppServiceProvider</code>.</p> <p>For example, event discovery is now enabled by default, largely eliminating the need for manual registration of events and their listeners. However, if you do need to manually register events, you may simply do so in the <code>AppServiceProvider</code>. Similarly, route model bindings or authorization gates you may have previously registered in the <code>AuthServiceProvider</code> may also be registered in the <code>AppServiceProvider</code>.</p>  <h4 id="opt-in-routing">Opt-in API and Broadcast Routing</h4> <p>The <code>api.php</code> and <code>channels.php</code> route files are no longer present by default, as many applications do not require these files. Instead, they may be created using simple Artisan commands:</p> <div class="code-container"> <pre data-language="shell">php artisan install:api
 
php artisan install:broadcasting</pre> </div>  <h4 id="middleware">Middleware</h4> <p>Previously, new Laravel applications included nine middleware. These middleware performed a variety of tasks such as authenticating requests, trimming input strings, and validating CSRF tokens.</p> <p>In Laravel 11, these middleware have been moved into the framework itself, so that they do not add bulk to your application's structure. New methods for customizing the behavior of these middleware have been added to the framework and may be invoked from your application's <code>bootstrap/app.php</code> file:</p> <div class="code-container"> <pre data-language="php">-&gt;withMiddleware(function (Middleware $middleware) {
    $middleware-&gt;validateCsrfTokens(
        except: ['stripe/*']
    );
 
    $middleware-&gt;web(append: [
        EnsureUserIsSubscribed::class,
    ])
})</pre> </div> <p>Since all middleware can be easily customized via your application's <code>bootstrap/app.php</code>, the need for a separate HTTP "kernel" class has been eliminated.</p>  <h4 id="scheduling">Scheduling</h4> <p>Using a new <code>Schedule</code> facade, scheduled tasks may now be defined directly in your application's <code>routes/console.php</code> file, eliminating the need for a separate console "kernel" class:</p> <div class="code-container"> <pre data-language="php">use Illuminate\Support\Facades\Schedule;
 
Schedule::command('emails:send')-&gt;daily();</pre> </div>  <h4 id="exception-handling">Exception Handling</h4> <p>Like routing and middleware, exception handling can now be customized from your application's <code>bootstrap/app.php</code> file instead of a separate exception handler class, reducing the overall number of files included in a new Laravel application:</p> <div class="code-container"> <pre data-language="php">-&gt;withExceptions(function (Exceptions $exceptions) {
    $exceptions-&gt;dontReport(MissedFlightException::class);
 
    $exceptions-&gt;report(function (InvalidOrderException $e) {
        // ...
    });
})</pre> </div>  <h4 id="base-controller-class">Base <code>Controller</code> Class</h4> <p>The base controller included in new Laravel applications has been simplified. It no longer extends Laravel's internal <code>Controller</code> class, and the <code>AuthorizesRequests</code> and <code>ValidatesRequests</code> traits have been removed, as they may be included in your application's individual controllers if desired:</p> <pre data-language="php">&lt;?php
 
namespace App\Http\Controllers;
 
abstract class Controller
{
    //
}</pre>  <h4 id="application-defaults">Application Defaults</h4> <p>By default, new Laravel applications use SQLite for database storage, as well as the <code>database</code> driver for Laravel's session, cache, and queue. This allows you to begin building your application immediately after creating a new Laravel application, without being required to install additional software or create additional database migrations.</p> <p>In addition, over time, the <code>database</code> drivers for these Laravel services have become robust enough for production usage in many application contexts; therefore, they provide a sensible, unified choice for both local and production applications.</p>  <h3 id="reverb">Laravel Reverb</h3> <p><em>Laravel Reverb was developed by <a href="https://github.com/joedixon">Joe Dixon</a></em>.</p> <p><a href="https://reverb.laravel.com">Laravel Reverb</a> brings blazing-fast and scalable real-time WebSocket communication directly to your Laravel application, and provides seamless integration with Laravel’s existing suite of event broadcasting tools, such as Laravel Echo.</p> <div class="code-container"> <pre data-language="shell">php artisan reverb:start</pre> </div> <p>In addition, Reverb supports horizontal scaling via Redis's publish / subscribe capabilities, allowing you to distribute your WebSocket traffic across multiple backend Reverb servers all supporting a single, high-demand application.</p> <p>For more information on Laravel Reverb, please consult the complete <a href="reverb.html">Reverb documentation</a>.</p>  <h3 id="rate-limiting">Per-Second Rate Limiting</h3> <p><em>Per-second rate limiting was contributed by <a href="https://github.com/timacdonald">Tim MacDonald</a></em>.</p> <p>Laravel now supports "per-second" rate limiting for all rate limiters, including those for HTTP requests and queued jobs. Previously, Laravel's rate limiters were limited to "per-minute" granularity:</p> <div class="code-container"> <pre data-language="php">RateLimiter::for('invoices', function (Request $request) {
    return Limit::perSecond(1);
});</pre> </div> <p>For more information on rate limiting in Laravel, check out the <a href="routing.html#rate-limiting">rate limiting documentation</a>.</p>  <h3 id="health">Health Routing</h3> <p><em>Health routing was contributed by <a href="https://github.com/taylorotwell">Taylor Otwell</a></em>.</p> <p>New Laravel 11 applications include a <code>health</code> routing directive, which instructs Laravel to define a simple health-check endpoint that may be invoked by third-party application health monitoring services or orchestration systems like Kubernetes. By default, this route is served at <code>/up</code>:</p> <div class="code-container"> <pre data-language="php">-&gt;withRouting(
    web: __DIR__.'/../routes/web.php',
    commands: __DIR__.'/../routes/console.php',
    health: '/up',
)</pre> </div> <p>When HTTP requests are made to this route, Laravel will also dispatch a <code>DiagnosingHealth</code> event, allowing you to perform additional health checks that are relevant to your application.</p>  <h3 id="encryption">Graceful Encryption Key Rotation</h3> <p><em>Graceful encryption key rotation was contributed by <a href="https://github.com/taylorotwell">Taylor Otwell</a></em>.</p> <p>Since Laravel encrypts all cookies, including your application's session cookie, essentially every request to a Laravel application relies on encryption. However, because of this, rotating your application's encryption key would log all users out of your application. In addition, decrypting data that was encrypted by the previous encryption key becomes impossible.</p> <p>Laravel 11 allows you to define your application's previous encryption keys as a comma-delimited list via the <code>APP_PREVIOUS_KEYS</code> environment variable.</p> <p>When encrypting values, Laravel will always use the "current" encryption key, which is within the <code>APP_KEY</code> environment variable. When decrypting values, Laravel will first try the current key. If decryption fails using the current key, Laravel will try all previous keys until one of the keys is able to decrypt the value.</p> <p>This approach to graceful decryption allows users to keep using your application uninterrupted even if your encryption key is rotated.</p> <p>For more information on encryption in Laravel, check out the <a href="encryption.html">encryption documentation</a>.</p>  <h3 id="automatic-password-rehashing">Automatic Password Rehashing</h3> <p><em>Automatic password rehashing was contributed by <a href="https://github.com/valorin">Stephen Rees-Carter</a></em>.</p> <p>Laravel's default password hashing algorithm is bcrypt. The "work factor" for bcrypt hashes can be adjusted via the <code>config/hashing.php</code> configuration file or the <code>BCRYPT_ROUNDS</code> environment variable.</p> <p>Typically, the bcrypt work factor should be increased over time as CPU / GPU processing power increases. If you increase the bcrypt work factor for your application, Laravel will now gracefully and automatically rehash user passwords as users authenticate with your application.</p>  <h3 id="prompt-validation">Prompt Validation</h3> <p><em>Prompt validator integration was contributed by <a href="https://github.com/cerbero90">Andrea Marco Sartori</a></em>.</p> <p><a href="prompts.html">Laravel Prompts</a> is a PHP package for adding beautiful and user-friendly forms to your command-line applications, with browser-like features including placeholder text and validation.</p> <p>Laravel Prompts supports input validation via closures:</p> <div class="code-container"> <pre data-language="php">$name = text(
    label: 'What is your name?',
    validate: fn (string $value) =&gt; match (true) {
        strlen($value) &lt; 3 =&gt; 'The name must be at least 3 characters.',
        strlen($value) &gt; 255 =&gt; 'The name must not exceed 255 characters.',
        default =&gt; null
    }
);</pre> </div> <p>However, this can become cumbersome when dealing with many inputs or complicated validation scenarios. Therefore, in Laravel 11, you may utilize the full power of Laravel's <a href="validation.html">validator</a> when validating prompt inputs:</p> <div class="code-container"> <pre data-language="php">$name = text('What is your name?', validate: [
    'name' =&gt; 'required|min:3|max:255',
]);</pre> </div>  <h3 id="queue-interaction-testing">Queue Interaction Testing</h3> <p><em>Queue interaction testing was contributed by <a href="https://github.com/taylorotwell">Taylor Otwell</a></em>.</p> <p>Previously, attempting to test that a queued job was released, deleted, or manually failed was cumbersome and required the definition of custom queue fakes and stubs. However, in Laravel 11, you may easily test for these queue interactions using the <code>withFakeQueueInteractions</code> method:</p> <div class="code-container"> <pre data-language="php">use App\Jobs\ProcessPodcast;
 
$job = (new ProcessPodcast)-&gt;withFakeQueueInteractions();
 
$job-&gt;handle();
 
$job-&gt;assertReleased(delay: 30);</pre> </div> <p>For more information on testing queued jobs, check out the <a href="queues.html#testing">queue documentation</a>.</p>  <h3 id="new-artisan-commands">New Artisan Commands</h3> <p><em>Class creation Artisan commands were contributed by <a href="https://github.com/taylorotwell">Taylor Otwell</a></em>.</p> <p>New Artisan commands have been added to allow the quick creation of classes, enums, interfaces, and traits:</p> <div class="code-container"> <pre data-language="shell">php artisan make:class
php artisan make:enum
php artisan make:interface
php artisan make:trait</pre> </div>  <h3 id="model-cast-improvements">Model Casts Improvements</h3> <p><em>Model casts improvements were contributed by <a href="https://github.com/nunomaduro">Nuno Maduro</a></em>.</p> <p>Laravel 11 supports defining your model's casts using a method instead of a property. This allows for streamlined, fluent cast definitions, especially when using casts with arguments:</p> <pre data-language="php">/**
 * Get the attributes that should be cast.
 *
 * @return array&lt;string, string&gt;
 */
protected function casts(): array
{
    return [
        'options' =&gt; AsCollection::using(OptionCollection::class),
                  // AsEncryptedCollection::using(OptionCollection::class),
                  // AsEnumArrayObject::using(OptionEnum::class),
                  // AsEnumCollection::using(OptionEnum::class),
    ];
}</pre> <p>For more information on attribute casting, review the <a href="eloquent-mutators.html#attribute-casting">Eloquent documentation</a>.</p>  <h3 id="the-once-function">The <code>once</code> Function</h3> <p><em>The <code>once</code> helper was contributed by <a href="https://github.com/taylorotwell">Taylor Otwell</a></em> and <em><a href="https://github.com/nunomaduro">Nuno Maduro</a></em>.</p> <p>The <code>once</code> helper function executes the given callback and caches the result in memory for the duration of the request. Any subsequent calls to the <code>once</code> function with the same callback will return the previously cached result:</p> <pre data-language="php">function random(): int
{
    return once(function () {
        return random_int(1, 1000);
    });
}
 
random(); // 123
random(); // 123 (cached result)
random(); // 123 (cached result)</pre> <p>For more information on the <code>once</code> helper, check out the <a href="helpers.html#method-once">helpers documentation</a>.</p>  <h3 id="database-performance">Improved Performance When Testing With In-Memory Databases</h3> <p><em>Improved in-memory database testing performance was contributed by <a href="https://github.com/AJenbo">Anders Jenbo</a></em></p> <p>Laravel 11 offers a significant speed boost when using the <code>:memory:</code> SQLite database during testing. To accomplish this, Laravel now maintains a reference to PHP's PDO object and reuses it across connections, often cutting total test run time in half.</p>  <h3 id="mariadb">Improved Support for MariaDB</h3> <p><em>Improved support for MariaDB was contributed by <a href="https://github.com/staudenmeir">Jonas Staudenmeir</a> and <a href="https://github.com/Jubeki">Julius Kiekbusch</a></em></p> <p>Laravel 11 includes improved support for MariaDB. In previous Laravel releases, you could use MariaDB via Laravel's MySQL driver. However, Laravel 11 now includes a dedicated MariaDB driver which provides better defaults for this database system.</p> <p>For more information on Laravel's database drivers, check out the <a href="database.html">database documentation</a>.</p>  <h3 id="inspecting-database">Inspecting Databases and Improved Schema Operations</h3> <p><em>Improved schema operations and database inspection was contributed by <a href="https://github.com/hafezdivandari">Hafez Divandari</a></em></p> <p>Laravel 11 provides additional database schema operation and inspection methods, including the native modifying, renaming, and dropping of columns. Furthermore, advanced spatial types, non-default schema names, and native schema methods for manipulating tables, views, columns, indexes, and foreign keys are provided:</p> <pre data-language="php">use Illuminate\Support\Facades\Schema;
 
$tables = Schema::getTables();
$views = Schema::getViews();
$columns = Schema::getColumns('users');
$indexes = Schema::getIndexes('users');
$foreignKeys = Schema::getForeignKeys('users');</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; Taylor Otwell<br>Licensed under the MIT License.<br>Laravel is a trademark of Taylor Otwell.<br>
    <a href="https://laravel.com/docs/11.x/releases" class="_attribution-link">https://laravel.com/docs/11.x/releases</a>
  </p>
</div>
