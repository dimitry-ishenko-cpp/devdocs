<div class="Box-sc-g0xbh4-0 goytIH"><h1 class="components__StyledHeading-sc-13rww2g-0 components__h1-sc-13rww2g-1 cZjJlu jMmFmb components__StyledHeading-sc-13rww2g-0 cZjJlu">Accessing npm using two-factor authentication</h1></div>


<h2 id="sign-in-from-the-command-line-using-security-key-flow" class="components__StyledHeading-sc-13rww2g-0 components__h2-sc-13rww2g-2 cZjJlu cYFMoP components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#sign-in-from-the-command-line-using-security-key-flow" aria-label="Sign in from the command line using security-key flow permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">Sign in from the command line using security-key flow</a></h2> <ol class="components__UnorderedList-sc-13rww2g-10-ol cjGnIx"> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">On the command line, type the <a class="Link__StyledLink-sc-14289xe-0 kIxRcv" href="https://docs.npmjs.com/cli/v8/commands/npm-adduser/"><code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm login</code></a> command.</p> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">When prompted, provide your username, password, and email address.</p> <div class="Box-sc-g0xbh4-0 eUKtPS"><div style="color:#393A34;background-color:#f6f8fa" class="Box-sc-g0xbh4-0 bdVWRk">
<div class="Box-sc-g0xbh4-0 kFQlqn"><pre class="Box-sc-g0xbh4-0 bfdbXb prism-code language-bash" tabindex="0" data-language="javascript">user@host:~$ npm login
npm notice Log in on https://registry.npmjs.org/
Username: mona
Password:
Email: (this IS public) mona@github.com
npm notice Open https://www.npmjs.com/login/913c3ab1-89a0-44bd-be8d-d946e2e906f0 to use your security key for authentication or enter OTP from your authenticator app</pre></div>
</div></div> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">If you have configured a security-key, open the provided URL shown in the command line. Alternatively, if you have configured a mobile authenticator skip to step 6.</p> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Click on <em>Use security key</em> and follow the browser specific steps to authenticate.</p> <img src="https://docs.npmjs.com/getting-started/setting-up-your-npm-user-account/2fa-use-security-key.png" alt="Screenshot showing security key prompt" class="components__Screenshot-sc-13rww2g-15 iUhVFH"> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Copy the generated token</p> <img src="https://docs.npmjs.com/getting-started/setting-up-your-npm-user-account/webauthn-cli-login-token.png" alt="Screenshot showing a sample token generated while using WebAuthn for cli login" class="components__Screenshot-sc-13rww2g-15 iUhVFH"> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Enter the one-time password into the CLI prompt.</p>  </li> </ol> <h2 id="sign-in-from-the-command-line-using---auth-typeweb" class="components__StyledHeading-sc-13rww2g-0 components__h2-sc-13rww2g-2 cZjJlu cYFMoP components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#sign-in-from-the-command-line-using---auth-typeweb" aria-label="Sign in from the command line using --auth-type=web permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">Sign in from the command line using <code class="code__InlineCode-sc-izuaam-0 lnAgdq">--auth-type=web</code></a></h2> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">npm 8.14.0 and higher support login flow through the browsers. This will become the default behavior for the npm public registry in npm 9.</p> <h3 id="with-an-existing-browser-session" class="components__StyledHeading-sc-13rww2g-0 components__h3-sc-13rww2g-3 cZjJlu Nafes components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#with-an-existing-browser-session" aria-label="With an existing browser session permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">With an existing browser session</a></h3> <ol class="components__UnorderedList-sc-13rww2g-10-ol cjGnIx"> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">On the command line, type the <a class="Link__StyledLink-sc-14289xe-0 kIxRcv" href="https://docs.npmjs.com/cli/v8/commands/npm-adduser/"><code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm login --auth-type=web</code></a> command.</p> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">When prompted hit "ENTER" to open your browser to start the login flow or click the provided URL show in the command line.</p> <div class="Box-sc-g0xbh4-0 eUKtPS"><div style="color:#393A34;background-color:#f6f8fa" class="Box-sc-g0xbh4-0 bdVWRk">
<div class="Box-sc-g0xbh4-0 kFQlqn"><pre class="Box-sc-g0xbh4-0 bfdbXb prism-code language-bash" tabindex="0" data-language="javascript">user@host:~$ npm login
npm notice Log in on https://registry.npmjs.org/
Authenticate your account at:
https://www.npmjs.com/login?next=/login/cli/b1a2f96a-ce09-4463-954c-c99f6773b922
Press ENTER to open in the browser...</pre></div>
</div></div> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Click on <em>Use security key</em> and follow the browser specific steps to authenticate.</p> <img src="https://docs.npmjs.com/getting-started/setting-up-your-npm-user-account/2fa-use-security-key.png" alt="Screenshot showing security key prompt" class="components__Screenshot-sc-13rww2g-15 iUhVFH"> <p class="components__Paragraph-sc-13rww2g-11 cevAMF"><em>Note: If you have configured to use TOTP, you will see an TOTP prompt instead</em></p> </li> </ol> <h3 id="without-an-existing-browser-session" class="components__StyledHeading-sc-13rww2g-0 components__h3-sc-13rww2g-3 cZjJlu Nafes components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#without-an-existing-browser-session" aria-label="Without an existing browser session permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">Without an existing browser session</a></h3> <ol class="components__UnorderedList-sc-13rww2g-10-ol cjGnIx"> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">On the command line, type the <a class="Link__StyledLink-sc-14289xe-0 kIxRcv" href="https://docs.npmjs.com/cli/v8/commands/npm-adduser/"><code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm login --auth-type=web</code></a> command.</p> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">When prompted hit "ENTER" to open your browser to start the login flow or click the provided URL show in the command line.</p> <div class="Box-sc-g0xbh4-0 eUKtPS"><div style="color:#393A34;background-color:#f6f8fa" class="Box-sc-g0xbh4-0 bdVWRk">
<div class="Box-sc-g0xbh4-0 kFQlqn"><pre class="Box-sc-g0xbh4-0 bfdbXb prism-code language-bash" tabindex="0" data-language="javascript">user@host:~$ npm login
npm notice Log in on https://registry.npmjs.org/
Authenticate your account at:
https://www.npmjs.com/login?next=/login/cli/b1a2f96a-ce09-4463-954c-c99f6773b922
Press ENTER to open in the browser...</pre></div>
</div></div> </li> <li> On the npm "<a href="https://www.npmjs.com/login" class="Link__StyledLink-sc-14289xe-0 kIxRcv">Sign In</a>" page, enter your account details and click <strong>Sign In</strong>. <img src="https://docs.npmjs.com/shared/user-login.png" alt="Screenshot of npm login dialog" class="components__Screenshot-sc-13rww2g-15 iUhVFH"> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Click on <em>Use security key</em> and follow the browser specific steps to authenticate.</p> <img src="https://docs.npmjs.com/getting-started/setting-up-your-npm-user-account/2fa-use-security-key.png" alt="Screenshot showing security key prompt" class="components__Screenshot-sc-13rww2g-15 iUhVFH"> <p class="components__Paragraph-sc-13rww2g-11 cevAMF"><em>Note: If you have configured to use TOTP, you will see an TOTP prompt instead</em></p> </li> </ol><div class="_attribution">
  <p class="_attribution-p">
    &copy; npm, Inc. and Contributors<br>Licensed under the npm License.<br>npm is a trademark of npm, Inc.<br>
    <a href="https://docs.npmjs.com/accessing-npm-using-2fa" class="_attribution-link">https://docs.npmjs.com/accessing-npm-using-2fa</a>
  </p>
</div>
