<div class="Box-sc-g0xbh4-0 goytIH"><h1 class="components__StyledHeading-sc-13rww2g-0 components__h1-sc-13rww2g-1 cZjJlu jMmFmb components__StyledHeading-sc-13rww2g-0 cZjJlu">Try the latest stable version of npm</h1></div>


<h2 id="see-what-version-of-npm-youre-running" class="components__StyledHeading-sc-13rww2g-0 components__h2-sc-13rww2g-2 cZjJlu cYFMoP components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#see-what-version-of-npm-youre-running" aria-label="See what version of npm you're running permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">See what version of npm you're running</a></h2> <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm -v</code> <h2 id="upgrading-on-nix-osx-linux-etc" class="components__StyledHeading-sc-13rww2g-0 components__h2-sc-13rww2g-2 cZjJlu cYFMoP components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#upgrading-on-nix-osx-linux-etc" aria-label="Upgrading on *nix (OSX, Linux, etc.) permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">Upgrading on <code class="code__InlineCode-sc-izuaam-0 lnAgdq">*nix</code> (OSX, Linux, etc.)</a></h2> <p class="components__Paragraph-sc-13rww2g-11 cevAMF"><em>(You may need to prefix these commands with <code class="code__InlineCode-sc-izuaam-0 lnAgdq">sudo</code>, especially on Linux, or OS X if you installed Node using its default installer.)</em></p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">You can upgrade to the latest version of npm using:</p> <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm install -g npm@latest</code> <h2 id="upgrading-on-windows" class="components__StyledHeading-sc-13rww2g-0 components__h2-sc-13rww2g-2 cZjJlu cYFMoP components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#upgrading-on-windows" aria-label="Upgrading on Windows permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">Upgrading on Windows</a></h2> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">By default, npm is installed alongside node in</p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF"><code class="code__InlineCode-sc-izuaam-0 lnAgdq">C:\Program Files (x86)\nodejs</code></p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">npm's globally installed packages (including, potentially, npm itself) are stored separately in a user-specific directory (which is currently</p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF"><code class="code__InlineCode-sc-izuaam-0 lnAgdq">C:\Users\&lt;username&gt;\AppData\Roaming\npm</code>).</p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Because the installer puts</p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF"><code class="code__InlineCode-sc-izuaam-0 lnAgdq">C:\Program Files (x86)\nodejs</code></p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">before</p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF"><code class="code__InlineCode-sc-izuaam-0 lnAgdq">C:\Users\&lt;username&gt;\AppData\Roaming\npm</code></p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">on your <code class="code__InlineCode-sc-izuaam-0 lnAgdq">PATH</code>, it will always use the version of npm installed with node instead of the version of npm you installed using <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm -g install npm@&lt;version&gt;</code>.</p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">To get around this, you can do <strong>one</strong> of the following:</p> <ul class="components__UnorderedList-sc-13rww2g-10 fqlkab"> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Option 1: <a href="http://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them" class="Link__StyledLink-sc-14289xe-0 kIxRcv">edit your Windows installation's <code class="code__InlineCode-sc-izuaam-0 lnAgdq">PATH</code></a> to put <code class="code__InlineCode-sc-izuaam-0 lnAgdq">%appdata%\npm</code> before <code class="code__InlineCode-sc-izuaam-0 lnAgdq">%ProgramFiles%\nodejs</code>. Remember that you'll need to restart <code class="code__InlineCode-sc-izuaam-0 lnAgdq">cmd.exe</code> (and potentially restart Windows) when you make changes to <code class="code__InlineCode-sc-izuaam-0 lnAgdq">PATH</code> or how npm is installed.</p> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Option 2: remove both of</p> <ul class="components__UnorderedList-sc-13rww2g-10 fqlkab"> <li><code class="code__InlineCode-sc-izuaam-0 lnAgdq">%ProgramFiles%\nodejs\npm</code></li> <li><code class="code__InlineCode-sc-izuaam-0 lnAgdq">%ProgramFiles%\nodejs\npm.cmd</code></li> </ul> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Option 3: Navigate to <code class="code__InlineCode-sc-izuaam-0 lnAgdq">%ProgramFiles%\nodejs\node_modules\npm</code> and copy the <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npmrc</code>file to another folder or the desktop. Then open <code class="code__InlineCode-sc-izuaam-0 lnAgdq">cmd.exe</code> as an administrator and run the following commands:</p> </li> </ul> <div class="Box-sc-g0xbh4-0 eUKtPS"><div style="color:#393A34;background-color:#f6f8fa" class="Box-sc-g0xbh4-0 bdVWRk">
<div class="Box-sc-g0xbh4-0 kFQlqn"><pre class="Box-sc-g0xbh4-0 bfdbXb prism-code language-bash" tabindex="0" data-language="javascript">cd %ProgramFiles%\nodejs
npm install npm@latest</pre></div>
</div></div> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">If you installed npm with the node.js installer, after doing one of the previous steps, do the following.</p> <ul class="components__UnorderedList-sc-13rww2g-10 fqlkab"> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Option 1 or 2</p> <ul class="components__UnorderedList-sc-13rww2g-10 fqlkab"> <li>Go into <code class="code__InlineCode-sc-izuaam-0 lnAgdq">%ProgramFiles%\nodejs\node_modules\npm</code> and copy the file named <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npmrc</code> in the new npm folder, which should be <code class="code__InlineCode-sc-izuaam-0 lnAgdq">%appdata%\npm\node_modules\npm</code>. This will tell the new npm where the global installed packages are.</li> </ul> </li> <li> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Option 3</p> <ul class="components__UnorderedList-sc-13rww2g-10 fqlkab"> <li>Copy the npmrc file back into <code class="code__InlineCode-sc-izuaam-0 lnAgdq">%ProgramFiles%\nodejs\node_modules\npm</code>
</li> </ul> </li> </ul> <p class="components__Paragraph-sc-13rww2g-11 cevAMF"><em>(See also the <a class="Link__StyledLink-sc-14289xe-0 kIxRcv" href="common-errors.html#error-enoent-stat-cusersuserappdataroamingnpm-on-windows-7">point below</a> if you're running Windows 7 and don't have the directory <code class="code__InlineCode-sc-izuaam-0 lnAgdq">%appdata%\npm</code>.)</em></p> <h3 id="a-brief-note-on-the-built-in-windows-configuration" class="components__StyledHeading-sc-13rww2g-0 components__h3-sc-13rww2g-3 cZjJlu Nafes components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#a-brief-note-on-the-built-in-windows-configuration" aria-label="A brief note on the built-in Windows configuration permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">A brief note on the built-in Windows configuration</a></h3> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">The Node installer installs, directly into the npm folder, a special piece of Windows-specific configuration that tells npm where to install global packages. When npm is used to install itself, it is supposed to copy this special <code class="code__InlineCode-sc-izuaam-0 lnAgdq">builtin</code> configuration into the new install. There was a bug in some versions of npm that kept this from working, so you may need to go in and fix that up by hand. Run the following command to see where npm will install global packages to verify it is correct.</p> <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm config get prefix -g</code> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">If it isn't set to <code class="code__InlineCode-sc-izuaam-0 lnAgdq">&lt;X&gt;:\Users\&lt;user&gt;\AppData\Roaming\npm</code>, you can run the below command to correct it:</p> <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm config set prefix %APPDATA%\npm -g</code> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Incidentally, if you would prefer that packages not be installed to your roaming profile (because you have a quota on your shared network, or it makes logging in or out from a domain sluggish), you can put it in your local app data instead:</p> <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm config set prefix %LOCALAPPDATA%\npm -g</code> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">...as well as copying <code class="code__InlineCode-sc-izuaam-0 lnAgdq">%APPDATA%\npm</code> to <code class="code__InlineCode-sc-izuaam-0 lnAgdq">%LOCALAPPDATA%\npm</code> (and updating your <code class="code__InlineCode-sc-izuaam-0 lnAgdq">%PATH%</code>, of course).</p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Everyone who works on npm knows that this process is complicated and fraught, and we're working on making it simpler. Stay tuned.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; npm, Inc. and Contributors<br>Licensed under the npm License.<br>npm is a trademark of npm, Inc.<br>
    <a href="https://docs.npmjs.com/try-the-latest-stable-version-of-npm" class="_attribution-link">https://docs.npmjs.com/try-the-latest-stable-version-of-npm</a>
  </p>
</div>
