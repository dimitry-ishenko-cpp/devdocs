<div class="Box-sc-g0xbh4-0 goytIH"><h1 class="components__StyledHeading-sc-13rww2g-0 components__h1-sc-13rww2g-1 cZjJlu jMmFmb components__StyledHeading-sc-13rww2g-0 cZjJlu">Verifying ECDSA registry signatures</h1></div>


<p class="components__Paragraph-sc-13rww2g-11 cevAMF">To ensure the integrity of packages you download from the public npm registry, or any registry that supports signatures, you can verify the registry signatures of downloaded packages using the npm CLI.</p> <h2 id="prerequisites" class="components__StyledHeading-sc-13rww2g-0 components__h2-sc-13rww2g-2 cZjJlu cYFMoP components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#prerequisites" aria-label="Prerequisites permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">Prerequisites</a></h2> <ol class="components__UnorderedList-sc-13rww2g-10-ol cjGnIx"> <li>Install npm CLI version v8.15.0 or later</li> <li>Install dependencies using <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm install</code> or <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm ci</code>
</li> </ol> <h2 id="verifying-registry-signatures" class="components__StyledHeading-sc-13rww2g-0 components__h2-sc-13rww2g-2 cZjJlu cYFMoP components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#verifying-registry-signatures" aria-label="Verifying registry signatures permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">Verifying registry signatures</a></h2> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Registry signatures can be verified using the following <code class="code__InlineCode-sc-izuaam-0 lnAgdq">audit</code> command:</p> <code class="code__InlineCode-sc-izuaam-0 lnAgdq">npm audit signatures</code> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Example response if all installed versions have valid registry signatures:</p> <div class="Box-sc-g0xbh4-0 eUKtPS"><div style="color:#393A34;background-color:#f6f8fa" class="Box-sc-g0xbh4-0 bdVWRk">
<div class="Box-sc-g0xbh4-0 kFQlqn"><pre class="Box-sc-g0xbh4-0 bfdbXb prism-code language-bash" tabindex="0" data-language="javascript">audited 1640 packages in 2s


1640 have verified registry signatures</pre></div>
</div></div> <h2 id="troubleshooting" class="components__StyledHeading-sc-13rww2g-0 components__h2-sc-13rww2g-2 cZjJlu cYFMoP components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#troubleshooting" aria-label="Troubleshooting permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">Troubleshooting</a></h2> <h3 id="some-packages-are-missing-registry-signatures" class="components__StyledHeading-sc-13rww2g-0 components__h3-sc-13rww2g-3 cZjJlu Nafes components__StyledHeading-sc-13rww2g-0 cZjJlu"><a href="#some-packages-are-missing-registry-signatures" aria-label="Some packages are missing registry signatures permalink" class="Link__StyledLink-sc-14289xe-0 hysCUZ">Some packages are missing registry signatures</a></h3> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">The CLI will error if packages don't have signatures <em>and</em> if the package registry supports signatures. This could mean an attacker might be trying to circumvent signature verification. You can check if the registry supports signatures by requesting the public signing keys from <code class="code__InlineCode-sc-izuaam-0 lnAgdq">registry-host.tld/-/npm/v1/keys</code>.</p> <p class="components__Paragraph-sc-13rww2g-11 cevAMF">Example response if some versions have missing registry signatures:</p> <div class="Box-sc-g0xbh4-0 eUKtPS"><div style="color:#393A34;background-color:#f6f8fa" class="Box-sc-g0xbh4-0 bdVWRk">
<div class="Box-sc-g0xbh4-0 kFQlqn"><pre class="Box-sc-g0xbh4-0 bfdbXb prism-code language-bash" tabindex="0" data-language="javascript">audited 1640 packages in 2s


1405 packages have verified registry signatures


235 packages have missing registry signatures but the registry is providing signing keys:


missing-dep@1.0.0 (https://registry.npmjs.org/)
...</pre></div>
</div></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; npm, Inc. and Contributors<br>Licensed under the npm License.<br>npm is a trademark of npm, Inc.<br>
    <a href="https://docs.npmjs.com/verifying-registry-signatures" class="_attribution-link">https://docs.npmjs.com/verifying-registry-signatures</a>
  </p>
</div>
