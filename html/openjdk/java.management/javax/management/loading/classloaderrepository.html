<h1 title="Interface ClassLoaderRepository" class="title">Interface ClassLoaderRepository</h1> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public interface ClassLoaderRepository</pre> <div class="block">
<p>Instances of this interface are used to keep the list of ClassLoaders registered in an MBean Server. They provide the necessary methods to load classes using the registered ClassLoaders.</p> <p>The first ClassLoader in a <code>ClassLoaderRepository</code> is always the MBean Server's own ClassLoader.</p> <p>When an MBean is registered in an MBean Server, if it is of a subclass of <a href="../../../../java.base/java/lang/classloader.html" title="class in java.lang"><code>ClassLoader</code></a> and if it does not implement the interface <a href="privateclassloader.html" title="interface in javax.management.loading"><code>PrivateClassLoader</code></a>, it is added to the end of the MBean Server's <code>ClassLoaderRepository</code>. If it is subsequently unregistered from the MBean Server, it is removed from the <code>ClassLoaderRepository</code>.</p> <p>The order of MBeans in the <code>ClassLoaderRepository</code> is significant. For any two MBeans <em>X</em> and <em>Y</em> in the <code>ClassLoaderRepository</code>, <em>X</em> must appear before <em>Y</em> if the registration of <em>X</em> was completed before the registration of <em>Y</em> started. If <em>X</em> and <em>Y</em> were registered concurrently, their order is indeterminate. The registration of an MBean corresponds to the call to <a href="../mbeanserver.html#registerMBean(java.lang.Object,javax.management.ObjectName)"><code>MBeanServer.registerMBean(java.lang.Object, javax.management.ObjectName)</code></a> or one of the <a href="../mbeanserver.html" title="interface in javax.management"><code>MBeanServer</code></a><code>.createMBean</code> methods.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.5</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="../mbeanserverfactory.html" title="class in javax.management"><code>MBeanServerFactory</code></a></li> </ul> </dd> </dl> </section> <section class="summary"> <section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">             <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a><wbr>&lt;?&gt;</wbr></code></td>
<td><code><a href="#loadClass(java.lang.String)" class="member-name-link">loadClass</a><wbr>(<a href="../../../../java.base/java/lang/string.html" title="class in java.lang">String</a> className)</wbr></code></td>
<td> <div class="block">Load the given class name through the list of class loaders.</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a><wbr>&lt;?&gt;</wbr></code></td>
<td><code><a href="#loadClassBefore(java.lang.ClassLoader,java.lang.String)" class="member-name-link">loadClassBefore</a><wbr>(<a href="../../../../java.base/java/lang/classloader.html" title="class in java.lang">ClassLoader</a> stop,
 <a href="../../../../java.base/java/lang/string.html" title="class in java.lang">String</a> className)</wbr></code></td>
<td> <div class="block">Load the given class name through the list of class loaders, stopping at the given one.</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a><wbr>&lt;?&gt;</wbr></code></td>
<td><code><a href="#loadClassWithout(java.lang.ClassLoader,java.lang.String)" class="member-name-link">loadClassWithout</a><wbr>(<a href="../../../../java.base/java/lang/classloader.html" title="class in java.lang">ClassLoader</a> exclude,
 <a href="../../../../java.base/java/lang/string.html" title="class in java.lang">String</a> className)</wbr></code></td>
<td> <div class="block">Load the given class name through the list of class loaders, excluding the given one.</div> </td>
</tr>
</table> </div> </div> </section> </section> <section class="details"> <section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="loadClass(java.lang.String)"> <h3>loadClass</h3> <pre class="lang-java" data-language="java">Class&lt;?&gt; loadClass(String className) throws ClassNotFoundException</pre> <div class="block"><p>Load the given class name through the list of class loaders. Each ClassLoader in turn from the ClassLoaderRepository is asked to load the class via its <a href="../../../../java.base/java/lang/classloader.html#loadClass(java.lang.String)"><code>ClassLoader.loadClass(String)</code></a> method. If it successfully returns a <a href="../../../../java.base/java/lang/class.html" title="class in java.lang"><code>Class</code></a> object, that is the result of this method. If it throws a <a href="../../../../java.base/java/lang/classnotfoundexception.html" title="class in java.lang"><code>ClassNotFoundException</code></a>, the search continues with the next ClassLoader. If it throws another exception, the exception is propagated from this method. If the end of the list is reached, a <a href="../../../../java.base/java/lang/classnotfoundexception.html" title="class in java.lang"><code>ClassNotFoundException</code></a> is thrown.</p></div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>className</code> - The name of the class to be loaded.</dd> <dt>Returns:</dt> <dd>the loaded class.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/classnotfoundexception.html" title="class in java.lang">ClassNotFoundException</a></code> - The specified class could not be found.</dd> </dl> </section><section class="detail" id="loadClassWithout(java.lang.ClassLoader,java.lang.String)"> <h3>loadClassWithout</h3> <pre class="lang-java" data-language="java">Class&lt;?&gt; loadClassWithout(ClassLoader exclude, String className) throws ClassNotFoundException</pre> <div class="block">
<p>Load the given class name through the list of class loaders, excluding the given one. Each ClassLoader in turn from the ClassLoaderRepository, except <code>exclude</code>, is asked to load the class via its <a href="../../../../java.base/java/lang/classloader.html#loadClass(java.lang.String)"><code>ClassLoader.loadClass(String)</code></a> method. If it successfully returns a <a href="../../../../java.base/java/lang/class.html" title="class in java.lang"><code>Class</code></a> object, that is the result of this method. If it throws a <a href="../../../../java.base/java/lang/classnotfoundexception.html" title="class in java.lang"><code>ClassNotFoundException</code></a>, the search continues with the next ClassLoader. If it throws another exception, the exception is propagated from this method. If the end of the list is reached, a <a href="../../../../java.base/java/lang/classnotfoundexception.html" title="class in java.lang"><code>ClassNotFoundException</code></a> is thrown.</p> <p>Be aware that if a ClassLoader in the ClassLoaderRepository calls this method from its <a href="../../../../java.base/java/lang/classloader.html#loadClass(java.lang.String)"><code>loadClass</code></a> method, it exposes itself to a deadlock if another ClassLoader in the ClassLoaderRepository does the same thing at the same time. The <a href="#loadClassBefore(java.lang.ClassLoader,java.lang.String)"><code>loadClassBefore(java.lang.ClassLoader, java.lang.String)</code></a> method is recommended to avoid the risk of deadlock.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>exclude</code> - The class loader to be excluded. May be null, in which case this method is equivalent to <a href="#loadClass(java.lang.String)"><code>loadClass(className)</code></a>.</dd> <dd>
<code>className</code> - The name of the class to be loaded.</dd> <dt>Returns:</dt> <dd>the loaded class.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/classnotfoundexception.html" title="class in java.lang">ClassNotFoundException</a></code> - The specified class could not be found.</dd> </dl> </section><section class="detail" id="loadClassBefore(java.lang.ClassLoader,java.lang.String)"> <h3>loadClassBefore</h3> <pre class="lang-java" data-language="java">Class&lt;?&gt; loadClassBefore(ClassLoader stop, String className) throws ClassNotFoundException</pre> <div class="block">
<p>Load the given class name through the list of class loaders, stopping at the given one. Each ClassLoader in turn from the ClassLoaderRepository is asked to load the class via its <a href="../../../../java.base/java/lang/classloader.html#loadClass(java.lang.String)"><code>ClassLoader.loadClass(String)</code></a> method. If it successfully returns a <a href="../../../../java.base/java/lang/class.html" title="class in java.lang"><code>Class</code></a> object, that is the result of this method. If it throws a <a href="../../../../java.base/java/lang/classnotfoundexception.html" title="class in java.lang"><code>ClassNotFoundException</code></a>, the search continues with the next ClassLoader. If it throws another exception, the exception is propagated from this method. If the search reaches <code>stop</code> or the end of the list, a <a href="../../../../java.base/java/lang/classnotfoundexception.html" title="class in java.lang"><code>ClassNotFoundException</code></a> is thrown.</p> <p>Typically this method is called from the <a href="../../../../java.base/java/lang/classloader.html#loadClass(java.lang.String)"><code>loadClass</code></a> method of <code>stop</code>, to consult loaders that appear before it in the <code>ClassLoaderRepository</code>. By stopping the search as soon as <code>stop</code> is reached, a potential deadlock with concurrent class loading is avoided.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>stop</code> - The class loader at which to stop. May be null, in which case this method is equivalent to <a href="#loadClass(java.lang.String)"><code>loadClass(className)</code></a>.</dd> <dd>
<code>className</code> - The name of the class to be loaded.</dd> <dt>Returns:</dt> <dd>the loaded class.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/classnotfoundexception.html" title="class in java.lang">ClassNotFoundException</a></code> - The specified class could not be found.</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.management/javax/management/loading/ClassLoaderRepository.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.management/javax/management/loading/ClassLoaderRepository.html</a>
  </p>
</div>
