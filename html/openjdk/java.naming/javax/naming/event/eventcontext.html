<h1 title="Interface EventContext" class="title">Interface EventContext</h1> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Superinterfaces:</dt> <dd><code><a href="../context.html" title="interface in javax.naming">Context</a></code></dd> </dl> <dl class="notes"> <dt>All Known Subinterfaces:</dt> <dd><code><a href="eventdircontext.html" title="interface in javax.naming.event">EventDirContext</a></code></dd> </dl>  <pre class="lang-java" data-language="java">public interface EventContext extends Context</pre> <div class="block">Contains methods for registering/deregistering listeners to be notified of events fired when objects named in a context changes. <h2 id="target-heading">Target</h2> The name parameter in the <code>addNamingListener()</code> methods is referred to as the <em>target</em>. The target, along with the scope, identify the object(s) that the listener is interested in. It is possible to register interest in a target that does not exist, but there might be limitations in the extent to which this can be supported by the service provider and underlying protocol/service. <p> If a service only supports registration for existing targets, an attempt to register for a nonexistent target results in a <code>NameNotFoundException</code> being thrown as early as possible, preferably at the time <code>addNamingListener()</code> is called, or if that is not possible, the listener will receive the exception through the <code>NamingExceptionEvent</code>. </p>
<p> Also, for service providers that only support registration for existing targets, when the target that a listener has registered for is subsequently removed from the namespace, the listener is notified via a <code>NamingExceptionEvent</code> (containing a <code>NameNotFoundException</code>). </p>
<p> An application can use the method <code>targetMustExist()</code> to check whether an <code>EventContext</code> supports registration of nonexistent targets. </p>
<h2 id="event-source-heading">Event Source</h2> The <code>EventContext</code> instance on which you invoke the registration methods is the <em>event source</em> of the events that are (potentially) generated. The source is <em>not necessarily</em> the object named by the target. Only when the target is the empty name is the object named by the target the source. In other words, the target, along with the scope parameter, are used to identify the object(s) that the listener is interested in, but the event source is the <code>EventContext</code> instance with which the listener has registered. <p> For example, suppose a listener makes the following registration: </p>
<blockquote><pre>
      NamespaceChangeListener listener = ...;
      src.addNamingListener("x", SUBTREE_SCOPE, listener);
</pre></blockquote> When an object named "x/y" is subsequently deleted, the corresponding <code>NamingEvent</code> (<code>evt</code>) must contain: <blockquote><pre>
      evt.getEventContext() == src
      evt.getOldBinding().getName().equals("x/y")
</pre></blockquote> <p> Furthermore, listener registration/deregistration is with the <code>EventContext</code> <em>instance</em>, and not with the corresponding object in the namespace. If the program intends at some point to remove a listener, then it needs to keep a reference to the <code>EventContext</code> instance on which it invoked <code>addNamingListener()</code> (just as it needs to keep a reference to the listener in order to remove it later). It cannot expect to do a <code>lookup()</code> and get another instance of an <code>EventContext</code> on which to perform the deregistration. </p>
<h2 id="lifetime-of-registration-heading">Lifetime of Registration</h2> A registered listener becomes deregistered when: <ul> <li>It is removed using <code>removeNamingListener()</code>. </li>
<li>An exception is thrown while collecting information about the events. That is, when the listener receives a <code>NamingExceptionEvent</code>. </li>
<li>
<code>Context.close()</code> is invoked on the <code>EventContext</code> instance with which it has registered. </li>
</ul> Until that point, an <code>EventContext</code> instance that has outstanding listeners will continue to exist and be maintained by the service provider. <h2 id="listener-implementations-heading">Listener Implementations</h2> The registration/deregistration methods accept an instance of <code>NamingListener</code>. There are subinterfaces of <code>NamingListener</code> for different of event types of <code>NamingEvent</code>. For example, the <code>ObjectChangeListener</code> interface is for the <code>NamingEvent.OBJECT_CHANGED</code> event type. To register interest in multiple event types, the listener implementation should implement multiple <code>NamingListener</code> subinterfaces and use a single invocation of <code>addNamingListener()</code>. In addition to reducing the number of method calls and possibly the code size of the listeners, this allows some service providers to optimize the registration. <h2 id="threading-issues-heading">Threading Issues</h2> Like <code>Context</code> instances in general, instances of <code>EventContext</code> are not guaranteed to be thread-safe. Care must be taken when multiple threads are accessing the same <code>EventContext</code> concurrently. See the <a href="package-summary.html#THREADING">package description</a> for more information on threading issues.</div> <dl class="notes"> <dt>Since:</dt> <dd>1.3</dd> </dl> </section> <section class="summary"> <section class="field-summary" id="field-summary"> <h2>Field Summary</h2>  <table class="summary-table three-column-summary">             <tr>
<th>Modifier and Type</th>
<th>Field</th>
<th>Description</th>
</tr>
<tr>
<td><code>static final int</code></td>
<td><code><a href="#OBJECT_SCOPE" class="member-name-link">OBJECT_SCOPE</a></code></td>
<td> <div class="block">Constant for expressing interest in events concerning the object named by the target.</div> </td>
</tr>
<tr>
<td><code>static final int</code></td>
<td><code><a href="#ONELEVEL_SCOPE" class="member-name-link">ONELEVEL_SCOPE</a></code></td>
<td> <div class="block">Constant for expressing interest in events concerning objects in the context named by the target, excluding the context named by the target.</div> </td>
</tr>
<tr>
<td><code>static final int</code></td>
<td><code><a href="#SUBTREE_SCOPE" class="member-name-link">SUBTREE_SCOPE</a></code></td>
<td> <div class="block">Constant for expressing interest in events concerning objects in the subtree of the object named by the target, including the object named by the target.</div> </td>
</tr>
</table> <div class="inherited-list"> <h3 id="fields-inherited-from-class-javax.naming.Context">Fields declared in interface javax.naming.<a href="../context.html" title="interface in javax.naming">Context</a>
</h3> <code><a href="../context.html#APPLET">APPLET</a>, <a href="../context.html#AUTHORITATIVE">AUTHORITATIVE</a>, <a href="../context.html#BATCHSIZE">BATCHSIZE</a>, <a href="../context.html#DNS_URL">DNS_URL</a>, <a href="../context.html#INITIAL_CONTEXT_FACTORY">INITIAL_CONTEXT_FACTORY</a>, <a href="../context.html#LANGUAGE">LANGUAGE</a>, <a href="../context.html#OBJECT_FACTORIES">OBJECT_FACTORIES</a>, <a href="../context.html#PROVIDER_URL">PROVIDER_URL</a>, <a href="../context.html#REFERRAL">REFERRAL</a>, <a href="../context.html#SECURITY_AUTHENTICATION">SECURITY_AUTHENTICATION</a>, <a href="../context.html#SECURITY_CREDENTIALS">SECURITY_CREDENTIALS</a>, <a href="../context.html#SECURITY_PRINCIPAL">SECURITY_PRINCIPAL</a>, <a href="../context.html#SECURITY_PROTOCOL">SECURITY_PROTOCOL</a>, <a href="../context.html#STATE_FACTORIES">STATE_FACTORIES</a>, <a href="../context.html#URL_PKG_PREFIXES">URL_PKG_PREFIXES</a></code>
</div> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#addNamingListener(java.lang.String,int,javax.naming.event.NamingListener)" class="member-name-link">addNamingListener</a><wbr>(<a href="../../../../java.base/java/lang/string.html" title="class in java.lang">String</a> target,
 int scope,
 <a href="naminglistener.html" title="interface in javax.naming.event">NamingListener</a> l)</wbr></code></td>
<td> <div class="block">Adds a listener for receiving naming events fired when the object named by the string target name and scope changes.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#addNamingListener(javax.naming.Name,int,javax.naming.event.NamingListener)" class="member-name-link">addNamingListener</a><wbr>(<a href="../name.html" title="interface in javax.naming">Name</a> target,
 int scope,
 <a href="naminglistener.html" title="interface in javax.naming.event">NamingListener</a> l)</wbr></code></td>
<td> <div class="block">Adds a listener for receiving naming events fired when the object(s) identified by a target and scope changes.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#removeNamingListener(javax.naming.event.NamingListener)" class="member-name-link">removeNamingListener</a><wbr>(<a href="naminglistener.html" title="interface in javax.naming.event">NamingListener</a> l)</wbr></code></td>
<td> <div class="block">Removes a listener from receiving naming events fired by this <code>EventContext</code>.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#targetMustExist()" class="member-name-link">targetMustExist</a>()</code></td>
<td> <div class="block">Determines whether a listener can register interest in a target that does not exist.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-javax.naming.Context">Methods declared in interface javax.naming.<a href="../context.html" title="interface in javax.naming">Context</a>
</h3> <code><a href="../context.html#addToEnvironment(java.lang.String,java.lang.Object)">addToEnvironment</a>, <a href="../context.html#bind(java.lang.String,java.lang.Object)">bind</a>, <a href="../context.html#bind(javax.naming.Name,java.lang.Object)">bind</a>, <a href="../context.html#close()">close</a>, <a href="../context.html#composeName(java.lang.String,java.lang.String)">composeName</a>, <a href="../context.html#composeName(javax.naming.Name,javax.naming.Name)">composeName</a>, <a href="../context.html#createSubcontext(java.lang.String)">createSubcontext</a>, <a href="../context.html#createSubcontext(javax.naming.Name)">createSubcontext</a>, <a href="../context.html#destroySubcontext(java.lang.String)">destroySubcontext</a>, <a href="../context.html#destroySubcontext(javax.naming.Name)">destroySubcontext</a>, <a href="../context.html#getEnvironment()">getEnvironment</a>, <a href="../context.html#getNameInNamespace()">getNameInNamespace</a>, <a href="../context.html#getNameParser(java.lang.String)">getNameParser</a>, <a href="../context.html#getNameParser(javax.naming.Name)">getNameParser</a>, <a href="../context.html#list(java.lang.String)">list</a>, <a href="../context.html#list(javax.naming.Name)">list</a>, <a href="../context.html#listBindings(java.lang.String)">listBindings</a>, <a href="../context.html#listBindings(javax.naming.Name)">listBindings</a>, <a href="../context.html#lookup(java.lang.String)">lookup</a>, <a href="../context.html#lookup(javax.naming.Name)">lookup</a>, <a href="../context.html#lookupLink(java.lang.String)">lookupLink</a>, <a href="../context.html#lookupLink(javax.naming.Name)">lookupLink</a>, <a href="../context.html#rebind(java.lang.String,java.lang.Object)">rebind</a>, <a href="../context.html#rebind(javax.naming.Name,java.lang.Object)">rebind</a>, <a href="../context.html#removeFromEnvironment(java.lang.String)">removeFromEnvironment</a>, <a href="../context.html#rename(java.lang.String,java.lang.String)">rename</a>, <a href="../context.html#rename(javax.naming.Name,javax.naming.Name)">rename</a>, <a href="../context.html#unbind(java.lang.String)">unbind</a>, <a href="../context.html#unbind(javax.naming.Name)">unbind</a></code>
</div> </section> </section> <section class="details"> <section class="field-details" id="field-detail"> <h2>Field Details</h2>  </section><section class="detail" id="OBJECT_SCOPE"> <h3>OBJECT_SCOPE</h3> <pre class="lang-java" data-language="java">static final int OBJECT_SCOPE</pre> <div class="block">Constant for expressing interest in events concerning the object named by the target. <p> The value of this constant is <code>0</code>.</p>
</div> <dl class="notes"> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/constant-values.html#javax.naming.event.EventContext.OBJECT_SCOPE">Constant Field Values</a></li> </ul> </dd> </dl> </section><section class="detail" id="ONELEVEL_SCOPE"> <h3>ONELEVEL_SCOPE</h3> <pre class="lang-java" data-language="java">static final int ONELEVEL_SCOPE</pre> <div class="block">Constant for expressing interest in events concerning objects in the context named by the target, excluding the context named by the target. <p> The value of this constant is <code>1</code>.</p>
</div> <dl class="notes"> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/constant-values.html#javax.naming.event.EventContext.ONELEVEL_SCOPE">Constant Field Values</a></li> </ul> </dd> </dl> </section><section class="detail" id="SUBTREE_SCOPE"> <h3>SUBTREE_SCOPE</h3> <pre class="lang-java" data-language="java">static final int SUBTREE_SCOPE</pre> <div class="block">Constant for expressing interest in events concerning objects in the subtree of the object named by the target, including the object named by the target. <p> The value of this constant is <code>2</code>.</p>
</div> <dl class="notes"> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/constant-values.html#javax.naming.event.EventContext.SUBTREE_SCOPE">Constant Field Values</a></li> </ul> </dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="addNamingListener(javax.naming.Name,int,javax.naming.event.NamingListener)"> <h3>addNamingListener</h3> <pre class="lang-java" data-language="java">void addNamingListener(Name target, int scope, NamingListener l) throws NamingException</pre> <div class="block">Adds a listener for receiving naming events fired when the object(s) identified by a target and scope changes. The event source of those events is this context. See the class description for a discussion on event source and target. See the descriptions of the constants <code>OBJECT_SCOPE</code>, <code>ONELEVEL_SCOPE</code>, and <code>SUBTREE_SCOPE</code> to see how <code>scope</code> affects the registration. <p> <code>target</code> needs to name a context only when <code>scope</code> is <code>ONELEVEL_SCOPE</code>. <code>target</code> may name a non-context if <code>scope</code> is either <code>OBJECT_SCOPE</code> or <code>SUBTREE_SCOPE</code>. Using <code>SUBTREE_SCOPE</code> for a non-context might be useful, for example, if the caller does not know in advance whether <code>target</code> is a context and just wants to register interest in the (possibly degenerate subtree) rooted at <code>target</code>. </p>
<p> When the listener is notified of an event, the listener may in invoked in a thread other than the one in which <code>addNamingListener()</code> is executed. Care must be taken when multiple threads are accessing the same <code>EventContext</code> concurrently. See the <a href="package-summary.html#THREADING">package description</a> for more information on threading issues.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>target</code> - A nonnull name to be resolved relative to this context.</dd> <dd>
<code>scope</code> - One of <code>OBJECT_SCOPE</code>, <code>ONELEVEL_SCOPE</code>, or <code>SUBTREE_SCOPE</code>.</dd> <dd>
<code>l</code> - The nonnull listener.</dd> <dt>Throws:</dt> <dd>
<code><a href="../namingexception.html" title="class in javax.naming">NamingException</a></code> - If a problem was encountered while adding the listener.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#removeNamingListener(javax.naming.event.NamingListener)"><code>removeNamingListener(javax.naming.event.NamingListener)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="addNamingListener(java.lang.String,int,javax.naming.event.NamingListener)"> <h3>addNamingListener</h3> <pre class="lang-java" data-language="java">void addNamingListener(String target, int scope, NamingListener l) throws NamingException</pre> <div class="block">Adds a listener for receiving naming events fired when the object named by the string target name and scope changes. See the overload that accepts a <code>Name</code> for details.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>target</code> - The nonnull string name of the object resolved relative to this context.</dd> <dd>
<code>scope</code> - One of <code>OBJECT_SCOPE</code>, <code>ONELEVEL_SCOPE</code>, or <code>SUBTREE_SCOPE</code>.</dd> <dd>
<code>l</code> - The nonnull listener.</dd> <dt>Throws:</dt> <dd>
<code><a href="../namingexception.html" title="class in javax.naming">NamingException</a></code> - If a problem was encountered while adding the listener.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#removeNamingListener(javax.naming.event.NamingListener)"><code>removeNamingListener(javax.naming.event.NamingListener)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="removeNamingListener(javax.naming.event.NamingListener)"> <h3>removeNamingListener</h3> <pre class="lang-java" data-language="java">void removeNamingListener(NamingListener l) throws NamingException</pre> <div class="block">Removes a listener from receiving naming events fired by this <code>EventContext</code>. The listener may have registered more than once with this <code>EventContext</code>, perhaps with different target/scope arguments. After this method is invoked, the listener will no longer receive events with this <code>EventContext</code> instance as the event source (except for those events already in the process of being dispatched). If the listener was not, or is no longer, registered with this <code>EventContext</code> instance, this method does not do anything.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>l</code> - The nonnull listener.</dd> <dt>Throws:</dt> <dd>
<code><a href="../namingexception.html" title="class in javax.naming">NamingException</a></code> - If a problem was encountered while removing the listener.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#addNamingListener(javax.naming.Name,int,javax.naming.event.NamingListener)"><code>addNamingListener(javax.naming.Name, int, javax.naming.event.NamingListener)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="targetMustExist()"> <h3>targetMustExist</h3> <pre class="lang-java" data-language="java">boolean targetMustExist() throws NamingException</pre> <div class="block">Determines whether a listener can register interest in a target that does not exist.</div> <dl class="notes"> <dt>Returns:</dt> <dd>true if the target must exist; false if the target need not exist.</dd> <dt>Throws:</dt> <dd>
<code><a href="../namingexception.html" title="class in javax.naming">NamingException</a></code> - If the context's behavior in this regard cannot be determined.</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.naming/javax/naming/event/EventContext.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.naming/javax/naming/event/EventContext.html</a>
  </p>
</div>
