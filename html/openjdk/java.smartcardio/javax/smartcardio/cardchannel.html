<h1 title="Class CardChannel" class="title">Class CardChannel</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../java.base/java/lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">javax.smartcardio.CardChannel</div> </div> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public abstract class CardChannel extends Object</pre> <div class="block">A logical channel connection to a Smart Card. It is used to exchange APDUs with a Smart Card. A CardChannel object can be obtained by calling the method <a href="card.html#getBasicChannel()">Card.getBasicChannel()</a> or <a href="card.html#openLogicalChannel()">Card.openLogicalChannel()</a>.</div> <dl class="notes"> <dt>Since:</dt> <dd>1.6</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="card.html" title="class in javax.smartcardio"><code>Card</code></a></li> <li><a href="commandapdu.html" title="class in javax.smartcardio"><code>CommandAPDU</code></a></li> <li><a href="responseapdu.html" title="class in javax.smartcardio"><code>ResponseAPDU</code></a></li> </ul> </dd> </dl> </section> <section class="summary"> <section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table three-column-summary">     <div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">CardChannel</a>()</code></div>  <tr>
<th>Modifier</th>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code>protected </code></td>
<td> <div class="block">Constructs a new CardChannel object.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                   <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>abstract void</code></td>
<td><code><a href="#close()" class="member-name-link">close</a>()</code></td>
<td> <div class="block">Closes this CardChannel.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="card.html" title="class in javax.smartcardio">Card</a></code></td>
<td><code><a href="#getCard()" class="member-name-link">getCard</a>()</code></td>
<td> <div class="block">Returns the Card this channel is associated with.</div> </td>
</tr>
<tr>
<td><code>abstract int</code></td>
<td><code><a href="#getChannelNumber()" class="member-name-link">getChannelNumber</a>()</code></td>
<td> <div class="block">Returns the channel number of this CardChannel.</div> </td>
</tr>
<tr>
<td><code>abstract int</code></td>
<td><code><a href="#transmit(java.nio.ByteBuffer,java.nio.ByteBuffer)" class="member-name-link">transmit</a><wbr>(<a href="../../../java.base/java/nio/bytebuffer.html" title="class in java.nio">ByteBuffer</a> command,
 <a href="../../../java.base/java/nio/bytebuffer.html" title="class in java.nio">ByteBuffer</a> response)</wbr></code></td>
<td> <div class="block">Transmits the command APDU stored in the command ByteBuffer and receives the response APDU in the response ByteBuffer.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="responseapdu.html" title="class in javax.smartcardio">ResponseAPDU</a></code></td>
<td><code><a href="#transmit(javax.smartcardio.CommandAPDU)" class="member-name-link">transmit</a><wbr>(<a href="commandapdu.html" title="class in javax.smartcardio">CommandAPDU</a> command)</wbr></code></td>
<td> <div class="block">Transmits the specified command APDU to the Smart Card and returns the response APDU.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../java.base/java/lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../../java.base/java/lang/object.html#clone()">clone</a>, <a href="../../../java.base/java/lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../../java.base/java/lang/object.html#finalize()">finalize</a>, <a href="../../../java.base/java/lang/object.html#getClass()">getClass</a>, <a href="../../../java.base/java/lang/object.html#hashCode()">hashCode</a>, <a href="../../../java.base/java/lang/object.html#notify()">notify</a>, <a href="../../../java.base/java/lang/object.html#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/object.html#toString()">toString</a>, <a href="../../../java.base/java/lang/object.html#wait()">wait</a>, <a href="../../../java.base/java/lang/object.html#wait(long)">wait</a>, <a href="../../../java.base/java/lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;()"> <h3>CardChannel</h3> <pre class="lang-java" data-language="java">protected CardChannel()</pre> <div class="block">Constructs a new CardChannel object. <p>This constructor is called by subclasses only. Application should call the <a href="card.html#getBasicChannel()">Card.getBasicChannel()</a> and <a href="card.html#openLogicalChannel()">Card.openLogicalChannel()</a> methods to obtain a CardChannel object.</p>
</div> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="getCard()"> <h3>getCard</h3> <pre class="lang-java" data-language="java">public abstract Card getCard()</pre> <div class="block">Returns the Card this channel is associated with.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the Card this channel is associated with</dd> </dl> </section><section class="detail" id="getChannelNumber()"> <h3>getChannelNumber</h3> <pre class="lang-java" data-language="java">public abstract int getChannelNumber()</pre> <div class="block">Returns the channel number of this CardChannel. A channel number of 0 indicates the basic logical channel.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the channel number of this CardChannel.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception.html" title="class in java.lang">IllegalStateException</a></code> - if this channel has been <a href="#close()">closed</a> or if the corresponding Card has been <a href="card.html#disconnect(boolean)">disconnected</a>.</dd> </dl> </section><section class="detail" id="transmit(javax.smartcardio.CommandAPDU)"> <h3>transmit</h3> <pre class="lang-java" data-language="java">public abstract ResponseAPDU transmit(CommandAPDU command) throws CardException</pre> <div class="block">Transmits the specified command APDU to the Smart Card and returns the response APDU. <p>The CLA byte of the command APDU is automatically adjusted to match the channel number of this CardChannel. </p>
<p>Note that this method cannot be used to transmit <code>MANAGE CHANNEL</code> APDUs. Logical channels should be managed using the <a href="card.html#openLogicalChannel()">Card.openLogicalChannel()</a> and <a href="#close()">CardChannel.close()</a> methods. </p>
<p>Implementations should transparently handle artifacts of the transmission protocol. For example, when using the T=0 protocol, the following processing should occur as described in ISO/IEC 7816-4: </p>
<ul> <li><p>if the response APDU has an SW1 of <code>61</code>, the implementation should issue a <code>GET RESPONSE</code> command using <code>SW2</code> as the <code>Le</code>field. This process is repeated as long as an SW1 of <code>61</code> is received. The response body of these exchanges is concatenated to form the final response body. </p></li>
<li><p>if the response APDU is <code>6C XX</code>, the implementation should reissue the command using <code>XX</code> as the <code>Le</code> field. </p></li>
</ul> <p>The ResponseAPDU returned by this method is the result after this processing has been performed.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>command</code> - the command APDU</dd> <dt>Returns:</dt> <dd>the response APDU received from the card</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception.html" title="class in java.lang">IllegalStateException</a></code> - if this channel has been <a href="#close()">closed</a> or if the corresponding Card has been <a href="card.html#disconnect(boolean)">disconnected</a>.</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - if the APDU encodes a <code>MANAGE CHANNEL</code> command</dd> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if command is null</dd> <dd>
<code><a href="cardexception.html" title="class in javax.smartcardio">CardException</a></code> - if the card operation failed</dd> </dl> </section><section class="detail" id="transmit(java.nio.ByteBuffer,java.nio.ByteBuffer)"> <h3>transmit</h3> <pre class="lang-java" data-language="java">public abstract int transmit(ByteBuffer command, ByteBuffer response) throws CardException</pre> <div class="block">Transmits the command APDU stored in the command ByteBuffer and receives the response APDU in the response ByteBuffer. <p>The command buffer must contain valid command APDU data starting at <code>command.position()</code> and the APDU must be <code>command.remaining()</code> bytes long. Upon return, the command buffer's position will be equal to its limit; its limit will not have changed. The output buffer will have received the response APDU bytes. Its position will have advanced by the number of bytes received, which is also the return value of this method. </p>
<p>The CLA byte of the command APDU is automatically adjusted to match the channel number of this CardChannel. </p>
<p>Note that this method cannot be used to transmit <code>MANAGE CHANNEL</code> APDUs. Logical channels should be managed using the <a href="card.html#openLogicalChannel()">Card.openLogicalChannel()</a> and <a href="#close()">CardChannel.close()</a> methods. </p>
<p>See <a href="#transmit(javax.smartcardio.CommandAPDU)">transmit()</a> for a discussion of the handling of response APDUs with the SW1 values <code>61</code> or <code>6C</code>.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>command</code> - the buffer containing the command APDU</dd> <dd>
<code>response</code> - the buffer that shall receive the response APDU from the card</dd> <dt>Returns:</dt> <dd>the length of the received response APDU</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception.html" title="class in java.lang">IllegalStateException</a></code> - if this channel has been <a href="#close()">closed</a> or if the corresponding Card has been <a href="card.html#disconnect(boolean)">disconnected</a>.</dd> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if command or response is null</dd> <dd>
<code><a href="../../../java.base/java/nio/readonlybufferexception.html" title="class in java.nio">ReadOnlyBufferException</a></code> - if the response buffer is read-only</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - if command and response are the same object, if <code>response</code> may not have sufficient space to receive the response APDU or if the APDU encodes a <code>MANAGE CHANNEL</code> command</dd> <dd>
<code><a href="cardexception.html" title="class in javax.smartcardio">CardException</a></code> - if the card operation failed</dd> </dl> </section><section class="detail" id="close()"> <h3>close</h3> <pre class="lang-java" data-language="java">public abstract void close() throws CardException</pre> <div class="block">Closes this CardChannel. The logical channel is closed by issuing a <code>MANAGE CHANNEL</code> command that should use the format <code>[xx 70 80 0n]</code> where <code>n</code> is the channel number of this channel and <code>xx</code> is the <code>CLA</code> byte that encodes this logical channel and has all other bits set to 0. After this method returns, calling other methods in this class will raise an IllegalStateException. <p>Note that the basic logical channel cannot be closed using this method. It can be closed by calling <a href="card.html#disconnect(boolean)"><code>Card.disconnect(boolean)</code></a>.</p>
</div> <dl class="notes"> <dt>Throws:</dt> <dd>
<code><a href="cardexception.html" title="class in javax.smartcardio">CardException</a></code> - if the card operation failed</dd> <dd>
<code><a href="../../../java.base/java/lang/illegalstateexception.html" title="class in java.lang">IllegalStateException</a></code> - if this CardChannel represents a connection the basic logical channel</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.smartcardio/javax/smartcardio/CardChannel.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.smartcardio/javax/smartcardio/CardChannel.html</a>
  </p>
</div>
