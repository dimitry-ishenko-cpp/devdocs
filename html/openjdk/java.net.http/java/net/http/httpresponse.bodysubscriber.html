<h1 title="Interface HttpResponse.BodySubscriber" class="title">Interface HttpResponse.BodySubscriber&lt;T&gt;</h1> <section class="class-description" id="class-description"> <dl class="notes"> <dt>Type Parameters:</dt> <dd>
<code>T</code> - the response body type</dd> </dl> <dl class="notes"> <dt>All Superinterfaces:</dt> <dd><code><a href="../../../../java.base/java/util/concurrent/flow.subscriber.html" title="interface in java.util.concurrent">Flow.Subscriber</a>&lt;<a href="../../../../java.base/java/util/list.html" title="interface in java.util">List</a>&lt;<a href="../../../../java.base/java/nio/bytebuffer.html" title="class in java.nio">ByteBuffer</a>&gt;&gt;</code></dd> </dl> <dl class="notes"> <dt>Enclosing interface:</dt> <dd><code><a href="httpresponse" title="interface in java.net.http">HttpResponse</a>&lt;<a href="httpresponse" title="type parameter in HttpResponse">T</a>&gt;</code></dd> </dl>  <pre class="lang-java" data-language="java">public static interface HttpResponse.BodySubscriber&lt;T&gt; extends Flow.Subscriber&lt;List&lt;ByteBuffer&gt;&gt;</pre> <div class="block">A <code>BodySubscriber</code> consumes response body bytes and converts them into a higher-level Java type. The class <a href="httpresponse.bodysubscribers" title="class in java.net.http"><code>BodySubscribers</code></a> provides implementations of many common body subscribers. <p> The object acts as a <a href="../../../../java.base/java/util/concurrent/flow.subscriber.html" title="interface in java.util.concurrent"><code>Flow.Subscriber</code></a>&lt;<a href="../../../../java.base/java/util/list.html" title="interface in java.util"><code>List</code></a>&lt;<a href="../../../../java.base/java/nio/bytebuffer.html" title="class in java.nio"><code>ByteBuffer</code></a>&gt;&gt; to the HTTP Client implementation, which publishes lists of ByteBuffers containing the response body. The Flow of data, as well as the order of ByteBuffers in the Flow lists, is a strictly ordered representation of the response body. Both the Lists and the ByteBuffers, once passed to the subscriber, are no longer used by the HTTP Client. The subscriber converts the incoming buffers of data to some higher-level Java type <code>T</code>. </p>
<p> The <a href="#getBody()"><code>getBody()</code></a> method returns a <a href="../../../../java.base/java/util/concurrent/completionstage.html" title="interface in java.util.concurrent"><code>CompletionStage</code></a><code>&lt;T&gt;</code> that provides the response body object. The <code>CompletionStage</code> must be obtainable at any time. When it completes depends on the nature of type <code>T</code>. In many cases, when <code>T</code> represents the entire body after being consumed then the <code>CompletionStage</code> completes after the body has been consumed. If <code>T</code> is a streaming type, such as <a href="../../../../java.base/java/io/inputstream.html" title="class in java.io"><code>InputStream</code></a>, then it completes before the body has been read, because the calling code uses the <code>InputStream</code> to consume the data.</p>
</div> <dl class="notes"> <dt>API Note:</dt> <dd>To ensure that all resources associated with the corresponding HTTP exchange are properly released, an implementation of <code>
 BodySubscriber</code> should ensure to <a href="../../../../java.base/java/util/concurrent/flow.subscription.html#request(long)">request</a> more data until one of <a href="../../../../java.base/java/util/concurrent/flow.subscriber.html#onComplete()"><code>onComplete</code></a> or <a href="../../../../java.base/java/util/concurrent/flow.subscriber.html#onError(java.lang.Throwable)"><code>onError</code></a> are signalled, or <a href="../../../../java.base/java/util/concurrent/flow.subscription.html#request(long)"><code>cancel</code></a> its <a href="../../../../java.base/java/util/concurrent/flow.subscriber.html#onSubscribe(java.util.concurrent.Flow.Subscription)">subscription</a> if unable or unwilling to do so. Calling <code>cancel</code> before exhausting the response body data may cause the underlying HTTP connection to be closed and prevent it from being reused for subsequent operations.</dd> <dt>Implementation Note:</dt> <dd>The flow of data containing the response body is immutable. Specifically, it is a flow of unmodifiable lists of read-only ByteBuffers.</dd> <dt>Since:</dt> <dd>11</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="httpresponse.bodysubscribers" title="class in java.net.http"><code>HttpResponse.BodySubscribers</code></a></li> </ul> </dd> </dl> </section> <section class="summary"> <section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">       <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/util/concurrent/completionstage.html" title="interface in java.util.concurrent">CompletionStage</a><wbr>&lt;<a href="httpresponse.bodysubscriber" title="type parameter in HttpResponse.BodySubscriber">T</a>&gt;</wbr></code></td>
<td><code><a href="#getBody()" class="member-name-link">getBody</a>()</code></td>
<td> <div class="block">Returns a <code>CompletionStage</code> which when completed will return the response body object.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.util.concurrent.Flow.Subscriber">Methods declared in interface java.util.concurrent.<a href="../../../../java.base/java/util/concurrent/flow.subscriber.html" title="interface in java.util.concurrent">Flow.Subscriber</a>
</h3> <code><a href="../../../../java.base/java/util/concurrent/flow.subscriber.html#onComplete()">onComplete</a>, <a href="../../../../java.base/java/util/concurrent/flow.subscriber.html#onError(java.lang.Throwable)">onError</a>, <a href="../../../../java.base/java/util/concurrent/flow.subscriber.html#onNext(T)">onNext</a>, <a href="../../../../java.base/java/util/concurrent/flow.subscriber.html#onSubscribe(java.util.concurrent.Flow.Subscription)">onSubscribe</a></code>
</div> </section> </section> <section class="details"> <section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="getBody()"> <h3>getBody</h3> <pre class="lang-java" data-language="java">CompletionStage&lt;T&gt; getBody()</pre> <div class="block">Returns a <code>CompletionStage</code> which when completed will return the response body object. This method can be called at any time relative to the other <a href="../../../../java.base/java/util/concurrent/flow.subscriber.html" title="interface in java.util.concurrent"><code>Flow.Subscriber</code></a> methods and is invoked using the client's <a href="httpclient#executor()"><code>executor</code></a>.</div> <dl class="notes"> <dt>Returns:</dt> <dd>a CompletionStage for the response body</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.net.http/java/net/http/HttpResponse.BodySubscriber.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.net.http/java/net/http/HttpResponse.BodySubscriber.html</a>
  </p>
</div>
