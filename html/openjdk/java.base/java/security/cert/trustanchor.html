<h1 title="Class TrustAnchor" class="title">Class TrustAnchor</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">java.security.cert.TrustAnchor</div> </div> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public class TrustAnchor extends Object</pre> <div class="block">A trust anchor or most-trusted Certification Authority (CA). <p> This class represents a "most-trusted CA", which is used as a trust anchor for validating X.509 certification paths. A most-trusted CA includes the public key of the CA, the CA's name, and any constraints upon the set of paths which may be validated using this key. These parameters can be specified in the form of a trusted <code>X509Certificate</code> or as individual parameters. </p>
<p> <b>Concurrent Access</b> </p>
<p>All <code>TrustAnchor</code> objects must be immutable and thread-safe. That is, multiple threads may concurrently invoke the methods defined in this class on a single <code>TrustAnchor</code> object (or more than one) with no ill effects. Requiring <code>TrustAnchor</code> objects to be immutable and thread-safe allows them to be passed around to various pieces of code without worrying about coordinating access. This stipulation applies to all public fields and methods of this class and any added or overridden by subclasses.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="pkixparameters.html#%3Cinit%3E(java.security.KeyStore)"><code>PKIXParameters(Set)</code></a></li> <li><a href="pkixbuilderparameters.html#%3Cinit%3E(java.security.KeyStore,java.security.cert.CertSelector)"><code>PKIXBuilderParameters(Set, CertSelector)</code></a></li> </ul> </dd> </dl> </section> <section class="summary"> <section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table two-column-summary">         <tr>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(java.lang.String,java.security.PublicKey,byte%5B%5D)" class="member-name-link">TrustAnchor</a><wbr>(<a href="../../lang/string.html" title="class in java.lang">String</a> caName,
 <a href="../publickey.html" title="interface in java.security">PublicKey</a> pubKey,
 byte[] nameConstraints)</wbr></code></td>
<td> <div class="block">Creates an instance of <code>TrustAnchor</code> where the most-trusted CA is specified as a distinguished name and public key.</div> </td>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(java.security.cert.X509Certificate,byte%5B%5D)" class="member-name-link">TrustAnchor</a><wbr>(<a href="x509certificate.html" title="class in java.security.cert">X509Certificate</a> trustedCert,
 byte[] nameConstraints)</wbr></code></td>
<td> <div class="block">Creates an instance of <code>TrustAnchor</code> with the specified <code>X509Certificate</code> and optional name constraints, which are intended to be used as additional constraints when validating an X.509 certification path.</div> </td>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(javax.security.auth.x500.X500Principal,java.security.PublicKey,byte%5B%5D)" class="member-name-link">TrustAnchor</a><wbr>(<a href="../../../javax/security/auth/x500/x500principal.html" title="class in javax.security.auth.x500">X500Principal</a> caPrincipal,
 <a href="../publickey.html" title="interface in java.security">PublicKey</a> pubKey,
 byte[] nameConstraints)</wbr></code></td>
<td> <div class="block">Creates an instance of <code>TrustAnchor</code> where the most-trusted CA is specified as an X500Principal and public key.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                      <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>final <a href="../../../javax/security/auth/x500/x500principal.html" title="class in javax.security.auth.x500">X500Principal</a></code></td>
<td><code><a href="#getCA()" class="member-name-link">getCA</a>()</code></td>
<td> <div class="block">Returns the name of the most-trusted CA as an X500Principal.</div> </td>
</tr>
<tr>
<td><code>final <a href="../../lang/string.html" title="class in java.lang">String</a></code></td>
<td><code><a href="#getCAName()" class="member-name-link">getCAName</a>()</code></td>
<td> <div class="block">Returns the name of the most-trusted CA in RFC 2253 <code>String</code> format.</div> </td>
</tr>
<tr>
<td><code>final <a href="../publickey.html" title="interface in java.security">PublicKey</a></code></td>
<td><code><a href="#getCAPublicKey()" class="member-name-link">getCAPublicKey</a>()</code></td>
<td> <div class="block">Returns the public key of the most-trusted CA.</div> </td>
</tr>
<tr>
<td><code>final byte[]</code></td>
<td><code><a href="#getNameConstraints()" class="member-name-link">getNameConstraints</a>()</code></td>
<td> <div class="block">Returns the name constraints parameter.</div> </td>
</tr>
<tr>
<td><code>final <a href="x509certificate.html" title="class in java.security.cert">X509Certificate</a></code></td>
<td><code><a href="#getTrustedCert()" class="member-name-link">getTrustedCert</a>()</code></td>
<td> <div class="block">Returns the most-trusted CA certificate.</div> </td>
</tr>
<tr>
<td><code><a href="../../lang/string.html" title="class in java.lang">String</a></code></td>
<td><code><a href="#toString()" class="member-name-link">toString</a>()</code></td>
<td> <div class="block">Returns a formatted string describing the <code>TrustAnchor</code>.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../lang/object.html#clone()">clone</a>, <a href="../../lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../lang/object.html#finalize()">finalize</a>, <a href="../../lang/object.html#getClass()">getClass</a>, <a href="../../lang/object.html#hashCode()">hashCode</a>, <a href="../../lang/object.html#notify()">notify</a>, <a href="../../lang/object.html#notifyAll()">notifyAll</a>, <a href="../../lang/object.html#wait()">wait</a>, <a href="../../lang/object.html#wait(long)">wait</a>, <a href="../../lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;(java.security.cert.X509Certificate,byte[])"> <h3>TrustAnchor</h3> <pre class="lang-java" data-language="java">public TrustAnchor(X509Certificate trustedCert, byte[] nameConstraints)</pre> <div class="block">Creates an instance of <code>TrustAnchor</code> with the specified <code>X509Certificate</code> and optional name constraints, which are intended to be used as additional constraints when validating an X.509 certification path. <p> The name constraints are specified as a byte array. This byte array should contain the DER encoded form of the name constraints, as they would appear in the NameConstraints structure defined in <a href="https://tools.ietf.org/html/rfc5280">RFC 5280</a> and X.509. The ASN.1 definition of this structure appears below. </p>
<pre class="lang-java" data-language="java"><code>
  NameConstraints ::= SEQUENCE {
       permittedSubtrees       [0]     GeneralSubtrees OPTIONAL,
       excludedSubtrees        [1]     GeneralSubtrees OPTIONAL }

  GeneralSubtrees ::= SEQUENCE SIZE (1..MAX) OF GeneralSubtree

  GeneralSubtree ::= SEQUENCE {
       base                    GeneralName,
       minimum         [0]     BaseDistance DEFAULT 0,
       maximum         [1]     BaseDistance OPTIONAL }

  BaseDistance ::= INTEGER (0..MAX)

  GeneralName ::= CHOICE {
       otherName                       [0]     OtherName,
       rfc822Name                      [1]     IA5String,
       dNSName                         [2]     IA5String,
       x400Address                     [3]     ORAddress,
       directoryName                   [4]     Name,
       ediPartyName                    [5]     EDIPartyName,
       uniformResourceIdentifier       [6]     IA5String,
       iPAddress                       [7]     OCTET STRING,
       registeredID                    [8]     OBJECT IDENTIFIER}
 </code></pre> <p> Note that the name constraints byte array supplied is cloned to protect against subsequent modifications.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>trustedCert</code> - a trusted <code>X509Certificate</code>
</dd> <dd>
<code>nameConstraints</code> - a byte array containing the ASN.1 DER encoding of a NameConstraints extension to be used for checking name constraints. Only the value of the extension is included, not the OID or criticality flag. Specify <code>null</code> to omit the parameter.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - if the name constraints cannot be decoded</dd> <dd>
<code><a href="../../lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if the specified <code>X509Certificate</code> is <code>null</code>
</dd> </dl> </section><section class="detail" id="&lt;init&gt;(javax.security.auth.x500.X500Principal,java.security.PublicKey,byte[])"> <h3>TrustAnchor</h3> <pre class="lang-java" data-language="java">public TrustAnchor(X500Principal caPrincipal, PublicKey pubKey, byte[] nameConstraints)</pre> <div class="block">Creates an instance of <code>TrustAnchor</code> where the most-trusted CA is specified as an X500Principal and public key. Name constraints are an optional parameter, and are intended to be used as additional constraints when validating an X.509 certification path. <p> The name constraints are specified as a byte array. This byte array contains the DER encoded form of the name constraints, as they would appear in the NameConstraints structure defined in RFC 5280 and X.509. The ASN.1 notation for this structure is supplied in the documentation for <a href="#%3Cinit%3E(java.security.cert.X509Certificate,byte%5B%5D)"><code>TrustAnchor(X509Certificate trustedCert, byte[] nameConstraints) </code></a>. </p>
<p> Note that the name constraints byte array supplied here is cloned to protect against subsequent modifications.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>caPrincipal</code> - the name of the most-trusted CA as X500Principal</dd> <dd>
<code>pubKey</code> - the public key of the most-trusted CA</dd> <dd>
<code>nameConstraints</code> - a byte array containing the ASN.1 DER encoding of a NameConstraints extension to be used for checking name constraints. Only the value of the extension is included, not the OID or criticality flag. Specify <code>null</code> to omit the parameter.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if the specified <code>caPrincipal</code> or <code>pubKey</code> parameter is <code>null</code>
</dd> <dt>Since:</dt> <dd>1.5</dd> </dl> </section><section class="detail" id="&lt;init&gt;(java.lang.String,java.security.PublicKey,byte[])"> <h3>TrustAnchor</h3> <pre class="lang-java" data-language="java">public TrustAnchor(String caName, PublicKey pubKey, byte[] nameConstraints)</pre> <div class="block">Creates an instance of <code>TrustAnchor</code> where the most-trusted CA is specified as a distinguished name and public key. Name constraints are an optional parameter, and are intended to be used as additional constraints when validating an X.509 certification path. <p> The name constraints are specified as a byte array. This byte array contains the DER encoded form of the name constraints, as they would appear in the NameConstraints structure defined in RFC 5280 and X.509. The ASN.1 notation for this structure is supplied in the documentation for <a href="#%3Cinit%3E(java.security.cert.X509Certificate,byte%5B%5D)"><code>TrustAnchor(X509Certificate trustedCert, byte[] nameConstraints) </code></a>. </p>
<p> Note that the name constraints byte array supplied here is cloned to protect against subsequent modifications.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>caName</code> - the X.500 distinguished name of the most-trusted CA in <a href="http://www.ietf.org/rfc/rfc2253.txt">RFC 2253</a> <code>String</code> format</dd> <dd>
<code>pubKey</code> - the public key of the most-trusted CA</dd> <dd>
<code>nameConstraints</code> - a byte array containing the ASN.1 DER encoding of a NameConstraints extension to be used for checking name constraints. Only the value of the extension is included, not the OID or criticality flag. Specify <code>null</code> to omit the parameter.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - if the specified <code>caName</code> parameter is empty <code>(caName.length() == 0)</code> or incorrectly formatted or the name constraints cannot be decoded</dd> <dd>
<code><a href="../../lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if the specified <code>caName</code> or <code>pubKey</code> parameter is <code>null</code>
</dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="getTrustedCert()"> <h3>getTrustedCert</h3> <pre class="lang-java" data-language="java">public final X509Certificate getTrustedCert()</pre> <div class="block">Returns the most-trusted CA certificate.</div> <dl class="notes"> <dt>Returns:</dt> <dd>a trusted <code>X509Certificate</code> or <code>null</code> if the trust anchor was not specified as a trusted certificate</dd> </dl> </section><section class="detail" id="getCA()"> <h3>getCA</h3> <pre class="lang-java" data-language="java">public final X500Principal getCA()</pre> <div class="block">Returns the name of the most-trusted CA as an X500Principal.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the X.500 distinguished name of the most-trusted CA, or <code>null</code> if the trust anchor was not specified as a trusted public key and name or X500Principal pair</dd> <dt>Since:</dt> <dd>1.5</dd> </dl> </section><section class="detail" id="getCAName()"> <h3>getCAName</h3> <pre class="lang-java" data-language="java">public final String getCAName()</pre> <div class="block">Returns the name of the most-trusted CA in RFC 2253 <code>String</code> format.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the X.500 distinguished name of the most-trusted CA, or <code>null</code> if the trust anchor was not specified as a trusted public key and name or X500Principal pair</dd> </dl> </section><section class="detail" id="getCAPublicKey()"> <h3>getCAPublicKey</h3> <pre class="lang-java" data-language="java">public final PublicKey getCAPublicKey()</pre> <div class="block">Returns the public key of the most-trusted CA.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the public key of the most-trusted CA, or <code>null</code> if the trust anchor was not specified as a trusted public key and name or X500Principal pair</dd> </dl> </section><section class="detail" id="getNameConstraints()"> <h3>getNameConstraints</h3> <pre class="lang-java" data-language="java">public final byte[] getNameConstraints()</pre> <div class="block">Returns the name constraints parameter. The specified name constraints are associated with this trust anchor and are intended to be used as additional constraints when validating an X.509 certification path. <p> The name constraints are returned as a byte array. This byte array contains the DER encoded form of the name constraints, as they would appear in the NameConstraints structure defined in RFC 5280 and X.509. The ASN.1 notation for this structure is supplied in the documentation for <a href="#%3Cinit%3E(java.security.cert.X509Certificate,byte%5B%5D)"><code>TrustAnchor(X509Certificate trustedCert, byte[] nameConstraints) </code></a>. </p>
<p> Note that the byte array returned is cloned to protect against subsequent modifications.</p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>a byte array containing the ASN.1 DER encoding of a NameConstraints extension used for checking name constraints, or <code>null</code> if not set.</dd> </dl> </section><section class="detail" id="toString()"> <h3>toString</h3> <pre class="lang-java" data-language="java">public String toString()</pre> <div class="block">Returns a formatted string describing the <code>TrustAnchor</code>.</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="../../lang/object.html#toString()">toString</a></code> in class <code><a href="../../lang/object.html" title="class in java.lang">Object</a></code>
</dd> <dt>Returns:</dt> <dd>a formatted string describing the <code>TrustAnchor</code>
</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/cert/TrustAnchor.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/cert/TrustAnchor.html</a>
  </p>
</div>
