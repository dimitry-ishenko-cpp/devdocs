<h1 title="Class TransportService" class="title">Class TransportService</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../../../../java.base/java/lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">com.sun.jdi.connect.spi.TransportService</div> </div> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public abstract class TransportService extends Object</pre> <div class="block">A transport service for connections between a debugger and a target VM. <p> A transport service is a concrete subclass of this class that has a zero-argument constructor and implements the abstract methods specified below. It is the underlying service used by a <a href="../transport.html" title="interface in com.sun.jdi.connect"><code>Transport</code></a> for connections between a debugger and a target VM. </p>
<p> A transport service is used to establish a connection between a debugger and a target VM, and to transport Java Debug Wire Protocol (JDWP) packets over an underlying communication protocol. In essence a transport service implementation binds JDWP (as specified in the <a href="https://docs.oracle.com/en/java/javase/21/docs/specs/jdwp/jdwp-spec.html"> JDWP specification</a>) to an underlying communication protocol. A transport service implementation provides a reliable JDWP packet transportation service. JDWP packets are sent to and from the target VM without duplication or data loss. A transport service implementation may be based on an underlying communication protocol that is reliable or unreliable. If the underlying communication protocol is reliable then the transport service implementation may be relatively simple and may only need to transport JDWP packets as payloads of the underlying communication protocol. In the case of an unreliable communication protocol the transport service implementation may include additional protocol support in order to ensure that packets are not duplicated and that there is no data loss. The details of such protocols are specific to the implementation but may involve techniques such as the <i>positive acknowledgment with retransmission</i> technique used in protocols such as the Transmission Control Protocol (TCP) (see <a href="http://www.ietf.org/rfc/rfc0793.txt"> RFC 793 </a>). </p>
<p> A transport service can be used to initiate a connection to a target VM. This is done by invoking the <a href="#attach(java.lang.String,long,long)"><code>attach(java.lang.String, long, long)</code></a> method. Alternatively, a transport service can listen and accept connections initiated by a target VM. This is done by invoking the <a href="#startListening(java.lang.String)"><code>startListening(String)</code></a> method to put the transport into listen mode. Then the <a href="#accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)"><code>accept(com.sun.jdi.connect.spi.TransportService.ListenKey, long, long)</code></a> method is used to accept a connection initiated by a target VM.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.5</dd> </dl> </section> <section class="summary"> <section class="nested-class-summary" id="nested-class-summary"> <h2>Nested Class Summary</h2>  <table class="summary-table three-column-summary">          <tr>
<th>Modifier and Type</th>
<th>Class</th>
<th>Description</th>
</tr>
<tr>
<td><code>static class </code></td>
<td><code><a href="transportservice.capabilities.html" class="type-name-link" title="class in com.sun.jdi.connect.spi">TransportService.Capabilities</a></code></td>
<td> <div class="block">The transport service capabilities.</div> </td>
</tr>
<tr>
<td><code>static class </code></td>
<td><code><a href="transportservice.listenkey.html" class="type-name-link" title="class in com.sun.jdi.connect.spi">TransportService.ListenKey</a></code></td>
<td> <div class="block">A <i>listen key</i>.</div> </td>
</tr>
</table> </section><section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table two-column-summary">     <tr>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E()" class="member-name-link">TransportService</a>()</code></td>
<td> <div class="block">Constructor for subclasses to call.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                            <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>abstract <a href="connection.html" title="class in com.sun.jdi.connect.spi">Connection</a></code></td>
<td><code><a href="#accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)" class="member-name-link">accept</a><wbr>(<a href="transportservice.listenkey.html" title="class in com.sun.jdi.connect.spi">TransportService.ListenKey</a> listenKey,
 long acceptTimeout,
 long handshakeTimeout)</wbr></code></td>
<td> <div class="block">Accept a connection from a target VM.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="connection.html" title="class in com.sun.jdi.connect.spi">Connection</a></code></td>
<td><code><a href="#attach(java.lang.String,long,long)" class="member-name-link">attach</a><wbr>(<a href="../../../../../../java.base/java/lang/string.html" title="class in java.lang">String</a> address,
 long attachTimeout,
 long handshakeTimeout)</wbr></code></td>
<td> <div class="block">Attaches to the specified address.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="transportservice.capabilities.html" title="class in com.sun.jdi.connect.spi">TransportService.Capabilities</a></code></td>
<td><code><a href="#capabilities()" class="member-name-link">capabilities</a>()</code></td>
<td> <div class="block">Returns the capabilities of the transport service.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="../../../../../../java.base/java/lang/string.html" title="class in java.lang">String</a></code></td>
<td><code><a href="#description()" class="member-name-link">description</a>()</code></td>
<td> <div class="block">Returns a description of the transport service.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="../../../../../../java.base/java/lang/string.html" title="class in java.lang">String</a></code></td>
<td><code><a href="#name()" class="member-name-link">name</a>()</code></td>
<td> <div class="block">Returns a name to identify the transport service.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="transportservice.listenkey.html" title="class in com.sun.jdi.connect.spi">TransportService.ListenKey</a></code></td>
<td><code><a href="#startListening()" class="member-name-link">startListening</a>()</code></td>
<td> <div class="block">Listens on an address chosen by the transport service.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="transportservice.listenkey.html" title="class in com.sun.jdi.connect.spi">TransportService.ListenKey</a></code></td>
<td><code><a href="#startListening(java.lang.String)" class="member-name-link">startListening</a><wbr>(<a href="../../../../../../java.base/java/lang/string.html" title="class in java.lang">String</a> address)</wbr></code></td>
<td> <div class="block">Listens on the specified address for inbound connections.</div> </td>
</tr>
<tr>
<td><code>abstract void</code></td>
<td><code><a href="#stopListening(com.sun.jdi.connect.spi.TransportService.ListenKey)" class="member-name-link">stopListening</a><wbr>(<a href="transportservice.listenkey.html" title="class in com.sun.jdi.connect.spi">TransportService.ListenKey</a> listenKey)</wbr></code></td>
<td> <div class="block">Stop listening for inbound connections.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../../../../java.base/java/lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../../../../../java.base/java/lang/object.html#clone()">clone</a>, <a href="../../../../../../java.base/java/lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../../../../../java.base/java/lang/object.html#finalize()">finalize</a>, <a href="../../../../../../java.base/java/lang/object.html#getClass()">getClass</a>, <a href="../../../../../../java.base/java/lang/object.html#hashCode()">hashCode</a>, <a href="../../../../../../java.base/java/lang/object.html#notify()">notify</a>, <a href="../../../../../../java.base/java/lang/object.html#notifyAll()">notifyAll</a>, <a href="../../../../../../java.base/java/lang/object.html#toString()">toString</a>, <a href="../../../../../../java.base/java/lang/object.html#wait()">wait</a>, <a href="../../../../../../java.base/java/lang/object.html#wait(long)">wait</a>, <a href="../../../../../../java.base/java/lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;()"> <h3>TransportService</h3> <pre class="lang-java" data-language="java">public TransportService()</pre> <div class="block">Constructor for subclasses to call.</div> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="name()"> <h3>name</h3> <pre class="lang-java" data-language="java">public abstract String name()</pre> <div class="block">Returns a name to identify the transport service.</div> <dl class="notes"> <dt>Returns:</dt> <dd>The name of the transport service</dd> </dl> </section><section class="detail" id="description()"> <h3>description</h3> <pre class="lang-java" data-language="java">public abstract String description()</pre> <div class="block">Returns a description of the transport service.</div> <dl class="notes"> <dt>Returns:</dt> <dd>The description of the transport service</dd> </dl> </section><section class="detail" id="capabilities()"> <h3>capabilities</h3> <pre class="lang-java" data-language="java">public abstract TransportService.Capabilities capabilities()</pre> <div class="block">Returns the capabilities of the transport service.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the transport service capabilities</dd> </dl> </section><section class="detail" id="attach(java.lang.String,long,long)"> <h3>attach</h3> <pre class="lang-java" data-language="java">public abstract Connection attach(String address, long attachTimeout, long handshakeTimeout) throws IOException</pre> <div class="block">Attaches to the specified address. <p> Attaches to the specified address and returns a connection representing the bi-directional communication channel to the target VM. </p>
<p> Attaching to the target VM involves two steps: First, a connection is established to specified address. This is followed by a handshake to ensure that the connection is to a target VM. The handshake involves the exchange of a string <i>JDWP-Handshake</i> as specified in the <a href="https://docs.oracle.com/en/java/javase/21/docs/specs/jdwp/jdwp-spec.html"> Java Debug Wire Protocol</a> specification.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>address</code> - The address of the target VM.</dd> <dd>
<code>attachTimeout</code> - If this transport service supports an attach timeout, and if <code>attachTimeout</code> is positive, then it specifies the timeout, in milliseconds (more or less), to use when attaching to the target VM. If the transport service does not support an attach timeout, or if <code>attachTimeout</code> is specified as zero then attach without any timeout.</dd> <dd>
<code>handshakeTimeout</code> - If this transport service supports a handshake timeout, and if <code>handshakeTimeout</code> is positive, then it specifies the timeout, in milliseconds (more or less), to use when handshaking with the target VM. The exact usage of the timeout are specific to the transport service. A transport service may, for example, use the handshake timeout as the inter-character timeout while waiting for the <i>JDWP-Handshake</i> message from the target VM. Alternatively, a transport service may, for example, use the handshakeTimeout as a timeout for the duration of the handshake exchange. If the transport service does not support a handshake timeout, or if <code>handshakeTimeout</code> is specified as zero then the handshake does not timeout if there isn't a response from the target VM.</dd> <dt>Returns:</dt> <dd>The Connection representing the bi-directional communication channel to the target VM.</dd> <dt>Throws:</dt> <dd>
<code><a href="../transporttimeoutexception.html" title="class in com.sun.jdi.connect">TransportTimeoutException</a></code> - If a timeout occurs while establishing the connection.</dd> <dd>
<code><a href="../../../../../../java.base/java/io/ioexception.html" title="class in java.io">IOException</a></code> - If an I/O error occurs (including a timeout when handshaking).</dd> <dd>
<code><a href="../../../../../../java.base/java/lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - If the address is invalid or the value of the attach timeout or handshake timeout is negative.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="transportservice.capabilities.html#supportsAttachTimeout()"><code>TransportService.Capabilities.supportsAttachTimeout()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="startListening(java.lang.String)"> <h3>startListening</h3> <pre class="lang-java" data-language="java">public abstract TransportService.ListenKey startListening(String address) throws IOException</pre> <div class="block">Listens on the specified address for inbound connections. <p> This method starts the transport service listening on the specified address so that it can subsequently accept an inbound connection. It does not wait until an inbound connection is established.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>address</code> - The address to start listening for connections, or <code>null</code> to listen on an address chosen by the transport service.</dd> <dt>Returns:</dt> <dd>a listen key to be used in subsequent calls to be <a href="#accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)"><code>accept</code></a> or <a href="#stopListening(com.sun.jdi.connect.spi.TransportService.ListenKey)"><code>stopListening</code></a> methods.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../../../java.base/java/io/ioexception.html" title="class in java.io">IOException</a></code> - If an I/O error occurs.</dd> <dd>
<code><a href="../../../../../../java.base/java/lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - If the specific address is invalid</dd> </dl> </section><section class="detail" id="startListening()"> <h3>startListening</h3> <pre class="lang-java" data-language="java">public abstract TransportService.ListenKey startListening() throws IOException</pre> <div class="block">Listens on an address chosen by the transport service. <p> This convenience method works as if by invoking <a href="#startListening(java.lang.String)"><code>startListening(null)</code></a>.</p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>a listen key to be used in subsequent calls to be <a href="#accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)"><code>accept</code></a> or <a href="#stopListening(com.sun.jdi.connect.spi.TransportService.ListenKey)"><code>stopListening</code></a> methods.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../../../java.base/java/io/ioexception.html" title="class in java.io">IOException</a></code> - If an I/O error occurs.</dd> </dl> </section><section class="detail" id="stopListening(com.sun.jdi.connect.spi.TransportService.ListenKey)"> <h3>stopListening</h3> <pre class="lang-java" data-language="java">public abstract void stopListening(TransportService.ListenKey listenKey) throws IOException</pre> <div class="block">Stop listening for inbound connections. <p> Invoking this method while another thread is blocked in <a href="#accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)"><code>accept</code></a>, with the same listen key, waiting to accept a connection will cause that thread to throw an IOException. If the thread blocked in accept has already accepted a connection from a target VM and is in the process of handshaking with the target VM then invoking this method will not cause the thread to throw an exception.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>listenKey</code> - The listen key obtained from a previous call to <a href="#startListening(java.lang.String)"><code>startListening(String)</code></a> or <a href="#startListening()"><code>startListening()</code></a>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../../../java.base/java/lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - If the listen key is invalid</dd> <dd>
<code><a href="../../../../../../java.base/java/io/ioexception.html" title="class in java.io">IOException</a></code> - If an I/O error occurs.</dd> </dl> </section><section class="detail" id="accept(com.sun.jdi.connect.spi.TransportService.ListenKey,long,long)"> <h3>accept</h3> <pre class="lang-java" data-language="java">public abstract Connection accept(TransportService.ListenKey listenKey, long acceptTimeout, long handshakeTimeout) throws IOException</pre> <div class="block">Accept a connection from a target VM. <p> Waits (indefinitely or with timeout) to accept a connection from a target VM. Returns a connection representing the bi-directional communication channel to the target VM. </p>
<p> Accepting a connection from a target VM involves two steps. First, the transport service waits to accept the connection from the target VM. Once the connection is established a handshake is performed to ensure that the connection is indeed to a target VM. The handshake involves the exchange of a string <i>JDWP-Handshake</i> as specified in the <a href="https://docs.oracle.com/en/java/javase/21/docs/specs/jdwp/jdwp-spec.html"> Java Debug Wire Protocol</a> specification.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>listenKey</code> - A listen key obtained from a previous call to <a href="#startListening(java.lang.String)"><code>startListening(String)</code></a> or <a href="#startListening()"><code>startListening()</code></a>.</dd> <dd>
<code>acceptTimeout</code> - if this transport service supports an accept timeout, and if <code>acceptTimeout</code> is positive then block for up to <code>acceptTimeout</code> milliseconds, more or less, while waiting for the target VM to connect. If the transport service does not support an accept timeout or if <code>acceptTimeout</code> is zero then block indefinitely for a target VM to connect.</dd> <dd>
<code>handshakeTimeout</code> - If this transport service supports a handshake timeout, and if <code>handshakeTimeout</code> is positive, then it specifies the timeout, in milliseconds (more or less), to use when handshaking with the target VM. The exact usage of the timeout is specific to the transport service. A transport service may, for example, use the handshake timeout as the inter-character timeout while waiting for the <i>JDWP-Handshake</i> message from the target VM. Alternatively, a transport service may, for example, use the timeout as a timeout for the duration of the handshake exchange. If the transport service does not support a handshake timeout, of if <code>handshakeTimeout</code> is specified as zero then the handshake does not timeout if there isn't a response from the target VM.</dd> <dt>Returns:</dt> <dd>The Connection representing the bi-directional communication channel to the target VM.</dd> <dt>Throws:</dt> <dd>
<code><a href="../transporttimeoutexception.html" title="class in com.sun.jdi.connect">TransportTimeoutException</a></code> - If a timeout occurs while waiting for a target VM to connect.</dd> <dd>
<code><a href="../../../../../../java.base/java/io/ioexception.html" title="class in java.io">IOException</a></code> - If an I/O error occurs (including a timeout when handshaking).</dd> <dd>
<code><a href="../../../../../../java.base/java/lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - If the value of the acceptTimeout argument, or handshakeTimeout is negative, or an invalid listen key is provided.</dd> <dd>
<code><a href="../../../../../../java.base/java/lang/illegalstateexception.html" title="class in java.lang">IllegalStateException</a></code> - If <a href="#stopListening(com.sun.jdi.connect.spi.TransportService.ListenKey)"><code>stopListening</code></a> has already been called with this listen key and the transport service is no longer listening for inbound connections.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="transportservice.capabilities.html#supportsAcceptTimeout()"><code>TransportService.Capabilities.supportsAcceptTimeout()</code></a></li> </ul> </dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jdi/com/sun/jdi/connect/spi/TransportService.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jdi/com/sun/jdi/connect/spi/TransportService.html</a>
  </p>
</div>
