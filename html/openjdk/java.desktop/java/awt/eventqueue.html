<h1 title="Class EventQueue" class="title">Class EventQueue</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../java.base/java/lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">java.awt.EventQueue</div> </div> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public class EventQueue extends Object</pre> <div class="block">
<code>EventQueue</code> is a platform-independent class that queues events, both from the underlying peer classes and from trusted application classes. <p> It encapsulates asynchronous event dispatch machinery which extracts events from the queue and dispatches them by calling <a href="#dispatchEvent(java.awt.AWTEvent)"><code>dispatchEvent(AWTEvent)</code></a> method on this <code>EventQueue</code> with the event to be dispatched as an argument. The particular behavior of this machinery is implementation-dependent. The only requirements are that events which were actually enqueued to this queue (note that events being posted to the <code>EventQueue</code> can be coalesced) are dispatched: </p>
<dl> <dt> Sequentially. </dt>
<dd> That is, it is not permitted that several events from this queue are dispatched simultaneously. </dd>
<dt> In the same order as they are enqueued. </dt>
<dd> That is, if <code>AWTEvent</code> A is enqueued to the <code>EventQueue</code> before <code>AWTEvent</code> B then event B will not be dispatched before event A. </dd>
</dl> <p> Some browsers partition applets in different code bases into separate contexts, and establish walls between these contexts. In such a scenario, there will be one <code>EventQueue</code> per context. Other browsers place all applets into the same context, implying that there will be only a single, global <code>EventQueue</code> for all applets. This behavior is implementation-dependent. Consult your browser's documentation for more information. </p>
<p> For information on the threading issues of the event dispatch machinery, see <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/doc-files/AWTThreadIssues.html#Autoshutdown">AWT Threading Issues</a>.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.1</dd> </dl> </section> <section class="summary"> <section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table two-column-summary">     <tr>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E()" class="member-name-link">EventQueue</a>()</code></td>
<td> <div class="block">Initializes a new instance of <code>EventQueue</code>.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                                           <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="secondaryloop.html" title="interface in java.awt">SecondaryLoop</a></code></td>
<td><code><a href="#createSecondaryLoop()" class="member-name-link">createSecondaryLoop</a>()</code></td>
<td> <div class="block">Creates a new <code>secondary loop</code> associated with this event queue.</div> </td>
</tr>
<tr>
<td><code>protected void</code></td>
<td><code><a href="#dispatchEvent(java.awt.AWTEvent)" class="member-name-link">dispatchEvent</a><wbr>(<a href="awtevent.html" title="class in java.awt">AWTEvent</a> event)</wbr></code></td>
<td> <div class="block">Dispatches an event.</div> </td>
</tr>
<tr>
<td><code>static <a href="awtevent.html" title="class in java.awt">AWTEvent</a></code></td>
<td><code><a href="#getCurrentEvent()" class="member-name-link">getCurrentEvent</a>()</code></td>
<td> <div class="block">Returns the event currently being dispatched by the <code>EventQueue</code> associated with the calling thread.</div> </td>
</tr>
<tr>
<td><code>static long</code></td>
<td><code><a href="#getMostRecentEventTime()" class="member-name-link">getMostRecentEventTime</a>()</code></td>
<td> <div class="block">Returns the timestamp of the most recent event that had a timestamp, and that was dispatched from the <code>EventQueue</code> associated with the calling thread.</div> </td>
</tr>
<tr>
<td><code><a href="awtevent.html" title="class in java.awt">AWTEvent</a></code></td>
<td><code><a href="#getNextEvent()" class="member-name-link">getNextEvent</a>()</code></td>
<td> <div class="block">Removes an event from the <code>EventQueue</code> and returns it.</div> </td>
</tr>
<tr>
<td><code>static void</code></td>
<td><code><a href="#invokeAndWait(java.lang.Runnable)" class="member-name-link">invokeAndWait</a><wbr>(<a href="../../../java.base/java/lang/runnable.html" title="interface in java.lang">Runnable</a> runnable)</wbr></code></td>
<td> <div class="block">Causes <code>runnable</code> to have its <code>run</code> method called in the <a href="#isDispatchThread()"><code>dispatch thread</code></a> of <a href="toolkit.html#getSystemEventQueue()"><code>the system EventQueue</code></a>.</div> </td>
</tr>
<tr>
<td><code>static void</code></td>
<td><code><a href="#invokeLater(java.lang.Runnable)" class="member-name-link">invokeLater</a><wbr>(<a href="../../../java.base/java/lang/runnable.html" title="interface in java.lang">Runnable</a> runnable)</wbr></code></td>
<td> <div class="block">Causes <code>runnable</code> to have its <code>run</code> method called in the <a href="#isDispatchThread()"><code>dispatch thread</code></a> of <a href="toolkit.html#getSystemEventQueue()"><code>the system EventQueue</code></a>.</div> </td>
</tr>
<tr>
<td><code>static boolean</code></td>
<td><code><a href="#isDispatchThread()" class="member-name-link">isDispatchThread</a>()</code></td>
<td> <div class="block">Returns true if the calling thread is <a href="toolkit.html#getSystemEventQueue()"><code>the current AWT EventQueue</code></a>'s dispatch thread.</div> </td>
</tr>
<tr>
<td><code><a href="awtevent.html" title="class in java.awt">AWTEvent</a></code></td>
<td><code><a href="#peekEvent()" class="member-name-link">peekEvent</a>()</code></td>
<td> <div class="block">Returns the first event on the <code>EventQueue</code> without removing it.</div> </td>
</tr>
<tr>
<td><code><a href="awtevent.html" title="class in java.awt">AWTEvent</a></code></td>
<td><code><a href="#peekEvent(int)" class="member-name-link">peekEvent</a><wbr>(int id)</wbr></code></td>
<td> <div class="block">Returns the first event with the specified id, if any.</div> </td>
</tr>
<tr>
<td><code>protected void</code></td>
<td><code><a href="#pop()" class="member-name-link">pop</a>()</code></td>
<td> <div class="block">Stops dispatching events using this <code>EventQueue</code>.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#postEvent(java.awt.AWTEvent)" class="member-name-link">postEvent</a><wbr>(<a href="awtevent.html" title="class in java.awt">AWTEvent</a> theEvent)</wbr></code></td>
<td> <div class="block">Posts a 1.1-style event to the <code>EventQueue</code>.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#push(java.awt.EventQueue)" class="member-name-link">push</a><wbr>(<a href="eventqueue.html" title="class in java.awt">EventQueue</a> newEventQueue)</wbr></code></td>
<td> <div class="block">Replaces the existing <code>EventQueue</code> with the specified one.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../java.base/java/lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../../java.base/java/lang/object.html#clone()">clone</a>, <a href="../../../java.base/java/lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../../java.base/java/lang/object.html#finalize()">finalize</a>, <a href="../../../java.base/java/lang/object.html#getClass()">getClass</a>, <a href="../../../java.base/java/lang/object.html#hashCode()">hashCode</a>, <a href="../../../java.base/java/lang/object.html#notify()">notify</a>, <a href="../../../java.base/java/lang/object.html#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/object.html#toString()">toString</a>, <a href="../../../java.base/java/lang/object.html#wait()">wait</a>, <a href="../../../java.base/java/lang/object.html#wait(long)">wait</a>, <a href="../../../java.base/java/lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;()"> <h3>EventQueue</h3> <pre class="lang-java" data-language="java">public EventQueue()</pre> <div class="block">Initializes a new instance of <code>EventQueue</code>.</div> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="postEvent(java.awt.AWTEvent)"> <h3>postEvent</h3> <pre class="lang-java" data-language="java">public void postEvent(AWTEvent theEvent)</pre> <div class="block">Posts a 1.1-style event to the <code>EventQueue</code>. If there is an existing event on the queue with the same ID and event source, the source <code>Component</code>'s <code>coalesceEvents</code> method will be called.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>theEvent</code> - an instance of <code>java.awt.AWTEvent</code>, or a subclass of it</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if <code>theEvent</code> is <code>null</code>
</dd> </dl> </section><section class="detail" id="getNextEvent()"> <h3>getNextEvent</h3> <pre class="lang-java" data-language="java">public AWTEvent getNextEvent() throws InterruptedException</pre> <div class="block">Removes an event from the <code>EventQueue</code> and returns it. This method will block until an event has been posted by another thread.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the next <code>AWTEvent</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/interruptedexception.html" title="class in java.lang">InterruptedException</a></code> - if any thread has interrupted this thread</dd> </dl> </section><section class="detail" id="peekEvent()"> <h3>peekEvent</h3> <pre class="lang-java" data-language="java">public AWTEvent peekEvent()</pre> <div class="block">Returns the first event on the <code>EventQueue</code> without removing it.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the first event</dd> </dl> </section><section class="detail" id="peekEvent(int)"> <h3>peekEvent</h3> <pre class="lang-java" data-language="java">public AWTEvent peekEvent(int id)</pre> <div class="block">Returns the first event with the specified id, if any.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>id</code> - the id of the type of event desired</dd> <dt>Returns:</dt> <dd>the first event of the specified id or <code>null</code> if there is no such event</dd> </dl> </section><section class="detail" id="dispatchEvent(java.awt.AWTEvent)"> <h3>dispatchEvent</h3> <pre class="lang-java" data-language="java">protected void dispatchEvent(AWTEvent event)</pre> <div class="block">Dispatches an event. The manner in which the event is dispatched depends upon the type of the event and the type of the event's source object: <table class="striped"> <caption>Event types, source types, and dispatch methods</caption> <thead> <tr> <th scope="col">Event Type </th>
<th scope="col">Source Type </th>
<th scope="col">Dispatched To </th>
</tr>
</thead> <tbody> <tr> <th scope="row">ActiveEvent </th>
<td>Any </td>
<td>event.dispatch() </td>
</tr>
<tr> <th scope="row">Other </th>
<td>Component </td>
<td>source.dispatchEvent(AWTEvent) </td>
</tr>
<tr> <th scope="row">Other </th>
<td>MenuComponent </td>
<td>source.dispatchEvent(AWTEvent) </td>
</tr>
<tr> <th scope="row">Other </th>
<td>Other </td>
<td>No action (ignored) </td>
</tr>
</tbody> </table>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>event</code> - an instance of <code>java.awt.AWTEvent</code>, or a subclass of it</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if <code>event</code> is <code>null</code>
</dd> <dt>Since:</dt> <dd>1.2</dd> </dl> </section><section class="detail" id="getMostRecentEventTime()"> <h3>getMostRecentEventTime</h3> <pre class="lang-java" data-language="java">public static long getMostRecentEventTime()</pre> <div class="block">Returns the timestamp of the most recent event that had a timestamp, and that was dispatched from the <code>EventQueue</code> associated with the calling thread. If an event with a timestamp is currently being dispatched, its timestamp will be returned. If no events have yet been dispatched, the EventQueue's initialization time will be returned instead.In the current version of the JDK, only <code>InputEvent</code>s, <code>ActionEvent</code>s, and <code>InvocationEvent</code>s have timestamps; however, future versions of the JDK may add timestamps to additional event types. Note that this method should only be invoked from an application's <a href="#isDispatchThread()"><code>event dispatching thread</code></a>. If this method is invoked from another thread, the current system time (as reported by <code>System.currentTimeMillis()</code>) will be returned instead.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the timestamp of the last <code>InputEvent</code>, <code>ActionEvent</code>, or <code>InvocationEvent</code> to be dispatched, or <code>System.currentTimeMillis()</code> if this method is invoked on a thread other than an event dispatching thread</dd> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="event/inputevent.html#getWhen()"><code>InputEvent.getWhen()</code></a></li> <li><a href="event/actionevent.html#getWhen()"><code>ActionEvent.getWhen()</code></a></li> <li><a href="event/invocationevent.html#getWhen()"><code>InvocationEvent.getWhen()</code></a></li> <li><a href="#isDispatchThread()"><code>isDispatchThread()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="getCurrentEvent()"> <h3>getCurrentEvent</h3> <pre class="lang-java" data-language="java">public static AWTEvent getCurrentEvent()</pre> <div class="block">Returns the event currently being dispatched by the <code>EventQueue</code> associated with the calling thread. This is useful if a method needs access to the event, but was not designed to receive a reference to it as an argument. Note that this method should only be invoked from an application's event dispatching thread. If this method is invoked from another thread, null will be returned.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the event currently being dispatched, or null if this method is invoked on a thread other than an event dispatching thread</dd> <dt>Since:</dt> <dd>1.4</dd> </dl> </section><section class="detail" id="push(java.awt.EventQueue)"> <h3>push</h3> <pre class="lang-java" data-language="java">public void push(EventQueue newEventQueue)</pre> <div class="block">Replaces the existing <code>EventQueue</code> with the specified one. Any pending events are transferred to the new <code>EventQueue</code> for processing by it.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newEventQueue</code> - an <code>EventQueue</code> (or subclass thereof) instance to be use</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if <code>newEventQueue</code> is <code>null</code>
</dd> <dt>Since:</dt> <dd>1.2</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#pop()"><code>pop()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="pop()"> <h3>pop</h3> <pre class="lang-java" data-language="java">protected void pop() throws EmptyStackException</pre> <div class="block">Stops dispatching events using this <code>EventQueue</code>. Any pending events are transferred to the previous <code>EventQueue</code> for processing. <p> Warning: To avoid deadlock, do not declare this method synchronized in a subclass.</p>
</div> <dl class="notes"> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/util/emptystackexception.html" title="class in java.util">EmptyStackException</a></code> - if no previous push was made on this <code>EventQueue</code>
</dd> <dt>Since:</dt> <dd>1.2</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#push(java.awt.EventQueue)"><code>push(java.awt.EventQueue)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="createSecondaryLoop()"> <h3>createSecondaryLoop</h3> <pre class="lang-java" data-language="java">public SecondaryLoop createSecondaryLoop()</pre> <div class="block">Creates a new <code>secondary loop</code> associated with this event queue. Use the <a href="secondaryloop.html#enter()"><code>SecondaryLoop.enter()</code></a> and <a href="secondaryloop.html#exit()"><code>SecondaryLoop.exit()</code></a> methods to start and stop the event loop and dispatch the events from this queue.</div> <dl class="notes"> <dt>Returns:</dt> <dd>secondaryLoop A new secondary loop object, which can be used to launch a new nested event loop and dispatch events from this queue</dd> <dt>Since:</dt> <dd>1.7</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="secondaryloop.html#enter()"><code>SecondaryLoop.enter()</code></a></li> <li><a href="secondaryloop.html#exit()"><code>SecondaryLoop.exit()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="isDispatchThread()"> <h3>isDispatchThread</h3> <pre class="lang-java" data-language="java">public static boolean isDispatchThread()</pre> <div class="block">Returns true if the calling thread is <a href="toolkit.html#getSystemEventQueue()"><code>the current AWT EventQueue</code></a>'s dispatch thread. Use this method to ensure that a particular task is being executed (or not being) there. <p> Note: use the <a href="#invokeLater(java.lang.Runnable)"><code>invokeLater(java.lang.Runnable)</code></a> or <a href="#invokeAndWait(java.lang.Runnable)"><code>invokeAndWait(java.lang.Runnable)</code></a> methods to execute a task in <a href="toolkit.html#getSystemEventQueue()"><code>the current AWT EventQueue</code></a>'s dispatch thread.</p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>true if running in <a href="toolkit.html#getSystemEventQueue()"><code>the current AWT EventQueue</code></a>'s dispatch thread</dd> <dt>Since:</dt> <dd>1.2</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#invokeLater(java.lang.Runnable)"><code>invokeLater(java.lang.Runnable)</code></a></li> <li><a href="#invokeAndWait(java.lang.Runnable)"><code>invokeAndWait(java.lang.Runnable)</code></a></li> <li><a href="toolkit.html#getSystemEventQueue()"><code>Toolkit.getSystemEventQueue()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="invokeLater(java.lang.Runnable)"> <h3>invokeLater</h3> <pre class="lang-java" data-language="java">public static void invokeLater(Runnable runnable)</pre> <div class="block">Causes <code>runnable</code> to have its <code>run</code> method called in the <a href="#isDispatchThread()"><code>dispatch thread</code></a> of <a href="toolkit.html#getSystemEventQueue()"><code>the system EventQueue</code></a>. This will happen after all pending events are processed.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>runnable</code> - the <code>Runnable</code> whose <code>run</code> method should be executed asynchronously in the <a href="#isDispatchThread()"><code>event dispatch thread</code></a> of <a href="toolkit.html#getSystemEventQueue()"><code>the system EventQueue</code></a>
</dd> <dt>Since:</dt> <dd>1.2</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#invokeAndWait(java.lang.Runnable)"><code>invokeAndWait(java.lang.Runnable)</code></a></li> <li><a href="toolkit.html#getSystemEventQueue()"><code>Toolkit.getSystemEventQueue()</code></a></li> <li><a href="#isDispatchThread()"><code>isDispatchThread()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="invokeAndWait(java.lang.Runnable)"> <h3>invokeAndWait</h3> <pre class="lang-java" data-language="java">public static void invokeAndWait(Runnable runnable) throws InterruptedException, InvocationTargetException</pre> <div class="block">Causes <code>runnable</code> to have its <code>run</code> method called in the <a href="#isDispatchThread()"><code>dispatch thread</code></a> of <a href="toolkit.html#getSystemEventQueue()"><code>the system EventQueue</code></a>. This will happen after all pending events are processed. The call blocks until this has happened. This method will throw an Error if called from the <a href="#isDispatchThread()"><code>event dispatcher thread</code></a>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>runnable</code> - the <code>Runnable</code> whose <code>run</code> method should be executed synchronously in the <a href="#isDispatchThread()"><code>event dispatch thread</code></a> of <a href="toolkit.html#getSystemEventQueue()"><code>the system EventQueue</code></a>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/interruptedexception.html" title="class in java.lang">InterruptedException</a></code> - if any thread has interrupted this thread</dd> <dd>
<code><a href="../../../java.base/java/lang/reflect/invocationtargetexception.html" title="class in java.lang.reflect">InvocationTargetException</a></code> - if an throwable is thrown when running <code>runnable</code>
</dd> <dt>Since:</dt> <dd>1.2</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#invokeLater(java.lang.Runnable)"><code>invokeLater(java.lang.Runnable)</code></a></li> <li><a href="toolkit.html#getSystemEventQueue()"><code>Toolkit.getSystemEventQueue()</code></a></li> <li><a href="#isDispatchThread()"><code>isDispatchThread()</code></a></li> </ul> </dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/EventQueue.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/EventQueue.html</a>
  </p>
</div>
