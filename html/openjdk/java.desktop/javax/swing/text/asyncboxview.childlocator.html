<h1 title="Class AsyncBoxView.ChildLocator" class="title">Class AsyncBoxView.ChildLocator</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../../java.base/java/lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">javax.swing.text.AsyncBoxView.ChildLocator</div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>Enclosing class:</dt> <dd><code><a href="asyncboxview.html" title="class in javax.swing.text">AsyncBoxView</a></code></dd> </dl>  <pre class="lang-java" data-language="java">public class AsyncBoxView.ChildLocator extends Object</pre> <div class="block">A class to manage the effective position of the child views in a localized area while changes are being made around the localized area. The AsyncBoxView may be continuously changing, but the visible area needs to remain fairly stable until the layout thread decides to publish an update to the parent.</div> <dl class="notes"> <dt>Since:</dt> <dd>1.3</dd> </dl> </section> <section class="summary"> <section class="field-summary" id="field-summary"> <h2>Field Summary</h2>  <table class="summary-table three-column-summary">             <tr>
<th>Modifier and Type</th>
<th>Field</th>
<th>Description</th>
</tr>
<tr>
<td><code>protected <a href="../../../java/awt/rectangle.html" title="class in java.awt">Rectangle</a></code></td>
<td><code><a href="#childAlloc" class="member-name-link">childAlloc</a></code></td>
<td> <div class="block">A shape to use for the child allocation to avoid creating a lot of garbage.</div> </td>
</tr>
<tr>
<td><code>protected <a href="../../../java/awt/rectangle.html" title="class in java.awt">Rectangle</a></code></td>
<td><code><a href="#lastAlloc" class="member-name-link">lastAlloc</a></code></td>
<td> <div class="block">The last seen allocation (for repainting when changes are flushed upward).</div> </td>
</tr>
<tr>
<td><code>protected <a href="asyncboxview.childstate.html" title="class in javax.swing.text">AsyncBoxView.ChildState</a></code></td>
<td><code><a href="#lastValidOffset" class="member-name-link">lastValidOffset</a></code></td>
<td> <div class="block">The location of the last offset calculation that is valid.</div> </td>
</tr>
</table> </section><section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table two-column-summary">     <tr>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E()" class="member-name-link">ChildLocator</a>()</code></td>
<td> <div class="block">construct a child locator.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                         <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#childChanged(javax.swing.text.AsyncBoxView.ChildState)" class="member-name-link">childChanged</a><wbr>(<a href="asyncboxview.childstate.html" title="class in javax.swing.text">AsyncBoxView.ChildState</a> cs)</wbr></code></td>
<td> <div class="block">Notification that a child changed.</div> </td>
</tr>
<tr>
<td><code>protected <a href="../../../java/awt/shape.html" title="interface in java.awt">Shape</a></code></td>
<td><code><a href="#getChildAllocation(int)" class="member-name-link">getChildAllocation</a><wbr>(int index)</wbr></code></td>
<td> <div class="block">Fetch the allocation to use for a child view.</div> </td>
</tr>
<tr>
<td><code><a href="../../../java/awt/shape.html" title="interface in java.awt">Shape</a></code></td>
<td><code><a href="#getChildAllocation(int,java.awt.Shape)" class="member-name-link">getChildAllocation</a><wbr>(int index,
 <a href="../../../java/awt/shape.html" title="interface in java.awt">Shape</a> a)</wbr></code></td>
<td> <div class="block">Fetch the allocation to use for a child view.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#getViewIndexAtPoint(float,float,java.awt.Shape)" class="member-name-link">getViewIndexAtPoint</a><wbr>(float x,
 float y,
 <a href="../../../java/awt/shape.html" title="interface in java.awt">Shape</a> a)</wbr></code></td>
<td> <div class="block">Fetches the child view index at the given point.</div> </td>
</tr>
<tr>
<td><code>protected int</code></td>
<td><code><a href="#getViewIndexAtVisualOffset(float)" class="member-name-link">getViewIndexAtVisualOffset</a><wbr>(float targetOffset)</wbr></code></td>
<td> <div class="block">Locate the view responsible for an offset into the box along the major axis.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#paintChildren(java.awt.Graphics)" class="member-name-link">paintChildren</a><wbr>(<a href="../../../java/awt/graphics.html" title="class in java.awt">Graphics</a> g)</wbr></code></td>
<td> <div class="block">Paint the children that intersect the clip area.</div> </td>
</tr>
<tr>
<td><code>protected void</code></td>
<td><code><a href="#setAllocation(java.awt.Shape)" class="member-name-link">setAllocation</a><wbr>(<a href="../../../java/awt/shape.html" title="interface in java.awt">Shape</a> a)</wbr></code></td>
<td> <div class="block">Copy the currently allocated shape into the Rectangle used to store the current allocation.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../../java.base/java/lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../../../java.base/java/lang/object.html#clone()">clone</a>, <a href="../../../../java.base/java/lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../../../java.base/java/lang/object.html#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/object.html#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/object.html#hashCode()">hashCode</a>, <a href="../../../../java.base/java/lang/object.html#notify()">notify</a>, <a href="../../../../java.base/java/lang/object.html#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/object.html#toString()">toString</a>, <a href="../../../../java.base/java/lang/object.html#wait()">wait</a>, <a href="../../../../java.base/java/lang/object.html#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="field-details" id="field-detail"> <h2>Field Details</h2>  </section><section class="detail" id="lastValidOffset"> <h3>lastValidOffset</h3> <pre class="lang-java" data-language="java">protected AsyncBoxView.ChildState lastValidOffset</pre> <div class="block">The location of the last offset calculation that is valid.</div> </section><section class="detail" id="lastAlloc"> <h3>lastAlloc</h3> <pre class="lang-java" data-language="java">protected Rectangle lastAlloc</pre> <div class="block">The last seen allocation (for repainting when changes are flushed upward).</div> </section><section class="detail" id="childAlloc"> <h3>childAlloc</h3> <pre class="lang-java" data-language="java">protected Rectangle childAlloc</pre> <div class="block">A shape to use for the child allocation to avoid creating a lot of garbage.</div> </section><section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;()"> <h3>ChildLocator</h3> <pre class="lang-java" data-language="java">public ChildLocator()</pre> <div class="block">construct a child locator.</div> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="childChanged(javax.swing.text.AsyncBoxView.ChildState)"> <h3>childChanged</h3> <pre class="lang-java" data-language="java">public void childChanged(AsyncBoxView.ChildState cs)</pre> <div class="block">Notification that a child changed. This can effect whether or not new offset calculations are needed. This is called by a ChildState object that has changed it's major span. This can therefore be called by multiple threads.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>cs</code> - the child state</dd> </dl> </section><section class="detail" id="paintChildren(java.awt.Graphics)"> <h3>paintChildren</h3> <pre class="lang-java" data-language="java">public void paintChildren(Graphics g)</pre> <div class="block">Paint the children that intersect the clip area.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>g</code> - the rendering surface to use</dd> </dl> </section><section class="detail" id="getChildAllocation(int,java.awt.Shape)"> <h3>getChildAllocation</h3> <pre class="lang-java" data-language="java">public Shape getChildAllocation(int index, Shape a)</pre> <div class="block">Fetch the allocation to use for a child view. This will update the offsets for all children not yet updated before the given index.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>index</code> - the child index</dd> <dd>
<code>a</code> - the allocation</dd> <dt>Returns:</dt> <dd>the allocation to use for a child view</dd> </dl> </section><section class="detail" id="getViewIndexAtPoint(float,float,java.awt.Shape)"> <h3>getViewIndexAtPoint</h3> <pre class="lang-java" data-language="java">public int getViewIndexAtPoint(float x, float y, Shape a)</pre> <div class="block">Fetches the child view index at the given point. This is called by the various View methods that need to calculate which child to forward a message to. This should be called by a block synchronized on this object, and would typically be followed with one or more calls to getChildAllocation that should also be in the synchronized block.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>x</code> - the X coordinate &gt;= 0</dd> <dd>
<code>y</code> - the Y coordinate &gt;= 0</dd> <dd>
<code>a</code> - the allocation to the View</dd> <dt>Returns:</dt> <dd>the nearest child index</dd> </dl> </section><section class="detail" id="getChildAllocation(int)"> <h3>getChildAllocation</h3> <pre class="lang-java" data-language="java">protected Shape getChildAllocation(int index)</pre> <div class="block">Fetch the allocation to use for a child view. <em>This does not update the offsets in the ChildState records.</em>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>index</code> - the index</dd> <dt>Returns:</dt> <dd>the allocation to use for a child view</dd> </dl> </section><section class="detail" id="setAllocation(java.awt.Shape)"> <h3>setAllocation</h3> <pre class="lang-java" data-language="java">protected void setAllocation(Shape a)</pre> <div class="block">Copy the currently allocated shape into the Rectangle used to store the current allocation. This would be a floating point rectangle in a Java2D-specific implementation.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>a</code> - the allocation</dd> </dl> </section><section class="detail" id="getViewIndexAtVisualOffset(float)"> <h3>getViewIndexAtVisualOffset</h3> <pre class="lang-java" data-language="java">protected int getViewIndexAtVisualOffset(float targetOffset)</pre> <div class="block">Locate the view responsible for an offset into the box along the major axis. Make sure that offsets are set on the ChildState objects up to the given target span past the desired offset.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>targetOffset</code> - the target offset</dd> <dt>Returns:</dt> <dd>index of the view representing the given visual location (targetOffset), or -1 if no view represents that location</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/text/AsyncBoxView.ChildLocator.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/text/AsyncBoxView.ChildLocator.html</a>
  </p>
</div>
