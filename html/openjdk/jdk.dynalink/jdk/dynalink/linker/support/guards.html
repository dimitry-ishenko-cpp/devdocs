<h1 title="Class Guards" class="title">Class Guards</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../../../java.base/java/lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">jdk.dynalink.linker.support.Guards</div> </div> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public final class Guards extends Object</pre> <div class="block">Utility methods for creating typical guards for <a href="../../../../../java.base/java/lang/invoke/methodhandles.html#guardWithTest(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)"><code>MethodHandles.guardWithTest(MethodHandle, MethodHandle, MethodHandle)</code></a> and for adjusting their method types.</div> </section> <section class="summary"> <section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                                     <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#asType(java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)" class="member-name-link">asType</a><wbr>(<a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> test,
 <a href="../../../../../java.base/java/lang/invoke/methodtype.html" title="class in java.lang.invoke">MethodType</a> type)</wbr></code></td>
<td> <div class="block">Takes a method handle intended to be used as a guard, and adapts it to the requested type, but returning a boolean.</div> </td>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#asType(jdk.dynalink.linker.LinkerServices,java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)" class="member-name-link">asType</a><wbr>(<a href="../linkerservices.html" title="interface in jdk.dynalink.linker">LinkerServices</a> linkerServices,
 <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> test,
 <a href="../../../../../java.base/java/lang/invoke/methodtype.html" title="class in java.lang.invoke">MethodType</a> type)</wbr></code></td>
<td> <div class="block">Takes a method handle intended to be used as a guard, and adapts it to the requested type, but returning a boolean.</div> </td>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#getClassGuard(java.lang.Class)" class="member-name-link">getClassGuard</a><wbr>(<a href="../../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a>&lt;?&gt; clazz)</wbr></code></td>
<td> <div class="block">Creates a guard method that tests its only argument for being of an exact particular class.</div> </td>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#getIdentityGuard(java.lang.Object)" class="member-name-link">getIdentityGuard</a><wbr>(<a href="../../../../../java.base/java/lang/object.html" title="class in java.lang">Object</a> obj)</wbr></code></td>
<td> <div class="block">Creates a guard method that tests its only argument for being referentially identical to another object</div> </td>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#getInstanceOfGuard(java.lang.Class)" class="member-name-link">getInstanceOfGuard</a><wbr>(<a href="../../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a>&lt;?&gt; clazz)</wbr></code></td>
<td> <div class="block">Creates a guard method that tests its only argument for being an instance of a particular class.</div> </td>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#isArray(int,java.lang.invoke.MethodType)" class="member-name-link">isArray</a><wbr>(int pos,
 <a href="../../../../../java.base/java/lang/invoke/methodtype.html" title="class in java.lang.invoke">MethodType</a> type)</wbr></code></td>
<td> <div class="block">Creates a method handle that returns true if the argument in the specified position is a Java array.</div> </td>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#isInstance(java.lang.Class,int,java.lang.invoke.MethodType)" class="member-name-link">isInstance</a><wbr>(<a href="../../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a>&lt;?&gt; clazz,
 int pos,
 <a href="../../../../../java.base/java/lang/invoke/methodtype.html" title="class in java.lang.invoke">MethodType</a> type)</wbr></code></td>
<td> <div class="block">Creates a method handle with arguments of a specified type, but with boolean return value.</div> </td>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#isInstance(java.lang.Class,java.lang.invoke.MethodType)" class="member-name-link">isInstance</a><wbr>(<a href="../../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a>&lt;?&gt; clazz,
 <a href="../../../../../java.base/java/lang/invoke/methodtype.html" title="class in java.lang.invoke">MethodType</a> type)</wbr></code></td>
<td> <div class="block">Creates a method handle with arguments of a specified type, but with boolean return value.</div> </td>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#isNotNull()" class="member-name-link">isNotNull</a>()</code></td>
<td> <div class="block">Returns a guard that tests whether the first argument is not null.</div> </td>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#isNull()" class="member-name-link">isNull</a>()</code></td>
<td> <div class="block">Returns a guard that tests whether the first argument is null.</div> </td>
</tr>
<tr>
<td><code>static <a href="../../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#isOfClass(java.lang.Class,java.lang.invoke.MethodType)" class="member-name-link">isOfClass</a><wbr>(<a href="../../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a>&lt;?&gt; clazz,
 <a href="../../../../../java.base/java/lang/invoke/methodtype.html" title="class in java.lang.invoke">MethodType</a> type)</wbr></code></td>
<td> <div class="block">Creates a guard method handle with arguments of a specified type, but with boolean return value.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../../../java.base/java/lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../../../../java.base/java/lang/object.html#clone()">clone</a>, <a href="../../../../../java.base/java/lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../../../../java.base/java/lang/object.html#finalize()">finalize</a>, <a href="../../../../../java.base/java/lang/object.html#getClass()">getClass</a>, <a href="../../../../../java.base/java/lang/object.html#hashCode()">hashCode</a>, <a href="../../../../../java.base/java/lang/object.html#notify()">notify</a>, <a href="../../../../../java.base/java/lang/object.html#notifyAll()">notifyAll</a>, <a href="../../../../../java.base/java/lang/object.html#toString()">toString</a>, <a href="../../../../../java.base/java/lang/object.html#wait()">wait</a>, <a href="../../../../../java.base/java/lang/object.html#wait(long)">wait</a>, <a href="../../../../../java.base/java/lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="isOfClass(java.lang.Class,java.lang.invoke.MethodType)"> <h3>isOfClass</h3> <pre class="lang-java" data-language="java">public static MethodHandle isOfClass(Class&lt;?&gt; clazz, MethodType type)</pre> <div class="block">Creates a guard method handle with arguments of a specified type, but with boolean return value. When invoked, it returns true if the first argument is of the specified class (exactly of it, not a subclass). The rest of the arguments will be ignored.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>clazz</code> - the class of the first argument to test for</dd> <dd>
<code>type</code> - the method type</dd> <dt>Returns:</dt> <dd>a method handle testing whether its first argument is of the specified class.</dd> </dl> </section><section class="detail" id="isInstance(java.lang.Class,java.lang.invoke.MethodType)"> <h3>isInstance</h3> <pre class="lang-java" data-language="java">public static MethodHandle isInstance(Class&lt;?&gt; clazz, MethodType type)</pre> <div class="block">Creates a method handle with arguments of a specified type, but with boolean return value. When invoked, it returns true if the first argument is instance of the specified class or its subclass). The rest of the arguments will be ignored.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>clazz</code> - the class of the first argument to test for</dd> <dd>
<code>type</code> - the method type</dd> <dt>Returns:</dt> <dd>a method handle testing whether its first argument is of the specified class or subclass.</dd> </dl> </section><section class="detail" id="isInstance(java.lang.Class,int,java.lang.invoke.MethodType)"> <h3>isInstance</h3> <pre class="lang-java" data-language="java">public static MethodHandle isInstance(Class&lt;?&gt; clazz, int pos, MethodType type)</pre> <div class="block">Creates a method handle with arguments of a specified type, but with boolean return value. When invoked, it returns true if the n'th argument is instance of the specified class or its subclass). The rest of the arguments will be ignored.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>clazz</code> - the class of the first argument to test for</dd> <dd>
<code>pos</code> - the position on the argument list to test</dd> <dd>
<code>type</code> - the method type</dd> <dt>Returns:</dt> <dd>a method handle testing whether its first argument is of the specified class or subclass.</dd> </dl> </section><section class="detail" id="isArray(int,java.lang.invoke.MethodType)"> <h3>isArray</h3> <pre class="lang-java" data-language="java">public static MethodHandle isArray(int pos, MethodType type)</pre> <div class="block">Creates a method handle that returns true if the argument in the specified position is a Java array.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>pos</code> - the position in the argument lit</dd> <dd>
<code>type</code> - the method type of the handle</dd> <dt>Returns:</dt> <dd>a method handle that returns true if the argument in the specified position is a Java array; the rest of the arguments are ignored.</dd> </dl> </section><section class="detail" id="asType(java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)"> <h3>asType</h3> <pre class="lang-java" data-language="java">public static MethodHandle asType(MethodHandle test, MethodType type)</pre> <div class="block">Takes a method handle intended to be used as a guard, and adapts it to the requested type, but returning a boolean. Applies <a href="../../../../../java.base/java/lang/invoke/methodhandle.html#asType(java.lang.invoke.MethodType)"><code>MethodHandle.asType(MethodType)</code></a> to convert types and uses <a href="../../../../../java.base/java/lang/invoke/methodhandles.html#dropArguments(java.lang.invoke.MethodHandle,int,java.lang.Class...)"><code>MethodHandles.dropArguments(MethodHandle, int, Class...)</code></a> to match the requested type arity.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>test</code> - the test method handle</dd> <dd>
<code>type</code> - the type to adapt the method handle to</dd> <dt>Returns:</dt> <dd>the adapted method handle</dd> </dl> </section><section class="detail" id="asType(jdk.dynalink.linker.LinkerServices,java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)"> <h3>asType</h3> <pre class="lang-java" data-language="java">public static MethodHandle asType(LinkerServices linkerServices, MethodHandle test, MethodType type)</pre> <div class="block">Takes a method handle intended to be used as a guard, and adapts it to the requested type, but returning a boolean. Applies <a href="../linkerservices.html#asType(java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)"><code>LinkerServices.asType(MethodHandle, MethodType)</code></a> to convert types and uses <a href="../../../../../java.base/java/lang/invoke/methodhandles.html#dropArguments(java.lang.invoke.MethodHandle,int,java.lang.Class...)"><code>MethodHandles.dropArguments(MethodHandle, int, Class...)</code></a> to match the requested type arity.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>linkerServices</code> - the linker services to use for type conversions</dd> <dd>
<code>test</code> - the test method handle</dd> <dd>
<code>type</code> - the type to adapt the method handle to</dd> <dt>Returns:</dt> <dd>the adapted method handle</dd> </dl> </section><section class="detail" id="getClassGuard(java.lang.Class)"> <h3>getClassGuard</h3> <pre class="lang-java" data-language="java">public static MethodHandle getClassGuard(Class&lt;?&gt; clazz)</pre> <div class="block">Creates a guard method that tests its only argument for being of an exact particular class.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>clazz</code> - the class to test for.</dd> <dt>Returns:</dt> <dd>the desired guard method.</dd> </dl> </section><section class="detail" id="getInstanceOfGuard(java.lang.Class)"> <h3>getInstanceOfGuard</h3> <pre class="lang-java" data-language="java">public static MethodHandle getInstanceOfGuard(Class&lt;?&gt; clazz)</pre> <div class="block">Creates a guard method that tests its only argument for being an instance of a particular class.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>clazz</code> - the class to test for.</dd> <dt>Returns:</dt> <dd>the desired guard method.</dd> </dl> </section><section class="detail" id="getIdentityGuard(java.lang.Object)"> <h3>getIdentityGuard</h3> <pre class="lang-java" data-language="java">public static MethodHandle getIdentityGuard(Object obj)</pre> <div class="block">Creates a guard method that tests its only argument for being referentially identical to another object</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>obj</code> - the object used as referential identity test</dd> <dt>Returns:</dt> <dd>the desired guard method.</dd> </dl> </section><section class="detail" id="isNull()"> <h3>isNull</h3> <pre class="lang-java" data-language="java">public static MethodHandle isNull()</pre> <div class="block">Returns a guard that tests whether the first argument is null.</div> <dl class="notes"> <dt>Returns:</dt> <dd>a guard that tests whether the first argument is null.</dd> </dl> </section><section class="detail" id="isNotNull()"> <h3>isNotNull</h3> <pre class="lang-java" data-language="java">public static MethodHandle isNotNull()</pre> <div class="block">Returns a guard that tests whether the first argument is not null.</div> <dl class="notes"> <dt>Returns:</dt> <dd>a guard that tests whether the first argument is not null.</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/jdk.dynalink/jdk/dynalink/linker/support/Guards.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/jdk.dynalink/jdk/dynalink/linker/support/Guards.html</a>
  </p>
</div>
