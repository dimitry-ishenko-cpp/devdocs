<h1 title="Class GuardedInvocation" class="title">Class GuardedInvocation</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../../java.base/java/lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">jdk.dynalink.linker.GuardedInvocation</div> </div> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public class GuardedInvocation extends Object</pre> <div class="block">Represents a conditionally valid method handle. Usually produced as a return value of <a href="guardingdynamiclinker.html#getGuardedInvocation(jdk.dynalink.linker.LinkRequest,jdk.dynalink.linker.LinkerServices)"><code>GuardingDynamicLinker.getGuardedInvocation(LinkRequest, LinkerServices)</code></a> and <a href="guardingtypeconverterfactory.html#convertToType(java.lang.Class,java.lang.Class,java.util.function.Supplier)"><code>GuardingTypeConverterFactory.convertToType(Class, Class, Supplier)</code></a>. It is an immutable tuple of an invocation method handle, a guard method handle that defines the applicability of the invocation handle, zero or more switch points that can be used for external invalidation of the invocation handle, and an exception type that if thrown during an invocation of the method handle also invalidates it. The invocation handle is suitable for invocation if the guard handle returns true for its arguments, and as long as any of the switch points are not invalidated, and as long as it does not throw an exception of the designated type. The guard, the switch points, and the exception type are all optional (a guarded invocation having none of them is unconditionally valid).</div> </section> <section class="summary"> <section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table two-column-summary">               <tr>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(java.lang.invoke.MethodHandle)" class="member-name-link">GuardedInvocation</a><wbr>(<a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> invocation)</wbr></code></td>
<td> <div class="block">Creates a new unconditional guarded invocation.</div> </td>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)" class="member-name-link">GuardedInvocation</a><wbr>(<a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> invocation,
 <a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> guard)</wbr></code></td>
<td> <div class="block">Creates a new guarded invocation, with a guard method handle.</div> </td>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.SwitchPoint)" class="member-name-link">GuardedInvocation</a><wbr>(<a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> invocation,
 <a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> guard,
 <a href="../../../../java.base/java/lang/invoke/switchpoint.html" title="class in java.lang.invoke">SwitchPoint</a> switchPoint)</wbr></code></td>
<td> <div class="block">Creates a new guarded invocation, with both a guard method handle and a switch point that can be used to invalidate it.</div> </td>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.SwitchPoint%5B%5D,java.lang.Class)" class="member-name-link">GuardedInvocation</a><wbr>(<a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> invocation,
 <a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> guard,
 <a href="../../../../java.base/java/lang/invoke/switchpoint.html" title="class in java.lang.invoke">SwitchPoint</a>[] switchPoints,
 <a href="../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a>&lt;? extends <a href="../../../../java.base/java/lang/throwable.html" title="class in java.lang">Throwable</a>&gt; exception)</wbr></code></td>
<td> <div class="block">Creates a new guarded invocation, with a guard method handle, any number of switch points that can be used to invalidate it, and an exception that if thrown when invoked also invalidates it.</div> </td>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.SwitchPoint,java.lang.Class)" class="member-name-link">GuardedInvocation</a><wbr>(<a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> invocation,
 <a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> guard,
 <a href="../../../../java.base/java/lang/invoke/switchpoint.html" title="class in java.lang.invoke">SwitchPoint</a> switchPoint,
 <a href="../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a>&lt;? extends <a href="../../../../java.base/java/lang/throwable.html" title="class in java.lang">Throwable</a>&gt; exception)</wbr></code></td>
<td> <div class="block">Creates a new guarded invocation, with a guard method handle, a switch point that can be used to invalidate it, and an exception that if thrown when invoked also invalidates it.</div> </td>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(java.lang.invoke.MethodHandle,java.lang.invoke.SwitchPoint)" class="member-name-link">GuardedInvocation</a><wbr>(<a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> invocation,
 <a href="../../../../java.base/java/lang/invoke/switchpoint.html" title="class in java.lang.invoke">SwitchPoint</a> switchPoint)</wbr></code></td>
<td> <div class="block">Creates a new guarded invocation that can be invalidated by a switch point.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                                                    <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="guardedinvocation.html" title="class in jdk.dynalink.linker">GuardedInvocation</a></code></td>
<td><code><a href="#addSwitchPoint(java.lang.invoke.SwitchPoint)" class="member-name-link">addSwitchPoint</a><wbr>(<a href="../../../../java.base/java/lang/invoke/switchpoint.html" title="class in java.lang.invoke">SwitchPoint</a> newSwitchPoint)</wbr></code></td>
<td> <div class="block">Create a new guarded invocation with an added switch point.</div> </td>
</tr>
<tr>
<td><code><a href="guardedinvocation.html" title="class in jdk.dynalink.linker">GuardedInvocation</a></code></td>
<td><code><a href="#asType(java.lang.invoke.MethodType)" class="member-name-link">asType</a><wbr>(<a href="../../../../java.base/java/lang/invoke/methodtype.html" title="class in java.lang.invoke">MethodType</a> newType)</wbr></code></td>
<td> <div class="block">Changes the type of the invocation, as if <a href="../../../../java.base/java/lang/invoke/methodhandle.html#asType(java.lang.invoke.MethodType)"><code>MethodHandle.asType(MethodType)</code></a> was applied to its invocation and its guard, if it has one (with return type changed to boolean, and parameter count potentially truncated for the guard).</div> </td>
</tr>
<tr>
<td><code><a href="guardedinvocation.html" title="class in jdk.dynalink.linker">GuardedInvocation</a></code></td>
<td><code><a href="#asType(jdk.dynalink.CallSiteDescriptor)" class="member-name-link">asType</a><wbr>(<a href="../callsitedescriptor.html" title="class in jdk.dynalink">CallSiteDescriptor</a> desc)</wbr></code></td>
<td> <div class="block">Changes the type of the invocation, as if <a href="../../../../java.base/java/lang/invoke/methodhandle.html#asType(java.lang.invoke.MethodType)"><code>MethodHandle.asType(MethodType)</code></a> was applied to its invocation and its guard, if it has one (with return type changed to boolean for guard).</div> </td>
</tr>
<tr>
<td><code><a href="guardedinvocation.html" title="class in jdk.dynalink.linker">GuardedInvocation</a></code></td>
<td><code><a href="#asType(jdk.dynalink.linker.LinkerServices,java.lang.invoke.MethodType)" class="member-name-link">asType</a><wbr>(<a href="linkerservices.html" title="interface in jdk.dynalink.linker">LinkerServices</a> linkerServices,
 <a href="../../../../java.base/java/lang/invoke/methodtype.html" title="class in java.lang.invoke">MethodType</a> newType)</wbr></code></td>
<td> <div class="block">Changes the type of the invocation, as if <a href="linkerservices.html#asType(java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)"><code>LinkerServices.asType(MethodHandle, MethodType)</code></a> was applied to its invocation and its guard, if it has one (with return type changed to boolean, and parameter count potentially truncated for the guard).</div> </td>
</tr>
<tr>
<td><code><a href="guardedinvocation.html" title="class in jdk.dynalink.linker">GuardedInvocation</a></code></td>
<td><code><a href="#asTypeSafeReturn(jdk.dynalink.linker.LinkerServices,java.lang.invoke.MethodType)" class="member-name-link">asTypeSafeReturn</a><wbr>(<a href="linkerservices.html" title="interface in jdk.dynalink.linker">LinkerServices</a> linkerServices,
 <a href="../../../../java.base/java/lang/invoke/methodtype.html" title="class in java.lang.invoke">MethodType</a> newType)</wbr></code></td>
<td> <div class="block">Changes the type of the invocation, as if <a href="linkerservices.html#asTypeLosslessReturn(java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)"><code>LinkerServices.asTypeLosslessReturn(MethodHandle, MethodType)</code></a> was applied to its invocation and <a href="linkerservices.html#asType(java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)"><code>LinkerServices.asType(MethodHandle, MethodType)</code></a> applied to its guard, if it has one (with return type changed to boolean, and parameter count potentially truncated for the guard).</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#compose(java.lang.invoke.MethodHandle)" class="member-name-link">compose</a><wbr>(<a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> fallback)</wbr></code></td>
<td> <div class="block">Composes the invocation, guard, switch points, and the exception into a composite method handle that knows how to fall back when the guard fails or the invocation is invalidated.</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#compose(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)" class="member-name-link">compose</a><wbr>(<a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> guardFallback,
 <a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> switchpointFallback,
 <a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> catchFallback)</wbr></code></td>
<td> <div class="block">Composes the invocation, guard, switch points, and the exception into a composite method handle that knows how to fall back when the guard fails or the invocation is invalidated.</div> </td>
</tr>
<tr>
<td><code><a href="guardedinvocation.html" title="class in jdk.dynalink.linker">GuardedInvocation</a></code></td>
<td><code><a href="#dropArguments(int,java.lang.Class...)" class="member-name-link">dropArguments</a><wbr>(int pos,
 <a href="../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a>&lt;?&gt;... valueTypes)</wbr></code></td>
<td> <div class="block">Makes an invocation that drops arguments in both the invocation and the guard (if it exists and has at least <code>pos</code> parameters) with <a href="../../../../java.base/java/lang/invoke/methodhandles.html#dropArguments(java.lang.invoke.MethodHandle,int,java.lang.Class...)"><code>MethodHandles.dropArguments(MethodHandle, int, Class...)</code></a>.</div> </td>
</tr>
<tr>
<td><code><a href="guardedinvocation.html" title="class in jdk.dynalink.linker">GuardedInvocation</a></code></td>
<td><code><a href="#dropArguments(int,java.util.List)" class="member-name-link">dropArguments</a><wbr>(int pos,
 <a href="../../../../java.base/java/util/list.html" title="interface in java.util">List</a>&lt;<a href="../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a>&lt;?&gt;&gt; valueTypes)</wbr></code></td>
<td> <div class="block">Makes an invocation that drops arguments in both the invocation and the guard (if it exists and has at least <code>pos</code> parameters) with <a href="../../../../java.base/java/lang/invoke/methodhandles.html#dropArguments(java.lang.invoke.MethodHandle,int,java.util.List)"><code>MethodHandles.dropArguments(MethodHandle, int, List)</code></a>.</div> </td>
</tr>
<tr>
<td><code><a href="guardedinvocation.html" title="class in jdk.dynalink.linker">GuardedInvocation</a></code></td>
<td><code><a href="#filterArguments(int,java.lang.invoke.MethodHandle...)" class="member-name-link">filterArguments</a><wbr>(int pos,
 <a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a>... filters)</wbr></code></td>
<td> <div class="block">Applies argument filters to both the invocation and the guard (if it exists and has at least <code>pos + 1</code> parameters) with <a href="../../../../java.base/java/lang/invoke/methodhandles.html#filterArguments(java.lang.invoke.MethodHandle,int,java.lang.invoke.MethodHandle...)"><code>MethodHandles.filterArguments(MethodHandle, int, MethodHandle...)</code></a>.</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/lang/class.html" title="class in java.lang">Class</a><wbr>&lt;? extends <a href="../../../../java.base/java/lang/throwable.html" title="class in java.lang">Throwable</a>&gt;</wbr></code></td>
<td><code><a href="#getException()" class="member-name-link">getException</a>()</code></td>
<td> <div class="block">Returns the exception type that if thrown by the invocation should invalidate the linkage of this guarded invocation.</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#getGuard()" class="member-name-link">getGuard</a>()</code></td>
<td> <div class="block">Returns the guard method handle.</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#getInvocation()" class="member-name-link">getInvocation</a>()</code></td>
<td> <div class="block">Returns the invocation method handle.</div> </td>
</tr>
<tr>
<td><code><a href="../../../../java.base/java/lang/invoke/switchpoint.html" title="class in java.lang.invoke">SwitchPoint</a>[]</code></td>
<td><code><a href="#getSwitchPoints()" class="member-name-link">getSwitchPoints</a>()</code></td>
<td> <div class="block">Returns the switch points that can be used to invalidate the linkage of this invocation handle.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#hasBeenInvalidated()" class="member-name-link">hasBeenInvalidated</a>()</code></td>
<td> <div class="block">Returns true if and only if this guarded invocation has at least one invalidated switch point.</div> </td>
</tr>
<tr>
<td><code><a href="guardedinvocation.html" title="class in jdk.dynalink.linker">GuardedInvocation</a></code></td>
<td><code><a href="#replaceMethods(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)" class="member-name-link">replaceMethods</a><wbr>(<a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> newInvocation,
 <a href="../../../../java.base/java/lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a> newGuard)</wbr></code></td>
<td> <div class="block">Creates a new guarded invocation with different methods, preserving the switch point.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../../java.base/java/lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../../../java.base/java/lang/object.html#clone()">clone</a>, <a href="../../../../java.base/java/lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../../../java.base/java/lang/object.html#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/object.html#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/object.html#hashCode()">hashCode</a>, <a href="../../../../java.base/java/lang/object.html#notify()">notify</a>, <a href="../../../../java.base/java/lang/object.html#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/object.html#toString()">toString</a>, <a href="../../../../java.base/java/lang/object.html#wait()">wait</a>, <a href="../../../../java.base/java/lang/object.html#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;(java.lang.invoke.MethodHandle)"> <h3>GuardedInvocation</h3> <pre class="lang-java" data-language="java">public GuardedInvocation(MethodHandle invocation)</pre> <div class="block">Creates a new unconditional guarded invocation. It is unconditional as it has no invalidations.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>invocation</code> - the method handle representing the invocation. Must not be null.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if invocation is null.</dd> </dl> </section><section class="detail" id="&lt;init&gt;(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)"> <h3>GuardedInvocation</h3> <pre class="lang-java" data-language="java">public GuardedInvocation(MethodHandle invocation, MethodHandle guard)</pre> <div class="block">Creates a new guarded invocation, with a guard method handle.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>invocation</code> - the method handle representing the invocation. Must not be null.</dd> <dd>
<code>guard</code> - the method handle representing the guard. Must have be compatible with the <code>invocation</code> handle as per <a href="../../../../java.base/java/lang/invoke/methodhandles.html#guardWithTest(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)"><code>MethodHandles.guardWithTest(MethodHandle, MethodHandle, MethodHandle)</code></a>. For some useful guards, check out the <a href="support/guards.html" title="class in jdk.dynalink.linker.support"><code>Guards</code></a> class. It can be null to represent an unconditional invocation.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if invocation is null.</dd> </dl> </section><section class="detail" id="&lt;init&gt;(java.lang.invoke.MethodHandle,java.lang.invoke.SwitchPoint)"> <h3>GuardedInvocation</h3> <pre class="lang-java" data-language="java">public GuardedInvocation(MethodHandle invocation, SwitchPoint switchPoint)</pre> <div class="block">Creates a new guarded invocation that can be invalidated by a switch point.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>invocation</code> - the method handle representing the invocation. Must not be null.</dd> <dd>
<code>switchPoint</code> - the optional switch point that can be used to invalidate this linkage. It can be null. If it is null, this represents an unconditional invocation.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if invocation is null.</dd> </dl> </section><section class="detail" id="&lt;init&gt;(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.SwitchPoint)"> <h3>GuardedInvocation</h3> <pre class="lang-java" data-language="java">public GuardedInvocation(MethodHandle invocation, MethodHandle guard, SwitchPoint switchPoint)</pre> <div class="block">Creates a new guarded invocation, with both a guard method handle and a switch point that can be used to invalidate it.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>invocation</code> - the method handle representing the invocation. Must not be null.</dd> <dd>
<code>guard</code> - the method handle representing the guard. Must have be compatible with the <code>invocation</code> handle as per <a href="../../../../java.base/java/lang/invoke/methodhandles.html#guardWithTest(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)"><code>MethodHandles.guardWithTest(MethodHandle, MethodHandle, MethodHandle)</code></a>. For some useful guards, check out the <a href="support/guards.html" title="class in jdk.dynalink.linker.support"><code>Guards</code></a> class. It can be null. If both it and the switch point are null, this represents an unconditional invocation.</dd> <dd>
<code>switchPoint</code> - the optional switch point that can be used to invalidate this linkage.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if invocation is null.</dd> </dl> </section><section class="detail" id="&lt;init&gt;(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.SwitchPoint,java.lang.Class)"> <h3>GuardedInvocation</h3> <pre class="lang-java" data-language="java">public GuardedInvocation(MethodHandle invocation, MethodHandle guard, SwitchPoint switchPoint, Class&lt;? extends Throwable&gt; exception)</pre> <div class="block">Creates a new guarded invocation, with a guard method handle, a switch point that can be used to invalidate it, and an exception that if thrown when invoked also invalidates it.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>invocation</code> - the method handle representing the invocation. Must not be null.</dd> <dd>
<code>guard</code> - the method handle representing the guard. Must have be compatible with the <code>invocation</code> handle as per <a href="../../../../java.base/java/lang/invoke/methodhandles.html#guardWithTest(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)"><code>MethodHandles.guardWithTest(MethodHandle, MethodHandle, MethodHandle)</code></a>. For some useful guards, check out the <a href="support/guards.html" title="class in jdk.dynalink.linker.support"><code>Guards</code></a> class. It can be null. If it and the switch point and the exception are all null, this represents an unconditional invocation.</dd> <dd>
<code>switchPoint</code> - the optional switch point that can be used to invalidate this linkage.</dd> <dd>
<code>exception</code> - the optional exception type that is when thrown by the invocation also invalidates it.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if invocation is null.</dd> </dl> </section><section class="detail" id="&lt;init&gt;(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.SwitchPoint[],java.lang.Class)"> <h3>GuardedInvocation</h3> <pre class="lang-java" data-language="java">public GuardedInvocation(MethodHandle invocation, MethodHandle guard, SwitchPoint[] switchPoints, Class&lt;? extends Throwable&gt; exception)</pre> <div class="block">Creates a new guarded invocation, with a guard method handle, any number of switch points that can be used to invalidate it, and an exception that if thrown when invoked also invalidates it.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>invocation</code> - the method handle representing the invocation. Must not be null.</dd> <dd>
<code>guard</code> - the method handle representing the guard. Must have be compatible with the <code>invocation</code> handle as per <a href="../../../../java.base/java/lang/invoke/methodhandles.html#guardWithTest(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)"><code>MethodHandles.guardWithTest(MethodHandle, MethodHandle, MethodHandle)</code></a>. For some useful guards, check out the <a href="support/guards.html" title="class in jdk.dynalink.linker.support"><code>Guards</code></a> class. It can be null. If it and the exception are both null, and no switch points were specified, this represents an unconditional invocation.</dd> <dd>
<code>switchPoints</code> - optional switch points that can be used to invalidate this linkage.</dd> <dd>
<code>exception</code> - the optional exception type that is when thrown by the invocation also invalidates it.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../../java.base/java/lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if invocation is null.</dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="getInvocation()"> <h3>getInvocation</h3> <pre class="lang-java" data-language="java">public MethodHandle getInvocation()</pre> <div class="block">Returns the invocation method handle.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the invocation method handle. It will never be null.</dd> </dl> </section><section class="detail" id="getGuard()"> <h3>getGuard</h3> <pre class="lang-java" data-language="java">public MethodHandle getGuard()</pre> <div class="block">Returns the guard method handle.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the guard method handle. Can be null.</dd> </dl> </section><section class="detail" id="getSwitchPoints()"> <h3>getSwitchPoints</h3> <pre class="lang-java" data-language="java">public SwitchPoint[] getSwitchPoints()</pre> <div class="block">Returns the switch points that can be used to invalidate the linkage of this invocation handle.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the switch points that can be used to invalidate the linkage of this invocation handle. Can be null.</dd> </dl> </section><section class="detail" id="getException()"> <h3>getException</h3> <pre class="lang-java" data-language="java">public Class&lt;? extends Throwable&gt; getException()</pre> <div class="block">Returns the exception type that if thrown by the invocation should invalidate the linkage of this guarded invocation.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the exception type that if thrown should be used to invalidate the linkage. Can be null.</dd> </dl> </section><section class="detail" id="hasBeenInvalidated()"> <h3>hasBeenInvalidated</h3> <pre class="lang-java" data-language="java">public boolean hasBeenInvalidated()</pre> <div class="block">Returns true if and only if this guarded invocation has at least one invalidated switch point.</div> <dl class="notes"> <dt>Returns:</dt> <dd>true if and only if this guarded invocation has at least one invalidated switch point.</dd> </dl> </section><section class="detail" id="replaceMethods(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)"> <h3>replaceMethods</h3> <pre class="lang-java" data-language="java">public GuardedInvocation replaceMethods(MethodHandle newInvocation, MethodHandle newGuard)</pre> <div class="block">Creates a new guarded invocation with different methods, preserving the switch point.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newInvocation</code> - the new invocation</dd> <dd>
<code>newGuard</code> - the new guard</dd> <dt>Returns:</dt> <dd>a new guarded invocation with the replaced methods and the same switch point as this invocation.</dd> </dl> </section><section class="detail" id="addSwitchPoint(java.lang.invoke.SwitchPoint)"> <h3>addSwitchPoint</h3> <pre class="lang-java" data-language="java">public GuardedInvocation addSwitchPoint(SwitchPoint newSwitchPoint)</pre> <div class="block">Create a new guarded invocation with an added switch point.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newSwitchPoint</code> - new switch point. Can be null in which case this method return the current guarded invocation with no changes.</dd> <dt>Returns:</dt> <dd>a guarded invocation with the added switch point.</dd> </dl> </section><section class="detail" id="asType(java.lang.invoke.MethodType)"> <h3>asType</h3> <pre class="lang-java" data-language="java">public GuardedInvocation asType(MethodType newType)</pre> <div class="block">Changes the type of the invocation, as if <a href="../../../../java.base/java/lang/invoke/methodhandle.html#asType(java.lang.invoke.MethodType)"><code>MethodHandle.asType(MethodType)</code></a> was applied to its invocation and its guard, if it has one (with return type changed to boolean, and parameter count potentially truncated for the guard). If the invocation already is of the required type, returns this object.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newType</code> - the new type of the invocation.</dd> <dt>Returns:</dt> <dd>a guarded invocation with the new type applied to it.</dd> </dl> </section><section class="detail" id="asType(jdk.dynalink.linker.LinkerServices,java.lang.invoke.MethodType)"> <h3>asType</h3> <pre class="lang-java" data-language="java">public GuardedInvocation asType(LinkerServices linkerServices, MethodType newType)</pre> <div class="block">Changes the type of the invocation, as if <a href="linkerservices.html#asType(java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)"><code>LinkerServices.asType(MethodHandle, MethodType)</code></a> was applied to its invocation and its guard, if it has one (with return type changed to boolean, and parameter count potentially truncated for the guard). If the invocation already is of the required type, returns this object.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>linkerServices</code> - the linker services to use for the conversion</dd> <dd>
<code>newType</code> - the new type of the invocation.</dd> <dt>Returns:</dt> <dd>a guarded invocation with the new type applied to it.</dd> </dl> </section><section class="detail" id="asTypeSafeReturn(jdk.dynalink.linker.LinkerServices,java.lang.invoke.MethodType)"> <h3>asTypeSafeReturn</h3> <pre class="lang-java" data-language="java">public GuardedInvocation asTypeSafeReturn(LinkerServices linkerServices, MethodType newType)</pre> <div class="block">Changes the type of the invocation, as if <a href="linkerservices.html#asTypeLosslessReturn(java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)"><code>LinkerServices.asTypeLosslessReturn(MethodHandle, MethodType)</code></a> was applied to its invocation and <a href="linkerservices.html#asType(java.lang.invoke.MethodHandle,java.lang.invoke.MethodType)"><code>LinkerServices.asType(MethodHandle, MethodType)</code></a> applied to its guard, if it has one (with return type changed to boolean, and parameter count potentially truncated for the guard). If the invocation doesn't change its type, returns this object.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>linkerServices</code> - the linker services to use for the conversion</dd> <dd>
<code>newType</code> - the new type of the invocation.</dd> <dt>Returns:</dt> <dd>a guarded invocation with the new type applied to it.</dd> </dl> </section><section class="detail" id="asType(jdk.dynalink.CallSiteDescriptor)"> <h3>asType</h3> <pre class="lang-java" data-language="java">public GuardedInvocation asType(CallSiteDescriptor desc)</pre> <div class="block">Changes the type of the invocation, as if <a href="../../../../java.base/java/lang/invoke/methodhandle.html#asType(java.lang.invoke.MethodType)"><code>MethodHandle.asType(MethodType)</code></a> was applied to its invocation and its guard, if it has one (with return type changed to boolean for guard). If the invocation already is of the required type, returns this object.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>desc</code> - a call descriptor whose method type is adapted.</dd> <dt>Returns:</dt> <dd>a guarded invocation with the new type applied to it.</dd> </dl> </section><section class="detail" id="filterArguments(int,java.lang.invoke.MethodHandle...)"> <h3>filterArguments</h3> <pre class="lang-java" data-language="java">public GuardedInvocation filterArguments(int pos, MethodHandle... filters)</pre> <div class="block">Applies argument filters to both the invocation and the guard (if it exists and has at least <code>pos + 1</code> parameters) with <a href="../../../../java.base/java/lang/invoke/methodhandles.html#filterArguments(java.lang.invoke.MethodHandle,int,java.lang.invoke.MethodHandle...)"><code>MethodHandles.filterArguments(MethodHandle, int, MethodHandle...)</code></a>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>pos</code> - the position of the first argument being filtered</dd> <dd>
<code>filters</code> - the argument filters</dd> <dt>Returns:</dt> <dd>a filtered invocation</dd> </dl> </section><section class="detail" id="dropArguments(int,java.util.List)"> <h3>dropArguments</h3> <pre class="lang-java" data-language="java">public GuardedInvocation dropArguments(int pos, List&lt;Class&lt;?&gt;&gt; valueTypes)</pre> <div class="block">Makes an invocation that drops arguments in both the invocation and the guard (if it exists and has at least <code>pos</code> parameters) with <a href="../../../../java.base/java/lang/invoke/methodhandles.html#dropArguments(java.lang.invoke.MethodHandle,int,java.util.List)"><code>MethodHandles.dropArguments(MethodHandle, int, List)</code></a>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>pos</code> - the position of the first argument being dropped</dd> <dd>
<code>valueTypes</code> - the types of the values being dropped</dd> <dt>Returns:</dt> <dd>an invocation that drops arguments</dd> </dl> </section><section class="detail" id="dropArguments(int,java.lang.Class...)"> <h3>dropArguments</h3> <pre class="lang-java" data-language="java">public GuardedInvocation dropArguments(int pos, Class&lt;?&gt;... valueTypes)</pre> <div class="block">Makes an invocation that drops arguments in both the invocation and the guard (if it exists and has at least <code>pos</code> parameters) with <a href="../../../../java.base/java/lang/invoke/methodhandles.html#dropArguments(java.lang.invoke.MethodHandle,int,java.lang.Class...)"><code>MethodHandles.dropArguments(MethodHandle, int, Class...)</code></a>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>pos</code> - the position of the first argument being dropped</dd> <dd>
<code>valueTypes</code> - the types of the values being dropped</dd> <dt>Returns:</dt> <dd>an invocation that drops arguments</dd> </dl> </section><section class="detail" id="compose(java.lang.invoke.MethodHandle)"> <h3>compose</h3> <pre class="lang-java" data-language="java">public MethodHandle compose(MethodHandle fallback)</pre> <div class="block">Composes the invocation, guard, switch points, and the exception into a composite method handle that knows how to fall back when the guard fails or the invocation is invalidated.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>fallback</code> - the fallback method handle for when a switch point is invalidated, a guard returns false, or invalidating exception is thrown.</dd> <dt>Returns:</dt> <dd>a composite method handle.</dd> </dl> </section><section class="detail" id="compose(java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle,java.lang.invoke.MethodHandle)"> <h3>compose</h3> <pre class="lang-java" data-language="java">public MethodHandle compose(MethodHandle guardFallback, MethodHandle switchpointFallback, MethodHandle catchFallback)</pre> <div class="block">Composes the invocation, guard, switch points, and the exception into a composite method handle that knows how to fall back when the guard fails or the invocation is invalidated.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>guardFallback</code> - the fallback method handle in case guard returns false.</dd> <dd>
<code>switchpointFallback</code> - the fallback method handle in case a switch point is invalidated.</dd> <dd>
<code>catchFallback</code> - the fallback method in case the exception handler triggers.</dd> <dt>Returns:</dt> <dd>a composite method handle.</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/jdk.dynalink/jdk/dynalink/linker/GuardedInvocation.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/jdk.dynalink/jdk/dynalink/linker/GuardedInvocation.html</a>
  </p>
</div>
