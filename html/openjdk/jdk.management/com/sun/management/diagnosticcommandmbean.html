<h1 title="Interface DiagnosticCommandMBean" class="title">Interface DiagnosticCommandMBean</h1> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Superinterfaces:</dt> <dd><code><a href="../../../../java.management/javax/management/dynamicmbean.html" title="interface in javax.management">DynamicMBean</a></code></dd> </dl>  <pre class="lang-java" data-language="java">public interface DiagnosticCommandMBean extends DynamicMBean</pre> <div class="block">Management interface for the diagnostic commands for the HotSpot Virtual Machine. <p>The <code>DiagnosticCommandMBean</code> is registered to the <a href="../../../../java.management/java/lang/management/managementfactory.html#getPlatformMBeanServer()">platform MBeanServer</a> as are other platform MBeans. </p>
<p>The <a href="../../../../java.management/javax/management/objectname.html" title="class in javax.management"><code>ObjectName</code></a> for uniquely identifying the diagnostic MBean within an MBeanServer is: </p>
<blockquote> <code>com.sun.management:type=DiagnosticCommand</code> </blockquote> <p>This MBean is a <a href="../../../../java.management/javax/management/dynamicmbean.html" title="interface in javax.management"><code>DynamicMBean</code></a> and also a <a href="../../../../java.management/javax/management/notificationemitter.html" title="interface in javax.management"><code>NotificationEmitter</code></a>. The <code>DiagnosticCommandMBean</code> is generated at runtime and is subject to modifications during the lifetime of the Java virtual machine. A <em>diagnostic command</em> is represented as an operation of the <code>DiagnosticCommandMBean</code> interface. Each diagnostic command has: </p>
<ul> <li>the diagnostic command name which is the name being referenced in the HotSpot Virtual Machine</li> <li>the MBean operation name which is the <a href="../../../../java.management/javax/management/mbeanfeatureinfo.html#getName()">name</a> generated for the diagnostic command operation invocation. The MBean operation name is implementation dependent</li> </ul> The recommended way to transform a diagnostic command name into a MBean operation name is as follows: <ul> <li>All characters from the first one to the first dot are set to be lower-case characters</li> <li>Every dot or underline character is removed and the following character is set to be an upper-case character</li> <li>All other characters are copied without modification</li> </ul> <p>The diagnostic command name is always provided with the meta-data on the operation in a field named <code>dcmd.name</code> (see below). </p>
<p>A diagnostic command may or may not support options or arguments. All the operations return <code>String</code> and either take no parameter for operations that do not support any option or argument, or take a <code>String[]</code> parameter for operations that support at least one option or argument. Each option or argument must be stored in a single String. Options or arguments split across several String instances are not supported. </p>
<p>The distinction between options and arguments: options are identified by the option name while arguments are identified by their position in the command line. Options and arguments are processed in the order of the array passed to the invocation method. </p>
<p>Like any operation of a dynamic MBean, each of these operations is described by <a href="../../../../java.management/javax/management/mbeanoperationinfo.html" title="class in javax.management"><code>MBeanOperationInfo</code></a> instance. Here's the values returned by this object: </p>
<ul> <li>
<a href="../../../../java.management/javax/management/mbeanfeatureinfo.html#getName()"><code>getName()</code></a> returns the operation name generated from the diagnostic command name</li> <li>
<a href="../../../../java.management/javax/management/mbeanfeatureinfo.html#getDescription()"><code>getDescription()</code></a> returns the diagnostic command description (the same as the one return in the 'help' command)</li> <li>
<a href="../../../../java.management/javax/management/mbeanoperationinfo.html#getImpact()"><code>getImpact()</code></a> returns <code>ACTION_INFO</code>
</li> <li>
<a href="../../../../java.management/javax/management/mbeanoperationinfo.html#getReturnType()"><code>getReturnType()</code></a> returns <code>java.lang.String</code>
</li> <li>
<a href="../../../../java.management/javax/management/mbeanfeatureinfo.html#getDescriptor()"><code>getDescriptor()</code></a> returns a Descriptor instance (see below)</li> </ul> <p>The <a href="../../../../java.management/javax/management/descriptor.html" title="interface in javax.management"><code>Descriptor</code></a> is a collection of fields containing additional meta-data for a JMX element. A field is a name and an associated value. The additional meta-data provided for an operation associated with a diagnostic command are described in the table below: </p>
<table class="striped">
<caption style="display:none">description</caption> <thead> <tr> <th scope="col">Name</th>
<th scope="col">Type</th>
<th scope="col">Description</th> </tr> </thead> <tbody> <tr> <th scope="row">dcmd.name</th>
<td>String</td> <td>The original diagnostic command name (not the operation name)</td> </tr> <tr> <th scope="row">dcmd.description</th>
<td>String</td> <td>The diagnostic command description</td> </tr> <tr> <th scope="row">dcmd.help</th>
<td>String</td> <td>The full help message for this diagnostic command (same output as the one produced by the 'help' command)</td> </tr> <tr> <th scope="row">dcmd.vmImpact</th>
<td>String</td> <td>The impact of the diagnostic command, this value is the same as the one printed in the 'impact' section of the help message of the diagnostic command, and it is different from the getImpact() of the MBeanOperationInfo</td> </tr> <tr> <th scope="row">dcmd.enabled</th>
<td>boolean</td> <td>True if the diagnostic command is enabled, false otherwise</td> </tr> <tr> <th scope="row">dcmd.permissionClass</th>
<td>String</td> <td>Some diagnostic command might require a specific permission to be executed, in addition to the MBeanPermission to invoke their associated MBean operation. This field returns the fully qualified name of the permission class or null if no permission is required </td> </tr> <tr> <th scope="row">dcmd.permissionName</th>
<td>String</td> <td>The fist argument of the permission required to execute this diagnostic command or null if no permission is required</td> </tr> <tr> <th scope="row">dcmd.permissionAction</th>
<td>String</td> <td>The second argument of the permission required to execute this diagnostic command or null if the permission constructor has only one argument (like the ManagementPermission) or if no permission is required</td> </tr> <tr> <th scope="row">dcmd.arguments</th>
<td>Descriptor</td> <td>A Descriptor instance containing the descriptions of options and arguments supported by the diagnostic command (see below)</td> </tr> </tbody> </table> <p>The description of parameters (options or arguments) of a diagnostic command is provided within a Descriptor instance. In this Descriptor, each field name is a parameter name, and each field value is itself a Descriptor instance. The fields provided in this second Descriptor instance are described in the table below: </p>
<table class="striped">
<caption style="display:none">description</caption> <thead> <tr> <th scope="col">Name</th>
<th scope="col">Type</th>
<th scope="col">Description</th> </tr> </thead> <tbody> <tr> <th scope="row">dcmd.arg.name</th>
<td>String</td> <td>The name of the parameter</td> </tr> <tr> <th scope="row">dcmd.arg.type</th>
<td>String</td> <td>The type of the parameter. The returned String is the name of a type recognized by the diagnostic command parser. These types are not Java types and are implementation dependent. </td> </tr> <tr> <th scope="row">dcmd.arg.description</th>
<td>String</td> <td>The parameter description</td> </tr> <tr> <th scope="row">dcmd.arg.isMandatory</th>
<td>boolean</td> <td>True if the parameter is mandatory, false otherwise</td> </tr> <tr> <th scope="row">dcmd.arg.isOption</th>
<td>boolean</td> <td>True if the parameter is an option, false if it is an argument</td> </tr> <tr> <th scope="row">dcmd.arg.isMultiple</th>
<td>boolean</td> <td>True if the parameter can be specified several times, false otherwise</td> </tr> </tbody> </table> <p>When the set of diagnostic commands currently supported by the Java Virtual Machine is modified, the <code>DiagnosticCommandMBean</code> emits a <a href="../../../../java.management/javax/management/notification.html" title="class in javax.management"><code>Notification</code></a> with a <a href="../../../../java.management/javax/management/notification.html#getType()">type</a> of <a href="../../../../java.management/javax/management/mbeaninfo.html#info-changed"> <code>"jmx.mbean.info.changed"</code></a> and a <a href="../../../../java.management/javax/management/notification.html#getUserData()">userData</a> that is the new <code>MBeanInfo</code>.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.8</dd> </dl> </section> <section class="summary"> <section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div class="inherited-list"> <h3 id="methods-inherited-from-class-javax.management.DynamicMBean">Methods declared in interface javax.management.<a href="../../../../java.management/javax/management/dynamicmbean.html" title="interface in javax.management">DynamicMBean</a>
</h3> <code><a href="../../../../java.management/javax/management/dynamicmbean.html#getAttribute(java.lang.String)">getAttribute</a>, <a href="../../../../java.management/javax/management/dynamicmbean.html#getAttributes(java.lang.String%5B%5D)">getAttributes</a>, <a href="../../../../java.management/javax/management/dynamicmbean.html#getMBeanInfo()">getMBeanInfo</a>, <a href="../../../../java.management/javax/management/dynamicmbean.html#invoke(java.lang.String,java.lang.Object%5B%5D,java.lang.String%5B%5D)">invoke</a>, <a href="../../../../java.management/javax/management/dynamicmbean.html#setAttribute(javax.management.Attribute)">setAttribute</a>, <a href="../../../../java.management/javax/management/dynamicmbean.html#setAttributes(javax.management.AttributeList)">setAttributes</a></code>
</div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/jdk.management/com/sun/management/DiagnosticCommandMBean.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/jdk.management/com/sun/management/DiagnosticCommandMBean.html</a>
  </p>
</div>
