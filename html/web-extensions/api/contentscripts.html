<h1>contentScripts</h1>
<div class="section-content">
<p>Use this API to register content scripts. Registering a content script instructs the browser to insert the given content scripts into pages that match the given URL patterns.</p> <div class="notecard note" id="sect1"> <p><strong>Note:</strong> When using Manifest V3 or higher, use <a href="scripting/registercontentscripts.html"><code>scripting.registerContentScripts()</code></a> to register scripts.</p> </div> <p>This API is very similar to the <a href="../manifest.json/content_scripts.html"><code>"content_scripts"</code></a> <a href="../manifest.json.html"><code>manifest.json</code></a> key, except that with <code>"content_scripts"</code>, the set of content scripts and associated patterns is fixed at install time. With the <code>contentScripts</code> API, an extension can register and unregister scripts at runtime.</p> <p>To use the API, call <a href="contentscripts/register.html"><code>contentScripts.register()</code></a> passing in an object defining the scripts to register, the URL patterns, and other options. This returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that is resolved with a <a href="contentscripts/registeredcontentscript.html"><code>contentScripts.RegisteredContentScript</code></a> object.</p> <p>The <code>RegisteredContentScript</code> object represents the scripts that were registered in the <code>register()</code> call. It defines an <code>unregister()</code> method that you can use to unregister the content scripts. Content scripts are also unregistered automatically when the page that created them is destroyed. For example, if they are registered from the background page they will be unregistered automatically when the background page is destroyed, and if they are registered from a sidebar or a popup, they will be unregistered automatically when the sidebar or popup is closed.</p> <p>There is no <code>contentScripts</code> API permission, but an extension must have the appropriate <a href="../manifest.json/permissions.html#host_permissions">host permissions</a> for any patterns it passes to <code>register()</code>.</p>
</div>
<section aria-labelledby="types"><h2 id="types">Types</h2>
<div class="section-content"><dl> <dt id="contentscripts.registeredcontentscript"><a href="contentscripts/registeredcontentscript.html"><code>contentScripts.RegisteredContentScript</code></a></dt> <dd> <p>An object of this type is returned by the <a href="contentscripts/register.html"><code>contentScripts.register()</code></a> function. It represents the content scripts that were registered by that call, and can be used to unregister the content script.</p> </dd> </dl></div></section><section aria-labelledby="functions"><h2 id="functions">Functions</h2>
<div class="section-content"><dl> <dt id="contentscripts.register"><a href="contentscripts/register.html"><code>contentScripts.register()</code></a></dt> <dd> <p>Registers the given content scripts.</p> </dd> </dl></div></section><h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>RegisteredContentScript</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">59</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">59</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>register</code></th>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-yes">59</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">59</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
</tbody>
</table></div>
<section aria-labelledby="example_extensions"><h2 id="example_extensions">Example extensions</h2>
<div class="section-content"><ul><li><a href="https://github.com/mdn/webextensions-examples/tree/master/content-script-register" target="_blank">content-script-register</a></li></ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts</a>
  </p>
</div>
