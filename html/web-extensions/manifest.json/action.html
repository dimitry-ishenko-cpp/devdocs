<h1>action</h1>
<div class="section-content">
<figure class="table-container"><div class="_table"><table class="fullwidth-table standard-table"> <tbody> <tr> <th scope="row">Type</th> <td><code>Object</code></td> </tr> <tr> <th scope="row">Mandatory</th> <td>No</td> </tr> <tr> <th scope="row">Manifest version</th> <td>3 or higher</td> </tr> <tr> <th scope="row">Example</th> <td> <div class="code-example"><pre data-language="json"><span class="token property">"action"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"browser_style"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"default_icon"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"16"</span><span class="token operator">:</span> <span class="token string">"button/geo-16.png"</span><span class="token punctuation">,</span>
    <span class="token property">"32"</span><span class="token operator">:</span> <span class="token string">"button/geo-32.png"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"default_title"</span><span class="token operator">:</span> <span class="token string">"Whereami?"</span><span class="token punctuation">,</span>
  <span class="token property">"default_popup"</span><span class="token operator">:</span> <span class="token string">"popup/geo.html"</span><span class="token punctuation">,</span>
  <span class="token property">"theme_icons"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token property">"light"</span><span class="token operator">:</span> <span class="token string">"icons/geo-16-light.png"</span><span class="token punctuation">,</span>
    <span class="token property">"dark"</span><span class="token operator">:</span> <span class="token string">"icons/geo-16.png"</span><span class="token punctuation">,</span>
    <span class="token property">"size"</span><span class="token operator">:</span> <span class="token number">16</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token property">"light"</span><span class="token operator">:</span> <span class="token string">"icons/geo-32-light.png"</span><span class="token punctuation">,</span>
    <span class="token property">"dark"</span><span class="token operator">:</span> <span class="token string">"icons/geo-32.png"</span><span class="token punctuation">,</span>
    <span class="token property">"size"</span><span class="token operator">:</span> <span class="token number">32</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre></div> </td> </tr> </tbody> </table></div></figure> <p>An action is a button that your extension adds to the browser's toolbar. The button has an icon, and may optionally have a popup whose content is specified using HTML, CSS, and JavaScript.</p> <p>This key replaces <a href="browser_action.html"><code>browser_action</code></a> in Manifest V3 extensions.</p> <p>If you supply a popup, then the popup is opened when the user clicks the button, and your JavaScript running in the popup can handle the user's interaction with it. If you don't supply a popup, then a click event is dispatched to your extension's <a href="../background_scripts.html">background scripts</a> when the user clicks the button.</p> <p>You can also create and manipulate actions programmatically using the <a href="../api/action.html"><code>action</code></a> .</p>
</div>
<section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content">
<p>The <code>action</code> key is an object that may have any of these properties, all optional:</p> <figure class="table-container"><div class="_table"><table class="fullwidth-table standard-table"> <thead> <tr> <th scope="col">Name</th> <th scope="col">Type</th> <th scope="col">Description</th> </tr> </thead> <tbody> <tr> <td><code><a href="../user_interface/browser_styles.html">browser_style</a></code></td> <td><code>Boolean</code></td> <td> <p>Optional, defaulting to <code>false</code>.</p> <p> Use this to include a stylesheet in your popup that will make its look consistent with the browser's UI and with other extensions that use the <code>browser_style</code> property. Although this key defaults to <code>false</code>, it's recommended that you include it and set it to <code>true</code> in order to make your popups consistent with the look of the rest of the browser user interface. </p> <p> In Firefox, the stylesheet can be seen at chrome://browser/content/extension.css, or chrome://browser/content/extension-mac.css on macOS. When setting dimensions, be aware that this style sheet currently sets <code>box-sizing: border-box</code> (see <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing">box-sizing</a>). </p> <p> <a href="../user_interface/browser_styles.html">Browser styles</a> describes the classes you can apply to elements in the popup in order to get particular styles. </p> <p> The <a href="https://github.com/mdn/webextensions-examples/tree/master/latest-download" target="_blank">latest-download</a> example extension uses <code>browser_style</code> in its popup. </p> <div class="notecard note" id="sect1"> <p> <strong>Note:</strong> Setting <code>browser_style</code> to <code>true</code> prevents users from selecting text in an extension's popup or sidebar content. This is normal behavior. You can't select parts of the UI in the browser. However, You can work around this limitation to allow your users to select text in two ways: </p> <ol> <li>Set <code>browser_style</code> to <code>false</code>
</li> <li> Use CSS styling on the body of your sidebar or popup's HTML to allow text selection by adding the rule <code>-moz-user-select</code> with a value of <code>all</code> or <code>text</code>. </li> </ol> </div> </td> </tr> <tr> <td><code>default_area</code></td> <td><code>String</code></td> <td> <p> Defines the part of the browser in which the button is initially placed. This is a string that may take one of four values: </p> <ul> <li> "navbar": the button is placed in the main browser toolbar, alongside the URL bar. </li> <li>"menupanel": the button is placed in a popup panel.</li> <li> "tabstrip": the button is placed in the toolbar that contains browser tabs. </li> <li>"personaltoolbar": the button is placed in the bookmarks toolbar.</li> </ul> <p>This property is only supported in Firefox.</p> <p>This property is optional, and defaults to "menupanel".</p> <p> Firefox remembers the <code>default_area</code> setting for an extension, even if that extension is uninstalled and subsequently reinstalled. To force the browser to acknowledge a new value for <code>default_area</code>, the id of the extension must be changed. </p> <p> An extension can't change the location of the button after it has been installed, but the user may be able to move the button using the browser's built-in UI customization mechanism. </p> </td> </tr> <tr> <td><code>default_icon</code></td> <td>
<code>Object</code> or <code>String</code>
</td> <td> <p> Use this to specify one or more icons for the action. The icon is shown in the browser toolbar by default. </p> <p>Icons are specified as URLs relative to the manifest.json file itself.</p> <p>You can specify a single icon file by supplying a string here:</p> <div class="code-example"><pre data-language="json"><span class="token property">"default_icon"</span><span class="token operator">:</span> <span class="token string">"path/to/geo.svg"</span></pre></div> <p> To specify multiple icons in different sizes, specify an object here. The name of each property is the icon's height in pixels, and must be convertible to an integer. The value is the URL. For example: </p> <div class="code-example"><pre data-language="json">    <span class="token property">"default_icon"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"16"</span><span class="token operator">:</span> <span class="token string">"path/to/geo-16.png"</span><span class="token punctuation">,</span>
      <span class="token property">"32"</span><span class="token operator">:</span> <span class="token string">"path/to/geo-32.png"</span>
    <span class="token punctuation">}</span></pre></div> <p> You cannot specify multiple icons of the same sizes.<br><br>See <a href="action.html#choosing_icon_sizes" aria-current="page">Choosing icon sizes</a> for more guidance on this. </p> </td> </tr> <tr> <td><code>default_popup</code></td> <td><code>String</code></td> <td> <p>The path to an HTML file containing the specification of the popup.</p> <p> The HTML file may include CSS and JavaScript files using <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link">&lt;link&gt;</a></code> and <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script">&lt;script&gt;</a></code> elements, just like a normal web page. However, <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script">&lt;script&gt;
</a></code>must have <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script">src</a></code> attribute to load a file. Don't use <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script">&lt;script&gt;</a></code> with embedded code, because you'll get a confusing Content Violation Policy error. </p> <p> Unlike a normal web page, JavaScript running in the popup can access all the <a href="../api.html">WebExtension APIs</a> (subject, of course, to the extension having the appropriate <a href="permissions.html">permissions</a>). </p> <p> This is a <a href="../internationalization.html#internationalizing_manifest.json">localizable property</a>. </p> </td> </tr> <tr> <td><code>default_title</code></td> <td><code>String</code></td> <td> <p> Tooltip for the button, displayed when the user moves their mouse over it. If the button is added to the browser's menu panel, this is also shown under the app icon. </p> <p> This is a <a href="../internationalization.html#internationalizing_manifest.json">localizable property</a>. </p> </td> </tr> <tr> <td><code>theme_icons</code></td> <td><code>Array</code></td> <td> <p> This property enables you to specify different icons for themes depending on whether Firefox detects that the theme uses dark or light text. </p> <p> If this property is present, it's an array containing at least one <code>ThemeIcons</code> object. A <code>ThemeIcons</code> object contains three mandatory properties: </p> <dl> <dt id="dark"><code>"dark"</code></dt> <dd> A URL pointing to an icon. This icon displays when a theme using dark text is active (such as the Firefox Light theme, and the Default theme if no default_icon is specified). </dd> <dt id="light"><code>"light"</code></dt> <dd> A URL pointing to an icon. This icon displays when a theme using light text is active (such as the Firefox Dark theme). </dd> <dt id="size"><code>"size"</code></dt> <dd>The size of the two icons in pixels.</dd> </dl> <p>Icons are specified as URLs relative to the manifest.json file.</p> <p> You should supply 16x16 and 32x32 (for retina display) <code>ThemeIcons</code>. </p> </td> </tr> </tbody> </table></div></figure>
</div></section><section aria-labelledby="choosing_icon_sizes"><h2 id="choosing_icon_sizes">Choosing icon sizes</h2>
<div class="section-content">
<p>The action's icon may need to be displayed in different sizes in different contexts:</p> <ul> <li>The icon is displayed in the browser toolbar. Older versions of Firefox supported the option of placing the icon in the browser's menu panel (the panel that opens when the user clicks the "hamburger" icon). In those versions of Firefox the icon in the menu panel was larger than the icon in the toolbar.</li> <li>On a high-density display like a Retina screen, icons needs to be twice as big.</li> </ul> <p>If the browser can't find an icon of the right size in a given situation, it will pick the best match and scale it. Scaling may make the icon appear blurry, so it's important to choose icon sizes carefully.</p> <p>There are two main approaches to this. You can supply a single icon as an SVG file, and it will be scaled correctly:</p> <div class="code-example"><pre data-language="json"><span class="token property">"default_icon"</span><span class="token operator">:</span> <span class="token string">"path/to/geo.svg"</span>
</pre></div> <p>Alternatively, you can supply several icons in different sizes, and the browser will pick the best match.</p> <p>In Firefox:</p> <ul> <li>The default height and width for icons in the toolbar is 16 * <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio"><code>window.devicePixelRatio</code></a>.</li> <li>The default height and width for icons in the menu panel is 32 * <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio"><code>window.devicePixelRatio</code></a>.</li> </ul> <p>So you can specify icons that match exactly, on both normal and Retina displays, by supplying three icon files, and specifying them like this:</p> <div class="code-example"><pre data-language="json"><span class="token property">"default_icon"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"16"</span><span class="token operator">:</span> <span class="token string">"path/to/geo-16.png"</span><span class="token punctuation">,</span>
  <span class="token property">"32"</span><span class="token operator">:</span> <span class="token string">"path/to/geo-32.png"</span><span class="token punctuation">,</span>
  <span class="token property">"64"</span><span class="token operator">:</span> <span class="token string">"path/to/geo-64.png"</span>
<span class="token punctuation">}</span>
</pre></div> <p>If Firefox can't find an exact match for the size it wants, then it will pick the smallest icon specified that's bigger than the ideal size. If all icons are smaller than the ideal size, it will pick the biggest icon specified.</p>
</div></section><section aria-labelledby="example"><h2 id="example">Example</h2>
<div class="section-content">
<div class="code-example"><pre data-language="json"><span class="token property">"action"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"default_icon"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"16"</span><span class="token operator">:</span> <span class="token string">"button/geo-16.png"</span><span class="token punctuation">,</span>
    <span class="token property">"32"</span><span class="token operator">:</span> <span class="token string">"button/geo-32.png"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div> <p>An action with just an icon, specified in 2 sizes. The extension's background scripts can receive click events when the user clicks the icon using code like this:</p> <div class="code-example"><pre data-language="js"> browser<span class="token punctuation">.</span>Action<span class="token punctuation">.</span>onClicked<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>handleClick<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div> <div class="code-example"><pre data-language="json"><span class="token property">"action"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"default_icon"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"16"</span><span class="token operator">:</span> <span class="token string">"button/geo-16.png"</span><span class="token punctuation">,</span>
    <span class="token property">"32"</span><span class="token operator">:</span> <span class="token string">"button/geo-32.png"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"default_title"</span><span class="token operator">:</span> <span class="token string">"Whereami?"</span><span class="token punctuation">,</span>
  <span class="token property">"default_popup"</span><span class="token operator">:</span> <span class="token string">"popup/geo.html"</span>
<span class="token punctuation">}</span>
</pre></div> <p>An action with an icon, a title, and a popup. The popup is shown when the user clicks the button.</p>
</div></section><h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>action</code></th>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">109</td>
<td>?</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">15.4</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">109</td>
<td>?</td>
<td class="bc-supports-yes">15.4</td>
<td>?</td>
</tr>
<tr>
<th><code>browser_style</code></th>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">109</td>
<td>?</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>default_area</code></th>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">109</td>
<td>?</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
<tr>
<th><code>default_icon</code></th>
<td class="bc-supports-yes"><details><summary>88</summary>SVG icons are not supported.</details></td>
<td class="bc-supports-yes"><details><summary>88</summary>["SVG icons are not supported.", "'default_icon' must be an object, with explicit sizes."]</details></td>
<td class="bc-supports-yes">109</td>
<td>?</td>
<td class="bc-supports-yes"><details><summary>74</summary>SVG icons are not supported.</details></td>
<td class="bc-supports-yes"><details><summary>15.4</summary>SVG icons are not supported. Grayscale images will be treated as template icons and processed with the system accent color and system appearance.</details></td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-yes"><details><summary>15.4</summary>SVG icons are not supported. Grayscale images will be treated as template icons and processed with the system accent color and system appearance.</details></td>
<td>?</td>
</tr>
<tr>
<th><code>default_popup</code></th>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">109</td>
<td>?</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">15.4</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes">109</td>
<td>?</td>
<td class="bc-supports-yes">15.4</td>
<td>?</td>
</tr>
<tr>
<th><code>default_title</code></th>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">109</td>
<td>?</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-yes">15.4</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-yes"><details><summary>109</summary>Browser actions are presented as menu items, and the title is the menu item's label.</details></td>
<td>?</td>
<td class="bc-supports-yes">15.4</td>
<td>?</td>
</tr>
<tr>
<th><code>theme_icons</code></th>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">88</td>
<td class="bc-supports-yes">109</td>
<td>?</td>
<td class="bc-supports-yes">74</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
<td class="bc-supports-no">No</td>
<td>?</td>
</tr>
</tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/action" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/action</a>
  </p>
</div>
