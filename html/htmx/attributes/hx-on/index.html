<h1><code>hx-on</code></h1> <p>The <code>hx-on*</code> attributes allow you to embed scripts inline to respond to events directly on an element; similar to the <a rel="noopener" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/Events/Event_handlers#using_onevent_properties"><code>onevent</code> properties</a> found in HTML, such as <code>onClick</code>.</p> <p>The <code>hx-on*</code> attributes improve upon <code>onevent</code> by enabling the handling of any arbitrary JavaScript event, for enhanced <a href="https://htmx.org/essays/locality-of-behaviour/">Locality of Behaviour (LoB)</a> even when dealing with non-standard DOM events. For example, these attributes allow you to handle <a href="../../reference/index.html#events">htmx events</a>.</p> <p>There are two forms of <code>hx-on</code> attributes:</p> <ul> <li> <p>In the primary form, you specify the event name as part of the attribute name, after a colon. So, for example, if you want to respond to a <code>click</code> event, you would use the attribute <code>hx-on:click</code>.</p> </li> <li> <p>The second, deprecated form, uses the <code>hx-on</code> attribute directly. This latter form should only be used if IE11 support is required, and will be removed in htmx 2.0</p> </li> </ul> <h3 id="hx-on-recommended">hx-on:* (recommended)</h3> <p>In this form, the event name follows a colon <code>:</code> in the attribute, and the attribute value is the script to be executed:</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-on:click</span><span>=</span><span style="color:#98c379;">"alert('Clicked!')"</span><span>&gt;Click&lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre> <p>Note that, in addition to the standard DOM events, all htmx and other custom events can be captured, too! </p> <p>One gotcha to note is that DOM attributes do not preserve case. This means, unfortunately, an attribute like <code>hx-on:htmx:beforeRequest</code> <strong>will not work</strong>, because the DOM lowercases the attribute names. Fortunately, htmx supports both camel case event names and also <a href="../../docs/index.html#events">kebab-case event names</a>, so you can use <code>hx-on:htmx:before-request</code> instead.</p> <p>In order to make writing htmx-based event handlers a little easier, you can use the shorthand double-colon <code>hx-on::</code> for htmx events, and omit the “htmx” part:</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span style="font-style:italic;color:#848da1;">&lt;!-- These two are equivalent --&gt;
</span><span>&lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">"/info" </span><span style="color:#d19a66;">hx-on:htmx:before-request</span><span>=</span><span style="color:#98c379;">"alert('Making a request!')"</span><span>&gt;
</span><span>    Get Info!
</span><span>&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span><span>&lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">"/info" </span><span style="color:#d19a66;">hx-on::before-request</span><span>=</span><span style="color:#98c379;">"alert('Making a request!')"</span><span>&gt;
</span><span>    Get Info!
</span><span>&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span></code></pre> <p>If you wish to handle multiple different events, you can simply add multiple attributes to an element:</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">"/info"
</span><span style="color:#d19a66;">hx-on::before-request</span><span>=</span><span style="color:#98c379;">"alert('Making a request!')"
</span><span style="color:#d19a66;">hx-on::after-request</span><span>=</span><span style="color:#98c379;">"alert('Done making a request!')"</span><span>&gt;
</span><span>    Get Info!
</span><span>&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span></code></pre> <p>Finally, in order to make this feature compatible with some templating languages (e.g. <a rel="noopener" target="_blank" href="https://react.dev/learn/writing-markup-with-jsx">JSX</a>) that do not like having a colon (<code>:</code>) in HTML attributes, you may use dashes in the place of colons for both the long form and the shorthand form:</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span style="font-style:italic;color:#848da1;">&lt;!-- These two are equivalent --&gt;
</span><span>&lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">"/info" </span><span style="color:#d19a66;">hx-on-htmx-before-request</span><span>=</span><span style="color:#98c379;">"alert('Making a request!')"</span><span>&gt;
</span><span>    Get Info!
</span><span>&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span><span>&lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">"/info" </span><span style="color:#d19a66;">hx-on--before-request</span><span>=</span><span style="color:#98c379;">"alert('Making a request!')"</span><span>&gt;
</span><span>    Get Info!
</span><span>&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span></code></pre> <h3 id="hx-on-deprecated">hx-on (deprecated)</h3> <p>The value is an event name, followed by a colon <code>:</code>, followed by the script:</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">"/info" </span><span style="color:#d19a66;">hx-on</span><span>=</span><span style="color:#98c379;">"htmx:beforeRequest: alert('Making a request!')"</span><span>&gt;
</span><span>    Get Info!
</span><span>&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span></code></pre> <p>Multiple handlers can be defined by putting them on new lines:</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">"/info" </span><span style="color:#d19a66;">hx-on</span><span>=</span><span style="color:#98c379;">"htmx:beforeRequest: alert('Making a request!')
</span><span style="color:#98c379;">                              htmx:afterRequest: alert('Done making a request!')"</span><span>&gt;
</span><span>    Get Info!
</span><span>&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span></code></pre> <h3 id="symbols">Symbols</h3> <p>Like <code>onevent</code>, two symbols are made available to event handler scripts:</p> <ul> <li>
<code>this</code> - The element on which the <code>hx-on</code> attribute is defined</li> <li>
<code>event</code> - The event that triggered the handler</li> </ul> <h3 id="notes">Notes</h3> <ul> <li>
<code>hx-on</code> is <em>not</em> inherited, however due to <a rel="noopener" target="_blank" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#event_bubbling_and_capture">event bubbling</a>, <code>hx-on</code> attributes on parent elements will typically be triggered by events on child elements</li> <li>
<code>hx-on:*</code> and <code>hx-on</code> cannot be used together on the same element; if <code>hx-on:*</code> is present, the value of an <code>hx-on</code> attribute on the same element will be ignored. The two forms can be mixed in the same document, however.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    Licensed under the Zero-Clause BSD License.<br>
    <a href="https://htmx.org/attributes/hx-on/" class="_attribution-link">https://htmx.org/attributes/hx-on/</a>
  </p>
</div>
