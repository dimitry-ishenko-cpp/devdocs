<h1>Extensions</h1> <p>Htmx provides an extension mechanism for defining and using extensions within htmx-based applications.</p> <h2 id="using">Using Extensions</h2> <p>Using an extension involves two steps:</p> <ul> <li>include the extension definition, which will add it to the <code>htmx</code> extension registry</li> <li>reference the extension via the <a href="../attributes/hx-ext/index.html">hx-ext</a> attribute</li> </ul> <p>Here is an example</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>  &lt;</span><span style="color:#e06c75;">script </span><span style="color:#d19a66;">src</span><span>=</span><span style="color:#98c379;">"/path/to/ext/debug.js" </span><span style="color:#d19a66;">defer</span><span>&gt;&lt;/</span><span style="color:#e06c75;">script</span><span>&gt;
</span><span>  &lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-post</span><span>=</span><span style="color:#98c379;">"/example" </span><span style="color:#d19a66;">hx-ext</span><span>=</span><span style="color:#98c379;">"debug"</span><span>&gt;This Button Uses The Debug Extension&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span></code></pre> <p>This loads the debug extension off of the <code>unpkg</code> CDN and then adds the debug extension to the given button. (This will print out extensive logging for the button, for debugging purposes.)</p> <p>Note that the <code>hx-ext</code> tag may be placed on parent elements if you want a plugin to apply to an entire part of the DOM, and on the <code>body</code> tag for it to apply to all htmx requests.</p> <p><strong>Tip:</strong> To use multiple extensions on one element, separate them with a comma:</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>  &lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-post</span><span>=</span><span style="color:#98c379;">"/example" </span><span style="color:#d19a66;">hx-ext</span><span>=</span><span style="color:#98c379;">"debug, json-enc"</span><span>&gt;This Button Uses Two Extensions&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span></code></pre> <h2 id="ignoring">Ignoring Extensions</h2> <p>By default, extensions are applied to the DOM node where it is invoked, along with all child elements inside of that parent node. If you need to disable an extension somewhere within the DOM tree, you can use the <code>ignore:</code> keyword to stop it from being used.</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-ext</span><span>=</span><span style="color:#98c379;">"debug"</span><span>&gt;
</span><span>  &lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-post</span><span>=</span><span style="color:#98c379;">"/example"</span><span>&gt;This button used the debug extension&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span><span>  &lt;</span><span style="color:#e06c75;">button </span><span style="color:#d19a66;">hx-post</span><span>=</span><span style="color:#98c379;">"/example" </span><span style="color:#d19a66;">hx-ext</span><span>=</span><span style="color:#98c379;">"ignore:debug"</span><span>&gt;This button does not&lt;/</span><span style="color:#e06c75;">button</span><span>&gt;
</span><span>&lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre> <h2 id="included">Included Extensions</h2> <p>htmx includes a set of extensions out of the box that address common developer needs. These extensions are tested against <code>htmx</code> in each distribution.</p> <h3 id="installing">Installing Extensions</h3> <p>You can find the source for the bundled extensions at <code>https://unpkg.com/browse/htmx.org/dist/ext/</code>. You will need to include the javascript file for the extension and then install it using the <a href="../attributes/hx-ext/index.html">hx-ext</a> attributes.</p> <p>See the individual extension documentation for more details.</p> <h3 id="reference">Included Extensions List</h3> <div class="info-table"> <table>
<thead><tr>
<th>Extension</th>
<th>Description</th>
</tr></thead>
<tbody> <tr>
<td><a href="ajax-header/index.html"><code>ajax-header</code></a></td>
<td>includes the commonly-used <code>X-Requested-With</code> header that identifies ajax requests in many backend frameworks</td>
</tr> <tr>
<td><a href="alpine-morph/index.html"><code>alpine-morph</code></a></td>
<td>an extension for using the <a rel="noopener" target="_blank" href="https://alpinejs.dev/plugins/morph">Alpine.js morph</a> plugin as the swapping mechanism in htmx.</td>
</tr> <tr>
<td><a href="class-tools/index.html"><code>class-tools</code></a></td>
<td>an extension for manipulating timed addition and removal of classes on HTML elements</td>
</tr> <tr>
<td><a href="client-side-templates/index.html"><code>client-side-templates</code></a></td>
<td>support for client side template processing of JSON/XML responses</td>
</tr> <tr>
<td><a href="debug/index.html"><code>debug</code></a></td>
<td>an extension for debugging of a particular element using htmx</td>
</tr> <tr>
<td><a href="event-header/index.html"><code>event-header</code></a></td>
<td>includes a JSON serialized version of the triggering event, if any</td>
</tr> <tr>
<td><a href="head-support/index.html"><code>head-support</code></a></td>
<td>support for merging the <code>head</code> tag from responses into the existing documents <code>head</code>
</td>
</tr> <tr>
<td><a href="include-vals/index.html"><code>include-vals</code></a></td>
<td>allows you to include additional values in a request</td>
</tr> <tr>
<td><a href="json-enc/index.html"><code>json-enc</code></a></td>
<td>use JSON encoding in the body of requests, rather than the default <code>x-www-form-urlencoded</code>
</td>
</tr> <tr>
<td><a rel="noopener" target="_blank" href="https://github.com/bigskysoftware/idiomorph"><code>idiomorph</code></a></td>
<td>an extension for using the idiomorph morphing algorithm as a swapping mechanism</td>
</tr> <tr>
<td><a href="loading-states/index.html"><code>loading-states</code></a></td>
<td>allows you to disable inputs, add and remove CSS classes to any element while a request is in-flight.</td>
</tr> <tr>
<td><a href="method-override/index.html"><code>method-override</code></a></td>
<td>use the <code>X-HTTP-Method-Override</code> header for non-<code>GET</code> and <code>POST</code> requests</td>
</tr> <tr>
<td><a href="morphdom-swap/index.html"><code>morphdom-swap</code></a></td>
<td>an extension for using the <a rel="noopener" target="_blank" href="https://github.com/patrick-steele-idem/morphdom">morphdom</a> library as the swapping mechanism in htmx.</td>
</tr> <tr>
<td><a href="multi-swap/index.html"><code>multi-swap</code></a></td>
<td>allows to swap multiple elements with different swap methods</td>
</tr> <tr>
<td><a href="path-deps/index.html"><code>path-deps</code></a></td>
<td>an extension for expressing path-based dependencies <a rel="noopener" target="_blank" href="http://intercoolerjs.org/docs.html#dependencies">similar to intercoolerjs</a>
</td>
</tr> <tr>
<td><a href="preload/index.html"><code>preload</code></a></td>
<td>preloads selected <code>href</code> and <code>hx-get</code> targets based on rules you control.</td>
</tr> <tr>
<td><a href="remove-me/index.html"><code>remove-me</code></a></td>
<td>allows you to remove an element after a given amount of time</td>
</tr> <tr>
<td><a href="response-targets/index.html"><code>response-targets</code></a></td>
<td>allows to specify different target elements to be swapped when different HTTP response codes are received</td>
</tr> <tr>
<td><a href="restored/index.html"><code>restored</code></a></td>
<td>allows you to trigger events when the back button has been pressed</td>
</tr> <tr>
<td><a href="server-sent-events/index.html"><code>server-sent-events</code></a></td>
<td>uni-directional server push messaging via <a rel="noopener" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/EventSource">EventSource</a>
</td>
</tr> <tr>
<td><a href="web-sockets/index.html"><code>web-sockets</code></a></td>
<td>bi-directional connection to WebSocket servers</td>
</tr> <tr>
<td><a href="path-params/index.html"><code>path-params</code></a></td>
<td>allows to use parameters for path variables instead of sending them in query or body</td>
</tr> </tbody>
</table> </div> <h2 id="defining">Defining an Extension</h2> <p>To define an extension you call the <code>htmx.defineExtension()</code> function:</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">script</span><span>&gt;
</span><span style="color:#e06c75;">htmx</span><span>.</span><span style="color:#e06c75;">defineExtension</span><span>(</span><span style="color:#98c379;">'my-ext'</span><span>, {
</span><span style="color:#61afef;">onEvent </span><span>: </span><span style="color:#c678dd;">function</span><span>(name, evt) {
</span><span>        console.</span><span style="color:#56b6c2;">log</span><span>(</span><span style="color:#98c379;">"Fired event: " </span><span>+ </span><span style="color:#e06c75;">name</span><span>, </span><span style="color:#e06c75;">evt</span><span>);
</span><span>    }
</span><span>  })
</span><span>&lt;/</span><span style="color:#e06c75;">script</span><span>&gt;
</span></code></pre> <p>Typically, this is done in a stand-alone javascript file, rather than in an inline <code>script</code> tag.</p> <p>Extensions should have names that are dash separated and that are reasonably short and descriptive.</p> <p>Extensions can override the following default extension points to add or change functionality:</p> <pre data-lang="javascript" style="background-color:#1f2329;color:#abb2bf;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>{
</span><span>    onEvent : </span><span style="color:#c678dd;">function</span><span>(</span><span style="color:#e06c75;">name</span><span>, </span><span style="color:#e06c75;">evt</span><span>) {</span><span style="color:#c678dd;">return </span><span style="color:#d19a66;">true</span><span>;},
</span><span>    transformResponse : </span><span style="color:#c678dd;">function</span><span>(</span><span style="color:#e06c75;">text</span><span>, </span><span style="color:#e06c75;">xhr</span><span>, </span><span style="color:#e06c75;">elt</span><span>) {</span><span style="color:#c678dd;">return </span><span style="color:#e06c75;">text</span><span>;},
</span><span>    isInlineSwap : </span><span style="color:#c678dd;">function</span><span>(</span><span style="color:#e06c75;">swapStyle</span><span>) {</span><span style="color:#c678dd;">return </span><span style="color:#d19a66;">false</span><span>;},
</span><span>    handleSwap : </span><span style="color:#c678dd;">function</span><span>(</span><span style="color:#e06c75;">swapStyle</span><span>, </span><span style="color:#e06c75;">target</span><span>, </span><span style="color:#e06c75;">fragment</span><span>, </span><span style="color:#e06c75;">settleInfo</span><span>) {</span><span style="color:#c678dd;">return </span><span style="color:#d19a66;">false</span><span>;},
</span><span>    encodeParameters : </span><span style="color:#c678dd;">function</span><span>(</span><span style="color:#e06c75;">xhr</span><span>, </span><span style="color:#e06c75;">parameters</span><span>, </span><span style="color:#e06c75;">elt</span><span>) {</span><span style="color:#c678dd;">return </span><span style="color:#d19a66;">null</span><span>;}
</span><span>}
</span></code></pre><div class="_attribution">
  <p class="_attribution-p">
    Licensed under the Zero-Clause BSD License.<br>
    <a href="https://htmx.org/extensions/" class="_attribution-link">https://htmx.org/extensions/</a>
  </p>
</div>
