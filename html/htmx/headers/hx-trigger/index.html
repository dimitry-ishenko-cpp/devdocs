<h1>HX-Trigger Response Headers</h1> <p>These response headers can be used to trigger client side actions on the target element within a response to htmx. You can trigger a single event or as many uniquely named events as you would like.</p> <p>The headers are:</p> <ul> <li>
<code>HX-Trigger</code> - trigger events as soon as the response is received.</li> <li>
<code>HX-Trigger-After-Settle</code> - trigger events after the <a href="../../docs/index.html#request-operations">settling step</a>.</li> <li>
<code>HX-Trigger-After-Swap</code> - trigger events after the <a href="../../docs/index.html#request-operations">swap step</a>.</li> </ul> <p>To trigger a single event with no additional details you can simply send the event name in a header like so:</p> <p><code>HX-Trigger: myEvent</code></p> <p>This will trigger <code>myEvent</code> on the triggering element and will bubble up to the body. As an example you could listen for this event like this:</p> <pre data-lang="javascript" style="background-color:#1f2329;color:#abb2bf;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>document.body.</span><span style="color:#56b6c2;">addEventListener</span><span>(</span><span style="color:#98c379;">"myEvent"</span><span>, </span><span style="color:#c678dd;">function</span><span>(</span><span style="color:#e06c75;">evt</span><span>){
</span><span style="color:#61afef;">alert</span><span>(</span><span style="color:#98c379;">"myEvent was triggered!"</span><span>);
</span><span>})
</span></code></pre> <p>… or like this, if you’re trying to trigger some element without using JS code:</p> <pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span style="font-style:italic;color:#848da1;">&lt;!-- Since it bubbles up to the &lt;body&gt;, we must use the `from:body` modifier below --&gt;
</span><span>&lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-trigger</span><span>=</span><span style="color:#98c379;">"myEvent from:body" </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">"/example"</span><span>&gt;&lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre> <p>If you want to pass details along with the event, you can move to JSON for the value of the trigger:</p> <p><code>HX-Trigger: {"showMessage":"Here Is A Message"}</code></p> <p>To handle this event you would write the following code:</p> <pre data-lang="javascript" style="background-color:#1f2329;color:#abb2bf;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>document.body.</span><span style="color:#56b6c2;">addEventListener</span><span>(</span><span style="color:#98c379;">"showMessage"</span><span>, </span><span style="color:#c678dd;">function</span><span>(</span><span style="color:#e06c75;">evt</span><span>){
</span><span style="color:#61afef;">alert</span><span>(</span><span style="color:#e06c75;">evt</span><span>.</span><span style="color:#e06c75;">detail</span><span>.value);
</span><span>})
</span></code></pre> <p>Note that the value of the message was put into the <code>detail.value</code> slot. If you wish to pass multiple pieces of data you can use a nested JSON object on the right hand side of the JSON object:</p> <p><code>HX-Trigger: {"showMessage":{"level" : "info", "message" : "Here Is A Message"}}</code></p> <p>And handle this event like so:</p> <pre data-lang="javascript" style="background-color:#1f2329;color:#abb2bf;" class="language-javascript "><code class="language-javascript" data-lang="javascript"><span>document.body.</span><span style="color:#56b6c2;">addEventListener</span><span>(</span><span style="color:#98c379;">"showMessage"</span><span>, </span><span style="color:#c678dd;">function</span><span>(</span><span style="color:#e06c75;">evt</span><span>){
</span><span style="color:#c678dd;">if</span><span>(</span><span style="color:#e06c75;">evt</span><span>.</span><span style="color:#e06c75;">detail</span><span>.</span><span style="color:#e06c75;">level </span><span>=== </span><span style="color:#98c379;">"info"</span><span>){
</span><span style="color:#61afef;">alert</span><span>(</span><span style="color:#e06c75;">evt</span><span>.</span><span style="color:#e06c75;">detail</span><span>.</span><span style="color:#e06c75;">message</span><span>);   
</span><span>   }
</span><span>})
</span></code></pre> <p>Each property of the JSON object on the right hand side will be copied onto the details object for the event.</p> <h3 id="multiple-triggers">Multiple Triggers</h3> <p>If you wish to invoke multiple events, you can simply add additional properties to the top level JSON object:</p> <p><code>HX-Trigger: {"event1":"A message", "event2":"Another message"}</code></p> <p>You may also trigger multiple events with no additional details by sending event names separated by commas, like so:</p> <p><code>HX-Trigger: event1, event2</code></p> <p>Using events gives you a lot of flexibility to add functionality to normal htmx responses.</p><div class="_attribution">
  <p class="_attribution-p">
    Licensed under the Zero-Clause BSD License.<br>
    <a href="https://htmx.org/headers/hx-trigger/" class="_attribution-link">https://htmx.org/headers/hx-trigger/</a>
  </p>
</div>
