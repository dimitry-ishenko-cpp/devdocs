<h1>2. Pruning an Offline Mirror</h1>  <p>After you configure your offline mirror, Yarn will automatically add new package tarballs to the mirror. However, it does not automatically remove tarballs that are no longer referenced in <code>yarn.lock</code>. For example, if you <code>$ yarn remove</code> a dependency, the tarball will remain in the mirror, even if no other dependencies have it as a sub-dependency. This behavior can be desirable in a setting where many projects share the same mirror, but when that is not the case, you may want to have Yarn remove unnecessary tarballs.</p> <p>To turn on automating pruning, set <code>yarn-offline-mirror-pruning</code> to <code>true</code> in your <code>.yarnrc</code>:</p> <p><code>$ yarn config set yarn-offline-mirror-pruning true</code></p> <p>Now, tarballs will be removed when appropriate. The end result is that <code>package.json</code>, <code>node_modules</code>, <code>yarn.lock</code>, and the offline mirror should all remain perfectly in sync whenever you change your projectâ€™s dependencies.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016&ndash;present Yarn Contributors<br>Licensed under the BSD License.<br>
    <a href="https://classic.yarnpkg.com/en/docs/prune-offline-mirror" class="_attribution-link">https://classic.yarnpkg.com/en/docs/prune-offline-mirror</a>
  </p>
</div>
