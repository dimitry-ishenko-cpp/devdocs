<h1>2. package.json</h1>  <h2 id="essentials-">Essentials </h2> <p>The two most important fields in your <code>package.json</code> are <code>name</code> and <code>version</code>, without them your package won’t be able to install. The <code>name</code> and <code>version</code> fields are used together to create a unique id.</p> <h3 id="name-">
<code>name</code> </h3> <pre data-language="json">{
  "name": "my-awesome-package"
}</pre> <p>This is the name of your package. It gets used in URLs, as an argument on the command line, and as the directory name inside <code>node_modules</code>.</p> <pre data-language="sh">yarn add [name]</pre> <pre data-language="">node_modules/[name]</pre> <pre data-language="">https://registry.npmjs.org/[name]/-/[name]-[version].tgz</pre> <p><strong>Rules</strong></p> <ul> <li>Must be less than or equal to 214 characters (including the <code>@scope/</code> for scoped packages).</li> <li>Must not start with a dot (<code>.</code>) or an underscore (<code>_</code>).</li> <li>Must not have an uppercase letter in the name.</li> <li>Must use only URL-safe characters.</li> </ul> <p><strong>Tips</strong></p> <ul> <li>Don’t use the same name as a core Node.js module</li> <li>Don’t put <code>js</code> or <code>node</code> in the name.</li> <li>Keep names short and descriptive. You want people to understand what it is from the name, but it will also be used in <code>require()</code> calls.</li> <li>Make sure that there isn’t something in the <a href="https://www.npmjs.com/">registry</a> with the same name.</li> </ul> <h3 id="version-">
<code>version</code> </h3> <pre data-language="json">{
  "version": "1.0.0"
}</pre> <p>The current version of your package.</p> <h2 id="info-">Info </h2> <h3 id="description-">
<code>description</code> </h3> <pre data-language="json">{
  "description": "My short description of my awesome package"
}</pre> <p>The description is just a string that helps people understand the purpose of the package. It can be used when searching for packages in a package manager as well.</p> <h3 id="keywords-">
<code>keywords</code> </h3> <pre data-language="json">{
  "keywords": ["short", "relevant", "keywords", "for", "searching"]
}</pre> <p>Keywords are an array of strings that are useful when searching for packages in a package manager.</p> <h3 id="license-">
<code>license</code> </h3> <pre data-language="json">{
  "license": "MIT",
  "license": "(MIT or GPL-3.0)",
  "license": "SEE LICENSE IN LICENSE_FILENAME.txt",
  "license": "UNLICENSED"
}</pre> <p>All packages should specify a license so that users know how they are permitted to use it and any restrictions that you are placing on it.</p> <p>You are encouraged to use an Open Source (<a href="https://opensource.org/licenses/alphabetical">OSI-approved</a>) license unless you have a specific reason not to. If you built your package as part of your job it’s likely best to check with your company before deciding on a license.</p> <p><strong>Must be one of the following:</strong></p> <ul> <li>A valid <a href="https://spdx.org/licenses/">SPDX license identifier</a> if you are using a standard license.</li> <li>A valid <a href="https://www.npmjs.com/package/spdx">SPDX license expression syntax 2.0 expression</a> if you are using multiple standard licenses.</li> <li>A <code>SEE LICENSE IN &lt;filename&gt;</code> string that points to a <code>&lt;filename&gt;</code> in the top level of your package if you are using a non-standard license.</li> <li>A <code>UNLICENSED</code> string if you do not want to grant others the right to use a private or unpublished package under any terms.</li> </ul> <h2 id="links-">Links </h2> <p>Various links to documentation, places to file issues and where your package code actually lives.</p> <h3 id="homepage-">
<code>homepage</code> </h3> <pre data-language="json">{
  "homepage": "https://your-package.org"
}</pre> <p>The homepage is the URL to the landing page or documentation for your package.</p> <h3 id="bugs-">
<code>bugs</code> </h3> <pre data-language="json">{
  "bugs": "https://github.com/user/repo/issues"
}</pre> <p>The URL to your project’s issue tracker. This can also be something like an email address as well. It provides users a way to find out where to send issues with your package.</p> <h3 id="repository-">
<code>repository</code> </h3> <pre data-language="json">{
  "repository": { "type": "git", "url": "https://github.com/user/repo.git" },
  "repository": "github:user/repo",
  "repository": "gitlab:user/repo",
  "repository": "bitbucket:user/repo",
  "repository": "gist:a1b2c3d4e5f"
}</pre> <p>The repository is the location where the actual code for your package lives.</p> <h2 id="maintainers-">Maintainers </h2> <p>The maintainers of your project.</p> <h3 id="author-">
<code>author</code> </h3> <pre data-language="json">{
  "author": {
    "name": "Your Name",
    "email": "you@example.com",
    "url": "http://your-website.com"
  },
  "author": "Your Name &lt;you@example.com&gt; (http://your-website.com)"
}</pre> <p>Package author information. An author is one person.</p> <h3 id="contributors-">
<code>contributors</code> </h3> <pre data-language="json">{
  "contributors": [
    { "name": "Your Friend", "email": "friend@example.com", "url": "http://friends-website.com" }
    { "name": "Other Friend", "email": "other@example.com", "url": "http://other-website.com" }
  ],
  "contributors": [
    "Your Friend &lt;friend@example.com&gt; (http://friends-website.com)",
    "Other Friend &lt;other@example.com&gt; (http://other-website.com)"
  ]
}</pre> <p>Those that have contributed to your package. Contributors are an array of people.</p> <h2 id="files-">Files </h2> <p>You can specify files that will be included in your project, along with the main entry point for your project.</p> <h3 id="files--1">
<code>files</code> </h3> <pre data-language="json">{
  "files": ["filename.js", "directory/", "glob/*.{js,json}"]
}</pre> <p>These are files that are included in your project. You can specify single files, whole directories or use wildcards to include files that meet a certain criteria.</p> <h3 id="main-">
<code>main</code> </h3> <pre data-language="json">{
  "main": "filename.js"
}</pre> <p>This is the primary entry point for the functionality for your project.</p> <h3 id="bin-">
<code>bin</code> </h3> <pre data-language="json">{
  "bin": "bin.js",
  "bin": {
    "command-name": "bin/command-name.js",
    "other-command": "bin/other-command"
  }
}</pre> <p>Executable files included with your project that will be installed.</p> <h3 id="man-">
<code>man</code> </h3> <pre data-language="json">{
  "man": "./man/doc.1",
  "man": ["./man/doc.1", "./man/doc.2"]
}</pre> <p>If you have man pages associated with your project, add them here.</p> <h3 id="directories-">
<code>directories</code> </h3> <pre data-language="json">{
  "directories": {
    "lib": "path/to/lib/",
    "bin": "path/to/bin/",
    "man": "path/to/man/",
    "doc": "path/to/doc/",
    "example": "path/to/example/"
  }
}</pre> <p>When installing your package, you can specify exact locations to put binary files, man pages, documentation, examples, etc.</p> <h2 id="tasks-">Tasks </h2> <p>Your package can include runnable scripts or other configuration.</p> <h3 id="scripts-">
<code>scripts</code> </h3> <pre data-language="json">{
  "scripts": {
    "build-project": "node build-project.js"
  }
}</pre> <p>Scripts are a great way of automating tasks related to your package, such as simple build processes or development tools. Using the <code>"scripts"</code> field, you can define various scripts to be run as <code>yarn run &lt;script&gt;</code>. For example, the <code>build-project</code> script above can be invoked with <code>yarn run build-project</code> and will run <code>node build-project.js</code>.</p> <p>Certain script names are special. If defined, the <code>preinstall</code> script is called by yarn before your package is installed. For compatibility reasons, scripts called <code>install</code>, <code>postinstall</code>, <code>prepublish</code>, and <code>prepare</code> will all be called after your package has finished installing.</p> <p>The <code>start</code> script value defaults to <code>node server.js</code>.</p> <h3 id="config-">
<code>config</code> </h3> <pre data-language="json">{
  "config": {
    "port": "8080"
  }
}</pre> <p>Configuration options or parameters used in your scripts.</p> <h2 id="dependencies-">Dependencies </h2> <p>Your package will very likely depend on other packages. You can specify those dependencies in your <code>package.json</code> file.</p> <h3 id="dependencies--1">
<code>dependencies</code> </h3> <pre data-language="json">{
  "dependencies": {
    "package-1": "^3.1.4"
  }
}</pre> <p>These are dependencies that are required in both development and production for your package.</p> <blockquote> <p>You can specify an exact version, a minimum version (e.g., <code>&gt;=</code>) or a range of versions (e.g. <code>&gt;= ... &lt;</code>).</p> </blockquote> <h3 id="devdependencies-">
<code>devDependencies</code> </h3> <pre data-language="json">{
  "devDependencies": {
    "package-2": "^0.4.2"
  }
}</pre> <p>These are packages that are only required when developing your package but will not be installed in production.</p> <h3 id="peerdependencies-">
<code>peerDependencies</code> </h3> <pre data-language="json">{
  "peerDependencies": {
    "package-3": "^2.7.18"
  }
}</pre> <p>Peer dependencies allow you to state compatibility of your package with versions of other packages.</p> <h3 id="peerdependenciesmeta-">
<code>peerDependenciesMeta</code> </h3> <pre data-language="json">{
  "peerDependenciesMeta": {
    "package-3": {
      "optional": true
    }
  }
}</pre> <p>Allows you to add metadata to peer dependencies.</p> <p>Currently only the <code>optional</code> tag is available. Setting it to true will suppress the warning for a missing peer dependency.</p> <h3 id="optionaldependencies-">
<code>optionalDependencies</code> </h3> <pre data-language="json">{
  "optionalDependencies": {
    "package-5": "^1.6.1"
  }
}</pre> <p>Optional dependencies can be used with your package, but are not required. If the optional package is not found, installation still continues.</p> <h3 id="bundleddependencies-">
<code>bundledDependencies</code> </h3> <pre data-language="json">{
  "bundledDependencies": ["package-4"]
}</pre> <p>Bundled dependencies are an array of package names that will be bundled together when publishing your package.</p> <h3 id="flat-">
<code>flat</code> </h3> <pre data-language="json">{
  "flat": true
}</pre> <p>If your package only allows one version of a given dependency, and you’d like to enforce the same behavior as <a href="cli/install.html#toc-yarn-install-flat"><code>yarn install --flat</code></a> on the command line, set this to <code>true</code>.</p> <p>Note that if your <code>package.json</code> contains <code>"flat": true</code> and other packages depend on yours (e.g. you are building a library rather than an application), those other packages will also need <code>"flat": true</code> in their <code>package.json</code> or be installed with <code>yarn install --flat</code> on the command line.</p> <h3 id="resolutions-">
<code>resolutions</code> </h3> <pre data-language="json">{
  "resolutions": {
    "transitive-package-1": "0.0.29",
    "transitive-package-2": "file:./local-forks/transitive-package-2",
    "dependencies-package-1/transitive-package-3": "^2.1.1"
  }
}</pre> <p>Allows you to override a version of a particular nested dependency. See <a href="https://github.com/yarnpkg/rfcs/blob/master/implemented/0000-selective-versions-resolutions.md">the Selective Versions Resolutions RFC</a> for the full spec.</p> <p>Note that installing dependencies via <a href="cli/install.html#toc-yarn-install-flat"><code>yarn install --flat</code></a> will automatically add a <code>resolutions</code> block to your <code>package.json</code> file.</p> <h2 id="system-">System </h2> <p>You can provide system-level information associated with your package, such as operating system compatibility, etc.</p> <h3 id="engines-">
<code>engines</code> </h3> <pre data-language="json">{
  "engines": {
    "node": "&gt;=4.4.7 &lt;7.0.0",
    "zlib": "^1.2.8",
    "yarn": "^0.14.0"
  }
}</pre> <p>The engines specify versions of clients that must be used with your package. This checks against <code>process.versions</code> as well as the current version of yarn.</p> <p>This check follows normal semver rules with one exception. It allows prerelease versions to match semvers that do not explicitly specify a prerelease. For example, <code>1.4.0-rc.0</code> matches <code>&gt;=1.3.0</code>, while it would not match a typical semver check.</p> <h3 id="os-">
<code>os</code> </h3> <pre data-language="json">{
  "os": ["darwin", "linux"],
  "os": ["!win32"]
}</pre> <p>This specifies operating system compatibility for your package. It checks against <code>process.platform</code>.</p> <h3 id="cpu-">
<code>cpu</code> </h3> <pre data-language="json">{
  "cpu": ["x64", "ia32"],
  "cpu": ["!arm", "!mips"]
}</pre> <p>Use this to specify your package will only run on certain CPU architectures. This checks against <code>process.arch</code>.</p> <h2 id="publishing-">Publishing </h2> <h3 id="private-">
<code>private</code> </h3> <pre data-language="json">{
  "private": true
}</pre> <p>If you do not want your package published in a package manager, set this to <code>true</code>.</p> <h3 id="publishconfig-">
<code>publishConfig</code> </h3> <pre data-language="json">{
  "publishConfig": {
    ...
  }
}</pre> <p>These configuration values will be used when publishing your package. You can tag your package, for example.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016&ndash;present Yarn Contributors<br>Licensed under the BSD License.<br>
    <a href="https://classic.yarnpkg.com/en/docs/package-json" class="_attribution-link">https://classic.yarnpkg.com/en/docs/package-json</a>
  </p>
</div>
