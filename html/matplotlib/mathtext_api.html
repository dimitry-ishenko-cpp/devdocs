<h1>matplotlib.mathtext</h1> <div class="graphviz"><object data="../_images/inheritance-57ecffb9918dded17b23f0daaaf7729c7c62bf38.svg" type="image/svg+xml" class="inheritance graphviz"> <p class="warning">Inheritance diagram of matplotlib.mathtext</p></object></div> <p id="module-matplotlib.mathtext">A module for parsing a subset of the TeX math syntax and rendering it to a Matplotlib backend.</p> <p>For a tutorial of its usage, see <a class="reference internal" href="https://matplotlib.org/stable/users/explain/text/mathtext.html#mathtext"><span class="std std-ref">Writing mathematical expressions</span></a>. This document is primarily concerned with implementation details.</p> <p>The module uses <a class="reference external" href="https://pypi.org/project/pyparsing/">pyparsing</a> to parse the TeX expression.</p> <p>The Bakoma distribution of the TeX Computer Modern fonts, and STIX fonts are supported. There is experimental support for using arbitrary fonts, but results may vary without proper tweaking and metrics for those fonts.</p> <dl class="py class"> <dt class="sig sig-object py" id="matplotlib.mathtext.MathTextParser"> <em class="property">class</em><span class="sig-prename descclassname">matplotlib.mathtext.</span><span class="sig-name descname">MathTextParser</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">output</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.9.2/lib/matplotlib/mathtext.py#L37-L105"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code>object</code></a></p> <p>Create a MathTextParser for the given backend <em>output</em>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>output</strong><span class="classifier">{"path", "agg"}</span>
</dt>
<dd>
<p>Whether to return a <a class="reference internal" href="#matplotlib.mathtext.VectorParse" title="matplotlib.mathtext.VectorParse"><code>VectorParse</code></a> ("path") or a <a class="reference internal" href="#matplotlib.mathtext.RasterParse" title="matplotlib.mathtext.RasterParse"><code>RasterParse</code></a> ("agg", or its synonym "macosx").</p> </dd> </dl> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="matplotlib.mathtext.MathTextParser.parse"> <span class="sig-name descname">parse</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">dpi</span><span class="o">=</span><span class="default_value">72</span></em>, <em class="sig-param"><span class="n">prop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">antialiased</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.9.2/lib/matplotlib/mathtext.py#L62-L79"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Parse the given math expression <em>s</em> at the given <em>dpi</em>. If <em>prop</em> is provided, it is a <a class="reference internal" href="font_manager_api.html#matplotlib.font_manager.FontProperties" title="matplotlib.font_manager.FontProperties"><code>FontProperties</code></a> object specifying the "default" font to use in the math expression, used for all non-math text.</p> <p>The results are cached, so multiple calls to <a class="reference internal" href="#matplotlib.mathtext.MathTextParser.parse" title="matplotlib.mathtext.MathTextParser.parse"><code>parse</code></a> with the same expression should be fast.</p> <p>Depending on the <em>output</em> type, this returns either a <a class="reference internal" href="#matplotlib.mathtext.VectorParse" title="matplotlib.mathtext.VectorParse"><code>VectorParse</code></a> or a <a class="reference internal" href="#matplotlib.mathtext.RasterParse" title="matplotlib.mathtext.RasterParse"><code>RasterParse</code></a>.</p> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="matplotlib.mathtext.RasterParse"> <em class="property">class</em><span class="sig-prename descclassname">matplotlib.mathtext.</span><span class="sig-name descname">RasterParse</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">ox</span></em>, <em class="sig-param"><span class="n">oy</span></em>, <em class="sig-param"><span class="n">width</span></em>, <em class="sig-param"><span class="n">height</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">image</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.9.2/lib/matplotlib/mathtext.py"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.12)"><code>NamedTuple</code></a></p> <p>The namedtuple type returned by <code>MathTextParser("agg").parse(...)</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Attributes<span class="colon">:</span>
</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>ox, oy</strong><span class="classifier">float</span>
</dt>
<dd>
<p>The offsets are always zero.</p> </dd> <dt>
<strong>width, height, depth</strong><span class="classifier">float</span>
</dt>
<dd>
<p>The global metrics.</p> </dd> <dt>
<strong>image</strong><span class="classifier">FT2Image</span>
</dt>
<dd>
<p>A raster image.</p> </dd> </dl> </dd> </dl> <p>Create new instance of RasterParse(ox, oy, width, height, depth, image)</p> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.RasterParse.depth"> <span class="sig-name descname">depth</span>
</dt> <dd>
<p>Alias for field number 4</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.RasterParse.height"> <span class="sig-name descname">height</span>
</dt> <dd>
<p>Alias for field number 3</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.RasterParse.image"> <span class="sig-name descname">image</span>
</dt> <dd>
<p>Alias for field number 5</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.RasterParse.ox"> <span class="sig-name descname">ox</span>
</dt> <dd>
<p>Alias for field number 0</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.RasterParse.oy"> <span class="sig-name descname">oy</span>
</dt> <dd>
<p>Alias for field number 1</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.RasterParse.width"> <span class="sig-name descname">width</span>
</dt> <dd>
<p>Alias for field number 2</p> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="matplotlib.mathtext.VectorParse"> <em class="property">class</em><span class="sig-prename descclassname">matplotlib.mathtext.</span><span class="sig-name descname">VectorParse</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">width</span></em>, <em class="sig-param"><span class="n">height</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">glyphs</span></em>, <em class="sig-param"><span class="n">rects</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.9.2/lib/matplotlib/mathtext.py"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.12)"><code>NamedTuple</code></a></p> <p>The namedtuple type returned by <code>MathTextParser("path").parse(...)</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Attributes<span class="colon">:</span>
</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>width, height, depth</strong><span class="classifier">float</span>
</dt>
<dd>
<p>The global metrics.</p> </dd> <dt>
<strong>glyphs</strong><span class="classifier">list</span>
</dt>
<dd>
<p>The glyphs including their positions.</p> </dd> <dt>
<strong>rect</strong><span class="classifier">list</span>
</dt>
<dd>
<p>The list of rectangles.</p> </dd> </dl> </dd> </dl> <p>Create new instance of VectorParse(width, height, depth, glyphs, rects)</p> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.VectorParse.depth"> <span class="sig-name descname">depth</span>
</dt> <dd>
<p>Alias for field number 2</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.VectorParse.glyphs"> <span class="sig-name descname">glyphs</span>
</dt> <dd>
<p>Alias for field number 3</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.VectorParse.height"> <span class="sig-name descname">height</span>
</dt> <dd>
<p>Alias for field number 1</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.VectorParse.rects"> <span class="sig-name descname">rects</span>
</dt> <dd>
<p>Alias for field number 4</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="matplotlib.mathtext.VectorParse.width"> <span class="sig-name descname">width</span>
</dt> <dd>
<p>Alias for field number 0</p> </dd>
</dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="matplotlib.mathtext.get_unicode_index"> <span class="sig-prename descclassname">matplotlib.mathtext.</span><span class="sig-name descname">get_unicode_index</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">symbol</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.9.2/lib/matplotlib/_mathtext.py#L53-L72"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Return the integer index (from the Unicode table) of <em>symbol</em>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>symbol</strong><span class="classifier">str</span>
</dt>
<dd>
<p>A single (Unicode) character, a TeX command (e.g. r'pi') or a Type1 symbol name (e.g. 'phi').</p> </dd> </dl> </dd> </dl> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="matplotlib.mathtext.math_to_image"> <span class="sig-prename descclassname">matplotlib.mathtext.</span><span class="sig-name descname">math_to_image</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">filename_or_obj</span></em>, <em class="sig-param"><span class="n">prop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dpi</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/matplotlib/matplotlib/blob/v3.9.2/lib/matplotlib/mathtext.py#L108-L140"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Given a math expression, renders it in a closely-clipped bounding box to an image file.</p> <dl class="field-list"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<dl> <dt>
<strong>s</strong><span class="classifier">str</span>
</dt>
<dd>
<p>A math expression. The math portion must be enclosed in dollar signs.</p> </dd> <dt>
<strong>filename_or_obj</strong><span class="classifier">str or path-like or file-like</span>
</dt>
<dd>
<p>Where to write the image data.</p> </dd> <dt>
<strong>prop</strong><span class="classifier"><a class="reference internal" href="font_manager_api.html#matplotlib.font_manager.FontProperties" title="matplotlib.font_manager.FontProperties"><code>FontProperties</code></a>, optional</span>
</dt>
<dd>
<p>The size and style of the text.</p> </dd> <dt>
<strong>dpi</strong><span class="classifier">float, optional</span>
</dt>
<dd>
<p>The output dpi. If not set, the dpi is determined as for <a class="reference internal" href="_as_gen/matplotlib.figure.figure.savefig.html#matplotlib.figure.Figure.savefig" title="matplotlib.figure.Figure.savefig"><code>Figure.savefig</code></a>.</p> </dd> <dt>
<strong>format</strong><span class="classifier">str, optional</span>
</dt>
<dd>
<p>The output format, e.g., 'svg', 'pdf', 'ps' or 'png'. If not set, the format is determined as for <a class="reference internal" href="_as_gen/matplotlib.figure.figure.savefig.html#matplotlib.figure.Figure.savefig" title="matplotlib.figure.Figure.savefig"><code>Figure.savefig</code></a>.</p> </dd> <dt>
<strong>color</strong><span class="classifier">str, optional</span>
</dt>
<dd>
<p>Foreground color, defaults to <code><a class="reference internal" href="https://matplotlib.org/stable/users/explain/customizing.html?highlight=text.color#matplotlibrc-sample"><span class="std std-ref">rcParams["text.color"]</span></a></code> (default: <code>'black'</code>).</p> </dd> </dl> </dd> </dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2023 Matplotlib Development Team. All rights reserved.<br>Licensed under the Matplotlib License Agreement.<br>
    <a href="https://matplotlib.org/stable/api/mathtext_api.html" class="_attribution-link">https://matplotlib.org/stable/api/mathtext_api.html</a>
  </p>
</div>
