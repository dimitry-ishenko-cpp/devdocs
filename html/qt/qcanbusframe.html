<h1 class="title">QCanBusFrame Class</h1>  <p>QCanBusFrame is a container class representing a single CAN frame. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Header:</td>
<td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QCanBusFrame&gt;</span> </td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> qmake:</td>
<td class="memItemRight bottomAlign"> QT += serialbus</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Since:</td>
<td class="memItemRight bottomAlign"> Qt 5.8</td>
</tr>
</table> <ul> <li><a href="https://doc.qt.io/qt-6.2/qcanbusframe-members.html">List of all members, including inherited members</a></li> </ul> <h2 id="public-types">Public Types
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> class </td>
<td class="memItemRight bottomAlign"><b><a href="qcanbusframe-timestamp.html">TimeStamp</a></b></td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> enum </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#FrameError-enum">FrameError</a></b> { NoError, TransmissionTimeoutError, LostArbitrationError, ControllerError, ProtocolViolationError, â€¦, AnyError }</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> flags </td>
<td class="memItemRight bottomAlign"><b><a href="qcanbusframe.html#FrameError-enum">FrameErrors</a></b></td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> enum </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#FrameType-enum">FrameType</a></b> { UnknownFrame, DataFrame, ErrorFrame, RemoteRequestFrame, InvalidFrame }</td>
</tr> </table> <h2 id="public-functions">Public Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#QCanBusFrame-1">QCanBusFrame</a></b>(QCanBusFrame::FrameId <i>identifier</i>, const QByteArray &amp;<i>data</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#QCanBusFrame">QCanBusFrame</a></b>(QCanBusFrame::FrameType <i>type</i> = DataFrame)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QCanBusFrame::FrameErrors </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#error">error</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QCanBusFrame::FrameId </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#frameId">frameId</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QCanBusFrame::FrameType </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#frameType">frameType</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#hasBitrateSwitch">hasBitrateSwitch</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#hasErrorStateIndicator">hasErrorStateIndicator</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#hasExtendedFrameFormat">hasExtendedFrameFormat</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#hasFlexibleDataRateFormat">hasFlexibleDataRateFormat</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#hasLocalEcho">hasLocalEcho</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#isValid">isValid</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QByteArray </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#payload">payload</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#setBitrateSwitch">setBitrateSwitch</a></b>(bool <i>bitrateSwitch</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#setError">setError</a></b>(QCanBusFrame::FrameErrors <i>error</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#setErrorStateIndicator">setErrorStateIndicator</a></b>(bool <i>errorStateIndicator</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#setExtendedFrameFormat">setExtendedFrameFormat</a></b>(bool <i>isExtended</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#setFlexibleDataRateFormat">setFlexibleDataRateFormat</a></b>(bool <i>isFlexibleData</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#setFrameId">setFrameId</a></b>(QCanBusFrame::FrameId <i>newFrameId</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#setFrameType">setFrameType</a></b>(QCanBusFrame::FrameType <i>newType</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#setLocalEcho">setLocalEcho</a></b>(bool <i>echo</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#setPayload">setPayload</a></b>(const QByteArray &amp;<i>data</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#setTimeStamp">setTimeStamp</a></b>(QCanBusFrame::TimeStamp <i>ts</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QCanBusFrame::TimeStamp </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#timeStamp">timeStamp</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#toString">toString</a></b>() const</td>
</tr> </table> <h2 id="related-non-members">Related Non-Members
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> QDataStream &amp;</td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#operator-lt-lt-1">operator&lt;&lt;</a></b>(QDataStream &amp;<i>out</i>, const QCanBusFrame &amp;<i>frame</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QDataStream &amp;</td>
<td class="memItemRight bottomAlign">
<b><a href="qcanbusframe.html#operator-gt-gt-1">operator&gt;&gt;</a></b>(QDataStream &amp;<i>in</i>, QCanBusFrame &amp;<i>frame</i>)</td>
</tr> </table>   <h2 id="details">Detailed Description
</h2> <p><a href="qcanbusdevice.html">QCanBusDevice</a> can use QCanBusFrame for read and write operations. It contains the frame identifier and the data payload. QCanBusFrame contains the timestamp of the moment it was read.</p>  <p><b>See also </b><a href="qcanbusframe-timestamp.html">QCanBusFrame::TimeStamp</a>.</p>   <h2>Member Type Documentation</h2>  <h3 class="flags" id="FrameError-enum">enum QCanBusFrame::<span class="name">FrameError</span>flags QCanBusFrame::<span class="name">FrameErrors</span>
</h3> <p>This enum describes the possible error types.</p> <table class="valuelist">
<tr class="odd" valign="top">
<th class="tblConst">Constant</th>
<th class="tblval">Value</th>
<th class="tbldscr">Description</th>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::NoError</code></td>
<td class="topAlign tblval"><code>0</code></td>
<td class="topAlign">No error has occurred.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::TransmissionTimeoutError</code></td>
<td class="topAlign tblval"><code>(1 &lt;&lt; 0)</code></td>
<td class="topAlign">The transmission has timed out.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::LostArbitrationError</code></td>
<td class="topAlign tblval"><code>(1 &lt;&lt; 1)</code></td>
<td class="topAlign">The frame could not be sent due to lost arbitration on the bus.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::ControllerError</code></td>
<td class="topAlign tblval"><code>(1 &lt;&lt; 2)</code></td>
<td class="topAlign">The controller encountered an error.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::ProtocolViolationError</code></td>
<td class="topAlign tblval"><code>(1 &lt;&lt; 3)</code></td>
<td class="topAlign">A protocol violation has occurred.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::TransceiverError</code></td>
<td class="topAlign tblval"><code>(1 &lt;&lt; 4)</code></td>
<td class="topAlign">A transceiver error occurred</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::MissingAcknowledgmentError</code></td>
<td class="topAlign tblval"><code>(1 &lt;&lt; 5)</code></td>
<td class="topAlign">The transmission received no acknowledgment.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::BusOffError</code></td>
<td class="topAlign tblval"><code>(1 &lt;&lt; 6)</code></td>
<td class="topAlign">The CAN bus is offline.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::BusError</code></td>
<td class="topAlign tblval"><code>(1 &lt;&lt; 7)</code></td>
<td class="topAlign">A CAN bus error occurred.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::ControllerRestartError</code></td>
<td class="topAlign tblval"><code>(1 &lt;&lt; 8)</code></td>
<td class="topAlign">The controller restarted.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::UnknownError</code></td>
<td class="topAlign tblval"><code>(1 &lt;&lt; 9)</code></td>
<td class="topAlign">An unknown error has occurred.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::AnyError</code></td>
<td class="topAlign tblval"><code>0x1FFFFFFFU</code></td>
<td class="topAlign">Matches every other error type.</td>
</tr> </table> <p>The FrameErrors type is a typedef for <a href="qflags.html">QFlags</a>&lt;FrameError&gt;. It stores an OR combination of FrameError values.</p>   <h3 class="fn" id="FrameType-enum">enum QCanBusFrame::<span class="name">FrameType</span>
</h3> <p>This enum describes the type of the CAN frame.</p> <table class="valuelist">
<tr class="odd" valign="top">
<th class="tblConst">Constant</th>
<th class="tblval">Value</th>
<th class="tbldscr">Description</th>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::UnknownFrame</code></td>
<td class="topAlign tblval"><code>0x0</code></td>
<td class="topAlign">The frame type is unknown.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::DataFrame</code></td>
<td class="topAlign tblval"><code>0x1</code></td>
<td class="topAlign">This value represents a data frame.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::ErrorFrame</code></td>
<td class="topAlign tblval"><code>0x2</code></td>
<td class="topAlign">This value represents an error frame.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::RemoteRequestFrame</code></td>
<td class="topAlign tblval"><code>0x3</code></td>
<td class="topAlign">This value represents a remote request.</td>
</tr> <tr>
<td class="topAlign"><code>QCanBusFrame::InvalidFrame</code></td>
<td class="topAlign tblval"><code>0x4</code></td>
<td class="topAlign">This value represents an invalid frame. This type is used for error reporting.</td>
</tr> </table> <p><b>See also </b><a href="qcanbusframe.html#setFrameType">setFrameType</a>().</p>    <h2>Member Function Documentation</h2>  <h3 class="fn" id="QCanBusFrame-1">QCanBusFrame::<span class="name">QCanBusFrame</span>(<span class="type">QCanBusFrame::FrameId</span> <i>identifier</i>, const <span class="type"><a href="qbytearray.html">QByteArray</a></span> &amp;<i>data</i>)
</h3> <p>Constructs a CAN frame using <i>identifier</i> as the frame identifier and <i>data</i> as the payload.</p>   <h3 class="fn" id="QCanBusFrame">QCanBusFrame::<span class="name">QCanBusFrame</span>(<span class="type"><a href="qcanbusframe.html#FrameType-enum">QCanBusFrame::FrameType</a></span> <i>type</i> = DataFrame)
</h3> <p>Constructs a CAN frame of the specified <i>type</i>.</p>   <h3 class="fn" id="error">
<span class="type"><a href="qcanbusframe.html#FrameError-enum">QCanBusFrame::FrameErrors</a></span> QCanBusFrame::<span class="name">error</span>() const
</h3> <p>Returns the error of the current error frame. If the frame is not an <a href="qcanbusframe.html#FrameType-enum">ErrorFrame</a>, this function returns <a href="qcanbusframe.html#FrameError-enum">NoError</a>.</p> <p><b>See also </b><a href="qcanbusframe.html#setError">setError</a>().</p>   <h3 class="fn" id="frameId">
<span class="type">QCanBusFrame::FrameId</span> QCanBusFrame::<span class="name">frameId</span>() const
</h3> <p>Returns the CAN frame identifier. If the CAN frame uses the extended frame format, the identifier has a maximum of 29 bits; otherwise 11 bits.</p> <p>If the frame is of <a href="qcanbusframe.html#FrameType-enum">ErrorFrame</a> type, this ID is always 0.</p> <p><b>See also </b><a href="qcanbusframe.html#setFrameId">setFrameId</a>() and <a href="qcanbusframe.html#hasExtendedFrameFormat">hasExtendedFrameFormat</a>().</p>   <h3 class="fn" id="frameType">
<span class="type"><a href="qcanbusframe.html#FrameType-enum">QCanBusFrame::FrameType</a></span> QCanBusFrame::<span class="name">frameType</span>() const
</h3> <p>Returns the type of the frame.</p> <p><b>See also </b><a href="qcanbusframe.html#setFrameType">setFrameType</a>().</p>   <h3 class="fn" id="hasBitrateSwitch">
<code>[since 5.9] </code><span class="type">bool</span> QCanBusFrame::<span class="name">hasBitrateSwitch</span>() const
</h3> <p>Returns <code>true</code> if the CAN uses <i>Flexible Data-Rate</i> with <i>Bitrate Switch</i>, to transfer the payload data at a higher data bitrate.</p> <p>This function was introduced in Qt 5.9.</p> <p><b>See also </b><a href="qcanbusframe.html#setBitrateSwitch">setBitrateSwitch</a>() and <a href="qcanbusdevice.html#ConfigurationKey-enum">QCanBusDevice::DataBitRateKey</a>.</p>   <h3 class="fn" id="hasErrorStateIndicator">
<code>[since 5.9] </code><span class="type">bool</span> QCanBusFrame::<span class="name">hasErrorStateIndicator</span>() const
</h3> <p>Returns <code>true</code> if the CAN uses <i>Flexible Data-Rate</i> with <i>Error State Indicator</i> set.</p> <p>This flag is set by the transmitter's CAN FD hardware to indicate the transmitter's error state.</p> <p>This function was introduced in Qt 5.9.</p> <p><b>See also </b><a href="qcanbusframe.html#setErrorStateIndicator">setErrorStateIndicator</a>().</p>   <h3 class="fn" id="hasExtendedFrameFormat">
<span class="type">bool</span> QCanBusFrame::<span class="name">hasExtendedFrameFormat</span>() const
</h3> <p>Returns <code>true</code> if the CAN frame uses a 29bit identifier; otherwise <code>false</code>, implying an 11bit identifier.</p> <p><b>See also </b><a href="qcanbusframe.html#setExtendedFrameFormat">setExtendedFrameFormat</a>() and <a href="qcanbusframe.html#frameId">frameId</a>().</p>   <h3 class="fn" id="hasFlexibleDataRateFormat">
<span class="type">bool</span> QCanBusFrame::<span class="name">hasFlexibleDataRateFormat</span>() const
</h3> <p>Returns <code>true</code> if the CAN frame uses <i>Flexible Data-Rate</i> which allows up to 64 data bytes, otherwise <code>false</code>, implying at most 8 byte of payload.</p> <p><b>See also </b><a href="qcanbusframe.html#setFlexibleDataRateFormat">setFlexibleDataRateFormat</a>() and <a href="qcanbusframe.html#payload">payload</a>().</p>   <h3 class="fn" id="hasLocalEcho">
<code>[since 5.10] </code><span class="type">bool</span> QCanBusFrame::<span class="name">hasLocalEcho</span>() const
</h3> <p>Returns <code>true</code> if the frame is a local echo frame, i.e. a frame that is received as echo when the frame with the same content was successfully sent to the CAN bus. This flag is set for frames sent by the application itself as well as for frames sent by other applications running on the same system.</p> <p><a href="qcanbusdevice.html#ConfigurationKey-enum">QCanBusDevice::ReceiveOwnKey</a> must be set to true to receive echo frames.</p> <p>This function was introduced in Qt 5.10.</p> <p><b>See also </b><a href="qcanbusframe.html#setLocalEcho">setLocalEcho</a>(), <a href="qcanbusdevice.html#ConfigurationKey-enum">QCanBusDevice::ReceiveOwnKey</a>, and <a href="qcanbusdevice.html#ConfigurationKey-enum">QCanBusDevice::LoopbackKey</a>.</p>   <h3 class="fn" id="isValid">
<span class="type">bool</span> QCanBusFrame::<span class="name">isValid</span>() const
</h3> <p>Returns <code>false</code> if the <a href="qcanbusframe.html#frameType">frameType</a>() is <a href="qcanbusframe.html#FrameType-enum">InvalidFrame</a>, the <a href="qcanbusframe.html#hasExtendedFrameFormat">hasExtendedFrameFormat</a>() is not set although <a href="qcanbusframe.html#frameId">frameId</a>() is longer than 11 bit or the payload is longer than the maximal permitted payload length of 64 byte if <i>Flexible Data-Rate</i> mode is enabled or 8 byte if it is disabled. If <a href="qcanbusframe.html#frameType">frameType</a>() is <a href="qcanbusframe.html#FrameType-enum">RemoteRequestFrame</a> and the <i>Flexible Data-Rate</i> mode is enabled at the same time <code>false</code> is also returned.</p> <p>Otherwise this function returns <code>true</code>.</p>   <h3 class="fn" id="payload">
<span class="type"><a href="qbytearray.html">QByteArray</a></span> QCanBusFrame::<span class="name">payload</span>() const
</h3> <p>Returns the data payload of the frame.</p> <p><b>See also </b><a href="qcanbusframe.html#setPayload">setPayload</a>().</p>   <h3 class="fn" id="setBitrateSwitch">
<code>[since 5.9] </code><span class="type">void</span> QCanBusFrame::<span class="name">setBitrateSwitch</span>(<span class="type">bool</span> <i>bitrateSwitch</i>)
</h3> <p>Set the <i>Flexible Data-Rate</i> flag <i>Bitrate Switch</i> flag to <i>bitrateSwitch</i>. The data field of frames with this flag is transferred at a higher data bitrate.</p> <p>This function was introduced in Qt 5.9.</p> <p><b>See also </b><a href="qcanbusframe.html#hasBitrateSwitch">hasBitrateSwitch</a>() and <a href="qcanbusdevice.html#ConfigurationKey-enum">QCanBusDevice::DataBitRateKey</a>.</p>   <h3 class="fn" id="setError">
<span class="type">void</span> QCanBusFrame::<span class="name">setError</span>(<span class="type"><a href="qcanbusframe.html#FrameError-enum">QCanBusFrame::FrameErrors</a></span> <i>error</i>)
</h3> <p>Sets the frame's <i>error</i> type. This function does nothing if <a href="qcanbusframe.html#frameType">frameType</a>() is not an <a href="qcanbusframe.html#FrameType-enum">ErrorFrame</a>.</p> <p><b>See also </b><a href="qcanbusframe.html#error">error</a>().</p>   <h3 class="fn" id="setErrorStateIndicator">
<code>[since 5.9] </code><span class="type">void</span> QCanBusFrame::<span class="name">setErrorStateIndicator</span>(<span class="type">bool</span> <i>errorStateIndicator</i>)
</h3> <p>Set the <i>Flexible Data-Rate</i> flag <i>Error State Indicator</i> flag to <i>errorStateIndicator</i>.</p> <p>When sending CAN FD frames, this flag is automatically set by the CAN FD hardware. <code>QCanBusFrame::setErrorStateIndicator()</code> should only be used for application testing, e.g. on virtual CAN FD busses.</p> <p>This function was introduced in Qt 5.9.</p> <p><b>See also </b><a href="qcanbusframe.html#hasErrorStateIndicator">hasErrorStateIndicator</a>().</p>   <h3 class="fn" id="setExtendedFrameFormat">
<span class="type">void</span> QCanBusFrame::<span class="name">setExtendedFrameFormat</span>(<span class="type">bool</span> <i>isExtended</i>)
</h3> <p>Sets the extended frame format flag to <i>isExtended</i>.</p> <p><b>See also </b><a href="qcanbusframe.html#hasExtendedFrameFormat">hasExtendedFrameFormat</a>().</p>   <h3 class="fn" id="setFlexibleDataRateFormat">
<span class="type">void</span> QCanBusFrame::<span class="name">setFlexibleDataRateFormat</span>(<span class="type">bool</span> <i>isFlexibleData</i>)
</h3> <p>Sets the <i>Flexible Data-Rate</i> flag to <i>isFlexibleData</i>. Those frames can be sent using a higher speed on supporting controllers. Additionally the payload length limit is raised to 64 byte.</p> <p><b>See also </b><a href="qcanbusframe.html#hasFlexibleDataRateFormat">hasFlexibleDataRateFormat</a>().</p>   <h3 class="fn" id="setFrameId">
<span class="type">void</span> QCanBusFrame::<span class="name">setFrameId</span>(<span class="type">QCanBusFrame::FrameId</span> <i>newFrameId</i>)
</h3> <p>Sets the identifier of the CAN frame to <i>newFrameId</i>.</p> <p>The maximum size of a CAN frame identifier is 11 bits, which can be extended up to 29 bits by supporting the <i>CAN extended frame format</i>. The <i>CAN extended frame format</i> setting is automatically set when a <i>newFrameId</i> with more than 11 bits in size is given.</p> <p>When the format is extended and a <i>newFrameId</i> with up to 11 bits or less is passed, the <i>CAN extended frame format</i> setting is <b>not</b> changed.</p> <p><b>See also </b><a href="qcanbusframe.html#frameId">frameId</a>() and <a href="qcanbusframe.html#hasExtendedFrameFormat">hasExtendedFrameFormat</a>().</p>   <h3 class="fn" id="setFrameType">
<span class="type">void</span> QCanBusFrame::<span class="name">setFrameType</span>(<span class="type"><a href="qcanbusframe.html#FrameType-enum">QCanBusFrame::FrameType</a></span> <i>newType</i>)
</h3> <p>Sets the type of the frame to <i>newType</i>.</p> <p><b>See also </b><a href="qcanbusframe.html#frameType">frameType</a>().</p>   <h3 class="fn" id="setLocalEcho">
<code>[since 5.10] </code><span class="type">void</span> QCanBusFrame::<span class="name">setLocalEcho</span>(<span class="type">bool</span> <i>echo</i>)
</h3> <p>Set the <i>Local Echo</i> flag to <i>echo</i>.</p> <p>When sending CAN bus frames with <a href="qcanbusdevice.html#ConfigurationKey-enum">QCanBusDevice::ReceiveOwnKey</a> enabled, all successfully sent frames are echoed to the receive queue and marked as local echo frames. <code>QCanBusFrame::setLocalEcho</code> should therefore only be used for application testing, e.g. on virtual CAN busses.</p> <p>This function was introduced in Qt 5.10.</p> <p><b>See also </b><a href="qcanbusframe.html#hasLocalEcho">hasLocalEcho</a>().</p>   <h3 class="fn" id="setPayload">
<span class="type">void</span> QCanBusFrame::<span class="name">setPayload</span>(const <span class="type"><a href="qbytearray.html">QByteArray</a></span> &amp;<i>data</i>)
</h3> <p>Sets <i>data</i> as the payload for the CAN frame. The maximum size of payload is 8 bytes, which can be extended up to 64 bytes by supporting <i>Flexible Data-Rate</i>. If <i>data</i> contains more than 8 byte the <i>Flexible Data-Rate</i> flag is automatically set. Flexible Data-Rate has to be enabled on the <a href="qcanbusdevice.html">QCanBusDevice</a> by setting the <a href="qcanbusdevice.html#ConfigurationKey-enum">QCanBusDevice::CanFdKey</a>.</p> <p>Frames of type <a href="qcanbusframe.html#FrameType-enum">RemoteRequestFrame</a> (RTR) do not have a payload. However they have to provide an indication of the responses expected payload length. To set the length expection it is necessary to set a fake payload whose length matches the expected payload length of the response. One way of doing this might be as follows:</p> <pre data-language="cpp">QCanBusFrame frame(QCanBusFrame::RemoteRequestFrame);
int expectedResponseLength = ...;
frame.setPayload(QByteArray(expectedResponseLength, 0));</pre> <p><b>See also </b><a href="qcanbusframe.html#payload">payload</a>() and <a href="qcanbusframe.html#hasFlexibleDataRateFormat">hasFlexibleDataRateFormat</a>().</p>   <h3 class="fn" id="setTimeStamp">
<span class="type">void</span> QCanBusFrame::<span class="name">setTimeStamp</span>(<span class="type"><a href="qcanbusframe-timestamp.html">QCanBusFrame::TimeStamp</a></span> <i>ts</i>)
</h3> <p>Sets <i>ts</i> as the timestamp for the CAN frame. Usually, this function is not needed, because the timestamp is created during the read operation and not needed during the write operation.</p> <p><b>See also </b><a href="qcanbusframe.html#timeStamp">timeStamp</a>() and <a href="qcanbusframe-timestamp.html">QCanBusFrame::TimeStamp</a>.</p>   <h3 class="fn" id="timeStamp">
<span class="type"><a href="qcanbusframe-timestamp.html">QCanBusFrame::TimeStamp</a></span> QCanBusFrame::<span class="name">timeStamp</span>() const
</h3> <p>Returns the timestamp of the frame.</p> <p><b>See also </b><a href="qcanbusframe-timestamp.html">QCanBusFrame::TimeStamp</a> and <a href="qcanbusframe.html#setTimeStamp">QCanBusFrame::setTimeStamp</a>().</p>   <h3 class="fn" id="toString">
<span class="type"><a href="qstring.html">QString</a></span> QCanBusFrame::<span class="name">toString</span>() const
</h3> <p>Returns the CAN frame as a formatted string.</p> <p>The output contains the CAN identifier in hexadecimal format, right adjusted to 32 bit, followed by the data length in square brackets and the payload in hexadecimal format.</p> <p>Standard identifiers are filled with spaces while extended identifiers are filled with zeros.</p> <p>Typical outputs are:</p> <pre data-language="cpp">(Error)                                  - error frame
     7FF   [1]  01                       - data frame with standard identifier
1FFFFFFF   [8]  01 23 45 67 89 AB CD EF  - data frame with extended identifier
     400  [10]  01 23 45 67 ... EF 01 23 - CAN FD frame
     123   [5]  Remote Request           - remote frame with standard identifier
00000234   [0]  Remote Request           - remote frame with extended identifier</pre>   <div class="relnonmem"> <h2>Related Non-Members</h2>  <h3 class="fn" id="operator-lt-lt-1">
<span class="type"><a href="qdatastream.html">QDataStream</a></span> &amp;<span class="name">operator&lt;&lt;</span>(<span class="type"><a href="qdatastream.html">QDataStream</a></span> &amp;<i>out</i>, const <span class="type"><a href="qcanbusframe.html#QCanBusFrame">QCanBusFrame</a></span> &amp;<i>frame</i>)
</h3> <p>Writes a <i>frame</i> to the stream (<i>out</i>) and returns a reference to the it.</p>   <h3 class="fn" id="operator-gt-gt-1">
<span class="type"><a href="qdatastream.html">QDataStream</a></span> &amp;<span class="name">operator&gt;&gt;</span>(<span class="type"><a href="qdatastream.html">QDataStream</a></span> &amp;<i>in</i>, <span class="type"><a href="qcanbusframe.html#QCanBusFrame">QCanBusFrame</a></span> &amp;<i>frame</i>)
</h3> <p>Reads a <i>frame</i> from the stream (<i>in</i>) and returns a reference to the it.</p>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-6.2/qcanbusframe.html" class="_attribution-link">https://doc.qt.io/qt-6.2/qcanbusframe.html</a>
  </p>
</div>
