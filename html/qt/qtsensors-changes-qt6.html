<h1 class="title">Changes to Qt Sensors</h1>   <p>Qt 6 is a result of the conscious effort to make the framework more efficient and easy to use.</p> <p>We try to maintain binary and source compatibility for all the public APIs in each release. But some changes were inevitable in an effort to make Qt a better framework.</p> <p>In this topic we summarize those changes in Qt Sensors, and provide guidance to handle them.</p> <h2 id="sensor-gesture-support">Sensor Gesture support
</h2> <p>The Gesture support has been removed. In its current shape the gestures needs rethinking to be of more use for the developers. To track this please see <a href="https://bugreports.qt.io/browse/QTBUG-95649">QTBUG-95649</a>.</p> <h2 id="platform-notes">Platform notes
</h2> <h3 id="windows">Windows
</h3> <p>On Windows, sensors are supported in Qt installations that were built with MSVC.</p> <h3 id="sensorfw">sensorfw
</h3> <p>The <a href="https://git.sailfishos.org/mer-core/sensorfw">sensorfw</a> does not yet have a Qt 6 port and is therefore not yet supported by sensors in Qt 6.</p> <h3 id="ti-sensor-tag">TI Sensor Tag
</h3> <p>Support for TI Sensor Tag has been removed.</p> <h3 id="removed-sensors">Removed sensors
</h3> <p>QAltimeter, QDistanceSensor, QHolsterSensor and their QML counterparts did no longer have a backend implementation and have been removed.</p> <p>QIRProximitySensor, QLidSensor, and QTapSensor have only sensorfw backend, and as such they are not currently listed as supported sensor types.</p> <h3 id="linux">Linux
</h3> <p>The Linux sysfs accelerometer support has been removed. The backend is undocumented and has been without any real activity for almost 10 years.</p> <h2 id="api-changes">API changes
</h2> <h3 id="deleted-typedef-for-qtimestamp">Deleted typedef for qtimestamp
</h3> <p>The typedef for the historical, QtMobility-era, <code>qtimestamp</code> has been removed. Use the actual type <code>quint64</code> directly.</p> <h3 id="renamed-sensor-type-string-to-sensortype">Renamed <code>sensor</code> type string to <code>sensorType</code>
</h3> <p>The subclasses of <a href="qsensor.html">QSensor</a> implement a <code>char const*</code> string which defines the string that identifies the base sensor. This static <code>type</code> field shadowed the baseclass <a href="qsensor.html#type-prop">QSensor::type</a>() method, leading to unnecessary compilation errors and consequent workarounds. The <code>type</code> string has been now renamed as <code>sensorType</code>.</p> <h3 id="renamed-lidreading-backlidchanged-property-to-backlidclosed">Renamed LidReading::backLidChanged property to <code>backLidClosed</code>
</h3> <p>The property name is now aligned with the <code>frontLidClosed</code> property of the same QML type.</p> <h3 id="added-parameter-to-qsensorbackend-sensorbusy-to-be-able-to-also-clear">Added parameter to QSensorBackend::sensorBusy() to be able to also clear
</h3> <p>the busy state</p> <p>The <code>QSensor::busy</code> property and its accessor, <code>QSensor::isBusy()</code>, can be used to check if the sensor is busy or not. To allow this property to better reflect the sensor backend's state, <a href="qsensorbackend.html#sensorBusy">QSensorBackend::sensorBusy</a>() now accepts a boolean parameter. This <code>busy</code> parameter is used to set/unset the backend busy state and notify the <a href="qsensor.html">QSensor</a> interface attached to it.</p> <p>The default value for the <a href="qsensorbackend.html#sensorBusy">QSensorBackend::sensorBusy</a>() parameter is <i>true</i> which results in the original behavior (except the added signal emission). This means that in most if not all cases the changes are not mandatory. Instead it is up to the individual sensor backend implementations to decide if the changes are useful.</p> <h3 id="sensor-type-and-and-qsensor-type-properties-marked-as-constant">Sensor::type and and QSensor::type properties marked as constant
</h3> <p>The <code>type</code> property cannot change after instantiation and is marked as constant in both C++ and QML.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-6.2/qtsensors-changes-qt6.html" class="_attribution-link">https://doc.qt.io/qt-6.2/qtsensors-changes-qt6.html</a>
  </p>
</div>
