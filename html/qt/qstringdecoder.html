<h1 class="title">QStringDecoder Class</h1>  <p>The QStringDecoder class provides a state-based decoder for text. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Header:</td>
<td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QStringDecoder&gt;</span> </td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> CMake:</td>
<td class="memItemRight bottomAlign"> find_package(Qt6 COMPONENTS Core REQUIRED)  target_link_libraries(mytarget PRIVATE Qt6::Core)</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> qmake:</td>
<td class="memItemRight bottomAlign"> QT += core</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Inherits:</td>
<td class="memItemRight bottomAlign"> <a href="qstringconverter.html">QStringConverter</a>
</td>
</tr>
</table> <ul> <li><a href="https://doc.qt.io/qt-6.2/qstringdecoder-members.html">List of all members, including inherited members</a></li> </ul> <p><b>Note:</b> All functions in this class are <a href="17-qdoc-commands-thread.html#reentrant">reentrant</a>.</p> <h2 id="public-functions">Public Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qstringdecoder.html#QStringDecoder-3">QStringDecoder</a></b>(const char *<i>name</i>, QStringConverter::Flags <i>flags</i> = Flag::Default)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qstringdecoder.html#QStringDecoder-2">QStringDecoder</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qstringdecoder.html#QStringDecoder-1">QStringDecoder</a></b>(QStringConverter::Encoding <i>encoding</i>, QStringConverter::Flags <i>flags</i> = Flag::Default)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QChar *</td>
<td class="memItemRight bottomAlign">
<b><a href="qstringdecoder.html#appendToBuffer">appendToBuffer</a></b>(QChar *<i>out</i>, QByteArrayView <i>in</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qstringdecoder.html#decode">decode</a></b>(const QByteArray &amp;<i>ba</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qstringdecoder.html#decode-1">decode</a></b>(QByteArrayView <i>ba</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> qsizetype </td>
<td class="memItemRight bottomAlign">
<b><a href="qstringdecoder.html#requiredSpace">requiredSpace</a></b>(qsizetype <i>inputLength</i>) const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qstringdecoder.html#operator-28-29">operator()</a></b>(const QByteArray &amp;<i>ba</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QString </td>
<td class="memItemRight bottomAlign">
<b><a href="qstringdecoder.html#operator-28-29-1">operator()</a></b>(QByteArrayView <i>ba</i>)</td>
</tr> </table>   <h2 id="details">Detailed Description
</h2> <p>A text decoder converts text an encoded text format that uses a specific encoding into Qt's internal representation.</p> <p>Converting encoded data into a <a href="qstring.html">QString</a> can be achieved using the following code:</p> <pre data-language="cpp">QByteArray encodedString = "...";
auto toUtf16 = QStringDecoder(QStringDecoder::Utf8);
QString string = toUtf16(encodedString);</pre> <p>The decoder remembers any state that is required between calls, so converting data received in chunks, for example, when receiving it over a network, is just as easy, by calling the decoder whenever new data is available:</p> <pre data-language="cpp">auto toUtf16 = QStringDecoder(QStringDecoder::Utf8);

QString string;
while (new_data_available()) {
    QByteArray chunk = get_new_data();
    string += toUtf16(chunk);
}</pre> <p>The QStringDecoder object maintains state between chunks and therefore works correctly even if chunks are split in the middle of a multi-byte character sequence.</p> <p>QStringDecoder objects can't be copied because of their internal state, but can be moved.</p>  <p><b>See also </b><a href="qstringconverter.html">QStringConverter</a> and <a href="qstringencoder.html">QStringEncoder</a>.</p>   <h2>Member Function Documentation</h2>  <div class="fngroup"> <h3 class="fn fngroupitem" id="decode-1">
<span class="type"><a href="qstring.html">QString</a></span> QStringDecoder::<span class="name">decode</span>(<span class="type"><a href="qbytearrayview.html">QByteArrayView</a></span> <i>ba</i>)
</h3>
<h3 class="fn fngroupitem" id="decode">
<span class="type"><a href="qstring.html">QString</a></span> QStringDecoder::<span class="name">decode</span>(const <span class="type"><a href="qbytearray.html">QByteArray</a></span> &amp;<i>ba</i>)
</h3>
<h3 class="fn fngroupitem" id="operator-28-29-1">
<span class="type"><a href="qstring.html">QString</a></span> QStringDecoder::<span class="name">operator()</span>(<span class="type"><a href="qbytearrayview.html">QByteArrayView</a></span> <i>ba</i>)
</h3>
<h3 class="fn fngroupitem" id="operator-28-29">
<span class="type"><a href="qstring.html">QString</a></span> QStringDecoder::<span class="name">operator()</span>(const <span class="type"><a href="qbytearray.html">QByteArray</a></span> &amp;<i>ba</i>)
</h3>
</div> <p>Converts <i>ba</i> and returns the data as a <a href="qstring.html">QString</a>.</p>   <h3 class="fn" id="QStringDecoder-3">QStringDecoder::<span class="name">QStringDecoder</span>(const <span class="type">char</span> *<i>name</i>, <span class="type"><a href="qstringconverter.html#Flag-enum">QStringConverter::Flags</a></span> <i>flags</i> = Flag::Default)
</h3> <p>Creates an decoder object using <i>name</i> and <i>flags</i>. If <i>name</i> is not the name of a known encoding an invalid converter will get created.</p> <p><b>See also </b><a href="qstringconverter.html#isValid">isValid</a>().</p>   <h3 class="fn" id="QStringDecoder-2">QStringDecoder::<span class="name">QStringDecoder</span>()
</h3> <p>Default constructs an decoder. The default decoder is not valid, and can't be used for converting text.</p>   <h3 class="fn" id="QStringDecoder-1">QStringDecoder::<span class="name">QStringDecoder</span>(<span class="type"><a href="qstringconverter.html#Encoding-enum">QStringConverter::Encoding</a></span> <i>encoding</i>, <span class="type"><a href="qstringconverter.html#Flag-enum">QStringConverter::Flags</a></span> <i>flags</i> = Flag::Default)
</h3> <p>Creates an decoder object using <i>encoding</i> and <i>flags</i>.</p>   <h3 class="fn" id="appendToBuffer">
<span class="type"><a href="qchar.html">QChar</a></span> *QStringDecoder::<span class="name">appendToBuffer</span>(<span class="type"><a href="qchar.html">QChar</a></span> *<i>out</i>, <span class="type"><a href="qbytearrayview.html">QByteArrayView</a></span> <i>in</i>)
</h3> <p>Decodes the sequence of bytes viewed by <i>in</i> and writes the decoded result into the buffer starting at <i>out</i>. Returns a pointer to the end of data written.</p> <p><i>out</i> needs to be large enough to be able to hold all the decoded data. Use <a href="qstringdecoder.html#requiredSpace">requiredSpace</a> to determine the maximum size requirements to decode an encoded data buffer of <code>in.size()</code> bytes.</p> <p><b>See also </b><a href="qstringdecoder.html#requiredSpace">requiredSpace</a>.</p>   <h3 class="fn" id="requiredSpace">
<span class="type">qsizetype</span> QStringDecoder::<span class="name">requiredSpace</span>(<span class="type">qsizetype</span> <i>inputLength</i>) const
</h3> <p>Returns the maximum amount of UTF-16 code units required to be able to process <i>inputLength</i> encoded data.</p> <p><b>See also </b><a href="qstringdecoder.html#appendToBuffer">appendToBuffer</a>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-6.2/qstringdecoder.html" class="_attribution-link">https://doc.qt.io/qt-6.2/qstringdecoder.html</a>
  </p>
</div>
