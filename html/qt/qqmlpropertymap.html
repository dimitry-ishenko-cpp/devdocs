<h1 class="title">QQmlPropertyMap Class</h1>  <p>The QQmlPropertyMap class allows you to set key-value pairs that can be used in QML bindings. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Header:</td>
<td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QQmlPropertyMap&gt;</span> </td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> CMake:</td>
<td class="memItemRight bottomAlign"> find_package(Qt6 COMPONENTS Qml REQUIRED)  target_link_libraries(mytarget PRIVATE Qt6::Qml)</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> qmake:</td>
<td class="memItemRight bottomAlign"> QT += qml</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Inherits:</td>
<td class="memItemRight bottomAlign"> <a href="qobject.html">QObject</a>
</td>
</tr>
</table> <ul> <li><a href="https://doc.qt.io/qt-6.2/qqmlpropertymap-members.html">List of all members, including inherited members</a></li> </ul> <h2 id="public-functions">Public Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#QQmlPropertyMap">QQmlPropertyMap</a></b>(QObject *<i>parent</i> = nullptr)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#dtor.QQmlPropertyMap">~QQmlPropertyMap</a></b>() override</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#clear">clear</a></b>(const QString &amp;<i>key</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#contains">contains</a></b>(const QString &amp;<i>key</i>) const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> int </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#count">count</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#freeze">freeze</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#insert">insert</a></b>(const QString &amp;<i>key</i>, const QVariant &amp;<i>value</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#insert-1">insert</a></b>(const QVariantHash &amp;<i>values</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#isEmpty">isEmpty</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QStringList </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#keys">keys</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> int </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#size">size</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QVariant </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#value">value</a></b>(const QString &amp;<i>key</i>) const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QVariant &amp;</td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#operator-5b-5d">operator[]</a></b>(const QString &amp;<i>key</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QVariant </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#operator-5b-5d-1">operator[]</a></b>(const QString &amp;<i>key</i>) const</td>
</tr> </table> <h2 id="signals">Signals
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#valueChanged">valueChanged</a></b>(const QString &amp;<i>key</i>, const QVariant &amp;<i>value</i>)</td>
</tr> </table> <h2 id="protected-functions">Protected Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#QQmlPropertyMap-1">QQmlPropertyMap</a></b>(DerivedType *<i>derived</i>, QObject *<i>parent</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual QVariant </td>
<td class="memItemRight bottomAlign">
<b><a href="qqmlpropertymap.html#updateValue">updateValue</a></b>(const QString &amp;<i>key</i>, const QVariant &amp;<i>input</i>)</td>
</tr> </table>   <h2 id="details">Detailed Description
</h2> <p>QQmlPropertyMap provides a convenient way to expose domain data to the UI layer. The following example shows how you might declare data in C++ and then access it in QML.</p> <p>In the C++ file:</p> <pre data-language="cpp">// create our data
QQmlPropertyMap ownerData;
ownerData.insert("name", QVariant(QString("John Smith")));
ownerData.insert("phone", QVariant(QString("555-5555")));

// expose it to the UI layer
QQuickView view;
QQmlContext *ctxt = view.rootContext();
ctxt-&gt;setContextProperty("owner", &amp;ownerData);

view.setSource(QUrl::fromLocalFile("main.qml"));
view.show();</pre> <p>Then, in <code>main.qml</code>:</p> <pre data-language="cpp">Text { text: owner.name + " " + owner.phone }</pre> <p>The binding is dynamic - whenever a key's value is updated, anything bound to that key will be updated as well.</p> <p>To detect value changes made in the UI layer you can connect to the <a href="qqmlpropertymap.html#valueChanged">valueChanged</a>() signal. However, note that <a href="qqmlpropertymap.html#valueChanged">valueChanged</a>() is <b>NOT</b> emitted when changes are made by calling <a href="qqmlpropertymap.html#insert">insert</a>() or <a href="qqmlpropertymap.html#clear">clear</a>() - it is only emitted when a value is updated from QML.</p> <div class="admonition note"> <p><b>Note: </b>It is not possible to remove keys from the map; once a key has been added, you can only modify or clear its associated value.</p> </div> <div class="admonition note"> <p><b>Note: </b>When deriving a class from QQmlPropertyMap, use the <a href="qqmlpropertymap.html#QQmlPropertyMap-1">protected two-argument constructor</a> which ensures that the class is correctly registered with the Qt <a href="metaobjects.html">Meta-Object System</a>.</p> </div> <div class="admonition note"> <p><b>Note: </b>The <a href="qmetaobject.html">QMetaObject</a> of a QQmlPropertyMap is dynamically generated and modified. Operations on that meta object are not thread safe, so applications need to take care to explicitly synchronize access to the meta object.</p> </div>    <h2>Member Function Documentation</h2>  <h3 class="fn" id="QQmlPropertyMap-1">
<code>[protected] </code>template &lt;typename DerivedType&gt; QQmlPropertyMap::<span class="name">QQmlPropertyMap</span>(<span class="type">DerivedType</span> *<i>derived</i>, <span class="type"><a href="qobject.html#QObject">QObject</a></span> *<i>parent</i>)
</h3> <p>Constructs a bindable map with parent object <i>parent</i>. Use this constructor in classes derived from QQmlPropertyMap.</p> <p>The type of <i>derived</i> is used to register the property map with the <a href="metaobjects.html">Meta-Object System</a>, which is necessary to ensure that properties of the derived class are accessible. This type must be derived from QQmlPropertyMap.</p>   <h3 class="fn" id="QQmlPropertyMap">QQmlPropertyMap::<span class="name">QQmlPropertyMap</span>(<span class="type"><a href="qobject.html#QObject">QObject</a></span> *<i>parent</i> = nullptr)
</h3> <p>Constructs a bindable map with parent object <i>parent</i>.</p>   <h3 class="fn" id="valueChanged">
<code>[signal] </code><span class="type">void</span> QQmlPropertyMap::<span class="name">valueChanged</span>(const <span class="type"><a href="qstring.html">QString</a></span> &amp;<i>key</i>, const <span class="type"><a href="qvariant.html">QVariant</a></span> &amp;<i>value</i>)
</h3> <p>This signal is emitted whenever one of the values in the map is changed. <i>key</i> is the key corresponding to the <i>value</i> that was changed.</p> <div class="admonition note"> <p><b>Note: </b>valueChanged() is <b>NOT</b> emitted when changes are made by calling <a href="qqmlpropertymap.html#insert">insert</a>() or <a href="qqmlpropertymap.html#clear">clear</a>() - it is only emitted when a value is updated from QML.</p> </div>   <h3 class="fn" id="dtor.QQmlPropertyMap">
<code>[override virtual] </code>QQmlPropertyMap::<span class="name">~QQmlPropertyMap</span>()
</h3> <p>Destroys the bindable map.</p>   <h3 class="fn" id="clear">
<span class="type">void</span> QQmlPropertyMap::<span class="name">clear</span>(const <span class="type"><a href="qstring.html">QString</a></span> &amp;<i>key</i>)
</h3> <p>Clears the value (if any) associated with <i>key</i>.</p>   <h3 class="fn" id="contains">
<span class="type">bool</span> QQmlPropertyMap::<span class="name">contains</span>(const <span class="type"><a href="qstring.html">QString</a></span> &amp;<i>key</i>) const
</h3> <p>Returns true if the map contains <i>key</i>.</p> <p><b>See also </b><a href="qqmlpropertymap.html#size">size</a>().</p>   <h3 class="fn" id="count">
<span class="type">int</span> QQmlPropertyMap::<span class="name">count</span>() const
</h3> <p>This is an overloaded function.</p> <p>Same as <a href="qqmlpropertymap.html#size">size</a>().</p>   <h3 class="fn" id="freeze">
<code>[since 6.1] </code><span class="type">void</span> QQmlPropertyMap::<span class="name">freeze</span>()
</h3> <p>Disallows any further properties to be added to this property map. Existing properties can be modified or cleared.</p> <p>In turn, an internal cache is turned on for the existing properties, which may result in faster access from QML.</p> <p>This function was introduced in Qt 6.1.</p>   <h3 class="fn" id="insert">
<span class="type">void</span> QQmlPropertyMap::<span class="name">insert</span>(const <span class="type"><a href="qstring.html">QString</a></span> &amp;<i>key</i>, const <span class="type"><a href="qvariant.html">QVariant</a></span> &amp;<i>value</i>)
</h3> <p>Sets the value associated with <i>key</i> to <i>value</i>.</p> <p>If the key doesn't exist, it is automatically created.</p>   <h3 class="fn" id="insert-1">
<code>[since 6.1] </code><span class="type">void</span> QQmlPropertyMap::<span class="name">insert</span>(const <span class="type">QVariantHash</span> &amp;<i>values</i>)
</h3> <p>Inserts the <i>values</i> into the <a href="qqmlpropertymap.html">QQmlPropertyMap</a>.</p> <p>Keys that don't exist are automatically created.</p> <p>This method is substantially faster than calling <code>insert(key, value)</code> many times in a row.</p> <p>This function was introduced in Qt 6.1.</p>   <h3 class="fn" id="isEmpty">
<span class="type">bool</span> QQmlPropertyMap::<span class="name">isEmpty</span>() const
</h3> <p>Returns true if the map contains no keys; otherwise returns false.</p> <p><b>See also </b><a href="qqmlpropertymap.html#size">size</a>().</p>   <h3 class="fn" id="keys">
<code>[invokable] </code><span class="type"><a href="qstringlist.html">QStringList</a></span> QQmlPropertyMap::<span class="name">keys</span>() const
</h3> <p>Returns the list of keys.</p> <p>Keys that have been cleared will still appear in this list, even though their associated values are invalid QVariants.</p> <p><b>Note: </b>This function can be invoked via the meta-object system and from QML. See <a href="qobject.html#Q_INVOKABLE">Q_INVOKABLE</a>.</p>   <h3 class="fn" id="size">
<span class="type">int</span> QQmlPropertyMap::<span class="name">size</span>() const
</h3> <p>Returns the number of keys in the map.</p> <p><b>See also </b><a href="qqmlpropertymap.html#isEmpty">isEmpty</a>() and <a href="qqmlpropertymap.html#count">count</a>().</p>   <h3 class="fn" id="updateValue">
<code>[virtual protected] </code><span class="type"><a href="qvariant.html">QVariant</a></span> QQmlPropertyMap::<span class="name">updateValue</span>(const <span class="type"><a href="qstring.html">QString</a></span> &amp;<i>key</i>, const <span class="type"><a href="qvariant.html">QVariant</a></span> &amp;<i>input</i>)
</h3> <p>Returns the new value to be stored for the key <i>key</i>. This function is provided to intercept updates to a property from QML, where the value provided from QML is <i>input</i>.</p> <p>Override this function to manipulate the property value as it is updated. Note that this function is only invoked when the value is updated from QML.</p>   <h3 class="fn" id="value">
<span class="type"><a href="qvariant.html">QVariant</a></span> QQmlPropertyMap::<span class="name">value</span>(const <span class="type"><a href="qstring.html">QString</a></span> &amp;<i>key</i>) const
</h3> <p>Returns the value associated with <i>key</i>.</p> <p>If no value has been set for this key (or if the value has been cleared), an invalid <a href="qvariant.html">QVariant</a> is returned.</p>   <h3 class="fn" id="operator-5b-5d">
<span class="type"><a href="qvariant.html">QVariant</a></span> &amp;QQmlPropertyMap::<span class="name">operator[]</span>(const <span class="type"><a href="qstring.html">QString</a></span> &amp;<i>key</i>)
</h3> <p>Returns the value associated with the key <i>key</i> as a modifiable reference.</p> <p>If the map contains no item with key <i>key</i>, the function inserts an invalid <a href="qvariant.html">QVariant</a> into the map with key <i>key</i>, and returns a reference to it.</p> <p><b>See also </b><a href="qqmlpropertymap.html#insert">insert</a>() and <a href="qqmlpropertymap.html#value">value</a>().</p>   <h3 class="fn" id="operator-5b-5d-1">
<span class="type"><a href="qvariant.html">QVariant</a></span> QQmlPropertyMap::<span class="name">operator[]</span>(const <span class="type"><a href="qstring.html">QString</a></span> &amp;<i>key</i>) const
</h3> <p>This is an overloaded function.</p> <p>Same as <a href="qqmlpropertymap.html#value">value</a>().</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-6.2/qqmlpropertymap.html" class="_attribution-link">https://doc.qt.io/qt-6.2/qqmlpropertymap.html</a>
  </p>
</div>
