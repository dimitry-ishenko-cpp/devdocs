<h1 class="title">Changes to Qt WebEngine</h1>   <p>Qt 6 is a result of the conscious effort to make the framework more efficient and easy to use.</p> <p>We try to maintain binary and source compatibility for all the public APIs in each release. But some changes were inevitable in an effort to make Qt a better framework</p> <p>In this topic we summarize those changes in Qt <a href="qml-qtwebengine-webengine.html">WebEngine</a>, and provide guidance to handle them.</p> <h2 id="moved-classes">Moved Classes
</h2> <h3 id="the-qt-webengine-module">The Qt WebEngine module
</h3> <p>Has been renamed to the Qt WebEngineQuick module to not collide with the name of the super module, and to be consistent with other Quick modules.</p> <p>If you port your Qt Quick application, please remember to use the new module name in your qmake project file.</p> <pre data-language="cpp">QT += webenginequick</pre> <h3 id="classes-moved-from-qt-webenginewidgets-to-qt-webenginecore">Classes moved from Qt WebEngineWidgets to Qt WebEngineCore
</h3> <p>Several classes have been moved from Qt WebEngineWidgets to Qt WebEngineCore if they did not use the Widgets module. In most cases this change should be source compatible unless you included the module name in the include header, in which case you need to update your includes.</p> <h4 id="classes-moved-with-minimal-changes">Classes moved with minimal changes
</h4> <ul> <li><a href="qwebenginehistory.html">QWebEngineHistory</a></li> <li><a href="qwebengineprofile.html">QWebEngineProfile</a></li> <li><a href="qwebenginescript.html">QWebEngineScript</a></li> <li><a href="qwebenginescriptcollection.html">QWebEngineScriptCollection</a></li> <li><a href="qwebengineclientcertificateselection.html">QWebEngineClientCertificateSelection</a></li> <li><a href="qwebenginesettings.html">QWebEngineSettings</a></li> <li><a href="qwebenginefullscreenrequest.html">QWebEngineFullScreenRequest</a></li> </ul> <h4 id="qwebenginecertificateerror">QWebEngineCertificateError
</h4> <p>Has been unified between QML and C++ versions, so both are now accepted or rejected via methods on the class.</p> <h4 id="qwebenginecontextmenudata">QWebEngineContextMenuData
</h4> <p>Has been moved to Core and renamed <a href="qwebenginecontextmenurequest.html">QWebEngineContextMenuRequest</a>.</p> <h4 id="qwebenginedownloaditem">QWebEngineDownloadItem
</h4> <p>Has been moved to Core and renamed <a href="qwebenginedownloadrequest.html">QWebEngineDownloadRequest</a>.</p> <h4 id="qwebenginepage">QWebEnginePage
</h4> <p>Has been moved to Core, and API that worked on <a href="qwebengineview.html">QWebEngineView</a> or <a href="qprinter.html">QPrinter</a> has been moved, and can now be accessed only from <a href="qwebengineview.html">QWebEngineView</a>. See Changed API.</p> <h3 id="classes-moved-from-qt-webenginequick-to-qt-webenginecore">Classes moved from Qt WebEngineQuick to Qt WebEngineCore
</h3> <h4 id="webenginenavigationrequest">WebEngineNavigationRequest
</h4> <p>Is now <a href="qwebenginenavigationrequest.html">QWebEngineNavigationRequest</a>, and accessible from C++ API as well, adding a more informative variant of <a href="qwebenginepage.html#acceptNavigationRequest">QWebEnginePage::acceptNavigationRequest</a>().</p> <h4 id="webenginenewviewrequest">WebEngineNewViewRequest
</h4> <p>Is now <a href="qml-webenginenewwindowrequest.html">WebEngineNewWindowRequest</a> and <a href="qwebenginenewwindowrequest.html">QWebEngineNewWindowRequest</a>, and accessible from C++ API as well, adding a more informative variant of <a href="qwebenginepage.html#createWindow">QWebEnginePage::createWindow</a>().</p> <h2 id="changed-api">Changed API
</h2> <h3 id="c">C++
</h3> <h4 id="qwebenginepage-certificateerror">QWebEnginePage::certificateError()
</h4> <p>Is now a signal instead of a derived method. The errors are either accepted or rejected via methods on the <a href="qwebenginecertificateerror.html">QWebEngineCertificateError</a> class.</p> <h4 id="qwebenginepage-print">QWebEnginePage::print()
</h4> <p>Has been moved to <a href="qwebengineview.html#print">QWebEngineView::print</a>() and no longer takes a callback argument but signals finished with <a href="qwebengineview.html#printFinished">QWebEngineView::printFinished</a>() instead. It was never possible to have two active print jobs at the same time.</p> <h4 id="qwebenginepage-view">QWebEnginePage::view()
</h4> <p>Has been removed as <a href="qwebenginepage.html">QWebEnginePage</a> and <a href="qwebengineview.html">QWebEngineView</a> are now in different modules. The view associated with a page can be accessed using the static helper <a href="qwebengineview.html#forPage">QWebEngineView::forPage</a>().</p> <h4 id="qwebengineprofile-defaultprofile">QWebEngineProfile::defaultProfile()
</h4> <p>Has been removed. The default profile is now an off-the-record profile, and only used if a <a href="qwebenginepage.html">QWebEnginePage</a> is created without an explicit profile. To maintain Qt 5 like behavior, create a global profile called "Default" and use it when creating every <a href="qwebenginepage.html">QWebEnginePage</a>.</p> <h3 id="qml">QML
</h3> <h4 id="webenginenavigationrequest">WebEngineNavigationRequest
</h4> <p>The navigation requests are now accepted or rejected like other request objects using accept() or reject() methods.</p> <h4 id="webenginenewviewrequest">WebEngineNewViewRequest
</h4> <p>Has been renamed <a href="qml-webenginenewwindowrequest.html">WebEngineNewWindowRequest</a>.</p> <h2 id="changed-behavior">Changed Behavior
</h2> <h3 id="default-profile">Default Profile
</h3> <p>The default profile is now <i>off the record</i>. To have a standard browser profile with disk-cache and cookies, we recommend creating your own profile and using that explicitly.</p> <h3 id="qrc-scheme">QRC Scheme
</h3> <p>Can no longer be accessed from custom schemes by default, nor can it access local content directly. If the Qt 5 behavior is needed, it can be restored by registering the qrc scheme like a custom URL scheme, and setting the CorsEnabled and LocalAccessAllowed access flags.</p> <pre data-language="cpp">QWebEngineUrlScheme qrcScheme(QByteArrayLiteral("qrc"));
qrcScheme.setFlags(QWebEngineUrlScheme::SecureScheme
                   | QWebEngineUrlScheme::LocalAccessAllowed
                   | QWebEngineUrlScheme::CorsEnabled
                   | QWebEngineUrlScheme::ViewSourceAllowed);
QWebEngineUrlScheme::registerScheme(qrcScheme);</pre> <h3 id="ocsp-certificate-revocation-checking">OCSP Certificate Revocation Checking
</h3> <p>In Qt 5 OCSP could be enabled on Linux using QWebEngineProfile::setUseForGlobalCertificateVerification(true) on a <a href="qwebengineprofile.html">QWebEngineProfile</a>. This has been removed in Qt6 as this specific form of OCSP is considered bad. As of Qt 6.2, no new method for revoked certificate checking on Linux has yet been added.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-6.2/qtwebengine-changes-qt6.html" class="_attribution-link">https://doc.qt.io/qt-6.2/qtwebengine-changes-qt6.html</a>
  </p>
</div>
