<h1 id="cookies">Cookies</h1> <p>An <strong>HTTP cookie</strong> (web cookie, browser cookie) is a small piece of data that a server sends to the user’s web browser. The browser may store it and send it back with later requests to the same server. Typically, it’s used to tell if two requests came from the same browser — keeping a user logged-in, for example. It remembers stateful information for the stateless HTTP protocol.</p> <p>Cookies are mainly used for three purposes:</p> <ul class="simple"> <li>
<strong>Session management</strong>: Logins, shopping carts, game scores, or anything else the server should remember</li> <li>
<strong>Personalization</strong>: User preferences, themes, and other settings</li> <li>
<strong>Tracking</strong>: Recording and analyzing user behavior</li> </ul> <p>To help you efficiently use cookies across browsers with your request and response, CodeIgniter provides the <code>CodeIgniter\Cookie\Cookie</code> class to abstract the cookie interaction.</p>  <ul class="simple"> <li><a class="reference internal" href="#creating-cookies" id="id1">Creating Cookies</a></li> <li><a class="reference internal" href="#accessing-cookie-s-attributes" id="id2">Accessing Cookie’s Attributes</a></li> <li><a class="reference internal" href="#immutable-cookies" id="id3">Immutable Cookies</a></li> <li>
<a class="reference internal" href="#validating-a-cookie-s-attributes" id="id4">Validating a Cookie’s Attributes</a><ul> <li><a class="reference internal" href="#validating-the-name-attribute" id="id5">Validating the Name Attribute</a></li> <li><a class="reference internal" href="#validating-the-prefix-attribute" id="id6">Validating the Prefix Attribute</a></li> <li><a class="reference internal" href="#validating-the-samesite-attribute" id="id7">Validating the SameSite Attribute</a></li> </ul> </li> <li>
<a class="reference internal" href="#using-the-cookie-store" id="id8">Using the Cookie Store</a><ul> <li><a class="reference internal" href="#checking-cookies-in-store" id="id9">Checking Cookies in Store</a></li> <li><a class="reference internal" href="#getting-cookies-in-store" id="id10">Getting Cookies in Store</a></li> <li><a class="reference internal" href="#adding-removing-cookies-in-store" id="id11">Adding/Removing Cookies in Store</a></li> <li><a class="reference internal" href="#dispatching-cookies-in-store" id="id12">Dispatching Cookies in Store</a></li> </ul> </li> <li><a class="reference internal" href="#cookie-personalization" id="id13">Cookie Personalization</a></li> <li><a class="reference internal" href="#class-reference" id="id14">Class Reference</a></li> </ul>   <h2 id="creating-cookies">Creating Cookies</h2> <p>There are currently four (4) ways to create a new <code>Cookie</code> value object.</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;
use DateTime;

// Using the constructor
$cookie = new Cookie(
    'remember_token',
    'f699c7fd18a8e082d0228932f3acd40e1ef5ef92efcedda32842a211d62f0aa6',
    [
        'expires'  =&gt; new DateTime('+2 hours'),
        'prefix'   =&gt; '__Secure-',
        'path'     =&gt; '/',
        'domain'   =&gt; '',
        'secure'   =&gt; true,
        'httponly' =&gt; true,
        'raw'      =&gt; false,
        'samesite' =&gt; Cookie::SAMESITE_LAX,
    ]
);

// Supplying a Set-Cookie header string
$cookie = Cookie::fromHeaderString(
    'remember_token=f699c7fd18a8e082d0228932f3acd40e1ef5ef92efcedda32842a211d62f0aa6; Path=/; Secure; HttpOnly; SameSite=Lax',
    false, // raw
);

// Using the fluent builder interface
$cookie = (new Cookie('remember_token'))
    -&gt;withValue('f699c7fd18a8e082d0228932f3acd40e1ef5ef92efcedda32842a211d62f0aa6')
    -&gt;withPrefix('__Secure-')
    -&gt;withExpires(new DateTime('+2 hours'))
    -&gt;withPath('/')
    -&gt;withDomain('')
    -&gt;withSecure(true)
    -&gt;withHTTPOnly(true)
    -&gt;withSameSite(Cookie::SAMESITE_LAX);

// Using the global function `cookie` which implicitly calls `new Cookie()`
$cookie = cookie('remember_token', 'f699c7fd18a8e082d0228932f3acd40e1ef5ef92efcedda32842a211d62f0aa6');
</pre> <p>When constructing the <code>Cookie</code> object, only the <code>name</code> attribute is required. All other else are optional. If the optional attributes are not modified, their values will be filled up by the default values saved in the <code>Cookie</code> class. To override the defaults currently stored in the class, you can pass a <code>Config\Cookie</code> instance or an array of defaults to the static <code>Cookie::setDefaults()</code> method.</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;
use Config\Cookie as CookieConfig;

// pass in an Config\Cookie instance before constructing a Cookie class
Cookie::setDefaults(new CookieConfig());
$cookie = new Cookie('login_token');

// pass in an array of defaults
$myDefaults = [
    'expires'  =&gt; 0,
    'samesite' =&gt; Cookie::SAMESITE_STRICT,
];
Cookie::setDefaults($myDefaults);
$cookie = new Cookie('login_token');
</pre> <p>Passing the <code>Config\Cookie</code> instance or an array to <code>Cookie::setDefaults()</code> will effectively overwrite your defaults and will persist until new defaults are passed. If you do not want this behavior but only want to change defaults for a limited time, you can take advantage of <code>Cookie::setDefaults()</code> return which returns the old defaults array.</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;
use Config\Cookie as CookieConfig;

$oldDefaults = Cookie::setDefaults(new CookieConfig());
$cookie = new Cookie('my_token', 'muffins');

// return the old defaults
Cookie::setDefaults($oldDefaults);
</pre>   <h2 id="accessing-cookie-s-attributes">Accessing Cookie’s Attributes</h2> <p>Once instantiated, you can easily access a <code>Cookie</code>’s attribute by using one of its getter methods.</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;
use DateTime;
use DateTimeZone;

$cookie = new Cookie(
    'remember_token',
    'f699c7fd18a8e082d0228932f3acd40e1ef5ef92efcedda32842a211d62f0aa6',
    [
        'expires'  =&gt; new DateTime('2025-02-14 00:00:00', new DateTimeZone('UTC')),
        'prefix'   =&gt; '__Secure-',
        'path'     =&gt; '/',
        'domain'   =&gt; '',
        'secure'   =&gt; true,
        'httponly' =&gt; true,
        'raw'      =&gt; false,
        'samesite' =&gt; Cookie::SAMESITE_LAX,
    ]
);

$cookie-&gt;getName(); // 'remember_token'
$cookie-&gt;getPrefix(); // '__Secure-'
$cookie-&gt;getPrefixedName(); // '__Secure-remember_token'
$cookie-&gt;getExpiresTimestamp(); // Unix timestamp
$cookie-&gt;getExpiresString(); // 'Fri, 14-Feb-2025 00:00:00 GMT'
$cookie-&gt;isExpired(); // false
$cookie-&gt;getMaxAge(); // the difference from time() to expires
$cookie-&gt;isRaw(); // false
$cookie-&gt;isSecure(); // true
$cookie-&gt;getPath(); // '/'
$cookie-&gt;getDomain(); // ''
$cookie-&gt;isHTTPOnly(); // true
$cookie-&gt;getSameSite(); // 'Lax'

// additional getter
$cookie-&gt;getId(); // '__Secure-remember_token;;/'

// when using `setcookie()`'s alternative signature on PHP 7.3+
// you can easily use the `getOptions()` method to supply the
// $options parameter
$cookie-&gt;getOptions();
</pre>   <h2 id="immutable-cookies">Immutable Cookies</h2> <p>A new <code>Cookie</code> instance is an immutable value object representation of an HTTP cookie. Being immutable, modifying any of the instance’s attributes will not affect the original instance. The modification <strong>always</strong> returns a new instance. You need to retain this new instance in order to use it.</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;

$cookie = new Cookie('login_token', 'admin');
$cookie-&gt;getName(); // 'login_token'

$cookie-&gt;withName('remember_token');
$cookie-&gt;getName(); // 'login_token'

$new = $cookie-&gt;withName('remember_token');
$new-&gt;getName(); // 'remember_token'
</pre>   <h2 id="validating-a-cookie-s-attributes">Validating a Cookie’s Attributes</h2> <p>An HTTP cookie is regulated by several specifications that need to be followed in order to be accepted by browsers. Thus, when creating or modifying certain attributes of the <code>Cookie</code>, these are validated in order to check if these follow the specifications.</p> <p>A <code>CookieException</code> is thrown if violations were reported.</p>  <h3 id="validating-the-name-attribute">Validating the Name Attribute</h3> <p>A cookie name can be any US-ASCII character, except for the following:</p> <ul class="simple"> <li>control characters;</li> <li>spaces or tabs;</li> <li>separator characters, such as <code>( ) &lt; &gt; @ , ; : \ " / [ ] ? = { }</code>
</li> </ul> <p>If setting the <code>$raw</code> parameter to <code>true</code> this validation will be strictly made. This is because PHP’s <code>setcookie</code> and <code>setrawcookie</code> will reject cookies with invalid names. Additionally, cookie names cannot be an empty string.</p>   <h3 id="validating-the-prefix-attribute">Validating the Prefix Attribute</h3> <p>When using the <code>__Secure-</code> prefix, cookies must be set with the <code>$secure</code> flag set to <code>true</code>. If using the <code>__Host-</code> prefix, cookies must exhibit the following:</p> <ul class="simple"> <li>
<code>$secure</code> flag set to <code>true</code>
</li> <li>
<code>$domain</code> is empty</li> <li>
<code>$path</code> must be <code>/</code>
</li> </ul>   <h3 id="validating-the-samesite-attribute">Validating the SameSite Attribute</h3> <p>The SameSite attribute only accepts three (3) values:</p> <ul class="simple"> <li>
<strong>Lax</strong>: Cookies are not sent on normal cross-site subrequests (for example to load images or frames into a third party site), but are sent when a user is navigating to the origin site (<em>i.e.</em> when following a link).</li> <li>
<strong>Strict</strong>: Cookies will only be sent in a first-party context and not be sent along with requests initiated by third party websites.</li> <li>
<strong>None</strong>: Cookies will be sent in all contexts, <em>i.e.</em> in responses to both first-party and cross-origin requests.</li> </ul> <p>CodeIgniter, however, allows you to set the SameSite attribute to an empty string. When an empty string is provided, the default SameSite setting saved in the <code>Cookie</code> class is used. You can change the default SameSite by using the <code>Cookie::setDefaults()</code> as discussed above.</p> <p>Recent cookie specifications have changed such that modern browsers are being required to give a default SameSite if nothing was provided. This default is <code>Lax</code>. If you have set the SameSite to be an empty string and your default SameSite is also an empty string, your cookie will be given the <code>Lax</code> value.</p> <p>If the SameSite is set to <code>None</code> you need to make sure that <code>Secure</code> is also set to <code>true</code>.</p> <p>When writing the SameSite attribute, the <code>Cookie</code> class accepts any of the values case-insensitively. You can also take advantage of the class’s constants to make it not a hassle.</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;

Cookie::SAMESITE_LAX; // 'lax'
Cookie::SAMESITE_STRICT; // 'strict'
Cookie::SAMESITE_NONE; // 'none'
</pre>    <h2 id="using-the-cookie-store">Using the Cookie Store</h2> <p>The <code>CookieStore</code> class represents an immutable collection of <code>Cookie</code> objects. The <code>CookieStore</code> instance can be accessed from the current <code>Response</code> object.</p> <pre data-language="php">use Config\Services;

$cookieStore = Services::response()-&gt;getCookieStore();
</pre> <p>CodeIgniter provides three (3) other ways to create a new instance of the <code>CookieStore</code>.</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;
use CodeIgniter\Cookie\CookieStore;

// Passing an array of `Cookie` objects in the constructor
$store = new CookieStore([
    new Cookie('login_token'),
    new Cookie('remember_token'),
]);

// Passing an array of `Set-Cookie` header strings
$store = CookieStore::fromCookieHeaders([
    'remember_token=me; Path=/; SameSite=Lax',
    'login_token=admin; Path=/; SameSite=Lax',
]);

// using the global `cookies` function
$store = cookies([new Cookie('login_token')], false);

// retrieving the `CookieStore` instance saved in our current `Response` object
$store = cookies();
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">When using the global <code>cookies()</code> function, the passed <code>Cookie</code> array will only be considered if the second argument, <code>$getGlobal</code>, is set to <code>false</code>.</p> </div>  <h3 id="checking-cookies-in-store">Checking Cookies in Store</h3> <p>To check whether a <code>Cookie</code> object exists in the <code>CookieStore</code> instance, you can use several ways:</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;
use CodeIgniter\Cookie\CookieStore;
use Config\Services;

// check if cookie is in the current cookie collection
$store = new CookieStore([
    new Cookie('login_token'),
    new Cookie('remember_token'),
]);
$store-&gt;has('login_token');

// check if cookie is in the current Response's cookie collection
cookies()-&gt;has('login_token');
Services::response()-&gt;hasCookie('remember_token');

// using the cookie helper to check the current Response
// not available to v4.1.1 and lower
helper('cookie');
has_cookie('login_token');
</pre>   <h3 id="getting-cookies-in-store">Getting Cookies in Store</h3> <p>Retrieving a <code>Cookie</code> instance in a cookie collection is very easy:</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;
use CodeIgniter\Cookie\CookieStore;
use Config\Services;

// getting cookie in the current cookie collection
$store = new CookieStore([
    new Cookie('login_token'),
    new Cookie('remember_token'),
]);
$store-&gt;get('login_token');

// getting cookie in the current Response's cookie collection
cookies()-&gt;get('login_token');
Services::response()-&gt;getCookie('remember_token');

// using the cookie helper to get cookie from the Response's cookie collection
helper('cookie');
get_cookie('remember_token');
</pre> <p>When getting a <code>Cookie</code> instance directly from a <code>CookieStore</code>, an invalid name will throw a <code>CookieException</code>.</p> <pre data-language="php">// throws CookieException
$store-&gt;get('unknown_cookie');
</pre> <p>When getting a <code>Cookie</code> instance from the current <code>Response</code>’s cookie collection, an invalid name will just return <code>null</code>.</p> <pre data-language="php">cookies()-&gt;get('unknown_cookie'); // null
</pre> <p>If no arguments are supplied in when getting cookies from the <code>Response</code>, all <code>Cookie</code> objects in store will be displayed.</p> <pre data-language="php">cookies()-&gt;get(); // array of Cookie objects

// alternatively, you can use the display method
cookies()-&gt;display();

// or even from the Response
Services::response()-&gt;getCookies();
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The helper function <code>get_cookie()</code> gets the cookie from the current <code>Request</code> object, not from <code>Response</code>. This function checks the <code>$_COOKIE</code> array if that cookie is set and fetches it right away.</p> </div>   <h3 id="adding-removing-cookies-in-store">Adding/Removing Cookies in Store</h3> <p>As previously mentioned, <code>CookieStore</code> objects are immutable. You need to save the modified instance in order to work on it. The original instance is left unchanged.</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;
use CodeIgniter\Cookie\CookieStore;
use Config\Services;

$store = new CookieStore([
    new Cookie('login_token'),
    new Cookie('remember_token'),
]);

// adding a new Cookie instance
$new = $store-&gt;put(new Cookie('admin_token', 'yes'));

// removing a Cookie instance
$new = $store-&gt;remove('login_token');
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Removing a cookie from the store <strong>DOES NOT</strong> delete it from the browser. If you intend to delete a cookie <em>from the browser</em>, you must put an empty value cookie with the same name to the store.</p> </div> <p>When interacting with the cookies in store in the current <code>Response</code> object, you can safely add or delete cookies without worrying the immutable nature of the cookie collection. The <code>Response</code> object will replace the instance with the modified instance.</p> <pre data-language="php">use Config\Services;

Services::response()-&gt;setCookie('admin_token', 'yes');
Services::response()-&gt;deleteCookie('login_token');

// using the cookie helper
helper('cookie');
set_cookie('admin_token', 'yes');
delete_cookie('login_token');
</pre>   <h3 id="dispatching-cookies-in-store">Dispatching Cookies in Store</h3> <p>More often than not, you do not need to concern yourself in manually sending cookies. CodeIgniter will do this for you. However, if you really need to manually send cookies, you can use the <code>dispatch</code> method. Just like in sending other headers, you need to make sure the headers are not yet sent by checking the value of <code>headers_sent()</code>.</p> <pre data-language="php">use CodeIgniter\Cookie\Cookie;
use CodeIgniter\Cookie\CookieStore;

$store = new CookieStore([
    new Cookie('login_token'),
    new Cookie('remember_token'),
]);

$store-&gt;dispatch(); // After dispatch, the collection is now empty.
</pre>    <h2 id="cookie-personalization">Cookie Personalization</h2> <p>Sane defaults are already in place inside the <code>Cookie</code> class to ensure the smooth creation of cookie objects. However, you may wish to define your own settings by changing the following settings in the <code>Config\Cookie</code> class in <strong>app/Config/Cookie.php</strong> file.</p> <table class="docutils">  <thead valign="bottom"> <tr>
<th class="head">Setting</th> <th class="head">Options/ Types</th> <th class="head">Default</th> <th class="head">Description</th> </tr> </thead>  <tr>
<td><strong>$prefix</strong></td> <td><code>string</code></td> <td><code>''</code></td> <td>Prefix to prepend to the cookie name.</td> </tr> <tr>
<td><strong>$expires</strong></td> <td><code>DateTimeInterface|string|int</code></td> <td><code>0</code></td> <td>The expires timestamp.</td> </tr> <tr>
<td><strong>$path</strong></td> <td><code>string</code></td> <td><code>/</code></td> <td>The path property of the cookie.</td> </tr> <tr>
<td><strong>$domain</strong></td> <td><code>string</code></td> <td><code>''</code></td> <td>The domain property of the cookie.with trailing slash.</td> </tr> <tr>
<td><strong>$secure</strong></td> <td><code>true/false</code></td> <td><code>false</code></td> <td>If to be sent over secure HTTPS.</td> </tr> <tr>
<td><strong>$httponly</strong></td> <td><code>true/false</code></td> <td><code>true</code></td> <td>If not accessible to JavaScript.</td> </tr> <tr>
<td><strong>$samesite</strong></td> <td><code>Lax|None|Strict|lax|none|strict''</code></td> <td><code>Lax</code></td> <td>The SameSite attribute.</td> </tr> <tr>
<td><strong>$raw</strong></td> <td><code>true/false</code></td> <td><code>false</code></td> <td>If to be dispatched using <code>setrawcookie()</code>.</td> </tr>  </table> <p>In runtime, you can manually supply a new default using the <code>Cookie::setDefaults()</code> method.</p>   <h2 id="class-reference">Class Reference</h2> <dl class="class"> <dt>
<code>CodeIgniter\HTTP\Cookie\Cookie</code> </dt> <dd>
<dl class="staticmethod"> <dt id="setDefaults">
<code>static setDefaults([$config = []])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$config</strong> (<em>ConfigCookie|array</em>) – The configuration array or instance</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first">array&lt;string, mixed&gt;</p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">The old defaults</p> </td> </tr>  </table> <p>Set the default attributes to a Cookie instance by injecting the values from the <code>\Config\Cookie</code> config or an array.</p> </dd>
</dl> <dl class="staticmethod"> <dt id="fromHeaderString">
<code>static fromHeaderString(string $header[, bool $raw = false])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$header</strong> (<em>string</em>) – The <code>Set-Cookie</code> header string</li> <li>
<strong>$raw</strong> (<em>bool</em>) – Whether this cookie is not to be URL encoded and sent via <code>setrawcookie()</code>
</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><code>Cookie</code> instance</p> </td> </tr> <tr>
<th class="field-name">Throws:</th>
<td class="field-body">
<p class="first last"><code>CookieException</code></p> </td> </tr>  </table> <p>Create a new Cookie instance from a <code>Set-Cookie</code> header.</p> </dd>
</dl> <dl class="method"> <dt id="__construct">
<code>__construct(string $name[, string $value = ''[, array $options = []]])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$name</strong> (<em>string</em>) – The cookie name</li> <li>
<strong>$value</strong> (<em>string</em>) – The cookie value</li> <li>
<strong>$options</strong> (<em>array</em>) – The cookie options</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><code>Cookie</code> instance</p> </td> </tr> <tr>
<th class="field-name">Throws:</th>
<td class="field-body">
<p class="first last"><code>CookieException</code></p> </td> </tr>  </table> <p>Construct a new Cookie instance.</p> </dd>
</dl> <dl class="method"> <dt id="getId">
<code>getId()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Return type:</th>
<td class="field-body">string</td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">The ID used in indexing in the cookie collection.</td> </tr>  </table> </dd>
</dl> <dl class="method"> <dt>
<code>getPrefix(): string</code> </dt> 
</dl> <dl class="method"> <dt>
<code>getName(): string</code> </dt> 
</dl> <dl class="method"> <dt>
<code>getPrefixedName(): string</code> </dt> 
</dl> <dl class="method"> <dt>
<code>getValue(): string</code> </dt> 
</dl> <dl class="method"> <dt>
<code>getExpiresTimestamp(): int</code> </dt> 
</dl> <dl class="method"> <dt>
<code>getExpiresString(): string</code> </dt> 
</dl> <dl class="method"> <dt>
<code>isExpired(): bool</code> </dt> 
</dl> <dl class="method"> <dt>
<code>getMaxAge(): int</code> </dt> 
</dl> <dl class="method"> <dt>
<code>getDomain(): string</code> </dt> 
</dl> <dl class="method"> <dt>
<code>getPath(): string</code> </dt> 
</dl> <dl class="method"> <dt>
<code>isSecure(): bool</code> </dt> 
</dl> <dl class="method"> <dt>
<code>isHTTPOnly(): bool</code> </dt> 
</dl> <dl class="method"> <dt>
<code>getSameSite(): string</code> </dt> 
</dl> <dl class="method"> <dt>
<code>isRaw(): bool</code> </dt> 
</dl> <dl class="method"> <dt>
<code>getOptions(): array</code> </dt> 
</dl> <dl class="method"> <dt id="withRaw">
<code>withRaw([bool $raw = true])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$raw</strong> (<em>bool</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie with URL encoding option updated.</p> </dd>
</dl> <dl class="method"> <dt id="withPrefix">
<code>withPrefix([string $prefix = ''])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$prefix</strong> (<em>string</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie with new prefix.</p> </dd>
</dl> <dl class="method"> <dt id="withName">
<code>withName(string $name)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$name</strong> (<em>string</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie with new name.</p> </dd>
</dl> <dl class="method"> <dt id="withValue">
<code>withValue(string $value)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$value</strong> (<em>string</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie with new value.</p> </dd>
</dl> <dl class="method"> <dt id="withExpires">
<code>withExpires($expires)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$expires</strong> (<em>DateTimeInterface|string|int</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie with new cookie expires time.</p> </dd>
</dl> <dl class="method"> <dt id="withExpired">
<code>withExpired()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Return type:</th>
<td class="field-body"><code>Cookie</code></td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">new <code>Cookie</code> instance</td> </tr>  </table> <p>Creates a new Cookie that will expire from the browser.</p> </dd>
</dl> <dl class="method"> <dt id="withNeverExpiring">
<code>withNeverExpiring()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$name</strong> (<em>string</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie that will virtually never expire.</p> </dd>
</dl> <dl class="method"> <dt id="withDomain">
<code>withDomain(?string $domain)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$domain</strong> (<em>string|null</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie with new domain.</p> </dd>
</dl> <dl class="method"> <dt id="withPath">
<code>withPath(?string $path)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$path</strong> (<em>string|null</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie with new path.</p> </dd>
</dl> <dl class="method"> <dt id="withSecure">
<code>withSecure([bool $secure = true])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$secure</strong> (<em>bool</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie with new “Secure” attribute.</p> </dd>
</dl> <dl class="method"> <dt id="withHTTPOnly">
<code>withHTTPOnly([bool $httponly = true])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$httponly</strong> (<em>bool</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie with new “HttpOnly” attribute.</p> </dd>
</dl> <dl class="method"> <dt id="withSameSite">
<code>withSameSite(string $samesite)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$samesite</strong> (<em>string</em>) – </li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>Cookie</code> instance</p> </td> </tr>  </table> <p>Creates a new Cookie with new “SameSite” attribute.</p> </dd>
</dl> <dl class="method"> <dt id="toHeaderString">
<code>toHeaderString()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Return type:</th>
<td class="field-body">string</td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">Returns the string representation that can be passed as a header string.</td> </tr>  </table> </dd>
</dl> <dl class="method"> <dt id="toArray">
<code>toArray()</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Return type:</th>
<td class="field-body">array</td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">Returns the array representation of the Cookie instance.</td> </tr>  </table> </dd>
</dl> </dd>
</dl> <dl class="class"> <dt>
<code>CodeIgniter\HTTP\Cookie\CookieStore</code> </dt> <dd>
<dl class="staticmethod"> <dt id="fromCookieHeaders">
<code>static fromCookieHeaders(array $headers[, bool $raw = false])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$header</strong> (<em>array</em>) – Array of <code>Set-Cookie</code> headers</li> <li>
<strong>$raw</strong> (<em>bool</em>) – Whether not to use URL encoding</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>CookieStore</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><code>CookieStore</code> instance</p> </td> </tr> <tr>
<th class="field-name">Throws:</th>
<td class="field-body">
<p class="first last"><code>CookieException</code></p> </td> </tr>  </table> <p>Creates a CookieStore from an array of <code>Set-Cookie</code> headers.</p> </dd>
</dl> <dl class="method"> <dt>
<code>__construct(array $cookies)</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$cookies</strong> (<em>array</em>) – Array of <code>Cookie</code> objects</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>CookieStore</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><code>CookieStore</code> instance</p> </td> </tr> <tr>
<th class="field-name">Throws:</th>
<td class="field-body">
<p class="first last"><code>CookieException</code></p> </td> </tr>  </table> </dd>
</dl> <dl class="method"> <dt>
<code>has(string $name[, string $prefix = ''[, ?string $value = null]]): bool</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$name</strong> (<em>string</em>) – Cookie name</li> <li>
<strong>$prefix</strong> (<em>string</em>) – Cookie prefix</li> <li>
<strong>$value</strong> (<em>string|null</em>) – Cookie value</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first">bool</p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">Checks if a <code>Cookie</code> object identified by name and prefix is present in the collection.</p> </td> </tr>  </table> </dd>
</dl> <dl class="method"> <dt>
<code>get(string $name[, string $prefix = '']): Cookie</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$name</strong> (<em>string</em>) – Cookie name</li> <li>
<strong>$prefix</strong> (<em>string</em>) – Cookie prefix</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>Cookie</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Retrieves an instance of Cookie identified by a name and prefix.</p> </td> </tr> <tr>
<th class="field-name">Throws:</th>
<td class="field-body">
<p class="first last"><code>CookieException</code></p> </td> </tr>  </table> </dd>
</dl> <dl class="method"> <dt>
<code>put(Cookie $cookie): CookieStore</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$cookie</strong> (<em>Cookie</em>) – A Cookie object</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>CookieStore</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>CookieStore</code> instance</p> </td> </tr>  </table> <p>Store a new cookie and return a new collection. The original collection is left unchanged.</p> </dd>
</dl> <dl class="method"> <dt>
<code>remove(string $name[, string $prefix = '']): CookieStore</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$name</strong> (<em>string</em>) – Cookie name</li> <li>
<strong>$prefix</strong> (<em>string</em>) – Cookie prefix</li> </ul> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><code>CookieStore</code></p> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first last">new <code>CookieStore</code> instance</p> </td> </tr>  </table> <p>Removes a cookie from a collection and returns an updated collection. The original collection is left unchanged.</p> </dd>
</dl> <dl class="method"> <dt>
<code>dispatch(): void</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Return type:</th>
<td class="field-body">void</td> </tr>  </table> <p>Dispatches all cookies in store.</p> </dd>
</dl> <dl class="method"> <dt>
<code>display(): array</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Return type:</th>
<td class="field-body">array</td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">Returns all cookie instances in store.</td> </tr>  </table> </dd>
</dl> <dl class="method"> <dt>
<code>clear(): void</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Return type:</th>
<td class="field-body">void</td> </tr>  </table> <p>Clears the cookie collection.</p> </dd>
</dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;2020 British Columbia Institute of Technology<br>Licensed under the MIT License.<br>
    <a href="https://codeigniter.com/user_guide/libraries/cookies.html" class="_attribution-link">https://codeigniter.com/user_guide/libraries/cookies.html</a>
  </p>
</div>
