<header><h1>Trace viewer</h1></header><h2 id="introduction">Introduction<a href="#introduction" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a>
</h2> <p>Playwright Trace Viewer is a GUI tool that lets you explore recorded Playwright traces of your tests meaning you can go back and forward through each action of your test and visually see what was happening during each action.</p> <p><strong>You will learn</strong></p> <ul> <li><a href="trace-viewer-intro.html#recording-a-trace">How to record a trace</a></li> <li><a href="trace-viewer-intro.html#opening-the-html-report">How to open the HTML report</a></li> <li><a href="trace-viewer-intro.html#opening-the-trace">How to open and view the trace</a></li> </ul>  <h2 id="recording-a-trace">Recording a Trace<a href="#recording-a-trace" aria-label="Direct link to Recording a Trace" title="Direct link to Recording a Trace">​</a>
</h2> <p>By default the <a href="trace-viewer.html#recording-a-trace-on-ci">playwright.config</a> file will contain the configuration needed to create a <code>trace.zip</code> file for each test. Traces are setup to run <code>on-first-retry</code> meaning they will be run on the first retry of a failed test. Also <code>retries</code> are set to 2 when running on CI and 0 locally. This means the traces will be recorded on the first retry of a failed test but not on the first run and not on the second retry.</p> <pre tabindex="0" data-language="javascript">import { defineConfig } from '@playwright/test';
export default defineConfig({
  retries: process.env.CI ? 2 : 0, // set to 2 when running on CI
  // ...
  use: {
    trace: 'on-first-retry', // record traces on first retry of each test
  },
});</pre> <p>To learn more about available options to record a trace check out our detailed guide on <a href="trace-viewer.html">Trace Viewer</a>.</p> <p>Traces are normally run in a Continuous Integration(CI) environment, because locally you can use <a href="test-ui-mode.html">UI Mode</a> for developing and debugging tests. However, if you want to run traces locally without using <a href="test-ui-mode.html">UI Mode</a>, you can force tracing to be on with <code>--trace on</code>.</p> <pre tabindex="0" data-language="javascript">npx playwright test --trace on</pre> <h2 id="opening-the-html-report">Opening the HTML report<a href="#opening-the-html-report" aria-label="Direct link to Opening the HTML report" title="Direct link to Opening the HTML report">​</a>
</h2> <p>The HTML report shows you a report of all your tests that have been ran and on which browsers as well as how long they took. Tests can be filtered by passed tests, failed, flakey or skipped tests. You can also search for a particular test. Clicking on a test will open the detailed view where you can see more information on your tests such as the errors, the test steps and the trace.</p> <pre tabindex="0" data-language="javascript">npx playwright show-report</pre> <h2 id="opening-the-trace">Opening the trace<a href="#opening-the-trace" aria-label="Direct link to Opening the trace" title="Direct link to Opening the trace">​</a>
</h2> <p>In the HTML report click on the trace icon next to the test name file name to directly open the trace for the required test.</p> <p><img decoding="async" loading="lazy" src="https://github.com/microsoft/playwright/assets/13063165/a3da1fb5-6619-4c03-98aa-adf65c376525" alt="playwright html report"></p> <p>You can also click open the detailed view of the test and scroll down to the <code>'Traces'</code> tab and open the trace by clicking on the trace screenshot.</p> <p><img decoding="async" loading="lazy" src="https://github.com/microsoft/playwright/assets/13063165/2b583d6f-5241-4ecf-83a8-650072d4a201" alt="playwright html report detailed view"></p> <p>To learn more about reporters check out our detailed guide on reporters including the <a href="test-reporters.html#html-reporter">HTML Reporter</a>.</p> <h2 id="viewing-the-trace">Viewing the trace<a href="#viewing-the-trace" aria-label="Direct link to Viewing the trace" title="Direct link to Viewing the trace">​</a>
</h2> <p>View traces of your test by clicking through each action or hovering using the timeline and see the state of the page before and after the action. Inspect the log, source and network, errors and console during each step of the test. The trace viewer creates a DOM snapshot so you can fully interact with it and open the browser DevTools to inspect the HTML, CSS, etc.</p> <p><img decoding="async" loading="lazy" src="https://github.com/microsoft/playwright/assets/13063165/10fe3585-8401-4051-b1c2-b2e92ac4c274" alt="playwright trace viewer"></p> <p>To learn more about traces check out our detailed guide on <a href="trace-viewer.html">Trace Viewer</a>.</p> <h2 id="whats-next">What's next<a href="#whats-next" aria-label="Direct link to What's next" title="Direct link to What's next">​</a>
</h2> <ul> <li><a href="ci-intro.html">Run tests on CI with GitHub Actions</a></li> <li><a href="trace-viewer.html">Learn more about Trace Viewer</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/trace-viewer-intro" class="_attribution-link">https://playwright.dev/docs/trace-viewer-intro</a>
  </p>
</div>
