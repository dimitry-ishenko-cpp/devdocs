<header><h1>Page</h1></header><ul> <li>extends: <a href="https://nodejs.org/api/events.html#events_class_eventemitter" target="_blank" rel="noopener noreferrer" title="EventEmitter">EventEmitter</a>
</li> </ul> <p>Page provides methods to interact with a single tab in a <a title="Browser" href="class-browser.html">Browser</a>, or an <a href="https://developer.chrome.com/extensions/background_pages" target="_blank" rel="noopener noreferrer">extension background page</a> in Chromium. One <a title="Browser" href="class-browser.html">Browser</a> instance might have multiple <a title="Page" href="class-page.html">Page</a> instances.</p> <p>This example creates a page, navigates it to a URL, and then saves a screenshot:</p> <pre tabindex="0" data-language="javascript">const { webkit } = require('playwright');  // Or 'chromium' or 'firefox'.

(async () =&gt; {
  const browser = await webkit.launch();
  const context = await browser.newContext();
  const page = await context.newPage();
  await page.goto('https://example.com');
  await page.screenshot({ path: 'screenshot.png' });
  await browser.close();
})();</pre> <p>The Page class emits various events (described below) which can be handled using any of Node's native <a href="https://nodejs.org/api/events.html#events_class_eventemitter" target="_blank" rel="noopener noreferrer"><code>EventEmitter</code></a> methods, such as <code>on</code>, <code>once</code> or <code>removeListener</code>.</p> <p>This example logs a message for a single page <code>load</code> event:</p> <pre tabindex="0" data-language="javascript">page.once('load', () =&gt; console.log('Page loaded!'));</pre> <p>To unsubscribe from events use the <code>removeListener</code> method:</p> <pre tabindex="0" data-language="javascript">function logRequest(interceptedRequest) {
  console.log('A request was made:', interceptedRequest.url());
}
page.on('request', logRequest);
// Sometime later...
page.removeListener('request', logRequest);</pre>  <h2 id="methods">Methods<a href="#methods" aria-label="Direct link to Methods" title="Direct link to Methods">​</a>
</h2> <h3 id="page-add-init-script">addInitScript<a href="#page-add-init-script" aria-label="Direct link to addInitScript" title="Direct link to addInitScript">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Adds a script which would be evaluated in one of the following scenarios:</p> <ul> <li>Whenever the page is navigated.</li> <li>Whenever the child frame is attached or navigated. In this case, the script is evaluated in the context of the newly attached frame.</li> </ul> <p>The script is evaluated after the document was created but before any of its scripts were run. This is useful to amend the JavaScript environment, e.g. to seed <code>Math.random</code>.</p> <p><strong>Usage</strong></p> <p>An example of overriding <code>Math.random</code> before the page loads:</p> <pre tabindex="0" data-language="javascript">// preload.js
Math.random = () =&gt; 42;</pre> <pre tabindex="0" data-language="javascript">// In your playwright script, assuming the preload.js file is in same directory
await page.addInitScript({ path: './preload.js' });</pre> <pre tabindex="0" data-language="javascript">await page.addInitScript(mock =&gt; {
  window.mock = mock;
}, mock);</pre> <blockquote>
<div>
note</div>
<div><p>The order of evaluation of multiple scripts installed via <a href="class-browsercontext.html#browser-context-add-init-script">browserContext.addInitScript()</a> and <a href="class-page.html#page-add-init-script">page.addInitScript()</a> is not defined.</p></div>
</blockquote> <p><strong>Arguments</strong></p> <ul> <li> <p><code>script</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a></p> <ul> <li> <p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Path to the JavaScript file. If <code>path</code> is a relative path, then it is resolved relative to the current working directory. Optional.</p> </li> <li> <p><code>content</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Raw script content. Optional.</p> </li> </ul> <p>Script to be evaluated in the page.</p> </li> <li> <p><code>arg</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> <em>(optional)</em></p> <p>Optional argument to pass to <code>script</code> (only supported when passing a function).</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-add-locator-handler">addLocatorHandler<a href="#page-add-locator-handler" aria-label="Direct link to addLocatorHandler" title="Direct link to addLocatorHandler">​</a>
</h3>   <p>When testing a web page, sometimes unexpected overlays like a "Sign up" dialog appear and block actions you want to automate, e.g. clicking a button. These overlays don't always show up in the same way or at the same time, making them tricky to handle in automated tests.</p> <p>This method lets you set up a special function, called a handler, that activates when it detects that overlay is visible. The handler's job is to remove the overlay, allowing your test to continue as if the overlay wasn't there.</p> <p>Things to keep in mind:</p> <ul> <li>When an overlay is shown predictably, we recommend explicitly waiting for it in your test and dismissing it as a part of your normal test flow, instead of using <a href="class-page.html#page-add-locator-handler">page.addLocatorHandler()</a>.</li> <li>Playwright checks for the overlay every time before executing or retrying an action that requires an <a href="../actionability.html">actionability check</a>, or before performing an auto-waiting assertion check. When overlay is visible, Playwright calls the handler first, and then proceeds with the action/assertion. Note that the handler is only called when you perform an action/assertion - if the overlay becomes visible but you don't perform any actions, the handler will not be triggered.</li> <li>After executing the handler, Playwright will ensure that overlay that triggered the handler is not visible anymore. You can opt-out of this behavior with <code>noWaitAfter</code>.</li> <li>The execution time of the handler counts towards the timeout of the action/assertion that executed the handler. If your handler takes too long, it might cause timeouts.</li> <li>You can register multiple handlers. However, only a single handler will be running at a time. Make sure the actions within a handler don't depend on another handler.</li> </ul> <blockquote>
<div>
warning</div>
<div><p>Running the handler will alter your page state mid-test. For example it will change the currently focused element and move the mouse. Make sure that actions that run after the handler are self-contained and do not rely on the focus and mouse state being unchanged. <br> <br> For example, consider a test that calls <a href="class-locator.html#locator-focus">locator.focus()</a> followed by <a href="class-keyboard.html#keyboard-press">keyboard.press()</a>. If your handler clicks a button between these two actions, the focused element most likely will be wrong, and key press will happen on the unexpected element. Use <a href="class-locator.html#locator-press">locator.press()</a> instead to avoid this problem. <br> <br> Another example is a series of mouse actions, where <a href="class-mouse.html#mouse-move">mouse.move()</a> is followed by <a href="class-mouse.html#mouse-down">mouse.down()</a>. Again, when the handler runs between these two actions, the mouse position will be wrong during the mouse down. Prefer self-contained actions like <a href="class-locator.html#locator-click">locator.click()</a> that do not rely on the state being unchanged by a handler.</p></div>
</blockquote> <p><strong>Usage</strong></p> <p>An example that closes a "Sign up to the newsletter" dialog when it appears:</p> <pre tabindex="0" data-language="javascript">// Setup the handler.
await page.addLocatorHandler(page.getByText('Sign up to the newsletter'), async () =&gt; {
  await page.getByRole('button', { name: 'No thanks' }).click();
});

// Write the test as usual.
await page.goto('https://example.com');
await page.getByRole('button', { name: 'Start here' }).click();</pre> <p>An example that skips the "Confirm your security details" page when it is shown:</p> <pre tabindex="0" data-language="javascript">// Setup the handler.
await page.addLocatorHandler(page.getByText('Confirm your security details'), async () =&gt; {
  await page.getByRole('button', { name: 'Remind me later' }).click();
});

// Write the test as usual.
await page.goto('https://example.com');
await page.getByRole('button', { name: 'Start here' }).click();</pre> <p>An example with a custom callback on every actionability check. It uses a <code>&lt;body&gt;</code> locator that is always visible, so the handler is called before every actionability check. It is important to specify <code>noWaitAfter</code>, because the handler does not hide the <code>&lt;body&gt;</code> element.</p> <pre tabindex="0" data-language="javascript">// Setup the handler.
await page.addLocatorHandler(page.locator('body'), async () =&gt; {
  await page.evaluate(() =&gt; window.removeObstructionsForTestIfNeeded());
}, { noWaitAfter: true });

// Write the test as usual.
await page.goto('https://example.com');
await page.getByRole('button', { name: 'Start here' }).click();</pre> <p>Handler takes the original locator as an argument. You can also automatically remove the handler after a number of invocations by setting <code>times</code>:</p> <pre tabindex="0" data-language="javascript">await page.addLocatorHandler(page.getByLabel('Close'), async locator =&gt; {
  await locator.click();
}, { times: 1 });</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>locator</code> <a title="Locator" href="class-locator.html">Locator</a></p> <p>Locator that triggers the handler.</p> </li> <li> <p><code>handler</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Locator" href="class-locator.html">Locator</a>):<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt;</p> <p>Function that should be run once <code>locator</code> appears. This function should get rid of the element that blocks actions like click.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>noWaitAfter</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em> </p> <p>By default, after calling the handler Playwright will wait until the overlay becomes hidden, and only then Playwright will continue with the action/assertion that triggered the handler. This option allows to opt-out of this behavior, so that overlay can stay visible after the handler has run.</p> </li> <li> <p><code>times</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Specifies the maximum number of times this handler should be called. Unlimited by default.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-add-script-tag">addScriptTag<a href="#page-add-script-tag" aria-label="Direct link to addScriptTag" title="Direct link to addScriptTag">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Adds a <code>&lt;script&gt;</code> tag into the page with the desired url or content. Returns the added tag when the script's onload fires or when the script content was injected into frame.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await page.addScriptTag();
await page.addScriptTag(options);</pre> <p><strong>Arguments</strong></p> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> <ul> <li> <p><code>content</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Raw JavaScript content to be injected into frame.</p> </li> <li> <p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Path to the JavaScript file to be injected into frame. If <code>path</code> is a relative path, then it is resolved relative to the current working directory.</p> </li> <li> <p><code>type</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Script type. Use 'module' in order to load a JavaScript ES6 module. See <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script" target="_blank" rel="noopener noreferrer">script</a> for more details.</p> </li> <li> <p><code>url</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>URL of a script to be added.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="ElementHandle" href="class-elementhandle.html">ElementHandle</a>&gt;
</li> </ul>  <h3 id="page-add-style-tag">addStyleTag<a href="#page-add-style-tag" aria-label="Direct link to addStyleTag" title="Direct link to addStyleTag">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Adds a <code>&lt;link rel="stylesheet"&gt;</code> tag into the page with the desired url or a <code>&lt;style type="text/css"&gt;</code> tag with the content. Returns the added tag when the stylesheet's onload fires or when the CSS content was injected into frame.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await page.addStyleTag();
await page.addStyleTag(options);</pre> <p><strong>Arguments</strong></p> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> <ul> <li> <p><code>content</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Raw CSS content to be injected into frame.</p> </li> <li> <p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Path to the CSS file to be injected into frame. If <code>path</code> is a relative path, then it is resolved relative to the current working directory.</p> </li> <li> <p><code>url</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>URL of the <code>&lt;link&gt;</code> tag.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="ElementHandle" href="class-elementhandle.html">ElementHandle</a>&gt;
</li> </ul>  <h3 id="page-bring-to-front">bringToFront<a href="#page-bring-to-front" aria-label="Direct link to bringToFront" title="Direct link to bringToFront">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Brings page to front (activates tab).</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await page.bringToFront();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-close">close<a href="#page-close" aria-label="Direct link to close" title="Direct link to close">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>If <code>runBeforeUnload</code> is <code>false</code>, does not run any unload handlers and waits for the page to be closed. If <code>runBeforeUnload</code> is <code>true</code> the method will run unload handlers, but will <strong>not</strong> wait for the page to close.</p> <p>By default, <code>page.close()</code> <strong>does not</strong> run <code>beforeunload</code> handlers.</p> <blockquote>
<div>
note</div>
<div><p>if <code>runBeforeUnload</code> is passed as true, a <code>beforeunload</code> dialog might be summoned and should be handled manually via <a href="class-page.html#page-event-dialog">page.on('dialog')</a> event.</p></div>
</blockquote> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await page.close();
await page.close(options);</pre> <p><strong>Arguments</strong></p> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> <ul> <li> <p><code>reason</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em> </p> <p>The reason to be reported to the operations interrupted by the page closure.</p> </li> <li> <p><code>runBeforeUnload</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Defaults to <code>false</code>. Whether to run the <a href="https://developer.mozilla.org/en-US/docs/Web/Events/beforeunload" target="_blank" rel="noopener noreferrer">before unload</a> page handlers.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-content">content<a href="#page-content" aria-label="Direct link to content" title="Direct link to content">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Gets the full HTML contents of the page, including the doctype.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await page.content();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;
</li> </ul>  <h3 id="page-context">context<a href="#page-context" aria-label="Direct link to context" title="Direct link to context">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Get the browser context that the page belongs to.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">page.context();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a title="BrowserContext" href="class-browsercontext.html">BrowserContext</a>
</li> </ul>  <h3 id="page-drag-and-drop">dragAndDrop<a href="#page-drag-and-drop" aria-label="Direct link to dragAndDrop" title="Direct link to dragAndDrop">​</a>
</h3>   <p>This method drags the source element to the target element. It will first move to the source element, perform a <code>mousedown</code>, then move to the target element and perform a <code>mouseup</code>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await page.dragAndDrop('#source', '#target');
// or specify exact positions relative to the top-left corners of the elements:
await page.dragAndDrop('#source', '#target', {
  sourcePosition: { x: 34, y: 7 },
  targetPosition: { x: 10, y: 20 },
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>source</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>A selector to search for an element to drag. If there are multiple elements satisfying the selector, the first will be used.</p> </li> <li> <p><code>target</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>A selector to search for an element to drop onto. If there are multiple elements satisfying the selector, the first will be used.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>force</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to bypass the <a href="../actionability.html">actionability</a> checks. Defaults to <code>false</code>.</p> </li> <li> <p><code>noWaitAfter</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <blockquote>
<div>
Deprecated</div>
<div><p>This option has no effect.</p></div>
</blockquote> <p>This option has no effect.</p> </li> <li> <p><code>sourcePosition</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> </p> <ul> <li> <p><code>x</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> </p> </li> <li> <p><code>y</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> </p> </li> </ul> <p>Clicks on the source element at this point relative to the top-left corner of the element's padding box. If not specified, some visible point of the element is used.</p> </li> <li> <p><code>strict</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em> </p> <p>When true, the call requires selector to resolve to a single element. If given selector resolves to more than one element, the call throws an exception.</p> </li> <li> <p><code>targetPosition</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> </p> <ul> <li> <p><code>x</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> </p> </li> <li> <p><code>y</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> </p> </li> </ul> <p>Drops on the target element at this point relative to the top-left corner of the element's padding box. If not specified, some visible point of the element is used.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Maximum time in milliseconds. Defaults to <code>0</code> - no timeout. The default value can be changed via <code>actionTimeout</code> option in the config, or by using the <a href="class-browsercontext.html#browser-context-set-default-timeout">browserContext.setDefaultTimeout()</a> or <a href="class-page.html#page-set-default-timeout">page.setDefaultTimeout()</a> methods.</p> </li> <li> <p><code>trial</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>When set, this method only performs the <a href="../actionability.html">actionability</a> checks and skips the action. Defaults to <code>false</code>. Useful to wait until the element is ready for the action without performing it.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-emulate-media">emulateMedia<a href="#page-emulate-media" aria-label="Direct link to emulateMedia" title="Direct link to emulateMedia">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>This method changes the <code>CSS media type</code> through the <code>media</code> argument, and/or the <code>'prefers-colors-scheme'</code> media feature, using the <code>colorScheme</code> argument.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await page.evaluate(() =&gt; matchMedia('screen').matches);
// → true
await page.evaluate(() =&gt; matchMedia('print').matches);
// → false

await page.emulateMedia({ media: 'print' });
await page.evaluate(() =&gt; matchMedia('screen').matches);
// → false
await page.evaluate(() =&gt; matchMedia('print').matches);
// → true

await page.emulateMedia({});
await page.evaluate(() =&gt; matchMedia('screen').matches);
// → true
await page.evaluate(() =&gt; matchMedia('print').matches);
// → false</pre> <pre tabindex="0" data-language="javascript">await page.emulateMedia({ colorScheme: 'dark' });
await page.evaluate(() =&gt; matchMedia('(prefers-color-scheme: dark)').matches);
// → true
await page.evaluate(() =&gt; matchMedia('(prefers-color-scheme: light)').matches);
// → false
await page.evaluate(() =&gt; matchMedia('(prefers-color-scheme: no-preference)').matches);
// → false</pre> <p><strong>Arguments</strong></p> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> <ul> <li> <p><code>colorScheme</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" target="_blank" rel="noopener noreferrer" title="null">null</a> | "light" | "dark" | "no-preference" <em>(optional)</em> </p> <p>Emulates <code>'prefers-colors-scheme'</code> media feature, supported values are <code>'light'</code>, <code>'dark'</code>, <code>'no-preference'</code>. Passing <code>null</code> disables color scheme emulation.</p> </li> <li> <p><code>forcedColors</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" target="_blank" rel="noopener noreferrer" title="null">null</a> | "active" | "none" <em>(optional)</em> </p> <p>Emulates <code>'forced-colors'</code> media feature, supported values are <code>'active'</code> and <code>'none'</code>. Passing <code>null</code> disables forced colors emulation.</p> </li> <li> <p><code>media</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" target="_blank" rel="noopener noreferrer" title="null">null</a> | "screen" | "print" <em>(optional)</em> </p> <p>Changes the CSS media type of the page. The only allowed values are <code>'screen'</code>, <code>'print'</code> and <code>null</code>. Passing <code>null</code> disables CSS media emulation.</p> </li> <li> <p><code>reducedMotion</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" target="_blank" rel="noopener noreferrer" title="null">null</a> | "reduce" | "no-preference" <em>(optional)</em> </p> <p>Emulates <code>'prefers-reduced-motion'</code> media feature, supported values are <code>'reduce'</code>, <code>'no-preference'</code>. Passing <code>null</code> disables reduced motion emulation.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-evaluate">evaluate<a href="#page-evaluate" aria-label="Direct link to evaluate" title="Direct link to evaluate">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Returns the value of the <code>pageFunction</code> invocation.</p> <p>If the function passed to the <a href="class-page.html#page-evaluate">page.evaluate()</a> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, then <a href="class-page.html#page-evaluate">page.evaluate()</a> would wait for the promise to resolve and return its value.</p> <p>If the function passed to the <a href="class-page.html#page-evaluate">page.evaluate()</a> returns a non-<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> value, then <a href="class-page.html#page-evaluate">page.evaluate()</a> resolves to <code>undefined</code>. Playwright also supports transferring some additional values that are not serializable by <code>JSON</code>: <code>-0</code>, <code>NaN</code>, <code>Infinity</code>, <code>-Infinity</code>.</p> <p><strong>Usage</strong></p> <p>Passing argument to <code>pageFunction</code>:</p> <pre tabindex="0" data-language="javascript">const result = await page.evaluate(([x, y]) =&gt; {
  return Promise.resolve(x * y);
}, [7, 8]);
console.log(result); // prints "56"</pre> <p>A string can also be passed in instead of a function:</p> <pre tabindex="0" data-language="javascript">console.log(await page.evaluate('1 + 2')); // prints "3"
const x = 10;
console.log(await page.evaluate(`1 + ${x}`)); // prints "11"</pre> <p><a title="ElementHandle" href="class-elementhandle.html">ElementHandle</a> instances can be passed as an argument to the <a href="class-page.html#page-evaluate">page.evaluate()</a>:</p> <pre tabindex="0" data-language="javascript">const bodyHandle = await page.evaluate('document.body');
const html = await page.evaluate&lt;string, HTMLElement&gt;(([body, suffix]) =&gt;
  body.innerHTML + suffix, [bodyHandle, 'hello']
);
await bodyHandle.dispose();</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>pageFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Function to be evaluated in the page context.</p> </li> <li> <p><code>arg</code> <a title="EvaluationArgument" href="../evaluating.html#evaluation-argument">EvaluationArgument</a> <em>(optional)</em></p> <p>Optional argument to pass to <code>pageFunction</code>.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a>&gt;
</li> </ul>  <h3 id="page-evaluate-handle">evaluateHandle<a href="#page-evaluate-handle" aria-label="Direct link to evaluateHandle" title="Direct link to evaluateHandle">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Returns the value of the <code>pageFunction</code> invocation as a <a title="JSHandle" href="class-jshandle.html">JSHandle</a>.</p> <p>The only difference between <a href="class-page.html#page-evaluate">page.evaluate()</a> and <a href="class-page.html#page-evaluate-handle">page.evaluateHandle()</a> is that <a href="class-page.html#page-evaluate-handle">page.evaluateHandle()</a> returns <a title="JSHandle" href="class-jshandle.html">JSHandle</a>.</p> <p>If the function passed to the <a href="class-page.html#page-evaluate-handle">page.evaluateHandle()</a> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, then <a href="class-page.html#page-evaluate-handle">page.evaluateHandle()</a> would wait for the promise to resolve and return its value.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">// Handle for the window object.
const aWindowHandle = await page.evaluateHandle(() =&gt; Promise.resolve(window));</pre> <p>A string can also be passed in instead of a function:</p> <pre tabindex="0" data-language="javascript">const aHandle = await page.evaluateHandle('document'); // Handle for the 'document'</pre> <p><a title="JSHandle" href="class-jshandle.html">JSHandle</a> instances can be passed as an argument to the <a href="class-page.html#page-evaluate-handle">page.evaluateHandle()</a>:</p> <pre tabindex="0" data-language="javascript">const aHandle = await page.evaluateHandle(() =&gt; document.body);
const resultHandle = await page.evaluateHandle(body =&gt; body.innerHTML, aHandle);
console.log(await resultHandle.jsonValue());
await resultHandle.dispose();</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>pageFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Function to be evaluated in the page context.</p> </li> <li> <p><code>arg</code> <a title="EvaluationArgument" href="../evaluating.html#evaluation-argument">EvaluationArgument</a> <em>(optional)</em></p> <p>Optional argument to pass to <code>pageFunction</code>.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="JSHandle" href="class-jshandle.html">JSHandle</a>&gt;
</li> </ul>  <h3 id="page-expose-binding">exposeBinding<a href="#page-expose-binding" aria-label="Direct link to exposeBinding" title="Direct link to exposeBinding">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>The method adds a function called <code>name</code> on the <code>window</code> object of every frame in this page. When called, the function executes <code>callback</code> and returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a> which resolves to the return value of <code>callback</code>. If the <code>callback</code> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, it will be awaited.</p> <p>The first argument of the <code>callback</code> function contains information about the caller: <code>{ browserContext: BrowserContext, page: Page, frame: Frame }</code>.</p> <p>See <a href="class-browsercontext.html#browser-context-expose-binding">browserContext.exposeBinding()</a> for the context-wide version.</p> <blockquote>
<div>
note</div>
<div><p>Functions installed via <a href="class-page.html#page-expose-binding">page.exposeBinding()</a> survive navigations.</p></div>
</blockquote> <p><strong>Usage</strong></p> <p>An example of exposing page URL to all frames in a page:</p> <pre tabindex="0" data-language="javascript">const { webkit } = require('playwright');  // Or 'chromium' or 'firefox'.

(async () =&gt; {
  const browser = await webkit.launch({ headless: false });
  const context = await browser.newContext();
  const page = await context.newPage();
  await page.exposeBinding('pageURL', ({ page }) =&gt; page.url());
  await page.setContent(`
    &lt;script&gt;
      async function onClick() {
        document.querySelector('div').textContent = await window.pageURL();
      }
    &lt;/script&gt;
    &lt;button onclick="onClick()"&gt;Click me&lt;/button&gt;
    &lt;div&gt;&lt;/div&gt;
  `);
  await page.click('button');
})();</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Name of the function on the window object.</p> </li> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>Callback function that will be called in the Playwright's context.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>handle</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <blockquote>
<div>
Deprecated</div>
<div><p>This option will be removed in the future.</p></div>
</blockquote> <p>Whether to pass the argument as a handle, instead of passing by value. When passing a handle, only one argument is supported. When passing by value, multiple arguments are supported.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-expose-function">exposeFunction<a href="#page-expose-function" aria-label="Direct link to exposeFunction" title="Direct link to exposeFunction">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>The method adds a function called <code>name</code> on the <code>window</code> object of every frame in the page. When called, the function executes <code>callback</code> and returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a> which resolves to the return value of <code>callback</code>.</p> <p>If the <code>callback</code> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, it will be awaited.</p> <p>See <a href="class-browsercontext.html#browser-context-expose-function">browserContext.exposeFunction()</a> for context-wide exposed function.</p> <blockquote>
<div>
note</div>
<div><p>Functions installed via <a href="class-page.html#page-expose-function">page.exposeFunction()</a> survive navigations.</p></div>
</blockquote> <p><strong>Usage</strong></p> <p>An example of adding a <code>sha256</code> function to the page:</p> <pre tabindex="0" data-language="javascript">const { webkit } = require('playwright');  // Or 'chromium' or 'firefox'.
const crypto = require('crypto');

(async () =&gt; {
  const browser = await webkit.launch({ headless: false });
  const page = await browser.newPage();
  await page.exposeFunction('sha256', text =&gt;
    crypto.createHash('sha256').update(text).digest('hex'),
  );
  await page.setContent(`
    &lt;script&gt;
      async function onClick() {
        document.querySelector('div').textContent = await window.sha256('PLAYWRIGHT');
      }
    &lt;/script&gt;
    &lt;button onclick="onClick()"&gt;Click me&lt;/button&gt;
    &lt;div&gt;&lt;/div&gt;
  `);
  await page.click('button');
})();</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Name of the function on the window object</p> </li> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>Callback function which will be called in Playwright's context.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-frame">frame<a href="#page-frame" aria-label="Direct link to frame" title="Direct link to frame">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Returns frame matching the specified criteria. Either <code>name</code> or <code>url</code> must be specified.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">const frame = page.frame('frame-name');</pre> <pre tabindex="0" data-language="javascript">const frame = page.frame({ url: /.*domain.*/ });</pre> <p><strong>Arguments</strong></p> <ul> <li>
<code>frameSelector</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Frame name specified in the <code>iframe</code>'s <code>name</code> attribute. Optional.</p> </li> <li> <p><code>url</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer" title="RegExp">RegExp</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a href="https://nodejs.org/api/url.html" target="_blank" rel="noopener noreferrer" title="URL">URL</a>):<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>A glob pattern, regex pattern or predicate receiving frame's <code>url</code> as a <a href="https://nodejs.org/api/url.html" target="_blank" rel="noopener noreferrer" title="URL">URL</a> object. Optional.</p> </li> </ul> Frame name or other frame lookup options.</li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" target="_blank" rel="noopener noreferrer" title="null">null</a> | <a title="Frame" href="class-frame.html">Frame</a>
</li> </ul>  <h3 id="page-frame-locator">frameLocator<a href="#page-frame-locator" aria-label="Direct link to frameLocator" title="Direct link to frameLocator">​</a>
</h3>   <p>When working with iframes, you can create a frame locator that will enter the iframe and allow selecting elements in that iframe.</p> <p><strong>Usage</strong></p> <p>Following snippet locates element with text "Submit" in the iframe with id <code>my-frame</code>, like <code>&lt;iframe id="my-frame"&gt;</code>:</p> <pre tabindex="0" data-language="javascript">const locator = page.frameLocator('#my-iframe').getByText('Submit');
await locator.click();</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>selector</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>A selector to use when resolving DOM element.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a title="FrameLocator" href="class-framelocator.html">FrameLocator</a>
</li> </ul>  <h3 id="page-frames">frames<a href="#page-frames" aria-label="Direct link to frames" title="Direct link to frames">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>An array of all frames attached to the page.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">page.frames();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a title="Frame" href="class-frame.html">Frame</a>&gt;
</li> </ul>  <h3 id="page-get-by-alt-text">getByAltText<a href="#page-get-by-alt-text" aria-label="Direct link to getByAltText" title="Direct link to getByAltText">​</a>
</h3>   <p>Allows locating elements by their alt text.</p> <p><strong>Usage</strong></p> <p>For example, this method will find the image by alt text "Playwright logo":</p> <pre tabindex="0" data-language="html">&lt;img alt='Playwright logo'&gt;</pre> <pre tabindex="0" data-language="javascript">await page.getByAltText('Playwright logo').click();</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>text</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer" title="RegExp">RegExp</a></p> <p>Text to locate the element for.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>exact</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to find an exact match: case-sensitive and whole-string. Default to false. Ignored when locating by a regular expression. Note that exact match still trims whitespace.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a title="Locator" href="class-locator.html">Locator</a>
</li> </ul>  <h3 id="page-get-by-label">getByLabel<a href="#page-get-by-label" aria-label="Direct link to getByLabel" title="Direct link to getByLabel">​</a>
</h3>   <p>Allows locating input elements by the text of the associated <code>&lt;label&gt;</code> or <code>aria-labelledby</code> element, or by the <code>aria-label</code> attribute.</p> <p><strong>Usage</strong></p> <p>For example, this method will find inputs by label "Username" and "Password" in the following DOM:</p> <pre tabindex="0" data-language="html">&lt;input aria-label="Username"&gt;
&lt;label for="password-input"&gt;Password:&lt;/label&gt;
&lt;input id="password-input"&gt;</pre> <pre tabindex="0" data-language="javascript">await page.getByLabel('Username').fill('john');
await page.getByLabel('Password').fill('secret');</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>text</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer" title="RegExp">RegExp</a></p> <p>Text to locate the element for.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>exact</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to find an exact match: case-sensitive and whole-string. Default to false. Ignored when locating by a regular expression. Note that exact match still trims whitespace.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a title="Locator" href="class-locator.html">Locator</a>
</li> </ul>  <h3 id="page-get-by-placeholder">getByPlaceholder<a href="#page-get-by-placeholder" aria-label="Direct link to getByPlaceholder" title="Direct link to getByPlaceholder">​</a>
</h3>   <p>Allows locating input elements by the placeholder text.</p> <p><strong>Usage</strong></p> <p>For example, consider the following DOM structure.</p> <pre tabindex="0" data-language="html">&lt;input type="email" placeholder="name@example.com" /&gt;</pre> <p>You can fill the input after locating it by the placeholder text:</p> <pre tabindex="0" data-language="javascript">await page
    .getByPlaceholder('name@example.com')
    .fill('playwright@microsoft.com');</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>text</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer" title="RegExp">RegExp</a></p> <p>Text to locate the element for.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>exact</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to find an exact match: case-sensitive and whole-string. Default to false. Ignored when locating by a regular expression. Note that exact match still trims whitespace.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a title="Locator" href="class-locator.html">Locator</a>
</li> </ul>  <h3 id="page-get-by-role">getByRole<a href="#page-get-by-role" aria-label="Direct link to getByRole" title="Direct link to getByRole">​</a>
</h3>   <p>Allows locating elements by their <a href="https://www.w3.org/TR/wai-aria-1.2/#roles" target="_blank" rel="noopener noreferrer">ARIA role</a>, <a href="https://www.w3.org/TR/wai-aria-1.2/#aria-attributes" target="_blank" rel="noopener noreferrer">ARIA attributes</a> and <a href="https://w3c.github.io/accname/#dfn-accessible-name" target="_blank" rel="noopener noreferrer">accessible name</a>.</p> <p><strong>Usage</strong></p> <p>Consider the following DOM structure.</p> <pre tabindex="0" data-language="html">&lt;h3&gt;Sign up&lt;/h3&gt;
&lt;label&gt;
  &lt;input type="checkbox" /&gt; Subscribe
&lt;/label&gt;
&lt;br/&gt;
&lt;button&gt;Submit&lt;/button&gt;</pre> <p>You can locate each element by it's implicit role:</p> <pre tabindex="0" data-language="javascript">await expect(page.getByRole('heading', { name: 'Sign up' })).toBeVisible();

await page.getByRole('checkbox', { name: 'Subscribe' }).check();

await page.getByRole('button', { name: /submit/i }).click();</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>role</code> "alert" | "alertdialog" | "application" | "article" | "banner" | "blockquote" | "button" | "caption" | "cell" | "checkbox" | "code" | "columnheader" | "combobox" | "complementary" | "contentinfo" | "definition" | "deletion" | "dialog" | "directory" | "document" | "emphasis" | "feed" | "figure" | "form" | "generic" | "grid" | "gridcell" | "group" | "heading" | "img" | "insertion" | "link" | "list" | "listbox" | "listitem" | "log" | "main" | "marquee" | "math" | "meter" | "menu" | "menubar" | "menuitem" | "menuitemcheckbox" | "menuitemradio" | "navigation" | "none" | "note" | "option" | "paragraph" | "presentation" | "progressbar" | "radio" | "radiogroup" | "region" | "row" | "rowgroup" | "rowheader" | "scrollbar" | "search" | "searchbox" | "separator" | "slider" | "spinbutton" | "status" | "strong" | "subscript" | "superscript" | "switch" | "tab" | "table" | "tablist" | "tabpanel" | "term" | "textbox" | "time" | "timer" | "toolbar" | "tooltip" | "tree" | "treegrid" | "treeitem"</p> <p>Required aria role.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>checked</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>An attribute that is usually set by <code>aria-checked</code> or native <code>&lt;input type=checkbox&gt;</code> controls.</p> <p>Learn more about <a href="https://www.w3.org/TR/wai-aria-1.2/#aria-checked" target="_blank" rel="noopener noreferrer"><code>aria-checked</code></a>.</p> </li> <li> <p><code>disabled</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>An attribute that is usually set by <code>aria-disabled</code> or <code>disabled</code>.</p> <blockquote>
<div>
note</div>
<div><p>Unlike most other attributes, <code>disabled</code> is inherited through the DOM hierarchy. Learn more about <a href="https://www.w3.org/TR/wai-aria-1.2/#aria-disabled" target="_blank" rel="noopener noreferrer"><code>aria-disabled</code></a>.</p></div>
</blockquote> </li> <li> <p><code>exact</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em> </p> <p>Whether <code>name</code> is matched exactly: case-sensitive and whole-string. Defaults to false. Ignored when <code>name</code> is a regular expression. Note that exact match still trims whitespace.</p> </li> <li> <p><code>expanded</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>An attribute that is usually set by <code>aria-expanded</code>.</p> <p>Learn more about <a href="https://www.w3.org/TR/wai-aria-1.2/#aria-expanded" target="_blank" rel="noopener noreferrer"><code>aria-expanded</code></a>.</p> </li> <li> <p><code>includeHidden</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Option that controls whether hidden elements are matched. By default, only non-hidden elements, as <a href="https://www.w3.org/TR/wai-aria-1.2/#tree_exclusion" target="_blank" rel="noopener noreferrer">defined by ARIA</a>, are matched by role selector.</p> <p>Learn more about <a href="https://www.w3.org/TR/wai-aria-1.2/#aria-hidden" target="_blank" rel="noopener noreferrer"><code>aria-hidden</code></a>.</p> </li> <li> <p><code>level</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>A number attribute that is usually present for roles <code>heading</code>, <code>listitem</code>, <code>row</code>, <code>treeitem</code>, with default values for <code>&lt;h1&gt;-&lt;h6&gt;</code> elements.</p> <p>Learn more about <a href="https://www.w3.org/TR/wai-aria-1.2/#aria-level" target="_blank" rel="noopener noreferrer"><code>aria-level</code></a>.</p> </li> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer" title="RegExp">RegExp</a> <em>(optional)</em></p> <p>Option to match the <a href="https://w3c.github.io/accname/#dfn-accessible-name" target="_blank" rel="noopener noreferrer">accessible name</a>. By default, matching is case-insensitive and searches for a substring, use <code>exact</code> to control this behavior.</p> <p>Learn more about <a href="https://w3c.github.io/accname/#dfn-accessible-name" target="_blank" rel="noopener noreferrer">accessible name</a>.</p> </li> <li> <p><code>pressed</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>An attribute that is usually set by <code>aria-pressed</code>.</p> <p>Learn more about <a href="https://www.w3.org/TR/wai-aria-1.2/#aria-pressed" target="_blank" rel="noopener noreferrer"><code>aria-pressed</code></a>.</p> </li> <li> <p><code>selected</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>An attribute that is usually set by <code>aria-selected</code>.</p> <p>Learn more about <a href="https://www.w3.org/TR/wai-aria-1.2/#aria-selected" target="_blank" rel="noopener noreferrer"><code>aria-selected</code></a>.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a title="Locator" href="class-locator.html">Locator</a>
</li> </ul> <p><strong>Details</strong></p> <p>Role selector <strong>does not replace</strong> accessibility audits and conformance tests, but rather gives early feedback about the ARIA guidelines.</p> <p>Many html elements have an implicitly <a href="https://w3c.github.io/html-aam/#html-element-role-mappings" target="_blank" rel="noopener noreferrer">defined role</a> that is recognized by the role selector. You can find all the <a href="https://www.w3.org/TR/wai-aria-1.2/#role_definitions" target="_blank" rel="noopener noreferrer">supported roles here</a>. ARIA guidelines <strong>do not recommend</strong> duplicating implicit roles and attributes by setting <code>role</code> and/or <code>aria-*</code> attributes to default values.</p>  <h3 id="page-get-by-test-id">getByTestId<a href="#page-get-by-test-id" aria-label="Direct link to getByTestId" title="Direct link to getByTestId">​</a>
</h3>   <p>Locate element by the test id.</p> <p><strong>Usage</strong></p> <p>Consider the following DOM structure.</p> <pre tabindex="0" data-language="html">&lt;button data-testid="directions"&gt;Itinéraire&lt;/button&gt;</pre> <p>You can locate the element by it's test id:</p> <pre tabindex="0" data-language="javascript">await page.getByTestId('directions').click();</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>testId</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer" title="RegExp">RegExp</a></p> <p>Id to locate the element by.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a title="Locator" href="class-locator.html">Locator</a>
</li> </ul> <p><strong>Details</strong></p> <p>By default, the <code>data-testid</code> attribute is used as a test id. Use <a href="class-selectors.html#selectors-set-test-id-attribute">selectors.setTestIdAttribute()</a> to configure a different test id attribute if necessary.</p> <pre tabindex="0" data-language="javascript">// Set custom test id attribute from @playwright/test config:
import { defineConfig } from '@playwright/test';

export default defineConfig({
  use: {
    testIdAttribute: 'data-pw'
  },
});</pre>  <h3 id="page-get-by-text">getByText
</h3><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/api/class-page" class="_attribution-link">https://playwright.dev/docs/api/class-page</a>
  </p>
</div>
