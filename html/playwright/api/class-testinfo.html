<header><h1>TestInfo</h1></header><p><code>TestInfo</code> contains information about currently running test. It is available to test functions, <a href="class-test.html#test-before-each">test.beforeEach()</a>, <a href="class-test.html#test-after-each">test.afterEach()</a>, <a href="class-test.html#test-before-all">test.beforeAll()</a> and <a href="class-test.html#test-after-all">test.afterAll()</a> hooks, and test-scoped fixtures. <code>TestInfo</code> provides utilities to control test execution: attach files, update test timeout, determine which test is currently running and whether it was retried, etc.</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('basic test', async ({ page }, testInfo) =&gt; {
  expect(testInfo.title).toBe('basic test');
  await page.screenshot(testInfo.outputPath('screenshot.png'));
});</pre>  <h2 id="methods">Methods<a href="#methods" aria-label="Direct link to Methods" title="Direct link to Methods">​</a>
</h2> <h3 id="test-info-attach">attach<a href="#test-info-attach" aria-label="Direct link to attach" title="Direct link to attach">​</a>
</h3>   <p>Attach a value or a file from disk to the current test. Some reporters show test attachments. Either <a href="class-testinfo.html#test-info-attach-option-path">path</a> or <a href="class-testinfo.html#test-info-attach-option-body">body</a> must be specified, but not both.</p> <p>For example, you can attach a screenshot to the test:</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('basic test', async ({ page }, testInfo) =&gt; {
  await page.goto('https://playwright.dev');
  const screenshot = await page.screenshot();
  await testInfo.attach('screenshot', { body: screenshot, contentType: 'image/png' });
});</pre> <p>Or you can attach files returned by your APIs:</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';
import { download } from './my-custom-helpers';

test('basic test', async ({}, testInfo) =&gt; {
  const tmpPath = await download('a');
  await testInfo.attach('downloaded', { path: tmpPath });
});</pre> <blockquote>
<div>
note</div>
<div><p><a href="class-testinfo.html#test-info-attach">testInfo.attach()</a> automatically takes care of copying attached files to a location that is accessible to reporters. You can safely remove the attachment after awaiting the attach call.</p></div>
</blockquote> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await testInfo.attach(name);
await testInfo.attach(name, options);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Attachment name. The name will also be sanitized and used as the prefix of file name when saving to disk.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>body</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a> <em>(optional)</em></p> <p>Attachment body. Mutually exclusive with <a href="class-testinfo.html#test-info-attach-option-path">path</a>.</p> </li> <li> <p><code>contentType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Content type of this attachment to properly present in the report, for example <code>'application/json'</code> or <code>'image/png'</code>. If omitted, content type is inferred based on the <a href="class-testinfo.html#test-info-attach-option-path">path</a>, or defaults to <code>text/plain</code> for <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> attachments and <code>application/octet-stream</code> for <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a> attachments.</p> </li> <li> <p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Path on the filesystem to the attached file. Mutually exclusive with <a href="class-testinfo.html#test-info-attach-option-body">body</a>.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="test-info-fail-1">fail()<a href="#test-info-fail-1" aria-label="Direct link to fail()" title="Direct link to fail()">​</a>
</h3>   <p>Marks the currently running test as "should fail". Playwright Test runs this test and ensures that it is actually failing. This is useful for documentation purposes to acknowledge that some functionality is broken until it is fixed. This is similar to <a href="class-test.html#test-fail">test.fail()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.fail();</pre>  <h3 id="test-info-fail-2">fail(condition)<a href="#test-info-fail-2" aria-label="Direct link to fail(condition)" title="Direct link to fail(condition)">​</a>
</h3>   <p>Conditionally mark the currently running test as "should fail" with an optional description. This is similar to <a href="class-test.html#test-fail">test.fail()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.fail(condition);
testInfo.fail(condition, description);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>condition</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>Test is marked as "should fail" when the condition is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-info-fixme-1">fixme()<a href="#test-info-fixme-1" aria-label="Direct link to fixme()" title="Direct link to fixme()">​</a>
</h3>   <p>Mark a test as "fixme", with the intention to fix it. Test is immediately aborted. This is similar to <a href="class-test.html#test-fixme">test.fixme()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.fixme();</pre>  <h3 id="test-info-fixme-2">fixme(condition)<a href="#test-info-fixme-2" aria-label="Direct link to fixme(condition)" title="Direct link to fixme(condition)">​</a>
</h3>   <p>Conditionally mark the currently running test as "fixme" with an optional description. This is similar to <a href="class-test.html#test-fixme">test.fixme()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.fixme(condition);
testInfo.fixme(condition, description);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>condition</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>Test is marked as "fixme" when the condition is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-info-output-path">outputPath<a href="#test-info-output-path" aria-label="Direct link to outputPath" title="Direct link to outputPath">​</a>
</h3>   <p>Returns a path inside the <a href="class-testinfo.html#test-info-output-dir">testInfo.outputDir</a> where the test can safely put a temporary file. Guarantees that tests running in parallel will not interfere with each other.</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';
import fs from 'fs';

test('example test', async ({}, testInfo) =&gt; {
  const file = testInfo.outputPath('dir', 'temporary-file.txt');
  await fs.promises.writeFile(file, 'Put some data to the dir/temporary-file.txt', 'utf8');
});</pre> <blockquote> <p>Note that <code>pathSegments</code> accepts path segments to the test output directory such as <code>testInfo.outputPath('relative', 'path', 'to', 'output')</code>. However, this path must stay within the <a href="class-testinfo.html#test-info-output-dir">testInfo.outputDir</a> directory for each test (i.e. <code>test-results/a-test-title</code>), otherwise it will throw.</p> </blockquote> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.outputPath(...pathSegments);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>...pathSegments</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</p> <p>Path segments to append at the end of the resulting path.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>
</li> </ul>  <h3 id="test-info-set-timeout">setTimeout<a href="#test-info-set-timeout" aria-label="Direct link to setTimeout" title="Direct link to setTimeout">​</a>
</h3>   <p>Changes the timeout for the currently running test. Zero means no timeout. Learn more about <a href="../test-timeouts.html">various timeouts</a>.</p> <p>Timeout is usually specified in the <a href="../test-configuration.html">configuration file</a>, but it could be useful to change the timeout in certain scenarios:</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.beforeEach(async ({ page }, testInfo) =&gt; {
  // Extend timeout for all tests running this hook by 30 seconds.
  testInfo.setTimeout(testInfo.timeout + 30000);
});</pre> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.setTimeout(timeout);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>Timeout in milliseconds.</p> </li> </ul>  <h3 id="test-info-skip-1">skip()<a href="#test-info-skip-1" aria-label="Direct link to skip()" title="Direct link to skip()">​</a>
</h3>   <p>Unconditionally skip the currently running test. Test is immediately aborted. This is similar to <a href="class-test.html#test-skip">test.skip()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.skip();</pre>  <h3 id="test-info-skip-2">skip(condition)<a href="#test-info-skip-2" aria-label="Direct link to skip(condition)" title="Direct link to skip(condition)">​</a>
</h3>   <p>Conditionally skips the currently running test with an optional description. This is similar to <a href="class-test.html#test-skip">test.skip()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.skip(condition);
testInfo.skip(condition, description);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>condition</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>A skip condition. Test is skipped when the condition is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-info-slow-1">slow()<a href="#test-info-slow-1" aria-label="Direct link to slow()" title="Direct link to slow()">​</a>
</h3>   <p>Marks the currently running test as "slow", giving it triple the default timeout. This is similar to <a href="class-test.html#test-slow">test.slow()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.slow();</pre>  <h3 id="test-info-slow-2">slow(condition)<a href="#test-info-slow-2" aria-label="Direct link to slow(condition)" title="Direct link to slow(condition)">​</a>
</h3>   <p>Conditionally mark the currently running test as "slow" with an optional description, giving it triple the default timeout. This is similar to <a href="class-test.html#test-slow">test.slow()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.slow(condition);
testInfo.slow(condition, description);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>condition</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>Test is marked as "slow" when the condition is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-info-snapshot-path">snapshotPath<a href="#test-info-snapshot-path" aria-label="Direct link to snapshotPath" title="Direct link to snapshotPath">​</a>
</h3>   <p>Returns a path to a snapshot file with the given <code>pathSegments</code>. Learn more about <a href="../test-snapshots.html">snapshots</a>.</p> <blockquote> <p>Note that <code>pathSegments</code> accepts path segments to the snapshot file such as <code>testInfo.snapshotPath('relative', 'path', 'to', 'snapshot.png')</code>. However, this path must stay within the snapshots directory for each test file (i.e. <code>a.spec.js-snapshots</code>), otherwise it will throw.</p> </blockquote> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.snapshotPath(...pathSegments);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>...pathSegments</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</p> <p>The name of the snapshot or the path segments to define the snapshot file path. Snapshots with the same name in the same test file are expected to be the same.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>
</li> </ul>  <h2 id="properties">Properties<a href="#properties" aria-label="Direct link to Properties" title="Direct link to Properties">​</a>
</h2> <h3 id="test-info-annotations">annotations<a href="#test-info-annotations" aria-label="Direct link to annotations" title="Direct link to annotations">​</a>
</h3>   <p>The list of annotations applicable to the current test. Includes annotations from the test, annotations from all <a href="class-test.html#test-describe">test.describe()</a> groups the test belongs to and file-level annotations for the test file.</p> <p>Learn more about <a href="../test-annotations.html">test annotations</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.annotations</pre> <p><strong>Type</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <ul> <li> <p><code>type</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Annotation type, for example <code>'skip'</code> or <code>'fail'</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description.</p> </li> </ul> </li> </ul>  <h3 id="test-info-attachments">attachments<a href="#test-info-attachments" aria-label="Direct link to attachments" title="Direct link to attachments">​</a>
</h3>   <p>The list of files or buffers attached to the current test. Some reporters show test attachments.</p> <p>To add an attachment, use <a href="class-testinfo.html#test-info-attach">testInfo.attach()</a> instead of directly pushing onto this array.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.attachments</pre> <p><strong>Type</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Attachment name.</p> </li> <li> <p><code>contentType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Content type of this attachment to properly present in the report, for example <code>'application/json'</code> or <code>'image/png'</code>.</p> </li> <li> <p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional path on the filesystem to the attached file.</p> </li> <li> <p><code>body</code> <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a> <em>(optional)</em></p> <p>Optional attachment body used instead of a file.</p> </li> </ul> </li> </ul>  <h3 id="test-info-column">column<a href="#test-info-column" aria-label="Direct link to column" title="Direct link to column">​</a>
</h3>   <p>Column number where the currently running test is declared.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.column</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></li> </ul>  <h3 id="test-info-config">config<a href="#test-info-config" aria-label="Direct link to config" title="Direct link to config">​</a>
</h3>   <p>Processed configuration from the <a href="../test-configuration.html">configuration file</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.config</pre> <p><strong>Type</strong></p> <ul> <li><a title="FullConfig" href="class-fullconfig.html">FullConfig</a></li> </ul>  <h3 id="test-info-duration">duration<a href="#test-info-duration" aria-label="Direct link to duration" title="Direct link to duration">​</a>
</h3>   <p>The number of milliseconds the test took to finish. Always zero before the test finishes, either successfully or not. Can be used in <a href="class-test.html#test-after-each">test.afterEach()</a> hook.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.duration</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></li> </ul>  <h3 id="test-info-error">error<a href="#test-info-error" aria-label="Direct link to error" title="Direct link to error">​</a>
</h3>   <p>First error thrown during test execution, if any. This is equal to the first element in <a href="class-testinfo.html#test-info-errors">testInfo.errors</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.error</pre> <p><strong>Type</strong></p> <ul> <li><a title="TestInfoError" href="class-testinfoerror.html">TestInfoError</a></li> </ul>  <h3 id="test-info-errors">errors<a href="#test-info-errors" aria-label="Direct link to errors" title="Direct link to errors">​</a>
</h3>   <p>Errors thrown during test execution, if any.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.errors</pre> <p><strong>Type</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a title="TestInfoError" href="class-testinfoerror.html">TestInfoError</a>&gt;</li> </ul>  <h3 id="test-info-expected-status">expectedStatus<a href="#test-info-expected-status" aria-label="Direct link to expectedStatus" title="Direct link to expectedStatus">​</a>
</h3>   <p>Expected status for the currently running test. This is usually <code>'passed'</code>, except for a few cases:</p> <ul> <li>
<code>'skipped'</code> for skipped tests, e.g. with <a href="class-test.html#test-skip">test.skip()</a>;</li> <li>
<code>'failed'</code> for tests marked as failed with <a href="class-test.html#test-fail">test.fail()</a>.</li> </ul> <p>Expected status is usually compared with the actual <a href="class-testinfo.html#test-info-status">testInfo.status</a>:</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.afterEach(async ({}, testInfo) =&gt; {
  if (testInfo.status !== testInfo.expectedStatus)
    console.log(`${testInfo.title} did not run as expected!`);
});</pre> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.expectedStatus</pre> <p><strong>Type</strong></p> <ul> <li>"passed" | "failed" | "timedOut" | "skipped" | "interrupted"</li> </ul>  <h3 id="test-info-file">file<a href="#test-info-file" aria-label="Direct link to file" title="Direct link to file">​</a>
</h3>   <p>Absolute path to a file where the currently running test is declared.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.file</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></li> </ul>  <h3 id="test-info-fn">fn<a href="#test-info-fn" aria-label="Direct link to fn" title="Direct link to fn">​</a>
</h3>   <p>Test function as passed to <code>test(title, testFunction)</code>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.fn</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></li> </ul>  <h3 id="test-info-line">line<a href="#test-info-line" aria-label="Direct link to line" title="Direct link to line">​</a>
</h3>   <p>Line number where the currently running test is declared.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.line</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></li> </ul>  <h3 id="test-info-output-dir">outputDir<a href="#test-info-output-dir" aria-label="Direct link to outputDir" title="Direct link to outputDir">​</a>
</h3>   <p>Absolute path to the output directory for this specific test run. Each test run gets its own directory so they cannot conflict.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.outputDir</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></li> </ul>  <h3 id="test-info-parallel-index">parallelIndex<a href="#test-info-parallel-index" aria-label="Direct link to parallelIndex" title="Direct link to parallelIndex">​</a>
</h3>   <p>The index of the worker between <code>0</code> and <code>workers - 1</code>. It is guaranteed that workers running at the same time have a different <code>parallelIndex</code>. When a worker is restarted, for example after a failure, the new worker process has the same <code>parallelIndex</code>.</p> <p>Also available as <code>process.env.TEST_PARALLEL_INDEX</code>. Learn more about <a href="../test-parallel.html">parallelism and sharding</a> with Playwright Test.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.parallelIndex</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></li> </ul>  <h3 id="test-info-project">project<a href="#test-info-project" aria-label="Direct link to project" title="Direct link to project">​</a>
</h3>   <p>Processed project configuration from the <a href="../test-configuration.html">configuration file</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.project</pre> <p><strong>Type</strong></p> <ul> <li><a title="FullProject" href="class-fullproject.html">FullProject</a></li> </ul>  <h3 id="test-info-repeat-each-index">repeatEachIndex<a href="#test-info-repeat-each-index" aria-label="Direct link to repeatEachIndex" title="Direct link to repeatEachIndex">​</a>
</h3>   <p>Specifies a unique repeat index when running in "repeat each" mode. This mode is enabled by passing <code>--repeat-each</code> to the <a href="../test-cli.html">command line</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.repeatEachIndex</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></li> </ul>  <h3 id="test-info-retry">retry<a href="#test-info-retry" aria-label="Direct link to retry" title="Direct link to retry">​</a>
</h3>   <p>Specifies the retry number when the test is retried after a failure. The first test run has <a href="class-testinfo.html#test-info-retry">testInfo.retry</a> equal to zero, the first retry has it equal to one, and so on. Learn more about <a href="../test-retries.html#retries">retries</a>.</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.beforeEach(async ({}, testInfo) =&gt; {
  // You can access testInfo.retry in any hook or fixture.
  if (testInfo.retry &gt; 0)
    console.log(`Retrying!`);
});

test('my test', async ({ page }, testInfo) =&gt; {
  // Here we clear some server-side state when retrying.
  if (testInfo.retry)
    await cleanSomeCachesOnTheServer();
  // ...
});</pre> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.retry</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></li> </ul>  <h3 id="test-info-snapshot-dir">snapshotDir<a href="#test-info-snapshot-dir" aria-label="Direct link to snapshotDir" title="Direct link to snapshotDir">​</a>
</h3>   <p>Absolute path to the snapshot output directory for this specific test. Each test suite gets its own directory so they cannot conflict.</p> <p>This property does not account for the <a href="class-testproject.html#test-project-snapshot-path-template">testProject.snapshotPathTemplate</a> configuration.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.snapshotDir</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></li> </ul>  <h3 id="test-info-snapshot-suffix">snapshotSuffix<a href="#test-info-snapshot-suffix" aria-label="Direct link to snapshotSuffix" title="Direct link to snapshotSuffix">​</a>
</h3>   <blockquote>
<div>
note</div>
<div><p>Use of <a href="class-testinfo.html#test-info-snapshot-suffix">testInfo.snapshotSuffix</a> is discouraged. Please use <a href="class-testconfig.html#test-config-snapshot-path-template">testConfig.snapshotPathTemplate</a> to configure snapshot paths.</p></div>
</blockquote> <p>Suffix used to differentiate snapshots between multiple test configurations. For example, if snapshots depend on the platform, you can set <code>testInfo.snapshotSuffix</code> equal to <code>process.platform</code>. In this case <code>expect(value).toMatchSnapshot(snapshotName)</code> will use different snapshots depending on the platform. Learn more about <a href="../test-snapshots.html">snapshots</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.snapshotSuffix</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></li> </ul>  <h3 id="test-info-status">status<a href="#test-info-status" aria-label="Direct link to status" title="Direct link to status">​</a>
</h3>   <p>Actual status for the currently running test. Available after the test has finished in <a href="class-test.html#test-after-each">test.afterEach()</a> hook and fixtures.</p> <p>Status is usually compared with the <a href="class-testinfo.html#test-info-expected-status">testInfo.expectedStatus</a>:</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.afterEach(async ({}, testInfo) =&gt; {
  if (testInfo.status !== testInfo.expectedStatus)
    console.log(`${testInfo.title} did not run as expected!`);
});</pre> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.status</pre> <p><strong>Type</strong></p> <ul> <li>"passed" | "failed" | "timedOut" | "skipped" | "interrupted"</li> </ul>  <h3 id="test-info-tags">tags<a href="#test-info-tags" aria-label="Direct link to tags" title="Direct link to tags">​</a>
</h3>   <p>Tags that apply to the test. Learn more about <a href="../test-annotations.html#tag-tests">tags</a>.</p> <blockquote>
<div>
note</div>
<div><p>Any changes made to this list while the test is running will not be visible to test reporters.</p></div>
</blockquote> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.tags</pre> <p><strong>Type</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</li> </ul>  <h3 id="test-info-test-id">testId<a href="#test-info-test-id" aria-label="Direct link to testId" title="Direct link to testId">​</a>
</h3>   <p>Test id matching the test case id in the reporter API.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.testId</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></li> </ul>  <h3 id="test-info-timeout">timeout<a href="#test-info-timeout" aria-label="Direct link to timeout" title="Direct link to timeout">​</a>
</h3>   <p>Timeout in milliseconds for the currently running test. Zero means no timeout. Learn more about <a href="../test-timeouts.html">various timeouts</a>.</p> <p>Timeout is usually specified in the <a href="../test-configuration.html">configuration file</a></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.beforeEach(async ({ page }, testInfo) =&gt; {
  // Extend timeout for all tests running this hook by 30 seconds.
  testInfo.setTimeout(testInfo.timeout + 30000);
});</pre> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.timeout</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></li> </ul>  <h3 id="test-info-title">title<a href="#test-info-title" aria-label="Direct link to title" title="Direct link to title">​</a>
</h3>   <p>The title of the currently running test as passed to <code>test(title, testFunction)</code>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.title</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></li> </ul>  <h3 id="test-info-title-path">titlePath<a href="#test-info-title-path" aria-label="Direct link to titlePath" title="Direct link to titlePath">​</a>
</h3>   <p>The full title path starting with the test file name.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.titlePath</pre> <p><strong>Type</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</li> </ul>  <h3 id="test-info-worker-index">workerIndex<a href="#test-info-worker-index" aria-label="Direct link to workerIndex" title="Direct link to workerIndex">​</a>
</h3>   <p>The unique index of the worker process that is running the test. When a worker is restarted, for example after a failure, the new worker process gets a new unique <code>workerIndex</code>.</p> <p>Also available as <code>process.env.TEST_WORKER_INDEX</code>. Learn more about <a href="../test-parallel.html">parallelism and sharding</a> with Playwright Test.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">testInfo.workerIndex</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/api/class-testinfo" class="_attribution-link">https://playwright.dev/docs/api/class-testinfo</a>
  </p>
</div>
