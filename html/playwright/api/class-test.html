<header><h1>Playwright Test</h1></header><p>Playwright Test provides a <code>test</code> function to declare tests and <code>expect</code> function to write assertions.</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('basic test', async ({ page }) =&gt; {
  await page.goto('https://playwright.dev/');
  const name = await page.innerText('.navbar__title');
  expect(name).toBe('Playwright');
});</pre>  <h2 id="methods">Methods<a href="#methods" aria-label="Direct link to Methods" title="Direct link to Methods">​</a>
</h2> <h3 id="test-call">test<a href="#test-call" aria-label="Direct link to test" title="Direct link to test">​</a>
</h3>   <p>Declares a test.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('basic test', async ({ page }) =&gt; {
  await page.goto('https://playwright.dev/');
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Test title.</p> </li> <li> <p><code>testFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Test function that takes one or two arguments: an object with fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul>  <h3 id="test-after-all-1">test.afterAll(hookFunction)<a href="#test-after-all-1" aria-label="Direct link to test.afterAll(hookFunction)" title="Direct link to test.afterAll(hookFunction)">​</a>
</h3>   <p>Declares an <code>afterAll</code> hook that is executed once per worker after all tests.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.afterAll(async () =&gt; {
  console.log('Done with tests');
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>hookFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Hook function that takes one or two arguments: an object with worker fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul> <p><strong>Details</strong></p> <p>When called in the scope of a test file, runs after all tests in the file. When called inside a <a href="class-test.html#test-describe-1">test.describe()</a> group, runs after all tests in the group. If multiple <code>afterAll</code> hooks are added, they will run in the order of their registration.</p> <p>Note that worker process is restarted on test failures, and <code>afterAll</code> hook runs again in the new worker. Learn more about <a href="../test-retries.html">workers and failures</a>.</p> <p>Playwright will continue running all applicable hooks even if some of them have failed.</p>  <h3 id="test-after-all-2">test.afterAll(title, hookFunction)<a href="#test-after-all-2" aria-label="Direct link to test.afterAll(title, hookFunction)" title="Direct link to test.afterAll(title, hookFunction)">​</a>
</h3>   <p>Declares an <code>afterAll</code> hook with a title that is executed once per worker after all tests.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.afterAll('Teardown', async () =&gt; {
  console.log('Done with tests');
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Hook title.</p> </li> <li> <p><code>hookFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Hook function that takes one or two arguments: an object with worker fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul> <p><strong>Details</strong></p> <p>See <a href="class-test.html#test-after-all-1">test.afterAll()</a>.</p>  <h3 id="test-after-each-1">test.afterEach(hookFunction)<a href="#test-after-each-1" aria-label="Direct link to test.afterEach(hookFunction)" title="Direct link to test.afterEach(hookFunction)">​</a>
</h3>   <p>Declares an <code>afterEach</code> hook that is executed after each test.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.afterEach(async ({ page }, testInfo) =&gt; {
  console.log(`Finished ${testInfo.title} with status ${testInfo.status}`);

  if (testInfo.status !== testInfo.expectedStatus)
    console.log(`Did not run as expected, ended up at ${page.url()}`);
});

test('my test', async ({ page }) =&gt; {
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>hookFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Hook function that takes one or two arguments: an object with fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul> <p><strong>Details</strong></p> <p>When called in the scope of a test file, runs after each test in the file. When called inside a <a href="class-test.html#test-describe-1">test.describe()</a> group, runs after each test in the group. If multiple <code>afterEach</code> hooks are added, they will run in the order of their registration.</p> <p>You can access all the same <a title="Fixtures" href="class-fixtures.html">Fixtures</a> as the test function itself, and also the <a title="TestInfo" href="class-testinfo.html">TestInfo</a> object that gives a lot of useful information. For example, you can check whether the test succeeded or failed.</p> <p>Playwright will continue running all applicable hooks even if some of them have failed.</p>  <h3 id="test-after-each-2">test.afterEach(title, hookFunction)<a href="#test-after-each-2" aria-label="Direct link to test.afterEach(title, hookFunction)" title="Direct link to test.afterEach(title, hookFunction)">​</a>
</h3>   <p>Declares an <code>afterEach</code> hook with a title that is executed after each test.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.afterEach('Status check', async ({ page }, testInfo) =&gt; {
  console.log(`Finished ${testInfo.title} with status ${testInfo.status}`);

  if (testInfo.status !== testInfo.expectedStatus)
    console.log(`Did not run as expected, ended up at ${page.url()}`);
});

test('my test', async ({ page }) =&gt; {
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Hook title.</p> </li> <li> <p><code>hookFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Hook function that takes one or two arguments: an object with fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul> <p><strong>Details</strong></p> <p>See <a href="class-test.html#test-after-each-1">test.afterEach()</a>.</p>  <h3 id="test-before-all-1">test.beforeAll(hookFunction)<a href="#test-before-all-1" aria-label="Direct link to test.beforeAll(hookFunction)" title="Direct link to test.beforeAll(hookFunction)">​</a>
</h3>   <p>Declares a <code>beforeAll</code> hook that is executed once per worker process before all tests.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.beforeAll(async () =&gt; {
  console.log('Before tests');
});

test.afterAll(async () =&gt; {
  console.log('After tests');
});

test('my test', async ({ page }) =&gt; {
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>hookFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Hook function that takes one or two arguments: an object with worker fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul> <p><strong>Details</strong></p> <p>When called in the scope of a test file, runs before all tests in the file. When called inside a <a href="class-test.html#test-describe-1">test.describe()</a> group, runs before all tests in the group. If multiple <code>beforeAll</code> hooks are added, they will run in the order of their registration.</p> <p>Note that worker process is restarted on test failures, and <code>beforeAll</code> hook runs again in the new worker. Learn more about <a href="../test-retries.html">workers and failures</a>.</p> <p>Playwright will continue running all applicable hooks even if some of them have failed.</p> <p>You can use <a href="class-test.html#test-after-all-1">test.afterAll()</a> to teardown any resources set up in <code>beforeAll</code>.</p>  <h3 id="test-before-all-2">test.beforeAll(title, hookFunction)<a href="#test-before-all-2" aria-label="Direct link to test.beforeAll(title, hookFunction)" title="Direct link to test.beforeAll(title, hookFunction)">​</a>
</h3>   <p>Declares a <code>beforeAll</code> hook with a title that is executed once per worker process before all tests.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.beforeAll('Setup', async () =&gt; {
  console.log('Before tests');
});

test('my test', async ({ page }) =&gt; {
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Hook title.</p> </li> <li> <p><code>hookFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Hook function that takes one or two arguments: an object with worker fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul> <p><strong>Details</strong></p> <p>See <a href="class-test.html#test-before-all-1">test.beforeAll()</a>.</p>  <h3 id="test-before-each-1">test.beforeEach(hookFunction)<a href="#test-before-each-1" aria-label="Direct link to test.beforeEach(hookFunction)" title="Direct link to test.beforeEach(hookFunction)">​</a>
</h3>   <p>Declares a <code>beforeEach</code> hook that is executed before each test.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.beforeEach(async ({ page }, testInfo) =&gt; {
  console.log(`Running ${testInfo.title}`);
  await page.goto('https://my.start.url/');
});

test('my test', async ({ page }) =&gt; {
  expect(page.url()).toBe('https://my.start.url/');
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>hookFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Hook function that takes one or two arguments: an object with fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul> <p><strong>Details</strong></p> <p>When called in the scope of a test file, runs before each test in the file. When called inside a <a href="class-test.html#test-describe-1">test.describe()</a> group, runs before each test in the group. If multiple <code>beforeEach</code> hooks are added, they will run in the order of their registration.</p> <p>You can access all the same <a title="Fixtures" href="class-fixtures.html">Fixtures</a> as the test function itself, and also the <a title="TestInfo" href="class-testinfo.html">TestInfo</a> object that gives a lot of useful information. For example, you can navigate the page before starting the test.</p> <p>Playwright will continue running all applicable hooks even if some of them have failed.</p> <p>You can use <a href="class-test.html#test-after-each-1">test.afterEach()</a> to teardown any resources set up in <code>beforeEach</code>.</p>  <h3 id="test-before-each-2">test.beforeEach(title, hookFunction)<a href="#test-before-each-2" aria-label="Direct link to test.beforeEach(title, hookFunction)" title="Direct link to test.beforeEach(title, hookFunction)">​</a>
</h3>   <p>Declares a <code>beforeEach</code> hook with a title that is executed before each test.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.beforeEach('Open start URL', async ({ page }, testInfo) =&gt; {
  console.log(`Running ${testInfo.title}`);
  await page.goto('https://my.start.url/');
});

test('my test', async ({ page }) =&gt; {
  expect(page.url()).toBe('https://my.start.url/');
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Hook title.</p> </li> <li> <p><code>hookFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Hook function that takes one or two arguments: an object with fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul> <p><strong>Details</strong></p> <p>See <a href="class-test.html#test-before-each-1">test.beforeEach()</a>.</p>  <h3 id="test-describe-1">test.describe(title, callback)<a href="#test-describe-1" aria-label="Direct link to test.describe(title, callback)" title="Direct link to test.describe(title, callback)">​</a>
</h3>   <p>Declares a group of tests.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.describe('two tests', () =&gt; {
  test('one', async ({ page }) =&gt; {
    // ...
  });

  test('two', async ({ page }) =&gt; {
    // ...
  });
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Group title.</p> </li> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>A callback that is run immediately when calling <a href="class-test.html#test-describe-1">test.describe()</a>. Any tests added in this callback will belong to the group.</p> </li> </ul>  <h3 id="test-describe-2">test.describe(callback)<a href="#test-describe-2" aria-label="Direct link to test.describe(callback)" title="Direct link to test.describe(callback)">​</a>
</h3>   <p>Declares an anonymous group of tests. This is convenient to give a group of tests a common option with <a href="class-test.html#test-use">test.use()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.describe(() =&gt; {
  test.use({ colorScheme: 'dark' });

  test('one', async ({ page }) =&gt; {
    // ...
  });

  test('two', async ({ page }) =&gt; {
    // ...
  });
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>A callback that is run immediately when calling <a href="class-test.html#test-describe-2">test.describe()</a>. Any tests added in this callback will belong to the group.</p> </li> </ul>  <h3 id="test-describe-configure">test.describe.configure<a href="#test-describe-configure" aria-label="Direct link to test.describe.configure" title="Direct link to test.describe.configure">​</a>
</h3>   <p>Configures the enclosing scope. Can be executed either on the top level or inside a describe. Configuration applies to the entire scope, regardless of whether it run before or after the test declaration.</p> <p>Learn more about the execution modes <a href="../test-parallel.html">here</a>.</p> <p><strong>Usage</strong></p> <ul> <li> <p>Running tests in parallel.</p> <pre tabindex="0" data-language="javascript">// Run all the tests in the file concurrently using parallel workers.
test.describe.configure({ mode: 'parallel' });
test('runs in parallel 1', async ({ page }) =&gt; {});
test('runs in parallel 2', async ({ page }) =&gt; {});</pre> </li> <li> <p>Running tests serially, retrying from the start.</p> <blockquote>
<div>
note</div>
<div><p>Running serially is not recommended. It is usually better to make your tests isolated, so they can be run independently.</p></div>
</blockquote> <pre tabindex="0" data-language="javascript">// Annotate tests as inter-dependent.
test.describe.configure({ mode: 'serial' });
test('runs first', async ({ page }) =&gt; {});
test('runs second', async ({ page }) =&gt; {});</pre> </li> <li> <p>Configuring retries and timeout for each test.</p> <pre tabindex="0" data-language="javascript">// Each test in the file will be retried twice and have a timeout of 20 seconds.
test.describe.configure({ retries: 2, timeout: 20_000 });
test('runs first', async ({ page }) =&gt; {});
test('runs second', async ({ page }) =&gt; {});</pre> </li> <li> <p>Run multiple describes in parallel, but tests inside each describe in order.</p> <pre tabindex="0" data-language="javascript">test.describe.configure({ mode: 'parallel' });

test.describe('A, runs in parallel with B', () =&gt; {
  test.describe.configure({ mode: 'default' });
  test('in order A1', async ({ page }) =&gt; {});
  test('in order A2', async ({ page }) =&gt; {});
});

test.describe('B, runs in parallel with A', () =&gt; {
  test.describe.configure({ mode: 'default' });
  test('in order B1', async ({ page }) =&gt; {});
  test('in order B2', async ({ page }) =&gt; {});
});</pre> </li> </ul> <p><strong>Arguments</strong></p> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> <ul> <li> <p><code>mode</code> "default"|"parallel"|"serial" <em>(optional)</em></p> <p>Execution mode. Learn more about the execution modes <a href="../test-parallel.html">here</a>.</p> </li> <li> <p><code>retries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>The number of retries for each test.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Timeout for each test in milliseconds. Overrides <a href="class-testproject.html#test-project-timeout">testProject.timeout</a> and <a href="class-testconfig.html#test-config-timeout">testConfig.timeout</a>.</p> </li> </ul> </li> </ul>  <h3 id="test-describe-fixme">test.describe.fixme<a href="#test-describe-fixme" aria-label="Direct link to test.describe.fixme" title="Direct link to test.describe.fixme">​</a>
</h3>   <p>Declares a test group similarly to <a href="class-test.html#test-describe-1">test.describe()</a>. Tests in this group are marked as "fixme" and will not be executed.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.describe.fixme('broken tests', () =&gt; {
  test('example', async ({ page }) =&gt; {
    // This test will not run
  });
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Group title.</p> </li> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>A callback that is run immediately when calling <a href="class-test.html#test-describe-fixme">test.describe.fixme()</a>. Any tests added in this callback will belong to the group, and will not be run.</p> </li> </ul>  <h3 id="test-describe-only">test.describe.only<a href="#test-describe-only" aria-label="Direct link to test.describe.only" title="Direct link to test.describe.only">​</a>
</h3>   <p>Declares a focused group of tests. If there are some focused tests or suites, all of them will be run but nothing else.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.describe.only('focused group', () =&gt; {
  test('in the focused group', async ({ page }) =&gt; {
    // This test will run
  });
});
test('not in the focused group', async ({ page }) =&gt; {
  // This test will not run
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Group title.</p> </li> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>A callback that is run immediately when calling <a href="class-test.html#test-describe-only">test.describe.only()</a>. Any tests added in this callback will belong to the group.</p> </li> </ul>  <h3 id="test-describe-skip">test.describe.skip<a href="#test-describe-skip" aria-label="Direct link to test.describe.skip" title="Direct link to test.describe.skip">​</a>
</h3>   <p>Declares a skipped test group, similarly to <a href="class-test.html#test-describe-1">test.describe()</a>. Tests in the skipped group are never run.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.describe.skip('skipped group', () =&gt; {
  test('example', async ({ page }) =&gt; {
    // This test will not run
  });
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Group title.</p> </li> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>A callback that is run immediately when calling <a href="class-test.html#test-describe-skip">test.describe.skip()</a>. Any tests added in this callback will belong to the group, and will not be run.</p> </li> </ul>  <h3 id="test-extend">test.extend<a href="#test-extend" aria-label="Direct link to test.extend" title="Direct link to test.extend">​</a>
</h3>   <p>Extends the <code>test</code> object by defining fixtures and/or options that can be used in the tests.</p> <p><strong>Usage</strong></p> <p>First define a fixture and/or an option.</p> <div>
<ul role="tablist" aria-orientation="horizontal">
<li role="tab" tabindex="0" aria-selected="true">TypeScript</li>
<li role="tab" tabindex="-1" aria-selected="false">JavaScript</li>
</ul>
<div>
<div role="tabpanel"><pre tabindex="0" data-language="javascript">import { test as base } from '@playwright/test';
import { TodoPage } from './todo-page';

export type Options = { defaultItem: string };

// Extend basic test by providing a "defaultItem" option and a "todoPage" fixture.
export const test = base.extend&lt;Options &amp; { todoPage: TodoPage }&gt;({
  // Define an option and provide a default value.
  // We can later override it in the config.
  defaultItem: ['Do stuff', { option: true }],

  // Define a fixture. Note that it can use built-in fixture "page"
  // and a new option "defaultItem".
  todoPage: async ({ page, defaultItem }, use) =&gt; {
    const todoPage = new TodoPage(page);
    await todoPage.goto();
    await todoPage.addToDo(defaultItem);
    await use(todoPage);
    await todoPage.removeAll();
  },
});</pre></div>
<div role="tabpanel" hidden=""><pre tabindex="0" data-language="javascript">const base = require('@playwright/test');
const { TodoPage } = require('./todo-page');

// Extend basic test by providing a "defaultItem" option and a "todoPage" fixture.
exports.test = base.test.extend({
  // Define an option and provide a default value.
  // We can later override it in the config.
  defaultItem: ['Do stuff', { option: true }],

  // Define a fixture. Note that it can use built-in fixture "page"
  // and a new option "defaultItem".
  todoPage: async ({ page, defaultItem }, use) =&gt; {
    const todoPage = new TodoPage(page);
    await todoPage.goto();
    await todoPage.addToDo(defaultItem);
    await use(todoPage);
    await todoPage.removeAll();
  },
});</pre></div>
</div>
</div> <p>Then use the fixture in the test.</p> <pre tabindex="0" data-language="javascript">import { test } from './my-test';

test('test 1', async ({ todoPage }) =&gt; {
  await todoPage.addToDo('my todo');
  // ...
});</pre> <p>Configure the option in config file.</p> <div>
<ul role="tablist" aria-orientation="horizontal">
<li role="tab" tabindex="0" aria-selected="true">TypeScript</li>
<li role="tab" tabindex="-1" aria-selected="false">JavaScript</li>
</ul>
<div>
<div role="tabpanel"><pre tabindex="0" data-language="javascript">import { defineConfig } from '@playwright/test';
import type { Options } from './my-test';

export default defineConfig&lt;Options&gt;({
  projects: [
    {
      name: 'shopping',
      use: { defaultItem: 'Buy milk' },
    },
    {
      name: 'wellbeing',
      use: { defaultItem: 'Exercise!' },
    },
  ]
});</pre></div>
<div role="tabpanel" hidden=""><pre tabindex="0" data-language="javascript">// @ts-check

module.exports = defineConfig({
  projects: [
    {
      name: 'shopping',
      use: { defaultItem: 'Buy milk' },
    },
    {
      name: 'wellbeing',
      use: { defaultItem: 'Exercise!' },
    },
  ]
});</pre></div>
</div>
</div> <p>Learn more about <a href="../test-fixtures.html">fixtures</a> and <a href="../test-parameterize.html">parametrizing tests</a>.</p> <p><strong>Arguments</strong></p> <ul> <li> <p><code>fixtures</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a></p> <p>An object containing fixtures and/or options. Learn more about <a href="../test-fixtures.html">fixtures format</a>.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a title="Test" href="class-test.html">Test</a>
</li> </ul>  <h3 id="test-fail-1">test.fail()<a href="#test-fail-1" aria-label="Direct link to test.fail()" title="Direct link to test.fail()">​</a>
</h3>   <p>Unconditionally marks a test as "should fail". Playwright Test runs this test and ensures that it is actually failing. This is useful for documentation purposes to acknowledge that some functionality is broken until it is fixed.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('not yet ready', async ({ page }) =&gt; {
  test.fail();
  // ...
});</pre>  <h3 id="test-fail-2">test.fail(condition)<a href="#test-fail-2" aria-label="Direct link to test.fail(condition)" title="Direct link to test.fail(condition)">​</a>
</h3>   <p>Conditionally mark a test as "should fail" with an optional description.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('fail in WebKit', async ({ page, browserName }) =&gt; {
  test.fail(browserName === 'webkit', 'This feature is not implemented for Mac yet');
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>condition</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>Test is marked as "should fail" when the condition is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-fail-3">test.fail(callback)<a href="#test-fail-3" aria-label="Direct link to test.fail(callback)" title="Direct link to test.fail(callback)">​</a>
</h3>   <p>Conditionally mark all tests in a file or <a href="class-test.html#test-describe-1">test.describe()</a> group as "should fail".</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.fail(({ browserName }) =&gt; browserName === 'webkit');

test('fail in WebKit 1', async ({ page }) =&gt; {
  // ...
});
test('fail in WebKit 2', async ({ page }) =&gt; {
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>):<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>A function that returns whether to mark as "should fail", based on test fixtures. Test or tests are marked as "should fail" when the return value is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-fixme-1">test.fixme(title, testFunction)<a href="#test-fixme-1" aria-label="Direct link to test.fixme(title, testFunction)" title="Direct link to test.fixme(title, testFunction)">​</a>
</h3>   <p>Declares a test to be fixed, similarly to <a href="class-test.html#test-call">test()</a>. This test will not be run.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.fixme('test to be fixed', async ({ page }) =&gt; {
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Test title.</p> </li> <li> <p><code>testFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Test function that takes one or two arguments: an object with fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul>  <h3 id="test-fixme-2">test.fixme()<a href="#test-fixme-2" aria-label="Direct link to test.fixme()" title="Direct link to test.fixme()">​</a>
</h3>   <p>Mark a test as "fixme", with the intention to fix it. Test is immediately aborted when you call <a href="class-test.html#test-fixme-2">test.fixme()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('test to be fixed', async ({ page }) =&gt; {
  test.fixme();
  // ...
});</pre> <p>Mark all tests in a file or <a href="class-test.html#test-describe-1">test.describe()</a> group as "fixme".</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.fixme();

test('test to be fixed 1', async ({ page }) =&gt; {
  // ...
});
test('test to be fixed 2', async ({ page }) =&gt; {
  // ...
});</pre>  <h3 id="test-fixme-3">test.fixme(condition)<a href="#test-fixme-3" aria-label="Direct link to test.fixme(condition)" title="Direct link to test.fixme(condition)">​</a>
</h3>   <p>Conditionally mark a test as "fixme" with an optional description.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('broken in WebKit', async ({ page, browserName }) =&gt; {
  test.fixme(browserName === 'webkit', 'This feature is not implemented on Mac yet');
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>condition</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>Test is marked as "fixme" when the condition is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-fixme-4">test.fixme(callback)<a href="#test-fixme-4" aria-label="Direct link to test.fixme(callback)" title="Direct link to test.fixme(callback)">​</a>
</h3>   <p>Conditionally mark all tests in a file or <a href="class-test.html#test-describe-1">test.describe()</a> group as "fixme".</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.fixme(({ browserName }) =&gt; browserName === 'webkit');

test('broken in WebKit 1', async ({ page }) =&gt; {
  // ...
});
test('broken in WebKit 2', async ({ page }) =&gt; {
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>):<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>A function that returns whether to mark as "fixme", based on test fixtures. Test or tests are marked as "fixme" when the return value is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-info">test.info<a href="#test-info" aria-label="Direct link to test.info" title="Direct link to test.info">​</a>
</h3>   <p>Returns information about the currently running test. This method can only be called during the test execution, otherwise it throws.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test('example test', async ({ page }) =&gt; {
  // ...
  await test.info().attach('screenshot', {
    body: await page.screenshot(),
    contentType: 'image/png',
  });
});</pre> <p><strong>Returns</strong></p> <ul> <li>
<a title="TestInfo" href="class-testinfo.html">TestInfo</a>
</li> </ul>  <h3 id="test-only">test.only<a href="#test-only" aria-label="Direct link to test.only" title="Direct link to test.only">​</a>
</h3>   <p>Declares a focused test. If there are some focused tests or suites, all of them will be run but nothing else.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.only('focus this test', async ({ page }) =&gt; {
  // Run only focused tests in the entire project.
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Test title.</p> </li> <li> <p><code>testFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Test function that takes one or two arguments: an object with fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul>  <h3 id="test-set-timeout">test.setTimeout<a href="#test-set-timeout" aria-label="Direct link to test.setTimeout" title="Direct link to test.setTimeout">​</a>
</h3>   <p>Changes the timeout for the test. Zero means no timeout. Learn more about <a href="../test-timeouts.html">various timeouts</a>.</p> <p>Timeout for the currently running test is available through <a href="class-testinfo.html#test-info-timeout">testInfo.timeout</a>.</p> <p><strong>Usage</strong></p> <ul> <li> <p>Changing test timeout.</p> <pre tabindex="0" data-language="javascript">test('very slow test', async ({ page }) =&gt; {
  test.setTimeout(120000);
  // ...
});</pre> </li> <li> <p>Changing timeout from a slow <code>beforeEach</code> or <code>afterEach</code> hook. Note that this affects the test timeout that is shared with <code>beforeEach</code>/<code>afterEach</code> hooks.</p> <pre tabindex="0" data-language="javascript">test.beforeEach(async ({ page }, testInfo) =&gt; {
  // Extend timeout for all tests running this hook by 30 seconds.
  test.setTimeout(testInfo.timeout + 30000);
});</pre> </li> <li> <p>Changing timeout for a <code>beforeAll</code> or <code>afterAll</code> hook. Note this affects the hook's timeout, not the test timeout.</p> <pre tabindex="0" data-language="javascript">test.beforeAll(async () =&gt; {
  // Set timeout for this hook.
  test.setTimeout(60000);
});</pre> </li> <li> <p>Changing timeout for all tests in a <a href="class-test.html#test-describe-1">test.describe()</a> group.</p> <pre tabindex="0" data-language="javascript">test.describe('group', () =&gt; {
  // Applies to all tests in this group.
  test.describe.configure({ timeout: 60000 });

  test('test one', async () =&gt; { /* ... */ });
  test('test two', async () =&gt; { /* ... */ });
  test('test three', async () =&gt; { /* ... */ });
});</pre> </li> </ul> <p><strong>Arguments</strong></p> <ul> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>Timeout in milliseconds.</p> </li> </ul>  <h3 id="test-skip-1">test.skip(title, testFunction)<a href="#test-skip-1" aria-label="Direct link to test.skip(title, testFunction)" title="Direct link to test.skip(title, testFunction)">​</a>
</h3>   <p>Declares a skipped test, similarly to <a href="class-test.html#test-call">test()</a>. Skipped test is never run.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.skip('broken test', async ({ page }) =&gt; {
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Test title.</p> </li> <li> <p><code>testFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>, <a title="TestInfo" href="class-testinfo.html">TestInfo</a>)</p> <p>Test function that takes one or two arguments: an object with fixtures and optional <a title="TestInfo" href="class-testinfo.html">TestInfo</a>.</p> </li> </ul>  <h3 id="test-skip-2">test.skip()<a href="#test-skip-2" aria-label="Direct link to test.skip()" title="Direct link to test.skip()">​</a>
</h3>   <p>Unconditionally skip a test. Test is immediately aborted when you call <a href="class-test.html#test-skip-2">test.skip()</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('skipped test', async ({ page }) =&gt; {
  test.skip();
  // ...
});</pre> <p>Unconditionally skip all tests in a file or <a href="class-test.html#test-describe-1">test.describe()</a> group:</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.skip();

test('skipped test 1', async ({ page }) =&gt; {
  // ...
});
test('skipped test 2', async ({ page }) =&gt; {
  // ...
});</pre>  <h3 id="test-skip-3">test.skip(condition)<a href="#test-skip-3" aria-label="Direct link to test.skip(condition)" title="Direct link to test.skip(condition)">​</a>
</h3>   <p>Conditionally skip a test with an optional description.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('skip in WebKit', async ({ page, browserName }) =&gt; {
  test.skip(browserName === 'webkit', 'This feature is not implemented for Mac');
  // ...
});</pre> <p>Skip from <a href="class-test.html#test-before-each-1">test.beforeEach()</a> hook:</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.beforeEach(async ({ page }) =&gt; {
  test.skip(process.env.APP_VERSION === 'v1', 'There are no settings in v1');
  await page.goto('/settings');
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>condition</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>A skip condition. Test is skipped when the condition is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-skip-4">test.skip(callback)<a href="#test-skip-4" aria-label="Direct link to test.skip(callback)" title="Direct link to test.skip(callback)">​</a>
</h3>   <p>Conditionally skips all tests in a file or <a href="class-test.html#test-describe-1">test.describe()</a> group.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.skip(({ browserName }) =&gt; browserName === 'webkit');

test('skip in WebKit 1', async ({ page }) =&gt; {
  // ...
});
test('skip in WebKit 2', async ({ page }) =&gt; {
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>):<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>A function that returns whether to skip, based on test fixtures. Test or tests are skipped when the return value is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-slow-1">test.slow()<a href="#test-slow-1" aria-label="Direct link to test.slow()" title="Direct link to test.slow()">​</a>
</h3>   <p>Unconditionally marks a test as "slow". Slow test will be given triple the default timeout.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('slow test', async ({ page }) =&gt; {
  test.slow();
  // ...
});</pre> <p><strong>Details</strong></p> <p><a href="class-test.html#test-slow-1">test.slow()</a> cannot be used in a <code>beforeAll</code> or <code>afterAll</code> hook. Use <a href="class-test.html#test-set-timeout">test.setTimeout()</a> instead.</p>  <h3 id="test-slow-2">test.slow(condition)<a href="#test-slow-2" aria-label="Direct link to test.slow(condition)" title="Direct link to test.slow(condition)">​</a>
</h3>   <p>Conditionally mark a test as "slow" with an optional description. Slow test will be given triple the default timeout.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('slow in WebKit', async ({ page, browserName }) =&gt; {
  test.slow(browserName === 'webkit', 'This feature is slow on Mac');
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>condition</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>Test is marked as "slow" when the condition is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-slow-3">test.slow(callback)<a href="#test-slow-3" aria-label="Direct link to test.slow(callback)" title="Direct link to test.slow(callback)">​</a>
</h3>   <p>Conditionally mark all tests in a file or <a href="class-test.html#test-describe-1">test.describe()</a> group as "slow". Slow tests will be given triple the default timeout.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.slow(({ browserName }) =&gt; browserName === 'webkit');

test('slow in WebKit 1', async ({ page }) =&gt; {
  // ...
});
test('fail in WebKit 2', async ({ page }) =&gt; {
  // ...
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>(<a title="Fixtures" href="class-fixtures.html">Fixtures</a>):<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> <p>A function that returns whether to mark as "slow", based on test fixtures. Test or tests are marked as "slow" when the return value is <code>true</code>.</p> </li> <li> <p><code>description</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Optional description that will be reflected in a test report.</p> </li> </ul>  <h3 id="test-step">test.step<a href="#test-step" aria-label="Direct link to test.step" title="Direct link to test.step">​</a>
</h3>   <p>Declares a test step that is shown in the report.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('test', async ({ page }) =&gt; {
  await test.step('Log in', async () =&gt; {
    // ...
  });

  await test.step('Outer step', async () =&gt; {
    // ...
    // You can nest steps inside each other.
    await test.step('Inner step', async () =&gt; {
      // ...
    });
  });
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Step name.</p> </li> <li> <p><code>body</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a>([]):<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt;</p> <p>Step body.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>box</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em> </p> <p>Whether to box the step in the report. Defaults to <code>false</code>. When the step is boxed, errors thrown from the step internals point to the step call site. See below for more details.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt;
</li> </ul> <p><strong>Details</strong></p> <p>The method returns the value returned by the step callback.</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('test', async ({ page }) =&gt; {
  const user = await test.step('Log in', async () =&gt; {
    // ...
    return 'john';
  });
  expect(user).toBe('john');
});</pre> <p><strong>Decorator</strong></p> <p>You can use TypeScript method decorators to turn a method into a step. Each call to the decorated method will show up as a step in the report.</p> <pre tabindex="0" data-language="javascript">function step(target: Function, context: ClassMethodDecoratorContext) {
  return function replacementMethod(...args: any) {
    const name = this.constructor.name + '.' + (context.name as string);
    return test.step(name, async () =&gt; {
      return await target.call(this, ...args);
    });
  };
}

class LoginPage {
  constructor(readonly page: Page) {}

  @step
  async login() {
    const account = { username: 'Alice', password: 's3cr3t' };
    await this.page.getByLabel('Username or email address').fill(account.username);
    await this.page.getByLabel('Password').fill(account.password);
    await this.page.getByRole('button', { name: 'Sign in' }).click();
    await expect(this.page.getByRole('button', { name: 'View profile and more' })).toBeVisible();
  }
}

test('example', async ({ page }) =&gt; {
  const loginPage = new LoginPage(page);
  await loginPage.login();
});</pre> <p><strong>Boxing</strong></p> <p>When something inside a step fails, you would usually see the error pointing to the exact action that failed. For example, consider the following login step:</p> <pre tabindex="0" data-language="javascript">async function login(page) {
  await test.step('login', async () =&gt; {
    const account = { username: 'Alice', password: 's3cr3t' };
    await page.getByLabel('Username or email address').fill(account.username);
    await page.getByLabel('Password').fill(account.password);
    await page.getByRole('button', { name: 'Sign in' }).click();
    await expect(page.getByRole('button', { name: 'View profile and more' })).toBeVisible();
  });
}

test('example', async ({ page }) =&gt; {
  await page.goto('https://github.com/login');
  await login(page);
});</pre> <pre tabindex="0" data-language="javascript">Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
  ... error details omitted ...

   8 |     await page.getByRole('button', { name: 'Sign in' }).click();
&gt;  9 |     await expect(page.getByRole('button', { name: 'View profile and more' })).toBeVisible();
     |                                                                               ^
  10 |   });</pre> <p>As we see above, the test may fail with an error pointing inside the step. If you would like the error to highlight the "login" step instead of its internals, use the <code>box</code> option. An error inside a boxed step points to the step call site.</p> <pre tabindex="0" data-language="javascript">async function login(page) {
  await test.step('login', async () =&gt; {
    // ...
  }, { box: true });  // Note the "box" option here.
}</pre> <pre tabindex="0" data-language="javascript">Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
  ... error details omitted ...

  14 |   await page.goto('https://github.com/login');
&gt; 15 |   await login(page);
     |         ^
  16 | });</pre> <p>You can also create a TypeScript decorator for a boxed step, similar to a regular step decorator above:</p> <pre tabindex="0" data-language="javascript">function boxedStep(target: Function, context: ClassMethodDecoratorContext) {
  return function replacementMethod(...args: any) {
    const name = this.constructor.name + '.' + (context.name as string);
    return test.step(name, async () =&gt; {
      return await target.call(this, ...args);
    }, { box: true });  // Note the "box" option here.
  };
}

class LoginPage {
  constructor(readonly page: Page) {}

  @boxedStep
  async login() {
    // ....
  }
}

test('example', async ({ page }) =&gt; {
  const loginPage = new LoginPage(page);
  await loginPage.login();  // &lt;-- Error will be reported on this line.
});</pre>  <h3 id="test-use">test.use<a href="#test-use" aria-label="Direct link to test.use" title="Direct link to test.use">​</a>
</h3>   <p>Specifies options or fixtures to use in a single test file or a <a href="class-test.html#test-describe-1">test.describe()</a> group. Most useful to set an option, for example set <code>locale</code> to configure <code>context</code> fixture.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.use({ locale: 'en-US' });

test('test with locale', async ({ page }) =&gt; {
  // Default context and page have locale as specified
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>options</code> <a title="TestOptions" href="class-testoptions.html">TestOptions</a></p> <p>An object with local options.</p> </li> </ul> <p><strong>Details</strong></p> <p><code>test.use</code> can be called either in the global scope or inside <code>test.describe</code>. It is an error to call it within <code>beforeEach</code> or <code>beforeAll</code>.</p> <p>It is also possible to override a fixture by providing a function.</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test.use({
  locale: async ({}, use) =&gt; {
    // Read locale from some configuration file.
    const locale = await fs.promises.readFile('test-locale', 'utf-8');
    await use(locale);
  },
});

test('test with locale', async ({ page }) =&gt; {
  // Default context and page have locale as specified
});</pre>  <h2 id="properties">Properties<a href="#properties" aria-label="Direct link to Properties" title="Direct link to Properties">​</a>
</h2> <h3 id="test-expect">test.expect<a href="#test-expect" aria-label="Direct link to test.expect" title="Direct link to test.expect">​</a>
</h3>   <p><code>expect</code> function can be used to create test assertions. Read more about <a href="../test-assertions.html">test assertions</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test('example', async ({ page }) =&gt; {
  await test.expect(page).toHaveTitle('Title');
});</pre> <p><strong>Type</strong></p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a></li> </ul>  <h2 id="deprecated">Deprecated<a href="#deprecated" aria-label="Direct link to Deprecated" title="Direct link to Deprecated">​</a>
</h2> <h3 id="test-describe-parallel">test.describe.parallel<a href="#test-describe-parallel" aria-label="Direct link to test.describe.parallel" title="Direct link to test.describe.parallel">​</a>
</h3>   <blockquote>
<div>
Discouraged</div>
<div><p>See <a href="class-test.html#test-describe-configure">test.describe.configure()</a> for the preferred way of configuring the execution mode.</p></div>
</blockquote> <p>Declares a group of tests that could be run in parallel. By default, tests in a single test file run one after another, but using <a href="class-test.html#test-describe-parallel">test.describe.parallel()</a> allows them to run in parallel.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.describe.parallel('group', () =&gt; {
  test('runs in parallel 1', async ({ page }) =&gt; {});
  test('runs in parallel 2', async ({ page }) =&gt; {});
});</pre> <p>Note that parallel tests are executed in separate processes and cannot share any state or global variables. Each of the parallel tests executes all relevant hooks.</p> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Group title.</p> </li> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>A callback that is run immediately when calling <a href="class-test.html#test-describe-parallel">test.describe.parallel()</a>. Any tests added in this callback will belong to the group.</p> </li> </ul>  <h3 id="test-describe-parallel-only">test.describe.parallel.only<a href="#test-describe-parallel-only" aria-label="Direct link to test.describe.parallel.only" title="Direct link to test.describe.parallel.only">​</a>
</h3>   <blockquote>
<div>
Discouraged</div>
<div><p>See <a href="class-test.html#test-describe-configure">test.describe.configure()</a> for the preferred way of configuring the execution mode.</p></div>
</blockquote> <p>Declares a focused group of tests that could be run in parallel. This is similar to <a href="class-test.html#test-describe-parallel">test.describe.parallel()</a>, but focuses the group. If there are some focused tests or suites, all of them will be run but nothing else.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.describe.parallel.only('group', () =&gt; {
  test('runs in parallel 1', async ({ page }) =&gt; {});
  test('runs in parallel 2', async ({ page }) =&gt; {});
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Group title.</p> </li> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>A callback that is run immediately when calling <a href="class-test.html#test-describe-parallel-only">test.describe.parallel.only()</a>. Any tests added in this callback will belong to the group.</p> </li> </ul>  <h3 id="test-describe-serial">test.describe.serial<a href="#test-describe-serial" aria-label="Direct link to test.describe.serial" title="Direct link to test.describe.serial">​</a>
</h3>   <blockquote>
<div>
Discouraged</div>
<div><p>See <a href="class-test.html#test-describe-configure">test.describe.configure()</a> for the preferred way of configuring the execution mode.</p></div>
</blockquote> <p>Declares a group of tests that should always be run serially. If one of the tests fails, all subsequent tests are skipped. All tests in a group are retried together.</p> <blockquote>
<div>
note</div>
<div><p>Using serial is not recommended. It is usually better to make your tests isolated, so they can be run independently.</p></div>
</blockquote> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.describe.serial('group', () =&gt; {
  test('runs first', async ({ page }) =&gt; {});
  test('runs second', async ({ page }) =&gt; {});
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Group title.</p> </li> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>A callback that is run immediately when calling <a href="class-test.html#test-describe-serial">test.describe.serial()</a>. Any tests added in this callback will belong to the group.</p> </li> </ul>  <h3 id="test-describe-serial-only">test.describe.serial.only<a href="#test-describe-serial-only" aria-label="Direct link to test.describe.serial.only" title="Direct link to test.describe.serial.only">​</a>
</h3>   <blockquote>
<div>
Discouraged</div>
<div><p>See <a href="class-test.html#test-describe-configure">test.describe.configure()</a> for the preferred way of configuring the execution mode.</p></div>
</blockquote> <p>Declares a focused group of tests that should always be run serially. If one of the tests fails, all subsequent tests are skipped. All tests in a group are retried together. If there are some focused tests or suites, all of them will be run but nothing else.</p> <blockquote>
<div>
note</div>
<div><p>Using serial is not recommended. It is usually better to make your tests isolated, so they can be run independently.</p></div>
</blockquote> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">test.describe.serial.only('group', () =&gt; {
  test('runs first', async ({ page }) =&gt; {
  });
  test('runs second', async ({ page }) =&gt; {
  });
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>title</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Group title.</p> </li> <li> <p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a></p> <p>A callback that is run immediately when calling <a href="class-test.html#test-describe-serial-only">test.describe.serial.only()</a>. Any tests added in this callback will belong to the group.</p> </li> </ul><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/api/class-test" class="_attribution-link">https://playwright.dev/docs/api/class-test</a>
  </p>
</div>
