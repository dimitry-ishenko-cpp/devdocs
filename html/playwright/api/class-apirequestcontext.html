<header><h1>APIRequestContext</h1></header><p>This API is used for the Web API testing. You can use it to trigger API endpoints, configure micro-services, prepare environment or the service to your e2e test.</p> <p>Each Playwright browser context has associated with it <a title="APIRequestContext" href="class-apirequestcontext.html">APIRequestContext</a> instance which shares cookie storage with the browser context and can be accessed via <a href="class-browsercontext.html#browser-context-request">browserContext.request</a> or <a href="class-page.html#page-request">page.request</a>. It is also possible to create a new APIRequestContext instance manually by calling <a href="class-apirequest.html#api-request-new-context">apiRequest.newContext()</a>.</p> <p><strong>Cookie management</strong></p> <p><a title="APIRequestContext" href="class-apirequestcontext.html">APIRequestContext</a> returned by <a href="class-browsercontext.html#browser-context-request">browserContext.request</a> and <a href="class-page.html#page-request">page.request</a> shares cookie storage with the corresponding <a title="BrowserContext" href="class-browsercontext.html">BrowserContext</a>. Each API request will have <code>Cookie</code> header populated with the values from the browser context. If the API response contains <code>Set-Cookie</code> header it will automatically update <a title="BrowserContext" href="class-browsercontext.html">BrowserContext</a> cookies and requests made from the page will pick them up. This means that if you log in using this API, your e2e test will be logged in and vice versa.</p> <p>If you want API requests to not interfere with the browser cookies you should create a new <a title="APIRequestContext" href="class-apirequestcontext.html">APIRequestContext</a> by calling <a href="class-apirequest.html#api-request-new-context">apiRequest.newContext()</a>. Such <code>APIRequestContext</code> object will have its own isolated cookie storage.</p>  <h2 id="methods">Methods<a href="#methods" aria-label="Direct link to Methods" title="Direct link to Methods">​</a>
</h2> <h3 id="api-request-context-delete">delete<a href="#api-request-context-delete" aria-label="Direct link to delete" title="Direct link to delete">​</a>
</h3>   <p>Sends HTTP(S) <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE" target="_blank" rel="noopener noreferrer">DELETE</a> request and returns its response. The method will populate request cookies from the context and update context cookies from the response. The method will automatically follow redirects.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await apiRequestContext.delete(url);
await apiRequestContext.delete(url, options);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>url</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Target URL.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> <em>(optional)</em> </p> <p>Allows to set post data of the request. If the data parameter is an object, it will be serialized to json string and <code>content-type</code> header will be set to <code>application/json</code> if not explicitly set. Otherwise the <code>content-type</code> header will be set to <code>application/octet-stream</code> if not explicitly set.</p> </li> <li> <p><code>failOnStatusCode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to throw on response codes other than 2xx and 3xx. By default response object is returned for all status codes.</p> </li> <li> <p><code>form</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> <em>(optional)</em> </p> <p>Provides an object that will be serialized as html form using <code>application/x-www-form-urlencoded</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>application/x-www-form-urlencoded</code> unless explicitly provided.</p> </li> <li> <p><code>headers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt; <em>(optional)</em></p> <p>Allows to set HTTP headers. These headers will apply to the fetched request as well as any redirects initiated by it.</p> </li> <li> <p><code>ignoreHTTPSErrors</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to ignore HTTPS errors when sending network requests. Defaults to <code>false</code>.</p> </li> <li> <p><code>maxRedirects</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of request redirects that will be followed automatically. An error will be thrown if the number is exceeded. Defaults to <code>20</code>. Pass <code>0</code> to not follow redirects.</p> </li> <li> <p><code>maxRetries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of times network errors should be retried. Currently only <code>ECONNRESET</code> error is retried. Does not retry based on HTTP response codes. An error will be thrown if the limit is exceeded. Defaults to <code>0</code> - no retries.</p> </li> <li> <p><code>multipart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> | <a href="https://nodejs.org/api/fs.html#class-fsreadstream" target="_blank" rel="noopener noreferrer" title="ReadStream">ReadStream</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <em>(optional)</em> </p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File name</p> </li> <li> <p><code>mimeType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File type</p> </li> <li> <p><code>buffer</code> <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a></p> <p>File content</p> </li> </ul> <p>Provides an object that will be serialized as html form using <code>multipart/form-data</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>multipart/form-data</code> unless explicitly provided. File values can be passed either as <a href="https://nodejs.org/api/fs.html#fs_class_fs_readstream" target="_blank" rel="noopener noreferrer"><code>fs.ReadStream</code></a> or as file-like object containing file name, mime-type and its content.</p> </li> <li> <p><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" target="_blank" rel="noopener noreferrer" title="URLSearchParams">URLSearchParams</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Query parameters to be sent with the URL.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Request timeout in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="APIResponse" href="class-apiresponse.html">APIResponse</a>&gt;
</li> </ul>  <h3 id="api-request-context-dispose">dispose<a href="#api-request-context-dispose" aria-label="Direct link to dispose" title="Direct link to dispose">​</a>
</h3>   <p>All responses returned by <a href="class-apirequestcontext.html#api-request-context-get">apiRequestContext.get()</a> and similar methods are stored in the memory, so that you can later call <a href="class-apiresponse.html#api-response-body">apiResponse.body()</a>.This method discards all its resources, calling any method on disposed <a title="APIRequestContext" href="class-apirequestcontext.html">APIRequestContext</a> will throw an exception.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await apiRequestContext.dispose();
await apiRequestContext.dispose(options);</pre> <p><strong>Arguments</strong></p> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> <ul> <li> <p><code>reason</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em> </p> <p>The reason to be reported to the operations interrupted by the context disposal.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="api-request-context-fetch">fetch<a href="#api-request-context-fetch" aria-label="Direct link to fetch" title="Direct link to fetch">​</a>
</h3>   <p>Sends HTTP(S) request and returns its response. The method will populate request cookies from the context and update context cookies from the response. The method will automatically follow redirects.</p> <p><strong>Usage</strong></p> <p>JSON objects can be passed directly to the request:</p> <pre tabindex="0" data-language="javascript">await request.fetch('https://example.com/api/createBook', {
  method: 'post',
  data: {
    title: 'Book Title',
    author: 'John Doe',
  }
});</pre> <p>The common way to send file(s) in the body of a request is to upload them as form fields with <code>multipart/form-data</code> encoding, by specifiying the <code>multipart</code> parameter:</p> <pre tabindex="0" data-language="javascript">const form = new FormData();
form.set('name', 'John');
form.append('name', 'Doe');
// Send two file fields with the same name.
form.append('file', new File(['console.log(2024);'], 'f1.js', { type: 'text/javascript' }));
form.append('file', new File(['hello'], 'f2.txt', { type: 'text/plain' }));
await request.fetch('https://example.com/api/uploadForm', {
  multipart: form
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>urlOrRequest</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a title="Request" href="class-request.html">Request</a></p> <p>Target URL or Request to get all parameters from.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> <em>(optional)</em></p> <p>Allows to set post data of the request. If the data parameter is an object, it will be serialized to json string and <code>content-type</code> header will be set to <code>application/json</code> if not explicitly set. Otherwise the <code>content-type</code> header will be set to <code>application/octet-stream</code> if not explicitly set.</p> </li> <li> <p><code>failOnStatusCode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to throw on response codes other than 2xx and 3xx. By default response object is returned for all status codes.</p> </li> <li> <p><code>form</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> <em>(optional)</em></p> <p>Provides an object that will be serialized as html form using <code>application/x-www-form-urlencoded</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>application/x-www-form-urlencoded</code> unless explicitly provided.</p> </li> <li> <p><code>headers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt; <em>(optional)</em></p> <p>Allows to set HTTP headers. These headers will apply to the fetched request as well as any redirects initiated by it.</p> </li> <li> <p><code>ignoreHTTPSErrors</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to ignore HTTPS errors when sending network requests. Defaults to <code>false</code>.</p> </li> <li> <p><code>maxRedirects</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of request redirects that will be followed automatically. An error will be thrown if the number is exceeded. Defaults to <code>20</code>. Pass <code>0</code> to not follow redirects.</p> </li> <li> <p><code>maxRetries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of times network errors should be retried. Currently only <code>ECONNRESET</code> error is retried. Does not retry based on HTTP response codes. An error will be thrown if the limit is exceeded. Defaults to <code>0</code> - no retries.</p> </li> <li> <p><code>method</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>If set changes the fetch method (e.g. <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT" target="_blank" rel="noopener noreferrer">PUT</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST" target="_blank" rel="noopener noreferrer">POST</a>). If not specified, GET method is used.</p> </li> <li> <p><code>multipart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> | <a href="https://nodejs.org/api/fs.html#class-fsreadstream" target="_blank" rel="noopener noreferrer" title="ReadStream">ReadStream</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <em>(optional)</em></p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File name</p> </li> <li> <p><code>mimeType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File type</p> </li> <li> <p><code>buffer</code> <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a></p> <p>File content</p> </li> </ul> <p>Provides an object that will be serialized as html form using <code>multipart/form-data</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>multipart/form-data</code> unless explicitly provided. File values can be passed either as <a href="https://nodejs.org/api/fs.html#fs_class_fs_readstream" target="_blank" rel="noopener noreferrer"><code>fs.ReadStream</code></a> or as file-like object containing file name, mime-type and its content.</p> </li> <li> <p><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" target="_blank" rel="noopener noreferrer" title="URLSearchParams">URLSearchParams</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Query parameters to be sent with the URL.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Request timeout in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="APIResponse" href="class-apiresponse.html">APIResponse</a>&gt;
</li> </ul>  <h3 id="api-request-context-get">get<a href="#api-request-context-get" aria-label="Direct link to get" title="Direct link to get">​</a>
</h3>   <p>Sends HTTP(S) <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET" target="_blank" rel="noopener noreferrer">GET</a> request and returns its response. The method will populate request cookies from the context and update context cookies from the response. The method will automatically follow redirects.</p> <p><strong>Usage</strong></p> <p>Request parameters can be configured with <code>params</code> option, they will be serialized into the URL search parameters:</p> <pre tabindex="0" data-language="javascript">// Passing params as object
await request.get('https://example.com/api/getText', {
  params: {
    'isbn': '1234',
    'page': 23,
  }
});

// Passing params as URLSearchParams
const searchParams = new URLSearchParams();
searchParams.set('isbn', '1234');
searchParams.append('page', 23);
searchParams.append('page', 24);
await request.get('https://example.com/api/getText', { params: searchParams });

// Passing params as string
const queryString = 'isbn=1234&amp;page=23&amp;page=24';
await request.get('https://example.com/api/getText', { params: queryString });</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>url</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Target URL.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> <em>(optional)</em> </p> <p>Allows to set post data of the request. If the data parameter is an object, it will be serialized to json string and <code>content-type</code> header will be set to <code>application/json</code> if not explicitly set. Otherwise the <code>content-type</code> header will be set to <code>application/octet-stream</code> if not explicitly set.</p> </li> <li> <p><code>failOnStatusCode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to throw on response codes other than 2xx and 3xx. By default response object is returned for all status codes.</p> </li> <li> <p><code>form</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> <em>(optional)</em> </p> <p>Provides an object that will be serialized as html form using <code>application/x-www-form-urlencoded</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>application/x-www-form-urlencoded</code> unless explicitly provided.</p> </li> <li> <p><code>headers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt; <em>(optional)</em></p> <p>Allows to set HTTP headers. These headers will apply to the fetched request as well as any redirects initiated by it.</p> </li> <li> <p><code>ignoreHTTPSErrors</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to ignore HTTPS errors when sending network requests. Defaults to <code>false</code>.</p> </li> <li> <p><code>maxRedirects</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of request redirects that will be followed automatically. An error will be thrown if the number is exceeded. Defaults to <code>20</code>. Pass <code>0</code> to not follow redirects.</p> </li> <li> <p><code>maxRetries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of times network errors should be retried. Currently only <code>ECONNRESET</code> error is retried. Does not retry based on HTTP response codes. An error will be thrown if the limit is exceeded. Defaults to <code>0</code> - no retries.</p> </li> <li> <p><code>multipart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> | <a href="https://nodejs.org/api/fs.html#class-fsreadstream" target="_blank" rel="noopener noreferrer" title="ReadStream">ReadStream</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <em>(optional)</em> </p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File name</p> </li> <li> <p><code>mimeType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File type</p> </li> <li> <p><code>buffer</code> <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a></p> <p>File content</p> </li> </ul> <p>Provides an object that will be serialized as html form using <code>multipart/form-data</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>multipart/form-data</code> unless explicitly provided. File values can be passed either as <a href="https://nodejs.org/api/fs.html#fs_class_fs_readstream" target="_blank" rel="noopener noreferrer"><code>fs.ReadStream</code></a> or as file-like object containing file name, mime-type and its content.</p> </li> <li> <p><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" target="_blank" rel="noopener noreferrer" title="URLSearchParams">URLSearchParams</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Query parameters to be sent with the URL.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Request timeout in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="APIResponse" href="class-apiresponse.html">APIResponse</a>&gt;
</li> </ul>  <h3 id="api-request-context-head">head<a href="#api-request-context-head" aria-label="Direct link to head" title="Direct link to head">​</a>
</h3>   <p>Sends HTTP(S) <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/HEAD" target="_blank" rel="noopener noreferrer">HEAD</a> request and returns its response. The method will populate request cookies from the context and update context cookies from the response. The method will automatically follow redirects.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await apiRequestContext.head(url);
await apiRequestContext.head(url, options);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>url</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Target URL.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> <em>(optional)</em> </p> <p>Allows to set post data of the request. If the data parameter is an object, it will be serialized to json string and <code>content-type</code> header will be set to <code>application/json</code> if not explicitly set. Otherwise the <code>content-type</code> header will be set to <code>application/octet-stream</code> if not explicitly set.</p> </li> <li> <p><code>failOnStatusCode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to throw on response codes other than 2xx and 3xx. By default response object is returned for all status codes.</p> </li> <li> <p><code>form</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> <em>(optional)</em> </p> <p>Provides an object that will be serialized as html form using <code>application/x-www-form-urlencoded</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>application/x-www-form-urlencoded</code> unless explicitly provided.</p> </li> <li> <p><code>headers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt; <em>(optional)</em></p> <p>Allows to set HTTP headers. These headers will apply to the fetched request as well as any redirects initiated by it.</p> </li> <li> <p><code>ignoreHTTPSErrors</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to ignore HTTPS errors when sending network requests. Defaults to <code>false</code>.</p> </li> <li> <p><code>maxRedirects</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of request redirects that will be followed automatically. An error will be thrown if the number is exceeded. Defaults to <code>20</code>. Pass <code>0</code> to not follow redirects.</p> </li> <li> <p><code>maxRetries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of times network errors should be retried. Currently only <code>ECONNRESET</code> error is retried. Does not retry based on HTTP response codes. An error will be thrown if the limit is exceeded. Defaults to <code>0</code> - no retries.</p> </li> <li> <p><code>multipart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> | <a href="https://nodejs.org/api/fs.html#class-fsreadstream" target="_blank" rel="noopener noreferrer" title="ReadStream">ReadStream</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <em>(optional)</em> </p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File name</p> </li> <li> <p><code>mimeType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File type</p> </li> <li> <p><code>buffer</code> <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a></p> <p>File content</p> </li> </ul> <p>Provides an object that will be serialized as html form using <code>multipart/form-data</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>multipart/form-data</code> unless explicitly provided. File values can be passed either as <a href="https://nodejs.org/api/fs.html#fs_class_fs_readstream" target="_blank" rel="noopener noreferrer"><code>fs.ReadStream</code></a> or as file-like object containing file name, mime-type and its content.</p> </li> <li> <p><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" target="_blank" rel="noopener noreferrer" title="URLSearchParams">URLSearchParams</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Query parameters to be sent with the URL.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Request timeout in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="APIResponse" href="class-apiresponse.html">APIResponse</a>&gt;
</li> </ul>  <h3 id="api-request-context-patch">patch<a href="#api-request-context-patch" aria-label="Direct link to patch" title="Direct link to patch">​</a>
</h3>   <p>Sends HTTP(S) <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH" target="_blank" rel="noopener noreferrer">PATCH</a> request and returns its response. The method will populate request cookies from the context and update context cookies from the response. The method will automatically follow redirects.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await apiRequestContext.patch(url);
await apiRequestContext.patch(url, options);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>url</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Target URL.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> <em>(optional)</em></p> <p>Allows to set post data of the request. If the data parameter is an object, it will be serialized to json string and <code>content-type</code> header will be set to <code>application/json</code> if not explicitly set. Otherwise the <code>content-type</code> header will be set to <code>application/octet-stream</code> if not explicitly set.</p> </li> <li> <p><code>failOnStatusCode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to throw on response codes other than 2xx and 3xx. By default response object is returned for all status codes.</p> </li> <li> <p><code>form</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> <em>(optional)</em></p> <p>Provides an object that will be serialized as html form using <code>application/x-www-form-urlencoded</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>application/x-www-form-urlencoded</code> unless explicitly provided.</p> </li> <li> <p><code>headers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt; <em>(optional)</em></p> <p>Allows to set HTTP headers. These headers will apply to the fetched request as well as any redirects initiated by it.</p> </li> <li> <p><code>ignoreHTTPSErrors</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to ignore HTTPS errors when sending network requests. Defaults to <code>false</code>.</p> </li> <li> <p><code>maxRedirects</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of request redirects that will be followed automatically. An error will be thrown if the number is exceeded. Defaults to <code>20</code>. Pass <code>0</code> to not follow redirects.</p> </li> <li> <p><code>maxRetries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of times network errors should be retried. Currently only <code>ECONNRESET</code> error is retried. Does not retry based on HTTP response codes. An error will be thrown if the limit is exceeded. Defaults to <code>0</code> - no retries.</p> </li> <li> <p><code>multipart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> | <a href="https://nodejs.org/api/fs.html#class-fsreadstream" target="_blank" rel="noopener noreferrer" title="ReadStream">ReadStream</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <em>(optional)</em></p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File name</p> </li> <li> <p><code>mimeType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File type</p> </li> <li> <p><code>buffer</code> <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a></p> <p>File content</p> </li> </ul> <p>Provides an object that will be serialized as html form using <code>multipart/form-data</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>multipart/form-data</code> unless explicitly provided. File values can be passed either as <a href="https://nodejs.org/api/fs.html#fs_class_fs_readstream" target="_blank" rel="noopener noreferrer"><code>fs.ReadStream</code></a> or as file-like object containing file name, mime-type and its content.</p> </li> <li> <p><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" target="_blank" rel="noopener noreferrer" title="URLSearchParams">URLSearchParams</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Query parameters to be sent with the URL.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Request timeout in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="APIResponse" href="class-apiresponse.html">APIResponse</a>&gt;
</li> </ul>  <h3 id="api-request-context-post">post<a href="#api-request-context-post" aria-label="Direct link to post" title="Direct link to post">​</a>
</h3>   <p>Sends HTTP(S) <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST" target="_blank" rel="noopener noreferrer">POST</a> request and returns its response. The method will populate request cookies from the context and update context cookies from the response. The method will automatically follow redirects.</p> <p><strong>Usage</strong></p> <p>JSON objects can be passed directly to the request:</p> <pre tabindex="0" data-language="javascript">await request.post('https://example.com/api/createBook', {
  data: {
    title: 'Book Title',
    author: 'John Doe',
  }
});</pre> <p>To send form data to the server use <code>form</code> option. Its value will be encoded into the request body with <code>application/x-www-form-urlencoded</code> encoding (see below how to use <code>multipart/form-data</code> form encoding to send files):</p> <pre tabindex="0" data-language="javascript">await request.post('https://example.com/api/findBook', {
  form: {
    title: 'Book Title',
    author: 'John Doe',
  }
});</pre> <p>The common way to send file(s) in the body of a request is to upload them as form fields with <code>multipart/form-data</code> encoding. Use <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> to construct request body and pass it to the request as <code>multipart</code> parameter:</p> <pre tabindex="0" data-language="javascript">const form = new FormData();
form.set('name', 'John');
form.append('name', 'Doe');
// Send two file fields with the same name.
form.append('file', new File(['console.log(2024);'], 'f1.js', { type: 'text/javascript' }));
form.append('file', new File(['hello'], 'f2.txt', { type: 'text/plain' }));
await request.post('https://example.com/api/uploadForm', {
  multipart: form
});</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>url</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Target URL.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> <em>(optional)</em></p> <p>Allows to set post data of the request. If the data parameter is an object, it will be serialized to json string and <code>content-type</code> header will be set to <code>application/json</code> if not explicitly set. Otherwise the <code>content-type</code> header will be set to <code>application/octet-stream</code> if not explicitly set.</p> </li> <li> <p><code>failOnStatusCode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to throw on response codes other than 2xx and 3xx. By default response object is returned for all status codes.</p> </li> <li> <p><code>form</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> <em>(optional)</em></p> <p>Provides an object that will be serialized as html form using <code>application/x-www-form-urlencoded</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>application/x-www-form-urlencoded</code> unless explicitly provided.</p> </li> <li> <p><code>headers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt; <em>(optional)</em></p> <p>Allows to set HTTP headers. These headers will apply to the fetched request as well as any redirects initiated by it.</p> </li> <li> <p><code>ignoreHTTPSErrors</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to ignore HTTPS errors when sending network requests. Defaults to <code>false</code>.</p> </li> <li> <p><code>maxRedirects</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of request redirects that will be followed automatically. An error will be thrown if the number is exceeded. Defaults to <code>20</code>. Pass <code>0</code> to not follow redirects.</p> </li> <li> <p><code>maxRetries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of times network errors should be retried. Currently only <code>ECONNRESET</code> error is retried. Does not retry based on HTTP response codes. An error will be thrown if the limit is exceeded. Defaults to <code>0</code> - no retries.</p> </li> <li> <p><code>multipart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> | <a href="https://nodejs.org/api/fs.html#class-fsreadstream" target="_blank" rel="noopener noreferrer" title="ReadStream">ReadStream</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <em>(optional)</em></p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File name</p> </li> <li> <p><code>mimeType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File type</p> </li> <li> <p><code>buffer</code> <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a></p> <p>File content</p> </li> </ul> <p>Provides an object that will be serialized as html form using <code>multipart/form-data</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>multipart/form-data</code> unless explicitly provided. File values can be passed either as <a href="https://nodejs.org/api/fs.html#fs_class_fs_readstream" target="_blank" rel="noopener noreferrer"><code>fs.ReadStream</code></a> or as file-like object containing file name, mime-type and its content.</p> </li> <li> <p><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" target="_blank" rel="noopener noreferrer" title="URLSearchParams">URLSearchParams</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Query parameters to be sent with the URL.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Request timeout in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="APIResponse" href="class-apiresponse.html">APIResponse</a>&gt;
</li> </ul>  <h3 id="api-request-context-put">put<a href="#api-request-context-put" aria-label="Direct link to put" title="Direct link to put">​</a>
</h3>   <p>Sends HTTP(S) <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT" target="_blank" rel="noopener noreferrer">PUT</a> request and returns its response. The method will populate request cookies from the context and update context cookies from the response. The method will automatically follow redirects.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await apiRequestContext.put(url);
await apiRequestContext.put(url, options);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>url</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Target URL.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> <em>(optional)</em></p> <p>Allows to set post data of the request. If the data parameter is an object, it will be serialized to json string and <code>content-type</code> header will be set to <code>application/json</code> if not explicitly set. Otherwise the <code>content-type</code> header will be set to <code>application/octet-stream</code> if not explicitly set.</p> </li> <li> <p><code>failOnStatusCode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to throw on response codes other than 2xx and 3xx. By default response object is returned for all status codes.</p> </li> <li> <p><code>form</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> <em>(optional)</em></p> <p>Provides an object that will be serialized as html form using <code>application/x-www-form-urlencoded</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>application/x-www-form-urlencoded</code> unless explicitly provided.</p> </li> <li> <p><code>headers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt; <em>(optional)</em></p> <p>Allows to set HTTP headers. These headers will apply to the fetched request as well as any redirects initiated by it.</p> </li> <li> <p><code>ignoreHTTPSErrors</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Whether to ignore HTTPS errors when sending network requests. Defaults to <code>false</code>.</p> </li> <li> <p><code>maxRedirects</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of request redirects that will be followed automatically. An error will be thrown if the number is exceeded. Defaults to <code>20</code>. Pass <code>0</code> to not follow redirects.</p> </li> <li> <p><code>maxRetries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Maximum number of times network errors should be retried. Currently only <code>ECONNRESET</code> error is retried. Does not retry based on HTTP response codes. An error will be thrown if the limit is exceeded. Defaults to <code>0</code> - no retries.</p> </li> <li> <p><code>multipart</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="noopener noreferrer" title="FormData">FormData</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> | <a href="https://nodejs.org/api/fs.html#class-fsreadstream" target="_blank" rel="noopener noreferrer" title="ReadStream">ReadStream</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <em>(optional)</em></p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File name</p> </li> <li> <p><code>mimeType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>File type</p> </li> <li> <p><code>buffer</code> <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a></p> <p>File content</p> </li> </ul> <p>Provides an object that will be serialized as html form using <code>multipart/form-data</code> encoding and sent as this request body. If this parameter is specified <code>content-type</code> header will be set to <code>multipart/form-data</code> unless explicitly provided. File values can be passed either as <a href="https://nodejs.org/api/fs.html#fs_class_fs_readstream" target="_blank" rel="noopener noreferrer"><code>fs.ReadStream</code></a> or as file-like object containing file name, mime-type and its content.</p> </li> <li> <p><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" target="_blank" rel="noopener noreferrer" title="URLSearchParams">URLSearchParams</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>Query parameters to be sent with the URL.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Request timeout in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="APIResponse" href="class-apiresponse.html">APIResponse</a>&gt;
</li> </ul>  <h3 id="api-request-context-storage-state">storageState<a href="#api-request-context-storage-state" aria-label="Direct link to storageState" title="Direct link to storageState">​</a>
</h3>   <p>Returns storage state for this request context, contains current cookies and local storage snapshot if it was passed to the constructor.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await apiRequestContext.storageState();
await apiRequestContext.storageState(options);</pre> <p><strong>Arguments</strong></p> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> <ul> <li> <p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em></p> <p>The file path to save the storage state to. If <a href="class-apirequestcontext.html#api-request-context-storage-state-option-path">path</a> is a relative path, then it is resolved relative to current working directory. If no path is provided, storage state is still returned, but won't be saved to the disk.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <ul> <li>
<code>cookies</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> </li> <li> <p><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> </li> <li> <p><code>domain</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> </li> <li> <p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> </li> <li> <p><code>expires</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>Unix time in seconds.</p> </li> <li> <p><code>httpOnly</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> </li> <li> <p><code>secure</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a></p> </li> <li> <p><code>sameSite</code> "Strict" | "Lax" | "None"</p> </li> </ul> </li> <li>
<code>origins</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt; <ul> <li> <p><code>origin</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> </li> <li> <p><code>localStorage</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a>&gt;</p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> </li> <li> <p><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> </li> </ul> </li> </ul> </li> </ul> </li> </ul><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/api/class-apirequestcontext" class="_attribution-link">https://playwright.dev/docs/api/class-apirequestcontext</a>
  </p>
</div>
