<header><h1>Download</h1></header><p><a title="Download" href="class-download.html">Download</a> objects are dispatched by page via the <a href="class-page.html#page-event-download">page.on('download')</a> event.</p> <p>All the downloaded files belonging to the browser context are deleted when the browser context is closed.</p> <p>Download event is emitted once the download starts. Download path becomes available once download completes.</p> <pre tabindex="0" data-language="javascript">// Start waiting for download before clicking. Note no await.
const downloadPromise = page.waitForEvent('download');
await page.getByText('Download file').click();
const download = await downloadPromise;

// Wait for the download process to complete and save the downloaded file somewhere.
await download.saveAs('/path/to/save/at/' + download.suggestedFilename());</pre>  <h2 id="methods">Methods<a href="#methods" aria-label="Direct link to Methods" title="Direct link to Methods">​</a>
</h2> <h3 id="download-cancel">cancel<a href="#download-cancel" aria-label="Direct link to cancel" title="Direct link to cancel">​</a>
</h3>   <p>Cancels a download. Will not fail if the download is already finished or canceled. Upon successful cancellations, <code>download.failure()</code> would resolve to <code>'canceled'</code>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await download.cancel();</pre>  <h3 id="download-create-read-stream">createReadStream<a href="#download-create-read-stream" aria-label="Direct link to createReadStream" title="Direct link to createReadStream">​</a>
</h3>   <p>Returns a readable stream for a successful download, or throws for a failed/canceled download.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await download.createReadStream();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://nodejs.org/api/stream.html#stream_class_stream_readable" target="_blank" rel="noopener noreferrer" title="Readable">Readable</a>&gt;
</li> </ul>  <h3 id="download-delete">delete<a href="#download-delete" aria-label="Direct link to delete" title="Direct link to delete">​</a>
</h3>   <p>Deletes the downloaded file. Will wait for the download to finish if necessary.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await download.delete();</pre>  <h3 id="download-failure">failure<a href="#download-failure" aria-label="Direct link to failure" title="Direct link to failure">​</a>
</h3>   <p>Returns download error if any. Will wait for the download to finish if necessary.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await download.failure();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" target="_blank" rel="noopener noreferrer" title="null">null</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;
</li> </ul>  <h3 id="download-page">page<a href="#download-page" aria-label="Direct link to page" title="Direct link to page">​</a>
</h3>   <p>Get the page that the download belongs to.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">download.page();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a title="Page" href="class-page.html">Page</a>
</li> </ul>  <h3 id="download-path">path<a href="#download-path" aria-label="Direct link to path" title="Direct link to path">​</a>
</h3>   <p>Returns path to the downloaded file for a successful download, or throws for a failed/canceled download. The method will wait for the download to finish if necessary. The method throws when connected remotely.</p> <p>Note that the download's file name is a random GUID, use <a href="class-download.html#download-suggested-filename">download.suggestedFilename()</a> to get suggested file name.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await download.path();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;
</li> </ul>  <h3 id="download-save-as">saveAs<a href="#download-save-as" aria-label="Direct link to saveAs" title="Direct link to saveAs">​</a>
</h3>   <p>Copy the download to a user-specified path. It is safe to call this method while the download is still in progress. Will wait for the download to finish if necessary.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await download.saveAs('/path/to/save/at/' + download.suggestedFilename());</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Path where the download should be copied.</p> </li> </ul>  <h3 id="download-suggested-filename">suggestedFilename<a href="#download-suggested-filename" aria-label="Direct link to suggestedFilename" title="Direct link to suggestedFilename">​</a>
</h3>   <p>Returns suggested filename for this download. It is typically computed by the browser from the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition" target="_blank" rel="noopener noreferrer"><code>Content-Disposition</code></a> response header or the <code>download</code> attribute. See the spec on <a href="https://html.spec.whatwg.org/#downloading-resources" target="_blank" rel="noopener noreferrer">whatwg</a>. Different browsers can use different logic for computing it.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">download.suggestedFilename();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>
</li> </ul>  <h3 id="download-url">url<a href="#download-url" aria-label="Direct link to url" title="Direct link to url">​</a>
</h3>   <p>Returns downloaded url.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">download.url();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/api/class-download" class="_attribution-link">https://playwright.dev/docs/api/class-download</a>
  </p>
</div>
