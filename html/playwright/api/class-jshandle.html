<header><h1>JSHandle</h1></header><p>JSHandle represents an in-page JavaScript object. JSHandles can be created with the <a href="class-page.html#page-evaluate-handle">page.evaluateHandle()</a> method.</p> <pre tabindex="0" data-language="javascript">const windowHandle = await page.evaluateHandle(() =&gt; window);
// ...</pre> <p>JSHandle prevents the referenced JavaScript object being garbage collected unless the handle is exposed with <a href="class-jshandle.html#js-handle-dispose">jsHandle.dispose()</a>. JSHandles are auto-disposed when their origin frame gets navigated or the parent context gets destroyed.</p> <p>JSHandle instances can be used as an argument in <a href="class-page.html#page-eval-on-selector">page.$eval()</a>, <a href="class-page.html#page-evaluate">page.evaluate()</a> and <a href="class-page.html#page-evaluate-handle">page.evaluateHandle()</a> methods.</p>  <h2 id="methods">Methods<a href="#methods" aria-label="Direct link to Methods" title="Direct link to Methods">​</a>
</h2> <h3 id="js-handle-as-element">asElement<a href="#js-handle-as-element" aria-label="Direct link to asElement" title="Direct link to asElement">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Returns either <code>null</code> or the object handle itself, if the object handle is an instance of <a title="ElementHandle" href="class-elementhandle.html">ElementHandle</a>.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">jsHandle.asElement();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" target="_blank" rel="noopener noreferrer" title="null">null</a> | <a title="ElementHandle" href="class-elementhandle.html">ElementHandle</a>
</li> </ul>  <h3 id="js-handle-dispose">dispose<a href="#js-handle-dispose" aria-label="Direct link to dispose" title="Direct link to dispose">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>The <code>jsHandle.dispose</code> method stops referencing the element handle.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await jsHandle.dispose();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="js-handle-evaluate">evaluate<a href="#js-handle-evaluate" aria-label="Direct link to evaluate" title="Direct link to evaluate">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Returns the return value of <a href="class-jshandle.html#js-handle-evaluate-option-expression">pageFunction</a>.</p> <p>This method passes this handle as the first argument to <a href="class-jshandle.html#js-handle-evaluate-option-expression">pageFunction</a>.</p> <p>If <a href="class-jshandle.html#js-handle-evaluate-option-expression">pageFunction</a> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, then <code>handle.evaluate</code> would wait for the promise to resolve and return its value.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">const tweetHandle = await page.$('.tweet .retweets');
expect(await tweetHandle.evaluate(node =&gt; node.innerText)).toBe('10 retweets');</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>pageFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Function to be evaluated in the page context.</p> </li> <li> <p><code>arg</code> <a title="EvaluationArgument" href="../evaluating.html#evaluation-argument">EvaluationArgument</a> <em>(optional)</em></p> <p>Optional argument to pass to <a href="class-jshandle.html#js-handle-evaluate-option-expression">pageFunction</a>.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a>&gt;
</li> </ul>  <h3 id="js-handle-evaluate-handle">evaluateHandle<a href="#js-handle-evaluate-handle" aria-label="Direct link to evaluateHandle" title="Direct link to evaluateHandle">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Returns the return value of <a href="class-jshandle.html#js-handle-evaluate-handle-option-expression">pageFunction</a> as a <a title="JSHandle" href="class-jshandle.html">JSHandle</a>.</p> <p>This method passes this handle as the first argument to <a href="class-jshandle.html#js-handle-evaluate-handle-option-expression">pageFunction</a>.</p> <p>The only difference between <code>jsHandle.evaluate</code> and <code>jsHandle.evaluateHandle</code> is that <code>jsHandle.evaluateHandle</code> returns <a title="JSHandle" href="class-jshandle.html">JSHandle</a>.</p> <p>If the function passed to the <code>jsHandle.evaluateHandle</code> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, then <code>jsHandle.evaluateHandle</code> would wait for the promise to resolve and return its value.</p> <p>See <a href="class-page.html#page-evaluate-handle">page.evaluateHandle()</a> for more details.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await jsHandle.evaluateHandle(pageFunction);
await jsHandle.evaluateHandle(pageFunction, arg);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>pageFunction</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener noreferrer" title="Function">function</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>Function to be evaluated in the page context.</p> </li> <li> <p><code>arg</code> <a title="EvaluationArgument" href="../evaluating.html#evaluation-argument">EvaluationArgument</a> <em>(optional)</em></p> <p>Optional argument to pass to <a href="class-jshandle.html#js-handle-evaluate-handle-option-expression">pageFunction</a>.</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="JSHandle" href="class-jshandle.html">JSHandle</a>&gt;
</li> </ul>  <h3 id="js-handle-get-properties">getProperties<a href="#js-handle-get-properties" aria-label="Direct link to getProperties" title="Direct link to getProperties">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>The method returns a map with <strong>own property names</strong> as keys and JSHandle instances for the property values.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">const handle = await page.evaluateHandle(() =&gt; ({ window, document }));
const properties = await handle.getProperties();
const windowHandle = properties.get('window');
const documentHandle = properties.get('document');
await handle.dispose();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" target="_blank" rel="noopener noreferrer" title="Map">Map</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>, <a title="JSHandle" href="class-jshandle.html">JSHandle</a>&gt;&gt;
</li> </ul>  <h3 id="js-handle-get-property">getProperty<a href="#js-handle-get-property" aria-label="Direct link to getProperty" title="Direct link to getProperty">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Fetches a single property from the referenced object.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await jsHandle.getProperty(propertyName);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>propertyName</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a></p> <p>property to get</p> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a title="JSHandle" href="class-jshandle.html">JSHandle</a>&gt;
</li> </ul>  <h3 id="js-handle-json-value">jsonValue<a href="#js-handle-json-value" aria-label="Direct link to jsonValue" title="Direct link to jsonValue">​</a>
</h3> <font size="2" style="position:relative;top:-20px">Added before v1.9</font>  <p>Returns a JSON representation of the object. If the object has a <code>toJSON</code> function, it <strong>will not be called</strong>.</p> <blockquote>
<div>
note</div>
<div><p>The method will return an empty JSON object if the referenced object is not stringifiable. It will throw an error if the object has circular references.</p></div>
</blockquote> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await jsHandle.jsonValue();</pre> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a>&gt;
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/api/class-jshandle" class="_attribution-link">https://playwright.dev/docs/api/class-jshandle</a>
  </p>
</div>
