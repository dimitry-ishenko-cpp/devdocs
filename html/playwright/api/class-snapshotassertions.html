<header><h1>SnapshotAssertions</h1></header><p>Playwright provides methods for comparing page and element screenshots with expected values stored in files.</p> <pre tabindex="0" data-language="javascript">expect(screenshot).toMatchSnapshot('landing-page.png');</pre>  <h2 id="methods">Methods<a href="#methods" aria-label="Direct link to Methods" title="Direct link to Methods">​</a>
</h2> <h3 id="snapshot-assertions-to-match-snapshot-1">toMatchSnapshot(name)<a href="#snapshot-assertions-to-match-snapshot-1" aria-label="Direct link to toMatchSnapshot(name)" title="Direct link to toMatchSnapshot(name)">​</a>
</h3>   <blockquote>
<div>
caution</div>
<div><p>To compare screenshots, use <a href="class-pageassertions.html#page-assertions-to-have-screenshot-1">expect(page).toHaveScreenshot()</a> instead.</p></div>
</blockquote> <p>Ensures that passed value, either a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> or a <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a>, matches the expected snapshot stored in the test snapshots directory.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">// Basic usage.
expect(await page.screenshot()).toMatchSnapshot('landing-page.png');

// Pass options to customize the snapshot comparison and have a generated name.
expect(await page.screenshot()).toMatchSnapshot('landing-page.png', {
  maxDiffPixels: 27, // allow no more than 27 different pixels.
});

// Configure image matching threshold.
expect(await page.screenshot()).toMatchSnapshot('landing-page.png', { threshold: 0.3 });

// Bring some structure to your snapshot files by passing file path segments.
expect(await page.screenshot()).toMatchSnapshot(['landing', 'step2.png']);
expect(await page.screenshot()).toMatchSnapshot(['landing', 'step3.png']);</pre> <p>Learn more about <a href="../test-snapshots.html">visual comparisons</a>.</p> <p>Note that matching snapshots only work with Playwright test runner.</p> <p><strong>Arguments</strong></p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</p> <p>Snapshot name.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>maxDiffPixelRatio</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable ratio of pixels that are different to the total amount of pixels, between <code>0</code> and <code>1</code>. Default is configurable with <code>TestConfig.expect</code>. Unset by default.</p> </li> <li> <p><code>maxDiffPixels</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable amount of pixels that could be different. Default is configurable with <code>TestConfig.expect</code>. Unset by default.</p> </li> <li> <p><code>threshold</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable perceived color difference in the <a href="https://en.wikipedia.org/wiki/YIQ" target="_blank" rel="noopener noreferrer">YIQ color space</a> between the same pixel in compared images, between zero (strict) and one (lax), default is configurable with <code>TestConfig.expect</code>. Defaults to <code>0.2</code>.</p> </li> </ul> </li> </ul>  <h3 id="snapshot-assertions-to-match-snapshot-2">toMatchSnapshot()<a href="#snapshot-assertions-to-match-snapshot-2" aria-label="Direct link to toMatchSnapshot()" title="Direct link to toMatchSnapshot()">​</a>
</h3>   <blockquote>
<div>
caution</div>
<div><p>To compare screenshots, use <a href="class-pageassertions.html#page-assertions-to-have-screenshot-2">expect(page).toHaveScreenshot()</a> instead.</p></div>
</blockquote> <p>Ensures that passed value, either a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> or a <a href="https://nodejs.org/api/buffer.html#buffer_class_buffer" target="_blank" rel="noopener noreferrer" title="Buffer">Buffer</a>, matches the expected snapshot stored in the test snapshots directory.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">// Basic usage and the file name is derived from the test name.
expect(await page.screenshot()).toMatchSnapshot();

// Pass options to customize the snapshot comparison and have a generated name.
expect(await page.screenshot()).toMatchSnapshot({
  maxDiffPixels: 27, // allow no more than 27 different pixels.
});

// Configure image matching threshold and snapshot name.
expect(await page.screenshot()).toMatchSnapshot({
  name: 'landing-page.png',
  threshold: 0.3,
});</pre> <p>Learn more about <a href="../test-snapshots.html">visual comparisons</a>.</p> <p>Note that matching snapshots only work with Playwright test runner.</p> <p><strong>Arguments</strong></p> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> <ul> <li> <p><code>maxDiffPixelRatio</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable ratio of pixels that are different to the total amount of pixels, between <code>0</code> and <code>1</code>. Default is configurable with <code>TestConfig.expect</code>. Unset by default.</p> </li> <li> <p><code>maxDiffPixels</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable amount of pixels that could be different. Default is configurable with <code>TestConfig.expect</code>. Unset by default.</p> </li> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt; <em>(optional)</em></p> <p>Snapshot name. If not passed, the test name and ordinals are used when called multiple times.</p> </li> <li> <p><code>threshold</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable perceived color difference in the <a href="https://en.wikipedia.org/wiki/YIQ" target="_blank" rel="noopener noreferrer">YIQ color space</a> between the same pixel in compared images, between zero (strict) and one (lax), default is configurable with <code>TestConfig.expect</code>. Defaults to <code>0.2</code>.</p> </li> </ul> </li> </ul><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/api/class-snapshotassertions" class="_attribution-link">https://playwright.dev/docs/api/class-snapshotassertions</a>
  </p>
</div>
