<header><h1>PageAssertions</h1></header><p>The <a title="PageAssertions" href="class-pageassertions.html">PageAssertions</a> class provides assertion methods that can be used to make assertions about the <a title="Page" href="class-page.html">Page</a> state in the tests.</p> <pre tabindex="0" data-language="javascript">import { test, expect } from '@playwright/test';

test('navigates to login', async ({ page }) =&gt; {
  // ...
  await page.getByText('Sign in').click();
  await expect(page).toHaveURL(/.*\/login/);
});</pre>  <h2 id="methods">Methods<a href="#methods" aria-label="Direct link to Methods" title="Direct link to Methods">​</a>
</h2> <h3 id="page-assertions-to-have-screenshot-1">toHaveScreenshot(name)<a href="#page-assertions-to-have-screenshot-1" aria-label="Direct link to toHaveScreenshot(name)" title="Direct link to toHaveScreenshot(name)">​</a>
</h3>   <p>This function will wait until two consecutive page screenshots yield the same result, and then compare the last screenshot with the expectation.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await expect(page).toHaveScreenshot('image.png');</pre> <p>Note that screenshot assertions only work with Playwright test runner.</p> <p><strong>Arguments</strong></p> <ul> <li> <p><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt;</p> <p>Snapshot name.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>animations</code> "disabled" | "allow" <em>(optional)</em></p> <p>When set to <code>"disabled"</code>, stops CSS animations, CSS transitions and Web Animations. Animations get different treatment depending on their duration:</p> <ul> <li>finite animations are fast-forwarded to completion, so they'll fire <code>transitionend</code> event.</li> <li>infinite animations are canceled to initial state, and then played over after the screenshot.</li> </ul> <p>Defaults to <code>"disabled"</code> that disables animations.</p> </li> <li> <p><code>caret</code> "hide" | "initial" <em>(optional)</em></p> <p>When set to <code>"hide"</code>, screenshot will hide text caret. When set to <code>"initial"</code>, text caret behavior will not be changed. Defaults to <code>"hide"</code>.</p> </li> <li> <p><code>clip</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>x</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>x-coordinate of top-left corner of clip area</p> </li> <li> <p><code>y</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>y-coordinate of top-left corner of clip area</p> </li> <li> <p><code>width</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>width of clipping area</p> </li> <li> <p><code>height</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>height of clipping area</p> </li> </ul> <p>An object which specifies clipping of the resulting image.</p> </li> <li> <p><code>fullPage</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>When true, takes a screenshot of the full scrollable page, instead of the currently visible viewport. Defaults to <code>false</code>.</p> </li> <li> <p><code>mask</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a title="Locator" href="class-locator.html">Locator</a>&gt; <em>(optional)</em></p> <p>Specify locators that should be masked when the screenshot is taken. Masked elements will be overlaid with a pink box <code>#FF00FF</code> (customized by <code>maskColor</code>) that completely covers its bounding box.</p> </li> <li> <p><code>maskColor</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em> </p> <p>Specify the color of the overlay box for masked elements, in <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value" target="_blank" rel="noopener noreferrer">CSS color format</a>. Default color is pink <code>#FF00FF</code>.</p> </li> <li> <p><code>maxDiffPixelRatio</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable ratio of pixels that are different to the total amount of pixels, between <code>0</code> and <code>1</code>. Default is configurable with <code>TestConfig.expect</code>. Unset by default.</p> </li> <li> <p><code>maxDiffPixels</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable amount of pixels that could be different. Default is configurable with <code>TestConfig.expect</code>. Unset by default.</p> </li> <li> <p><code>omitBackground</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Hides default white background and allows capturing screenshots with transparency. Not applicable to <code>jpeg</code> images. Defaults to <code>false</code>.</p> </li> <li> <p><code>scale</code> "css" | "device" <em>(optional)</em></p> <p>When set to <code>"css"</code>, screenshot will have a single pixel per each css pixel on the page. For high-dpi devices, this will keep screenshots small. Using <code>"device"</code> option will produce a single pixel per each device pixel, so screenshots of high-dpi devices will be twice as large or even larger.</p> <p>Defaults to <code>"css"</code>.</p> </li> <li> <p><code>stylePath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt; <em>(optional)</em> </p> <p>File name containing the stylesheet to apply while making the screenshot. This is where you can hide dynamic elements, make elements invisible or change their properties to help you creating repeatable screenshots. This stylesheet pierces the Shadow DOM and applies to the inner frames.</p> </li> <li> <p><code>threshold</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable perceived color difference in the <a href="https://en.wikipedia.org/wiki/YIQ" target="_blank" rel="noopener noreferrer">YIQ color space</a> between the same pixel in compared images, between zero (strict) and one (lax), default is configurable with <code>TestConfig.expect</code>. Defaults to <code>0.2</code>.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Time to retry the assertion for in milliseconds. Defaults to <code>timeout</code> in <code>TestConfig.expect</code>.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-assertions-to-have-screenshot-2">toHaveScreenshot()<a href="#page-assertions-to-have-screenshot-2" aria-label="Direct link to toHaveScreenshot()" title="Direct link to toHaveScreenshot()">​</a>
</h3>   <p>This function will wait until two consecutive page screenshots yield the same result, and then compare the last screenshot with the expectation.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await expect(page).toHaveScreenshot();</pre> <p>Note that screenshot assertions only work with Playwright test runner.</p> <p><strong>Arguments</strong></p> <ul> <li>
<code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em> <ul> <li> <p><code>animations</code> "disabled" | "allow" <em>(optional)</em></p> <p>When set to <code>"disabled"</code>, stops CSS animations, CSS transitions and Web Animations. Animations get different treatment depending on their duration:</p> <ul> <li>finite animations are fast-forwarded to completion, so they'll fire <code>transitionend</code> event.</li> <li>infinite animations are canceled to initial state, and then played over after the screenshot.</li> </ul> <p>Defaults to <code>"disabled"</code> that disables animations.</p> </li> <li> <p><code>caret</code> "hide" | "initial" <em>(optional)</em></p> <p>When set to <code>"hide"</code>, screenshot will hide text caret. When set to <code>"initial"</code>, text caret behavior will not be changed. Defaults to <code>"hide"</code>.</p> </li> <li> <p><code>clip</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>x</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>x-coordinate of top-left corner of clip area</p> </li> <li> <p><code>y</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>y-coordinate of top-left corner of clip area</p> </li> <li> <p><code>width</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>width of clipping area</p> </li> <li> <p><code>height</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a></p> <p>height of clipping area</p> </li> </ul> <p>An object which specifies clipping of the resulting image.</p> </li> <li> <p><code>fullPage</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>When true, takes a screenshot of the full scrollable page, instead of the currently visible viewport. Defaults to <code>false</code>.</p> </li> <li> <p><code>mask</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a title="Locator" href="class-locator.html">Locator</a>&gt; <em>(optional)</em></p> <p>Specify locators that should be masked when the screenshot is taken. Masked elements will be overlaid with a pink box <code>#FF00FF</code> (customized by <code>maskColor</code>) that completely covers its bounding box.</p> </li> <li> <p><code>maskColor</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> <em>(optional)</em> </p> <p>Specify the color of the overlay box for masked elements, in <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value" target="_blank" rel="noopener noreferrer">CSS color format</a>. Default color is pink <code>#FF00FF</code>.</p> </li> <li> <p><code>maxDiffPixelRatio</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable ratio of pixels that are different to the total amount of pixels, between <code>0</code> and <code>1</code>. Default is configurable with <code>TestConfig.expect</code>. Unset by default.</p> </li> <li> <p><code>maxDiffPixels</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable amount of pixels that could be different. Default is configurable with <code>TestConfig.expect</code>. Unset by default.</p> </li> <li> <p><code>omitBackground</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em></p> <p>Hides default white background and allows capturing screenshots with transparency. Not applicable to <code>jpeg</code> images. Defaults to <code>false</code>.</p> </li> <li> <p><code>scale</code> "css" | "device" <em>(optional)</em></p> <p>When set to <code>"css"</code>, screenshot will have a single pixel per each css pixel on the page. For high-dpi devices, this will keep screenshots small. Using <code>"device"</code> option will produce a single pixel per each device pixel, so screenshots of high-dpi devices will be twice as large or even larger.</p> <p>Defaults to <code>"css"</code>.</p> </li> <li> <p><code>stylePath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer" title="Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a>&gt; <em>(optional)</em> </p> <p>File name containing the stylesheet to apply while making the screenshot. This is where you can hide dynamic elements, make elements invisible or change their properties to help you creating repeatable screenshots. This stylesheet pierces the Shadow DOM and applies to the inner frames.</p> </li> <li> <p><code>threshold</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>An acceptable perceived color difference in the <a href="https://en.wikipedia.org/wiki/YIQ" target="_blank" rel="noopener noreferrer">YIQ color space</a> between the same pixel in compared images, between zero (strict) and one (lax), default is configurable with <code>TestConfig.expect</code>. Defaults to <code>0.2</code>.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em></p> <p>Time to retry the assertion for in milliseconds. Defaults to <code>timeout</code> in <code>TestConfig.expect</code>.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-assertions-to-have-title">toHaveTitle<a href="#page-assertions-to-have-title" aria-label="Direct link to toHaveTitle" title="Direct link to toHaveTitle">​</a>
</h3>   <p>Ensures the page has the given title.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await expect(page).toHaveTitle(/.*checkout/);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>titleOrRegExp</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer" title="RegExp">RegExp</a> </p> <p>Expected title or RegExp.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Time to retry the assertion for in milliseconds. Defaults to <code>timeout</code> in <code>TestConfig.expect</code>.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h3 id="page-assertions-to-have-url">toHaveURL<a href="#page-assertions-to-have-url" aria-label="Direct link to toHaveURL" title="Direct link to toHaveURL">​</a>
</h3>   <p>Ensures the page is navigated to the given URL.</p> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">await expect(page).toHaveURL(/.*checkout/);</pre> <p><strong>Arguments</strong></p> <ul> <li> <p><code>urlOrRegExp</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noopener noreferrer" title="string">string</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer" title="RegExp">RegExp</a> </p> <p>Expected URL string or RegExp.</p> </li> <li> <p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer" title="Object">Object</a> <em>(optional)</em></p> <ul> <li> <p><code>ignoreCase</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noopener noreferrer" title="Boolean">boolean</a> <em>(optional)</em> </p> <p>Whether to perform case-insensitive match. <code>ignoreCase</code> option takes precedence over the corresponding regular expression flag if specified.</p> </li> <li> <p><code>timeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noopener noreferrer" title="Number">number</a> <em>(optional)</em> </p> <p>Time to retry the assertion for in milliseconds. Defaults to <code>timeout</code> in <code>TestConfig.expect</code>.</p> </li> </ul> </li> </ul> <p><strong>Returns</strong></p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="noopener noreferrer" title="void">void</a>&gt;
</li> </ul>  <h2 id="properties">Properties<a href="#properties" aria-label="Direct link to Properties" title="Direct link to Properties">​</a>
</h2> <h3 id="page-assertions-not">not<a href="#page-assertions-not" aria-label="Direct link to not" title="Direct link to not">​</a>
</h3>   <p>Makes the assertion check for the opposite condition. For example, this code tests that the page URL doesn't contain <code>"error"</code>:</p> <pre tabindex="0" data-language="javascript">await expect(page).not.toHaveURL('error');</pre> <p><strong>Usage</strong></p> <pre tabindex="0" data-language="javascript">expect(page).not</pre> <p><strong>Type</strong></p> <ul> <li><a title="PageAssertions" href="class-pageassertions.html">PageAssertions</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
          &copy; 2024 Microsoft<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://playwright.dev/docs/api/class-pageassertions" class="_attribution-link">https://playwright.dev/docs/api/class-pageassertions</a>
  </p>
</div>
