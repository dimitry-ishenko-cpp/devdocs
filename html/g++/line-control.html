<h1 class="chapter" id="Line-Control-1">6 Line Control</h1> <div class="chapter-level-extent" id="Line-Control">     <p>The C preprocessor informs the C compiler of the location in your source code where each token came from. Presently, this is just the file name and line number. All the tokens resulting from macro expansion are reported as having appeared on the line of the source file where the outermost macro was used. We intend to be more accurate in the future. </p> <p>If you write a program which generates source code, such as the <code class="command">bison</code> parser generator, you may want to adjust the preprocessor’s notion of the current file name and line number by hand. Parts of the output from <code class="command">bison</code> are generated from scratch, other parts come from a standard parser file. The rest are copied verbatim from <code class="command">bison</code>’s input. You would like compiler error messages and symbolic debuggers to be able to refer to <code class="code">bison</code>’s input file. </p>  <p><code class="command">bison</code> or any such program can arrange this by writing ‘<samp class="samp">#line</samp>’ directives into the output file. ‘<samp class="samp">#line</samp>’ is a directive that specifies the original line number and source file name for subsequent input in the current preprocessor input file. ‘<samp class="samp">#line</samp>’ has three variants: </p> <dl class="table"> <dt><code class="code">#line <var class="var">linenum</var></code></dt> <dd>
<p><var class="var">linenum</var> is a non-negative decimal integer constant. It specifies the line number which should be reported for the following line of input. Subsequent lines are counted from <var class="var">linenum</var>. </p> </dd> <dt><code class="code">#line <var class="var">linenum</var> <var class="var">filename</var></code></dt> <dd>
<p><var class="var">linenum</var> is the same as for the first form, and has the same effect. In addition, <var class="var">filename</var> is a string constant. The following line and all subsequent lines are reported to come from the file it specifies, until something else happens to change that. <var class="var">filename</var> is interpreted according to the normal rules for a string constant: backslash escapes are interpreted. This is different from ‘<samp class="samp">#include</samp>’. </p> </dd> <dt><code class="code">#line <var class="var">anything else</var></code></dt> <dd><p><var class="var">anything else</var> is checked for macro calls, which are expanded. The result should match one of the above two forms. </p></dd> </dl> <p>‘<samp class="samp">#line</samp>’ directives alter the results of the <code class="code">__FILE__</code> and <code class="code">__LINE__</code> predefined macros from that point on. See <a class="xref" href="standard-predefined-macros.html">Standard Predefined Macros</a>. They do not have any effect on ‘<samp class="samp">#include</samp>’’s idea of the directory containing the current file. </p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-14.2.0/cpp/Line-Control.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-14.2.0/cpp/Line-Control.html</a>
  </p>
</div>
