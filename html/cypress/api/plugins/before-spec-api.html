<h1 class="main-content-title">Before Spec API</h1> <div class="nuxt-content">
<p>The <code>before:spec</code> event fires before a spec file is run. When running cypress via <code>cypress open</code>, the event will fire when the browser launches.</p> <h2 id="Syntax">
Syntax</h2> <blockquote role="alert" class="alert_22O9T warning_mhQ92 note info"> <p>⚠️ This code is part of the <a href="https://docs.cypress.io/guides/core-concepts/writing-and-organizing-tests#Plugin-files">plugins file</a> and thus executes in the Node environment. You cannot call <code>Cypress</code> or <code>cy</code> commands in this file, but you do have the direct access to the file system and the rest of the operating system.</p> </blockquote> <blockquote role="alert" class="alert_22O9T warning_mhQ92 note info"> <p>⚠️ When running via <code>cypress open</code>, the <code>before:spec</code> event only fires if the <a href="https://docs.cypress.io/guides/references/configuration#Experiments">experimentalInteractiveRunEvents flag</a> is enabled.</p> </blockquote> <div class="nuxt-content-highlight"><pre class="line-numbers language-js" data-language="javascript">on('before:spec', (spec) =&gt; {
  /* ... */
})
</pre></div> <p><strong> spec</strong> <strong><em>(Object)</em></strong></p> <p>Details of the spec file, including the following properties:</p> <table>
<thead><tr>
<th>Property</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>The base name of the spec file (e.g. <code>login_spec.js</code>)</td>
</tr>
<tr>
<td><code>relative</code></td>
<td>The path to the spec file, relative to the project root (e.g. <code>cypress/integration/login_spec.js</code>)</td>
</tr>
<tr>
<td><code>absolute</code></td>
<td>The absolute path to the spec file (e.g. <code>/Users/janelane/my-app/cypress/integration/login_spec.js</code>)</td>
</tr>
</tbody>
</table> <h2 id="Usage">
Usage</h2> <p>You can return a promise from the <code>before:spec</code> event handler and it will be awaited before Cypress proceeds running the spec.</p> <h3 id="Log-the-relative-spec-path-to-stdout-before-the-spec-is-run">
Log the relative spec path to stdout before the spec is run</h3> <div class="nuxt-content-highlight"><pre class="line-numbers language-javascript" data-language="javascript">module.exports = (on, config) =&gt; {
  on('before:spec', (spec) =&gt; {
    // spec will look something like this:
    // {
    //   name: 'login_spec.js',
    //   relative: 'cypress/integration/login_spec.js',
    //   absolute: '/Users/janelane/app/cypress/integration/login_spec.js',
    // }

    console.log('Running', spec.relative)
  })
}
</pre></div> <h2 id="See-also">
See also</h2> <ul> <li><a href="after-spec-api.html">After Spec API</a></li> <li><a href="before-run-api.html">Before Run API</a></li> <li><a href="after-run-api.html">After Run API</a></li> <li><a href="https://docs.cypress.io/guides/tooling/plugins-guide">Plugins Guide</a></li> <li><a href="writing-a-plugin.html">Writing a Plugin</a></li> </ul>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2017 Cypress.io<br>Licensed under the MIT License.<br>
    <a href="https://docs.cypress.io/api/plugins/before-spec-api" class="_attribution-link">https://docs.cypress.io/api/plugins/before-spec-api</a>
  </p>
</div>
