    <h1 id="firstHeading" class="firstHeading">std::vector&lt;T,Allocator&gt;::insert</h1>             <table class="t-dcl-begin">  <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(1)</td> <td></td> </tr> <tr class="t-dcl t-until-cxx20"> <td><pre data-language="cpp">iterator insert( const_iterator pos, const T&amp; value );</pre></td>  <td><span class="t-mark-rev t-until-cxx20">(until C++20)</span></td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">constexpr iterator insert( const_iterator pos, const T&amp; value );</pre>
</td>  <td> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td> </tr>   <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(2)</td> <td></td> </tr> <tr class="t-dcl t-since-cxx11 t-until-cxx20"> <td><pre data-language="cpp">iterator insert( const_iterator pos, T&amp;&amp; value );</pre></td>  <td>
<span class="t-mark-rev t-since-cxx11">(since C++11)</span> <br><span class="t-mark-rev t-until-cxx20">(until C++20)</span>
</td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">constexpr iterator insert( const_iterator pos, T&amp;&amp; value );</pre>
</td>  <td> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td> </tr>   <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(3)</td> <td></td> </tr> <tr class="t-dcl t-until-cxx20"> <td><pre data-language="cpp">iterator insert( const_iterator pos, size_type count, const T&amp; value );</pre></td>  <td><span class="t-mark-rev t-until-cxx20">(until C++20)</span></td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">constexpr iterator
    insert( const_iterator pos, size_type count, const T&amp; value );</pre>
</td>  <td> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td> </tr>   <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(4)</td> <td></td> </tr> <tr class="t-dcl t-until-cxx20"> <td><pre data-language="cpp">template&lt; class InputIt &gt;
iterator insert( const_iterator pos, InputIt first, InputIt last );</pre></td>  <td><span class="t-mark-rev t-until-cxx20">(until C++20)</span></td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">template&lt; class InputIt &gt;
constexpr iterator insert( const_iterator pos, InputIt first, InputIt last );</pre>
</td>  <td> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td> </tr>   <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(5)</td> <td></td> </tr> <tr class="t-dcl t-since-cxx11 t-until-cxx20"> <td><pre data-language="cpp">iterator insert( const_iterator pos, std::initializer_list&lt;T&gt; ilist );</pre></td>  <td>
<span class="t-mark-rev t-since-cxx11">(since C++11)</span> <br><span class="t-mark-rev t-until-cxx20">(until C++20)</span>
</td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">constexpr iterator insert( const_iterator pos,
                           std::initializer_list&lt;T&gt; ilist );</pre>
</td>  <td> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td> </tr>   </table> <p>Inserts elements at the specified location in the container.</p>
<div class="t-li1">
<span class="t-li">1,2)</span> Inserts <code>value</code> before <code>pos</code>.</div> <div class="t-li1">
<span class="t-li">3)</span> Inserts <code>count</code> copies of the <code>value</code> before <code>pos</code>.</div> <div class="t-li1">
<span class="t-li">4)</span> Inserts elements from range <code>[</code><code>first</code><code>,Â </code><code>last</code><code>)</code> before <code>pos</code>. <table class="t-rev-begin"> <tr class="t-rev t-until-cxx11">
<td> <p>This overload has the same effect as overload <span class="t-v">(3)</span> if <code>InputIt</code> is an integral type.</p>
</td> <td><span class="t-mark-rev t-until-cxx11">(until C++11)</span></td>
</tr> <tr class="t-rev t-since-cxx11">
<td> <p>This overload participates in overload resolution only if <code>InputIt</code> qualifies as <a href="../../named_req/inputiterator.html" title="cpp/named req/InputIterator">LegacyInputIterator</a>, to avoid ambiguity with the overload <span class="t-v">(3)</span>.</p>
</td> <td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td>
</tr> </table> The behavior is undefined if <code>first</code> and <code>last</code> are iterators into <code>*this</code>. </div> <div class="t-li1">
<span class="t-li">5)</span> Inserts elements from initializer list <code>ilist</code> before <code>pos</code>.</div> <p>If after the operation the new <a href="size.html" title="cpp/container/vector/size"><code>size()</code></a> is greater than old <a href="capacity.html" title="cpp/container/vector/capacity"><code>capacity()</code></a> a reallocation takes place, in which case all iterators (including the <a href="end.html" title="cpp/container/vector/end"><code>end()</code></a> iterator) and all references to the elements are invalidated. Otherwise, only the iterators and references before the insertion point remain valid.</p>
<h3 id="Parameters"> Parameters</h3> <table class="t-par-begin"> <tr class="t-par"> <td> pos </td> <td> - </td> <td> iterator before which the content will be inserted (<code>pos</code> may be the <a href="end.html" title="cpp/container/vector/end"><code>end()</code></a> iterator) </td>
</tr> <tr class="t-par"> <td> value </td> <td> - </td> <td> element value to insert </td>
</tr> <tr class="t-par"> <td> count </td> <td> - </td> <td> number of elements to insert </td>
</tr> <tr class="t-par"> <td> first, last </td> <td> - </td> <td> the range of elements to insert, cannot be iterators into container for which insert is called </td>
</tr> <tr class="t-par"> <td> ilist </td> <td> - </td> <td> initializer list to insert the values from </td>
</tr> <tr class="t-par-hitem"> <td colspan="3"> Type requirements </td>
</tr> <tr class="t-par-req"> <td colspan="3"> -<code>T</code> must meet the requirements of <a href="../../named_req/copyassignable.html" title="cpp/named req/CopyAssignable">CopyAssignable</a> and <a href="../../named_req/copyinsertable.html" title="cpp/named req/CopyInsertable">CopyInsertable</a> in order to use overload (1). </td>
</tr> <tr class="t-par-req"> <td colspan="3"> -<code>T</code> must meet the requirements of <a href="../../named_req/moveassignable.html" title="cpp/named req/MoveAssignable">MoveAssignable</a> and <a href="../../named_req/moveinsertable.html" title="cpp/named req/MoveInsertable">MoveInsertable</a> in order to use overload (2). </td>
</tr> <tr class="t-par-req"> <td colspan="3"> -<code>T</code> must meet the requirements of <a href="../../named_req/copyassignable.html" title="cpp/named req/CopyAssignable">CopyAssignable</a> and <a href="../../named_req/copyinsertable.html" title="cpp/named req/CopyInsertable">CopyInsertable</a> in order to use overload (3). </td>
</tr> <tr class="t-par-req"> <td colspan="3"> -<code>T</code> must meet the requirements of <a href="../../named_req/emplaceconstructible.html" title="cpp/named req/EmplaceConstructible">EmplaceConstructible</a> in order to use overload (4,5). </td>
</tr> <tr class="t-par-req"> <td colspan="3"> -<code>T</code> must meet the requirements of <a href="../../named_req/moveassignable.html" title="cpp/named req/MoveAssignable">MoveAssignable</a> and <a href="../../named_req/moveinsertable.html" title="cpp/named req/MoveInsertable">MoveInsertable</a> in order to use overload (4). required only if <code>InputIt</code> satisfies <a href="../../named_req/inputiterator.html" title="cpp/named req/InputIterator">LegacyInputIterator</a> but not <a href="../../named_req/forwarditerator.html" title="cpp/named req/ForwardIterator">LegacyForwardIterator</a>. <span class="t-mark-rev t-until-cxx17">(until C++17)</span> </td>
</tr> <tr class="t-par-req"> <td colspan="3"> -<code>T</code> must meet the requirements of <a href="../../named_req/swappable.html" title="cpp/named req/Swappable">Swappable</a>, <a href="../../named_req/moveassignable.html" title="cpp/named req/MoveAssignable">MoveAssignable</a>, <a href="../../named_req/moveconstructible.html" title="cpp/named req/MoveConstructible">MoveConstructible</a> and <a href="../../named_req/moveinsertable.html" title="cpp/named req/MoveInsertable">MoveInsertable</a> in order to use overload (4,5). <span class="t-mark-rev t-since-cxx17">(since C++17)</span> </td>
</tr>
</table> <h3 id="Return_value"> Return value</h3> <div class="t-li1">
<span class="t-li">1,2)</span> Iterator pointing to the inserted <code>value</code>.</div> <div class="t-li1">
<span class="t-li">3)</span> Iterator pointing to the first element inserted, or <code>pos</code> if <code>count == 0</code>.</div> <div class="t-li1">
<span class="t-li">4)</span> Iterator pointing to the first element inserted, or <code>pos</code> if <code>first == last</code>.</div> <div class="t-li1">
<span class="t-li">5)</span> Iterator pointing to the first element inserted, or <code>pos</code> if <code>ilist</code> is empty.</div> <h3 id="Complexity"> Complexity</h3> <div class="t-li1">
<span class="t-li">1,2)</span> Constant plus linear in the distance between <code>pos</code> and end of the container.</div> <div class="t-li1">
<span class="t-li">3)</span> Linear in <code>count</code> plus linear in the distance between <code>pos</code> and end of the container.</div> <div class="t-li1">
<span class="t-li">4)</span> Linear in <code><a href="http://en.cppreference.com/w/cpp/iterator/distance"><span class="kw676">std::<span class="me2">distance</span></span></a><span class="br0">(</span>first, last<span class="br0">)</span></code> plus linear in the distance between <code>pos</code> and end of the container.</div> <div class="t-li1">
<span class="t-li">5)</span> Linear in <code>ilist.size()</code> plus linear in the distance between <code>pos</code> and end of the container.</div> <h3 id="Exceptions"> Exceptions</h3> <p>If an exception is thrown other than by</p>
<ul><li> the copy constructor of <code>T</code>, </li></ul> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx11">
<td> <ul><li> the move constructor of <code>T</code>, </li></ul> </td> <td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td>
</tr> </table> <ul><li> the copy assignment operator of <code>T</code>, </li></ul> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx11">
<td> <ul><li> the move assignment operator of <code>T</code>, </li></ul> </td> <td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td>
</tr> </table> <ul><li> any <code>InputIt</code> operation, </li></ul> <p>these functions have no effect (<a href="../../language/exceptions.html#Exception_safety" title="cpp/language/exceptions">strong exception safety guarantee</a>).</p>
<table class="t-rev-begin"> <tr class="t-rev t-since-cxx11">
<td> <p>If an exception is thrown when inserting a single element at the end, and <code>T</code> is <a href="../../named_req/copyinsertable.html" title="cpp/named req/CopyInsertable">CopyInsertable</a> or <code><a href="http://en.cppreference.com/w/cpp/types/is_move_constructible"><span class="kw549">std::<span class="me2">is_nothrow_move_constructible</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">value</span></code> is <code>true</code>, this function has no effect (strong exception guarantee). Otherwise, if an exception is thrown by the move constructor of a non-<a href="../../named_req/copyinsertable.html" title="cpp/named req/CopyInsertable">CopyInsertable</a> <code>T</code>, the effects are unspecified.</p>
</td> <td><span class="t-mark-rev t-since-cxx11">(since C++11)</span></td>
</tr> </table> <h3 id="Example"> Example</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;iostream&gt;
#include &lt;iterator&gt;
#include &lt;vector&gt;
 
void print(int id, const std::vector&lt;int&gt;&amp; container)
{
    std::cout &lt;&lt; id &lt;&lt; ". ";
    for (const int x : container)
        std::cout &lt;&lt; x &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
}
 
int main ()
{
    std::vector&lt;int&gt; c1(3, 100);
    print(1, c1);
 
    auto it = c1.begin();
    it = c1.insert(it, 200);
    print(2, c1);
 
    c1.insert(it, 2, 300);
    print(3, c1);
 
    // `it` no longer valid, get a new one:
    it = c1.begin();
 
    std::vector&lt;int&gt; c2(2, 400);
    c1.insert(std::next(it, 2), c2.begin(), c2.end());
    print(4, c1);
 
    int arr[] = {501, 502, 503};
    c1.insert(c1.begin(), arr, arr + std::size(arr));
    print(5, c1);
 
    c1.insert(c1.end(), {601, 602, 603});
    print(6, c1);
}</pre></div> <p>Output:</p>
<div class="text source-text"><pre data-language="c">1. 100 100 100
2. 200 100 100 100
3. 300 300 200 100 100 100
4. 300 300 400 400 200 100 100 100
5. 501 502 503 300 300 400 400 200 100 100 100
6. 501 502 503 300 300 400 400 200 100 100 100 601 602 603</pre></div> </div> <h3 id="Defect_reports"> Defect reports</h3> <p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.</p>
<table class="dsctable"> <tr> <th>DR </th> <th>Applied to </th> <th>Behavior as published </th> <th>Correct behavior </th>
</tr> <tr> <td>
<a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue149">LWG 149</a> </td> <td>C++98 </td> <td>overloads (3) and (4) returned nothing </td> <td>returns an iterator </td>
</tr> <tr> <td>
<a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue247">LWG 247</a> </td> <td>C++98 </td> <td>the complexity was only specified for overload (3) </td> <td>specified for all overloads </td>
</tr> <tr> <td>
<a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue406">LWG 406</a> </td> <td>C++98 </td> <td>the strong exception guarantee also applied if<br>the exception is thrown by an <code>InputIt</code> operation </td> <td>no guarantee in this case </td>
</tr>
</table> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="emplace.html" title="cpp/container/vector/emplace"> <span class="t-lines"><span>emplace</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> constructs element in-place <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="push_back.html" title="cpp/container/vector/push back"> <span class="t-lines"><span>push_back</span></span></a></div> </td> <td> adds an element to the end <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../../iterator/inserter.html" title="cpp/iterator/inserter"> <span class="t-lines"><span>inserter</span></span></a></div> </td> <td> creates a <code><a href="../../iterator/insert_iterator.html" title="cpp/iterator/insert iterator">std::insert_iterator</a></code> of type inferred from the argument <br> <span class="t-mark">(function template)</span>  </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    &copy; cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/container/vector/insert" class="_attribution-link">https://en.cppreference.com/w/cpp/container/vector/insert</a>
  </p>
</div>
