    <h1 id="firstHeading" class="firstHeading">std::priority_queue</h1>            <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th> Defined in header <code><a href="../header/queue.html" title="cpp/header/queue">&lt;queue&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">template&lt;
    class T,
    class Container = std::vector&lt;T&gt;,
    class Compare = std::less&lt;typename Container::value_type&gt;
&gt; class priority_queue;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr>  </table> <p>The <a href="https://en.wikipedia.org/wiki/Queue_(abstract_data_type)" class="extiw" title="enwiki:Queue (abstract data type)">priority queue</a> is a <a href="../container.html#Container_adaptors" title="cpp/container">container adaptor</a> that provides constant time lookup of the largest (by default) element, at the expense of logarithmic insertion and extraction.</p>
<p>A user-provided <code>Compare</code> can be supplied to change the ordering, e.g. using <code><a href="http://en.cppreference.com/w/cpp/utility/functional/greater"><span class="kw1042">std::<span class="me2">greater</span></span></a><span class="sy1">&lt;</span>T<span class="sy1">&gt;</span></code> would cause the smallest element to appear as the <code><a href="priority_queue/top.html" title="cpp/container/priority queue/top">top()</a></code>.</p>
<p>Working with a <code>priority_queue</code> is similar to managing a <a href="../algorithm/make_heap.html" title="cpp/algorithm/make heap">heap</a> in some random access container, with the benefit of not being able to accidentally invalidate the heap.</p>
<h3 id="Template_parameters"> Template parameters</h3> <table class="t-par-begin"> <tr class="t-par"> <td> T </td> <td> - </td> <td> The type of the stored elements. The behavior is undefined if <code>T</code> is not the same type as <code>Container::value_type</code>. </td>
</tr> <tr class="t-par"> <td> Container </td> <td> - </td> <td> The type of the underlying container to use to store the elements. The container must satisfy the requirements of <a href="../named_req/sequencecontainer.html" title="cpp/named req/SequenceContainer">SequenceContainer</a>, and its iterators must satisfy the requirements of <a href="../named_req/randomaccessiterator.html" title="cpp/named req/RandomAccessIterator">LegacyRandomAccessIterator</a>. Additionally, it must provide the following functions with the usual semantics: <ul>
<li> <code>front()</code> </li>
<li> <code>push_back()</code> </li>
<li> <code>pop_back()</code>. </li>
</ul> <p>The standard containers <code><a href="vector.html" title="cpp/container/vector">std::vector</a></code> (including <a href="vector_bool.html" title="cpp/container/vector bool"><code>std::vector&lt;bool&gt;</code></a>) and <code><a href="deque.html" title="cpp/container/deque">std::deque</a></code> satisfy these requirements.</p>
</td>
</tr> <tr class="t-par"> <td> Compare </td> <td> - </td> <td> A <a href="../named_req/compare.html" title="cpp/named req/Compare">Compare</a> type providing a strict weak ordering. <p>Note that the <a href="../named_req/compare.html" title="cpp/named req/Compare">Compare</a> parameter is defined such that it returns <code>true</code> if its first argument comes <i>before</i> its second argument in a weak ordering. But because the priority queue outputs largest elements first, the elements that "come before" are actually output last. That is, the front of the queue contains the "last" element according to the weak ordering imposed by <a href="../named_req/compare.html" title="cpp/named req/Compare">Compare</a>.</p>
</td>
</tr>
</table> <h3 id="Member_types"> Member types</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th> Member type </th> <th> Definition </th>
</tr> <tr class="t-dsc"> <td> <code>container_type</code> </td> <td> <code>Container</code> </td>
</tr> <tr class="t-dsc"> <td> <code>value_compare</code> </td> <td> <code>Compare</code> </td>
</tr> <tr class="t-dsc"> <td> <code>value_type</code> </td> <td> <code>Container::value_type</code> </td>
</tr> <tr class="t-dsc"> <td> <code>size_type</code> </td> <td> Container<span class="sy4">::</span><span class="me2">size_type</span> </td>
</tr> <tr class="t-dsc"> <td> <code>reference</code> </td> <td> <code>Container::reference</code> </td>
</tr> <tr class="t-dsc"> <td> <code>const_reference</code> </td> <td> <code>Container::const_reference</code> </td>
</tr> </table> <h3 id="Member_objects"> Member objects</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th> Member name </th> <th> Definition </th>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span><span class="t-dsc-small">Container</span> c</span></span></div> </td> <td> the underlying container <br> <span class="t-mark">(protected member object)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span><span class="t-dsc-small">Compare</span> comp</span></span></div> </td> <td> the comparison function object <br> <span class="t-mark">(protected member object)</span> </td>
</tr> </table> <h3 id="Member_functions"> Member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="priority_queue/priority_queue.html" title="cpp/container/priority queue/priority queue"> <span class="t-lines"><span>(constructor)</span></span></a></div> </td> <td> constructs the <code>priority_queue</code> <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/~priority_queue.html" title="cpp/container/priority queue/~priority queue"> <span class="t-lines"><span>(destructor)</span></span></a></div> </td> <td> destructs the <code>priority_queue</code> <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/operator=.html" title="cpp/container/priority queue/operator="> <span class="t-lines"><span>operator=</span></span></a></div> </td> <td> assigns values to the container adaptor <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Element_access">  Element access </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/top.html" title="cpp/container/priority queue/top"> <span class="t-lines"><span>top</span></span></a></div> </td> <td> accesses the top element <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Capacity">  Capacity </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/empty.html" title="cpp/container/priority queue/empty"> <span class="t-lines"><span>empty</span></span></a></div> </td> <td> checks whether the container adaptor is empty <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/size.html" title="cpp/container/priority queue/size"> <span class="t-lines"><span>size</span></span></a></div> </td> <td> returns the number of elements <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Modifiers">  Modifiers </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/push.html" title="cpp/container/priority queue/push"> <span class="t-lines"><span>push</span></span></a></div> </td> <td> inserts element and sorts the underlying container <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/push_range.html" title="cpp/container/priority queue/push range"> <span class="t-lines"><span>push_range</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">(C++23)</span></span></span></div> </td> <td> inserts a range of elements and sorts the underlying container <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/emplace.html" title="cpp/container/priority queue/emplace"> <span class="t-lines"><span>emplace</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> constructs element in-place and sorts the underlying container <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/pop.html" title="cpp/container/priority queue/pop"> <span class="t-lines"><span>pop</span></span></a></div> </td> <td> removes the top element <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="priority_queue/swap.html" title="cpp/container/priority queue/swap"> <span class="t-lines"><span>swap</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> swaps the contents <br> <span class="t-mark">(public member function)</span>  </td>
</tr> </table> <h3 id="Non-member_functions"> Non-member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="priority_queue/swap2.html" title="cpp/container/priority queue/swap2"> <span class="t-lines"><span>std::swap<span class="t-dsc-small">(std::priority_queue)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> specializes the <code><a href="../algorithm/swap.html" title="cpp/algorithm/swap">std::swap</a></code> algorithm <br> <span class="t-mark">(function template)</span>  </td>
</tr> </table> <h3 id="Helper_classes"> Helper classes</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="priority_queue/uses_allocator.html" title="cpp/container/priority queue/uses allocator"> <span class="t-lines"><span>std::uses_allocator<span class="t-dsc-small">&lt;std::priority_queue&gt;</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> specializes the <code><a href="../memory/uses_allocator.html" title="cpp/memory/uses allocator">std::uses_allocator</a></code> type trait <br> <span class="t-mark">(class template specialization)</span>  </td>
</tr> </table> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx17">
<td> <h3 id="Deduction_guides"> <a href="priority_queue/deduction_guides.html" title="cpp/container/priority queue/deduction guides">Deduction guides</a>
</h3> </td> <td><span class="t-mark-rev t-since-cxx17">(since C++17)</span></td>
</tr> </table> <h3 id="Notes"> Notes</h3> <table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../utility/feature_test.html" title="cpp/utility/feature test">Feature-test</a> macro</th> <th>Value</th> <th><span title="Standard in which the feature is introduced">Std</span></th> <th>Feature </th>
</tr> <tr> <td><a href="../feature_test.html#cpp_lib_containers_ranges" title="cpp/feature test"><code>__cpp_lib_containers_ranges</code></a></td> <td><span class="nu0">202202L</span></td> <td><span class="t-mark">(C++23)</span></td> <td>
<a href="../ranges/to.html#container_compatible_range" title="cpp/ranges/to">Ranges-aware</a> construction and insertion for containers </td>
</tr>
</table> <h3 id="Example"> Example</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;concepts&gt;
#include &lt;functional&gt;
#include &lt;iostream&gt;
#include &lt;queue&gt;
#include &lt;ranges&gt;
#include &lt;string_view&gt;
#include &lt;vector&gt;
 
template&lt;typename T&gt;
void print(std::string_view name, T const&amp; q)
{
    std::cout &lt;&lt; name &lt;&lt; ": \t";
    for (auto const&amp; n : q)
        std::cout &lt;&lt; n &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
}
 
template&lt;typename Adaptor&gt;
requires (std::ranges::input_range&lt;typename Adaptor::container_type&gt;)
void print(std::string_view name, const Adaptor&amp; adaptor)
{
    struct Printer : Adaptor // to access protected Adaptor::Container c;
    {
        void print(std::string_view name) const { ::print(name, this-&gt;c); }
    };
 
    static_cast&lt;Printer const&amp;&gt;(adaptor).print(name);
}
 
int main()
{
    const auto data = {1, 8, 5, 6, 3, 4, 0, 9, 7, 2};
    print("data", data);
 
    std::priority_queue&lt;int&gt; q1; // Max priority queue
    for (int n : data)
        q1.push(n);
 
    print("q1", q1);
 
    // Min priority queue
    // std::greater&lt;int&gt; makes the max priority queue act as a min priority queue
    std::priority_queue&lt;int, std::vector&lt;int&gt;, std::greater&lt;int&gt;&gt;
        minq1(data.begin(), data.end());
 
    print("minq1", minq1);
 
    // Second way to define a min priority queue
    std::priority_queue minq2(data.begin(), data.end(), std::greater&lt;int&gt;());
 
    print("minq2", minq2);
 
    // Using a custom function object to compare elements.
    struct
    {
        bool operator()(const int l, const int r) const { return l &gt; r; }
    } customLess;
    std::priority_queue minq3(data.begin(), data.end(), customLess);
 
    print("minq3", minq3);
 
    // Using lambda to compare elements.
    auto cmp = [](int left, int right) { return (left ^ 1) &lt; (right ^ 1); };
    std::priority_queue&lt;int, std::vector&lt;int&gt;, decltype(cmp)&gt; q5(cmp);
 
    for (int n : data)
        q5.push(n);
 
    print("q5", q5);
}</pre></div> <p>Output:</p>
<div class="text source-text"><pre data-language="c">data:   1 8 5 6 3 4 0 9 7 2
q1:     9 8 7 6 5 4 3 2 1 0
minq1:  0 1 2 3 4 5 6 7 8 9
minq2:  0 1 2 3 4 5 6 7 8 9
minq3:  0 1 2 3 4 5 6 7 8 9
q5:     8 9 6 7 4 5 2 3 0 1</pre></div> </div> <h3 id="Defect_reports"> Defect reports</h3> <p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.</p>
<table class="dsctable"> <tr> <th>DR </th> <th>Applied to </th> <th>Behavior as published </th> <th>Correct behavior </th>
</tr> <tr> <td>
<a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue307">LWG 307</a> </td> <td>C++98 </td> <td>
<code>Container</code> could not be <code>std::vector&lt;bool&gt;</code> </td> <td>allowed </td>
</tr> <tr> <td>
<a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue2684">LWG 2684</a> </td> <td>C++98 </td> <td>
<code>priority_queue</code> takes a comparator but lacked member typedef for it </td> <td>added </td>
</tr>
</table> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="vector.html" title="cpp/container/vector"> <span class="t-lines"><span>vector</span></span></a></div> </td> <td> dynamic contiguous array <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="vector_bool.html" title="cpp/container/vector bool"> <span class="t-lines"><span>vector<span class="t-dsc-small">&lt;bool&gt;</span></span></span></a></div> </td> <td> space-efficient dynamic bitset <br> <span class="t-mark">(class template specialization)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="deque.html" title="cpp/container/deque"> <span class="t-lines"><span>deque</span></span></a></div> </td> <td> double-ended queue <br> <span class="t-mark">(class template)</span>  </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    &copy; cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/container/priority_queue" class="_attribution-link">https://en.cppreference.com/w/cpp/container/priority_queue</a>
  </p>
</div>
