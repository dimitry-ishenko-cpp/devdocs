    <h1 id="firstHeading" class="firstHeading">std::any</h1>            <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th> Defined in header <code><a href="../header/any.html" title="cpp/header/any">&lt;any&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">class any;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx17">(since C++17)</span> </td> </tr>  </table> <p>The class <code>any</code> describes a type-safe container for single values of any <a href="../types/is_copy_constructible.html" title="cpp/types/is copy constructible">copy constructible</a> type.</p>
<div class="t-li1">
<span class="t-li">1)</span> An object of class <code>any</code> stores an instance of any type that satisfies the constructor requirements or is empty, and this is referred to as the <i>state</i> of the class <code>any</code> object. The stored instance is called the contained object. Two states are equivalent if they are either both empty or if both are not empty and if the contained objects are equivalent.</div> <div class="t-li1">
<span class="t-li">2)</span> The non-member <code>any_cast</code> functions provide type-safe access to the contained object.</div> <p>Implementations are encouraged to avoid dynamic allocations for small objects, but such an optimization may only be applied to types for which <code><a href="../types/is_move_constructible.html" title="cpp/types/is move constructible">std::is_nothrow_move_constructible</a></code> returns <code>true</code>.</p>
<h3 id="Member_functions"> Member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="any/any.html" title="cpp/utility/any/any"> <span class="t-lines"><span>(constructor)</span></span></a></div> </td> <td> constructs an <code>any</code> object <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/operator=.html" title="cpp/utility/any/operator="> <span class="t-lines"><span>operator=</span></span></a></div> </td> <td> assigns an <code>any</code> object <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/~any.html" title="cpp/utility/any/~any"> <span class="t-lines"><span>(destructor)</span></span></a></div> </td> <td> destroys an <code>any</code> object <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Modifiers">  Modifiers </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/emplace.html" title="cpp/utility/any/emplace"> <span class="t-lines"><span>emplace</span></span></a></div> </td> <td> change the contained object, constructing the new object directly <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/reset.html" title="cpp/utility/any/reset"> <span class="t-lines"><span>reset</span></span></a></div> </td> <td> destroys contained object <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/swap.html" title="cpp/utility/any/swap"> <span class="t-lines"><span>swap</span></span></a></div> </td> <td> swaps two <code>any</code> objects <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Observers">  Observers </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/has_value.html" title="cpp/utility/any/has value"> <span class="t-lines"><span>has_value</span></span></a></div> </td> <td> checks if object holds a value <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/type.html" title="cpp/utility/any/type"> <span class="t-lines"><span>type</span></span></a></div> </td> <td> returns the <code>typeid</code> of the contained value <br> <span class="t-mark">(public member function)</span>  </td>
</tr> </table> <h3 id="Non-member_functions"> Non-member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="any/swap2.html" title="cpp/utility/any/swap2"> <span class="t-lines"><span>std::swap<span class="t-dsc-small">(std::any)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> specializes the <code><a href="../algorithm/swap.html" title="cpp/algorithm/swap">std::swap</a></code> algorithm <br> <span class="t-mark">(function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/any_cast.html" title="cpp/utility/any/any cast"> <span class="t-lines"><span>any_cast</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> type-safe access to the contained object <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="any/make_any.html" title="cpp/utility/any/make any"> <span class="t-lines"><span>make_any</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> creates an <code>any</code> object <br> <span class="t-mark">(function template)</span>  </td>
</tr> </table> <h3 id="Helper_classes"> Helper classes</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="any/bad_any_cast.html" title="cpp/utility/any/bad any cast"> <span class="t-lines"><span>bad_any_cast</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> exception thrown by the value-returning forms of <code>any_cast</code> on a type mismatch <br> <span class="t-mark">(class)</span>  </td>
</tr> </table> <h3 id="Notes"> Notes</h3> <table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="feature_test.html" title="cpp/utility/feature test">Feature-test</a> macro</th> <th>Value</th> <th><span title="Standard in which the feature is introduced">Std</span></th> <th>Feature </th>
</tr> <tr> <td><a href="../feature_test.html#cpp_lib_any" title="cpp/feature test"><code>__cpp_lib_any</code></a></td> <td><span class="nu0">201606L</span></td> <td><span class="t-mark">(C++17)</span></td> <td>
<a href="#top"><code>std::any</code></a> </td>
</tr>
</table> <h3 id="Example"> Example</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;any&gt;
#include &lt;iostream&gt;
 
int main()
{
    std::cout &lt;&lt; std::boolalpha;
 
    // any type
    std::any a = 1;
    std::cout &lt;&lt; a.type().name() &lt;&lt; ": " &lt;&lt; std::any_cast&lt;int&gt;(a) &lt;&lt; '\n';
    a = 3.14;
    std::cout &lt;&lt; a.type().name() &lt;&lt; ": " &lt;&lt; std::any_cast&lt;double&gt;(a) &lt;&lt; '\n';
    a = true;
    std::cout &lt;&lt; a.type().name() &lt;&lt; ": " &lt;&lt; std::any_cast&lt;bool&gt;(a) &lt;&lt; '\n';
 
    // bad cast
    try
    {
        a = 1;
        std::cout &lt;&lt; std::any_cast&lt;float&gt;(a) &lt;&lt; '\n';
    }
    catch (const std::bad_any_cast&amp; e)
    {
        std::cout &lt;&lt; e.what() &lt;&lt; '\n';
    }
 
    // has value
    a = 2;
    if (a.has_value())
        std::cout &lt;&lt; a.type().name() &lt;&lt; ": " &lt;&lt; std::any_cast&lt;int&gt;(a) &lt;&lt; '\n';
 
    // reset
    a.reset();
    if (!a.has_value())
        std::cout &lt;&lt; "no value\n";
 
    // pointer to contained data
    a = 3;
    int* i = std::any_cast&lt;int&gt;(&amp;a);
    std::cout &lt;&lt; *i &lt;&lt; '\n';
}</pre></div> <p>Possible output:</p>
<div class="text source-text"><pre data-language="c">int: 1
double: 3.14
bool: true
bad any_cast
int: 2
no value
3</pre></div> </div> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="functional/function.html" title="cpp/utility/functional/function"> <span class="t-lines"><span>function</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> wraps callable object of any copy constructible type with specified function call signature <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="functional/move_only_function.html" title="cpp/utility/functional/move only function"> <span class="t-lines"><span>move_only_function</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">(C++23)</span></span></span></div> </td> <td> wraps callable object of any type with specified function call signature <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="variant.html" title="cpp/utility/variant"> <span class="t-lines"><span>variant</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> a type-safe discriminated union <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="optional.html" title="cpp/utility/optional"> <span class="t-lines"><span>optional</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">(C++17)</span></span></span></div> </td> <td> a wrapper that may or may not hold an object <br> <span class="t-mark">(class template)</span>  </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    &copy; cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/utility/any" class="_attribution-link">https://en.cppreference.com/w/cpp/utility/any</a>
  </p>
</div>
