<h1 data-toc="ksp-reference" id="ksp-reference.md">Java annotation processing to KSP reference</h1>
<section class="chapter"><h2 id="program-elements" data-toc="program-elements">Program elements</h2>
<div class="table-wrapper"><table class=" wide" id="70531cca">
<thead><tr class="ijRowHead" id="38ee1071">
<th id="7d00632b"><p><b id="a09a2f47" class="">Java</b></p></th>
<th id="43f3a985"><p><b id="b3ebea7" class="">Closest facility in KSP</b></p></th>
<th id="8b831061"><p><b id="64ec3b87" class="">Notes</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="6fdcb35f">
<td id="e8883fab"><p><code class="code ">AnnotationMirror</code></p></td>
<td id="52a8bcf3"><p><code class="code ">KSAnnotation</code></p></td>
<td id="10dc48cf"></td>
</tr>
<tr class="" id="1c5d4500">
<td id="f12fcc32"><p><code class="code ">AnnotationValue</code></p></td>
<td id="c0aef97b"><p><code class="code ">KSValueArguments</code></p></td>
<td id="dd5bd923"></td>
</tr>
<tr class="" id="23bb7fd3">
<td id="58c25f40"><p><code class="code ">Element</code></p></td>
<td id="f3c39f0f"><p><code class="code ">KSDeclaration</code> / <code class="code ">KSDeclarationContainer</code></p></td>
<td id="e10997eb"></td>
</tr>
<tr class="" id="bdaaa81e">
<td id="7533ff42"><p><code class="code ">ExecutableElement</code></p></td>
<td id="8b7b065"><p><code class="code ">KSFunctionDeclaration</code></p></td>
<td id="50eeb7c3"></td>
</tr>
<tr class="" id="2030f3de">
<td id="dd7976f2"><p><code class="code ">PackageElement</code></p></td>
<td id="53063310"><p><code class="code ">KSFile</code></p></td>
<td id="2d5674b9"><p>KSP doesn't model packages as program elements</p></td>
</tr>
<tr class="" id="95c3de4c">
<td id="4b2eb31e"><p><code class="code ">Parameterizable</code></p></td>
<td id="18aec045"><p><code class="code ">KSDeclaration</code></p></td>
<td id="c78c627e"></td>
</tr>
<tr class="" id="c0db8223">
<td id="bb370789"><p><code class="code ">QualifiedNameable</code></p></td>
<td id="cdf79806"><p><code class="code ">KSDeclaration</code></p></td>
<td id="811cb625"></td>
</tr>
<tr class="" id="f53af6c6">
<td id="5acf30b0"><p><code class="code ">TypeElement</code></p></td>
<td id="684fbbe7"><p><code class="code ">KSClassDeclaration</code></p></td>
<td id="4b7c23c1"></td>
</tr>
<tr class="" id="f0b73720">
<td id="31c3b793"><p><code class="code ">TypeParameterElement</code></p></td>
<td id="f757b52d"><p><code class="code ">KSTypeParameter</code></p></td>
<td id="4b5289e6"></td>
</tr>
<tr class="" id="ffe57081">
<td id="e8d7ea39"><p><code class="code ">VariableElement</code></p></td>
<td id="8d0694d8"><p><code class="code ">KSValueParameter</code> / <code class="code ">KSPropertyDeclaration</code></p></td>
<td id="dd88191"></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h2 id="types" data-toc="types">Types</h2>
<p id="d4332b22">KSP requires explicit type resolution, so some functionalities in Java can only be carried out by <code class="code ">KSType</code> and the corresponding elements before resolution.</p>
<div class="table-wrapper"><table class=" wide" id="5a2e067d">
<thead><tr class="ijRowHead" id="ae09dcad">
<th id="e825f3ff"><p><b id="76fef0b0" class="">Java</b></p></th>
<th id="dc69081f"><p><b id="27d2647d" class="">Closest facility in KSP</b></p></th>
<th id="bfa44735"><p><b id="c6342965" class="">Notes</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="54bd5b3e">
<td id="4d92265c"><p><code class="code ">ArrayType</code></p></td>
<td id="19f3c1c4"><p><code class="code ">KSBuiltIns.arrayType</code></p></td>
<td id="53f3890f"></td>
</tr>
<tr class="" id="275db043">
<td id="501d136b"><p><code class="code ">DeclaredType</code></p></td>
<td id="9895f218"><p><code class="code ">KSType</code> / <code class="code ">KSClassifierReference</code></p></td>
<td id="e82d4265"></td>
</tr>
<tr class="" id="9d2cec4c">
<td id="793daf6f"><p><code class="code ">ErrorType</code></p></td>
<td id="a18e9235"><p><code class="code ">KSType.isError</code></p></td>
<td id="b2c61e27"></td>
</tr>
<tr class="" id="75791982">
<td id="74183402"><p><code class="code ">ExecutableType</code></p></td>
<td id="8f976163"><p><code class="code ">KSType</code> / <code class="code ">KSCallableReference</code></p></td>
<td id="91b83b0f"></td>
</tr>
<tr class="" id="ecccf213">
<td id="7ac5d251"><p><code class="code ">IntersectionType</code></p></td>
<td id="a5d4ecc4"><p><code class="code ">KSType</code> / <code class="code ">KSTypeParameter</code></p></td>
<td id="411e4080"></td>
</tr>
<tr class="" id="b4f90b44">
<td id="57d62a14"><p><code class="code ">NoType</code></p></td>
<td id="ea866e92"><p><code class="code ">KSType.isError</code></p></td>
<td id="a02e0cdc"><p>N/A in KSP</p></td>
</tr>
<tr class="" id="65ec4715">
<td id="d791c690"><p><code class="code ">NullType</code></p></td>
<td id="6ee42d4d"></td>
<td id="f5484a93"><p>N/A in KSP</p></td>
</tr>
<tr class="" id="a0f39871">
<td id="23dff0a1"><p><code class="code ">PrimitiveType</code></p></td>
<td id="d1ad74b7"><p><code class="code ">KSBuiltIns</code></p></td>
<td id="debb6cb"><p>Not exactly same as primitive type in Java</p></td>
</tr>
<tr class="" id="4448b826">
<td id="16326163"><p><code class="code ">ReferenceType</code></p></td>
<td id="f2554bc8"><p><code class="code ">KSTypeReference</code></p></td>
<td id="4b45d512"></td>
</tr>
<tr class="" id="1cdf283a">
<td id="9d5ba091"><p><code class="code ">TypeMirror</code></p></td>
<td id="d8b1e352"><p><code class="code ">KSType</code></p></td>
<td id="677fabe0"></td>
</tr>
<tr class="" id="2c4bd17">
<td id="4b06886f"><p><code class="code ">TypeVariable</code></p></td>
<td id="bbe7d06"><p><code class="code ">KSTypeParameter</code></p></td>
<td id="95a7aa70"></td>
</tr>
<tr class="" id="67ebb0a7">
<td id="36d927fb"><p><code class="code ">UnionType</code></p></td>
<td id="3e05b547"><p>N/A</p></td>
<td id="3adbda81"><p>Kotlin has only one type per catch block. <code class="code ">UnionType</code> is also not observable by even Java annotation processors</p></td>
</tr>
<tr class="" id="8a610fef">
<td id="41474643"><p><code class="code ">WildcardType</code></p></td>
<td id="9f5ecbbf"><p><code class="code ">KSType</code> / <code class="code ">KSTypeArgument</code></p></td>
<td id="573eede"></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h2 id="misc" data-toc="misc">Misc</h2>
<div class="table-wrapper"><table class=" wide" id="3f8c8201">
<thead><tr class="ijRowHead" id="20034c1c">
<th id="79e4b642"><p><b id="12cfc4e" class="">Java</b></p></th>
<th id="773b15e4"><p><b id="919d9892" class="">Closest facility in KSP</b></p></th>
<th id="28cb7357"><p><b id="410890a7" class="">Notes</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="e810339b">
<td id="9c272a69"><p><code class="code ">Name</code></p></td>
<td id="66060084"><p><code class="code ">KSName</code></p></td>
<td id="9dd3cdc"></td>
</tr>
<tr class="" id="fe182709">
<td id="fc846540"><p><code class="code ">ElementKind</code></p></td>
<td id="4acc5553"><p><code class="code ">ClassKind</code> / <code class="code ">FunctionKind</code></p></td>
<td id="4506fea0"></td>
</tr>
<tr class="" id="cfa651e6">
<td id="3f4ce28"><p><code class="code ">Modifier</code></p></td>
<td id="a5dfdd2b"><p><code class="code ">Modifier</code></p></td>
<td id="a2b595d0"></td>
</tr>
<tr class="" id="410d5928">
<td id="f3dbac8e"><p><code class="code ">NestingKind</code></p></td>
<td id="47b503b4"><p><code class="code ">ClassKind</code> / <code class="code ">FunctionKind</code></p></td>
<td id="48c10753"></td>
</tr>
<tr class="" id="8a210fc9">
<td id="a550960a"><p><code class="code ">AnnotationValueVisitor</code></p></td>
<td id="66a0890f"></td>
<td id="fa9107df"></td>
</tr>
<tr class="" id="c09280d5">
<td id="e84d6e95"><p><code class="code ">ElementVisitor</code></p></td>
<td id="3ce64a16"><p><code class="code ">KSVisitor</code></p></td>
<td id="1306f638"></td>
</tr>
<tr class="" id="b7f7cce5">
<td id="1d59b290"><p><code class="code ">AnnotatedConstruct</code></p></td>
<td id="1d6508b9"><p><code class="code ">KSAnnotated</code></p></td>
<td id="7905b067"></td>
</tr>
<tr class="" id="100d6dc1">
<td id="28e1bb45"><p><code class="code ">TypeVisitor</code></p></td>
<td id="f2c835e1"></td>
<td id="a65dfc9e"></td>
</tr>
<tr class="" id="b07fa045">
<td id="cc7ec225"><p><code class="code ">TypeKind</code></p></td>
<td id="ac239ae2"><p><code class="code ">KSBuiltIns</code></p></td>
<td id="e3990978"><p>Some can be found in builtins, otherwise check <code class="code ">KSClassDeclaration</code> for <code class="code ">DeclaredType</code></p></td>
</tr>
<tr class="" id="f468ea39">
<td id="c2155b12"><p><code class="code ">ElementFilter</code></p></td>
<td id="17741034"><p><code class="code ">Collection.filterIsInstance</code></p></td>
<td id="9f10d885"></td>
</tr>
<tr class="" id="3eb690d3">
<td id="a541fc9"><p><code class="code ">ElementKindVisitor</code></p></td>
<td id="ff7acb87"><p><code class="code ">KSVisitor</code></p></td>
<td id="9eba9c5a"></td>
</tr>
<tr class="" id="30718744">
<td id="10179bf8"><p><code class="code ">ElementScanner</code></p></td>
<td id="1fb65686"><p><code class="code ">KSTopDownVisitor</code></p></td>
<td id="ddaea223"></td>
</tr>
<tr class="" id="a914f303">
<td id="1c86f5d6"><p><code class="code ">SimpleAnnotationValueVisitor</code></p></td>
<td id="d0cc5944"></td>
<td id="7abbc49a"><p>Not needed in KSP</p></td>
</tr>
<tr class="" id="82bcd8d9">
<td id="4903606b"><p><code class="code ">SimpleElementVisitor</code></p></td>
<td id="8b3b9f21"><p><code class="code ">KSVisitor</code></p></td>
<td id="c8a21ee0"></td>
</tr>
<tr class="" id="fc9a6dc">
<td id="36f956b9"><p><code class="code ">SimpleTypeVisitor</code></p></td>
<td id="91056e0a"></td>
<td id="8dcdfca1"></td>
</tr>
<tr class="" id="67d6736b">
<td id="b90b9555"><p><code class="code ">TypeKindVisitor</code></p></td>
<td id="503d48bc"></td>
<td id="de3e405b"></td>
</tr>
<tr class="" id="3a2cb88e">
<td id="de6469fb"><p><code class="code ">Types</code></p></td>
<td id="ac981a3e"><p><code class="code ">Resolver</code> / <code class="code ">utils</code></p></td>
<td id="f5a6dcdf"><p>Some of the <code class="code ">utils</code> are also integrated into symbol interfaces</p></td>
</tr>
<tr class="" id="d2dee270">
<td id="4bd414b6"><p><code class="code ">Elements</code></p></td>
<td id="9c1b30ea"><p><code class="code ">Resolver</code> / <code class="code ">utils</code></p></td>
<td id="230f97c6"></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h2 id="details" data-toc="details">Details</h2>
<p id="83e2867b">See how functionalities of Java annotation processing API can be carried out by KSP.</p>
<section class="chapter"><h3 id="annotationmirror" data-toc="annotationmirror">AnnotationMirror</h3>
<div class="table-wrapper"><table class=" wide" id="20f201e8">
<thead><tr class="ijRowHead" id="cb4aa05">
<th id="a62a70d4"><p><b id="a40a3235" class="">Java</b></p></th>
<th id="574f68bb"><p><b id="ef67f233" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="ddcd10f8">
<td id="9f2f5f22"><p><code class="code ">getAnnotationType</code></p></td>
<td id="a25f778a"><p><code class="code ">ksAnnotation.annotationType</code></p></td>
</tr>
<tr class="" id="a76a30d6">
<td id="68db33f5"><p><code class="code ">getElementValues</code></p></td>
<td id="94211f7c"><p><code class="code ">ksAnnotation.arguments</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="annotationvalue" data-toc="annotationvalue">AnnotationValue</h3>
<div class="table-wrapper"><table class=" wide" id="93e5ba2a">
<thead><tr class="ijRowHead" id="8cffc337">
<th id="f85177ae"><p><b id="709261fb" class="">Java</b></p></th>
<th id="38b51112"><p><b id="96bce5a5" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="2048c660">
<td id="7f897649"><p><code class="code ">getValue</code></p></td>
<td id="9f3201d3"><p><code class="code ">ksValueArgument.value</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="element" data-toc="element">Element</h3>
<div class="table-wrapper"><table class=" wide" id="a59a77c3">
<thead><tr class="ijRowHead" id="69d0a7b7">
<th id="1454cc3e"><p><b id="20cc3136" class="">Java</b></p></th>
<th id="4dd0bbac"><p><b id="99a0b8d3" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="8e35d7c">
<td id="3a39ee0c"><p><code class="code ">asType</code></p></td>
<td id="7d4e23eb"><p><code class="code ">ksClassDeclaration.asType(...)</code> is available for <code class="code ">KSClassDeclaration</code> only. Type arguments need to be supplied.</p></td>
</tr>
<tr class="" id="7e72e705">
<td id="18876754"><p><code class="code ">getAnnotation</code></p></td>
<td id="f272524f"><p>To be implemented</p></td>
</tr>
<tr class="" id="49d15988">
<td id="7cb8de9b"><p><code class="code ">getAnnotationMirrors</code></p></td>
<td id="8df6268d"><p><code class="code ">ksDeclaration.annotations</code></p></td>
</tr>
<tr class="" id="1714b7a5">
<td id="c41af602"><p><code class="code ">getEnclosedElements</code></p></td>
<td id="3dda8908"><p><code class="code ">ksDeclarationContainer.declarations</code></p></td>
</tr>
<tr class="" id="f05d30c9">
<td id="60ab9345"><p><code class="code ">getEnclosingElements</code></p></td>
<td id="3bdb88f7"><p><code class="code ">ksDeclaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="c5242235">
<td id="37b4c938"><p><code class="code ">getKind</code></p></td>
<td id="cdcbfbef"><p>Type check and cast following <code class="code ">ClassKind</code> or <code class="code ">FunctionKind</code></p></td>
</tr>
<tr class="" id="9c8962a1">
<td id="9faf37"><p><code class="code ">getModifiers</code></p></td>
<td id="45abfa7a"><p><code class="code ">ksDeclaration.modifiers</code></p></td>
</tr>
<tr class="" id="8f5947b5">
<td id="871a3273"><p><code class="code ">getSimpleName</code></p></td>
<td id="d8ddd49d"><p><code class="code ">ksDeclaration.simpleName</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="executableelement" data-toc="executableelement">ExecutableElement</h3>
<div class="table-wrapper"><table class=" wide" id="3d1ec4fe">
<thead><tr class="ijRowHead" id="4dd1a928">
<th id="c44e6bd0"><p><b id="336f1ab4" class="">Java</b></p></th>
<th id="1fc6abb7"><p><b id="21eb37fa" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="abfd6808">
<td id="ea5c20c6"><p><code class="code ">getDefaultValue</code></p></td>
<td id="32c3180f"><p>To be implemented</p></td>
</tr>
<tr class="" id="d445aaed">
<td id="be65d91a"><p><code class="code ">getParameters</code></p></td>
<td id="71b2209d"><p><code class="code ">ksFunctionDeclaration.parameters</code></p></td>
</tr>
<tr class="" id="67b81756">
<td id="f69a8973"><p><code class="code ">getReceiverType</code></p></td>
<td id="d038a8c2"><p><code class="code ">ksFunctionDeclaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="522a27fc">
<td id="60d6849d"><p><code class="code ">getReturnType</code></p></td>
<td id="1774279e"><p><code class="code ">ksFunctionDeclaration.returnType</code></p></td>
</tr>
<tr class="" id="7d56c0fc">
<td id="48d6a678"><p><code class="code ">getSimpleName</code></p></td>
<td id="c92ee763"><p><code class="code ">ksFunctionDeclaration.simpleName</code></p></td>
</tr>
<tr class="" id="e5059b3">
<td id="c3b8102e"><p><code class="code ">getThrownTypes</code></p></td>
<td id="d23fcf60"><p>Not needed in Kotlin</p></td>
</tr>
<tr class="" id="14db961b">
<td id="a42d2ea8"><p><code class="code ">getTypeParameters</code></p></td>
<td id="2c7b8761"><p><code class="code ">ksFunctionDeclaration.typeParameters</code></p></td>
</tr>
<tr class="" id="ea20b5eb">
<td id="22882703"><p><code class="code ">isDefault</code></p></td>
<td id="2177d31b"><p>Check whether parent declaration is an interface or not</p></td>
</tr>
<tr class="" id="40600f81">
<td id="b68fd657"><p><code class="code ">isVarArgs</code></p></td>
<td id="939f9ca5"><p><code class="code ">ksFunctionDeclaration.parameters.any { it.isVarArg }</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="parameterizable" data-toc="parameterizable">Parameterizable</h3>
<div class="table-wrapper"><table class=" wide" id="60aa97c6">
<thead><tr class="ijRowHead" id="d69e5691">
<th id="e5c66acc"><p><b id="9f00e7d1" class="">Java</b></p></th>
<th id="8889a8e3"><p><b id="51969cad" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="44e7d708">
<td id="611fa31a"><p><code class="code ">getTypeParameters</code></p></td>
<td id="652e95f3"><p><code class="code ">ksFunctionDeclaration.typeParameters</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="qualifiednameable" data-toc="qualifiednameable">QualifiedNameable</h3>
<div class="table-wrapper"><table class=" wide" id="d4f93dbd">
<thead><tr class="ijRowHead" id="6850642a">
<th id="e16b2b18"><p><b id="15b53c9e" class="">Java</b></p></th>
<th id="9b9bae77"><p><b id="ef741475" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="2c896fd6">
<td id="ddf7fc05"><p><code class="code ">getQualifiedName</code></p></td>
<td id="6601fb77"><p><code class="code ">ksDeclaration.qualifiedName</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="typeelement" data-toc="typeelement">TypeElement</h3>
<div class="table-wrapper"><table class=" wide" id="73bd71a5">
<thead><tr class="ijRowHead" id="23b77bd7">
<th id="422bba13"><p><b id="17e8d4a7" class="">Java</b></p></th>
<th id="8882f629"><p><b id="890798e5" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="c406d615">
<td id="84d9ee67"><p><code class="code ">getEnclosedElements</code></p></td>
<td id="d5fe6142"><p><code class="code ">ksClassDeclaration.declarations</code></p></td>
</tr>
<tr class="" id="ad2b59c6">
<td id="5002cd38"><p><code class="code ">getEnclosingElement</code></p></td>
<td id="bf02cbd7"><p><code class="code ">ksClassDeclaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="eee21fb1">
<td id="d64f5211"><p><code class="code ">getInterfaces</code></p></td>
<td id="7206407"><pre class="code" data-language="kotlin">// Should be able to do without resolution
ksClassDeclaration.superTypes
    .map { it.resolve() }
    .filter { (it?.declaration as? KSClassDeclaration)?.classKind == ClassKind.INTERFACE }
</pre></td>
</tr>
<tr class="" id="c6c644b7">
<td id="ff393191"><p><code class="code ">getNestingKind</code></p></td>
<td id="99e66767"><p>Check <code class="code ">KSClassDeclaration.parentDeclaration</code> and <code class="code ">inner</code> modifier</p></td>
</tr>
<tr class="" id="c3f2233">
<td id="47552015"><p><code class="code ">getQualifiedName</code></p></td>
<td id="a8b5f59c"><p><code class="code ">ksClassDeclaration.qualifiedName</code></p></td>
</tr>
<tr class="" id="f474ecef">
<td id="49a8cf4"><p><code class="code ">getSimpleName</code></p></td>
<td id="d6525788"><p><code class="code ">ksClassDeclaration.simpleName</code></p></td>
</tr>
<tr class="" id="f24ce2e">
<td id="97cdcc56"><p><code class="code ">getSuperclass</code></p></td>
<td id="c9c34dba"><pre class="code" data-language="kotlin">// Should be able to do without resolution
ksClassDeclaration.superTypes
    .map { it.resolve() }
    .filter { (it?.declaration as? KSClassDeclaration)?.classKind == ClassKind.CLASS }
</pre></td>
</tr>
<tr class="" id="d8e69ac6">
<td id="86e2f635"><p><code class="code ">getTypeParameters</code></p></td>
<td id="e27f450f"><p><code class="code ">ksClassDeclaration.typeParameters</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="typeparameterelement" data-toc="typeparameterelement">TypeParameterElement</h3>
<div class="table-wrapper"><table class=" wide" id="96c84c4">
<thead><tr class="ijRowHead" id="3be3575e">
<th id="2e58b8ee"><p><b id="b6cede30" class="">Java</b></p></th>
<th id="b36b89df"><p><b id="7060ebb6" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="c0b3fb8a">
<td id="89bfdc5e"><p><code class="code ">getBounds</code></p></td>
<td id="b2636816"><p><code class="code ">ksTypeParameter.bounds</code></p></td>
</tr>
<tr class="" id="c5da2deb">
<td id="2b9e721f"><p><code class="code ">getEnclosingElement</code></p></td>
<td id="fb641d77"><p><code class="code ">ksTypeParameter.parentDeclaration</code></p></td>
</tr>
<tr class="" id="cbc3625e">
<td id="ab6a5f40"><p><code class="code ">getGenericElement</code></p></td>
<td id="3a7fd4d3"><p><code class="code ">ksTypeParameter.parentDeclaration</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="variableelement" data-toc="variableelement">VariableElement</h3>
<div class="table-wrapper"><table class=" wide" id="b389bf08">
<thead><tr class="ijRowHead" id="b3669c45">
<th id="9b1807e2"><p><b id="8a3e48e9" class="">Java</b></p></th>
<th id="4d311dde"><p><b id="9a518ad7" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="da2a3205">
<td id="709cf187"><p><code class="code ">getConstantValue</code></p></td>
<td id="9f9bcd75"><p>To be implemented</p></td>
</tr>
<tr class="" id="7b4aeb06">
<td id="5520111c"><p><code class="code ">getEnclosingElement</code></p></td>
<td id="1df3b016"><p><code class="code ">ksValueParameter.parentDeclaration</code></p></td>
</tr>
<tr class="" id="feebda25">
<td id="8d127329"><p><code class="code ">getSimpleName</code></p></td>
<td id="d728f55b"><p><code class="code ">ksValueParameter.simpleName</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="arraytype" data-toc="arraytype">ArrayType</h3>
<div class="table-wrapper"><table class=" wide" id="faf370b2">
<thead><tr class="ijRowHead" id="24547738">
<th id="5de69c1b"><p><b id="d1bdf42" class="">Java</b></p></th>
<th id="a3a520c9"><p><b id="31637868" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="84de635a">
<td id="fad7b424"><p><code class="code ">getComponentType</code></p></td>
<td id="c2629e5f"><p><code class="code ">ksType.arguments.first()</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="declaredtype" data-toc="declaredtype">DeclaredType</h3>
<div class="table-wrapper"><table class=" wide" id="de6261bd">
<thead><tr class="ijRowHead" id="c79d27e9">
<th id="bb3c8411"><p><b id="920fdb81" class="">Java</b></p></th>
<th id="880a6f53"><p><b id="f9290c74" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="8e82e885">
<td id="251ab577"><p><code class="code ">asElement</code></p></td>
<td id="e24a381b"><p><code class="code ">ksType.declaration</code></p></td>
</tr>
<tr class="" id="cb542ad1">
<td id="de9281db"><p><code class="code ">getEnclosingType</code></p></td>
<td id="7af463f3"><p><code class="code ">ksType.declaration.parentDeclaration</code></p></td>
</tr>
<tr class="" id="ae639b7f">
<td id="e5479359"><p><code class="code ">getTypeArguments</code></p></td>
<td id="8d79114e"><p><code class="code ">ksType.arguments</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="executabletype" data-toc="executabletype">ExecutableType</h3>
<aside data-type="note" class="prompt" data-title="" id="24475744"><p id="f50700ca">A <code class="code ">KSType</code> for a function is just a signature represented by the <code class="code ">FunctionN&lt;R, T1, T2, ..., TN&gt;</code> family.</p></aside><div class="table-wrapper"><table class=" wide" id="84e767d">
<thead><tr class="ijRowHead" id="7a1ff2dc">
<th id="88e51e83"><p><b id="623713e6" class="">Java</b></p></th>
<th id="3eaaf919"><p><b id="131e777d" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="e378039a">
<td id="9d9ff660"><p><code class="code ">getParameterTypes</code></p></td>
<td id="40b09a7a"><p><code class="code ">ksType.declaration.typeParameters</code>, <code class="code ">ksFunctionDeclaration.parameters.map { it.type }</code></p></td>
</tr>
<tr class="" id="7dd8183">
<td id="20bb7f55"><p><code class="code ">getReceiverType</code></p></td>
<td id="cbccdf75"><p><code class="code ">ksFunctionDeclaration.parentDeclaration.asType(...)</code></p></td>
</tr>
<tr class="" id="c7801f58">
<td id="870f93c9"><p><code class="code ">getReturnType</code></p></td>
<td id="bd2146c9"><p><code class="code ">ksType.declaration.typeParameters.last()</code></p></td>
</tr>
<tr class="" id="2a22209">
<td id="ec58896"><p><code class="code ">getThrownTypes</code></p></td>
<td id="59c6c82a"><p>Not needed in Kotlin</p></td>
</tr>
<tr class="" id="3dc6c901">
<td id="bd30c5fd"><p><code class="code ">getTypeVariables</code></p></td>
<td id="558d90b2"><p><code class="code ">ksFunctionDeclaration.typeParameters</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="intersectiontype" data-toc="intersectiontype">IntersectionType</h3>
<div class="table-wrapper"><table class=" wide" id="d591d3cc">
<thead><tr class="ijRowHead" id="eb297c78">
<th id="a450a0bc"><p><b id="f7e5e83c" class="">Java</b></p></th>
<th id="88bfbbcc"><p><b id="ff9762b1" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="a4484d6c">
<td id="596b8eb5"><p><code class="code ">getBounds</code></p></td>
<td id="3c635833"><p><code class="code ">ksTypeParameter.bounds</code></p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="typemirror" data-toc="typemirror">TypeMirror</h3>
<div class="table-wrapper"><table class=" wide" id="6a70aa18">
<thead><tr class="ijRowHead" id="8d02de40">
<th id="5c3d8915"><p><b id="bcf29eaf" class="">Java</b></p></th>
<th id="92bdb218"><p><b id="cb66215f" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody><tr class="" id="cb5579b2">
<td id="dddc90a4"><p><code class="code ">getKind</code></p></td>
<td id="1646c531"><p>Compare with types in <code class="code ">KSBuiltIns</code> for primitive types, <code class="code ">Unit</code> type, otherwise declared types</p></td>
</tr></tbody>
</table></div></section><section class="chapter"><h3 id="typevariable" data-toc="typevariable">TypeVariable</h3>
<div class="table-wrapper"><table class=" wide" id="9ba42408">
<thead><tr class="ijRowHead" id="3a7ed011">
<th id="2149a80e"><p><b id="4b68ab73" class="">Java</b></p></th>
<th id="98cb93b"><p><b id="48b4ed30" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="f75a4a68">
<td id="99722059"><p><code class="code ">asElement</code></p></td>
<td id="a601e83"><p><code class="code ">ksType.declaration</code></p></td>
</tr>
<tr class="" id="a58ca9ee">
<td id="2af72e4f"><p><code class="code ">getLowerBound</code></p></td>
<td id="10c84771"><p>To be decided. Only needed if capture is provided and explicit bound checking is needed.</p></td>
</tr>
<tr class="" id="9098de92">
<td id="685b28aa"><p><code class="code ">getUpperBound</code></p></td>
<td id="eb063aad"><p><code class="code ">ksTypeParameter.bounds</code></p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="wildcardtype" data-toc="wildcardtype">WildcardType</h3>
<div class="table-wrapper"><table class=" wide" id="a635ea1">
<thead><tr class="ijRowHead" id="624a8913">
<th id="7116d32f"><p><b id="b04369fc" class="">Java</b></p></th>
<th id="4d31edd7"><p><b id="605c60cd" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="b2a1996">
<td id="e49218b8"><p><code class="code ">getExtendsBound</code></p></td>
<td id="3daff418"><pre class="code" data-language="kotlin">if (ksTypeArgument.variance == Variance.COVARIANT) ksTypeArgument.type else null
</pre></td>
</tr>
<tr class="" id="678d93d3">
<td id="a592df84"><p><code class="code ">getSuperBound</code></p></td>
<td id="f2839ba3"><pre class="code" data-language="kotlin">if (ksTypeArgument.variance == Variance.CONTRAVARIANT) ksTypeArgument.type else null
</pre></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="elements" data-toc="elements">Elements</h3>
<div class="table-wrapper"><table class=" wide" id="58fb82c3">
<thead><tr class="ijRowHead" id="cb1d636d">
<th id="1ebd370b"><p><b id="95ff7d26" class="">Java</b></p></th>
<th id="134f9b19"><p><b id="730c0d11" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="b95e5761">
<td id="fe54a5d"><p><code class="code ">getAllAnnotationMirrors</code></p></td>
<td id="6c60d0a4"><p><code class="code ">KSDeclarations.annotations</code></p></td>
</tr>
<tr class="" id="14503d59">
<td id="6ff817c1"><p><code class="code ">getAllMembers</code></p></td>
<td id="3e1a5cc0"><p><code class="code ">getAllFunctions</code>, <code class="code ">getAllProperties</code> is to be implemented</p></td>
</tr>
<tr class="" id="ce9a9904">
<td id="8137b3dc"><p><code class="code ">getBinaryName</code></p></td>
<td id="b3ba9aea"><p>To be decided, see <a href="https://docs.oracle.com/javase/specs/jls/se13/html/jls-13.html#jls-13.1" id="47372765" data-external="true" rel="noopener noreferrer">Java Specification</a></p></td>
</tr>
<tr class="" id="46947d94">
<td id="3998bd7a"><p><code class="code ">getConstantExpression</code></p></td>
<td id="b57ac007"><p>There is constant value, not expression</p></td>
</tr>
<tr class="" id="27319274">
<td id="65138691"><p><code class="code ">getDocComment</code></p></td>
<td id="7bcc6cd7"><p>To be implemented</p></td>
</tr>
<tr class="" id="8e1f2615">
<td id="fc392c0f"><p><code class="code ">getElementValuesWithDefaults</code></p></td>
<td id="56f401dc"><p>To be implemented</p></td>
</tr>
<tr class="" id="926fc1c3">
<td id="d73b4881"><p><code class="code ">getName</code></p></td>
<td id="5d32e31e"><p><code class="code ">resolver.getKSNameFromString</code></p></td>
</tr>
<tr class="" id="5c7fd1ee">
<td id="16f37aa0"><p><code class="code ">getPackageElement</code></p></td>
<td id="8ed9287"><p>Package not supported, while package information can be retrieved. Operation on package is not possible for KSP</p></td>
</tr>
<tr class="" id="a76fd028">
<td id="62bc6642"><p><code class="code ">getPackageOf</code></p></td>
<td id="e914c5f3"><p>Package not supported</p></td>
</tr>
<tr class="" id="344aa465">
<td id="e2c35012"><p><code class="code ">getTypeElement</code></p></td>
<td id="68912321"><p><code class="code ">Resolver.getClassDeclarationByName</code></p></td>
</tr>
<tr class="" id="8ddc499">
<td id="178bf2d1"><p><code class="code ">hides</code></p></td>
<td id="1f2998d4"><p>To be implemented</p></td>
</tr>
<tr class="" id="173bfb0c">
<td id="b915d925"><p><code class="code ">isDeprecated</code></p></td>
<td id="6e3b000b"><pre class="code" data-language="kotlin">KsDeclaration.annotations.any { 
    it.annotationType.resolve()!!.declaration.qualifiedName!!.asString() == Deprecated::class.qualifiedName
}
</pre></td>
</tr>
<tr class="" id="2f396372">
<td id="d88240eb"><p><code class="code ">overrides</code></p></td>
<td id="421038e2"><p><code class="code ">KSFunctionDeclaration.overrides</code> / <code class="code ">KSPropertyDeclaration.overrides</code> (member function of respective class)</p></td>
</tr>
<tr class="" id="d9dff7d3">
<td id="f0277a49"><p><code class="code ">printElements</code></p></td>
<td id="6c1e15c4"><p>KSP has basic <code class="code ">toString()</code> implementation on most classes</p></td>
</tr>
</tbody>
</table></div></section><section class="chapter"><h3 id="type-operations" data-toc="type-operations">Types</h3>
<div class="table-wrapper"><table class=" wide" id="e70ff06e">
<thead><tr class="ijRowHead" id="6064d3eb">
<th id="77845aed"><p><b id="bcf45168" class="">Java</b></p></th>
<th id="4d9ce275"><p><b id="46eb4b2e" class="">KSP equivalent</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="c76ce1cf">
<td id="f12b1978"><p><code class="code ">asElement</code></p></td>
<td id="2dde68df"><p><code class="code ">ksType.declaration</code></p></td>
</tr>
<tr class="" id="fffaa1a1">
<td id="8cb0ba2b"><p><code class="code ">asMemberOf</code></p></td>
<td id="4a4337ff"><p><code class="code ">resolver.asMemberOf</code></p></td>
</tr>
<tr class="" id="d9529d">
<td id="8613239b"><p><code class="code ">boxedClass</code></p></td>
<td id="25c424aa"><p>Not needed</p></td>
</tr>
<tr class="" id="c98051c0">
<td id="ef42f711"><p><code class="code ">capture</code></p></td>
<td id="ed519171"><p>To be decided</p></td>
</tr>
<tr class="" id="64877b08">
<td id="c979fef"><p><code class="code ">contains</code></p></td>
<td id="ca56d483"><p><code class="code ">KSType.isAssignableFrom</code></p></td>
</tr>
<tr class="" id="792f1854">
<td id="e3c3cf17"><p><code class="code ">directSuperTypes</code></p></td>
<td id="fbc3c1b5"><p><code class="code ">(ksType.declaration as KSClassDeclaration).superTypes</code></p></td>
</tr>
<tr class="" id="5e68629b">
<td id="a70fcf80"><p><code class="code ">erasure</code></p></td>
<td id="3a094d0e"><p><code class="code ">ksType.starProjection()</code></p></td>
</tr>
<tr class="" id="46445e9a">
<td id="9953b890"><p><code class="code ">getArrayType</code></p></td>
<td id="a82ac19a"><p><code class="code ">ksBuiltIns.arrayType.replace(...)</code></p></td>
</tr>
<tr class="" id="69ca0eea">
<td id="f37b52c0"><p><code class="code ">getDeclaredType</code></p></td>
<td id="8bafbeef"><p><code class="code ">ksClassDeclaration.asType</code></p></td>
</tr>
<tr class="" id="51d1b791">
<td id="7beada37"><p><code class="code ">getNoType</code></p></td>
<td id="9a07ae05"><p><code class="code ">ksBuiltIns.nothingType</code> / <code class="code ">null</code></p></td>
</tr>
<tr class="" id="29293db0">
<td id="ffee419d"><p><code class="code ">getNullType</code></p></td>
<td id="bd09aebc"><p>Depending on the context, <code class="code ">KSType.markNullable</code> could be useful</p></td>
</tr>
<tr class="" id="38a0d199">
<td id="29a5c2ce"><p><code class="code ">getPrimitiveType</code></p></td>
<td id="401f1e86"><p>Not needed, check for <code class="code ">KSBuiltins</code></p></td>
</tr>
<tr class="" id="aa58e6e1">
<td id="5a0b3498"><p><code class="code ">getWildcardType</code></p></td>
<td id="b9177111"><p>Use <code class="code ">Variance</code> in places expecting <code class="code ">KSTypeArgument</code></p></td>
</tr>
<tr class="" id="bdb294b0">
<td id="3229d0e8"><p><code class="code ">isAssignable</code></p></td>
<td id="e62c14dc"><p><code class="code ">ksType.isAssignableFrom</code></p></td>
</tr>
<tr class="" id="3339a1d">
<td id="88e0a693"><p><code class="code ">isSameType</code></p></td>
<td id="8046a17f"><p><code class="code ">ksType.equals</code></p></td>
</tr>
<tr class="" id="5c27e12f">
<td id="babefcbf"><p><code class="code ">isSubsignature</code></p></td>
<td id="f76e7530"><p><code class="code ">functionTypeA == functionTypeB</code> / <code class="code ">functionTypeA == functionTypeB.starProjection()</code></p></td>
</tr>
<tr class="" id="939c42d8">
<td id="dfd14169"><p><code class="code ">isSubtype</code></p></td>
<td id="5bb37e1a"><p><code class="code ">ksType.isAssignableFrom</code></p></td>
</tr>
<tr class="" id="1f095a01">
<td id="30edeb66"><p><code class="code ">unboxedType</code></p></td>
<td id="a9d5f1b5"><p>Not needed</p></td>
</tr>
</tbody>
</table></div></section></section><div class="last-modified"> Last modified: 05 April 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="ksp-additional-details.html">How KSP models Kotlin code</a> <a class="navigation-links__next" href="ksp-incremental.html">Incremental processing</a> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 JetBrains s.r.o. and Kotlin Programming Language contributors<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://kotlinlang.org/docs/ksp-reference.html" class="_attribution-link">https://kotlinlang.org/docs/ksp-reference.html</a>
  </p>
</div>
