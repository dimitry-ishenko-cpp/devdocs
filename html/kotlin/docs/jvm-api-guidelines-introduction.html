<h1 data-toc="jvm-api-guidelines-introduction" id="jvm-api-guidelines-introduction.md">Introduction</h1>
<p id="2f0913c1">A good library is one that has:</p>
<ul class="list _bullet" id="afeee31a">
<li class="list__item" id="52cfd3c7"><p>Backward compatibility</p></li>
<li class="list__item" id="228ffc54"><p>Complete and easy-to-understand documentation</p></li>
<li class="list__item" id="9c21ac84"><p>Minimum <a href="#cognitive-complexity" id="662df7fa">cognitive complexity</a></p></li>
<li class="list__item" id="ea1cf338"><p>Consistent API</p></li>
</ul>
<p id="f3d236f1">This guide contains a summary of best practices and ideas to consider when writing an API for your library. It consists of the following chapters:</p>
<ul class="list _bullet" id="fe1a8bd2">
<li class="list__item" id="b98511d8"><p><a href="jvm-api-guidelines-readability.html" id="5b503f4e">Readability</a></p></li>
<li class="list__item" id="3c27563c"><p><a href="jvm-api-guidelines-predictability.html" id="db01c5f3">Predictability</a></p></li>
<li class="list__item" id="c1168093"><p><a href="jvm-api-guidelines-debuggability.html" id="8aa062d7">Debuggability</a></p></li>
<li class="list__item" id="8638684e"><p><a href="jvm-api-guidelines-backward-compatibility.html" id="fdd0f05a">Backward compatibility</a></p></li>
</ul>
<p id="78c9888a">Many of the following best practices provide advice on how to reduce the cognitive complexity of an API. As such, this guide provides an explanation of cognitive complexity before proceeding to best practices.</p>
<section class="chapter" data-anchors="[f8bfa974,a2fba721,229b252e,797fd09f,c2ee0f40,8fd29632,f29fe0d2,e7f364ef,14c32dbd,de471521,ceaad5c4,5e6f5968,cognitive-complexity]"><div class="collapse">
<div class="collapse__title"><h2 id="cognitive-complexity" data-toc="cognitive-complexity">Cognitive complexity</h2></div>
<div class="collapse__content">
<p id="f8bfa974">Cognitive complexity is the amount of mental effort a person needs to spend to understand a piece of code. A codebase with high cognitive complexity is more difficult to understand and maintain, which can lead to bugs and delays in development.</p>
<p id="a2fba721">An example of high cognitive complexity is a class or module that does not follow the <a href="https://en.wikipedia.org/wiki/Single-responsibility_principle" id="c116e208" data-external="true" rel="noopener noreferrer">Single Responsibility Principle</a>. A class or module that does too many things is hard to understand and modify. In contrast, a class or module that has one clear and well-defined responsibility is easier to work with.</p>
<p id="229b252e">Functions can also have high cognitive complexity. Some traits of a "badly written" function are:</p>
<ul class="list _bullet" id="797fd09f">
<li class="list__item" id="c2ee0f40"><p>Too many arguments, variables, or loops.</p></li>
<li class="list__item" id="8fd29632"><p>Complex logic with many nested if-else statements.</p></li>
</ul>
<p id="f29fe0d2">A function like that is harder to work with than a function with clear and simple logic – one with few parameters and an easy-to-understand control flow. An example of high cognitive complexity:</p>
<pre class="code" data-language="kotlin">fun processData(
    data: List&lt;String&gt;,
    delimiter: String,
    ignoreCase: Boolean,
    sort: Boolean,
    maxLength: Int
) {
    // Some complex processing logic
}
</pre>
<p id="14c32dbd">Decomposing this functionality lowers the cognitive complexity:</p>
<pre class="code" data-language="kotlin">fun delimit(data: List&lt;String&gt;, delimiter: String) { … }
fun ignoreCase(data: List&lt;String&gt;) { … }
fun sortAscending(data: List&lt;String&gt;) { … }
fun sortDescending(data: List&lt;String&gt;) { … }
fun maxLength(data: List&lt;String&gt;, maxLength: Int) { … }
</pre>
<p id="ceaad5c4">You can simplify the code above even more with the help of <a href="extensions.html" id="21f12f9a">extension functions</a>:</p>
<pre class="code" data-language="kotlin">fun List&lt;String&gt;.delimit(delimiter: String): List&lt;String&gt; { … }
fun List&lt;String&gt;.sortAscending(): List&lt;String&gt; { … }
fun List&lt;String&gt;.sortDescending(): List&lt;String&gt; { … }
fun List&lt;String&gt;.maxLength(maxLength: Int): List&lt;String&gt; { … }
…
</pre>
</div>
</div></section><section class="chapter"><h2 id="what-s-next" data-toc="what-s-next">What's next?</h2>
<p id="56aa8759">Learn about APIs' <a href="jvm-api-guidelines-readability.html" id="7d3b2ca1">readability</a>.</p></section><div class="last-modified"> Last modified: 25 July 2023</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="java-to-kotlin-nullability-guide.html">Nullability in Java and Kotlin</a> <a class="navigation-links__next" href="jvm-api-guidelines-readability.html">Readability</a> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 JetBrains s.r.o. and Kotlin Programming Language contributors<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://kotlinlang.org/docs/jvm-api-guidelines-introduction.html" class="_attribution-link">https://kotlinlang.org/docs/jvm-api-guidelines-introduction.html</a>
  </p>
</div>
