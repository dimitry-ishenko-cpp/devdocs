<h1 id="atomicreference">AtomicReference</h1>
<div class="api-docs-breadcrumbs">
<a href="../../../../../../index.html">kotlin-stdlib</a> / <a href="../index.html">kotlin.concurrent</a> / <a href="index.html">AtomicReference</a>
</div> <div class="node-page-main" data-kotlin-version="1.9" data-platform="Native">
<div data-kotlin-version="1.9" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.9) </div>
<div data-kotlin-version="1.9" data-platform="Native">
<pre class="signature" data-language="kotlin">class AtomicReference&lt;T&gt;</pre> </div>
<div data-kotlin-version="1.9" data-platform="Native"> <p>An object reference that is always updated atomically.</p> <p>Legacy MM: An atomic reference to a frozen Kotlin object. Can be used in concurrent scenarious but frequently shall be of nullable type and be zeroed out once no longer needed. Otherwise memory leak could happen. To detect such leaks kotlin.native.internal.GC.detectCycles in debug mode could be helpful.</p> </div>
</div> <h2 id="constructors">Constructors</h2> <div class="api-declarations-list">
<div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-init-.html">&lt;init&gt;</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Creates a new atomic reference pointing to the given value.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">AtomicReference(value: T)</pre> </div>
</div> </div> </div> <h2 id="properties">Properties</h2> <div class="api-declarations-list">
<div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="value.html">value</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>The current value. Gets the current value or sets to the given new value.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">var value: T</pre> </div>
</div> </div> </div> <h2 id="functions">Functions</h2> <div class="api-declarations-list">
<div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="compare-and-exchange.html">compareAndExchange</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Atomically sets the value to the given <a href="compare-and-exchange.html#kotlin.concurrent.AtomicReference$compareAndExchange(kotlin.concurrent.AtomicReference.T,%20kotlin.concurrent.AtomicReference.T)/newValue">new value</a> if the current value equals the <a href="compare-and-exchange.html#kotlin.concurrent.AtomicReference$compareAndExchange(kotlin.concurrent.AtomicReference.T,%20kotlin.concurrent.AtomicReference.T)/expected">expected value</a> and returns the old value in any case.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun compareAndExchange(expected: T, newValue: T): T</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="compare-and-set.html">compareAndSet</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Atomically sets the value to the given <a href="compare-and-set.html#kotlin.concurrent.AtomicReference$compareAndSet(kotlin.concurrent.AtomicReference.T,%20kotlin.concurrent.AtomicReference.T)/newValue">new value</a> if the current value equals the <a href="compare-and-set.html#kotlin.concurrent.AtomicReference$compareAndSet(kotlin.concurrent.AtomicReference.T,%20kotlin.concurrent.AtomicReference.T)/expected">expected value</a>, returns true if the operation was successful and false only if the current value was not equal to the expected value.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun compareAndSet(expected: T, newValue: T): Boolean</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="get-and-set.html">getAndSet</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Atomically sets the value to the given <a href="get-and-set.html#kotlin.concurrent.AtomicReference$getAndSet(kotlin.concurrent.AtomicReference.T)/newValue">new value</a> and returns the old value.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun getAndSet(newValue: T): T</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="to-string.html">toString</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Returns the string representation of the current <a href="value.html">value</a>.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun toString(): String</pre> </div>
</div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 JetBrains s.r.o. and Kotlin Programming Language contributors<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.concurrent/-atomic-reference/index.html" class="_attribution-link">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.concurrent/-atomic-reference/index.html</a>
  </p>
</div>
