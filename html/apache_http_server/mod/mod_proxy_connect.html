<h1>Apache Module mod_proxy_connect</h1>  <table class="module">
<tr>
<th>Description:</th>
<td>
<code class="module"><a href="mod_proxy.html">mod_proxy</a></code> extension for <code>CONNECT</code> request handling</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module Identifier:</th>
<td>proxy_connect_module</td>
</tr> <tr>
<th>Source File:</th>
<td>mod_proxy_connect.c</td>
</tr>
</table> <h3>Summary</h3> <p>This module <em>requires</em> the service of <code class="module"><a href="mod_proxy.html">mod_proxy</a></code>. It provides support for the <code>CONNECT</code> HTTP method. This method is mainly used to tunnel SSL requests through proxy servers.</p> <p>Thus, in order to get the ability of handling <code>CONNECT</code> requests, <code class="module"><a href="mod_proxy.html">mod_proxy</a></code> and <code class="module"><a href="mod_proxy_connect.html">mod_proxy_connect</a></code> have to be present in the server.</p> <p>CONNECT is also used when the server needs to send an HTTPS request through a forward proxy. In this case the server acts as a CONNECT client. This functionality is part of <code class="module"><a href="mod_proxy.html">mod_proxy</a></code> and <code class="module"><a href="mod_proxy_connect.html">mod_proxy_connect</a></code> is not needed in this case.</p> <div class="warning">
<p><strong>Warning</strong></p> <p>Do not enable proxying until you have <a href="mod_proxy.html#access">secured your server</a>. Open proxy servers are dangerous both to your network and to the Internet at large.</p> </div>     <h2 id="notes">Request notes</h2> <p><code class="module"><a href="mod_proxy_connect.html">mod_proxy_connect</a></code> creates the following request notes for logging using the <code>%{VARNAME}n</code> format in <code class="directive"><a href="mod_log_config.html#logformat">LogFormat</a></code> or <code class="directive"><a href="core.html#errorlogformat">ErrorLogFormat</a></code>: </p> <dl> <dt>proxy-source-port</dt> <dd>The local port used for the connection to the backend server.</dd> </dl>   <div class="directive-section">
<h2 id="allowconnect">AllowCONNECT Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>Ports that are allowed to <code>CONNECT</code> through the proxy</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>AllowCONNECT port[-port] [port[-port]] ...</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>AllowCONNECT 443 563</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_proxy_connect</td>
</tr> <tr>
<th>Compatibility:</th>
<td>Moved from <code class="module"><a href="mod_proxy.html">mod_proxy</a></code> in Apache 2.3.5. Port ranges available since Apache 2.3.7.</td>
</tr> </table> <p>The <code class="directive">AllowCONNECT</code> directive specifies a list of port numbers or ranges to which the proxy <code>CONNECT</code> method may connect. Today's browsers use this method when a <code>https</code> connection is requested and proxy tunneling over HTTP is in effect.</p> <p>By default, only the default https port (<code>443</code>) and the default snews port (<code>563</code>) are enabled. Use the <code class="directive">AllowCONNECT</code> directive to override this default and allow connections to the listed ports only.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018 The Apache Software Foundation<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://httpd.apache.org/docs/2.4/en/mod/mod_proxy_connect.html" class="_attribution-link">https://httpd.apache.org/docs/2.4/en/mod/mod_proxy_connect.html</a>
  </p>
</div>
