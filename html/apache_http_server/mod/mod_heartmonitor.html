<h1>Apache Module mod_heartmonitor</h1>  <table class="module">
<tr>
<th>Description:</th>
<td>Centralized monitor for mod_heartbeat origin servers</td>
</tr> <tr>
<th>Status:</th>
<td>Experimental</td>
</tr> <tr>
<th>Module Identifier:</th>
<td>heartmonitor_module</td>
</tr> <tr>
<th>Source File:</th>
<td>mod_heartmonitor.c</td>
</tr> <tr>
<th>Compatibility:</th>
<td>Available in Apache 2.3 and later</td>
</tr>
</table> <h3>Summary</h3> <p> <code class="module"><a href="mod_heartmonitor.html">mod_heartmonitor</a></code> listens for server status messages generated by <code class="module"><a href="mod_heartbeat.html">mod_heartbeat</a></code> enabled origin servers and makes their status available to <code class="module"><a href="mod_lbmethod_heartbeat.html">mod_lbmethod_heartbeat</a></code>. This allows <code class="directive"><a href="mod_proxy.html#proxypass">ProxyPass</a></code> to use the "heartbeat" <em>lbmethod</em> inside of <code class="directive"><a href="mod_proxy.html#proxypass">ProxyPass</a></code>. </p> <p>This module uses the services of <code class="module"><a href="mod_slotmem_shm.html">mod_slotmem_shm</a></code> when available instead of flat-file storage. No configuration is required to use <code class="module"><a href="mod_slotmem_shm.html">mod_slotmem_shm</a></code>.</p> <div class="warning"> To use <code class="module"><a href="mod_heartmonitor.html">mod_heartmonitor</a></code>, <code class="module"><a href="mod_status.html">mod_status</a></code> and <code class="module"><a href="mod_watchdog.html">mod_watchdog</a></code> must be either a static modules or, if a dynamic module, it must be loaded before <code class="module"><a href="mod_heartmonitor.html">mod_heartmonitor</a></code>. </div>    <div class="directive-section">
<h2 id="heartbeatlisten">HeartbeatListen Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>multicast address to listen for incoming heartbeat requests </td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>HeartbeatListen addr:port</pre></td>
</tr> <tr>
<th>Default:</th>
<td><code>disabled</code></td>
</tr> <tr>
<th>Context:</th>
<td>server config</td>
</tr> <tr>
<th>Status:</th>
<td>Experimental</td>
</tr> <tr>
<th>Module:</th>
<td>mod_heartmonitor</td>
</tr> </table> <p>The <code class="directive">HeartbeatListen</code> directive specifies the multicast address on which the server will listen for status information from <code class="module"><a href="mod_heartbeat.html">mod_heartbeat</a></code>-enabled servers. This address will usually correspond to a configured <code class="directive"><a href="mod_heartbeat.html#heartbeataddress">HeartbeatAddress</a></code> on an origin server. </p> <pre class="prettyprint lang-config">HeartbeatListen 239.0.0.1:27999</pre> <p> This module is inactive until this directive is used.</p> </div>  <div class="directive-section">
<h2 id="heartbeatmaxservers">HeartbeatMaxServers Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>Specifies the maximum number of servers that will be sending heartbeat requests to this server</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>HeartbeatMaxServers number-of-servers</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>HeartbeatMaxServers 10</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config</td>
</tr> <tr>
<th>Status:</th>
<td>Experimental</td>
</tr> <tr>
<th>Module:</th>
<td>mod_heartmonitor</td>
</tr> </table> <p>The <code class="directive">HeartbeatMaxServers</code> directive specifies the maximum number of servers that will be sending requests to this monitor server. It is used to control the size of the shared memory allocated to store the heartbeat info when <code class="module"><a href="mod_slotmem_shm.html">mod_slotmem_shm</a></code> is in use.</p> </div>  <div class="directive-section">
<h2 id="heartbeatstorage">HeartbeatStorage Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>Path to store heartbeat data</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>HeartbeatStorage file-path</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>HeartbeatStorage logs/hb.dat</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config</td>
</tr> <tr>
<th>Status:</th>
<td>Experimental</td>
</tr> <tr>
<th>Module:</th>
<td>mod_heartmonitor</td>
</tr> </table> <p>The <code class="directive">HeartbeatStorage</code> directive specifies the path to store heartbeat data. This flat-file is used only when <code class="module"><a href="mod_slotmem_shm.html">mod_slotmem_shm</a></code> is not loaded.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018 The Apache Software Foundation<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://httpd.apache.org/docs/2.4/en/mod/mod_heartmonitor.html" class="_attribution-link">https://httpd.apache.org/docs/2.4/en/mod/mod_heartmonitor.html</a>
  </p>
</div>
