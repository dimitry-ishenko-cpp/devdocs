<h1 class="title">HAVING Clause</h1>  <p>The <code class="language-plaintext highlighter-rouge">HAVING</code> clause can be used after the <code class="language-plaintext highlighter-rouge">GROUP BY</code> clause to provide filter criteria <em>after</em> the grouping has been completed. In terms of syntax the <code class="language-plaintext highlighter-rouge">HAVING</code> clause is identical to the <code class="language-plaintext highlighter-rouge">WHERE</code> clause, but while the <code class="language-plaintext highlighter-rouge">WHERE</code> clause occurs before the grouping, the <code class="language-plaintext highlighter-rouge">HAVING</code> clause occurs after the grouping.</p> <h2 id="examples"> <a style="text-decoration: none;" href="#examples">Examples</a> </h2> <p>Count the number of entries in the <code class="language-plaintext highlighter-rouge">addresses</code> table that belong to each different <code class="language-plaintext highlighter-rouge">city</code>, filtering out cities with a count below 50:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT city, count(*)
FROM addresses
GROUP BY city
HAVING count(*) &gt;= 50;</pre> <p>Compute the average income per city per <code class="language-plaintext highlighter-rouge">street_name</code>, filtering out cities with an average <code class="language-plaintext highlighter-rouge">income</code> bigger than twice the median <code class="language-plaintext highlighter-rouge">income</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT city, street_name, avg(income)
FROM addresses
GROUP BY city, street_name
HAVING avg(income) &gt; 2 * median(income);</pre> <h2 id="syntax"> <a style="text-decoration: none;" href="#syntax">Syntax</a> </h2><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/query_syntax/having.html" class="_attribution-link">https://duckdb.org/docs/sql/query_syntax/having.html</a>
  </p>
</div>
