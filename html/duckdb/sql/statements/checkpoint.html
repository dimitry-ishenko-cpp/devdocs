<h1 class="title">CHECKPOINT Statement</h1>  <p>The <code class="language-plaintext highlighter-rouge">CHECKPOINT</code> statement synchronizes data in the write-ahead log (WAL) to the database data file. For in-memory databases this statement will succeed with no effect.</p> <h2 id="examples"> <a style="text-decoration: none;" href="#examples">Examples</a> </h2> <p>Synchronize data in the default database:</p> <pre class="language-sql highlighter-rouge" data-language="sql">CHECKPOINT;</pre> <p>Synchronize data in the specified database:</p> <pre class="language-sql highlighter-rouge" data-language="sql">CHECKPOINT file_db;</pre> <p>Abort any in-progress transactions to synchronize the data:</p> <pre class="language-sql highlighter-rouge" data-language="sql">FORCE CHECKPOINT;</pre> <h2 id="syntax"> <a style="text-decoration: none;" href="#syntax">Syntax</a> </h2>  <p>Checkpoint operations happen automatically based on the WAL size (see <a href="../../configuration/overview.html">Configuration</a>). This statement is for manual checkpoint actions.</p> <h2 id="behavior"> <a style="text-decoration: none;" href="#behavior">Behavior</a> </h2> <p>The default <code class="language-plaintext highlighter-rouge">CHECKPOINT</code> command will fail if there are any running transactions. Including <code class="language-plaintext highlighter-rouge">FORCE</code> will abort any transactions and execute the checkpoint operation.</p> <p>Also see the related <a href="../../configuration/pragmas.html#force-checkpoint.html"><code class="language-plaintext highlighter-rouge">PRAGMA</code> option</a> for further behavior modification.</p> <h3 id="reclaiming-space"> <a style="text-decoration: none;" href="#reclaiming-space">Reclaiming Space</a> </h3> <p>When performing a checkpoint (automatic or otherwise), the space occupied by deleted rows is partially reclaimed. Note that this does not remove all deleted rows, but rather merges row groups that have a significant amount of deletes together. In the current implementation this requires ~25% of rows to be deleted in adjacent row groups.</p> <p>When running in in-memory mode, checkpointing has no effect, hence it does not reclaim space after deletes in in-memory databases.</p> <blockquote> <p>Warning The <a href="vacuum.html"><code class="language-plaintext highlighter-rouge">VACUUM</code> statement</a> does <em>not</em> trigger vacuuming deletes and hence does not reclaim space.</p> </blockquote><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/statements/checkpoint.html" class="_attribution-link">https://duckdb.org/docs/sql/statements/checkpoint.html</a>
  </p>
</div>
