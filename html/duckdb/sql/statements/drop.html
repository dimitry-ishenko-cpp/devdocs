<h1 class="title">DROP Statement</h1>  <p>The <code class="language-plaintext highlighter-rouge">DROP</code> statement removes a catalog entry added previously with the <code class="language-plaintext highlighter-rouge">CREATE</code> command.</p> <h2 id="examples"> <a style="text-decoration: none;" href="#examples">Examples</a> </h2> <p>Delete the table with the name <code class="language-plaintext highlighter-rouge">tbl</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">DROP TABLE tbl;</pre> <p>Drop the view with the name <code class="language-plaintext highlighter-rouge">v1</code>; do not throw an error if the view does not exist:</p> <pre class="language-sql highlighter-rouge" data-language="sql">DROP VIEW IF EXISTS v1;</pre> <p>Drop function <code class="language-plaintext highlighter-rouge">fn</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">DROP FUNCTION fn;</pre> <p>Drop index <code class="language-plaintext highlighter-rouge">idx</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">DROP INDEX idx;</pre> <p>Drop schema <code class="language-plaintext highlighter-rouge">sch</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">DROP SCHEMA sch;</pre> <p>Drop sequence <code class="language-plaintext highlighter-rouge">seq</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">DROP SEQUENCE seq;</pre> <p>Drop macro <code class="language-plaintext highlighter-rouge">mcr</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">DROP MACRO mcr;</pre> <p>Drop macro table <code class="language-plaintext highlighter-rouge">mt</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">DROP MACRO TABLE mt;</pre> <p>Drop type <code class="language-plaintext highlighter-rouge">typ</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">DROP TYPE typ;</pre> <h2 id="syntax"> <a style="text-decoration: none;" href="#syntax">Syntax</a> </h2>  <h2 id="dependencies-of-dropped-objects"> <a style="text-decoration: none;" href="#dependencies-of-dropped-objects">Dependencies of Dropped Objects</a> </h2> <p>DuckDB performs limited dependency tracking for some object types. By default or if the <code class="language-plaintext highlighter-rouge">RESTRICT</code> clause is provided, the entry will not be dropped if there are any other objects that depend on it. If the <code class="language-plaintext highlighter-rouge">CASCADE</code> clause is provided then all the objects that are dependent on the object will be dropped as well.</p> <pre class="language-sql highlighter-rouge" data-language="sql">CREATE SCHEMA myschema;
CREATE TABLE myschema.t1 (i INTEGER);
DROP SCHEMA myschema;</pre> <pre class="language-console highlighter-rouge" data-language="console">Dependency Error: Cannot drop entry `myschema` because there are entries that depend on it.
Use DROP...CASCADE to drop all dependents.</pre> <p>The <code class="language-plaintext highlighter-rouge">CASCADE</code> modifier drops both myschema and <code class="language-plaintext highlighter-rouge">myschema.t1</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">CREATE SCHEMA myschema;
CREATE TABLE myschema.t1 (i INTEGER);
DROP SCHEMA myschema CASCADE;</pre> <p>The following dependencies are tracked and thus will raise an error if the user tries to drop the depending object without the <code class="language-plaintext highlighter-rouge">CASCADE</code> modifier.</p> <table> <thead> <tr> <th>Depending object type</th> <th>Dependant object type</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">SCHEMA</code></td> <td><code class="language-plaintext highlighter-rouge">FUNCTION</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">SCHEMA</code></td> <td><code class="language-plaintext highlighter-rouge">INDEX</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">SCHEMA</code></td> <td><code class="language-plaintext highlighter-rouge">MACRO TABLE</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">SCHEMA</code></td> <td><code class="language-plaintext highlighter-rouge">MACRO</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">SCHEMA</code></td> <td><code class="language-plaintext highlighter-rouge">SCHEMA</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">SCHEMA</code></td> <td><code class="language-plaintext highlighter-rouge">SEQUENCE</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">SCHEMA</code></td> <td><code class="language-plaintext highlighter-rouge">TABLE</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">SCHEMA</code></td> <td><code class="language-plaintext highlighter-rouge">TYPE</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">SCHEMA</code></td> <td><code class="language-plaintext highlighter-rouge">VIEW</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">TABLE</code></td> <td><code class="language-plaintext highlighter-rouge">INDEX</code></td> </tr> </tbody> </table> <h2 id="limitations"> <a style="text-decoration: none;" href="#limitations">Limitations</a> </h2> <h3 id="dependencies-on-views"> <a style="text-decoration: none;" href="#dependencies-on-views">Dependencies on Views</a> </h3> <p>Currently, dependencies are not tracked for views. For example, if a view is created that references a table and the table is dropped, then the view will be in an invalid state:</p> <pre class="language-sql highlighter-rouge" data-language="sql">CREATE TABLE tbl (i INTEGER);
CREATE VIEW v AS
    SELECT i FROM tbl;
DROP TABLE tbl RESTRICT;
SELECT * FROM v;</pre> <pre class="language-console highlighter-rouge" data-language="console">Catalog Error: Table with name tbl does not exist!</pre> <h2 id="limitations-on-reclaiming-disk-space"> <a style="text-decoration: none;" href="#limitations-on-reclaiming-disk-space">Limitations on Reclaiming Disk Space</a> </h2> <p>Running <code class="language-plaintext highlighter-rouge">DROP TABLE</code> should free the memory used by the table, but not always disk space. Even if disk space does not decrease, the free blocks will be marked as <code class="language-plaintext highlighter-rouge">free</code>. For example, if we have a 2 GB file and we drop a 1 GB table, the file might still be 2 GB, but it should have 1 GB of free blocks in it. To check this, use the following <code class="language-plaintext highlighter-rouge">PRAGMA</code> and check the number of <code class="language-plaintext highlighter-rouge">free_blocks</code> in the output:</p> <pre class="language-sql highlighter-rouge" data-language="sql">PRAGMA database_size;</pre> <p>For instruction on reclaiming space after dropping a table, refer to the <a href="../../operations_manual/footprint_of_duckdb/reclaiming_space.html">“Reclaiming space” page</a>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/statements/drop.html" class="_attribution-link">https://duckdb.org/docs/sql/statements/drop.html</a>
  </p>
</div>
