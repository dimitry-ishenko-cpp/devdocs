<h1 class="title">SET VARIABLE and RESET VARIABLE Statements</h1>  <p>DuckDB supports the definition of SQL-level variables using the <code class="language-plaintext highlighter-rouge">SET VARIABLE</code> and <code class="language-plaintext highlighter-rouge">RESET VARIABLE</code> statements.</p> <h2 id="set-variable"> <a style="text-decoration: none;" href="#set-variable"><code class="language-plaintext highlighter-rouge">SET VARIABLE</code></a> </h2> <p>The <code class="language-plaintext highlighter-rouge">SET VARIABLE</code> statement assigns a value to a variable, which can be accessed using the <code class="language-plaintext highlighter-rouge">getvariable</code> call:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SET VARIABLE my_var = 30;
SELECT 20 + getvariable('my_var') AS total;</pre> <table> <thead> <tr> <th style="text-align: right">total</th> </tr> </thead> <tbody> <tr> <td style="text-align: right">50</td> </tr> </tbody> </table> <p>If <code class="language-plaintext highlighter-rouge">SET VARIABLE</code> is invoked on an existing variable, it will overwrite its value:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SET VARIABLE my_var = 30;
SET VARIABLE my_var = 100;
SELECT 20 + getvariable('my_var') AS total;</pre> <table> <thead> <tr> <th style="text-align: right">total</th> </tr> </thead> <tbody> <tr> <td style="text-align: right">120</td> </tr> </tbody> </table> <p>Variables can have different types:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SET VARIABLE my_date = DATE '2018-07-13';
SET VARIABLE my_string = 'Hello world';
SET VARIABLE my_map = MAP {'k1': 10, 'k2': 20};</pre> <p>If the variable is not set, the <code class="language-plaintext highlighter-rouge">getvariable</code> function returns <code class="language-plaintext highlighter-rouge">NULL</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT getvariable('undefined_var') AS result;</pre> <table> <thead> <tr> <th>result</th> </tr> </thead> <tbody> <tr> <td>NULL</td> </tr> </tbody> </table> <p>The <code class="language-plaintext highlighter-rouge">getvariable</code> function can also be used in a <a href="../expressions/star.html#columns-expression.html"><code class="language-plaintext highlighter-rouge">COLUMNS</code> expression</a>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SET VARIABLE column_to_exclude = 'col1';
CREATE TABLE tbl AS SELECT 12 AS col0, 34 AS col1, 56 AS col2;
SELECT COLUMNS(c -&gt; c != getvariable('column_to_exclude')) FROM tbl;</pre> <table> <thead> <tr> <th style="text-align: right">col0</th> <th style="text-align: right">col2</th> </tr> </thead> <tbody> <tr> <td style="text-align: right">12</td> <td style="text-align: right">56</td> </tr> </tbody> </table> <h3 id="syntax"> <a style="text-decoration: none;" href="#syntax">Syntax</a> </h3>  <h2 id="reset-variable"> <a style="text-decoration: none;" href="#reset-variable"><code class="language-plaintext highlighter-rouge">RESET VARIABLE</code></a> </h2> <p>The <code class="language-plaintext highlighter-rouge">RESET VARIABLE</code> statement unsets a variable.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SET VARIABLE my_var = 30;
RESET VARIABLE my_var;
SELECT getvariable('my_var') AS my_var;</pre> <table> <thead> <tr> <th>my_var</th> </tr> </thead> <tbody> <tr> <td>NULL</td> </tr> </tbody> </table> <h3 id="syntax-1"> <a style="text-decoration: none;" href="#syntax-1">Syntax</a> </h3><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/statements/set_variable.html" class="_attribution-link">https://duckdb.org/docs/sql/statements/set_variable.html</a>
  </p>
</div>
