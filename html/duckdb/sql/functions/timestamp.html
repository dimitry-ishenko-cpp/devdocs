<h1 class="title">Timestamp Functions</h1>   <p>This section describes functions and operators for examining and manipulating <a href="../data_types/timestamp.html"><code class="language-plaintext highlighter-rouge">TIMESTAMP</code> values</a>.</p> <h2 id="timestamp-operators"> <a style="text-decoration: none;" href="#timestamp-operators">Timestamp Operators</a> </h2> <p>The table below shows the available mathematical operators for <code class="language-plaintext highlighter-rouge">TIMESTAMP</code> types.</p> <table> <thead> <tr> <th style="text-align: left">Operator</th> <th style="text-align: left">Description</th> <th style="text-align: left">Example</th> <th style="text-align: left">Result</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">+</code></td> <td style="text-align: left">addition of an <code class="language-plaintext highlighter-rouge">INTERVAL</code>
</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">TIMESTAMP '1992-03-22 01:02:03' + INTERVAL 5 DAY</code></td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">1992-03-27 01:02:03</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">-</code></td> <td style="text-align: left">subtraction of <code class="language-plaintext highlighter-rouge">TIMESTAMP</code>s</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">TIMESTAMP '1992-03-27' - TIMESTAMP '1992-03-22'</code></td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">5 days</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">-</code></td> <td style="text-align: left">subtraction of an <code class="language-plaintext highlighter-rouge">INTERVAL</code>
</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">TIMESTAMP '1992-03-27 01:02:03' - INTERVAL 5 DAY</code></td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">1992-03-22 01:02:03</code></td> </tr> </tbody> </table> <p>Adding to or subtracting from <a href="../data_types/timestamp.html#special-values.html">infinite values</a> produces the same infinite value.</p> <h2 id="scalar-timestamp-functions"> <a style="text-decoration: none;" href="#scalar-timestamp-functions">Scalar Timestamp Functions</a> </h2> <p>The table below shows the available scalar functions for <code class="language-plaintext highlighter-rouge">TIMESTAMP</code> values.</p> <table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><a href="#agetimestamp-timestamp"><code class="language-plaintext highlighter-rouge">age(timestamp, timestamp)</code></a></td> <td style="text-align: left">Subtract arguments, resulting in the time difference between the two timestamps.</td> </tr> <tr> <td style="text-align: left"><a href="#agetimestamp"><code class="language-plaintext highlighter-rouge">age(timestamp)</code></a></td> <td style="text-align: left">Subtract from current_date.</td> </tr> <tr> <td style="text-align: left"><a href="#centurytimestamp"><code class="language-plaintext highlighter-rouge">century(timestamp)</code></a></td> <td style="text-align: left">Extracts the century of a timestamp.</td> </tr> <tr> <td style="text-align: left"><a href="#current_timestamp"><code class="language-plaintext highlighter-rouge">current_timestamp</code></a></td> <td style="text-align: left">Returns the current timestamp (at the start of the transaction).</td> </tr> <tr> <td style="text-align: left"><a href="#date_diffpart-startdate-enddate"><code class="language-plaintext highlighter-rouge">date_diff(part, startdate, enddate)</code></a></td> <td style="text-align: left">The number of <a href="datepart.html">partition</a> boundaries between the timestamps.</td> </tr> <tr> <td style="text-align: left"><a href="#date_partpart--timestamp"><code class="language-plaintext highlighter-rouge">date_part([part, ...], timestamp)</code></a></td> <td style="text-align: left">Get the listed <a href="datepart.html">subfields</a> as a <code class="language-plaintext highlighter-rouge">struct</code>. The list must be constant.</td> </tr> <tr> <td style="text-align: left"><a href="#date_partpart-timestamp"><code class="language-plaintext highlighter-rouge">date_part(part, timestamp)</code></a></td> <td style="text-align: left">Get <a href="datepart.html">subfield</a> (equivalent to <code class="language-plaintext highlighter-rouge">extract</code>).</td> </tr> <tr> <td style="text-align: left"><a href="#date_subpart-startdate-enddate"><code class="language-plaintext highlighter-rouge">date_sub(part, startdate, enddate)</code></a></td> <td style="text-align: left">The number of complete <a href="datepart.html">partitions</a> between the timestamps.</td> </tr> <tr> <td style="text-align: left"><a href="#date_truncpart-timestamp"><code class="language-plaintext highlighter-rouge">date_trunc(part, timestamp)</code></a></td> <td style="text-align: left">Truncate to specified <a href="datepart.html">precision</a>.</td> </tr> <tr> <td style="text-align: left"><a href="#datediffpart-startdate-enddate"><code class="language-plaintext highlighter-rouge">datediff(part, startdate, enddate)</code></a></td> <td style="text-align: left">Alias of <code class="language-plaintext highlighter-rouge">date_diff</code>. The number of <a href="datepart.html">partition</a> boundaries between the timestamps.</td> </tr> <tr> <td style="text-align: left"><a href="#datepartpart--timestamp"><code class="language-plaintext highlighter-rouge">datepart([part, ...], timestamp)</code></a></td> <td style="text-align: left">Alias of <code class="language-plaintext highlighter-rouge">date_part</code>. Get the listed <a href="datepart.html">subfields</a> as a <code class="language-plaintext highlighter-rouge">struct</code>. The list must be constant.</td> </tr> <tr> <td style="text-align: left"><a href="#datepartpart-timestamp"><code class="language-plaintext highlighter-rouge">datepart(part, timestamp)</code></a></td> <td style="text-align: left">Alias of <code class="language-plaintext highlighter-rouge">date_part</code>. Get <a href="datepart.html">subfield</a> (equivalent to <code class="language-plaintext highlighter-rouge">extract</code>).</td> </tr> <tr> <td style="text-align: left"><a href="#datesubpart-startdate-enddate"><code class="language-plaintext highlighter-rouge">datesub(part, startdate, enddate)</code></a></td> <td style="text-align: left">Alias of <code class="language-plaintext highlighter-rouge">date_sub</code>. The number of complete <a href="datepart.html">partitions</a> between the timestamps.</td> </tr> <tr> <td style="text-align: left"><a href="#datetruncpart-timestamp"><code class="language-plaintext highlighter-rouge">datetrunc(part, timestamp)</code></a></td> <td style="text-align: left">Alias of <code class="language-plaintext highlighter-rouge">date_trunc</code>. Truncate to specified <a href="datepart.html">precision</a>.</td> </tr> <tr> <td style="text-align: left"><a href="#daynametimestamp"><code class="language-plaintext highlighter-rouge">dayname(timestamp)</code></a></td> <td style="text-align: left">The (English) name of the weekday.</td> </tr> <tr> <td style="text-align: left"><a href="#epoch_msms"><code class="language-plaintext highlighter-rouge">epoch_ms(ms)</code></a></td> <td style="text-align: left">Converts ms since epoch to a timestamp.</td> </tr> <tr> <td style="text-align: left"><a href="#epoch_mstimestamp"><code class="language-plaintext highlighter-rouge">epoch_ms(timestamp)</code></a></td> <td style="text-align: left">Converts a timestamp to milliseconds since the epoch.</td> </tr> <tr> <td style="text-align: left"><a href="#epoch_mstimestamp"><code class="language-plaintext highlighter-rouge">epoch_ms(timestamp)</code></a></td> <td style="text-align: left">Return the total number of milliseconds since the epoch.</td> </tr> <tr> <td style="text-align: left"><a href="#epoch_nstimestamp"><code class="language-plaintext highlighter-rouge">epoch_ns(timestamp)</code></a></td> <td style="text-align: left">Return the total number of nanoseconds since the epoch.</td> </tr> <tr> <td style="text-align: left"><a href="#epoch_ustimestamp"><code class="language-plaintext highlighter-rouge">epoch_us(timestamp)</code></a></td> <td style="text-align: left">Return the total number of microseconds since the epoch.</td> </tr> <tr> <td style="text-align: left"><a href="#epochtimestamp"><code class="language-plaintext highlighter-rouge">epoch(timestamp)</code></a></td> <td style="text-align: left">Converts a timestamp to seconds since the epoch.</td> </tr> <tr> <td style="text-align: left"><a href="#extractfield-from-timestamp"><code class="language-plaintext highlighter-rouge">extract(field FROM timestamp)</code></a></td> <td style="text-align: left">Get <a href="datepart.html">subfield</a> from a timestamp.</td> </tr> <tr> <td style="text-align: left"><a href="#greatesttimestamp-timestamp"><code class="language-plaintext highlighter-rouge">greatest(timestamp, timestamp)</code></a></td> <td style="text-align: left">The later of two timestamps.</td> </tr> <tr> <td style="text-align: left"><a href="#isfinitetimestamp"><code class="language-plaintext highlighter-rouge">isfinite(timestamp)</code></a></td> <td style="text-align: left">Returns true if the timestamp is finite, false otherwise.</td> </tr> <tr> <td style="text-align: left"><a href="#isinftimestamp"><code class="language-plaintext highlighter-rouge">isinf(timestamp)</code></a></td> <td style="text-align: left">Returns true if the timestamp is infinite, false otherwise.</td> </tr> <tr> <td style="text-align: left"><a href="#last_daytimestamp"><code class="language-plaintext highlighter-rouge">last_day(timestamp)</code></a></td> <td style="text-align: left">The last day of the month.</td> </tr> <tr> <td style="text-align: left"><a href="#leasttimestamp-timestamp"><code class="language-plaintext highlighter-rouge">least(timestamp, timestamp)</code></a></td> <td style="text-align: left">The earlier of two timestamps.</td> </tr> <tr> <td style="text-align: left"><a href="#make_timestampbigint-bigint-bigint-bigint-bigint-double"><code class="language-plaintext highlighter-rouge">make_timestamp(bigint, bigint, bigint, bigint, bigint, double)</code></a></td> <td style="text-align: left">The timestamp for the given parts.</td> </tr> <tr> <td style="text-align: left"><a href="#make_timestampmicroseconds"><code class="language-plaintext highlighter-rouge">make_timestamp(microseconds)</code></a></td> <td style="text-align: left">The timestamp for the given number of µs since the epoch.</td> </tr> <tr> <td style="text-align: left"><a href="#monthnametimestamp"><code class="language-plaintext highlighter-rouge">monthname(timestamp)</code></a></td> <td style="text-align: left">The (English) name of the month.</td> </tr> <tr> <td style="text-align: left"><a href="#strftimetimestamp-format"><code class="language-plaintext highlighter-rouge">strftime(timestamp, format)</code></a></td> <td style="text-align: left">Converts timestamp to string according to the <a href="dateformat.html#format-specifiers.html">format string</a>.</td> </tr> <tr> <td style="text-align: left"><a href="#strptimetext-format-list"><code class="language-plaintext highlighter-rouge">strptime(text, format-list)</code></a></td> <td style="text-align: left">Converts the string <code class="language-plaintext highlighter-rouge">text</code> to timestamp applying the <a href="dateformat.html">format strings</a> in the list until one succeeds. Throws an error on failure. To return <code class="language-plaintext highlighter-rouge">NULL</code> on failure, use <a href="#try_strptimetext-format-list"><code class="language-plaintext highlighter-rouge">try_strptime</code></a>.</td> </tr> <tr> <td style="text-align: left"><a href="#strptimetext-format"><code class="language-plaintext highlighter-rouge">strptime(text, format)</code></a></td> <td style="text-align: left">Converts the string <code class="language-plaintext highlighter-rouge">text</code> to timestamp according to the <a href="dateformat.html#format-specifiers.html">format string</a>. Throws an error on failure. To return <code class="language-plaintext highlighter-rouge">NULL</code> on failure, use <a href="#try_strptimetext-format"><code class="language-plaintext highlighter-rouge">try_strptime</code></a>.</td> </tr> <tr> <td style="text-align: left"><a href="#time_bucketbucket_width-timestamp-offset"><code class="language-plaintext highlighter-rouge">time_bucket(bucket_width, timestamp[, offset])</code></a></td> <td style="text-align: left">Truncate <code class="language-plaintext highlighter-rouge">timestamp</code> by the specified interval <code class="language-plaintext highlighter-rouge">bucket_width</code>. Buckets are offset by <code class="language-plaintext highlighter-rouge">offset</code> interval.</td> </tr> <tr> <td style="text-align: left"><a href="#time_bucketbucket_width-timestamp-origin"><code class="language-plaintext highlighter-rouge">time_bucket(bucket_width, timestamp[, origin])</code></a></td> <td style="text-align: left">Truncate <code class="language-plaintext highlighter-rouge">timestamp</code> by the specified interval <code class="language-plaintext highlighter-rouge">bucket_width</code>. Buckets are aligned relative to <code class="language-plaintext highlighter-rouge">origin</code> timestamp. <code class="language-plaintext highlighter-rouge">origin</code> defaults to 2000-01-03 00:00:00 for buckets that don't include a month or year interval, and to 2000-01-01 00:00:00 for month and year buckets.</td> </tr> <tr> <td style="text-align: left"><a href="#to_timestampdouble"><code class="language-plaintext highlighter-rouge">to_timestamp(double)</code></a></td> <td style="text-align: left">Converts seconds since the epoch to a timestamp with time zone.</td> </tr> <tr> <td style="text-align: left"><a href="#try_strptimetext-format-list"><code class="language-plaintext highlighter-rouge">try_strptime(text, format-list)</code></a></td> <td style="text-align: left">Converts the string <code class="language-plaintext highlighter-rouge">text</code> to timestamp applying the <a href="dateformat.html">format strings</a> in the list until one succeeds. Returns <code class="language-plaintext highlighter-rouge">NULL</code> on failure.</td> </tr> <tr> <td style="text-align: left"><a href="#try_strptimetext-format"><code class="language-plaintext highlighter-rouge">try_strptime(text, format)</code></a></td> <td style="text-align: left">Converts the string <code class="language-plaintext highlighter-rouge">text</code> to timestamp according to the <a href="dateformat.html#format-specifiers.html">format string</a>. Returns <code class="language-plaintext highlighter-rouge">NULL</code> on failure.</td> </tr> </tbody> </table> <p>There are also dedicated extraction functions to get the <a href="datepart.html">subfields</a>.</p> <p>Functions applied to infinite dates will either return the same infinite dates (e.g, <code class="language-plaintext highlighter-rouge">greatest</code>) or <code class="language-plaintext highlighter-rouge">NULL</code> (e.g., <code class="language-plaintext highlighter-rouge">date_part</code>) depending on what “makes sense”. In general, if the function needs to examine the parts of the infinite date, the result will be <code class="language-plaintext highlighter-rouge">NULL</code>.</p> <h4 id="agetimestamp-timestamp"> <a style="text-decoration: none;" href="#agetimestamp-timestamp"><code class="language-plaintext highlighter-rouge">age(timestamp, timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Subtract arguments, resulting in the time difference between the two timestamps.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">age(TIMESTAMP '2001-04-10', TIMESTAMP '1992-09-20')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">8 years 6 months 20 days</code></td> </tr> </tbody> </table> <h4 id="agetimestamp"> <a style="text-decoration: none;" href="#agetimestamp"><code class="language-plaintext highlighter-rouge">age(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Subtract from current_date.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">age(TIMESTAMP '1992-09-20')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">29 years 1 month 27 days 12:39:00.844</code></td> </tr> </tbody> </table> <h4 id="centurytimestamp"> <a style="text-decoration: none;" href="#centurytimestamp"><code class="language-plaintext highlighter-rouge">century(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extracts the century of a timestamp.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">century(TIMESTAMP '1992-03-22')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">20</code></td> </tr> </tbody> </table> <h4 id="current_timestamp"> <a style="text-decoration: none;" href="#current_timestamp"><code class="language-plaintext highlighter-rouge">current_timestamp</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the current timestamp with time zone (at the start of the transaction).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">current_timestamp</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2024-04-16T09:14:36.098Z</code></td> </tr> </tbody> </table> <h4 id="date_diffpart-startdate-enddate"> <a style="text-decoration: none;" href="#date_diffpart-startdate-enddate"><code class="language-plaintext highlighter-rouge">date_diff(part, startdate, enddate)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The number of <a href="datepart.html">partition</a> boundaries between the timestamps.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">date_diff('hour', TIMESTAMP '1992-09-30 23:59:59', TIMESTAMP '1992-10-01 01:58:00')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2</code></td> </tr> </tbody> </table> <h4 id="date_partpart--timestamp"> <a style="text-decoration: none;" href="#date_partpart--timestamp"><code class="language-plaintext highlighter-rouge">date_part([part, ...], timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Get the listed <a href="datepart.html">subfields</a> as a <code class="language-plaintext highlighter-rouge">struct</code>. The list must be constant.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">date_part(['year', 'month', 'day'], TIMESTAMP '1992-09-20 20:38:40')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">{year: 1992, month: 9, day: 20}</code></td> </tr> </tbody> </table> <h4 id="date_partpart-timestamp"> <a style="text-decoration: none;" href="#date_partpart-timestamp"><code class="language-plaintext highlighter-rouge">date_part(part, timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Get <a href="datepart.html">subfield</a> (equivalent to <code class="language-plaintext highlighter-rouge">extract</code>).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">date_part('minute', TIMESTAMP '1992-09-20 20:38:40')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">38</code></td> </tr> </tbody> </table> <h4 id="date_subpart-startdate-enddate"> <a style="text-decoration: none;" href="#date_subpart-startdate-enddate"><code class="language-plaintext highlighter-rouge">date_sub(part, startdate, enddate)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The number of complete <a href="datepart.html">partitions</a> between the timestamps.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">date_sub('hour', TIMESTAMP '1992-09-30 23:59:59', TIMESTAMP '1992-10-01 01:58:00')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1</code></td> </tr> </tbody> </table> <h4 id="date_truncpart-timestamp"> <a style="text-decoration: none;" href="#date_truncpart-timestamp"><code class="language-plaintext highlighter-rouge">date_trunc(part, timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Truncate to specified <a href="datepart.html">precision</a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">date_trunc('hour', TIMESTAMP '1992-09-20 20:38:40')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-09-20 20:00:00</code></td> </tr> </tbody> </table> <h4 id="datediffpart-startdate-enddate"> <a style="text-decoration: none;" href="#datediffpart-startdate-enddate"><code class="language-plaintext highlighter-rouge">datediff(part, startdate, enddate)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Alias of <code class="language-plaintext highlighter-rouge">date_diff</code>. The number of <a href="datepart.html">partition</a> boundaries between the timestamps.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">datediff('hour', TIMESTAMP '1992-09-30 23:59:59', TIMESTAMP '1992-10-01 01:58:00')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2</code></td> </tr> </tbody> </table> <h4 id="datepartpart--timestamp"> <a style="text-decoration: none;" href="#datepartpart--timestamp"><code class="language-plaintext highlighter-rouge">datepart([part, ...], timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Alias of <code class="language-plaintext highlighter-rouge">date_part</code>. Get the listed <a href="datepart.html">subfields</a> as a <code class="language-plaintext highlighter-rouge">struct</code>. The list must be constant.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">datepart(['year', 'month', 'day'], TIMESTAMP '1992-09-20 20:38:40')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">{year: 1992, month: 9, day: 20}</code></td> </tr> </tbody> </table> <h4 id="datepartpart-timestamp"> <a style="text-decoration: none;" href="#datepartpart-timestamp"><code class="language-plaintext highlighter-rouge">datepart(part, timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Alias of <code class="language-plaintext highlighter-rouge">date_part</code>. Get <a href="datepart.html">subfield</a> (equivalent to <code class="language-plaintext highlighter-rouge">extract</code>).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">datepart('minute', TIMESTAMP '1992-09-20 20:38:40')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">38</code></td> </tr> </tbody> </table> <h4 id="datesubpart-startdate-enddate"> <a style="text-decoration: none;" href="#datesubpart-startdate-enddate"><code class="language-plaintext highlighter-rouge">datesub(part, startdate, enddate)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Alias of <code class="language-plaintext highlighter-rouge">date_sub</code>. The number of complete <a href="datepart.html">partitions</a> between the timestamps.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">datesub('hour', TIMESTAMP '1992-09-30 23:59:59', TIMESTAMP '1992-10-01 01:58:00')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1</code></td> </tr> </tbody> </table> <h4 id="datetruncpart-timestamp"> <a style="text-decoration: none;" href="#datetruncpart-timestamp"><code class="language-plaintext highlighter-rouge">datetrunc(part, timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Alias of <code class="language-plaintext highlighter-rouge">date_trunc</code>. Truncate to specified <a href="datepart.html">precision</a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">datetrunc('hour', TIMESTAMP '1992-09-20 20:38:40')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-09-20 20:00:00</code></td> </tr> </tbody> </table> <h4 id="daynametimestamp"> <a style="text-decoration: none;" href="#daynametimestamp"><code class="language-plaintext highlighter-rouge">dayname(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The (English) name of the weekday.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">dayname(TIMESTAMP '1992-03-22')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">Sunday</code></td> </tr> </tbody> </table> <h4 id="epoch_msms"> <a style="text-decoration: none;" href="#epoch_msms"><code class="language-plaintext highlighter-rouge">epoch_ms(ms)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Converts ms since epoch to a timestamp.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">epoch_ms(701222400000)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-03-22 00:00:00</code></td> </tr> </tbody> </table> <h4 id="epoch_mstimestamp"> <a style="text-decoration: none;" href="#epoch_mstimestamp"><code class="language-plaintext highlighter-rouge">epoch_ms(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Converts a timestamp to milliseconds since the epoch.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">epoch_ms('2022-11-07 08:43:04.123456'::TIMESTAMP);</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1667810584123</code></td> </tr> </tbody> </table> <h4 id="epoch_mstimestamp-1"> <a style="text-decoration: none;" href="#epoch_mstimestamp-1"><code class="language-plaintext highlighter-rouge">epoch_ms(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the total number of milliseconds since the epoch.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">epoch_ms(timestamp '2021-08-03 11:59:44.123456')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1627991984123</code></td> </tr> </tbody> </table> <h4 id="epoch_nstimestamp"> <a style="text-decoration: none;" href="#epoch_nstimestamp"><code class="language-plaintext highlighter-rouge">epoch_ns(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the total number of nanoseconds since the epoch.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">epoch_ns(timestamp '2021-08-03 11:59:44.123456')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1627991984123456000</code></td> </tr> </tbody> </table> <h4 id="epoch_ustimestamp"> <a style="text-decoration: none;" href="#epoch_ustimestamp"><code class="language-plaintext highlighter-rouge">epoch_us(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the total number of microseconds since the epoch.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">epoch_us(timestamp '2021-08-03 11:59:44.123456')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1627991984123456</code></td> </tr> </tbody> </table> <h4 id="epochtimestamp"> <a style="text-decoration: none;" href="#epochtimestamp"><code class="language-plaintext highlighter-rouge">epoch(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Converts a timestamp to seconds since the epoch.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">epoch('2022-11-07 08:43:04'::TIMESTAMP);</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1667810584</code></td> </tr> </tbody> </table> <h4 id="extractfield-from-timestamp"> <a style="text-decoration: none;" href="#extractfield-from-timestamp"><code class="language-plaintext highlighter-rouge">extract(field FROM timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Get <a href="datepart.html">subfield</a> from a timestamp.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">extract('hour' FROM TIMESTAMP '1992-09-20 20:38:48')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">20</code></td> </tr> </tbody> </table> <h4 id="greatesttimestamp-timestamp"> <a style="text-decoration: none;" href="#greatesttimestamp-timestamp"><code class="language-plaintext highlighter-rouge">greatest(timestamp, timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The later of two timestamps.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">greatest(TIMESTAMP '1992-09-20 20:38:48', TIMESTAMP '1992-03-22 01:02:03.1234')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-09-20 20:38:48</code></td> </tr> </tbody> </table> <h4 id="isfinitetimestamp"> <a style="text-decoration: none;" href="#isfinitetimestamp"><code class="language-plaintext highlighter-rouge">isfinite(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns true if the timestamp is finite, false otherwise.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">isfinite(TIMESTAMP '1992-03-07')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> </tbody> </table> <h4 id="isinftimestamp"> <a style="text-decoration: none;" href="#isinftimestamp"><code class="language-plaintext highlighter-rouge">isinf(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns true if the timestamp is infinite, false otherwise.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">isinf(TIMESTAMP '-infinity')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> </tbody> </table> <h4 id="last_daytimestamp"> <a style="text-decoration: none;" href="#last_daytimestamp"><code class="language-plaintext highlighter-rouge">last_day(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The last day of the month.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">last_day(TIMESTAMP '1992-03-22 01:02:03.1234')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-03-31</code></td> </tr> </tbody> </table> <h4 id="leasttimestamp-timestamp"> <a style="text-decoration: none;" href="#leasttimestamp-timestamp"><code class="language-plaintext highlighter-rouge">least(timestamp, timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The earlier of two timestamps.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">least(TIMESTAMP '1992-09-20 20:38:48', TIMESTAMP '1992-03-22 01:02:03.1234')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-03-22 01:02:03.1234</code></td> </tr> </tbody> </table> <h4 id="make_timestampbigint-bigint-bigint-bigint-bigint-double"> <a style="text-decoration: none;" href="#make_timestampbigint-bigint-bigint-bigint-bigint-double"><code class="language-plaintext highlighter-rouge">make_timestamp(bigint, bigint, bigint, bigint, bigint, double)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The timestamp for the given parts.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">make_timestamp(1992, 9, 20, 13, 34, 27.123456)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-09-20 13:34:27.123456</code></td> </tr> </tbody> </table> <h4 id="make_timestampmicroseconds"> <a style="text-decoration: none;" href="#make_timestampmicroseconds"><code class="language-plaintext highlighter-rouge">make_timestamp(microseconds)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The timestamp for the given number of µs since the epoch.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">make_timestamp(1667810584123456)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2022-11-07 08:43:04.123456</code></td> </tr> </tbody> </table> <h4 id="monthnametimestamp"> <a style="text-decoration: none;" href="#monthnametimestamp"><code class="language-plaintext highlighter-rouge">monthname(timestamp)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The (English) name of the month.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">monthname(TIMESTAMP '1992-09-20')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">September</code></td> </tr> </tbody> </table> <h4 id="strftimetimestamp-format"> <a style="text-decoration: none;" href="#strftimetimestamp-format"><code class="language-plaintext highlighter-rouge">strftime(timestamp, format)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Converts timestamp to string according to the <a href="dateformat.html#format-specifiers.html">format string</a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">strftime(timestamp '1992-01-01 20:38:40', '%a, %-d %B %Y - %I:%M:%S %p')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">Wed, 1 January 1992 - 08:38:40 PM</code></td> </tr> </tbody> </table> <h4 id="strptimetext-format-list"> <a style="text-decoration: none;" href="#strptimetext-format-list"><code class="language-plaintext highlighter-rouge">strptime(text, format-list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Converts the string <code class="language-plaintext highlighter-rouge">text</code> to timestamp applying the <a href="dateformat.html">format strings</a> in the list until one succeeds. Throws an error on failure. To return <code class="language-plaintext highlighter-rouge">NULL</code> on failure, use <a href="#try_strptimetext-format-list"><code class="language-plaintext highlighter-rouge">try_strptime</code></a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">strptime('4/15/2023 10:56:00', ['%d/%m/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S'])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2023-04-15 10:56:00</code></td> </tr> </tbody> </table> <h4 id="strptimetext-format"> <a style="text-decoration: none;" href="#strptimetext-format"><code class="language-plaintext highlighter-rouge">strptime(text, format)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Converts the string <code class="language-plaintext highlighter-rouge">text</code> to timestamp according to the <a href="dateformat.html#format-specifiers.html">format string</a>. Throws an error on failure. To return <code class="language-plaintext highlighter-rouge">NULL</code> on failure, use <a href="#try_strptimetext-format"><code class="language-plaintext highlighter-rouge">try_strptime</code></a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">strptime('Wed, 1 January 1992 - 08:38:40 PM', '%a, %-d %B %Y - %I:%M:%S %p')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-01-01 20:38:40</code></td> </tr> </tbody> </table> <h4 id="time_bucketbucket_width-timestamp-offset"> <a style="text-decoration: none;" href="#time_bucketbucket_width-timestamp-offset"><code class="language-plaintext highlighter-rouge">time_bucket(bucket_width, timestamp[, offset])</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Truncate <code class="language-plaintext highlighter-rouge">timestamp</code> by the specified interval <code class="language-plaintext highlighter-rouge">bucket_width</code>. Buckets are offset by <code class="language-plaintext highlighter-rouge">offset</code> interval.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">time_bucket(INTERVAL '10 minutes', TIMESTAMP '1992-04-20 15:26:00-07', INTERVAL '5 minutes')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-04-20 15:25:00</code></td> </tr> </tbody> </table> <h4 id="time_bucketbucket_width-timestamp-origin"> <a style="text-decoration: none;" href="#time_bucketbucket_width-timestamp-origin"><code class="language-plaintext highlighter-rouge">time_bucket(bucket_width, timestamp[, origin])</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Truncate <code class="language-plaintext highlighter-rouge">timestamp</code> by the specified interval <code class="language-plaintext highlighter-rouge">bucket_width</code>. Buckets are aligned relative to <code class="language-plaintext highlighter-rouge">origin</code> timestamp. <code class="language-plaintext highlighter-rouge">origin</code> defaults to 2000-01-03 00:00:00 for buckets that don't include a month or year interval, and to 2000-01-01 00:00:00 for month and year buckets.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">time_bucket(INTERVAL '2 weeks', TIMESTAMP '1992-04-20 15:26:00', TIMESTAMP '1992-04-01 00:00:00')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-04-15 00:00:00</code></td> </tr> </tbody> </table> <h4 id="to_timestampdouble"> <a style="text-decoration: none;" href="#to_timestampdouble"><code class="language-plaintext highlighter-rouge">to_timestamp(double)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Converts seconds since the epoch to a timestamp with time zone.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">to_timestamp(1284352323.5)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2010-09-13 04:32:03.5+00</code></td> </tr> </tbody> </table> <h4 id="try_strptimetext-format-list"> <a style="text-decoration: none;" href="#try_strptimetext-format-list"><code class="language-plaintext highlighter-rouge">try_strptime(text, format-list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Converts the string <code class="language-plaintext highlighter-rouge">text</code> to timestamp applying the <a href="dateformat.html">format strings</a> in the list until one succeeds. Returns <code class="language-plaintext highlighter-rouge">NULL</code> on failure.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">try_strptime('4/15/2023 10:56:00', ['%d/%m/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S'])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2023-04-15 10:56:00</code></td> </tr> </tbody> </table> <h4 id="try_strptimetext-format"> <a style="text-decoration: none;" href="#try_strptimetext-format"><code class="language-plaintext highlighter-rouge">try_strptime(text, format)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Converts the string <code class="language-plaintext highlighter-rouge">text</code> to timestamp according to the <a href="dateformat.html#format-specifiers.html">format string</a>. Returns <code class="language-plaintext highlighter-rouge">NULL</code> on failure.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">try_strptime('Wed, 1 January 1992 - 08:38:40 PM', '%a, %-d %B %Y - %I:%M:%S %p')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1992-01-01 20:38:40</code></td> </tr> </tbody> </table> <h2 id="timestamp-table-functions"> <a style="text-decoration: none;" href="#timestamp-table-functions">Timestamp Table Functions</a> </h2> <p>The table below shows the available table functions for <code class="language-plaintext highlighter-rouge">TIMESTAMP</code> types.</p> <table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><a href="#generate_seriestimestamp-timestamp-interval"><code class="language-plaintext highlighter-rouge">generate_series(timestamp, timestamp, interval)</code></a></td> <td style="text-align: left">Generate a table of timestamps in the closed range, stepping by the interval.</td> </tr> <tr> <td style="text-align: left"><a href="#rangetimestamp-timestamp-interval"><code class="language-plaintext highlighter-rouge">range(timestamp, timestamp, interval)</code></a></td> <td style="text-align: left">Generate a table of timestamps in the half open range, stepping by the interval.</td> </tr> </tbody> </table> <blockquote> <p>Infinite values are not allowed as table function bounds.</p> </blockquote> <h4 id="generate_seriestimestamp-timestamp-interval"> <a style="text-decoration: none;" href="#generate_seriestimestamp-timestamp-interval"><code class="language-plaintext highlighter-rouge">generate_series(timestamp, timestamp, interval)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Generate a table of timestamps in the closed range, stepping by the interval.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">generate_series(TIMESTAMP '2001-04-10', TIMESTAMP '2001-04-11', INTERVAL 30 MINUTE)</code></td> </tr> </tbody> </table> <h4 id="rangetimestamp-timestamp-interval"> <a style="text-decoration: none;" href="#rangetimestamp-timestamp-interval"><code class="language-plaintext highlighter-rouge">range(timestamp, timestamp, interval)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Generate a table of timestamps in the half open range, stepping by the interval.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">range(TIMESTAMP '2001-04-10', TIMESTAMP '2001-04-11', INTERVAL 30 MINUTE)</code></td> </tr> </tbody> </table><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/functions/timestamp.html" class="_attribution-link">https://duckdb.org/docs/sql/functions/timestamp.html</a>
  </p>
</div>
