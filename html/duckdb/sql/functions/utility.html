<h1 class="title">Utility Functions</h1>   <h2 id="scalar-utility-functions"> <a style="text-decoration: none;" href="#scalar-utility-functions">Scalar Utility Functions</a> </h2> <p>The functions below are difficult to categorize into specific function types and are broadly useful.</p> <table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><a href="#aliascolumn"><code class="language-plaintext highlighter-rouge">alias(column)</code></a></td> <td style="text-align: left">Return the name of the column.</td> </tr> <tr> <td style="text-align: left"><a href="#checkpointdatabase"><code class="language-plaintext highlighter-rouge">checkpoint(database)</code></a></td> <td style="text-align: left">Synchronize WAL with file for (optional) database without interrupting transactions.</td> </tr> <tr> <td style="text-align: left"><a href="#coalesceexpr-"><code class="language-plaintext highlighter-rouge">coalesce(expr, ...)</code></a></td> <td style="text-align: left">Return the first expression that evaluates to a non-<code class="language-plaintext highlighter-rouge">NULL</code> value. Accepts 1 or more parameters. Each expression can be a column, literal value, function result, or many others.</td> </tr> <tr> <td style="text-align: left"><a href="#constant_or_nullarg1-arg2"><code class="language-plaintext highlighter-rouge">constant_or_null(arg1, arg2)</code></a></td> <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">arg2</code> is <code class="language-plaintext highlighter-rouge">NULL</code>, return <code class="language-plaintext highlighter-rouge">NULL</code>. Otherwise, return <code class="language-plaintext highlighter-rouge">arg1</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#count_ifx"><code class="language-plaintext highlighter-rouge">count_if(x)</code></a></td> <td style="text-align: left">Returns 1 if <code class="language-plaintext highlighter-rouge">x</code> is <code class="language-plaintext highlighter-rouge">true</code> or a non-zero number.</td> </tr> <tr> <td style="text-align: left"><a href="#current_catalog"><code class="language-plaintext highlighter-rouge">current_catalog()</code></a></td> <td style="text-align: left">Return the name of the currently active catalog. Default is memory.</td> </tr> <tr> <td style="text-align: left"><a href="#current_schema"><code class="language-plaintext highlighter-rouge">current_schema()</code></a></td> <td style="text-align: left">Return the name of the currently active schema. Default is main.</td> </tr> <tr> <td style="text-align: left"><a href="#current_schemasboolean"><code class="language-plaintext highlighter-rouge">current_schemas(boolean)</code></a></td> <td style="text-align: left">Return list of schemas. Pass a parameter of <code class="language-plaintext highlighter-rouge">true</code> to include implicit schemas.</td> </tr> <tr> <td style="text-align: left"><a href="#current_settingsetting_name"><code class="language-plaintext highlighter-rouge">current_setting('setting_name')</code></a></td> <td style="text-align: left">Return the current value of the configuration setting.</td> </tr> <tr> <td style="text-align: left"><a href="#currvalsequence_name"><code class="language-plaintext highlighter-rouge">currval('sequence_name')</code></a></td> <td style="text-align: left">Return the current value of the sequence. Note that <code class="language-plaintext highlighter-rouge">nextval</code> must be called at least once prior to calling <code class="language-plaintext highlighter-rouge">currval</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#errormessage"><code class="language-plaintext highlighter-rouge">error(message)</code></a></td> <td style="text-align: left">Throws the given error <code class="language-plaintext highlighter-rouge">message</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#force_checkpointdatabase"><code class="language-plaintext highlighter-rouge">force_checkpoint(database)</code></a></td> <td style="text-align: left">Synchronize WAL with file for (optional) database interrupting transactions.</td> </tr> <tr> <td style="text-align: left"><a href="#gen_random_uuid"><code class="language-plaintext highlighter-rouge">gen_random_uuid()</code></a></td> <td style="text-align: left">Alias of <code class="language-plaintext highlighter-rouge">uuid</code>. Return a random UUID similar to this: <code class="language-plaintext highlighter-rouge">eeccb8c5-9943-b2bb-bb5e-222f4e14b687</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#getenvvar"><code class="language-plaintext highlighter-rouge">getenv(var)</code></a></td> <td style="text-align: left">Returns the value of the environment variable <code class="language-plaintext highlighter-rouge">var</code>. Only available in the <a href="../../api/cli/overview.html">command line client</a>.</td> </tr> <tr> <td style="text-align: left"><a href="#hashvalue"><code class="language-plaintext highlighter-rouge">hash(value)</code></a></td> <td style="text-align: left">Returns a <code class="language-plaintext highlighter-rouge">UBIGINT</code> with the hash of the <code class="language-plaintext highlighter-rouge">value</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#icu_sort_keystring-collator"><code class="language-plaintext highlighter-rouge">icu_sort_key(string, collator)</code></a></td> <td style="text-align: left">Surrogate key used to sort special characters according to the specific locale. Collator parameter is optional. Valid only when ICU extension is installed.</td> </tr> <tr> <td style="text-align: left"><a href="#ifa-b-c"><code class="language-plaintext highlighter-rouge">if(a, b, c)</code></a></td> <td style="text-align: left">Ternary conditional operator.</td> </tr> <tr> <td style="text-align: left"><a href="#ifnullexpr-other"><code class="language-plaintext highlighter-rouge">ifnull(expr, other)</code></a></td> <td style="text-align: left">A two-argument version of coalesce.</td> </tr> <tr> <td style="text-align: left"><a href="#md5string"><code class="language-plaintext highlighter-rouge">md5(string)</code></a></td> <td style="text-align: left">Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">VARCHAR</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#md5_numberstring"><code class="language-plaintext highlighter-rouge">md5_number(string)</code></a></td> <td style="text-align: left">Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">HUGEINT</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#md5_number_lowerstring"><code class="language-plaintext highlighter-rouge">md5_number_lower(string)</code></a></td> <td style="text-align: left">Returns the lower 64-bit segment of the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">BIGINT</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#md5_number_higherstring"><code class="language-plaintext highlighter-rouge">md5_number_higher(string)</code></a></td> <td style="text-align: left">Returns the higher 64-bit segment of the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">BIGINT</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#nextvalsequence_name"><code class="language-plaintext highlighter-rouge">nextval('sequence_name')</code></a></td> <td style="text-align: left">Return the following value of the sequence.</td> </tr> <tr> <td style="text-align: left"><a href="#nullifa-b"><code class="language-plaintext highlighter-rouge">nullif(a, b)</code></a></td> <td style="text-align: left">Return <code class="language-plaintext highlighter-rouge">NULL</code> if <code class="language-plaintext highlighter-rouge">a = b</code>, else return <code class="language-plaintext highlighter-rouge">a</code>. Equivalent to <code class="language-plaintext highlighter-rouge">CASE WHEN a = b THEN NULL ELSE a END</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#pg_typeofexpression"><code class="language-plaintext highlighter-rouge">pg_typeof(expression)</code></a></td> <td style="text-align: left">Returns the lower case name of the data type of the result of the expression. For PostgreSQL compatibility.</td> </tr> <tr> <td style="text-align: left"><a href="#queryquery_string_literal"><code class="language-plaintext highlighter-rouge">query(</code><em><code class="language-plaintext highlighter-rouge">query_string_literal</code></em><code class="language-plaintext highlighter-rouge">)</code></a></td> <td style="text-align: left">Table function that parses and executes the query defined in <em><code class="language-plaintext highlighter-rouge">query_string_literal</code></em>. Only literal strings are allowed. Warning: this function allows invoking arbitrary queries, potentially altering the database state.</td> </tr> <tr> <td style="text-align: left"><a href="#query_tabletbl_name"><code class="language-plaintext highlighter-rouge">query_table(</code><em><code class="language-plaintext highlighter-rouge">tbl_name</code></em><code class="language-plaintext highlighter-rouge">)</code></a></td> <td style="text-align: left">Table function that returns the table given in <em><code class="language-plaintext highlighter-rouge">tbl_name</code></em>.</td> </tr> <tr> <td style="text-align: left"><a href="#query_tabletbl_names-by_name"><code class="language-plaintext highlighter-rouge">query_table(</code><em><code class="language-plaintext highlighter-rouge">tbl_names</code></em><code class="language-plaintext highlighter-rouge">, [</code><em><code class="language-plaintext highlighter-rouge">by_name</code></em><code class="language-plaintext highlighter-rouge">])</code></a></td> <td style="text-align: left">Table function that returns the union of tables given in <em><code class="language-plaintext highlighter-rouge">tbl_names</code></em>. If the optional <em><code class="language-plaintext highlighter-rouge">by_name</code></em> parameter is set to <code class="language-plaintext highlighter-rouge">true</code>, it uses <a href="../query_syntax/setops.html#union-all-by-name"><code class="language-plaintext highlighter-rouge">UNION ALL BY NAME</code></a> semantics.</td> </tr> <tr> <td style="text-align: left"><a href="#read_blobsource"><code class="language-plaintext highlighter-rouge">read_blob(source)</code></a></td> <td style="text-align: left">Returns the content from <code class="language-plaintext highlighter-rouge">source</code> (a filename, a list of filenames, or a glob pattern) as a <code class="language-plaintext highlighter-rouge">BLOB</code>. See the <a href="../../guides/file_formats/read_file.html#read_blob.html"><code class="language-plaintext highlighter-rouge">read_blob</code> guide</a> for more details.</td> </tr> <tr> <td style="text-align: left"><a href="#read_textsource"><code class="language-plaintext highlighter-rouge">read_text(source)</code></a></td> <td style="text-align: left">Returns the content from <code class="language-plaintext highlighter-rouge">source</code> (a filename, a list of filenames, or a glob pattern) as a <code class="language-plaintext highlighter-rouge">VARCHAR</code>. The file content is first validated to be valid UTF-8. If <code class="language-plaintext highlighter-rouge">read_text</code> attempts to read a file with invalid UTF-8 an error is thrown suggesting to use <code class="language-plaintext highlighter-rouge">read_blob</code> instead. See the <a href="../../guides/file_formats/read_file.html#read_text.html"><code class="language-plaintext highlighter-rouge">read_text</code> guide</a> for more details.</td> </tr> <tr> <td style="text-align: left"><a href="#sha256value"><code class="language-plaintext highlighter-rouge">sha256(value)</code></a></td> <td style="text-align: left">Returns a <code class="language-plaintext highlighter-rouge">VARCHAR</code> with the SHA-256 hash of the <code class="language-plaintext highlighter-rouge">value</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#statsexpression"><code class="language-plaintext highlighter-rouge">stats(expression)</code></a></td> <td style="text-align: left">Returns a string with statistics about the expression. Expression can be a column, constant, or SQL expression.</td> </tr> <tr> <td style="text-align: left"><a href="#txid_current"><code class="language-plaintext highlighter-rouge">txid_current()</code></a></td> <td style="text-align: left">Returns the current transaction's identifier, a <code class="language-plaintext highlighter-rouge">BIGINT</code> value. It will assign a new one if the current transaction does not have one already.</td> </tr> <tr> <td style="text-align: left"><a href="#typeofexpression"><code class="language-plaintext highlighter-rouge">typeof(expression)</code></a></td> <td style="text-align: left">Returns the name of the data type of the result of the expression.</td> </tr> <tr> <td style="text-align: left"><a href="#uuid"><code class="language-plaintext highlighter-rouge">uuid()</code></a></td> <td style="text-align: left">Return a random UUID similar to this: <code class="language-plaintext highlighter-rouge">eeccb8c5-9943-b2bb-bb5e-222f4e14b687</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#version"><code class="language-plaintext highlighter-rouge">version()</code></a></td> <td style="text-align: left">Return the currently active version of DuckDB in this format.</td> </tr> </tbody> </table> <h4 id="aliascolumn"> <a style="text-decoration: none;" href="#aliascolumn"><code class="language-plaintext highlighter-rouge">alias(column)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the name of the column.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">alias(column1)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">column1</code></td> </tr> </tbody> </table> <h4 id="checkpointdatabase"> <a style="text-decoration: none;" href="#checkpointdatabase"><code class="language-plaintext highlighter-rouge">checkpoint(database)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Synchronize WAL with file for (optional) database without interrupting transactions.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">checkpoint(my_db)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>success Boolean</td> </tr> </tbody> </table> <h4 id="coalesceexpr-"> <a style="text-decoration: none;" href="#coalesceexpr-"><code class="language-plaintext highlighter-rouge">coalesce(expr, ...)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the first expression that evaluates to a non-<code class="language-plaintext highlighter-rouge">NULL</code> value. Accepts 1 or more parameters. Each expression can be a column, literal value, function result, or many others.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">coalesce(NULL, NULL, 'default_string')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">default_string</code></td> </tr> </tbody> </table> <h4 id="constant_or_nullarg1-arg2"> <a style="text-decoration: none;" href="#constant_or_nullarg1-arg2"><code class="language-plaintext highlighter-rouge">constant_or_null(arg1, arg2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>If <code class="language-plaintext highlighter-rouge">arg2</code> is <code class="language-plaintext highlighter-rouge">NULL</code>, return <code class="language-plaintext highlighter-rouge">NULL</code>. Otherwise, return <code class="language-plaintext highlighter-rouge">arg1</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">constant_or_null(42, NULL)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">NULL</code></td> </tr> </tbody> </table> <h4 id="count_ifx"> <a style="text-decoration: none;" href="#count_ifx"><code class="language-plaintext highlighter-rouge">count_if(x)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns 1 if <code class="language-plaintext highlighter-rouge">x</code> is <code class="language-plaintext highlighter-rouge">true</code> or a non-zero number.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">count_if(42)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>1</td> </tr> </tbody> </table> <h4 id="current_catalog"> <a style="text-decoration: none;" href="#current_catalog"><code class="language-plaintext highlighter-rouge">current_catalog()</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the name of the currently active catalog. Default is memory.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">current_catalog()</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">memory</code></td> </tr> </tbody> </table> <h4 id="current_schema"> <a style="text-decoration: none;" href="#current_schema"><code class="language-plaintext highlighter-rouge">current_schema()</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the name of the currently active schema. Default is main.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">current_schema()</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">main</code></td> </tr> </tbody> </table> <h4 id="current_schemasboolean"> <a style="text-decoration: none;" href="#current_schemasboolean"><code class="language-plaintext highlighter-rouge">current_schemas(boolean)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return list of schemas. Pass a parameter of <code class="language-plaintext highlighter-rouge">true</code> to include implicit schemas.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">current_schemas(true)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">['temp', 'main', 'pg_catalog']</code></td> </tr> </tbody> </table> <h4 id="current_settingsetting_name"> <a style="text-decoration: none;" href="#current_settingsetting_name"><code class="language-plaintext highlighter-rouge">current_setting('setting_name')</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the current value of the configuration setting.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">current_setting('access_mode')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">automatic</code></td> </tr> </tbody> </table> <h4 id="currvalsequence_name"> <a style="text-decoration: none;" href="#currvalsequence_name"><code class="language-plaintext highlighter-rouge">currval('sequence_name')</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the current value of the sequence. Note that <code class="language-plaintext highlighter-rouge">nextval</code> must be called at least once prior to calling <code class="language-plaintext highlighter-rouge">currval</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">currval('my_sequence_name')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1</code></td> </tr> </tbody> </table> <h4 id="errormessage"> <a style="text-decoration: none;" href="#errormessage"><code class="language-plaintext highlighter-rouge">error(message)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Throws the given error <code class="language-plaintext highlighter-rouge">message</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">error('access_mode')</code></td> </tr> </tbody> </table> <h4 id="force_checkpointdatabase"> <a style="text-decoration: none;" href="#force_checkpointdatabase"><code class="language-plaintext highlighter-rouge">force_checkpoint(database)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Synchronize WAL with file for (optional) database interrupting transactions.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">force_checkpoint(my_db)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>success Boolean</td> </tr> </tbody> </table> <h4 id="gen_random_uuid"> <a style="text-decoration: none;" href="#gen_random_uuid"><code class="language-plaintext highlighter-rouge">gen_random_uuid()</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Alias of <code class="language-plaintext highlighter-rouge">uuid</code>. Return a random UUID similar to this: <code class="language-plaintext highlighter-rouge">eeccb8c5-9943-b2bb-bb5e-222f4e14b687</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">gen_random_uuid()</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>various</td> </tr> </tbody> </table> <h4 id="getenvvar"> <a style="text-decoration: none;" href="#getenvvar"><code class="language-plaintext highlighter-rouge">getenv(var)</code></a> </h4> <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the value of the environment variable <code class="language-plaintext highlighter-rouge">var</code>. Only available in the <a href="../../api/cli/overview.html">command line client</a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">getenv('HOME')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">/path/to/user/home</code></td> </tr> </tbody> </table> <h4 id="hashvalue"> <a style="text-decoration: none;" href="#hashvalue"><code class="language-plaintext highlighter-rouge">hash(value)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a <code class="language-plaintext highlighter-rouge">UBIGINT</code> with the hash of the <code class="language-plaintext highlighter-rouge">value</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">hash('ðŸ¦†')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2595805878642663834</code></td> </tr> </tbody> </table> <h4 id="icu_sort_keystring-collator"> <a style="text-decoration: none;" href="#icu_sort_keystring-collator"><code class="language-plaintext highlighter-rouge">icu_sort_key(string, collator)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Surrogate key used to sort special characters according to the specific locale. Collator parameter is optional. Valid only when ICU extension is installed.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">icu_sort_key('Ã¶', 'DE')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">460145960106</code></td> </tr> </tbody> </table> <h4 id="ifa-b-c"> <a style="text-decoration: none;" href="#ifa-b-c"><code class="language-plaintext highlighter-rouge">if(a, b, c)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Ternary conditional operator; returns b if a, else returns c. Equivalent to <code class="language-plaintext highlighter-rouge">CASE WHEN a THEN b ELSE c END</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">if(2 &gt; 1, 3, 4)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">3</code></td> </tr> </tbody> </table> <h4 id="ifnullexpr-other"> <a style="text-decoration: none;" href="#ifnullexpr-other"><code class="language-plaintext highlighter-rouge">ifnull(expr, other)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>A two-argument version of coalesce.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">ifnull(NULL, 'default_string')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">default_string</code></td> </tr> </tbody> </table> <h4 id="md5string"> <a style="text-decoration: none;" href="#md5string"><code class="language-plaintext highlighter-rouge">md5(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">VARCHAR</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">md5('123')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">202cb962ac59075b964b07152d234b70</code></td> </tr> </tbody> </table> <h4 id="md5_numberstring"> <a style="text-decoration: none;" href="#md5_numberstring"><code class="language-plaintext highlighter-rouge">md5_number(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">HUGEINT</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">md5_number('123')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">149263671248412135425768892945843956768</code></td> </tr> </tbody> </table> <h4 id="md5_number_lowerstring"> <a style="text-decoration: none;" href="#md5_number_lowerstring"><code class="language-plaintext highlighter-rouge">md5_number_lower(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">BIGINT</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">md5_number_lower('123')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">8091599832034528150</code></td> </tr> </tbody> </table> <h4 id="md5_number_higherstring"> <a style="text-decoration: none;" href="#md5_number_higherstring"><code class="language-plaintext highlighter-rouge">md5_number_higher(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">BIGINT</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">md5_number_higher('123')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">6559309979213966368</code></td> </tr> </tbody> </table> <h4 id="nextvalsequence_name"> <a style="text-decoration: none;" href="#nextvalsequence_name"><code class="language-plaintext highlighter-rouge">nextval('sequence_name')</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the following value of the sequence.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">nextval('my_sequence_name')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2</code></td> </tr> </tbody> </table> <h4 id="nullifa-b"> <a style="text-decoration: none;" href="#nullifa-b"><code class="language-plaintext highlighter-rouge">nullif(a, b)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return null if a = b, else return a. Equivalent to <code class="language-plaintext highlighter-rouge">CASE WHEN a = b THEN NULL ELSE a END</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">nullif(1+1, 2)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">NULL</code></td> </tr> </tbody> </table> <h4 id="pg_typeofexpression"> <a style="text-decoration: none;" href="#pg_typeofexpression"><code class="language-plaintext highlighter-rouge">pg_typeof(expression)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the lower case name of the data type of the result of the expression. For PostgreSQL compatibility.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">pg_typeof('abc')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">varchar</code></td> </tr> </tbody> </table> <h4 id="queryquery_string_literal"> <a style="text-decoration: none;" href="#queryquery_string_literal"><code class="language-plaintext highlighter-rouge">query(</code><em><code class="language-plaintext highlighter-rouge">query_string_literal</code></em><code class="language-plaintext highlighter-rouge">)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Table function that parses and executes the query defined in <em><code class="language-plaintext highlighter-rouge">query_string_literal</code></em>. Only literal strings are allowed. Warning: this function allows invoking arbitrary queries, potentially altering the database state.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">query('SELECT 42 AS x')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">42</code></td> </tr> </tbody> </table> <h4 id="query_tabletbl_name"> <a style="text-decoration: none;" href="#query_tabletbl_name"><code class="language-plaintext highlighter-rouge">query_table(</code><em><code class="language-plaintext highlighter-rouge">tbl_name</code></em><code class="language-plaintext highlighter-rouge">)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Table function that returns the table given in <em><code class="language-plaintext highlighter-rouge">tbl_name</code></em>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">query(t1)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>(the rows of <code class="language-plaintext highlighter-rouge">t1</code>)</td> </tr> </tbody> </table> <h4 id="query_tabletbl_names-by_name"> <a style="text-decoration: none;" href="#query_tabletbl_names-by_name"><code class="language-plaintext highlighter-rouge">query_table(</code><em><code class="language-plaintext highlighter-rouge">tbl_names</code></em><code class="language-plaintext highlighter-rouge">, [</code><em><code class="language-plaintext highlighter-rouge">by_name</code></em><code class="language-plaintext highlighter-rouge">])</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Table function that returns the union of tables given in <em><code class="language-plaintext highlighter-rouge">tbl_names</code></em>. If the optional <em><code class="language-plaintext highlighter-rouge">by_name</code></em> parameter is set to <code class="language-plaintext highlighter-rouge">true</code>, it uses <a href="../query_syntax/setops.html#union-all-by-name"><code class="language-plaintext highlighter-rouge">UNION ALL BY NAME</code></a> semantics.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">query(['t1', 't2'])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>(the union of the two tables)</td> </tr> </tbody> </table> <h4 id="read_blobsource"> <a style="text-decoration: none;" href="#read_blobsource"><code class="language-plaintext highlighter-rouge">read_blob(source)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the content from <code class="language-plaintext highlighter-rouge">source</code> (a filename, a list of filenames, or a glob pattern) as a <code class="language-plaintext highlighter-rouge">BLOB</code>. See the <a href="../../guides/file_formats/read_file.html#read_blob.html"><code class="language-plaintext highlighter-rouge">read_blob</code> guide</a> for more details.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">read_blob('hello.bin')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">hello\x0A</code></td> </tr> </tbody> </table> <h4 id="read_textsource"> <a style="text-decoration: none;" href="#read_textsource"><code class="language-plaintext highlighter-rouge">read_text(source)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the content from <code class="language-plaintext highlighter-rouge">source</code> (a filename, a list of filenames, or a glob pattern) as a <code class="language-plaintext highlighter-rouge">VARCHAR</code>. The file content is first validated to be valid UTF-8. If <code class="language-plaintext highlighter-rouge">read_text</code> attempts to read a file with invalid UTF-8 an error is thrown suggesting to use <code class="language-plaintext highlighter-rouge">read_blob</code> instead. See the <a href="../../guides/file_formats/read_file.html#read_text.html"><code class="language-plaintext highlighter-rouge">read_text</code> guide</a> for more details.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">read_text('hello.txt')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">hello\n</code></td> </tr> </tbody> </table> <h4 id="sha256value"> <a style="text-decoration: none;" href="#sha256value"><code class="language-plaintext highlighter-rouge">sha256(value)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a <code class="language-plaintext highlighter-rouge">VARCHAR</code> with the SHA-256 hash of the <code class="language-plaintext highlighter-rouge">value</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">sha256('ðŸ¦†')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">d7a5c5e0d1d94c32218539e7e47d4ba9c3c7b77d61332fb60d633dde89e473fb</code></td> </tr> </tbody> </table> <h4 id="statsexpression"> <a style="text-decoration: none;" href="#statsexpression"><code class="language-plaintext highlighter-rouge">stats(expression)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a string with statistics about the expression. Expression can be a column, constant, or SQL expression.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">stats(5)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">'[Min: 5, Max: 5][Has Null: false]'</code></td> </tr> </tbody> </table> <h4 id="txid_current"> <a style="text-decoration: none;" href="#txid_current"><code class="language-plaintext highlighter-rouge">txid_current()</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the current transaction's identifier, a <code class="language-plaintext highlighter-rouge">BIGINT</code> value. It will assign a new one if the current transaction does not have one already.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">txid_current()</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>various</td> </tr> </tbody> </table> <h4 id="typeofexpression"> <a style="text-decoration: none;" href="#typeofexpression"><code class="language-plaintext highlighter-rouge">typeof(expression)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the name of the data type of the result of the expression.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">typeof('abc')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">VARCHAR</code></td> </tr> </tbody> </table> <h4 id="uuid"> <a style="text-decoration: none;" href="#uuid"><code class="language-plaintext highlighter-rouge">uuid()</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return a random UUID similar to this: <code class="language-plaintext highlighter-rouge">eeccb8c5-9943-b2bb-bb5e-222f4e14b687</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">uuid()</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>various</td> </tr> </tbody> </table> <h4 id="version"> <a style="text-decoration: none;" href="#version"><code class="language-plaintext highlighter-rouge">version()</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the currently active version of DuckDB in this format.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">version()</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>various</td> </tr> </tbody> </table> <h2 id="utility-table-functions"> <a style="text-decoration: none;" href="#utility-table-functions">Utility Table Functions</a> </h2> <p>A table function is used in place of a table in a <code class="language-plaintext highlighter-rouge">FROM</code> clause.</p>  <table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><a href="#globsearch_path"><code class="language-plaintext highlighter-rouge">glob(search_path)</code></a></td> <td style="text-align: left">Return filenames found at the location indicated by the <em>search_path</em> in a single column named <code class="language-plaintext highlighter-rouge">file</code>. The <em>search_path</em> may contain <a href="pattern_matching.html">glob pattern matching syntax</a>.</td> </tr> <tr> <td style="text-align: left"><a href="#repeat_rowvarargs-num_rows"><code class="language-plaintext highlighter-rouge">repeat_row(varargs, num_rows)</code></a></td> <td style="text-align: left">Returns a table with <code class="language-plaintext highlighter-rouge">num_rows</code> rows, each containing the fields defined in <code class="language-plaintext highlighter-rouge">varargs</code>.</td> </tr> </tbody> </table> <h4 id="globsearch_path"> <a style="text-decoration: none;" href="#globsearch_path"><code class="language-plaintext highlighter-rouge">glob(search_path)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return filenames found at the location indicated by the <em>search_path</em> in a single column named <code class="language-plaintext highlighter-rouge">file</code>. The <em>search_path</em> may contain <a href="pattern_matching.html">glob pattern matching syntax</a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">glob('*')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>(table of filenames)</td> </tr> </tbody> </table> <h4 id="repeat_rowvarargs-num_rows"> <a style="text-decoration: none;" href="#repeat_rowvarargs-num_rows"><code class="language-plaintext highlighter-rouge">repeat_row(varargs, num_rows)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a table with <code class="language-plaintext highlighter-rouge">num_rows</code> rows, each containing the fields defined in <code class="language-plaintext highlighter-rouge">varargs</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">repeat_row(1, 2, 'foo', num_rows = 3)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>3 rows of <code class="language-plaintext highlighter-rouge">1, 2, 'foo'</code>
</td> </tr> </tbody> </table><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/functions/utility.html" class="_attribution-link">https://duckdb.org/docs/sql/functions/utility.html</a>
  </p>
</div>
