<h1 class="title">Text Functions</h1>   <h2 id="text-functions-and-operators"> <a style="text-decoration: none;" href="#text-functions-and-operators">Text Functions and Operators</a> </h2> <p>This section describes functions and operators for examining and manipulating <a href="../data_types/text.html"><code class="language-plaintext highlighter-rouge">STRING</code> values</a>.</p>  <table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><a href="#string--search_string"><code class="language-plaintext highlighter-rouge">string ^@ search_string</code></a></td> <td style="text-align: left">Return true if <code class="language-plaintext highlighter-rouge">string</code> begins with <code class="language-plaintext highlighter-rouge">search_string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#string--string"><code class="language-plaintext highlighter-rouge">string || string</code></a></td> <td style="text-align: left">Concatenate two strings. Any NULL input results in NULL. See also <a href="#concatstring-"><code class="language-plaintext highlighter-rouge">concat(string, ...)</code></a>.</td> </tr> <tr> <td style="text-align: left"><a href="#stringindex"><code class="language-plaintext highlighter-rouge">string[index]</code></a></td> <td style="text-align: left">Extract a single character using a (1-based) index.</td> </tr> <tr> <td style="text-align: left"><a href="#stringbeginend"><code class="language-plaintext highlighter-rouge">string[begin:end]</code></a></td> <td style="text-align: left">Extract a string using slice conventions, see <a href="list.html#slicing.html">slicing</a>.</td> </tr> <tr> <td style="text-align: left"><a href="#string-like-target"><code class="language-plaintext highlighter-rouge">string LIKE target</code></a></td> <td style="text-align: left">Returns true if the <code class="language-plaintext highlighter-rouge">string</code> matches the like specifier (see <a href="pattern_matching.html">Pattern Matching</a>).</td> </tr> <tr> <td style="text-align: left"><a href="#string-similar-to-regex"><code class="language-plaintext highlighter-rouge">string SIMILAR TO regex</code></a></td> <td style="text-align: left">Returns <code class="language-plaintext highlighter-rouge">true</code> if the <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">regex</code>; identical to <code class="language-plaintext highlighter-rouge">regexp_full_match</code> (see <a href="pattern_matching.html">Pattern Matching</a>).</td> </tr> <tr> <td style="text-align: left"><a href="#array_extractlist-index"><code class="language-plaintext highlighter-rouge">array_extract(list, index)</code></a></td> <td style="text-align: left">Extract a single character using a (1-based) index.</td> </tr> <tr> <td style="text-align: left"><a href="#array_slicelist-begin-end"><code class="language-plaintext highlighter-rouge">array_slice(list, begin, end)</code></a></td> <td style="text-align: left">Extract a string using slice conventions. Negative values are accepted.</td> </tr> <tr> <td style="text-align: left"><a href="#asciistring"><code class="language-plaintext highlighter-rouge">ascii(string)</code></a></td> <td style="text-align: left">Returns an integer that represents the Unicode code point of the first character of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#barx-min-max-width"><code class="language-plaintext highlighter-rouge">bar(x, min, max[, width])</code></a></td> <td style="text-align: left">Draw a band whose width is proportional to (<code class="language-plaintext highlighter-rouge">x - min</code>) and equal to <code class="language-plaintext highlighter-rouge">width</code> characters when <code class="language-plaintext highlighter-rouge">x</code> = <code class="language-plaintext highlighter-rouge">max</code>. <code class="language-plaintext highlighter-rouge">width</code> defaults to 80.</td> </tr> <tr> <td style="text-align: left"><a href="#bit_lengthstring"><code class="language-plaintext highlighter-rouge">bit_length(string)</code></a></td> <td style="text-align: left">Number of bits in a string.</td> </tr> <tr> <td style="text-align: left"><a href="#chrx"><code class="language-plaintext highlighter-rouge">chr(x)</code></a></td> <td style="text-align: left">Returns a character which is corresponding the ASCII code value or Unicode code point.</td> </tr> <tr> <td style="text-align: left"><a href="#concat_wsseparator-string-"><code class="language-plaintext highlighter-rouge">concat_ws(separator, string, ...)</code></a></td> <td style="text-align: left">Concatenate many strings, separated by <code class="language-plaintext highlighter-rouge">separator</code>. NULL inputs are skipped.</td> </tr> <tr> <td style="text-align: left"><a href="#concatstring-"><code class="language-plaintext highlighter-rouge">concat(string, ...)</code></a></td> <td style="text-align: left">Concatenate many strings. NULL inputs are skipped. See also <a href="#string--string"><code class="language-plaintext highlighter-rouge">string || string</code></a>.</td> </tr> <tr> <td style="text-align: left"><a href="#containsstring-search_string"><code class="language-plaintext highlighter-rouge">contains(string, search_string)</code></a></td> <td style="text-align: left">Return true if <code class="language-plaintext highlighter-rouge">search_string</code> is found within <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#ends_withstring-search_string"><code class="language-plaintext highlighter-rouge">ends_with(string, search_string)</code></a></td> <td style="text-align: left">Return true if <code class="language-plaintext highlighter-rouge">string</code> ends with <code class="language-plaintext highlighter-rouge">search_string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#format_bytesbytes"><code class="language-plaintext highlighter-rouge">format_bytes(bytes)</code></a></td> <td style="text-align: left">Converts bytes to a human-readable representation using units based on powers of 2 (KiB, MiB, GiB, etc.).</td> </tr> <tr> <td style="text-align: left"><a href="#formatformat-parameters-"><code class="language-plaintext highlighter-rouge">format(format, parameters, ...)</code></a></td> <td style="text-align: left">Formats a string using the <a href="#fmt-syntax">fmt syntax</a>.</td> </tr> <tr> <td style="text-align: left"><a href="#from_base64string"><code class="language-plaintext highlighter-rouge">from_base64(string)</code></a></td> <td style="text-align: left">Convert a base64 encoded string to a character string.</td> </tr> <tr> <td style="text-align: left"><a href="#greatestx1-x2-"><code class="language-plaintext highlighter-rouge">greatest(x1, x2, ...)</code></a></td> <td style="text-align: left">Selects the largest value using lexicographical ordering. Note that lowercase characters are considered “larger” than uppercase characters and <a href="../expressions/collations.html">collations</a> are not supported.</td> </tr> <tr> <td style="text-align: left"><a href="#hashvalue"><code class="language-plaintext highlighter-rouge">hash(value)</code></a></td> <td style="text-align: left">Returns a <code class="language-plaintext highlighter-rouge">UBIGINT</code> with the hash of the <code class="language-plaintext highlighter-rouge">value</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#ilike_escapestring-like_specifier-escape_character"><code class="language-plaintext highlighter-rouge">ilike_escape(string, like_specifier, escape_character)</code></a></td> <td style="text-align: left">Returns true if the <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">like_specifier</code> (see <a href="pattern_matching.html">Pattern Matching</a>) using case-insensitive matching. <code class="language-plaintext highlighter-rouge">escape_character</code> is used to search for wildcard characters in the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#instrstring-search_string"><code class="language-plaintext highlighter-rouge">instr(string, search_string)</code></a></td> <td style="text-align: left">Return location of first occurrence of <code class="language-plaintext highlighter-rouge">search_string</code> in <code class="language-plaintext highlighter-rouge">string</code>, counting from 1. Returns 0 if no match found.</td> </tr> <tr> <td style="text-align: left"><a href="#leastx1-x2-"><code class="language-plaintext highlighter-rouge">least(x1, x2, ...)</code></a></td> <td style="text-align: left">Selects the smallest value using lexicographical ordering. Note that uppercase characters are considered “smaller” than lowercase characters, and <a href="../expressions/collations.html">collations</a> are not supported.</td> </tr> <tr> <td style="text-align: left"><a href="#left_graphemestring-count"><code class="language-plaintext highlighter-rouge">left_grapheme(string, count)</code></a></td> <td style="text-align: left">Extract the left-most grapheme clusters.</td> </tr> <tr> <td style="text-align: left"><a href="#leftstring-count"><code class="language-plaintext highlighter-rouge">left(string, count)</code></a></td> <td style="text-align: left">Extract the left-most count characters.</td> </tr> <tr> <td style="text-align: left"><a href="#length_graphemestring"><code class="language-plaintext highlighter-rouge">length_grapheme(string)</code></a></td> <td style="text-align: left">Number of grapheme clusters in <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#lengthstring"><code class="language-plaintext highlighter-rouge">length(string)</code></a></td> <td style="text-align: left">Number of characters in <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#like_escapestring-like_specifier-escape_character"><code class="language-plaintext highlighter-rouge">like_escape(string, like_specifier, escape_character)</code></a></td> <td style="text-align: left">Returns true if the <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">like_specifier</code> (see <a href="pattern_matching.html">Pattern Matching</a>) using case-sensitive matching. <code class="language-plaintext highlighter-rouge">escape_character</code> is used to search for wildcard characters in the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#lowerstring"><code class="language-plaintext highlighter-rouge">lower(string)</code></a></td> <td style="text-align: left">Convert <code class="language-plaintext highlighter-rouge">string</code> to lower case.</td> </tr> <tr> <td style="text-align: left"><a href="#lpadstring-count-character"><code class="language-plaintext highlighter-rouge">lpad(string, count, character)</code></a></td> <td style="text-align: left">Pads the <code class="language-plaintext highlighter-rouge">string</code> with the character from the left until it has count characters.</td> </tr> <tr> <td style="text-align: left"><a href="#ltrimstring-characters"><code class="language-plaintext highlighter-rouge">ltrim(string, characters)</code></a></td> <td style="text-align: left">Removes any occurrences of any of the <code class="language-plaintext highlighter-rouge">characters</code> from the left side of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#ltrimstring"><code class="language-plaintext highlighter-rouge">ltrim(string)</code></a></td> <td style="text-align: left">Removes any spaces from the left side of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#md5string"><code class="language-plaintext highlighter-rouge">md5(string)</code></a></td> <td style="text-align: left">Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">VARCHAR</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#md5_numberstring"><code class="language-plaintext highlighter-rouge">md5_number(string)</code></a></td> <td style="text-align: left">Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">HUGEINT</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#md5_number_lowerstring"><code class="language-plaintext highlighter-rouge">md5_number_lower(string)</code></a></td> <td style="text-align: left">Returns the lower 64-bit segment of the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">BIGINT</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#md5_number_higherstring"><code class="language-plaintext highlighter-rouge">md5_number_higher(string)</code></a></td> <td style="text-align: left">Returns the higher 64-bit segment of the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">BIGINT</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#nfc_normalizestring"><code class="language-plaintext highlighter-rouge">nfc_normalize(string)</code></a></td> <td style="text-align: left">Convert string to Unicode NFC normalized string. Useful for comparisons and ordering if text data is mixed between NFC normalized and not.</td> </tr> <tr> <td style="text-align: left"><a href="#not_ilike_escapestring-like_specifier-escape_character"><code class="language-plaintext highlighter-rouge">not_ilike_escape(string, like_specifier, escape_character)</code></a></td> <td style="text-align: left">Returns false if the <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">like_specifier</code> (see <a href="pattern_matching.html">Pattern Matching</a>) using case-sensitive matching. <code class="language-plaintext highlighter-rouge">escape_character</code> is used to search for wildcard characters in the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#not_like_escapestring-like_specifier-escape_character"><code class="language-plaintext highlighter-rouge">not_like_escape(string, like_specifier, escape_character)</code></a></td> <td style="text-align: left">Returns false if the <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">like_specifier</code> (see <a href="pattern_matching.html">Pattern Matching</a>) using case-insensitive matching. <code class="language-plaintext highlighter-rouge">escape_character</code> is used to search for wildcard characters in the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#ordstring"><code class="language-plaintext highlighter-rouge">ord(string)</code></a></td> <td style="text-align: left">Return ASCII character code of the leftmost character in a string.</td> </tr> <tr> <td style="text-align: left"><a href="#parse_dirnamepath-separator"><code class="language-plaintext highlighter-rouge">parse_dirname(path, separator)</code></a></td> <td style="text-align: left">Returns the top-level directory name from the given path. <code class="language-plaintext highlighter-rouge">separator</code> options: <code class="language-plaintext highlighter-rouge">system</code>, <code class="language-plaintext highlighter-rouge">both_slash</code> (default), <code class="language-plaintext highlighter-rouge">forward_slash</code>, <code class="language-plaintext highlighter-rouge">backslash</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#parse_dirpathpath-separator"><code class="language-plaintext highlighter-rouge">parse_dirpath(path, separator)</code></a></td> <td style="text-align: left">Returns the head of the path (the pathname until the last slash) similarly to Python's <a href="https://docs.python.org/3.7/library/os.path.html#os.path.dirname"><code class="language-plaintext highlighter-rouge">os.path.dirname</code></a> function. <code class="language-plaintext highlighter-rouge">separator</code> options: <code class="language-plaintext highlighter-rouge">system</code>, <code class="language-plaintext highlighter-rouge">both_slash</code> (default), <code class="language-plaintext highlighter-rouge">forward_slash</code>, <code class="language-plaintext highlighter-rouge">backslash</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#parse_filenamepath-trim_extension-separator"><code class="language-plaintext highlighter-rouge">parse_filename(path, trim_extension, separator)</code></a></td> <td style="text-align: left">Returns the last component of the path similarly to Python's <a href="https://docs.python.org/3.7/library/os.path.html#os.path.basename"><code class="language-plaintext highlighter-rouge">os.path.basename</code></a> function. If <code class="language-plaintext highlighter-rouge">trim_extension</code> is true, the file extension will be removed (defaults to <code class="language-plaintext highlighter-rouge">false</code>). <code class="language-plaintext highlighter-rouge">separator</code> options: <code class="language-plaintext highlighter-rouge">system</code>, <code class="language-plaintext highlighter-rouge">both_slash</code> (default), <code class="language-plaintext highlighter-rouge">forward_slash</code>, <code class="language-plaintext highlighter-rouge">backslash</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#parse_pathpath-separator"><code class="language-plaintext highlighter-rouge">parse_path(path, separator)</code></a></td> <td style="text-align: left">Returns a list of the components (directories and filename) in the path similarly to Python's <a href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.parts"><code class="language-plaintext highlighter-rouge">pathlib.parts</code></a> function. <code class="language-plaintext highlighter-rouge">separator</code> options: <code class="language-plaintext highlighter-rouge">system</code>, <code class="language-plaintext highlighter-rouge">both_slash</code> (default), <code class="language-plaintext highlighter-rouge">forward_slash</code>, <code class="language-plaintext highlighter-rouge">backslash</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#positionsearch_string-in-string"><code class="language-plaintext highlighter-rouge">position(search_string IN string)</code></a></td> <td style="text-align: left">Return location of first occurrence of <code class="language-plaintext highlighter-rouge">search_string</code> in <code class="language-plaintext highlighter-rouge">string</code>, counting from 1. Returns 0 if no match found.</td> </tr> <tr> <td style="text-align: left"><a href="#printfformat-parameters"><code class="language-plaintext highlighter-rouge">printf(format, parameters...)</code></a></td> <td style="text-align: left">Formats a <code class="language-plaintext highlighter-rouge">string</code> using <a href="#printf-syntax">printf syntax</a>.</td> </tr> <tr> <td style="text-align: left"><a href="#read_textsource"><code class="language-plaintext highlighter-rouge">read_text(source)</code></a></td> <td style="text-align: left">Returns the content from <code class="language-plaintext highlighter-rouge">source</code> (a filename, a list of filenames, or a glob pattern) as a <code class="language-plaintext highlighter-rouge">VARCHAR</code>. The file content is first validated to be valid UTF-8. If <code class="language-plaintext highlighter-rouge">read_text</code> attempts to read a file with invalid UTF-8 an error is thrown suggesting to use <code class="language-plaintext highlighter-rouge">read_blob</code> instead. See the <a href="../../guides/file_formats/read_file.html#read_text.html"><code class="language-plaintext highlighter-rouge">read_text</code> guide</a> for more details.</td> </tr> <tr> <td style="text-align: left"><a href="#regexp_escapestring"><code class="language-plaintext highlighter-rouge">regexp_escape(string)</code></a></td> <td style="text-align: left">Escapes special patterns to turn <code class="language-plaintext highlighter-rouge">string</code> into a regular expression similarly to Python's <a href="https://docs.python.org/3/library/re.html#re.escape"><code class="language-plaintext highlighter-rouge">re.escape</code> function</a>.</td> </tr> <tr> <td style="text-align: left"><a href="#regexp_extractstring-pattern-group--0"><code class="language-plaintext highlighter-rouge">regexp_extract(string, pattern[, group = 0])</code></a></td> <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">string</code> contains the regexp <code class="language-plaintext highlighter-rouge">pattern</code>, returns the capturing group specified by optional parameter <code class="language-plaintext highlighter-rouge">group</code> (see <a href="pattern_matching.html#using-regexp_extract.html">Pattern Matching</a>).</td> </tr> <tr> <td style="text-align: left"><a href="#regexp_extractstring-pattern-name_list"><code class="language-plaintext highlighter-rouge">regexp_extract(string, pattern, name_list)</code></a></td> <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">string</code> contains the regexp <code class="language-plaintext highlighter-rouge">pattern</code>, returns the capturing groups as a struct with corresponding names from <code class="language-plaintext highlighter-rouge">name_list</code> (see <a href="pattern_matching.html#using-regexp_extract.html">Pattern Matching</a>).</td> </tr> <tr> <td style="text-align: left"><a href="#regexp_extract_allstring-regex-group--0"><code class="language-plaintext highlighter-rouge">regexp_extract_all(string, regex[, group = 0])</code></a></td> <td style="text-align: left">Split the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">regex</code> and extract all occurrences of <code class="language-plaintext highlighter-rouge">group</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#regexp_full_matchstring-regex"><code class="language-plaintext highlighter-rouge">regexp_full_match(string, regex)</code></a></td> <td style="text-align: left">Returns <code class="language-plaintext highlighter-rouge">true</code> if the entire <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">regex</code> (see <a href="pattern_matching.html">Pattern Matching</a>).</td> </tr> <tr> <td style="text-align: left"><a href="#regexp_matchesstring-pattern"><code class="language-plaintext highlighter-rouge">regexp_matches(string, pattern)</code></a></td> <td style="text-align: left">Returns <code class="language-plaintext highlighter-rouge">true</code> if <code class="language-plaintext highlighter-rouge">string</code> contains the regexp <code class="language-plaintext highlighter-rouge">pattern</code>, <code class="language-plaintext highlighter-rouge">false</code> otherwise (see <a href="pattern_matching.html#using-regexp_matches.html">Pattern Matching</a>).</td> </tr> <tr> <td style="text-align: left"><a href="#regexp_replacestring-pattern-replacement"><code class="language-plaintext highlighter-rouge">regexp_replace(string, pattern, replacement)</code></a></td> <td style="text-align: left">If <code class="language-plaintext highlighter-rouge">string</code> contains the regexp <code class="language-plaintext highlighter-rouge">pattern</code>, replaces the matching part with <code class="language-plaintext highlighter-rouge">replacement</code> (see <a href="pattern_matching.html#using-regexp_replace.html">Pattern Matching</a>).</td> </tr> <tr> <td style="text-align: left"><a href="#regexp_split_to_arraystring-regex"><code class="language-plaintext highlighter-rouge">regexp_split_to_array(string, regex)</code></a></td> <td style="text-align: left">Splits the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">regex</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#regexp_split_to_tablestring-regex"><code class="language-plaintext highlighter-rouge">regexp_split_to_table(string, regex)</code></a></td> <td style="text-align: left">Splits the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">regex</code> and returns a row for each part.</td> </tr> <tr> <td style="text-align: left"><a href="#repeatstring-count"><code class="language-plaintext highlighter-rouge">repeat(string, count)</code></a></td> <td style="text-align: left">Repeats the <code class="language-plaintext highlighter-rouge">string</code> <code class="language-plaintext highlighter-rouge">count</code> number of times.</td> </tr> <tr> <td style="text-align: left"><a href="#replacestring-source-target"><code class="language-plaintext highlighter-rouge">replace(string, source, target)</code></a></td> <td style="text-align: left">Replaces any occurrences of the <code class="language-plaintext highlighter-rouge">source</code> with <code class="language-plaintext highlighter-rouge">target</code> in <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#reversestring"><code class="language-plaintext highlighter-rouge">reverse(string)</code></a></td> <td style="text-align: left">Reverses the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#right_graphemestring-count"><code class="language-plaintext highlighter-rouge">right_grapheme(string, count)</code></a></td> <td style="text-align: left">Extract the right-most <code class="language-plaintext highlighter-rouge">count</code> grapheme clusters.</td> </tr> <tr> <td style="text-align: left"><a href="#rightstring-count"><code class="language-plaintext highlighter-rouge">right(string, count)</code></a></td> <td style="text-align: left">Extract the right-most <code class="language-plaintext highlighter-rouge">count</code> characters.</td> </tr> <tr> <td style="text-align: left"><a href="#rpadstring-count-character"><code class="language-plaintext highlighter-rouge">rpad(string, count, character)</code></a></td> <td style="text-align: left">Pads the <code class="language-plaintext highlighter-rouge">string</code> with the character from the right until it has <code class="language-plaintext highlighter-rouge">count</code> characters.</td> </tr> <tr> <td style="text-align: left"><a href="#rtrimstring-characters"><code class="language-plaintext highlighter-rouge">rtrim(string, characters)</code></a></td> <td style="text-align: left">Removes any occurrences of any of the <code class="language-plaintext highlighter-rouge">characters</code> from the right side of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#rtrimstring"><code class="language-plaintext highlighter-rouge">rtrim(string)</code></a></td> <td style="text-align: left">Removes any spaces from the right side of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#sha256value"><code class="language-plaintext highlighter-rouge">sha256(value)</code></a></td> <td style="text-align: left">Returns a <code class="language-plaintext highlighter-rouge">VARCHAR</code> with the SHA-256 hash of the <code class="language-plaintext highlighter-rouge">value</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#split_partstring-separator-index"><code class="language-plaintext highlighter-rouge">split_part(string, separator, index)</code></a></td> <td style="text-align: left">Split the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">separator</code> and return the data at the (1-based) <code class="language-plaintext highlighter-rouge">index</code> of the list. If the <code class="language-plaintext highlighter-rouge">index</code> is outside the bounds of the list, return an empty string (to match PostgreSQL's behavior).</td> </tr> <tr> <td style="text-align: left"><a href="#starts_withstring-search_string"><code class="language-plaintext highlighter-rouge">starts_with(string, search_string)</code></a></td> <td style="text-align: left">Return true if <code class="language-plaintext highlighter-rouge">string</code> begins with <code class="language-plaintext highlighter-rouge">search_string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#str_split_regexstring-regex"><code class="language-plaintext highlighter-rouge">str_split_regex(string, regex)</code></a></td> <td style="text-align: left">Splits the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">regex</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#string_split_regexstring-regex"><code class="language-plaintext highlighter-rouge">string_split_regex(string, regex)</code></a></td> <td style="text-align: left">Splits the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">regex</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#string_splitstring-separator"><code class="language-plaintext highlighter-rouge">string_split(string, separator)</code></a></td> <td style="text-align: left">Splits the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">separator</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#strip_accentsstring"><code class="language-plaintext highlighter-rouge">strip_accents(string)</code></a></td> <td style="text-align: left">Strips accents from <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#strlenstring"><code class="language-plaintext highlighter-rouge">strlen(string)</code></a></td> <td style="text-align: left">Number of bytes in <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#strposstring-search_string"><code class="language-plaintext highlighter-rouge">strpos(string, search_string)</code></a></td> <td style="text-align: left">Return location of first occurrence of <code class="language-plaintext highlighter-rouge">search_string</code> in <code class="language-plaintext highlighter-rouge">string</code>, counting from 1. Returns 0 if no match found.</td> </tr> <tr> <td style="text-align: left"><a href="#substringstring-start-length"><code class="language-plaintext highlighter-rouge">substring(string, start, length)</code></a></td> <td style="text-align: left">Extract substring of <code class="language-plaintext highlighter-rouge">length</code> characters starting from character <code class="language-plaintext highlighter-rouge">start</code>. Note that a <code class="language-plaintext highlighter-rouge">start</code> value of <code class="language-plaintext highlighter-rouge">1</code> refers to the <code class="language-plaintext highlighter-rouge">first</code> character of the string.</td> </tr> <tr> <td style="text-align: left"><a href="#substring_graphemestring-start-length"><code class="language-plaintext highlighter-rouge">substring_grapheme(string, start, length)</code></a></td> <td style="text-align: left">Extract substring of <code class="language-plaintext highlighter-rouge">length</code> grapheme clusters starting from character <code class="language-plaintext highlighter-rouge">start</code>. Note that a <code class="language-plaintext highlighter-rouge">start</code> value of <code class="language-plaintext highlighter-rouge">1</code> refers to the <code class="language-plaintext highlighter-rouge">first</code> character of the string.</td> </tr> <tr> <td style="text-align: left"><a href="#to_base64blob"><code class="language-plaintext highlighter-rouge">to_base64(blob)</code></a></td> <td style="text-align: left">Convert a blob to a base64 encoded string.</td> </tr> <tr> <td style="text-align: left"><a href="#trimstring-characters"><code class="language-plaintext highlighter-rouge">trim(string, characters)</code></a></td> <td style="text-align: left">Removes any occurrences of any of the <code class="language-plaintext highlighter-rouge">characters</code> from either side of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#trimstring"><code class="language-plaintext highlighter-rouge">trim(string)</code></a></td> <td style="text-align: left">Removes any spaces from either side of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#unicodestring"><code class="language-plaintext highlighter-rouge">unicode(string)</code></a></td> <td style="text-align: left">Returns the Unicode code of the first character of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#upperstring"><code class="language-plaintext highlighter-rouge">upper(string)</code></a></td> <td style="text-align: left">Convert <code class="language-plaintext highlighter-rouge">string</code> to upper case.</td> </tr> </tbody> </table>  <h4 id="string--search_string"> <a style="text-decoration: none;" href="#string--search_string"><code class="language-plaintext highlighter-rouge">string ^@ search_string</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return true if <code class="language-plaintext highlighter-rouge">string</code> begins with <code class="language-plaintext highlighter-rouge">search_string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">'abc' ^@ 'a'</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">starts_with</code></td> </tr> </tbody> </table> <h4 id="string--string"> <a style="text-decoration: none;" href="#string--string"><code class="language-plaintext highlighter-rouge">string || string</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Concatenate two strings. Any <code class="language-plaintext highlighter-rouge">NULL</code> input results in <code class="language-plaintext highlighter-rouge">NULL</code>. See also <a href="#concatstring-"><code class="language-plaintext highlighter-rouge">concat(string, ...)</code></a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">'Duck' || 'DB'</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">DuckDB</code></td> </tr> </tbody> </table> <h4 id="stringindex"> <a style="text-decoration: none;" href="#stringindex"><code class="language-plaintext highlighter-rouge">string[index]</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract a single character using a (1-based) index.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">'DuckDB'[4]</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">k</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_extract</code></td> </tr> </tbody> </table> <h4 id="stringbeginend"> <a style="text-decoration: none;" href="#stringbeginend"><code class="language-plaintext highlighter-rouge">string[begin:end]</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract a string using slice conventions similar to Python. Missing <code class="language-plaintext highlighter-rouge">begin</code> or <code class="language-plaintext highlighter-rouge">end</code> arguments are interpreted as the beginning or end of the list respectively. Negative values are accepted.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">'DuckDB'[:4]</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">Duck</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_slice</code></td> </tr> </tbody> </table> <p>More examples:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT
    'abcdefghi' AS str,
    str[3],    -- get char at position 3, 'c'
    str[3:5],  -- substring from position 3 up to and including position 5, 'cde'
    str[6:],   -- substring from position 6 till the end, 'fghi'
    str[:3],   -- substring from the start up to and including position 3, 'abc'
    str[3:-4], -- substring from positio 3 up to and including the 4th position from the end, 'cdef'
;</pre> <h4 id="string-like-target"> <a style="text-decoration: none;" href="#string-like-target"><code class="language-plaintext highlighter-rouge">string LIKE target</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns true if the <code class="language-plaintext highlighter-rouge">string</code> matches the like specifier (see <a href="pattern_matching.html">Pattern Matching</a>).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">'hello' LIKE '%lo'</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> </tbody> </table> <h4 id="string-similar-to-regex"> <a style="text-decoration: none;" href="#string-similar-to-regex"><code class="language-plaintext highlighter-rouge">string SIMILAR TO regex</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns <code class="language-plaintext highlighter-rouge">true</code> if the <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">regex</code>; identical to <code class="language-plaintext highlighter-rouge">regexp_full_match</code> (see <a href="pattern_matching.html">Pattern Matching</a>)</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">'hello' SIMILAR TO 'l+'</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">false</code></td> </tr> </tbody> </table> <h4 id="array_extractlist-index"> <a style="text-decoration: none;" href="#array_extractlist-index"><code class="language-plaintext highlighter-rouge">array_extract(list, index)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract a single character using a (1-based) index.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_extract('DuckDB', 2)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">u</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">list_element</code>, <code class="language-plaintext highlighter-rouge">list_extract</code>
</td> </tr> </tbody> </table> <h4 id="array_slicelist-begin-end"> <a style="text-decoration: none;" href="#array_slicelist-begin-end"><code class="language-plaintext highlighter-rouge">array_slice(list, begin, end)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract a string using slice conventions (like in Python). Negative values are accepted.</td> </tr> <tr> <td><strong>Example 1</strong></td> <td><code class="language-plaintext highlighter-rouge">array_slice('DuckDB', 3, 4)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">ck</code></td> </tr> <tr> <td><strong>Example 2</strong></td> <td><code class="language-plaintext highlighter-rouge">array_slice('DuckDB', 3, NULL)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">NULL</code></td> </tr> <tr> <td><strong>Example 3</strong></td> <td><code class="language-plaintext highlighter-rouge">array_slice('DuckDB', 0, -3)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">Duck</code></td> </tr> </tbody> </table> <h4 id="asciistring"> <a style="text-decoration: none;" href="#asciistring"><code class="language-plaintext highlighter-rouge">ascii(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns an integer that represents the Unicode code point of the first character of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">ascii('Ω')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">937</code></td> </tr> </tbody> </table> <h4 id="barx-min-max-width"> <a style="text-decoration: none;" href="#barx-min-max-width"><code class="language-plaintext highlighter-rouge">bar(x, min, max[, width])</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Draw a band whose width is proportional to (<code class="language-plaintext highlighter-rouge">x - min</code>) and equal to <code class="language-plaintext highlighter-rouge">width</code> characters when <code class="language-plaintext highlighter-rouge">x</code> = <code class="language-plaintext highlighter-rouge">max</code>. <code class="language-plaintext highlighter-rouge">width</code> defaults to 80.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">bar(5, 0, 20, 10)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">██▌</code></td> </tr> </tbody> </table> <h4 id="bit_lengthstring"> <a style="text-decoration: none;" href="#bit_lengthstring"><code class="language-plaintext highlighter-rouge">bit_length(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Number of bits in a string.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">bit_length('abc')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">24</code></td> </tr> </tbody> </table> <h4 id="chrx"> <a style="text-decoration: none;" href="#chrx"><code class="language-plaintext highlighter-rouge">chr(x)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a character which is corresponding the ASCII code value or Unicode code point.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">chr(65)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>A</td> </tr> </tbody> </table> <h4 id="concat_wsseparator-string-"> <a style="text-decoration: none;" href="#concat_wsseparator-string-"><code class="language-plaintext highlighter-rouge">concat_ws(separator, string, ...)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Concatenate many strings, separated by <code class="language-plaintext highlighter-rouge">separator</code>. <code class="language-plaintext highlighter-rouge">NULL</code> inputs are skipped.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">concat_ws(', ', 'Banana', 'Apple', NULL, 'Melon')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">Banana, Apple, Melon</code></td> </tr> </tbody> </table> <h4 id="concatstring-"> <a style="text-decoration: none;" href="#concatstring-"><code class="language-plaintext highlighter-rouge">concat(string, ...)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Concatenate many strings. <code class="language-plaintext highlighter-rouge">NULL</code> inputs are skipped. See also <a href="#string--string"><code class="language-plaintext highlighter-rouge">string || string</code></a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">concat('Hello', ' ', NULL, 'World')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">Hello World</code></td> </tr> </tbody> </table> <h4 id="containsstring-search_string"> <a style="text-decoration: none;" href="#containsstring-search_string"><code class="language-plaintext highlighter-rouge">contains(string, search_string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return true if <code class="language-plaintext highlighter-rouge">search_string</code> is found within <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">contains('abc', 'a')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> </tbody> </table> <h4 id="ends_withstring-search_string"> <a style="text-decoration: none;" href="#ends_withstring-search_string"><code class="language-plaintext highlighter-rouge">ends_with(string, search_string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return true if <code class="language-plaintext highlighter-rouge">string</code> ends with <code class="language-plaintext highlighter-rouge">search_string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">ends_with('abc', 'c')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">suffix</code></td> </tr> </tbody> </table> <h4 id="format_bytesbytes"> <a style="text-decoration: none;" href="#format_bytesbytes"><code class="language-plaintext highlighter-rouge">format_bytes(bytes)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Converts bytes to a human-readable representation using units based on powers of 2 (KiB, MiB, GiB, etc.).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">format_bytes(16384)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">16.0 KiB</code></td> </tr> </tbody> </table> <h4 id="formatformat-parameters-"> <a style="text-decoration: none;" href="#formatformat-parameters-"><code class="language-plaintext highlighter-rouge">format(format, parameters, ...)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Formats a string using the <a href="#fmt-syntax">fmt syntax</a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">format('Benchmark "{}" took {} seconds', 'CSV', 42)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">Benchmark "CSV" took 42 seconds</code></td> </tr> </tbody> </table> <h4 id="from_base64string"> <a style="text-decoration: none;" href="#from_base64string"><code class="language-plaintext highlighter-rouge">from_base64(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Convert a base64 encoded string to a character string.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">from_base64('QQ==')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">'A'</code></td> </tr> </tbody> </table> <h4 id="greatestx1-x2-"> <a style="text-decoration: none;" href="#greatestx1-x2-"><code class="language-plaintext highlighter-rouge">greatest(x1, x2, ...)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Selects the largest value using lexicographical ordering. Note that lowercase characters are considered “larger” than uppercase characters and <a href="../expressions/collations.html">collations</a> are not supported.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">greatest('abc', 'bcd', 'cde', 'EFG')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">'cde'</code></td> </tr> </tbody> </table> <h4 id="hashvalue"> <a style="text-decoration: none;" href="#hashvalue"><code class="language-plaintext highlighter-rouge">hash(value)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a <code class="language-plaintext highlighter-rouge">UBIGINT</code> with the hash of the <code class="language-plaintext highlighter-rouge">value</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">hash('🦆')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2595805878642663834</code></td> </tr> </tbody> </table> <h4 id="ilike_escapestring-like_specifier-escape_character"> <a style="text-decoration: none;" href="#ilike_escapestring-like_specifier-escape_character"><code class="language-plaintext highlighter-rouge">ilike_escape(string, like_specifier, escape_character)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns true if the <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">like_specifier</code> (see <a href="pattern_matching.html">Pattern Matching</a>) using case-insensitive matching. <code class="language-plaintext highlighter-rouge">escape_character</code> is used to search for wildcard characters in the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">ilike_escape('A%c', 'a$%C', '$')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> </tbody> </table> <h4 id="instrstring-search_string"> <a style="text-decoration: none;" href="#instrstring-search_string"><code class="language-plaintext highlighter-rouge">instr(string, search_string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return location of first occurrence of <code class="language-plaintext highlighter-rouge">search_string</code> in <code class="language-plaintext highlighter-rouge">string</code>, counting from 1. Returns 0 if no match found.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">instr('test test', 'es')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>2</td> </tr> </tbody> </table> <h4 id="leastx1-x2-"> <a style="text-decoration: none;" href="#leastx1-x2-"><code class="language-plaintext highlighter-rouge">least(x1, x2, ...)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Selects the smallest value using lexicographical ordering. Note that uppercase characters are considered “smaller” than lowercase characters, and <a href="../expressions/collations.html">collations</a> are not supported.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">least('abc', 'BCD', 'cde', 'EFG')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">'BCD'</code></td> </tr> </tbody> </table> <h4 id="left_graphemestring-count"> <a style="text-decoration: none;" href="#left_graphemestring-count"><code class="language-plaintext highlighter-rouge">left_grapheme(string, count)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract the left-most grapheme clusters.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">left_grapheme('🤦🏼‍♂️🤦🏽‍♀️', 1)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">🤦🏼‍♂️</code></td> </tr> </tbody> </table> <h4 id="leftstring-count"> <a style="text-decoration: none;" href="#leftstring-count"><code class="language-plaintext highlighter-rouge">left(string, count)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract the left-most count characters.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">left('Hello🦆', 2)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">He</code></td> </tr> </tbody> </table> <h4 id="length_graphemestring"> <a style="text-decoration: none;" href="#length_graphemestring"><code class="language-plaintext highlighter-rouge">length_grapheme(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Number of grapheme clusters in <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">length_grapheme('🤦🏼‍♂️🤦🏽‍♀️')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2</code></td> </tr> </tbody> </table> <h4 id="lengthstring"> <a style="text-decoration: none;" href="#lengthstring"><code class="language-plaintext highlighter-rouge">length(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Number of characters in <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">length('Hello🦆')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">6</code></td> </tr> </tbody> </table> <h4 id="like_escapestring-like_specifier-escape_character"> <a style="text-decoration: none;" href="#like_escapestring-like_specifier-escape_character"><code class="language-plaintext highlighter-rouge">like_escape(string, like_specifier, escape_character)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns true if the <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">like_specifier</code> (see <a href="pattern_matching.html">Pattern Matching</a>) using case-sensitive matching. <code class="language-plaintext highlighter-rouge">escape_character</code> is used to search for wildcard characters in the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">like_escape('a%c', 'a$%c', '$')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> </tbody> </table> <h4 id="lowerstring"> <a style="text-decoration: none;" href="#lowerstring"><code class="language-plaintext highlighter-rouge">lower(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Convert <code class="language-plaintext highlighter-rouge">string</code> to lower case.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">lower('Hello')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">hello</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">lcase</code></td> </tr> </tbody> </table> <h4 id="lpadstring-count-character"> <a style="text-decoration: none;" href="#lpadstring-count-character"><code class="language-plaintext highlighter-rouge">lpad(string, count, character)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Pads the <code class="language-plaintext highlighter-rouge">string</code> with the character from the left until it has count characters.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">lpad('hello', 8, '&gt;')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">&gt;&gt;&gt;hello</code></td> </tr> </tbody> </table> <h4 id="ltrimstring-characters"> <a style="text-decoration: none;" href="#ltrimstring-characters"><code class="language-plaintext highlighter-rouge">ltrim(string, characters)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Removes any occurrences of any of the <code class="language-plaintext highlighter-rouge">characters</code> from the left side of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">ltrim('&gt;&gt;&gt;&gt;test&lt;&lt;', '&gt;&lt;')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">test&lt;&lt;</code></td> </tr> </tbody> </table> <h4 id="ltrimstring"> <a style="text-decoration: none;" href="#ltrimstring"><code class="language-plaintext highlighter-rouge">ltrim(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Removes any spaces from the left side of the <code class="language-plaintext highlighter-rouge">string</code>. In the example, the <code class="language-plaintext highlighter-rouge">␣</code> symbol denotes a space character.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">ltrim('␣␣␣␣test␣␣')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">test␣␣</code></td> </tr> </tbody> </table> <h4 id="md5string"> <a style="text-decoration: none;" href="#md5string"><code class="language-plaintext highlighter-rouge">md5(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">VARCHAR</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">md5('123')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">202cb962ac59075b964b07152d234b70</code></td> </tr> </tbody> </table> <h4 id="md5_numberstring"> <a style="text-decoration: none;" href="#md5_numberstring"><code class="language-plaintext highlighter-rouge">md5_number(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">HUGEINT</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">md5_number('123')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">149263671248412135425768892945843956768</code></td> </tr> </tbody> </table> <h4 id="md5_number_lowerstring"> <a style="text-decoration: none;" href="#md5_number_lowerstring"><code class="language-plaintext highlighter-rouge">md5_number_lower(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">BIGINT</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">md5_number_lower('123')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">8091599832034528150</code></td> </tr> </tbody> </table> <h4 id="md5_number_higherstring"> <a style="text-decoration: none;" href="#md5_number_higherstring"><code class="language-plaintext highlighter-rouge">md5_number_higher(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the MD5 hash of the <code class="language-plaintext highlighter-rouge">string</code> as a <code class="language-plaintext highlighter-rouge">BIGINT</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">md5_number_higher('123')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">6559309979213966368</code></td> </tr> </tbody> </table> <h4 id="nfc_normalizestring"> <a style="text-decoration: none;" href="#nfc_normalizestring"><code class="language-plaintext highlighter-rouge">nfc_normalize(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Convert string to Unicode NFC normalized string. Useful for comparisons and ordering if text data is mixed between NFC normalized and not.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">nfc_normalize('ardèch')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">ardèch</code></td> </tr> </tbody> </table> <h4 id="not_ilike_escapestring-like_specifier-escape_character"> <a style="text-decoration: none;" href="#not_ilike_escapestring-like_specifier-escape_character"><code class="language-plaintext highlighter-rouge">not_ilike_escape(string, like_specifier, escape_character)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns false if the <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">like_specifier</code> (see <a href="pattern_matching.html">Pattern Matching</a>) using case-sensitive matching. <code class="language-plaintext highlighter-rouge">escape_character</code> is used to search for wildcard characters in the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">not_ilike_escape('A%c', 'a$%C', '$')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">false</code></td> </tr> </tbody> </table> <h4 id="not_like_escapestring-like_specifier-escape_character"> <a style="text-decoration: none;" href="#not_like_escapestring-like_specifier-escape_character"><code class="language-plaintext highlighter-rouge">not_like_escape(string, like_specifier, escape_character)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns false if the <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">like_specifier</code> (see <a href="pattern_matching.html">Pattern Matching</a>) using case-insensitive matching. <code class="language-plaintext highlighter-rouge">escape_character</code> is used to search for wildcard characters in the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">not_like_escape('a%c', 'a$%c', '$')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">false</code></td> </tr> </tbody> </table> <h4 id="ordstring"> <a style="text-decoration: none;" href="#ordstring"><code class="language-plaintext highlighter-rouge">ord(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return ASCII character code of the leftmost character in a string.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">ord('ü')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">252</code></td> </tr> </tbody> </table> <h4 id="parse_dirnamepath-separator"> <a style="text-decoration: none;" href="#parse_dirnamepath-separator"><code class="language-plaintext highlighter-rouge">parse_dirname(path, separator)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the top-level directory name from the given path. <code class="language-plaintext highlighter-rouge">separator</code> options: <code class="language-plaintext highlighter-rouge">system</code>, <code class="language-plaintext highlighter-rouge">both_slash</code> (default), <code class="language-plaintext highlighter-rouge">forward_slash</code>, <code class="language-plaintext highlighter-rouge">backslash</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">parse_dirname('path/to/file.csv', 'system')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">path</code></td> </tr> </tbody> </table> <h4 id="parse_dirpathpath-separator"> <a style="text-decoration: none;" href="#parse_dirpathpath-separator"><code class="language-plaintext highlighter-rouge">parse_dirpath(path, separator)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the head of the path (the pathname until the last slash) similarly to Python's <a href="https://docs.python.org/3.7/library/os.path.html#os.path.dirname"><code class="language-plaintext highlighter-rouge">os.path.dirname</code></a> function. <code class="language-plaintext highlighter-rouge">separator</code> options: <code class="language-plaintext highlighter-rouge">system</code>, <code class="language-plaintext highlighter-rouge">both_slash</code> (default), <code class="language-plaintext highlighter-rouge">forward_slash</code>, <code class="language-plaintext highlighter-rouge">backslash</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">parse_dirpath('/path/to/file.csv', 'forward_slash')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">/path/to</code></td> </tr> </tbody> </table> <h4 id="parse_filenamepath-trim_extension-separator"> <a style="text-decoration: none;" href="#parse_filenamepath-trim_extension-separator"><code class="language-plaintext highlighter-rouge">parse_filename(path, trim_extension, separator)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the last component of the path similarly to Python's <a href="https://docs.python.org/3.7/library/os.path.html#os.path.basename"><code class="language-plaintext highlighter-rouge">os.path.basename</code></a> function. If <code class="language-plaintext highlighter-rouge">trim_extension</code> is true, the file extension will be removed (defaults to <code class="language-plaintext highlighter-rouge">false</code>). <code class="language-plaintext highlighter-rouge">separator</code> options: <code class="language-plaintext highlighter-rouge">system</code>, <code class="language-plaintext highlighter-rouge">both_slash</code> (default), <code class="language-plaintext highlighter-rouge">forward_slash</code>, <code class="language-plaintext highlighter-rouge">backslash</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">parse_filename('path/to/file.csv', true, 'system')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">file</code></td> </tr> </tbody> </table> <h4 id="parse_pathpath-separator"> <a style="text-decoration: none;" href="#parse_pathpath-separator"><code class="language-plaintext highlighter-rouge">parse_path(path, separator)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a list of the components (directories and filename) in the path similarly to Python's <a href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.parts"><code class="language-plaintext highlighter-rouge">pathlib.parts</code></a> function. <code class="language-plaintext highlighter-rouge">separator</code> options: <code class="language-plaintext highlighter-rouge">system</code>, <code class="language-plaintext highlighter-rouge">both_slash</code> (default), <code class="language-plaintext highlighter-rouge">forward_slash</code>, <code class="language-plaintext highlighter-rouge">backslash</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">parse_path('/path/to/file.csv', 'system')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[/, path, to, file.csv]</code></td> </tr> </tbody> </table> <h4 id="positionsearch_string-in-string"> <a style="text-decoration: none;" href="#positionsearch_string-in-string"><code class="language-plaintext highlighter-rouge">position(search_string IN string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return location of first occurrence of <code class="language-plaintext highlighter-rouge">search_string</code> in <code class="language-plaintext highlighter-rouge">string</code>, counting from 1. Returns 0 if no match found.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">position('b' IN 'abc')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2</code></td> </tr> </tbody> </table> <h4 id="printfformat-parameters"> <a style="text-decoration: none;" href="#printfformat-parameters"><code class="language-plaintext highlighter-rouge">printf(format, parameters...)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Formats a <code class="language-plaintext highlighter-rouge">string</code> using <a href="#printf-syntax">printf syntax</a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">printf('Benchmark "%s" took %d seconds', 'CSV', 42)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">Benchmark "CSV" took 42 seconds</code></td> </tr> </tbody> </table> <h4 id="read_textsource"> <a style="text-decoration: none;" href="#read_textsource"><code class="language-plaintext highlighter-rouge">read_text(source)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the content from <code class="language-plaintext highlighter-rouge">source</code> (a filename, a list of filenames, or a glob pattern) as a <code class="language-plaintext highlighter-rouge">VARCHAR</code>. The file content is first validated to be valid UTF-8. If <code class="language-plaintext highlighter-rouge">read_text</code> attempts to read a file with invalid UTF-8 an error is thrown suggesting to use <code class="language-plaintext highlighter-rouge">read_blob</code> instead. See the <a href="../../guides/file_formats/read_file.html#read_text.html"><code class="language-plaintext highlighter-rouge">read_text</code> guide</a> for more details.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">read_text('hello.txt')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">hello\n</code></td> </tr> </tbody> </table> <h4 id="regexp_escapestring"> <a style="text-decoration: none;" href="#regexp_escapestring"><code class="language-plaintext highlighter-rouge">regexp_escape(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Escapes special patterns to turn <code class="language-plaintext highlighter-rouge">string</code> into a regular expression similarly to Python's <a href="https://docs.python.org/3/library/re.html#re.escape"><code class="language-plaintext highlighter-rouge">re.escape</code> function</a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">regexp_escape('http://d.org')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">http\:\/\/d\.org</code></td> </tr> </tbody> </table> <h4 id="regexp_extractstring-pattern-group--0"> <a style="text-decoration: none;" href="#regexp_extractstring-pattern-group--0"><code class="language-plaintext highlighter-rouge">regexp_extract(string, pattern[, group = 0])</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>If <code class="language-plaintext highlighter-rouge">string</code> contains the regexp <code class="language-plaintext highlighter-rouge">pattern</code>, returns the capturing group specified by optional parameter <code class="language-plaintext highlighter-rouge">group</code> (see <a href="pattern_matching.html#using-regexp_extract.html">Pattern Matching</a>).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">regexp_extract('hello_world', '([a-z ]+)_?', 1)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">hello</code></td> </tr> </tbody> </table> <h4 id="regexp_extractstring-pattern-name_list"> <a style="text-decoration: none;" href="#regexp_extractstring-pattern-name_list"><code class="language-plaintext highlighter-rouge">regexp_extract(string, pattern, name_list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>If <code class="language-plaintext highlighter-rouge">string</code> contains the regexp <code class="language-plaintext highlighter-rouge">pattern</code>, returns the capturing groups as a struct with corresponding names from <code class="language-plaintext highlighter-rouge">name_list</code> (see <a href="pattern_matching.html#using-regexp_extract.html">Pattern Matching</a>).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">regexp_extract('2023-04-15', '(\d+)-(\d+)-(\d+)', ['y', 'm', 'd'])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">{'y':'2023', 'm':'04', 'd':'15'}</code></td> </tr> </tbody> </table> <h4 id="regexp_extract_allstring-regex-group--0"> <a style="text-decoration: none;" href="#regexp_extract_allstring-regex-group--0"><code class="language-plaintext highlighter-rouge">regexp_extract_all(string, regex[, group = 0])</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Split the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">regex</code> and extract all occurrences of <code class="language-plaintext highlighter-rouge">group</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">regexp_extract_all('hello_world', '([a-z ]+)_?', 1)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[hello, world]</code></td> </tr> </tbody> </table> <h4 id="regexp_full_matchstring-regex"> <a style="text-decoration: none;" href="#regexp_full_matchstring-regex"><code class="language-plaintext highlighter-rouge">regexp_full_match(string, regex)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns <code class="language-plaintext highlighter-rouge">true</code> if the entire <code class="language-plaintext highlighter-rouge">string</code> matches the <code class="language-plaintext highlighter-rouge">regex</code> (see <a href="pattern_matching.html">Pattern Matching</a>).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">regexp_full_match('anabanana', '(an)')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">false</code></td> </tr> </tbody> </table> <h4 id="regexp_matchesstring-pattern"> <a style="text-decoration: none;" href="#regexp_matchesstring-pattern"><code class="language-plaintext highlighter-rouge">regexp_matches(string, pattern)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns <code class="language-plaintext highlighter-rouge">true</code> if <code class="language-plaintext highlighter-rouge">string</code> contains the regexp <code class="language-plaintext highlighter-rouge">pattern</code>, <code class="language-plaintext highlighter-rouge">false</code> otherwise (see <a href="pattern_matching.html#using-regexp_matches.html">Pattern Matching</a>).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">regexp_matches('anabanana', '(an)')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> </tbody> </table> <h4 id="regexp_replacestring-pattern-replacement"> <a style="text-decoration: none;" href="#regexp_replacestring-pattern-replacement"><code class="language-plaintext highlighter-rouge">regexp_replace(string, pattern, replacement)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>If <code class="language-plaintext highlighter-rouge">string</code> contains the regexp <code class="language-plaintext highlighter-rouge">pattern</code>, replaces the matching part with <code class="language-plaintext highlighter-rouge">replacement</code> (see <a href="pattern_matching.html#using-regexp_replace.html">Pattern Matching</a>).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">regexp_replace('hello', '[lo]', '-')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">he-lo</code></td> </tr> </tbody> </table> <h4 id="regexp_split_to_arraystring-regex"> <a style="text-decoration: none;" href="#regexp_split_to_arraystring-regex"><code class="language-plaintext highlighter-rouge">regexp_split_to_array(string, regex)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Splits the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">regex</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">regexp_split_to_array('hello world; 42', ';? ')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">['hello', 'world', '42']</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">string_split_regex</code>, <code class="language-plaintext highlighter-rouge">str_split_regex</code>
</td> </tr> </tbody> </table> <h4 id="regexp_split_to_tablestring-regex"> <a style="text-decoration: none;" href="#regexp_split_to_tablestring-regex"><code class="language-plaintext highlighter-rouge">regexp_split_to_table(string, regex)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Splits the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">regex</code> and returns a row for each part.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">regexp_split_to_table('hello world; 42', ';? ')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>Two rows: <code class="language-plaintext highlighter-rouge">'hello'</code>, <code class="language-plaintext highlighter-rouge">'world'</code>
</td> </tr> </tbody> </table> <h4 id="repeatstring-count"> <a style="text-decoration: none;" href="#repeatstring-count"><code class="language-plaintext highlighter-rouge">repeat(string, count)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Repeats the <code class="language-plaintext highlighter-rouge">string</code> <code class="language-plaintext highlighter-rouge">count</code> number of times.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">repeat('A', 5)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">AAAAA</code></td> </tr> </tbody> </table> <h4 id="replacestring-source-target"> <a style="text-decoration: none;" href="#replacestring-source-target"><code class="language-plaintext highlighter-rouge">replace(string, source, target)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Replaces any occurrences of the <code class="language-plaintext highlighter-rouge">source</code> with <code class="language-plaintext highlighter-rouge">target</code> in <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">replace('hello', 'l', '-')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">he--o</code></td> </tr> </tbody> </table> <h4 id="reversestring"> <a style="text-decoration: none;" href="#reversestring"><code class="language-plaintext highlighter-rouge">reverse(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Reverses the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">reverse('hello')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">olleh</code></td> </tr> </tbody> </table> <h4 id="right_graphemestring-count"> <a style="text-decoration: none;" href="#right_graphemestring-count"><code class="language-plaintext highlighter-rouge">right_grapheme(string, count)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract the right-most <code class="language-plaintext highlighter-rouge">count</code> grapheme clusters.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">right_grapheme('🤦🏼‍♂️🤦🏽‍♀️', 1)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">🤦🏽‍♀️</code></td> </tr> </tbody> </table> <h4 id="rightstring-count"> <a style="text-decoration: none;" href="#rightstring-count"><code class="language-plaintext highlighter-rouge">right(string, count)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract the right-most <code class="language-plaintext highlighter-rouge">count</code> characters.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">right('Hello🦆', 3)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">lo🦆</code></td> </tr> </tbody> </table> <h4 id="rpadstring-count-character"> <a style="text-decoration: none;" href="#rpadstring-count-character"><code class="language-plaintext highlighter-rouge">rpad(string, count, character)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Pads the <code class="language-plaintext highlighter-rouge">string</code> with the character from the right until it has <code class="language-plaintext highlighter-rouge">count</code> characters.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">rpad('hello', 10, '&lt;')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">hello&lt;&lt;&lt;&lt;&lt;</code></td> </tr> </tbody> </table> <h4 id="rtrimstring-characters"> <a style="text-decoration: none;" href="#rtrimstring-characters"><code class="language-plaintext highlighter-rouge">rtrim(string, characters)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Removes any occurrences of any of the <code class="language-plaintext highlighter-rouge">characters</code> from the right side of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">rtrim('&gt;&gt;&gt;&gt;test&lt;&lt;', '&gt;&lt;')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">&gt;&gt;&gt;&gt;test</code></td> </tr> </tbody> </table> <h4 id="rtrimstring"> <a style="text-decoration: none;" href="#rtrimstring"><code class="language-plaintext highlighter-rouge">rtrim(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Removes any spaces from the right side of the <code class="language-plaintext highlighter-rouge">string</code>. In the example, the <code class="language-plaintext highlighter-rouge">␣</code> symbol denotes a space character.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">rtrim('␣␣␣␣test␣␣')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">␣␣␣␣test</code></td> </tr> </tbody> </table> <h4 id="sha256value"> <a style="text-decoration: none;" href="#sha256value"><code class="language-plaintext highlighter-rouge">sha256(value)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a <code class="language-plaintext highlighter-rouge">VARCHAR</code> with the SHA-256 hash of the <code class="language-plaintext highlighter-rouge">value</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">sha256('🦆')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">d7a5c5e0d1d94c32218539e7e47d4ba9c3c7b77d61332fb60d633dde89e473fb</code></td> </tr> </tbody> </table> <h4 id="split_partstring-separator-index"> <a style="text-decoration: none;" href="#split_partstring-separator-index"><code class="language-plaintext highlighter-rouge">split_part(string, separator, index)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Split the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">separator</code> and return the data at the (1-based) <code class="language-plaintext highlighter-rouge">index</code> of the list. If the <code class="language-plaintext highlighter-rouge">index</code> is outside the bounds of the list, return an empty string (to match PostgreSQL's behavior).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">split_part('a;b;c', ';', 2)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">b</code></td> </tr> </tbody> </table> <h4 id="starts_withstring-search_string"> <a style="text-decoration: none;" href="#starts_withstring-search_string"><code class="language-plaintext highlighter-rouge">starts_with(string, search_string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return true if <code class="language-plaintext highlighter-rouge">string</code> begins with <code class="language-plaintext highlighter-rouge">search_string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">starts_with('abc', 'a')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> </tbody> </table> <h4 id="str_split_regexstring-regex"> <a style="text-decoration: none;" href="#str_split_regexstring-regex"><code class="language-plaintext highlighter-rouge">str_split_regex(string, regex)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Splits the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">regex</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">str_split_regex('hello world; 42', ';? ')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">['hello', 'world', '42']</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">string_split_regex</code>, <code class="language-plaintext highlighter-rouge">regexp_split_to_array</code>
</td> </tr> </tbody> </table> <h4 id="string_split_regexstring-regex"> <a style="text-decoration: none;" href="#string_split_regexstring-regex"><code class="language-plaintext highlighter-rouge">string_split_regex(string, regex)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Splits the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">regex</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">string_split_regex('hello world; 42', ';? ')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">['hello', 'world', '42']</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">str_split_regex</code>, <code class="language-plaintext highlighter-rouge">regexp_split_to_array</code>
</td> </tr> </tbody> </table> <h4 id="string_splitstring-separator"> <a style="text-decoration: none;" href="#string_splitstring-separator"><code class="language-plaintext highlighter-rouge">string_split(string, separator)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Splits the <code class="language-plaintext highlighter-rouge">string</code> along the <code class="language-plaintext highlighter-rouge">separator</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">string_split('hello world', ' ')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">['hello', 'world']</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">str_split</code>, <code class="language-plaintext highlighter-rouge">string_to_array</code>
</td> </tr> </tbody> </table> <h4 id="strip_accentsstring"> <a style="text-decoration: none;" href="#strip_accentsstring"><code class="language-plaintext highlighter-rouge">strip_accents(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Strips accents from <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">strip_accents('mühleisen')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">muhleisen</code></td> </tr> </tbody> </table> <h4 id="strlenstring"> <a style="text-decoration: none;" href="#strlenstring"><code class="language-plaintext highlighter-rouge">strlen(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Number of bytes in <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">strlen('🦆')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">4</code></td> </tr> </tbody> </table> <h4 id="strposstring-search_string"> <a style="text-decoration: none;" href="#strposstring-search_string"><code class="language-plaintext highlighter-rouge">strpos(string, search_string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return location of first occurrence of <code class="language-plaintext highlighter-rouge">search_string</code> in <code class="language-plaintext highlighter-rouge">string</code>, counting from 1. Returns 0 if no match found.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">strpos('test test', 'es')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>2</td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">instr</code></td> </tr> </tbody> </table> <h4 id="substringstring-start-length"> <a style="text-decoration: none;" href="#substringstring-start-length"><code class="language-plaintext highlighter-rouge">substring(string, start, length)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract substring of <code class="language-plaintext highlighter-rouge">length</code> characters starting from character <code class="language-plaintext highlighter-rouge">start</code>. Note that a <code class="language-plaintext highlighter-rouge">start</code> value of <code class="language-plaintext highlighter-rouge">1</code> refers to the <code class="language-plaintext highlighter-rouge">first</code> character of the string.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">substring('Hello', 2, 2)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">el</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">substr</code></td> </tr> </tbody> </table> <h4 id="substring_graphemestring-start-length"> <a style="text-decoration: none;" href="#substring_graphemestring-start-length"><code class="language-plaintext highlighter-rouge">substring_grapheme(string, start, length)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract substring of <code class="language-plaintext highlighter-rouge">length</code> grapheme clusters starting from character <code class="language-plaintext highlighter-rouge">start</code>. Note that a <code class="language-plaintext highlighter-rouge">start</code> value of <code class="language-plaintext highlighter-rouge">1</code> refers to the <code class="language-plaintext highlighter-rouge">first</code> character of the string.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">substring_grapheme('🦆🤦🏼‍♂️🤦🏽‍♀️🦆', 3, 2)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">🤦🏽‍♀️🦆</code></td> </tr> </tbody> </table> <h4 id="to_base64blob"> <a style="text-decoration: none;" href="#to_base64blob"><code class="language-plaintext highlighter-rouge">to_base64(blob)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Convert a blob to a base64 encoded string.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">to_base64('A'::blob)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">QQ==</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">base64</code></td> </tr> </tbody> </table> <h4 id="trimstring-characters"> <a style="text-decoration: none;" href="#trimstring-characters"><code class="language-plaintext highlighter-rouge">trim(string, characters)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Removes any occurrences of any of the <code class="language-plaintext highlighter-rouge">characters</code> from either side of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">trim('&gt;&gt;&gt;&gt;test&lt;&lt;', '&gt;&lt;')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">test</code></td> </tr> </tbody> </table> <h4 id="trimstring"> <a style="text-decoration: none;" href="#trimstring"><code class="language-plaintext highlighter-rouge">trim(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Removes any spaces from either side of the <code class="language-plaintext highlighter-rouge">string</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">trim('    test  ')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">test</code></td> </tr> </tbody> </table> <h4 id="unicodestring"> <a style="text-decoration: none;" href="#unicodestring"><code class="language-plaintext highlighter-rouge">unicode(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the Unicode code of the first character of the <code class="language-plaintext highlighter-rouge">string</code>. Returns <code class="language-plaintext highlighter-rouge">-1</code> when <code class="language-plaintext highlighter-rouge">string</code> is empty, and <code class="language-plaintext highlighter-rouge">NULL</code> when <code class="language-plaintext highlighter-rouge">string</code> is <code class="language-plaintext highlighter-rouge">NULL</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">[unicode('âbcd'), unicode('â'), unicode(''), unicode(NULL)]</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[226, 226, -1, NULL]</code></td> </tr> </tbody> </table> <h4 id="upperstring"> <a style="text-decoration: none;" href="#upperstring"><code class="language-plaintext highlighter-rouge">upper(string)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Convert <code class="language-plaintext highlighter-rouge">string</code> to upper case.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">upper('Hello')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">HELLO</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">ucase</code></td> </tr> </tbody> </table> <h2 id="text-similarity-functions"> <a style="text-decoration: none;" href="#text-similarity-functions">Text Similarity Functions</a> </h2> <p>These functions are used to measure the similarity of two strings using various <a href="https://en.wikipedia.org/wiki/Similarity_measure">similarity measures</a>.</p> <table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><a href="#damerau_levenshteins1-s2"><code class="language-plaintext highlighter-rouge">damerau_levenshtein(s1, s2)</code></a></td> <td style="text-align: left">Extension of Levenshtein distance to also include transposition of adjacent characters as an allowed edit operation. In other words, the minimum number of edit operations (insertions, deletions, substitutions or transpositions) required to change one string to another. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different.</td> </tr> <tr> <td style="text-align: left"><a href="#editdist3s1-s2"><code class="language-plaintext highlighter-rouge">editdist3(s1, s2)</code></a></td> <td style="text-align: left">Alias of <code class="language-plaintext highlighter-rouge">levenshtein</code> for SQLite compatibility. The minimum number of single-character edits (insertions, deletions or substitutions) required to change one string to the other. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different.</td> </tr> <tr> <td style="text-align: left"><a href="#hammings1-s2"><code class="language-plaintext highlighter-rouge">hamming(s1, s2)</code></a></td> <td style="text-align: left">The Hamming distance between to strings, i.e., the number of positions with different characters for two strings of equal length. Strings must be of equal length. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different.</td> </tr> <tr> <td style="text-align: left"><a href="#jaccards1-s2"><code class="language-plaintext highlighter-rouge">jaccard(s1, s2)</code></a></td> <td style="text-align: left">The Jaccard similarity between two strings. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different. Returns a number between 0 and 1.</td> </tr> <tr> <td style="text-align: left"><a href="#jaro_similaritys1-s2"><code class="language-plaintext highlighter-rouge">jaro_similarity(s1, s2)</code></a></td> <td style="text-align: left">The Jaro similarity between two strings. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different. Returns a number between 0 and 1.</td> </tr> <tr> <td style="text-align: left"><a href="#jaro_winkler_similaritys1-s2"><code class="language-plaintext highlighter-rouge">jaro_winkler_similarity(s1, s2)</code></a></td> <td style="text-align: left">The Jaro-Winkler similarity between two strings. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different. Returns a number between 0 and 1.</td> </tr> <tr> <td style="text-align: left"><a href="#levenshteins1-s2"><code class="language-plaintext highlighter-rouge">levenshtein(s1, s2)</code></a></td> <td style="text-align: left">The minimum number of single-character edits (insertions, deletions or substitutions) required to change one string to the other. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different.</td> </tr> <tr> <td style="text-align: left"><a href="#mismatchess1-s2"><code class="language-plaintext highlighter-rouge">mismatches(s1, s2)</code></a></td> <td style="text-align: left">Alias for <code class="language-plaintext highlighter-rouge">hamming(s1, s2)</code>. The number of positions with different characters for two strings of equal length. Strings must be of equal length. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different.</td> </tr> </tbody> </table> <h4 id="damerau_levenshteins1-s2"> <a style="text-decoration: none;" href="#damerau_levenshteins1-s2"><code class="language-plaintext highlighter-rouge">damerau_levenshtein(s1, s2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extension of Levenshtein distance to also include transposition of adjacent characters as an allowed edit operation. In other words, the minimum number of edit operations (insertions, deletions, substitutions or transpositions) required to change one string to another. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">damerau_levenshtein('duckdb', 'udckbd')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2</code></td> </tr> </tbody> </table> <h4 id="editdist3s1-s2"> <a style="text-decoration: none;" href="#editdist3s1-s2"><code class="language-plaintext highlighter-rouge">editdist3(s1, s2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Alias of <code class="language-plaintext highlighter-rouge">levenshtein</code> for SQLite compatibility. The minimum number of single-character edits (insertions, deletions or substitutions) required to change one string to the other. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">editdist3('duck', 'db')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">3</code></td> </tr> </tbody> </table> <h4 id="hammings1-s2"> <a style="text-decoration: none;" href="#hammings1-s2"><code class="language-plaintext highlighter-rouge">hamming(s1, s2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The Hamming distance between to strings, i.e., the number of positions with different characters for two strings of equal length. Strings must be of equal length. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">hamming('duck', 'luck')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1</code></td> </tr> </tbody> </table> <h4 id="jaccards1-s2"> <a style="text-decoration: none;" href="#jaccards1-s2"><code class="language-plaintext highlighter-rouge">jaccard(s1, s2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The Jaccard similarity between two strings. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different. Returns a number between 0 and 1.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">jaccard('duck', 'luck')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">0.6</code></td> </tr> </tbody> </table> <h4 id="jaro_similaritys1-s2"> <a style="text-decoration: none;" href="#jaro_similaritys1-s2"><code class="language-plaintext highlighter-rouge">jaro_similarity(s1, s2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The Jaro similarity between two strings. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different. Returns a number between 0 and 1.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">jaro_similarity('duck', 'duckdb')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">0.88</code></td> </tr> </tbody> </table> <h4 id="jaro_winkler_similaritys1-s2"> <a style="text-decoration: none;" href="#jaro_winkler_similaritys1-s2"><code class="language-plaintext highlighter-rouge">jaro_winkler_similarity(s1, s2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The Jaro-Winkler similarity between two strings. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different. Returns a number between 0 and 1.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">jaro_winkler_similarity('duck', 'duckdb')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">0.93</code></td> </tr> </tbody> </table> <h4 id="levenshteins1-s2"> <a style="text-decoration: none;" href="#levenshteins1-s2"><code class="language-plaintext highlighter-rouge">levenshtein(s1, s2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>The minimum number of single-character edits (insertions, deletions or substitutions) required to change one string to the other. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">levenshtein('duck', 'db')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">3</code></td> </tr> </tbody> </table> <h4 id="mismatchess1-s2"> <a style="text-decoration: none;" href="#mismatchess1-s2"><code class="language-plaintext highlighter-rouge">mismatches(s1, s2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Alias for <code class="language-plaintext highlighter-rouge">hamming(s1, s2)</code>. The number of positions with different characters for two strings of equal length. Strings must be of equal length. Characters of different cases (e.g., <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">A</code>) are considered different.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">mismatches('duck', 'luck')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1</code></td> </tr> </tbody> </table> <h2 id="formatters"> <a style="text-decoration: none;" href="#formatters">Formatters</a> </h2> <h3 id="fmt-syntax"> <a style="text-decoration: none;" href="#fmt-syntax"><code class="language-plaintext highlighter-rouge">fmt</code> Syntax</a> </h3> <p>The <code class="language-plaintext highlighter-rouge">format(format, parameters...)</code> function formats strings, loosely following the syntax of the <a href="https://fmt.dev/latest/syntax/">{fmt} open-source formatting library</a>.</p> <p>Format without additional parameters:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('Hello world'); -- Hello world</pre> <p>Format a string using {}:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('The answer is {}', 42); -- The answer is 42</pre> <p>Format a string using positional arguments:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('I''d rather be {1} than {0}.', 'right', 'happy'); -- I'd rather be happy than right.</pre> <h4 id="format-specifiers"> <a style="text-decoration: none;" href="#format-specifiers">Format Specifiers</a> </h4>  <table> <thead> <tr> <th style="text-align: left">Specifier</th> <th style="text-align: left">Description</th> <th style="text-align: left">Example</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">{:d}</code></td> <td style="text-align: left">integer</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">123456</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">{:E}</code></td> <td style="text-align: left">scientific notation</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">3.141593E+00</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">{:f}</code></td> <td style="text-align: left">float</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">4.560000</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">{:o}</code></td> <td style="text-align: left">octal</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">361100</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">{:s}</code></td> <td style="text-align: left">string</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">asd</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">{:x}</code></td> <td style="text-align: left">hexadecimal</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">1e240</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">{:tX}</code></td> <td style="text-align: left">integer, <code class="language-plaintext highlighter-rouge">X</code> is the thousand separator</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">123 456</code></td> </tr> </tbody> </table> <h4 id="formatting-types"> <a style="text-decoration: none;" href="#formatting-types">Formatting Types</a> </h4> <p>Integers:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('{} + {} = {}', 3, 5, 3 + 5); -- 3 + 5 = 8</pre> <p>Booleans:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('{} != {}', true, false); -- true != false</pre> <p>Format datetime values:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('{}', DATE '1992-01-01'); -- 1992-01-01
SELECT format('{}', TIME '12:01:00'); -- 12:01:00
SELECT format('{}', TIMESTAMP '1992-01-01 12:01:00'); -- 1992-01-01 12:01:00</pre> <p>Format BLOB:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('{}', BLOB '\x00hello'); -- \x00hello</pre> <p>Pad integers with 0s:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('{:04d}', 33); -- 0033</pre> <p>Create timestamps from integers:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('{:02d}:{:02d}:{:02d} {}', 12, 3, 16, 'AM'); -- 12:03:16 AM</pre> <p>Convert to hexadecimal:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('{:x}', 123_456_789); -- 75bcd15</pre> <p>Convert to binary:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('{:b}', 123_456_789); -- 111010110111100110100010101</pre> <h4 id="print-numbers-with-thousand-separators"> <a style="text-decoration: none;" href="#print-numbers-with-thousand-separators">Print Numbers with Thousand Separators</a> </h4> <p>Integers:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('{:,}',  123_456_789); -- 123,456,789
SELECT format('{:t.}', 123_456_789); -- 123.456.789
SELECT format('{:''}', 123_456_789); -- 123'456'789
SELECT format('{:_}',  123_456_789); -- 123_456_789
SELECT format('{:t }', 123_456_789); -- 123 456 789
SELECT format('{:tX}', 123_456_789); -- 123X456X789</pre> <p>Float, double and decimal:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT format('{:,f}',    123456.789); -- 123,456.78900
SELECT format('{:,.2f}',  123456.789); -- 123,456.79
SELECT format('{:t..2f}', 123456.789); -- 123.456,79</pre> <h3 id="printf-syntax"> <a style="text-decoration: none;" href="#printf-syntax"><code class="language-plaintext highlighter-rouge">printf</code> Syntax</a> </h3> <p>The <code class="language-plaintext highlighter-rouge">printf(format, parameters...)</code> function formats strings using the <a href="https://cplusplus.com/reference/cstdio/printf/"><code class="language-plaintext highlighter-rouge">printf</code> syntax</a>.</p> <p>Format without additional parameters:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('Hello world');</pre> <pre class="language-text highlighter-rouge" data-language="text">Hello world</pre> <p>Format a string using arguments in a given order:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('The answer to %s is %d', 'life', 42);</pre> <pre class="language-text highlighter-rouge" data-language="text">The answer to life is 42</pre> <p>Format a string using positional arguments <code class="language-plaintext highlighter-rouge">%position$formatter</code>, e.g., the second parameter as a string is encoded as <code class="language-plaintext highlighter-rouge">%2$s</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('I''d rather be %2$s than %1$s.', 'right', 'happy');</pre> <pre class="language-text highlighter-rouge" data-language="text">I'd rather be happy than right.</pre> <h4 id="format-specifiers-1"> <a style="text-decoration: none;" href="#format-specifiers-1">Format Specifiers</a> </h4>  <table> <thead> <tr> <th style="text-align: left">Specifier</th> <th style="text-align: left">Description</th> <th style="text-align: left">Example</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%c</code></td> <td style="text-align: left">character code to character</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">a</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%d</code></td> <td style="text-align: left">integer</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">123456</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%Xd</code></td> <td style="text-align: left">integer with thousand seperarator <code class="language-plaintext highlighter-rouge">X</code> from <code class="language-plaintext highlighter-rouge">,</code>, <code class="language-plaintext highlighter-rouge">.</code>, <code class="language-plaintext highlighter-rouge">''</code>, <code class="language-plaintext highlighter-rouge">_</code>
</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">123_456</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%E</code></td> <td style="text-align: left">scientific notation</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">3.141593E+00</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%f</code></td> <td style="text-align: left">float</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">4.560000</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%hd</code></td> <td style="text-align: left">integer</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">123456</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%hhd</code></td> <td style="text-align: left">integer</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">123456</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%lld</code></td> <td style="text-align: left">integer</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">123456</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%o</code></td> <td style="text-align: left">octal</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">361100</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%s</code></td> <td style="text-align: left">string</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">asd</code></td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%x</code></td> <td style="text-align: left">hexadecimal</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">1e240</code></td> </tr> </tbody> </table> <h4 id="formatting-types-1"> <a style="text-decoration: none;" href="#formatting-types-1">Formatting Types</a> </h4> <p>Integers:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('%d + %d = %d', 3, 5, 3 + 5); -- 3 + 5 = 8</pre> <p>Booleans:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('%s != %s', true, false); -- true != false</pre> <p>Format datetime values:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('%s', DATE '1992-01-01'); -- 1992-01-01
SELECT printf('%s', TIME '12:01:00'); -- 12:01:00
SELECT printf('%s', TIMESTAMP '1992-01-01 12:01:00'); -- 1992-01-01 12:01:00</pre> <p>Format BLOB:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('%s', BLOB '\x00hello'); -- \x00hello</pre> <p>Pad integers with 0s:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('%04d', 33); -- 0033</pre> <p>Create timestamps from integers:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('%02d:%02d:%02d %s', 12, 3, 16, 'AM'); -- 12:03:16 AM</pre> <p>Convert to hexadecimal:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('%x', 123_456_789); -- 75bcd15</pre> <p>Convert to binary:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('%b', 123_456_789); -- 111010110111100110100010101</pre> <h4 id="thousand-separators"> <a style="text-decoration: none;" href="#thousand-separators">Thousand Separators</a> </h4> <p>Integers:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('%,d',  123_456_789); -- 123,456,789
SELECT printf('%.d',  123_456_789); -- 123.456.789
SELECT printf('%''d', 123_456_789); -- 123'456'789
SELECT printf('%_d',  123_456_789); -- 123_456_789</pre> <p>Float, double and decimal:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT printf('%,f',   123456.789); -- 123,456.789000
SELECT printf('%,.2f', 123456.789); -- 123,456.79</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/functions/char.html" class="_attribution-link">https://duckdb.org/docs/sql/functions/char.html</a>
  </p>
</div>
