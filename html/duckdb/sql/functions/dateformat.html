<h1 class="title">Date Format Functions</h1>  <p>The <code class="language-plaintext highlighter-rouge">strftime</code> and <code class="language-plaintext highlighter-rouge">strptime</code> functions can be used to convert between <a href="../data_types/date.html"><code class="language-plaintext highlighter-rouge">DATE</code></a> / <a href="../data_types/timestamp.html"><code class="language-plaintext highlighter-rouge">TIMESTAMP</code></a> values and strings. This is often required when parsing CSV files, displaying output to the user or transferring information between programs. Because there are many possible date representations, these functions accept a <a href="#format-specifiers">format string</a> that describes how the date or timestamp should be structured.</p> <h2 id="strftime-examples"> <a style="text-decoration: none;" href="#strftime-examples"><code class="language-plaintext highlighter-rouge">strftime</code> Examples</a> </h2> <p>The <a href="timestamp.html#strftimetimestamp-format.html"><code class="language-plaintext highlighter-rouge">strftime(timestamp, format)</code></a> converts timestamps or dates to strings according to the specified pattern.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT strftime(DATE '1992-03-02', '%d/%m/%Y');</pre> <pre class="language-text highlighter-rouge" data-language="text">02/03/1992</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT strftime(TIMESTAMP '1992-03-02 20:32:45', '%A, %-d %B %Y - %I:%M:%S %p');</pre> <pre class="language-text highlighter-rouge" data-language="text">Monday, 2 March 1992 - 08:32:45 PM</pre> <h2 id="strptime-examples"> <a style="text-decoration: none;" href="#strptime-examples"><code class="language-plaintext highlighter-rouge">strptime</code> Examples</a> </h2> <p>The <a href="timestamp.html#strptimetext-format.html"><code class="language-plaintext highlighter-rouge">strptime(text, format)</code> function</a> converts strings to timestamps according to the specified pattern.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT strptime('02/03/1992', '%d/%m/%Y');</pre> <pre class="language-text highlighter-rouge" data-language="text">1992-03-02 00:00:00</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT strptime('Monday, 2 March 1992 - 08:32:45 PM', '%A, %-d %B %Y - %I:%M:%S %p');</pre> <pre class="language-text highlighter-rouge" data-language="text">1992-03-02 20:32:45</pre> <p>The <code class="language-plaintext highlighter-rouge">strptime</code> function throws an error on failure:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT strptime('02/50/1992', '%d/%m/%Y') AS x;</pre> <pre class="language-console highlighter-rouge" data-language="console">Invalid Input Error: Could not parse string "02/50/1992" according to format specifier "%d/%m/%Y"
02/50/1992
   ^
Error: Month out of range, expected a value between 1 and 12</pre> <p>To return <code class="language-plaintext highlighter-rouge">NULL</code> on failure, use the <a href="timestamp.html#try_strptimetext-format.html"><code class="language-plaintext highlighter-rouge">try_strptime</code> function</a>:</p> <pre class="language-text highlighter-rouge" data-language="text">NULL</pre> <h2 id="csv-parsing"> <a style="text-decoration: none;" href="#csv-parsing">CSV Parsing</a> </h2> <p>The date formats can also be specified during CSV parsing, either in the <a href="../statements/copy.html"><code class="language-plaintext highlighter-rouge">COPY</code> statement</a> or in the <code class="language-plaintext highlighter-rouge">read_csv</code> function. This can be done by either specifying a <code class="language-plaintext highlighter-rouge">DATEFORMAT</code> or a <code class="language-plaintext highlighter-rouge">TIMESTAMPFORMAT</code> (or both). <code class="language-plaintext highlighter-rouge">DATEFORMAT</code> will be used for converting dates, and <code class="language-plaintext highlighter-rouge">TIMESTAMPFORMAT</code> will be used for converting timestamps. Below are some examples for how to use this.</p> <p>In a <code class="language-plaintext highlighter-rouge">COPY</code> statement:</p> <pre class="language-sql highlighter-rouge" data-language="sql">COPY dates FROM 'test.csv' (DATEFORMAT '%d/%m/%Y', TIMESTAMPFORMAT '%A, %-d %B %Y - %I:%M:%S %p');</pre> <p>In a <code class="language-plaintext highlighter-rouge">read_csv</code> function:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT *
FROM read_csv('test.csv', dateformat = '%m/%d/%Y');</pre> <h2 id="format-specifiers"> <a style="text-decoration: none;" href="#format-specifiers">Format Specifiers</a> </h2> <p>Below is a full list of all available format specifiers.</p>  <table> <thead> <tr> <th style="text-align: left">Specifier</th> <th style="text-align: left">Description</th> <th style="text-align: left">Example</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%a</code></td> <td style="text-align: left">Abbreviated weekday name.</td> <td style="text-align: left">Sun, Mon, …</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%A</code></td> <td style="text-align: left">Full weekday name.</td> <td style="text-align: left">Sunday, Monday, …</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%b</code></td> <td style="text-align: left">Abbreviated month name.</td> <td style="text-align: left">Jan, Feb, …, Dec</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%B</code></td> <td style="text-align: left">Full month name.</td> <td style="text-align: left">January, February, …</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%c</code></td> <td style="text-align: left">ISO date and time representation</td> <td style="text-align: left">1992-03-02 10:30:20</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%d</code></td> <td style="text-align: left">Day of the month as a zero-padded decimal.</td> <td style="text-align: left">01, 02, …, 31</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%-d</code></td> <td style="text-align: left">Day of the month as a decimal number.</td> <td style="text-align: left">1, 2, …, 30</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%f</code></td> <td style="text-align: left">Microsecond as a decimal number, zero-padded on the left.</td> <td style="text-align: left">000000 - 999999</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%g</code></td> <td style="text-align: left">Millisecond as a decimal number, zero-padded on the left.</td> <td style="text-align: left">000 - 999</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%G</code></td> <td style="text-align: left">ISO 8601 year with century representing the year that contains the greater part of the ISO week (see <code class="language-plaintext highlighter-rouge">%V</code>).</td> <td style="text-align: left">0001, 0002, …, 2013, 2014, …, 9998, 9999</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%H</code></td> <td style="text-align: left">Hour (24-hour clock) as a zero-padded decimal number.</td> <td style="text-align: left">00, 01, …, 23</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%-H</code></td> <td style="text-align: left">Hour (24-hour clock) as a decimal number.</td> <td style="text-align: left">0, 1, …, 23</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%I</code></td> <td style="text-align: left">Hour (12-hour clock) as a zero-padded decimal number.</td> <td style="text-align: left">01, 02, …, 12</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%-I</code></td> <td style="text-align: left">Hour (12-hour clock) as a decimal number.</td> <td style="text-align: left">1, 2, … 12</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%j</code></td> <td style="text-align: left">Day of the year as a zero-padded decimal number.</td> <td style="text-align: left">001, 002, …, 366</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%-j</code></td> <td style="text-align: left">Day of the year as a decimal number.</td> <td style="text-align: left">1, 2, …, 366</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%m</code></td> <td style="text-align: left">Month as a zero-padded decimal number.</td> <td style="text-align: left">01, 02, …, 12</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%-m</code></td> <td style="text-align: left">Month as a decimal number.</td> <td style="text-align: left">1, 2, …, 12</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%M</code></td> <td style="text-align: left">Minute as a zero-padded decimal number.</td> <td style="text-align: left">00, 01, …, 59</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%-M</code></td> <td style="text-align: left">Minute as a decimal number.</td> <td style="text-align: left">0, 1, …, 59</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%n</code></td> <td style="text-align: left">Nanosecond as a decimal number, zero-padded on the left.</td> <td style="text-align: left">000000000 - 999999999</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%p</code></td> <td style="text-align: left">Locale's AM or PM.</td> <td style="text-align: left">AM, PM</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%S</code></td> <td style="text-align: left">Second as a zero-padded decimal number.</td> <td style="text-align: left">00, 01, …, 59</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%-S</code></td> <td style="text-align: left">Second as a decimal number.</td> <td style="text-align: left">0, 1, …, 59</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%u</code></td> <td style="text-align: left">ISO 8601 weekday as a decimal number where 1 is Monday.</td> <td style="text-align: left">1, 2, …, 7</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%U</code></td> <td style="text-align: left">Week number of the year. Week 01 starts on the first Sunday of the year, so there can be week 00. Note that this is not compliant with the week date standard in ISO-8601.</td> <td style="text-align: left">00, 01, …, 53</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%V</code></td> <td style="text-align: left">ISO 8601 week as a decimal number with Monday as the first day of the week. Week 01 is the week containing Jan 4.</td> <td style="text-align: left">01, …, 53</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%w</code></td> <td style="text-align: left">Weekday as a decimal number.</td> <td style="text-align: left">0, 1, …, 6</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%W</code></td> <td style="text-align: left">Week number of the year. Week 01 starts on the first Monday of the year, so there can be week 00. Note that this is not compliant with the week date standard in ISO-8601.</td> <td style="text-align: left">00, 01, …, 53</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%x</code></td> <td style="text-align: left">ISO date representation</td> <td style="text-align: left">1992-03-02</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%X</code></td> <td style="text-align: left">ISO time representation</td> <td style="text-align: left">10:30:20</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%y</code></td> <td style="text-align: left">Year without century as a zero-padded decimal number.</td> <td style="text-align: left">00, 01, …, 99</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%-y</code></td> <td style="text-align: left">Year without century as a decimal number.</td> <td style="text-align: left">0, 1, …, 99</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%Y</code></td> <td style="text-align: left">Year with century as a decimal number.</td> <td style="text-align: left">2013, 2019 etc.</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%z</code></td> <td style="text-align: left">
<a href="https://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC">Time offset from UTC</a> in the form ±HH:MM, ±HHMM, or ±HH.</td> <td style="text-align: left">-0700</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%Z</code></td> <td style="text-align: left">Time zone name.</td> <td style="text-align: left">Europe/Amsterdam</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">%%</code></td> <td style="text-align: left">A literal <code class="language-plaintext highlighter-rouge">%</code> character.</td> <td style="text-align: left">%</td> </tr> </tbody> </table><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/functions/dateformat.html" class="_attribution-link">https://duckdb.org/docs/sql/functions/dateformat.html</a>
  </p>
</div>
