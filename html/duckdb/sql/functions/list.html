<h1 class="title">List Functions</h1>   <table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><a href="#listindex"><code class="language-plaintext highlighter-rouge">list[index]</code></a></td> <td style="text-align: left">Bracket notation serves as an alias for <code class="language-plaintext highlighter-rouge">list_extract</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#listbeginend"><code class="language-plaintext highlighter-rouge">list[begin:end]</code></a></td> <td style="text-align: left">Bracket notation with colon is an alias for <code class="language-plaintext highlighter-rouge">list_slice</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#listbeginendstep"><code class="language-plaintext highlighter-rouge">list[begin:end:step]</code></a></td> <td style="text-align: left">
<code class="language-plaintext highlighter-rouge">list_slice</code> in bracket notation with an added <code class="language-plaintext highlighter-rouge">step</code> feature.</td> </tr> <tr> <td style="text-align: left"><a href="#array_pop_backlist"><code class="language-plaintext highlighter-rouge">array_pop_back(list)</code></a></td> <td style="text-align: left">Returns the list without the last element.</td> </tr> <tr> <td style="text-align: left"><a href="#array_pop_frontlist"><code class="language-plaintext highlighter-rouge">array_pop_front(list)</code></a></td> <td style="text-align: left">Returns the list without the first element.</td> </tr> <tr> <td style="text-align: left"><a href="#flattenlist_of_lists"><code class="language-plaintext highlighter-rouge">flatten(list_of_lists)</code></a></td> <td style="text-align: left">Concatenate a list of lists into a single list. This only flattens one level of the list (see <a href="#flattening">examples</a>).</td> </tr> <tr> <td style="text-align: left"><a href="#lenlist"><code class="language-plaintext highlighter-rouge">len(list)</code></a></td> <td style="text-align: left">Return the length of the list.</td> </tr> <tr> <td style="text-align: left"><a href="#list_aggregatelist-name"><code class="language-plaintext highlighter-rouge">list_aggregate(list, name)</code></a></td> <td style="text-align: left">Executes the aggregate function <code class="language-plaintext highlighter-rouge">name</code> on the elements of <code class="language-plaintext highlighter-rouge">list</code>. See the <a href="list.html#list-aggregates.html">List Aggregates</a> section for more details.</td> </tr> <tr> <td style="text-align: left"><a href="#list_any_valuelist"><code class="language-plaintext highlighter-rouge">list_any_value(list)</code></a></td> <td style="text-align: left">Returns the first non-null value in the list.</td> </tr> <tr> <td style="text-align: left"><a href="#list_appendlist-element"><code class="language-plaintext highlighter-rouge">list_append(list, element)</code></a></td> <td style="text-align: left">Appends <code class="language-plaintext highlighter-rouge">element</code> to <code class="language-plaintext highlighter-rouge">list</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#list_concatlist1-list2"><code class="language-plaintext highlighter-rouge">list_concat(list1, list2)</code></a></td> <td style="text-align: left">Concatenate two lists. NULL inputs are skipped. See also <code class="language-plaintext highlighter-rouge">||</code>
</td> </tr> <tr> <td style="text-align: left"><a href="#list_containslist-element"><code class="language-plaintext highlighter-rouge">list_contains(list, element)</code></a></td> <td style="text-align: left">Returns true if the list contains the element.</td> </tr> <tr> <td style="text-align: left"><a href="#list_cosine_similaritylist1-list2"><code class="language-plaintext highlighter-rouge">list_cosine_similarity(list1, list2)</code></a></td> <td style="text-align: left">Compute the cosine similarity between two lists.</td> </tr> <tr> <td style="text-align: left"><a href="#list_cosine_distancelist1-list2"><code class="language-plaintext highlighter-rouge">list_cosine_distance(list1, list2)</code></a></td> <td style="text-align: left">Compute the cosine distance between two lists. Equivalent to <code class="language-plaintext highlighter-rouge">1.0 - list_cosine_similarity</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#list_distancelist1-list2"><code class="language-plaintext highlighter-rouge">list_distance(list1, list2)</code></a></td> <td style="text-align: left">Calculates the Euclidean distance between two points with coordinates given in two inputs lists of equal length.</td> </tr> <tr> <td style="text-align: left"><a href="#list_distinctlist"><code class="language-plaintext highlighter-rouge">list_distinct(list)</code></a></td> <td style="text-align: left">Removes all duplicates and <code class="language-plaintext highlighter-rouge">NULL</code> values from a list. Does not preserve the original order.</td> </tr> <tr> <td style="text-align: left"><a href="#list_dot_productlist1-list2"><code class="language-plaintext highlighter-rouge">list_dot_product(list1, list2)</code></a></td> <td style="text-align: left">Computes the dot product of two same-sized lists of numbers.</td> </tr> <tr> <td style="text-align: left"><a href="#list_negative_dot_productlist1-list2"><code class="language-plaintext highlighter-rouge">list_negative_dot_product(list1, list2)</code></a></td> <td style="text-align: left">Computes the negative dot product of two same-sized lists of numbers. Equivalent to <code class="language-plaintext highlighter-rouge">- list_dot_product</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#list_extractlist-index"><code class="language-plaintext highlighter-rouge">list_extract(list, index)</code></a></td> <td style="text-align: left">Extract the <code class="language-plaintext highlighter-rouge">index</code>th (1-based) value from the list.</td> </tr> <tr> <td style="text-align: left"><a href="#list_filterlist-lambda"><code class="language-plaintext highlighter-rouge">list_filter(list, lambda)</code></a></td> <td style="text-align: left">Constructs a list from those elements of the input list for which the lambda function returns true. See the <a href="lambda.html#filter.html">Lambda Functions</a> page for more details.</td> </tr> <tr> <td style="text-align: left"><a href="#list_grade_uplist"><code class="language-plaintext highlighter-rouge">list_grade_up(list)</code></a></td> <td style="text-align: left">Works like sort, but the results are the indexes that correspond to the position in the original <code class="language-plaintext highlighter-rouge">list</code> instead of the actual values.</td> </tr> <tr> <td style="text-align: left"><a href="#list_has_alllist-sub-list"><code class="language-plaintext highlighter-rouge">list_has_all(list, sub-list)</code></a></td> <td style="text-align: left">Returns true if all elements of sub-list exist in list.</td> </tr> <tr> <td style="text-align: left"><a href="#list_has_anylist1-list2"><code class="language-plaintext highlighter-rouge">list_has_any(list1, list2)</code></a></td> <td style="text-align: left">Returns true if any elements exist is both lists.</td> </tr> <tr> <td style="text-align: left"><a href="#list_intersectlist1-list2"><code class="language-plaintext highlighter-rouge">list_intersect(list1, list2)</code></a></td> <td style="text-align: left">Returns a list of all the elements that exist in both <code class="language-plaintext highlighter-rouge">l1</code> and <code class="language-plaintext highlighter-rouge">l2</code>, without duplicates.</td> </tr> <tr> <td style="text-align: left"><a href="#list_positionlist-element"><code class="language-plaintext highlighter-rouge">list_position(list, element)</code></a></td> <td style="text-align: left">Returns the index of the element if the list contains the element. If the element is not found, it returns <code class="language-plaintext highlighter-rouge">NULL</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#list_prependelement-list"><code class="language-plaintext highlighter-rouge">list_prepend(element, list)</code></a></td> <td style="text-align: left">Prepends <code class="language-plaintext highlighter-rouge">element</code> to <code class="language-plaintext highlighter-rouge">list</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#list_reducelist-lambda"><code class="language-plaintext highlighter-rouge">list_reduce(list, lambda)</code></a></td> <td style="text-align: left">Returns a single value that is the result of applying the lambda function to each element of the input list. See the <a href="lambda.html#reduce.html">Lambda Functions</a> page for more details.</td> </tr> <tr> <td style="text-align: left"><a href="#list_resizelist-size-value"><code class="language-plaintext highlighter-rouge">list_resize(list, size[, value])</code></a></td> <td style="text-align: left">Resizes the list to contain <code class="language-plaintext highlighter-rouge">size</code> elements. Initializes new elements with <code class="language-plaintext highlighter-rouge">value</code> or <code class="language-plaintext highlighter-rouge">NULL</code> if <code class="language-plaintext highlighter-rouge">value</code> is not set.</td> </tr> <tr> <td style="text-align: left"><a href="#list_reverse_sortlist"><code class="language-plaintext highlighter-rouge">list_reverse_sort(list)</code></a></td> <td style="text-align: left">Sorts the elements of the list in reverse order. See the <a href="list.html#sorting-lists.html">Sorting Lists</a> section for more details about the <code class="language-plaintext highlighter-rouge">NULL</code> sorting order.</td> </tr> <tr> <td style="text-align: left"><a href="#list_reverselist"><code class="language-plaintext highlighter-rouge">list_reverse(list)</code></a></td> <td style="text-align: left">Reverses the list.</td> </tr> <tr> <td style="text-align: left"><a href="#list_selectvalue_list-index_list"><code class="language-plaintext highlighter-rouge">list_select(value_list, index_list)</code></a></td> <td style="text-align: left">Returns a list based on the elements selected by the <code class="language-plaintext highlighter-rouge">index_list</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#list_slicelist-begin-end-step"><code class="language-plaintext highlighter-rouge">list_slice(list, begin, end, step)</code></a></td> <td style="text-align: left">
<code class="language-plaintext highlighter-rouge">list_slice</code> with added <code class="language-plaintext highlighter-rouge">step</code> feature.</td> </tr> <tr> <td style="text-align: left"><a href="#list_slicelist-begin-end"><code class="language-plaintext highlighter-rouge">list_slice(list, begin, end)</code></a></td> <td style="text-align: left">Extract a sublist using slice conventions. Negative values are accepted. See <a href="list.html#slicing.html">slicing</a>.</td> </tr> <tr> <td style="text-align: left"><a href="#list_sortlist"><code class="language-plaintext highlighter-rouge">list_sort(list)</code></a></td> <td style="text-align: left">Sorts the elements of the list. See the <a href="list.html#sorting-lists.html">Sorting Lists</a> section for more details about the sorting order and the <code class="language-plaintext highlighter-rouge">NULL</code> sorting order.</td> </tr> <tr> <td style="text-align: left"><a href="#list_transformlist-lambda"><code class="language-plaintext highlighter-rouge">list_transform(list, lambda)</code></a></td> <td style="text-align: left">Returns a list that is the result of applying the lambda function to each element of the input list. See the <a href="lambda.html#transform.html">Lambda Functions</a> page for more details.</td> </tr> <tr> <td style="text-align: left"><a href="#list_uniquelist"><code class="language-plaintext highlighter-rouge">list_unique(list)</code></a></td> <td style="text-align: left">Counts the unique elements of a list.</td> </tr> <tr> <td style="text-align: left"><a href="#list_valueany-"><code class="language-plaintext highlighter-rouge">list_value(any, ...)</code></a></td> <td style="text-align: left">Create a <code class="language-plaintext highlighter-rouge">LIST</code> containing the argument values.</td> </tr> <tr> <td style="text-align: left"><a href="#list_wherevalue_list-mask_list"><code class="language-plaintext highlighter-rouge">list_where(value_list, mask_list)</code></a></td> <td style="text-align: left">Returns a list with the <code class="language-plaintext highlighter-rouge">BOOLEAN</code>s in <code class="language-plaintext highlighter-rouge">mask_list</code> applied as a mask to the <code class="language-plaintext highlighter-rouge">value_list</code>.</td> </tr> <tr> <td style="text-align: left"><a href="#list_ziplist1-list2-"><code class="language-plaintext highlighter-rouge">list_zip(list_1, list_2, ...[, truncate])</code></a></td> <td style="text-align: left">Zips <em>k</em> <code class="language-plaintext highlighter-rouge">LIST</code>s to a new <code class="language-plaintext highlighter-rouge">LIST</code> whose length will be that of the longest list. Its elements are structs of <em>k</em> elements from each list <code class="language-plaintext highlighter-rouge">list_1</code>, …, <code class="language-plaintext highlighter-rouge">list_k</code>, missing elements are replaced with <code class="language-plaintext highlighter-rouge">NULL</code>. If <code class="language-plaintext highlighter-rouge">truncate</code> is set, all lists are truncated to the smallest list length.</td> </tr> <tr> <td style="text-align: left"><a href="#unnestlist"><code class="language-plaintext highlighter-rouge">unnest(list)</code></a></td> <td style="text-align: left">Unnests a list by one level. Note that this is a special function that alters the cardinality of the result. See the <a href="../query_syntax/unnest.html"><code class="language-plaintext highlighter-rouge">unnest</code> page</a> for more details.</td> </tr> </tbody> </table> <h4 id="listindex"> <a style="text-decoration: none;" href="#listindex"><code class="language-plaintext highlighter-rouge">list[index]</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Bracket notation serves as an alias for <code class="language-plaintext highlighter-rouge">list_extract</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">[4, 5, 6][3]</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">6</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">list_extract</code></td> </tr> </tbody> </table> <h4 id="listbeginend"> <a style="text-decoration: none;" href="#listbeginend"><code class="language-plaintext highlighter-rouge">list[begin:end]</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Bracket notation with colon is an alias for <code class="language-plaintext highlighter-rouge">list_slice</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">[4, 5, 6][2:3]</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[5, 6]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">list_slice</code></td> </tr> </tbody> </table> <h4 id="listbeginendstep"> <a style="text-decoration: none;" href="#listbeginendstep"><code class="language-plaintext highlighter-rouge">list[begin:end:step]</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>
<code class="language-plaintext highlighter-rouge">list_slice</code> in bracket notation with an added <code class="language-plaintext highlighter-rouge">step</code> feature.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">[4, 5, 6][:-:2]</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[4, 6]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">list_slice</code></td> </tr> </tbody> </table> <h4 id="array_pop_backlist"> <a style="text-decoration: none;" href="#array_pop_backlist"><code class="language-plaintext highlighter-rouge">array_pop_back(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the list without the last element.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_pop_back([4, 5, 6])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[4, 5]</code></td> </tr> </tbody> </table> <h4 id="array_pop_frontlist"> <a style="text-decoration: none;" href="#array_pop_frontlist"><code class="language-plaintext highlighter-rouge">array_pop_front(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the list without the first element.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_pop_front([4, 5, 6])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[5, 6]</code></td> </tr> </tbody> </table> <h4 id="flattenlist_of_lists"> <a style="text-decoration: none;" href="#flattenlist_of_lists"><code class="language-plaintext highlighter-rouge">flatten(list_of_lists)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Concatenate a list of lists into a single list. This only flattens one level of the list (see <a href="#flattening">examples</a>).</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">flatten([[1, 2], [3, 4]])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[1, 2, 3, 4]</code></td> </tr> </tbody> </table> <h4 id="lenlist"> <a style="text-decoration: none;" href="#lenlist"><code class="language-plaintext highlighter-rouge">len(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Return the length of the list.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">len([1, 2, 3])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">3</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_length</code></td> </tr> </tbody> </table> <h4 id="list_aggregatelist-name"> <a style="text-decoration: none;" href="#list_aggregatelist-name"><code class="language-plaintext highlighter-rouge">list_aggregate(list, name)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Executes the aggregate function <code class="language-plaintext highlighter-rouge">name</code> on the elements of <code class="language-plaintext highlighter-rouge">list</code>. See the <a href="list.html#list-aggregates.html">List Aggregates</a> section for more details.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_aggregate([1, 2, NULL], 'min')</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">list_aggr</code>, <code class="language-plaintext highlighter-rouge">aggregate</code>, <code class="language-plaintext highlighter-rouge">array_aggregate</code>, <code class="language-plaintext highlighter-rouge">array_aggr</code>
</td> </tr> </tbody> </table> <h4 id="list_any_valuelist"> <a style="text-decoration: none;" href="#list_any_valuelist"><code class="language-plaintext highlighter-rouge">list_any_value(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the first non-null value in the list.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_any_value([NULL, -3])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">-3</code></td> </tr> </tbody> </table> <h4 id="list_appendlist-element"> <a style="text-decoration: none;" href="#list_appendlist-element"><code class="language-plaintext highlighter-rouge">list_append(list, element)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Appends <code class="language-plaintext highlighter-rouge">element</code> to <code class="language-plaintext highlighter-rouge">list</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_append([2, 3], 4)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[2, 3, 4]</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">array_append</code>, <code class="language-plaintext highlighter-rouge">array_push_back</code>
</td> </tr> </tbody> </table> <h4 id="list_concatlist1-list2"> <a style="text-decoration: none;" href="#list_concatlist1-list2"><code class="language-plaintext highlighter-rouge">list_concat(list1, list2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Concatenate two lists. <code class="language-plaintext highlighter-rouge">NULL</code> inputs are skipped. See also <code class="language-plaintext highlighter-rouge">||</code>
</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_concat([2, 3], [4, 5, 6])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[2, 3, 4, 5, 6]</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">list_cat</code>, <code class="language-plaintext highlighter-rouge">array_concat</code>, <code class="language-plaintext highlighter-rouge">array_cat</code>
</td> </tr> </tbody> </table> <h4 id="list_containslist-element"> <a style="text-decoration: none;" href="#list_containslist-element"><code class="language-plaintext highlighter-rouge">list_contains(list, element)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns true if the list contains the element.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_contains([1, 2, NULL], 1)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">list_has</code>, <code class="language-plaintext highlighter-rouge">array_contains</code>, <code class="language-plaintext highlighter-rouge">array_has</code>
</td> </tr> </tbody> </table> <h4 id="list_cosine_similaritylist1-list2"> <a style="text-decoration: none;" href="#list_cosine_similaritylist1-list2"><code class="language-plaintext highlighter-rouge">list_cosine_similarity(list1, list2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Compute the cosine similarity between two lists.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_cosine_similarity([1, 2, 3], [1, 2, 5])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">0.9759000729485332</code></td> </tr> </tbody> </table> <h4 id="list_cosine_distancelist1-list2"> <a style="text-decoration: none;" href="#list_cosine_distancelist1-list2"><code class="language-plaintext highlighter-rouge">list_cosine_distance(list1, list2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Compute the cosine distance between two lists. Equivalent to <code class="language-plaintext highlighter-rouge">1.0 - list_cosine_similarity</code>
</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_cosine_distance([1, 2, 3], [1, 2, 5])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">0.007416606</code></td> </tr> </tbody> </table> <h4 id="list_distancelist1-list2"> <a style="text-decoration: none;" href="#list_distancelist1-list2"><code class="language-plaintext highlighter-rouge">list_distance(list1, list2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Calculates the Euclidean distance between two points with coordinates given in two inputs lists of equal length.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_distance([1, 2, 3], [1, 2, 5])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2.0</code></td> </tr> </tbody> </table> <h4 id="list_distinctlist"> <a style="text-decoration: none;" href="#list_distinctlist"><code class="language-plaintext highlighter-rouge">list_distinct(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Removes all duplicates and <code class="language-plaintext highlighter-rouge">NULL</code> values from a list. Does not preserve the original order.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_distinct([1, 1, NULL, -3, 1, 5])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[1, 5, -3]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_distinct</code></td> </tr> </tbody> </table> <h4 id="list_dot_productlist1-list2"> <a style="text-decoration: none;" href="#list_dot_productlist1-list2"><code class="language-plaintext highlighter-rouge">list_dot_product(list1, list2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Computes the dot product of two same-sized lists of numbers.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_dot_product([1, 2, 3], [1, 2, 5])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">20.0</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">list_inner_product</code></td> </tr> </tbody> </table> <h4 id="list_negative_dot_productlist1-list2"> <a style="text-decoration: none;" href="#list_negative_dot_productlist1-list2"><code class="language-plaintext highlighter-rouge">list_negative_dot_product(list1, list2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Computes the negative dot product of two same-sized lists of numbers. Equivalent to <code class="language-plaintext highlighter-rouge">- list_dot_product</code>
</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_negative_dot_product([1, 2, 3], [1, 2, 5])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">-20.0</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">list_negative_inner_product</code></td> </tr> </tbody> </table> <h4 id="list_extractlist-index"> <a style="text-decoration: none;" href="#list_extractlist-index"><code class="language-plaintext highlighter-rouge">list_extract(list, index)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract the <code class="language-plaintext highlighter-rouge">index</code>th (1-based) value from the list.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_extract([4, 5, 6], 3)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">6</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">list_element</code>, <code class="language-plaintext highlighter-rouge">array_extract</code>
</td> </tr> </tbody> </table> <h4 id="list_filterlist-lambda"> <a style="text-decoration: none;" href="#list_filterlist-lambda"><code class="language-plaintext highlighter-rouge">list_filter(list, lambda)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Constructs a list from those elements of the input list for which the lambda function returns true. See the <a href="lambda.html#filter.html">Lambda Functions</a> page for more details.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_filter([4, 5, 6], x -&gt; x &gt; 4)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[5, 6]</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">array_filter</code>, <code class="language-plaintext highlighter-rouge">filter</code>
</td> </tr> </tbody> </table> <h4 id="list_grade_uplist"> <a style="text-decoration: none;" href="#list_grade_uplist"><code class="language-plaintext highlighter-rouge">list_grade_up(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Works like sort, but the results are the indexes that correspond to the position in the original <code class="language-plaintext highlighter-rouge">list</code> instead of the actual values.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_grade_up([30, 10, 40, 20])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[2, 4, 1, 3]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_grade_up</code></td> </tr> </tbody> </table> <h4 id="list_has_alllist-sub-list"> <a style="text-decoration: none;" href="#list_has_alllist-sub-list"><code class="language-plaintext highlighter-rouge">list_has_all(list, sub-list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns true if all elements of sub-list exist in list.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_has_all([4, 5, 6], [4, 6])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_has_all</code></td> </tr> </tbody> </table> <h4 id="list_has_anylist1-list2"> <a style="text-decoration: none;" href="#list_has_anylist1-list2"><code class="language-plaintext highlighter-rouge">list_has_any(list1, list2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns true if any elements exist is both lists.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_has_any([1, 2, 3], [2, 3, 4])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_has_any</code></td> </tr> </tbody> </table> <h4 id="list_intersectlist1-list2"> <a style="text-decoration: none;" href="#list_intersectlist1-list2"><code class="language-plaintext highlighter-rouge">list_intersect(list1, list2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a list of all the elements that exist in both <code class="language-plaintext highlighter-rouge">l1</code> and <code class="language-plaintext highlighter-rouge">l2</code>, without duplicates.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_intersect([1, 2, 3], [2, 3, 4])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[2, 3]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_intersect</code></td> </tr> </tbody> </table> <h4 id="list_positionlist-element"> <a style="text-decoration: none;" href="#list_positionlist-element"><code class="language-plaintext highlighter-rouge">list_position(list, element)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns the index of the element if the list contains the element. If the element is not found, it returns <code class="language-plaintext highlighter-rouge">NULL</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_position([1, 2, NULL], 2)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">2</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">list_indexof</code>, <code class="language-plaintext highlighter-rouge">array_position</code>, <code class="language-plaintext highlighter-rouge">array_indexof</code>
</td> </tr> </tbody> </table> <h4 id="list_prependelement-list"> <a style="text-decoration: none;" href="#list_prependelement-list"><code class="language-plaintext highlighter-rouge">list_prepend(element, list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Prepends <code class="language-plaintext highlighter-rouge">element</code> to <code class="language-plaintext highlighter-rouge">list</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_prepend(3, [4, 5, 6])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[3, 4, 5, 6]</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">array_prepend</code>, <code class="language-plaintext highlighter-rouge">array_push_front</code>
</td> </tr> </tbody> </table> <h4 id="list_reducelist-lambda"> <a style="text-decoration: none;" href="#list_reducelist-lambda"><code class="language-plaintext highlighter-rouge">list_reduce(list, lambda)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a single value that is the result of applying the lambda function to each element of the input list. See the <a href="lambda.html#reduce.html">Lambda Functions</a> page for more details.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_reduce([4, 5, 6], (x, y) -&gt; x + y)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">15</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">array_reduce</code>, <code class="language-plaintext highlighter-rouge">reduce</code>
</td> </tr> </tbody> </table> <h4 id="list_resizelist-size-value"> <a style="text-decoration: none;" href="#list_resizelist-size-value"><code class="language-plaintext highlighter-rouge">list_resize(list, size[, value])</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Resizes the list to contain <code class="language-plaintext highlighter-rouge">size</code> elements. Initializes new elements with <code class="language-plaintext highlighter-rouge">value</code> or <code class="language-plaintext highlighter-rouge">NULL</code> if <code class="language-plaintext highlighter-rouge">value</code> is not set.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_resize([1, 2, 3], 5, 0)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[1, 2, 3, 0, 0]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_resize</code></td> </tr> </tbody> </table> <h4 id="list_reverse_sortlist"> <a style="text-decoration: none;" href="#list_reverse_sortlist"><code class="language-plaintext highlighter-rouge">list_reverse_sort(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Sorts the elements of the list in reverse order. See the <a href="list.html#sorting-lists.html">Sorting Lists</a> section for more details about the <code class="language-plaintext highlighter-rouge">NULL</code> sorting order.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_reverse_sort([3, 6, 1, 2])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[6, 3, 2, 1]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_reverse_sort</code></td> </tr> </tbody> </table> <h4 id="list_reverselist"> <a style="text-decoration: none;" href="#list_reverselist"><code class="language-plaintext highlighter-rouge">list_reverse(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Reverses the list.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_reverse([3, 6, 1, 2])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[2, 1, 6, 3]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_reverse</code></td> </tr> </tbody> </table> <h4 id="list_selectvalue_list-index_list"> <a style="text-decoration: none;" href="#list_selectvalue_list-index_list"><code class="language-plaintext highlighter-rouge">list_select(value_list, index_list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a list based on the elements selected by the <code class="language-plaintext highlighter-rouge">index_list</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_select([10, 20, 30, 40], [1, 4])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[10, 40]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_select</code></td> </tr> </tbody> </table> <h4 id="list_slicelist-begin-end-step"> <a style="text-decoration: none;" href="#list_slicelist-begin-end-step"><code class="language-plaintext highlighter-rouge">list_slice(list, begin, end, step)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>
<code class="language-plaintext highlighter-rouge">list_slice</code> with added <code class="language-plaintext highlighter-rouge">step</code> feature.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_slice([4, 5, 6], 1, 3, 2)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[4, 6]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_slice</code></td> </tr> </tbody> </table> <h4 id="list_slicelist-begin-end"> <a style="text-decoration: none;" href="#list_slicelist-begin-end"><code class="language-plaintext highlighter-rouge">list_slice(list, begin, end)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Extract a sublist using slice conventions. Negative values are accepted. See <a href="list.html#slicing.html">slicing</a>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_slice([4, 5, 6], 2, 3)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[5, 6]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_slice</code></td> </tr> </tbody> </table> <h4 id="list_sortlist"> <a style="text-decoration: none;" href="#list_sortlist"><code class="language-plaintext highlighter-rouge">list_sort(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Sorts the elements of the list. See the <a href="list.html#sorting-lists.html">Sorting Lists</a> section for more details about the sorting order and the <code class="language-plaintext highlighter-rouge">NULL</code> sorting order.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_sort([3, 6, 1, 2])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[1, 2, 3, 6]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_sort</code></td> </tr> </tbody> </table> <h4 id="list_transformlist-lambda"> <a style="text-decoration: none;" href="#list_transformlist-lambda"><code class="language-plaintext highlighter-rouge">list_transform(list, lambda)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a list that is the result of applying the lambda function to each element of the input list. See the <a href="lambda.html#transform.html">Lambda Functions</a> page for more details.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_transform([4, 5, 6], x -&gt; x + 1)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[5, 6, 7]</code></td> </tr> <tr> <td><strong>Aliases</strong></td> <td>
<code class="language-plaintext highlighter-rouge">array_transform</code>, <code class="language-plaintext highlighter-rouge">apply</code>, <code class="language-plaintext highlighter-rouge">list_apply</code>, <code class="language-plaintext highlighter-rouge">array_apply</code>
</td> </tr> </tbody> </table> <h4 id="list_uniquelist"> <a style="text-decoration: none;" href="#list_uniquelist"><code class="language-plaintext highlighter-rouge">list_unique(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Counts the unique elements of a list.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_unique([1, 1, NULL, -3, 1, 5])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">3</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_unique</code></td> </tr> </tbody> </table> <h4 id="list_valueany-"> <a style="text-decoration: none;" href="#list_valueany-"><code class="language-plaintext highlighter-rouge">list_value(any, ...)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Create a <code class="language-plaintext highlighter-rouge">LIST</code> containing the argument values.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_value(4, 5, 6)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[4, 5, 6]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">list_pack</code></td> </tr> </tbody> </table> <h4 id="list_wherevalue_list-mask_list"> <a style="text-decoration: none;" href="#list_wherevalue_list-mask_list"><code class="language-plaintext highlighter-rouge">list_where(value_list, mask_list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Returns a list with the <code class="language-plaintext highlighter-rouge">BOOLEAN</code>s in <code class="language-plaintext highlighter-rouge">mask_list</code> applied as a mask to the <code class="language-plaintext highlighter-rouge">value_list</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_where([10, 20, 30, 40], [true, false, false, true])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[10, 40]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_where</code></td> </tr> </tbody> </table> <h4 id="list_ziplist1-list2-"> <a style="text-decoration: none;" href="#list_ziplist1-list2-"><code class="language-plaintext highlighter-rouge">list_zip(list1, list2, ...)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Zips <em>k</em> <code class="language-plaintext highlighter-rouge">LIST</code>s to a new <code class="language-plaintext highlighter-rouge">LIST</code> whose length will be that of the longest list. Its elements are structs of <em>k</em> elements from each list <code class="language-plaintext highlighter-rouge">list_1</code>, …, <code class="language-plaintext highlighter-rouge">list_k</code>, missing elements are replaced with <code class="language-plaintext highlighter-rouge">NULL</code>. If <code class="language-plaintext highlighter-rouge">truncate</code> is set, all lists are truncated to the smallest list length.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">list_zip([1, 2], [3, 4], [5, 6])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[(1, 3, 5), (2, 4, 6)]</code></td> </tr> <tr> <td><strong>Alias</strong></td> <td><code class="language-plaintext highlighter-rouge">array_zip</code></td> </tr> </tbody> </table> <h4 id="unnestlist"> <a style="text-decoration: none;" href="#unnestlist"><code class="language-plaintext highlighter-rouge">unnest(list)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Unnests a list by one level. Note that this is a special function that alters the cardinality of the result. See the <a href="../query_syntax/unnest.html"><code class="language-plaintext highlighter-rouge">unnest</code> page</a> for more details.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">unnest([1, 2, 3])</code></td> </tr> <tr> <td><strong>Result</strong></td> <td>
<code class="language-plaintext highlighter-rouge">1</code>, <code class="language-plaintext highlighter-rouge">2</code>, <code class="language-plaintext highlighter-rouge">3</code>
</td> </tr> </tbody> </table> <h2 id="list-operators"> <a style="text-decoration: none;" href="#list-operators">List Operators</a> </h2> <p>The following operators are supported for lists:</p>  <table> <thead> <tr> <th>Operator</th> <th>Description</th> <th>Example</th> <th>Result</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">&amp;&amp;</code></td> <td>Alias for <a href="#list_has_anylist1-list2"><code class="language-plaintext highlighter-rouge">list_has_any</code></a>.</td> <td><code class="language-plaintext highlighter-rouge">[1, 2, 3, 4, 5] &amp;&amp; [2, 5, 5, 6]</code></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">@&gt;</code></td> <td>Alias for <a href="#list_has_alllist-sub-list"><code class="language-plaintext highlighter-rouge">list_has_all</code></a>, where the list on the <strong>right</strong> of the operator is the sublist.</td> <td><code class="language-plaintext highlighter-rouge">[1, 2, 3, 4] @&gt; [3, 4, 3]</code></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">&lt;@</code></td> <td>Alias for <a href="#list_has_alllist-sub-list"><code class="language-plaintext highlighter-rouge">list_has_all</code></a>, where the list on the <strong>left</strong> of the operator is the sublist.</td> <td><code class="language-plaintext highlighter-rouge">[1, 4] &lt;@ [1, 2, 3, 4]</code></td> <td><code class="language-plaintext highlighter-rouge">true</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">||</code></td> <td>Similar to <a href="#list_concatlist1-list2"><code class="language-plaintext highlighter-rouge">list_concat</code></a>, except any <code class="language-plaintext highlighter-rouge">NULL</code> input results in <code class="language-plaintext highlighter-rouge">NULL</code>.</td> <td><code class="language-plaintext highlighter-rouge">[1, 2, 3] || [4, 5, 6]</code></td> <td><code class="language-plaintext highlighter-rouge">[1, 2, 3, 4, 5, 6]</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">&lt;=&gt;</code></td> <td>Alias for <a href="#list_cosine_distancelist1-list2"><code class="language-plaintext highlighter-rouge">list_cosine_distance</code></a>.</td> <td><code class="language-plaintext highlighter-rouge">[1, 2, 3] &lt;=&gt; [1, 2, 5]</code></td> <td><code class="language-plaintext highlighter-rouge">0.007416606</code></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">&lt;-&gt;</code></td> <td>Alias for <a href="#list_distancelist1-list2"><code class="language-plaintext highlighter-rouge">list_distance</code></a>.</td> <td><code class="language-plaintext highlighter-rouge">[1, 2, 3] &lt;-&gt; [1, 2, 5]</code></td> <td><code class="language-plaintext highlighter-rouge">2.0</code></td> </tr> </tbody> </table>  <h2 id="list-comprehension"> <a style="text-decoration: none;" href="#list-comprehension">List Comprehension</a> </h2> <p>Python-style list comprehension can be used to compute expressions over elements in a list. For example:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT [lower(x) FOR x IN strings] AS strings
FROM (VALUES (['Hello', '', 'World'])) t(strings);</pre>  <table> <thead> <tr> <th>strings</th> </tr> </thead> <tbody> <tr> <td>[hello, , world]</td> </tr> </tbody> </table> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT [upper(x) FOR x IN strings IF len(x) &gt; 0] AS strings
FROM (VALUES (['Hello', '', 'World'])) t(strings);</pre>  <table> <thead> <tr> <th>strings</th> </tr> </thead> <tbody> <tr> <td>[HELLO, WORLD]</td> </tr> </tbody> </table> <p>List comprehensions can also use the position of the list elements by adding a second variable. In the following example, we use <code class="language-plaintext highlighter-rouge">x, i</code>, where <code class="language-plaintext highlighter-rouge">x</code> is the value and <code class="language-plaintext highlighter-rouge">i</code> is the position:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT [4, 5, 6] AS l, [x FOR x, i IN l IF i != 2] filtered;</pre>  <table> <thead> <tr> <th>l</th> <th>filtered</th> </tr> </thead> <tbody> <tr> <td>[4, 5, 6]</td> <td>[4, 6]</td> </tr> </tbody> </table> <h2 id="range-functions"> <a style="text-decoration: none;" href="#range-functions">Range Functions</a> </h2> <p>DuckDB offers two range functions, <a href="#range"><code class="language-plaintext highlighter-rouge">range(start, stop, step)</code></a> and <a href="#generate_series"><code class="language-plaintext highlighter-rouge">generate_series(start, stop, step)</code></a>, and their variants with default arguments for <code class="language-plaintext highlighter-rouge">stop</code> and <code class="language-plaintext highlighter-rouge">step</code>. The two functions' behavior is different regarding their <code class="language-plaintext highlighter-rouge">stop</code> argument. This is documented below.</p> <h3 id="range"> <a style="text-decoration: none;" href="#range"><code class="language-plaintext highlighter-rouge">range</code></a> </h3> <p>The <code class="language-plaintext highlighter-rouge">range</code> function creates a list of values in the range between <code class="language-plaintext highlighter-rouge">start</code> and <code class="language-plaintext highlighter-rouge">stop</code>. The <code class="language-plaintext highlighter-rouge">start</code> parameter is inclusive, while the <code class="language-plaintext highlighter-rouge">stop</code> parameter is exclusive. The default value of <code class="language-plaintext highlighter-rouge">start</code> is 0 and the default value of <code class="language-plaintext highlighter-rouge">step</code> is 1.</p> <p>Based on the number of arguments, the following variants of <code class="language-plaintext highlighter-rouge">range</code> exist.</p> <h4 id="rangestop"> <a style="text-decoration: none;" href="#rangestop"><code class="language-plaintext highlighter-rouge">range(stop)</code></a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT range(5);</pre> <pre class="language-text highlighter-rouge" data-language="text">[0, 1, 2, 3, 4]</pre> <h4 id="rangestart-stop"> <a style="text-decoration: none;" href="#rangestart-stop"><code class="language-plaintext highlighter-rouge">range(start, stop)</code></a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT range(2, 5);</pre> <pre class="language-text highlighter-rouge" data-language="text">[2, 3, 4]</pre> <h4 id="rangestart-stop-step"> <a style="text-decoration: none;" href="#rangestart-stop-step"><code class="language-plaintext highlighter-rouge">range(start, stop, step)</code></a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT range(2, 5, 3);</pre> <pre class="language-text highlighter-rouge" data-language="text">[2]</pre> <h3 id="generate_series"> <a style="text-decoration: none;" href="#generate_series"><code class="language-plaintext highlighter-rouge">generate_series</code></a> </h3> <p>The <code class="language-plaintext highlighter-rouge">generate_series</code> function creates a list of values in the range between <code class="language-plaintext highlighter-rouge">start</code> and <code class="language-plaintext highlighter-rouge">stop</code>. Both the <code class="language-plaintext highlighter-rouge">start</code> and the <code class="language-plaintext highlighter-rouge">stop</code> parameters are inclusive. The default value of <code class="language-plaintext highlighter-rouge">start</code> is 0 and the default value of <code class="language-plaintext highlighter-rouge">step</code> is 1. Based on the number of arguments, the following variants of <code class="language-plaintext highlighter-rouge">generate_series</code> exist.</p> <h4 id="generate_seriesstop"> <a style="text-decoration: none;" href="#generate_seriesstop"><code class="language-plaintext highlighter-rouge">generate_series(stop)</code></a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT generate_series(5);</pre> <pre class="language-text highlighter-rouge" data-language="text">[0, 1, 2, 3, 4, 5]</pre> <h4 id="generate_seriesstart-stop"> <a style="text-decoration: none;" href="#generate_seriesstart-stop"><code class="language-plaintext highlighter-rouge">generate_series(start, stop)</code></a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT generate_series(2, 5);</pre> <pre class="language-text highlighter-rouge" data-language="text">[2, 3, 4, 5]</pre> <h4 id="generate_seriesstart-stop-step"> <a style="text-decoration: none;" href="#generate_seriesstart-stop-step"><code class="language-plaintext highlighter-rouge">generate_series(start, stop, step)</code></a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT generate_series(2, 5, 3);</pre> <pre class="language-text highlighter-rouge" data-language="text">[2, 5]</pre> <h4 id="generate_subscriptsarr-dim"> <a style="text-decoration: none;" href="#generate_subscriptsarr-dim"><code class="language-plaintext highlighter-rouge">generate_subscripts(arr, dim)</code></a> </h4> <p>The <code class="language-plaintext highlighter-rouge">generate_subscripts(arr, dim)</code> function generates indexes along the <code class="language-plaintext highlighter-rouge">dim</code>th dimension of array <code class="language-plaintext highlighter-rouge">arr</code>.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT generate_subscripts([4, 5, 6], 1) AS i;</pre> <table> <thead> <tr> <th style="text-align: right">i</th> </tr> </thead> <tbody> <tr> <td style="text-align: right">1</td> </tr> <tr> <td style="text-align: right">2</td> </tr> <tr> <td style="text-align: right">3</td> </tr> </tbody> </table> <h3 id="date-ranges"> <a style="text-decoration: none;" href="#date-ranges">Date Ranges</a> </h3> <p>Date ranges are also supported for <code class="language-plaintext highlighter-rouge">TIMESTAMP</code> and <code class="language-plaintext highlighter-rouge">TIMESTAMP WITH TIME ZONE</code> values. Note that for these types, the <code class="language-plaintext highlighter-rouge">stop</code> and <code class="language-plaintext highlighter-rouge">step</code> arguments have to be specified explicitly (a default value is not provided).</p> <h4 id="range-for-date-ranges"> <a style="text-decoration: none;" href="#range-for-date-ranges"><code class="language-plaintext highlighter-rouge">range</code> for Date Ranges</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT *
FROM range(DATE '1992-01-01', DATE '1992-03-01', INTERVAL '1' MONTH);</pre> <table> <thead> <tr> <th>range</th> </tr> </thead> <tbody> <tr> <td>1992-01-01 00:00:00</td> </tr> <tr> <td>1992-02-01 00:00:00</td> </tr> </tbody> </table> <h4 id="generate_series-for-date-ranges"> <a style="text-decoration: none;" href="#generate_series-for-date-ranges"><code class="language-plaintext highlighter-rouge">generate_series</code> for Date Ranges</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT *
FROM generate_series(DATE '1992-01-01', DATE '1992-03-01', INTERVAL '1' MONTH);</pre> <table> <thead> <tr> <th>generate_series</th> </tr> </thead> <tbody> <tr> <td>1992-01-01 00:00:00</td> </tr> <tr> <td>1992-02-01 00:00:00</td> </tr> <tr> <td>1992-03-01 00:00:00</td> </tr> </tbody> </table> <h2 id="slicing"> <a style="text-decoration: none;" href="#slicing">Slicing</a> </h2> <p>The function <a href="#list_slicelist-begin-end"><code class="language-plaintext highlighter-rouge">list_slice</code></a> can be used to extract a sublist from a list. The following variants exist:</p> <ul> <li><code class="language-plaintext highlighter-rouge">list_slice(list, begin, end)</code></li> <li><code class="language-plaintext highlighter-rouge">list_slice(list, begin, end, step)</code></li> <li><code class="language-plaintext highlighter-rouge">array_slice(list, begin, end)</code></li> <li><code class="language-plaintext highlighter-rouge">array_slice(list, begin, end, step)</code></li> <li><code class="language-plaintext highlighter-rouge">list[begin:end]</code></li> <li><code class="language-plaintext highlighter-rouge">list[begin:end:step]</code></li> </ul> <p>The arguments are as follows:</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">list</code> <ul> <li>Is the list to be sliced</li> </ul> </li> <li>
<code class="language-plaintext highlighter-rouge">begin</code> <ul> <li>Is the index of the first element to be included in the slice</li> <li>When <code class="language-plaintext highlighter-rouge">begin &lt; 0</code> the index is counted from the end of the list</li> <li>When <code class="language-plaintext highlighter-rouge">begin &lt; 0</code> and <code class="language-plaintext highlighter-rouge">-begin &gt; length</code>, <code class="language-plaintext highlighter-rouge">begin</code> is clamped to the beginning of the list</li> <li>When <code class="language-plaintext highlighter-rouge">begin &gt; length</code>, the result is an empty list</li> <li>
<strong>Bracket Notation:</strong> When <code class="language-plaintext highlighter-rouge">begin</code> is omitted, it defaults to the beginning of the list</li> </ul> </li> <li>
<code class="language-plaintext highlighter-rouge">end</code> <ul> <li>Is the index of the last element to be included in the slice</li> <li>When <code class="language-plaintext highlighter-rouge">end &lt; 0</code> the index is counted from the end of the list</li> <li>When <code class="language-plaintext highlighter-rouge">end &gt; length</code>, end is clamped to <code class="language-plaintext highlighter-rouge">length</code>
</li> <li>When <code class="language-plaintext highlighter-rouge">end &lt; begin</code>, the result is an empty list</li> <li>
<strong>Bracket Notation:</strong> When <code class="language-plaintext highlighter-rouge">end</code> is omitted, it defaults to the end of the list. When <code class="language-plaintext highlighter-rouge">end</code> is omitted and a <code class="language-plaintext highlighter-rouge">step</code> is provided, <code class="language-plaintext highlighter-rouge">end</code> must be replaced with a <code class="language-plaintext highlighter-rouge">-</code>
</li> </ul> </li> <li>
<code class="language-plaintext highlighter-rouge">step</code> <em>(optional)</em> <ul> <li>Is the step size between elements in the slice</li> <li>When <code class="language-plaintext highlighter-rouge">step &lt; 0</code> the slice is reversed, and <code class="language-plaintext highlighter-rouge">begin</code> and <code class="language-plaintext highlighter-rouge">end</code> are swapped</li> <li>Must be non-zero</li> </ul> </li> </ul> <p>Examples:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_slice([1, 2, 3, 4, 5], 2, 4);</pre> <pre class="language-text highlighter-rouge" data-language="text">[2, 3, 4]</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ([1, 2, 3, 4, 5])[2:4:2];</pre> <pre class="language-text highlighter-rouge" data-language="text">[2, 4]</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT([1, 2, 3, 4, 5])[4:2:-2];</pre> <pre class="language-text highlighter-rouge" data-language="text">[4, 2]</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ([1, 2, 3, 4, 5])[:];</pre> <pre class="language-text highlighter-rouge" data-language="text">[1, 2, 3, 4, 5]</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ([1, 2, 3, 4, 5])[:-:2];</pre> <pre class="language-text highlighter-rouge" data-language="text">[1, 3, 5]</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ([1, 2, 3, 4, 5])[:-:-2];</pre> <pre class="language-text highlighter-rouge" data-language="text">[5, 3, 1]</pre> <h2 id="list-aggregates"> <a style="text-decoration: none;" href="#list-aggregates">List Aggregates</a> </h2> <p>The function <a href="#list_aggregatelist-name"><code class="language-plaintext highlighter-rouge">list_aggregate</code></a> allows the execution of arbitrary existing aggregate functions on the elements of a list. Its first argument is the list (column), its second argument is the aggregate function name, e.g., <code class="language-plaintext highlighter-rouge">min</code>, <code class="language-plaintext highlighter-rouge">histogram</code> or <code class="language-plaintext highlighter-rouge">sum</code>.</p> <p><code class="language-plaintext highlighter-rouge">list_aggregate</code> accepts additional arguments after the aggregate function name. These extra arguments are passed directly to the aggregate function, which serves as the second argument of <code class="language-plaintext highlighter-rouge">list_aggregate</code>.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_aggregate([1, 2, -4, NULL], 'min');</pre> <pre class="language-text highlighter-rouge" data-language="text">-4</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_aggregate([2, 4, 8, 42], 'sum');</pre> <pre class="language-text highlighter-rouge" data-language="text">56</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_aggregate([[1, 2], [NULL], [2, 10, 3]], 'last');</pre> <pre class="language-text highlighter-rouge" data-language="text">[2, 10, 3]</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_aggregate([2, 4, 8, 42], 'string_agg', '|');</pre> <pre class="language-text highlighter-rouge" data-language="text">2|4|8|42</pre> <h3 id="list_-rewrite-functions"> <a style="text-decoration: none;" href="#list_-rewrite-functions"><code class="language-plaintext highlighter-rouge">list_*</code> Rewrite Functions</a> </h3> <p>The following is a list of existing rewrites. Rewrites simplify the use of the list aggregate function by only taking the list (column) as their argument. <code class="language-plaintext highlighter-rouge">list_avg</code>, <code class="language-plaintext highlighter-rouge">list_var_samp</code>, <code class="language-plaintext highlighter-rouge">list_var_pop</code>, <code class="language-plaintext highlighter-rouge">list_stddev_pop</code>, <code class="language-plaintext highlighter-rouge">list_stddev_samp</code>, <code class="language-plaintext highlighter-rouge">list_sem</code>, <code class="language-plaintext highlighter-rouge">list_approx_count_distinct</code>, <code class="language-plaintext highlighter-rouge">list_bit_xor</code>, <code class="language-plaintext highlighter-rouge">list_bit_or</code>, <code class="language-plaintext highlighter-rouge">list_bit_and</code>, <code class="language-plaintext highlighter-rouge">list_bool_and</code>, <code class="language-plaintext highlighter-rouge">list_bool_or</code>, <code class="language-plaintext highlighter-rouge">list_count</code>, <code class="language-plaintext highlighter-rouge">list_entropy</code>, <code class="language-plaintext highlighter-rouge">list_last</code>, <code class="language-plaintext highlighter-rouge">list_first</code>, <code class="language-plaintext highlighter-rouge">list_kurtosis</code>, <code class="language-plaintext highlighter-rouge">list_kurtosis_pop</code>, <code class="language-plaintext highlighter-rouge">list_min</code>, <code class="language-plaintext highlighter-rouge">list_max</code>, <code class="language-plaintext highlighter-rouge">list_product</code>, <code class="language-plaintext highlighter-rouge">list_skewness</code>, <code class="language-plaintext highlighter-rouge">list_sum</code>, <code class="language-plaintext highlighter-rouge">list_string_agg</code>, <code class="language-plaintext highlighter-rouge">list_mode</code>, <code class="language-plaintext highlighter-rouge">list_median</code>, <code class="language-plaintext highlighter-rouge">list_mad</code> and <code class="language-plaintext highlighter-rouge">list_histogram</code>.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_min([1, 2, -4, NULL]);</pre> <pre class="language-text highlighter-rouge" data-language="text">-4</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_sum([2, 4, 8, 42]);</pre> <pre class="language-text highlighter-rouge" data-language="text">56</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_last([[1, 2], [NULL], [2, 10, 3]]);</pre> <pre class="language-text highlighter-rouge" data-language="text">[2, 10, 3]</pre> <h4 id="array_to_string"> <a style="text-decoration: none;" href="#array_to_string"><code class="language-plaintext highlighter-rouge">array_to_string</code></a> </h4> <p>Concatenates list/array elements using an optional delimiter.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT array_to_string([1, 2, 3], '-') AS str;</pre> <pre class="language-text highlighter-rouge" data-language="text">1-2-3</pre> <p>This is equivalent to the following SQL:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_aggr([1, 2, 3], 'string_agg', '-') AS str;</pre> <pre class="language-text highlighter-rouge" data-language="text">1-2-3</pre> <h2 id="sorting-lists"> <a style="text-decoration: none;" href="#sorting-lists">Sorting Lists</a> </h2> <p>The function <code class="language-plaintext highlighter-rouge">list_sort</code> sorts the elements of a list either in ascending or descending order. In addition, it allows to provide whether <code class="language-plaintext highlighter-rouge">NULL</code> values should be moved to the beginning or to the end of the list. It has the same sorting behavior as DuckDB's <code class="language-plaintext highlighter-rouge">ORDER BY</code> clause. Therefore, (nested) values compare the same in <code class="language-plaintext highlighter-rouge">list_sort</code> as in <code class="language-plaintext highlighter-rouge">ORDER BY</code>.</p> <p>By default, if no modifiers are provided, DuckDB sorts <code class="language-plaintext highlighter-rouge">ASC NULLS FIRST</code>. I.e., the values are sorted in ascending order and <code class="language-plaintext highlighter-rouge">NULL</code> values are placed first. This is identical to the default sort order of SQLite. The default sort order can be changed using <a href="../query_syntax/orderby.html"><code class="language-plaintext highlighter-rouge">PRAGMA</code> statements.</a>.</p> <p><code class="language-plaintext highlighter-rouge">list_sort</code> leaves it open to the user whether they want to use the default sort order or a custom order. <code class="language-plaintext highlighter-rouge">list_sort</code> takes up to two additional optional parameters. The second parameter provides the sort order and can be either <code class="language-plaintext highlighter-rouge">ASC</code> or <code class="language-plaintext highlighter-rouge">DESC</code>. The third parameter provides the <code class="language-plaintext highlighter-rouge">NULL</code> order and can be either <code class="language-plaintext highlighter-rouge">NULLS FIRST</code> or <code class="language-plaintext highlighter-rouge">NULLS LAST</code>.</p> <p>This query uses the default sort order and the default <code class="language-plaintext highlighter-rouge">NULL</code> order.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_sort([1, 3, NULL, 5, NULL, -5]);</pre> <pre class="language-sql highlighter-rouge" data-language="sql">[NULL, NULL, -5, 1, 3, 5]</pre> <p>This query provides the sort order. The <code class="language-plaintext highlighter-rouge">NULL</code> order uses the configurable default value.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_sort([1, 3, NULL, 2], 'ASC');</pre> <pre class="language-sql highlighter-rouge" data-language="sql">[NULL, 1, 2, 3]</pre> <p>This query provides both the sort order and the <code class="language-plaintext highlighter-rouge">NULL</code> order.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_sort([1, 3, NULL, 2], 'DESC', 'NULLS FIRST');</pre> <pre class="language-sql highlighter-rouge" data-language="sql">[NULL, 3, 2, 1]</pre> <p><code class="language-plaintext highlighter-rouge">list_reverse_sort</code> has an optional second parameter providing the <code class="language-plaintext highlighter-rouge">NULL</code> sort order. It can be either <code class="language-plaintext highlighter-rouge">NULLS FIRST</code> or <code class="language-plaintext highlighter-rouge">NULLS LAST</code>.</p> <p>This query uses the default <code class="language-plaintext highlighter-rouge">NULL</code> sort order.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_sort([1, 3, NULL, 5, NULL, -5]);</pre> <pre class="language-sql highlighter-rouge" data-language="sql">[NULL, NULL, -5, 1, 3, 5]</pre> <p>This query provides the <code class="language-plaintext highlighter-rouge">NULL</code> sort order.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT list_reverse_sort([1, 3, NULL, 2], 'NULLS LAST');</pre> <pre class="language-sql highlighter-rouge" data-language="sql">[3, 2, 1, NULL]</pre> <h2 id="flattening"> <a style="text-decoration: none;" href="#flattening">Flattening</a> </h2> <p>The flatten function is a scalar function that converts a list of lists into a single list by concatenating each sub-list together. Note that this only flattens one level at a time, not all levels of sub-lists.</p> <p>Convert a list of lists into a single list:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT
    flatten([
        [1, 2],
        [3, 4]
    ]);</pre> <pre class="language-text highlighter-rouge" data-language="text">[1, 2, 3, 4]</pre> <p>If the list has multiple levels of lists, only the first level of sub-lists is concatenated into a single list:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT
    flatten([
        [
            [1, 2],
            [3, 4],
        ],
        [
            [5, 6],
            [7, 8],
        ]
    ]);</pre> <pre class="language-text highlighter-rouge" data-language="text">[[1, 2], [3, 4], [5, 6], [7, 8]]</pre> <p>In general, the input to the flatten function should be a list of lists (not a single level list). However, the behavior of the flatten function has specific behavior when handling empty lists and <code class="language-plaintext highlighter-rouge">NULL</code> values.</p> <p>If the input list is empty, return an empty list:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT flatten([]);</pre> <pre class="language-text highlighter-rouge" data-language="text">[]</pre> <p>If the entire input to flatten is <code class="language-plaintext highlighter-rouge">NULL</code>, return <code class="language-plaintext highlighter-rouge">NULL</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT flatten(NULL);</pre> <pre class="language-text highlighter-rouge" data-language="text">NULL</pre> <p>If a list whose only entry is <code class="language-plaintext highlighter-rouge">NULL</code> is flattened, return an empty list:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT flatten([NULL]);</pre> <pre class="language-text highlighter-rouge" data-language="text">[]</pre> <p>If the sub-list in a list of lists only contains <code class="language-plaintext highlighter-rouge">NULL</code>, do not modify the sub-list:</p> <pre class="language-sql highlighter-rouge" data-language="sql">-- (Note the extra set of parentheses vs. the prior example)
SELECT flatten([[NULL]]);</pre> <pre class="language-text highlighter-rouge" data-language="text">[NULL]</pre> <p>Even if the only contents of each sub-list is <code class="language-plaintext highlighter-rouge">NULL</code>, still concatenate them together. Note that no de-duplication occurs when flattening. See <code class="language-plaintext highlighter-rouge">list_distinct</code> function for de-duplication:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT flatten([[NULL],[NULL]]);</pre> <pre class="language-text highlighter-rouge" data-language="text">[NULL, NULL]</pre> <h2 id="lambda-functions"> <a style="text-decoration: none;" href="#lambda-functions">Lambda Functions</a> </h2> <p>DuckDB supports lambda functions in the form <code class="language-plaintext highlighter-rouge">(parameter1, parameter2, ...) -&gt; expression</code>. For details, see the <a href="lambda.html">lambda functions page</a>.</p> <h2 id="related-functions"> <a style="text-decoration: none;" href="#related-functions">Related Functions</a> </h2> <p>There are also <a href="aggregates.html">aggregate functions</a> <code class="language-plaintext highlighter-rouge">list</code> and <code class="language-plaintext highlighter-rouge">histogram</code> that produces lists and lists of structs. The <a href="../query_syntax/unnest.html"><code class="language-plaintext highlighter-rouge">unnest</code></a> function is used to unnest a list by one level.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/functions/list.html" class="_attribution-link">https://duckdb.org/docs/sql/functions/list.html</a>
  </p>
</div>
