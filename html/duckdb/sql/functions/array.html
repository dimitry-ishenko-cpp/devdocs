<h1 class="title">Array Functions</h1>   <p>All <a href="list.html"><code class="language-plaintext highlighter-rouge">LIST</code> functions</a> work with the <a href="../data_types/array.html"><code class="language-plaintext highlighter-rouge">ARRAY</code> data type</a>. Additionally, several <code class="language-plaintext highlighter-rouge">ARRAY</code>-native functions are also supported.</p> <h2 id="array-native-functions"> <a style="text-decoration: none;" href="#array-native-functions">Array-Native Functions</a> </h2> <table> <thead> <tr> <th>Function</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><a href="#array_valueindex"><code class="language-plaintext highlighter-rouge">array_value(index)</code></a></td> <td>Create an <code class="language-plaintext highlighter-rouge">ARRAY</code> containing the argument values.</td> </tr> <tr> <td><a href="#array_cross_productarray1-array2"><code class="language-plaintext highlighter-rouge">array_cross_product(array1, array2)</code></a></td> <td>Compute the cross product of two arrays of size 3. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>.</td> </tr> <tr> <td><a href="#array_cosine_similarityarray1-array2"><code class="language-plaintext highlighter-rouge">array_cosine_similarity(array1, array2)</code></a></td> <td>Compute the cosine similarity between two arrays of the same size. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>. The arrays can have any size as long as the size is the same for both arguments.</td> </tr> <tr> <td><a href="#array_cosine_distancearray1-array2"><code class="language-plaintext highlighter-rouge">array_cosine_distance(array1, array2)</code></a></td> <td>Compute the cosine distance between two arrays of the same size. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>. The arrays can have any size as long as the size is the same for both arguments. This is equivalent to <code class="language-plaintext highlighter-rouge">1.0 - array_cosine_similarity</code>
</td> </tr> <tr> <td><a href="#array_distancearray1-array2"><code class="language-plaintext highlighter-rouge">array_distance(array1, array2)</code></a></td> <td>Compute the distance between two arrays of the same size. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>. The arrays can have any size as long as the size is the same for both arguments.</td> </tr> <tr> <td><a href="#array_inner_productarray1-array2"><code class="language-plaintext highlighter-rouge">array_inner_product(array1, array2)</code></a></td> <td>Compute the inner product between two arrays of the same size. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>. The arrays can have any size as long as the size is the same for both arguments.</td> </tr> <tr> <td><a href="#array_negative_inner_productarray1-array2"><code class="language-plaintext highlighter-rouge">array_negative_inner_product(array1, array2)</code></a></td> <td>Compute the negative inner product between two arrays of the same size. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>. The arrays can have any size as long as the size is the same for both arguments. This is equivalent to <code class="language-plaintext highlighter-rouge">-array_inner_product</code>
</td> </tr> <tr> <td><a href="#array_dot_productarray1-array2"><code class="language-plaintext highlighter-rouge">array_dot_product(array1, array2)</code></a></td> <td>Alias for <code class="language-plaintext highlighter-rouge">array_inner_product(array1, array2)</code>.</td> </tr> <tr> <td><a href="#array_negative_dot_productarray1-array2"><code class="language-plaintext highlighter-rouge">array_negative_dot_product(array1, array2)</code></a></td> <td>Alias for <code class="language-plaintext highlighter-rouge">array_negative_inner_product(array1, array2)</code>.</td> </tr> </tbody> </table> <h4 id="array_valueindex"> <a style="text-decoration: none;" href="#array_valueindex"><code class="language-plaintext highlighter-rouge">array_value(index)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Create an <code class="language-plaintext highlighter-rouge">ARRAY</code> containing the argument values.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[1.0, 2.0, 3.0]</code></td> </tr> </tbody> </table> <h4 id="array_cross_productarray1-array2"> <a style="text-decoration: none;" href="#array_cross_productarray1-array2"><code class="language-plaintext highlighter-rouge">array_cross_product(array1, array2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Compute the cross product of two arrays of size 3. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_cross_product(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">[-1.0, 2.0, -1.0]</code></td> </tr> </tbody> </table> <h4 id="array_cosine_similarityarray1-array2"> <a style="text-decoration: none;" href="#array_cosine_similarityarray1-array2"><code class="language-plaintext highlighter-rouge">array_cosine_similarity(array1, array2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Compute the cosine similarity between two arrays of the same size. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>. The arrays can have any size as long as the size is the same for both arguments.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_cosine_similarity(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">0.9925833</code></td> </tr> </tbody> </table> <h4 id="array_cosine_distancearray1-array2"> <a style="text-decoration: none;" href="#array_cosine_distancearray1-array2"><code class="language-plaintext highlighter-rouge">array_cosine_distance(array1, array2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Compute the cosine distance between two arrays of the same size. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>. The arrays can have any size as long as the size is the same for both arguments. This is equivalent to <code class="language-plaintext highlighter-rouge">1.0 - array_cosine_similarity</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_cosine_distance(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">0.007416606</code></td> </tr> </tbody> </table> <h4 id="array_distancearray1-array2"> <a style="text-decoration: none;" href="#array_distancearray1-array2"><code class="language-plaintext highlighter-rouge">array_distance(array1, array2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Compute the distance between two arrays of the same size. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>. The arrays can have any size as long as the size is the same for both arguments.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_distance(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">1.7320508</code></td> </tr> </tbody> </table> <h4 id="array_inner_productarray1-array2"> <a style="text-decoration: none;" href="#array_inner_productarray1-array2"><code class="language-plaintext highlighter-rouge">array_inner_product(array1, array2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Compute the inner product between two arrays of the same size. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>. The arrays can have any size as long as the size is the same for both arguments.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_inner_product(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">20.0</code></td> </tr> </tbody> </table> <h4 id="array_negative_inner_productarray1-array2"> <a style="text-decoration: none;" href="#array_negative_inner_productarray1-array2"><code class="language-plaintext highlighter-rouge">array_negative_inner_product(array1, array2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Compute the negative inner product between two arrays of the same size. The array elements can not be <code class="language-plaintext highlighter-rouge">NULL</code>. The arrays can have any size as long as the size is the same for both arguments. This is equivalent to <code class="language-plaintext highlighter-rouge">-array_inner_product</code>
</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_inner_product(array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT), array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT))</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">-20.0</code></td> </tr> </tbody> </table> <h4 id="array_dot_productarray1-array2"> <a style="text-decoration: none;" href="#array_dot_productarray1-array2"><code class="language-plaintext highlighter-rouge">array_dot_product(array1, array2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Alias for <code class="language-plaintext highlighter-rouge">array_inner_product(array1, array2)</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_dot_product(l1, l2)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">20.0</code></td> </tr> </tbody> </table> <h4 id="array_negative_dot_productarray1-array2"> <a style="text-decoration: none;" href="#array_negative_dot_productarray1-array2"><code class="language-plaintext highlighter-rouge">array_negative_dot_product(array1, array2)</code></a> </h4>  <table> <tbody> <tr> <td><strong>Description</strong></td> <td>Alias for <code class="language-plaintext highlighter-rouge">array_negative_inner_product(array1, array2)</code>.</td> </tr> <tr> <td><strong>Example</strong></td> <td><code class="language-plaintext highlighter-rouge">array_negative_dot_product(l1, l2)</code></td> </tr> <tr> <td><strong>Result</strong></td> <td><code class="language-plaintext highlighter-rouge">-20.0</code></td> </tr> </tbody> </table><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/functions/array.html" class="_attribution-link">https://duckdb.org/docs/sql/functions/array.html</a>
  </p>
</div>
