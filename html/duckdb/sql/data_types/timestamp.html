<h1 class="title">Timestamp Types</h1>  <p>Timestamps represent points in absolute time, usually called <em>instants</em>. DuckDB represents instants as the number of microseconds (Âµs) since <code class="language-plaintext highlighter-rouge">1970-01-01 00:00:00+00</code>.</p> <h2 id="timestamp-types"> <a style="text-decoration: none;" href="#timestamp-types">Timestamp Types</a> </h2> <table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Aliases</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">TIMESTAMP_NS</code></td> <td style="text-align: left"> </td> <td style="text-align: left">timestamp with nanosecond precision (ignores time zone)</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">TIMESTAMP</code></td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">DATETIME</code></td> <td style="text-align: left">timestamp with microsecond precision (ignores time zone)</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">TIMESTAMP_MS</code></td> <td style="text-align: left"> </td> <td style="text-align: left">timestamp with millisecond precision (ignores time zone)</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">TIMESTAMP_S</code></td> <td style="text-align: left"> </td> <td style="text-align: left">timestamp with second precision (ignores time zone)</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">TIMESTAMPTZ</code></td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">TIMESTAMP WITH TIME ZONE</code></td> <td style="text-align: left">timestamp (uses time zone)</td> </tr> </tbody> </table> <p>A timestamp specifies a combination of <a href="date.html"><code class="language-plaintext highlighter-rouge">DATE</code></a> (year, month, day) and a <a href="time.html"><code class="language-plaintext highlighter-rouge">TIME</code></a> (hour, minute, second, microsecond). Timestamps can be created using the <code class="language-plaintext highlighter-rouge">TIMESTAMP</code> keyword, where the data must be formatted according to the ISO 8601 format (<code class="language-plaintext highlighter-rouge">YYYY-MM-DD hh:mm:ss[.zzzzzz][+-TT[:tt]]</code>). Decimal places beyond the targeted sub-second precision are ignored.</p> <blockquote> <p>Warning When defining timestamps using a <code class="language-plaintext highlighter-rouge">TIMESTAMP_NS</code> literal, the decimal places beyond <em>microseconds</em> are ignored. Note that the <code class="language-plaintext highlighter-rouge">TIMESTAMP_NS</code> type is able to hold nanoseconds when created e.g., via the ingestion of Parquet files.</p> </blockquote> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT TIMESTAMP_NS '1992-09-20 11:30:00.123456789';</pre> <pre class="language-text highlighter-rouge" data-language="text">1992-09-20 11:30:00.123456</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT TIMESTAMP '1992-09-20 11:30:00.123456789';</pre> <pre class="language-text highlighter-rouge" data-language="text">1992-09-20 11:30:00.123456</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT DATETIME '1992-09-20 11:30:00.123456789';</pre> <pre class="language-text highlighter-rouge" data-language="text">1992-09-20 11:30:00.123456</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT TIMESTAMP_MS '1992-09-20 11:30:00.123456789';</pre> <pre class="language-text highlighter-rouge" data-language="text">1992-09-20 11:30:00.123</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT TIMESTAMP_S '1992-09-20 11:30:00.123456789';</pre> <pre class="language-text highlighter-rouge" data-language="text">1992-09-20 11:30:00</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT TIMESTAMPTZ '1992-09-20 11:30:00.123456789';</pre> <pre class="language-text highlighter-rouge" data-language="text">1992-09-20 11:30:00.123456+00</pre> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT TIMESTAMP WITH TIME ZONE '1992-09-20 11:30:00.123456789';</pre> <pre class="language-text highlighter-rouge" data-language="text">1992-09-20 11:30:00.123456+00</pre> <h2 id="special-values"> <a style="text-decoration: none;" href="#special-values">Special Values</a> </h2> <p>There are also three special date values that can be used on input:</p>  <table> <thead> <tr> <th style="text-align: left">Input string</th> <th style="text-align: left">Valid types</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">epoch</code></td> <td style="text-align: left">
<code class="language-plaintext highlighter-rouge">TIMESTAMP</code>, <code class="language-plaintext highlighter-rouge">TIMESTAMPTZ</code>
</td> <td style="text-align: left">1970-01-01 00:00:00+00 (Unix system time zero)</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">infinity</code></td> <td style="text-align: left">
<code class="language-plaintext highlighter-rouge">TIMESTAMP</code>, <code class="language-plaintext highlighter-rouge">TIMESTAMPTZ</code>
</td> <td style="text-align: left">later than all other time stamps</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">-infinity</code></td> <td style="text-align: left">
<code class="language-plaintext highlighter-rouge">TIMESTAMP</code>, <code class="language-plaintext highlighter-rouge">TIMESTAMPTZ</code>
</td> <td style="text-align: left">earlier than all other time stamps</td> </tr> </tbody> </table> <p>The values <code class="language-plaintext highlighter-rouge">infinity</code> and <code class="language-plaintext highlighter-rouge">-infinity</code> are specially represented inside the system and will be displayed unchanged; but <code class="language-plaintext highlighter-rouge">epoch</code> is simply a notational shorthand that will be converted to the time stamp value when read.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT '-infinity'::TIMESTAMP, 'epoch'::TIMESTAMP, 'infinity'::TIMESTAMP;</pre>  <table> <thead> <tr> <th style="text-align: left">Negative</th> <th style="text-align: left">Epoch</th> <th style="text-align: left">Positive</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">-infinity</td> <td style="text-align: left">1970-01-01 00:00:00</td> <td style="text-align: left">infinity</td> </tr> </tbody> </table> <h2 id="functions"> <a style="text-decoration: none;" href="#functions">Functions</a> </h2> <p>See <a href="../functions/timestamp.html">Timestamp Functions</a>.</p> <h2 id="time-zones"> <a style="text-decoration: none;" href="#time-zones">Time Zones</a> </h2> <p>The <code class="language-plaintext highlighter-rouge">TIMESTAMPTZ</code> type can be binned into calendar and clock bins using a suitable extension. The built-in <a href="../../extensions/icu.html">ICU extension</a> implements all the binning and arithmetic functions using the <a href="https://icu.unicode.org">International Components for Unicode</a> time zone and calendar functions.</p> <p>To set the time zone to use, first load the ICU extension. The ICU extension comes pre-bundled with several DuckDB clients (including Python, R, JDBC, and ODBC), so this step can be skipped in those cases. In other cases you might first need to install and load the ICU extension.</p> <pre class="language-sql highlighter-rouge" data-language="sql">INSTALL icu;
LOAD icu;</pre> <p>Next, use the <code class="language-plaintext highlighter-rouge">SET TimeZone</code> command:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SET TimeZone = 'America/Los_Angeles';</pre> <p>Time binning operations for <code class="language-plaintext highlighter-rouge">TIMESTAMPTZ</code> will then be implemented using the given time zone.</p> <p>A list of available time zones can be pulled from the <code class="language-plaintext highlighter-rouge">pg_timezone_names()</code> table function:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT
    name,
    abbrev,
    utc_offset
FROM pg_timezone_names()
ORDER BY
    name;</pre> <p>You can also find a reference table of <a href="timezones.html">available time zones</a>.</p> <h2 id="calendars"> <a style="text-decoration: none;" href="#calendars">Calendars</a> </h2> <p>The <a href="../../extensions/icu.html">ICU extension</a> also supports non-Gregorian calendars using the <code class="language-plaintext highlighter-rouge">SET Calendar</code> command. Note that the <code class="language-plaintext highlighter-rouge">INSTALL</code> and <code class="language-plaintext highlighter-rouge">LOAD</code> steps are only required if the DuckDB client does not bundle the ICU extension.</p> <pre class="language-sql highlighter-rouge" data-language="sql">INSTALL icu;
LOAD icu;
SET Calendar = 'japanese';</pre> <p>Time binning operations for <code class="language-plaintext highlighter-rouge">TIMESTAMPTZ</code> will then be implemented using the given calendar. In this example, the <code class="language-plaintext highlighter-rouge">era</code> part will now report the Japanese imperial era number.</p> <p>A list of available calendars can be pulled from the <code class="language-plaintext highlighter-rouge">icu_calendar_names()</code> table function:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT name
FROM icu_calendar_names()
ORDER BY 1;</pre> <h2 id="settings"> <a style="text-decoration: none;" href="#settings">Settings</a> </h2> <p>The current value of the <code class="language-plaintext highlighter-rouge">TimeZone</code> and <code class="language-plaintext highlighter-rouge">Calendar</code> settings are determined by ICU when it starts up. They can be queried from in the <code class="language-plaintext highlighter-rouge">duckdb_settings()</code> table function:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT *
FROM duckdb_settings()
WHERE name = 'TimeZone';</pre> <table> <thead> <tr> <th>name</th> <th>value</th> <th>description</th> <th>input_type</th> </tr> </thead> <tbody> <tr> <td>TimeZone</td> <td>Europe/Amsterdam</td> <td>The current time zone</td> <td>VARCHAR</td> </tr> </tbody> </table> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT *
FROM duckdb_settings()
WHERE name = 'Calendar';</pre> <table> <thead> <tr> <th>name</th> <th>value</th> <th>description</th> <th>input_type</th> </tr> </thead> <tbody> <tr> <td>Calendar</td> <td>gregorian</td> <td>The current calendar</td> <td>VARCHAR</td> </tr> </tbody> </table><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/sql/data_types/timestamp.html" class="_attribution-link">https://duckdb.org/docs/sql/data_types/timestamp.html</a>
  </p>
</div>
