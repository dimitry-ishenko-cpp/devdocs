<h1 class="title">jemalloc Extension</h1>  <p>The <code class="language-plaintext highlighter-rouge">jemalloc</code> extension replaces the system's memory allocator with <a href="https://jemalloc.net/">jemalloc</a>. Unlike other DuckDB extensions, the <code class="language-plaintext highlighter-rouge">jemalloc</code> extension is statically linked and cannot be installed or loaded during runtime.</p> <h2 id="operating-system-support"> <a style="text-decoration: none;" href="#operating-system-support">Operating System Support</a> </h2> <p>The availability of the <code class="language-plaintext highlighter-rouge">jemalloc</code> extension depends on the operating system.</p> <h3 id="linux"> <a style="text-decoration: none;" href="#linux">Linux</a> </h3> <p>On Linux, the AMD64 (x86_64) distribution of DuckDB ships with the <code class="language-plaintext highlighter-rouge">jemalloc</code> extension. To disable the <code class="language-plaintext highlighter-rouge">jemalloc</code> extension, <a href="../dev/building/build_instructions.html">build DuckDB from source</a> and set the <code class="language-plaintext highlighter-rouge">SKIP_EXTENSIONS</code> flag as follows:</p> <pre class="language-bash highlighter-rouge" data-language="bash">GEN=ninja SKIP_EXTENSIONS="jemalloc" make</pre> <p>The ARM64 (AArch64) DuckDB distribution on Linux does not ship with the <code class="language-plaintext highlighter-rouge">jemalloc</code> extension. To include it, build it as follows;</p> <pre class="language-bash highlighter-rouge" data-language="bash">GEN=ninja BUILD_JEMALLOC=1 make</pre> <h3 id="macos"> <a style="text-decoration: none;" href="#macos">macOS</a> </h3> <p>The macOS version of DuckDB does not ship with the <code class="language-plaintext highlighter-rouge">jemalloc</code> extension but can be <a href="../dev/building/build_instructions.html">built from source</a> to include it:</p> <pre class="language-bash highlighter-rouge" data-language="bash">GEN=ninja BUILD_JEMALLOC=1 make</pre> <h3 id="windows"> <a style="text-decoration: none;" href="#windows">Windows</a> </h3> <p>On Windows, this extension is not available.</p> <h2 id="configuration-flags"> <a style="text-decoration: none;" href="#configuration-flags">Configuration Flags</a> </h2> <p>By default, jemalloc's background threads are disabled. To enable them, use the following configuration option:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SET allocator_background_threads = true;</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/extensions/jemalloc.html" class="_attribution-link">https://duckdb.org/docs/extensions/jemalloc.html</a>
  </p>
</div>
