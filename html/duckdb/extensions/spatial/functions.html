<h1 class="title">Spatial Functions</h1>  <h2 id="function-index"> <a style="text-decoration: none;" href="#function-index">Function Index</a> </h2> <p><strong><a href="#scalar-functions">Scalar Functions</a></strong></p> <table> <thead> <tr> <th>Function</th> <th>Summary</th> </tr> </thead> <tbody> <tr> <td><a href="#st_area"><code class="language-plaintext highlighter-rouge">ST_Area</code></a></td> <td>Compute the area of a geometry.</td> </tr> <tr> <td><a href="#st_area_spheroid"><code class="language-plaintext highlighter-rouge">ST_Area_Spheroid</code></a></td> <td>Returns the area of a geometry in meters, using an ellipsoidal model of the earth</td> </tr> <tr> <td><a href="#st_asgeojson"><code class="language-plaintext highlighter-rouge">ST_AsGeoJSON</code></a></td> <td>Returns the geometry as a GeoJSON fragment</td> </tr> <tr> <td><a href="#st_ashexwkb"><code class="language-plaintext highlighter-rouge">ST_AsHEXWKB</code></a></td> <td>Returns the geometry as a HEXWKB string</td> </tr> <tr> <td><a href="#st_assvg"><code class="language-plaintext highlighter-rouge">ST_AsSVG</code></a></td> <td>Convert the geometry into a SVG fragment or path</td> </tr> <tr> <td><a href="#st_astext"><code class="language-plaintext highlighter-rouge">ST_AsText</code></a></td> <td>Returns the geometry as a WKT string</td> </tr> <tr> <td><a href="#st_aswkb"><code class="language-plaintext highlighter-rouge">ST_AsWKB</code></a></td> <td>Returns the geometry as a WKB blob</td> </tr> <tr> <td><a href="#st_boundary"><code class="language-plaintext highlighter-rouge">ST_Boundary</code></a></td> <td>Returns the "boundary" of a geometry</td> </tr> <tr> <td><a href="#st_buffer"><code class="language-plaintext highlighter-rouge">ST_Buffer</code></a></td> <td>Returns a buffer around the input geometry at the target distance</td> </tr> <tr> <td><a href="#st_centroid"><code class="language-plaintext highlighter-rouge">ST_Centroid</code></a></td> <td>Calculates the centroid of a geometry</td> </tr> <tr> <td><a href="#st_collect"><code class="language-plaintext highlighter-rouge">ST_Collect</code></a></td> <td>Collects a list of geometries into a collection geometry.</td> </tr> <tr> <td><a href="#st_collectionextract"><code class="language-plaintext highlighter-rouge">ST_CollectionExtract</code></a></td> <td>Extracts geometries from a GeometryCollection into a typed multi geometry.</td> </tr> <tr> <td><a href="#st_contains"><code class="language-plaintext highlighter-rouge">ST_Contains</code></a></td> <td>Returns true if geom1 contains geom2.</td> </tr> <tr> <td><a href="#st_containsproperly"><code class="language-plaintext highlighter-rouge">ST_ContainsProperly</code></a></td> <td>Returns true if geom1 "properly contains" geom2</td> </tr> <tr> <td><a href="#st_convexhull"><code class="language-plaintext highlighter-rouge">ST_ConvexHull</code></a></td> <td>Returns the convex hull enclosing the geometry</td> </tr> <tr> <td><a href="#st_coveredby"><code class="language-plaintext highlighter-rouge">ST_CoveredBy</code></a></td> <td>Returns true if geom1 is "covered" by geom2</td> </tr> <tr> <td><a href="#st_covers"><code class="language-plaintext highlighter-rouge">ST_Covers</code></a></td> <td>Returns if geom1 "covers" geom2</td> </tr> <tr> <td><a href="#st_crosses"><code class="language-plaintext highlighter-rouge">ST_Crosses</code></a></td> <td>Returns true if geom1 "crosses" geom2</td> </tr> <tr> <td><a href="#st_dwithin"><code class="language-plaintext highlighter-rouge">ST_DWithin</code></a></td> <td>Returns if two geometries are within a target distance of each-other</td> </tr> <tr> <td><a href="#st_dwithin_spheroid"><code class="language-plaintext highlighter-rouge">ST_DWithin_Spheroid</code></a></td> <td>Returns if two POINT_2D's are within a target distance in meters, using an ellipsoidal model of the earths surface</td> </tr> <tr> <td><a href="#st_difference"><code class="language-plaintext highlighter-rouge">ST_Difference</code></a></td> <td>Returns the "difference" between two geometries</td> </tr> <tr> <td><a href="#st_dimension"><code class="language-plaintext highlighter-rouge">ST_Dimension</code></a></td> <td>Returns the dimension of a geometry.</td> </tr> <tr> <td><a href="#st_disjoint"><code class="language-plaintext highlighter-rouge">ST_Disjoint</code></a></td> <td>Returns if two geometries are disjoint</td> </tr> <tr> <td><a href="#st_distance"><code class="language-plaintext highlighter-rouge">ST_Distance</code></a></td> <td>Returns the distance between two geometries.</td> </tr> <tr> <td><a href="#st_distance_sphere"><code class="language-plaintext highlighter-rouge">ST_Distance_Sphere</code></a></td> <td>Returns the haversine distance between two geometries.</td> </tr> <tr> <td><a href="#st_distance_spheroid"><code class="language-plaintext highlighter-rouge">ST_Distance_Spheroid</code></a></td> <td>Returns the distance between two geometries in meters using a ellipsoidal model of the earths surface</td> </tr> <tr> <td><a href="#st_dump"><code class="language-plaintext highlighter-rouge">ST_Dump</code></a></td> <td>Dumps a geometry into a list of sub-geometries and their "path" in the original geometry.</td> </tr> <tr> <td><a href="#st_endpoint"><code class="language-plaintext highlighter-rouge">ST_EndPoint</code></a></td> <td>Returns the last point of a line.</td> </tr> <tr> <td><a href="#st_envelope"><code class="language-plaintext highlighter-rouge">ST_Envelope</code></a></td> <td>Returns the minimum bounding box for the input geometry as a polygon geometry.</td> </tr> <tr> <td><a href="#st_equals"><code class="language-plaintext highlighter-rouge">ST_Equals</code></a></td> <td>Compares two geometries for equality</td> </tr> <tr> <td><a href="#st_extent"><code class="language-plaintext highlighter-rouge">ST_Extent</code></a></td> <td>Returns the minimal bounding box enclosing the input geometry</td> </tr> <tr> <td><a href="#st_exteriorring"><code class="language-plaintext highlighter-rouge">ST_ExteriorRing</code></a></td> <td>Returns the exterior ring (shell) of a polygon geometry.</td> </tr> <tr> <td><a href="#st_flipcoordinates"><code class="language-plaintext highlighter-rouge">ST_FlipCoordinates</code></a></td> <td>Returns a new geometry with the coordinates of the input geometry "flipped" so that x = y and y = x.</td> </tr> <tr> <td><a href="#st_force2d"><code class="language-plaintext highlighter-rouge">ST_Force2D</code></a></td> <td>Forces the vertices of a geometry to have X and Y components</td> </tr> <tr> <td><a href="#st_force3dm"><code class="language-plaintext highlighter-rouge">ST_Force3DM</code></a></td> <td>Forces the vertices of a geometry to have X, Y and M components</td> </tr> <tr> <td><a href="#st_force3dz"><code class="language-plaintext highlighter-rouge">ST_Force3DZ</code></a></td> <td>Forces the vertices of a geometry to have X, Y and Z components</td> </tr> <tr> <td><a href="#st_force4d"><code class="language-plaintext highlighter-rouge">ST_Force4D</code></a></td> <td>Forces the vertices of a geometry to have X, Y, Z and M components</td> </tr> <tr> <td><a href="#st_geomfromgeojson"><code class="language-plaintext highlighter-rouge">ST_GeomFromGeoJSON</code></a></td> <td>Deserializes a GEOMETRY from a GeoJSON fragment.</td> </tr> <tr> <td><a href="#st_geomfromhexewkb"><code class="language-plaintext highlighter-rouge">ST_GeomFromHEXEWKB</code></a></td> <td>Deserialize a GEOMETRY from a HEXEWKB encoded string</td> </tr> <tr> <td><a href="#st_geomfromhexwkb"><code class="language-plaintext highlighter-rouge">ST_GeomFromHEXWKB</code></a></td> <td>Creates a GEOMETRY from a HEXWKB string</td> </tr> <tr> <td><a href="#st_geomfromtext"><code class="language-plaintext highlighter-rouge">ST_GeomFromText</code></a></td> <td>Deserializes a GEOMETRY from a WKT string, optionally ignoring invalid geometries</td> </tr> <tr> <td><a href="#st_geomfromwkb"><code class="language-plaintext highlighter-rouge">ST_GeomFromWKB</code></a></td> <td>Deserializes a GEOMETRY from a WKB encoded blob</td> </tr> <tr> <td><a href="#st_geometrytype"><code class="language-plaintext highlighter-rouge">ST_GeometryType</code></a></td> <td>Returns a 'GEOMETRY_TYPE' enum identifying the input geometry type.</td> </tr> <tr> <td><a href="#st_hasm"><code class="language-plaintext highlighter-rouge">ST_HasM</code></a></td> <td>Check if the input geometry has M values.</td> </tr> <tr> <td><a href="#st_hasz"><code class="language-plaintext highlighter-rouge">ST_HasZ</code></a></td> <td>Check if the input geometry has Z values.</td> </tr> <tr> <td><a href="#st_hilbert"><code class="language-plaintext highlighter-rouge">ST_Hilbert</code></a></td> <td>Encodes the X and Y values as the hilbert curve index for a curve covering the given bounding box.</td> </tr> <tr> <td><a href="#st_intersection"><code class="language-plaintext highlighter-rouge">ST_Intersection</code></a></td> <td>Returns the "intersection" of geom1 and geom2</td> </tr> <tr> <td><a href="#st_intersects"><code class="language-plaintext highlighter-rouge">ST_Intersects</code></a></td> <td>Returns true if two geometries intersects</td> </tr> <tr> <td><a href="#st_intersects_extent"><code class="language-plaintext highlighter-rouge">ST_Intersects_Extent</code></a></td> <td>Returns true if the extent of two geometries intersects</td> </tr> <tr> <td><a href="#st_isclosed"><code class="language-plaintext highlighter-rouge">ST_IsClosed</code></a></td> <td>Returns true if a geometry is "closed"</td> </tr> <tr> <td><a href="#st_isempty"><code class="language-plaintext highlighter-rouge">ST_IsEmpty</code></a></td> <td>Returns true if the geometry is "empty"</td> </tr> <tr> <td><a href="#st_isring"><code class="language-plaintext highlighter-rouge">ST_IsRing</code></a></td> <td>Returns true if the input line geometry is a ring (both ST_IsClosed and ST_IsSimple).</td> </tr> <tr> <td><a href="#st_issimple"><code class="language-plaintext highlighter-rouge">ST_IsSimple</code></a></td> <td>Returns true if the input geometry is "simple"</td> </tr> <tr> <td><a href="#st_isvalid"><code class="language-plaintext highlighter-rouge">ST_IsValid</code></a></td> <td>Returns true if the geometry is topologically "valid"</td> </tr> <tr> <td><a href="#st_length"><code class="language-plaintext highlighter-rouge">ST_Length</code></a></td> <td>Returns the length of the input line geometry</td> </tr> <tr> <td><a href="#st_length_spheroid"><code class="language-plaintext highlighter-rouge">ST_Length_Spheroid</code></a></td> <td>Returns the length of the input geometry in meters, using a ellipsoidal model of the earth</td> </tr> <tr> <td><a href="#st_linemerge"><code class="language-plaintext highlighter-rouge">ST_LineMerge</code></a></td> <td>"Merges" the input line geometry, optionally taking direction into account.</td> </tr> <tr> <td><a href="#st_m"><code class="language-plaintext highlighter-rouge">ST_M</code></a></td> <td>Returns the M value of a point geometry, or NULL if not a point or empty</td> </tr> <tr> <td><a href="#st_mmax"><code class="language-plaintext highlighter-rouge">ST_MMax</code></a></td> <td>Returns the maximum M value of a geometry</td> </tr> <tr> <td><a href="#st_mmin"><code class="language-plaintext highlighter-rouge">ST_MMin</code></a></td> <td>Returns the minimum M value of a geometry</td> </tr> <tr> <td><a href="#st_makeenvelope"><code class="language-plaintext highlighter-rouge">ST_MakeEnvelope</code></a></td> <td>Returns a minimal bounding box polygon enclosing the input geometry</td> </tr> <tr> <td><a href="#st_makeline"><code class="language-plaintext highlighter-rouge">ST_MakeLine</code></a></td> <td>Creates a LINESTRING geometry from a pair or list of input points</td> </tr> <tr> <td><a href="#st_makepolygon"><code class="language-plaintext highlighter-rouge">ST_MakePolygon</code></a></td> <td>Creates a polygon from a shell geometry and an optional set of holes</td> </tr> <tr> <td><a href="#st_makevalid"><code class="language-plaintext highlighter-rouge">ST_MakeValid</code></a></td> <td>Attempts to make an invalid geometry valid without removing any vertices</td> </tr> <tr> <td><a href="#st_multi"><code class="language-plaintext highlighter-rouge">ST_Multi</code></a></td> <td>Turns a single geometry into a multi geometry.</td> </tr> <tr> <td><a href="#st_ngeometries"><code class="language-plaintext highlighter-rouge">ST_NGeometries</code></a></td> <td>Returns the number of component geometries in a collection geometry.</td> </tr> <tr> <td><a href="#st_ninteriorrings"><code class="language-plaintext highlighter-rouge">ST_NInteriorRings</code></a></td> <td>Returns the number if interior rings of a polygon</td> </tr> <tr> <td><a href="#st_npoints"><code class="language-plaintext highlighter-rouge">ST_NPoints</code></a></td> <td>Returns the number of vertices within a geometry</td> </tr> <tr> <td><a href="#st_normalize"><code class="language-plaintext highlighter-rouge">ST_Normalize</code></a></td> <td>Returns a "normalized" version of the input geometry.</td> </tr> <tr> <td><a href="#st_numgeometries"><code class="language-plaintext highlighter-rouge">ST_NumGeometries</code></a></td> <td>Returns the number of component geometries in a collection geometry.</td> </tr> <tr> <td><a href="#st_numinteriorrings"><code class="language-plaintext highlighter-rouge">ST_NumInteriorRings</code></a></td> <td>Returns the number if interior rings of a polygon</td> </tr> <tr> <td><a href="#st_numpoints"><code class="language-plaintext highlighter-rouge">ST_NumPoints</code></a></td> <td>Returns the number of vertices within a geometry</td> </tr> <tr> <td><a href="#st_overlaps"><code class="language-plaintext highlighter-rouge">ST_Overlaps</code></a></td> <td>Returns true if geom1 "overlaps" geom2</td> </tr> <tr> <td><a href="#st_perimeter"><code class="language-plaintext highlighter-rouge">ST_Perimeter</code></a></td> <td>Returns the length of the perimeter of the geometry</td> </tr> <tr> <td><a href="#st_perimeter_spheroid"><code class="language-plaintext highlighter-rouge">ST_Perimeter_Spheroid</code></a></td> <td>Returns the length of the perimeter in meters using an ellipsoidal model of the earths surface</td> </tr> <tr> <td><a href="#st_point"><code class="language-plaintext highlighter-rouge">ST_Point</code></a></td> <td>Creates a GEOMETRY point</td> </tr> <tr> <td><a href="#st_point2d"><code class="language-plaintext highlighter-rouge">ST_Point2D</code></a></td> <td>Creates a POINT_2D</td> </tr> <tr> <td><a href="#st_point3d"><code class="language-plaintext highlighter-rouge">ST_Point3D</code></a></td> <td>Creates a POINT_3D</td> </tr> <tr> <td><a href="#st_point4d"><code class="language-plaintext highlighter-rouge">ST_Point4D</code></a></td> <td>Creates a POINT_4D</td> </tr> <tr> <td><a href="#st_pointn"><code class="language-plaintext highlighter-rouge">ST_PointN</code></a></td> <td>Returns the n'th vertex from the input geometry as a point geometry</td> </tr> <tr> <td><a href="#st_pointonsurface"><code class="language-plaintext highlighter-rouge">ST_PointOnSurface</code></a></td> <td>Returns a point that is guaranteed to be on the surface of the input geometry. Sometimes a useful alternative to ST_Centroid.</td> </tr> <tr> <td><a href="#st_points"><code class="language-plaintext highlighter-rouge">ST_Points</code></a></td> <td>Collects all the vertices in the geometry into a multipoint</td> </tr> <tr> <td><a href="#st_quadkey"><code class="language-plaintext highlighter-rouge">ST_QuadKey</code></a></td> <td>Compute the <a href="https://learn.microsoft.com/en-us/bingmaps/articles/bing-maps-tile-system">quadkey</a> for a given lon/lat point at a given level.</td> </tr> <tr> <td><a href="#st_reduceprecision"><code class="language-plaintext highlighter-rouge">ST_ReducePrecision</code></a></td> <td>Returns the geometry with all vertices reduced to the target precision</td> </tr> <tr> <td><a href="#st_removerepeatedpoints"><code class="language-plaintext highlighter-rouge">ST_RemoveRepeatedPoints</code></a></td> <td>Returns a new geometry with repeated points removed, optionally within a target distance of eachother.</td> </tr> <tr> <td><a href="#st_reverse"><code class="language-plaintext highlighter-rouge">ST_Reverse</code></a></td> <td>Returns a new version of the input geometry with the order of its vertices reversed</td> </tr> <tr> <td><a href="#st_shortestline"><code class="language-plaintext highlighter-rouge">ST_ShortestLine</code></a></td> <td>Returns the line between the two closest points between geom1 and geom2</td> </tr> <tr> <td><a href="#st_simplify"><code class="language-plaintext highlighter-rouge">ST_Simplify</code></a></td> <td>Simplifies the input geometry by collapsing edges smaller than 'distance'</td> </tr> <tr> <td><a href="#st_simplifypreservetopology"><code class="language-plaintext highlighter-rouge">ST_SimplifyPreserveTopology</code></a></td> <td>Returns a simplified geometry but avoids creating invalid topologies</td> </tr> <tr> <td><a href="#st_startpoint"><code class="language-plaintext highlighter-rouge">ST_StartPoint</code></a></td> <td>Returns the first point of a line geometry</td> </tr> <tr> <td><a href="#st_touches"><code class="language-plaintext highlighter-rouge">ST_Touches</code></a></td> <td>Returns true if geom1 "touches" geom2</td> </tr> <tr> <td><a href="#st_transform"><code class="language-plaintext highlighter-rouge">ST_Transform</code></a></td> <td>Transforms a geometry between two coordinate systems</td> </tr> <tr> <td><a href="#st_union"><code class="language-plaintext highlighter-rouge">ST_Union</code></a></td> <td>Returns the union of two geometries.</td> </tr> <tr> <td><a href="#st_within"><code class="language-plaintext highlighter-rouge">ST_Within</code></a></td> <td>Returns true if geom1 is "within" geom2</td> </tr> <tr> <td><a href="#st_x"><code class="language-plaintext highlighter-rouge">ST_X</code></a></td> <td>Returns the X value of a point geometry, or NULL if not a point or empty</td> </tr> <tr> <td><a href="#st_xmax"><code class="language-plaintext highlighter-rouge">ST_XMax</code></a></td> <td>Returns the maximum X value of a geometry</td> </tr> <tr> <td><a href="#st_xmin"><code class="language-plaintext highlighter-rouge">ST_XMin</code></a></td> <td>Returns the minimum X value of a geometry</td> </tr> <tr> <td><a href="#st_y"><code class="language-plaintext highlighter-rouge">ST_Y</code></a></td> <td>Returns the Y value of a point geometry, or NULL if not a point or empty</td> </tr> <tr> <td><a href="#st_ymax"><code class="language-plaintext highlighter-rouge">ST_YMax</code></a></td> <td>Returns the maximum Y value of a geometry</td> </tr> <tr> <td><a href="#st_ymin"><code class="language-plaintext highlighter-rouge">ST_YMin</code></a></td> <td>Returns the minimum Y value of a geometry</td> </tr> <tr> <td><a href="#st_z"><code class="language-plaintext highlighter-rouge">ST_Z</code></a></td> <td>Returns the Z value of a point geometry, or NULL if not a point or empty</td> </tr> <tr> <td><a href="#st_zmflag"><code class="language-plaintext highlighter-rouge">ST_ZMFlag</code></a></td> <td>Returns a flag indicating the presence of Z and M values in the input geometry.</td> </tr> <tr> <td><a href="#st_zmax"><code class="language-plaintext highlighter-rouge">ST_ZMax</code></a></td> <td>Returns the maximum Z value of a geometry</td> </tr> <tr> <td><a href="#st_zmin"><code class="language-plaintext highlighter-rouge">ST_ZMin</code></a></td> <td>Returns the minimum Z value of a geometry</td> </tr> </tbody> </table> <p><strong><a href="#aggregate-functions">Aggregate Functions</a></strong></p> <table> <thead> <tr> <th>Function</th> <th>Summary</th> </tr> </thead> <tbody> <tr> <td><a href="#st_envelope_agg"><code class="language-plaintext highlighter-rouge">ST_Envelope_Agg</code></a></td> <td>Alias for <a href="#st_extent_agg">ST_Extent_Agg</a>.</td> </tr> <tr> <td><a href="#st_extent_agg"><code class="language-plaintext highlighter-rouge">ST_Extent_Agg</code></a></td> <td>Computes the minimal-bounding-box polygon containing the set of input geometries</td> </tr> <tr> <td><a href="#st_intersection_agg"><code class="language-plaintext highlighter-rouge">ST_Intersection_Agg</code></a></td> <td>Computes the intersection of a set of geometries</td> </tr> <tr> <td><a href="#st_union_agg"><code class="language-plaintext highlighter-rouge">ST_Union_Agg</code></a></td> <td>Computes the union of a set of input geometries</td> </tr> </tbody> </table> <p><strong><a href="#table-functions">Table Functions</a></strong></p> <table> <thead> <tr> <th>Function</th> <th>Summary</th> </tr> </thead> <tbody> <tr> <td><a href="#st_drivers"><code class="language-plaintext highlighter-rouge">ST_Drivers</code></a></td> <td>Returns the list of supported GDAL drivers and file formats</td> </tr> <tr> <td><a href="#st_read"><code class="language-plaintext highlighter-rouge">ST_Read</code></a></td> <td>Read and import a variety of geospatial file formats using the GDAL library.</td> </tr> <tr> <td><a href="#st_readosm"><code class="language-plaintext highlighter-rouge">ST_ReadOSM</code></a></td> <td>The <code class="language-plaintext highlighter-rouge">ST_ReadOsm()</code> table function enables reading compressed OpenStreetMap data directly from a <code class="language-plaintext highlighter-rouge">.osm.pbf file.</code>
</td> </tr> <tr> <td><a href="#st_read_meta"><code class="language-plaintext highlighter-rouge">ST_Read_Meta</code></a></td> <td>Read the metadata from a variety of geospatial file formats using the GDAL library.</td> </tr> </tbody> </table>
<hr> <h2 id="scalar-functions"> <a style="text-decoration: none;" href="#scalar-functions">Scalar Functions</a> </h2> <h3 id="st_area"> <a style="text-decoration: none;" href="#st_area">ST_Area</a> </h3> <h4 id="signatures"> <a style="text-decoration: none;" href="#signatures">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Area (col0 POINT_2D)
DOUBLE ST_Area (col0 LINESTRING_2D)
DOUBLE ST_Area (col0 POLYGON_2D)
DOUBLE ST_Area (col0 GEOMETRY)
DOUBLE ST_Area (col0 BOX_2D)</pre> <h4 id="description"> <a style="text-decoration: none;" href="#description">Description</a> </h4> <p>Compute the area of a geometry.</p> <p>Returns <code class="language-plaintext highlighter-rouge">0.0</code> for any geometry that is not a <code class="language-plaintext highlighter-rouge">POLYGON</code>, <code class="language-plaintext highlighter-rouge">MULTIPOLYGON</code> or <code class="language-plaintext highlighter-rouge">GEOMETRYCOLLECTION</code> containing polygon geometries. The area is in the same units as the spatial reference system of the geometry.</p> <p>The <code class="language-plaintext highlighter-rouge">POINT_2D</code> and <code class="language-plaintext highlighter-rouge">LINESTRING_2D</code> overloads of this function always return <code class="language-plaintext highlighter-rouge">0.0</code> but are included for completeness.</p> <h4 id="example"> <a style="text-decoration: none;" href="#example">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_Area('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'::GEOMETRY);
	-- 1.0</pre>
<hr> <h3 id="st_area_spheroid"> <a style="text-decoration: none;" href="#st_area_spheroid">ST_Area_Spheroid</a> </h3> <h4 id="signatures-1"> <a style="text-decoration: none;" href="#signatures-1">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Area_Spheroid (col0 POLYGON_2D)
DOUBLE ST_Area_Spheroid (col0 GEOMETRY)</pre> <h4 id="description-1"> <a style="text-decoration: none;" href="#description-1">Description</a> </h4> <p>Returns the area of a geometry in meters, using an ellipsoidal model of the earth</p> <p>The input geometry is assumed to be in the <a href="https://en.wikipedia.org/wiki/World_Geodetic_System">EPSG:4326</a> coordinate system (WGS84), with [latitude, longitude] axis order and the area is returned in square meters. This function uses the <a href="https://geographiclib.sourceforge.io/">GeographicLib</a> library, calculating the area using an ellipsoidal model of the earth. This is a highly accurate method for calculating the area of a polygon taking the curvature of the earth into account, but is also the slowest.</p> <p>Returns <code class="language-plaintext highlighter-rouge">0.0</code> for any geometry that is not a <code class="language-plaintext highlighter-rouge">POLYGON</code>, <code class="language-plaintext highlighter-rouge">MULTIPOLYGON</code> or <code class="language-plaintext highlighter-rouge">GEOMETRYCOLLECTION</code> containing polygon geometries.</p>
<hr> <h3 id="st_asgeojson"> <a style="text-decoration: none;" href="#st_asgeojson">ST_AsGeoJSON</a> </h3> <h4 id="signature"> <a style="text-decoration: none;" href="#signature">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">JSON ST_AsGeoJSON (col0 GEOMETRY)</pre> <h4 id="description-2"> <a style="text-decoration: none;" href="#description-2">Description</a> </h4> <p>Returns the geometry as a GeoJSON fragment</p> <p>This does not return a complete GeoJSON document, only the geometry fragment. To construct a complete GeoJSON document or feature, look into using the DuckDB JSON extension in conjunction with this function. This function supports geometries with Z values, but not M values.</p> <h4 id="example-1"> <a style="text-decoration: none;" href="#example-1">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_AsGeoJSON('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'::GEOMETRY);
----
{"type":"Polygon","coordinates":[[[0.0,0.0],[0.0,1.0],[1.0,1.0],[1.0,0.0],[0.0,0.0]]]}

-- Convert a geometry into a full GeoJSON feature (requires the JSON extension to be loaded)
SELECT CAST({
	type: 'Feature', 
	geometry: ST_AsGeoJSON(ST_Point(1,2)), 
	properties: { 
		name: 'my_point' 
	} 
} AS JSON);
----
{"type":"Feature","geometry":{"type":"Point","coordinates":[1.0,2.0]},"properties":{"name":"my_point"}}</pre>
<hr> <h3 id="st_ashexwkb"> <a style="text-decoration: none;" href="#st_ashexwkb">ST_AsHEXWKB</a> </h3> <h4 id="signature-1"> <a style="text-decoration: none;" href="#signature-1">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">VARCHAR ST_AsHEXWKB (col0 GEOMETRY)</pre> <h4 id="description-3"> <a style="text-decoration: none;" href="#description-3">Description</a> </h4> <p>Returns the geometry as a HEXWKB string</p> <h4 id="example-2"> <a style="text-decoration: none;" href="#example-2">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_AsHexWKB('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'::GEOMETRY);
----
01030000000100000005000000000000000000000000000...</pre>
<hr> <h3 id="st_assvg"> <a style="text-decoration: none;" href="#st_assvg">ST_AsSVG</a> </h3> <h4 id="signature-2"> <a style="text-decoration: none;" href="#signature-2">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">VARCHAR ST_AsSVG (col0 GEOMETRY, col1 BOOLEAN, col2 INTEGER)</pre> <h4 id="description-4"> <a style="text-decoration: none;" href="#description-4">Description</a> </h4> <p>Convert the geometry into a SVG fragment or path</p> <p>Convert the geometry into a SVG fragment or path The SVG fragment is returned as a string. The fragment is a path element that can be used in an SVG document. The second Boolean argument specifies whether the path should be relative or absolute. The third argument specifies the maximum number of digits to use for the coordinates.</p> <pre class="language-plaintext highlighter-rouge" data-language="plaintext">Points are formatted as cx/cy using absolute coordinates or x/y using relative coordinates.</pre> <h4 id="example-3"> <a style="text-decoration: none;" href="#example-3">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_AsSVG('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'::GEOMETRY, false, 15);
----
M 0 0 L 0 -1 1 -1 1 0 Z</pre>
<hr> <h3 id="st_astext"> <a style="text-decoration: none;" href="#st_astext">ST_AsText</a> </h3> <h4 id="signatures-2"> <a style="text-decoration: none;" href="#signatures-2">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">VARCHAR ST_AsText (col0 POINT_2D)
VARCHAR ST_AsText (col0 LINESTRING_2D)
VARCHAR ST_AsText (col0 POLYGON_2D)
VARCHAR ST_AsText (col0 BOX_2D)
VARCHAR ST_AsText (col0 GEOMETRY)</pre> <h4 id="description-5"> <a style="text-decoration: none;" href="#description-5">Description</a> </h4> <p>Returns the geometry as a WKT string</p> <h4 id="example-4"> <a style="text-decoration: none;" href="#example-4">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_AsText(ST_MakeEnvelope(0,0,1,1));
----
POLYGON ((0 0, 0 1, 1 1, 1 0, 0 0))</pre>
<hr> <h3 id="st_aswkb"> <a style="text-decoration: none;" href="#st_aswkb">ST_AsWKB</a> </h3> <h4 id="signature-3"> <a style="text-decoration: none;" href="#signature-3">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">WKB_BLOB ST_AsWKB (col0 GEOMETRY)</pre> <h4 id="description-6"> <a style="text-decoration: none;" href="#description-6">Description</a> </h4> <p>Returns the geometry as a WKB blob</p> <h4 id="example-5"> <a style="text-decoration: none;" href="#example-5">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_AsWKB('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'::GEOMETRY)::BLOB;
----
\x01\x03\x00\x00\x00\x01\x00\x00\x00\x05...</pre>
<hr> <h3 id="st_boundary"> <a style="text-decoration: none;" href="#st_boundary">ST_Boundary</a> </h3> <h4 id="signature-4"> <a style="text-decoration: none;" href="#signature-4">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Boundary (col0 GEOMETRY)</pre> <h4 id="description-7"> <a style="text-decoration: none;" href="#description-7">Description</a> </h4> <p>Returns the "boundary" of a geometry</p>
<hr> <h3 id="st_buffer"> <a style="text-decoration: none;" href="#st_buffer">ST_Buffer</a> </h3> <h4 id="signatures-3"> <a style="text-decoration: none;" href="#signatures-3">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Buffer (geom GEOMETRY, distance DOUBLE)
GEOMETRY ST_Buffer (geom GEOMETRY, distance DOUBLE, num_triangles INTEGER)
GEOMETRY ST_Buffer (geom GEOMETRY, distance DOUBLE, num_triangles INTEGER, join_style VARCHAR, cap_style VARCHAR, mitre_limit DOUBLE)</pre> <h4 id="description-8"> <a style="text-decoration: none;" href="#description-8">Description</a> </h4> <p>Returns a buffer around the input geometry at the target distance</p> <p><code class="language-plaintext highlighter-rouge">geom</code> is the input geometry.</p> <p><code class="language-plaintext highlighter-rouge">distance</code> is the target distance for the buffer, using the same units as the input geometry.</p> <p><code class="language-plaintext highlighter-rouge">num_triangles</code> represents how many triangles that will be produced to approximate a quarter circle. The larger the number, the smoother the resulting geometry. The default value is 8.</p> <p><code class="language-plaintext highlighter-rouge">join_style</code> must be one of "JOIN_ROUND", "JOIN_MITRE", "JOIN_BEVEL". This parameter is case-insensitive.</p> <p><code class="language-plaintext highlighter-rouge">cap_style</code> must be one of "CAP_ROUND", "CAP_FLAT", "CAP_SQUARE". This parameter is case-insensitive.</p> <p><code class="language-plaintext highlighter-rouge">mitre_limit</code> only applies when <code class="language-plaintext highlighter-rouge">join_style</code> is "JOIN_MITRE". It is the ratio of the distance from the corner to the mitre point to the corner radius. The default value is 1.0.</p> <p>This is a planar operation and will not take into account the curvature of the earth.</p>
<hr> <h3 id="st_centroid"> <a style="text-decoration: none;" href="#st_centroid">ST_Centroid</a> </h3> <h4 id="signatures-4"> <a style="text-decoration: none;" href="#signatures-4">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">POINT_2D ST_Centroid (col0 POINT_2D)
POINT_2D ST_Centroid (col0 LINESTRING_2D)
POINT_2D ST_Centroid (col0 POLYGON_2D)
POINT_2D ST_Centroid (col0 BOX_2D)
POINT_2D ST_Centroid (col0 BOX_2DF)
GEOMETRY ST_Centroid (col0 GEOMETRY)</pre> <h4 id="description-9"> <a style="text-decoration: none;" href="#description-9">Description</a> </h4> <p>Calculates the centroid of a geometry</p> <h4 id="example-6"> <a style="text-decoration: none;" href="#example-6">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT st_centroid('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'::GEOMETRY);
----
POINT(0.5 0.5)</pre>
<hr> <h3 id="st_collect"> <a style="text-decoration: none;" href="#st_collect">ST_Collect</a> </h3> <h4 id="signature-5"> <a style="text-decoration: none;" href="#signature-5">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Collect (col0 GEOMETRY[])</pre> <h4 id="description-10"> <a style="text-decoration: none;" href="#description-10">Description</a> </h4> <p>Collects a list of geometries into a collection geometry.</p> <ul> <li>If all geometries are <code class="language-plaintext highlighter-rouge">POINT</code>'s, a <code class="language-plaintext highlighter-rouge">MULTIPOINT</code> is returned.</li> <li>If all geometries are <code class="language-plaintext highlighter-rouge">LINESTRING</code>'s, a <code class="language-plaintext highlighter-rouge">MULTILINESTRING</code> is returned.</li> <li>If all geometries are <code class="language-plaintext highlighter-rouge">POLYGON</code>'s, a <code class="language-plaintext highlighter-rouge">MULTIPOLYGON</code> is returned.</li> <li>Otherwise if the input collection contains a mix of geometry types, a <code class="language-plaintext highlighter-rouge">GEOMETRYCOLLECTION</code> is returned.</li> </ul> <p>Empty and <code class="language-plaintext highlighter-rouge">NULL</code> geometries are ignored. If all geometries are empty or <code class="language-plaintext highlighter-rouge">NULL</code>, a <code class="language-plaintext highlighter-rouge">GEOMETRYCOLLECTION EMPTY</code> is returned.</p> <h4 id="example-7"> <a style="text-decoration: none;" href="#example-7">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">-- With all POINT's, a MULTIPOINT is returned
SELECT ST_Collect([ST_Point(1, 2), ST_Point(3, 4)]);
----
MULTIPOINT (1 2, 3 4)

-- With mixed geometry types, a GEOMETRYCOLLECTION is returned
SELECT ST_Collect([ST_Point(1, 2), ST_GeomFromText('LINESTRING(3 4, 5 6)')]);
----
GEOMETRYCOLLECTION (POINT (1 2), LINESTRING (3 4, 5 6))

-- Note that the empty geometry is ignored, so the result is a MULTIPOINT
SELECT ST_Collect([ST_Point(1, 2), NULL, ST_GeomFromText('GEOMETRYCOLLECTION EMPTY')]);
----
MULTIPOINT (1 2)

-- If all geometries are empty or NULL, a GEOMETRYCOLLECTION EMPTY is returned
SELECT ST_Collect([NULL, ST_GeomFromText('GEOMETRYCOLLECTION EMPTY')]);
----
GEOMETRYCOLLECTION EMPTY

-- Tip: You can use the `ST_Collect` function together with the `list()` aggregate function to collect multiple rows of geometries into a single geometry collection:

CREATE TABLE points (geom GEOMETRY);

INSERT INTO points VALUES (ST_Point(1, 2)), (ST_Point(3, 4));

SELECT ST_Collect(list(geom)) FROM points;
----
MULTIPOINT (1 2, 3 4)</pre>
<hr> <h3 id="st_collectionextract"> <a style="text-decoration: none;" href="#st_collectionextract">ST_CollectionExtract</a> </h3> <h4 id="signatures-5"> <a style="text-decoration: none;" href="#signatures-5">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_CollectionExtract (geom GEOMETRY)
GEOMETRY ST_CollectionExtract (geom GEOMETRY, type INTEGER)</pre> <h4 id="description-11"> <a style="text-decoration: none;" href="#description-11">Description</a> </h4> <p>Extracts geometries from a GeometryCollection into a typed multi geometry.</p> <p>If the input geometry is a GeometryCollection, the function will return a multi geometry, determined by the <code class="language-plaintext highlighter-rouge">type</code> parameter.</p> <ul> <li>if <code class="language-plaintext highlighter-rouge">type</code> = 1, returns a MultiPoint containg all the Points in the collection</li> <li>if <code class="language-plaintext highlighter-rouge">type</code> = 2, returns a MultiLineString containg all the LineStrings in the collection</li> <li>if <code class="language-plaintext highlighter-rouge">type</code> = 3, returns a MultiPolygon containg all the Polygons in the collection</li> </ul> <p>If no <code class="language-plaintext highlighter-rouge">type</code> parameters is provided, the function will return a multi geometry matching the highest "surface dimension" of the contained geometries. E.g., if the collection contains only Points, a MultiPoint will be returned. But if the collection contains both Points and LineStrings, a MultiLineString will be returned. Similarly, if the collection contains Polygons, a MultiPolygon will be returned. Contained geometries of a lower surface dimension will be ignored.</p> <p>If the input geometry contains nested GeometryCollections, their geometries will be extracted recursively and included into the final multi geometry as well.</p> <p>If the input geometry is not a GeometryCollection, the function will return the input geometry as is.</p> <h4 id="example-8"> <a style="text-decoration: none;" href="#example-8">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT st_collectionextract('MULTIPOINT(1 2,3 4)'::GEOMETRY, 1);
-- MULTIPOINT (1 2, 3 4)</pre>
<hr> <h3 id="st_contains"> <a style="text-decoration: none;" href="#st_contains">ST_Contains</a> </h3> <h4 id="signatures-6"> <a style="text-decoration: none;" href="#signatures-6">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_Contains (col0 POLYGON_2D, col1 POINT_2D)
BOOLEAN ST_Contains (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-12"> <a style="text-decoration: none;" href="#description-12">Description</a> </h4> <p>Returns true if geom1 contains geom2.</p> <h4 id="example-9"> <a style="text-decoration: none;" href="#example-9">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT st_contains('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'::GEOMETRY, 'POINT(0.5 0.5)'::GEOMETRY);
----
true</pre>
<hr> <h3 id="st_containsproperly"> <a style="text-decoration: none;" href="#st_containsproperly">ST_ContainsProperly</a> </h3> <h4 id="signature-6"> <a style="text-decoration: none;" href="#signature-6">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_ContainsProperly (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-13"> <a style="text-decoration: none;" href="#description-13">Description</a> </h4> <p>Returns true if geom1 "properly contains" geom2</p>
<hr> <h3 id="st_convexhull"> <a style="text-decoration: none;" href="#st_convexhull">ST_ConvexHull</a> </h3> <h4 id="signature-7"> <a style="text-decoration: none;" href="#signature-7">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_ConvexHull (col0 GEOMETRY)</pre> <h4 id="description-14"> <a style="text-decoration: none;" href="#description-14">Description</a> </h4> <p>Returns the convex hull enclosing the geometry</p>
<hr> <h3 id="st_coveredby"> <a style="text-decoration: none;" href="#st_coveredby">ST_CoveredBy</a> </h3> <h4 id="signature-8"> <a style="text-decoration: none;" href="#signature-8">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_CoveredBy (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-15"> <a style="text-decoration: none;" href="#description-15">Description</a> </h4> <p>Returns true if geom1 is "covered" by geom2</p>
<hr> <h3 id="st_covers"> <a style="text-decoration: none;" href="#st_covers">ST_Covers</a> </h3> <h4 id="signature-9"> <a style="text-decoration: none;" href="#signature-9">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_Covers (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-16"> <a style="text-decoration: none;" href="#description-16">Description</a> </h4> <p>Returns if geom1 "covers" geom2</p>
<hr> <h3 id="st_crosses"> <a style="text-decoration: none;" href="#st_crosses">ST_Crosses</a> </h3> <h4 id="signature-10"> <a style="text-decoration: none;" href="#signature-10">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_Crosses (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-17"> <a style="text-decoration: none;" href="#description-17">Description</a> </h4> <p>Returns true if geom1 "crosses" geom2</p>
<hr> <h3 id="st_dwithin"> <a style="text-decoration: none;" href="#st_dwithin">ST_DWithin</a> </h3> <h4 id="signature-11"> <a style="text-decoration: none;" href="#signature-11">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_DWithin (col0 GEOMETRY, col1 GEOMETRY, col2 DOUBLE)</pre> <h4 id="description-18"> <a style="text-decoration: none;" href="#description-18">Description</a> </h4> <p>Returns if two geometries are within a target distance of each-other</p>
<hr> <h3 id="st_dwithin_spheroid"> <a style="text-decoration: none;" href="#st_dwithin_spheroid">ST_DWithin_Spheroid</a> </h3> <h4 id="signature-12"> <a style="text-decoration: none;" href="#signature-12">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_DWithin_Spheroid (col0 POINT_2D, col1 POINT_2D, col2 DOUBLE)</pre> <h4 id="description-19"> <a style="text-decoration: none;" href="#description-19">Description</a> </h4> <p>Returns if two POINT_2D's are within a target distance in meters, using an ellipsoidal model of the earths surface.</p> <p>The input geometry is assumed to be in the <a href="https://en.wikipedia.org/wiki/World_Geodetic_System">EPSG:4326</a> coordinate system (WGS84), with [latitude, longitude] axis order and the distance is returned in meters. This function uses the <a href="https://geographiclib.sourceforge.io/">GeographicLib</a> library to solve the <a href="https://en.wikipedia.org/wiki/Geodesics_on_an_ellipsoid#Solution_of_the_direct_and_inverse_problems">inverse geodesic problem</a>, calculating the distance between two points using an ellipsoidal model of the earth. This is a highly accurate method for calculating the distance between two arbitrary points taking the curvature of the earths surface into account, but is also the slowest.</p>
<hr> <h3 id="st_difference"> <a style="text-decoration: none;" href="#st_difference">ST_Difference</a> </h3> <h4 id="signature-13"> <a style="text-decoration: none;" href="#signature-13">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Difference (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-20"> <a style="text-decoration: none;" href="#description-20">Description</a> </h4> <p>Returns the "difference" between two geometries</p>
<hr> <h3 id="st_dimension"> <a style="text-decoration: none;" href="#st_dimension">ST_Dimension</a> </h3> <h4 id="signature-14"> <a style="text-decoration: none;" href="#signature-14">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">INTEGER ST_Dimension (col0 GEOMETRY)</pre> <h4 id="description-21"> <a style="text-decoration: none;" href="#description-21">Description</a> </h4> <p>Returns the dimension of a geometry.</p> <h4 id="example-10"> <a style="text-decoration: none;" href="#example-10">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT st_dimension('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'::GEOMETRY);
----
2</pre>
<hr> <h3 id="st_disjoint"> <a style="text-decoration: none;" href="#st_disjoint">ST_Disjoint</a> </h3> <h4 id="signature-15"> <a style="text-decoration: none;" href="#signature-15">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_Disjoint (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-22"> <a style="text-decoration: none;" href="#description-22">Description</a> </h4> <p>Returns if two geometries are disjoint</p>
<hr> <h3 id="st_distance"> <a style="text-decoration: none;" href="#st_distance">ST_Distance</a> </h3> <h4 id="signatures-7"> <a style="text-decoration: none;" href="#signatures-7">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Distance (col0 POINT_2D, col1 POINT_2D)
DOUBLE ST_Distance (col0 POINT_2D, col1 LINESTRING_2D)
DOUBLE ST_Distance (col0 LINESTRING_2D, col1 POINT_2D)
DOUBLE ST_Distance (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-23"> <a style="text-decoration: none;" href="#description-23">Description</a> </h4> <p>Returns the distance between two geometries.</p> <h4 id="example-11"> <a style="text-decoration: none;" href="#example-11">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT st_distance('POINT(0 0)'::GEOMETRY, 'POINT(1 1)'::GEOMETRY);
----
1.4142135623731</pre>
<hr> <h3 id="st_distance_sphere"> <a style="text-decoration: none;" href="#st_distance_sphere">ST_Distance_Sphere</a> </h3> <h4 id="signatures-8"> <a style="text-decoration: none;" href="#signatures-8">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Distance_Sphere (col0 POINT_2D, col1 POINT_2D)
DOUBLE ST_Distance_Sphere (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-24"> <a style="text-decoration: none;" href="#description-24">Description</a> </h4> <p>Returns the haversine distance between two geometries.</p> <ul> <li>Only supports POINT geometries.</li> <li>Returns the distance in meters.</li> <li>The input is expected to be in WGS84 (EPSG:4326) coordinates, using a [latitude, longitude] axis order.</li> </ul>
<hr> <h3 id="st_distance_spheroid"> <a style="text-decoration: none;" href="#st_distance_spheroid">ST_Distance_Spheroid</a> </h3> <h4 id="signature-16"> <a style="text-decoration: none;" href="#signature-16">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Distance_Spheroid (col0 POINT_2D, col1 POINT_2D)</pre> <h4 id="description-25"> <a style="text-decoration: none;" href="#description-25">Description</a> </h4> <p>Returns the distance between two geometries in meters using a ellipsoidal model of the earths surface</p> <p>The input geometry is assumed to be in the <a href="https://en.wikipedia.org/wiki/World_Geodetic_System">EPSG:4326</a> coordinate system (WGS84), with [latitude, longitude] axis order and the distance limit is expected to be in meters. This function uses the <a href="https://geographiclib.sourceforge.io/">GeographicLib</a> library to solve the <a href="https://en.wikipedia.org/wiki/Geodesics_on_an_ellipsoid#Solution_of_the_direct_and_inverse_problems">inverse geodesic problem</a>, calculating the distance between two points using an ellipsoidal model of the earth. This is a highly accurate method for calculating the distance between two arbitrary points taking the curvature of the earths surface into account, but is also the slowest.</p> <h4 id="example-12"> <a style="text-decoration: none;" href="#example-12">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">-- Note: the coordinates are in WGS84 and [latitude, longitude] axis order
-- Whats the distance between New York and Amsterdam (JFK and AMS airport)?
SELECT st_distance_spheroid(
st_point(40.6446, -73.7797),
st_point(52.3130, 4.7725)
);
----
5863418.7459356235
-- Roughly 5863km!</pre>
<hr> <h3 id="st_dump"> <a style="text-decoration: none;" href="#st_dump">ST_Dump</a> </h3> <h4 id="signature-17"> <a style="text-decoration: none;" href="#signature-17">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">STRUCT(geom GEOMETRY, path INTEGER[])[] ST_Dump (col0 GEOMETRY)</pre> <h4 id="description-26"> <a style="text-decoration: none;" href="#description-26">Description</a> </h4> <p>Dumps a geometry into a list of sub-geometries and their "path" in the original geometry.</p> <h4 id="example-13"> <a style="text-decoration: none;" href="#example-13">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT st_dump('MULTIPOINT(1 2,3 4)'::GEOMETRY);
----
[{'geom': 'POINT(1 2)', 'path': [0]}, {'geom': 'POINT(3 4)', 'path': [1]}]</pre>
<hr> <h3 id="st_endpoint"> <a style="text-decoration: none;" href="#st_endpoint">ST_EndPoint</a> </h3> <h4 id="signatures-9"> <a style="text-decoration: none;" href="#signatures-9">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_EndPoint (col0 GEOMETRY)
POINT_2D ST_EndPoint (col0 LINESTRING_2D)</pre> <h4 id="description-27"> <a style="text-decoration: none;" href="#description-27">Description</a> </h4> <p>Returns the last point of a line.</p> <h4 id="example-14"> <a style="text-decoration: none;" href="#example-14">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_EndPoint('LINESTRING(0 0, 1 1)'::GEOMETRY);
-- POINT(1 1)</pre>
<hr> <h3 id="st_envelope"> <a style="text-decoration: none;" href="#st_envelope">ST_Envelope</a> </h3> <h4 id="signature-18"> <a style="text-decoration: none;" href="#signature-18">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Envelope (col0 GEOMETRY)</pre> <h4 id="description-28"> <a style="text-decoration: none;" href="#description-28">Description</a> </h4> <p>Returns the minimum bounding box for the input geometry as a polygon geometry.</p>
<hr> <h3 id="st_equals"> <a style="text-decoration: none;" href="#st_equals">ST_Equals</a> </h3> <h4 id="signature-19"> <a style="text-decoration: none;" href="#signature-19">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_Equals (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-29"> <a style="text-decoration: none;" href="#description-29">Description</a> </h4> <p>Compares two geometries for equality</p>
<hr> <h3 id="st_extent"> <a style="text-decoration: none;" href="#st_extent">ST_Extent</a> </h3> <h4 id="signatures-10"> <a style="text-decoration: none;" href="#signatures-10">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOX_2D ST_Extent (col0 GEOMETRY)
BOX_2D ST_Extent (col0 WKB_BLOB)</pre> <h4 id="description-30"> <a style="text-decoration: none;" href="#description-30">Description</a> </h4> <p>Returns the minimal bounding box enclosing the input geometry</p>
<hr> <h3 id="st_exteriorring"> <a style="text-decoration: none;" href="#st_exteriorring">ST_ExteriorRing</a> </h3> <h4 id="signatures-11"> <a style="text-decoration: none;" href="#signatures-11">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">LINESTRING_2D ST_ExteriorRing (col0 POLYGON_2D)
GEOMETRY ST_ExteriorRing (col0 GEOMETRY)</pre> <h4 id="description-31"> <a style="text-decoration: none;" href="#description-31">Description</a> </h4> <p>Returns the exterior ring (shell) of a polygon geometry.</p>
<hr> <h3 id="st_flipcoordinates"> <a style="text-decoration: none;" href="#st_flipcoordinates">ST_FlipCoordinates</a> </h3> <h4 id="signatures-12"> <a style="text-decoration: none;" href="#signatures-12">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">POINT_2D ST_FlipCoordinates (col0 POINT_2D)
LINESTRING_2D ST_FlipCoordinates (col0 LINESTRING_2D)
POLYGON_2D ST_FlipCoordinates (col0 POLYGON_2D)
BOX_2D ST_FlipCoordinates (col0 BOX_2D)
GEOMETRY ST_FlipCoordinates (col0 GEOMETRY)</pre> <h4 id="description-32"> <a style="text-decoration: none;" href="#description-32">Description</a> </h4> <p>Returns a new geometry with the coordinates of the input geometry "flipped" so that x = y and y = x.</p>
<hr> <h3 id="st_force2d"> <a style="text-decoration: none;" href="#st_force2d">ST_Force2D</a> </h3> <h4 id="signature-20"> <a style="text-decoration: none;" href="#signature-20">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Force2D (col0 GEOMETRY)</pre> <h4 id="description-33"> <a style="text-decoration: none;" href="#description-33">Description</a> </h4> <p>Forces the vertices of a geometry to have X and Y components</p> <p>This function will drop any Z and M values from the input geometry, if present. If the input geometry is already 2D, it will be returned as is.</p>
<hr> <h3 id="st_force3dm"> <a style="text-decoration: none;" href="#st_force3dm">ST_Force3DM</a> </h3> <h4 id="signature-21"> <a style="text-decoration: none;" href="#signature-21">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Force3DM (col0 GEOMETRY, col1 DOUBLE)</pre> <h4 id="description-34"> <a style="text-decoration: none;" href="#description-34">Description</a> </h4> <p>Forces the vertices of a geometry to have X, Y and M components</p> <p>The following cases apply:</p> <ul> <li>If the input geometry has a Z component but no M component, the Z component will be replaced with the new M value.</li> <li>If the input geometry has a M component but no Z component, it will be returned as is.</li> <li>If the input geometry has both a Z component and a M component, the Z component will be removed.</li> <li>Otherwise, if the input geometry has neither a Z or M component, the new M value will be added to the vertices of the input geometry.</li> </ul>
<hr> <h3 id="st_force3dz"> <a style="text-decoration: none;" href="#st_force3dz">ST_Force3DZ</a> </h3> <h4 id="signature-22"> <a style="text-decoration: none;" href="#signature-22">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Force3DZ (col0 GEOMETRY, col1 DOUBLE)</pre> <h4 id="description-35"> <a style="text-decoration: none;" href="#description-35">Description</a> </h4> <p>Forces the vertices of a geometry to have X, Y and Z components</p> <p>The following cases apply:</p> <ul> <li>If the input geometry has a M component but no Z component, the M component will be replaced with the new Z value.</li> <li>If the input geometry has a Z component but no M component, it will be returned as is.</li> <li>If the input geometry has both a Z component and a M component, the M component will be removed.</li> <li>Otherwise, if the input geometry has neither a Z or M component, the new Z value will be added to the vertices of the input geometry.</li> </ul>
<hr> <h3 id="st_force4d"> <a style="text-decoration: none;" href="#st_force4d">ST_Force4D</a> </h3> <h4 id="signature-23"> <a style="text-decoration: none;" href="#signature-23">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Force4D (col0 GEOMETRY, col1 DOUBLE, col2 DOUBLE)</pre> <h4 id="description-36"> <a style="text-decoration: none;" href="#description-36">Description</a> </h4> <p>Forces the vertices of a geometry to have X, Y, Z and M components</p> <p>The following cases apply:</p> <ul> <li>If the input geometry has a Z component but no M component, the new M value will be added to the vertices of the input geometry.</li> <li>If the input geometry has a M component but no Z component, the new Z value will be added to the vertices of the input geometry.</li> <li>If the input geometry has both a Z component and a M component, the geometry will be returned as is.</li> <li>Otherwise, if the input geometry has neither a Z or M component, the new Z and M values will be added to the vertices of the input geometry.</li> </ul>
<hr> <h3 id="st_geomfromgeojson"> <a style="text-decoration: none;" href="#st_geomfromgeojson">ST_GeomFromGeoJSON</a> </h3> <h4 id="signatures-13"> <a style="text-decoration: none;" href="#signatures-13">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_GeomFromGeoJSON (col0 VARCHAR)
GEOMETRY ST_GeomFromGeoJSON (col0 JSON)</pre> <h4 id="description-37"> <a style="text-decoration: none;" href="#description-37">Description</a> </h4> <p>Deserializes a GEOMETRY from a GeoJSON fragment.</p> <h4 id="example-15"> <a style="text-decoration: none;" href="#example-15">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_GeomFromGeoJSON('{"type":"Point","coordinates":[1.0,2.0]}');
----
POINT (1 2)</pre>
<hr> <h3 id="st_geomfromhexewkb"> <a style="text-decoration: none;" href="#st_geomfromhexewkb">ST_GeomFromHEXEWKB</a> </h3> <h4 id="signature-24"> <a style="text-decoration: none;" href="#signature-24">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_GeomFromHEXEWKB (col0 VARCHAR)</pre> <h4 id="description-38"> <a style="text-decoration: none;" href="#description-38">Description</a> </h4> <p>Deserialize a GEOMETRY from a HEXEWKB encoded string</p>
<hr> <h3 id="st_geomfromhexwkb"> <a style="text-decoration: none;" href="#st_geomfromhexwkb">ST_GeomFromHEXWKB</a> </h3> <h4 id="signature-25"> <a style="text-decoration: none;" href="#signature-25">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_GeomFromHEXWKB (col0 VARCHAR)</pre> <h4 id="description-39"> <a style="text-decoration: none;" href="#description-39">Description</a> </h4> <p>Creates a GEOMETRY from a HEXWKB string</p>
<hr> <h3 id="st_geomfromtext"> <a style="text-decoration: none;" href="#st_geomfromtext">ST_GeomFromText</a> </h3> <h4 id="signatures-14"> <a style="text-decoration: none;" href="#signatures-14">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_GeomFromText (col0 VARCHAR)
GEOMETRY ST_GeomFromText (col0 VARCHAR, col1 BOOLEAN)</pre> <h4 id="description-40"> <a style="text-decoration: none;" href="#description-40">Description</a> </h4> <p>Deserializes a GEOMETRY from a WKT string, optionally ignoring invalid geometries</p>
<hr> <h3 id="st_geomfromwkb"> <a style="text-decoration: none;" href="#st_geomfromwkb">ST_GeomFromWKB</a> </h3> <h4 id="signatures-15"> <a style="text-decoration: none;" href="#signatures-15">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_GeomFromWKB (col0 WKB_BLOB)
GEOMETRY ST_GeomFromWKB (col0 BLOB)</pre> <h4 id="description-41"> <a style="text-decoration: none;" href="#description-41">Description</a> </h4> <p>Deserializes a GEOMETRY from a WKB encoded blob</p>
<hr> <h3 id="st_geometrytype"> <a style="text-decoration: none;" href="#st_geometrytype">ST_GeometryType</a> </h3> <h4 id="signatures-16"> <a style="text-decoration: none;" href="#signatures-16">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">ANY ST_GeometryType (col0 POINT_2D)
ANY ST_GeometryType (col0 LINESTRING_2D)
ANY ST_GeometryType (col0 POLYGON_2D)
ANY ST_GeometryType (col0 GEOMETRY)
ANY ST_GeometryType (col0 WKB_BLOB)</pre> <h4 id="description-42"> <a style="text-decoration: none;" href="#description-42">Description</a> </h4> <p>Returns a 'GEOMETRY_TYPE' enum identifying the input geometry type.</p>
<hr> <h3 id="st_hasm"> <a style="text-decoration: none;" href="#st_hasm">ST_HasM</a> </h3> <h4 id="signatures-17"> <a style="text-decoration: none;" href="#signatures-17">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_HasM (col0 GEOMETRY)
BOOLEAN ST_HasM (col0 WKB_BLOB)</pre> <h4 id="description-43"> <a style="text-decoration: none;" href="#description-43">Description</a> </h4> <p>Check if the input geometry has M values.</p> <h4 id="example-16"> <a style="text-decoration: none;" href="#example-16">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">-- HasM for a 2D geometry
SELECT ST_HasM(ST_GeomFromText('POINT(1 1)'));
----
false

-- HasM for a 3DZ geometry
SELECT ST_HasM(ST_GeomFromText('POINT Z(1 1 1)'));
----
false

-- HasM for a 3DM geometry
SELECT ST_HasM(ST_GeomFromText('POINT M(1 1 1)'));
----
true

-- HasM for a 4D geometry
SELECT ST_HasM(ST_GeomFromText('POINT ZM(1 1 1 1)'));
----
true</pre>
<hr> <h3 id="st_hasz"> <a style="text-decoration: none;" href="#st_hasz">ST_HasZ</a> </h3> <h4 id="signatures-18"> <a style="text-decoration: none;" href="#signatures-18">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_HasZ (col0 GEOMETRY)
BOOLEAN ST_HasZ (col0 WKB_BLOB)</pre> <h4 id="description-44"> <a style="text-decoration: none;" href="#description-44">Description</a> </h4> <p>Check if the input geometry has Z values.</p> <h4 id="example-17"> <a style="text-decoration: none;" href="#example-17">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">-- HasZ for a 2D geometry
SELECT ST_HasZ(ST_GeomFromText('POINT(1 1)'));
----
false

-- HasZ for a 3DZ geometry
SELECT ST_HasZ(ST_GeomFromText('POINT Z(1 1 1)'));
----
true

-- HasZ for a 3DM geometry
SELECT ST_HasZ(ST_GeomFromText('POINT M(1 1 1)'));
----
false

-- HasZ for a 4D geometry
SELECT ST_HasZ(ST_GeomFromText('POINT ZM(1 1 1 1)'));
----
true</pre>
<hr> <h3 id="st_hilbert"> <a style="text-decoration: none;" href="#st_hilbert">ST_Hilbert</a> </h3> <h4 id="signatures-19"> <a style="text-decoration: none;" href="#signatures-19">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">UINTEGER ST_Hilbert (col0 DOUBLE, col1 DOUBLE, col2 BOX_2D)
UINTEGER ST_Hilbert (col0 GEOMETRY, col1 BOX_2D)
UINTEGER ST_Hilbert (col0 BOX_2D, col1 BOX_2D)
UINTEGER ST_Hilbert (col0 BOX_2DF, col1 BOX_2DF)
UINTEGER ST_Hilbert (col0 GEOMETRY)</pre> <h4 id="description-45"> <a style="text-decoration: none;" href="#description-45">Description</a> </h4> <p>Encodes the X and Y values as the hilbert curve index for a curve covering the given bounding box. If a geometry is provided, the center of the approximate bounding box is used as the point to encode. If no bounding box is provided, the hilbert curve index is mapped to the full range of a single-presicion float. For the BOX_2D and BOX_2DF variants, the center of the box is used as the point to encode.</p>
<hr> <h3 id="st_intersection"> <a style="text-decoration: none;" href="#st_intersection">ST_Intersection</a> </h3> <h4 id="signature-26"> <a style="text-decoration: none;" href="#signature-26">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Intersection (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-46"> <a style="text-decoration: none;" href="#description-46">Description</a> </h4> <p>Returns the "intersection" of geom1 and geom2</p>
<hr> <h3 id="st_intersects"> <a style="text-decoration: none;" href="#st_intersects">ST_Intersects</a> </h3> <h4 id="signatures-20"> <a style="text-decoration: none;" href="#signatures-20">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_Intersects (col0 BOX_2D, col1 BOX_2D)
BOOLEAN ST_Intersects (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-47"> <a style="text-decoration: none;" href="#description-47">Description</a> </h4> <p>Returns true if two geometries intersects</p>
<hr> <h3 id="st_intersects_extent"> <a style="text-decoration: none;" href="#st_intersects_extent">ST_Intersects_Extent</a> </h3> <h4 id="signature-27"> <a style="text-decoration: none;" href="#signature-27">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_Intersects_Extent (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-48"> <a style="text-decoration: none;" href="#description-48">Description</a> </h4> <p>Returns true if the extent of two geometries intersects</p>
<hr> <h3 id="st_isclosed"> <a style="text-decoration: none;" href="#st_isclosed">ST_IsClosed</a> </h3> <h4 id="signature-28"> <a style="text-decoration: none;" href="#signature-28">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_IsClosed (col0 GEOMETRY)</pre> <h4 id="description-49"> <a style="text-decoration: none;" href="#description-49">Description</a> </h4> <p>Returns true if a geometry is "closed"</p>
<hr> <h3 id="st_isempty"> <a style="text-decoration: none;" href="#st_isempty">ST_IsEmpty</a> </h3> <h4 id="signatures-21"> <a style="text-decoration: none;" href="#signatures-21">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_IsEmpty (col0 LINESTRING_2D)
BOOLEAN ST_IsEmpty (col0 POLYGON_2D)
BOOLEAN ST_IsEmpty (col0 GEOMETRY)</pre> <h4 id="description-50"> <a style="text-decoration: none;" href="#description-50">Description</a> </h4> <p>Returns true if the geometry is "empty"</p>
<hr> <h3 id="st_isring"> <a style="text-decoration: none;" href="#st_isring">ST_IsRing</a> </h3> <h4 id="signature-29"> <a style="text-decoration: none;" href="#signature-29">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_IsRing (col0 GEOMETRY)</pre> <h4 id="description-51"> <a style="text-decoration: none;" href="#description-51">Description</a> </h4> <p>Returns true if the input line geometry is a ring (both ST_IsClosed and ST_IsSimple).</p>
<hr> <h3 id="st_issimple"> <a style="text-decoration: none;" href="#st_issimple">ST_IsSimple</a> </h3> <h4 id="signature-30"> <a style="text-decoration: none;" href="#signature-30">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_IsSimple (col0 GEOMETRY)</pre> <h4 id="description-52"> <a style="text-decoration: none;" href="#description-52">Description</a> </h4> <p>Returns true if the input geometry is "simple"</p>
<hr> <h3 id="st_isvalid"> <a style="text-decoration: none;" href="#st_isvalid">ST_IsValid</a> </h3> <h4 id="signature-31"> <a style="text-decoration: none;" href="#signature-31">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_IsValid (col0 GEOMETRY)</pre> <h4 id="description-53"> <a style="text-decoration: none;" href="#description-53">Description</a> </h4> <p>Returns true if the geometry is topologically "valid"</p>
<hr> <h3 id="st_length"> <a style="text-decoration: none;" href="#st_length">ST_Length</a> </h3> <h4 id="signatures-22"> <a style="text-decoration: none;" href="#signatures-22">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Length (col0 LINESTRING_2D)
DOUBLE ST_Length (col0 GEOMETRY)</pre> <h4 id="description-54"> <a style="text-decoration: none;" href="#description-54">Description</a> </h4> <p>Returns the length of the input line geometry</p>
<hr> <h3 id="st_length_spheroid"> <a style="text-decoration: none;" href="#st_length_spheroid">ST_Length_Spheroid</a> </h3> <h4 id="signatures-23"> <a style="text-decoration: none;" href="#signatures-23">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Length_Spheroid (col0 LINESTRING_2D)
DOUBLE ST_Length_Spheroid (col0 GEOMETRY)</pre> <h4 id="description-55"> <a style="text-decoration: none;" href="#description-55">Description</a> </h4> <p>Returns the length of the input geometry in meters, using a ellipsoidal model of the earth</p> <p>The input geometry is assumed to be in the <a href="https://en.wikipedia.org/wiki/World_Geodetic_System">EPSG:4326</a> coordinate system (WGS84), with [latitude, longitude] axis order and the length is returned in square meters. This function uses the <a href="https://geographiclib.sourceforge.io/">GeographicLib</a> library, calculating the length using an ellipsoidal model of the earth. This is a highly accurate method for calculating the length of a line geometry taking the curvature of the earth into account, but is also the slowest.</p> <p>Returns <code class="language-plaintext highlighter-rouge">0.0</code> for any geometry that is not a <code class="language-plaintext highlighter-rouge">LINESTRING</code>, <code class="language-plaintext highlighter-rouge">MULTILINESTRING</code> or <code class="language-plaintext highlighter-rouge">GEOMETRYCOLLECTION</code> containing line geometries.</p>
<hr> <h3 id="st_linemerge"> <a style="text-decoration: none;" href="#st_linemerge">ST_LineMerge</a> </h3> <h4 id="signatures-24"> <a style="text-decoration: none;" href="#signatures-24">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_LineMerge (col0 GEOMETRY)
GEOMETRY ST_LineMerge (col0 GEOMETRY, col1 BOOLEAN)</pre> <h4 id="description-56"> <a style="text-decoration: none;" href="#description-56">Description</a> </h4> <p>"Merges" the input line geometry, optionally taking direction into account.</p>
<hr> <h3 id="st_m"> <a style="text-decoration: none;" href="#st_m">ST_M</a> </h3> <h4 id="signature-32"> <a style="text-decoration: none;" href="#signature-32">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_M (col0 GEOMETRY)</pre> <h4 id="description-57"> <a style="text-decoration: none;" href="#description-57">Description</a> </h4> <p>Returns the M value of a point geometry, or NULL if not a point or empty</p>
<hr> <h3 id="st_mmax"> <a style="text-decoration: none;" href="#st_mmax">ST_MMax</a> </h3> <h4 id="signature-33"> <a style="text-decoration: none;" href="#signature-33">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_MMax (col0 GEOMETRY)</pre> <h4 id="description-58"> <a style="text-decoration: none;" href="#description-58">Description</a> </h4> <p>Returns the maximum M value of a geometry</p>
<hr> <h3 id="st_mmin"> <a style="text-decoration: none;" href="#st_mmin">ST_MMin</a> </h3> <h4 id="signature-34"> <a style="text-decoration: none;" href="#signature-34">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_MMin (col0 GEOMETRY)</pre> <h4 id="description-59"> <a style="text-decoration: none;" href="#description-59">Description</a> </h4> <p>Returns the minimum M value of a geometry</p>
<hr> <h3 id="st_makeenvelope"> <a style="text-decoration: none;" href="#st_makeenvelope">ST_MakeEnvelope</a> </h3> <h4 id="signature-35"> <a style="text-decoration: none;" href="#signature-35">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_MakeEnvelope (col0 DOUBLE, col1 DOUBLE, col2 DOUBLE, col3 DOUBLE)</pre> <h4 id="description-60"> <a style="text-decoration: none;" href="#description-60">Description</a> </h4> <p>Returns a minimal bounding box polygon enclosing the input geometry</p>
<hr> <h3 id="st_makeline"> <a style="text-decoration: none;" href="#st_makeline">ST_MakeLine</a> </h3> <h4 id="signatures-25"> <a style="text-decoration: none;" href="#signatures-25">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_MakeLine (col0 GEOMETRY[])
GEOMETRY ST_MakeLine (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-61"> <a style="text-decoration: none;" href="#description-61">Description</a> </h4> <p>Creates a LINESTRING geometry from a pair or list of input points</p>
<hr> <h3 id="st_makepolygon"> <a style="text-decoration: none;" href="#st_makepolygon">ST_MakePolygon</a> </h3> <h4 id="signatures-26"> <a style="text-decoration: none;" href="#signatures-26">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_MakePolygon (col0 GEOMETRY, col1 GEOMETRY[])
GEOMETRY ST_MakePolygon (col0 GEOMETRY)</pre> <h4 id="description-62"> <a style="text-decoration: none;" href="#description-62">Description</a> </h4> <p>Creates a polygon from a shell geometry and an optional set of holes</p>
<hr> <h3 id="st_makevalid"> <a style="text-decoration: none;" href="#st_makevalid">ST_MakeValid</a> </h3> <h4 id="signature-36"> <a style="text-decoration: none;" href="#signature-36">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_MakeValid (col0 GEOMETRY)</pre> <h4 id="description-63"> <a style="text-decoration: none;" href="#description-63">Description</a> </h4> <p>Attempts to make an invalid geometry valid without removing any vertices</p>
<hr> <h3 id="st_multi"> <a style="text-decoration: none;" href="#st_multi">ST_Multi</a> </h3> <h4 id="signature-37"> <a style="text-decoration: none;" href="#signature-37">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Multi (col0 GEOMETRY)</pre> <h4 id="description-64"> <a style="text-decoration: none;" href="#description-64">Description</a> </h4> <p>Turns a single geometry into a multi geometry.</p> <p>If the geometry is already a multi geometry, it is returned as is.</p> <h4 id="example-18"> <a style="text-decoration: none;" href="#example-18">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_Multi(ST_GeomFromText('POINT(1 2)'));
-- MULTIPOINT (1 2)

SELECT ST_Multi(ST_GeomFromText('LINESTRING(1 1, 2 2)'));
-- MULTILINESTRING ((1 1, 2 2))

SELECT ST_Multi(ST_GeomFromText('POLYGON((0 0, 0 1, 1 1, 1 0, 0 0))'));
-- MULTIPOLYGON (((0 0, 0 1, 1 1, 1 0, 0 0)))</pre>
<hr> <h3 id="st_ngeometries"> <a style="text-decoration: none;" href="#st_ngeometries">ST_NGeometries</a> </h3> <h4 id="signature-38"> <a style="text-decoration: none;" href="#signature-38">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">INTEGER ST_NGeometries (col0 GEOMETRY)</pre> <h4 id="description-65"> <a style="text-decoration: none;" href="#description-65">Description</a> </h4> <p>Returns the number of component geometries in a collection geometry. If the input geometry is not a collection, this function returns 0 or 1 depending on if the geometry is empty or not.</p>
<hr> <h3 id="st_ninteriorrings"> <a style="text-decoration: none;" href="#st_ninteriorrings">ST_NInteriorRings</a> </h3> <h4 id="signatures-27"> <a style="text-decoration: none;" href="#signatures-27">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">INTEGER ST_NInteriorRings (col0 POLYGON_2D)
INTEGER ST_NInteriorRings (col0 GEOMETRY)</pre> <h4 id="description-66"> <a style="text-decoration: none;" href="#description-66">Description</a> </h4> <p>Returns the number if interior rings of a polygon</p>
<hr> <h3 id="st_npoints"> <a style="text-decoration: none;" href="#st_npoints">ST_NPoints</a> </h3> <h4 id="signatures-28"> <a style="text-decoration: none;" href="#signatures-28">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">UBIGINT ST_NPoints (col0 POINT_2D)
UBIGINT ST_NPoints (col0 LINESTRING_2D)
UBIGINT ST_NPoints (col0 POLYGON_2D)
UBIGINT ST_NPoints (col0 BOX_2D)
UINTEGER ST_NPoints (col0 GEOMETRY)</pre> <h4 id="description-67"> <a style="text-decoration: none;" href="#description-67">Description</a> </h4> <p>Returns the number of vertices within a geometry</p>
<hr> <h3 id="st_normalize"> <a style="text-decoration: none;" href="#st_normalize">ST_Normalize</a> </h3> <h4 id="signature-39"> <a style="text-decoration: none;" href="#signature-39">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Normalize (col0 GEOMETRY)</pre> <h4 id="description-68"> <a style="text-decoration: none;" href="#description-68">Description</a> </h4> <p>Returns a "normalized" version of the input geometry.</p>
<hr> <h3 id="st_numgeometries"> <a style="text-decoration: none;" href="#st_numgeometries">ST_NumGeometries</a> </h3> <h4 id="signature-40"> <a style="text-decoration: none;" href="#signature-40">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">INTEGER ST_NumGeometries (col0 GEOMETRY)</pre> <h4 id="description-69"> <a style="text-decoration: none;" href="#description-69">Description</a> </h4> <p>Returns the number of component geometries in a collection geometry. If the input geometry is not a collection, this function returns 0 or 1 depending on if the geometry is empty or not.</p>
<hr> <h3 id="st_numinteriorrings"> <a style="text-decoration: none;" href="#st_numinteriorrings">ST_NumInteriorRings</a> </h3> <h4 id="signatures-29"> <a style="text-decoration: none;" href="#signatures-29">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">INTEGER ST_NumInteriorRings (col0 POLYGON_2D)
INTEGER ST_NumInteriorRings (col0 GEOMETRY)</pre> <h4 id="description-70"> <a style="text-decoration: none;" href="#description-70">Description</a> </h4> <p>Returns the number if interior rings of a polygon</p>
<hr> <h3 id="st_numpoints"> <a style="text-decoration: none;" href="#st_numpoints">ST_NumPoints</a> </h3> <h4 id="signatures-30"> <a style="text-decoration: none;" href="#signatures-30">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">UBIGINT ST_NumPoints (col0 POINT_2D)
UBIGINT ST_NumPoints (col0 LINESTRING_2D)
UBIGINT ST_NumPoints (col0 POLYGON_2D)
UBIGINT ST_NumPoints (col0 BOX_2D)
UINTEGER ST_NumPoints (col0 GEOMETRY)</pre> <h4 id="description-71"> <a style="text-decoration: none;" href="#description-71">Description</a> </h4> <p>Returns the number of vertices within a geometry</p>
<hr> <h3 id="st_overlaps"> <a style="text-decoration: none;" href="#st_overlaps">ST_Overlaps</a> </h3> <h4 id="signature-41"> <a style="text-decoration: none;" href="#signature-41">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_Overlaps (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-72"> <a style="text-decoration: none;" href="#description-72">Description</a> </h4> <p>Returns true if geom1 "overlaps" geom2</p>
<hr> <h3 id="st_perimeter"> <a style="text-decoration: none;" href="#st_perimeter">ST_Perimeter</a> </h3> <h4 id="signatures-31"> <a style="text-decoration: none;" href="#signatures-31">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Perimeter (col0 BOX_2D)
DOUBLE ST_Perimeter (col0 POLYGON_2D)
DOUBLE ST_Perimeter (col0 GEOMETRY)</pre> <h4 id="description-73"> <a style="text-decoration: none;" href="#description-73">Description</a> </h4> <p>Returns the length of the perimeter of the geometry</p>
<hr> <h3 id="st_perimeter_spheroid"> <a style="text-decoration: none;" href="#st_perimeter_spheroid">ST_Perimeter_Spheroid</a> </h3> <h4 id="signatures-32"> <a style="text-decoration: none;" href="#signatures-32">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Perimeter_Spheroid (col0 POLYGON_2D)
DOUBLE ST_Perimeter_Spheroid (col0 GEOMETRY)</pre> <h4 id="description-74"> <a style="text-decoration: none;" href="#description-74">Description</a> </h4> <p>Returns the length of the perimeter in meters using an ellipsoidal model of the earths surface</p> <p>The input geometry is assumed to be in the <a href="https://en.wikipedia.org/wiki/World_Geodetic_System">EPSG:4326</a> coordinate system (WGS84), with [latitude, longitude] axis order and the length is returned in meters. This function uses the <a href="https://geographiclib.sourceforge.io/">GeographicLib</a> library, calculating the perimeter using an ellipsoidal model of the earth. This is a highly accurate method for calculating the perimeter of a polygon taking the curvature of the earth into account, but is also the slowest.</p> <p>Returns <code class="language-plaintext highlighter-rouge">0.0</code> for any geometry that is not a <code class="language-plaintext highlighter-rouge">POLYGON</code>, <code class="language-plaintext highlighter-rouge">MULTIPOLYGON</code> or <code class="language-plaintext highlighter-rouge">GEOMETRYCOLLECTION</code> containing polygon geometries.</p>
<hr> <h3 id="st_point"> <a style="text-decoration: none;" href="#st_point">ST_Point</a> </h3> <h4 id="signature-42"> <a style="text-decoration: none;" href="#signature-42">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Point (col0 DOUBLE, col1 DOUBLE)</pre> <h4 id="description-75"> <a style="text-decoration: none;" href="#description-75">Description</a> </h4> <p>Creates a GEOMETRY point</p>
<hr> <h3 id="st_point2d"> <a style="text-decoration: none;" href="#st_point2d">ST_Point2D</a> </h3> <h4 id="signature-43"> <a style="text-decoration: none;" href="#signature-43">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">POINT_2D ST_Point2D (col0 DOUBLE, col1 DOUBLE)</pre> <h4 id="description-76"> <a style="text-decoration: none;" href="#description-76">Description</a> </h4> <p>Creates a POINT_2D</p>
<hr> <h3 id="st_point3d"> <a style="text-decoration: none;" href="#st_point3d">ST_Point3D</a> </h3> <h4 id="signature-44"> <a style="text-decoration: none;" href="#signature-44">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">POINT_3D ST_Point3D (col0 DOUBLE, col1 DOUBLE, col2 DOUBLE)</pre> <h4 id="description-77"> <a style="text-decoration: none;" href="#description-77">Description</a> </h4> <p>Creates a POINT_3D</p>
<hr> <h3 id="st_point4d"> <a style="text-decoration: none;" href="#st_point4d">ST_Point4D</a> </h3> <h4 id="signature-45"> <a style="text-decoration: none;" href="#signature-45">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">POINT_4D ST_Point4D (col0 DOUBLE, col1 DOUBLE, col2 DOUBLE, col3 DOUBLE)</pre> <h4 id="description-78"> <a style="text-decoration: none;" href="#description-78">Description</a> </h4> <p>Creates a POINT_4D</p>
<hr> <h3 id="st_pointn"> <a style="text-decoration: none;" href="#st_pointn">ST_PointN</a> </h3> <h4 id="signatures-33"> <a style="text-decoration: none;" href="#signatures-33">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_PointN (col0 GEOMETRY, col1 INTEGER)
POINT_2D ST_PointN (col0 LINESTRING_2D, col1 INTEGER)</pre> <h4 id="description-79"> <a style="text-decoration: none;" href="#description-79">Description</a> </h4> <p>Returns the n'th vertex from the input geometry as a point geometry</p>
<hr> <h3 id="st_pointonsurface"> <a style="text-decoration: none;" href="#st_pointonsurface">ST_PointOnSurface</a> </h3> <h4 id="signature-46"> <a style="text-decoration: none;" href="#signature-46">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_PointOnSurface (col0 GEOMETRY)</pre> <h4 id="description-80"> <a style="text-decoration: none;" href="#description-80">Description</a> </h4> <p>Returns a point that is guaranteed to be on the surface of the input geometry. Sometimes a useful alternative to ST_Centroid.</p>
<hr> <h3 id="st_points"> <a style="text-decoration: none;" href="#st_points">ST_Points</a> </h3> <h4 id="signature-47"> <a style="text-decoration: none;" href="#signature-47">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Points (col0 GEOMETRY)</pre> <h4 id="description-81"> <a style="text-decoration: none;" href="#description-81">Description</a> </h4> <p>Collects all the vertices in the geometry into a multipoint</p> <h4 id="example-19"> <a style="text-decoration: none;" href="#example-19">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT st_points('LINESTRING(1 1, 2 2)'::GEOMETRY);
----
MULTIPOINT (1 1, 2 2)

SELECT st_points('MULTIPOLYGON Z EMPTY'::GEOMETRY);
----
MULTIPOINT Z EMPTY</pre>
<hr> <h3 id="st_quadkey"> <a style="text-decoration: none;" href="#st_quadkey">ST_QuadKey</a> </h3> <h4 id="signatures-34"> <a style="text-decoration: none;" href="#signatures-34">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">VARCHAR ST_QuadKey (col0 DOUBLE, col1 DOUBLE, col2 INTEGER)
VARCHAR ST_QuadKey (col0 GEOMETRY, col1 INTEGER)</pre> <h4 id="description-82"> <a style="text-decoration: none;" href="#description-82">Description</a> </h4> <p>Compute the <a href="https://learn.microsoft.com/en-us/bingmaps/articles/bing-maps-tile-system">quadkey</a> for a given lon/lat point at a given level. Note that the the parameter order is <strong>longitude</strong>, <strong>latitude</strong>.</p> <p><code class="language-plaintext highlighter-rouge">level</code> has to be between 1 and 23, inclusive.</p> <p>The input coordinates will be clamped to the lon/lat bounds of the earth (longitude between -180 and 180, latitude between -85.05112878 and 85.05112878).</p> <p>The geometry overload throws an error if the input geometry is not a <code class="language-plaintext highlighter-rouge">POINT</code></p> <h4 id="example-20"> <a style="text-decoration: none;" href="#example-20">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_QuadKey(st_point(11.08, 49.45), 10);
----
1333203202</pre>
<hr> <h3 id="st_reduceprecision"> <a style="text-decoration: none;" href="#st_reduceprecision">ST_ReducePrecision</a> </h3> <h4 id="signature-48"> <a style="text-decoration: none;" href="#signature-48">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_ReducePrecision (col0 GEOMETRY, col1 DOUBLE)</pre> <h4 id="description-83"> <a style="text-decoration: none;" href="#description-83">Description</a> </h4> <p>Returns the geometry with all vertices reduced to the target precision</p>
<hr> <h3 id="st_removerepeatedpoints"> <a style="text-decoration: none;" href="#st_removerepeatedpoints">ST_RemoveRepeatedPoints</a> </h3> <h4 id="signatures-35"> <a style="text-decoration: none;" href="#signatures-35">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">LINESTRING_2D ST_RemoveRepeatedPoints (col0 LINESTRING_2D)
LINESTRING_2D ST_RemoveRepeatedPoints (col0 LINESTRING_2D, col1 DOUBLE)
GEOMETRY ST_RemoveRepeatedPoints (col0 GEOMETRY)
GEOMETRY ST_RemoveRepeatedPoints (col0 GEOMETRY, col1 DOUBLE)</pre> <h4 id="description-84"> <a style="text-decoration: none;" href="#description-84">Description</a> </h4> <p>Returns a new geometry with repeated points removed, optionally within a target distance of eachother.</p>
<hr> <h3 id="st_reverse"> <a style="text-decoration: none;" href="#st_reverse">ST_Reverse</a> </h3> <h4 id="signature-49"> <a style="text-decoration: none;" href="#signature-49">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Reverse (col0 GEOMETRY)</pre> <h4 id="description-85"> <a style="text-decoration: none;" href="#description-85">Description</a> </h4> <p>Returns a new version of the input geometry with the order of its vertices reversed</p>
<hr> <h3 id="st_shortestline"> <a style="text-decoration: none;" href="#st_shortestline">ST_ShortestLine</a> </h3> <h4 id="signature-50"> <a style="text-decoration: none;" href="#signature-50">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_ShortestLine (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-86"> <a style="text-decoration: none;" href="#description-86">Description</a> </h4> <p>Returns the line between the two closest points between geom1 and geom2</p>
<hr> <h3 id="st_simplify"> <a style="text-decoration: none;" href="#st_simplify">ST_Simplify</a> </h3> <h4 id="signature-51"> <a style="text-decoration: none;" href="#signature-51">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Simplify (col0 GEOMETRY, col1 DOUBLE)</pre> <h4 id="description-87"> <a style="text-decoration: none;" href="#description-87">Description</a> </h4> <p>Simplifies the input geometry by collapsing edges smaller than 'distance'</p>
<hr> <h3 id="st_simplifypreservetopology"> <a style="text-decoration: none;" href="#st_simplifypreservetopology">ST_SimplifyPreserveTopology</a> </h3> <h4 id="signature-52"> <a style="text-decoration: none;" href="#signature-52">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_SimplifyPreserveTopology (col0 GEOMETRY, col1 DOUBLE)</pre> <h4 id="description-88"> <a style="text-decoration: none;" href="#description-88">Description</a> </h4> <p>Returns a simplified geometry but avoids creating invalid topologies</p>
<hr> <h3 id="st_startpoint"> <a style="text-decoration: none;" href="#st_startpoint">ST_StartPoint</a> </h3> <h4 id="signatures-36"> <a style="text-decoration: none;" href="#signatures-36">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_StartPoint (col0 GEOMETRY)
POINT_2D ST_StartPoint (col0 LINESTRING_2D)</pre> <h4 id="description-89"> <a style="text-decoration: none;" href="#description-89">Description</a> </h4> <p>Returns the first point of a line geometry</p> <h4 id="example-21"> <a style="text-decoration: none;" href="#example-21">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_StartPoint('LINESTRING(0 0, 1 1)'::GEOMETRY);
-- POINT(0 0)</pre>
<hr> <h3 id="st_touches"> <a style="text-decoration: none;" href="#st_touches">ST_Touches</a> </h3> <h4 id="signature-53"> <a style="text-decoration: none;" href="#signature-53">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_Touches (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-90"> <a style="text-decoration: none;" href="#description-90">Description</a> </h4> <p>Returns true if geom1 "touches" geom2</p>
<hr> <h3 id="st_transform"> <a style="text-decoration: none;" href="#st_transform">ST_Transform</a> </h3> <h4 id="signatures-37"> <a style="text-decoration: none;" href="#signatures-37">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOX_2D ST_Transform (geom BOX_2D, source_crs VARCHAR, target_crs VARCHAR)
BOX_2D ST_Transform (geom BOX_2D, source_crs VARCHAR, target_crs VARCHAR, always_xy BOOLEAN)
POINT_2D ST_Transform (geom POINT_2D, source_crs VARCHAR, target_crs VARCHAR)
POINT_2D ST_Transform (geom POINT_2D, source_crs VARCHAR, target_crs VARCHAR, always_xy BOOLEAN)
GEOMETRY ST_Transform (geom GEOMETRY, source_crs VARCHAR, target_crs VARCHAR)
GEOMETRY ST_Transform (geom GEOMETRY, source_crs VARCHAR, target_crs VARCHAR, always_xy BOOLEAN)</pre> <h4 id="description-91"> <a style="text-decoration: none;" href="#description-91">Description</a> </h4> <p>Transforms a geometry between two coordinate systems</p> <p>The source and target coordinate systems can be specified using any format that the <a href="https://proj.org">PROJ library</a> supports.</p> <p>The third optional <code class="language-plaintext highlighter-rouge">always_xy</code> parameter can be used to force the input and output geometries to be interpreted as having a [easting, northing] coordinate axis order regardless of what the source and target coordinate system definition says. This is particularly useful when transforming to/from the <a href="https://en.wikipedia.org/wiki/World_Geodetic_System">WGS84/EPSG:4326</a> coordinate system (what most people think of when they hear "longitude"/"latitude" or "GPS coordinates"), which is defined as having a [latitude, longitude] axis order even though [longitude, latitude] is commonly used in practice (e.g., in <a href="https://tools.ietf.org/html/rfc7946">GeoJSON</a>). More details available in the <a href="https://proj.org/en/9.3/faq.html#why-is-the-axis-ordering-in-proj-not-consistent">PROJ documentation</a>.</p> <p>DuckDB spatial vendors its own static copy of the PROJ database of coordinate systems, so if you have your own installation of PROJ on your system the available coordinate systems may differ to what's available in other GIS software.</p> <h4 id="example-22"> <a style="text-decoration: none;" href="#example-22">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">-- Transform a geometry from EPSG:4326 to EPSG:3857 (WGS84 to WebMercator)
-- Note that since WGS84 is defined as having a [latitude, longitude] axis order
-- we follow the standard and provide the input geometry using that axis order,
-- but the output will be [easting, northing] because that is what's defined by
-- WebMercator.

SELECT ST_AsText(
    ST_Transform(
        st_point(52.373123, 4.892360),
        'EPSG:4326',
        'EPSG:3857'
    )
);
----
POINT (544615.0239773799 6867874.103539125)

-- Alternatively, let's say we got our input point from e.g., a GeoJSON file,
-- which uses WGS84 but with [longitude, latitude] axis order. We can use the
-- `always_xy` parameter to force the input geometry to be interpreted as having
-- a [northing, easting] axis order instead, even though the source coordinate
-- reference system definition (WGS84) says otherwise.

SELECT ST_AsText(
    ST_Transform(
        -- note the axis order is reversed here
        st_point(4.892360, 52.373123),
        'EPSG:4326',
        'EPSG:3857',
        always_xy := true
    )
);
----
POINT (544615.0239773799 6867874.103539125)</pre>
<hr> <h3 id="st_union"> <a style="text-decoration: none;" href="#st_union">ST_Union</a> </h3> <h4 id="signature-54"> <a style="text-decoration: none;" href="#signature-54">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Union (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-92"> <a style="text-decoration: none;" href="#description-92">Description</a> </h4> <p>Returns the union of two geometries.</p> <h4 id="example-23"> <a style="text-decoration: none;" href="#example-23">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_AsText(
    ST_Union(
        ST_GeomFromText('POINT(1 2)'),
        ST_GeomFromText('POINT(3 4)')
    )
);
----
MULTIPOINT (1 2, 3 4)</pre>
<hr> <h3 id="st_within"> <a style="text-decoration: none;" href="#st_within">ST_Within</a> </h3> <h4 id="signatures-38"> <a style="text-decoration: none;" href="#signatures-38">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">BOOLEAN ST_Within (col0 POINT_2D, col1 POLYGON_2D)
BOOLEAN ST_Within (col0 GEOMETRY, col1 GEOMETRY)</pre> <h4 id="description-93"> <a style="text-decoration: none;" href="#description-93">Description</a> </h4> <p>Returns true if geom1 is "within" geom2</p>
<hr> <h3 id="st_x"> <a style="text-decoration: none;" href="#st_x">ST_X</a> </h3> <h4 id="signatures-39"> <a style="text-decoration: none;" href="#signatures-39">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_X (col0 POINT_2D)
DOUBLE ST_X (col0 GEOMETRY)</pre> <h4 id="description-94"> <a style="text-decoration: none;" href="#description-94">Description</a> </h4> <p>Returns the X value of a point geometry, or NULL if not a point or empty</p>
<hr> <h3 id="st_xmax"> <a style="text-decoration: none;" href="#st_xmax">ST_XMax</a> </h3> <h4 id="signatures-40"> <a style="text-decoration: none;" href="#signatures-40">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_XMax (col0 BOX_2D)
FLOAT ST_XMax (col0 BOX_2DF)
DOUBLE ST_XMax (col0 POINT_2D)
DOUBLE ST_XMax (col0 LINESTRING_2D)
DOUBLE ST_XMax (col0 POLYGON_2D)
DOUBLE ST_XMax (col0 GEOMETRY)</pre> <h4 id="description-95"> <a style="text-decoration: none;" href="#description-95">Description</a> </h4> <p>Returns the maximum X value of a geometry</p>
<hr> <h3 id="st_xmin"> <a style="text-decoration: none;" href="#st_xmin">ST_XMin</a> </h3> <h4 id="signatures-41"> <a style="text-decoration: none;" href="#signatures-41">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_XMin (col0 BOX_2D)
FLOAT ST_XMin (col0 BOX_2DF)
DOUBLE ST_XMin (col0 POINT_2D)
DOUBLE ST_XMin (col0 LINESTRING_2D)
DOUBLE ST_XMin (col0 POLYGON_2D)
DOUBLE ST_XMin (col0 GEOMETRY)</pre> <h4 id="description-96"> <a style="text-decoration: none;" href="#description-96">Description</a> </h4> <p>Returns the minimum X value of a geometry</p>
<hr> <h3 id="st_y"> <a style="text-decoration: none;" href="#st_y">ST_Y</a> </h3> <h4 id="signatures-42"> <a style="text-decoration: none;" href="#signatures-42">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Y (col0 POINT_2D)
DOUBLE ST_Y (col0 GEOMETRY)</pre> <h4 id="description-97"> <a style="text-decoration: none;" href="#description-97">Description</a> </h4> <p>Returns the Y value of a point geometry, or NULL if not a point or empty</p>
<hr> <h3 id="st_ymax"> <a style="text-decoration: none;" href="#st_ymax">ST_YMax</a> </h3> <h4 id="signatures-43"> <a style="text-decoration: none;" href="#signatures-43">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_YMax (col0 BOX_2D)
FLOAT ST_YMax (col0 BOX_2DF)
DOUBLE ST_YMax (col0 POINT_2D)
DOUBLE ST_YMax (col0 LINESTRING_2D)
DOUBLE ST_YMax (col0 POLYGON_2D)
DOUBLE ST_YMax (col0 GEOMETRY)</pre> <h4 id="description-98"> <a style="text-decoration: none;" href="#description-98">Description</a> </h4> <p>Returns the maximum Y value of a geometry</p>
<hr> <h3 id="st_ymin"> <a style="text-decoration: none;" href="#st_ymin">ST_YMin</a> </h3> <h4 id="signatures-44"> <a style="text-decoration: none;" href="#signatures-44">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_YMin (col0 BOX_2D)
FLOAT ST_YMin (col0 BOX_2DF)
DOUBLE ST_YMin (col0 POINT_2D)
DOUBLE ST_YMin (col0 LINESTRING_2D)
DOUBLE ST_YMin (col0 POLYGON_2D)
DOUBLE ST_YMin (col0 GEOMETRY)</pre> <h4 id="description-99"> <a style="text-decoration: none;" href="#description-99">Description</a> </h4> <p>Returns the minimum Y value of a geometry</p>
<hr> <h3 id="st_z"> <a style="text-decoration: none;" href="#st_z">ST_Z</a> </h3> <h4 id="signature-55"> <a style="text-decoration: none;" href="#signature-55">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_Z (col0 GEOMETRY)</pre> <h4 id="description-100"> <a style="text-decoration: none;" href="#description-100">Description</a> </h4> <p>Returns the Z value of a point geometry, or NULL if not a point or empty</p>
<hr> <h3 id="st_zmflag"> <a style="text-decoration: none;" href="#st_zmflag">ST_ZMFlag</a> </h3> <h4 id="signatures-45"> <a style="text-decoration: none;" href="#signatures-45">Signatures</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">UTINYINT ST_ZMFlag (col0 GEOMETRY)
UTINYINT ST_ZMFlag (col0 WKB_BLOB)</pre> <h4 id="description-101"> <a style="text-decoration: none;" href="#description-101">Description</a> </h4> <p>Returns a flag indicating the presence of Z and M values in the input geometry. 0 = No Z or M values 1 = M values only 2 = Z values only 3 = Z and M values</p> <h4 id="example-24"> <a style="text-decoration: none;" href="#example-24">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">-- ZMFlag for a 2D geometry
SELECT ST_ZMFlag(ST_GeomFromText('POINT(1 1)'));
----
0

-- ZMFlag for a 3DZ geometry
SELECT ST_ZMFlag(ST_GeomFromText('POINT Z(1 1 1)'));
----
2

-- ZMFlag for a 3DM geometry
SELECT ST_ZMFlag(ST_GeomFromText('POINT M(1 1 1)'));
----
1

-- ZMFlag for a 4D geometry
SELECT ST_ZMFlag(ST_GeomFromText('POINT ZM(1 1 1 1)'));
----
3</pre>
<hr> <h3 id="st_zmax"> <a style="text-decoration: none;" href="#st_zmax">ST_ZMax</a> </h3> <h4 id="signature-56"> <a style="text-decoration: none;" href="#signature-56">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_ZMax (col0 GEOMETRY)</pre> <h4 id="description-102"> <a style="text-decoration: none;" href="#description-102">Description</a> </h4> <p>Returns the maximum Z value of a geometry</p>
<hr> <h3 id="st_zmin"> <a style="text-decoration: none;" href="#st_zmin">ST_ZMin</a> </h3> <h4 id="signature-57"> <a style="text-decoration: none;" href="#signature-57">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">DOUBLE ST_ZMin (col0 GEOMETRY)</pre> <h4 id="description-103"> <a style="text-decoration: none;" href="#description-103">Description</a> </h4> <p>Returns the minimum Z value of a geometry</p>
<hr> <h2 id="aggregate-functions"> <a style="text-decoration: none;" href="#aggregate-functions">Aggregate Functions</a> </h2> <h3 id="st_envelope_agg"> <a style="text-decoration: none;" href="#st_envelope_agg">ST_Envelope_Agg</a> </h3> <h4 id="signature-58"> <a style="text-decoration: none;" href="#signature-58">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Envelope_Agg (col0 GEOMETRY)</pre> <h4 id="description-104"> <a style="text-decoration: none;" href="#description-104">Description</a> </h4> <p>Alias for <a href="#st_extent_agg">ST_Extent_Agg</a>.</p> <p>Computes the minimal-bounding-box polygon containing the set of input geometries.</p> <h4 id="example-25"> <a style="text-decoration: none;" href="#example-25">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_Extent_Agg(geom) FROM UNNEST([ST_Point(1,1), ST_Point(5,5)]) AS _(geom);
-- POLYGON ((1 1, 1 5, 5 5, 5 1, 1 1))</pre>
<hr> <h3 id="st_extent_agg"> <a style="text-decoration: none;" href="#st_extent_agg">ST_Extent_Agg</a> </h3> <h4 id="signature-59"> <a style="text-decoration: none;" href="#signature-59">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Extent_Agg (col0 GEOMETRY)</pre> <h4 id="description-105"> <a style="text-decoration: none;" href="#description-105">Description</a> </h4> <p>Computes the minimal-bounding-box polygon containing the set of input geometries</p> <h4 id="example-26"> <a style="text-decoration: none;" href="#example-26">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT ST_Extent_Agg(geom) FROM UNNEST([ST_Point(1,1), ST_Point(5,5)]) AS _(geom);
-- POLYGON ((1 1, 1 5, 5 5, 5 1, 1 1))</pre>
<hr> <h3 id="st_intersection_agg"> <a style="text-decoration: none;" href="#st_intersection_agg">ST_Intersection_Agg</a> </h3> <h4 id="signature-60"> <a style="text-decoration: none;" href="#signature-60">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Intersection_Agg (col0 GEOMETRY)</pre> <h4 id="description-106"> <a style="text-decoration: none;" href="#description-106">Description</a> </h4> <p>Computes the intersection of a set of geometries</p>
<hr> <h3 id="st_union_agg"> <a style="text-decoration: none;" href="#st_union_agg">ST_Union_Agg</a> </h3> <h4 id="signature-61"> <a style="text-decoration: none;" href="#signature-61">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">GEOMETRY ST_Union_Agg (col0 GEOMETRY)</pre> <h4 id="description-107"> <a style="text-decoration: none;" href="#description-107">Description</a> </h4> <p>Computes the union of a set of input geometries</p>
<hr> <h2 id="table-functions"> <a style="text-decoration: none;" href="#table-functions">Table Functions</a> </h2> <h3 id="st_drivers"> <a style="text-decoration: none;" href="#st_drivers">ST_Drivers</a> </h3> <h4 id="signature-62"> <a style="text-decoration: none;" href="#signature-62">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">ST_Drivers ()</pre> <h4 id="description-108"> <a style="text-decoration: none;" href="#description-108">Description</a> </h4> <p>Returns the list of supported GDAL drivers and file formats</p> <p>Note that far from all of these drivers have been tested properly, and some may require additional options to be passed to work as expected. If you run into any issues please first consult the <a href="https://gdal.org/drivers/vector/index.html">consult the GDAL docs</a>.</p> <h4 id="example-27"> <a style="text-decoration: none;" href="#example-27">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT * FROM ST_Drivers();</pre>
<hr> <h3 id="st_read"> <a style="text-decoration: none;" href="#st_read">ST_Read</a> </h3> <h4 id="signature-63"> <a style="text-decoration: none;" href="#signature-63">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">ST_Read (col0 VARCHAR, keep_wkb BOOLEAN, max_batch_size INTEGER, sequential_layer_scan BOOLEAN, layer VARCHAR, sibling_files VARCHAR[], spatial_filter WKB_BLOB, spatial_filter_box BOX_2D, allowed_drivers VARCHAR[], open_options VARCHAR[])</pre> <h4 id="description-109"> <a style="text-decoration: none;" href="#description-109">Description</a> </h4> <p>Read and import a variety of geospatial file formats using the GDAL library.</p> <p>The <code class="language-plaintext highlighter-rouge">ST_Read</code> table function is based on the <a href="https://gdal.org/index.html">GDAL</a> translator library and enables reading spatial data from a variety of geospatial vector file formats as if they were DuckDB tables.</p> <blockquote> <p>See <a href="#st_drivers">ST_Drivers</a> for a list of supported file formats and drivers.</p> </blockquote> <p>Except for the <code class="language-plaintext highlighter-rouge">path</code> parameter, all parameters are optional.</p> <table> <thead> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">path</code></td> <td><code class="language-plaintext highlighter-rouge">VARCHAR</code></td> <td>The path to the file to read. Mandatory</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">sequential_layer_scan</code></td> <td><code class="language-plaintext highlighter-rouge">BOOLEAN</code></td> <td>If set to true, the table function will scan through all layers sequentially and return the first layer that matches the given layer name. This is required for some drivers to work properly, e.g., the OSM driver.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">spatial_filter</code></td> <td><code class="language-plaintext highlighter-rouge">WKB_BLOB</code></td> <td>If set to a WKB blob, the table function will only return rows that intersect with the given WKB geometry. Some drivers may support efficient spatial filtering natively, in which case it will be pushed down. Otherwise the filtering is done by GDAL which may be much slower.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">open_options</code></td> <td><code class="language-plaintext highlighter-rouge">VARCHAR[]</code></td> <td>A list of key-value pairs that are passed to the GDAL driver to control the opening of the file. E.g., the GeoJSON driver supports a FLATTEN_NESTED_ATTRIBUTES=YES option to flatten nested attributes.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">layer</code></td> <td><code class="language-plaintext highlighter-rouge">VARCHAR</code></td> <td>The name of the layer to read from the file. If NULL, the first layer is returned. Can also be a layer index (starting at 0).</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">allowed_drivers</code></td> <td><code class="language-plaintext highlighter-rouge">VARCHAR[]</code></td> <td>A list of GDAL driver names that are allowed to be used to open the file. If empty, all drivers are allowed.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">sibling_files</code></td> <td><code class="language-plaintext highlighter-rouge">VARCHAR[]</code></td> <td>A list of sibling files that are required to open the file. E.g., the ESRI Shapefile driver requires a .shx file to be present. Although most of the time these can be discovered automatically.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">spatial_filter_box</code></td> <td><code class="language-plaintext highlighter-rouge">BOX_2D</code></td> <td>If set to a BOX_2D, the table function will only return rows that intersect with the given bounding box. Similar to spatial_filter.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">keep_wkb</code></td> <td><code class="language-plaintext highlighter-rouge">BOOLEAN</code></td> <td>If set, the table function will return geometries in a wkb_geometry column with the type WKB_BLOB (which can be cast to BLOB) instead of GEOMETRY. This is useful if you want to use DuckDB with more exotic geometry subtypes that DuckDB spatial doesnt support representing in the GEOMETRY type yet.</td> </tr> </tbody> </table> <p>Note that GDAL is single-threaded, so this table function will not be able to make full use of parallelism.</p> <p>By using <code class="language-plaintext highlighter-rouge">ST_Read</code>, the spatial extension also provides “replacement scans” for common geospatial file formats, allowing you to query files of these formats as if they were tables directly.</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT * FROM './path/to/some/shapefile/dataset.shp';</pre> <p>In practice this is just syntax-sugar for calling ST_Read, so there is no difference in performance. If you want to pass additional options, you should use the ST_Read table function directly.</p> <p>The following formats are currently recognized by their file extension:</p> <table> <thead> <tr> <th>Format</th> <th>Extension</th> </tr> </thead> <tbody> <tr> <td>ESRI ShapeFile</td> <td><code class="language-plaintext highlighter-rouge">.shp</code></td> </tr> <tr> <td>GeoPackage</td> <td><code class="language-plaintext highlighter-rouge">.gpkg</code></td> </tr> <tr> <td>FlatGeoBuf</td> <td><code class="language-plaintext highlighter-rouge">.fgb</code></td> </tr> </tbody> </table> <h4 id="example-28"> <a style="text-decoration: none;" href="#example-28">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">-- Read a Shapefile
SELECT * FROM ST_Read('some/file/path/filename.shp');

-- Read a GeoJSON file
CREATE TABLE my_geojson_table AS SELECT * FROM ST_Read('some/file/path/filename.json');</pre>
<hr> <h3 id="st_readosm"> <a style="text-decoration: none;" href="#st_readosm">ST_ReadOSM</a> </h3> <h4 id="signature-64"> <a style="text-decoration: none;" href="#signature-64">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">ST_ReadOSM (col0 VARCHAR)</pre> <h4 id="description-110"> <a style="text-decoration: none;" href="#description-110">Description</a> </h4> <p>The <code class="language-plaintext highlighter-rouge">ST_ReadOsm()</code> table function enables reading compressed OpenStreetMap data directly from a <code class="language-plaintext highlighter-rouge">.osm.pbf file.</code></p> <p>This function uses multithreading and zero-copy protobuf parsing which makes it a lot faster than using the <code class="language-plaintext highlighter-rouge">ST_Read()</code> OSM driver, however it only outputs the raw OSM data (Nodes, Ways, Relations), without constructing any geometries. For simple node entities (like PoI's) you can trivially construct POINT geometries, but it is also possible to construct LINESTRING and POLYGON geometries by manually joining refs and nodes together in SQL, although with available memory usually being a limiting factor. The <code class="language-plaintext highlighter-rouge">ST_ReadOSM()</code> function also provides a "replacement scan" to enable reading from a file directly as if it were a table. This is just syntax sugar for calling <code class="language-plaintext highlighter-rouge">ST_ReadOSM()</code> though. Example:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT * FROM 'tmp/data/germany.osm.pbf' LIMIT 5;</pre> <h4 id="example-29"> <a style="text-decoration: none;" href="#example-29">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT *
FROM ST_ReadOSM('tmp/data/germany.osm.pbf')
WHERE tags['highway'] != []
LIMIT 5;
----
┌──────────────────────┬────────┬──────────────────────┬─────────┬────────────────────┬────────────┬───────────┬────────────────────────┐
│         kind         │   id   │         tags         │  refs   │        lat         │    lon     │ ref_roles │       ref_types        │
│ enum('node', 'way'…  │ int64  │ map(varchar, varch…  │ int64[] │       double       │   double   │ varchar[] │ enum('node', 'way', …  │
├──────────────────────┼────────┼──────────────────────┼─────────┼────────────────────┼────────────┼───────────┼────────────────────────┤
│ node                 │ 122351 │ {bicycle=yes, butt…  │         │         53.5492951 │   9.977553 │           │                        │
│ node                 │ 122397 │ {crossing=no, high…  │         │ 53.520990100000006 │ 10.0156924 │           │                        │
│ node                 │ 122493 │ {TMC:cid_58:tabcd_…  │         │ 53.129614600000004 │  8.1970173 │           │                        │
│ node                 │ 123566 │ {highway=traffic_s…  │         │ 54.617268200000005 │  8.9718171 │           │                        │
│ node                 │ 125801 │ {TMC:cid_58:tabcd_…  │         │ 53.070685000000005 │  8.7819939 │           │                        │
└──────────────────────┴────────┴──────────────────────┴─────────┴────────────────────┴────────────┴───────────┴────────────────────────┘</pre>
<hr> <h3 id="st_read_meta"> <a style="text-decoration: none;" href="#st_read_meta">ST_Read_Meta</a> </h3> <h4 id="signature-65"> <a style="text-decoration: none;" href="#signature-65">Signature</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">ST_Read_Meta (col0 VARCHAR)
ST_Read_Meta (col0 VARCHAR[])</pre> <h4 id="description-111"> <a style="text-decoration: none;" href="#description-111">Description</a> </h4> <p>Read the metadata from a variety of geospatial file formats using the GDAL library.</p> <p>The <code class="language-plaintext highlighter-rouge">ST_Read_Meta</code> table function accompanies the <code class="language-plaintext highlighter-rouge">ST_Read</code> table function, but instead of reading the contents of a file, this function scans the metadata instead. Since the data model of the underlying GDAL library is quite flexible, most of the interesting metadata is within the returned <code class="language-plaintext highlighter-rouge">layers</code> column, which is a somewhat complex nested structure of DuckDB <code class="language-plaintext highlighter-rouge">STRUCT</code> and <code class="language-plaintext highlighter-rouge">LIST</code> types.</p> <h4 id="example-30"> <a style="text-decoration: none;" href="#example-30">Example</a> </h4> <pre class="language-sql highlighter-rouge" data-language="sql">-- Find the coordinate reference system authority name and code for the first layers first geometry column in the file
SELECT
    layers[1].geometry_fields[1].crs.auth_name as name,
    layers[1].geometry_fields[1].crs.auth_code as code
FROM st_read_meta('../../tmp/data/amsterdam_roads.fgb');</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/extensions/spatial/functions.html" class="_attribution-link">https://duckdb.org/docs/extensions/spatial/functions.html</a>
  </p>
</div>
