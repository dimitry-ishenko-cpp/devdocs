<h1 class="title">GDAL Integration</h1>  <p>The spatial extension integrates the <a href="https://gdal.org/en/latest/">GDAL</a> translator library to read and write spatial data from a variety of geospatial vector file formats. See the documentation for the <a href="functions.html#st_read.html"><code class="language-plaintext highlighter-rouge">st_read</code> table function</a> for how to make use of this in practice.</p> <p>In order to spare users from having to setup and install additional dependencies on their system, the spatial extension bundles its own copy of the GDAL library. This also means that spatial's version of GDAL may not be the latest version available or provide support for all of the file formats that a system-wide GDAL installation otherwise would. Refer to the section on the <a href="functions.html#st_drivers.html"><code class="language-plaintext highlighter-rouge">st_drivers</code> table function</a> to inspect which GDAL drivers are currently available.</p> <h2 id="gdal-based-copy-function"> <a style="text-decoration: none;" href="#gdal-based-copy-function">GDAL Based <code class="language-plaintext highlighter-rouge">COPY</code> Function</a> </h2> <p>The spatial extension does not only enable <em>importing</em> geospatial file formats (through the <code class="language-plaintext highlighter-rouge">ST_Read</code> function), it also enables <em>exporting</em> DuckDB tables to different geospatial vector formats through a GDAL based <code class="language-plaintext highlighter-rouge">COPY</code> function.</p> <p>For example, to export a table to a GeoJSON file, with generated bounding boxes, you can use the following query:</p> <pre class="language-sql highlighter-rouge" data-language="sql">COPY ⟨table⟩ TO 'some/file/path/filename.geojson'
WITH (FORMAT GDAL, DRIVER 'GeoJSON', LAYER_CREATION_OPTIONS 'WRITE_BBOX=YES');</pre> <p>Available options:</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">FORMAT</code>: is the only required option and must be set to <code class="language-plaintext highlighter-rouge">GDAL</code> to use the GDAL based copy function.</li> <li>
<code class="language-plaintext highlighter-rouge">DRIVER</code>: is the GDAL driver to use for the export. Use <code class="language-plaintext highlighter-rouge">ST_Drivers()</code> to list the names of all available drivers.</li> <li>
<code class="language-plaintext highlighter-rouge">LAYER_CREATION_OPTIONS</code>: list of options to pass to the GDAL driver. See the GDAL docs for the driver you are using for a list of available options.</li> <li>
<code class="language-plaintext highlighter-rouge">SRS</code>: Set a spatial reference system as metadata to use for the export. This can be a WKT string, an EPSG code or a proj-string, basically anything you would normally be able to pass to GDAL. Note that this will <strong>not</strong> perform any reprojection of the input geometry, it just sets the metadata if the target driver supports it.</li> </ul> <h2 id="limitations"> <a style="text-decoration: none;" href="#limitations">Limitations</a> </h2> <p>Note that only vector based drivers are supported by the GDAL integration. Reading and writing raster formats are not supported.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/extensions/spatial/gdal.html" class="_attribution-link">https://duckdb.org/docs/extensions/spatial/gdal.html</a>
  </p>
</div>
