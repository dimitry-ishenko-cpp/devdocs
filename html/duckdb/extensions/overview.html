<h1 class="title">Extensions</h1>  <h2 id="overview"> <a style="text-decoration: none;" href="#overview">Overview</a> </h2> <p>DuckDB has a flexible extension mechanism that allows for dynamically loading extensions. These may extend DuckDB's functionality by providing support for additional file formats, introducing new types, and domain-specific functionality.</p> <blockquote> <p>Extensions are loadable on all clients (e.g., Python and R). Extensions distributed via the Core and Community repositories are built and tested on macOS, Windows and Linux. All operating systems are supported for both the AMD64 and the ARM64 architectures.</p> </blockquote> <h2 id="listing-extensions"> <a style="text-decoration: none;" href="#listing-extensions">Listing Extensions</a> </h2> <p>To get a list of extensions, use <code class="language-plaintext highlighter-rouge">duckdb_extensions</code>:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT extension_name, installed, description
FROM duckdb_extensions();</pre>  <table> <thead> <tr> <th>extension_name</th> <th>installed</th> <th>description</th> </tr> </thead> <tbody> <tr> <td>arrow</td> <td>false</td> <td>A zero-copy data integration between Apache Arrow and DuckDB</td> </tr> <tr> <td>autocomplete</td> <td>false</td> <td>Adds support for autocomplete in the shell</td> </tr> <tr> <td>…</td> <td>…</td> <td>…</td> </tr> </tbody> </table> <p>This list will show which extensions are available, which extensions are installed, at which version, where it is installed, and more. The list includes most, but not all, available core extensions. For the full list, we maintain a <a href="core_extensions.html">list of core extensions</a>.</p> <h2 id="built-in-extensions"> <a style="text-decoration: none;" href="#built-in-extensions">Built-In Extensions</a> </h2> <p>DuckDB's binary distribution comes standard with a few built-in extensions. They are statically linked into the binary and can be used as is. For example, to use the built-in <a href="../data/json/overview.html"><code class="language-plaintext highlighter-rouge">json</code> extension</a> to read a JSON file:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT *
FROM 'test.json';</pre> <p>To make the DuckDB distribution lightweight, only a few essential extensions are built-in, varying slightly per distribution. Which extension is built-in on which platform is documented in the <a href="core_extensions.html#default-extensions.html">list of core extensions</a>.</p> <h2 id="installing-more-extensions"> <a style="text-decoration: none;" href="#installing-more-extensions">Installing More Extensions</a> </h2> <p>To make an extension that is not built-in available in DuckDB, two steps need to happen:</p> <ol> <li> <p><strong>Extension installation</strong> is the process of downloading the extension binary and verifying its metadata. During installation, DuckDB stores the downloaded extension and some metadata in a local directory. From this directory DuckDB can then load the Extension whenever it needs to. This means that installation needs to happen only once.</p> </li> <li> <p><strong>Extension loading</strong> is the process of dynamically loading the binary into a DuckDB instance. DuckDB will search the local extension directory for the installed extension, then load it to make its features available. This means that every time DuckDB is restarted, all extensions that are used need to be (re)loaded</p> </li> </ol> <blockquote> <p>Extension installation and loading are subject to a few <a href="working_with_extensions.html#limitations.html">limitations</a>.</p> </blockquote> <p>There are two main methods of making DuckDB perform the <strong>installation</strong> and <strong>loading</strong> steps for an installable extension: <strong>explicitly</strong> and through <strong>autoloading</strong>.</p> <h3 id="explicit-install-and-load"> <a style="text-decoration: none;" href="#explicit-install-and-load">Explicit <code class="language-plaintext highlighter-rouge">INSTALL</code> and <code class="language-plaintext highlighter-rouge">LOAD</code></a> </h3> <p>In DuckDB extensions can also be explicitly installed and loaded. Both non-autoloadable and autoloadable extensions can be installed this way. To explicitly install and load an extension, DuckDB has the dedicated SQL statements <code class="language-plaintext highlighter-rouge">LOAD</code> and <code class="language-plaintext highlighter-rouge">INSTALL</code>. For example, to install and load the <a href="spatial/overview.html"><code class="language-plaintext highlighter-rouge">spatial</code> extension</a>, run:</p> <pre class="language-sql highlighter-rouge" data-language="sql">INSTALL spatial;
LOAD spatial;</pre> <p>With these statements, DuckDB will ensure the spatial extension is installed (ignoring the <code class="language-plaintext highlighter-rouge">INSTALL</code> statement if it is already installed), then proceed to <code class="language-plaintext highlighter-rouge">LOAD</code> the spatial extension (again ignoring the statement if it is already loaded).</p> <h4 id="extension-repository"> <a style="text-decoration: none;" href="#extension-repository">Extension Repository</a> </h4> <p>Optionally a repository can be provided where the extension should be installed from, by appending <code class="language-plaintext highlighter-rouge">FROM &lt;repository&gt;</code> to the <code class="language-plaintext highlighter-rouge">INSTALL</code>/<code class="language-plaintext highlighter-rouge">FORCE INSTALL</code> command. This repository can either be an alias, such as <a href="community_extensions.html"><code class="language-plaintext highlighter-rouge">community</code></a>, or it can be a direct URL, provided as a single-quoted string.</p> <p>After installing/loading an extension, the <a href="#listing-extensions"><code class="language-plaintext highlighter-rouge">duckdb_extensions</code> function</a> can be used to get more information.</p> <h3 id="autoloading-extensions"> <a style="text-decoration: none;" href="#autoloading-extensions">Autoloading Extensions</a> </h3> <p>For many of DuckDB's core extensions, explicitly loading and installing extensions is not necessary. DuckDB contains an autoloading mechanism which can install and load the core extensions as soon as they are used in a query. For example, when running:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT *
FROM 'https://raw.githubusercontent.com/duckdb/duckdb-web/main/data/weather.csv';</pre> <p>DuckDB will automatically install and load the <a href="httpfs/overview"><code class="language-plaintext highlighter-rouge">httpfs</code></a> extension. No explicit <code class="language-plaintext highlighter-rouge">INSTALL</code> or <code class="language-plaintext highlighter-rouge">LOAD</code> statements are required.</p> <p>Not all extensions can be autoloaded. This can have various reasons: some extensions make several changes to the running DuckDB instance, making autoloading technically not (yet) possible. For others, it is preferred to have users opt-in to the extension explicitly before use due to the way they modify behavior in DuckDB.</p> <p>To see which extensions can be autoloaded, check the <a href="core_extensions.html">core extensions list</a>.</p> <h3 id="community-extensions"> <a style="text-decoration: none;" href="#community-extensions">Community Extensions</a> </h3> <p>DuckDB supports installing third-party <a href="community_extensions.html">Community Extensions</a>. These are contributed by community members but they are built, signed, and distributed in a centralized repository.</p> <h3 id="installing-extensions-through-client-apis"> <a style="text-decoration: none;" href="#installing-extensions-through-client-apis">Installing Extensions through Client APIs</a> </h3> <p>For many clients, using SQL to load and install extensions is the preferred method. However, some clients have a dedicated API to install and load extensions. For example the <a href="../api/python/overview.html#loading-and-installing-extensions.html">Python API client</a>, which has dedicated <code class="language-plaintext highlighter-rouge">install_extension(name: str)</code> and <code class="language-plaintext highlighter-rouge">load_extension(name: str)</code> methods. For more details on a specific Client API, refer to the <a href="../api/overview.html">Client API docs</a></p> <h2 id="updating-extensions"> <a style="text-decoration: none;" href="#updating-extensions">Updating Extensions</a> </h2> <p>While built-in extensions are tied to a DuckDB release due to their nature of being built into the DuckDB binary, installable extensions can and do receive updates. To ensure all currently installed extensions are on the most recent version, call:</p> <pre class="language-sql highlighter-rouge" data-language="sql">UPDATE EXTENSIONS;</pre> <p>For more details on extension version refer to <a href="versioning_of_extensions.html">Extension Versioning</a>.</p> <h2 id="installation-location"> <a style="text-decoration: none;" href="#installation-location">Installation Location</a> </h2> <p>By default, extensions are installed under the user's home directory:</p> <pre class="language-text highlighter-rouge" data-language="text">~/.duckdb/extensions/⟨duckdb_version⟩/⟨platform_name⟩/</pre> <p>For stable DuckDB releases, the <code class="language-plaintext highlighter-rouge">⟨duckdb_version⟩</code> will be equal to the version tag of that release. For nightly DuckDB builds, it will be equal to the short git hash of the build. So for example, the extensions for DuckDB version v0.10.3 on macOS ARM64 (Apple Silicon) are installed to <code class="language-plaintext highlighter-rouge">~/.duckdb/extensions/v0.10.3/osx_arm64/</code>. An example installation path for a nightly DuckDB build could be <code class="language-plaintext highlighter-rouge">~/.duckdb/extensions/fc2e4b26a6/linux_amd64_gcc4</code>.</p> <p>To change the default location where DuckDB stores its extensions, use the <code class="language-plaintext highlighter-rouge">extension_directory</code> configuration option:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SET extension_directory = '/path/to/your/extension/directory';</pre> <p>Note that setting the value of the <code class="language-plaintext highlighter-rouge">home_directory</code> configuration option has no effect on the location of the extensions.</p> <h2 id="binary-compatibility"> <a style="text-decoration: none;" href="#binary-compatibility">Binary Compatibility</a> </h2> <p>To avoid binary compatibility issues, the binary extensions distributed by DuckDB are tied both to a specific DuckDB version and a platform. This means that DuckDB can automatically detect binary compatibility between it and a loadable extension. When trying to load an extension that was compiled for a different version or platform, DuckDB will throw an error and refuse to load the extension.</p> <p>See the <a href="working_with_extensions.html#platforms.html">Working with Extensions page</a> for details on available platforms.</p> <h2 id="developing-extensions"> <a style="text-decoration: none;" href="#developing-extensions">Developing Extensions</a> </h2> <p>The same API that the core extensions use is available for developing extensions. This allows users to extend the functionality of DuckDB such that it suits their domain the best. A template for creating extensions is available in the <a href="https://github.com/duckdb/extension-template/"><code class="language-plaintext highlighter-rouge">extension-template</code> repository</a>. This template also holds some documentation on how to get started building your own extension.</p> <h2 id="extension-signing"> <a style="text-decoration: none;" href="#extension-signing">Extension Signing</a> </h2> <p>Extensions are signed with a cryptographic key, which also simplifies distribution (this is why they are served over HTTP and not HTTPS). By default, DuckDB uses its built-in public keys to verify the integrity of extension before loading them. All extensions provided by the DuckDB core team are signed.</p> <h3 id="unsigned-extensions"> <a style="text-decoration: none;" href="#unsigned-extensions">Unsigned Extensions</a> </h3> <blockquote> <p>Warning Only load unsigned extensions from sources you trust. Also, avoid loading them over HTTP.</p> </blockquote> <p>If you wish to load your own extensions or extensions from third-parties you will need to enable the <code class="language-plaintext highlighter-rouge">allow_unsigned_extensions</code> flag. To load unsigned extensions using the <a href="../api/cli/overview.html">CLI client</a>, pass the <code class="language-plaintext highlighter-rouge">-unsigned</code> flag to it on startup:</p> <pre class="language-bash highlighter-rouge" data-language="bash">duckdb -unsigned</pre> <p>Now any extension can be loaded, signed or not:</p> <pre class="language-sql highlighter-rouge" data-language="sql">LOAD './some/local/ext.duckdb_extension';</pre> <p>For Client APIs, the <code class="language-plaintext highlighter-rouge">allow_unsigned_extensions</code> database configuration options needs to be set, see the respective <a href="../api/overview.html">Client API docs</a>. For example, for the Python client, see the <a href="../api/python/overview.html#loading-and-installing-extensions.html">Loading and Installing Extensions section in the Python API documentation</a>.</p> <h2 id="working-with-extensions"> <a style="text-decoration: none;" href="#working-with-extensions">Working with Extensions</a> </h2> <p>For advanced installation instructions and more details on extensions, see the <a href="working_with_extensions.html">Working with Extensions page</a>.</p> <div> <h2 id="pages-in-this-section">Pages in This Section</h2> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/extensions/overview.html" class="_attribution-link">https://duckdb.org/docs/extensions/overview.html</a>
  </p>
</div>
