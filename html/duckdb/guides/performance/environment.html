<h1 class="title">Environment</h1>  <p>The environment where DuckDB is run has an obvious impact on performance. This page focuses on the effects of the hardware configuration and the operating system used.</p> <h2 id="hardware-configuration"> <a style="text-decoration: none;" href="#hardware-configuration">Hardware Configuration</a> </h2> <h3 id="cpu-and-memory"> <a style="text-decoration: none;" href="#cpu-and-memory">CPU and Memory</a> </h3> <p>As a rule of thumb, DuckDB requires a <strong>minimum</strong> of 125 MB of memory per thread. For example, if you use 8 threads, you need at least 1 GB of memory. For ideal performance, aggregation-heavy workloads require approx. 5 GB memory per thread and join-heavy workloads require approximately 10 GB memory per thread.</p> <blockquote> <p>Bestpractice Aim for 5-10 GB memory per thread.</p> </blockquote> <blockquote> <p>Tip If you have a limited amount of memory, try to <a href="../../configuration/pragmas.html#threads.html">limit the number of threads</a>, e.g., by issuing <code class="language-plaintext highlighter-rouge">SET threads = 4;</code>.</p> </blockquote> <h3 id="disk"> <a style="text-decoration: none;" href="#disk">Disk</a> </h3> <p>DuckDB is capable of operating both as an in-memory and as a disk-based database system. In both cases, it can spill to disk to process larger-than-memory workloads (a.k.a. out-of-core processing) for which a fast disk is highly beneficial. However, if the workload fits in memory, the disk speed only has a limited effect on performance.</p> <h3 id="local-disk"> <a style="text-decoration: none;" href="#local-disk">Local Disk</a> </h3> <p>DuckDB's disk-based mode is designed to work best with SSD and NVMe disks. While HDDs are supported, they will result in low performance, especially for write operations.</p> <h3 id="network-attached-disks"> <a style="text-decoration: none;" href="#network-attached-disks">Network-Attached Disks</a> </h3> <p><strong>Cloud disks.</strong> DuckDB runs well on network-backed cloud disks such as <a href="https://aws.amazon.com/ebs/">AWS EBS</a> for both read-only and read-write workloads.</p> <p><strong>Network-attached storage.</strong> Network-attached storage can serve DuckdB for read-only workloads. However, <em>it is not recommended to run DuckDB in read-write mode on network-attached storage (NAS).</em> These setups include <a href="https://en.wikipedia.org/wiki/Network_File_System">NFS</a>, network drives such as <a href="https://en.wikipedia.org/wiki/Server_Message_Block">SMB</a> and <a href="https://en.wikipedia.org/wiki/Samba_(software)">Samba</a>. Based on user reports, running read-write workloads on network-attached storage can result in slow and unpredictable performance, as well as spurious errors cased by the underlying file system.</p> <blockquote> <p>Warning Avoid running DuckDB in read-write mode on network-attached storage.</p> </blockquote> <blockquote> <p>Bestpractice Fast disks are important if your workload is larger than memory and/or fast data loading is important. Only use network-backed disks if they are reliable (e.g., cloud disks) and guarantee high IO.</p> </blockquote> <h2 id="operating-system"> <a style="text-decoration: none;" href="#operating-system">Operating System</a> </h2> <p>We recommend using the latest stable version of operating systems: macOS, Windows, and Linux are all well-tested and DuckDB can run on them with high performance. Among Linux distributions, we recommended using Ubuntu Linux LTS due to its stability and the fact that most of DuckDBâ€™s Linux test suite jobs run on Ubuntu workers.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/guides/performance/environment.html" class="_attribution-link">https://duckdb.org/docs/guides/performance/environment.html</a>
  </p>
</div>
