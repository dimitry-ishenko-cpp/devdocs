<h1 class="title">Google Cloud Storage Import</h1>  <h2 id="prerequisites"> <a style="text-decoration: none;" href="#prerequisites">Prerequisites</a> </h2> <p>The Google Cloud Storage (GCS) can be used via the <a href="../../extensions/httpfs/overview.html"><code class="language-plaintext highlighter-rouge">httpfs</code> extension</a>. This can be installed with the <code class="language-plaintext highlighter-rouge">INSTALL httpfs</code> SQL command. This only needs to be run once.</p> <h2 id="credentials-and-configuration"> <a style="text-decoration: none;" href="#credentials-and-configuration">Credentials and Configuration</a> </h2> <p>You need to create <a href="https://console.cloud.google.com/storage/settings;tab=interoperability">HMAC keys</a> and declare them:</p> <pre class="language-sql highlighter-rouge" data-language="sql">CREATE SECRET (
    TYPE GCS,
    KEY_ID 'AKIAIOSFODNN7EXAMPLE',
    SECRET 'wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY'
);</pre> <h2 id="querying"> <a style="text-decoration: none;" href="#querying">Querying</a> </h2> <p>After setting up the GCS credentials, you can query the GCS data using:</p> <pre class="language-sql highlighter-rouge" data-language="sql">SELECT *
FROM read_parquet('gs://⟨gcs_bucket⟩/⟨file.parquet⟩');</pre> <h2 id="attaching-to-a-database"> <a style="text-decoration: none;" href="#attaching-to-a-database">Attaching to a Database</a> </h2> <p>You can <a href="duckdb_over_https_or_s3.html">attach to a database file</a> in read-only mode:</p> <pre class="language-sql highlighter-rouge" data-language="sql">LOAD httpfs;
ATTACH 'gs://⟨gcs_bucket⟩/⟨file.duckdb⟩' AS ⟨duckdb_database⟩ (READ_ONLY);</pre> <blockquote> <p>Databases in Google Cloud Storage can only be attached in read-only mode.</p> </blockquote><div class="_attribution">
  <p class="_attribution-p">
    &copy; Copyright 2018&ndash;2024 Stichting DuckDB Foundation<br>Licensed under the MIT License.<br>
    <a href="https://duckdb.org/docs/guides/network_cloud_storage/gcs_import.html" class="_attribution-link">https://duckdb.org/docs/guides/network_cloud_storage/gcs_import.html</a>
  </p>
</div>
