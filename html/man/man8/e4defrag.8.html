<h1>e4defrag(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>E4DEFRAG</i>(8)              System Manager's Manual             <i>E4DEFRAG</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       e4defrag - online defragmenter for ext4 file system
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>e4defrag </b>[ <b>-c </b>] [ <b>-v </b>] <i>target</i> ...
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>e4defrag </b>reduces fragmentation of extent based file. The file
       targeted by <b>e4defrag </b>is created on ext4 file system made with "-O
       extent" option (see <a href="mke2fs.8.html">mke2fs(8)</a>).  The targeted file gets more
       contiguous blocks and improves the file access speed.

       <i>target</i> is a regular file, a directory, or a device that is
       mounted as ext4 file system.  If <i>target</i> is a directory, <b>e4defrag</b>
       reduces fragmentation of all files in it. If <i>target</i> is a device,
       <b>e4defrag </b>gets the mount point of it and reduces fragmentation of
       all files in this mount point.
</pre> <h2>
OPTIONS </h2>
<pre>
       <b>-c     </b>Get a current fragmentation count and an ideal
              fragmentation count, and calculate fragmentation score
              based on them. By seeing this score, we can determine
              whether we should execute <b>e4defrag </b>to <i>target</i>.  When used
              with <b>-v </b>option, the current fragmentation count and the
              ideal fragmentation count are printed for each file.

              Also this option outputs the average data size in one
              extent. If you see it, you'll find the file has ideal
              extents or not. Note that the maximum extent size is
              131072KB in ext4 file system (if block size is 4KB).

              If this option is specified, <i>target</i> is never defragmented.

       <b>-v     </b>Print error messages and the fragmentation count before
              and after defrag for each file.
</pre> <h2>
NOTES </h2>
<pre>
       <b>e4defrag </b>does not support swap file, files in lost+found
       directory, and files allocated in indirect blocks. When <i>target</i> is
       a device or a mount point, <b>e4defrag </b>doesn't defragment files in
       mount point of other device.

       It is safe to run e4defrag on a file while it is actively in use
       by another application.  Since the contents of file blocks are
       copied using the page cache, this can result in a performance
       slowdown to both e4defrag and the application due to contention
       over the system's memory and disk bandwidth.

       If the file system's free space is fragmented, or if there is
       insufficient free space available, e4defrag may not be able to
       improve the file's fragmentation.

       Non-privileged users can execute <b>e4defrag </b>to their own file, but
       the score is not printed if <b>-c </b>option is specified. Therefore, it
       is desirable to be executed by root user.
</pre> <h2>
AUTHOR </h2>
<pre>
       Written by Akira Fujita &lt;a-fujita@rs.jp.nec.com&gt; and Takashi Sato
       &lt;t-sato@yk.jp.nec.com&gt;.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="mke2fs.8.html">mke2fs(8)</a>, <a href="mount.8.html">mount(8)</a>.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>e2fsprogs</i> (utilities for ext2/3/4
       filesystems) project.  Information about the project can be found
       at ⟨<a href="http://e2fsprogs.sourceforge.net/">http://e2fsprogs.sourceforge.net/</a>⟩.  It is not known how to
       report bugs for this man page; if you know, please send a mail to
       man-pages@man7.org.  This page was obtained from the project's
       upstream Git repository
       ⟨git://git.kernel.org/pub/scm/fs/ext2/e2fsprogs.git⟩ on
       2024-06-14.  (At that time, the date of the most recent commit
       that was found in the repository was 2024-05-20.)  If you
       discover any rendering problems in this HTML version of the page,
       or you believe there is a better or more up-to-date source for
       the page, or you have corrections or improvements to the
       information in this COLOPHON (which is <i>not</i> part of the original
       manual page), send a mail to man-pages@man7.org

<span class="footline">e4defrag version 2.0            May 2009                     <i>E4DEFRAG</i>(8)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/e4defrag.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/e4defrag.8.html</a>
  </p>
</div>
