<h1>sudoedit(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>SUDO</i>(8)                  System Manager's Manual                 <i>SUDO</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       <b>sudo</b>, <b>sudoedit </b>— execute a command as another user
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>sudo -h </b>| <b>-K </b>| <b>-k </b>| <b>-V sudo -v </b>[<b>-ABkNnS</b>] [<b>-g </b><i>group</i>] [<b>-h </b><i>host</i>] [<b>-p</b>
       <i>prompt</i>] [<b>-u </b><i>user</i>] <b>sudo -l </b>[<b>-ABkNnS</b>] [<b>-g </b><i>group</i>] [<b>-h </b><i>host</i>] [<b>-p</b>
       <i>prompt</i>] [<b>-U </b><i>user</i>] [<b>-u </b><i>user</i>] [<i>command</i> [<i>arg ...</i>]] <b>sudo </b>[<b>-ABbEHnPS</b>]
       [<b>-C </b><i>num</i>] [<b>-D </b><i>directory</i>] [<b>-g </b><i>group</i>] [<b>-h </b><i>host</i>] [<b>-p </b><i>prompt</i>] [<b>-R</b>
       <i>directory</i>] [<b>-T </b><i>timeout</i>] [<b>-u </b><i>user</i>] [<i>VAR</i>=<i>value</i>] [<b>-i </b>| <b>-s</b>] [<i>command</i>
       [<i>arg ...</i>]] <b>sudoedit </b>[<b>-ABkNnS</b>] [<b>-C </b><i>num</i>] [<b>-D </b><i>directory</i>] [<b>-g </b><i>group</i>]
       [<b>-h </b><i>host</i>] [<b>-p </b><i>prompt</i>] [<b>-R </b><i>directory</i>] [<b>-T </b><i>timeout</i>] [<b>-u </b><i>user</i>]
       <i>file ...</i>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>sudo</b>, allows a permitted user to execute a <i>command</i> as the
       superuser or another user, as specified by the security policy.
       The invoking user's real (<i>not</i> effective) user-ID is used to
       determine the user name with which to query the security policy.

       <b>sudo</b>, supports a plugin architecture for security policies,
       auditing, and input/output logging.  Third parties can develop
       and distribute their own plugins to work seamlessly with the
       <b>sudo</b>, front-end.  The default security policy is <i>sudoers</i>, which
       is configured via the file <i>/etc/sudoers</i>, or via LDAP.  See the
       “Plugins” section for more information.

       The security policy determines what privileges, if any, a user
       has to run <b>sudo</b>,.  The policy may require that users authenticate
       themselves with a password or another authentication mechanism.
       If authentication is required, <b>sudo</b>, will exit if the user's
       password is not entered within a configurable time limit.  This
       limit is policy-specific; the default password prompt timeout for
       the <i>sudoers</i> security policy is 5 minutes.

       Security policies may support credential caching to allow the
       user to run <b>sudo</b>, again for a period of time without requiring
       authentication.  By default, the <i>sudoers</i> policy caches
       credentials on a per-terminal basis for 5 minutes.  See the
       <i>timestamp_type</i> and <i>timestamp_timeout</i> options in <i>sudoers</i>(5) for
       more information.  By running <b>sudo</b>, with the <b>-v </b>option, a user
       can update the cached credentials without running a <i>command</i>.

       On systems where <b>sudo</b>, is the primary method of gaining superuser
       privileges, it is imperative to avoid syntax errors in the
       security policy configuration files.  For the default security
       policy, <i>sudoers</i>(5), changes to the configuration files should be
       made using the <i>visudo</i>(8) utility which will ensure that no syntax
       errors are introduced.

       When invoked as <b>sudoedit</b>, the <b>-e </b>option (described below), is
       implied.

       Security policies and audit plugins may log successful and failed
       attempts to run <b>sudo</b>,.  If an I/O plugin is configured, the
       running <i>command</i>'s input and output may be logged as well.

       The options are as follows:

       <b>-A</b>, <b>--askpass</b>
               Normally, if <b>sudo</b>, requires a password, it will read it
               from the user's terminal.  If the <b>-A </b>(<i>askpass</i>) option is
               specified, a (possibly graphical) helper program is
               executed to read the user's password and output the
               password to the standard output.  If the SUDO_ASKPASS
               environment variable is set, it specifies the path to the
               helper program.  Otherwise, if <i>sudo.conf</i>(5) contains a
               line specifying the askpass program, that value will be
               used.  For example:

                   # Path to askpass helper program
                   Path askpass /usr/X11R6/bin/ssh-askpass

               If no askpass program is available, <b>sudo</b>, will exit with
               an error.

       <b>-B</b>, <b>--bell</b>
               Ring the bell as part of the password prompt when a
               terminal is present.  This option has no effect if an
               askpass program is used.

       <b>-b</b>, <b>--background</b>
               Run the given <i>command</i> in the background.  It is not
               possible to use shell job control to manipulate
               background processes started by <b>sudo</b>,.  Most interactive
               <i>command</i>s will fail to work properly in background mode.

       <b>-C </b><i>num</i>, <b>--close-from</b>=<i>num</i>
               Close all file descriptors greater than or equal to <i>num</i>
               before executing a <i>command</i>.  Values less than three are
               not permitted.  By default, <b>sudo</b>, will close all open
               file descriptors other than standard input, standard
               output, and standard error when executing a <i>command</i>.  The
               security policy may restrict the user's ability to use
               this option.  The <i>sudoers</i> policy only permits use of the
               <b>-C </b>option when the administrator has enabled the
               <i>closefrom_override</i> option.

       <b>-D </b><i>directory</i>, <b>--chdir</b>=<i>directory</i>
               Run the <i>command</i> in the specified <i>directory</i> instead of the
               current working directory.  The security policy may
               return an error if the user does not have permission to
               specify the working directory.

       <b>-E</b>, <b>--preserve-env</b>
               Indicates to the security policy that the user wishes to
               preserve their existing environment variables.  The
               security policy may return an error if the user does not
               have permission to preserve the environment.

       <b>--preserve-env=list</b>
               Indicates to the security policy that the user wishes to
               add the comma-separated list of environment variables to
               those preserved from the user's environment.  The
               security policy may return an error if the user does not
               have permission to preserve the environment.  This option
               may be specified multiple times.

       <b>-e</b>, <b>--edit</b>
               Edit one or more <i>file</i>s instead of running a <i>command</i>.  In
               lieu of a path name, the string "sudoedit" is used when
               consulting the security policy.  If the user is
               authorized by the policy, the following steps are taken:

               1.   Temporary copies are made of the files to be edited
                    with the owner set to the invoking user.

               2.   The editor specified by the policy is run to edit
                    the temporary files.  The <i>sudoers</i> policy uses the
                    SUDO_EDITOR, VISUAL and EDITOR environment variables
                    (in that order).  If none of SUDO_EDITOR, VISUAL or
                    EDITOR are set, the first program listed in the
                    <i>editor sudoers</i>(5) option is used.

               3.   If they have been modified, the temporary files are
                    copied back to their original location and the
                    temporary versions are removed.

               To help prevent the editing of unauthorized files, the
               following restrictions are enforced unless explicitly
               allowed by the security policy:

                <b>•  </b>Symbolic links may not be edited (version 1.8.15 and
                   higher).

                <b>•  </b>Symbolic links along the path to be edited are not
                   followed when the parent directory is writable by the
                   invoking user unless that user is root (version
                   1.8.16 and higher).

                <b>•  </b>Files located in a directory that is writable by the
                   invoking user may not be edited unless that user is
                   root (version 1.8.16 and higher).

               Users are never allowed to edit device special files.

               If the specified file does not exist, it will be created.
               Unlike most <i>command</i>s run by <i>sudo</i>, the editor is run with
               the invoking user's environment unmodified.  If the
               temporary file becomes empty after editing, the user will
               be prompted before it is installed.  If, for some reason,
               <b>sudo</b>, is unable to update a file with its edited version,
               the user will receive a warning and the edited copy will
               remain in a temporary file.

       <b>-g </b><i>group</i>, <b>--group</b>=<i>group</i>
               Run the <i>command</i> with the primary group set to <i>group</i>
               instead of the primary group specified by the target
               user's password database entry.  The <i>group</i> may be either
               a group name or a numeric group-ID (GID) prefixed with
               the ‘#’ character (e.g., ‘#0’ for GID 0).  When running a
               <i>command</i> as a GID, many shells require that the ‘#’ be
               escaped with a backslash (‘\’).  If no <b>-u </b>option is
               specified, the <i>command</i> will be run as the invoking user.
               In either case, the primary group will be set to <i>group</i>.
               The <i>sudoers</i> policy permits any of the target user's
               groups to be specified via the <b>-g </b>option as long as the
               <b>-P </b>option is not in use.

       <b>-H</b>, <b>--set-home</b>
               Request that the security policy set the HOME environment
               variable to the home directory specified by the target
               user's password database entry.  Depending on the policy,
               this may be the default behavior.

       <b>-h</b>, <b>--help</b>
               Display a short help message to the standard output and
               exit.

       <b>-h </b><i>host</i>, <b>--host</b>=<i>host</i>
               Run the <i>command</i> on the specified <i>host</i> if the security
               policy plugin supports remote <i>command</i>s. The <i>sudoers</i>
               plugin does not currently support running remote
               <i>command</i>s. This may also be used in conjunction with the
               <b>-l </b>option to list a user's privileges for the remote
               host.

       <b>-i</b>, <b>--login</b>
               Run the shell specified by the target user's password
               database entry as a login shell.  This means that login-
               specific resource files such as <i>.profile</i>, <i>.bash_profile</i>,
               or <i>.login</i> will be read by the shell.  If a <i>command</i> is
               specified, it is passed to the shell as a simple <i>command</i>
               using the <b>-c </b>option.  The <i>command</i> and any <i>arg</i>s are
               concatenated, separated by spaces, after escaping each
               character (including white space) with a backslash (‘\’)
               except for alphanumerics, underscores, hyphens, and
               dollar signs.  If no <i>command</i> is specified, an interactive
               shell is executed.  <b>sudo</b>, attempts to change to that
               user's home directory before running the shell.  The
               <i>command</i> is run with an environment similar to the one a
               user would receive at log in.  Most shells behave
               differently when a <i>command</i> is specified as compared to an
               interactive session; consult the shell's manual for
               details.  The <i>Command environment</i> section in the
               <i>sudoers</i>(5) manual documents how the <b>-i </b>option affects the
               environment in which a <i>command</i> is run when the <i>sudoers</i>
               policy is in use.

       <b>-K</b>, <b>--remove-timestamp</b>
               Similar to the <b>-k </b>option, except that it removes every
               cached credential for the user, regardless of the
               terminal or parent process ID.  The next time <b>sudo</b>, is
               run, a password must be entered if the security policy
               requires authentication.  It is not possible to use the
               <b>-K </b>option in conjunction with a <i>command</i> or other option.
               This option does not require a password.  Not all
               security policies support credential caching.

       <b>-k</b>, <b>--reset-timestamp</b>
               When used without a <i>command</i>, invalidates the user's
               cached credentials for the current session.  The next
               time <b>sudo</b>, is run in the session, a password must be
               entered if the security policy requires authentication.
               By default, the <b>sudoers </b>policy uses a separate record in
               the credential cache for each terminal (or parent process
               ID if no terminal is present).  This prevents the <b>-k</b>
               option from interfering with <b>sudo</b>, commands run in a
               different terminal session.  See the <i>timestamp_type</i>
               option in <i>sudoers</i>(5) for more information.  This option
               does not require a password, and was added to allow a
               user to revoke <b>sudo</b>, permissions from a <i>.logout</i> file.

               When used in conjunction with a <i>command</i> or an option that
               may require a password, this option will cause <b>sudo</b>, to
               ignore the user's cached credentials.  As a result, <b>sudo</b>,
               will prompt for a password (if one is required by the
               security policy) and will not update the user's cached
               credentials.

               Not all security policies support credential caching.

       <b>-l</b>, <b>--list</b>
               If no <i>command</i> is specified, list the privileges for the
               invoking user (or the <i>user</i> specified by the <b>-U </b>option) on
               the current host.  A longer list format is used if this
               option is specified multiple times and the security
               policy supports a verbose output format.

               If a <i>command</i> is specified and is permitted by the
               security policy for the invoking user (or the, <i>user</i>
               specified by the <b>-U </b>option) on the current host, the
               fully-qualified path to the <i>command</i> is displayed along
               with any <i>arg</i>s. If <b>-l </b>is specified more than once (and the
               security policy supports it), the matching rule is
               displayed in a verbose format along with the <i>command</i>.  If
               a <i>command</i> is specified but not allowed by the policy,
               <b>sudo</b>, will exit with a status value of 1.

       <b>-N</b>, <b>--no-update</b>
               Do not update the user's cached credentials, even if the
               user successfully authenticates.  Unlike the <b>-k </b>flag,
               existing cached credentials are used if they are valid.
               To detect when the user's cached credentials are valid
               (or when no authentication is required), the following
               can be used:

                   sudo -Nnv

               Not all security policies support credential caching.

       <b>-n</b>, <b>--non-interactive</b>
               Avoid prompting the user for input of any kind.  If a
               password is required for the <i>command</i> to run, <b>sudo</b>, will
               display an error message and exit.

       <b>-P</b>, <b>--preserve-groups</b>
               Preserve the invoking user's group vector unaltered.  By
               default, the <i>sudoers</i> policy will initialize the group
               vector to the list of groups the target user is a member
               of.  The real and effective group-IDs, however, are still
               set to match the target user.

       <b>-p </b><i>prompt</i>, <b>--prompt</b>=<i>prompt</i>
               Use a custom password prompt with optional escape
               sequences.  The following percent (‘%’) escape sequences
               are supported by the <i>sudoers</i> policy:

               %H  expanded to the host name including the domain name
                   (only if the machine's host name is fully qualified
                   or the <i>fqdn</i> option is set in <i>sudoers</i>(5))

               %h  expanded to the local host name without the domain
                   name

               %p  expanded to the name of the user whose password is
                   being requested (respects the <i>rootpw</i>, <i>targetpw</i>, and
                   <i>runaspw</i> flags in <i>sudoers</i>(5))

               %U  expanded to the login name of the user the <i>command</i>
                   will be run as (defaults to root unless the <b>-u </b>option
                   is also specified)

               %u  expanded to the invoking user's login name

               %%  two consecutive ‘%’ characters are collapsed into a
                   single ‘%’ character

               The custom prompt will override the default prompt
               specified by either the security policy or the
               SUDO_PROMPT environment variable.  On systems that use
               PAM, the custom prompt will also override the prompt
               specified by a PAM module unless the <i>passprompt_override</i>
               flag is disabled in <i>sudoers</i>.

       <b>-R </b><i>directory</i>, <b>--chroot</b>=<i>directory</i>
               Change to the specified root <i>directory</i> (see <i>chroot</i>(8))
               before running the <i>command</i>.  The security policy may
               return an error if the user does not have permission to
               specify the root directory.

       <b>-S</b>, <b>--stdin</b>
               Write the prompt to the standard error and read the
               password from the standard input instead of using the
               terminal device.

       <b>-s</b>, <b>--shell</b>
               Run the shell specified by the SHELL environment variable
               if it is set or the shell specified by the invoking
               user's password database entry.  If a <i>command</i> is
               specified, it is passed to the shell as a simple command
               using the <b>-c </b>option.  The <i>command</i> and any <i>arg</i>s are
               concatenated, separated by spaces, after escaping each
               character (including white space) with a backslash (‘\’)
               except for alphanumerics, underscores, hyphens, and
               dollar signs.  If no <i>command</i> is specified, an interactive
               shell is executed.  Most shells behave differently when a
               <i>command</i> is specified as compared to an interactive
               session; consult the shell's manual for details.

       <b>-U </b><i>user</i>, <b>--other-user</b>=<i>user</i>
               Used in conjunction with the <b>-l </b>option to list the
               privileges for <i>user</i> instead of for the invoking user.
               The security policy may restrict listing other users'
               privileges.  When using the <i>sudoers</i> policy, the <b>-U </b>option
               is restricted to the root user and users with either the
               “list” priviege for the specified <i>user</i> or the ability to
               run any <i>command</i> as root or <i>user</i> on the current host.

       <b>-T </b><i>timeout</i>, <b>--command-timeout</b>=<i>timeout</i>
               Used to set a timeout for the <i>command</i>.  If the timeout
               expires before the <i>command</i> has exited, the <i>command</i> will
               be terminated.  The security policy may restrict the
               user's ability to set timeouts.  The <i>sudoers</i> policy
               requires that user-specified timeouts be explicitly
               enabled.

       <b>-u </b><i>user</i>, <b>--user</b>=<i>user</i>
               Run the <i>command</i> as a user other than the default target
               user (usually <b>root</b>).  The <i>user</i> may be either a user name
               or a numeric user-ID (UID) prefixed with the ‘#’
               character (e.g., ‘#0’ for UID 0).  When running <i>command</i>s
               as a UID, many shells require that the ‘#’ be escaped
               with a backslash (‘\’).  Some security policies may
               restrict UIDs to those listed in the password database.
               The <i>sudoers</i> policy allows UIDs that are not in the
               password database as long as the <i>targetpw</i> option is not
               set.  Other security policies may not support this.

       <b>-V</b>, <b>--version</b>
               Print the <b>sudo</b>, version string as well as the version
               string of any configured plugins.  If the invoking user
               is already root, the <b>-V </b>option will display the options
               passed to configure when <b>sudo</b>, was built; plugins may
               display additional information such as default options.

       <b>-v</b>, <b>--validate</b>
               Update the user's cached credentials, authenticating the
               user if necessary.  For the <i>sudoers</i> plugin, this extends
               the <b>sudo</b>, timeout for another 5 minutes by default, but
               does not run a <i>command</i>.  Not all security policies
               support cached credentials.

       <b>--      </b>The <b>-- </b>is used to delimit the end of the <b>sudo</b>, options.
               Subsequent options are passed to the <i>command</i>.

       Options that take a value may only be specified once unless
       otherwise indicated in the description.  This is to help guard
       against problems caused by poorly written scripts that invoke
       <b>sudo </b>with user-controlled input.

       Environment variables to be set for the <i>command</i> may also be
       passed as options to <b>sudo</b>, in the form <i>VAR</i>=<i>value</i>, for example
       LD_LIBRARY_PATH=<i>/usr/local/pkg/lib</i>.  Environment variables may be
       subject to restrictions imposed by the security policy plugin.
       The <i>sudoers</i> policy subjects environment variables passed as
       options to the same restrictions as existing environment
       variables with one important difference.  If the <i>setenv</i> option is
       set in <i>sudoers</i>, the <i>command</i> to be run has the SETENV tag set or
       the <i>command</i> matched is <b>ALL</b>, the user may set variables that would
       otherwise be forbidden.  See <i>sudoers</i>(5) for more information.
</pre> <h2>
COMMAND EXECUTION </h2>
<pre>
       When <b>sudo</b>, executes a <i>command</i>, the security policy specifies the
       execution environment for the <i>command</i>.  Typically, the real and
       effective user and group and IDs are set to match those of the
       target user, as specified in the password database, and the group
       vector is initialized based on the group database (unless the <b>-P</b>
       option was specified).

       The following parameters may be specified by security policy:

       <b>•  </b>real and effective user-ID

       <b>•  </b>real and effective group-ID

       <b>•  </b>supplementary group-IDs

       <b>•  </b>the environment list

       <b>•  </b>current working directory

       <b>•  </b>file creation mode mask (umask)

       <b>•  </b>scheduling priority (aka nice value)

   <b>Process model</b>
       There are two distinct ways <b>sudo</b>, can run a <i>command</i>.

       If an I/O logging plugin is configured to log terminal I/O, or if
       the security policy explicitly requests it, a new pseudo-terminal
       (“pty”) is allocated and <i>fork</i>(2) is used to create a second <b>sudo</b>,
       process, referred to as the <i>monitor</i>.  The <i>monitor</i> creates a new
       terminal session with itself as the leader and the pty as its
       controlling terminal, calls <i>fork</i>(2) again, sets up the execution
       environment as described above, and then uses the <i>execve</i>(2)
       system call to run the <i>command</i> in the child process.  The <i>monitor</i>
       exists to relay job control signals between the user's terminal
       and the pty the <i>command</i> is being run in.  This makes it possible
       to suspend and resume the <i>command</i> normally.  Without the <i>monitor</i>,
       the <i>command</i> would be in what POSIX terms an “orphaned process
       group” and it would not receive any job control signals from the
       kernel.  When the <i>command</i> exits or is terminated by a signal, the
       <i>monitor</i> passes the <i>command</i>'s exit status to the main <b>sudo</b>,
       process and exits.  After receiving the <i>command</i>'s exit status,
       the main <b>sudo</b>, process passes the <i>command</i>'s exit status to the
       security policy's close function, as well as the close function
       of any configured audit plugin, and exits.  This mode is the
       default for sudo versions 1.9.14 and above when using the sudoers
       policy.

       If no pty is used, <b>sudo</b>, calls <i>fork</i>(2), sets up the execution
       environment as described above, and uses the <i>execve</i>(2) system
       call to run the <i>command</i> in the child process.  The main <b>sudo</b>,
       process waits until the <i>command</i> has completed, then passes the
       <i>command</i>'s exit status to the security policy's close function, as
       well as the close function of any configured audit plugins, and
       exits.  As a special case, if the policy plugin does not define a
       close function, <b>sudo</b>, will execute the <i>command</i> directly instead
       of calling <i>fork</i>(2) first.  The <i>sudoers</i> policy plugin will only
       define a close function when I/O logging is enabled, a pty is
       required, an SELinux role is specified, the <i>command</i> has an
       associated timeout, or the <i>pam_session</i> or <i>pam_setcred</i> options are
       enabled.  Both <i>pam_session</i> and <i>pam_setcred</i> are enabled by default
       on systems using PAM.  This mode is the default for sudo versions
       prior to 1.9.14 when using the sudoers policy.

       On systems that use PAM, the security policy's close function is
       responsible for closing the PAM session.  It may also log the
       <i>command</i>'s exit status.

   <b>Signal handling</b>
       When the <i>command</i> is run as a child of the <b>sudo</b>, process, <b>sudo</b>,
       will relay signals it receives to the <i>command</i>.  The SIGINT and
       SIGQUIT signals are only relayed when the <i>command</i> is being run in
       a new pty or when the signal was sent by a user process, not the
       kernel.  This prevents the <i>command</i> from receiving SIGINT twice
       each time the user enters control-C.  Some signals, such as
       SIGSTOP and SIGKILL, cannot be caught and thus will not be
       relayed to the <i>command</i>.  As a general rule, SIGTSTP should be
       used instead of SIGSTOP when you wish to suspend a <i>command</i> being
       run by <b>sudo</b>,.

       As a special case, <b>sudo</b>, will not relay signals that were sent by
       the <i>command</i> it is running.  This prevents the <i>command</i> from
       accidentally killing itself.  On some systems, the <i>reboot</i>(8)
       utility sends SIGTERM to all non-system processes other than
       itself before rebooting the system.  This prevents <b>sudo</b>, from
       relaying the SIGTERM signal it received back to <i>reboot</i>(8), which
       might then exit before the system was actually rebooted, leaving
       it in a half-dead state similar to single user mode.  Note,
       however, that this check only applies to the <i>command</i> run by <b>sudo</b>,
       and not any other processes that the <i>command</i> may create.  As a
       result, running a script that calls <i>reboot</i>(8) or <i>shutdown</i>(8) via
       <b>sudo</b>, may cause the system to end up in this undefined state
       unless the <i>reboot</i>(8) or <i>shutdown</i>(8) are run using the <b>exec</b>()
       family of functions instead of <b>system</b>() (which interposes a shell
       between the <i>command</i> and the calling process).

   <b>Plugins</b>
       Plugins may be specified via <i>Plugin</i> directives in the
       <i>sudo.conf</i>(5) file.  They may be loaded as dynamic shared objects
       (on systems that support them), or compiled directly into the
       <b>sudo</b>, binary.  If no <i>sudo.conf</i>(5) file is present, or if it
       doesn't contain any <i>Plugin</i> lines, <b>sudo</b>, will use <i>sudoers</i>(5) for
       the policy, auditing, and I/O logging plugins.  See the
       <i>sudo.conf</i>(5) manual for details of the <i>/etc/sudo.conf</i> file and
       the <i>sudo_plugin</i>(5) manual for more information about the <b>sudo</b>,
       plugin architecture.
</pre> <h2>
EXIT VALUE </h2>
<pre>
       Upon successful execution of a <i>command</i>, the exit status from
       <b>sudo</b>, will be the exit status of the program that was executed.
       If the <i>command</i> terminated due to receipt of a signal, <b>sudo</b>, will
       send itself the same signal that terminated the <i>command</i>.

       If the <b>-l </b>option was specified without a <i>command</i>, <b>sudo</b>, will exit
       with a value of 0 if the user is allowed to run <b>sudo</b>, and they
       authenticated successfully (as required by the security policy).
       If a <i>command</i> is specified with the <b>-l </b>option, the exit value will
       only be 0 if the <i>command</i> is permitted by the security policy,
       otherwise it will be 1.

       If there is an authentication failure, a configuration/permission
       problem, or if the given <i>command</i> cannot be executed, <b>sudo</b>, exits
       with a value of 1.  In the latter case, the error string is
       printed to the standard error.  If <b>sudo</b>, cannot <i>stat</i>(2) one or
       more entries in the user's PATH, an error is printed to the
       standard error.  (If the directory does not exist or if it is not
       really a directory, the entry is ignored and no error is
       printed.)  This should not happen under normal circumstances.
       The most common reason for <i>stat</i>(2) to return “permission denied”
       is if you are running an automounter and one of the directories
       in your PATH is on a machine that is currently unreachable.
</pre> <h2>
SECURITY NOTES </h2>
<pre>
       <b>sudo</b>, tries to be safe when executing external <i>command</i>s.

       To prevent command spoofing, <b>sudo</b>, checks "." and "" (both
       denoting current directory) last when searching for a <i>command</i> in
       the user's PATH (if one or both are in the PATH).  Depending on
       the security policy, the user's PATH environment variable may be
       modified, replaced, or passed unchanged to the program that <b>sudo</b>,
       executes.

       Users should <i>never</i> be granted <b>sudo</b>, privileges to execute files
       that are writable by the user or that reside in a directory that
       is writable by the user.  If the user can modify or replace the
       <i>command</i> there is no way to limit what additional <i>command</i>s they
       can run.

       By default, <b>sudo</b>, will only log the <i>command</i> it explicitly runs.
       If a user runs a <i>command</i> such as ‘sudo su’ or ‘sudo sh’,
       subsequent <i>command</i>s run from that shell are not subject to <b>sudo</b>'s
       security policy.  The same is true for <i>command</i>s that offer shell
       escapes (including most editors).  If I/O logging is enabled,
       subsequent <i>command</i>s will have their input and/or output logged,
       but there will not be traditional logs for those <i>command</i>s.
       Because of this, care must be taken when giving users access to
       <i>command</i>s via <b>sudo</b>, to verify that the <i>command</i> does not
       inadvertently give the user an effective root shell.  For
       information on ways to address this, see the <i>Preventing shell</i>
       <i>escapes</i> section in <i>sudoers</i>(5).

       To prevent the disclosure of potentially sensitive information,
       <b>sudo</b>, disables core dumps by default while it is executing (they
       are re-enabled for the <i>command</i> that is run).  This historical
       practice dates from a time when most operating systems allowed
       set-user-ID processes to dump core by default.  To aid in
       debugging <b>sudo</b>, crashes, you may wish to re-enable core dumps by
       setting “disable_coredump” to false in the <i>sudo.conf</i>(5) file as
       follows:

           Set disable_coredump false

       See the <i>sudo.conf</i>(5) manual for more information.
</pre> <h2>
ENVIRONMENT </h2>
<pre>
       <b>sudo</b>, utilizes the following environment variables.  The security
       policy has control over the actual content of the <i>command</i>'s
       environment.

       EDITOR           Default editor to use in <b>-e </b>(sudoedit) mode if
                        neither SUDO_EDITOR nor VISUAL is set.

       MAIL             Set to the mail spool of the target user when
                        the <b>-i </b>option is specified, or when <i>env_reset</i> is
                        enabled in <i>sudoers</i> (unless MAIL is present in
                        the <i>env_keep</i> list).

       HOME             Set to the home directory of the target user
                        when the <b>-i </b>or <b>-H </b>options are specified, when
                        the <b>-s </b>option is specified and <i>set_home</i> is set
                        in <i>sudoers</i>, when <i>always_set_home</i> is enabled in
                        <i>sudoers</i>, or when <i>env_reset</i> is enabled in <i>sudoers</i>
                        and HOME is not present in the <i>env_keep</i> list.

       LOGNAME          Set to the login name of the target user when
                        the <b>-i </b>option is specified, when the <i>set_logname</i>
                        option is enabled in <i>sudoers</i>, or when the
                        <i>env_reset</i> option is enabled in <i>sudoers</i> (unless
                        LOGNAME is present in the <i>env_keep</i> list).

       PATH             May be overridden by the security policy.

       SHELL            Used to determine shell to run with <b>-s </b>option.

       SUDO_ASKPASS     Specifies the path to a helper program used to
                        read the password if no terminal is available or
                        if the <b>-A </b>option is specified.

       SUDO_COMMAND     Set to the <i>command</i> run by sudo, including any
                        <i>arg</i>s. The <i>arg</i>s are truncated at 4096 characters
                        to prevent a potential execution error.

       SUDO_EDITOR      Default editor to use in <b>-e </b>(sudoedit) mode.

       SUDO_GID         Set to the group-ID of the user who invoked
                        sudo.

       SUDO_HOME        Set to the home directory of the user who
                        invoked sudo.

       SUDO_PROMPT      Used as the default password prompt unless the
                        <b>-p </b>option was specified.

       SUDO_PS1         If set, PS1 will be set to its value for the
                        program being run.

       SUDO_UID         Set to the user-ID of the user who invoked sudo.

       SUDO_USER        Set to the login name of the user who invoked
                        sudo.

       USER             Set to the same value as LOGNAME, described
                        above.

       VISUAL           Default editor to use in <b>-e </b>(sudoedit) mode if
                        SUDO_EDITOR is not set.
</pre> <h2>
FILES </h2>
<pre>
       <i>/etc/sudo.conf</i>            <b>sudo</b>, front-end configuration
</pre> <h2>
EXAMPLES </h2>
<pre>
       The following examples assume a properly configured security
       policy.

       To get a file listing of an unreadable directory:

           $ sudo ls /usr/local/protected

       To list the home directory of user yaz on a machine where the
       file system holding ~yaz is not exported as root:

           $ sudo -u yaz ls ~yaz

       To edit the <i>index.html</i> file as user www:

           $ sudoedit -u www ~www/htdocs/index.html

       To view system logs only accessible to root and users in the adm
       group:

           $ sudo -g adm more /var/log/syslog

       To run an editor as jim with a different primary group:

           $ sudoedit -u jim -g audio ~jim/sound.txt

       To shut down a machine:

           $ sudo shutdown -r +15 "quick reboot"

       To make a usage listing of the directories in the /home
       partition.  The <i>commands</i> are run in a sub-shell to allow the ‘cd’
       command and file redirection to work.

           $ sudo sh -c "cd /home ; du -s * | sort -rn &gt; USAGE"
</pre> <h2>
DIAGNOSTICS </h2>
<pre>
       Error messages produced by <b>sudo</b>, include:

       <b>editing files in a writable directory is not permitted</b>
             By default, <b>sudoedit </b>does not permit editing a file when
             any of the parent directories are writable by the invoking
             user.  This avoids a race condition that could allow the
             user to overwrite an arbitrary file.  See the
             <i>sudoedit_checkdir</i> option in <i>sudoers</i>(5) for more
             information.

       <b>editing symbolic links is not permitted</b>
             By default, <b>sudoedit </b>does not follow symbolic links when
             opening files.  See the <i>sudoedit_follow</i> option in
             <i>sudoers</i>(5) for more information.

       <b>effective uid is not 0, is sudo installed setuid root?</b>
             <b>sudo</b>, was not run with root privileges.  The <b>sudo</b>, binary
             must be owned by the root user and have the set-user-ID bit
             set.  Also, it must not be located on a file system mounted
             with the ‘nosuid’ option or on an NFS file system that maps
             uid 0 to an unprivileged uid.

       <b>effective uid is not 0, is sudo on a file system with the</b>
             <b>'nosuid' option set or an NFS file system without root</b>
             <b>privileges?</b>
             <b>sudo</b>, was not run with root privileges.  The <b>sudo</b>, binary
             has the proper owner and permissions but it still did not
             run with root privileges.  The most common reason for this
             is that the file system the <b>sudo</b>, binary is located on is
             mounted with the ‘nosuid’ option or it is an NFS file
             system that maps uid 0 to an unprivileged uid.

       <b>fatal error, unable to load plugins</b>
             An error occurred while loading or initializing the plugins
             specified in <i>sudo.conf</i>(5).

       <b>invalid environment variable name</b>
             One or more environment variable names specified via the <b>-E</b>
             option contained an equal sign (‘=’).  The arguments to the
             <b>-E </b>option should be environment variable names without an
             associated value.

       <b>no password was provided</b>
             When <b>sudo</b>, tried to read the password, it did not receive
             any characters.  This may happen if no terminal is
             available (or the <b>-S </b>option is specified) and the standard
             input has been redirected from <i>/dev/null</i>.

       <b>a terminal is required to read the password</b>
             <b>sudo</b>, needs to read the password but there is no mechanism
             available for it to do so.  A terminal is not present to
             read the password from, <b>sudo</b>, has not been configured to
             read from the standard input, the <b>-S </b>option was not used,
             and no askpass helper has been specified either via the
             <i>sudo.conf</i>(5) file or the SUDO_ASKPASS environment variable.

       <b>no writable temporary directory found</b>
             <b>sudoedit </b>was unable to find a usable temporary directory in
             which to store its intermediate files.

       <b>The </b>“no new privileges” flag is set, which prevents sudo from
             running as root.
             <b>sudo</b>, was run by a process that has the Linux “no new
             privileges” flag is set.  This causes the set-user-ID bit
             to be ignored when running an executable, which will
             prevent <b>sudo</b>, from functioning.  The most likely cause for
             this is running <b>sudo</b>, within a container that sets this
             flag.  Check the documentation to see if it is possible to
             configure the container such that the flag is not set.

       <b>sudo must be owned by uid 0 and have the setuid bit set</b>
             <b>sudo</b>, was not run with root privileges.  The <b>sudo</b>, binary
             does not have the correct owner or permissions.  It must be
             owned by the root user and have the set-user-ID bit set.

       <b>sudoedit is not supported on this platform</b>
             It is only possible to run <b>sudoedit </b>on systems that support
             setting the effective user-ID.

       <b>timed out reading password</b>
             The user did not enter a password before the password
             timeout (5 minutes by default) expired.

       <b>you do not exist in the passwd database</b>
             Your user-ID does not appear in the system passwd database.

       <b>you may not specify environment variables in edit mode</b>
             It is only possible to specify environment variables when
             running a <i>command</i>.  When editing a file, the editor is run
             with the user's environment unmodified.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <i>su</i>(1), <i>stat</i>(2), <i>login_cap</i>(3), <i>passwd</i>(5), <i>sudo.conf</i>(5),
       <i>sudo_plugin</i>(5), <i>sudoers</i>(5), <i>sudoers_timestamp</i>(5), <i>sudoreplay</i>(8),
       <i>visudo</i>(8)
</pre> <h2>
HISTORY </h2>
<pre>
       See the HISTORY.md file in the <b>sudo</b>, distribution
       (<a href="https://www.sudo.ws/about/history/">https://www.sudo.ws/about/history/</a>) for a brief history of sudo.
</pre> <h2>
AUTHORS </h2>
<pre>
       Many people have worked on <b>sudo</b>, over the years; this version
       consists of code written primarily by:

             Todd C. Miller

       See the CONTRIBUTORS.md file in the <b>sudo</b>, distribution
       (<a href="https://www.sudo.ws/about/contributors/">https://www.sudo.ws/about/contributors/</a>) for an exhaustive list
       of people who have contributed to <b>sudo</b>,.
</pre> <h2>
CAVEATS </h2>
<pre>
       There is no easy way to prevent a user from gaining a root shell
       if that user is allowed to run arbitrary <i>commands</i> via <b>sudo</b>,.
       Also, many programs (such as editors) allow the user to run
       <i>command</i>s via shell escapes, thus avoiding <b>sudo</b>'s checks.
       However, on most systems it is possible to prevent shell escapes
       with the <i>sudoers</i>(5) plugin's <i>noexec</i> functionality.

       It is not meaningful to run the ‘cd’ <i>command</i> directly via sudo,
       e.g.,

           $ sudo cd /usr/local/protected

       since when the <i>command</i> exits the parent process (your shell) will
       still be the same.  The <b>-D </b>option can be used to run a <i>command</i> in
       a specific <i>directory</i>.

       Running shell scripts via <b>sudo</b>, can expose the same kernel bugs
       that make set-user-ID shell scripts unsafe on some operating
       systems (if your OS has a /dev/fd/ directory, set-user-ID shell
       scripts are generally safe).
</pre> <h2>
BUGS </h2>
<pre>
       If you believe you have found a bug in <b>sudo</b>,, you can either file
       a bug report in the sudo bug database, <a href="https://bugzilla.sudo.ws/">https://bugzilla.sudo.ws/</a>,
       or open an issue at <a href="https://github.com/sudo-project/sudo/issues">https://github.com/sudo-project/sudo/issues</a>.
       If you would prefer to use email, messages may be sent to the
       sudo-workers mailing list,
       <a href="https://www.sudo.ws/mailman/listinfo/sudo-workers">https://www.sudo.ws/mailman/listinfo/sudo-workers</a> (public) or
       &lt;sudo@sudo.ws&gt; (private).

       Please not report security vulnerabilities through public GitHub
       issues, Bugzilla or mailing lists.  Instead, report them via
       email to &lt;Todd.Miller@sudo.ws&gt;.  You may encrypt your message
       with PGP if you would like, using the key found at
       <a href="https://www.sudo.ws/dist/PGPKEYS">https://www.sudo.ws/dist/PGPKEYS</a>.
</pre> <h2>
SUPPORT </h2>
<pre>
       Limited free support is available via the sudo-users mailing
       list, see <a href="https://www.sudo.ws/mailman/listinfo/sudo-users">https://www.sudo.ws/mailman/listinfo/sudo-users</a> to
       subscribe or search the archives.
</pre> <h2>
DISCLAIMER </h2>
<pre>
       <b>sudo</b>, is provided “AS IS” and any express or implied warranties,
       including, but not limited to, the implied warranties of
       merchantability and fitness for a particular purpose are
       disclaimed.  See the LICENSE.md file distributed with <b>sudo</b>, or
       <a href="https://www.sudo.ws/about/license/">https://www.sudo.ws/about/license/</a> for complete details.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>sudo</i> (execute a command as another user)
       project.  Information about the project can be found at
       <a href="https://www.sudo.ws/">https://www.sudo.ws/</a>.  If you have a bug report for this manual
       page, see ⟨<a href="https://bugzilla.sudo.ws/">https://bugzilla.sudo.ws/</a>⟩.  This page was obtained
       from the project's upstream Git repository
       ⟨<a href="https://github.com/sudo-project/sudo">https://github.com/sudo-project/sudo</a>⟩ on 2024-06-14.  (At that
       time, the date of the most recent commit that was found in the
       repository was 2024-06-08.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Sudo 1.9.16                  August 9, 2023                      <i>SUDO</i>(8)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/sudoedit.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/sudoedit.8.html</a>
  </p>
</div>
