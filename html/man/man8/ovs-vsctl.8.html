<h1>ovs-vsctl(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>ovs-vsctl</i>(8)               Open vSwitch Manual              <i>ovs-vsctl</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       ovs-vsctl - utility for querying and configuring <b>ovs-vswitchd</b>
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>ovs-vsctl </b>[<i>options</i>] <b>-- </b>[<i>options</i>] <i>command</i> [<i>args</i>] [<b>-- </b>[<i>options</i>]
       <i>command</i> [<i>args</i>]]...
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <b>ovs-vsctl </b>program configures <a href="ovs-vswitchd.8.html">ovs-vswitchd(8)</a> by providing a
       high-level interface to its configuration database.  See
       <a href="../man5/ovs-vswitchd.conf.db.5.html">ovs-vswitchd.conf.db(5)</a> for comprehensive documentation of the
       database schema.

       <b>ovs-vsctl </b>connects to an <b>ovsdb-server </b>process that maintains an
       Open vSwitch configuration database.  Using this connection, it
       queries and possibly applies changes to the database, depending
       on the supplied commands.  Then, if it applied any changes, by
       default it waits until <b>ovs-vswitchd </b>has finished reconfiguring
       itself before it exits.  (If you use <b>ovs-vsctl </b>when <b>ovs-vswitchd</b>
       is not running, use <b>--no-wait</b>.)

       <b>ovs-vsctl </b>can perform any number of commands in a single run,
       implemented as a single atomic transaction against the database.

       The <b>ovs-vsctl </b>command line begins with global options (see
       <b>OPTIONS </b>below for details).  The global options are followed by
       one or more commands.  Each command should begin with <b>-- </b>by
       itself as a command-line argument, to separate it from the
       following commands.  (The <b>-- </b>before the first command is
       optional.)  The command itself starts with command-specific
       options, if any, followed by the command name and any arguments.
       See <b>EXAMPLES </b>below for syntax examples.

   <b>Linux VLAN Bridging Compatibility</b>
       The <b>ovs-vsctl </b>program supports the model of a bridge implemented
       by Open vSwitch, in which a single bridge supports ports on
       multiple VLANs.  In this model, each port on a bridge is either a
       trunk port that potentially passes packets tagged with 802.1Q
       headers that designate VLANs or it is assigned a single implicit
       VLAN that is never tagged with an 802.1Q header.

       For compatibility with software designed for the Linux bridge,
       <b>ovs-vsctl </b>also supports a model in which traffic associated with
       a given 802.1Q VLAN is segregated into a separate bridge.  A
       special form of the <b>add-br </b>command (see below) creates a ``fake
       bridge'' within an Open vSwitch bridge to simulate this behavior.
       When such a ``fake bridge'' is active, <b>ovs-vsctl </b>will treat it
       much like a bridge separate from its ``parent bridge,'' but the
       actual implementation in Open vSwitch uses only a single bridge,
       with ports on the fake bridge assigned the implicit VLAN of the
       fake bridge of which they are members.  (A fake bridge for VLAN 0
       receives packets that have no 802.1Q tag or a tag with VLAN 0.)
</pre> <h2>
OPTIONS </h2>
<pre>
       The following options affect the behavior <b>ovs-vsctl </b>as a whole.
       Some individual commands also accept their own options, which are
       given just before the command name.  If the first command on the
       command line has options, then those options must be separated
       from the global options by <b>--</b>.

       <b>--db=</b><i>server</i>
              Sets <i>server</i> as the database server that <b>ovs-vsctl </b>contacts
              to query or modify configuration.  <i>server</i> may be an OVSDB
              active or passive connection method, as described in
              <a href="../man7/ovsdb.7.html">ovsdb(7)</a>.  The default is
              <b>unix:/usr/local/var/run/openvswitch/db.sock</b>.

       <b>--no-wait</b>
              Prevents <b>ovs-vsctl </b>from waiting for <b>ovs-vswitchd </b>to
              reconfigure itself according to the modified database.
              This option should be used if <b>ovs-vswitchd </b>is not running;
              otherwise, <b>ovs-vsctl </b>will not exit until <b>ovs-vswitchd</b>
              starts.

              This option has no effect if the commands specified do not
              change the database.

       <b>--no-syslog</b>
              By default, <b>ovs-vsctl </b>logs its arguments and the details
              of any changes that it makes to the system log.  This
              option disables this logging.

              This option is equivalent to <b>--verbose=vsctl:syslog:warn</b>.

       <b>--oneline</b>
              Modifies the output format so that the output for each
              command is printed on a single line.  New-line characters
              that would otherwise separate lines are printed as <b>\n</b>, and
              any instances of <b>\ </b>that would otherwise appear in the
              output are doubled.  Prints a blank line for each command
              that has no output.  This option does not affect the
              formatting of output from the <b>list </b>or <b>find </b>commands; see
              <b>Table Formatting Options </b>below.

       <b>--dry-run</b>
              Prevents <b>ovs-vsctl </b>from actually modifying the database.

       <b>-t </b><i>secs</i>
       <b>--timeout=</b><i>secs</i>
              By default, or with a <i>secs</i> of <b>0</b>, <b>ovs-vsctl </b>waits forever
              for a response from the database.  This option limits
              runtime to approximately <i>secs</i> seconds.  If the timeout
              expires, <b>ovs-vsctl </b>will exit with a <b>SIGALRM </b>signal.  (A
              timeout would normally happen only if the database cannot
              be contacted, or if the system is overloaded.)

       <b>--retry</b>
              Without this option, if <b>ovs-vsctl </b>connects outward to the
              database server (the default) then <b>ovs-vsctl </b>will try to
              connect once and exit with an error if the connection
              fails (which usually means that <b>ovsdb-server </b>is not
              running).

              With this option, or if <b>--db </b>specifies that <b>ovs-vsctl</b>
              should listen for an incoming connection from the database
              server, then <b>ovs-vsctl </b>will wait for a connection to the
              database forever.

              Regardless of this setting, <b>--timeout </b>always limits how
              long <b>ovs-vsctl </b>will wait.

   <b>Table Formatting Options</b>
       These options control the format of output from the <b>list </b>and <b>find</b>
       commands.

       <b>-f </b><i>format</i>
       <b>--format=</b><i>format</i>
              Sets the type of table formatting.  The following types of
              <i>format</i> are available:

              <b>table  </b>2-D text tables with aligned columns.

              <b>list </b>(default)
                     A list with one column per line and rows separated
                     by a blank line.

              <b>html   </b>HTML tables.

              <b>csv    </b>Comma-separated values as defined in RFC 4180.

              <b>json   </b>JSON format as defined in RFC 4627.  The output is
                     a sequence of JSON objects, each of which
                     corresponds to one table.  Each JSON object has the
                     following members with the noted values:

                     <b>caption</b>
                            The table's caption.  This member is omitted
                            if the table has no caption.

                     <b>headings</b>
                            An array with one element per table column.
                            Each array element is a string giving the
                            corresponding column's heading.

                     <b>data   </b>An array with one element per table row.
                            Each element is also an array with one
                            element per table column.  The elements of
                            this second-level array are the cells that
                            constitute the table.  Cells that represent
                            OVSDB data or data types are expressed in
                            the format described in the OVSDB
                            specification; other cells are simply
                            expressed as text strings.

       <b>-d </b><i>format</i>
       <b>--data=</b><i>format</i>
              Sets the formatting for cells within output tables unless
              the table format is set to <b>json</b>, in which case <b>json</b>
              formatting is always used when formatting cells.  The
              following types of <i>format</i> are available:

              <b>string </b>(default)
                     The simple format described in the <b>Database Values</b>
                     section below.

              <b>bare   </b>The simple format with punctuation stripped off: <b>[]</b>
                     and <b>{} </b>are omitted around sets, maps, and empty
                     columns, items within sets and maps are space-
                     separated, and strings are never quoted.  This
                     format may be easier for scripts to parse.

              <b>json   </b>The RFC 4627 JSON format as described above.

       <b>--no-headings</b>
              This option suppresses the heading row that otherwise
              appears in the first row of table output.

       <b>--pretty</b>
              By default, JSON in output is printed as compactly as
              possible.  This option causes JSON in output to be printed
              in a more readable fashion.  Members of objects and
              elements of arrays are printed one per line, with
              indentation.

              This option does not affect JSON in tables, which is
              always printed compactly.

       <b>--bare </b>Equivalent to <b>--format=list --data=bare --no-headings</b>.

       <b>--max-column-width=</b><i>n</i>
              For table output only, limits the width of any column in
              the output to <i>n</i> columns.  Longer cell data is truncated to
              fit, as necessary.  Columns are always wide enough to
              display the column names, if the heading row is printed.

   <b>Public Key Infrastructure Options</b>
       <b>-p </b><i>privkey.pem</i>
       <b>--private-key=</b><i>privkey.pem</i>
              Specifies a PEM file containing the private key used as
              <b>ovs-vsctl</b>'s identity for outgoing SSL connections.

       <b>-c </b><i>cert.pem</i>
       <b>--certificate=</b><i>cert.pem</i>
              Specifies a PEM file containing a certificate that
              certifies the private key specified on <b>-p </b>or <b>--private-key</b>
              to be trustworthy.  The certificate must be signed by the
              certificate authority (CA) that the peer in SSL
              connections will use to verify it.

       <b>-C </b><i>cacert.pem</i>
       <b>--ca-cert=</b><i>cacert.pem</i>
              Specifies a PEM file containing the CA certificate that
              <b>ovs-vsctl </b>should use to verify certificates presented to
              it by SSL peers.  (This may be the same certificate that
              SSL peers use to verify the certificate specified on <b>-c </b>or
              <b>--certificate</b>, or it may be a different one, depending on
              the PKI design in use.)

       <b>-C none</b>
       <b>--ca-cert=none</b>
              Disables verification of certificates presented by SSL
              peers.  This introduces a security risk, because it means
              that certificates cannot be verified to be those of known
              trusted hosts.

       <b>--bootstrap-ca-cert=</b><i>cacert.pem</i>
              When <i>cacert.pem</i> exists, this option has the same effect as
              <b>-C </b>or <b>--ca-cert</b>.  If it does not exist, then <b>ovs-vsctl</b>
              will attempt to obtain the CA certificate from the SSL
              peer on its first SSL connection and save it to the named
              PEM file.  If it is successful, it will immediately drop
              the connection and reconnect, and from then on all SSL
              connections must be authenticated by a certificate signed
              by the CA certificate thus obtained.

              <b>This option exposes the SSL connection to a man-in-the-</b>
              <b>middle attack obtaining the initial CA certificate</b>, but it
              may be useful for bootstrapping.

              This option is only useful if the SSL peer sends its CA
              certificate as part of the SSL certificate chain.  The SSL
              protocol does not require the server to send the CA
              certificate.

              This option is mutually exclusive with <b>-C </b>and <b>--ca-cert</b>.

       <b>--peer-ca-cert=</b><i>peer-cacert.pem</i>
              Specifies a PEM file that contains one or more additional
              certificates to send to SSL peers.  <i>peer-cacert.pem</i> should
              be the CA certificate used to sign <b>ovs-vsctl</b>'s own
              certificate, that is, the certificate specified on <b>-c </b>or
              <b>--certificate</b>.  If <b>ovs-vsctl</b>'s certificate is self-signed,
              then <b>--certificate </b>and <b>--peer-ca-cert </b>should specify the
              same file.

              This option is not useful in normal operation, because the
              SSL peer must already have the CA certificate for the peer
              to have any confidence in <b>ovs-vsctl</b>'s identity.  However,
              this offers a way for a new installation to bootstrap the
              CA certificate on its first SSL connection.

       <b>-v</b>[<i>spec</i>]
       <b>--verbose=</b>[<i>spec</i>]
              Sets logging levels.  Without any <i>spec</i>, sets the log level
              for every module and destination to <b>dbg</b>.  Otherwise, <i>spec</i>
              is a list of words separated by spaces or commas or
              colons, up to one from each category below:

              •      A valid module name, as displayed by the <b>vlog/list</b>
                     command on <a href="ovs-appctl.8.html">ovs-appctl(8)</a>, limits the log level
                     change to the specified module.

              •      <b>syslog</b>, <b>console</b>, or <b>file</b>, to limit the log level
                     change to only to the system log, to the console,
                     or to a file, respectively.  (If <b>--detach </b>is
                     specified, <b>ovs-vsctl </b>closes its standard file
                     descriptors, so logging to the console will have no
                     effect.)

                     On Windows platform, <b>syslog </b>is accepted as a word
                     and is only useful along with the <b>--syslog-target</b>
                     option (the word has no effect otherwise).

              •      <b>off</b>, <b>emer</b>, <b>err</b>, <b>warn</b>, <b>info</b>, or <b>dbg</b>, to control the
                     log level.  Messages of the given severity or
                     higher will be logged, and messages of lower
                     severity will be filtered out.  <b>off </b>filters out all
                     messages.  See <a href="ovs-appctl.8.html">ovs-appctl(8)</a> for a definition of
                     each log level.

              Case is not significant within <i>spec</i>.

              Regardless of the log levels set for <b>file</b>, logging to a
              file will not take place unless <b>--log-file </b>is also
              specified (see below).

              For compatibility with older versions of OVS, <b>any </b>is
              accepted as a word but has no effect.

       <b>-v</b>
       <b>--verbose</b>
              Sets the maximum logging verbosity level, equivalent to
              <b>--verbose=dbg</b>.

       <b>-vPATTERN:</b><i>destination</i><b>:</b><i>pattern</i>
       <b>--verbose=PATTERN:</b><i>destination</i><b>:</b><i>pattern</i>
              Sets the log pattern for <i>destination</i> to <i>pattern</i>.  Refer to
              <a href="ovs-appctl.8.html">ovs-appctl(8)</a> for a description of the valid syntax for
              <i>pattern</i>.

       <b>-vFACILITY:</b><i>facility</i>
       <b>--verbose=FACILITY:</b><i>facility</i>
              Sets the RFC5424 facility of the log message. <i>facility</i> can
              be one of <b>kern</b>, <b>user</b>, <b>mail</b>, <b>daemon</b>, <b>auth</b>, <b>syslog</b>, <b>lpr</b>,
              <b>news</b>, <b>uucp</b>, <b>clock</b>, <b>ftp</b>, <b>ntp</b>, <b>audit</b>, <b>alert</b>, <b>clock2</b>, <b>local0</b>,
              <b>local1</b>, <b>local2</b>, <b>local3</b>, <b>local4</b>, <b>local5</b>, <b>local6 </b>or <b>local7</b>.
              If this option is not specified, <b>daemon </b>is used as the
              default for the local system syslog and <b>local0 </b>is used
              while sending a message to the target provided via the
              <b>--syslog-target </b>option.

       <b>--log-file</b>[<b>=</b><i>file</i>]
              Enables logging to a file.  If <i>file</i> is specified, then it
              is used as the exact name for the log file.  The default
              log file name used if <i>file</i> is omitted is
              <b>/usr/local/var/log/openvswitch/ovs-vsctl.log</b>.

       <b>--syslog-target=</b><i>host</i><b>:</b><i>port</i>
              Send syslog messages to UDP <i>port</i> on <i>host</i>, in addition to
              the system syslog.  The <i>host</i> must be a numerical IP
              address, not a hostname.

       <b>--syslog-method=</b><i>method</i>
              Specify <i>method</i> how syslog messages should be sent to
              syslog daemon.  Following forms are supported:

              •      <b>libc</b>, use libc <b>syslog() </b>function.  Downside of
                     using this options is that libc adds fixed prefix
                     to every message before it is actually sent to the
                     syslog daemon over <b>/dev/log </b>UNIX domain socket.

              •      <b>unix:</b><i>file</i>, use UNIX domain socket directly.  It is
                     possible to specify arbitrary message format with
                     this option.  However, <b>rsyslogd 8.9 </b>and older
                     versions use hard coded parser function anyway that
                     limits UNIX domain socket use.  If you want to use
                     arbitrary message format with older <b>rsyslogd</b>
                     versions, then use UDP socket to localhost IP
                     address instead.

              •      <b>udp:</b><i>ip</i>:<i>port</i>, use UDP socket.  With this method it
                     is possible to use arbitrary message format also
                     with older <b>rsyslogd</b>.  When sending syslog messages
                     over UDP socket extra precaution needs to be taken
                     into account, for example, syslog daemon needs to
                     be configured to listen on the specified UDP port,
                     accidental iptables rules could be interfering with
                     local syslog traffic and there are some security
                     considerations that apply to UDP sockets, but do
                     not apply to UNIX domain sockets.

              •      <b>null</b>, discards all messages logged to syslog.

              The default is taken from the <b>OVS_SYSLOG_METHOD</b>
              environment variable; if it is unset, the default is <b>libc</b>.

       <b>-h</b>
       <b>--help </b>Prints a brief help message to the console.

       <b>-V</b>
       <b>--version</b>
              Prints version information to the console.
</pre> <h2>
COMMANDS </h2>
<pre>
       The commands implemented by <b>ovs-vsctl </b>are described in the
       sections below.

   <b>Open vSwitch Commands</b>
       These commands work with an Open vSwitch as a whole.

       <b>init   </b>Initializes the Open vSwitch database, if it is empty.  If
              the database has already been initialized, this command
              has no effect.

              Any successful <b>ovs-vsctl </b>command automatically initializes
              the Open vSwitch database if it is empty.  This command is
              provided to initialize the database without executing any
              other command.

       <b>show   </b>Prints a brief overview of the database contents.

       <b>emer-reset</b>
              Reset the configuration into a clean state.  It
              deconfigures OpenFlow controllers, OVSDB servers, and SSL,
              and deletes port mirroring, <b>fail_mode</b>, NetFlow, sFlow, and
              IPFIX configuration.  This command also removes all
              <b>other-config </b>keys from all database records, except that
              <b>other-config:hwaddr </b>is preserved if it is present in a
              Bridge record.  Other networking configuration is left as-
              is.

   <b>Bridge Commands</b>
       These commands examine and manipulate Open vSwitch bridges.

       [<b>--may-exist</b>] <b>add-br </b><i>bridge</i>
              Creates a new bridge named <i>bridge</i>.  Initially the bridge
              will have no ports (other than <i>bridge</i> itself).

              Without <b>--may-exist</b>, attempting to create a bridge that
              exists is an error.  With <b>--may-exist</b>, this command does
              nothing if <i>bridge</i> already exists as a real bridge.

       [<b>--may-exist</b>] <b>add-br </b><i>bridge parent vlan</i>
              Creates a ``fake bridge'' named <i>bridge</i> within the existing
              Open vSwitch bridge <i>parent</i>, which must already exist and
              must not itself be a fake bridge.  The new fake bridge
              will be on 802.1Q VLAN <i>vlan</i>, which must be an integer
              between 0 and 4095.  The parent bridge must not already
              have a fake bridge for <i>vlan</i>.  Initially <i>bridge</i> will have
              no ports (other than <i>bridge</i> itself).

              Without <b>--may-exist</b>, attempting to create a bridge that
              exists is an error.  With <b>--may-exist</b>, this command does
              nothing if <i>bridge</i> already exists as a VLAN bridge under
              <i>parent</i> for <i>vlan</i>.

       [<b>--if-exists</b>] <b>del-br </b><i>bridge</i>
              Deletes <i>bridge</i> and all of its ports.  If <i>bridge</i> is a real
              bridge, this command also deletes any fake bridges that
              were created with <i>bridge</i> as parent, including all of their
              ports.

              Without <b>--if-exists</b>, attempting to delete a bridge that
              does not exist is an error.  With <b>--if-exists</b>, attempting
              to delete a bridge that does not exist has no effect.

       [<b>--real</b>|<b>--fake</b>] <b>list-br</b>
              Lists all existing real and fake bridges on standard
              output, one per line.  With <b>--real </b>or <b>--fake</b>, only bridges
              of that type are returned.

       <b>br-exists </b><i>bridge</i>
              Tests whether <i>bridge</i> exists as a real or fake bridge.  If
              so, <b>ovs-vsctl </b>exits successfully with exit code 0.  If
              not, <b>ovs-vsctl </b>exits unsuccessfully with exit code 2.

       <b>br-to-vlan </b><i>bridge</i>
              If <i>bridge</i> is a fake bridge, prints the bridge's 802.1Q
              VLAN as a decimal integer.  If <i>bridge</i> is a real bridge,
              prints 0.

       <b>br-to-parent </b><i>bridge</i>
              If <i>bridge</i> is a fake bridge, prints the name of its parent
              bridge.  If <i>bridge</i> is a real bridge, print <i>bridge</i>.

       <b>br-set-external-id </b><i>bridge key</i> [<i>value</i>]
              Sets or clears an ``external ID'' value on <i>bridge</i>.  These
              values are intended to identify entities external to Open
              vSwitch with which <i>bridge</i> is associated, e.g. the bridge's
              identifier in a virtualization management platform.  The
              Open vSwitch database schema specifies well-known <i>key</i>
              values, but <i>key</i> and <i>value</i> are otherwise arbitrary strings.

              If <i>value</i> is specified, then <i>key</i> is set to <i>value</i> for
              <i>bridge</i>, overwriting any previous value.  If <i>value</i> is
              omitted, then <i>key</i> is removed from <i>bridge</i>'s set of external
              IDs (if it was present).

              For real bridges, the effect of this command is similar to
              that of a <b>set </b>or <b>remove </b>command in the <b>external-ids </b>column
              of the <b>Bridge </b>table.  For fake bridges, it actually
              modifies keys with names prefixed by <b>fake-bridge- </b>in the
              <b>Port </b>table.

       <b>br-get-external-id </b><i>bridge</i> [<i>key</i>]
              Queries the external IDs on <i>bridge</i>.  If <i>key</i> is specified,
              the output is the value for that <i>key</i> or the empty string
              if <i>key</i> is unset.  If <i>key</i> is omitted, the output is
              <i>key</i><b>=</b><i>value</i>, one per line, for each key-value pair.

              For real bridges, the effect of this command is similar to
              that of a <b>get </b>command in the <b>external-ids </b>column of the
              <b>Bridge </b>table.  For fake bridges, it queries keys with
              names prefixed by <b>fake-bridge- </b>in the <b>Port </b>table.

   <b>Port Commands</b>
       These commands examine and manipulate Open vSwitch ports.  These
       commands treat a bonded port as a single entity.

       <b>list-ports </b><i>bridge</i>
              Lists all of the ports within <i>bridge</i> on standard output,
              one per line.  The local port <i>bridge</i> is not included in
              the list.

       [<b>--may-exist</b>] <b>add-port </b><i>bridge port</i> [<i>column</i>[<b>:</b><i>key</i>]=<i>value</i>]...
              Creates on <i>bridge</i> a new port named <i>port</i> from the network
              device of the same name.

              Optional arguments set values of column in the Port record
              created by the command.  For example, <b>tag=9 </b>would make the
              port an access port for VLAN 9.  The syntax is the same as
              that for the <b>set </b>command (see <b>Database Commands </b>below).

              Without <b>--may-exist</b>, attempting to create a port that
              exists is an error.  With <b>--may-exist</b>, this command does
              nothing if <i>port</i> already exists on <i>bridge</i> and is not a
              bonded port.

       [<b>--if-exists</b>] <b>del-port </b>[<i>bridge</i>] <i>port</i>
              Deletes <i>port</i>.  If <i>bridge</i> is omitted, <i>port</i> is removed from
              whatever bridge contains it; if <i>bridge</i> is specified, it
              must be the real or fake bridge that contains <i>port</i>.

              Without <b>--if-exists</b>, attempting to delete a port that does
              not exist is an error.  With <b>--if-exists</b>, attempting to
              delete a port that does not exist has no effect.

       [<b>--if-exists</b>] <b>--with-iface del-port </b>[<i>bridge</i>] <i>iface</i>
              Deletes the port named <i>iface</i> or that has an interface
              named <i>iface</i>.  If <i>bridge</i> is omitted, the port is removed
              from whatever bridge contains it; if <i>bridge</i> is specified,
              it must be the real or fake bridge that contains the port.

              Without <b>--if-exists</b>, attempting to delete the port for an
              interface that does not exist is an error.  With
              <b>--if-exists</b>, attempting to delete the port for an
              interface that does not exist has no effect.

       <b>port-to-br </b><i>port</i>
              Prints the name of the bridge that contains <i>port</i> on
              standard output.

   <b>Bond Commands</b>
       These commands work with ports that have more than one interface,
       which Open vSwitch calls ``bonds.''

       [<b>--fake-iface</b>] <b>add-bond </b><i>bridge port iface</i>...
       [<i>column</i>[<b>:</b><i>key</i>]=<i>value</i>]...
              Creates on <i>bridge</i> a new port named <i>port</i> that bonds
              together the network devices given as each <i>iface</i>.  At
              least two interfaces must be named.  If the interfaces are
              DPDK enabled then the transaction will need to include
              operations to explicitly set the interface type to 'dpdk'.

              Optional arguments set values of column in the Port record
              created by the command.  The syntax is the same as that
              for the <b>set </b>command (see <b>Database Commands </b>below).

              With <b>--fake-iface</b>, a fake interface with the name <i>port</i> is
              created.  This should only be used for compatibility with
              legacy software that requires it.

              Without <b>--may-exist</b>, attempting to create a port that
              exists is an error.  With <b>--may-exist</b>, this command does
              nothing if <i>port</i> already exists on <i>bridge</i> and bonds
              together exactly the specified interfaces.

       [<b>--may-exist</b>] <b>add-bond-iface </b><i>bond iface</i>
              Adds <i>iface</i> as a new bond interface to the existing port
              <i>bond</i>.  If <i>bond</i> previously had only one port, this
              transforms it into a bond.

              Without <b>--may-exist</b>, attempting to add an <i>iface</i> that is
              already part of <i>bond</i> is an error.  With <b>--may-exist</b>, this
              command does nothing if <i>iface</i> is already part of <i>bond</i>.
              (It is still an error if <i>iface</i> is an interface of some
              other port or bond.)

       [<b>--if-exists</b>] <b>del-bond-iface </b>[<i>bond</i>] <i>iface</i>
              Removes <i>iface</i> from its port.  If <i>bond</i> is omitted, <i>iface</i> is
              removed from whatever port contains it; if <i>bond</i> is
              specified, it must be the port that contains <i>bond</i>.

              If removing <i>iface</i> causes its port to have only a single
              interface, then that port transforms from a bond into an
              ordinary port.  It is an error if <i>iface</i> is the only
              interface in its port.

              Without <b>--if-exists</b>, attempting to delete an interface
              that does not exist is an error.  With <b>--if-exists</b>,
              attempting to delete an interface that does not exist has
              no effect.

   <b>Interface Commands</b>
       These commands examine the interfaces attached to an Open vSwitch
       bridge.  These commands treat a bonded port as a collection of
       two or more interfaces, rather than as a single port.

       <b>list-ifaces </b><i>bridge</i>
              Lists all of the interfaces within <i>bridge</i> on standard
              output, one per line.  The local port <i>bridge</i> is not
              included in the list.

       <b>iface-to-br </b><i>iface</i>
              Prints the name of the bridge that contains <i>iface</i> on
              standard output.

   <b>Conntrack Zone Commands</b>
       These commands query and modify datapath CT zones, Timeout
       Policies and Limits.

       [<b>--may-exist</b>] <b>add-zone-tp </b><i>datapath</i> <b>zone=</b><i>zone_id policies</i>
              Creates a conntrack zone timeout policy with <i>zone_id</i> in
              <i>datapath</i>.  The <i>policies</i> consist of <i>key</i><b>=</b><i>value</i> pairs,
              separated by spaces.  For example, <b>icmp_first=30</b>
              <b>icmp_reply=60 </b>specifies a 30-second timeout policy for the
              first ICMP packet and a 60-second policy for ICMP reply
              packets.  See the <b>CT_Timeout_Policy </b>table in
              <a href="../man5/ovs-vswitchd.conf.db.5.html">ovs-vswitchd.conf.db(5)</a> for the supported keys.

              Without <b>--may-exist</b>, attempting to add a <i>policy</i> for
              <i>zone_id</i> that already has a policy is an error.
               With <b>--may-exist</b>, this command does nothing if policy for
               <i>zone_id</i> already exists.

       [<b>--if-exists</b>] <b>del-zone-tp </b><i>datapath</i> <b>zone=</b><i>zone_id</i>
              Delete the timeout policy associated with <i>zone_id</i> from
              <i>datapath</i>.

              Without <b>--if-exists</b>, attempting to delete a policy for
              zone that does not exist or doesn't have a policy is an
              error.  With <b>--if-exists</b>, attempting to delete a a policy
              that does not exist has no effect.

       <b>list-zone-tp </b><i>datapath</i>
              Prints the timeout policies of all zones in <i>datapath</i>.

       <b>set-zone-limit </b><i>datapath zone_id</i>|<b>default </b><i>zone_limit</i>
              Sets a conntrack zone limit with <i>zone_id</i>|<i>default</i> in
              <i>datapath</i>.  The <i>limit</i> with value <b>0 </b>means unlimited.

       [<b>--if-exists</b>] <b>del-zone-limit </b><i>datapath zone_id</i>|<b>default</b>
              Delete the limit associated with <i>zone_id</i> from <i>datapath</i>.

              Without <b>--if-exists</b>, attempting to delete a limit for zone
              that does not exist or doesn't have a limit is an error.
              With <b>--if-exists</b>, attempting to delete a limit that does
              not exist has no effect.

       <b>list-zone-limits </b><i>datapath</i>
              Prints the limits of all zones in <i>datapath</i>.

   <b>Datapath Capabilities Command</b>
       The command query datapath capabilities.

       <b>list-dp-cap </b><i>datapath</i>
              Prints the datapath's capabilities.

   <b>OpenFlow Controller Connectivity</b>
       <b>ovs-vswitchd </b>can perform all configured bridging and switching
       locally, or it can be configured to communicate with one or more
       external OpenFlow controllers.  The switch is typically
       configured to connect to a primary controller that takes charge
       of the bridge's flow table to implement a network policy.  In
       addition, the switch can be configured to listen to connections
       from service controllers.  Service controllers are typically used
       for occasional support and maintenance, e.g. with <b>ovs-ofctl</b>.

       <b>get-controller </b><i>bridge</i>
              Prints the configured controller target.

       <b>del-controller </b><i>bridge</i>
              Deletes the configured controller target.

       <b>set-controller </b><i>bridge target</i>...
              Sets the configured controller target or targets.  Each
              <i>target</i> may use any of the following forms:

              <b>ssl:</b><i>host</i>[<b>:</b><i>port</i>]
              <b>tcp:</b><i>host</i>[<b>:</b><i>port</i>]
                     The specified <i>port</i> on the given <i>host</i>, which can be
                     expressed either as a DNS name (if built with
                     unbound library) or an IP address in IPv4 or IPv6
                     address format.  Wrap IPv6 addresses in square
                     brackets, e.g. <b>tcp:[::1]:6653</b>.  On Linux, use
                     <b>%</b><i>device</i> to designate a scope for IPv6 link-level
                     addresses, e.g. <b>tcp:[fe80::1234%eth0]:6653</b>.  For
                     <b>ssl</b>, the <b>--private-key</b>, <b>--certificate</b>, and
                     <b>--ca-cert </b>options are mandatory.

                     If <i>port</i> is not specified, it defaults to 6653.

              <b>unix:</b><i>file</i>
                     On POSIX, a Unix domain server socket named <i>file</i>.

                     On Windows, connect to a local named pipe that is
                     represented by a file created in the path <i>file</i> to
                     mimic the behavior of a Unix domain socket.

              <b>pssl:</b>[<i>port</i>][<b>:</b><i>host</i>]
              <b>ptcp:</b>[<i>port</i>][<b>:</b><i>host</i>]
                     Listens for OpenFlow connections on <i>port</i>.  The
                     default <i>port</i> is 6653.  By default, connections are
                     allowed from any IPv4 address.  Specify <i>host</i> as an
                     IPv4 address or a bracketed IPv6 address (e.g.
                     <b>ptcp:6653:[::1]</b>).  On Linux, use <b>%</b><i>device</i> to
                     designate a scope for IPv6 link-level addresses,
                     e.g. <b>ptcp:6653:[fe80::1234%eth0]</b>.  DNS names can be
                     used if built with unbound library.  For <b>pssl</b>, the
                     <b>--private-key</b>,<b>--certificate</b>, and <b>--ca-cert </b>options
                     are mandatory.

              <b>punix:</b><i>file</i>
                     Listens for OpenFlow connections on the Unix domain
                     server socket named <i>file</i>.

     <i>Controller Failure Settings</i>

       When a controller is configured, it is, ordinarily, responsible
       for setting up all flows on the switch.  Thus, if the connection
       to the controller fails, no new network connections can be set
       up.  If the connection to the controller stays down long enough,
       no packets can pass through the switch at all.

       If the value is <b>standalone</b>, or if neither of these settings is
       set, <b>ovs-vswitchd </b>will take over responsibility for setting up
       flows when no message has been received from the controller for
       three times the inactivity probe interval.  In this mode,
       <b>ovs-vswitchd </b>causes the datapath to act like an ordinary MAC-
       learning switch.  <b>ovs-vswitchd </b>will continue to retry connecting
       to the controller in the background and, when the connection
       succeeds, it discontinues its standalone behavior.

       If this option is set to <b>secure</b>, <b>ovs-vswitchd </b>will not set up
       flows on its own when the controller connection fails.

       <b>get-fail-mode </b><i>bridge</i>
              Prints the configured failure mode.

       <b>del-fail-mode </b><i>bridge</i>
              Deletes the configured failure mode.

       <b>set-fail-mode </b><i>bridge</i> <b>standalone</b>|<b>secure</b>
              Sets the configured failure mode.

   <b>Manager Connectivity</b>
       These commands manipulate the <b>manager_options </b>column in the
       <b>Open_vSwitch </b>table and rows in the <b>Managers </b>table.  When
       <b>ovsdb-server </b>is configured to use the <b>manager_options </b>column for
       OVSDB connections (as described in the startup scripts provided
       with Open vSwitch; the corresponding <b>ovsdb-server </b>command option
       is <b>--remote=db:Open_vSwitch,Open_vSwitch,manager_options</b>), this
       allows the administrator to use <b>ovs-vsctl </b>to configure database
       connections.

       <b>get-manager</b>
              Prints the configured manager(s).

       <b>del-manager</b>
              Deletes the configured manager(s).

       <b>set-manager </b><i>target</i>...
              Sets the configured manager target or targets.  Each
              <i>target</i> may be an OVSDB active or passive connection
              method, e.g. <b>pssl:6640</b>, as described in <a href="../man7/ovsdb.7.html">ovsdb(7)</a>.

   <b>SSL Configuration</b>
       When <b>ovs-vswitchd </b>is configured to connect over SSL for
       management or controller connectivity, the following parameters
       are required:

       <i>private-key</i>
              Specifies a PEM file containing the private key used as
              the virtual switch's identity for SSL connections to the
              controller.

       <i>certificate</i>
              Specifies a PEM file containing a certificate, signed by
              the certificate authority (CA) used by the controller and
              manager, that certifies the virtual switch's private key,
              identifying a trustworthy switch.

       <i>ca-cert</i>
              Specifies a PEM file containing the CA certificate used to
              verify that the virtual switch is connected to a
              trustworthy controller.

       These files are read only once, at <b>ovs-vswitchd </b>startup time.  If
       their contents change, <b>ovs-vswitchd </b>must be killed and restarted.

       These SSL settings apply to all SSL connections made by the
       virtual switch.

       <b>get-ssl</b>
              Prints the SSL configuration.

       <b>del-ssl</b>
              Deletes the current SSL configuration.

       [<b>--bootstrap</b>] <b>set-ssl </b><i>private-key certificate ca-cert</i>
              Sets the SSL configuration.  The <b>--bootstrap </b>option is
              described below.

     <i>CA Certificate Bootstrap</i>

       Ordinarily, all of the files named in the SSL configuration must
       exist when <b>ovs-vswitchd </b>starts.  However, if the <i>ca-cert</i> file
       does not exist and the <b>--bootstrap </b>option is given, then
       <b>ovs-vswitchd </b>will attempt to obtain the CA certificate from the
       controller on its first SSL connection and save it to the named
       PEM file.  If it is successful, it will immediately drop the
       connection and reconnect, and from then on all SSL connections
       must be authenticated by a certificate signed by the CA
       certificate thus obtained.

       <b>This option exposes the SSL connection to a man-in-the-middle</b>
       <b>attack obtaining the initial CA certificate</b>, but it may be useful
       for bootstrapping.

       This option is only useful if the controller sends its CA
       certificate as part of the SSL certificate chain.  The SSL
       protocol does not require the controller to send the CA
       certificate.

   <b>Auto-Attach Commands</b>
       The IETF Auto-Attach SPBM draft standard describes a compact
       method of using IEEE 802.1AB Link Layer Discovery Protocol (LLDP)
       together with a IEEE 802.1aq Shortest Path Bridging (SPB) network
       to automatically attach network devices to individual services in
       a SPB network.  The intent here is to allow network applications
       and devices using OVS to be able to easily take advantage of
       features offered by industry standard SPB networks. A fundamental
       element of the Auto-Attach feature is to map traditional VLANs
       onto SPB I_SIDs. These commands manage the Auto-Attach I-SID/VLAN
       mappings.

       <b>add-aa-mapping </b><i>bridge i-sid vlan</i>
              Creates a new Auto-Attach mapping on <i>bridge</i> for <i>i-sid</i> and
              <i>vlan</i>.

       <b>del-aa-mapping </b><i>bridge i-sid vlan</i>
              Deletes an Auto-Attach mapping on <i>bridge</i> for <i>i-sid</i> and
              <i>vlan</i>.

       <b>get-aa-mapping </b><i>bridge</i>
              Lists all of the Auto-Attach mappings within <i>bridge</i> on
              standard output.

   <b>Database Commands</b>
       These commands query and modify the contents of <b>ovsdb </b>tables.
       They are a slight abstraction of the <b>ovsdb </b>interface and as such
       they operate at a lower level than other <b>ovs-vsctl </b>commands.

     <i>Identifying Tables, Records, and Columns</i>

       Each of these commands has a <i>table</i> parameter to identify a table
       within the database.  Many of them also take a <i>record</i> parameter
       that identifies a particular record within a table.  The <i>record</i>
       parameter may be the UUID for a record, and many tables offer
       additional ways to identify records.  Some commands also take
       <i>column</i> parameters that identify a particular field within the
       records in a table.

       For a list of tables and their columns, see
       <a href="../man5/ovs-vswitchd.conf.db.5.html">ovs-vswitchd.conf.db(5)</a> or see the table listing from the <b>--help</b>
       option.

       Record names must be specified in full and with correct
       capitalization, except that UUIDs may be abbreviated to their
       first 4 (or more) hex digits, as long as that is unique within
       the table.  Names of tables and columns are not case-sensitive,
       and <b>- </b>and <b>_ </b>are treated interchangeably.  Unique abbreviations of
       table and column names are acceptable, e.g. <b>net </b>or <b>n </b>is
       sufficient to identify the <b>NetFlow </b>table.

     <i>Database Values</i>

       Each column in the database accepts a fixed type of data.  The
       currently defined basic types, and their representations, are:

       integer
              A decimal integer in the range -2**63 to 2**63-1,
              inclusive.

       real   A floating-point number.

       Boolean
              True or false, written <b>true </b>or <b>false</b>, respectively.

       string An arbitrary Unicode string, except that null bytes are
              not allowed.  Quotes are optional for most strings that
              begin with an English letter or underscore and consist
              only of letters, underscores, hyphens, and periods.
              However, <b>true </b>and <b>false </b>and strings that match the syntax
              of UUIDs (see below) must be enclosed in double quotes to
              distinguish them from other basic types.  When double
              quotes are used, the syntax is that of strings in JSON,
              e.g. backslashes may be used to escape special characters.
              The empty string must be represented as a pair of double
              quotes (<b>""</b>).

       UUID   Either a universally unique identifier in the style of RFC
              4122, e.g. <b>f81d4fae-7dec-11d0-a765-00a0c91e6bf6</b>, or an
              <b>@</b><i>name</i> defined by a <b>get </b>or <b>create </b>command within the same
              <b>ovs-vsctl </b>invocation.

       Multiple values in a single column may be separated by spaces or
       a single comma.  When multiple values are present, duplicates are
       not allowed, and order is not important.  Conversely, some
       database columns can have an empty set of values, represented as
       <b>[]</b>, and square brackets may optionally enclose other non-empty
       sets or single values as well. For a column accepting a set of
       integers, database commands accept a range. A range is
       represented by two integers separated by <b>-</b>. A range is inclusive.
       A range has a maximum size of 4096 elements. If more elements are
       needed, they can be specified in separate ranges.

       A few database columns are ``maps'' of key-value pairs, where the
       key and the value are each some fixed database type.  These are
       specified in the form <i>key</i><b>=</b><i>value</i>, where <i>key</i> and <i>value</i> follow the
       syntax for the column's key type and value type, respectively.
       When multiple pairs are present (separated by spaces or a comma),
       duplicate keys are not allowed, and again the order is not
       important.  Duplicate values are allowed.  An empty map is
       represented as <b>{}</b>.  Curly braces may optionally enclose non-empty
       maps as well (but use quotes to prevent the shell from expanding
       <b>other-config={0=x,1=y} </b>into <b>other-config=0=x other-config=1=y</b>,
       which may not have the desired effect).

     <i>Database Command Syntax</i>

       [<b>--if-exists</b>] [<b>--columns=</b><i>column</i>[<b>,</b><i>column</i>]...] <b>list </b><i>table</i>
       [<i>record</i>]...
              Lists the data in each specified <i>record</i>.  If no records
              are specified, lists all the records in <i>table</i>.

              If <b>--columns </b>is specified, only the requested columns are
              listed, in the specified order.  Otherwise, all columns
              are listed, in alphabetical order by column name.

              Without <b>--if-exists</b>, it is an error if any specified
              <i>record</i> does not exist.  With <b>--if-exists</b>, the command
              ignores any <i>record</i> that does not exist, without producing
              any output.

       [<b>--columns=</b><i>column</i>[<b>,</b><i>column</i>]...] <b>find </b><i>table</i> [<i>column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i>]...
              Lists the data in each record in <i>table</i> whose <i>column</i> equals
              <i>value</i> or, if <i>key</i> is specified, whose <i>column</i> contains a <i>key</i>
              with the specified <i>value</i>.  The following operators may be
              used where <b>= </b>is written in the syntax summary:

              <b>= != &lt; &gt; &lt;= &gt;=</b>
                     Selects records in which <i>column</i>[<b>:</b><i>key</i>] equals, does
                     not equal, is less than, is greater than, is less
                     than or equal to, or is greater than or equal to
                     <i>value</i>, respectively.

                     Consider <i>column</i>[<b>:</b><i>key</i>] and <i>value</i> as sets of
                     elements.  Identical sets are considered equal.
                     Otherwise, if the sets have different numbers of
                     elements, then the set with more elements is
                     considered to be larger.  Otherwise, consider a
                     element from each set pairwise, in increasing order
                     within each set.  The first pair that differs
                     determines the result.  (For a column that contains
                     key-value pairs, first all the keys are compared,
                     and values are considered only if the two sets
                     contain identical keys.)

              <b>{=} {!=}</b>
                     Test for set equality or inequality, respectively.

              <b>{&lt;=}   </b>Selects records in which <i>column</i>[<b>:</b><i>key</i>] is a subset
                     of <i>value</i>.  For example, <b>flood-vlans{&lt;=}1,2 </b>selects
                     records in which the <b>flood-vlans </b>column is the
                     empty set or contains 1 or 2 or both.

              <b>{&lt;}    </b>Selects records in which <i>column</i>[<b>:</b><i>key</i>] is a proper
                     subset of <i>value</i>.  For example, <b>flood-vlans{&lt;}1,2</b>
                     selects records in which the <b>flood-vlans </b>column is
                     the empty set or contains 1 or 2 but not both.

              <b>{&gt;=} {&gt;}</b>
                     Same as <b>{&lt;=} </b>and <b>{&lt;}</b>, respectively, except that the
                     relationship is reversed.  For example, <b>flood-</b>
                     <b>vlans{&gt;=}1,2 </b>selects records in which the <b>flood-</b>
                     <b>vlans </b>column contains both 1 and 2.

              The following operators are available only in Open vSwitch
              2.16 and later:

              <b>{in}   </b>Selects records in which every element in
                     <i>column</i>[<b>:</b><i>key</i>] is also in <i>value</i>.  (This is the same
                     as <b>{&lt;=}</b>.)

              <b>{not-in}</b>
                     Selects records in which every element in
                     <i>column</i>[<b>:</b><i>key</i>] is not in <i>value</i>.

              For arithmetic operators (<b>= != &lt; &gt; &lt;= &gt;=</b>), when <i>key</i> is
              specified but a particular record's <i>column</i> does not
              contain <i>key</i>, the record is always omitted from the
              results.  Thus, the condition <b>other-config:mtu!=1500</b>
              matches records that have a <b>mtu </b>key whose value is not
              1500, but not those that lack an <b>mtu </b>key.

              For the set operators, when <i>key</i> is specified but a
              particular record's <i>column</i> does not contain <i>key</i>, the
              comparison is done against an empty set.  Thus, the
              condition <b>other-config:mtu{!=}1500 </b>matches records that
              have a <b>mtu </b>key whose value is not 1500 and those that lack
              an <b>mtu </b>key.

              Don't forget to escape <b>&lt; </b>or <b>&gt; </b>from interpretation by the
              shell.

              If <b>--columns </b>is specified, only the requested columns are
              listed, in the specified order.  Otherwise all columns are
              listed, in alphabetical order by column name.

              The UUIDs shown for rows created in the same <b>ovs-vsctl</b>
              invocation will be wrong.

       [<b>--if-exists</b>] [<b>--id=@</b><i>name</i>] <b>get </b><i>table record</i> [<i>column</i>[<b>:</b><i>key</i>]]...
              Prints the value of each specified <i>column</i> in the given
              <i>record</i> in <i>table</i>.  For map columns, a <i>key</i> may optionally be
              specified, in which case the value associated with <i>key</i> in
              the column is printed, instead of the entire map.

              Without <b>--if-exists</b>, it is an error if <i>record</i> does not
              exist or <i>key</i> is specified, if <i>key</i> does not exist in
              <i>record</i>.  With <b>--if-exists</b>, a missing <i>record</i> yields no
              output and a missing <i>key</i> prints a blank line.

              If <b>@</b><i>name</i> is specified, then the UUID for <i>record</i> may be
              referred to by that name later in the same <b>ovs-vsctl</b>
              invocation in contexts where a UUID is expected.

              Both <b>--id </b>and the <i>column</i> arguments are optional, but
              usually at least one or the other should be specified.  If
              both are omitted, then <b>get </b>has no effect except to verify
              that <i>record</i> exists in <i>table</i>.

              <b>--id </b>and <b>--if-exists </b>cannot be used together.

       [<b>--if-exists</b>] <b>set </b><i>table record column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i>...
              Sets the value of each specified <i>column</i> in the given
              <i>record</i> in <i>table</i> to <i>value</i>.  For map columns, a <i>key</i> may
              optionally be specified, in which case the value
              associated with <i>key</i> in that column is changed (or added,
              if none exists), instead of the entire map.

              Without <b>--if-exists</b>, it is an error if <i>record</i> does not
              exist.  With <b>--if-exists</b>, this command does nothing if
              <i>record</i> does not exist.

       [<b>--if-exists</b>] <b>add </b><i>table record column</i> [<i>key</i><b>=</b>]<i>value</i>...
              Adds the specified value or key-value pair to <i>column</i> in
              <i>record</i> in <i>table</i>.  If <i>column</i> is a map, then <i>key</i> is
              required, otherwise it is prohibited.  If <i>key</i> already
              exists in a map column, then the current <i>value</i> is not
              replaced (use the <b>set </b>command to replace an existing
              value).

              Without <b>--if-exists</b>, it is an error if <i>record</i> does not
              exist.  With <b>--if-exists</b>, this command does nothing if
              <i>record</i> does not exist.

       [<b>--if-exists</b>] <b>remove </b><i>table record column value</i>...
       [<b>--if-exists</b>] <b>remove </b><i>table record column key</i>...
       [<b>--if-exists</b>] <b>remove </b><i>table record column key</i><b>=</b><i>value</i>...
              Removes the specified values or key-value pairs from
              <i>column</i> in <i>record</i> in <i>table</i>.  The first form applies to
              columns that are not maps: each specified <i>value</i> is removed
              from the column.  The second and third forms apply to map
              columns: if only a <i>key</i> is specified, then any key-value
              pair with the given <i>key</i> is removed, regardless of its
              value; if a <i>value</i> is given then a pair is removed only if
              both key and value match.

              It is not an error if the column does not contain the
              specified key or value or pair.

              Without <b>--if-exists</b>, it is an error if <i>record</i> does not
              exist.  With <b>--if-exists</b>, this command does nothing if
              <i>record</i> does not exist.

       [<b>--if-exists</b>] <b>clear </b><i>table record column</i>...
              Sets each <i>column</i> in <i>record</i> in <i>table</i> to the empty set or
              empty map, as appropriate.  This command applies only to
              columns that are allowed to be empty.

              Without <b>--if-exists</b>, it is an error if <i>record</i> does not
              exist.  With <b>--if-exists</b>, this command does nothing if
              <i>record</i> does not exist.

       [<b>--id=(@</b><i>name</i> | <i>uuid</i>] <b>create </b><i>table column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i>...
              Creates a new record in <i>table</i> and sets the initial values
              of each <i>column</i>.  Columns not explicitly set will receive
              their default values.  Outputs the UUID of the new row.

              If <b>@</b><i>name</i> is specified, then the UUID for the new row may
              be referred to by that name elsewhere in the same
              <b>ovs-vsctl </b>invocation in contexts where a UUID is expected.
              Such references may precede or follow the <b>create </b>command.

              If a valid <i>uuid</i> is specified, then it is used as the UUID
              of the new row.

              Caution (ovs-vsctl as example)
                     Records in the Open vSwitch database are
                     significant only when they can be reached directly
                     or indirectly from the <b>Open_vSwitch </b>table.  Except
                     for records in the <b>QoS </b>or <b>Queue </b>tables, records
                     that are not reachable from the <b>Open_vSwitch </b>table
                     are automatically deleted from the database.  This
                     deletion happens immediately, without waiting for
                     additional <b>ovs-vsctl </b>commands or other database
                     activity.  Thus, a <b>create </b>command must generally be
                     accompanied by additional commands <i>within the same</i>
                     <b>ovs-vsctl </b><i>invocation</i> to add a chain of references
                     to the newly created record from the top-level
                     <b>Open_vSwitch </b>record.  The <b>EXAMPLES </b>section gives
                     some examples that show how to do this.

       [<b>--if-exists</b>] <b>destroy </b><i>table record</i>...
              Deletes each specified <i>record</i> from <i>table</i>.  Unless
              <b>--if-exists </b>is specified, each <i>record</i>s must exist.

       <b>--all destroy </b><i>table</i>
              Deletes all records from the <i>table</i>.

              Caution (ovs-vsctl as example)
                     The <b>destroy </b>command is only useful for records in
                     the <b>QoS </b>or <b>Queue </b>tables.  Records in other tables
                     are automatically deleted from the database when
                     they become unreachable from the <b>Open_vSwitch</b>
                     table.  This means that deleting the last reference
                     to a record is sufficient for deleting the record
                     itself.  For records in these tables, <b>destroy </b>is
                     silently ignored.  See the <b>EXAMPLES </b>section below
                     for more information.

       <b>wait-until </b><i>table record</i> [<i>column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i>]...
              Waits until <i>table</i> contains a record named <i>record</i> whose
              <i>column</i> equals <i>value</i> or, if <i>key</i> is specified, whose <i>column</i>
              contains a <i>key</i> with the specified <i>value</i>.  This command
              supports the same operators and semantics described for
              the <b>find </b>command above.

              If no <i>column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i> arguments are given, this command
              waits only until <i>record</i> exists.  If more than one such
              argument is given, the command waits until all of them are
              satisfied.

              Caution (ovs-vsctl as example)
                     Usually <b>wait-until </b>should be placed at the
                     beginning of a set of <b>ovs-vsctl </b>commands.  For
                     example, <b>wait-until bridge br0 -- get bridge br0</b>
                     <b>datapath_id </b>waits until a bridge named <b>br0 </b>is
                     created, then prints its <b>datapath_id </b>column,
                     whereas <b>get bridge br0 datapath_id -- wait-until</b>
                     <b>bridge br0 </b>will abort if no bridge named <b>br0 </b>exists
                     when <b>ovs-vsctl </b>initially connects to the database.

              Consider specifying <b>--timeout=0 </b>along with <b>--wait-until</b>,
              to prevent <b>ovs-vsctl </b>from terminating after waiting only
              at most 5 seconds.

       <b>comment </b>[<i>arg</i>]...
              This command has no effect on behavior, but any database
              log record created by the command will include the command
              and its arguments.
</pre> <h2>
EXAMPLES </h2>
<pre>
       Create a new bridge named br0 and add port eth0 to it:

              <b>ovs-vsctl add-br br0</b>
              <b>ovs-vsctl add-port br0 eth0</b>

       Alternatively, perform both operations in a single atomic
       transaction:

              <b>ovs-vsctl add-br br0 -- add-port br0 eth0</b>

       Delete bridge <b>br0</b>, reporting an error if it does not exist:

              <b>ovs-vsctl del-br br0</b>

       Delete bridge <b>br0 </b>if it exists:

              <b>ovs-vsctl --if-exists del-br br0</b>

       Set the <b>qos </b>column of the <b>Port </b>record for <b>eth0 </b>to point to a new
       <b>QoS </b>record, which in turn points with its queue 0 to a new <b>Queue</b>
       record:

              <b>ovs-vsctl -- set port eth0 qos=@newqos -- --id=@newqos</b>
              <b>create qos type=linux-htb other-config:max-rate=1000000</b>
              <b>queues:0=@newqueue -- --id=@newqueue create queue</b>
              <b>other-config:min-rate=1000000</b>
              <b>other-config:max-rate=1000000</b>
</pre> <h2>
CONFIGURATION COOKBOOK </h2>
<pre>
   <b>Port Configuration</b>
       Add an ``internal port'' <b>vlan10 </b>to bridge <b>br0 </b>as a VLAN access
       port for VLAN 10, and configure it with an IP address:

              <b>ovs-vsctl add-port br0 vlan10 tag=10 -- set Interface</b>
              <b>vlan10 type=internal</b>

              <b>ip addr add 192.168.0.123/24 dev vlan10</b>

       Add a GRE tunnel port <b>gre0 </b>to remote IP address 1.2.3.4 to bridge
       <b>br0</b>:

              <b>ovs-vsctl add-port br0 gre0 -- set Interface gre0 type=gre</b>
              <b>options:remote_ip=1.2.3.4</b>

   <b>Port Mirroring</b>
       Mirror all packets received or sent on <b>eth0 </b>or <b>eth1 </b>onto <b>eth2</b>,
       assuming that all of those ports exist on bridge <b>br0 </b>(as a side-
       effect this causes any packets received on <b>eth2 </b>to be ignored):

              <b>ovs-vsctl -- set Bridge br0 mirrors=@m \</b>

              <b>-- --id=@eth0 get Port eth0 \</b>

              <b>-- --id=@eth1 get Port eth1 \</b>

              <b>-- --id=@eth2 get Port eth2 \</b>

              <b>-- --id=@m create Mirror name=mymirror select-dst-</b>
              <b>port=@eth0,@eth1 select-src-port=@eth0,@eth1 output-</b>
              <b>port=@eth2</b>

       Remove the mirror created above from <b>br0</b>, which also destroys the
       Mirror record (since it is now unreferenced):

              <b>ovs-vsctl -- --id=@rec get Mirror mymirror \</b>

              <b>-- remove Bridge br0 mirrors @rec</b>

       The following simpler command also works:

              <b>ovs-vsctl clear Bridge br0 mirrors</b>

   <b>Quality of Service (QoS)</b>
       Create a <b>linux-htb </b>QoS record that points to a few queues and use
       it on <b>eth0 </b>and <b>eth1</b>:

              <b>ovs-vsctl -- set Port eth0 qos=@newqos \</b>

              <b>-- set Port eth1 qos=@newqos \</b>

              <b>-- --id=@newqos create QoS type=linux-htb</b>
              <b>other-config:max-rate=1000000000 queues=0=@q0,1=@q1 \</b>

              <b>-- --id=@q0 create Queue other-config:min-rate=100000000</b>
              <b>other-config:max-rate=100000000 \</b>

              <b>-- --id=@q1 create Queue other-config:min-rate=500000000</b>

       Deconfigure the QoS record above from <b>eth1 </b>only:

              <b>ovs-vsctl clear Port eth1 qos</b>

       To deconfigure the QoS record from both <b>eth0 </b>and <b>eth1 </b>and then
       delete the QoS record (which must be done explicitly because
       unreferenced QoS records are not automatically destroyed):

              <b>ovs-vsctl -- destroy QoS eth0 -- clear Port eth0 qos --</b>
              <b>clear Port eth1 qos</b>

       (This command will leave two unreferenced Queue records in the
       database.  To delete them, use "<b>ovs-vsctl list Queue</b>" to find
       their UUIDs, then "<b>ovs-vsctl destroy Queue </b><i>uuid1 uuid2</i>" to
       destroy each of them or use "<b>ovs-vsctl -- --all destroy Queue</b>" to
       delete all records.)

   <b>Connectivity Monitoring</b>
       Monitor connectivity to a remote maintenance point on eth0.

              <b>ovs-vsctl set Interface eth0 cfm_mpid=1</b>

       Deconfigure connectivity monitoring from above:

              <b>ovs-vsctl clear Interface eth0 cfm_mpid</b>

   <b>NetFlow</b>
       Configure bridge <b>br0 </b>to send NetFlow records to UDP port 5566 on
       host 192.168.0.34, with an active timeout of 30 seconds:

              <b>ovs-vsctl -- set Bridge br0 netflow=@nf \</b>

              <b>-- --id=@nf create NetFlow targets=\"192.168.0.34:5566\"</b>
              <b>active-timeout=30</b>

       Update the NetFlow configuration created by the previous command
       to instead use an active timeout of 60 seconds:

              <b>ovs-vsctl set NetFlow br0 active_timeout=60</b>

       Deconfigure the NetFlow settings from <b>br0</b>, which also destroys
       the NetFlow record (since it is now unreferenced):

              <b>ovs-vsctl clear Bridge br0 netflow</b>

   <b>sFlow</b>
       Configure bridge <b>br0 </b>to send sFlow records to a collector on
       10.0.0.1 at port 6343, using <b>eth1</b>'s IP address as the source,
       with specific sampling parameters:

              <b>ovs-vsctl -- --id=@s create sFlow agent=eth1</b>
              <b>target=\"10.0.0.1:6343\" header=128 sampling=64 polling=10</b>
              <b>\</b>

              <b>-- set Bridge br0 sflow=@s</b>

       Deconfigure sFlow from <b>br0</b>, which also destroys the sFlow record
       (since it is now unreferenced):

              <b>ovs-vsctl -- clear Bridge br0 sflow</b>

   <b>IPFIX</b>
       Configure bridge <b>br0 </b>to send one IPFIX flow record per packet
       sample to UDP port 4739 on host 192.168.0.34, with Observation
       Domain ID 123 and Observation Point ID 456, a flow cache active
       timeout of 1 minute (60 seconds), maximum flow cache size of 13
       flows, and flows sampled on output port with tunnel info(sampling
       on input and output port is enabled by default if not disabled) :

              <b>ovs-vsctl -- set Bridge br0 ipfix=@i \</b>

              <b>-- --id=@i create IPFIX targets=\"192.168.0.34:4739\"</b>
              <b>obs_domain_id=123 obs_point_id=456 cache_active_timeout=60</b>
              <b>cache_max_flows=13 \</b>

              <b>other_config:enable-input-sampling=false</b>
              <b>other_config:enable-tunnel-sampling=true</b>

       Deconfigure the IPFIX settings from <b>br0</b>, which also destroys the
       IPFIX record (since it is now unreferenced):

              <b>ovs-vsctl clear Bridge br0 ipfix</b>

   <b>802.1D Spanning Tree Protocol (STP)</b>
       Configure bridge <b>br0 </b>to participate in an 802.1D spanning tree:

              <b>ovs-vsctl set Bridge br0 stp_enable=true</b>

       Set the bridge priority of <b>br0 </b>to 0x7800:

              <b>ovs-vsctl set Bridge br0 other_config:stp-priority=0x7800</b>

       Set the path cost of port <b>eth0 </b>to 10:

              <b>ovs-vsctl set Port eth0 other_config:stp-path-cost=10</b>

       Deconfigure STP from above:

              <b>ovs-vsctl set Bridge br0 stp_enable=false</b>

   <b>Multicast Snooping</b>
       Configure bridge <b>br0 </b>to enable multicast snooping:

              <b>ovs-vsctl set Bridge br0 mcast_snooping_enable=true</b>

       Set the multicast snooping aging time <b>br0 </b>to 300 seconds:

              <b>ovs-vsctl set Bridge br0 other_config:mcast-snooping-</b>
              <b>aging-time=300</b>

       Set the multicast snooping table size <b>br0 </b>to 2048 entries:

              <b>ovs-vsctl set Bridge br0 other_config:mcast-snooping-</b>
              <b>table-size=2048</b>

       Disable flooding of unregistered multicast packets to all ports.
       When set to <b>true</b>, the switch will send unregistered multicast
       packets only to ports connected to multicast routers. When it is
       set to <b>false</b>, the switch will send them to all ports. This
       command disables the flood of unregistered packets on bridge <b>br0</b>.

              <b>ovs-vsctl set Bridge br0 other_config:mcast-snooping-</b>
              <b>disable-flood-unregistered=true</b>

       Enable flooding of multicast packets (except Reports) on a
       specific port.

              <b>ovs-vsctl set Port eth1 other_config:mcast-snooping-</b>
              <b>flood=true</b>

       Enable flooding of Reports on a specific port.

              <b>ovs-vsctl set Port eth1 other_config:mcast-snooping-flood-</b>
              <b>reports=true</b>

       Deconfigure multicasting snooping from above:

              <b>ovs-vsctl set Bridge br0 mcast_snooping_enable=false</b>

   <b>802.1D-2004 Rapid Spanning Tree Protocol (RSTP)</b>
       Configure bridge <b>br0 </b>to participate in an 802.1D-2004 Rapid
       Spanning Tree:

              <b>ovs-vsctl set Bridge br0 rstp_enable=true</b>

       Set the bridge address of <b>br0 </b>to 00:aa:aa:aa:aa:aa :

              <b>ovs-vsctl set Bridge br0 other_config:rstp-</b>
              <b>address=00:aa:aa:aa:aa:aa</b>

       Set the bridge priority of <b>br0 </b>to 0x7000. The value must be
       specified in decimal notation and should be a multiple of 4096
       (if not, it is rounded down to the nearest multiple of 4096). The
       default priority value is 0x800 (32768).

              <b>ovs-vsctl set Bridge br0 other_config:rstp-priority=28672</b>

       Set the bridge ageing time of <b>br0 </b>to 1000 s. The ageing time
       value should be between 10 s and 1000000 s. The default value is
       300 s.

              <b>ovs-vsctl set Bridge br0 other_config:rstp-ageing-</b>
              <b>time=1000</b>

       Set the bridge force protocol version of <b>br0 </b>to 0. The force
       protocol version has two acceptable values: 0 (STP compatibility
       mode) and 2 (normal operation).

              <b>ovs-vsctl set Bridge br0 other_config:rstp-force-protocol-</b>
              <b>version=0</b>

       Set the bridge max age of <b>br0 </b>to 10 s. The max age value should
       be between 6 s and 40 s. The default value is 20 s.

              <b>ovs-vsctl set Bridge br0 other_config:rstp-max-age=10</b>

       Set the bridge forward delay of <b>br0 </b>to 15 s.  This value should
       be between 4 s and 30 s. The default value is 15 s.

              <b>ovs-vsctl set Bridge br0 other_config:rstp-forward-</b>
              <b>delay=15</b>

       Set the bridge transmit hold count of <b>br0 </b>to 7 s. This value
       should be between 1 s and 10 s. The default value is 6 s.

              <b>ovs-vsctl set Bridge br0 other_config:rstp-transmit-hold-</b>
              <b>count=7</b>

       Enable RSTP on the Port <b>eth0</b>:

              <b>ovs-vsctl set Port eth0 other_config:rstp-enable=true</b>

       Disable RSTP on the Port <b>eth0</b>:

              <b>ovs-vsctl set Port eth0 other_config:rstp-enable=false</b>

       Set the priority of port <b>eth0 </b>to 32. The value must be specified
       in decimal notation and should be a multiple of 16 (if not, it is
       rounded down to the nearest multiple of 16). The default priority
       value is 0x80 (128).

              <b>ovs-vsctl set Port eth0 other_config:rstp-port-priority=32</b>

       Set the port number of port <b>eth0 </b>to 3:

              <b>ovs-vsctl set Port eth0 other_config:rstp-port-num=3</b>

       Set the path cost of port <b>eth0 </b>to 150:

              <b>ovs-vsctl set Port eth0 other_config:rstp-path-cost=150</b>

       Set the admin edge value of port <b>eth0</b>:

              <b>ovs-vsctl set Port eth0 other_config:rstp-port-admin-</b>
              <b>edge=true</b>

       Set the auto edge value of port <b>eth0</b>:

              <b>ovs-vsctl set Port eth0 other_config:rstp-port-auto-</b>
              <b>edge=true</b>

       Set the admin point to point MAC value of port <b>eth0</b>.  Acceptable
       values are <b>0 </b>(not point-to-point), <b>1 </b>(point-to-point, the default
       value) or <b>2 </b>(automatic detection).  The auto-detection mode is
       not currently implemented, and the value <b>2 </b>has the same effect of
       <b>0 </b>(not point-to-point).

              <b>ovs-vsctl set Port eth0 other_config:rstp-admin-p2p-mac=1</b>

       Set the admin port state value of port <b>eth0</b>.  <b>true </b>is the default
       value.

              <b>ovs-vsctl set Port eth0 other_config:rstp-admin-port-</b>
              <b>state=false</b>

       Set the mcheck value of port <b>eth0</b>:

              <b>ovs-vsctl set Port eth0 other_config:rstp-port-mcheck=true</b>

       Deconfigure RSTP from above:

              <b>ovs-vsctl set Bridge br0 rstp_enable=false</b>

   <b>OpenFlow Version</b>
       Configure bridge <b>br0 </b>to support OpenFlow versions 1.0, 1.2, and
       1.3:

              <b>ovs-vsctl set bridge br0</b>
              <b>protocols=OpenFlow10,OpenFlow12,OpenFlow13</b>

   <b>Flow Table Configuration</b>
       Make flow table 0 on bridge br0 refuse to accept more than 100
       flows:

              <b>ovs-vsctl -- --id=@ft create Flow_Table flow_limit=100</b>
              <b>overflow_policy=refuse -- set Bridge br0 flow_tables=0=@ft</b>

       Make flow table 0 on bridge br0 evict flows, with fairness based
       on the matched ingress port, when there are more than 100:

              <b>ovs-vsctl -- --id=@ft create Flow_Table flow_limit=100</b>
              <b>overflow_policy=evict groups='"NXM_OF_IN_PORT[]"' -- set</b>
              <b>Bridge br0 flow_tables:0=@ft</b>
</pre> <h2>
EXIT STATUS </h2>
<pre>
       0      Successful program execution.

       1      Usage, syntax, or configuration file error.

       2      The <i>bridge</i> argument to <b>br-exists </b>specified the name of a
              bridge that does not exist.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man1/ovsdb-server.1.html">ovsdb-server(1)</a>, <a href="ovs-vswitchd.8.html">ovs-vswitchd(8)</a>, <a href="../man5/ovs-vswitchd.conf.db.5.html">ovs-vswitchd.conf.db(5)</a>.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>Open vSwitch</i> (a distributed virtual
       multilayer switch) project.  Information about the project can be
       found at ⟨<a href="http://openvswitch.org/">http://openvswitch.org/</a>⟩.  If you have a bug report for
       this manual page, send it to bugs@openvswitch.org.  This page was
       obtained from the project's upstream Git repository
       ⟨<a href="https://github.com/openvswitch/ovs.git">https://github.com/openvswitch/ovs.git</a>⟩ on 2024-06-14.  (At that
       time, the date of the most recent commit that was found in the
       repository was 2024-06-07.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Open vSwitch                     3.2.90                     <i>ovs-vsctl</i>(8)</span>
</pre>  <p>Pages that refer to this page: <a href="../man1/ovsdb-client.1.html">ovsdb-client(1)</a>, <a href="../man7/network_namespaces.7.html">network_namespaces(7)</a>, <a href="../man7/ovn-architecture.7.html">ovn-architecture(7)</a>, <a href="../man7/ovsdb.7.html">ovsdb(7)</a>, <a href="ovn-ic-nbctl.8.html">ovn-ic-nbctl(8)</a>, <a href="ovn-ic-sbctl.8.html">ovn-ic-sbctl(8)</a>, <a href="ovn-nbctl.8.html">ovn-nbctl(8)</a>, <a href="ovn-sbctl.8.html">ovn-sbctl(8)</a>, <a href="ovs-dpctl.8.html">ovs-dpctl(8)</a>, <a href="ovs-l3ping.8.html">ovs-l3ping(8)</a>, <a href="ovs-test.8.html">ovs-test(8)</a>, <a href="ovs-vlan-test.8.html">ovs-vlan-test(8)</a>, <a href="ovs-vswitchd.8.html">ovs-vswitchd(8)</a>, <a href="vtep-ctl.8.html">vtep-ctl(8)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/ovs-vsctl.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/ovs-vsctl.8.html</a>
  </p>
</div>
