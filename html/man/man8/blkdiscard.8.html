<h1>blkdiscard(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>BLKDISCARD</i>(8)             System Administration            <i>BLKDISCARD</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       blkdiscard - discard sectors on a device
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>blkdiscard </b>[options] [<b>-o </b><i>offset</i>] [<b>-l </b><i>length</i>] <i>device</i>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>blkdiscard </b>is used to discard device sectors. This is useful for
       solid-state drivers (SSDs) and thinly-provisioned storage. Unlike
       <a href="fstrim.8.html">fstrim(8)</a>, this command is used directly on the block device.

       By default, <b>blkdiscard </b>will discard all blocks on the device.
       Options may be used to modify this behavior based on range or
       size, as explained below.

       The <i>device</i> argument is the pathname of the block device.

       <b>WARNING: All data in the discarded region on the device will be</b>
       <b>lost!</b>

       Since util-linux v2.41, fdisk has the ability to discard sectors
       on both partitions and unpartitioned areas using the 'T' command.
</pre> <h2>
OPTIONS </h2>
<pre>
       The <i>offset</i> and <i>length</i> arguments may be followed by the
       multiplicative suffixes KiB (=1024), MiB (=1024*1024), and so on
       for GiB, TiB, PiB, EiB, ZiB and YiB (the "iB" is optional, e.g.,
       "K" has the same meaning as "KiB") or the suffixes KB (=1000), MB
       (=1000*1000), and so on for GB, TB, PB, EB, ZB and YB.

       <b>-f</b>, <b>--force</b>
           Disable all checking. Since v2.36 the block device is open in
           exclusive mode (<b>O_EXCL</b>) by default to avoid collision with
           mounted filesystem or another kernel subsystem. The <b>--force</b>
           option disables the exclusive access mode.

       <b>-o</b>, <b>--offset </b><i>offset</i>
           Byte offset into the device from which to start discarding.
           The provided value must be aligned to the device sector size.
           The default value is zero.

       <b>-l</b>, <b>--length </b><i>length</i>
           The number of bytes to discard (counting from the starting
           point). The provided value must be aligned to the device
           sector size. If the specified value extends past the end of
           the device, <b>blkdiscard </b>will stop at the device size boundary.
           The default value extends to the end of the device.

       <b>-p</b>, <b>--step </b><i>length</i>
           The number of bytes to discard within one iteration. The
           default is to discard all by one ioctl call.

       <b>-q</b>, <b>--quiet</b>
           Suppress warning messages.

       <b>-s</b>, <b>--secure</b>
           Perform a secure discard. A secure discard is the same as a
           regular discard except that all copies of the discarded
           blocks that were possibly created by garbage collection must
           also be erased. This requires support from the device.

       <b>-z</b>, <b>--zeroout</b>
           Zero-fill rather than discard.

       <b>-v</b>, <b>--verbose</b>
           Display the aligned values of <i>offset</i> and <i>length</i>. If the
           <b>--step </b>option is specified, it prints the discard progress
           every second.

       <b>-h</b>, <b>--help</b>
           Display help text and exit.

       <b>-V</b>, <b>--version</b>
           Print version and exit.
</pre> <h2>
EXIT STATUS </h2>
<pre>
       <b>blkdiscard </b>has the following exit status values:

       <b>0</b>
           success

       <b>1</b>
           failure; incorrect invocation, permissions or any other
           generic error

       <b>2</b>
           failure; since v2.39, the device does not support discard
           operation
</pre> <h2>
AUTHORS </h2>
<pre>
       Lukas Czerner &lt;lczerner@redhat.com&gt;, Karel Zak &lt;kzak@redhat.com&gt;
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="fstrim.8.html">fstrim(8)</a>
</pre> <h2>
REPORTING BUGS </h2>
<pre>
       For bug reports, use the issue tracker at
       <a href="https://github.com/util-linux/util-linux/issues">https://github.com/util-linux/util-linux/issues</a>.
</pre> <h2>
AVAILABILITY </h2>
<pre>
       The <b>blkdiscard </b>command is part of the util-linux package which
       can be downloaded from Linux Kernel Archive
       &lt;<a href="https://www.kernel.org/pub/linux/utils/util-linux/">https://www.kernel.org/pub/linux/utils/util-linux/</a>&gt;. This page
       is part of the <i>util-linux</i> (a random collection of Linux
       utilities) project. Information about the project can be found at
       ⟨<a href="https://www.kernel.org/pub/linux/utils/util-linux/">https://www.kernel.org/pub/linux/utils/util-linux/</a>⟩. If you have
       a bug report for this manual page, send it to
       util-linux@vger.kernel.org. This page was obtained from the
       project's upstream Git repository
       ⟨git://git.kernel.org/pub/scm/utils/util-linux/util-linux.git⟩ on
       2024-06-14. (At that time, the date of the most recent commit
       that was found in the repository was 2024-06-10.) If you discover
       any rendering problems in this HTML version of the page, or you
       believe there is a better or more up-to-date source for the page,
       or you have corrections or improvements to the information in
       this COLOPHON (which is <i>not</i> part of the original manual page),
       send a mail to man-pages@man7.org

<span class="footline">util-linux 2.41.devel-537-e... 2024-06-13                  <i>BLKDISCARD</i>(8)</span>
</pre>  <p>Pages that refer to this page: <a href="fstrim.8.html">fstrim(8)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/blkdiscard.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/blkdiscard.8.html</a>
  </p>
</div>
