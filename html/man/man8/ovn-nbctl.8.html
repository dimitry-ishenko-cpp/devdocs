<h1>ovn-nbctl(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>ovn-nbctl</i>(8)                   OVN Manual                   <i>ovn-nbctl</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       ovn-nbctl - Open Virtual Network northbound db management utility
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>ovn-nbctl </b>[<i>options</i>] <i>command</i> [<i>arg</i>...]
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <b>ovn-nbctl </b>program configures the <b>OVN_Northbound </b>database by
       providing a high-level interface to its configuration database.
       See <a href="../man5/ovn-nb.5.html">ovn-nb(5)</a> for comprehensive documentation of the database
       schema.

       <b>ovn-nbctl </b>connects to an <b>ovsdb-server </b>process that maintains an
       OVN_Northbound configuration database. Using this connection, it
       queries and possibly applies changes to the database, depending
       on the supplied commands.

       <b>ovn-nbctl </b>can perform any number of commands in a single run,
       implemented as a single atomic transaction against the database.

       The <b>ovn-nbctl </b>command line begins with global options (see
       <b>OPTIONS </b>below for details). The global options are followed by
       one or more commands. Each command should begin with <b>-- </b>by itself
       as a command-line argument, to separate it from the following
       commands. (The <b>-- </b>before the first command is optional.) The
       command itself starts with command-specific options, if any,
       followed by the command name and any arguments.
</pre> <h2>
DAEMON MODE </h2>
<pre>
       When it is invoked in the most ordinary way, <b>ovn-nbctl </b>connects
       to an OVSDB server that hosts the northbound database, retrieves
       a partial copy of the database that is complete enough to do its
       work, sends a transaction request to the server, and receives and
       processes the server’s reply. In common interactive use, this is
       fine, but if the database is large, the step in which <b>ovn-nbctl</b>
       retrieves a partial copy of the database can take a long time,
       which yields poor performance overall.

       To improve performance in such a case, <b>ovn-nbctl </b>offers a "daemon
       mode," in which the user first starts <b>ovn-nbctl </b>running in the
       background and afterward uses the daemon to execute operations.
       Over several <b>ovn-nbctl </b>command invocations, this performs better
       overall because it retrieves a copy of the database only once at
       the beginning, not once per program run.

       Use the <b>--detach </b>option to start an <b>ovn-nbctl </b>daemon. With this
       option, <b>ovn-nbctl </b>prints the name of a control socket to stdout.
       The client should save this name in environment variable
       <b>OVN_NB_DAEMON</b>. Under the Bourne shell this might be done like
       this:

             export OVN_NB_DAEMON=$(ovn-nbctl --pidfile --detach)

       When <b>OVN_NB_DAEMON </b>is set, <b>ovn-nbctl </b>automatically and
       transparently uses the daemon to execute its commands.

       When the daemon is no longer needed, kill it and unset the
       environment variable, e.g.:

             kill $(cat $OVN_RUNDIR/ovn-nbctl.pid)
             unset OVN_NB_DAEMON

       When using daemon mode, an alternative to the <b>OVN_NB_DAEMON</b>
       environment variable is to specify a path for the Unix socket.
       When starting the ovn-nbctl daemon, specify the <b>-u </b>option with a
       full path to the location of the socket file. Here is an exmple:

             ovn-nbctl --detach -u /tmp/mysock.ctl

       Then to connect to the running daemon, use the <b>-u </b>option with the
       full path to the socket created when the daemon was started:

             ovn-nbctl -u /tmp/mysock.ctl show

     <i>Daemon Commands</i>

       Daemon mode is internally implemented using the same mechanism
       used by <b>ovn-appctl</b>. One may also use <b>ovn-appctl </b>directly with the
       following commands:

              <b>run </b>[<i>options</i>] <i>command</i> [<i>arg</i>...] [<b>-- </b>[<i>options</i>] <i>command</i>
              [<i>arg</i>...] ...]
                     Instructs the daemon process to run one or more
                     <b>ovn-nbctl </b>commands described above and reply with
                     the results of running these commands. Accepts the
                     <b>--no-wait</b>, <b>--wait</b>, <b>--timeout</b>, <b>--dry-run</b>, <b>--oneline</b>,
                     and the options described under <b>Table Formatting</b>
                     <b>Options </b>in addition to the the command-specific
                     options.

              <b>exit   </b>Causes <b>ovn-nbctl </b>to gracefully terminate.
</pre> <h2>
OPTIONS </h2>
<pre>
       The options listed below affect the behavior of <b>ovn-nbctl </b>as a
       whole. Some individual commands also accept their own options,
       which are given just before the command name. If the first
       command on the command line has options, then those options must
       be separated from the global options by <b>--</b>.

       <b>ovn-nbctl </b>also accepts options from the <b>OVN_NBCTL_OPTIONS</b>
       environment variable, in the same format as on the command line.
       Options from the command line override those in the environment.

              <b>--no-wait </b>| <b>--wait=none</b>
              <b>--wait=sb</b>
              <b>--wait=hv</b>
                   These options control whether and how <b>ovn-nbctl </b>waits
                   for the OVN system to become up-to-date with changes
                   made in an <b>ovn-nbctl </b>invocation.

                   By default, or if <b>--no-wait </b>or <b>--wait=none</b>, <b>ovn-nbctl</b>
                   exits immediately after confirming that changes have
                   been committed to the northbound database, without
                   waiting.

                   With <b>--wait=sb</b>, before <b>ovn-nbctl </b>exits, it waits for
                   <b>ovn-northd </b>to bring the southbound database up-to-
                   date with the northbound database updates.

                   With <b>--wait=hv</b>, before <b>ovn-nbctl </b>exits, it
                   additionally waits for all OVN chassis (hypervisors
                   and gateways) to become up-to-date with the
                   northbound database updates. (This can become an
                   indefinite wait if any chassis is malfunctioning.)

                   Ordinarily, <b>--wait=sb </b>or <b>--wait=hv </b>only waits for
                   changes by the current <b>ovn-nbctl </b>invocation to take
                   effect. This means that, if none of the commands
                   supplied to <b>ovn-nbctl </b>change the database, then the
                   command does not wait at all. Use the <b>sync </b>command to
                   override this behavior.

              <b>--db </b><i>database</i>
                   The OVSDB database remote to contact. If the
                   <b>OVN_NB_DB </b>environment variable is set, its value is
                   used as the default. Otherwise, the default is
                   <b>unix:/ovnnb_db.sock</b>, but this default is unlikely to
                   be useful outside of single-machine OVN test
                   environments.

              <b>--leader-only</b>
              <b>--no-leader-only</b>
                   By default, or with <b>--leader-only</b>, when the database
                   server is a clustered database, <b>ovn-nbctl </b>will avoid
                   servers other than the cluster leader. This ensures
                   that any data that <b>ovn-nbctl </b>reads and reports is up-
                   to-date. With <b>--no-leader-only</b>, <b>ovn-nbctl </b>will use
                   any server in the cluster, which means that for read-
                   only transactions it can report and act on stale data
                   (transactions that modify the database are always
                   serialized even with <b>--no-leader-only</b>). Refer to
                   <b>Understanding Cluster Consistency </b>in <a href="../man7/ovsdb.7.html">ovsdb(7)</a> for
                   more information.

              <b>--shuffle-remotes</b>
              <b>--no-shuffle-remotes</b>
                   By default, or with <b>--shuffle-remotes</b>, when there are
                   multiple remotes specified in the OVSDB connection
                   string specified by <b>--db </b>or the <b>OVN_NB_DB </b>environment
                   variable, the order of the remotes will be shuffled
                   before the client tries to connect. The remotes will
                   be shuffled only once to a new order before the first
                   connection attempt. The following retries, if any,
                   will follow the same new order. The default behavior
                   is to make sure clients of a clustered database can
                   distribute evenly to all members of the cluster. With
                   <b>--no-shuffle-remotes</b>, <b>ovn-nbctl </b>will use the original
                   order specified in the connection string to connect.
                   This allows user to specify the preferred order,
                   which is particularly useful for testing.

              <b>--no-syslog</b>
                   By default, <b>ovn-nbctl </b>logs its arguments and the
                   details of any changes that it makes to the system
                   log. This option disables this logging.

                   This option is equivalent to
                   <b>--verbose=nbctl:syslog:warn</b>.

              <b>--oneline</b>
                   Modifies the output format so that the output for
                   each command is printed on a single line. New-line
                   characters that would otherwise separate lines are
                   printed as \fB\\n\fR, and any instances of \fB\\\fR
                   that would otherwise appear in the output are
                   doubled. Prints a blank line for each command that
                   has no output. This option does not affect the
                   formatting of output from the <b>list </b>or <b>find </b>commands;
                   see <b>Table Formatting Options </b>below.

              <b>--dry-run</b>
                   Prevents <b>ovn-nbctl </b>from actually modifying the
                   database.

              <b>-t </b><i>secs</i>
              <b>--timeout=</b><i>secs</i>
                   By default, or with a <i>secs</i> of <b>0</b>, <b>ovn-nbctl </b>waits
                   forever for a response from the database. This option
                   limits runtime to approximately <i>secs</i> seconds. If the
                   timeout expires, <b>ovn-nbctl </b>will exit with a <b>SIGALRM</b>
                   signal. (A timeout would normally happen only if the
                   database cannot be contacted, or if the system is
                   overloaded.)

              <b>--print-wait-time</b>
                   When <b>--wait </b>is specified, the option
                   <b>--print-wait-time </b>can be used to print the time spent
                   on waiting, depending on the value specified in
                   <b>--wait </b>option. If <b>--wait=sb </b>is specified, it prints
                   "ovn-northd delay before processing", which is the
                   time between the Northbound DB update by the command
                   and the moment when  <b>ovn-northd </b>starts processing the
                   update, and "ovn-northd completion", which is the
                   time between the Northbound DB update and the moment
                   when <b>ovn-northd </b>completes the Southbound DB updating
                   successfully. If <b>--wait=hv </b>is specified, in addition
                   to the above information, it also prints "ovn-
                   controller(s) completion", which is the time between
                   the Northbound DB update and the moment when the
                   slowest hypervisor finishes processing the update.

   <b>Daemon Options</b>
       <b>--pidfile</b>[<b>=</b><i>pidfile</i>]
              Causes a file (by default, <i>program</i><b>.pid</b>) to be created
              indicating the PID of the running process. If the <i>pidfile</i>
              argument is not specified, or if it does not begin with <b>/</b>,
              then it is created in .

              If <b>--pidfile </b>is not specified, no pidfile is created.

       <b>--overwrite-pidfile</b>
              By default, when <b>--pidfile </b>is specified and the specified
              pidfile already exists and is locked by a running process,
              the daemon refuses to start. Specify <b>--overwrite-pidfile</b>
              to cause it to instead overwrite the pidfile.

              When <b>--pidfile </b>is not specified, this option has no
              effect.

       <b>--detach</b>
              Runs this program as a background process. The process
              forks, and in the child it starts a new session, closes
              the standard file descriptors (which has the side effect
              of disabling logging to the console), and changes its
              current directory to the root (unless <b>--no-chdir </b>is
              specified). After the child completes its initialization,
              the parent exits.

       <b>--monitor</b>
              Creates an additional process to monitor this program. If
              it dies due to a signal that indicates a programming error
              (<b>SIGABRT</b>, <b>SIGALRM</b>, <b>SIGBUS</b>, <b>SIGFPE</b>, <b>SIGILL</b>, <b>SIGPIPE</b>,
              <b>SIGSEGV</b>, <b>SIGXCPU</b>, or <b>SIGXFSZ</b>) then the monitor process
              starts a new copy of it. If the daemon dies or exits for
              another reason, the monitor process exits.

              This option is normally used with <b>--detach</b>, but it also
              functions without it.

       <b>--no-chdir</b>
              By default, when <b>--detach </b>is specified, the daemon changes
              its current working directory to the root directory after
              it detaches. Otherwise, invoking the daemon from a
              carelessly chosen directory would prevent the
              administrator from unmounting the file system that holds
              that directory.

              Specifying <b>--no-chdir </b>suppresses this behavior, preventing
              the daemon from changing its current working directory.
              This may be useful for collecting core files, since it is
              common behavior to write core dumps into the current
              working directory and the root directory is not a good
              directory to use.

              This option has no effect when <b>--detach </b>is not specified.

       <b>--no-self-confinement</b>
              By default this daemon will try to self-confine itself to
              work with files under well-known directories determined at
              build time. It is better to stick with this default
              behavior and not to use this flag unless some other Access
              Control is used to confine daemon. Note that in contrast
              to other access control implementations that are typically
              enforced from kernel-space (e.g. DAC or MAC), self-
              confinement is imposed from the user-space daemon itself
              and hence should not be considered as a full confinement
              strategy, but instead should be viewed as an additional
              layer of security.

       <b>--user=</b><i>user</i><b>:</b><i>group</i>
              Causes this program to run as a different user specified
              in <i>user</i><b>:</b><i>group</i>, thus dropping most of the root privileges.
              Short forms <i>user</i> and <b>:</b><i>group</i> are also allowed, with current
              user or group assumed, respectively. Only daemons started
              by the root user accepts this argument.

              On Linux, daemons will be granted <b>CAP_IPC_LOCK </b>and
              <b>CAP_NET_BIND_SERVICES </b>before dropping root privileges.
              Daemons that interact with a datapath, such as
              <b>ovs-vswitchd</b>, will be granted three additional
              capabilities, namely <b>CAP_NET_ADMIN</b>, <b>CAP_NET_BROADCAST </b>and
              <b>CAP_NET_RAW</b>. The capability change will apply even if the
              new user is root.

              On Windows, this option is not currently supported. For
              security reasons, specifying this option will cause the
              daemon process not to start.

   <b>Logging options</b>
       <b>-v</b>[<i>spec</i>]
       <b>--verbose=</b>[<i>spec</i>]
            Sets logging levels. Without any <i>spec</i>, sets the log level
            for every module and destination to <b>dbg</b>. Otherwise, <i>spec</i> is
            a list of words separated by spaces or commas or colons, up
            to one from each category below:

            •      A valid module name, as displayed by the <b>vlog/list</b>
                   command on <a href="ovs-appctl.8.html">ovs-appctl(8)</a>, limits the log level change
                   to the specified module.

            •      <b>syslog</b>, <b>console</b>, or <b>file</b>, to limit the log level
                   change to only to the system log, to the console, or
                   to a file, respectively. (If <b>--detach </b>is specified,
                   the daemon closes its standard file descriptors, so
                   logging to the console will have no effect.)

                   On Windows platform, <b>syslog </b>is accepted as a word and
                   is only useful along with the <b>--syslog-target </b>option
                   (the word has no effect otherwise).

            •      <b>off</b>, <b>emer</b>, <b>err</b>, <b>warn</b>, <b>info</b>, or <b>dbg</b>, to control the
                   log level. Messages of the given severity or higher
                   will be logged, and messages of lower severity will
                   be filtered out. <b>off </b>filters out all messages. See
                   <a href="ovs-appctl.8.html">ovs-appctl(8)</a> for a definition of each log level.

            Case is not significant within <i>spec</i>.

            Regardless of the log levels set for <b>file</b>, logging to a file
            will not take place unless <b>--log-file </b>is also specified (see
            below).

            For compatibility with older versions of OVS, <b>any </b>is
            accepted as a word but has no effect.

       <b>-v</b>
       <b>--verbose</b>
            Sets the maximum logging verbosity level, equivalent to
            <b>--verbose=dbg</b>.

       <b>-vPATTERN:</b><i>destination</i><b>:</b><i>pattern</i>
       <b>--verbose=PATTERN:</b><i>destination</i><b>:</b><i>pattern</i>
            Sets the log pattern for <i>destination</i> to <i>pattern</i>. Refer to
            <a href="ovs-appctl.8.html">ovs-appctl(8)</a> for a description of the valid syntax for
            <i>pattern</i>.

       <b>-vFACILITY:</b><i>facility</i>
       <b>--verbose=FACILITY:</b><i>facility</i>
            Sets the RFC5424 facility of the log message. <i>facility</i> can
            be one of <b>kern</b>, <b>user</b>, <b>mail</b>, <b>daemon</b>, <b>auth</b>, <b>syslog</b>, <b>lpr</b>, <b>news</b>,
            <b>uucp</b>, <b>clock</b>, <b>ftp</b>, <b>ntp</b>, <b>audit</b>, <b>alert</b>, <b>clock2</b>, <b>local0</b>, <b>local1</b>,
            <b>local2</b>, <b>local3</b>, <b>local4</b>, <b>local5</b>, <b>local6 </b>or <b>local7</b>. If this
            option is not specified, <b>daemon </b>is used as the default for
            the local system syslog and <b>local0 </b>is used while sending a
            message to the target provided via the <b>--syslog-target</b>
            option.

       <b>--log-file</b>[<b>=</b><i>file</i>]
            Enables logging to a file. If <i>file</i> is specified, then it is
            used as the exact name for the log file. The default log
            file name used if <i>file</i> is omitted is
            <b>/usr/local/var/log/ovn/</b><i>program</i><b>.log</b>.

       <b>--syslog-target=</b><i>host</i><b>:</b><i>port</i>
            Send syslog messages to UDP <i>port</i> on <i>host</i>, in addition to the
            system syslog. The <i>host</i> must be a numerical IP address, not
            a hostname.

       <b>--syslog-method=</b><i>method</i>
            Specify <i>method</i> as how syslog messages should be sent to
            syslog daemon. The following forms are supported:

            •      <b>libc</b>, to use the libc <b>syslog() </b>function. Downside of
                   using this options is that libc adds fixed prefix to
                   every message before it is actually sent to the
                   syslog daemon over <b>/dev/log </b>UNIX domain socket.

            •      <b>unix:</b><i>file</i>, to use a UNIX domain socket directly. It
                   is possible to specify arbitrary message format with
                   this option. However, <b>rsyslogd 8.9 </b>and older versions
                   use hard coded parser function anyway that limits
                   UNIX domain socket use. If you want to use arbitrary
                   message format with older <b>rsyslogd </b>versions, then use
                   UDP socket to localhost IP address instead.

            •      <b>udp:</b><i>ip</i><b>:</b><i>port</i>, to use a UDP socket. With this method it
                   is possible to use arbitrary message format also with
                   older <b>rsyslogd</b>. When sending syslog messages over UDP
                   socket extra precaution needs to be taken into
                   account, for example, syslog daemon needs to be
                   configured to listen on the specified UDP port,
                   accidental iptables rules could be interfering with
                   local syslog traffic and there are some security
                   considerations that apply to UDP sockets, but do not
                   apply to UNIX domain sockets.

            •      <b>null</b>, to discard all messages logged to syslog.

            The default is taken from the <b>OVS_SYSLOG_METHOD </b>environment
            variable; if it is unset, the default is <b>libc</b>.

   <b>Table Formatting Options</b>
       These options control the format of output from the <b>list </b>and <b>find</b>
       commands.

              <b>-f </b><i>format</i>
              <b>--format=</b><i>format</i>
                   Sets the type of table formatting. The following
                   types of <i>format</i> are available:

                   <b>table  </b>2-D text tables with aligned columns.

                   <b>list </b>(default)
                          A list with one column per line and rows
                          separated by a blank line.

                   <b>html   </b>HTML tables.

                   <b>csv    </b>Comma-separated values as defined in RFC 4180.

                   <b>json   </b>JSON format as defined in RFC 4627. The output
                          is a sequence of JSON objects, each of which
                          corresponds to one table. Each JSON object has
                          the following members with the noted values:

                          <b>caption</b>
                                 The table’s caption. This member is
                                 omitted if the table has no caption.

                          <b>headings</b>
                                 An array with one element per table
                                 column. Each array element is a string
                                 giving the corresponding column’s
                                 heading.

                          <b>data   </b>An array with one element per table
                                 row. Each element is also an array with
                                 one element per table column. The
                                 elements of this second-level array are
                                 the cells that constitute the table.
                                 Cells that represent OVSDB data or data
                                 types are expressed in the format
                                 described in the OVSDB specification;
                                 other cells are simply expressed as
                                 text strings.

              <b>-d </b><i>format</i>
              <b>--data=</b><i>format</i>
                   Sets the formatting for cells within output tables
                   unless the table format is set to <b>json</b>, in which case
                   <b>json </b>formatting is always used when formatting cells.
                   The following types of <i>format</i> are available:

                   <b>string </b>(default)
                          The simple format described in the <b>Database</b>
                          <b>Values </b>section of <a href="ovs-vsctl.8.html">ovs-vsctl(8)</a>.

                   <b>bare   </b>The simple format with punctuation stripped
                          off: <b>[] </b>and <b>{} </b>are omitted around sets, maps,
                          and empty columns, items within sets and maps
                          are space-separated, and strings are never
                          quoted. This format may be easier for scripts
                          to parse.

                   <b>json   </b>The RFC 4627 JSON format as described above.

              <b>--no-headings</b>
                   This option suppresses the heading row that otherwise
                   appears in the first row of table output.

              <b>--pretty</b>
                   By default, JSON in output is printed as compactly as
                   possible. This option causes JSON in output to be
                   printed in a more readable fashion. Members of
                   objects and elements of arrays are printed one per
                   line, with indentation.

                   This option does not affect JSON in tables, which is
                   always printed compactly.

              <b>--bare</b>
                   Equivalent to <b>--format=list --data=bare</b>
                   <b>--no-headings</b>.

   <b>PKI Options</b>
       PKI configuration is required to use SSL for the connection to
       the database.

              <b>-p </b><i>privkey.pem</i>
              <b>--private-key=</b><i>privkey.pem</i>
                   Specifies a PEM file containing the private key used
                   as identity for outgoing SSL connections.

              <b>-c </b><i>cert.pem</i>
              <b>--certificate=</b><i>cert.pem</i>
                   Specifies a PEM file containing a certificate that
                   certifies the private key specified on <b>-p </b>or
                   <b>--private-key </b>to be trustworthy. The certificate must
                   be signed by the certificate authority (CA) that the
                   peer in SSL connections will use to verify it.

              <b>-C </b><i>cacert.pem</i>
              <b>--ca-cert=</b><i>cacert.pem</i>
                   Specifies a PEM file containing the CA certificate
                   for verifying certificates presented to this program
                   by SSL peers. (This may be the same certificate that
                   SSL peers use to verify the certificate specified on
                   <b>-c </b>or <b>--certificate</b>, or it may be a different one,
                   depending on the PKI design in use.)

              <b>-C none</b>
              <b>--ca-cert=none</b>
                   Disables verification of certificates presented by
                   SSL peers. This introduces a security risk, because
                   it means that certificates cannot be verified to be
                   those of known trusted hosts.

              <b>--bootstrap-ca-cert=</b><i>cacert.pem</i>
                     When <i>cacert.pem</i> exists, this option has the same
                     effect as <b>-C </b>or <b>--ca-cert</b>. If it does not exist,
                     then the executable will attempt to obtain the CA
                     certificate from the SSL peer on its first SSL
                     connection and save it to the named PEM file. If it
                     is successful, it will immediately drop the
                     connection and reconnect, and from then on all SSL
                     connections must be authenticated by a certificate
                     signed by the CA certificate thus obtained.

                     This option exposes the SSL connection to a man-in-
                     the-middle attack obtaining the initial CA
                     certificate, but it may be useful for
                     bootstrapping.

                     This option is only useful if the SSL peer sends
                     its CA certificate as part of the SSL certificate
                     chain. The SSL protocol does not require the server
                     to send the CA certificate.

                     This option is mutually exclusive with <b>-C </b>and
                     <b>--ca-cert</b>.

   <b>Other Options</b>
       <b>-h</b>
       <b>--help</b>
            Prints a brief help message to the console.

       <b>-V</b>
       <b>--version</b>
            Prints version information to the console.
</pre> <h2>
COMMANDS </h2>
<pre>
       The following sections describe the commands that <b>ovn-nbctl</b>
       supports.

   <b>General Commands</b>
       <b>init   </b>Initializes the database, if it is empty. If the database
              has already been initialized, this command has no effect.

       <b>show [</b><i>switch</i> <b>| </b><i>router</i><b>]</b>
              Prints a brief overview of the database contents. If
              <i>switch</i> is provided, only records related to that logical
              switch are shown. If <i>router</i> is provided, only records
              related to that logical router are shown.

   <b>Logical Switch Commands</b>
       <b>ls-add </b>Creates a new, unnamed logical switch, which initially has
              no ports. The switch does not have a name, other commands
              must refer to this switch by its UUID.

       [<b>--may-exist </b>| <b>--add-duplicate</b>] <b>ls-add </b><i>switch</i>
              Creates a new logical switch named <i>switch</i>, which initially
              has no ports.

              The OVN northbound database schema does not require
              logical switch names to be unique, but the whole point to
              the names is to provide an easy way for humans to refer to
              the switches, making duplicate names unhelpful. Thus,
              without any options, this command regards it as an error
              if <i>switch</i> is a duplicate name. With <b>--may-exist</b>, adding a
              duplicate name succeeds but does not create a new logical
              switch. With <b>--add-duplicate</b>, the command really creates a
              new logical switch with a duplicate name. It is an error
              to specify both options. If there are multiple logical
              switches with a duplicate name, configure the logical
              switches using the UUID instead of the <i>switch</i> name.

       [<b>--if-exists</b>] <b>ls-del </b><i>switch</i>
              Deletes <i>switch</i>. It is an error if <i>switch</i> does not exist,
              unless <b>--if-exists </b>is specified.

       <b>ls-list</b>
              Lists all existing switches on standard output, one per
              line.

   <b>ACL Commands</b>
       These commands operates on ACL objects for a given <i>entity</i>. The
       <i>entity</i> can be either a logical switch or a port group. The <i>entity</i>
       can be specified as uuid or name. The <b>--type </b>option can be used
       to specify the type of the <i>entity</i>, in case both a logical switch
       and a port groups exist with the same name specified for <i>entity</i>.
       <b>type </b>must be either <b>switch </b>or <b>port-group</b>.

              [<b>--type=</b>{<b>switch </b>| <b>port-group</b>}] [<b>--log</b>] [<b>--meter=</b><i>meter</i>]
              [<b>--severity=</b><i>severity</i>] [<b>--name=</b><i>name</i>] [<b>--label=</b><i>label</i>]
              [<b>--may-exist</b>] [<b>--apply-after-lb</b>] [<b>--tier</b>] <b>acl-add </b><i>entity</i>
              <i>direction priority match verdict</i>
                     Adds the specified ACL to <i>entity</i>. <i>direction</i> must be
                     either <b>from-lport </b>or <b>to-lport</b>. <i>priority</i> must be
                     between <b>0 </b>and <b>32767</b>, inclusive. A full description
                     of the fields are in <a href="../man5/ovn-nb.5.html">ovn-nb(5)</a>. If <b>--may-exist </b>is
                     specified, adding a duplicated ACL succeeds but the
                     ACL is not really created. Without <b>--may-exist</b>,
                     adding a duplicated ACL results in error.

                     The <b>--log </b>option enables packet logging for the
                     ACL. The options <b>--severity </b>and <b>--name </b>specify a
                     severity and name, respectively, for log entries
                     (and also enable logging). The severity must be one
                     of <b>alert</b>, <b>warning</b>, <b>notice</b>, <b>info</b>, or <b>debug</b>. If a
                     severity is not specified, the default is <b>info</b>. The
                     <b>--meter=</b><i>meter</i> option is used to rate-limit packet
                     logging. The <i>meter</i> argument names a meter
                     configured by <b>meter-add</b>.

                     The <b>--apply-after-lb </b>option sets
                     <b>apply-after-lb=true </b>in the <b>options </b>column of the
                     <b>ACL </b>table. As the option name suggests, the ACL
                     will be applied after the logical switch load
                     balancer stage.

                     The <b>--tier </b>option sets the ACL’s tier to the
                     specified value. For more information about ACL
                     tiers, see the documentation for the <a href="../man5/ovn-nb.5.html">ovn-nb(5)</a>
                     database.

              [<b>--type=</b>{<b>switch </b>| <b>port-group</b>}] [<b>--tier</b>] <b>acl-del </b><i>entity</i>
              [<i>direction</i> [<i>priority match</i>]]
                     Deletes ACLs from <i>entity</i>. If only <i>entity</i> is
                     supplied, all the ACLs from the <i>entity</i> are deleted.
                     If <i>direction</i> is also specified, then all the flows
                     in that direction will be deleted from the <i>entity</i>.
                     If all the fields are given, then a single flow
                     that matches all the fields will be deleted.

                     If the <b>--tier </b>option is provided, then only ACLs of
                     the given tier value will be deleted, in addition
                     to whatever other criteria have been provided.

              [<b>--type=</b>{<b>switch </b>| <b>port-group</b>}] <b>acl-list </b><i>entity</i>
                     Lists the ACLs on <i>entity</i>.

   <b>Logical Switch QoS Rule Commands</b>
       [<b>--may-exist</b>] <b>qos-add </b><i>switch direction priority match</i> [<b>mark=</b><i>mark</i>]
       [<b>dscp=</b><i>dscp</i>] [<b>rate=</b><i>rate</i> [<b>burst=</b><i>burst</i>]]
              Adds QoS marking and metering rules to <i>switch</i>. <i>direction</i>
              must be either <b>from-lport </b>or <b>to-lport</b>. <i>priority</i> must be
              between <b>0 </b>and <b>32767</b>, inclusive.

              If <b>dscp=</b><i>dscp</i> is specified, then matching packets will have
              DSCP marking applied. <i>dscp</i> must be between <b>0 </b>and <b>63</b>,
              inclusive. If <b>rate=</b><i>rate</i> is specified then matching packets
              will have metering applied at <i>rate</i> kbps. If metering is
              configured, then <b>burst=</b><i>burst</i> specifies the burst rate
              limit in kilobits. <b>dscp </b>and/or <b>rate </b>are required
              arguments. If <b>mark=</b><i>mark</i> is specified, then matching
              packets will be marked (through <b>pkt.mark</b>). <i>mark</i> must be a
              positive integer.

              If <b>--may-exist </b>is specified, adding a duplicated QoS rule
              succeeds but the QoS rule is not really created. Without
              <b>--may-exist</b>, adding a duplicated QoS rule results in
              error.

       <b>qos-del </b><i>switch</i> [<i>direction</i> [<i>priority match</i>]]
              Deletes QoS rules from <i>switch</i>. If only <i>switch</i> is supplied,
              all the QoS rules from the logical switch are deleted. If
              <i>direction</i> is also specified, then all the flows in that
              direction will be deleted from the logical switch. If all
              the fields are supplied, then a single flow that matches
              the given fields will be deleted.

              If <i>switch</i> and <i>uuid</i> are supplied, then the QoS rule with
              specified uuid is deleted.

       <b>qos-list </b><i>switch</i>
              Lists the QoS rules on <i>switch</i>.

   <b>Meter Commands</b>
       <b>meter-add </b><i>name action rate unit</i> [<i>burst</i>]
              Adds the specified meter. <i>name</i> must be a unique name to
              identify this meter. The <i>action</i> argument specifies what
              should happen when this meter is exceeded. The only
              supported action is <b>drop</b>.

              The <i>unit</i> specifies the unit for the <i>rate</i> argument; valid
              values are <b>kbps </b>and <b>pktps </b>for kilobits per second and
              packets per second, respectively. The <i>burst</i> option
              configures the maximum burst allowed for the band in
              kilobits or packets depending on whether the <i>unit</i> chosen
              was <b>kbps </b>or <b>pktps</b>, respectively. If a burst is not
              supplied, the switch is free to select some reasonable
              value depending on its configuration.

              <b>ovn-nbctl </b>only supports adding a meter with a single band,
              but the other commands support meters with multiple bands.

              Names that start with "__" (two underscores) are reserved
              for internal use by OVN, so <b>ovn-nbctl </b>does not allow
              adding them.

       <b>meter-del </b>[<i>name</i>]
              Deletes meters. By default, all meters are deleted. If
              <i>name</i> is supplied, only the meter with that name will be
              deleted.

       <b>meter-list</b>
              Lists all meters.

   <b>Logical Switch Port Commands</b>
       [<b>--may-exist</b>] <b>lsp-add </b><i>switch port</i>
              Creates on <i>lswitch</i> a new logical switch port named <i>port</i>.

              It is an error if a logical port named <i>port</i> already
              exists, unless <b>--may-exist </b>is specified. Regardless of
              <b>--may-exist</b>, it is an error if the existing port is in
              some logical switch other than <i>switch</i> or if it has a
              parent port.

       [<b>--may-exist</b>] <b>lsp-add </b><i>switch port parent tag_request</i>
              Creates on <i>switch</i> a logical switch port named <i>port</i> that is
              a child of <i>parent</i> that is identified with VLAN ID
              <i>tag_request</i>, which must be between <b>0 </b>and <b>4095</b>, inclusive.
              If <i>tag_request</i> is <b>0</b>, <b>ovn-northd </b>generates a tag that is
              unique in the scope of <i>parent</i>. This is useful in cases
              such as virtualized container environments where Open
              vSwitch does not have a direct connection to the
              container’s port and it must be shared with the virtual
              machine’s port.

              It is an error if a logical port named <i>port</i> already
              exists, unless <b>--may-exist </b>is specified. Regardless of
              <b>--may-exist</b>, it is an error if the existing port is not in
              <i>switch</i> or if it does not have the specified <i>parent</i> and
              <i>tag_request</i>.

       [<b>--if-exists</b>] <b>lsp-del </b><i>port</i>
              Deletes <i>port</i>. It is an error if <i>port</i> does not exist,
              unless <b>--if-exists </b>is specified.

       <b>lsp-list </b><i>switch</i>
              Lists all the logical switch ports within <i>switch</i> on
              standard output, one per line.

       <b>lsp-get-parent </b><i>port</i>
              If set, get the parent port of <i>port</i>. If not set, print
              nothing.

       <b>lsp-get-tag </b><i>port</i>
              If set, get the tag for <i>port</i> traffic. If not set, print
              nothing.

       <b>lsp-set-addresses </b><i>port</i> [<i>address</i>]...
              Sets the addresses associated with <i>port</i> to <i>address</i>. Each
              <i>address</i> should be one of the following:

              an Ethernet address, optionally followed by a space and
              one or more IP addresses
                     OVN delivers packets for the Ethernet address to
                     this port.

              <b>unknown</b>
                     OVN delivers unicast Ethernet packets whose
                     destination MAC address is not in any logical
                     port’s addresses column to ports with address
                     <b>unknown</b>.

              <b>dynamic</b>
                     Use this keyword to make <b>ovn-northd </b>generate a
                     globally unique MAC address and choose an unused
                     IPv4 address with the logical port’s subnet and
                     store them in the port’s <b>dynamic_addresses </b>column.

              <b>router </b>Accepted only when the <b>type </b>of the logical switch
                     port is <b>router</b>. This indicates that the Ethernet,
                     IPv4, and IPv6 addresses for this logical switch
                     port should be obtained from the connected logical
                     router port, as specified by <b>router-port </b>in
                     <b>lsp-set-options</b>.

              Multiple addresses may be set. If no <i>address</i> argument is
              given, <i>port</i> will have no addresses associated with it.

       <b>lsp-get-addresses </b><i>port</i>
              Lists all the addresses associated with <i>port</i> on standard
              output, one per line.

       <b>lsp-set-port-security </b><i>port</i> [<i>addrs</i>]...
              Sets the port security addresses associated with <i>port</i> to
              <i>addrs</i>. Multiple sets of addresses may be set by using
              multiple <i>addrs</i> arguments. If no <i>addrs</i> argument is given,
              <i>port</i> will not have port security enabled.

              Port security limits the addresses from which a logical
              port may send packets and to which it may receive packets.
              See the <a href="../man5/ovn-nb.5.html">ovn-nb(5)</a> documentation for the <b>port_security</b>
              column in the <b>Logical_Switch_Port </b>table for details.

       <b>lsp-get-port-security </b><i>port</i>
              Lists all the port security addresses associated with <i>port</i>
              on standard output, one per line.

       <b>lsp-get-up </b><i>port</i>
              Prints the state of <i>port</i>, either <b>up </b>or <b>down</b>.

       <b>lsp-set-enabled </b><i>port state</i>
              Set the administrative state of <i>port</i>, either <b>enabled </b>or
              <b>disabled</b>. When a port is disabled, no traffic is allowed
              into or out of the port.

       <b>lsp-get-enabled </b><i>port</i>
              Prints the administrative state of <i>port</i>, either <b>enabled </b>or
              <b>disabled</b>.

       <b>lsp-set-type </b><i>port type</i>
              Set the type for the logical port. The type must be one of
              the following:

              <b>(empty string)</b>
                     A VM (or VIF) interface.

              <b>router </b>A connection to a logical router.

              <b>localnet</b>
                     A connection to a locally accessible network from
                     each ovn-controller instance. A logical switch can
                     only have a single localnet port attached. This is
                     used to model direct connectivity to an existing
                     network.

              <b>localport</b>
                     A connection to a local VIF. Traffic that arrives
                     on a localport is never forwarded over a tunnel to
                     another chassis. These ports are present on every
                     chassis and have the same address in all of them.
                     This is used to model connectivity to local
                     services that run on every hypervisor.

              <b>l2gateway</b>
                     A connection to a physical network.

              <b>vtep   </b>A port to a logical switch on a VTEP gateway.

       <b>lsp-get-type </b><i>port</i>
              Get the type for the logical port.

       <b>lsp-set-options </b><i>port</i> [<i>key=value</i>]...
              Set type-specific key-value options for the logical port.

       <b>lsp-get-options </b><i>port</i>
              Get the type-specific options for the logical port.

       <b>lsp-set-dhcpv4-options </b><i>port dhcp_options</i>
              Set the DHCPv4 options for the logical port. The
              <i>dhcp_options</i> is a UUID referring to a set of DHCP options
              in the <b>DHCP_Options </b>table.

       <b>lsp-get-dhcpv4-options </b><i>port</i>
              Get the configured DHCPv4 options for the logical port.

       <b>lsp-set-dhcpv6-options </b><i>port dhcp_options</i>
              Set the DHCPv6 options for the logical port. The
              <i>dhcp_options</i> is a UUID referring to a set of DHCP options
              in the <b>DHCP_Options </b>table.

       <b>lsp-get-dhcpv6-options </b><i>port</i>
              Get the configured DHCPv6 options for the logical port.

       <b>lsp-get-ls </b><i>port</i>
              Get the logical switch which the <i>port</i> belongs to.

       <b>lsp-attach-mirror </b><i>port m</i>
              Attaches the mirror <i>m</i> to the logical port <i>port</i>.

       <b>lsp-detach-mirror </b><i>port m</i>
              Detaches the mirror <i>m</i> from the logical port <i>port</i>.

   <b>Forwarding Group Commands</b>
       [<b>--liveness</b>]<b>fwd-group-add </b><i>group switch vip vmac ports</i>
              Creates a new forwarding group named <i>group</i> as the name
              with the provided <i>vip</i> and <i>vmac</i>. <i>vip</i> should be a virtual IP
              address and <i>vmac</i> should be a virtual MAC address to access
              the forwarding group. <i>ports</i> are the logical switch port
              names that are put in the forwarding group. Example for
              <i>ports</i> is lsp1 lsp2 ... Traffic destined to virtual IP of
              the forwarding group will be load balanced to all the
              child ports.

              When <b>--liveness </b>is specified then child ports are expected
              to be bound to external devices like routers. BFD should
              be configured between hypervisors and the external
              devices. The child port selection will become dependent on
              BFD status with its external device.

       [<b>--if-exists</b>] <b>fwd-group-del </b><i>group</i>
               Deletes <i>group</i>. It is an error if <i>group</i> does not exist,
              unless <b>--if-exists </b>is specified.

       <b>fwd-group-list </b>[<i>switch</i>]
              Lists all existing forwarding groups, If <i>switch</i> is
              specified then only the forwarding groups configured for
              <i>switch</i> will be listed.

   <b>Logical Router Commands</b>
       <b>lr-add </b>Creates a new, unnamed logical router, which initially has
              no ports. The router does not have a name, other commands
              must refer to this router by its UUID.

       [<b>--may-exist </b>| <b>--add-duplicate</b>] <b>lr-add </b><i>router</i>
              Creates a new logical router named <i>router</i>, which initially
              has no ports.

              The OVN northbound database schema does not require
              logical router names to be unique, but the whole point to
              the names is to provide an easy way for humans to refer to
              the routers, making duplicate names unhelpful. Thus,
              without any options, this command regards it as an error
              if <i>router</i> is a duplicate name. With <b>--may-exist</b>, adding a
              duplicate name succeeds but does not create a new logical
              router. With <b>--add-duplicate</b>, the command really creates a
              new logical router with a duplicate name. It is an error
              to specify both options. If there are multiple logical
              routers with a duplicate name, configure the logical
              routers using the UUID instead of the <i>router</i> name.

       [<b>--if-exists</b>] <b>lr-del </b><i>router</i>
              Deletes <i>router</i>. It is an error if <i>router</i> does not exist,
              unless <b>--if-exists </b>is specified.

       <b>lr-list</b>
              Lists all existing routers on standard output, one per
              line.

   <b>Logical Router Port Commands</b>
       [<b>--may-exist</b>] <b>lrp-add </b><i>router port mac network</i>... [<b>peer=</b><i>peer</i>]
              Creates on <i>router</i> a new logical router port named <i>port</i>
              with Ethernet address <i>mac</i> and one or more IP
              address/netmask for each <i>network</i>.

              The optional argument <b>peer </b>identifies a logical router
              port that connects to this one. The following example adds
              a router port with an IPv4 and IPv6 address with peer <b>lr1</b>:

              <b>lrp-add lr0 lrp0 00:11:22:33:44:55 192.168.0.1/24</b>
              <b>2001:db8::1/64 peer=lr1</b>

              It is an error if a logical router port named <i>port</i> already
              exists, unless <b>--may-exist </b>is specified. Regardless of
              <b>--may-exist</b>, it is an error if the existing router port is
              in some logical router other than <i>router</i>.

       [<b>--if-exists</b>] <b>lrp-del </b><i>port</i>
              Deletes <i>port</i>. It is an error if <i>port</i> does not exist,
              unless <b>--if-exists </b>is specified.

       <b>lrp-list </b><i>router</i>
              Lists all the logical router ports within <i>router</i> on
              standard output, one per line.

       <b>lrp-set-enabled </b><i>port state</i>
              Set the administrative state of <i>port</i>, either <b>enabled </b>or
              <b>disabled</b>. When a port is disabled, no traffic is allowed
              into or out of the port.

       <b>lrp-get-enabled </b><i>port</i>
              Prints the administrative state of <i>port</i>, either <b>enabled </b>or
              <b>disabled</b>.

       <b>lrp-set-gateway-chassis </b><i>port chassis</i> [<i>priority</i>]
              Set gateway chassis for <i>port</i>. <i>chassis</i> is the name of the
              chassis. This creates a gateway chassis entry in
              Gateway_Chassis table. It won’t check if chassis really
              exists in OVN_Southbound database. Priority will be set to
              0 if <i>priority</i> is not provided by user. <i>priority</i> must be
              between <b>0 </b>and <b>32767</b>, inclusive.

       <b>lrp-del-gateway-chassis </b><i>port chassis</i>
              Deletes gateway chassis from <i>port</i>. It is an error if
              gateway chassis with <i>chassis</i> for <i>port</i> does not exist.

       <b>lrp-get-gateway-chassis </b><i>port</i>
              Lists all the gateway chassis with priority within <i>port</i> on
              standard output, one per line, ordered based on priority.

   <b>Logical Router Static Route Commands</b>
       [<b>--may-exist</b>] [<b>--policy</b>=<i>POLICY</i>] [<b>--ecmp</b>] [<b>--ecmp-symmetric-reply</b>]
       [<b>--bfd[=</b><i>UUID</i>]] <b>lr-route-add </b><i>router prefix nexthop</i> [<i>port</i>]
              Adds the specified route to <i>router</i>. <i>prefix</i> describes an
              IPv4 or IPv6 prefix for this route, such as
              <b>192.168.100.0/24</b>. <i>nexthop</i> specifies the gateway to use for
              this route, which should be the IP address of one of
              <i>router</i> logical router ports or the IP address of a logical
              port. If <i>port</i> is specified, packets that match this route
              will be sent out that port. When <i>port</i> is omitted, OVN
              infers the output port based on <i>nexthop</i>. Nexthop can be
              set to <i>discard</i> for dropping packets which match the given
              route.

              <b>--policy </b>describes the policy used to make routing
              decisions. This should be one of "dst-ip" or "src-ip". If
              not specified, the default is "dst-ip".

              The <b>--ecmp </b>option allows for multiple routes with the same
              <i>prefix POLICY</i> but different <i>nexthop</i> and <i>port</i> to be added.

              The <b>--ecmp-symmetric-reply </b>option makes it so that traffic
              that arrives over an ECMP route will have its reply
              traffic sent out over that same route. Setting
              <b>--ecmp-symmetric-reply </b>implies <b>--ecmp </b>so it is not
              necessary to set both.

              <b>--bfd </b>option is used to link a BFD session to the OVN
              route. If the BFD session UUID is provided, it will be
              used for the OVN route otherwise the next-hop will be used
              to perform a lookup in the OVN BFD table. If the lookup
              fails and <i>port</i> is specified, a new entry in the BFD table
              will be created using the <i>nexthop</i> as <i>dst_ip</i> and <i>port</i> as
              <i>logical_port</i>.

              It is an error if a route with <i>prefix</i> and <i>POLICY</i> already
              exists, unless <b>--may-exist</b>, <b>--ecmp</b>, or
              <b>--ecmp-symmetric-reply </b>is specified. If <b>--may-exist </b>is
              specified but not <b>--ecmp </b>or <b>--ecmp-symmetric-reply</b>, the
              existed route will be updated with the new nexthop and
              port. If <b>--ecmp </b>or <b>--ecmp-symmetric-reply </b>is specified, a
              new route will be added, regardless of the existed route.,
              which is useful when adding ECMP routes, i.e. routes with
              same <i>POLICY</i> and <i>prefix</i> but different <i>nexthop</i> and <i>port</i>.

       [<b>--if-exists</b>] [<b>--policy</b>=<i>POLICY</i>] <b>lr-route-del </b><i>router</i> [<i>prefix</i>
       [<i>nexthop</i> [<i>port</i>]]]
              Deletes routes from <i>router</i>. If only <i>router</i> is supplied,
              all the routes from the logical router are deleted. If
              <i>POLICY</i>, <i>prefix</i>, <i>nexthop</i> and/or <i>port</i> are also specified,
              then all the routes that match the conditions will be
              deleted from the logical router.

              It is an error if there is no matching route entry, unless
              <b>--if-exists </b>is specified.

       <b>lr-route-list </b><i>router</i>
              Lists the routes on <i>router</i>.

   <b>Logical Router Policy Commands</b>
       [<b>--may-exist</b>] [<b>--bfd</b>] <b>lr-policy-add </b><i>router priority match action</i>
       [<i>nexthop</i>[,<i>nexthop</i>,...]] [<i>options key=value]</i>]
              Add Policy to <i>router</i> which provides a way to configure
              permit/deny and reroute policies on the router.
              Permit/deny policies are similar to OVN ACLs, but exist on
              the logical-router. Reroute policies are needed for
              service-insertion and service-chaining. <i>nexthop</i> is an
              optional parameter. It needs to be provided only when
              <i>action</i> is <i>reroute</i>. Multiple <b>nexthops </b>can be specified for
              ECMP routing. A policy is uniquely identified by <i>priority</i>
              and <i>match</i>. Multiple policies can have the same <i>priority</i>.
              <i>options</i> sets the router policy options as key-value pair.
              The supported option is : <b>pkt_mark</b>.

              If <b>--may-exist </b>is specified, adding a duplicated routing
              policy with the same priority and match string is not
              really created. Without <b>--may-exist</b>, adding a duplicated
              routing policy results in error.

              <b>--bfd </b>option is used to link a BFD session to the OVN
              reroute policy. OVN will look for an already running BFD
              session using next-hop as lookup key in the BFD table. If
              the lookup fails, a new entry in the BFD table will be
              created using the <i>nexthop</i> as <i>dst_ip</i>.

              The following example shows a policy to lr1, which will
              drop packets from<b>192.168.100.0/24</b>.

              <b>lr-policy-add lr1 100 ip4.src == 192.168.100.0/24 drop</b>.

               <b>lr-policy-add lr1 100 ip4.src == 192.168.100.0/24 allow</b>
              <b>pkt_mark=100 </b>.

       [<b>--if-exists</b>] <b>lr-policy-del </b><i>router</i> [<i>{priority | uuid} [match]</i>]
              Deletes polices from <i>router</i>. If only <i>router</i> is supplied,
              all the polices from the logical router are deleted. If
              <i>priority</i> and/or <i>match</i> are also specified, then all the
              polices that match the conditions will be deleted from the
              logical router.

              If <i>router</i> and <i>uuid</i> are supplied, then the policy with
              specified uuid is deleted. It is an error if <i>uuid</i> does not
              exist, unless <b>--if-exists </b>is specified.

       <b>lr-policy-list </b><i>router</i>
              Lists the polices on <i>router</i>.

   <b>NAT Commands</b>
       [<b>--may-exist</b>] [<b>--stateless</b>] [<b>--gateway-port</b>=<i>GATEWAY_PORT</i>]
       [-portrange] <b>lr-nat-add </b><i>router type external_ip logical_ip</i>
       [<i>logical_port external_mac</i>] [<i>external_port_range</i>]
              Adds the specified NAT to <i>router</i>. The <i>type</i> must be one of
              <b>snat</b>, <b>dnat</b>, or <b>dnat_and_snat</b>. The <i>external_ip</i> is an IPv4
              address. The <i>logical_ip</i> is an IPv4 network (e.g
              192.168.1.0/24) or an IPv4 address. The <i>logical_port</i> and
              <i>external_mac</i> are only accepted when <i>router</i> is a
              distributed router (rather than a gateway router) and <i>type</i>
              is <b>dnat_and_snat</b>. The <i>logical_port</i> is the name of an
              existing logical switch port where the <i>logical_ip</i> resides.
              The <i>external_mac</i> is an Ethernet address.

              When <b>--stateless </b>is specified then it implies that we will
              be not use connection tracker, i.e internal ip and
              external ip are 1:1 mapped. This implies that <b>--stateless</b>
              is applicable only to dnat_and_snat type NAT rules. An
              external ip with <b>--stateless </b>NAT cannot be shared with any
              other NAT rule.

              <b>--gateway-port </b>option allows specifying the distributed
              gateway port of <i>router</i> where the NAT rule needs to be
              applied. <i>GATEWAY_PORT</i> should reference a
              <b>Logical_Router_Port </b>row that is a distributed gateway port
              of <i>router</i>. When <i>router</i> has multiple distributed gateway
              ports and the gateway port for this NAT can’t be inferred
              from the <i>external_ip</i>, it is an error to not specify the
              <i>GATEWAY_PORT</i>.

              If the <b>--portrange </b>option is specified, then a range of
              ports may be specified in the <b>external_port_range </b>part of
              the <b>lr-nat-add </b>command. If this option is omitted, then an
              external port range may not be specified. The format of
              the port range is <b>port_low-port_high</b>, where <i>port_low</i> is a
              lower number than <i>port_high</i>. When the packet is NATted, a
              random port from the range will be selected as the source
              port. The range for the <b>external_port_range </b>is <b>1-65535</b>.

              When <i>type</i> is <b>dnat</b>, the externally visible IP address
              <i>external_ip</i> is DNATted to the IP address <i>logical_ip</i> in the
              logical space.

              When <i>type</i> is <b>snat</b>, IP packets with their source IP address
              that either matches the IP address in <i>logical_ip</i> or is in
              the network provided by <i>logical_ip</i> is SNATed into the IP
              address in <i>external_ip</i>.

              When <i>type</i> is <b>dnat_and_snat</b>, the externally visible IP
              address <i>external_ip</i> is DNATted to the IP address
              <i>logical_ip</i> in the logical space. In addition, IP packets
              with the source IP address that matches <i>logical_ip</i> is
              SNATed into the IP address in <i>external_ip</i>.

              When the <i>logical_port</i> and <i>external_mac</i> are specified, the
              NAT rule will be programmed on the chassis where the
              <i>logical_port</i> resides. This includes ARP replies for the
              <i>external_ip</i>, which return the value of <i>external_mac</i>. All
              packets transmitted with source IP address equal to
              <i>external_ip</i> will be sent using the <i>external_mac</i>.

              It is an error if a NAT already exists with the same
              values of <i>router</i>, <i>type</i>, <i>external_ip</i>, <i>logical_ip</i> and
              <i>GATEWAY_PORT</i> (in case of multiple distributed gateway
              ports), unless <b>--may-exist </b>is specified. When <b>--may-exist</b>,
              <i>logical_port</i>, and <i>external_mac</i> are all specified, the
              existing values of <i>logical_port</i> and <i>external_mac</i> are
              overwritten.

       [<b>--if-exists</b>] <b>lr-nat-del </b><i>router</i> [<i>type</i> [<i>ip</i>] [<i>gateway_port</i>]]
              Deletes NATs from <i>router</i>. If only <i>router</i> is supplied, all
              the NATs from the logical router are deleted. If <i>type</i> is
              also specified, then all the NATs that match the <i>type</i> will
              be deleted from the logical router. If <i>ip</i> is also
              specified without specifying <i>gateway_port</i>, then all the
              NATs that match the <i>type</i> and <i>ip</i> will be deleted from the
              logical router. If <i>gateway_port</i> is specified without
              specifying <i>ip</i>, then all the NATs that match the <i>type</i> and
              <i>gateway_port</i> will be deleted from the logical router. If
              all the fields are given, then a single NAT rule that
              matches all the fields will be deleted. When <i>type</i> is <b>snat</b>,
              the <i>ip</i> should be logical_ip. When <i>type</i> is <b>dnat </b>or
              <b>dnat_and_snat</b>, the <i>ip</i> should be external_ip.

              It is an error if both <i>ip</i> and <i>gateway_port</i> are specified
              and there is no matching NAT entry, unless <b>--if-exists </b>is
              specified.

       <b>lr-nat-list </b><i>router</i>
              Lists the NATs on <i>router</i>.

   <b>Load Balancer Commands</b>
       [<b>--may-exist </b>| <b>--add-duplicate </b>| <b>--reject </b>| <b>--event</b>] <b>lb-add </b><i>lb</i>
       <i>vip ips</i> [<i>protocol</i>]
              Creates a new load balancer named <i>lb</i> with the provided <i>vip</i>
              and <i>ips</i> or adds the <i>vip</i> to an existing <i>lb</i>. <i>vip</i> should be a
              virtual IP address (or an IP address and a port number
              with <b>: </b>as a separator). Examples for <i>vip</i> are <b>192.168.1.4</b>,
              <b>fd0f::1</b>, and <b>192.168.1.5:8080</b>. <i>ips</i> should be comma
              separated IP endpoints (or comma separated IP addresses
              and port numbers with <b>: </b>as a separator). <i>ips</i> must be the
              same address family as <i>vip</i>. Examples for <i>ips</i> are
              <b>10.0.0.1,10.0.0.2</b>or <b>[fdef::1]:8800,[fdef::2]:8800</b>.

              The optional argument <i>protocol</i> must be either <b>tcp</b>, <b>udp </b>or
              <b>sctp</b>. This argument is useful when a port number is
              provided as part of the <i>vip</i>. If the <i>protocol</i> is
              unspecified and a port number is provided as part of the
              <i>vip</i>, OVN assumes the <i>protocol</i> to be <b>tcp</b>.

              It is an error if the <i>vip</i> already exists in the load
              balancer named <i>lb</i>, unless <b>--may-exist </b>is specified. With
              <b>--add-duplicate</b>, the command really creates a new load
              balancer with a duplicate name.

              If the load balancer is created with <b>--reject </b>option and
              it has no active backends, a TCP reset segment (for tcp)
              or an ICMP port unreachable packet (for all other kind of
              traffic) will be sent whenever an incoming packet is
              received for this load-balancer. Please note using
              <b>--reject </b>option will disable empty_lb SB controller event
              for this load balancer.

              If the load balancer is created with <b>--event </b>option and it
              has no active backends, whenever the lb receives traffic,
              the event is reported in the Controller_Event table in the
              SB db. Please note <b>--event </b>option can’t be specified with
              <b>--reject </b>one.

              The following example adds a load balancer.

              <b>lb-add lb0 30.0.0.10:80</b>
              <b>192.168.10.10:80,192.168.10.20:80,192.168.10.30:80 udp</b>

       [<b>--if-exists</b>] <b>lb-del </b><i>lb</i> [<i>vip</i>]
              Deletes <i>lb</i> or the <i>vip</i> from <i>lb</i>. If <i>vip</i> is supplied, only
              the <i>vip</i> will be deleted from the <i>lb</i>. If only the <i>lb</i> is
              supplied, the <i>lb</i> will be deleted. It is an error if <i>vip</i>
              does not already exist in <i>lb</i>, unless <b>--if-exists </b>is
              specified.

       <b>lb-list </b>[<i>lb</i>]
              Lists the LBs. If <i>lb</i> is also specified, then only the
              specified <i>lb</i> will be listed.

       [<b>--may-exist</b>] <b>ls-lb-add </b><i>switch lb</i>
              Adds the specified <i>lb</i> to <i>switch</i>. It is an error if a load
              balancer named <i>lb</i> already exists in the <i>switch</i>, unless
              <b>--may-exist </b>is specified.

       [<b>--if-exists</b>] <b>ls-lb-del </b><i>switch</i> [<i>lb</i>]
              Removes <i>lb</i> from <i>switch</i>. If only <i>switch</i> is supplied, all
              the LBs from the logical switch are removed. If <i>lb</i> is also
              specified, then only the <i>lb</i> will be removed from the
              logical switch. It is an error if <i>lb</i> does not exist in the
              <i>switch</i>, unless <b>--if-exists </b>is specified.

       <b>ls-lb-list </b><i>switch</i>
              Lists the LBs for the given <i>switch</i>.

       [<b>--may-exist</b>] <b>lr-lb-add </b><i>router lb</i>
              Adds the specified <i>lb</i> to <i>router</i>. It is an error if a load
              balancer named <i>lb</i> already exists in the <i>router</i>, unless
              <b>--may-exist </b>is specified.

       [<b>--if-exists</b>] <b>lr-lb-del </b><i>router</i> [<i>lb</i>]
              Removes <i>lb</i> from <i>router</i>. If only <i>router</i> is supplied, all
              the LBs from the logical router are removed. If <i>lb</i> is also
              specified, then only the <i>lb</i> will be removed from the
              logical router. It is an error if <i>lb</i> does not exist in the
              <i>router</i>, unless <b>--if-exists </b>is specified.

       <b>lr-lb-list </b><i>router</i>
              Lists the LBs for the given <i>router</i>.

   <b>DHCP Options commands</b>
       <b>dhcp-options-create </b><i>cidr</i> [<i>key=value</i>]
              Creates a new DHCP Options entry in the <b>DHCP_Options </b>table
              with the specified <b>cidr </b>and optional <b>external-ids</b>.

       <b>dhcp-options-list</b>
              Lists the DHCP Options entries.

       <b>dhcp-options-del </b><i>dhcp-option</i>
              Deletes the DHCP Options entry referred by <i>dhcp-option</i>
              UUID.

       <b>dhcp-options-set-options </b><i>dhcp-option</i> [<i>key=value</i>]...
              Set the DHCP Options for the <i>dhcp-option</i> UUID.

       <b>dhcp-options-get-options </b><i>dhcp-option</i>
              Lists the DHCP Options for the <i>dhcp-option</i> UUID.

   <b>Port Group commands</b>
       <b>pg-add </b><i>group</i> [<i>port</i>]...
              Creates a new port group in the <b>Port_Group </b>table named
              <b>group </b>with optional <b>ports </b>added to the group.

       <b>pg-set-ports </b><i>group port</i>...
              Sets <b>ports </b>on the port group named <b>group</b>. It is an error
              if <b>group </b>does not exist.

       <b>pg-del </b><i>group</i>
              Deletes port group <b>group</b>. It is an error if <b>group </b>does not
              exist.

   <b>HA Chassis Group commands</b>
       <b>ha-chassis-group-add </b><i>group</i>
              Creates a new HA chassis group in the <b>HA_Chassis_Group</b>
              table named <b>group</b>.

       <b>ha-chassis-group-del </b><i>group</i>
              Deletes the HA chassis group <b>group</b>. It is an error if
              <b>group </b>does not exist.

       <b>ha-chassis-group-list </b>[<i>ha-chassis-group</i>]
              Lists all HA chassis groups along with the <b>HA chassis </b>if
              any associated with it. If <i>ha-chassis-group</i> is also
              specified, then only the specified <i>ha-chassis-group</i> will
              be listed.

       <b>ha-chassis-group-add-chassis </b><i>group chassis priority</i>
              Adds a new HA chassis <b>chassis </b>to the HA Chassis group
              <b>group </b>with the specified priority. If the <b>chassis </b>already
              exists, then the <b>priority </b>is updated. The <b>chassis </b>should
              be the name of the chassis in the <b>OVN_Southbound</b>.

       <b>ha-chassis-group-remove-chassis </b><i>group chassis</i>
              Removes the HA chassis <b>chassis </b>from the HA chassis group
              <b>group</b>. It is an error if <b>chassis </b>does not exist.

   <b>Control Plane Protection Policy commands</b>
       These commands manage meters configured in <b>Copp </b>table linking
       them to logical datapaths through <b>copp </b>column in <b>Logical_Switch</b>
       or <b>Logical_Router </b>tables. Protocol packets for which CoPP is
       enforced when sending packets to ovn-controller (if configured):

              •      ARP

              •      ND_NS

              •      ND_NA

              •      ND_RA

              •      ND

              •      DNS

              •      IGMP

              •      packets that require ARP resolution before
                     forwarding

              •      packets that require ND_NS before forwarding

              •      packets that need to be replied to with ICMP Errors

              •      packets that need to be replied to with TCP RST

              •      packets that need to be replied to with DHCP_OPTS

              •      packets that trigger a reject action

              •      packets that trigger a SCTP abort action

              •      controller_events

              •      BFD

              <b>copp-add </b><i>name proto meter</i>
                     Adds the control <b>proto </b>to <b>meter </b>mapping to the
                     control plane protection policy <b>name</b>. If no policy
                     exists yet, it creates one. If a mapping already
                     existed for <b>proto</b>, this will overwrite it.

              <b>copp-del </b><i>name</i> [<i>proto</i>]
                     Removes the control <b>proto </b>mapping for the <b>name</b>
                     control plane protection policy. If <b>proto </b>is not
                     specified, the whole control plane protection
                     policy is destroyed.

              <b>copp-list </b><i>name</i>
                     Display the current control plane protection policy
                     for <b>name</b>.

              <b>ls-copp-add </b><i>name switch</i>
                     Adds the control plane protection policy <b>name </b>to
                     the logical switch <b>switch</b>.

              <b>lr-copp-add </b><i>name router</i>
                     Adds the control plane protection policy <b>name </b>to
                     the logical router <b>router</b>.

   <b>Mirror commands</b>
       <b>mirror-add </b><i>m type</i> [<i>index</i>] <i>filter dest</i>
              Creates a new mirror in the <b>Mirror </b>table with the name <b>m</b>
              with the below mandatory arguments.

              <i>type</i> specifies the mirror type - <b>gre </b>, <b>erspan </b>or <b>local</b>.

              <i>index</i> specifies the tunnel index value (which is an
              integer) if the <i>type</i> is <b>gre </b>or <b>erspan</b>.

              <i>filter</i> specifies the mirror source selection. Can be
              <b>from-lport</b>, <b>to-lport </b>or <b>both</b>.

              <i>dest</i> specifies the mirror destination IP (v4 or v6) if the
              <i>type</i> is <b>gre </b>or <b>erspan</b>. For a <i>type</i> of <b>local</b>, this field
              defines a local interface on the OVS integration bridge to
              be used as the mirror destination. The interface must
              possess external-ids:mirror-id that matches this string.

       <b>mirror-del </b><i>m</i>
              Deletes the mirror <b>m</b>.

       <b>mirror-list</b>
              Lists the mirrors.

   <b>Synchronization Commands</b>
       sync   Ordinarily, <b>--wait=sb </b>or <b>--wait=hv </b>only waits for changes
              by the current <b>ovn-nbctl </b>invocation to take effect. This
              means that, if none of the commands supplied to <b>ovn-nbctl</b>
              change the database, then the command does not wait at
              all. With the <b>sync </b>command, however, <b>ovn-nbctl </b>waits even
              for earlier changes to the database to propagate down to
              the southbound database or all of the OVN chassis,
              according to the argument to <b>--wait</b>.

   <b>Remote Connectivity Commands</b>
       These commands manipulate the <b>connections </b>column in the <b>NB_Global</b>
       table and rows in the <b>Connection </b>table. When <b>ovsdb-server </b>is
       configured to use the <b>connections </b>column for OVSDB connections,
       this allows the administrator to use <b>ovn-nbctl </b>to configure
       database connections.

              <b>get-connection</b>
                     Prints the configured connection(s).

              <b>del-connection</b>
                     Deletes the configured connection(s).

              [<b>--inactivity-probe=</b><i>msecs</i>] <b>set-connection </b><i>target</i>...
                     Sets the configured manager target or targets. Use
                     <b>--inactivity-probe=</b><i>msecs</i> to override the default
                     idle connection inactivity probe time. Use 0 to
                     disable inactivity probes.

   <b>SSL Configuration Commands</b>
       <b>get-ssl</b>
              Prints the SSL configuration.

       <b>del-ssl</b>
              Deletes the current SSL configuration.

       [<b>--bootstrap</b>] <b>set-ssl </b><i>private-key certificate ca-cert</i> [<i>ssl-</i>
       <i>protocol-list</i> [<i>ssl-cipher-list</i>]]
              Sets the SSL configuration.

   <b>Database Commands</b>
       These commands query and modify the contents of <b>ovsdb </b>tables.
       They are a slight abstraction of the <b>ovsdb </b>interface and as such
       they operate at a lower level than other <b>ovn-nbctl </b>commands.

       <i>Identifying Tables, Records, and Columns</i>

       Each of these commands has a <i>table</i> parameter to identify a table
       within the database. Many of them also take a <i>record</i> parameter
       that identifies a particular record within a table. The <i>record</i>
       parameter may be the UUID for a record, which may be abbreviated
       to its first 4 (or more) hex digits, as long as that is unique.
       Many tables offer additional ways to identify records. Some
       commands also take <i>column</i> parameters that identify a particular
       field within the records in a table.

       For a list of tables and their columns, see <a href="../man5/ovn-nb.5.html">ovn-nb(5)</a> or see the
       table listing from the <b>--help </b>option.

       Record names must be specified in full and with correct
       capitalization, except that UUIDs may be abbreviated to their
       first 4 (or more) hex digits, as long as that is unique within
       the table. Names of tables and columns are not case-sensitive,
       and <b>- </b>and <b>_ </b>are treated interchangeably. Unique abbreviations of
       table and column names are acceptable, e.g. <b>d </b>or <b>dhcp </b>is
       sufficient to identify the <b>DHCP_Options </b>table.

       <i>Database Values</i>

       Each column in the database accepts a fixed type of data. The
       currently defined basic types, and their representations, are:

              integer
                     A decimal integer in the range -2**63 to 2**63-1,
                     inclusive.

              real   A floating-point number.

              Boolean
                     True or false, written <b>true </b>or <b>false</b>, respectively.

              string An arbitrary Unicode string, except that null bytes
                     are not allowed. Quotes are optional for most
                     strings that begin with an English letter or
                     underscore and consist only of letters,
                     underscores, hyphens, and periods. However, <b>true</b>
                     and <b>false </b>and strings that match the syntax of
                     UUIDs (see below) must be enclosed in double quotes
                     to distinguish them from other basic types. When
                     double quotes are used, the syntax is that of
                     strings in JSON, e.g. backslashes may be used to
                     escape special characters. The empty string must be
                     represented as a pair of double quotes (<b>""</b>).

              UUID   Either a universally unique identifier in the style
                     of RFC 4122, e.g.
                     <b>f81d4fae-7dec-11d0-a765-00a0c91e6bf6</b>, or an <b>@</b><i>name</i>
                     defined by a <b>get </b>or <b>create </b>command within the same
                     <b>ovs-vsctl </b>invocation.

       Multiple values in a single column may be separated by spaces or
       a single comma. When multiple values are present, duplicates are
       not allowed, and order is not important. Conversely, some
       database columns can have an empty set of values, represented as
       <b>[]</b>, and square brackets may optionally enclose other non-empty
       sets or single values as well.

       A few database columns are ``maps’’ of key-value pairs, where the
       key and the value are each some fixed database type. These are
       specified in the form <i>key</i><b>=</b><i>value</i>, where <i>key</i> and <i>value</i> follow the
       syntax for the column’s key type and value type, respectively.
       When multiple pairs are present (separated by spaces or a comma),
       duplicate keys are not allowed, and again the order is not
       important. Duplicate values are allowed. An empty map is
       represented as <b>{}</b>. Curly braces may optionally enclose non-empty
       maps as well (but use quotes to prevent the shell from expanding
       <b>other-config={0=x,1=y} </b>into <b>other-config=0=x other-config=1=y</b>,
       which may not have the desired effect).

       <i>Database Command Syntax</i>

              [<b>--if-exists</b>] [<b>--columns=</b><i>column</i>[<b>,</b><i>column</i>]...] <b>list </b><i>table</i>
              [<i>record</i>]...
                     Lists the data in each specified <i>record</i>. If no
                     records are specified, lists all the records in
                     <i>table</i>.

                     If <b>--columns </b>is specified, only the requested
                     columns are listed, in the specified order.
                     Otherwise, all columns are listed, in alphabetical
                     order by column name.

                     Without <b>--if-exists</b>, it is an error if any
                     specified <i>record</i> does not exist. With <b>--if-exists</b>,
                     the command ignores any <i>record</i> that does not exist,
                     without producing any output.

              [<b>--columns=</b><i>column</i>[<b>,</b><i>column</i>]...] <b>find </b><i>table</i>
              [<i>column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i>]...
                     Lists the data in each record in <i>table</i> whose <i>column</i>
                     equals <i>value</i> or, if <i>key</i> is specified, whose <i>column</i>
                     contains a <i>key</i> with the specified <i>value</i>. The
                     following operators may be used where <b>= </b>is written
                     in the syntax summary:

                     <b>= != &lt; &gt; &lt;= &gt;=</b>
                            Selects records in which <i>column</i>[<b>:</b><i>key</i>]
                            equals, does not equal, is less than, is
                            greater than, is less than or equal to, or
                            is greater than or equal to <i>value</i>,
                            respectively.

                            Consider <i>column</i>[<b>:</b><i>key</i>] and <i>value</i> as sets of
                            elements. Identical sets are considered
                            equal. Otherwise, if the sets have different
                            numbers of elements, then the set with more
                            elements is considered to be larger.
                            Otherwise, consider a element from each set
                            pairwise, in increasing order within each
                            set. The first pair that differs determines
                            the result. (For a column that contains key-
                            value pairs, first all the keys are
                            compared, and values are considered only if
                            the two sets contain identical keys.)

                     <b>{=} {!=}</b>
                            Test for set equality or inequality,
                            respectively.

                     <b>{&lt;=}   </b>Selects records in which <i>column</i>[<b>:</b><i>key</i>] is a
                            subset of <i>value</i>. For example,
                            <b>flood-vlans{&lt;=}1,2 </b>selects records in which
                            the <b>flood-vlans </b>column is the empty set or
                            contains 1 or 2 or both.

                     <b>{&lt;}    </b>Selects records in which <i>column</i>[<b>:</b><i>key</i>] is a
                            proper subset of <i>value</i>. For example,
                            <b>flood-vlans{&lt;}1,2 </b>selects records in which
                            the <b>flood-vlans </b>column is the empty set or
                            contains 1 or 2 but not both.

                     <b>{&gt;=} {&gt;}</b>
                            Same as <b>{&lt;=} </b>and <b>{&lt;}</b>, respectively, except
                            that the relationship is reversed. For
                            example, <b>flood-vlans{&gt;=}1,2 </b>selects records
                            in which the <b>flood-vlans </b>column contains
                            both 1 and 2.

                     The following operators are available only in Open
                     vSwitch 2.16 and later:

                     <b>{in}   </b>Selects records in which every element in
                            <i>column</i>[<b>:</b><i>key</i>] is also in <i>value</i>. (This is the
                            same as <b>{&lt;=}</b>.)

                     <b>{not-in}</b>
                            Selects records in which every element in
                            <i>column</i>[<b>:</b><i>key</i>] is not in <i>value</i>.

                     For arithmetic operators (<b>= != &lt; &gt; &lt;= &gt;=</b>), when <i>key</i>
                     is specified but a particular record’s <i>column</i> does
                     not contain <i>key</i>, the record is always omitted from
                     the results. Thus, the condition
                     <b>other-config:mtu!=1500 </b>matches records that have a
                     <b>mtu </b>key whose value is not 1500, but not those that
                     lack an <b>mtu </b>key.

                     For the set operators, when <i>key</i> is specified but a
                     particular record’s <i>column</i> does not contain <i>key</i>,
                     the comparison is done against an empty set. Thus,
                     the condition <b>other-config:mtu{!=}1500 </b>matches
                     records that have a <b>mtu </b>key whose value is not 1500
                     and those that lack an <b>mtu </b>key.

                     Don’t forget to escape <b>&lt; </b>or <b>&gt; </b>from interpretation
                     by the shell.

                     If <b>--columns </b>is specified, only the requested
                     columns are listed, in the specified order.
                     Otherwise all columns are listed, in alphabetical
                     order by column name.

                     The UUIDs shown for rows created in the same
                     <b>ovs-vsctl </b>invocation will be wrong.

              [<b>--if-exists</b>] [<b>--id=@</b><i>name</i>] <b>get </b><i>table record</i>
              [<i>column</i>[<b>:</b><i>key</i>]]...
                     Prints the value of each specified <i>column</i> in the
                     given <i>record</i> in <i>table</i>. For map columns, a <i>key</i> may
                     optionally be specified, in which case the value
                     associated with <i>key</i> in the column is printed,
                     instead of the entire map.

                     Without <b>--if-exists</b>, it is an error if <i>record</i> does
                     not exist or <i>key</i> is specified, if <i>key</i> does not
                     exist in <i>record</i>. With <b>--if-exists</b>, a missing <i>record</i>
                     yields no output and a missing <i>key</i> prints a blank
                     line.

                     If <b>@</b><i>name</i> is specified, then the UUID for <i>record</i> may
                     be referred to by that name later in the same
                     <b>ovs-vsctl </b>invocation in contexts where a UUID is
                     expected.

                     Both <b>--id </b>and the <i>column</i> arguments are optional,
                     but usually at least one or the other should be
                     specified. If both are omitted, then <b>get </b>has no
                     effect except to verify that <i>record</i> exists in
                     <i>table</i>.

                     <b>--id </b>and <b>--if-exists </b>cannot be used together.

              [<b>--if-exists</b>] <b>set </b><i>table record column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i>...
                     Sets the value of each specified <i>column</i> in the
                     given <i>record</i> in <i>table</i> to <i>value</i>. For map columns, a
                     <i>key</i> may optionally be specified, in which case the
                     value associated with <i>key</i> in that column is changed
                     (or added, if none exists), instead of the entire
                     map.

                     Without <b>--if-exists</b>, it is an error if <i>record</i> does
                     not exist. With <b>--if-exists</b>, this command does
                     nothing if <i>record</i> does not exist.

              [<b>--if-exists</b>] <b>add </b><i>table record column</i> [<i>key</i><b>=</b>]<i>value</i>...
                     Adds the specified value or key-value pair to
                     <i>column</i> in <i>record</i> in <i>table</i>. If <i>column</i> is a map, then
                     <i>key</i> is required, otherwise it is prohibited. If <i>key</i>
                     already exists in a map column, then the current
                     <i>value</i> is not replaced (use the <b>set </b>command to
                     replace an existing value).

                     Without <b>--if-exists</b>, it is an error if <i>record</i> does
                     not exist. With <b>--if-exists</b>, this command does
                     nothing if <i>record</i> does not exist.

              [<b>--if-exists</b>] <b>remove </b><i>table record column value</i>...

                     [<b>--if-exists</b>] <b>remove </b><i>table record column key</i>...

                     [<b>--if-exists</b>] <b>remove </b><i>table record column</i>
                     <i>key</i><b>=</b><i>value</i>...  Removes the specified values or key-
                     value pairs from <i>column</i> in <i>record</i> in <i>table</i>. The
                     first form applies to columns that are not maps:
                     each specified <i>value</i> is removed from the column.
                     The second and third forms apply to map columns: if
                     only a <i>key</i> is specified, then any key-value pair
                     with the given <i>key</i> is removed, regardless of its
                     value; if a <i>value</i> is given then a pair is removed
                     only if both key and value match.

                     It is not an error if the column does not contain
                     the specified key or value or pair.

                     Without <b>--if-exists</b>, it is an error if <i>record</i> does
                     not exist. With <b>--if-exists</b>, this command does
                     nothing if <i>record</i> does not exist.

              [<b>--if-exists</b>] <b>clear </b><i>table record column</i>...
                     Sets each <i>column</i> in <i>record</i> in <i>table</i> to the empty
                     set or empty map, as appropriate. This command
                     applies only to columns that are allowed to be
                     empty.

                     Without <b>--if-exists</b>, it is an error if <i>record</i> does
                     not exist. With <b>--if-exists</b>, this command does
                     nothing if <i>record</i> does not exist.

              [<b>--id=(@</b><i>name</i>|<i>uuid</i>)] <b>create </b><i>table column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i>...
                     Creates a new record in <i>table</i> and sets the initial
                     values of each <i>column</i>. Columns not explicitly set
                     will receive their default values. Outputs the UUID
                     of the new row.

                     If <b>@</b><i>name</i> is specified, then the UUID for the new
                     row may be referred to by that name elsewhere in
                     the same <b>\*(PN </b>invocation in contexts where a UUID
                     is expected. Such references may precede or follow
                     the <b>create </b>command.

                     If a valid <i>uuid</i> is specified, then it is used as
                     the UUID of the new row.

                     Caution (ovs-vsctl as example)
                            Records in the Open vSwitch database are
                            significant only when they can be reached
                            directly or indirectly from the <b>Open_vSwitch</b>
                            table. Except for records in the <b>QoS </b>or
                            <b>Queue </b>tables, records that are not reachable
                            from the <b>Open_vSwitch </b>table are
                            automatically deleted from the database.
                            This deletion happens immediately, without
                            waiting for additional <b>ovs-vsctl </b>commands or
                            other database activity. Thus, a <b>create</b>
                            command must generally be accompanied by
                            additional commands <i>within the same</i>
                            <b>ovs-vsctl </b><i>invocation</i> to add a chain of
                            references to the newly created record from
                            the top-level <b>Open_vSwitch </b>record. The
                            <b>EXAMPLES </b>section gives some examples that
                            show how to do this.

              [<b>--if-exists</b>] <b>destroy </b><i>table record</i>...
                     Deletes each specified <i>record</i> from <i>table</i>. Unless
                     <b>--if-exists </b>is specified, each <i>record</i>s must exist.

              <b>--all destroy </b><i>table</i>
                     Deletes all records from the <i>table</i>.

                     Caution (ovs-vsctl as example)
                            The <b>destroy </b>command is only useful for
                            records in the <b>QoS </b>or <b>Queue </b>tables. Records
                            in other tables are automatically deleted
                            from the database when they become
                            unreachable from the <b>Open_vSwitch </b>table.
                            This means that deleting the last reference
                            to a record is sufficient for deleting the
                            record itself. For records in these tables,
                            <b>destroy </b>is silently ignored. See the
                            <b>EXAMPLES </b>section below for more information.

              <b>wait-until </b><i>table record</i> [<i>column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i>]...
                     Waits until <i>table</i> contains a record named <i>record</i>
                     whose <i>column</i> equals <i>value</i> or, if <i>key</i> is specified,
                     whose <i>column</i> contains a <i>key</i> with the specified
                     <i>value</i>. This command supports the same operators and
                     semantics described for the <b>find </b>command above.

                     If no <i>column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i> arguments are given, this
                     command waits only until <i>record</i> exists. If more
                     than one such argument is given, the command waits
                     until all of them are satisfied.

                     Caution (ovs-vsctl as example)
                            Usually <b>wait-until </b>should be placed at the
                            beginning of a set of <b>ovs-vsctl </b>commands.
                            For example, <b>wait-until bridge br0 -- get</b>
                            <b>bridge br0 datapath_id </b>waits until a bridge
                            named <b>br0 </b>is created, then prints its
                            <b>datapath_id </b>column, whereas <b>get bridge br0</b>
                            <b>datapath_id -- wait-until bridge br0 </b>will
                            abort if no bridge named <b>br0 </b>exists when
                            <b>ovs-vsctl </b>initially connects to the
                            database.

                     Consider specifying <b>--timeout=0 </b>along with
                     <b>--wait-until</b>, to prevent <b>ovs-vsctl </b>from terminating
                     after waiting only at most 5 seconds.

              <b>comment </b>[<i>arg</i>]...
                     This command has no effect on behavior, but any
                     database log record created by the command will
                     include the command and its arguments.
</pre> <h2>
ENVIRONMENT </h2>
<pre>
       <b>OVN_NB_DAEMON</b>
              If set, this should name the Unix domain socket for an
              <b>ovn-nbctl </b>server process. See <b>Daemon Mode</b>, above, for more
              information.

       <b>OVN_NBCTL_OPTIONS</b>
              If set, a set of options for <b>ovn-nbctl </b>to apply
              automatically, in the same form as on the command line.

       <b>OVN_NB_DB</b>
              If set, the default database to contact when the <b>--db</b>
              option is not used.
</pre> <h2>
EXIT STATUS </h2>
<pre>
       0      Successful program execution.

       1      Usage, syntax, or network error.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man5/ovn-nb.5.html">ovn-nb(5)</a>, <a href="ovn-appctl.8.html">ovn-appctl(8)</a>.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>Open Virtual Network</i> (Daemons for Open
       vSwitch that translate virtual network configurations into
       OpenFlow) project.  Information about the project can be found at
       ⟨<a href="https://www.ovn.org/">https://www.ovn.org/</a>⟩.  If you have a bug report for this manual
       page, send it to bugs@openvswitch.org.  This page was obtained
       from the project's upstream Git repository
       ⟨<a href="https://github.com/ovn-org/ovn">https://github.com/ovn-org/ovn</a>⟩ on 2024-06-14.  (At that time,
       the date of the most recent commit that was found in the
       repository was 2024-06-12.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">OVN 24.03.90                    ovn-nbctl                   <i>ovn-nbctl</i>(8)</span>
</pre>  <p>Pages that refer to this page: <a href="../man1/ovn-detrace.1.html">ovn-detrace(1)</a>, <a href="../man7/ovsdb.7.html">ovsdb(7)</a>, <a href="ovn-controller.8.html">ovn-controller(8)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/ovn-nbctl.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/ovn-nbctl.8.html</a>
  </p>
</div>
