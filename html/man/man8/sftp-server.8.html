<h1>sftp-server(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>SFTP-SERVER</i>(8)           System Manager's Manual          <i>SFTP-SERVER</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       <b>sftp-server </b>— OpenSSH SFTP server subsystem
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>sftp-server </b>[<b>-ehR</b>] [<b>-d </b><i>start_directory</i>] [<b>-f </b><i>log_facility</i>]
       [<b>-l </b><i>log_level</i>] [<b>-P </b><i>denied_requests</i>] [<b>-p </b><i>allowed_requests</i>]
       [<b>-u </b><i>umask</i>] <b>sftp-server -Q </b><i>protocol_feature</i>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>sftp-server </b>is a program that speaks the server side of SFTP
       protocol to stdout and expects client requests from stdin.
       <b>sftp-server </b>is not intended to be called directly, but from
       <i>sshd</i>(8) using the <b>Subsystem </b>option.

       Command-line flags to <b>sftp-server </b>should be specified in the
       <b>Subsystem </b>declaration.  See <i>sshd_config</i>(5) for more information.

       Valid options are:

       <b>-d </b><i>start_directory</i>
               Specifies an alternate starting directory for users.  The
               pathname may contain the following tokens that are
               expanded at runtime: %% is replaced by a literal '%', %d
               is replaced by the home directory of the user being
               authenticated, and %u is replaced by the username of that
               user.  The default is to use the user's home directory.
               This option is useful in conjunction with the
               <i>sshd_config</i>(5) <b>ChrootDirectory </b>option.

       <b>-e      </b>Causes <b>sftp-server </b>to print logging information to stderr
               instead of syslog for debugging.

       <b>-f </b><i>log_facility</i>
               Specifies the facility code that is used when logging
               messages from <b>sftp-server</b>.  The possible values are:
               DAEMON, USER, AUTH, LOCAL0, LOCAL1, LOCAL2, LOCAL3,
               LOCAL4, LOCAL5, LOCAL6, LOCAL7.  The default is AUTH.

       <b>-h      </b>Displays <b>sftp-server </b>usage information.

       <b>-l </b><i>log_level</i>
               Specifies which messages will be logged by <b>sftp-server</b>.
               The possible values are: QUIET, FATAL, ERROR, INFO,
               VERBOSE, DEBUG, DEBUG1, DEBUG2, and DEBUG3.  INFO and
               VERBOSE log transactions that <b>sftp-server </b>performs on
               behalf of the client.  DEBUG and DEBUG1 are equivalent.
               DEBUG2 and DEBUG3 each specify higher levels of debugging
               output.  The default is ERROR.

       <b>-P </b><i>denied_requests</i>
               Specifies a comma-separated list of SFTP protocol
               requests that are banned by the server.  <b>sftp-server </b>will
               reply to any denied request with a failure.  The <b>-Q </b>flag
               can be used to determine the supported request types.  If
               both denied and allowed lists are specified, then the
               denied list is applied before the allowed list.

       <b>-p </b><i>allowed_requests</i>
               Specifies a comma-separated list of SFTP protocol
               requests that are permitted by the server.  All request
               types that are not on the allowed list will be logged and
               replied to with a failure message.

               Care must be taken when using this feature to ensure that
               requests made implicitly by SFTP clients are permitted.

       <b>-Q </b><i>protocol_feature</i>
               Queries protocol features supported by <b>sftp-server</b>.  At
               present the only feature that may be queried is
               “requests”, which may be used to deny or allow specific
               requests (flags <b>-P </b>and <b>-p </b>respectively).

       <b>-R      </b>Places this instance of <b>sftp-server </b>into a read-only
               mode.  Attempts to open files for writing, as well as
               other operations that change the state of the filesystem,
               will be denied.

       <b>-u </b><i>umask</i>
               Sets an explicit <i>umask</i>(2) to be applied to newly-created
               files and directories, instead of the user's default
               mask.

       On some systems, <b>sftp-server </b>must be able to access <i>/dev/log</i> for
       logging to work, and use of <b>sftp-server </b>in a chroot configuration
       therefore requires that <i>syslogd</i>(8) establish a logging socket
       inside the chroot directory.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <i>sftp</i>(1), <i>ssh</i>(1), <i>sshd_config</i>(5), <i>sshd</i>(8) T. Ylonen and S.
       Lehtinen, <i>SSH File Transfer Protocol</i>, draft-ietf-secsh-
       filexfer-02.txt, October 2001, work in progress material.
</pre> <h2>
HISTORY </h2>
<pre>
       <b>sftp-server </b>first appeared in OpenBSD 2.8.
</pre> <h2>
AUTHORS </h2>
<pre>
       Markus Friedl &lt;<i>markus@openbsd.org</i>&gt;
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>openssh</i> (Portable OpenSSH) project.
       Information about the project can be found at
       <a href="http://www.openssh.com/portable.html">http://www.openssh.com/portable.html</a>.  If you have a bug report
       for this manual page, see ⟨<a href="http://www.openssh.com/report.html">http://www.openssh.com/report.html</a>⟩.
       This page was obtained from the tarball openssh-9.7p1.tar.gz
       fetched from
       ⟨<a href="http://ftp.eu.openbsd.org/pub/OpenBSD/OpenSSH/portable/">http://ftp.eu.openbsd.org/pub/OpenBSD/OpenSSH/portable/</a>⟩ on
       2024-06-14.  If you discover any rendering problems in this HTML
       version of the page, or you believe there is a better or more up-
       to-date source for the page, or you have corrections or
       improvements to the information in this COLOPHON (which is <i>not</i>
       part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">GNU                           July 27, 2021               <i>SFTP-SERVER</i>(8)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/sftp-server.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/sftp-server.8.html</a>
  </p>
</div>
