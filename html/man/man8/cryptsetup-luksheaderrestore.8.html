<h1>cryptsetup-luksHeaderRestore(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>CRYPTSETU...ERRESTORE</i>(8)  Maintenance Commands  <i>CRYPTSETU...ERRESTORE</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       cryptsetup-luksHeaderRestore - restore a binary backup of the
       LUKS header and keyslot area
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>cryptsetup </b><i>luksHeaderRestore</i> <b>--header-backup-file &lt;file&gt;</b>
       <b>[&lt;options&gt;] &lt;device&gt;</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       Restores a binary backup of the LUKS header and keyslot area from
       the specified file.
       <b>NOTE: </b>Using '-' as filename reads the header backup from a file
       named '-'.

       <b>&lt;options&gt; </b>can be [--header, --header-backup-file,
       --disable-locks].

       <b>WARNING: </b>Header and keyslots will be replaced, only the
       passphrases from the backup will work afterward.

       This command requires that the volume key size and data offset of
       the LUKS header already on the device and of the header backup
       match. Alternatively, if there is no LUKS header on the device,
       the backup will also be written to it.
</pre> <h2>
OPTIONS </h2>
<pre>
       <b>--batch-mode, -q</b>
           Suppresses all confirmation questions. Use with care!

           If the --verify-passphrase option is not specified, this
           option also switches off the passphrase verification.

       <b>--debug or --debug-json</b>
           Run in debug mode with full diagnostic logs. Debug output
           lines are always prefixed by <b>#</b>.

           If --debug-json is used, additional LUKS2 JSON data
           structures are printed.

       <b>--disable-locks</b>
           Disable lock protection for metadata on disk. This option is
           valid only for LUKS2 and ignored for other formats.

           <b>WARNING: </b>Do not use this option unless you run cryptsetup in
           a restricted environment where locking is impossible to
           perform (where /run directory cannot be used).

       <b>--header &lt;device or file storing the LUKS header&gt;</b>
           Use a detached (separated) metadata device or file where the
           LUKS header is stored. This option allows one to store
           ciphertext and LUKS header on different devices.

           For commands that change the LUKS header (e.g. <i>luksAddKey</i>),
           specify the device or file with the LUKS header directly as
           the LUKS device.

       <b>--header-backup-file &lt;file&gt;</b>
           Specify file with header backup file.

       <b>--help, -?</b>
           Show help text and default parameters.

       <b>--usage</b>
           Show short option help.

       <b>--version, -V</b>
           Show the program version.
</pre> <h2>
REPORTING BUGS </h2>
<pre>
       Report bugs at <b>cryptsetup mailing list</b>
       &lt;cryptsetup@lists.linux.dev&gt; or in <b>Issues project section</b>
       &lt;<a href="https://gitlab.com/cryptsetup/cryptsetup/-/issues/new">https://gitlab.com/cryptsetup/cryptsetup/-/issues/new</a>&gt;.

       Please attach output of the failed command with --debug option
       added.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <b>Cryptsetup FAQ</b>
       &lt;<a href="https://gitlab.com/cryptsetup/cryptsetup/wikis/FrequentlyAskedQuestions">https://gitlab.com/cryptsetup/cryptsetup/wikis/FrequentlyAskedQuestions</a>&gt;

       <a href="cryptsetup.8.html">cryptsetup(8)</a>, <a href="integritysetup.8.html">integritysetup(8)</a> and <a href="veritysetup.8.html">veritysetup(8)</a>
</pre> <h2>
CRYPTSETUP </h2>
<pre>
       Part of <b>cryptsetup project</b>
       &lt;<a href="https://gitlab.com/cryptsetup/cryptsetup/">https://gitlab.com/cryptsetup/cryptsetup/</a>&gt;. This page is part of
       the <i>Cryptsetup</i> ((open-source disk encryption)) project.
       Information about the project can be found at 
       ⟨<a href="https://gitlab.com/cryptsetup/cryptsetup">https://gitlab.com/cryptsetup/cryptsetup</a>⟩. If you have a bug
       report for this manual page, send it to dm-crypt@saout.de. This
       page was obtained from the project's upstream Git repository
       ⟨<a href="https://gitlab.com/cryptsetup/cryptsetup.git">https://gitlab.com/cryptsetup/cryptsetup.git</a>⟩ on 2024-06-14. (At
       that time, the date of the most recent commit that was found in
       the repository was 2024-06-11.) If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">cryptsetup 2.8.0-git           2023-09-13       <i>CRYPTSETU...ERRESTORE</i>(8)</span>
</pre>  <p>Pages that refer to this page: <a href="cryptsetup.8.html">cryptsetup(8)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/cryptsetup-luksHeaderRestore.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/cryptsetup-luksHeaderRestore.8.html</a>
  </p>
</div>
