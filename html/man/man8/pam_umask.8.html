<h1>pam_umask(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>PAM_UMASK</i>(8)                Linux-PAM Manual                <i>PAM_UMASK</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       pam_umask - PAM module to set the file mode creation mask
</pre> <h2>
SYNOPSIS </h2>
<pre>

       <b>pam_umask.so </b>[debug] [silent] [usergroups] [nousergroups]
                    [umask=<i>mask</i>]
</pre> <h2>
DESCRIPTION </h2>
<pre>
       pam_umask is a PAM module to set the file mode creation mask of
       the current environment. The umask affects the default
       permissions assigned to newly created files.

       The PAM module tries to get the umask value from the following
       places in the following order:

       •   umask= entry in the user's GECOS field

       •   umask= argument

       •   UMASK entry from /etc/login.defs

       •   UMASK= entry from /etc/default/login

       The GECOS field is split on comma ',' characters. The module also
       in addition to the umask= entry recognizes pri= entry, which sets
       the nice priority value for the session, and ulimit= entry, which
       sets the maximum size of files the processes in the session can
       create.
</pre> <h2>
OPTIONS </h2>
<pre>
       <b>debug</b>
           Print debug information.

       <b>silent</b>
           Don't print informative messages.

       <b>usergroups</b>
           If the user is not root and the username is the same as
           primary group name, the umask group bits are set to be the
           same as owner bits (examples: 022 -&gt; 002, 077 -&gt; 007).

       <b>nousergroups</b>
           This is the direct opposite of the usergroups option
           described above, which can be useful in case pam_umask has
           been compiled with usergroups enabled by default and you want
           to disable it at runtime.

       <b>umask=</b><i>mask</i>
           Sets the calling process's file mode creation mask (umask) to
           <b>mask </b>&amp; 0777. The value is interpreted as Octal.
</pre> <h2>
MODULE TYPES PROVIDED </h2>
<pre>
       Only the <b>session </b>type is provided.
</pre> <h2>
RETURN VALUES </h2>
<pre>
       PAM_SUCCESS
           The new umask was set successfully.

       PAM_BUF_ERR
           Memory buffer error.

       PAM_CONV_ERR
           The conversation method supplied by the application failed to
           obtain the username.

       PAM_INCOMPLETE
           The conversation method supplied by the application returned
           PAM_CONV_AGAIN.

       PAM_SERVICE_ERR
           No username was given.

       PAM_USER_UNKNOWN
           User not known.
</pre> <h2>
EXAMPLES </h2>
<pre>
       Add the following line to /etc/pam.d/login to set the user
       specific umask at login:

                   session optional pam_umask.so umask=0022
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man5/pam.conf.5.html">pam.conf(5)</a>, <a href="../man5/pam.d.5.html">pam.d(5)</a>, <a href="pam.8.html">pam(8)</a>
</pre> <h2>
AUTHOR </h2>
<pre>
       pam_umask was written by Thorsten Kukuk &lt;kukuk@thkukuk.de&gt;.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>linux-pam</i> (Pluggable Authentication
       Modules for Linux) project.  Information about the project can be
       found at ⟨<a href="http://www.linux-pam.org/">http://www.linux-pam.org/</a>⟩.  If you have a bug report
       for this manual page, see ⟨//www.linux-pam.org/⟩.  This page was
       obtained from the project's upstream Git repository
       ⟨<a href="https://github.com/linux-pam/linux-pam.git">https://github.com/linux-pam/linux-pam.git</a>⟩ on 2023-12-22.  (At
       that time, the date of the most recent commit that was found in
       the repository was 2023-12-18.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Linux-PAM Manual               12/22/2023                   <i>PAM_UMASK</i>(8)</span>
</pre>  <p>Pages that refer to this page: <a href="../man5/systemd.exec.5.html">systemd.exec(5)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/pam_umask.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/pam_umask.8.html</a>
  </p>
</div>
