<h1>pam_userdb(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>PAM_USERDB</i>(8)               Linux-PAM Manual               <i>PAM_USERDB</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       pam_userdb - PAM module to authenticate against a db database
</pre> <h2>
SYNOPSIS </h2>
<pre>

       <b>pam_userdb.so </b>db=<i>/path/database</i> [debug] [crypt=[crypt|none]]
                     [icase] [dump] [try_first_pass] [use_first_pass]
                     [unknown_ok] [key_only]
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The pam_userdb module is used to verify a username/password pair
       against values stored in a Berkeley DB database. The database is
       indexed by the username, and the data fields corresponding to the
       username keys are the passwords.
</pre> <h2>
OPTIONS </h2>
<pre>
       <b>crypt=[crypt|none]</b>
           Indicates whether encrypted or plaintext passwords are stored
           in the database. If it is <b>crypt</b>, passwords should be stored
           in the database in <a href="../man3/crypt.3.html">crypt(3)</a> form. If <b>none </b>is selected,
           passwords should be stored in the database as plaintext.

       <b>db=</b><i>/path/database</i>
           Use the /path/database database for performing lookup. There
           is no default; the module will return <b>PAM_IGNORE </b>if no
           database is provided. Note that the path to the database file
           should be specified without the .db suffix.

       <b>debug</b>
           Print debug information. Note that password hashes, both from
           db and computed, will be printed to syslog.

       <b>dump</b>
           Dump all the entries in the database to the log. Don't do
           this by default!

       <b>icase</b>
           Make the password verification to be case insensitive (ie
           when working with registration numbers and such). Only works
           with plaintext password storage.

       <b>try_first_pass</b>
           Use the authentication token previously obtained by another
           module that did the conversation with the application. If
           this token can not be obtained then the module will try to
           converse. This option can be used for stacking different
           modules that need to deal with the authentication tokens.

       <b>use_first_pass</b>
           Use the authentication token previously obtained by another
           module that did the conversation with the application. If
           this token can not be obtained then the module will fail.
           This option can be used for stacking different modules that
           need to deal with the authentication tokens.

       <b>unknown_ok</b>
           Do not return error when checking for a user that is not in
           the database. This can be used to stack more than one
           pam_userdb module that will check a username/password pair in
           more than a database.

       <b>key_only</b>
           The username and password are concatenated together in the
           database hash as 'username-password' with a random value. if
           the concatenation of the username and password with a dash in
           the middle returns any result, the user is valid. this is
           useful in cases where the username may not be unique but the
           username and password pair are.
</pre> <h2>
MODULE TYPES PROVIDED </h2>
<pre>
       The <b>auth </b>and <b>account </b>module types are provided.
</pre> <h2>
RETURN VALUES </h2>
<pre>
       PAM_AUTH_ERR
           Authentication failure.

       PAM_AUTHTOK_RECOVERY_ERR
           Authentication information cannot be recovered.

       PAM_BUF_ERR
           Memory buffer error.

       PAM_CONV_ERR
           Conversation failure.

       PAM_SERVICE_ERR
           Error in service module.

       PAM_SUCCESS
           Success.

       PAM_USER_UNKNOWN
           User not known to the underlying authentication module.
</pre> <h2>
EXAMPLES </h2>
<pre>
           auth  sufficient pam_userdb.so icase db=/etc/dbtest
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man3/crypt.3.html">crypt(3)</a>, <a href="../man5/pam.conf.5.html">pam.conf(5)</a>, <a href="../man5/pam.d.5.html">pam.d(5)</a>, <a href="pam.8.html">pam(8)</a>
</pre> <h2>
AUTHOR </h2>
<pre>
       pam_userdb was written by Cristian Gafton &gt;gafton@redhat.com&lt;.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>linux-pam</i> (Pluggable Authentication
       Modules for Linux) project.  Information about the project can be
       found at ⟨<a href="http://www.linux-pam.org/">http://www.linux-pam.org/</a>⟩.  If you have a bug report
       for this manual page, see ⟨//www.linux-pam.org/⟩.  This page was
       obtained from the project's upstream Git repository
       ⟨<a href="https://github.com/linux-pam/linux-pam.git">https://github.com/linux-pam/linux-pam.git</a>⟩ on 2023-12-22.  (At
       that time, the date of the most recent commit that was found in
       the repository was 2023-12-18.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Linux-PAM Manual               12/22/2023                  <i>PAM_USERDB</i>(8)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/pam_userdb.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/pam_userdb.8.html</a>
  </p>
</div>
