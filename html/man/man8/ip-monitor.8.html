<h1>ip-monitor(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>IP-MONITOR</i>(8)                     Linux                    <i>IP-MONITOR</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       ip-monitor, rtmon - state monitoring
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>ip monitor </b>[ <b>all </b>| <i>OBJECT-LIST</i> ] [ <b>file </b><i>FILENAME</i> ] [ <b>label </b>] [
               <b>all-nsid </b>] [ <b>dev </b><i>DEVICE</i> ]
</pre> <h2>
OPTIONS </h2>
<pre>
       <b>-t</b>, <b>-timestamp</b>
              Prints timestamp before the event message on the separated
              line in format:
                  Timestamp: &lt;Day&gt; &lt;Month&gt; &lt;DD&gt; &lt;hh:mm:ss&gt; &lt;YYYY&gt;
              &lt;usecs&gt; usec
                  &lt;EVENT&gt;

       <b>-ts</b>, <b>-tshort</b>
              Prints short timestamp before the event message on the
              same line in format:
                  [&lt;YYYY&gt;-&lt;MM&gt;-&lt;DD&gt;T&lt;hh:mm:ss&gt;.&lt;ms&gt;] &lt;EVENT&gt;
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <b>ip </b>utility can monitor the state of devices, addresses and
       routes continuously. This option has a slightly different format.
       Namely, the <b>monitor </b>command is the first in the command line and
       then the object list follows:

       <b>ip monitor </b>[ <b>all </b>| <i>OBJECT-LIST</i> ] [ <b>file </b><i>FILENAME</i> ] [ <b>label </b>] [
       <b>all-nsid </b>] [ <b>dev </b><i>DEVICE</i> ]

       <i>OBJECT-LIST</i> is the list of object types that we want to monitor.
       It may contain <b>link</b>, <b>address</b>, <b>route</b>, <b>mroute</b>, <b>prefix</b>, <b>neigh</b>,
       <b>netconf</b>, <b>rule</b>, <b>stats</b>, <b>nsid </b>and <b>nexthop</b>.  If no <b>file </b>argument is
       given, <b>ip </b>opens RTNETLINK, listens on it and dumps state changes
       in the format described in previous sections.

       If the <b>label </b>option is set, a prefix is displayed before each
       message to show the family of the message. For example:

         [NEIGH]10.16.0.112 dev eth0 lladdr 00:04:23:df:2f:d0 REACHABLE
         [LINK]3: eth1: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc pfifo_fast
         state DOWN group default
             link/ether 52:54:00:12:34:57 brd ff:ff:ff:ff:ff:ff

       If the <b>all-nsid </b>option is set, the program listens to all network
       namespaces that have a nsid assigned into the network namespace
       were the program is running.  A prefix is displayed to show the
       network namespace where the message originates. Example:

         [nsid 0]10.16.0.112 dev eth0 lladdr 00:04:23:df:2f:d0 REACHABLE

       If the <b>file </b>option is given, the program does not listen on
       RTNETLINK, but opens the given file, and dumps its contents. The
       file should contain RTNETLINK messages saved in binary format.
       Such a file can be generated with the <b>rtmon </b>utility. This utility
       has a command line syntax similar to <b>ip monitor</b>.  Ideally, <b>rtmon</b>
       should be started before the first network configuration command
       is issued. F.e. if you insert:

               rtmon file /var/log/rtmon.log

       in a startup script, you will be able to view the full history
       later.

       Nevertheless, it is possible to start <b>rtmon </b>at any time.  It
       prepends the history with the state snapshot dumped at the moment
       of starting.

       If the <b>dev </b>option is given, the program prints only events
       related to this device.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="ip.8.html">ip(8)</a>
</pre> <h2>
AUTHOR </h2>
<pre>
       Original Manpage by Michail Litvak &lt;mci@owl.openwall.com&gt;
       Manpage revised by Nicolas Dichtel &lt;nicolas.dichtel@6wind.com&gt;
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>iproute2</i> (utilities for controlling
       TCP/IP networking and traffic) project.  Information about the
       project can be found at 
       ⟨<a href="http://www.linuxfoundation.org/collaborate/workgroups/networking/iproute2">http://www.linuxfoundation.org/collaborate/workgroups/networking/iproute2</a>⟩.
       If you have a bug report for this manual page, send it to
       netdev@vger.kernel.org, shemminger@osdl.org.  This page was
       obtained from the project's upstream Git repository
       ⟨<a href="https://git.kernel.org/pub/scm/network/iproute2/iproute2.git">https://git.kernel.org/pub/scm/network/iproute2/iproute2.git</a>⟩ on
       2024-06-14.  (At that time, the date of the most recent commit
       that was found in the repository was 2024-06-11.)  If you
       discover any rendering problems in this HTML version of the page,
       or you believe there is a better or more up-to-date source for
       the page, or you have corrections or improvements to the
       information in this COLOPHON (which is <i>not</i> part of the original
       manual page), send a mail to man-pages@man7.org

<span class="footline">iproute2                       13 Dec 2012                 <i>IP-MONITOR</i>(8)</span>
</pre>  <p>Pages that refer to this page: <a href="ip.8.html">ip(8)</a>, <a href="rtmon.8.html">rtmon(8)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/ip-monitor.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/ip-monitor.8.html</a>
  </p>
</div>
