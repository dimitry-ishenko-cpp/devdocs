<h1>lvmlockctl(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>LVMLOCKCTL</i>(8)                                              <i>LVMLOCKCTL</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       lvmlockctl — Control for lvmlockd
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>lvmlockctl </b>[<i>options</i>]
</pre> <h2>
DESCRIPTION </h2>
<pre>
       This command interacts with <a href="lvmlockd.8.html">lvmlockd(8)</a>.
</pre> <h2>
OPTIONS </h2>
<pre>
       <b>-h</b>|<b>--help</b>
              Show this help information.

       <b>-q</b>|<b>--quit</b>
              Tell lvmlockd to quit.

       <b>-i</b>|<b>--info</b>
              Print lock state information from lvmlockd.

       <b>-d</b>|<b>--dump</b>
              Print log buffer from lvmlockd.

       <b>-w</b>|<b>--wait 0</b>|<b>1</b>
              Wait option for other commands.

       <b>-f</b>|<b>--force 0</b>|<b>1</b>
              Force option for other commands.

       <b>-k</b>|<b>--kill </b><i>vgname</i>
              Kill access to the VG when sanlock cannot renew lease.

       <b>-r</b>|<b>--drop </b><i>vgname</i>
              Clear locks for the VG when it is unused after kill (-k).

       <b>-E</b>|<b>--gl-enable </b><i>vgname</i>
              Tell lvmlockd to enable the global lock in a sanlock VG.

       <b>-D</b>|<b>--gl-disable </b><i>vgname</i>
              Tell lvmlockd to disable the global lock in a sanlock VG.

       <b>-S</b>|<b>--stop-lockspaces</b>
              Stop all lockspaces.
</pre> <h2>
USAGE </h2>
<pre>
       <b>--info </b>This collects and displays lock state from lvmlockd.  The
              display is primitive, incomplete and will change in future
              version.  To print the raw lock state from lvmlockd,
              combine this option with --dump|-d.

       <b>--dump </b>This collects the circular log buffer of debug statements
              from lvmlockd and prints it.

       <b>--kill </b>This is run by sanlock when it loses access to the storage
              holding leases for a VG.  It runs the command specified in
              lvm.conf lvmlockctl_kill_command to deactivate LVs in the
              VG.  If the specified command is successful, locks will be
              dropped for the VG in lvmlockd (the equivalent of
              <b>lvmlockctl --drop </b>will be run.)  If no command is
              specified, or the command fails, then the user must
              intervene to forcefully deactivate LVs in the VG, and if
              successful, run <b>lvmlockctl --drop</b>.  For more, see
              <a href="lvmlockd.8.html">lvmlockd(8)</a>.

       <b>--drop </b>This should only be run after a VG has been successfully
              deactivated following an lvmlockctl --kill command.  It
              clears the stale lockspace from lvmlockd.  When
              lvmlockctl_kill_command is used, the --kill command may
              run drop automatically.  For more, see <a href="lvmlockd.8.html">lvmlockd(8)</a>.

       <b>--gl-enable</b>
              This enables the global lock in a sanlock VG.  This is
              necessary if the VG that previously held the global lock
              is removed.  For more, see <a href="lvmlockd.8.html">lvmlockd(8)</a>.

       <b>--gl-disable</b>
              This disables the global lock in a sanlock VG.  This is
              necessary if the global lock has mistakenly been enabled
              in more than one VG.  The global lock should be disabled
              in all but one sanlock VG.  For more, see <a href="lvmlockd.8.html">lvmlockd(8)</a>.

       <b>--stop-lockspaces</b>
              This tells lvmlockd to stop all lockspaces.  It can be
              useful to stop lockspaces for VGs that the <b>vgchange</b>
              <b>--lock-stop </b>command can no longer see, or to stop the dlm
              global lockspace which is not directly stopped by the
              vgchange command.  The wait and force options can be used
              with this command.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="lvm.8.html">lvm(8)</a>, <a href="lvmlockd.8.html">lvmlockd(8)</a>
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>lvm2</i> (Logical Volume Manager 2) project.
       Information about the project can be found at 
       ⟨<a href="http://www.sourceware.org/lvm2/">http://www.sourceware.org/lvm2/</a>⟩.  If you have a bug report for
       this manual page, see ⟨<a href="https://github.com/lvmteam/lvm2/issues">https://github.com/lvmteam/lvm2/issues</a>⟩.
       This page was obtained from the project's upstream Git repository
       ⟨git://sourceware.org/git/lvm2.git⟩ on 2024-06-14.  (At that
       time, the date of the most recent commit that was found in the
       repository was 2024-06-11.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Red Hat, Inc      LVM TOOLS 2.03.15(2)-git (2021-10-20)    <i>LVMLOCKCTL</i>(8)</span>
</pre>  <p>Pages that refer to this page: <a href="lvchange.8.html">lvchange(8)</a>, <a href="lvconvert.8.html">lvconvert(8)</a>, <a href="lvcreate.8.html">lvcreate(8)</a>, <a href="lvdisplay.8.html">lvdisplay(8)</a>, <a href="lvextend.8.html">lvextend(8)</a>, <a href="lvm.8.html">lvm(8)</a>, <a href="lvmconfig.8.html">lvmconfig(8)</a>, <a href="lvmdevices.8.html">lvmdevices(8)</a>, <a href="lvmdiskscan.8.html">lvmdiskscan(8)</a>, <a href="lvm-fullreport.8.html">lvm-fullreport(8)</a>, <a href="lvmlockd.8.html">lvmlockd(8)</a>, <a href="lvm-lvpoll.8.html">lvm-lvpoll(8)</a>, <a href="lvreduce.8.html">lvreduce(8)</a>, <a href="lvremove.8.html">lvremove(8)</a>, <a href="lvrename.8.html">lvrename(8)</a>, <a href="lvresize.8.html">lvresize(8)</a>, <a href="lvs.8.html">lvs(8)</a>, <a href="lvscan.8.html">lvscan(8)</a>, <a href="pvchange.8.html">pvchange(8)</a>, <a href="pvck.8.html">pvck(8)</a>, <a href="pvcreate.8.html">pvcreate(8)</a>, <a href="pvdisplay.8.html">pvdisplay(8)</a>, <a href="pvmove.8.html">pvmove(8)</a>, <a href="pvremove.8.html">pvremove(8)</a>, <a href="pvresize.8.html">pvresize(8)</a>, <a href="pvs.8.html">pvs(8)</a>, <a href="pvscan.8.html">pvscan(8)</a>, <a href="vgcfgbackup.8.html">vgcfgbackup(8)</a>, <a href="vgcfgrestore.8.html">vgcfgrestore(8)</a>, <a href="vgchange.8.html">vgchange(8)</a>, <a href="vgck.8.html">vgck(8)</a>, <a href="vgconvert.8.html">vgconvert(8)</a>, <a href="vgcreate.8.html">vgcreate(8)</a>, <a href="vgdisplay.8.html">vgdisplay(8)</a>, <a href="vgexport.8.html">vgexport(8)</a>, <a href="vgextend.8.html">vgextend(8)</a>, <a href="vgimport.8.html">vgimport(8)</a>, <a href="vgimportclone.8.html">vgimportclone(8)</a>, <a href="vgimportdevices.8.html">vgimportdevices(8)</a>, <a href="vgmerge.8.html">vgmerge(8)</a>, <a href="vgmknodes.8.html">vgmknodes(8)</a>, <a href="vgreduce.8.html">vgreduce(8)</a>, <a href="vgremove.8.html">vgremove(8)</a>, <a href="vgrename.8.html">vgrename(8)</a>, <a href="vgs.8.html">vgs(8)</a>, <a href="vgscan.8.html">vgscan(8)</a>, <a href="vgsplit.8.html">vgsplit(8)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/lvmlockctl.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/lvmlockctl.8.html</a>
  </p>
</div>
