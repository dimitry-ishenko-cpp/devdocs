<h1>btrfs-select-super(8) — Linux manual page</h1>   <pre>
<span class="headline"><i>BTRFS-SELECT-SUPER</i>(8)         Btrfs Manual         <i>BTRFS-SELECT-SUPER</i>(8)</span>
</pre> <h2>
NAME </h2>
<pre>
       btrfs-select-super - overwrite primary superblock with a backup
       copy
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>btrfs-select-super </b>-s number <i>&lt;device&gt;</i>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       Destructively overwrite all copies of the superblock with a
       specified copy. This helps in certain cases, for example when
       write barriers were disabled during a power failure and not all
       superblocks were written, or if the primary superblock is
       damaged, eg. accidentally overwritten.

       The filesystem specified by <i>device</i> must not be mounted.

           <b>Note</b>

           <b>Prior to overwriting the primary superblock, please make sure</b>
           <b>that the backup copies are valid!</b>

       To dump a superblock use the <b>btrfs inspect-internal dump-super</b>
       command.

       Then run the check (in the non-repair mode) using the command
       <b>btrfs check -s </b>where <i>-s</i> specifies the superblock copy to use.

       Superblock copies exist in the following offsets on the device:

       •   primary: <i>64KiB</i> (65536)

       •   1st copy: <i>64MiB</i> (67108864)

       •   2nd copy: <i>256GiB</i> (274877906944)

       A superblock size is <i>4KiB</i> (4096).
</pre> <h2>
OPTIONS </h2>
<pre>
       -s|--super <i>&lt;superblock&gt;</i>
           use 'superblock’th superblock copy, valid values are 0 1 or 2
           if the respective superblock offset is within the device size
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="btrfs-inspect-internal.8.html">btrfs-inspect-internal(8)</a>, <b>btrfsck check</b>(8)
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>btrfs-progs</i> (btrfs filesystem tools)
       project.  Information about the project can be found at 
       ⟨<a href="https://btrfs.wiki.kernel.org/index.php/Btrfs_source_repositories">https://btrfs.wiki.kernel.org/index.php/Btrfs_source_repositories</a>⟩.
       If you have a bug report for this manual page, see
       ⟨<a href="https://btrfs.wiki.kernel.org/index.php/Problem_FAQ#How_do_I_report_bugs_and_issues.3F">https://btrfs.wiki.kernel.org/index.php/Problem_FAQ#How_do_I_report_bugs_and_issues.3F</a>⟩.
       This page was obtained from the project's upstream Git repository
       ⟨git://git.kernel.org/pub/scm/linux/kernel/git/kdave/btrfs-progs.git⟩
       on 2024-06-14.  (At that time, the date of the most recent commit
       that was found in the repository was 2024-05-02.)  If you
       discover any rendering problems in this HTML version of the page,
       or you believe there is a better or more up-to-date source for
       the page, or you have corrections or improvements to the
       information in this COLOPHON (which is <i>not</i> part of the original
       manual page), send a mail to man-pages@man7.org

<span class="footline">Btrfs v5.16.1                  02/06/2022          <i>BTRFS-SELECT-SUPER</i>(8)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man8/btrfs-select-super.8.html" class="_attribution-link">https://man7.org/linux/man-pages/man8/btrfs-select-super.8.html</a>
  </p>
</div>
