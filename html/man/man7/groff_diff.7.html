<h1>groff_diff(7) — Linux manual page</h1>   <pre>
<span class="headline"><i>groff_diff</i>(7)       Miscellaneous Information Manual       <i>groff_diff</i>(7)</span>
</pre> <h2>
Name </h2>
<pre>
       groff_diff - differences between GNU <i>roff</i> and AT&amp;T <i>troff</i>
</pre> <h2>
Description </h2>
<pre>
       The GNU <i>roff</i> text processing system, <i>groff</i>, is an extension of
       AT&amp;T <i>troff</i>, the typesetting system originating in Unix systems of
       the 1970s.  <i>groff</i> removes many arbitrary limitations and adds
       features, both to the input language and to the page description
       language output by the <i>troff</i> formatter.  Differences arising from
       <i>groff</i>'s implementation of AT&amp;T <i>troff</i> features are also noted.
       See <i>roff</i>(7) for background.
</pre> <h2>
Language </h2>
<pre>
       GNU <i>troff</i> features identifiers of arbitrary length; supports
       color output, non-integral type sizes, and user-defined
       characters; adds more conditional expression operators;
       recognizes additional scaling units and numeric operators;
       enables general file I/O (in “unsafe mode” only); and exposes
       more formatter state.

   <b>Long names</b>
       GNU <i>troff</i> introduces many new requests; with three exceptions
       (<b>cp</b>, <b>do</b>, <b>rj</b>), they have names longer than two characters.  The
       names of registers, fonts, strings/macros/diversions,
       environments, special characters, character classes, streams, and
       colors can be of any length.  Anywhere AT&amp;T <i>troff</i> supports a
       parameterized escape sequence that uses an opening parenthesis
       “(” to introduce a two-character argument, <i>groff</i> supports a
       square-bracketed form “[]” where the argument within can be of
       arbitrary length.

   <b>Font families, abstract styles, and translation</b>
       GNU <i>troff</i> can group text typefaces into <i>families</i> containing each
       of the styles “<b>R</b>”, “<b>I</b>”, “<b>B</b>”, and “<b>BI</b>”.  So that a document need
       not be coupled to a specific font family, an output device can
       associate a style in the abstract sense with a mounting position.
       Thus the default family can be combined with a style dynamically,
       producing a <i>resolved font name.</i>  A document can <i>translate,</i> or
       remap, font names with the <b>ftr </b>request.

       Applying the requests <b>cs</b>, <b>bd</b>, <b>tkf</b>, <b>uf</b>, or <b>fspecial </b>to an abstract
       style affects the member of the default family corresponding to
       that style.  The default family can be set with the <b>fam </b>request
       or <b>-f </b>command-line option.  The <b>styles </b>directive in the output
       device's <i>DESC</i> file controls which mounting positions (if any) are
       initially associated with abstract styles rather than fonts, and
       the <b>sty </b>request can update this association.

   <b>Colors</b>
       <i>groff</i> supports color output with a variety of color spaces and up
       to 16 bits per channel.  Some devices, particularly terminals,
       may be more limited.  When color support is enabled, two colors
       are current at any given time: the <i>stroke color,</i> with which
       glyphs, rules (lines), and geometric figures are drawn, and the
       <i>fill color,</i> which paints the interior of filled geometric
       figures.  The <b>color</b>, <b>defcolor</b>, <b>gcolor</b>, and <b>fcolor </b>requests; <b>\m</b>
       and <b>\M </b>escape sequences; and <b>.color</b>, <b>.m</b>, and <b>.M </b>registers
       exercise color support.

   <b>Hyphenation</b>
       GNU <i>troff</i> uses a hyphenation algorithm and language-specific
       pattern files (based on those used in TeX) to decide which words
       can be hyphenated and where.  AT&amp;T <i>troff</i>'s hyphenation system
       (“suftab”) was specific to English.

       New requests permit finer control over hyphenation breaking;
       hyphenation of a word might be suppressed due to a limit on
       consecutive hyphenated lines (<b>hlm</b>), a minimum line length
       threshold (<b>hym</b>), or because the line can instead be adjusted with
       additional inter-word space (<b>hys</b>).  A hyphenation language is
       selected with the <b>hla </b>request and hyphenation patterns loaded (or
       appended) with <b>hpf </b>(or <b>hpfa</b>).  If no hyphenation language is set
       or no patterns are loaded, GNU <i>troff</i> will not perform automatic
       hyphenation.  The <b>hcode </b>request assigns values to character codes
       such that they can be handled consistently by the hyphenation
       patterns, for instance by treating accented letters the same as
       their unaccented counterparts.

       GNU <i>troff</i>'s <b>\: </b>escape sequence is analogous to the <b>\% </b>sequence
       but produces no hyphen if the word breaks at that location.

   <b>Fractional type sizes and new scaling units</b>
       AT&amp;T <i>troff</i> interpreted all type size measurements in points.
       Combined with integer arithmetic, this design choice made it
       impossible to support, for instance, ten and a half-point type.
       In GNU <i>troff</i>, an output device can select a scaling factor that
       subdivides a point into “scaled points”.  A type size expressed
       in scaled points can thus represent a non-integral size in
       points.

       A <i>scaled point</i> is equal to 1/<i>sizescale</i> points, where <i>sizescale</i> is
       specified in the device description file, <i>DESC</i>, and defaults
       to 1; see <i>groff_font</i>(5).  Requests and escape sequences in GNU
       <i>troff</i> interpret arguments that represent a type size in points,
       which the formatter multiplies by <i>sizescale</i> and converts to an
       integer.  Arguments treated in this way comprise those to the
       escape sequences <b>\H </b>and <b>\s</b>, to the request <b>ps</b>, the third argument
       to the <b>cs </b>request, and the second and fourth arguments to the <b>tkf</b>
       request.  Scaled points may be specified explicitly with the <b>z</b>
       scaling unit.  In GNU <i>troff</i>, the register <b>\n[.s] </b>can interpolate
       a non-integral type size.  The register <b>\n[.ps] </b>interpolates the
       type size in scaled points.

       For example, if <i>sizescale</i> is 1000, then a scaled point is one
       thousandth of a point.  Consequently, “<b>.ps 10.5</b>” is synonymous
       with “<b>.ps 10.5z</b>”; both set the type size to 10,500 scaled points,
       or 10.5 points.

       It makes no sense to use the “<b>z</b>” scaling unit in a numeric
       expression whose default scaling unit is neither “<b>u</b>” nor “<b>z</b>”, so
       GNU <i>troff</i> disallows this.  Similarly, it is nonsensical to use a
       scaling unit other than “<b>z</b>” or “<b>u</b>” in a numeric expression whose
       default scaling unit is “<b>z</b>”, so GNU <i>troff</i> disallows this as well.

       Another new scaling unit, “<b>s</b>”, multiplies by the number of basic
       units in a scaled point.  Thus, “<b>\n[.ps]s</b>” is equal to “<b>1m</b>” by
       definition.  Do not confuse the “<b>s</b>” and “<b>z</b>” scaling units.

       Output devices may be limited in the type sizes they can employ.
       For example, if a type size of 10.95 points is requested, and the
       nearest size permitted by a <b>sizes </b>request (or by the <b>sizes </b>or
       <b>sizescale </b>directives in the device's <i>DESC</i> file) is 11 points, the
       output driver uses the latter value.  The <b>.s </b>and <b>.ps </b>registers
       represent the type size selected by the formatter as it
       understands a device's capability.  The last <i>requested</i> type size
       is interpolated in scaled points by the read-only register <b>.psr</b>
       and in points as a decimal fraction by the read-only string-
       valued register <b>.sr</b>.  Both are associated with the environment.

       A further two new measurement units available in <i>groff</i> are “<b>M</b>”,
       which indicates hundredths of an em, and “<b>f</b>”, which multiplies by
       65,536.  The latter provides convenient fractions for color
       definitions with the <b>defcolor </b>request.  For example, 0.5f equals
       32768u.

   <b>Numeric expressions</b>
       GNU <i>troff</i> permits spaces in a numeric expression within
       parentheses, and offers three new operators.

       <i>e1</i><b>&gt;?</b><i>e2</i> Interpolate the greater of expressions <i>e1</i> and <i>e2</i>.

       <i>e1</i><b>&lt;?</b><i>e2</i> Interpolate the lesser of expressions <i>e1</i> and <i>e2</i>.

       <b>(</b><i>c</i><b>;</b><i>e</i><b>)  </b>Evaluate expression <i>e</i> using <i>c</i> as the default scaling unit,
              ignoring scaling units in <i>e</i> if <i>c</i> is empty.

   <b>Conditional expressions</b>
       More conditions can be tested with the “<b>if</b>” and <b>ie </b>requests, as
       well as the new “<b>while</b>” request.

       <b>c </b><i>chr</i>  True if a character <i>chr</i> is available, where <i>chr</i> is an
              ordinary character (Unicode basic Latin excluding control
              characters and the space), a special character, or
              <b>\N'</b><i>index</i><b>'</b>.

       <b>d </b><i>nam</i>  True if a string, macro, diversion, or request <i>nam</i> is
              defined.

       <b>F </b><i>fnt</i>  True if a font <i>fnt</i> is available; <i>fnt</i> can be an abstract
              style or a font name.  <i>fnt</i> is handled as if it were an
              argument to the <b>ft </b>request (that is, the default family is
              combined with an abstract style and font translation is
              applied), but <i>fnt</i> cannot be a mounting position, and no
              font is mounted.

       <b>m </b><i>col</i>  True if a color <i>col</i> is defined.

       <b>r </b><i>reg</i>  True if a register <i>reg</i> is defined.

       <b>S </b><i>sty</i>  True if an abstract style <i>sty</i> is registered.  Font
              translations apply.

       <b>v      </b>Always false.  This condition is for compatibility with
              certain other <i>troff</i> implementations only.  (This refers to
              <i>vtroff</i>, a translator that would convert the C/A/T output
              from early-vintage AT&amp;T <i>troff</i> to a form suitable for
              Versatec and Benson-Varian plotters.)

   <b>Drawing commands</b>
       GNU <i>troff</i> offers drawing commands to create filled circles and
       ellipses, and polygons.  Stroked (outlined) objects are drawn
       with the stroke color and filled (solid) ones shaded with the
       fill color.  These are independent properties; if you want a
       filled, stroked figure, you must draw the same figure twice using
       each drawing command.  A filled figure is always smaller than a
       stroked one because the former is drawn only within its defined
       area, whereas strokes have a line thickness (set with another new
       drawing command, <b>\D't'</b>).

   <b>Escape sequences</b>
       <i>groff</i> introduces several new escape sequences, extends the syntax
       of a few AT&amp;T <i>troff</i> escape sequences (namely, <b>\D</b>, <b>\f</b>, <b>\k</b>, <b>\n</b>, <b>\s</b>,
       <b>\$</b>, and <b>\*</b>), and alters the behavior of <b>\X</b>.  In the following
       list, escape sequences are collated alphabetically at first, and
       then by symbol roughly in Unicode code point order.

       <b>\A'</b><i>anything</i><b>'</b>
              Interpolate 1 if <i>anything</i> is a valid identifier, and 0
              otherwise.  Because invalid input characters are removed,
              invalid identifiers are empty or contain spaces, tabs,
              newlines, or escape sequences that interpolate something
              other than a sequence of ordinary characters.  You can
              employ <b>\A </b>to validate a macro argument before using it to
              construct another escape sequence or identifier.

       <b>\B'</b><i>anything</i><b>'</b>
              Interpolate 1 if <i>anything</i> is a valid numeric expression,
              and 0 otherwise.  You might use <b>\B </b>along with the “<b>if</b>”
              request to filter out invalid macro arguments.

       <b>\D'C </b><i>d</i><b>'</b>
              Draw filled circle of diameter <i>d</i> with its leftmost point
              at the drawing position.

       <b>\D'E </b><i>h v</i><b>'</b>
              Draw filled ellipse with <i>h</i> and <i>v</i> as the axes and the
              leftmost point at the drawing position.

       <b>\D'p </b><i>h1 v1</i> ... <i>hn vn</i><b>'</b>
              Draw polygon with vertices at drawing position and each
              point in sequence.  GNU <i>troff</i> closes the polygon by
              drawing a line from (<i>hn</i>, <i>vn</i>) back to the initial drawing
              position; DWB and Heirloom <i>troff</i>s do not.  Afterward, the
              drawing position is left at (<i>hn</i>, <i>vn</i>).

       <b>\D'P </b><i>h1 v1</i> ... <i>hn vn</i><b>'</b>
              As <b>\D'p'</b>, but the polygon is filled.

       <b>\D't </b><i>n</i><b>'</b>
              Set line thickness of geometric objects to to <i>n</i> basic
              units.  A zero <i>n</i> selects the minimal supported thickness.
              A negative <i>n</i> selects a thickness proportional to the type
              size; this is the default.

       <b>\E     </b>Embed an escape character that is not interpreted in copy
              mode (compare with <b>\a </b>and <b>\t</b>).  You can use it to ease the
              writing of nested macro definitions.  It is also
              convenient to define strings containing escape sequences
              that need to work when used in copy mode (for example, as
              macro arguments), or which will be interpolated at varying
              macro nesting depths.

       <b>\f[</b><i>fnt</i><b>]</b>
              Select typeface <i>fnt</i>, which may be a mounting position,
              abstract style, or font name.  <b>\f[] </b>and <b>\fP </b>are synonyms;
              we recommend the former.

       <b>\F</b><i>f</i>
       <b>\F(</b><i>fm</i>
       <b>\F[</b><i>fml</i><b>]</b>
              Select default font family.  <b>\F[] </b>makes the previous font
              family the default.  <b>\FP </b>is unlike <b>\fP</b>; it selects font
              family “P” as the default.  See the <b>fam </b>request below.

       <b>\k(</b><i>rg</i>
       <b>\k[</b><i>reg</i><b>]</b>
              Mark horizontal drawing position in two-character register
              name <i>rg</i> or arbitrary register name <i>reg</i>.

       <b>\m</b><i>c</i>
       <b>\m(</b><i>cl</i>
       <b>\m[</b><i>col</i><b>]</b>
              Set the stroke color.  <b>\m[] </b>restores the previous stroke
              color, or the default if there is none.

       <b>\M</b><i>c</i>
       <b>\M(</b><i>cl</i>
       <b>\M[</b><i>col</i><b>]</b>
              Set the fill color.  <b>\M[] </b>restores the previous fill
              color, or the default if there is none.

       <b>\n[</b><i>reg</i><b>]</b>
              Interpolate register <i>reg</i>.

       <b>\O</b><i>n</i>
       <b>\O[</b><i>n</i><b>]  </b>Suppress <i>troff</i> output of glyphs and geometric objects.
              The sequences <b>\O2</b>, <b>\O3</b>, <b>\O4</b>, and <b>\O5 </b>are intended for
              internal use by <i>grohtml</i>(1).

              <b>\O0</b>
              <b>\O1    </b>Disable and enable, respectively, the emission of
                     glyphs and geometric objects to the output driver,
                     provided that this sequence occurs at the outermost
                     suppression level (see <b>\O3 </b>and <b>\O4</b>).  Horizontal
                     motions corresponding to non-overstruck glyph
                     widths still occur.  These sequences also reset the
                     registers <b>opminx</b>, <b>opminy</b>, <b>opmaxx</b>, and <b>opmaxy </b>to -1.
                     These four registers mark the top left and bottom
                     right hand corners of a box encompassing all
                     written or drawn output.

              <b>\O2    </b>At the outermost suppression level, enable emission
                     of glyphs and geometric objects, and write to the
                     standard error stream the page number and values of
                     the four aforementioned registers encompassing
                     glyphs written since the last interpolation of a <b>\O</b>
                     sequence, as well as the page offset, line length,
                     image file name (if any), horizontal and vertical
                     device motion quanta, and input file name.  Numeric
                     values are in basic units.

              <b>\O3</b>
              <b>\O4    </b>Begin and end a nested suppression level,
                     respectively.  <i>grohtml</i> uses this mechanism to
                     create images of output preprocessed with <i>pic</i>, <i>eqn</i>,
                     and <i>tbl</i>.  At startup, <i>troff</i> is at the outermost
                     suppression level.  <i>pre-grohtml</i> generates these
                     sequences when processing the document, using <i>troff</i>
                     with the <b>ps </b>output device, Ghostscript, and the PNM
                     tools to produce images in PNG format.  These
                     sequences start a new page if the device is not
                     <b>html </b>or <b>xhtml</b>, to reduce the number of images
                     crossing a page boundary.

              <b>\O5[</b><i>Pfile</i><b>]</b>
                     At the outermost suppression level, write the name
                     <i>file</i> to the standard error stream at position <i>P</i>,
                     which must be one of <b>l</b>, <b>r</b>, <b>c</b>, or <b>i</b>, corresponding
                     to left, right, centered, and inline alignments
                     within the document, respectively.  <i>file</i> is is a
                     name associated with the production of the next
                     image.

       <b>\R'</b><i>name ±n</i><b>'</b>
              Synonymous with “<b>.nr </b><i>name ±n</i>”.

       <b>\s[</b><i>±n</i><b>]</b>
       <b>\s</b><i>±</i><b>[</b><i>n</i><b>]</b>
       <b>\s'</b><i>±n</i><b>'</b>
       <b>\s</b><i>±</i><b>'</b><i>n</i><b>' </b>Set the type size to, or increment or decrement it by, <i>n</i>
              scaled points.

       <b>\V</b><i>e</i>
       <b>\V(</b><i>ev</i>
       <b>\V[</b><i>env</i><b>]</b>
              Interpolate contents of the environment variable <i>env</i>, as
              returned by <i>getenv</i>(3).  <b>\V </b>is interpreted even in copy
              mode.

       <b>\X'</b><i>contents</i><b>'</b>
              Within <i>contents,</i> the escape sequences <b>\&amp;</b>, <b>\)</b>, <b>\%</b>, and <b>\:</b>
              are ignored; <b>\</b><i>space</i> and <b>\~ </b>are converted to single space
              characters; and a self-escaped escape character is output
              as a backslash <b>\</b>.  So that the basic Latin subset of the
              Unicode character set (that is, ISO 646:1991-IRV or,
              popularly, “US-ASCII”) can be reliably encoded in
              <i>contents,</i> the special character escape sequences <b>\-</b>,
              <b>\[aq]</b>, <b>\[dq]</b>, <b>\[ga]</b>, <b>\[ha]</b>, <b>\[rs]</b>, and <b>\[ti] </b>are mapped to
              basic Latin characters; see <i>groff_char</i>(7).  For this
              transformation, character translations and definitions are
              ignored.  Other escape sequences are not supported.

       <b>\Y</b><i>m</i>
       <b>\Y(</b><i>ma</i>
       <b>\Y[</b><i>mac</i><b>]</b>
              Interpolate a macro as a device control command.  This is
              similar to <b>\X'\*[</b><i>mac</i><b>]'</b>, except the contents of <i>mac</i> are not
              interpreted, and <i>mac</i> can be a macro and thus contain
              newlines, whereas the argument to <b>\X </b>cannot.  This
              inclusion of newlines requires an extension to the AT&amp;T
              <i>troff</i> output format, and will confuse postprocessors that
              do not know about it.

       <b>\Z'</b><i>anything</i><b>'</b>
              Save the drawing position, format <i>anything</i>, then restore
              it.  Tabs and leaders in the argument are ignored with an
              error diagnostic.

       <b>\#     </b>Ignore everything up to and including the next newline.
              This escape sequence is interpreted even in copy mode.  <b>\#</b>
              is like <b>\"</b>, except that <b>\" </b>does not ignore a newline; the
              latter therefore cannot be used by itself for a whole-line
              comment—it leaves a blank line on the input stream.

       <b>\$0    </b>Interpolate the name by which the macro being interpreted
              was called.  In GNU <i>troff</i> this name can vary; see the <b>als</b>
              request.

       <b>\$(</b><i>nn</i>
       <b>\$[</b><i>nnn</i><b>]</b>
              In a macro or string definition, interpolate the <i>nn</i>th or
              <i>nnn</i>th argument.  Macros and strings can have an unlimited
              number of arguments.

       <b>\$*    </b>In a macro or string definition, interpolate the
              catenation of all arguments, separated by spaces.

       <b>\$@    </b>In a macro or string definition, interpolate the
              catenation of all arguments, with each surrounded by
              double quotes and separated by spaces.

       <b>\$^    </b>In a macro or string definition, interpolate the
              catenation of all arguments constructed in a form suitable
              for passage to the <b>ds </b>request.

       <b>\)     </b>Interpolate a <i>transparent</i> dummy character—one that is
              ignored by end-of-sentence detection.  It behaves as <b>\&amp;</b>,
              except that <b>\&amp; </b>is treated as letters and numerals normally
              are after “.”, “?”, and “!”; <b>\&amp; </b>cancels end-of-sentence
              detection, and <b>\) </b>does not.

       <b>\*[</b><i>string</i> [<i>arg</i> ...]<b>]</b>
              Interpolate <i>string,</i> passing it <i>arg</i> ... as arguments.

       <b>\/     </b>Apply an <i>italic correction</i>: modify the spacing of the
              preceding glyph so that the distance between it and the
              following glyph is correct if the latter is of upright
              shape.  For example, if an italic “f” is followed
              immediately by a roman right parenthesis, then in many
              fonts the top right portion of the “f” overlaps the top
              left of the right parenthesis, which is ugly.  Inserting
              <b>\/ </b>between them avoids this problem.  Use this escape
              sequence whenever an oblique glyph is immediately followed
              by an upright glyph without any intervening space.

       <b>\,     </b>Apply a <i>left italic correction</i>: modify the spacing of the
              following glyph so that the distance between it and the
              preceding glyph is correct if the latter is of upright
              shape.  For example, if a roman left parenthesis is
              immediately followed by an italic “f”, then in many fonts
              the bottom left portion of the “f” overlaps the bottom of
              the left parenthesis, which is ugly.  Inserting <b>\, </b>between
              them avoids this problem.  Use this escape sequence
              whenever an upright glyph is followed immediately by an
              oblique glyph without any intervening space.

       <b>\:     </b>Insert a non-printing break point.  That is, a word can
              break there, but the soft hyphen character does not mark
              the break point if it does (in contrast to “<b>\%</b>”).  The
              remainder of the word is subject to hyphenation as normal.

       <b>\?</b><i>anything</i><b>\?</b>
              When used in a diversion, this escape sequence
              transparently embeds input, read in copy mode, until its
              own next occurrence on the input line.  Use <b>\! </b>if you want
              to embed newlines in a diversion.  Unlike <b>\!</b>, <b>\? </b>is
              interpreted even in copy mode.

       <b>\[</b><i>char</i><b>]</b>
              Typeset the special character <i>char</i>.

       <b>\[</b><i>base-char combining-component</i> ...<b>]</b>
              Typeset a composite glyph consisting of <i>base-char</i> overlaid
              with one or more <i>combining-component</i>s.  For example,
              “<b>\[A ho]</b>” is a capital letter “A” with a “hook accent”
              (ogonek).  See the <b>composite </b>request below; <i>Groff: The GNU</i>
              <i>Implementation of troff</i>, the <i>groff</i> Texinfo manual, for
              details of composite glyph name construction; and
              <i>groff_char</i>(7) for a list of components used in composite
              glyph names.

       <b>\~     </b>Insert an unbreakable space that is adjustable like an
              ordinary space.  It is discarded from the end of an output
              line if a break is forced.

   <b>Restricted requests</b>
       To mitigate risks from untrusted input documents, the <b>pi </b>and <b>sy</b>
       requests are disabled by default.  <i>troff</i>(1)'s <b>-U </b>option enables
       the formatter's “unsafe mode”, restoring their function (and
       enabling additional <i>groff</i> extension requests, <b>open</b>, <b>opena</b>, and
       <b>pso</b>).

   <b>New requests</b>
       <b>.aln </b><i>new old</i>
              Create alias <i>new</i> for existing register named <i>old</i>, causing
              the names to refer to the same stored value.  If <i>old</i> is
              undefined, a warning in category <b>reg </b>is generated and the
              request is ignored.  To remove a register alias, invoke <b>rr</b>
              on its name.  A register's contents do not become
              inaccessible until it has no more names.

       <b>.als </b><i>new old</i>
              Create alias <i>new</i> for existing request, string, macro, or
              diversion named <i>old</i>, causing the names to refer to the
              same stored object.  If <i>old</i> is undefined, a warning in
              category <b>mac </b>is produced, and the request is ignored.  The
              “<b>am</b>”, “<b>as</b>”, <b>da</b>, <b>de</b>, <b>di</b>, and <b>ds </b>requests (together with
              their variants) create a new object only if the name of
              the macro, diversion, or string is currently undefined or
              if it is defined as a request; normally, they modify the
              value of an existing object.  To remove an alias, invoke
              <b>rm </b>on its name.  The object itself is not destroyed until
              it has no more names.

              When a request, macro, string, or diversion is aliased,
              redefinitions and appendments “write through” alias names.
              To replace an alias with a separately defined object, you
              must use the <b>rm </b>request on its name first.

       <b>.am1 </b><i>name</i> [<i>end-name</i>]
              As “<b>am</b>”, but compatibility mode is disabled while the
              appendment to <i>name</i> is interpreted: a “compatibility save”
              token is inserted at its beginning, and a “compatibility
              restore” token at its end.  As a consequence, the requests
              “<b>am</b>”, <b>am1</b>, <b>de</b>, and <b>de1 </b>can be intermixed freely since the
              compatibility save/restore tokens affect only the parts of
              the macro populated by <b>am1 </b>and <b>de1</b>.

       <b>.ami </b><i>name</i> [<i>end-name</i>]
              Append to macro indirectly.  See <b>dei </b>below.

       <b>.ami1 </b><i>name</i> [<i>end-name</i>]
              As <b>ami</b>, but compatibility mode is disabled during
              interpretation of the appendment.

       <b>.as1 </b><i>name</i> [[<b>"</b>]<i>contents</i>]
              As “<b>as</b>”, but compatibility mode is disabled while the
              appendment to <i>name</i> is interpreted: a “compatibility save”
              token is inserted at the beginning of <i>contents</i>, and a
              “compatibility restore” token after it.  As a consequence,
              the requests “<b>as</b>”, <b>as1</b>, <b>ds</b>, and <b>ds1 </b>can be intermixed
              freely since the compatibility save/restore tokens affect
              only the portions of the strings populated by <b>as1 </b>and <b>ds1</b>.

       <b>.asciify </b><i>div</i>
              <i>Unformat</i> the diversion <i>div</i> in a way such that Unicode
              basic Latin (ASCII) characters, characters translated with
              the <b>trin </b>request, space characters, and some escape
              sequences, that were formatted in the diversion <i>div</i> are
              treated like ordinary input characters when <i>div</i> is
              interpolated.  Doing so can be useful in conjunction with
              the <b>writem </b>request.

              <b>asciify </b>cannot return all items in a diversion to their
              source equivalent: nodes such as those produced by <b>\N[</b>...<b>]</b>
              will remain nodes, so the result cannot be guaranteed to
              be a pure string.  See section “Copy mode” in <i>groff</i>(7).
              Glyph parameters such as the type face and size are not
              preserved; use <b>unformat </b>to achieve that.

       <b>.backtrace</b>
              Write backtrace of input stack to the standard error
              stream.  See the <b>-b </b>option of <i>troff</i>(1).

       <b>.blm </b>[<i>name</i>]
              Set a blank line macro (trap).  If a blank line macro is
              thus defined, <i>groff</i> executes <i>name</i> when a blank line is
              encountered in the input file, instead of the usual
              behavior.  A line consisting only of spaces is also
              treated as blank and subject to this trap.  If no argument
              is supplied, the default blank line behavior is
              (re-)established.

       <b>.box </b>[<i>name</i>]
       <b>.boxa </b>[<i>name</i>]
              Divert (or append) output to <i>name,</i> similarly to the <b>di </b>and
              <b>da </b>requests, respectively.  Any pending output line is <i>not</i>
              included in the diversion.  Without an argument, stop
              diverting output; any pending output line inside the
              diversion is discarded.

       <b>.break </b>Exit a “<b>while</b>” loop.  Do not confuse this request with a
              typographical break or the <b>br </b>request.  See “<b>continue</b>”.

       <b>.brp   </b>Break and adjust line; this is the AT&amp;T <i>troff</i> escape
              sequence <b>\p </b>in request form.

       <b>.cflags </b><i>n c1 c2</i> ...
              Assign properties encoded by the number <i>n</i> to characters
              <i>c1</i>, <i>c2</i>, and so on.  Ordinary and special characters have
              certain associated properties.  (Glyphs don't: to GNU
              <i>troff</i>, like AT&amp;T device-independent <i>troff</i>, a glyph is an
              identifier corresponding to a rectangle with some metrics;
              see <i>groff_font</i>(5).)  The first argument is the sum of the
              desired flags and the remaining arguments are the
              characters to be assigned those properties.  Spaces
              between the <i>cn</i> arguments are optional.  Any argument <i>cn</i>
              can be a character class defined with the <b>class </b>request
              rather than an individual character.

              The non-negative integer <i>n</i> is the sum of any of the
              following.  Some combinations are nonsensical, such as
              “<b>33</b>” (1 + 32).

              1      Recognize the character as ending a sentence if
                     followed by a newline or two spaces.  Initially,
                     characters “<b>.?!</b>”  have this property.

              2      Enable breaks before the character.  A line is not
                     broken at a character with this property unless the
                     characters on each side both have non-zero
                     hyphenation codes.  This exception can be
                     overridden by adding 64.  Initially, no characters
                     have this property.

              4      Enable breaks after the character.  A line is not
                     broken at a character with this property unless the
                     characters on each side both have non-zero
                     hyphenation codes.  This exception can be
                     overridden by adding 64.  Initially, characters
                     “<b>-\[hy]\[em]</b>” have this property.

              8      Mark the glyph associated with this character as
                     overlapping other instances of itself horizontally.
                     Initially, characters
                     “<b>\[ul]\[rn]\[ru]\[radicalex]\[sqrtex]</b>” have this
                     property.

              16     Mark the glyph associated with this character as
                     overlapping other instances of itself vertically.
                     Initially, the character “<b>\[br]</b>” has this property.

              32     Mark the character as transparent for the purpose
                     of end-of-sentence recognition.  In other words, an
                     end-of-sentence character followed by any number of
                     characters with this property is treated as the end
                     of a sentence if followed by a newline or two
                     spaces.  This is the same as having a zero space
                     factor in TeX.  Initially, characters
                     “<b>'")]*\[dg]\[dd]\[rq]\[cq]</b>” have this property.

              64     Ignore hyphenation codes of the surrounding
                     characters.  Use this value in combination with
                     values 2 and 4.  Initially, no characters have this
                     property.

              The remaining values were implemented for East Asian
              language support; those who use alphabetic scripts
              exclusively can disregard them.

              128    Prohibit a break before the character, but allow a
                     break after the character.  This works only in
                     combination with values 256 and 512 and has no
                     effect otherwise.  Initially, no characters have
                     this property.

              256    Prohibit a break after the character, but allow a
                     break before the character.  This works only in
                     combination with values 128 and 512 and has no
                     effect otherwise.  Initially, no characters have
                     this property.

              512    Allow a break before or after the character.  This
                     works only in combination with values 128 and 256
                     and has no effect otherwise.  Initially, no
                     characters have this property.

              In contrast to values 2 and 4, the values 128, 256, and
              512 work pairwise.  If, for example, the left character
              has value 512, and the right character 128, no break will
              be automatically inserted between them.  If we use value 6
              instead for the left character, a break after the
              character can't be suppressed since the neighboring
              character on the right doesn't get examined.

       <b>.char </b><i>c</i> [[<b>"</b>]<i>contents</i>]
              Define an ordinary or special character <i>c</i> as <i>contents.</i>  If
              <i>contents</i> is absent, an existing character definition made
              with the same request is deleted.

              Defining (or redefining) a character <i>c</i> creates an object
              in the formatter that is recognized like any other
              ordinary or special character on input, and produces
              <i>contents</i> on output.  Every time <i>c</i> is to be output,
              <i>contents</i> is processed in a temporary environment and the
              result encapsulated in a node.  (See section “Gtroff
              Internals” in <i>Groff: The GNU Implementation of troff</i>, the
              <i>groff</i> Texinfo manual.)  A leading neutral double quote in
              the second argument is stripped from it, allowing embedded
              leading spaces in <i>contents,</i> which is read in copy mode and
              continues to the end of the input line.  Further,
              compatibility mode is disabled and the escape character
              set to <b>\ </b>while <i>contents</i> is processed.  Any emboldening,
              constant spacing, or track kerning is applied to this
              object as a whole, not to each character in <i>contents</i>.

              A character defined by this request can be used just like
              a glyph provided by the output device.  In particular,
              other characters can be translated to it with the <b>tr</b>
              request; it can be made the tab or leader fill character
              with the <b>tc </b>and <b>lc </b>requests; sequences of it can be drawn
              with the <b>\l </b>and <b>\L </b>escape sequences; and, if the <b>hcode</b>
              request is used on <i>c</i>, it is subject to automatic
              hyphenation.

              To prevent infinite recursion, occurrences of <i>c</i> within its
              own definition are treated normally (as if it were not
              being defined with <b>char</b>).  The <b>tr </b>and <b>trin </b>requests take
              precedence if <b>char </b>also applies to <i>c</i>.  A character
              definition can be removed with the <b>rchar </b>request.

       <b>.chop </b><i>name</i>
              Remove the last character from the macro, string, or
              diversion <i>name</i>.  This is useful for removing the newline
              from the end of a diversion that is to be interpolated as
              a string.  This request can be used repeatedly on the same
              <i>name</i>; see section “Gtroff Internals” in <i>Groff: The GNU</i>
              <i>Implementation of troff</i>, the <i>groff</i> Texinfo manual, for
              discussion of nodes inserted by <i>groff</i>.

       <b>.class </b><i>ident c</i> ...
              Define a character class (or simply “class”) <i>ident</i>
              comprising the characters or range expressions <i>c.</i>

              A class thus defined can then be referred to in lieu of
              listing all the characters within it.  Currently, only the
              <b>cflags </b>request can handle references to character classes.

              In the request's simplest form, each <i>c</i> is a character (or
              special character).

              Since class and special character names share the same
              name space, we recommend starting and ending the class
              name with “<b>[</b>” and “<b>]</b>”, respectively, to avoid collisions
              with existing character names defined by <i>groff</i> or the user
              (with <b>char </b>and related requests).  This practice applies
              the presence of “<b>]</b>” in the class name to prevent the usage
              of the special character escape form “<b>\[</b>...<b>]</b>”, thus you
              must use the <b>\C </b>escape sequence to access a class with
              such a name.

              You can also use a character range expression consisting
              of a start character followed by “<b>-</b>” and then an end
              character.  Internally, GNU <i>troff</i> converts these two
              character names to Unicode code points (according to the
              <i>groff</i> glyph list [GGL]), which determine the start and end
              values of the range.  If that fails, the class definition
              is skipped.  Furthermore, classes can be nested.

              If you want to include “<b>-</b>” in a class, it must be the
              first character value in the argument list, otherwise it
              gets misinterpreted as part of the range syntax.

              It is not possible to use class names as end points of
              range definitions.

              A typical use of the <b>class </b>request is to control line-
              breaking and hyphenation rules as defined by the <b>cflags</b>
              request.

       <b>.close </b><i>stream</i>
              Close the named <i>stream</i>, invalidating it as an argument to
              the <b>write </b>request.  See <b>open</b>.

       <b>.composite </b><i>c1 c2</i>
              Map ordinary or special character <i>c1</i> to <i>c2</i> when <i>c1</i> is a
              combining component in a composite character.  Typically,
              <b>composite </b>is used to map a spacing character to a
              combining one.  See <i>groff_char</i>(7).

       <b>.continue</b>
              Skip the remainder of a “<b>while</b>” loop's body, immediately
              starting the next iteration.  See <b>break</b>.

       <b>.color </b>[<i>b</i>]
              Enable or disable output of color-related device-
              independent output commands per Boolean expression <i>b</i>.  It
              is enabled by default, and if <i>b</i> is omitted.

       <b>.cp </b>[<i>b</i>]
              Enable or disable AT&amp;T <i>troff</i> compatibility mode per
              Boolean expression <i>b</i>.  It is disabled by default, and
              enabled if <i>b</i> is omitted.  In compatibility mode, long
              names are not recognized, and the incompatibilities they
              cause do not arise.

       <b>.defcolor </b><i>ident scheme color-component</i> ...
              Define a color named <i>ident.</i>  <i>scheme</i> identifies a color
              space and determines the number of required <i>color-</i>
              <i>component</i>s; it must be one of “<b>rgb</b>” (three components),
              “<b>cmy</b>” (three components), “<b>cmyk</b>” (four components), or
              “<b>gray</b>” (one component).  “<b>grey</b>” is accepted as a synonym
              of “<b>gray</b>”.  Each color component can be encoded as a
              hexadecimal value starting with <b># </b>or <b>##</b>.  The former
              indicates that each component is in the range 0–255
              (0–FF), the latter the range 0–65535 (0–FFFF).
              Alternatively, a component can be specified as a decimal
              fraction in the range 0–1, interpreted using a default
              scaling unit of “<b>f</b>”, which multiplies its value by 65,536
              (but clamps it at 65,535).

              Each output device has a color named “<b>default</b>”, which
              cannot be redefined.  A device's default stroke and fill
              colors are not necessarily the same.

       <b>.de1 </b><i>ident</i> [<i>end-name</i>]
              As “<b>de</b>”, but compatibility mode is disabled while the
              macro <i>ident</i> is interpreted: a “compatibility save” token
              is inserted at its beginning, and a “compatibility
              restore” token at its end.  See <b>.am1</b>.

       <b>.dei </b><i>name</i> [<i>end-name</i>]
              Define macro indirectly, with the name of the macro to be
              defined in string <i>name</i> and the name of the end macro
              terminating its definition in string <i>end-name</i>.

       <b>.dei1 </b><i>name</i> [<i>end-name</i>]
              As <b>dei</b>, but compatibility mode is disabled while the
              definition of the macro named in string <i>name</i> is
              interpreted.

       <b>.device </b><i>contents</i>
              Write <i>contents</i>, read in copy mode, to <i>troff</i> output as a
              device control command.  A leading neutral double quote in
              <i>anything</i> is stripped to allow the embedding of leading
              spaces.

              A device control command issued with the <b>device </b>request
              will not be reflected in the output unless a partially
              collected line exists in the top-level diversion at least
              once.  When experimenting with such device controls in
              minimal documents, a <b>br </b>request will ensure this to be the
              case.

       <b>.devicem </b><i>name</i>
              Write contents of macro or string <i>name</i> to <i>troff</i> output as
              a device control command.

       <b>.do </b><i>name</i> [<i>arg</i> ...]
              Interpret the string, request, diversion, or macro <i>name</i>
              (along with any arguments) with compatibility mode
              disabled.  Compatibility mode is restored (only if it was
              active) when the <i>expansion</i> of <i>name</i> is interpreted; that
              is, the restored compatibility state applies to the
              contents of the macro, string, or diversion <i>name</i> as well
              as data read from files or pipes if <i>name</i> is any of the <b>so</b>,
              <b>soquiet</b>, <b>mso</b>, <b>msoquiet</b>, or <b>pso </b>requests.

       <b>.ds1 </b><i>name</i> [[<b>"</b>]<i>contents</i>]
              As <b>ds</b>, but compatibility mode is disabled while <i>name</i> is
              interpreted: a “compatibility save” token is inserted at
              the beginning of <i>contents</i>, and a “compatibility restore”
              token after it.

       <b>.ecr   </b>Restore the escape character saved with <b>ecs</b>, or set escape
              character to “<b>\</b>” if none has been saved.

       <b>.ecs   </b>Save the current escape character.

       <b>.evc </b><i>env</i>
              Copy the properties of environment <i>env</i> to the current
              environment, except for:

              •  a partially collected line, if present;

              •  the interruption status of the previous input line (due
                 to use of the <b>\c </b>escape sequence);

              •  the count of remaining lines to center, to right-align,
                 or to underline (with or without underlined
                 spaces)—these are set to zero;

              •  the activation status of temporary indentation;

              •  input traps and their associated data;

              •  the activation status of line numbering (which can be
                 reactivated with “<b>.nm +0</b>”); and

              •  the count of consecutive hyphenated lines (set to
                 zero).

       <b>.fam </b>[<i>fml</i>]
              Set default font family to <i>fml</i>.  With no argument, the
              previous font family is selected, and if none, the
              formatter's default family.  This default is “T” (Times),
              but can be overridden by the output device—see
              <i>groff_font</i>(5).  The default font family is associated with
              the environment.  See <b>\F</b>.

       <b>.fchar </b><i>c</i> [[<b>"</b>]<i>contents</i>]
              Define fallback character <i>c</i> as <i>contents</i>.  As <b>char</b>, but
              while that request hides a glyph with the same name in the
              selected font, <b>fchar </b>definitions are used only if the font
              lacks a glyph for <i>c</i>.  This test happens before special
              fonts are searched.

       <b>.fcolor </b>[<i>color</i>]
              Set the fill color to <i>color</i>, or, without an argument,
              restore the previous stroke color, or the default if there
              is none.

       <b>.fschar </b><i>f c</i> [[<b>"</b>]<i>contents</i>]
              Define fallback special character <i>c</i> for font <i>f</i> as
              <i>contents</i>.  As <b>char</b>, but a character defined by <b>fschar </b>is
              located after the list of fonts declared with <b>fspecial </b>is
              searched and before those declared with the “<b>special</b>”
              request.

       <b>.fspecial </b><i>f</i> [<i>s</i> ...]
              When font <i>f</i> is selected, treat each font <i>s</i> as special;
              that is, search it for any glyph not found in <i>f</i>.  Fonts
              specified by the “<b>special</b>” request are searched after
              those listed in the <b>fspecial </b>request.  Without <i>s</i>
              arguments, <b>fspecial </b>empties the list of fonts treated as
              special when <i>f</i> is selected.

       <b>.ftr </b><i>f</i> [<i>g</i>]
              Translate font <i>f</i> to <i>g</i>.  Whenever a font named <i>f</i> is
              referred to in an <b>\f </b>escape sequence, in the <b>F </b>and <b>S</b>
              conditional expression operators, or in the <b>ft</b>, <b>ul</b>, <b>bd</b>,
              <b>cs</b>, <b>tkf</b>, <b>special</b>, <b>fspecial</b>, <b>fp</b>, or <b>sty </b>requests, font <i>g</i> is
              used.  If <i>g</i> is missing or identical to <i>f</i>, then font <i>f</i> is
              not translated.

       <b>.fzoom </b><i>f</i> [<i>zoom</i>]
              Set zoom factor <i>zoom</i> for font <i>f</i>.  <i>zoom</i> must a non-negative
              integer; it scales the magnification by thousandths with
              1000 as a basis.  If <i>zoom</i> is missing or equal to zero or
              1000, font <i>f</i> is not magnified.  <i>f</i> must be a resolved font
              name, not an abstract style or mounting position.

       <b>.gcolor </b>[<i>color</i>]
              Set the stroke color to <i>color</i>, or, without an argument,
              restore the previous stroke color, or the default if there
              is none.

       <b>.hcode </b><i>c1 code1</i> [<i>c2 code2</i>] ...
              Set the hyphenation code of character <i>c1</i> to <i>code1</i>, that of
              <i>c2</i> to <i>code2</i>, and so on.  A hyphenation code must be an
              ordinary character (not a special character escape
              sequence) other than a digit.

              For automatic hyphenation to work, hyphenation codes must
              be set up.  At startup, <i>groff</i> assigns hyphenation codes to
              the letters “a–z” (mapped to themselves), to the letters
              “A–Z” (mapped to “a–z”), and zero to all other characters.
              Normally, hyphenation patterns contain only lowercase
              letters which should be applied regardless of case.  In
              other words, they assume that the words “ABBOT” and
              “Abbot” should be hyphenated exactly as “abbot” is.  <b>hcode</b>
              extends this principle to letters outside the Unicode
              basic Latin alphabet; without it, words containing such
              letters won't be hyphenated properly even if the
              corresponding hyphenation patterns contain them.

       <b>.hla </b>[<i>lang</i>]
              Set the hyphenation language to <i>lang</i>, or clear it if there
              is no argument.  Hyphenation exceptions specified with the
              <b>hw </b>request and hyphenation patterns and exceptions
              specified with the <b>hpf </b>and <b>hpfa </b>requests are associated
              with the hyphenation language.  The <b>hla </b>request is usually
              invoked by a localization file, which is in turn loaded by
              the <i>troffrc</i> or <i>troffrc-end</i> file; see the <b>hpf </b>request
              below.  The hyphenation language is associated with the
              environment.

       <b>.hlm </b>[<i>n</i>]
              Set the consecutive automatically hyphenated line limit to
              <i>n.</i>  A negative value means “no limit”.  Omitting <i>n</i> implies
              a limit of <b>-1</b>.  This value is associated with the
              environment.  Only lines output from a given environment
              count towards the maximum associated with that
              environment.  Hyphens resulting from <b>\% </b>are counted;
              explicit hyphens are not.

       <b>.hpf </b><i>pattern-file</i>
              Read hyphenation patterns from <i>pattern-file</i>.  This file is
              sought in the same way that macro files are with the <b>mso</b>
              request or the <b>-m</b><i>name</i> command-line option to <i>groff</i>(1) and
              <i>troff</i>(1).

              The <i>pattern-file</i> should have the same format as (simple)
              TeX pattern files.  The following scanning rules are
              implemented.

              •  A percent sign starts a comment (up to the end of the
                 line) even if preceded by a backslash.

              •  “Digraphs” like <b>\$ </b>are not supported.

              •  “<b>^^</b><i>xx</i>” (where each <i>x</i> is 0–9 or a–f) and <b>^^</b><i>c</i>
                 (character <i>c</i> in the code point range 0–127 decimal) are
                 recognized; other uses of <b>^ </b>cause an error.

              •  No macro expansion is performed.

              •  <b>hpf </b>checks for the expression <b>\patterns{</b>...<b>} </b>(possibly
                 with whitespace before or after the braces).
                 Everything between the braces is taken as hyphenation
                 patterns.  Consequently, “<b>{</b>” and “<b>}</b>” are not allowed in
                 patterns.

              •  Similarly, <b>\hyphenation{</b>...<b>} </b>gives a list of
                 hyphenation exceptions.

              •  <b>\endinput </b>is recognized also.

              •  For backwards compatibility, if <b>\patterns </b>is missing,
                 the whole file is treated as a list of hyphenation
                 patterns (but the “<b>%</b>” character is still recognized as
                 the start of a comment).

              Use the <b>hpfcode </b>request (see below) to map the encoding
              used in hyphenation pattern files to <i>groff</i>'s input
              encoding.

              The set of hyphenation patterns is associated with the
              hyphenation language set by the <b>hla </b>request.  The <b>hpf</b>
              request is usually invoked by a localization file loaded
              by the <i>troffrc</i> file.  By default, <i>troffrc</i> loads the
              localization file for English.  (As of <i>groff</i> 1.23.0,
              localization files for Czech (<i>cs</i>), German (<i>de</i>), English
              (<i>en</i>), French (<i>fr</i>), Japanese (<i>ja</i>), Swedish (<i>sv</i>), and
              Chinese (<i>zh</i>) exist.)  For Western languages, the
              localization file sets the hyphenation mode and loads
              hyphenation patterns and exceptions.

              A second call to <b>hpf </b>(for the same language) replaces the
              old patterns with the new ones.

              Invoking <b>hpf </b>causes an error if there is no hyphenation
              language.

              If no <b>hpf </b>request is specified (either in the document, in
              a file loaded at startup, or in a macro package), GNU
              <i>troff</i> won't automatically hyphenate at all.

       <b>.hpfa </b><i>pattern-file</i>
              As <b>hpf</b>, except that the hyphenation patterns and
              exceptions from <i>pattern-file</i> are appended to the patterns
              already applied to the hyphenation language of the
              environment.

       <b>.hpfcode </b><i>a b</i> [<i>c d</i>] ...
              Define mapping values for character codes in pattern
              files.  This is an older mechanism no longer used by
              <i>groff</i>'s own macro files; for its successor, see <b>hcode</b>
              above.  <b>hpf </b>or <b>hpfa </b>apply the mapping after reading or
              appending to the active list of patterns.  Its arguments
              are pairs of character codes—integers from 0 to 255.  The
              request maps character code <i>a</i> to code <i>b</i>, code <i>c</i> to code <i>d</i>,
              and so on.  Character codes that would otherwise be
              invalid in <i>groff</i> can be used.  By default, every code maps
              to itself except those for letters “A” to “Z”, which map
              to those for “a” to “z”.

       <b>.hydefault </b><i>mode</i>
              Set hyphenation mode default to <i>mode.</i>  When the <b>hy </b>request
              is invoked without an argument, this mode is selected.
              The hyphenation mode default is associated with the
              environment.

       <b>.hym </b>[<i>length</i>]
              Set the (right) hyphenation margin to <i>length</i>.  If the
              adjustment mode is not “<b>b</b>” or “<b>n</b>”, the line is not
              hyphenated if it is shorter than <i>length</i>.  Without an
              argument, the default hyphenation margin is reset to its
              default value, 0.  The default scaling unit is “<b>m</b>”.  The
              hyphenation margin is associated with the environment.  A
              negative argument resets the hyphenation margin to zero,
              emitting a warning in category “<b>range</b>”.

       <b>.hys </b>[<i>hyphenation-space</i>]
              Suppress hyphenation of the line in adjustment modes “<b>b</b>”
              or “<b>n</b>”, if it can be justified by adding no more than
              <i>hyphenation-space</i> extra space to each inter-word space.
              Without an argument, the hyphenation space adjustment
              threshold is set to its default value, 0.  The default
              scaling unit is “<b>m</b>”.  The hyphenation space adjustment
              threshold is associated with the current environment.  A
              negative argument resets the hyphenation space adjustment
              threshold to zero, emitting a warning in category “<b>range</b>”.

       <b>.itc </b><i>n name</i>
              As “<b>it</b>”, but lines interrupted with the <b>\c </b>escape sequence
              are not applied to the line count.

       <b>.kern </b><i>n</i>
              If <i>n</i> is non-zero or missing, enable pairwise kerning (the
              default), otherwise disable it.

       <b>.length </b><i>reg anything</i>
              Compute the number of characters in <i>anything</i> and return
              the count in the register <i>reg</i>.  If <i>reg</i> doesn't exist, it
              is created.  <i>anything</i> is read in copy mode.

       <b>.linetabs </b>[<i>b</i>]
              Activate or deactivate line-tabs in the environment per
              Boolean expression <i>b</i>.  They are inactive by default, and
              activated if <i>b</i> is omitted.  When line-tabs are active, tab
              stops are computed relative to the start of the pending
              output line instead of the drawing position corresponding
              to the start of the input line.

       <b>.lsm </b>[<i>name</i>]
              Set the leading space macro (trap) to <i>name</i>.  If there are
              leading space characters on an input line, <i>name</i> is invoked
              in lieu of the usual <i>roff</i> behavior; the leading spaces are
              removed.  The count of leading spaces on an input line is
              stored in <b>\n[lsn]</b>, and the amount of corresponding
              horizontal motion in <b>\n[lss]</b>, irrespective of whether a
              leading space trap is set.  When it is, the leading spaces
              are removed from the input line, and no motion is produced
              before calling <i>name</i>.  If no argument is supplied, the
              default leading space behavior is (re-)established.

       <b>.mso </b><i>file</i>
              As “<b>so</b>”, except that <i>file</i> is sought in the same
              directories as arguments to the <i>groff</i>(1) and <i>troff</i>(1) <b>-m</b>
              command-line option are (the “tmac path”).  If <i>file</i> does
              not exist, a warning in category “<b>file</b>” is emitted and the
              request has no other effect.

       <b>.msoquiet </b><i>file</i>
              As <b>mso</b>, but no warning is emitted if <i>file</i> does not exist.

       <b>.nop </b><i>anything</i>
              Interpret <i>anything</i> as if it were an input line.  <b>nop</b>
              resembles “<b>.if 1</b>”; it puts a break on the output if
              <i>anything</i> is empty.  Unlike “<b>if</b>”, it cannot govern
              conditional blocks.  Its application is to maintain
              consistent indentation within macro definitions even when
              producing text lines.

       <b>.nroff </b>Make the <b>n </b>conditional expression evaluate true and <b>t</b>
              false.  See <b>troff</b>.

       <b>.open </b><i>stream file</i>
              Open <i>file</i> for writing and associate <i>stream</i> with it.  See
              <b>write </b>and <b>close</b>.

       <b>.opena </b><i>stream file</i>
              As <b>open</b>, but if <i>file</i> exists, append to it instead of
              truncating it.

       <b>.output </b><i>contents</i>
              Emit <i>contents</i> directly to <i>troff</i>'s output; this usage is
              similar to that of <b>\! </b>in the top-level diversion.  A
              leading neutral double quote in the argument is stripped,
              allowing embedded leading spaces in <i>contents</i>, which is
              read in copy mode and continues to the end of the input
              line.  This request can't be used before the first page
              has started—if an error is reported, or <i>contents</i> fails to
              appear in <i>troff</i>'s output, simply insert a <b>.br </b>line before
              the <b>output </b>request.

       <b>.pev   </b>Report the state of the current environment followed by
              that of all other environments to the standard error
              stream.

       <b>.pcolor</b>
              Report, to the standard error stream, the list of defined
              color names.  A device's default stroke and/or fill
              colors, “default”, are not listed since they are immutable
              and their details unknown to the formatter.

       <b>.pcomposite</b>
              Report, to the standard error stream, the list of defined
              composite characters.  The “from” code point is listed
              first, followed by its “to” mapping.

       <b>.phw   </b>Report, to the standard error stream, the list of
              hyphenation exceptions.  Each hyphenation point is marked
              with “<b>-</b>”.  Words that will not be hyphenated at all are
              prefixed with “<b>-</b>”.  Those to which the automatic
              hyphenation mode applies (meaning those defined in a
              hyphenation pattern file rather than with the <b>hw </b>request)
              are suffixed with a tab and asterisk (<b>*</b>).

       <b>.pline </b>Report, to the standard error stream, the list of output
              nodes corresponding to the pending output line.  The list
              is empty if there are none.

       <b>.pnr   </b>Write the names and values of all currently defined
              registers to the standard error stream.

       <b>.psbb </b><i>file</i>
              Get the bounding box of a PostScript image <i>file</i>.  This
              file must conform to Adobe's Document Structuring
              Conventions; the request attempts to extract the bounding
              box values from a <b>%%BoundingBox </b>comment.  After
              invocation, the <i>x</i> and <i>y</i> coordinates (in PostScript units)
              of the lower left and upper right corners can be found in
              the registers <b>\n[llx]</b>, <b>\n[lly]</b>, <b>\n[urx]</b>, and <b>\n[ury]</b>,
              respectively.  If an error occurs, these four registers
              are set to zero.

       <b>.pso </b><i>command</i>
              As “<b>so</b>”, except that input comes from the standard output
              stream of <i>command</i>.

       <b>.ptr   </b>Report the names and vertical positions of all page
              location traps to the standard error stream.  Empty slots
              in the list are shown as well, because they can affect the
              visibility of subsequently planted traps.

       <b>.pvs </b><i>±n</i>
              Set the post-vertical line spacing to <i>n</i>; default scaling
              unit is “<b>p</b>”.  With no argument, the post-vertical line
              space is set to its previous value.

              In GNU <i>troff</i>, the distance between text baselines consists
              of the extra pre-vertical line spacing set by the most
              negative <b>\x </b>argument on the pending output line, the
              vertical spacing (<b>vs</b>), the extra post-vertical line
              spacing set by the most positive <b>\x </b>argument on the
              pending output line, and the post-vertical line spacing
              set by this request.

       <b>.rchar </b><i>c</i> ...
              Remove definition of each ordinary or special character <i>c</i>,
              undoing the effect of a <b>char</b>, <b>fchar</b>, or <b>schar </b>request.
              Glyphs, which are defined by font description files,
              cannot be removed.  Spaces and tabs may separate <i>c</i>
              arguments.

       <b>.return </b>[<i>anything</i>]
              Stop interpreting a macro, skipping to the end of its
              definition.  Do not confuse “<b>return</b>” with <b>rt</b>.  If called
              with an argument <i>anything,</i> the skip is performed twice—
              once within the macro being interpreted and once in an
              enclosing macro.  <i>trace.tmac</i> uses this feature to define a
              wrapper macro for “<b>return</b>”.

       <b>.rfschar </b><i>f c</i> ...
              Remove each fallback special character <i>c</i> for font <i>f</i>.
              Spaces and tabs may separate <i>c</i> arguments.  See <b>fschar</b>.

       <b>.rj </b>[<i>n</i>]
              Right-align the next <i>n</i> input lines.  Without an argument,
              right-align the next input line.  <b>rj </b>implies “<b>.ce 0</b>”, and
              <b>ce </b>implies “<b>.rj 0</b>”.

       <b>.rnn </b><i>r1 r2</i>
              Rename register <i>r1</i> to <i>r2</i>.  If <i>r1</i> doesn't exist, the
              request is ignored.

       <b>.schar </b><i>c</i> [[<b>"</b>]<i>contents</i>]
              Define global fallback character <i>c</i> as <i>contents</i>.  As <b>char</b>,
              but a character defined with <b>schar </b>is located after the
              list of fonts declared with the <b>special </b>request and before
              any mounted special fonts.

       <b>.shc </b>[<i>c</i>]
              Set the soft hyphen character, inserted when a word is
              hyphenated automatically or at a hyphenation character,
              to <i>c</i>.  If <i>c</i> is omitted, the soft hyphen character is set
              to the default, <b>\[hy]</b>.  If the selected glyph does not
              exist in the font in use at a potential hyphenation point,
              then the line is not broken at that point.  Neither
              character definitions (<b>char </b>and similar) nor translations
              (<b>tr </b>and similar) are considered when assigning the soft
              hyphen character.

       <b>.shift </b><i>n</i>
              In a macro, shift the arguments by <i>n</i> positions: argument <i>i</i>
              becomes argument <i>i</i>-<i>n</i>; arguments 1 to <i>n</i> are no longer
              available.  If <i>n</i> is missing, arguments are shifted by 1.
              No effect otherwise.

       <b>.sizes </b><i>s1 s2</i> ... <i>sn</i> [<b>0</b>]
              Set the available type sizes to <i>s1</i>, <i>s2</i>, ... <i>sn</i> scaled
              points.  The list of sizes can be terminated by an
              optional “<b>0</b>”.  Each <i>si</i> can also be a range <i>m</i>–<i>n</i>.  In
              contrast to the device description file directive of the
              same name (see <i>groff_font</i>(5)), the argument list can't
              extend over more than one line.

       <b>.soquiet </b><i>file</i>
              As “<b>so</b>”, but no warning is emitted if <i>file</i> does not exist.

       <b>.special </b>[<i>s</i> ...]
              Declare each font <i>s</i> as special, searching it for glyphs
              not found in the selected font.  Without arguments, “‐
              <b>special</b>" empties this list of special fonts.

       <b>.spreadwarn </b>[<i>limit</i>]
              Emit a <b>break </b>warning if the additional space inserted for
              each space between words in an output line adjusted to
              both margins with “<b>.ad b</b>” is larger than or equal to
              <i>limit</i>.  A negative value is treated as zero; an absent
              argument toggles the warning on and off without changing
              <i>limit</i>.  The default scaling unit is <b>m</b>.  At startup,
              <b>spreadwarn </b>is inactive and <i>limit</i> is 3 m.

              For example, “<b>.spreadwarn 0.2m</b>” causes a warning if <b>break</b>
              warnings are not suppressed and <i>troff</i> must add 0.2 m or
              more for each inter-word space in a line.

       <b>.stringdown </b><i>str</i>
       <b>.stringup </b><i>str</i>
              Alter the string named <i>str</i> by replacing each of its bytes
              with its lowercase (<b>down</b>) or uppercase (<b>up</b>) version (if
              one exists).  Special characters (see <i>groff_char</i>(7)) will
              often transform in the expected way due to the regular
              naming convention for accented characters.  When they do
              not, use substrings and/or catenation.

       <b>.sty </b><i>pos style</i>
              Associate abstract <i>style</i> with non-negative font mounting
              position <i>pos</i>.

       <b>.substring </b><i>string start</i> [<i>end</i>]
              Replace the string named <i>string</i> with its substring bounded
              by the indices <i>start</i> and <i>end</i>, inclusively.  The first
              character in the string has index 0.  If <i>end</i> is omitted,
              it is implicitly set to the largest valid value (the
              string length minus one).  Negative indices count
              backwards from the end of the string: the last character
              has index -1, the character before the last has index -2,
              and so on.

       <b>.tkf </b><i>f s1 n1 s2 n2</i>
              Enable track kerning for font <i>f</i>.  When the current font
              is <i>f</i> the width of every glyph is increased by an amount
              between <i>n1</i> and <i>n2</i>; when the current type size is less than
              or equal to <i>s1</i> the width is increased by <i>n1</i>; when it is
              greater than or equal to <i>s2</i> the width is increased by <i>n2</i>;
              when the type size is greater than or equal to <i>s1</i> and less
              than or equal to <i>s2</i> the increase in width is a linear
              function of the type size.

       <b>.tm1 </b>[[<i>"</i>]<i>contents</i>]
              As <b>tm</b>, but recognizes and strips a leading neutral double
              quote, allowing embedded leading spaces in <i>message</i>.

       <b>.tmc </b><i>message</i>
              As <b>tm1 </b>request, but does not append a newline.

       <b>.trf </b><i>file</i>
              Transparently output the contents of <i>file</i>.  Each line is
              output as if preceded by <b>\!</b>, but is not read in copy mode.
              If <i>file</i> does not end with a newline, <b>trf </b>appends one.
              Like <b>cf</b>, <b>trf </b>breaks the line unless invoked with the no-
              break control character.  Characters in <i>file</i> that are
              invalid as input to GNU <i>troff</i> are discarded; contrast with
              <b>cf</b>.

       <b>.trin </b><i>abcd</i>
              This is the same as the <b>tr </b>request except that the <b>asciify</b>
              request uses the character code (if any) before the
              character translation.

       <b>.trnt </b><i>abcd</i>
              This is the same as the <b>tr </b>request except that the
              translations do not apply to text that is transparently
              throughput into a diversion with <b>\!</b>.

       <b>.troff </b>Make the <b>t </b>conditional expression evaluate true and <b>n</b>
              false.  See <b>nroff</b>.

       <b>.unformat </b><i>div</i>
              Unformat the diversion <i>div</i>.  Unlike <b>asciify</b>, <b>unformat</b>
              handles only tabs and spaces between words, the latter
              usually arising from spaces or newlines in the input.
              Tabs are treated as input tokens, and spaces become
              adjustable again.  The vertical sizes of lines are not
              preserved, but glyph information (font, type size, space
              width, and so on) is retained.

       <b>.vpt </b>[<i>b</i>]
              Enable or disable vertical position traps per Boolean
              expression <i>b</i>.  They are enabled by default, and if <i>b</i> is
              omitted.

              Vertical position traps are those set by the <b>ch</b>, <b>wh</b>, and
              <b>dt </b>requests.  Vertical position trap enablement is global.

       <b>.warn </b>[<i>n</i>]
              Select the categories, or “types”, of reported warnings.
              <i>n</i> is the sum of the numeric codes associated with each
              warning category that is to be enabled; all other
              categories are disabled.  The categories and their
              associated codes are listed in section “Warnings” of
              <i>troff</i>(1).  For example, “<b>.warn 0</b>” disables all warnings,
              and “<b>.warn 1</b>” disables all warnings except those about
              missing glyphs.  If no argument is given, all warning
              categories are enabled.

       <b>.warnscale </b><i>si</i>
              Set the scaling unit used in warnings to <i>si</i>.  Valid values
              for <i>si</i> are <b>u</b>, <b>i </b>(the default), <b>c</b>, <b>p</b>, and <b>P</b>.

       <b>.while </b><i>cond-expr anything</i>
              Evaluate the conditional expression <i>cond-expr</i>, and
              repeatedly execute <i>anything</i> unless and until <i>cond-expr</i>
              evaluates false.  <i>anything,</i> which is often a conditional
              block, is referred to as the <b>while </b>request's <i>body.</i>

              <i>troff</i> treats the body of a <b>while </b>request similarly to that
              of a <b>de </b>request (albeit one not read in copy mode), but
              stores it under an internal name and deletes it when the
              loop finishes.  The operation of a macro containing a
              <b>while </b>request can slow significantly if the <b>while </b>body is
              large.  Each time the macro is executed, the <b>while </b>body is
              parsed and stored again.  An often better solution—and one
              that is more portable, since AT&amp;T <i>troff</i> lacked the <b>while</b>
              request—is to instead write a recursive macro.  It will be
              parsed only once (unless you redefine it).  To prevent
              infinite loops, the default number of available recursion
              levels is 1,000 or somewhat less (because things other
              than macro calls can be on the input stack).  You can
              disable this protective measure, or raise the limit, by
              setting the <b>slimit </b>register.  See section “Debugging”
              below.

              If a <b>while </b>body begins with a conditional block, its
              closing brace must end an input line.

              The <b>break </b>and <b>continue </b>requests alter a <b>while </b>loop's flow
              of control.

       <b>.write </b><i>stream</i> [[<b>"</b>]<i>contents</i>]
              Write <i>contents</i> to <i>stream</i>, which must previously have been
              the subject of an <b>open </b>request, followed by a newline.  A
              leading neutral double quote in the second argument is
              stripped, allowing embedded leading spaces in <i>contents</i>,
              which is read in copy mode until the end of the line.

       <b>.writec </b><i>stream</i> [[<b>"</b>]<i>contents</i>]
              As <b>write</b>, but does not append a newline to <i>contents</i>.

       <b>.writem </b><i>stream name</i>
              Write the contents of the macro or string <i>name</i> to <i>stream</i>,
              which must previously have been the subject of an <b>open</b>
              request.  <i>name</i> is read in copy mode.

   <b>Extended requests</b>
       <b>.cf </b><i>file</i>
              In a diversion, embed an object which, when interpolated,
              will cause the contents of <i>file</i> to be copied verbatim to
              the output.  In AT&amp;T <i>troff</i>, the contents of <i>file</i> are
              immediately copied to the output regardless of whether a
              diversion is being written to; this behavior is so
              anomalous that it must be considered a bug.

       <b>.de </b><i>name</i> [<i>end-name</i>]
       <b>.am </b><i>name</i> [<i>end-name</i>]
       <b>.ds </b><i>name</i> [[<b>"</b>]<i>contents</i>]
       <b>.as </b><i>name</i> [[<b>"</b>]<i>contents</i>]
              In compatibility mode, these requests behave similarly to
              <b>de1</b>, <b>am1</b>, <b>ds1</b>, and <b>as1</b>, respectively: a “compatibility
              save” token is inserted at the beginning, and a
              “compatibility restore” token at the end, with
              compatibility mode switched on during interpolation of the
              applicable macro definition, appendment, or string
              <i>contents.</i>

       <b>.hy </b><i>n</i>  New values 16 and 32 are available; the former enables
              hyphenation before the last character in a word, and the
              latter enables hyphenation after the first character in a
              word.  If invoked without an argument, the mode configured
              by the <b>hydefault </b>request is selected.

       <b>.ss </b><i>word-space-size</i> [<i>additional-sentence-space-size</i>]
              A second argument sets the amount of additional space
              separating sentences on the same output line.  If omitted,
              this amount is set to <i>word-space-size</i>.  Both arguments are
              in twelfths of current font's space width (typically one-
              fourth to one-third em for Western scripts; see
              <i>groff_font</i>(5)).  The default for both parameters is 12.
              Negative values are erroneous.

       <b>.ta </b>[[<i>n1 n2</i> ... <i>nn</i> ]<b>T </b><i>r1 r2</i> ... <i>rn</i>]
              <i>groff</i> supports an extended syntax to specify repeating tab
              stops after the “<b>T</b>” mark.  These values are always taken
              as relative distances from the previous tab stop.  This is
              the idiomatic way to specify tab stops at equal intervals
              in <i>groff</i>.

              The syntax summary above instructs <i>groff</i> to set tabs at
              positions <i>n1</i>, <i>n2</i>, ..., <i>nn</i>, then at <i>nn</i>+<i>r1</i>, <i>nn</i>+<i>r2</i>, ...,
              <i>nn</i>+<i>rn</i>, then at <i>nn</i>+<i>rn</i>+<i>r1</i>, <i>nn</i>+<i>rn</i>+<i>r2</i>, ..., <i>nn</i>+<i>rn</i>+<i>rn</i>, and so
              on.

   <b>New registers</b>
       GNU <i>troff</i> exposes more formatter state via many new read-only
       registers.  Their names often correspond to the requests that
       affect them.

       <b>\n[.br]</b>
              Within a macro call, interpolate 1 if the macro is called
              with the “normal” control character (“.” by default),
              and 0 otherwise.  This facility allows the reliable
              modification of requests.  Using this register outside of
              a macro definition makes no sense.

       <b>\n[.C] </b>Interpolate 1 if compatibility mode is in effect,
              0 otherwise.  See <b>cp</b>.

       <b>\n[.cdp]</b>
              Interpolate depth of last glyph added to the environment.
              It is positive if the glyph extends below the baseline.

       <b>\n[.ce]</b>
              Interpolate number of input lines remaining to be
              centered.

       <b>\n[.cht]</b>
              Interpolate height of last glyph added to the environment.
              It is positive if the glyph extends above the baseline.

       <b>\n[.color]</b>
              Interpolate 1 if colors are enabled, 0 otherwise.

       <b>\n[.cp]</b>
              Within a “<b>do</b>” request, interpolate the saved value of
              compatibility mode (see <b>\n[.C] </b>above).

       <b>\n[.csk]</b>
              Interpolate skew of last glyph added to the environment.
              The <i>skew</i> of a glyph is how far to the right of the center
              of a glyph the center of an accent over that glyph is to
              be placed.

       <b>\n[.ev]</b>
              Interpolate name of current environment.  This is a
              string-valued register.

       <b>\n[.fam]</b>
              Interpolate name of default font family.  This is a
              string-valued register.

       <b>\n[.fn]</b>
              Interpolate resolved name of the selected font.  This is a
              string-valued register.

       <b>\n[.fp]</b>
              Interpolate next free non-zero font mounting position.

       <b>\n[.g] </b>Interpolate 1.  Test with “<b>if</b>” or <b>ie </b>to check whether GNU
              <i>troff</i> is the formatter.

       <b>\n[.height]</b>
              Interpolate font height.  See <b>\H</b>.

       <b>\n[.hla]</b>
              Interpolate hyphenation language of the environment.  This
              is a string-valued register.

       <b>\n[.hlc]</b>
              Interpolate count of immediately preceding consecutive
              hyphenated lines in the environment.

       <b>\n[.hlm]</b>
              Interpolate maximum number of consecutive hyphenated lines
              allowed in the environment.

       <b>\n[.hy]</b>
              Interpolate automatic hyphenation mode of the environment.

       <b>\n[.hydefault]</b>
              Interpolate hyphenation mode default of the environment.

       <b>\n[.hym]</b>
              Inteprolate hyphenation margin of the environment.

       <b>\n[.hys]</b>
              Interpolate hyphenation space adjustment threshold of the
              environment.

       <b>\n[.in]</b>
              Interpolate indentation amount applicable to the pending
              output line.

       <b>\n[.int]</b>
              Interpolate 1 if the most recently formatted text was
              interrupted (ended with <b>\c</b>), 0 otherwise.

       <b>\n[.it]</b>
              Interpolate the count of lines remaining in any pending
              input trap.

       <b>\n[.itc]</b>
              Interpolate 1 if the pending input trap honors the output
              line continuation escape sequence (<b>\c</b>), 0 otherwise.

       <b>\n[.itm]</b>
              Interpolate the name of the macro associated with the
              pending input trap.  This is a string-valued register.

       <b>\n[.kern]</b>
              Interpolate 1 if pairwise kerning is enabled, 0 otherwise.

       <b>\n[.lg]</b>
              Interpolate ligature mode.

       <b>\n[.linetabs]</b>
              Interpolate 1 if line-tabs mode is enabled, 0 otherwise.

       <b>\n[.ll]</b>
              Interpolate line length applicable to the pending output
              line.

       <b>\n[.lt]</b>
              Interpolate title line length.

       <b>\n[.m] </b>Interpolate name of the selected stroke color.  This is a
              string-valued register.

       <b>\n[.M] </b>Interpolate name of the selected fill color.  This is a
              string-valued register.

       <b>\n[.ne]</b>
              Interpolate amount of space demanded by the most recent <b>ne</b>
              request that caused a page location trap to be sprung.
              See <b>\n[.trunc]</b>.

       <b>\n[.nm]</b>
              Interpolate 1 if output line numbering is enabled (even if
              temporarily suppressed), 0 otherwise.

       <b>\n[.nn]</b>
              Interpolate count of output lines remaining to have
              numbering suppressed.

       <b>\n[.ns]</b>
              Interpolate 1 if no-space mode is enabled, 0 otherwise.

       <b>\n[.O] </b>Interpolate output suppression level.  See <b>\O</b>.

       <b>\n[.P] </b>Interpolate 1 if the current page is selected for output.
              See <b>-o </b>command-line option to <i>troff</i>(1).

       <b>\n[.pe]</b>
              Interpolate 1 during page ejection, 0 otherwise.

       <b>\n[.pn]</b>
              Interpolate next page number (either that set by <b>pn</b>, or
              that of the current page plus 1).

       <b>\n[.ps]</b>
              Interpolate type size in scaled points.

       <b>\n[.psr]</b>
              Interpolate most recently requested type size in scaled
              points.

       <b>\n[.pvs]</b>
              Interpolate post-vertical line spacing amount.

       <b>\n[.rj]</b>
              Interpolate number of input lines remaining to be right-
              aligned.

       <b>\n[.slant]</b>
              Interpolate font slant.  See <b>\S</b>.

       <b>\n[.sr]</b>
              Interpolate most recently requested type size in points as
              a decimal fraction.  This is a string-valued register.

       <b>\n[.ss]</b>
       <b>\n[.sss]</b>
              Interpolate values of minimal inter-word space and
              additional inter-sentence space, respectively, in twelfths
              of the space width of the selected font.

       <b>\n[.sty]</b>
              Interpolate selected abstract font style, if any.  This is
              a string-valued register.

       <b>\n[.tabs]</b>
              Interpolate representation of the tab stop settings in a
              form suitable for passage to the <b>ta </b>request.

       <b>\n[.trap]</b>
              Interpolate the name of the next vertical position trap
              that will be sprung.  This is a string-valued register.

       <b>\n[.trunc]</b>
              Interpolate amount of vertical space truncated by the most
              recently sprung page location trap, or, if the trap was
              sprung by an <b>ne </b>request, minus the amount of vertical
              motion produced by the <b>ne </b>request.  In other words, at the
              point a trap is sprung, <b>\n[.trunc] </b>represents the
              difference of what the vertical position would have been
              but for the trap, and what the vertical position actually
              is.  See <b>\n[.ne]</b>.

       <b>\n[.U] </b>Interpolate 1 if in unsafe mode, 0 otherwise.  See <b>-U</b>
              command-line option to <i>troff</i>(1).

       <b>\n[.vpt]</b>
              Interpolate 1 if vertical position traps are enabled,
              0 otherwise.

       <b>\n[.warn]</b>
              Interpolate warning mode.  See section “Warnings” of
              <i>troff</i>(1).

       <b>\n[.x] </b>Interpolate major version number of the running <i>troff</i>
              formatter.  For example, if the version number is 1.23.0,
              then <b>\n[.x] </b>contains 1.

       <b>\n[.y] </b>Interpolate minor version number of the running <i>troff</i>
              formatter.  For example, if the version number is 1.23.0,
              then <b>\n[.y] </b>contains 23.

       <b>\n[.Y] </b>Interpolate revision number of the running <i>troff</i>
              formatter.  For example, if the version number is 1.23.0,
              then <b>\n[.Y] </b>contains 0.

       <b>\n[.zoom]</b>
              Interpolate magnification of font, in thousandths, or 0 if
              magnification unused.  See <b>fzoom</b>.

       The following (writable) registers are set by the <b>psbb </b>request.

       <b>\n[llx]</b>
       <b>\n[lly]</b>
       <b>\n[urx]</b>
       <b>\n[ury]</b>
              Interpolate the (upper, lower, left, right) bounding box
              values (in PostScript units) of the most recently
              processed PostScript image.

       The following (writable) registers are set by the <b>\w </b>escape
       sequence.

       <b>\n[rst]</b>
       <b>\n[rsb]</b>
              Like <b>\n[st] </b>and <b>\n[sb]</b>, but taking account of the heights
              and depths of glyphs.  In other words, these registers
              store the highest and lowest vertical positions attained
              by the argument formatted by the <b>\w </b>escape sequence, doing
              what AT&amp;T <i>troff</i> documented <b>\n[st] </b>and <b>\n[sb] </b>as doing.

       <b>\n[ssc]</b>
              The amount of (possibly negative) horizontal space to add
              to the last glyph before a subscript.

       <b>\n[skw]</b>
              How far to right of the center of the last glyph in the <b>\w</b>
              argument, to place the center of an accent from a roman
              font over that glyph.

       Other writable registers are as follows.  Those relating to date
       and time are initialized using <i>localtime</i>(3) at formatter startup.

       <b>\n[c.] </b>Interpolate input line number.  <b>\n[.c] </b>is a read-only
              alias of this register.

       <b>\n[hours]</b>
              Interpolate number of hours elapsed since midnight.

       <b>\n[hp] </b>Interpolate horizontal position relative to that at the
              start of the input line.

       <b>\n[lsn]</b>
       <b>\n[lss]</b>
              Interpolate count of leading spaces on input line and
              amount of corresponding horizontal motion, respectively.

       <b>\n[minutes]</b>
              Interpolate number of minutes elapsed in the hour.

       <b>\n[seconds]</b>
              Interpolate number of seconds elapsed in the minute.

       <b>\n[systat]</b>
              Interpolate return value of <i>system</i>(3) function executed by
              most recent <b>sy </b>request.

       <b>\n[slimit]</b>
              Interpolates maximum quantity of objects on <i>troff</i>'s
              internal input stack (default: 1000).  If non-positive,
              there is no limit: recursion can continue until program
              memory is exhausted.

       <b>\n[year]</b>
              Interpolate Gregorian year.  AT&amp;T <i>troff</i>'s <b>\[yr]</b>
              interpolates the Gregorian year minus 1900.

   <b>Miscellaneous</b>
       GNU <i>troff</i> predefines one string, <b>.T</b>, containing the argument
       given to the <b>-T </b>command-line option, namely the output device
       (for example, <b>pdf </b>or <b>utf8</b>).  The (read-only) <i>register</i> <b>.T</b>
       interpolates 1 if GNU <i>troff</i> is run with the <b>-T </b>command-line
       option, and 0 otherwise.

       A font not listed in the output device's <i>DESC</i> file's <b>fonts</b>
       directive is automatically mounted at the next available font
       position when it is selected.  If you mount a font explicitly
       with the <b>fp </b>request, you should do so on the first unused
       position, which can be found in the <b>.fp </b>register.

       Unparameterized string interpolation does not conceal the
       arguments to a macro being interpreted.  Thus, in a macro
       definition, the call of another macro with the existing argument
       list,
              <b>.</b><i>xx</i> <b>\\$@</b>
       is more efficiently done with
              <b>\\*[</b><i>xx</i><b>]\\</b>
       (that is, with string interpolation).  The trailing backslashes
       prevent the final newline in the macro definition from being
       interpolated, potentially putting an unwanted blank line on the
       output.  See section “Punning Names” in <i>groff</i>(7).

       If a font description file contains pairwise kerning information,
       glyphs from that font are kerned.  Kerning between two glyphs can
       be inhibited by placing a dummy character <b>\&amp; </b>between them.

       GNU <i>troff</i> keeps track of the nesting depth of escape sequence
       interpolations and other uses of delimiters, as in the <b>tl </b>request
       and the output comparison operator (that is, input like <b>'foo'bar'</b>
       as a conditional expression), so the only characters you need to
       avoid using as delimiters are those that appear in the arguments
       you input, not any that result from interpolation.  Typically, <b>'</b>
       works fine.  Use visible characters as delimiters in GNU <i>troff</i>,
       not “ASCII” controls like BEL (Control+G).  The implementation of
       <b>\$@ </b>ensures that the double quotes surrounding an argument appear
       at an interpolation depth different from that of the arguments
       themselves.  Similarly, in bracket-form escape sequences like
       <b>\f[ZCMI], </b>a right bracket <b>] </b>does not end the sequence unless it
       occurs at the same interpolation depth as the opening <b>[</b>.  In
       compatibility mode, no attention is paid to the interpolation
       depth.

       In GNU <i>troff</i>, the <b>tr </b>request can map characters to the
       unbreakable space escape sequence <b>\~ </b>as a special case (<b>tr</b>
       normally operates only on <i>characters</i>).  This feature replaces the
       odd-parity <b>tr </b>mapping trick used in AT&amp;T <i>troff</i> documents, where a
       character, often <b>~</b>, was “sacrificed” by mapping it to “nothing”,
       drafting it into use as an unadjustable, unbreakable space.
       (This feature was gratuitous even in early AT&amp;T <i>troff,</i> which
       supported the <b>\</b><i>space</i> escape sequence by 1976.)  Often, it makes
       more sense to use GNU <i>troff</i>'s <b>\~ </b>escape sequence instead, which
       has been adopted by every other active <i>troff</i> implementation
       except that of Illumos, as well as by the non<i>-troff mandoc</i>.
       Translation of a character to <b>\~ </b>is unnecessary.

       GNU <i>troff</i> permits tabs and spaces after the first dot on a
       control line that ends a macro definition.
</pre> <h2>
Formatter output </h2>
<pre>
       The page description language output by GNU <i>troff</i> is modeled
       after that used by AT&amp;T <i>troff</i> once the latter adopted a device-
       independent approach in the early 1980s.  Only the differences
       are documented here.  For a fuller discussion, see <i>groff_out</i>(5).

       Glyph and font names can be of arbitrary length; postprocessors
       should not assume that they are at most two characters.  A glyph
       to be formatted is always drawn from the current font; in
       contrast to AT&amp;T device-independent <i>troff</i>, drivers need not
       search special fonts to find a glyph.

   <b>Units</b>
       The argument to the <b>s </b>command is in scaled points (units of
       points/<i>n</i>, where <i>n</i> is the argument to the <b>sizescale </b>command in the
       <i>DESC</i> file).  The argument to the “<b>x H</b>” command is also in scaled
       points.

   <b>Simple commands</b>
       If the <b>tcommand </b>directive is present in the output device's <i>DESC</i>
       file, GNU <i>troff</i> employs the following two commands.

       <b>t </b><i>xyz</i>...
              Typeset word <i>xyz</i>; that is, set a sequence of ordinary
              glyphs named <i>x</i>, <i>y</i>, <i>z</i>, ..., terminated by a space or
              newline; an optional second integer argument is ignored
              (this allows the formatter to generate an even number of
              arguments).  Each glyph is set at the current drawing
              position, and the position is then advanced horizontally
              by the glyph's width.  A glyph's width is read from its
              metrics in the font description file, scaled to the
              current type size, and rounded to a multiple of the
              horizontal motion quantum.  Use the <b>C </b>command to emplace
              glyphs of special characters.

       <b>u </b><i>n xyz</i>...
              Typeset word <i>xyz</i> with track kerning.  As <b>t</b>, but after
              placing each glyph, the drawing position is further
              advanced horizontally by <i>n</i> basic units.

       New commands implement color support.

       <b>mc </b><i>cyan magenta yellow</i>
       <b>md</b>
       <b>mg </b><i>gray</i>
       <b>mk </b><i>cyan magenta yellow black</i>
       <b>mr </b><i>red green blue</i>
              Set the components of the stroke color with respect to
              various color spaces.  <b>md </b>resets the stroke color to the
              default value.  The arguments are integers in the range 0
              to 65535.

       A new device control subcommand is available.

       <b>x u </b><i>n</i>  If <i>n</i> is 1, start underlining of spaces.  If <i>n</i> is 0, stop
              underlining of spaces.  This facility is needed for the <b>cu</b>
              request in <i>nroff</i> mode and is ignored otherwise.

   <b>Extended drawing commands</b>
       GNU <i>pic</i> does not produce <i>troff</i> escape sequences employing these
       extensions if its <b>-n </b>option is given.

       <b>Df </b><i>n</i>   Set the shade of gray used to fill geometric objects to <i>n</i>,
              which must be an integer.  0 corresponds to white and 1000
              to black.  A grayscale ramp spans the two.  A value
              outside this range uses the stroke color as the fill
              color.  The fill color is opaque.  Normally the default is
              black, but some drivers may provide a way of changing
              this.  <b>Df </b>is obsolete since 2002, superseded by <b>DFg </b>below.

              The corresponding <b>\D'f' </b>escape sequence should not be
              used: its argument is rounded to an integer multiple of
              the horizontal motion quantum, which can limit the
              precision of <i>n</i>.

       <b>DC </b><i>d</i>   Draw a filled circle of diameter <i>d</i> with its leftmost point
              at the drawing position.

       <b>DE </b><i>h v</i> Draw a filled ellipse, of horizontal axis <i>h</i> and vertical
              axis <i>v</i>, with its leftmost point at the drawing position.

       <b>Dp </b><i>dx</i>1<i>dy</i>1...<i>dxndyn</i>
              Draw a polygon with, for <i>i</i>=1,...,<i>n</i>+1, its <i>i</i>th vertex at
              the drawing position +<i>ij</i>−=Σ11(<i>dxj</i>,<i>dyj</i>).  <i>groff</i> output drivers
              automatically close polygons, drawing a line from
              (<i>dxn</i>,<i>dyn</i>) back to (<i>dx</i>1,<i>dy</i>1).  The drawing position is left
              at the last <i>specified</i> vertex, but this may change in a
              future version of GNU <i>troff</i>.  Heirloom Doctools <i>troff</i>,
              like DWB <i>troff</i>, by default does not close the polygon.  In
              its <i>groff</i> compatibility mode, Heirloom closes the polygon
              but leaves the drawing position <i>unchanged</i>—that is, at the
              polygon's <i>initial</i> drawing position.

              At the moment, GNU <i>pic</i> uses this command only to generate
              triangles and rectangles.

       <b>DP </b><i>dx</i>1<i>dy</i>1...<i>dxndyn</i>
              As <b>Dp</b>, but draw a filled rather than a stroked polygon.

       <b>Dt </b><i>n</i>   Set the line thickness to <i>n</i> basic units.  AT&amp;T <i>troff</i>
              output drivers use a thickness proportional to the type
              size; this is the GNU <i>troff</i> default.  A negative <i>n</i>
              requests this explicitly.  An <i>n</i> of zero selects the
              smallest available line thickness.

       A difficulty arises in how the drawing position should be changed
       after the execution of these commands.  This has little
       importance to most users, since the output of GNU <i>grn</i> and <i>pic</i>
       does not depend on it.  Given a drawing command of the form <b>D</b><i>z</i>
       <i>x</i>1<i>y</i>1...<i>xnyn</i>, where <i>z</i> is not <b>c </b>or <b>e</b>, AT&amp;T <i>troff</i> treats each <i>xi</i> as
       a horizontal motion, each <i>yi</i> as a vertical one, and therefore
       assumes that the width of the drawn object is <i>in</i>=Σ1<i>xi</i>, and its
       height is <i>in</i>=Σ1<i>yi</i>.  (Verify its assumption about height by
       examining the <b>st </b>and <b>sb </b>registers after using such a drawing
       command in a <b>\w </b>escape sequence).  For the sake of compatibility,
       GNU <i>troff</i> also follows this rule, even though it frustrates
       extensions to the <b>D </b>command that set drawing parameters rather
       than rendering objects, producing ugly results in the case of <b>Dt</b>
       and <b>Df</b>, or otherwise don't parameterize objects as a series of
       vertices, as with GNU <i>troff</i>'s filled ellipse, <b>DE</b>.  Thus after
       executing a <b>D </b>command of the form <b>D</b><i>z x</i>1<i>y</i>1...<i>xnyn</i>, the drawing
       position should be increased by (<i>in</i>=Σ1<i>xi</i>,<i>in</i>=Σ1<i>yi</i>).  In a future
       release, GNU <i>troff</i> and its output drivers may abandon the
       application of this assumption to drawing commands not explicitly
       specified in the AT&amp;T “Troff User's Manual”.

       Fill color selection is implemented with another set of
       extensions.

       <b>DFc </b><i>cyan magenta yellow</i>
       <b>DFd</b>
       <b>DFg </b><i>gray</i>
       <b>DFk </b><i>cyan magenta yellow black</i>
       <b>DFr </b><i>red green blue</i>
              Set the components of the fill color as described under
              the <b>\M </b>escape sequence above.  <b>DFd </b>restores the device's
              default fill color.  The drawing position is not updated,
              in contrast to <b>Df</b>.

   <b>Device control syntax extension</b>
       GNU <i>troff</i> introduces a line continuation convention, permitting
       the argument to the <b>x X </b>command to contain newlines.  A newline
       in the input is transformed to the sequence “<i>newline</i><b>+</b>”.  When
       interpreting an <b>x X </b>command, a postprocessor should therefore be
       prepared for a plus sign after a newline; if it occurs, preserve
       the newline, discard the plus sign, and continue to collect the
       input into the argument of the <b>x X </b>command.  A newline <i>not</i>
       followed by a plus sign terminates the <b>x X </b>command.  An
       application of this feature is the embedding of PostScript or PDF
       language command streams into <i>troff</i> output.

       GNU <i>troff</i> guarantees that the first three output commands it
       emits are as follows.

              x T <i>device</i>
              x res <i>n h v</i>
              x init
</pre> <h2>
Debugging </h2>
<pre>
       In addition to AT&amp;T <i>troff</i>'s debugging features, GNU <i>troff</i> emits
       more error diagnostics when syntactical or semantic nonsense is
       encountered and supports several warning categories; the output
       of these can be selected with <b>warn</b>.  Also see the <b>-E</b>, <b>-w</b>, and <b>-W</b>
       options of <i>troff</i>(1).  Backtraces can be automatically produced
       when errors or warnings occur (the <b>-b </b>option of <i>troff</i>(1)) or
       generated on demand (<b>backtrace</b>).

       <i>groff</i> also adds more flexible diagnostic output requests (<b>tmc </b>and
       <b>tm1</b>).  More aspects of formatter state can be examined with
       requests that write lists of defined colors (<b>pcolor</b>), composite
       characters (<b>pcomposite</b>), environments (<b>pev</b>), hyphenation
       exceptions (<b>phw</b>), registers (<b>pnr</b>), page location traps (<b>ptr</b>), and
       a list of pending output nodes corresponding to the previous
       input line (<b>.pline</b>) to the standard error stream.
</pre> <h2>
Other differences </h2>
<pre>
       GNU <i>troff</i>'s features sometimes cause incompatibilities with
       documents written assuming old implementations of <i>troff</i>.  Some
       GNU extensions to <i>troff</i> are supported by other implementations.

       AT&amp;T <i>troff</i> discards trailing spaces from input lines, like GNU
       <i>troff</i>, but if it does so, AT&amp;T <i>troff</i> also cancels end-of-sentence
       detection.  Use of the dummy character escape sequence <b>\&amp; </b>is more
       portable.

       When adjusting to both margins, AT&amp;T <i>troff</i> at first adjusts
       spaces starting from the right; GNU <i>troff</i> begins from the left.
       Both implementations adjust spaces from opposite ends on
       alternating output lines to prevent “rivers” in the text.

       GNU <i>troff</i> does not always hyphenate words as AT&amp;T <i>troff</i> does.
       The AT&amp;T implementation uses a set of hard-coded rules specific
       to U.S. English, while GNU <i>troff</i> uses language-specific
       hyphenation pattern files derived from TeX.  In some versions of
       <i>troff</i> there was limited space to store hyphenation exceptions
       (arguments to the <b>hw </b>request); GNU <i>troff</i> has no such restriction.

       GNU <i>troff</i> handles the dummy character <b>\&amp; </b>differently from AT&amp;T
       <i>troff</i> when it is followed by the hyphenation control escape
       sequence <b>\% </b>at the beginning of a word.  GNU <i>troff</i> does not
       regard the dummy character as “starting” the word; AT&amp;T <i>troff</i>
       does.  Further, Heirloom Doctools <i>troff</i> does not honor an
       explicit hyphenation point marked with <b>\% </b>after a word-initial
       one.
</pre> <h2>
Compatibility mode </h2>
<pre>
       Some implementation differences between GNU and AT&amp;T <i>troff</i>s are
       thought too important to neglect; <i>groff</i> therefore makes available
       a <i>compatibility mode</i> in an effort to keep documents prepared for
       AT&amp;T <i>troff</i> rendering well.

       Identifier names of arbitrary length may be GNU <i>troff</i>'s most
       obvious innovation.  AT&amp;T <i>troff</i> interprets “<b>.dsabcd</b>” as defining
       a string “<b>ab</b>” with contents “<b>cd</b>”.  Normally, GNU <i>troff</i> interprets
       this as a call of a macro named “<b>dsabcd</b>”.  AT&amp;T <i>troff</i> also
       interprets <b>\*[ </b>and <b>\n[ </b>as an interpolation of a string or
       register, respectively, called “<b>[</b>”.  In GNU <i>troff</i>, however, the
       “<b>[</b>” is normally interpreted as beginning the enclosure of a long
       identifier.  In compatibility mode, GNU <i>troff</i> interprets names in
       the traditional way, which means that they are limited to one or
       two characters.  See the <b>-C </b>option in <i>troff</i>(1) and, above, the <b>.C</b>
       and <b>.cp </b>registers, and <b>cp </b>and “<b>do</b>” requests, for more on
       compatibility mode.

       The register <b>\n[.cp] </b>is specialized and may require a statement
       of rationale.  When writing macro packages or documents that use
       GNU <i>troff</i> features and which may be mixed with other packages or
       documents that do not—common scenarios include serial processing
       of man pages or use of the “<b>so</b>” or <b>mso </b>requests—you may desire
       correct operation regardless of compatibility mode enablement in
       the surrounding context.  It may occur to you to save the
       existing value of <b>\n(.C </b>into a register, say, <b>_C</b>, at the
       beginning of your file, turn compatibility mode off with “<b>.cp 0</b>”,
       then restore it from that register at the end with “<b>.cp \n(_C</b>”.
       At the same time, a modular design of a document or macro package
       may lead you to multiple layers of inclusion.  You cannot use the
       same register name everywhere lest you “clobber” the value from a
       preceding or enclosing context.  The two-character register name
       space of AT&amp;T <i>troff</i> is confining and mnemonically challenging;
       you may wish to use GNU <i>troff</i>'s more capacious name space.
       However, attempting “<b>.nr _my_saved_C \n(.C</b>” will not work in
       compatibility mode; the register name is too long.  “This is
       exactly what <b>.do </b>is for,” you think, “<b>.do nr _my_saved_C \n(.C</b>”.
       The foregoing will always save zero to your register, because
       “<b>do</b>” turns compatibility mode <i>off</i> while it interprets its
       argument list.

       The existence of the <b>.T </b>string is a common feature of post-
       CSTR #54 <i>troff</i>s—DWB 3.3, Solaris, Heirloom Doctools, and Plan 9
       <i>troff</i> all support it—but valid values are specific to each
       implementation.  The behavior of the <b>.T </b>register in GNU <i>troff</i>
       differs from AT&amp;T <i>troff</i>, which interpolated 1 only if <i>nroff</i> was
       the formatter and was called with <b>-T</b>.

       The <b>lf </b>request sets the number of the <i>current</i> input line in AT&amp;T
       <i>troff</i>, and the <i>next</i> in GNU <i>troff</i>.

       AT&amp;T <i>troff</i> had only environments named “<b>0</b>”, “<b>1</b>”, and “<b>2</b>”.  In GNU
       <i>troff</i>, any number of environments may exist, using any valid
       identifiers for their names.

       GNU <i>troff</i> normally tracks the interpolation depth of escape
       sequence parameters and other delimited structures, but not in
       compatibility mode.  See section “Miscellaneous” above.

       Further, the escape sequences <b>\f</b>, <b>\H</b>, <b>\m</b>, <b>\M</b>, <b>\R</b>, <b>\s</b>, and <b>\S </b>are
       transparent at the beginning of an input line only in
       compatibility mode.

       GNU <i>troff</i> request names unrecognized by other <i>troff</i>
       implementations will likely be ignored; escape sequences that are
       GNU <i>troff</i> extensions are liable to format their function selector
       character.  For example, the adjustable, non-breaking space
       escape sequence <b>\~ </b>is also supported by Heirloom Doctools <i>troff</i>
       050915 (September 2005), <i>mandoc</i> 1.9.5 (2009-09-21), <i>neatroff</i>
       (commit 1c6ab0f6e, 2016-09-13), and Plan 9 from User Space <i>troff</i>
       (commit 93f8143600, 2022-08-12), but not by Solaris/Illumos
       <i>troff</i>s, which will render it as <b>~</b>.

       GNU <i>troff</i> does not allow the use of the escape sequences <b>\|</b>, <b>\^</b>,
       <b>\&amp;</b>, <b>\{</b>, <b>\}</b>, <b>\</b><i>space</i>, <b>\'</b>, <b>\`</b>, <b>\-</b>, <b>\_</b>, <b>\!</b>, <b>\%</b>, or <b>\c </b>in identifiers;
       AT&amp;T <i>troff</i> does.  The <b>\A </b>escape sequence (see subsection “Escape
       sequences” above) may be helpful in avoiding their use.

       Normally, the syntax form <b>\s</b><i>n</i> accepts only a single character (a
       digit) for <i>n</i>, consistently with other forms that originated in
       AT&amp;T <i>troff</i>, like <b>\*</b>, <b>\$</b>, <b>\f</b>, <b>\g</b>, <b>\k</b>, <b>\n</b>, and <b>\z</b>.  In
       compatibility mode only, a non-zero <i>n</i> must be in the range 4–39.
       Legacy documents relying upon this quirk of parsing should be
       migrated to another <b>\s </b>form.  [Background: The Graphic Systems
       C/A/T phototypesetter (the original device target for AT&amp;T <i>troff</i>)
       supported only a few discrete type sizes in the range 6–36
       points, so Ossanna contrived a special case in the parser to do
       what the user must have meant.  Kernighan warned of this in the
       1992 revision of CSTR #54 (§2.3), and more recently, McIlroy
       referred to it as a “living fossil”.]

       Fractional type size support causes an incompatibility.  In AT&amp;T
       <i>troff</i>, the <b>ps </b>request ignores scaling units and thus “<b>.ps 10u</b>”
       sets the type size to 10 points, whereas in GNU <i>troff</i> it sets the
       type size to 10 <i>scaled</i> points, which may be a much smaller
       measurement.  See subsection “Fractional type sizes and new
       scaling units” above.

       The <b>ab </b>request differs from AT&amp;T <i>troff</i>: GNU <i>troff</i> writes no
       message to the standard error stream if no arguments are given,
       and it exits with a failure status instead of a successful one.

       The <b>bp </b>request differs from AT&amp;T <i>troff</i>: GNU <i>troff</i> does not accept
       a scaling unit on the argument, a page number; the former
       (somewhat uselessly) does.

       In AT&amp;T <i>troff</i> the <b>pm </b>request reports macro, string, and diversion
       sizes in units of 128-byte blocks, and an argument reduces the
       report to a sum of the above in the same units.  GNU <i>troff</i>
       ignores any arguments and reports the sizes in bytes.

       AT&amp;T <i>troff</i> ignores the <b>ss </b>request if the output is a terminal
       device; GNU <i>troff</i> rounds down the values of minimum inter-word
       and additional inter-sentence space each to the nearest multiple
       of 12.

       In GNU <i>troff</i> there is a fundamental difference between
       (unformatted) characters and (formatted) glyphs.  Everything that
       affects how a glyph is output is stored with the glyph node; once
       a glyph node has been constructed, it is unaffected by any
       subsequent requests that are executed, including <b>bd</b>, <b>cs</b>, <b>tkf</b>, <b>tr</b>,
       or <b>fp </b>requests.  Normally, glyphs are constructed from characters
       immediately before the glyph is added to an output line.  Macros,
       diversions, and strings are all, in fact, the same type of
       object; they contain a sequence of intermixed character and glyph
       nodes.  Special characters transform from one to the other:
       before being added to the output, they behave as characters;
       afterward, they are glyphs.  A glyph node does not behave like a
       character node when it is processed by a macro: it does not
       inherit any of the special properties that the character from
       which it was constructed might have had.

       One way to format a backslash in most documents is with the <b>\e</b>
       escape sequence; this formats the glyph of the current escape
       character, regardless of whether it is used in a diversion; it
       also works in both GNU <i>troff</i> and AT&amp;T <i>troff</i>.  (Naturally, if
       you've changed the escape character, you need to prefix the “<b>e</b>”
       with whatever it is—and you'll likely get something other than a
       backslash in the output.)

       The other correct way, appropriate in contexts independent of the
       backslash's common use as a <i>roff</i> escape character—perhaps in
       discussion of character sets or other programming languages—is
       the character escape <b>\(rs </b>or <b>\[rs]</b>, for “reverse solidus”, from
       its name in the ECMA-6 (ISO/IEC 646) standard.  [This escape
       sequence is not portable to AT&amp;T <i>troff</i>, but is to its lineal
       descendant, Heirloom Doctools <i>troff</i>, as of its 060716 release
       (July 2006).]

       To store an escape sequence in a diversion that is interpreted
       when the diversion is interpolated, either use the traditional <b>\!</b>
       transparent output facility, or, if this is unsuitable, the new
       <b>\? </b>escape sequence.  See subsection “Escape sequences” above and
       sections “Diversions” and “Gtroff Internals” in <i>Groff: The GNU</i>
       <i>Implementation of troff</i>, the <i>groff</i> Texinfo manual.

       In the somewhat pathological case where a diversion exists
       containing a partially collected line and a partially collected
       line at the top-level diversion has never existed, AT&amp;T <i>troff</i>
       will output a partially collected but otherwise empty line (as if
       “<b>\c</b>” were in the top-level diversion) at the end of input; GNU
       <i>troff</i> will not.

   <b>Formatter output incompatibilities</b>
       Its extensions notwithstanding, GNU <i>troff</i>'s output format has
       some incompatibilities with that of AT&amp;T <i>troff</i>, but better
       compatibility is sought; problem reports and patches are welcome.
       The following incompatibilities are known.

       •  The drawing position after rendering polygons is inconsistent
          with AT&amp;T <i>troff</i> practice.  Other implementations have diverged
          on this point as well.

       •  The output cannot be easily rescaled to other devices as AT&amp;T
          <i>troff</i>'s could.
</pre> <h2>
Authors </h2>
<pre>
       This document was written by James Clark ⟨jjc@jclark.com⟩, Werner
       Lemberg ⟨wl@gnu.org⟩, Bernd Warken ⟨groff-bernd.warken-72@web
       .de⟩, and G. Branden Robinson ⟨g.branden.robinson@gmail.com⟩.
</pre> <h2>
See also </h2>
<pre>
       <i>Groff: The GNU Implementation of troff</i>, by Trent A. Fisher and
       Werner Lemberg, is the primary <i>groff</i> manual.  You can browse it
       interactively with “info groff”.

       “Troff User's Manual” by Joseph F. Ossanna, 1976 (revised by
       Brian W. Kernighan, 1992), AT&amp;T Bell Laboratories Computing
       Science Technical Report No. 54, widely called simply “CSTR #54”,
       documents the language, device and font description file formats,
       and output format referred to collectively in <i>groff</i> documentation
       as AT&amp;T <i>troff</i>.

       “A Typesetter-independent TROFF” by Brian W. Kernighan, 1982,
       AT&amp;T Bell Laboratories Computing Science Technical Report No. 97,
       provides additional insights into the device and font description
       file formats and output format.

       <i>groff</i>(1), <i>groff</i>(7), <i>roff</i>(7)
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>groff</i> (GNU troff) project.  Information
       about the project can be found at 
       ⟨<a href="http://www.gnu.org/software/groff/">http://www.gnu.org/software/groff/</a>⟩.  If you have a bug report
       for this manual page, see ⟨<a href="http://www.gnu.org/software/groff/">http://www.gnu.org/software/groff/</a>⟩.
       This page was obtained from the project's upstream Git repository
       ⟨<a href="https://git.savannah.gnu.org/git/groff.git">https://git.savannah.gnu.org/git/groff.git</a>⟩ on 2024-06-14.  (At
       that time, the date of the most recent commit that was found in
       the repository was 2024-06-10.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">groff 1.23.0.1273-9d53-dirty   6 June 2024                 <i>groff_diff</i>(7)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man7/groff_diff.7.html" class="_attribution-link">https://man7.org/linux/man-pages/man7/groff_diff.7.html</a>
  </p>
</div>
