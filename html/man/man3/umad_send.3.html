<h1>umad_send(3) — Linux manual page</h1>   <pre>
<span class="headline"><i>UMAD_SEND</i>(3)           OpenIB Programmer's Manual           <i>UMAD_SEND</i>(3)</span>
</pre> <h2>
NAME </h2>
<pre>
       umad_send - send umad
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>#include &lt;infiniband/umad.h&gt;</b>

       <b>int umad_send(int </b><i>portid</i><b>, int </b><i>agentid</i><b>, void </b><i>*umad</i><b>, int </b><i>length</i><b>, int </b><i>timeout_ms</i><b>, int </b><i>retries</i><b>);</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>umad_send() </b>sends <i>length</i> bytes from the specified <i>umad</i> buffer
       from the port specified by <i>portid</i>, and using the agent specified
       by <i>agentid</i>.

       The buffer can contain a RMPP transmission which is larger than a
       single MAD packet when the agentid specifies a class which
       utilizes RMPP and the header flags indicate RMPP is active.  NOTE
       currently only RMPPFlags.Active is meaningful in the header in
       user space.  All other RMPP fields are ignored.  The data section
       of the buffer will be sent in multiple RMPP MAD packets with
       headers built for the user.

       <i>timeout_ms</i> controls the solicited MADs behavior as follows: zero
       value means not solicited. Positive value makes kernel indicate
       timeout in milliseconds. If reply is not received within the
       specified value, the original buffer is returned in the read
       channel with the status field set (to non zero). Negative
       <i>timeout_ms</i> makes kernel wait forever for the reply.  <i>retries</i>
       indicates the number of times the MAD will be retried before
       giving up.
</pre> <h2>
RETURN VALUE </h2>
<pre>
       <b>umad_send() </b>returns 0 on success; on error, errno is set and a
       negative value is returned as follows:
        -EINVAL invalid port handle or agentid
        -EIO    send operation failed
</pre> <h2>
AUTHOR </h2>
<pre>
       Hal Rosenstock &lt;halr@voltaire.com&gt;
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>rdma-core</i> (RDMA Core Userspace Libraries
       and Daemons) project.  Information about the project can be found
       at ⟨<a href="https://github.com/linux-rdma/rdma-core">https://github.com/linux-rdma/rdma-core</a>⟩.  If you have a bug
       report for this manual page, send it to
       linux-rdma@vger.kernel.org.  This page was obtained from the
       project's upstream Git repository
       ⟨<a href="https://github.com/linux-rdma/rdma-core.git">https://github.com/linux-rdma/rdma-core.git</a>⟩ on 2024-06-14.  (At
       that time, the date of the most recent commit that was found in
       the repository was 2024-06-10.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">OpenIB                        May 11, 2007                  <i>UMAD_SEND</i>(3)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/umad_send.3.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/umad_send.3.html</a>
  </p>
</div>
