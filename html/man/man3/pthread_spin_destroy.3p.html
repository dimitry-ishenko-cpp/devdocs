<h1>pthread_spin_destroy(3p) — Linux manual page</h1>   <pre>
<span class="headline"><i>PTHREAD_..._DESTROY</i>(3P) POSIX Programmer's Manual<i>PTHREAD_..._DESTROY</i>(3P)</span>
</pre> <h2>
PROLOG </h2>
<pre>
       This manual page is part of the POSIX Programmer's Manual.  The
       Linux implementation of this interface may differ (consult the
       corresponding Linux manual page for details of Linux behavior),
       or the interface may not be implemented on Linux.
</pre> <h2>
NAME </h2>
<pre>
       pthread_spin_destroy, pthread_spin_init — destroy or initialize a
       spin lock object
</pre> <h2>
SYNOPSIS </h2>
<pre>
       #include &lt;pthread.h&gt;

       int pthread_spin_destroy(pthread_spinlock_t *<i>lock</i>);
       int pthread_spin_init(pthread_spinlock_t *<i>lock</i>, int <i>pshared</i>);
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <i>pthread_spin_destroy</i>() function shall destroy the spin lock
       referenced by <i>lock</i> and release any resources used by the lock.
       The effect of subsequent use of the lock is undefined until the
       lock is reinitialized by another call to <i>pthread_spin_init</i>().
       The results are undefined if <i>pthread_spin_destroy</i>() is called
       when a thread holds the lock, or if this function is called with
       an uninitialized thread spin lock.

       The <i>pthread_spin_init</i>() function shall allocate any resources
       required to use the spin lock referenced by <i>lock</i> and initialize
       the lock to an unlocked state.

       If the Thread Process-Shared Synchronization option is supported
       and the value of <i>pshared</i> is PTHREAD_PROCESS_SHARED, the
       implementation shall permit the spin lock to be operated upon by
       any thread that has access to the memory where the spin lock is
       allocated, even if it is allocated in memory that is shared by
       multiple processes.

       See <i>Section 2.9.9</i>, <i>Synchronization Object Copies and Alternative</i>
       <i>Mappings</i> for further requirements.

       The results are undefined if <i>pthread_spin_init</i>() is called
       specifying an already initialized spin lock. The results are
       undefined if a spin lock is used without first being initialized.

       If the <i>pthread_spin_init</i>() function fails, the lock is not
       initialized and the contents of <i>lock</i> are undefined.

       Only the object referenced by <i>lock</i> may be used for performing
       synchronization.

       The result of referring to copies of that object in calls to
       <i>pthread_spin_destroy</i>(), <i>pthread_spin_lock</i>(),
       <i>pthread_spin_trylock</i>(), or <i>pthread_spin_unlock</i>() is undefined.
</pre> <h2>
RETURN VALUE </h2>
<pre>
       Upon successful completion, these functions shall return zero;
       otherwise, an error number shall be returned to indicate the
       error.
</pre> <h2>
ERRORS </h2>
<pre>
       The <i>pthread_spin_init</i>() function shall fail if:

       <b>EAGAIN </b>The system lacks the necessary resources to initialize
              another spin lock.

       <b>ENOMEM </b>Insufficient memory exists to initialize the lock.

       These functions shall not return an error code of <b>[EINTR]</b>.

       <i>The following sections are informative.</i>
</pre> <h2>
EXAMPLES </h2>
<pre>
       None.
</pre> <h2>
APPLICATION USAGE </h2>
<pre>
       None.
</pre> <h2>
RATIONALE </h2>
<pre>
       If an implementation detects that the value specified by the <i>lock</i>
       argument to <i>pthread_spin_destroy</i>() does not refer to an
       initialized spin lock object, it is recommended that the function
       should fail and report an <b>[EINVAL] </b>error.

       If an implementation detects that the value specified by the <i>lock</i>
       argument to <i>pthread_spin_destroy</i>() or <i>pthread_spin_init</i>() refers
       to a locked spin lock object, or detects that the value specified
       by the <i>lock</i> argument to <i>pthread_spin_init</i>() refers to an already
       initialized spin lock object, it is recommended that the function
       should fail and report an <b>[EBUSY] </b>error.
</pre> <h2>
FUTURE DIRECTIONS </h2>
<pre>
       None.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="pthread_spin_lock.3p.html">pthread_spin_lock(3p)</a>, <a href="pthread_spin_unlock.3p.html">pthread_spin_unlock(3p)</a>

       The Base Definitions volume of POSIX.1‐2017, <a href="../man0/pthread.h.0p.html">pthread.h(0p)</a>
</pre> <h2>
COPYRIGHT </h2>
<pre>
       Portions  of this text are reprinted and reproduced in electronic
       form  from  IEEE  Std  1003.1-2017,  Standard   for   Information
       Technology  --  Portable  Operating System Interface (POSIX), The
       Open Group Base Specifications Issue 7, 2018  Edition,  Copyright
       (C)   2018   by  the  Institute  of  Electrical  and  Electronics
       Engineers,  Inc  and  The  Open  Group.   In  the  event  of  any
       discrepancy  between  this  version and the original IEEE and The
       Open Group  Standard,  the  original  IEEE  and  The  Open  Group
       Standard  is  the  referee document. The original Standard can be
       obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in  this  page
       are  most likely to have been introduced during the conversion of
       the source files to man page format. To report such  errors,  see
       <a href="https://www.kernel.org/doc/man-pages/reporting_bugs.html">https://www.kernel.org/doc/man-pages/reporting_bugs.html</a> .

<span class="footline">IEEE/The Open Group               2017           <i>PTHREAD_..._DESTROY</i>(3P)</span>
</pre>  <p>Pages that refer to this page: <a href="../man0/pthread.h.0p.html">pthread.h(0p)</a>, <a href="pthread_spin_lock.3p.html">pthread_spin_lock(3p)</a>, <a href="pthread_spin_unlock.3p.html">pthread_spin_unlock(3p)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/pthread_spin_destroy.3p.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/pthread_spin_destroy.3p.html</a>
  </p>
</div>
