<h1>posix_madvise(3) — Linux manual page</h1>   <pre>
<span class="headline"><i>posix_madvise</i>(3)        Library Functions Manual        <i>posix_madvise</i>(3)</span>
</pre> <h2>
NAME </h2>
<pre>
       posix_madvise - give advice about patterns of memory usage
</pre> <h2>
LIBRARY </h2>
<pre>
       Standard C library (<i>libc</i>, <i>-lc</i>)
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>#include &lt;sys/mman.h&gt;</b>

       <b>int posix_madvise(void </b><i>addr</i><b>[.</b><i>len</i><b>], size_t </b><i>len</i><b>, int </b><i>advice</i><b>);</b>

   Feature Test Macro Requirements for glibc (see
   <a href="../man7/feature_test_macros.7.html">feature_test_macros(7)</a>):

       <b>posix_madvise</b>():
           _POSIX_C_SOURCE &gt;= 200112L
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <b>posix_madvise</b>() function allows an application to advise the
       system about its expected patterns of usage of memory in the
       address range starting at <i>addr</i> and continuing for <i>len</i> bytes.  The
       system is free to use this advice in order to improve the
       performance of memory accesses (or to ignore the advice
       altogether), but calling <b>posix_madvise</b>() shall not affect the
       semantics of access to memory in the specified range.

       The <i>advice</i> argument is one of the following:

       <b>POSIX_MADV_NORMAL</b>
              The application has no special advice regarding its memory
              usage patterns for the specified address range.  This is
              the default behavior.

       <b>POSIX_MADV_SEQUENTIAL</b>
              The application expects to access the specified address
              range sequentially, running from lower addresses to higher
              addresses.  Hence, pages in this region can be
              aggressively read ahead, and may be freed soon after they
              are accessed.

       <b>POSIX_MADV_RANDOM</b>
              The application expects to access the specified address
              range randomly.  Thus, read ahead may be less useful than
              normally.

       <b>POSIX_MADV_WILLNEED</b>
              The application expects to access the specified address
              range in the near future.  Thus, read ahead may be
              beneficial.

       <b>POSIX_MADV_DONTNEED</b>
              The application expects that it will not access the
              specified address range in the near future.
</pre> <h2>
RETURN VALUE </h2>
<pre>
       On success, <b>posix_madvise</b>() returns 0.  On failure, it returns a
       positive error number.
</pre> <h2>
ERRORS </h2>
<pre>
       <b>EINVAL </b><i>addr</i> is not a multiple of the system page size or <i>len</i> is
              negative.

       <b>EINVAL </b><i>advice</i> is invalid.

       <b>ENOMEM </b>Addresses in the specified range are partially or
              completely outside the caller's address space.
</pre> <h2>
VERSIONS </h2>
<pre>
       POSIX.1 permits an implementation to generate an error if <i>len</i> is
       0.  On Linux, specifying <i>len</i> as 0 is permitted (as a successful
       no-op).

       In glibc, this function is implemented using <a href="../man2/madvise.2.html">madvise(2)</a>.
       However, since glibc 2.6, <b>POSIX_MADV_DONTNEED </b>is treated as a no-
       op, because the corresponding <a href="../man2/madvise.2.html">madvise(2)</a> value, <b>MADV_DONTNEED</b>,
       has destructive semantics.
</pre> <h2>
STANDARDS </h2>
<pre>
       POSIX.1-2008.
</pre> <h2>
HISTORY </h2>
<pre>
       glibc 2.2.  POSIX.1-2001.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man2/madvise.2.html">madvise(2)</a>, <a href="../man2/posix_fadvise.2.html">posix_fadvise(2)</a>
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>man-pages</i> (Linux kernel and C library
       user-space interface documentation) project.  Information about
       the project can be found at 
       ⟨<a href="https://www.kernel.org/doc/man-pages/">https://www.kernel.org/doc/man-pages/</a>⟩.  If you have a bug report
       for this manual page, see
       ⟨<a href="https://git.kernel.org/pub/scm/docs/man-pages/man-pages.git/tree/CONTRIBUTING">https://git.kernel.org/pub/scm/docs/man-pages/man-pages.git/tree/CONTRIBUTING</a>⟩.
       This page was obtained from the tarball man-pages-6.9.1.tar.gz
       fetched from
       ⟨<a href="https://mirrors.edge.kernel.org/pub/linux/docs/man-pages/">https://mirrors.edge.kernel.org/pub/linux/docs/man-pages/</a>⟩ on
       2024-06-26.  If you discover any rendering problems in this HTML
       version of the page, or you believe there is a better or more up-
       to-date source for the page, or you have corrections or
       improvements to the information in this COLOPHON (which is <i>not</i>
       part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Linux man-pages 6.9.1          2024-05-02               <i>posix_madvise</i>(3)</span>
</pre>  <p>Pages that refer to this page: <a href="../man2/madvise.2.html">madvise(2)</a>, <a href="../man2/mincore.2.html">mincore(2)</a>, <a href="../man2/posix_fadvise.2.html">posix_fadvise(2)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/posix_madvise.3.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/posix_madvise.3.html</a>
  </p>
</div>
