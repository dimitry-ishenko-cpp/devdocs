<h1>pmspeclocalpmda(3) — Linux manual page</h1>   <pre>
<span class="headline"><i>PMSPECLOCALPMDA</i>(3)      Library Functions Manual      <i>PMSPECLOCALPMDA</i>(3)</span>
</pre> <h2>
NAME </h2>
<pre>
       <b>pmSpecLocalPMDA </b>- process command-line argument for the table of
       DSO PMDAs
</pre> <h2>
C SYNOPSIS </h2>
<pre>
       <b>#include "pmapi.h"</b>
       <b>#include "libpcp.h"</b>

       <b>char *pmSpecLocalPMDA(const char *</b><i>spec</i><b>);</b>

       <b>cc ... -lpcp</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       For Performance Co-Pilot (PCP) applications, contexts of type
       <b>PM_CONTEXT_LOCAL </b>are used by clients that wish to fetch metrics
       directly from one or more PMDAs on the local host without
       involving <a href="../man1/pmcd.1.html">pmcd(1)</a>.

       <b>pmSpecLocalPMDA </b>provides a convenience wrapper to be used by
       applications that wish to use a command line argument (usually
       with <b>-K</b>) to control the DSO PMDAs that are available for a
       <b>PM_CONTEXT_LOCAL </b>context.

       The <i>spec</i> argument specifies actions for one or more DSO PMDAs
       using up to four fields separated by commas (``,''), namely:
       -      an opcode with one of the values <b>add </b>(add a new entry),
              <b>del </b>(delete an existing entry) or <b>clear </b>(clear all entries
              from the table).
       -      the PMDA's domain number
       -      the path to the PMDA DSO (may be absolute or relative to
              the $PCP_VAR_DIR/pmdas directory and the DSO suffix is
              optional), and
       -      the name of the PMDA's initialization routine.

       All fields are required to add a new entry.  To delete an entry
       the opcode is required plus either or both of the domain number
       and path fields.  To clear all entries, only the opcode is
       required.

       If <i>spec</i> is parsed successfully, then the DSO table is updated
       with the extracted fields.
</pre> <h2>
RETURN VALUE </h2>
<pre>
       On success, <b>pmSpecLocalPMDA </b>will return NULL.

       On error or failure, <b>pmSpecLocalPMDA </b>will return a pointer to a
       static error message.
</pre> <h2>
EXAMPLES </h2>
<pre>
       Some examples of valid <i>spec</i> strings:

       clear  Delete all entries from the DSO table.

       add,123,foo/foo_pmda,foo_init
              Add the ``foo'' PMDA using domain 123.  The PMDA's DSO is
              most likely in below the directory <b>$PCP_PMDAS_DIR </b>and
              named <i>foo/foo_pmda.so</i> (for ELF-style platforms) or
              <i>foo/foo_pmda.dylib</i> (for BSD-style platforms) or
              <i>foo\foo_pmda.dll</i> (for Windows-style platforms).  The
              initialization routine for the ``foo'' PMDA is <i>foo_init</i>().

       del,123
              Delete the entry for the DSO with domain 123.

       del,,foo/foo_pmda
              Delete the entry with a pathname to the DSO that matches
              <i>foo/foo_pmda</i>.

       del,123,foo/foo_pmda
              Delete the entry for the DSO with either domain 123 and/or
              a pathname to the DSO that matches <i>foo/foo_pmda</i>.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man1/pmcd.1.html">pmcd(1)</a>, <a href="pmapi.3.html">PMAPI(3)</a> and <a href="pmnewcontext.3.html">pmNewContext(3)</a>.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>PCP</i> (Performance Co-Pilot) project.
       Information about the project can be found at 
       ⟨<a href="http://www.pcp.io/">http://www.pcp.io/</a>⟩.  If you have a bug report for this manual
       page, send it to pcp@groups.io.  This page was obtained from the
       project's upstream Git repository
       ⟨<a href="https://github.com/performancecopilot/pcp.git">https://github.com/performancecopilot/pcp.git</a>⟩ on 2024-06-14.
       (At that time, the date of the most recent commit that was found
       in the repository was 2024-06-14.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Performance Co-Pilot                                  <i>PMSPECLOCALPMDA</i>(3)</span>
</pre>  <p>Pages that refer to this page: <a href="../man1/pcp2arrow.1.html">pcp2arrow(1)</a>, <a href="../man1/pcp2elasticsearch.1.html">pcp2elasticsearch(1)</a>, <a href="../man1/pcp2graphite.1.html">pcp2graphite(1)</a>, <a href="../man1/pcp2influxdb.1.html">pcp2influxdb(1)</a>, <a href="../man1/pcp2json.1.html">pcp2json(1)</a>, <a href="../man1/pcp2openmetrics.1.html">pcp2openmetrics(1)</a>, <a href="../man1/pcp2spark.1.html">pcp2spark(1)</a>, <a href="../man1/pcp2template.1.html">pcp2template(1)</a>, <a href="../man1/pcp2xlsx.1.html">pcp2xlsx(1)</a>, <a href="../man1/pcp2xml.1.html">pcp2xml(1)</a>, <a href="../man1/pcp2zabbix.1.html">pcp2zabbix(1)</a>, <a href="../man1/pmchart.1.html">pmchart(1)</a>, <a href="../man1/pminfo.1.html">pminfo(1)</a>, <a href="../man1/pmlogger.1.html">pmlogger(1)</a>, <a href="../man1/pmprobe.1.html">pmprobe(1)</a>, <a href="../man1/pmrep.1.html">pmrep(1)</a>, <a href="../man1/pmstat.1.html">pmstat(1)</a>, <a href="../man1/pmstore.1.html">pmstore(1)</a>, <a href="../man1/pmval.1.html">pmval(1)</a>, <a href="pmgetoptions.3.html">pmgetoptions(3)</a>, <a href="pmnewcontext.3.html">pmnewcontext(3)</a>, <a href="../man5/pmrep.conf.5.html">pmrep.conf(5)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/pmspeclocalpmda.3.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/pmspeclocalpmda.3.html</a>
  </p>
</div>
