<h1>pam_start(3) — Linux manual page</h1>   <pre>
<span class="headline"><i>PAM_START</i>(3)                Linux-PAM Manual                <i>PAM_START</i>(3)</span>
</pre> <h2>
NAME </h2>
<pre>
       pam_start, pam_start_confdir - initialization of PAM transaction
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>#include &lt;security/pam_appl.h&gt;</b>

       <b>int pam_start(const char *</b><i>service_name</i><b>, const char *</b><i>user</i><b>,</b>
                     <b>const struct pam_conv *</b><i>pam_conversation</i><b>,</b>
                     <b>pam_handle_t **</b><i>pamh</i><b>);</b>

       <b>int pam_start_confdir(const char *</b><i>service_name</i><b>, const char *</b><i>user</i><b>,</b>
                             <b>const struct pam_conv *</b><i>pam_conversation</i><b>,</b>
                             <b>const char *</b><i>confdir</i><b>, pam_handle_t **</b><i>pamh</i><b>);</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <b>pam_start </b>function creates the PAM context and initiates the
       PAM transaction. It is the first of the PAM functions that needs
       to be called by an application. The transaction state is
       contained entirely within the structure identified by this
       handle, so it is possible to have multiple transactions in
       parallel. But it is not possible to use the same handle for
       different transactions, a new one is needed for every new
       context.

       The <i>service_name</i> argument specifies the name of the service to
       apply and will be stored as PAM_SERVICE item in the new context.
       The policy for the service will be read from the file
       /etc/pam.d/service_name or, if that file does not exist, from
       /etc/pam.conf.

       The <i>user</i> argument can specify the name of the target user and
       will be stored as PAM_USER item. If the argument is NULL, the
       module has to ask for this item if necessary.

       The <i>pam_conversation</i> argument points to a <i>struct pam_conv</i>
       describing the conversation function to use. An application must
       provide this for direct communication between a loaded module and
       the application.

       Following a successful return (PAM_SUCCESS) the contents of <i>pamh</i>
       is a handle that contains the PAM context for successive calls to
       the PAM functions. In an error case is the content of <i>pamh</i>
       undefined.

       The <i>pam_handle_t</i> is a blind structure and the application should
       not attempt to probe it directly for information. Instead the PAM
       library provides the functions <a href="pam_set_item.3.html">pam_set_item(3)</a> and
       <a href="pam_get_item.3.html">pam_get_item(3)</a>. The PAM handle cannot be used for multiple
       authentications at the same time as long as <b>pam_end </b>was not
       called on it before.

       The <b>pam_start_confdir </b>function behaves like the <b>pam_start</b>
       function but it also allows setting <i>confdir</i> argument with a path
       to a directory to override the default (/etc/pam.d) path for
       service policy files. If the <i>confdir</i> is NULL, the function works
       exactly the same as <b>pam_start</b>.
</pre> <h2>
RETURN VALUES </h2>
<pre>
       PAM_ABORT
           General failure.

       PAM_BUF_ERR
           Memory buffer error.

       PAM_SUCCESS
           Transaction was successfully started.

       PAM_SYSTEM_ERR
           System error, for example a NULL pointer was submitted
           instead of a pointer to data.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="pam_get_data.3.html">pam_get_data(3)</a>, <a href="pam_set_data.3.html">pam_set_data(3)</a>, <a href="pam_end.3.html">pam_end(3)</a>, <a href="pam_strerror.3.html">pam_strerror(3)</a>
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>linux-pam</i> (Pluggable Authentication
       Modules for Linux) project.  Information about the project can be
       found at ⟨<a href="http://www.linux-pam.org/">http://www.linux-pam.org/</a>⟩.  If you have a bug report
       for this manual page, see ⟨//www.linux-pam.org/⟩.  This page was
       obtained from the project's upstream Git repository
       ⟨<a href="https://github.com/linux-pam/linux-pam.git">https://github.com/linux-pam/linux-pam.git</a>⟩ on 2023-12-22.  (At
       that time, the date of the most recent commit that was found in
       the repository was 2023-12-18.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Linux-PAM Manual               12/22/2023                   <i>PAM_START</i>(3)</span>
</pre>  <p>Pages that refer to this page: <a href="pam.3.html">pam(3)</a>, <a href="pam_acct_mgmt.3.html">pam_acct_mgmt(3)</a>, <a href="pam_authenticate.3.html">pam_authenticate(3)</a>, <a href="pam_chauthtok.3.html">pam_chauthtok(3)</a>, <a href="pam_conv.3.html">pam_conv(3)</a>, <a href="pam_end.3.html">pam_end(3)</a>, <a href="pam_fail_delay.3.html">pam_fail_delay(3)</a>, <a href="pam_getenv.3.html">pam_getenv(3)</a>, <a href="pam_getenvlist.3.html">pam_getenvlist(3)</a>, <a href="pam_get_user.3.html">pam_get_user(3)</a>, <a href="pam_putenv.3.html">pam_putenv(3)</a>, <a href="pam_xauth_data.3.html">pam_xauth_data(3)</a>, <a href="../man5/pam.conf.5.html">pam.conf(5)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/pam_start.3.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/pam_start.3.html</a>
  </p>
</div>
