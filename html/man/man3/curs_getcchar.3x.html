<h1>curs_getcchar(3x) — Linux manual page</h1>   <pre>
<span class="headline"><i>curs_getcchar</i>(3X)                                      <i>curs_getcchar</i>(3X)</span>
</pre> <h2>
NAME </h2>
<pre>
       <b>getcchar</b>, <b>setcchar </b>- Get a wide character string and rendition
       from a <b>cchar_t </b>or set a <b>cchar_t </b>from a wide-character string
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>#include &lt;curses.h&gt;</b>

       <b>int getcchar(</b>
               <b>const cchar_t *</b><i>wcval</i><b>,</b>
               <b>wchar_t *</b><i>wch</i><b>,</b>
               <b>attr_t *</b><i>attrs</i><b>,</b>
               <b>short *</b><i>color_pair</i><b>,</b>
               <b>void *</b><i>opts</i> <b>);</b>

       <b>int setcchar(</b>
               <b>cchar_t *</b><i>wcval</i><b>,</b>
               <b>const wchar_t *</b><i>wch</i><b>,</b>
               <b>const attr_t </b><i>attrs</i><b>,</b>
               <b>short </b><i>color_pair</i><b>,</b>
               <b>const void *</b><i>opts</i> <b>);</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
   <b>getcchar</b>
       The <b>getcchar </b>function gets a wide-character string and rendition
       from a <b>cchar_t </b>argument.  When <i>wch</i> is not a null pointer, the
       <b>getcchar </b>function does the following:

       •   Extracts information from a <b>cchar_t </b>value <i>wcval</i>

       •   Stores the character attributes in the location pointed to by
           <i>attrs</i>

       •   Stores the color-pair in the location pointed to by
           <i>color_pair</i>

       •   Stores the wide-character string, characters referenced by
           <i>wcval</i>, into the array pointed to by <i>wch</i>.

       When <i>wch</i> is a null pointer, the <b>getcchar </b>function does the
       following:

       •   Obtains the number of wide characters pointed to by <i>wcval</i>

       •   Does not change the data referenced by <i>attrs</i> or <i>color_pair</i>

   <b>setcchar</b>
       The <b>setcchar </b>function initializes the location pointed to by
       <i>wcval</i> by using:

       •   The character attributes in <i>attrs</i>

       •   The color pair in <i>color_pair</i>

       •   The wide-character string pointed to by <i>wch</i>.  The string must
           be L'\0' terminated, contain at most one spacing character,
           which must be the first.

           Up to <b>CCHARW_MAX</b>-1 nonspacing characters may follow.
           Additional nonspacing characters are ignored.

           The string may contain a single control character instead.
           In that case, no nonspacing characters are allowed.
</pre> <h2>
EXTENSIONS </h2>
<pre>
       X/Open Curses documents the <i>opts</i> argument as reserved for future
       use, saying that it must be null.  This implementation uses that
       parameter in ABI 6 for the functions which have a color-pair
       parameter to support extended color pairs:

       •   For  functions  which modify the color, e.g., <b>setcchar</b>, if
           <i>opts</i> is set it is treated as a pointer to <b>int</b>, and used to
           set  the  color pair instead of the <b>short </b>pair parameter.

       •   For functions which retrieve the color, e.g., <b>getcchar</b>, if
           <i>opts</i> is set it is treated as a pointer to <b>int</b>, and  used  to
           retrieve  the color pair as an <b>int </b>value, in addition
           retrieving it via the standard pointer to <b>short </b>parameter.
</pre> <h2>
NOTES </h2>
<pre>
       The <i>wcval</i> argument may be a value generated by a call to <b>setcchar</b>
       or by a function that has a <b>cchar_t </b>output argument.  If <i>wcval</i> is
       constructed by any other means, the effect is unspecified.
</pre> <h2>
RETURN VALUE </h2>
<pre>
       When <i>wch</i> is a null pointer, <b>getcchar </b>returns the number of wide
       characters referenced by <i>wcval</i>, including one for a trailing
       null.

       When <i>wch</i> is not a null pointer, <b>getcchar </b>returns <b>OK </b>upon
       successful completion, and <b>ERR </b>otherwise.

       Upon successful completion, <b>setcchar </b>returns <b>OK</b>.  Otherwise, it
       returns <b>ERR</b>.
</pre> <h2>
PORTABILITY </h2>
<pre>
       The <b>CCHARW_MAX </b>symbol is specific to ncurses.  X/Open Curses does
       not provide details for the layout of the <b>cchar_t </b>structure.  It
       tells what data are stored in it:

       •   a spacing character (<b>wchar_t</b>, i.e., 32-bits).

       •   non-spacing characters (again, <b>wchar_t</b>'s).

       •   attributes (at least 16 bits, inferred from the various ACS-
           and WACS-flags).

       •   color pair (at least 16 bits, inferred from the <b>unsigned</b>
           <b>short </b>type).

       The non-spacing characters are optional, in the sense that zero
       or more may be stored in a <b>cchar_t</b>.  XOpen/Curses specifies a
       limit:

           Implementations may limit the number of non-spacing
           characters that can be associated with a spacing character,
           provided any limit is at least 5.

       The Unix implementations at the time follow that limit:

       •   AIX 4 and OSF1 4 use the same declaration with an array of 5
           non-spacing characters <i>z</i> and a single spacing character <i>c</i>.

       •   HP-UX 10 uses an opaque structure with 28 bytes, which is
           large enough for the 6 <b>wchar_t </b>values.

       •   Solaris <i>xpg4</i> curses uses a single array of 6 <b>wchar_t </b>values.

       This implementation's <b>cchar_t </b>was defined in 1995 using <b>5 </b>for the
       total of spacing and non-spacing characters (<b>CCHARW_MAX</b>).  That
       was probably due to a misreading of the AIX 4 header files,
       because the X/Open Curses document was not generally available at
       that time.  Later (in 2002), this detail was overlooked when
       beginning to implement the functions using the structure.

       In practice, even four non-spacing characters may seem enough.
       X/Open Curses documents possible uses for non-spacing characters,
       including using them for ligatures between characters (a feature
       apparently not supported by any curses implementation).  Unicode
       does not limit the (analogous) number of combining characters, so
       some applications may be affected.
</pre> <h2>
SEE ALSO </h2>
<pre>
       Functions: <b>curs_attr</b>(3X), <b>curs_color</b>(3X), <b>curses</b>(3X), <a href="wcwidth.3.html">wcwidth(3)</a>.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>ncurses</i> (new curses) project.
       Information about the project can be found at 
       ⟨<a href="https://www.gnu.org/software/ncurses/ncurses.html">https://www.gnu.org/software/ncurses/ncurses.html</a>⟩.  If you have
       a bug report for this manual page, send it to
       bug-ncurses-request@gnu.org.  This page was obtained from the
       project's upstream Git mirror of the CVS repository
       ⟨<a href="https://github.com/mirror/ncurses.git">https://github.com/mirror/ncurses.git</a>⟩ on 2024-06-14.  (At that
       time, the date of the most recent commit that was found in the
       repository was 2023-03-12.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">                                                       <i>curs_getcchar</i>(3X)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/curs_getcchar.3x.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/curs_getcchar.3x.html</a>
  </p>
</div>
