<h1>keyctl_set_reqkey_keyring(3) — Linux manual page</h1>   <pre>
<span class="headline"><i>KEYCTL_..._KEYRING</i>(3)  Linux Key Management Calls  <i>KEYCTL_..._KEYRING</i>(3)</span>
</pre> <h2>
NAME </h2>
<pre>
       keyctl_set_reqkey_keyring - set the implicit destination keyring
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>#include &lt;keyutils.h&gt;</b>

       <b>long keyctl_set_reqkey_keyring(int </b><i>reqkey_defl</i><b>);</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>keyctl_set_reqkey_keyring</b>() sets the default destination for
       implicit key requests for the current thread and returns the old
       setting.

       After this operation has been issued, keys acquired by implicit
       key requests, such as might be performed by <b>open</b>() on an AFS or
       NFS filesystem, will be linked by default to the specified
       keyring by this function.

       The valid values of <i>reqkey_defl</i> are:

       <b>KEY_REQKEY_DEFL_NO_CHANGE</b>
              This makes no change to the current setting.

       <b>KEY_REQKEY_DEFL_THREAD_KEYRING</b>
              This makes the thread-specific keyring the default
              destination.

       <b>KEY_REQKEY_DEFL_PROCESS_KEYRING</b>
              This makes the process-specific keyring the default
              destination.

       <b>KEY_REQKEY_DEFL_SESSION_KEYRING</b>
              This makes the session keyring the default destination.

       <b>KEY_REQKEY_DEFL_USER_KEYRING</b>
              This makes the UID-specific keyring the default
              destination.

       <b>KEY_REQKEY_DEFL_USER_SESSION_KEYRING</b>
              This makes the UID-specific session keyring the default
              destination.

       <b>KEY_REQKEY_DEFL_DEFAULT</b>
              This selects the default behaviour which is to use the
              thread-specific keyring if there is one, otherwise the
              process-specific keyring if there is one, otherwise the
              session keyring if there is one, otherwise the UID-
              specific session keyring.

       This setting is inherited across <b>fork</b>() and <b>exec</b>().
</pre> <h2>
RETURN VALUE </h2>
<pre>
       On success <b>keyctl_set_reqkey_keyring</b>() returns the serial number
       of the keyring which was the previous default for the current
       thread.  On error, the value <b>-1 </b>will be returned and <i><a href="errno.3.html">errno</a></i> will
       have been set to an appropriate error.
</pre> <h2>
ERRORS </h2>
<pre>
       <b>EINVAL </b>The value of <i>reqkey_defl</i> is invalid.
</pre> <h2>
LINKING </h2>
<pre>
       This is a library function that can be found in <i>libkeyutils</i>.
       When linking, <b>-lkeyutils </b>should be specified to the linker.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man1/keyctl.1.html">keyctl(1)</a>, <a href="../man2/add_key.2.html">add_key(2)</a>, <a href="../man2/keyctl.2.html">keyctl(2)</a>, <a href="../man2/request_key.2.html">request_key(2)</a>, <a href="keyctl.3.html">keyctl(3)</a>,
       <a href="../man7/keyutils.7.html">keyutils(7)</a>, <a href="../man7/keyrings.7.html">keyrings(7)</a>, <a href="../man8/request-key.8.html">request-key(8)</a>
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>keyutils</i> (key management utilities)
       project.  Information about the project can be found at [unknown
       -- if you know, please contact man-pages@man7.org] If you have a
       bug report for this manual page, send it to
       keyrings@linux-nfs.org.  This page was obtained from the
       project's upstream Git repository
       ⟨<a href="http://git.kernel.org/pub/scm/linux/kernel/git/dhowells/keyutils.git">http://git.kernel.org/pub/scm/linux/kernel/git/dhowells/keyutils.git</a>⟩
       on 2024-06-14.  (At that time, the date of the most recent commit
       that was found in the repository was 2023-03-20.)  If you
       discover any rendering problems in this HTML version of the page,
       or you believe there is a better or more up-to-date source for
       the page, or you have corrections or improvements to the
       information in this COLOPHON (which is <i>not</i> part of the original
       manual page), send a mail to man-pages@man7.org

<span class="footline">Linux                          4 May 2006          <i>KEYCTL_..._KEYRING</i>(3)</span>
</pre>  <p>Pages that refer to this page: <a href="../man2/keyctl.2.html">keyctl(2)</a>, <a href="keyctl.3.html">keyctl(3)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/keyctl_set_reqkey_keyring.3.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/keyctl_set_reqkey_keyring.3.html</a>
  </p>
</div>
