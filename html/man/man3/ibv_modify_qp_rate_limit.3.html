<h1>ibv_modify_qp_rate_limit(3) — Linux manual page</h1>   <pre>
<span class="headline"><i>IBV_MOD...E_LIMIT</i>(3) Libibverbs Programmer's Manual <i>IBV_MOD...E_LIMIT</i>(3)</span>
</pre> <h2>
NAME </h2>
<pre>
       ibv_modify_qp_rate_limit - modify the send rate limits attributes
       of a queue pair (QP)
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>#include &lt;infiniband/verbs.h&gt;</b>

       <b>int ibv_modify_qp_rate_limit(struct ibv_qp </b><i>*qp</i><b>, struct ibv_qp_rate_limit_attr </b><i>*attr</i><b>);</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>ibv_modify_qp_rate_limit() </b>modifies the send rate limiting packet
       pacing attributes of QP <i>qp</i> with the attributes in <i>attr</i>.  The
       argument <i>attr</i> is an ibv_qp_rate_limit_attr struct, as defined in
       &lt;infiniband/verbs.h&gt;.

       The <i>rate_limit</i> defines the MAX send rate this QP will send as
       long as the link in not blocked and there are work requests in
       send queue.

       Finer control for shaping the rate limit of a QP is achieved by
       defining the <i>max_burst_sz</i>, single burst max bytes size and the
       <i>typical_pkt_sz</i>, typical packet bytes size. These allow the device
       to adjust the inter-burst gap delay required to correctly shape
       the scheduling of sends to the wire in order to reach for
       requested application requirements.

       Setting a value of 0 for <i>max_burst_sz</i> or <i>typical_pkt_sz</i> will use
       the devices defaults.  <i>typical_pkt_sz</i> will default to the port's
       MTU value.

       struct ibv_qp_rate_limit_attr {
               uint32_t        rate_limit;     /* kbps */
               uint32_t        max_burst_sz;   /* bytes */
               uint16_t        typical_pkt_sz; /* bytes */
       };
</pre> <h2>
RETURN VALUE </h2>
<pre>
       <b>ibv_modify_qp_rate_limit() </b>returns 0 on success, or the value of
       errno on failure (which indicates the failure reason).
</pre> <h2>
ERRORS </h2>
<pre>
   <b>EINVAL</b>
       Invalid arguments.

   <b>EOPNOTSUPP</b>
       Function is not implemented for this device.  (ENOSYS may
       sometimes be returned by old versions of libibverbs).
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="ibv_create_qp.3.html">ibv_create_qp(3)</a>, <a href="ibv_destroy_qp.3.html">ibv_destroy_qp(3)</a>, <a href="ibv_modify_qp.3.html">ibv_modify_qp(3)</a>,
       <a href="ibv_query_qp.3.html">ibv_query_qp(3)</a>
</pre> <h2>
AUTHORS </h2>
<pre>
       Alex Rosenbaum &lt;alexr@mellanox.com&gt;

       Bodong Wang &lt;bodong@mellanox.com&gt;
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>rdma-core</i> (RDMA Core Userspace Libraries
       and Daemons) project.  Information about the project can be found
       at ⟨<a href="https://github.com/linux-rdma/rdma-core">https://github.com/linux-rdma/rdma-core</a>⟩.  If you have a bug
       report for this manual page, send it to
       linux-rdma@vger.kernel.org.  This page was obtained from the
       project's upstream Git repository
       ⟨<a href="https://github.com/linux-rdma/rdma-core.git">https://github.com/linux-rdma/rdma-core.git</a>⟩ on 2024-06-14.  (At
       that time, the date of the most recent commit that was found in
       the repository was 2024-06-10.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">libibverbs                     2018-01-09           <i>IBV_MOD...E_LIMIT</i>(3)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/ibv_modify_qp_rate_limit.3.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/ibv_modify_qp_rate_limit.3.html</a>
  </p>
</div>
