<h1>ibv_query_port(3) — Linux manual page</h1>   <pre>
<span class="headline"><i>IBV_QUERY_PORT</i>(3)    Libibverbs Programmer's Manual    <i>IBV_QUERY_PORT</i>(3)</span>
</pre> <h2>
NAME </h2>
<pre>
       ibv_query_port - query an RDMA port's attributes
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>#include &lt;infiniband/verbs.h&gt;</b>

       <b>int ibv_query_port(struct ibv_context </b><i>*context</i><b>, uint8_t </b><i>port_num</i><b>,</b>
                          <b>struct ibv_port_attr </b><i>*port_attr</i><b>);</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>ibv_query_port() </b>returns the attributes of port <i>port_num</i> for
       device context <i>context</i> through the pointer <i>port_attr</i>.  The
       argument <i>port_attr</i> is an ibv_port_attr struct, as defined in
       &lt;infiniband/verbs.h&gt;.

       struct ibv_port_attr {
               enum ibv_port_state     state;          /* Logical port state */
               enum ibv_mtu            max_mtu;        /* Max MTU supported by port */
               enum ibv_mtu            active_mtu;     /* Actual MTU */
               int                     gid_tbl_len;    /* Length of source GID table */
               uint32_t                port_cap_flags; /* Port capabilities */
               uint32_t                max_msg_sz;     /* Maximum message size */
               uint32_t                bad_pkey_cntr;  /* Bad P_Key counter */
               uint32_t                qkey_viol_cntr; /* Q_Key violation counter */
               uint16_t                pkey_tbl_len;   /* Length of partition table */
               uint16_t                lid;            /* Base port LID */
               uint16_t                sm_lid;         /* SM LID */
               uint8_t                 lmc;            /* LMC of LID */
               uint8_t                 max_vl_num;     /* Maximum number of VLs */
               uint8_t                 sm_sl;          /* SM service level */
               uint8_t                 subnet_timeout; /* Subnet propagation delay */
               uint8_t                 init_type_reply;/* Type of initialization performed by SM */
               uint8_t                 active_width;   /* Currently active link width */
               uint8_t                 active_speed;   /* Currently active link speed if speed&lt;XDR,NDR otherwise */
               uint8_t                 phys_state;     /* Physical port state */
               uint8_t                 link_layer;     /* link layer protocol of the port */
               uint8_t                 flags;          /* Port flags */
               uint16_t                port_cap_flags2;/* Port capabilities */
               uint32_t                active_speed_ex;/* Currently active link speed, if it is 0 refer to active_speed instead */
       };

       possible values for the link layer field are IBV_LINK_LAYER_INFINIBAND,
       IBV_LINK_LAYER_ETHERNET, or IBV_LINK_LAYER_UNSPECIFIED.

       supported port flags:
       IBV_QPF_GRH_REQUIRED - When this flag is set, the applications must create all AH with GRH configured.
</pre> <h2>
RETURN VALUE </h2>
<pre>
       <b>ibv_query_port() </b>returns 0 on success, or the value of errno on
       failure (which indicates the failure reason).
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="ibv_create_qp.3.html">ibv_create_qp(3)</a>, <a href="ibv_destroy_qp.3.html">ibv_destroy_qp(3)</a>, <a href="ibv_query_qp.3.html">ibv_query_qp(3)</a>,
       <a href="ibv_create_ah.3.html">ibv_create_ah(3)</a>
</pre> <h2>
AUTHORS </h2>
<pre>
       Dotan Barak &lt;dotanba@gmail.com&gt;
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>rdma-core</i> (RDMA Core Userspace Libraries
       and Daemons) project.  Information about the project can be found
       at ⟨<a href="https://github.com/linux-rdma/rdma-core">https://github.com/linux-rdma/rdma-core</a>⟩.  If you have a bug
       report for this manual page, send it to
       linux-rdma@vger.kernel.org.  This page was obtained from the
       project's upstream Git repository
       ⟨<a href="https://github.com/linux-rdma/rdma-core.git">https://github.com/linux-rdma/rdma-core.git</a>⟩ on 2024-06-14.  (At
       that time, the date of the most recent commit that was found in
       the repository was 2024-06-10.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">libibverbs                     2006-10-31              <i>IBV_QUERY_PORT</i>(3)</span>
</pre>  <p>Pages that refer to this page: <a href="ibv_open_device.3.html">ibv_open_device(3)</a>, <a href="ibv_query_device.3.html">ibv_query_device(3)</a>, <a href="ibv_query_device_ex.3.html">ibv_query_device_ex(3)</a>, <a href="ibv_query_rt_values_ex.3.html">ibv_query_rt_values_ex(3)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/ibv_query_port.3.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/ibv_query_port.3.html</a>
  </p>
</div>
