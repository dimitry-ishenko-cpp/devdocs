<h1>pmfetcharchive(3) — Linux manual page</h1>   <pre>
<span class="headline"><i>PMFETCHARCHIVE</i>(3)       Library Functions Manual       <i>PMFETCHARCHIVE</i>(3)</span>
</pre> <h2>
NAME </h2>
<pre>
       <b>pmFetchArchive</b>, <b>pmFetchHighResArchive </b>- get performance metric
       values directly from archives
</pre> <h2>
C SYNOPSIS </h2>
<pre>
       <b>#include &lt;pcp/pmapi.h&gt;</b>

       <b>int pmFetchArchive(pmResult **</b><i>result</i><b>);</b>
       <b>int pmFetchHighResArchive(pmHighResResult **</b><i>result</i><b>);</b>

       <b>cc ... -lpcp</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <b>pmFetchArchive </b>and <b>pmFetchHighResArchive </b>APIs are variants of
       the <a href="pmfetch.3.html">pmFetch(3)</a> and <a href="pmfetchhighres.3.html">pmFetchHighRes(3)</a> interfaces that may only be
       used when the current Performance Metrics Application Programming
       Interface (PMAPI) context is associated with a set of archives.

       The <i>result</i> is instantiated with all of the metrics (and
       instances) from the next archive record, consequently there is no
       notion of a list of desired metrics, and the instance profile of
       the PMAPI context is ignored.

       <b>pmFetchArchive </b>and <b>pmFetchHighResArchive </b>may return a <i>result</i> in
       which <i>numpmid</i> is zero.  This is a <i>&lt;mark&gt;</i> record that indicates a
       temporal discontinuity in the time series of performance metrics.
       This can happen at the boundary between archives in a set or if
       the archive associated with the current PMAPI context was created
       using <a href="../man1/pmlogextract.1.html">pmlogextract(1)</a> to concatenate two or more PCP archives,
       and the <i>&lt;mark&gt;</i> record marks a point in time between the end of
       one input archive and the start of the next input archive.

       It is expected that <b>pmFetchArchive </b>and <b>pmFetchHighResArchive </b>will
       be used to create utilities that scan sets of archives, while the
       more common access to the archives would be via the <b>pmFetch </b>and
       <b>pmFetchHighRes </b>interfaces.

       To skip records within the set of archives, use <a href="pmsetmode.3.html">pmSetMode(3)</a> or
       <a href="pmsetmodehighres.3.html">pmSetModeHighRes(3)</a> to change the collection time within the
       current PMAPI context, then call either <b>pmFetchArchive </b>or
       <b>pmFetchHighResArchive</b>.

       Note that the <i>result</i> returned by both <b>pmFetchArchive </b>and
       <b>pmFetchHighResArchive </b>is dynamically allocated, and must be
       released using either <a href="pmfreeresult.3.html">pmFreeResult(3)</a> or <a href="pmfreehighresresult.3.html">pmFreeHighResResult(3)</a>,
       but not <a href="free.3.html">free(3)</a>.  See <a href="pmfetch.3.html">pmFetch(3)</a>, <a href="pmfetchhighres.3.html">pmFetchHighRes(3)</a>,
       <a href="pmfreeresult.3.html">pmFreeResult(3)</a> and <a href="pmfreehighresresult.3.html">pmFreeHighResResult(3)</a> for further details.

       Both <b>pmFetchArchive </b>and <b>pmFetchHighResArchive </b>returns zero on
       success.
</pre> <h2>
DIAGNOSTICS </h2>
<pre>
       <b>PM_ERR_NOTARCHIVE</b>
              the current PMAPI context is not associated with a set of
              archives
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="pmapi.3.html">PMAPI(3)</a>, <a href="pmfetchhighres.3.html">pmFetchHighRes(3)</a>, <a href="pmsetmodehighres.3.html">pmSetModeHighRes(3)</a>,
       <a href="pmfreehighresresult.3.html">pmFreeHighResResult(3)</a>, <a href="pmfetch.3.html">pmFetch(3)</a>, <a href="pmfreeresult.3.html">pmFreeResult(3)</a>,
       <a href="pmnewcontext.3.html">pmNewContext(3)</a>, <a href="pmsetmode.3.html">pmSetMode(3)</a> and <a href="pmtrimnamespace.3.html">pmTrimNameSpace(3)</a>.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>PCP</i> (Performance Co-Pilot) project.
       Information about the project can be found at 
       ⟨<a href="http://www.pcp.io/">http://www.pcp.io/</a>⟩.  If you have a bug report for this manual
       page, send it to pcp@groups.io.  This page was obtained from the
       project's upstream Git repository
       ⟨<a href="https://github.com/performancecopilot/pcp.git">https://github.com/performancecopilot/pcp.git</a>⟩ on 2024-06-14.
       (At that time, the date of the most recent commit that was found
       in the repository was 2024-06-14.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Performance Co-Pilot               PCP                 <i>PMFETCHARCHIVE</i>(3)</span>
</pre>  <p>Pages that refer to this page: <a href="pcpintro.3.html">pcpintro(3)</a>, <a href="pmfetch.3.html">pmfetch(3)</a>, <a href="pmgetarchiveend.3.html">pmgetarchiveend(3)</a>, <a href="pmregisterderived.3.html">pmregisterderived(3)</a>, <a href="pmsetmode.3.html">pmsetmode(3)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/pmFetchHighResArchive.3.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/pmFetchHighResArchive.3.html</a>
  </p>
</div>
