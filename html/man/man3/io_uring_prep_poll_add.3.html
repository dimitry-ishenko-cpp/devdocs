<h1>io_uring_prep_poll_add(3) — Linux manual page</h1>   <pre>
<span class="headline"><i>io_uring_prep_poll_add</i>(3)    liburing Manual   <i>io_uring_prep_poll_add</i>(3)</span>
</pre> <h2>
NAME </h2>
<pre>
       io_uring_prep_poll_add - prepare a poll request
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>#include &lt;poll.h&gt;</b>
       <b>#include &lt;liburing.h&gt;</b>

       <b>void io_uring_prep_poll_add(struct io_uring_sqe *</b><i>sqe</i><b>,</b>
                                   <b>int </b><i>fd</i><b>,</b>
                                   <b>unsigned </b><i>poll_mask</i><b>);</b>

       <b>void io_uring_prep_poll_multishot(struct io_uring_sqe *</b><i>sqe</i><b>,</b>
                                         <b>int </b><i>fd</i><b>,</b>
                                         <b>unsigned </b><i>poll_mask</i><b>);</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <a href="io_uring_prep_poll_add.3.html">io_uring_prep_poll_add(3)</a> function prepares a poll request.
       The submission queue entry <i>sqe</i> is setup to use the file
       descriptor <i>fd</i> that should get polled, with the events desired
       specified in the <i>poll_mask</i> argument.

       The default behavior is a single-shot poll request. When the
       specified event has triggered, a completion CQE is posted and no
       more events will be generated by the poll request.
       <a href="io_uring_prep_poll_multishot.3.html">io_uring_prep_poll_multishot(3)</a> behaves identically in terms of
       events, but it persist across notifications and will repeatedly
       post notifications for the same registration. A CQE posted from a
       multishot poll request will have <b>IORING_CQE_F_MORE </b>set in the CQE
       <i>flags</i> member, indicating that the application should expect more
       completions from this request. If the multishot poll request gets
       terminated or experiences an error, this flag will not be set in
       the CQE. If this happens, the application should not expect
       further CQEs from the original request and must reissue a new one
       if it still wishes to get notifications on this file descriptor.
</pre> <h2>
RETURN VALUE </h2>
<pre>
       None
</pre> <h2>
ERRORS </h2>
<pre>
       The CQE <i>res</i> field will contain the result of the operation, which
       is a bitmask of the events notified. See the <a href="../man2/poll.2.html">poll(2)</a> man page for
       details. Note that where synchronous system calls will return <b>-1</b>
       on failure and set <i><a href="errno.3.html">errno</a></i> to the actual error value, io_uring
       never uses <i><a href="errno.3.html">errno</a></i>.  Instead it returns the negated <i><a href="errno.3.html">errno</a></i> directly
       in the CQE <i>res</i> field.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="io_uring_get_sqe.3.html">io_uring_get_sqe(3)</a>, <a href="io_uring_submit.3.html">io_uring_submit(3)</a>, <a href="../man2/poll.2.html">poll(2)</a>, <b>epoll_ctl</b>(3)
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>liburing</i> (A library for io_uring)
       project.  Information about the project can be found at 
       ⟨<a href="https://github.com/axboe/liburing">https://github.com/axboe/liburing</a>⟩.  If you have a bug report for
       this manual page, send it to io-uring@vger.kernel.org.  This page
       was obtained from the project's upstream Git repository
       ⟨<a href="https://github.com/axboe/liburing">https://github.com/axboe/liburing</a>⟩ on 2024-06-14.  (At that
       time, the date of the most recent commit that was found in the
       repository was 2024-06-03.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">liburing-2.2                 March 12, 2022    <i>io_uring_prep_poll_add</i>(3)</span>
</pre>  <p>Pages that refer to this page: <a href="io_uring_prep_poll_add.3.html">io_uring_prep_poll_add(3)</a>, <a href="io_uring_prep_poll_multishot.3.html">io_uring_prep_poll_multishot(3)</a>, <a href="io_uring_prep_poll_update.3.html">io_uring_prep_poll_update(3)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/io_uring_prep_poll_add.3.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/io_uring_prep_poll_add.3.html</a>
  </p>
</div>
