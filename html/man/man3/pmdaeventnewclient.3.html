<h1>pmdaeventclient(3) — Linux manual page</h1>   <pre>
<span class="headline"><i>PMDAEVENTCLIENT</i>(3)      Library Functions Manual      <i>PMDAEVENTCLIENT</i>(3)</span>
</pre> <h2>
NAME </h2>
<pre>
       <b>pmdaEventNewClient</b>, <b>pmdaEventEndClient</b>, <b>pmdaEventClients </b>- client
       context tracking interfaces for event queues
</pre> <h2>
C SYNOPSIS </h2>
<pre>
       <b>#include &lt;pcp/pmapi.h&gt;</b>
       <b>#include &lt;pcp/pmda.h&gt;</b>

       <b>int pmdaEventNewClient(int </b><i>context</i><b>);</b>
       <b>int pmdaEventEndClient(int </b><i>context</i><b>);</b>
       <b>int pmdaEventClients(pmAtomValue *</b><i>avp</i><b>);</b>

       <b>cc ... -lpcp_pmda -lpcp</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       A  Performance  Metrics  Domain  Agent  (PMDA) that exports event
       records needs to track which clients are connected to it, in  or‐
       der  that  it  can  track  which  events  have been sent to which
       clients so far.  Only once an event has been sent to all monitor‐
       ing tools that registered an interest can the event be  discarded
       and any memory reclaimed.

       The  <a href="pmda.3.html">PMDA(3)</a> library provides callback routines for PMDA develop‐
       ers to provide custom handling of client connections and  discon‐
       nections.   If the PMDA is making use of the event queuing mecha‐
       nism provided by <a href="pmdaeventnewqueue.3.html">pmdaEventNewQueue(3)</a> and friends, client connec‐
       tions and disconnections must be tracked via calls to  <b>pmdaEvent‐</b>
       <b>NewClient  </b>and  <b>pmdaEventEndClient </b>respectively.  This allows the
       library to keep track of when events  can  be  discarded  from  a
       queue, for example, for the <i>context</i> specified.  This parameter is
       passed  into  the  e_endCallBack function directly, and for other
       callback functions is available via the e_context  field  of  the
       pmdaExt  structure.   Additionally, it can be queried at any time
       using <a href="pmdagetcontext.3.html">pmdaGetContext(3)</a>.

       Sometimes it is useful for the PMDA to export a metric indicating
       the current count of attached clients - this is  available  using
       the  <b>pmdaEventClients </b>routine, which will fill in the <i>avp</i> pmAtom‐
       Value structure on behalf of a PMDA fetch callback routine.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="pmdaeventnewarray.3.html">pmdaEventNewArray(3)</a>, <a href="pmdaeventnewqueue.3.html">pmdaEventNewQueue(3)</a>, <a href="pmapi.3.html">PMAPI(3)</a>, <a href="pmda.3.html">PMDA(3)</a> and
       <a href="pmeventflagsstr.3.html">pmEventFlagsStr(3)</a>.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>PCP</i> (Performance Co-Pilot) project.  In‐
       formation about the project can be found at ⟨<a href="http://www.pcp.io/">http://www.pcp.io/</a>⟩.
       If you have a bug  report  for  this  manual  page,  send  it  to
       pcp@groups.io.    This  page  was  obtained  from  the  project's
       upstream                      Git                      repository
       ⟨<a href="https://github.com/performancecopilot/pcp.git">https://github.com/performancecopilot/pcp.git</a>⟩   on  2024-06-14.
       (At that time, the date of the most recent commit that was  found
       in the repository was 2024-06-14.)  If you discover any rendering
       problems  in  this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or  you  have
       corrections  or  improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a  mail  to
       man-pages@man7.org

<span class="footline">Performance Co-Pilot               PCP                <i>PMDAEVENTCLIENT</i>(3)</span>
</pre>  <p>Pages that refer to this page: <a href="pmdaeventarray.3.html">pmdaeventarray(3)</a>, <a href="pmdaeventqueue.3.html">pmdaeventqueue(3)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/pmdaEventNewClient.3.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/pmdaEventNewClient.3.html</a>
  </p>
</div>
