<h1>setenv(3p) — Linux manual page</h1>   <pre>
<span class="headline"><i>SETENV</i>(3P)              POSIX Programmer's Manual             <i>SETENV</i>(3P)</span>
</pre> <h2>
PROLOG </h2>
<pre>
       This manual page is part of the POSIX Programmer's Manual.  The
       Linux implementation of this interface may differ (consult the
       corresponding Linux manual page for details of Linux behavior),
       or the interface may not be implemented on Linux.
</pre> <h2>
NAME </h2>
<pre>
       setenv — add or change environment variable
</pre> <h2>
SYNOPSIS </h2>
<pre>
       #include &lt;stdlib.h&gt;

       int setenv(const char *<i>envname</i>, const char *<i>envval</i>, int <i>overwrite</i>);
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <i>setenv</i>() function shall update or add a variable in the
       environment of the calling process. The <i>envname</i> argument points
       to a string containing the name of an environment variable to be
       added or altered. The environment variable shall be set to the
       value to which <i>envval</i> points. The function shall fail if <i>envname</i>
       points to a string which contains an <b>'=' </b>character. If the
       environment variable named by <i>envname</i> already exists and the
       value of <i>overwrite</i> is non-zero, the function shall return success
       and the environment shall be updated. If the environment variable
       named by <i>envname</i> already exists and the value of <i>overwrite</i> is
       zero, the function shall return success and the environment shall
       remain unchanged.

       The <i>setenv</i>() function shall update the list of pointers to which
       <i>environ</i> points.

       The strings described by <i>envname</i> and <i>envval</i> are copied by this
       function.

       The <i>setenv</i>() function need not be thread-safe.
</pre> <h2>
RETURN VALUE </h2>
<pre>
       Upon successful completion, zero shall be returned. Otherwise, -1
       shall be returned, <i><a href="errno.3.html">errno</a></i> set to indicate the error, and the
       environment shall be unchanged.
</pre> <h2>
ERRORS </h2>
<pre>
       The <i>setenv</i>() function shall fail if:

       <b>EINVAL </b>The <i>envname</i> argument points to an empty string or points
              to a string containing an <b>'=' </b>character.

       <b>ENOMEM </b>Insufficient memory was available to add a variable or its
              value to the environment.

       <i>The following sections are informative.</i>
</pre> <h2>
EXAMPLES </h2>
<pre>
       None.
</pre> <h2>
APPLICATION USAGE </h2>
<pre>
       See <i>exec</i>() for restrictions on changing the environment in multi-
       threaded applications.
</pre> <h2>
RATIONALE </h2>
<pre>
       Unanticipated results may occur if <i>setenv</i>() changes the external
       variable <i>environ</i>.  In particular, if the optional <i>envp</i> argument
       to <i>main</i>() is present, it is not changed, and thus may point to an
       obsolete copy of the environment (as may any other copy of
       <i>environ</i>).  However, other than the aforementioned restriction,
       the standard developers intended that the traditional method of
       walking through the environment by way of the <i>environ</i> pointer
       must be supported.

       It was decided that <i>setenv</i>() should be required by this version
       because it addresses a piece of missing functionality, and does
       not impose a significant burden on the implementor.

       There was considerable debate as to whether the System V <i>putenv</i>()
       function or the BSD <i>setenv</i>() function should be required as a
       mandatory function. The <i>setenv</i>() function was chosen because it
       permitted the implementation of the <i>unsetenv</i>() function to delete
       environmental variables, without specifying an additional
       interface. The <i>putenv</i>() function is available as part of the XSI
       option.

       The standard developers considered requiring that <i>setenv</i>()
       indicate an error when a call to it would result in exceeding
       {ARG_MAX}.  The requirement was rejected since the condition
       might be temporary, with the application eventually reducing the
       environment size. The ultimate success or failure depends on the
       size at the time of a call to <i>exec</i>, which returns an indication
       of this error condition.

       See also the RATIONALE section in <a href="getenv.3p.html">getenv(3p)</a>.
</pre> <h2>
FUTURE DIRECTIONS </h2>
<pre>
       None.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man1/exec.1p.html">exec(1p)</a>, <a href="getenv.3p.html">getenv(3p)</a>, <a href="putenv.3p.html">putenv(3p)</a>, <a href="unsetenv.3p.html">unsetenv(3p)</a>

       The Base Definitions volume of POSIX.1‐2017, <a href="../man0/stdlib.h.0p.html">stdlib.h(0p)</a>,
       <a href="../man0/sys_types.h.0p.html">sys_types.h(0p)</a>, <a href="../man0/unistd.h.0p.html">unistd.h(0p)</a>
</pre> <h2>
COPYRIGHT </h2>
<pre>
       Portions of this text are reprinted and reproduced in electronic
       form from IEEE Std 1003.1-2017, Standard for Information
       Technology -- Portable Operating System Interface (POSIX), The
       Open Group Base Specifications Issue 7, 2018 Edition, Copyright
       (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any
       discrepancy between this version and the original IEEE and The
       Open Group Standard, the original IEEE and The Open Group
       Standard is the referee document. The original Standard can be
       obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page
       are most likely to have been introduced during the conversion of
       the source files to man page format. To report such errors, see
       <a href="https://www.kernel.org/doc/man-pages/reporting_bugs.html">https://www.kernel.org/doc/man-pages/reporting_bugs.html</a> .

<span class="footline">IEEE/The Open Group               2017                        <i>SETENV</i>(3P)</span>
</pre>  <p>Pages that refer to this page: <a href="../man0/stdlib.h.0p.html">stdlib.h(0p)</a>, <a href="getenv.3p.html">getenv(3p)</a>, <a href="putenv.3p.html">putenv(3p)</a>, <a href="unsetenv.3p.html">unsetenv(3p)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man3/setenv.3p.html" class="_attribution-link">https://man7.org/linux/man-pages/man3/setenv.3p.html</a>
  </p>
</div>
