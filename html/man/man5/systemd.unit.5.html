<h1>systemd.unit(5) — Linux manual page</h1>   <pre>
<span class="headline"><i>SYSTEMD.UNIT</i>(5)               systemd.unit               <i>SYSTEMD.UNIT</i>(5)</span>
</pre> <h2>
NAME </h2>
<pre>
       systemd.unit - Unit configuration
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <i>service</i>.service, <i>socket</i>.socket, <i>device</i>.device, <i>mount</i>.mount,
       <i>automount</i>.automount, <i>swap</i>.swap, <i>target</i>.target, <i>path</i>.path,
       <i>timer</i>.timer, <i>slice</i>.slice, <i>scope</i>.scope

   <b>System Unit Search Path</b>
           /etc/systemd/system.control/*
           /run/systemd/system.control/*
           /run/systemd/transient/*
           /run/systemd/generator.early/*
           /etc/systemd/system/*
           /etc/systemd/system.attached/*
           /run/systemd/system/*
           /run/systemd/system.attached/*
           /run/systemd/generator/*
           ...
           /usr/local/lib/systemd/system/*
           /usr/lib/systemd/system/*
           /run/systemd/generator.late/*

   <b>User Unit Search Path</b>
           ~/.config/systemd/user.control/*
           $XDG_RUNTIME_DIR/systemd/user.control/*
           $XDG_RUNTIME_DIR/systemd/transient/*
           $XDG_RUNTIME_DIR/systemd/generator.early/*
           ~/.config/systemd/user/*
           $XDG_CONFIG_DIRS/systemd/user/*
           /etc/systemd/user/*
           $XDG_RUNTIME_DIR/systemd/user/*
           /run/systemd/user/*
           $XDG_RUNTIME_DIR/systemd/generator/*
           $XDG_DATA_HOME/systemd/user/*
           $XDG_DATA_DIRS/systemd/user/*
           ...
           /usr/local/lib/systemd/user/*
           /usr/lib/systemd/user/*
           $XDG_RUNTIME_DIR/systemd/generator.late/*
</pre> <h2>
DESCRIPTION </h2>
<pre>
       A unit file is a plain text ini-style file that encodes
       information about a service, a socket, a device, a mount point,
       an automount point, a swap file or partition, a start-up target,
       a watched file system path, a timer controlled and supervised by
       <a href="../man1/systemd.1.html">systemd(1)</a>, a resource management slice or a group of externally
       created processes. See <a href="../man7/systemd.syntax.7.html">systemd.syntax(7)</a> for a general
       description of the syntax.

       This man page lists the common configuration options of all the
       unit types. These options need to be configured in the [Unit] or
       [Install] sections of the unit files.

       In addition to the generic [Unit] and [Install] sections
       described here, each unit may have a type-specific section, e.g.
       [Service] for a service unit. See the respective man pages for
       more information: <a href="systemd.service.5.html">systemd.service(5)</a>, <a href="systemd.socket.5.html">systemd.socket(5)</a>,
       <a href="systemd.device.5.html">systemd.device(5)</a>, <a href="systemd.mount.5.html">systemd.mount(5)</a>, <a href="systemd.automount.5.html">systemd.automount(5)</a>,
       <a href="systemd.swap.5.html">systemd.swap(5)</a>, <a href="systemd.target.5.html">systemd.target(5)</a>, <a href="systemd.path.5.html">systemd.path(5)</a>,
       <a href="systemd.timer.5.html">systemd.timer(5)</a>, <a href="systemd.slice.5.html">systemd.slice(5)</a>, <a href="systemd.scope.5.html">systemd.scope(5)</a>.

       Unit files are loaded from a set of paths determined during
       compilation, described in the next section.

       Valid unit names consist of a "unit name prefix", and a suffix
       specifying the unit type which begins with a dot. The "unit name
       prefix" must consist of one or more valid characters (ASCII
       letters, digits, ":", "-", "_", ".", and "\"). The total length
       of the unit name including the suffix must not exceed 255
       characters. The unit type suffix must be one of ".service",
       ".socket", ".device", ".mount", ".automount", ".swap", ".target",
       ".path", ".timer", ".slice", or ".scope".

       Unit names can be parameterized by a single argument called the
       "instance name". The unit is then constructed based on a
       "template file" which serves as the definition of multiple
       services or other units. A template unit must have a single "@"
       at the end of the unit name prefix (right before the type
       suffix). The name of the full unit is formed by inserting the
       instance name between "@" and the unit type suffix. In the unit
       file itself, the instance parameter may be referred to using "%i"
       and other specifiers, see below.

       Unit files may contain additional options on top of those listed
       here. If systemd encounters an unknown option, it will write a
       warning log message but continue loading the unit. If an option
       or section name is prefixed with <b>X-</b>, it is ignored completely by
       systemd. Options within an ignored section do not need the
       prefix. Applications may use this to include additional
       information in the unit files. To access those options,
       applications need to parse the unit files on their own.

       Units can be aliased (have an alternative name), by creating a
       symlink from the new name to the existing name in one of the unit
       search paths. For example, systemd-networkd.service has the alias
       dbus-org.freedesktop.network1.service, created during
       installation as a symlink, so when <b>systemd </b>is asked through D-Bus
       to load dbus-org.freedesktop.network1.service, it'll load
       systemd-networkd.service. As another example, default.target —
       the default system target started at boot — is commonly aliased
       to either multi-user.target or graphical.target to select what is
       started by default. Alias names may be used in commands like
       <b>disable</b>, <b>start</b>, <b>stop</b>, <b>status</b>, and similar, and in all unit
       dependency directives, including <i>Wants=</i>, <i>Requires=</i>, <i>Before=</i>,
       <i>After=</i>. Aliases cannot be used with the <b>preset </b>command.

       Aliases obey the following restrictions: a unit of a certain type
       (".service", ".socket", ...) can only be aliased by a name with
       the same type suffix. A plain unit (not a template or an
       instance), may only be aliased by a plain name. A template
       instance may only be aliased by another template instance, and
       the instance part must be identical. A template may be aliased by
       another template (in which case the alias applies to all
       instances of the template). As a special case, a template
       instance (e.g.  "alias@inst.service") may be a symlink to
       different template (e.g.  "template@inst.service"). In that case,
       just this specific instance is aliased, while other instances of
       the template (e.g.  "alias@foo.service", "alias@bar.service") are
       not aliased. Those rules preserve the requirement that the
       instance (if any) is always uniquely defined for a given unit and
       all its aliases. The target of alias symlink must point to a
       valid unit file location, i.e. the symlink target name must match
       the symlink source name as described, and the destination path
       must be in one of the unit search paths, see UNIT FILE LOAD PATH
       section below for more details. Note that the target file might
       not exist, i.e. the symlink may be dangling.

       Unit files may specify aliases through the <i>Alias=</i> directive in
       the [Install] section. When the unit is enabled, symlinks will be
       created for those names, and removed when the unit is disabled.
       For example, reboot.target specifies <i>Alias=ctrl-alt-del.target</i>,
       so when enabled, the symlink
       /etc/systemd/system/ctrl-alt-del.service pointing to the
       reboot.target file will be created, and when Ctrl+Alt+Del is
       invoked, <b>systemd </b>will look for the ctrl-alt-del.service and
       execute reboot.service.  <b>systemd </b>does not look at the [Install]
       section at all during normal operation, so any directives in that
       section only have an effect through the symlinks created during
       enablement.

       Along with a unit file foo.service, the directory
       foo.service.wants/ may exist. All unit files symlinked from such
       a directory are implicitly added as dependencies of type <i>Wants=</i>
       to the unit. Similar functionality exists for <i>Requires=</i> type
       dependencies as well, the directory suffix is .requires/ in this
       case. This functionality is useful to hook units into the
       start-up of other units, without having to modify their unit
       files. For details about the semantics of <i>Wants=</i> and <i>Requires=</i>,
       see below. The preferred way to create symlinks in the .wants/ or
       .requires/ directories is by specifying the dependency in
       [Install] section of the target unit, and creating the symlink in
       the file system with the <b>enable </b>or <b>preset </b>commands of
       <a href="../man1/systemctl.1.html">systemctl(1)</a>. The target can be a normal unit (either plain or a
       specific instance of a template unit). In case when the source
       unit is a template, the target can also be a template, in which
       case the instance will be "propagated" to the target unit to form
       a valid unit instance. The target of symlinks in .wants/ or
       .requires/ must thus point to a valid unit file location, i.e.
       the symlink target name must satisfy the described requirements,
       and the destination path must be in one of the unit search paths,
       see UNIT FILE LOAD PATH section below for more details. Note that
       the target file might not exist, i.e. the symlink may be
       dangling.

       Along with a unit file foo.service, a "drop-in" directory
       foo.service.d/ may exist. All files with the suffix ".conf" from
       this directory will be merged in the alphanumeric order and
       parsed after the main unit file itself has been parsed. This is
       useful to alter or add configuration settings for a unit, without
       having to modify unit files. Each drop-in file must contain
       appropriate section headers. For instantiated units, this logic
       will first look for the instance ".d/" subdirectory (e.g.
       "foo@bar.service.d/") and read its ".conf" files, followed by the
       template ".d/" subdirectory (e.g.  "foo@.service.d/") and the
       ".conf" files there. Moreover for unit names containing dashes
       ("-"), the set of directories generated by repeatedly truncating
       the unit name after all dashes is searched too. Specifically, for
       a unit name foo-bar-baz.service not only the regular drop-in
       directory foo-bar-baz.service.d/ is searched but also both
       foo-bar-.service.d/ and foo-.service.d/. This is useful for
       defining common drop-ins for a set of related units, whose names
       begin with a common prefix. This scheme is particularly useful
       for mount, automount and slice units, whose systematic naming
       structure is built around dashes as component separators. Note
       that equally named drop-in files further down the prefix
       hierarchy override those further up, i.e.
       foo-bar-.service.d/10-override.conf overrides
       foo-.service.d/10-override.conf.

       In cases of unit aliases (described above), dropins for the
       aliased name and all aliases are loaded. In the example of
       default.target aliasing graphical.target, default.target.d/,
       default.target.wants/, default.target.requires/,
       graphical.target.d/, graphical.target.wants/,
       graphical.target.requires/ would all be read. For templates,
       dropins for the template, any template aliases, the template
       instance, and all alias instances are read. When just a specific
       template instance is aliased, then the dropins for the target
       template, the target template instance, and the alias template
       instance are read.

       In addition to /etc/systemd/system, the drop-in ".d/" directories
       for system services can be placed in /usr/lib/systemd/system or
       /run/systemd/system directories. Drop-in files in /etc/ take
       precedence over those in /run/ which in turn take precedence over
       those in /usr/lib/. Drop-in files under any of these directories
       take precedence over unit files wherever located. Multiple
       drop-in files with different names are applied in lexicographic
       order, regardless of which of the directories they reside in.

       Units also support a top-level drop-in with <i>type</i>.d/, where <i>type</i>
       may be e.g.  "service" or "socket", that allows altering or
       adding to the settings of all corresponding unit files on the
       system. The formatting and precedence of applying drop-in
       configurations follow what is defined above. Files in <i>type</i>.d/
       have lower precedence compared to files in name-specific override
       directories. The usual rules apply: multiple drop-in files with
       different names are applied in lexicographic order, regardless of
       which of the directories they reside in, so a file in <i>type</i>.d/
       applies to a unit only if there are no drop-ins or masks with
       that name in directories with higher precedence. See Examples.

       Note that while systemd offers a flexible dependency system
       between units it is recommended to use this functionality only
       sparingly and instead rely on techniques such as bus-based or
       socket-based activation which make dependencies implicit,
       resulting in a both simpler and more flexible system.

       As mentioned above, a unit may be instantiated from a template
       file. This allows creation of multiple units from a single
       configuration file. If systemd looks for a unit configuration
       file, it will first search for the literal unit name in the file
       system. If that yields no success and the unit name contains an
       "@" character, systemd will look for a unit template that shares
       the same name but with the instance string (i.e. the part between
       the "@" character and the suffix) removed. Example: if a service
       getty@tty3.service is requested and no file by that name is
       found, systemd will look for getty@.service and instantiate a
       service from that configuration file if it is found.

       To refer to the instance string from within the configuration
       file you may use the special "%i" specifier in many of the
       configuration options. See below for details.

       If a unit file is empty (i.e. has the file size 0) or is
       symlinked to /dev/null, its configuration will not be loaded and
       it appears with a load state of "masked", and cannot be
       activated. Use this as an effective way to fully disable a unit,
       making it impossible to start it even manually.

       The unit file format is covered by the <b>Interface Portability and</b>
       <b>Stability Promise</b>[1].
</pre> <h2>
STRING ESCAPING FOR INCLUSION IN UNIT NAMES </h2>
<pre>
       Sometimes it is useful to convert arbitrary strings into unit
       names. To facilitate this, a method of string escaping is used,
       in order to map strings containing arbitrary byte values (except
       <b>NUL</b>) into valid unit names and their restricted character set. A
       common special case are unit names that reflect paths to objects
       in the file system hierarchy. Example: a device unit
       dev-sda.device refers to a device with the device node /dev/sda
       in the file system.

       The escaping algorithm operates as follows: given a string, any
       "/" character is replaced by "-", and all other characters which
       are not ASCII alphanumerics, ":", "_" or "."  are replaced by
       C-style "\x2d" escapes. In addition, "."  is replaced with such a
       C-style escape when it would appear as the first character in the
       escaped string.

       When the input qualifies as absolute file system path, this
       algorithm is extended slightly: the path to the root directory
       "/" is encoded as single dash "-". In addition, any leading,
       trailing or duplicate "/" characters are removed from the string
       before transformation. Example: /foo//bar/baz/ becomes
       "foo-bar-baz".

       This escaping is fully reversible, as long as it is known whether
       the escaped string was a path (the unescaping results are
       different for paths and non-path strings). The <a href="../man1/systemd-escape.1.html">systemd-escape(1)</a>
       command may be used to apply and reverse escaping on arbitrary
       strings. Use <b>systemd-escape --path </b>to escape path strings, and
       <b>systemd-escape </b>without <b>--path </b>otherwise.
</pre> <h2>
AUTOMATIC DEPENDENCIES </h2>
<pre>
   <b>Implicit Dependencies</b>
       A number of unit dependencies are implicitly established,
       depending on unit type and unit configuration. These implicit
       dependencies can make unit configuration file cleaner. For the
       implicit dependencies in each unit type, please refer to section
       "Implicit Dependencies" in respective man pages.

       For example, service units with <i>Type=dbus</i> automatically acquire
       dependencies of type <i>Requires=</i> and <i>After=</i> on dbus.socket. See
       <a href="systemd.service.5.html">systemd.service(5)</a> for details.

   <b>Default Dependencies</b>
       Default dependencies are similar to implicit dependencies, but
       can be turned on and off by setting <i>DefaultDependencies=</i> to <i>yes</i>
       (the default) and <i>no</i>, while implicit dependencies are always in
       effect. See section "Default Dependencies" in respective man
       pages for the effect of enabling <i>DefaultDependencies=</i> in each
       unit types.

       For example, target units will complement all configured
       dependencies of type <i>Wants=</i> or <i>Requires=</i> with dependencies of
       type <i>After=</i>. See <a href="systemd.target.5.html">systemd.target(5)</a> for details. Note that this
       behavior can be opted out by setting <i>DefaultDependencies=no</i> in
       the specified units, or it can be selectively overridden via an
       explicit <i>Before=</i> dependency.
</pre> <h2>
UNIT FILE LOAD PATH </h2>
<pre>
       Unit files are loaded from a set of paths determined during
       compilation, described in the two tables below. Unit files found
       in directories listed earlier override files with the same name
       in directories lower in the list [2].

       When the variable <i>$SYSTEMD_UNIT_PATH</i> is set, the contents of this
       variable overrides the unit load path. If <i>$SYSTEMD_UNIT_PATH</i> ends
       with an empty component (":"), the usual unit load path will be
       appended to the contents of the variable.

       <b>Table 1.  Load path when running in system mode (--system).</b>
       ┌───────────────────────────────┬──────────────────────────┐
       │ <b>Path                          </b>│ <b>Description              </b>│
       ├───────────────────────────────┼──────────────────────────┤
       │ /etc/systemd/system.control   │ Persistent and transient │
       ├───────────────────────────────┤ configuration created    │
       │ /run/systemd/system.control   │ using the dbus API       │
       ├───────────────────────────────┼──────────────────────────┤
       │ /run/systemd/transient        │ Dynamic configuration    │
       │                               │ for transient units      │
       ├───────────────────────────────┼──────────────────────────┤
       │ /run/systemd/generator.early  │ Generated units with     │
       │                               │ high priority (see       │
       │                               │ <i>early-dir</i> in             │
       │                               │ <a href="../man7/systemd.generator.7.html">systemd.generator(7)</a>)    │
       ├───────────────────────────────┼──────────────────────────┤
       │ /etc/systemd/system           │ System units created by  │
       │                               │ the administrator        │
       ├───────────────────────────────┼──────────────────────────┤
       │ /run/systemd/system           │ Runtime units            │
       ├───────────────────────────────┼──────────────────────────┤
       │ /run/systemd/generator        │ Generated units with     │
       │                               │ medium priority (see     │
       │                               │ <i>normal-dir</i> in            │
       │                               │ <a href="../man7/systemd.generator.7.html">systemd.generator(7)</a>)    │
       ├───────────────────────────────┼──────────────────────────┤
       │ /usr/local/lib/systemd/system │ System units installed   │
       │                               │ by the administrator     │
       ├───────────────────────────────┼──────────────────────────┤
       │ /usr/lib/systemd/system       │ System units installed   │
       │                               │ by the distribution      │
       │                               │ package manager          │
       ├───────────────────────────────┼──────────────────────────┤
       │ /run/systemd/generator.late   │ Generated units with low │
       │                               │ priority (see <i>late-dir</i>   │
       │                               │ in <a href="../man7/systemd.generator.7.html">systemd.generator(7)</a>) │
       └───────────────────────────────┴──────────────────────────┘

       <b>Table 2.  Load path when running in user mode (--user).</b>
       ┌──────────────────────────────────────────┬──────────────────────────┐
       │ <b>Path                                     </b>│ <b>Description              </b>│
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $XDG_CONFIG_HOME/systemd/user.control    │ Persistent and transient │
       │ or                                       │ configuration created    │
       │ ~/.config/systemd/user.control           │ using the dbus API       │
       ├──────────────────────────────────────────┤ (<i>$XDG_CONFIG_HOME</i> is     │
       │ $XDG_RUNTIME_DIR/systemd/user.control    │ used if set, ~/.config   │
       │                                          │ otherwise)               │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $XDG_RUNTIME_DIR/systemd/transient       │ Dynamic configuration    │
       │                                          │ for transient units      │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $XDG_RUNTIME_DIR/systemd/generator.early │ Generated units with     │
       │                                          │ high priority (see       │
       │                                          │ <i>early-dir</i> in             │
       │                                          │ <a href="../man7/systemd.generator.7.html">systemd.generator(7)</a>)    │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $XDG_CONFIG_HOME/systemd/user or         │ User configuration       │
       │ $HOME/.config/systemd/user               │ (<i>$XDG_CONFIG_HOME</i> is     │
       │                                          │ used if set, ~/.config   │
       │                                          │ otherwise)               │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $XDG_CONFIG_DIRS/systemd/user or         │ Additional configuration │
       │ /etc/xdg/systemd/user                    │ directories as specified │
       │                                          │ by the XDG base          │
       │                                          │ directory specification  │
       │                                          │ (<i>$XDG_CONFIG_DIRS</i> is     │
       │                                          │ used if set, /etc/xdg    │
       │                                          │ otherwise)               │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ /etc/systemd/user                        │ User units created by    │
       │                                          │ the administrator        │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $XDG_RUNTIME_DIR/systemd/user            │ Runtime units (only used │
       │                                          │ when $XDG_RUNTIME_DIR is │
       │                                          │ set)                     │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ /run/systemd/user                        │ Runtime units            │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $XDG_RUNTIME_DIR/systemd/generator       │ Generated units with     │
       │                                          │ medium priority (see     │
       │                                          │ <i>normal-dir</i> in            │
       │                                          │ <a href="../man7/systemd.generator.7.html">systemd.generator(7)</a>)    │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $XDG_DATA_HOME/systemd/user or           │ Units of packages that   │
       │ $HOME/.local/share/systemd/user          │ have been installed in   │
       │                                          │ the home directory       │
       │                                          │ (<i>$XDG_DATA_HOME</i> is used  │
       │                                          │ if set, ~/.local/share   │
       │                                          │ otherwise)               │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $XDG_DATA_DIRS/systemd/user or           │ Additional data          │
       │ /usr/local/share/systemd/user and        │ directories as specified │
       │ /usr/share/systemd/user                  │ by the XDG base          │
       │                                          │ directory specification  │
       │                                          │ (<i>$XDG_DATA_DIRS</i> is used  │
       │                                          │ if set, /usr/local/share │
       │                                          │ and /usr/share           │
       │                                          │ otherwise)               │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $dir/systemd/user for each <i>$dir</i> in       │ Additional locations for │
       │ <i>$XDG_DATA_DIRS</i>                           │ installed user units,    │
       │                                          │ one for each entry in    │
       │                                          │ <i>$XDG_DATA_DIRS</i>           │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ /usr/local/lib/systemd/user              │ User units installed by  │
       │                                          │ the administrator        │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ /usr/lib/systemd/user                    │ User units installed by  │
       │                                          │ the distribution package │
       │                                          │ manager                  │
       ├──────────────────────────────────────────┼──────────────────────────┤
       │ $XDG_RUNTIME_DIR/systemd/generator.late  │ Generated units with low │
       │                                          │ priority (see <i>late-dir</i>   │
       │                                          │ in <a href="../man7/systemd.generator.7.html">systemd.generator(7)</a>) │
       └──────────────────────────────────────────┴──────────────────────────┘

       The set of load paths for the user manager instance may be
       augmented or changed using various environment variables. And
       environment variables may in turn be set using environment
       generators, see <a href="../man7/systemd.environment-generator.7.html">systemd.environment-generator(7)</a>. In particular,
       <i>$XDG_DATA_HOME</i> and <i>$XDG_DATA_DIRS</i> may be easily set using
       <a href="../man8/systemd-environment-d-generator.8.html">systemd-environment-d-generator(8)</a>. Thus, directories listed here
       are just the defaults. To see the actual list that would be used
       based on compilation options and current environment use

           systemd-analyze --user unit-paths

       Moreover, additional units might be loaded into systemd from
       directories not on the unit load path by creating a symlink
       pointing to a unit file in the directories. You can use <b>systemctl</b>
       <b>link </b>for this; see <a href="../man1/systemctl.1.html">systemctl(1)</a>. The file system where the linked
       unit files are located must be accessible when systemd is started
       (e.g. anything underneath /home/ or /var/ is not allowed, unless
       those directories are located on the root file system).

       It is important to distinguish "linked unit files" from "unit
       file aliases": any symlink where the symlink <i>target</i> is within the
       unit load path becomes an alias: the source name and the target
       file name must satisfy specific constraints listed above in the
       discussion of aliases, but the symlink target doesn't have to
       exist, and in fact the symlink target path is not used, except to
       check whether the target is within the unit load path. In
       contrast, a symlink which goes outside of the unit load path
       signifies a linked unit file. The symlink is followed when
       loading the file, but the destination name is otherwise unused
       (and may even not be a valid unit file name). For example,
       symlinks /etc/systemd/system/alias1.service → service1.service,
       /etc/systemd/system/alias2.service →
       /usr/lib/systemd/service1.service,
       /etc/systemd/system/alias3.service →
       /etc/systemd/system/service1.service are all valid aliases and
       service1.service will have four names, even if the unit file is
       located at /run/systemd/system/service1.service. In contrast, a
       symlink /etc/systemd/system/link1.service → ../link1_service_file
       means that link1.service is a "linked unit" and the contents of
       /etc/systemd/link1_service_file provide its configuration.
</pre> <h2>
UNIT GARBAGE COLLECTION </h2>
<pre>
       The system and service manager loads a unit's configuration
       automatically when a unit is referenced for the first time. It
       will automatically unload the unit configuration and state again
       when the unit is not needed anymore ("garbage collection"). A
       unit may be referenced through a number of different mechanisms:

        1. Another loaded unit references it with a dependency such as
           <i>After=</i>, <i>Wants=</i>, ...

        2. The unit is currently starting, running, reloading or
           stopping.

        3. The unit is currently in the <b>failed </b>state. (But see below.)

        4. A job for the unit is pending.

        5. The unit is pinned by an active IPC client program.

        6. The unit is a special "perpetual" unit that is always active
           and loaded. Examples for perpetual units are the root mount
           unit -.mount or the scope unit init.scope that the service
           manager itself lives in.

        7. The unit has running processes associated with it.

       The garbage collection logic may be altered with the <i>CollectMode=</i>
       option, which allows configuration whether automatic unloading of
       units that are in <b>failed </b>state is permissible, see below.

       Note that when a unit's configuration and state is unloaded, all
       execution results, such as exit codes, exit signals, resource
       consumption and other statistics are lost, except for what is
       stored in the log subsystem.

       Use <b>systemctl daemon-reload </b>or an equivalent command to reload
       unit configuration while the unit is already loaded. In this case
       all configuration settings are flushed out and replaced with the
       new configuration (which however might not be in effect
       immediately), however all runtime state is saved/restored.
</pre> <h2>
[UNIT] SECTION OPTIONS </h2>
<pre>
       The unit file may include a [Unit] section, which carries generic
       information about the unit that is not dependent on the type of
       unit:

       <i>Description=</i>
           A short human readable title of the unit. This may be used by
           <b>systemd </b>(and other UIs) as a user-visible label for the unit,
           so this string should identify the unit rather than describe
           it, despite the name. This string also shouldn't just repeat
           the unit name.  "Apache2 Web Server" is a good example. Bad
           examples are "high-performance light-weight HTTP server" (too
           generic) or "Apache2" (meaningless for people who do not know
           Apache, duplicates the unit name).  <b>systemd </b>may use this
           string as a noun in status messages ("Starting
           <i>description</i>...", "Started <i>description</i>.", "Reached target
           <i>description</i>.", "Failed to start <i>description</i>."), so it should
           be capitalized, and should not be a full sentence, or a
           phrase with a continuous verb. Bad examples include "exiting
           the container" or "updating the database once per day.".

           Added in version 201.

       <i>Documentation=</i>
           A space-separated list of URIs referencing documentation for
           this unit or its configuration. Accepted are only URIs of the
           types "http://", "https://", "file:", "info:", "man:". For
           more information about the syntax of these URIs, see <a href="../man7/uri.7.html">uri(7)</a>.
           The URIs should be listed in order of relevance, starting
           with the most relevant. It is a good idea to first reference
           documentation that explains what the unit's purpose is,
           followed by how it is configured, followed by any other
           related documentation. This option may be specified more than
           once, in which case the specified list of URIs is merged. If
           the empty string is assigned to this option, the list is
           reset and all prior assignments will have no effect.

           Added in version 201.

       <i>Wants=</i>
           Configures (weak) requirement dependencies on other units.
           This option may be specified more than once or multiple
           space-separated units may be specified in one option in which
           case dependencies for all listed names will be created.
           Dependencies of this type may also be configured outside of
           the unit configuration file by adding a symlink to a .wants/
           directory accompanying the unit file. For details, see above.

           Units listed in this option will be started if the
           configuring unit is. However, if the listed units fail to
           start or cannot be added to the transaction, this has no
           impact on the validity of the transaction as a whole, and
           this unit will still be started. This is the recommended way
           to hook the start-up of one unit to the start-up of another
           unit.

           Note that requirement dependencies do not influence the order
           in which services are started or stopped. This has to be
           configured independently with the <i>After=</i> or <i>Before=</i> options.
           If unit foo.service pulls in unit bar.service as configured
           with <i>Wants=</i> and no ordering is configured with <i>After=</i> or
           <i>Before=</i>, then both units will be started simultaneously and
           without any delay between them if foo.service is activated.

           Added in version 201.

       <i>Requires=</i>
           Similar to <i>Wants=</i>, but declares a stronger requirement
           dependency. Dependencies of this type may also be configured
           by adding a symlink to a .requires/ directory accompanying
           the unit file.

           If this unit gets activated, the units listed will be
           activated as well. If one of the other units fails to
           activate, and an ordering dependency <i>After=</i> on the failing
           unit is set, this unit will not be started. Besides, with or
           without specifying <i>After=</i>, this unit will be stopped (or
           restarted) if one of the other units is explicitly stopped
           (or restarted).

           Often, it is a better choice to use <i>Wants=</i> instead of
           <i>Requires=</i> in order to achieve a system that is more robust
           when dealing with failing services.

           Note that this dependency type does not imply that the other
           unit always has to be in active state when this unit is
           running. Specifically: failing condition checks (such as
           <i>ConditionPathExists=</i>, <i>ConditionPathIsSymbolicLink=</i>, ... — see
           below) do not cause the start job of a unit with a <i>Requires=</i>
           dependency on it to fail. Also, some unit types may
           deactivate on their own (for example, a service process may
           decide to exit cleanly, or a device may be unplugged by the
           user), which is not propagated to units having a <i>Requires=</i>
           dependency. Use the <i>BindsTo=</i> dependency type together with
           <i>After=</i> to ensure that a unit may never be in active state
           without a specific other unit also in active state (see
           below).

           Added in version 201.

       <i>Requisite=</i>
           Similar to <i>Requires=</i>. However, if the units listed here are
           not started already, they will not be started and the
           starting of this unit will fail immediately.  <i>Requisite=</i> does
           not imply an ordering dependency, even if both units are
           started in the same transaction. Hence this setting should
           usually be combined with <i>After=</i>, to ensure this unit is not
           started before the other unit.

           When <i>Requisite=b.service</i> is used on a.service, this
           dependency will show as <i>RequisiteOf=a.service</i> in property
           listing of b.service.  <i>RequisiteOf=</i> dependency cannot be
           specified directly.

           Added in version 201.

       <i>BindsTo=</i>
           Configures requirement dependencies, very similar in style to
           <i>Requires=</i>. However, this dependency type is stronger: in
           addition to the effect of <i>Requires=</i> it declares that if the
           unit bound to is stopped, this unit will be stopped too. This
           means a unit bound to another unit that suddenly enters
           inactive state will be stopped too. Units can suddenly,
           unexpectedly enter inactive state for different reasons: the
           main process of a service unit might terminate on its own
           choice, the backing device of a device unit might be
           unplugged or the mount point of a mount unit might be
           unmounted without involvement of the system and service
           manager.

           When used in conjunction with <i>After=</i> on the same unit the
           behaviour of <i>BindsTo=</i> is even stronger. In this case, the
           unit bound to strictly has to be in active state for this
           unit to also be in active state. This not only means a unit
           bound to another unit that suddenly enters inactive state,
           but also one that is bound to another unit that gets skipped
           due to an unmet condition check (such as
           <i>ConditionPathExists=</i>, <i>ConditionPathIsSymbolicLink=</i>, ... — see
           below) will be stopped, should it be running. Hence, in many
           cases it is best to combine <i>BindsTo=</i> with <i>After=</i>.

           When <i>BindsTo=b.service</i> is used on a.service, this dependency
           will show as <i>BoundBy=a.service</i> in property listing of
           b.service.  <i>BoundBy=</i> dependency cannot be specified directly.

           Added in version 201.

       <i>PartOf=</i>
           Configures dependencies similar to <i>Requires=</i>, but limited to
           stopping and restarting of units. When systemd stops or
           restarts the units listed here, the action is propagated to
           this unit. Note that this is a one-way dependency — changes
           to this unit do not affect the listed units.

           When <i>PartOf=b.service</i> is used on a.service, this dependency
           will show as <i>ConsistsOf=a.service</i> in property listing of
           b.service.  <i>ConsistsOf=</i> dependency cannot be specified
           directly.

           Added in version 201.

       <i>Upholds=</i>
           Configures dependencies similar to <i>Wants=</i>, but as long as
           this unit is up, all units listed in <i>Upholds=</i> are started
           whenever found to be inactive or failed, and no job is queued
           for them. While a <i>Wants=</i> dependency on another unit has a
           one-time effect when this units started, a <i>Upholds=</i>
           dependency on it has a continuous effect, constantly
           restarting the unit if necessary. This is an alternative to
           the <i>Restart=</i> setting of service units, to ensure they are
           kept running whatever happens. The restart happens without
           delay, and usual per-unit rate-limit applies.

           When <i>Upholds=b.service</i> is used on a.service, this dependency
           will show as <i>UpheldBy=a.service</i> in the property listing of
           b.service.

           Added in version 249.

       <i>Conflicts=</i>
           A space-separated list of unit names. Configures negative
           requirement dependencies. If a unit has a <i>Conflicts=</i> setting
           on another unit, starting the former will stop the latter and
           vice versa.

           Note that this setting does not imply an ordering dependency,
           similarly to the <i>Wants=</i> and <i>Requires=</i> dependencies described
           above. This means that to ensure that the conflicting unit is
           stopped before the other unit is started, an <i>After=</i> or
           <i>Before=</i> dependency must be declared. It doesn't matter which
           of the two ordering dependencies is used, because stop jobs
           are always ordered before start jobs, see the discussion in
           <i>Before=</i>/<i>After=</i> below.

           If unit A that conflicts with unit B is scheduled to be
           started at the same time as B, the transaction will either
           fail (in case both are required parts of the transaction) or
           be modified to be fixed (in case one or both jobs are not a
           required part of the transaction). In the latter case, the
           job that is not required will be removed, or in case both are
           not required, the unit that conflicts will be started and the
           unit that is conflicted is stopped.

           Added in version 201.

       <i>Before=</i>, <i>After=</i>
           These two settings expect a space-separated list of unit
           names. They may be specified more than once, in which case
           dependencies for all listed names are created.

           Those two settings configure ordering dependencies between
           units. If unit foo.service contains the setting
           <b>Before=bar.service </b>and both units are being started,
           bar.service's start-up is delayed until foo.service has
           finished starting up.  <i>After=</i> is the inverse of <i>Before=</i>, i.e.
           while <i>Before=</i> ensures that the configured unit is started
           before the listed unit begins starting up, <i>After=</i> ensures the
           opposite, that the listed unit is fully started up before the
           configured unit is started.

           When two units with an ordering dependency between them are
           shut down, the inverse of the start-up order is applied. I.e.
           if a unit is configured with <i>After=</i> on another unit, the
           former is stopped before the latter if both are shut down.
           Given two units with any ordering dependency between them, if
           one unit is shut down and the other is started up, the
           shutdown is ordered before the start-up. It doesn't matter if
           the ordering dependency is <i>After=</i> or <i>Before=</i>, in this case.
           It also doesn't matter which of the two is shut down, as long
           as one is shut down and the other is started up; the shutdown
           is ordered before the start-up in all cases. If two units
           have no ordering dependencies between them, they are shut
           down or started up simultaneously, and no ordering takes
           place. It depends on the unit type when precisely a unit has
           finished starting up. Most importantly, for service units
           start-up is considered completed for the purpose of
           <i>Before=</i>/<i>After=</i> when all its configured start-up commands have
           been invoked and they either failed or reported start-up
           success. Note that this does includes <i>ExecStartPost=</i> (or
           <i>ExecStopPost=</i> for the shutdown case).

           Note that those settings are independent of and orthogonal to
           the requirement dependencies as configured by <i>Requires=</i>,
           <i>Wants=</i>, <i>Requisite=</i>, or <i>BindsTo=</i>. It is a common pattern to
           include a unit name in both the <i>After=</i> and <i>Wants=</i> options, in
           which case the unit listed will be started before the unit
           that is configured with these options.

           Note that <i>Before=</i> dependencies on device units have no effect
           and are not supported. Devices generally become available as
           a result of an external hotplug event, and systemd creates
           the corresponding device unit without delay.

           Added in version 201.

       <i>OnFailure=</i>
           A space-separated list of one or more units that are
           activated when this unit enters the "failed" state.

           Added in version 201.

       <i>OnSuccess=</i>
           A space-separated list of one or more units that are
           activated when this unit enters the "inactive" state.

           Added in version 249.

       <i>PropagatesReloadTo=</i>, <i>ReloadPropagatedFrom=</i>
           A space-separated list of one or more units to which reload
           requests from this unit shall be propagated to, or units from
           which reload requests shall be propagated to this unit,
           respectively. Issuing a reload request on a unit will
           automatically also enqueue reload requests on all units that
           are linked to it using these two settings.

           Added in version 201.

       <i>PropagatesStopTo=</i>, <i>StopPropagatedFrom=</i>
           A space-separated list of one or more units to which stop
           requests from this unit shall be propagated to, or units from
           which stop requests shall be propagated to this unit,
           respectively. Issuing a stop request on a unit will
           automatically also enqueue stop requests on all units that
           are linked to it using these two settings.

           Added in version 249.

       <i>JoinsNamespaceOf=</i>
           For units that start processes (such as service units), lists
           one or more other units whose network and/or temporary file
           namespace to join. If this is specified on a unit (say,
           a.service has <i>JoinsNamespaceOf=b.service</i>), then the inverse
           dependency (<i>JoinsNamespaceOf=a.service</i> for b.service) is
           implied. This only applies to unit types which support the
           <i>PrivateNetwork=</i>, <i>NetworkNamespacePath=</i>, <i>PrivateIPC=</i>,
           <i>IPCNamespacePath=</i>, and <i>PrivateTmp=</i> directives (see
           <a href="systemd.exec.5.html">systemd.exec(5)</a> for details). If a unit that has this setting
           set is started, its processes will see the same /tmp/,
           /var/tmp/, IPC namespace and network namespace as one listed
           unit that is started. If multiple listed units are already
           started and these do not share their namespace, then it is
           not defined which namespace is joined. Note that this setting
           only has an effect if <i>PrivateNetwork=</i>/<i>NetworkNamespacePath=</i>,
           <i>PrivateIPC=</i>/<i>IPCNamespacePath=</i> and/or <i>PrivateTmp=</i> is enabled
           for both the unit that joins the namespace and the unit whose
           namespace is joined.

           Added in version 209.

       <i>RequiresMountsFor=</i>
           Takes a space-separated list of absolute paths. Automatically
           adds dependencies of type <i>Requires=</i> and <i>After=</i> for all mount
           units required to access the specified path.

           Mount points marked with <b>noauto </b>are not mounted automatically
           through local-fs.target, but are still honored for the
           purposes of this option, i.e. they will be pulled in by this
           unit.

           Added in version 201.

       <i>WantsMountsFor=</i>
           Same as <i>RequiresMountsFor=</i>, but adds dependencies of type
           <i>Wants=</i> instead of <i>Requires=</i>.

           Added in version 256.

       <i>OnSuccessJobMode=</i>, <i>OnFailureJobMode=</i>
           Takes a value of "fail", "replace", "replace-irreversibly",
           "isolate", "flush", "ignore-dependencies" or
           "ignore-requirements". Defaults to "replace". Specifies how
           the units listed in <i>OnSuccess=</i>/<i>OnFailure=</i> will be enqueued.
           See <a href="../man1/systemctl.1.html">systemctl(1)</a>'s <b>--job-mode= </b>option for details on the
           possible values. If this is set to "isolate", only a single
           unit may be listed in <i>OnSuccess=</i>/<i>OnFailure=</i>.

           Added in version 209.

       <i>IgnoreOnIsolate=</i>
           Takes a boolean argument. If <b>true</b>, this unit will not be
           stopped when isolating another unit. Defaults to <b>false </b>for
           service, target, socket, timer, and path units, and <b>true </b>for
           slice, scope, device, swap, mount, and automount units.

           Added in version 201.

       <i>StopWhenUnneeded=</i>
           Takes a boolean argument. If <b>true</b>, this unit will be stopped
           when it is no longer used. Note that, in order to minimize
           the work to be executed, systemd will not stop units by
           default unless they are conflicting with other units, or the
           user explicitly requested their shut down. If this option is
           set, a unit will be automatically cleaned up if no other
           active unit requires it. Defaults to <b>false</b>.

           Added in version 201.

       <i>RefuseManualStart=</i>, <i>RefuseManualStop=</i>
           Takes a boolean argument. If <b>true</b>, this unit can only be
           activated or deactivated indirectly. In this case, explicit
           start-up or termination requested by the user is denied,
           however if it is started or stopped as a dependency of
           another unit, start-up or termination will succeed. This is
           mostly a safety feature to ensure that the user does not
           accidentally activate units that are not intended to be
           activated explicitly, and not accidentally deactivate units
           that are not intended to be deactivated. These options
           default to <b>false</b>.

           Added in version 201.

       <i>AllowIsolate=</i>
           Takes a boolean argument. If <b>true</b>, this unit may be used with
           the <b>systemctl isolate </b>command. Otherwise, this will be
           refused. It probably is a good idea to leave this disabled
           except for target units that shall be used similar to
           runlevels in SysV init systems, just as a precaution to avoid
           unusable system states. This option defaults to <b>false</b>.

           Added in version 201.

       <i>DefaultDependencies=</i>
           Takes a boolean argument. If <b>yes</b>, (the default), a few
           default dependencies will implicitly be created for the unit.
           The actual dependencies created depend on the unit type. For
           example, for service units, these dependencies ensure that
           the service is started only after basic system initialization
           is completed and is properly terminated on system shutdown.
           See the respective man pages for details. Generally, only
           services involved with early boot or late shutdown should set
           this option to <b>no</b>. It is highly recommended to leave this
           option enabled for the majority of common units. If set to
           <b>no</b>, this option does not disable all implicit dependencies,
           just non-essential ones.

           Added in version 201.

       <i>SurviveFinalKillSignal=</i>
           Takes a boolean argument. Defaults to <b>no</b>. If <b>yes</b>, processes
           belonging to this unit will not be sent the final "SIGTERM"
           and "SIGKILL" signals during the final phase of the system
           shutdown process. This functionality replaces the older
           mechanism that allowed a program to set "argv[0][0] = '@'" as
           described at <b>systemd and Storage Daemons for the Root File</b>
           <b>System</b>[3], which however continues to be supported.

           Added in version 255.

       <i>CollectMode=</i>
           Tweaks the "garbage collection" algorithm for this unit.
           Takes one of <b>inactive </b>or <b>inactive-or-failed</b>. If set to
           <b>inactive </b>the unit will be unloaded if it is in the <b>inactive</b>
           state and is not referenced by clients, jobs or other units —
           however it is not unloaded if it is in the <b>failed </b>state. In
           <b>failed </b>mode, failed units are not unloaded until the user
           invoked <b>systemctl reset-failed </b>on them to reset the <b>failed</b>
           state, or an equivalent command. This behaviour is altered if
           this option is set to <b>inactive-or-failed</b>: in this case the
           unit is unloaded even if the unit is in a <b>failed </b>state, and
           thus an explicitly resetting of the <b>failed </b>state is not
           necessary. Note that if this mode is used unit results (such
           as exit codes, exit signals, consumed resources, ...) are
           flushed out immediately after the unit completed, except for
           what is stored in the logging subsystem. Defaults to
           <b>inactive</b>.

           Added in version 236.

       <i>FailureAction=</i>, <i>SuccessAction=</i>
           Configure the action to take when the unit stops and enters a
           failed state or inactive state. Takes one of <b>none</b>, <b>reboot</b>,
           <b>reboot-force</b>, <b>reboot-immediate</b>, <b>poweroff</b>, <b>poweroff-force</b>,
           <b>poweroff-immediate</b>, <b>exit</b>, <b>exit-force</b>, <b>soft-reboot</b>,
           <b>soft-reboot-force</b>, <b>kexec</b>, <b>kexec-force</b>, <b>halt</b>, <b>halt-force </b>and
           <b>halt-immediate</b>. In system mode, all options are allowed. In
           user mode, only <b>none</b>, <b>exit</b>, and <b>exit-force </b>are allowed. Both
           options default to <b>none</b>.

           If <b>none </b>is set, no action will be triggered.  <b>reboot </b>causes a
           reboot following the normal shutdown procedure (i.e.
           equivalent to <b>systemctl reboot</b>).  <b>reboot-force </b>causes a
           forced reboot which will terminate all processes forcibly but
           should cause no dirty file systems on reboot (i.e. equivalent
           to <b>systemctl reboot -f</b>) and <b>reboot-immediate </b>causes immediate
           execution of the <a href="../man2/reboot.2.html">reboot(2)</a> system call, which might result in
           data loss (i.e. equivalent to <b>systemctl reboot -ff</b>).
           Similarly, <b>poweroff</b>, <b>poweroff-force</b>, <b>poweroff-immediate</b>,
           <b>kexec</b>, <b>kexec-force</b>, <b>halt</b>, <b>halt-force </b>and <b>halt-immediate </b>have
           the effect of powering down the system, executing kexec, and
           halting the system respectively with similar semantics.  <b>exit</b>
           causes the manager to exit following the normal shutdown
           procedure, and <b>exit-force </b>causes it terminate without
           shutting down services. When <b>exit </b>or <b>exit-force </b>is used by
           default the exit status of the main process of the unit (if
           this applies) is returned from the service manager. However,
           this may be overridden with
           <i>FailureActionExitStatus=</i>/<i>SuccessActionExitStatus=</i>, see below.
           <b>soft-reboot </b>will trigger a userspace reboot operation.
           <b>soft-reboot-force </b>does that too, but does not go through the
           shutdown transaction beforehand.

           Added in version 236.

       <i>FailureActionExitStatus=</i>, <i>SuccessActionExitStatus=</i>
           Controls the exit status to propagate back to an invoking
           container manager (in case of a system service) or service
           manager (in case of a user manager) when the
           <i>FailureAction=</i>/<i>SuccessAction=</i> are set to <b>exit </b>or <b>exit-force</b>
           and the action is triggered. By default the exit status of
           the main process of the triggering unit (if this applies) is
           propagated. Takes a value in the range 0...255 or the empty
           string to request default behaviour.

           Added in version 240.

       <i>JobTimeoutSec=</i>, <i>JobRunningTimeoutSec=</i>
           <i>JobTimeoutSec=</i> specifies a timeout for the whole job that
           starts running when the job is queued.  <i>JobRunningTimeoutSec=</i>
           specifies a timeout that starts running when the queued job
           is actually started. If either limit is reached, the job will
           be cancelled, the unit however will not change state or even
           enter the "failed" mode.

           Both settings take a time span with the default unit of
           seconds, but other units may be specified, see
           <b>systemd.time</b>(5). The default is "infinity" (job timeouts
           disabled), except for device units where
           <i>JobRunningTimeoutSec=</i> defaults to <i>DefaultDeviceTimeoutSec=</i>.

           Note: these timeouts are independent from any unit-specific
           timeouts (for example, the timeout set with <i>TimeoutStartSec=</i>
           in service units). The job timeout has no effect on the unit
           itself. Or in other words: unit-specific timeouts are useful
           to abort unit state changes, and revert them. The job timeout
           set with this option however is useful to abort only the job
           waiting for the unit state to change.

           Added in version 201.

       <i>JobTimeoutAction=</i>, <i>JobTimeoutRebootArgument=</i>
           <i>JobTimeoutAction=</i> optionally configures an additional action
           to take when the timeout is hit, see description of
           <i>JobTimeoutSec=</i> and <i>JobRunningTimeoutSec=</i> above. It takes the
           same values as <i>FailureAction=</i>/<i>SuccessAction=</i>. Defaults to
           <b>none</b>.

           <i>JobTimeoutRebootArgument=</i> configures an optional reboot
           string to pass to the <a href="../man2/reboot.2.html">reboot(2)</a> system call.

           Added in version 240.

       <i>StartLimitIntervalSec=interval</i>, <i>StartLimitBurst=burst</i>
           Configure unit start rate limiting. Units which are started
           more than <i>burst</i> times within an <i>interval</i> time span are not
           permitted to start any more. Use <i>StartLimitIntervalSec=</i> to
           configure the checking interval and <i>StartLimitBurst=</i> to
           configure how many starts per interval are allowed.

           <i>interval</i> is a time span with the default unit of seconds, but
           other units may be specified, see <b>systemd.time</b>(5). The
           special value "infinity" can be used to limit the total
           number of start attempts, even if they happen at large time
           intervals. Defaults to <i>DefaultStartLimitIntervalSec=</i> in
           manager configuration file, and may be set to 0 to disable
           any kind of rate limiting.  <i>burst</i> is a number and defaults to
           <i>DefaultStartLimitBurst=</i> in manager configuration file.

           These configuration options are particularly useful in
           conjunction with the service setting <i>Restart=</i> (see
           <a href="systemd.service.5.html">systemd.service(5)</a>); however, they apply to all kinds of
           starts (including manual), not just those triggered by the
           <i>Restart=</i> logic.

           Note that units which are configured for <i>Restart=</i>, and which
           reach the start limit are not attempted to be restarted
           anymore; however, they may still be restarted manually or
           from a timer or socket at a later point, after the <i>interval</i>
           has passed. From that point on, the restart logic is
           activated again.  <b>systemctl reset-failed </b>will cause the
           restart rate counter for a service to be flushed, which is
           useful if the administrator wants to manually start a unit
           and the start limit interferes with that. Rate-limiting is
           enforced after any unit condition checks are executed, and
           hence unit activations with failing conditions do not count
           towards the rate limit.

           When a unit is unloaded due to the garbage collection logic
           (see above) its rate limit counters are flushed out too. This
           means that configuring start rate limiting for a unit that is
           not referenced continuously has no effect.

           This setting does not apply to slice, target, device, and
           scope units, since they are unit types whose activation may
           either never fail, or may succeed only a single time.

           Added in version 229.

       <i>StartLimitAction=</i>
           Configure an additional action to take if the rate limit
           configured with <i>StartLimitIntervalSec=</i> and <i>StartLimitBurst=</i>
           is hit. Takes the same values as the
           <i>FailureAction=</i>/<i>SuccessAction=</i> settings. If <b>none </b>is set,
           hitting the rate limit will trigger no action except that the
           start will not be permitted. Defaults to <b>none</b>.

           Added in version 229.

       <i>RebootArgument=</i>
           Configure the optional argument for the <a href="../man2/reboot.2.html">reboot(2)</a> system call
           if <i>StartLimitAction=</i> or <i>FailureAction=</i> is a reboot action.
           This works just like the optional argument to <b>systemctl</b>
           <b>reboot </b>command.

           Added in version 229.

       <i>SourcePath=</i>
           A path to a configuration file this unit has been generated
           from. This is primarily useful for implementation of
           generator tools that convert configuration from an external
           configuration file format into native unit files. This
           functionality should not be used in normal units.

           Added in version 201.

   <b>Conditions and Asserts</b>
       Unit files may also include a number of <i>Condition...=</i> and
       <i>Assert...=</i> settings. Before the unit is started, systemd will
       verify that the specified conditions and asserts are true. If
       not, the starting of the unit will be (mostly silently) skipped
       (in case of conditions), or aborted with an error message (in
       case of asserts). Failing conditions or asserts will not result
       in the unit being moved into the "failed" state. The conditions
       and asserts are checked at the time the queued start job is to be
       executed. The ordering dependencies are still respected, so other
       units are still pulled in and ordered as if this unit was
       successfully activated, and the conditions and asserts are
       executed the precise moment the unit would normally start and
       thus can validate system state after the units ordered before
       completed initialization. Use condition expressions for skipping
       units that do not apply to the local system, for example because
       the kernel or runtime environment doesn't require their
       functionality.

       If multiple conditions are specified, the unit will be executed
       if all of them apply (i.e. a logical AND is applied). Condition
       checks can use a pipe symbol ("|") after the equals sign
       ("Condition...=|..."), which causes the condition to become a
       <i>triggering</i> condition. If at least one triggering condition is
       defined for a unit, then the unit will be started if at least one
       of the triggering conditions of the unit applies and all of the
       regular (i.e. non-triggering) conditions apply. If you prefix an
       argument with the pipe symbol and an exclamation mark, the pipe
       symbol must be passed first, the exclamation second. If any of
       these options is assigned the empty string, the list of
       conditions is reset completely, all previous condition settings
       (of any kind) will have no effect.

       The <i>AssertArchitecture=</i>, <i>AssertVirtualization=</i>, ... options are
       similar to conditions but cause the start job to fail (instead of
       being skipped). The failed check is logged. Units with unmet
       conditions are considered to be in a clean state and will be
       garbage collected if they are not referenced. This means that
       when queried, the condition failure may or may not show up in the
       state of the unit.

       Note that neither assertion nor condition expressions result in
       unit state changes. Also note that both are checked at the time
       the job is to be executed, i.e. long after depending jobs and it
       itself were queued. Thus, neither condition nor assertion
       expressions are suitable for conditionalizing unit dependencies.

       The <b>condition </b>verb of <a href="../man1/systemd-analyze.1.html">systemd-analyze(1)</a> can be used to test
       condition and assert expressions.

       Except for <i>ConditionPathIsSymbolicLink=</i>, all path checks follow
       symlinks.

       <i>ConditionArchitecture=</i>
           Check whether the system is running on a specific
           architecture. Takes one of "x86", "x86-64", "ppc", "ppc-le",
           "ppc64", "ppc64-le", "ia64", "parisc", "parisc64", "s390",
           "s390x", "sparc", "sparc64", "mips", "mips-le", "mips64",
           "mips64-le", "alpha", "arm", "arm-be", "arm64", "arm64-be",
           "sh", "sh64", "m68k", "tilegx", "cris", "arc", "arc-be", or
           "native".

           Use <a href="../man1/systemd-analyze.1.html">systemd-analyze(1)</a> for the complete list of known
           architectures.

           The architecture is determined from the information returned
           by <a href="../man2/uname.2.html">uname(2)</a> and is thus subject to <a href="../man2/personality.2.html">personality(2)</a>. Note that
           a <i>Personality=</i> setting in the same unit file has no effect on
           this condition. A special architecture name "native" is
           mapped to the architecture the system manager itself is
           compiled for. The test may be negated by prepending an
           exclamation mark.

           Added in version 201.

       <i>ConditionFirmware=</i>
           Check whether the system's firmware is of a certain type. The
           following values are possible:

           •   "uefi" matches systems with EFI.

           •   "device-tree" matches systems with a device tree.

           •   "device-tree-compatible(<i>value</i>)" matches systems with a
               device tree that are compatible with "value".

           •   "smbios-field(<i>field operator value</i>)" matches systems with
               a SMBIOS field containing a certain value.  <i>field</i> is the
               name of the SMBIOS field exposed as "sysfs" attribute
               file below /sys/class/dmi/id/.  <i>operator</i> is one of "&lt;",
               "&lt;=", "&gt;=", "&gt;", "==", "&lt;&gt;" for version comparisons, "="
               and "!=" for literal string comparisons, or "$=", "!$="
               for shell-style glob comparisons.  <i>value</i> is the expected
               value of the SMBIOS field value (possibly containing
               shell style globs in case "$="/"!$=" is used).

           Added in version 249.

       <i>ConditionVirtualization=</i>
           Check whether the system is executed in a virtualized
           environment and optionally test whether it is a specific
           implementation. Takes either boolean value to check if being
           executed in any virtualized environment, or one of "vm" and
           "container" to test against a generic type of virtualization
           solution, or one of "qemu", "kvm", "amazon", "zvm", "vmware",
           "microsoft", "oracle", "powervm", "xen", "bochs", "uml",
           "bhyve", "qnx", "apple", "sre", "openvz", "lxc",
           "lxc-libvirt", "systemd-nspawn", "docker", "podman", "rkt",
           "wsl", "proot", "pouch", "acrn" to test against a specific
           implementation, or "private-users" to check whether we are
           running in a user namespace. See <a href="../man1/systemd-detect-virt.1.html">systemd-detect-virt(1)</a> for a
           full list of known virtualization technologies and their
           identifiers. If multiple virtualization technologies are
           nested, only the innermost is considered. The test may be
           negated by prepending an exclamation mark.

           Added in version 244.

       <i>ConditionHost=</i>
           <i>ConditionHost=</i> may be used to match against the hostname or
           machine ID of the host. This either takes a hostname string
           (optionally with shell style globs) which is tested against
           the locally set hostname as returned by <a href="../man2/gethostname.2.html">gethostname(2)</a>, or a
           machine ID formatted as string (see <a href="machine-id.5.html">machine-id(5)</a>). The test
           may be negated by prepending an exclamation mark.

           Added in version 244.

       <i>ConditionKernelCommandLine=</i>
           <i>ConditionKernelCommandLine=</i> may be used to check whether a
           specific kernel command line option is set (or if prefixed
           with the exclamation mark — unset). The argument must either
           be a single word, or an assignment (i.e. two words, separated
           by "="). In the former case the kernel command line is
           searched for the word appearing as is, or as left hand side
           of an assignment. In the latter case, the exact assignment is
           looked for with right and left hand side matching. This
           operates on the kernel command line communicated to userspace
           via /proc/cmdline, except when the service manager is invoked
           as payload of a container manager, in which case the command
           line of PID 1 is used instead (i.e.  /proc/1/cmdline).

           Added in version 244.

       <i>ConditionKernelVersion=</i>
           <i>ConditionKernelVersion=</i> may be used to check whether the
           kernel version (as reported by <b>uname -r</b>) matches a certain
           expression, or if prefixed with the exclamation mark, does
           not match. The argument must be a list of (potentially
           quoted) expressions. Each expression starts with one of "="
           or "!=" for string comparisons, "&lt;", "&lt;=", "==", "&lt;&gt;", "&gt;=",
           "&gt;" for version comparisons, or "$=", "!$=" for a shell-style
           glob match. If no operator is specified, "$=" is implied.

           Note that using the kernel version string is an unreliable
           way to determine which features are supported by a kernel,
           because of the widespread practice of backporting drivers,
           features, and fixes from newer upstream kernels into older
           versions provided by distributions. Hence, this check is
           inherently unportable and should not be used for units which
           may be used on different distributions.

           Added in version 244.

       <i>ConditionCredential=</i>
           <i>ConditionCredential=</i> may be used to check whether a
           credential by the specified name was passed into the service
           manager. See <b>System and Service Credentials</b>[4] for details
           about credentials. If used in services for the system service
           manager this may be used to conditionalize services based on
           system credentials passed in. If used in services for the
           per-user service manager this may be used to conditionalize
           services based on credentials passed into the unit@.service
           service instance belonging to the user. The argument must be
           a valid credential name.

           Added in version 252.

       <i>ConditionEnvironment=</i>
           <i>ConditionEnvironment=</i> may be used to check whether a specific
           environment variable is set (or if prefixed with the
           exclamation mark — unset) in the service manager's
           environment block. The argument may be a single word, to
           check if the variable with this name is defined in the
           environment block, or an assignment ("<i>name</i>=<i>value</i>"), to check
           if the variable with this exact value is defined. Note that
           the environment block of the service manager itself is
           checked, i.e. not any variables defined with <i>Environment=</i> or
           <i>EnvironmentFile=</i>, as described above. This is particularly
           useful when the service manager runs inside a containerized
           environment or as per-user service manager, in order to check
           for variables passed in by the enclosing container manager or
           PAM.

           Added in version 246.

       <i>ConditionSecurity=</i>
           <i>ConditionSecurity=</i> may be used to check whether the given
           security technology is enabled on the system. Currently, the
           following values are recognized:

           <b>Table 3. Recognized security technologies</b>
           ┌─────────────────┬─────────────────────────┐
           │ <b>Value           </b>│ <b>Description             </b>│
           ├─────────────────┼─────────────────────────┤
           │ selinux         │ SELinux MAC             │
           ├─────────────────┼─────────────────────────┤
           │ apparmor        │ AppArmor MAC            │
           ├─────────────────┼─────────────────────────┤
           │ tomoyo          │ Tomoyo MAC              │
           ├─────────────────┼─────────────────────────┤
           │ smack           │ SMACK MAC               │
           ├─────────────────┼─────────────────────────┤
           │ ima             │ Integrity Measurement   │
           │                 │ Architecture (IMA)      │
           ├─────────────────┼─────────────────────────┤
           │ audit           │ Linux Audit Framework   │
           ├─────────────────┼─────────────────────────┤
           │ uefi-secureboot │ UEFI SecureBoot         │
           ├─────────────────┼─────────────────────────┤
           │ tpm2            │ Trusted Platform Module │
           │                 │ 2.0 (TPM2)              │
           ├─────────────────┼─────────────────────────┤
           │ cvm             │ Confidential virtual    │
           │                 │ machine (SEV/TDX)       │
           ├─────────────────┼─────────────────────────┤
           │ measured-uki    │ Unified Kernel Image    │
           │                 │ with PCR 11             │
           │                 │ Measurements, as per    │
           │                 │ <a href="../man7/systemd-stub.7.html">systemd-stub(7)</a>. Added  │
           │                 │ in version 255.         │
           └─────────────────┴─────────────────────────┘

           The test may be negated by prepending an exclamation mark.

           Added in version 244.

       <i>ConditionCapability=</i>
           Check whether the given capability exists in the capability
           bounding set of the service manager (i.e. this does not check
           whether capability is actually available in the permitted or
           effective sets, see <a href="../man7/capabilities.7.html">capabilities(7)</a> for details). Pass a
           capability name such as "CAP_MKNOD", possibly prefixed with
           an exclamation mark to negate the check.

           Added in version 244.

       <i>ConditionACPower=</i>
           Check whether the system has AC power, or is exclusively
           battery powered at the time of activation of the unit. This
           takes a boolean argument. If set to "true", the condition
           will hold only if at least one AC connector of the system is
           connected to a power source, or if no AC connectors are
           known. Conversely, if set to "false", the condition will hold
           only if there is at least one AC connector known and all AC
           connectors are disconnected from a power source.

           Added in version 244.

       <i>ConditionNeedsUpdate=</i>
           Takes one of /var/ or /etc/ as argument, possibly prefixed
           with a "!"  (to invert the condition). This condition may be
           used to conditionalize units on whether the specified
           directory requires an update because /usr/'s modification
           time is newer than the stamp file .updated in the specified
           directory. This is useful to implement offline updates of the
           vendor operating system resources in /usr/ that require
           updating of /etc/ or /var/ on the next following boot. Units
           making use of this condition should order themselves before
           <a href="../man8/systemd-update-done.service.8.html">systemd-update-done.service(8)</a>, to make sure they run before
           the stamp file's modification time gets reset indicating a
           completed update.

           If the <i>systemd.condition_needs_update=</i> option is specified on
           the kernel command line (taking a boolean), it will override
           the result of this condition check, taking precedence over
           any file modification time checks. If the kernel command line
           option is used, systemd-update-done.service will not have
           immediate effect on any following <i>ConditionNeedsUpdate=</i>
           checks, until the system is rebooted where the kernel command
           line option is not specified anymore.

           Note that to make this scheme effective, the timestamp of
           /usr/ should be explicitly updated after its contents are
           modified. The kernel will automatically update modification
           timestamp on a directory only when immediate children of a
           directory are modified; an modification of nested files will
           not automatically result in mtime of /usr/ being updated.

           Also note that if the update method includes a call to
           execute appropriate post-update steps itself, it should not
           touch the timestamp of /usr/. In a typical distribution
           packaging scheme, packages will do any required update steps
           as part of the installation or upgrade, to make package
           contents immediately usable.  <i>ConditionNeedsUpdate=</i> should be
           used with other update mechanisms where such an immediate
           update does not happen.

           Added in version 244.

       <i>ConditionFirstBoot=</i>
           Takes a boolean argument. This condition may be used to
           conditionalize units on whether the system is booting up for
           the first time. This roughly means that /etc/ was unpopulated
           when the system started booting (for details, see "First Boot
           Semantics" in <a href="machine-id.5.html">machine-id(5)</a>). First Boot is considered
           finished (this condition will evaluate as false) after the
           manager has finished the startup phase.

           This condition may be used to populate /etc/ on the first
           boot after factory reset, or when a new system instance boots
           up for the first time.

           Note that the service manager itself will perform setup steps
           during First Boot: it will initialize <a href="machine-id.5.html">machine-id(5)</a> and
           preset all units, enabling or disabling them according to the
           <a href="systemd.preset.5.html">systemd.preset(5)</a> settings. Additional setup may be performed
           via units with <i>ConditionFirstBoot=yes</i>.

           For robustness, units with <i>ConditionFirstBoot=yes</i> should
           order themselves before first-boot-complete.target and pull
           in this passive target with <i>Wants=</i>. This ensures that in a
           case of an aborted first boot, these units will be re-run
           during the next system startup.

           If the <i>systemd.condition_first_boot=</i> option is specified on
           the kernel command line (taking a boolean), it will override
           the result of this condition check, taking precedence over
           /etc/machine-id existence checks.

           Added in version 244.

       <i>ConditionPathExists=</i>
           Check for the existence of a file. If the specified absolute
           path name does not exist, the condition will fail. If the
           absolute path name passed to <i>ConditionPathExists=</i> is prefixed
           with an exclamation mark ("!"), the test is negated, and the
           unit is only started if the path does not exist.

           Added in version 244.

       <i>ConditionPathExistsGlob=</i>
           <i>ConditionPathExistsGlob=</i> is similar to <i>ConditionPathExists=</i>,
           but checks for the existence of at least one file or
           directory matching the specified globbing pattern.

           Added in version 244.

       <i>ConditionPathIsDirectory=</i>
           <i>ConditionPathIsDirectory=</i> is similar to <i>ConditionPathExists=</i>
           but verifies that a certain path exists and is a directory.

           Added in version 244.

       <i>ConditionPathIsSymbolicLink=</i>
           <i>ConditionPathIsSymbolicLink=</i> is similar to
           <i>ConditionPathExists=</i> but verifies that a certain path exists
           and is a symbolic link.

           Added in version 244.

       <i>ConditionPathIsMountPoint=</i>
           <i>ConditionPathIsMountPoint=</i> is similar to <i>ConditionPathExists=</i>
           but verifies that a certain path exists and is a mount point.

           Added in version 244.

       <i>ConditionPathIsReadWrite=</i>
           <i>ConditionPathIsReadWrite=</i> is similar to <i>ConditionPathExists=</i>
           but verifies that the underlying file system is readable and
           writable (i.e. not mounted read-only).

           Added in version 244.

       <i>ConditionPathIsEncrypted=</i>
           <i>ConditionPathIsEncrypted=</i> is similar to <i>ConditionPathExists=</i>
           but verifies that the underlying file system's backing block
           device is encrypted using dm-crypt/LUKS. Note that this check
           does not cover ext4 per-directory encryption, and only
           detects block level encryption. Moreover, if the specified
           path resides on a file system on top of a loopback block
           device, only encryption above the loopback device is
           detected. It is not detected whether the file system backing
           the loopback block device is encrypted.

           Added in version 246.

       <i>ConditionDirectoryNotEmpty=</i>
           <i>ConditionDirectoryNotEmpty=</i> is similar to
           <i>ConditionPathExists=</i> but verifies that a certain path exists
           and is a non-empty directory.

           Added in version 244.

       <i>ConditionFileNotEmpty=</i>
           <i>ConditionFileNotEmpty=</i> is similar to <i>ConditionPathExists=</i> but
           verifies that a certain path exists and refers to a regular
           file with a non-zero size.

           Added in version 244.

       <i>ConditionFileIsExecutable=</i>
           <i>ConditionFileIsExecutable=</i> is similar to <i>ConditionPathExists=</i>
           but verifies that a certain path exists, is a regular file,
           and marked executable.

           Added in version 244.

       <i>ConditionUser=</i>
           <i>ConditionUser=</i> takes a numeric "UID", a UNIX user name, or
           the special value "@system". This condition may be used to
           check whether the service manager is running as the given
           user. The special value "@system" can be used to check if the
           user id is within the system user range. This option is not
           useful for system services, as the system manager exclusively
           runs as the root user, and thus the test result is constant.

           Added in version 244.

       <i>ConditionGroup=</i>
           <i>ConditionGroup=</i> is similar to <i>ConditionUser=</i> but verifies
           that the service manager's real or effective group, or any of
           its auxiliary groups, match the specified group or GID. This
           setting does not support the special value "@system".

           Added in version 244.

       <i>ConditionControlGroupController=</i>
           Check whether given cgroup controllers (e.g.  "cpu") are
           available for use on the system or whether the legacy v1
           cgroup or the modern v2 cgroup hierarchy is used.

           Multiple controllers may be passed with a space separating
           them; in this case the condition will only pass if all listed
           controllers are available for use. Controllers unknown to
           systemd are ignored. Valid controllers are "cpu", "io",
           "memory", and "pids". Even if available in the kernel, a
           particular controller may not be available if it was disabled
           on the kernel command line with <i>cgroup_disable=controller</i>.

           Alternatively, two special strings "v1" and "v2" may be
           specified (without any controller names).  "v2" will pass if
           the unified v2 cgroup hierarchy is used, and "v1" will pass
           if the legacy v1 hierarchy or the hybrid hierarchy are used.
           Note that legacy or hybrid hierarchies have been deprecated.
           See <a href="../man1/systemd.1.html">systemd(1)</a> for more information.

           Added in version 244.

       <i>ConditionMemory=</i>
           Verify that the specified amount of system memory is
           available to the current system. Takes a memory size in bytes
           as argument, optionally prefixed with a comparison operator
           "&lt;", "&lt;=", "=" (or "=="), "!=" (or "&lt;&gt;"), "&gt;=", "&gt;". On
           bare-metal systems compares the amount of physical memory in
           the system with the specified size, adhering to the specified
           comparison operator. In containers compares the amount of
           memory assigned to the container instead.

           Added in version 244.

       <i>ConditionCPUs=</i>
           Verify that the specified number of CPUs is available to the
           current system. Takes a number of CPUs as argument,
           optionally prefixed with a comparison operator "&lt;", "&lt;=", "="
           (or "=="), "!=" (or "&lt;&gt;"), "&gt;=", "&gt;". Compares the number of
           CPUs in the CPU affinity mask configured of the service
           manager itself with the specified number, adhering to the
           specified comparison operator. On physical systems the number
           of CPUs in the affinity mask of the service manager usually
           matches the number of physical CPUs, but in special and
           virtual environments might differ. In particular, in
           containers the affinity mask usually matches the number of
           CPUs assigned to the container and not the physically
           available ones.

           Added in version 244.

       <i>ConditionCPUFeature=</i>
           Verify that a given CPU feature is available via the "CPUID"
           instruction. This condition only does something on i386 and
           x86-64 processors. On other processors it is assumed that the
           CPU does not support the given feature. It checks the leaves
           "1", "7", "0x80000001", and "0x80000007". Valid values are:
           "fpu", "vme", "de", "pse", "tsc", "msr", "pae", "mce", "cx8",
           "apic", "sep", "mtrr", "pge", "mca", "cmov", "pat", "pse36",
           "clflush", "mmx", "fxsr", "sse", "sse2", "ht", "pni",
           "pclmul", "monitor", "ssse3", "fma3", "cx16", "sse4_1",
           "sse4_2", "movbe", "popcnt", "aes", "xsave", "osxsave",
           "avx", "f16c", "rdrand", "bmi1", "avx2", "bmi2", "rdseed",
           "adx", "sha_ni", "syscall", "rdtscp", "lm", "lahf_lm", "abm",
           "constant_tsc".

           Added in version 248.

       <i>ConditionOSRelease=</i>
           Verify that a specific "key=value" pair is set in the host's
           <a href="os-release.5.html">os-release(5)</a>.

           Other than exact string matching (with "=" and "!="),
           relative comparisons are supported for versioned parameters
           (e.g.  "VERSION_ID"; with "&lt;", "&lt;=", "==", "&lt;&gt;", "&gt;=", "&gt;"),
           and shell-style wildcard comparisons ("*", "?", "[]") are
           supported with the "$=" (match) and "!$=" (non-match).

           Added in version 249.

       <i>ConditionMemoryPressure=</i>, <i>ConditionCPUPressure=</i>,
       <i>ConditionIOPressure=</i>
           Verify that the overall system (memory, CPU or IO) pressure
           is below or equal to a threshold. This setting takes a
           threshold value as argument. It can be specified as a simple
           percentage value, suffixed with "%", in which case the
           pressure will be measured as an average over the last five
           minutes before the attempt to start the unit is performed.
           Alternatively, the average timespan can also be specified
           using "/" as a separator, for example: "10%/1min". The
           supported timespans match what the kernel provides, and are
           limited to "10sec", "1min" and "5min". The "full" PSI will be
           checked first, and if not found "some" will be checked. For
           more details, see the documentation on <b>PSI (Pressure Stall</b>
           <b>Information)</b>[5].

           Optionally, the threshold value can be prefixed with the
           slice unit under which the pressure will be checked, followed
           by a ":". If the slice unit is not specified, the overall
           system pressure will be measured, instead of a particular
           cgroup's.

           Added in version 250.

       <i>AssertArchitecture=</i>, <i>AssertVirtualization=</i>, <i>AssertHost=</i>,
       <i>AssertKernelCommandLine=</i>, <i>AssertKernelVersion=</i>,
       <i>AssertCredential=</i>, <i>AssertEnvironment=</i>, <i>AssertSecurity=</i>,
       <i>AssertCapability=</i>, <i>AssertACPower=</i>, <i>AssertNeedsUpdate=</i>,
       <i>AssertFirstBoot=</i>, <i>AssertPathExists=</i>, <i>AssertPathExistsGlob=</i>,
       <i>AssertPathIsDirectory=</i>, <i>AssertPathIsSymbolicLink=</i>,
       <i>AssertPathIsMountPoint=</i>, <i>AssertPathIsReadWrite=</i>,
       <i>AssertPathIsEncrypted=</i>, <i>AssertDirectoryNotEmpty=</i>,
       <i>AssertFileNotEmpty=</i>, <i>AssertFileIsExecutable=</i>, <i>AssertUser=</i>,
       <i>AssertGroup=</i>, <i>AssertControlGroupController=</i>, <i>AssertMemory=</i>,
       <i>AssertCPUs=</i>, <i>AssertCPUFeature=</i>, <i>AssertOSRelease=</i>,
       <i>AssertMemoryPressure=</i>, <i>AssertCPUPressure=</i>, <i>AssertIOPressure=</i>
           Similar to the <i>ConditionArchitecture=</i>,
           <i>ConditionVirtualization=</i>, ..., condition settings described
           above, these settings add assertion checks to the start-up of
           the unit. However, unlike the conditions settings, any
           assertion setting that is not met results in failure of the
           start job (which means this is logged loudly). Note that
           hitting a configured assertion does not cause the unit to
           enter the "failed" state (or in fact result in any state
           change of the unit), it affects only the job queued for it.
           Use assertion expressions for units that cannot operate when
           specific requirements are not met, and when this is something
           the administrator or user should look into.

           Added in version 218.
</pre> <h2>
MAPPING OF UNIT PROPERTIES TO THEIR INVERSES </h2>
<pre>
       Unit settings that create a relationship with a second unit
       usually show up in properties of both units, for example in
       <b>systemctl show </b>output. In some cases the name of the property is
       the same as the name of the configuration setting, but not
       always. This table lists the properties that are shown on two
       units which are connected through some dependency, and shows
       which property on "source" unit corresponds to which property on
       the "target" unit.

       <b>Table 4.  Forward and reverse unit properties</b>
       ┌───────────────────────┬───────────────────────┬───────────────────────────────┐
       │ <b>"Forward"             </b>│ <b>"Reverse"             </b>│ <b>Where used                    </b>│
       │ <b>property              </b>│ <b>property              </b>│                               │
       ├───────────────────────┼───────────────────────┼───────────────────────────────┤
       │ <i>Before=</i>               │ <i>After=</i>                │                               │
       ├───────────────────────┼───────────────────────┤ [Unit] section                │
       │ <i>After=</i>                │ <i>Before=</i>               │                               │
       ├───────────────────────┼───────────────────────┼────────────────┬──────────────┤
       │ <i>Requires=</i>             │ <i>RequiredBy=</i>           │ [Unit] section │ [Install]    │
       │                       │                       │                │ section      │
       ├───────────────────────┼───────────────────────┼────────────────┼──────────────┤
       │ <i>Wants=</i>                │ <i>WantedBy=</i>             │ [Unit] section │ [Install]    │
       │                       │                       │                │ section      │
       ├───────────────────────┼───────────────────────┼────────────────┼──────────────┤
       │ <i>Upholds=</i>              │ <i>UpheldBy=</i>             │ [Unit] section │ [Install]    │
       │                       │                       │                │ section      │
       ├───────────────────────┼───────────────────────┼────────────────┼──────────────┤
       │ <i>PartOf=</i>               │ <i>ConsistsOf=</i>           │ [Unit] section │ an automatic │
       │                       │                       │                │ property     │
       ├───────────────────────┼───────────────────────┼────────────────┼──────────────┤
       │ <i>BindsTo=</i>              │ <i>BoundBy=</i>              │ [Unit] section │ an automatic │
       │                       │                       │                │ property     │
       ├───────────────────────┼───────────────────────┼────────────────┼──────────────┤
       │ <i>Requisite=</i>            │ <i>RequisiteOf=</i>          │ [Unit] section │ an automatic │
       │                       │                       │                │ property     │
       ├───────────────────────┼───────────────────────┼────────────────┼──────────────┤
       │ <i>Conflicts=</i>            │ <i>ConflictedBy=</i>         │ [Unit] section │ an automatic │
       │                       │                       │                │ property     │
       ├───────────────────────┼───────────────────────┼────────────────┴──────────────┤
       │ <i>Triggers=</i>             │ <i>TriggeredBy=</i>          │ Automatic properties, see     │
       │                       │                       │ notes below                   │
       ├───────────────────────┼───────────────────────┼───────────────────────────────┤
       │ <i>PropagatesReloadTo=</i>   │ <i>ReloadPropagatedFrom=</i> │                               │
       ├───────────────────────┼───────────────────────┤ [Unit] section                │
       │ <i>ReloadPropagatedFrom=</i> │ <i>PropagatesReloadTo=</i>   │                               │
       ├───────────────────────┼───────────────────────┼───────────────────────────────┤
       │ <i>PropagatesStopTo=</i>     │ <i>StopPropagatedFrom=</i>   │                               │
       ├───────────────────────┼───────────────────────┤ [Unit] section                │
       │ <i>StopPropagatedFrom=</i>   │ <i>PropagatesStopTo=</i>     │                               │
       ├───────────────────────┼───────────────────────┼────────────────┬──────────────┤
       │ <i>Following=</i>            │ n/a                   │ An automatic   │              │
       │                       │                       │ property       │              │
       └───────────────────────┴───────────────────────┴────────────────┴──────────────┘

       Note: <i>WantedBy=</i>, <i>RequiredBy=</i>, and <i>UpheldBy=</i> are used in the
       [Install] section to create symlinks in .wants/, .requires/, and
       .upholds/ directories. They cannot be used directly as a unit
       configuration setting.

       Note: <i>ConsistsOf=</i>, <i>BoundBy=</i>, <i>RequisiteOf=</i>, <i>ConflictedBy=</i> are
       created implicitly along with their reverses and cannot be
       specified directly.

       Note: <i>Triggers=</i> is created implicitly between a socket, path
       unit, or an automount unit, and the unit they activate. By
       default a unit with the same name is triggered, but this can be
       overridden using <i>Sockets=</i>, <i>Service=</i>, and <i>Unit=</i> settings. See
       <a href="systemd.service.5.html">systemd.service(5)</a>, <a href="systemd.socket.5.html">systemd.socket(5)</a>, <a href="systemd.path.5.html">systemd.path(5)</a>, and
       <a href="systemd.automount.5.html">systemd.automount(5)</a> for details.  <i>TriggeredBy=</i> is created
       implicitly on the triggered unit.

       Note: <i>Following=</i> is used to group device aliases and points to
       the "primary" device unit that systemd is using to track device
       state, usually corresponding to a sysfs path. It does not show up
       in the "target" unit.
</pre> <h2>
[INSTALL] SECTION OPTIONS </h2>
<pre>
       Unit files may include an [Install] section, which carries
       installation information for the unit. This section is not
       interpreted by <a href="../man1/systemd.1.html">systemd(1)</a> during runtime; it is used by the
       <b>enable </b>and <b>disable </b>commands of the <a href="../man1/systemctl.1.html">systemctl(1)</a> tool during
       installation of a unit.

       <i>Alias=</i>
           A space-separated list of additional names this unit shall be
           installed under. The names listed here must have the same
           suffix (i.e. type) as the unit filename. This option may be
           specified more than once, in which case all listed names are
           used. At installation time, <b>systemctl enable </b>will create
           symlinks from these names to the unit filename. Note that not
           all unit types support such alias names, and this setting is
           not supported for them. Specifically, mount, slice, swap, and
           automount units do not support aliasing.

           Added in version 201.

       <i>WantedBy=</i>, <i>RequiredBy=</i>, <i>UpheldBy=</i>
           This option may be used more than once, or a space-separated
           list of unit names may be given. A symbolic link is created
           in the .wants/, .requires/, or .upholds/ directory of each of
           the listed units when this unit is installed by <b>systemctl</b>
           <b>enable</b>. This has the effect of a dependency of type <i>Wants=</i>,
           <i>Requires=</i>, or <i>Upholds=</i> being added from the listed unit to
           the current unit. See the description of the mentioned
           dependency types in the [Unit] section for details.

           In case of template units listing non template units, the
           listing unit must have <i>DefaultInstance=</i> set, or <b>systemctl</b>
           <b>enable </b>must be called with an instance name. The instance
           (default or specified) will be added to the .wants/,
           .requires/, or .upholds/ list of the listed unit. For
           example, <b>WantedBy=getty.target </b>in a service getty@.service
           will result in <b>systemctl enable getty@tty2.service </b>creating a
           getty.target.wants/getty@tty2.service link to getty@.service.
           This also applies to listing specific instances of templated
           units: this specific instance will gain the dependency. A
           template unit may also list a template unit, in which case a
           generic dependency will be added where each instance of the
           listing unit will have a dependency on an instance of the
           listed template with the same instance value. For example,
           <b>WantedBy=container@.target </b>in a service monitor@.service will
           result in <b>systemctl enable monitor@.service </b>creating a
           container@.target.wants/monitor@.service link to
           monitor@.service, which applies to all instances of
           container@.target.

           Added in version 201.

       <i>Also=</i>
           Additional units to install/deinstall when this unit is
           installed/deinstalled. If the user requests
           installation/deinstallation of a unit with this option
           configured, <b>systemctl enable </b>and <b>systemctl disable </b>will
           automatically install/uninstall units listed in this option
           as well.

           This option may be used more than once, or a space-separated
           list of unit names may be given.

           Added in version 201.

       <i>DefaultInstance=</i>
           In template unit files, this specifies for which instance the
           unit shall be enabled if the template is enabled without any
           explicitly set instance. This option has no effect in
           non-template unit files. The specified string must be usable
           as instance identifier.

           Added in version 215.

       The following specifiers are interpreted in the Install section:
       %a, %b, %B, %g, %G, %H, %i, %j, %l, %m, %n, %N, %o, %p, %u, %U,
       %v, %w, %W, %%. For their meaning see the next section.
</pre> <h2>
SPECIFIERS </h2>
<pre>
       Many settings resolve specifiers which may be used to write
       generic unit files referring to runtime or unit parameters that
       are replaced when the unit files are loaded. Specifiers must be
       known and resolvable for the setting to be valid. The following
       specifiers are understood:

       <b>Table 5. Specifiers available in unit files</b>
       ┌───────────┬────────────────────┬──────────────────────────┐
       │ <b>Specifier </b>│ <b>Meaning            </b>│ <b>Details                  </b>│
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%a"      │ Architecture       │ A short string           │
       │           │                    │ identifying the          │
       │           │                    │ architecture of          │
       │           │                    │ the local system.        │
       │           │                    │ A string such as         │
       │           │                    │ <b>x86</b>, <b>x86-64 </b>or           │
       │           │                    │ <b>arm64</b>. See the           │
       │           │                    │ architectures            │
       │           │                    │ defined for              │
       │           │                    │ <i>ConditionArchitecture=</i>   │
       │           │                    │ above for a full         │
       │           │                    │ list.                    │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%A"      │ Operating system   │ The operating system     │
       │           │ image version      │ image version            │
       │           │                    │ identifier of the        │
       │           │                    │ running system, as       │
       │           │                    │ read from the            │
       │           │                    │ <i>IMAGE_VERSION=</i> field     │
       │           │                    │ of /etc/os-release. If   │
       │           │                    │ not set, resolves to     │
       │           │                    │ an empty string. See     │
       │           │                    │ <a href="os-release.5.html">os-release(5)</a> for more   │
       │           │                    │ information.             │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%b"      │ Boot ID            │ The boot ID of the       │
       │           │                    │ running system,          │
       │           │                    │ formatted as string.     │
       │           │                    │ See <a href="../man4/random.4.html">random(4)</a> for more   │
       │           │                    │ information.             │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%B"      │ Operating system   │ The operating system     │
       │           │ build ID           │ build identifier of      │
       │           │                    │ the running system, as   │
       │           │                    │ read from the            │
       │           │                    │ <i>BUILD_ID=</i> field of       │
       │           │                    │ /etc/os-release. If      │
       │           │                    │ not set, resolves to     │
       │           │                    │ an empty string. See     │
       │           │                    │ <a href="os-release.5.html">os-release(5)</a> for more   │
       │           │                    │ information.             │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%C"      │ Cache directory    │ This is either           │
       │           │ root               │ /var/cache (for the      │
       │           │                    │ system manager) or the   │
       │           │                    │ path "$XDG_CACHE_HOME"   │
       │           │                    │ resolves to (for user    │
       │           │                    │ managers).               │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%d"      │ Credentials        │ This is the value of     │
       │           │ directory          │ the                      │
       │           │                    │ "$CREDENTIALS_DIRECTORY" │
       │           │                    │ environment variable     │
       │           │                    │ if available. See        │
       │           │                    │ section "Credentials"    │
       │           │                    │ in <a href="systemd.exec.5.html">systemd.exec(5)</a> for   │
       │           │                    │ more information.        │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%D"      │ Shared data        │ This is either           │
       │           │ directory          │ /usr/share/ (for the     │
       │           │                    │ system manager) or the   │
       │           │                    │ path "$XDG_DATA_HOME"    │
       │           │                    │ resolves to (for user    │
       │           │                    │ managers).               │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%E"      │ Configuration      │ This is either /etc/     │
       │           │ directory root     │ (for the system manager) │
       │           │                    │ or the path              │
       │           │                    │ "$XDG_CONFIG_HOME"       │
       │           │                    │ resolves to (for user    │
       │           │                    │ managers).               │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%f"      │ Unescaped filename │ This is either the       │
       │           │                    │ unescaped instance name  │
       │           │                    │ (if applicable) with /   │
       │           │                    │ prepended (if            │
       │           │                    │ applicable), or the      │
       │           │                    │ unescaped prefix name    │
       │           │                    │ prepended with /. This   │
       │           │                    │ implements unescaping    │
       │           │                    │ according to the rules   │
       │           │                    │ for escaping absolute    │
       │           │                    │ file system paths        │
       │           │                    │ discussed above.         │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%g"      │ User group         │ This is the name of the  │
       │           │                    │ group running the        │
       │           │                    │ service manager          │
       │           │                    │ instance. In case of the │
       │           │                    │ system manager this      │
       │           │                    │ resolves to "root".      │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%G"      │ User GID           │ This is the numeric GID  │
       │           │                    │ of the user running the  │
       │           │                    │ service manager          │
       │           │                    │ instance. In case of the │
       │           │                    │ system manager this      │
       │           │                    │ resolves to "0".         │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%h"      │ User home          │ This is the home         │
       │           │ directory          │ directory of the <i>user</i>    │
       │           │                    │ <i>running the service</i>      │
       │           │                    │ <i>manager instance</i>. In     │
       │           │                    │ case of the system       │
       │           │                    │ manager this resolves to │
       │           │                    │ "/root".                 │
       │           │                    │                          │
       │           │                    │ Note that this setting   │
       │           │                    │ is <i>not</i> influenced by the │
       │           │                    │ <i>User=</i> setting            │
       │           │                    │ configurable in the      │
       │           │                    │ [Service] section of the │
       │           │                    │ service unit.            │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%H"      │ Host name          │ The hostname of the      │
       │           │                    │ running system at the    │
       │           │                    │ point in time the unit   │
       │           │                    │ configuration is loaded. │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%i"      │ Instance name      │ For instantiated units   │
       │           │                    │ this is the string       │
       │           │                    │ between the first "@"    │
       │           │                    │ character and the type   │
       │           │                    │ suffix. Empty for        │
       │           │                    │ non-instantiated units.  │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%I"      │ Unescaped instance │ Same as "%i", but with   │
       │           │ name               │ escaping undone.         │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%j"      │ Final component of │ This is the string       │
       │           │ the prefix         │ between the last "-" and │
       │           │                    │ the end of the prefix    │
       │           │                    │ name. If there is no     │
       │           │                    │ "-", this is the same as │
       │           │                    │ "%p".                    │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%J"      │ Unescaped final    │ Same as "%j", but with   │
       │           │ component of the   │ escaping undone.         │
       │           │ prefix             │                          │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%l"      │ Short host name    │ The hostname of the      │
       │           │                    │ running system at the    │
       │           │                    │ point in time the unit   │
       │           │                    │ configuration is loaded, │
       │           │                    │ truncated at the first   │
       │           │                    │ dot to remove any domain │
       │           │                    │ component.               │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%L"      │ Log directory root │ This is either /var/log  │
       │           │                    │ (for the system manager) │
       │           │                    │ or the path              │
       │           │                    │ <i>$XDG_STATE_HOME</i> resolves │
       │           │                    │ to with /log appended    │
       │           │                    │ (for user managers).     │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%m"      │ Machine ID         │ The machine ID of the    │
       │           │                    │ running system,          │
       │           │                    │ formatted as string. See │
       │           │                    │ <a href="machine-id.5.html">machine-id(5)</a> for more   │
       │           │                    │ information.             │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%M"      │ Operating system   │ The operating system     │
       │           │ image identifier   │ image identifier of the  │
       │           │                    │ running system, as read  │
       │           │                    │ from the <i>IMAGE_ID=</i> field │
       │           │                    │ of /etc/os-release. If   │
       │           │                    │ not set, resolves to an  │
       │           │                    │ empty string. See        │
       │           │                    │ <a href="os-release.5.html">os-release(5)</a> for more   │
       │           │                    │ information.             │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%n"      │ Full unit name     │                          │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%N"      │ Full unit name     │ Same as "%n", but with   │
       │           │                    │ the type suffix removed. │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%o"      │ Operating system   │ The operating system     │
       │           │ ID                 │ identifier of the        │
       │           │                    │ running system, as read  │
       │           │                    │ from the <i>ID=</i> field of    │
       │           │                    │ /etc/os-release. See     │
       │           │                    │ <a href="os-release.5.html">os-release(5)</a> for more   │
       │           │                    │ information.             │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%p"      │ Prefix name        │ For instantiated units,  │
       │           │                    │ this refers to the       │
       │           │                    │ string before the first  │
       │           │                    │ "@" character of the     │
       │           │                    │ unit name. For           │
       │           │                    │ non-instantiated units,  │
       │           │                    │ same as "%N".            │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%P"      │ Unescaped prefix   │ Same as "%p", but with   │
       │           │ name               │ escaping undone.         │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%q"      │ Pretty host name   │ The pretty hostname of   │
       │           │                    │ the running system at    │
       │           │                    │ the point in time the    │
       │           │                    │ unit configuration is    │
       │           │                    │ loaded, as read from the │
       │           │                    │ <i>PRETTY_HOSTNAME=</i> field   │
       │           │                    │ of /etc/machine-info. If │
       │           │                    │ not set, resolves to the │
       │           │                    │ short hostname. See      │
       │           │                    │ <a href="machine-info.5.html">machine-info(5)</a> for more │
       │           │                    │ information.             │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%s"      │ User shell         │ This is the shell of the │
       │           │                    │ user running the service │
       │           │                    │ manager instance.        │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%S"      │ State directory    │ This is either /var/lib  │
       │           │ root               │ (for the system manager) │
       │           │                    │ or the path              │
       │           │                    │ <i>$XDG_STATE_HOME</i> resolves │
       │           │                    │ to (for user managers).  │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%t"      │ Runtime directory  │ This is either /run/     │
       │           │ root               │ (for the system manager) │
       │           │                    │ or the path              │
       │           │                    │ "$XDG_RUNTIME_DIR"       │
       │           │                    │ resolves to (for user    │
       │           │                    │ managers).               │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%T"      │ Directory for      │ This is either /tmp or   │
       │           │ temporary files    │ the path "$TMPDIR",      │
       │           │                    │ "$TEMP" or "$TMP" are    │
       │           │                    │ set to. (Note that the   │
       │           │                    │ directory may be         │
       │           │                    │ specified without a      │
       │           │                    │ trailing slash.)         │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%u"      │ User name          │ This is the name of the  │
       │           │                    │ <i>user running the service</i> │
       │           │                    │ <i>manager instance</i>. In     │
       │           │                    │ case of the system       │
       │           │                    │ manager this resolves to │
       │           │                    │ "root".                  │
       │           │                    │                          │
       │           │                    │ Note that this setting   │
       │           │                    │ is <i>not</i> influenced by the │
       │           │                    │ <i>User=</i> setting            │
       │           │                    │ configurable in the      │
       │           │                    │ [Service] section of the │
       │           │                    │ service unit.            │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%U"      │ User UID           │ This is the numeric UID  │
       │           │                    │ of the <i>user running the</i>  │
       │           │                    │ <i>service manager</i>          │
       │           │                    │ <i>instance</i>. In case of the │
       │           │                    │ system manager this      │
       │           │                    │ resolves to "0".         │
       │           │                    │                          │
       │           │                    │ Note that this setting   │
       │           │                    │ is <i>not</i> influenced by the │
       │           │                    │ <i>User=</i> setting            │
       │           │                    │ configurable in the      │
       │           │                    │ [Service] section of the │
       │           │                    │ service unit.            │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%v"      │ Kernel release     │ Identical to <b>uname -r    </b>│
       │           │                    │ output.                  │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%V"      │ Directory for      │ This is either /var/tmp  │
       │           │ larger and         │ or the path "$TMPDIR",   │
       │           │ persistent         │ "$TEMP" or "$TMP" are    │
       │           │ temporary files    │ set to. (Note that the   │
       │           │                    │ directory may be         │
       │           │                    │ specified without a      │
       │           │                    │ trailing slash.)         │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%w"      │ Operating system   │ The operating system     │
       │           │ version ID         │ version identifier of    │
       │           │                    │ the running system, as   │
       │           │                    │ read from the            │
       │           │                    │ <i>VERSION_ID=</i> field of     │
       │           │                    │ /etc/os-release. If not  │
       │           │                    │ set, resolves to an      │
       │           │                    │ empty string. See        │
       │           │                    │ <a href="os-release.5.html">os-release(5)</a> for more   │
       │           │                    │ information.             │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%W"      │ Operating system   │ The operating system     │
       │           │ variant ID         │ variant identifier of    │
       │           │                    │ the running system, as   │
       │           │                    │ read from the            │
       │           │                    │ <i>VARIANT_ID=</i> field of     │
       │           │                    │ /etc/os-release. If not  │
       │           │                    │ set, resolves to an      │
       │           │                    │ empty string. See        │
       │           │                    │ <a href="os-release.5.html">os-release(5)</a> for more   │
       │           │                    │ information.             │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%y"      │ The path to the    │ This is the path where   │
       │           │ fragment           │ the main part of the     │
       │           │                    │ unit file is located.    │
       │           │                    │ For linked unit files,   │
       │           │                    │ the real path outside of │
       │           │                    │ the unit search          │
       │           │                    │ directories is used. For │
       │           │                    │ units that don't have a  │
       │           │                    │ fragment file, this      │
       │           │                    │ specifier will raise an  │
       │           │                    │ error.                   │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%Y"      │ The directory of   │ This is the directory    │
       │           │ the fragment       │ part of "%y".            │
       ├───────────┼────────────────────┼──────────────────────────┤
       │ "%%"      │ Single percent     │ Use "%%" in place of "%" │
       │           │ sign               │ to specify a single      │
       │           │                    │ percent sign.            │
       └───────────┴────────────────────┴──────────────────────────┘
</pre> <h2>
EXAMPLES </h2>
<pre>
       <b>Example 1. Allowing units to be enabled</b>

       The following snippet (highlighted) allows a unit (e.g.
       foo.service) to be enabled via <b>systemctl enable</b>:

           [Unit]
           Description=Foo

           [Service]
           ExecStart=/usr/sbin/foo-daemon

           <i>[Install]</i>
           <i>WantedBy=multi-user.target</i>

       After running <b>systemctl enable</b>, a symlink
       /etc/systemd/system/multi-user.target.wants/foo.service linking
       to the actual unit will be created. It tells systemd to pull in
       the unit when starting multi-user.target. The inverse <b>systemctl</b>
       <b>disable </b>will remove that symlink again.

       <b>Example 2. Overriding vendor settings</b>

       There are two methods of overriding vendor settings in unit
       files: copying the unit file from /usr/lib/systemd/system to
       /etc/systemd/system and modifying the chosen settings.
       Alternatively, one can create a directory named <i>unit</i>.d/ within
       /etc/systemd/system and place a drop-in file <i>name</i>.conf there that
       only changes the specific settings one is interested in. Note
       that multiple such drop-in files are read if present, processed
       in lexicographic order of their filename.

       The advantage of the first method is that one easily overrides
       the complete unit, the vendor unit is not parsed at all anymore.
       It has the disadvantage that improvements to the unit file by the
       vendor are not automatically incorporated on updates.

       The advantage of the second method is that one only overrides the
       settings one specifically wants, where updates to the unit by the
       vendor automatically apply. This has the disadvantage that some
       future updates by the vendor might be incompatible with the local
       changes.

       This also applies for user instances of systemd, but with
       different locations for the unit files. See the section on unit
       load paths for further details.

       Suppose there is a vendor-supplied unit
       /usr/lib/systemd/system/httpd.service with the following
       contents:

           [Unit]
           Description=Some HTTP server
           After=remote-fs.target sqldb.service
           Requires=sqldb.service
           AssertPathExists=/srv/webserver

           [Service]
           Type=notify
           ExecStart=/usr/sbin/some-fancy-httpd-server
           Nice=5

           [Install]
           WantedBy=multi-user.target

       Now one wants to change some settings as an administrator:
       firstly, in the local setup, /srv/webserver might not exist,
       because the HTTP server is configured to use /srv/www instead.
       Secondly, the local configuration makes the HTTP server also
       depend on a memory cache service, memcached.service, that should
       be pulled in (<i>Requires=</i>) and also be ordered appropriately
       (<i>After=</i>). Thirdly, in order to harden the service a bit more, the
       administrator would like to set the <i>PrivateTmp=</i> setting (see
       <a href="systemd.exec.5.html">systemd.exec(5)</a> for details). And lastly, the administrator would
       like to reset the niceness of the service to its default value of
       0.

       The first possibility is to copy the unit file to
       /etc/systemd/system/httpd.service and change the chosen settings:

           [Unit]
           Description=Some HTTP server
           After=remote-fs.target sqldb.service <i>memcached.service</i>
           Requires=sqldb.service <i>memcached.service</i>
           AssertPathExists=<i>/srv/www</i>

           [Service]
           Type=notify
           ExecStart=/usr/sbin/some-fancy-httpd-server
           <i>Nice=0</i>
           <i>PrivateTmp=yes</i>

           [Install]
           WantedBy=multi-user.target

       Alternatively, the administrator could create a drop-in file
       /etc/systemd/system/httpd.service.d/local.conf with the following
       contents:

           [Unit]
           After=memcached.service
           Requires=memcached.service
           # Reset all assertions and then re-add the condition we want
           AssertPathExists=
           AssertPathExists=/srv/www

           [Service]
           Nice=0
           PrivateTmp=yes

       Note that for drop-in files, if one wants to remove entries from
       a setting that is parsed as a list (and is not a dependency),
       such as <i>AssertPathExists=</i> (or e.g.  <i>ExecStart=</i> in service units),
       one needs to first clear the list before re-adding all entries
       except the one that is to be removed. Dependencies (<i>After=</i>, etc.)
       cannot be reset to an empty list, so dependencies can only be
       added in drop-ins. If you want to remove dependencies, you have
       to override the entire unit.

       <b>Example 3. Top level drop-ins with template units</b>

       Top level per-type drop-ins can be used to change some aspect of
       all units of a particular type. For example, by creating the
       /etc/systemd/system/service.d/ directory with a drop-in file, the
       contents of the drop-in file can be applied to all service units.
       We can take this further by having the top-level drop-in
       instantiate a secondary helper unit. Consider for example the
       following set of units and drop-in files where we install an
       <i>OnFailure=</i> dependency for all service units.

       /etc/systemd/system/failure-handler@.service:

           [Unit]
           Description=My failure handler for %i

           [Service]
           Type=oneshot
           # Perform some special action for when %i exits unexpectedly.
           ExecStart=/usr/sbin/myfailurehandler %i

       We can then add an instance of failure-handler@.service as an
       <i>OnFailure=</i> dependency for all service units.

       /etc/systemd/system/service.d/10-all.conf:

           [Unit]
           OnFailure=failure-handler@%N.service

       Now, after running <b>systemctl daemon-reload </b>all services will have
       acquired an <i>OnFailure=</i> dependency on failure-handler@%N.service.
       The template instance units will also have gained the dependency
       which results in the creation of a recursive dependency chain.
       systemd will try to detect these recursive dependency chains
       where a template unit directly and recursively depends on itself
       and will remove such dependencies automatically if it finds them.
       If systemd doesn't detect the recursive dependency chain, we can
       break the chain ourselves by disabling the drop-in for the
       template instance units via a symlink to /dev/null:

           <b>mkdir /etc/systemd/system/failure-handler@.service.d/</b>
           <b>ln -s /dev/null /etc/systemd/system/failure-handler@.service.d/10-all.conf</b>
           <b>systemctl daemon-reload</b>

       This ensures that if a failure-handler@.service instance fails it
       will not trigger an instance named
       failure-handler@failure-handler.service.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man1/systemd.1.html">systemd(1)</a>, <a href="../man1/systemctl.1.html">systemctl(1)</a>, <a href="systemd-system.conf.5.html">systemd-system.conf(5)</a>,
       <a href="../man7/systemd.special.7.html">systemd.special(7)</a>, <a href="systemd.service.5.html">systemd.service(5)</a>, <a href="systemd.socket.5.html">systemd.socket(5)</a>,
       <a href="systemd.device.5.html">systemd.device(5)</a>, <a href="systemd.mount.5.html">systemd.mount(5)</a>, <a href="systemd.automount.5.html">systemd.automount(5)</a>,
       <a href="systemd.swap.5.html">systemd.swap(5)</a>, <a href="systemd.target.5.html">systemd.target(5)</a>, <a href="systemd.path.5.html">systemd.path(5)</a>,
       <a href="systemd.timer.5.html">systemd.timer(5)</a>, <a href="systemd.scope.5.html">systemd.scope(5)</a>, <a href="systemd.slice.5.html">systemd.slice(5)</a>,
       <a href="../man7/systemd.time.7.html">systemd.time(7)</a>, <a href="../man1/systemd-analyze.1.html">systemd-analyze(1)</a>, <a href="../man7/capabilities.7.html">capabilities(7)</a>,
       <a href="../man7/systemd.directives.7.html">systemd.directives(7)</a>, <a href="../man1/uname.1.html">uname(1)</a>
</pre> <h2>
NOTES </h2>
<pre>
        1. Interface Portability and Stability Promise
           <a href="https://systemd.io/PORTABILITY_AND_STABILITY/">https://systemd.io/PORTABILITY_AND_STABILITY/</a>

        2. 💣💥🧨💥💥💣 Please note that those configuration files must
           be available at all times. If /usr/local/ is a separate
           partition, it may not be available during early boot, and
           must not be used for configuration.

        3. systemd and Storage Daemons for the Root File System
           <a href="https://systemd.io/ROOT_STORAGE_DAEMONS">https://systemd.io/ROOT_STORAGE_DAEMONS</a>

        4. System and Service Credentials
           <a href="https://systemd.io/CREDENTIALS">https://systemd.io/CREDENTIALS</a>

        5. PSI (Pressure Stall Information)
           <a href="https://docs.kernel.org/accounting/psi.html">https://docs.kernel.org/accounting/psi.html</a>
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>systemd</i> (systemd system and service
       manager) project.  Information about the project can be found at
       ⟨<a href="http://www.freedesktop.org/wiki/Software/systemd">http://www.freedesktop.org/wiki/Software/systemd</a>⟩.  If you have
       a bug report for this manual page, see
       ⟨<a href="http://www.freedesktop.org/wiki/Software/systemd/#bugreports">http://www.freedesktop.org/wiki/Software/systemd/#bugreports</a>⟩.
       This page was obtained from the project's upstream Git repository
       ⟨<a href="https://github.com/systemd/systemd.git">https://github.com/systemd/systemd.git</a>⟩ on 2024-06-14.  (At that
       time, the date of the most recent commit that was found in the
       repository was 2024-06-13.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">systemd 257~devel                                        <i>SYSTEMD.UNIT</i>(5)</span>
</pre>  <p>Pages that refer to this page: <a href="../man1/portablectl.1.html">portablectl(1)</a>, <a href="../man1/run0.1.html">run0(1)</a>, <a href="../man1/systemctl.1.html">systemctl(1)</a>, <a href="../man1/systemd.1.html">systemd(1)</a>, <a href="../man1/systemd-ac-power.1.html">systemd-ac-power(1)</a>, <a href="../man1/systemd-analyze.1.html">systemd-analyze(1)</a>, <a href="../man1/systemd-delta.1.html">systemd-delta(1)</a>, <a href="../man1/systemd-escape.1.html">systemd-escape(1)</a>, <a href="../man1/systemd-firstboot.1.html">systemd-firstboot(1)</a>, <a href="../man1/systemd-mount.1.html">systemd-mount(1)</a>, <a href="../man1/systemd-notify.1.html">systemd-notify(1)</a>, <a href="../man1/systemd-run.1.html">systemd-run(1)</a>, <a href="../man3/sd_bus_creds_get_pid.3.html">sd_bus_creds_get_pid(3)</a>, <a href="os-release.5.html">os-release(5)</a>, <a href="repart.d.5.html">repart.d(5)</a>, <a href="systemd.automount.5.html">systemd.automount(5)</a>, <a href="systemd.device.5.html">systemd.device(5)</a>, <a href="systemd.dnssd.5.html">systemd.dnssd(5)</a>, <a href="systemd.exec.5.html">systemd.exec(5)</a>, <a href="systemd.kill.5.html">systemd.kill(5)</a>, <a href="systemd.link.5.html">systemd.link(5)</a>, <a href="systemd.mount.5.html">systemd.mount(5)</a>, <a href="systemd.netdev.5.html">systemd.netdev(5)</a>, <a href="systemd.network.5.html">systemd.network(5)</a>, <a href="systemd.path.5.html">systemd.path(5)</a>, <a href="systemd.preset.5.html">systemd.preset(5)</a>, <a href="systemd.resource-control.5.html">systemd.resource-control(5)</a>, <a href="systemd.scope.5.html">systemd.scope(5)</a>, <a href="systemd.service.5.html">systemd.service(5)</a>, <a href="systemd.slice.5.html">systemd.slice(5)</a>, <a href="systemd.socket.5.html">systemd.socket(5)</a>, <a href="systemd.swap.5.html">systemd.swap(5)</a>, <a href="systemd-system.conf.5.html">systemd-system.conf(5)</a>, <a href="systemd.target.5.html">systemd.target(5)</a>, <a href="systemd.timer.5.html">systemd.timer(5)</a>, <a href="sysupdate.d.5.html">sysupdate.d(5)</a>, <a href="sysusers.d.5.html">sysusers.d(5)</a>, <a href="tmpfiles.d.5.html">tmpfiles.d(5)</a>, <a href="user@.service.5.html">user@.service(5)</a>, <a href="../man7/daemon.7.html">daemon(7)</a>, <a href="../man7/file-hierarchy.7.html">file-hierarchy(7)</a>, <a href="../man7/kernel-command-line.7.html">kernel-command-line(7)</a>, <a href="../man7/nfs.systemd.7.html">nfs.systemd(7)</a>, <a href="../man7/systemd.directives.7.html">systemd.directives(7)</a>, <a href="../man7/systemd.generator.7.html">systemd.generator(7)</a>, <a href="../man7/systemd.index.7.html">systemd.index(7)</a>, <a href="../man7/systemd.special.7.html">systemd.special(7)</a>, <a href="../man7/systemd.syntax.7.html">systemd.syntax(7)</a>, <a href="../man7/systemd.time.7.html">systemd.time(7)</a>, <a href="../man7/systemd.v.7.html">systemd.v(7)</a>, <a href="../man7/udev.7.html">udev(7)</a>, <a href="../man8/kernel-install.8.html">kernel-install(8)</a>, <a href="../man8/systemd-run-generator.8.html">systemd-run-generator(8)</a>, <a href="../man8/systemd-sysext.8.html">systemd-sysext(8)</a>, <a href="../man8/systemd-update-done.service.8.html">systemd-update-done.service(8)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man5/systemd.unit.5.html" class="_attribution-link">https://man7.org/linux/man-pages/man5/systemd.unit.5.html</a>
  </p>
</div>
