<h1>proc_pid_clear_refs(5) — Linux manual page</h1>   <pre>
<span class="headline"><i>proc_pid_clear_refs</i>(5)     File Formats Manual    <i>proc_pid_clear_refs</i>(5)</span>
</pre> <h2>
NAME </h2>
<pre>
       /proc/pid/clear_refs - reset the PG_Referenced and ACCESSED/YOUNG
       bits
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <i>/proc/</i>pid<i>/clear_refs</i> (since Linux 2.6.22)

              This is a write-only file, writable only by owner of the
              process.

              The following values may be written to the file:

              1 (since Linux 2.6.22)
                     Reset the PG_Referenced and ACCESSED/YOUNG bits for
                     all the pages associated with the process.  (Before
                     Linux 2.6.32, writing any nonzero value to this
                     file had this effect.)

              2 (since Linux 2.6.32)
                     Reset the PG_Referenced and ACCESSED/YOUNG bits for
                     all anonymous pages associated with the process.

              3 (since Linux 2.6.32)
                     Reset the PG_Referenced and ACCESSED/YOUNG bits for
                     all file-mapped pages associated with the process.

              Clearing the PG_Referenced and ACCESSED/YOUNG bits
              provides a method to measure approximately how much memory
              a process is using.  One first inspects the values in the
              "Referenced" fields for the VMAs shown in <i>/proc/</i>pid<i>/smaps</i>
              to get an idea of the memory footprint of the process.
              One then clears the PG_Referenced and ACCESSED/YOUNG bits
              and, after some measured time interval, once again
              inspects the values in the "Referenced" fields to get an
              idea of the change in memory footprint of the process
              during the measured interval.  If one is interested only
              in inspecting the selected mapping types, then the value 2
              or 3 can be used instead of 1.

              Further values can be written to affect different
              properties:

              4 (since Linux 3.11)
                     Clear the soft-dirty bit for all the pages
                     associated with the process.  This is used (in
                     conjunction with <i>/proc/</i>pid<i>/pagemap</i>) by the check-
                     point restore system to discover which pages of a
                     process have been dirtied since the file
                     <i>/proc/</i>pid<i>/clear_refs</i> was written to.

              5 (since Linux 4.0)
                     Reset the peak resident set size ("high water
                     mark") to the process's current resident set size
                     value.

              Writing any value to <i>/proc/</i>pid<i>/clear_refs</i> other than those
              listed above has no effect.

              The <i>/proc/</i>pid<i>/clear_refs</i> file is present only if the
              <b>CONFIG_PROC_PAGE_MONITOR </b>kernel configuration option is
              enabled.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="proc.5.html">proc(5)</a>
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>man-pages</i> (Linux kernel and C library
       user-space interface documentation) project.  Information about
       the project can be found at 
       ⟨<a href="https://www.kernel.org/doc/man-pages/">https://www.kernel.org/doc/man-pages/</a>⟩.  If you have a bug report
       for this manual page, see
       ⟨<a href="https://git.kernel.org/pub/scm/docs/man-pages/man-pages.git/tree/CONTRIBUTING">https://git.kernel.org/pub/scm/docs/man-pages/man-pages.git/tree/CONTRIBUTING</a>⟩.
       This page was obtained from the tarball man-pages-6.9.1.tar.gz
       fetched from
       ⟨<a href="https://mirrors.edge.kernel.org/pub/linux/docs/man-pages/">https://mirrors.edge.kernel.org/pub/linux/docs/man-pages/</a>⟩ on
       2024-06-26.  If you discover any rendering problems in this HTML
       version of the page, or you believe there is a better or more up-
       to-date source for the page, or you have corrections or
       improvements to the information in this COLOPHON (which is <i>not</i>
       part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Linux man-pages 6.9.1          2024-05-02         <i>proc_pid_clear_refs</i>(5)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man5/proc_pid_clear_refs.5.html" class="_attribution-link">https://man7.org/linux/man-pages/man5/proc_pid_clear_refs.5.html</a>
  </p>
</div>
