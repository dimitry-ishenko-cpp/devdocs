<h1>getdomainname(2) — Linux manual page</h1>   <pre>
<span class="headline"><i>getdomainname</i>(2)           System Calls Manual          <i>getdomainname</i>(2)</span>
</pre> <h2>
NAME </h2>
<pre>
       getdomainname, setdomainname - get/set NIS domain name
</pre> <h2>
LIBRARY </h2>
<pre>
       Standard C library (<i>libc</i>, <i>-lc</i>)
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>#include &lt;unistd.h&gt;</b>

       <b>int getdomainname(char *</b><i>name</i><b>, size_t </b><i>len</i><b>);</b>
       <b>int setdomainname(const char *</b><i>name</i><b>, size_t </b><i>len</i><b>);</b>

   Feature Test Macro Requirements for glibc (see
   <a href="../man7/feature_test_macros.7.html">feature_test_macros(7)</a>):

       <b>getdomainname</b>(), <b>setdomainname</b>():
           Since glibc 2.21:
               _DEFAULT_SOURCE
           In glibc 2.19 and 2.20:
               _DEFAULT_SOURCE || (_XOPEN_SOURCE &amp;&amp; _XOPEN_SOURCE &lt; 500)
           Up to and including glibc 2.19:
               _BSD_SOURCE || (_XOPEN_SOURCE &amp;&amp; _XOPEN_SOURCE &lt; 500)
</pre> <h2>
DESCRIPTION </h2>
<pre>
       These functions are used to access or to change the NIS domain
       name of the host system.  More precisely, they operate on the NIS
       domain name associated with the calling process's UTS namespace.

       <b>setdomainname</b>() sets the domain name to the value given in the
       character array <i>name</i>.  The <i>len</i> argument specifies the number of
       bytes in <i>name</i>.  (Thus, <i>name</i> does not require a terminating null
       byte.)

       <b>getdomainname</b>() returns the null-terminated domain name in the
       character array <i>name</i>, which has a length of <i>len</i> bytes.  If the
       null-terminated domain name requires more than <i>len</i> bytes,
       <b>getdomainname</b>() returns the first <i>len</i> bytes (glibc) or gives an
       error (libc).
</pre> <h2>
RETURN VALUE </h2>
<pre>
       On success, zero is returned.  On error, -1 is returned, and
       <i><a href="../man3/errno.3.html">errno</a></i> is set to indicate the error.
</pre> <h2>
ERRORS </h2>
<pre>
       <b>setdomainname</b>() can fail with the following errors:

       <b>EFAULT </b><i>name</i> pointed outside of user address space.

       <b>EINVAL </b><i>len</i> was negative or too large.

       <b>EPERM  </b>The caller did not have the <b>CAP_SYS_ADMIN </b>capability in
              the user namespace associated with its UTS namespace (see
              <a href="../man7/namespaces.7.html">namespaces(7)</a>).

       <b>getdomainname</b>() can fail with the following errors:

       <b>EINVAL </b>For <b>getdomainname</b>() under libc: <i>name</i> is NULL or <i>name</i> is
              longer than <i>len</i> bytes.
</pre> <h2>
VERSIONS </h2>
<pre>
       On most Linux architectures (including x86), there is no
       <b>getdomainname</b>() system call; instead, glibc implements
       <b>getdomainname</b>() as a library function that returns a copy of the
       <i>domainname</i> field returned from a call to <a href="uname.2.html">uname(2)</a>.
</pre> <h2>
STANDARDS </h2>
<pre>
       None.
</pre> <h2>
HISTORY </h2>
<pre>
       Since Linux 1.0, the limit on the length of a domain name,
       including the terminating null byte, is 64 bytes.  In older
       kernels, it was 8 bytes.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="gethostname.2.html">gethostname(2)</a>, <a href="sethostname.2.html">sethostname(2)</a>, <a href="uname.2.html">uname(2)</a>, <a href="../man7/uts_namespaces.7.html">uts_namespaces(7)</a>
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>man-pages</i> (Linux kernel and C library
       user-space interface documentation) project.  Information about
       the project can be found at 
       ⟨<a href="https://www.kernel.org/doc/man-pages/">https://www.kernel.org/doc/man-pages/</a>⟩.  If you have a bug report
       for this manual page, see
       ⟨<a href="https://git.kernel.org/pub/scm/docs/man-pages/man-pages.git/tree/CONTRIBUTING">https://git.kernel.org/pub/scm/docs/man-pages/man-pages.git/tree/CONTRIBUTING</a>⟩.
       This page was obtained from the tarball man-pages-6.9.1.tar.gz
       fetched from
       ⟨<a href="https://mirrors.edge.kernel.org/pub/linux/docs/man-pages/">https://mirrors.edge.kernel.org/pub/linux/docs/man-pages/</a>⟩ on
       2024-06-26.  If you discover any rendering problems in this HTML
       version of the page, or you believe there is a better or more up-
       to-date source for the page, or you have corrections or
       improvements to the information in this COLOPHON (which is <i>not</i>
       part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Linux man-pages 6.9.1          2024-05-02               <i>getdomainname</i>(2)</span>
</pre>  <p>Pages that refer to this page: <a href="../man1/hostname.1.html">hostname(1)</a>, <a href="gethostname.2.html">gethostname(2)</a>, <a href="syscalls.2.html">syscalls(2)</a>, <a href="uname.2.html">uname(2)</a>, <a href="../man7/capabilities.7.html">capabilities(7)</a>, <a href="../man7/uts_namespaces.7.html">uts_namespaces(7)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man2/getdomainname.2.html" class="_attribution-link">https://man7.org/linux/man-pages/man2/getdomainname.2.html</a>
  </p>
</div>
