<h1>strace(1) — Linux manual page</h1>   <pre>
<span class="headline"><i>STRACE</i>(1)                General Commands Manual               <i>STRACE</i>(1)</span>
</pre> <h2>
NAME </h2>
<pre>
       strace - trace system calls and signals
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>strace </b>[<b>-ACdffhikkqqrtttTvVwxxyyYzZ</b>] [<b>-a </b><i>column</i>] [<b>-b </b><i>execve</i>]
              [<b>-e </b><i>expr</i>]... [<b>-I </b><i>n</i>] [<b>-o </b><i>file</i>] [<b>-O </b><i>overhead</i>] [<b>-p </b><i>pid</i>]...
              [<b>-P </b><i>path</i>]... [<b>-s </b><i>strsize</i>] [<b>-S </b><i>sortby</i>] [<b>-U </b><i>columns</i>]
              [<b>-X </b><i>format</i>] [<b>--seccomp-bpf</b>]
              [<b>--stack-trace-frame-limit</b>=<i>limit</i>] [<b>--syscall-limit=</b><i>limit</i>]
              [<b>--secontext</b>[=<i>format</i>]] [<b>--tips</b>[=<i>format</i>]] { <b>-p </b><i>pid</i> | [<b>-DDD</b>]
              [<b>-E </b><i>var</i>[=<i>val</i>]]... [<b>-u </b><i>username</i>] <i>command</i> [<i>args</i>] }

       <b>strace -c </b>[<b>-dfwzZ</b>] [<b>-b </b><i>execve</i>] [<b>-e </b><i>expr</i>]... [<b>-I </b><i>n</i>] [<b>-O </b><i>overhead</i>]
              [<b>-p </b><i>pid</i>]... [<b>-P </b><i>path</i>]... [<b>-S </b><i>sortby</i>] [<b>-U </b><i>columns</i>]
              [<b>--seccomp-bpf</b>] [<b>--syscall-limit=</b><i>limit</i>] [<b>--tips</b>[=<i>format</i>]]
              { <b>-p </b><i>pid</i> | [<b>-DDD</b>] [<b>-E </b><i>var</i>[=<i>val</i>]]... [<b>-u </b><i>username</i>] <i>command</i>
              [<i>args</i>] }

       <b>strace --tips</b>[=<i>format</i>]
</pre> <h2>
DESCRIPTION </h2>
<pre>
       In the simplest case <b>strace </b>runs the specified <i>command</i> until it
       exits.  It intercepts and records the system calls which are
       called by a process and the signals which are received by a
       process.  The name of each system call, its arguments and its
       return value are printed on standard error or to the file
       specified with the <b>-o </b>option.

       <b>strace </b>is a useful diagnostic, instructional, and debugging tool.
       System administrators, diagnosticians and trouble-shooters will
       find it invaluable for solving problems with programs for which
       the source is not readily available since they do not need to be
       recompiled in order to trace them.  Students, hackers and the
       overly-curious will find that a great deal can be learned about a
       system and its system calls by tracing even ordinary programs.
       And programmers will find that since system calls and signals are
       events that happen at the user/kernel interface, a close
       examination of this boundary is very useful for bug isolation,
       sanity checking and attempting to capture race conditions.

       Each line in the trace contains the system call name, followed by
       its arguments in parentheses and its return value.  An example
       from stracing the command "cat /dev/null" is:

           open("/dev/null", O_RDONLY) = 3

       Errors (typically a return value of -1) have the errno symbol and
       error string appended.

           open("/foo/bar", O_RDONLY) = -1 ENOENT (No such file or directory)

       Signals are printed as signal symbol and decoded siginfo
       structure.  An excerpt from stracing and interrupting the command
       "sleep 666" is:

           sigsuspend([] &lt;unfinished ...&gt;
           --- SIGINT {si_signo=SIGINT, si_code=SI_USER, si_pid=...} ---
           +++ killed by SIGINT +++

       If a system call is being executed and meanwhile another one is
       being called from a different thread/process then <b>strace </b>will try
       to preserve the order of those events and mark the ongoing call
       as being <i>unfinished</i>.  When the call returns it will be marked as
       <i>resumed</i>.

           [pid 28772] select(4, [3], NULL, NULL, NULL &lt;unfinished ...&gt;
           [pid 28779] clock_gettime(CLOCK_REALTIME, {tv_sec=1130322148, tv_nsec=3977000}) = 0
           [pid 28772] &lt;... select resumed&gt; )      = 1 (in [3])

       Interruption of a (restartable) system call by a signal delivery
       is processed differently as kernel terminates the system call and
       also arranges its immediate reexecution after the signal handler
       completes.

           read(0, 0x7ffff72cf5cf, 1)              = ? ERESTARTSYS (To be restarted)
           --- SIGALRM {si_signo=SIGALRM, si_code=SI_KERNEL} ---
           rt_sigreturn({mask=[]})                 = 0
           read(0, "", 1)                          = 0

       Arguments are printed in symbolic form with passion.  This
       example shows the shell performing "&gt;&gt;xyzzy" output redirection:

           open("xyzzy", O_WRONLY|O_APPEND|O_CREAT, 0666) = 3

       Here, the second and the third argument of <a href="../man2/open.2.html">open(2)</a> are decoded by
       breaking down the flag argument into its three bitwise-OR
       constituents and printing the mode value in octal by tradition.
       Where the traditional or native usage differs from ANSI or POSIX,
       the latter forms are preferred.  In some cases, <b>strace </b>output is
       proven to be more readable than the source.

       Structure pointers are dereferenced and the members are displayed
       as appropriate.  In most cases, arguments are formatted in the
       most C-like fashion possible.  For example, the essence of the
       command "ls -l /dev/null" is captured as:

           lstat("/dev/null", {st_mode=S_IFCHR|0666, st_rdev=makedev(0x1, 0x3), ...}) = 0

       Notice how the 'struct stat' argument is dereferenced and how
       each member is displayed symbolically.  In particular, observe
       how the <b>st_mode </b>member is carefully decoded into a bitwise-OR of
       symbolic and numeric values.  Also notice in this example that
       the first argument to <a href="../man2/lstat.2.html">lstat(2)</a> is an input to the system call and
       the second argument is an output.  Since output arguments are not
       modified if the system call fails, arguments may not always be
       dereferenced.  For example, retrying the "ls -l" example with a
       non-existent file produces the following line:

           lstat("/foo/bar", 0xb004) = -1 ENOENT (No such file or directory)

       In this case the porch light is on but nobody is home.

       Syscalls unknown to <b>strace </b>are printed raw, with the unknown
       system call number printed in hexadecimal form and prefixed with
       "syscall_":

           syscall_0xbad(0x1, 0x2, 0x3, 0x4, 0x5, 0x6) = -1 ENOSYS (Function not implemented)

       Character pointers are dereferenced and printed as C strings.
       Non-printing characters in strings are normally represented by
       ordinary C escape codes.  Only the first <i>strsize</i> (32 by default)
       bytes of strings are printed; longer strings have an ellipsis
       appended following the closing quote.  Here is a line from "ls
       -l" where the <a href="../man3/getpwuid.3.html">getpwuid(3)</a> library routine is reading the password
       file:

           read(3, "root::0:0:System Administrator:/"..., 1024) = 422

       While structures are annotated using curly braces, pointers to
       basic types and arrays are printed using square brackets with
       commas separating the elements.  Here is an example from the
       command <a href="id.1.html">id(1)</a> on a system with supplementary group ids:

           getgroups(32, [100, 0]) = 2

       On the other hand, bit-sets are also shown using square brackets,
       but set elements are separated only by a space.  Here is the
       shell, preparing to execute an external command:

           sigprocmask(SIG_BLOCK, [CHLD TTOU], []) = 0

       Here, the second argument is a bit-set of two signals, <b>SIGCHLD</b>
       and <b>SIGTTOU</b>.  In some cases, the bit-set is so full that printing
       out the unset elements is more valuable.  In that case, the bit-
       set is prefixed by a tilde like this:

           sigprocmask(SIG_UNBLOCK, ~[], NULL) = 0

       Here, the second argument represents the full set of all signals.
</pre> <h2>
OPTIONS </h2>
<pre>
   <b>General</b>
       <b>-e </b><i>expr</i>
              A qualifying expression which modifies which events to
              trace or how to trace them.  The format of the expression
              is:

                             [<i>qualifier</i><b>=</b>][<b>!</b>]<i>value</i>[<b>,</b><i>value</i>]...

              where <i>qualifier</i> is one of <b>trace </b>(or <b>t</b>), <b>trace-fds </b>(or
              <b>trace-fd </b>or <b>fd </b>or <b>fds</b>), <b>abbrev </b>(or <b>a</b>), <b>verbose </b>(or <b>v</b>), <b>raw</b>
              (or <b>x</b>), <b>signal </b>(or <b>signals </b>or <b>s</b>), <b>read </b>(or <b>reads </b>or <b>r</b>),
              <b>write </b>(or <b>writes </b>or <b>w</b>), <b>fault</b>, <b>inject</b>, <b>status</b>, <b>quiet </b>(or
              <b>silent </b>or <b>silence </b>or <b>q</b>), <b>secontext</b>, <b>decode-fds </b>(or
              <b>decode-fd</b>), <b>decode-pids </b>(or <b>decode-pid</b>), or <b>kvm</b>, and <i>value</i>
              is a qualifier-dependent symbol or number.  The default
              qualifier is <b>trace</b>.  Using an exclamation mark negates the
              set of values.  For example, <b>-e open </b>means literally
              <b>-e trace</b>=<b>open </b>which in turn means trace only the <b>open</b>
              system call.  By contrast, <b>-e trace</b>=!<b>open </b>means to trace
              every system call except <b>open</b>.  In addition, the special
              values <b>all </b>and <b>none </b>have the obvious meanings.

              Note that some shells use the exclamation point for
              history expansion even inside quoted arguments.  If so,
              you must escape the exclamation point with a backslash.

   <b>Startup</b>
       <b>-E </b><i>var</i>=<i>val</i>
       <b>--env</b>=<i>var</i>=<i>val</i>
              Run command with <i>var</i>=<i>val</i> in its list of environment
              variables.

       <b>-E </b><i>var</i>
       <b>--env</b>=<i>var</i>
              Remove <i>var</i> from the inherited list of environment
              variables before passing it on to the command.

       <b>-p </b><i>pid</i>
       <b>--attach</b>=<i>pid</i>
              Attach to the process with the process ID <i>pid</i> and begin
              tracing.  The trace may be terminated at any time by a
              keyboard interrupt signal (<b>CTRL-C</b>).  <b>strace </b>will respond
              by detaching itself from the traced process(es) leaving it
              (them) to continue running.  Multiple <b>-p </b>options can be
              used to attach to many processes in addition to <i>command</i>
              (which is optional if at least one <b>-p </b>option is given).
              Multiple process IDs, separated by either comma (“,”),
              space (“ ”), tab, or newline character, can be provided as
              an argument to a single <b>-p </b>option, so, for example, <b>-p</b>
              "$(pidof PROG)" and <b>-p </b>"$(pgrep PROG)" syntaxes are
              supported.

       <b>-u </b><i>username</i>
       <b>--user</b>=<i>username</i>
              Run command with the user ID, group ID, and supplementary
              groups of <i>username</i>.  This option is only useful when
              running as root and enables the correct execution of
              setuid and/or setgid binaries.  Unless this option is used
              setuid and setgid programs are executed without effective
              privileges.
       <b>-u </b><i>UID:GID</i>
       <b>--user</b>=<i>UID:GID</i>
              Alternative syntax where the program is started with
              exactly the given user and group IDs, and an empty list of
              supplementary groups.  In this case, user and group name
              lookups are not performed.

       <b>--argv0</b>=<i>name</i>
              Set argv[0] of the command being executed to <i>name</i>.  Useful
              for tracing multi-call executables which interpret
              argv[0], such as busybox or kmod.

   <b>Tracing</b>
       <b>-b </b><i>syscall</i>
       <b>--detach-on</b>=<i>syscall</i>
              If specified syscall is reached, detach from traced
              process.  Currently, only <a href="../man2/execve.2.html">execve(2)</a> syscall is supported.
              This option is useful if you want to trace multi-threaded
              process and therefore require <b>-f</b>, but don't want to trace
              its (potentially very complex) children.

       <b>-D</b>
       <b>--daemonize</b>
       <b>--daemonize</b>=<b>grandchild</b>
              Run tracer process as a grandchild, not as the parent of
              the tracee.  This reduces the visible effect of <b>strace </b>by
              keeping the tracee a direct child of the calling process.

       <b>-DD</b>
       <b>--daemonize</b>=<b>pgroup</b>
       <b>--daemonize</b>=<b>pgrp</b>
              Run tracer process as tracee's grandchild in a separate
              process group.  In addition to reduction of the visible
              effect of <b>strace</b>, it also avoids killing of <b>strace </b>with
              <a href="../man2/kill.2.html">kill(2)</a> issued to the whole process group.

       <b>-DDD</b>
       <b>--daemonize</b>=<b>session</b>
              Run tracer process as tracee's grandchild in a separate
              session ("true daemonisation").  In addition to reduction
              of the visible effect of <b>strace</b>, it also avoids killing of
              <b>strace </b>upon session termination.

       <b>-f</b>
       <b>--follow-forks</b>
              Trace child processes as they are created by currently
              traced processes as a result of the <a href="../man2/fork.2.html">fork(2)</a>, <a href="../man2/vfork.2.html">vfork(2)</a> and
              <a href="../man2/clone.2.html">clone(2)</a> system calls.  Note that <b>-p </b><i>PID</i> <b>-f </b>will attach
              all threads of process <i>PID</i> if it is multi-threaded, not
              only thread with <i>thread_id</i> = <i>PID</i>.

       <b>--output-separately</b>
              If the <b>--output</b>=<i>filename</i> option is in effect, each
              processes trace is written to <i>filename</i>.<i>pid</i> where <i>pid</i> is
              the numeric process id of each process.

       <b>-ff</b>
       <b>--follow-forks --output-separately</b>
              Combine the effects of <b>--follow-forks </b>and
              <b>--output-separately </b>options.  This is incompatible with
              <b>-c</b>, since no per-process counts are kept.

              One might want to consider using <a href="strace-log-merge.1.html">strace-log-merge(1)</a> to
              obtain a combined strace log view.

       <b>-I </b><i>interruptible</i>
       <b>--interruptible</b>=<i>interruptible</i>
              When <b>strace </b>can be interrupted by signals (such as
              pressing <b>CTRL-C</b>).

              <b>1</b>, <b>anywhere</b>
                     no signals are blocked;
              <b>2</b>, <b>waiting</b>
                     fatal signals are blocked while decoding syscall
                     (default);
              <b>3</b>, <b>never</b>
                     fatal signals are always blocked (default if <b>-o</b>
                     <i>FILE PROG</i>);
              <b>4</b>, <b>never_tstp</b>
                     fatal signals and <b>SIGTSTP </b>(<b>CTRL-Z</b>) are always
                     blocked (useful to make <b>strace -o </b><i>FILE PROG</i> not
                     stop on <b>CTRL-Z</b>, default if <b>-D</b>).

       <b>--syscall-limit</b>=<i>limit</i>
              Detach all tracees when <i>limit</i> number of syscalls have been
              captured. Syscalls filtered out via <b>--trace</b>, <b>--trace-path</b>
              or <b>--status </b>options are not considered when keeping track
              of the number of syscalls that are captured.

       <b>--kill-on-exit</b>
              Apply <b>PTRACE_O_EXITKILL </b>ptrace option to all tracee
              processes (which sends a SIGKILL signal to the tracee if
              the tracer exits) and do not detach them on cleanup so
              they will not be left running after the tracer exit.
              <b>--kill-on-exit </b>is not compatible with <b>-p</b>/<b>--attach </b>options.

   <b>Filtering</b>
       <b>-e trace</b>=<i>syscall_set</i>
       <b>-e t</b>=<i>syscall_set</i>
       <b>--trace</b>=<i>syscall_set</i>
              Trace only the specified set of system calls.  <i>syscall_set</i>
              is defined as [<b>!</b>]<i>value</i>[<b>,</b><i>value</i>], and <i>value</i> can be one of
              the following:

              <i>syscall</i>
                     Trace specific syscall, specified by its name (see
                     <a href="../man2/syscalls.2.html">syscalls(2)</a> for a reference, but also see <b>NOTES</b>).

              <b>?</b><i>value</i> Question mark before the syscall qualification
                     allows suppression of error in case no syscalls
                     matched the qualification provided.

              <i>value</i><b>@64</b>
                     Limit the syscall specification described by <i>value</i>
                     to 64-bit personality.

              <i>value</i><b>@32</b>
                     Limit the syscall specification described by <i>value</i>
                     to 32-bit personality.

              <i>value</i><b>@x32</b>
                     Limit the syscall specification described by <i>value</i>
                     to x32 personality.

              <b>all    </b>Trace all system calls.

              <b>/</b><i>regex</i> Trace only those system calls that match the <i>regex</i>.
                     You can use <b>POSIX </b>Extended Regular Expression
                     syntax (see <a href="../man7/regex.7.html">regex(7)</a>).

              <b>%file</b>
              <b>file   </b>Trace all system calls which take a file name as an
                     argument.  You can think of this as an abbreviation
                     for <b>-e trace</b>=<b>open</b>,<b>stat</b>,<b>chmod</b>,<b>unlink</b>,...  which is
                     useful to seeing what files the process is
                     referencing.  Furthermore, using the abbreviation
                     will ensure that you don't accidentally forget to
                     include a call like <a href="../man2/lstat.2.html">lstat(2)</a> in the list.  Betchya
                     woulda forgot that one.  The syntax without a
                     preceding percent sign ("<b>-e trace</b>=<b>file</b>") is
                     deprecated.

              <b>%process</b>
              <b>process</b>
                     Trace system calls associated with process
                     lifecycle (creation, exec, termination).  The
                     syntax without a preceding percent sign ("<b>-e</b>
                     <b>trace</b>=<b>process</b>") is deprecated.

              <b>%net</b>
              <b>%network</b>
              <b>network</b>
                     Trace all the network related system calls.  The
                     syntax without a preceding percent sign ("<b>-e</b>
                     <b>trace</b>=<b>network</b>") is deprecated.

              <b>%signal</b>
              <b>signal </b>Trace all signal related system calls.  The syntax
                     without a preceding percent sign ("<b>-e</b>
                     <b>trace</b>=<b>signal</b>") is deprecated.

              <b>%ipc</b>
              <b>ipc    </b>Trace all IPC related system calls.  The syntax
                     without a preceding percent sign ("<b>-e trace</b>=<b>ipc</b>")
                     is deprecated.

              <b>%desc</b>
              <b>desc   </b>Trace all file descriptor related system calls.
                     The syntax without a preceding percent sign ("<b>-e</b>
                     <b>trace</b>=<b>desc</b>") is deprecated.

              <b>%memory</b>
              <b>memory </b>Trace all memory mapping related system calls.  The
                     syntax without a preceding percent sign ("<b>-e</b>
                     <b>trace</b>=<b>memory</b>") is deprecated.

              <b>%creds </b>Trace system calls that read or modify user and
                     group identifiers or capability sets.

              <b>%stat  </b>Trace stat syscall variants.

              <b>%lstat </b>Trace lstat syscall variants.

              <b>%fstat </b>Trace fstat, fstatat, and statx syscall variants.

              <b>%%stat </b>Trace syscalls used for requesting file status
                     (stat, lstat, fstat, fstatat, statx, and their
                     variants).

              <b>%statfs</b>
                     Trace statfs, statfs64, statvfs, osf_statfs, and
                     osf_statfs64 system calls.  The same effect can be
                     achieved with <b>-e trace</b>=<b>/^(.*_)?statv?fs </b>regular
                     expression.

              <b>%fstatfs</b>
                     Trace fstatfs, fstatfs64, fstatvfs, osf_fstatfs,
                     and osf_fstatfs64 system calls.  The same effect
                     can be achieved with <b>-e trace</b>=<b>/fstatv?fs </b>regular
                     expression.

              <b>%%statfs</b>
                     Trace syscalls related to file system statistics
                     (statfs-like, fstatfs-like, and ustat).  The same
                     effect can be achieved with
                     <b>-e trace</b>=<b>/statv?fs|fsstat|ustat </b>regular expression.

              <b>%clock </b>Trace system calls that read or modify system
                     clocks.

              <b>%pure  </b>Trace syscalls that always succeed and have no
                     arguments.  Currently, this list includes
                     <b>arc_gettls</b>(2), <b>getdtablesize</b>(2), <a href="../man2/getegid.2.html">getegid(2)</a>,
                     <a href="../man2/getegid32.2.html">getegid32(2)</a>, <a href="../man2/geteuid.2.html">geteuid(2)</a>, <a href="../man2/geteuid32.2.html">geteuid32(2)</a>, <a href="../man2/getgid.2.html">getgid(2)</a>,
                     <a href="../man2/getgid32.2.html">getgid32(2)</a>, <a href="../man2/getpagesize.2.html">getpagesize(2)</a>, <a href="../man2/getpgrp.2.html">getpgrp(2)</a>, <a href="../man2/getpid.2.html">getpid(2)</a>,
                     <a href="../man2/getppid.2.html">getppid(2)</a>, <a href="../man2/get_thread_area.2.html">get_thread_area(2)</a> (on architectures
                     other than x86), <a href="../man2/gettid.2.html">gettid(2)</a>, <b>get_tls</b>(2), <a href="../man2/getuid.2.html">getuid(2)</a>,
                     <a href="../man2/getuid32.2.html">getuid32(2)</a>, <b>getxgid</b>(2), <b>getxpid</b>(2), <b>getxuid</b>(2),
                     <b>kern_features</b>(2), and <b>metag_get_tls</b>(2) syscalls.

              The <b>-c </b>option is useful for determining which system calls
              might be useful to trace.  For example,
              <b>trace</b>=<b>open,close,read,write </b>means to only trace those four
              system calls.  Be careful when making inferences about the
              user/kernel boundary if only a subset of system calls are
              being monitored.  The default is <b>trace</b>=<b>all</b>.

       <b>-e trace-fd</b>=<i>set</i>
       <b>-e trace-fds</b>=<i>set</i>
       <b>-e fd</b>=<i>set</i>
       <b>-e fds</b>=<i>set</i>
       <b>--trace-fds</b>=<i>set</i>
              Trace only the syscalls that operate on the specified
              subset of (non-negative) file descriptors.  Note that
              usage of this option also filters out all the syscalls
              that do not operate on file descriptors at all.  Applies
              in (inclusive) disjunction with the <b>--trace-path </b>option.

       <b>-e signal</b>=<i>set</i>
       <b>-e signals</b>=<i>set</i>
       <b>-e s</b>=<i>set</i>
       <b>--signal</b>=<i>set</i>
              Trace only the specified subset of signals.  The default
              is <b>signal</b>=<b>all</b>.  For example, <b>signal</b>=!<b>SIGIO </b>(or <b>signal</b>=!<b>io</b>)
              causes <b>SIGIO </b>signals not to be traced.

       <b>-e status</b>=<i>set</i>
       <b>--status</b>=<i>set</i>
              Print only system calls with the specified return status.
              The default is <b>status</b>=<b>all</b>.  When using the <b>status</b>
              qualifier, because <b>strace </b>waits for system calls to return
              before deciding whether they should be printed or not, the
              traditional order of events may not be preserved anymore.
              If two system calls are executed by concurrent threads,
              <b>strace </b>will first print both the entry and exit of the
              first system call to exit, regardless of their respective
              entry time.  The entry and exit of the second system call
              to exit will be printed afterwards.  Here is an example
              when <a href="../man2/select.2.html">select(2)</a> is called, but a different thread calls
              <a href="../man2/clock_gettime.2.html">clock_gettime(2)</a> before <a href="../man2/select.2.html">select(2)</a> finishes:

                  [pid 28779] 1130322148.939977 clock_gettime(CLOCK_REALTIME, {1130322148, 939977000}) = 0
                  [pid 28772] 1130322148.438139 select(4, [3], NULL, NULL, NULL) = 1 (in [3])

              <i>set</i> can include the following elements:

              <b>successful</b>
                     Trace system calls that returned without an error
                     code.  The <b>-z </b>option has the effect of
                     <b>status</b>=<b>successful</b>.
              <b>failed </b>Trace system calls that returned with an error
                     code.  The <b>-Z </b>option has the effect of
                     <b>status</b>=<b>failed</b>.
              <b>unfinished</b>
                     Trace system calls that did not return.  This might
                     happen, for example, due to an execve call in a
                     neighbour thread.
              <b>unavailable</b>
                     Trace system calls that returned but strace failed
                     to fetch the error status.
              <b>detached</b>
                     Trace system calls for which strace detached before
                     the return.

       <b>-P </b><i>path</i>
       <b>--trace-path</b>=<i>path</i>
              Trace only system calls accessing <i>path</i>.  Multiple <b>-P</b>
              options can be used to specify several paths.  Applies in
              (inclusive) disjunction with the <b>--trace-fds </b>option.

       <b>-z</b>
       <b>--successful-only</b>
              Print only syscalls that returned without an error code.

       <b>-Z</b>
       <b>--failed-only</b>
              Print only syscalls that returned with an error code.

   <b>Output format</b>
       <b>-a </b><i>column</i>
       <b>--columns</b>=<i>column</i>
              Align return values in a specific column (default column
              40).

       <b>-e abbrev</b>=<i>syscall_set</i>
       <b>-e a</b>=<i>syscall_set</i>
       <b>--abbrev</b>=<i>syscall_set</i>
              Abbreviate the output from printing each member of large
              structures.  The syntax of the <i>syscall_set</i> specification
              is the same as in the <b>-e trace </b>option.  The default is
              <b>abbrev</b>=<b>all</b>.  The <b>-v </b>option has the effect of <b>abbrev</b>=<b>none</b>.

       <b>-e verbose</b>=<i>syscall_set</i>
       <b>-e v</b>=<i>syscall_set</i>
       <b>--verbose</b>=<i>syscall_set</i>
              Dereference structures for the specified set of system
              calls.  The syntax of the <i>syscall_set</i> specification is the
              same as in the <b>-e trace </b>option.  The default is
              <b>verbose</b>=<b>all</b>.

       <b>-e raw</b>=<i>syscall_set</i>
       <b>-e x</b>=<i>syscall_set</i>
       <b>--raw</b>=<i>syscall_set</i>
              Print raw, undecoded arguments for the specified set of
              system calls.  The syntax of the <i>syscall_set</i> specification
              is the same as in the <b>-e trace </b>option.  This option has
              the effect of causing all arguments to be printed in
              hexadecimal.  This is mostly useful if you don't trust the
              decoding or you need to know the actual numeric value of
              an argument.  See also <b>-X raw </b>option.

       <b>-e read</b>=<i>set</i>
       <b>-e reads</b>=<i>set</i>
       <b>-e r</b>=<i>set</i>
       <b>--read</b>=<i>set</i>
              Perform a full hexadecimal and ASCII dump of all the data
              read from file descriptors listed in the specified set.
              For example, to see all input activity on file descriptors
              <i>3</i> and <i>5</i> use <b>-e read</b>=<i>3</i>,<i>5</i>.  Note that this is independent
              from the normal tracing of the <a href="../man2/read.2.html">read(2)</a> system call which
              is controlled by the option <b>-e trace</b>=<b>read</b>.

       <b>-e write</b>=<i>set</i>
       <b>-e writes</b>=<i>set</i>
       <b>-e w</b>=<i>set</i>
       <b>--write</b>=<i>set</i>
              Perform a full hexadecimal and ASCII dump of all the data
              written to file descriptors listed in the specified set.
              For example, to see all output activity on file
              descriptors <i>3</i> and <i>5</i> use <b>-e write</b>=<i>3</i>,<i>5</i>.  Note that this is
              independent from the normal tracing of the <a href="../man2/write.2.html">write(2)</a> system
              call which is controlled by the option <b>-e trace</b>=<b>write</b>.

       <b>-e quiet</b>=<i>set</i>
       <b>-e silent</b>=<i>set</i>
       <b>-e silence</b>=<i>set</i>
       <b>-e q</b>=<i>set</i>
       <b>--quiet</b>=<i>set</i>
       <b>--silent</b>=<i>set</i>
       <b>--silence</b>=<i>set</i>
              Suppress various information messages.  The default is
              <b>quiet</b>=<b>none</b>.  <i>set</i> can include the following elements:

              <b>attach </b>Suppress messages about attaching and detaching ("<b>[</b>
                     <b>Process NNNN attached ]</b>", "<b>[ Process NNNN detached</b>
                     <b>]</b>").
              <b>exit   </b>Suppress messages about process exits ("<b>+++ exited</b>
                     <b>with SSS +++</b>").
              <b>path-resolution</b>
                     Suppress messages about resolution of paths
                     provided via the <b>-P </b>option ("<b>Requested path "..."</b>
                     <b>resolved into "..."</b>").
              <b>personality</b>
                     Suppress messages about process personality changes
                     ("<b>[ Process PID=NNNN runs in PPP mode. ]</b>").
              <b>thread-execve</b>
              <b>superseded</b>
                     Suppress messages about process being superseded by
                     <a href="../man2/execve.2.html">execve(2)</a> in another thread ("<b>+++ superseded by</b>
                     <b>execve in pid NNNN +++</b>").

       <b>-e decode-fds</b>=<i>set</i>
       <b>--decode-fds</b>=<i>set</i>
              Decode various information associated with file
              descriptors.  The default is <b>decode-fds</b>=<b>none</b>.  <i>set</i> can
              include the following elements:

              <b>path     </b>Print file paths.  Also enables printing of
                       tracee's current working directory when <b>AT_FDCWD</b>
                       constant is used.
              <b>socket   </b>Print socket protocol-specific information,
              <b>dev      </b>Print character/block device numbers.
              <b>pidfd    </b>Print PIDs associated with pidfd file
                       descriptors.
              <b>signalfd </b>Print signal masks associated with signalfd file
                       descriptors.

       <b>-e decode-pids</b>=<i>set</i>
       <b>--decode-pids</b>=<i>set</i>
              Decode various information associated with process IDs
              (and also thread IDs, process group IDs, and session IDs).
              The default is <b>decode-pids</b>=<b>none</b>.  <i>set</i> can include the
              following elements:

              <b>comm    </b>Print command names associated with thread or
                      process IDs.
              <b>pidns   </b>Print thread, process, process group, and session
                      IDs in strace's PID namespace if the tracee is in
                      a different PID namespace.

       <b>-e kvm</b>=<b>vcpu</b>
       <b>--kvm</b>=<b>vcpu</b>
              Print the exit reason of kvm vcpu.  Requires Linux kernel
              version 4.16.0 or higher.

       <b>-i</b>
       <b>--instruction-pointer</b>
              Print the instruction pointer at the time of the system
              call.

       <b>-n</b>
       <b>--syscall-number</b>
              Print the syscall number.

       <b>-k</b>
       <b>--stack-trace</b>[=<b>symbol</b>]
              Print the execution stack trace of the traced processes
              after each system call.

       <b>-kk</b>
       <b>--stack-trace</b>=<b>source</b>
              Print the execution stack trace and source code
              information of the traced processes after each system
              call. This option expects the target program is compiled
              with appropriate debug options: "-g" (gcc), or "-g
              -gdwarf-aranges" (clang).

       <b>--stack-trace-frame-limit</b>=<i>limit</i>
              Print no more than this amount of stack trace frames when
              backtracing a system call (the default is 256).  Use this
              option with the <b>--stack-trace </b>(or <b>-k</b>) option.

       <b>-o </b><i>filename</i>
       <b>--output</b>=<i>filename</i>
              Write the trace output to the file <i>filename</i> rather than to
              stderr.  <i>filename</i>.<i>pid</i> form is used if <b>-ff </b>option is
              supplied.  If the argument begins with '|' or '!', the
              rest of the argument is treated as a command and all
              output is piped to it.  This is convenient for piping the
              debugging output to a program without affecting the
              redirections of executed programs.  The latter is not
              compatible with <b>-ff </b>option currently.

       <b>-A</b>
       <b>--output-append-mode</b>
              Open the file provided in the <b>-o </b>option in append mode.

       <b>-q</b>
       <b>--quiet</b>
       <b>--quiet</b>=<b>attach</b>,<b>personality</b>
              Suppress messages about attaching, detaching, and
              personality changes.  This happens automatically when
              output is redirected to a file and the command is run
              directly instead of attaching.

       <b>-qq</b>
       <b>--quiet</b>=<b>attach</b>,<b>personality</b>,<b>exit</b>
              Suppress messages attaching, detaching, personality
              changes, and about process exit status.

       <b>-qqq</b>
       <b>--quiet</b>=<b>all</b>
              Suppress all suppressible messages (please refer to the <b>-e</b>
              <b>quiet </b>option description for the full list of suppressible
              messages).

       <b>-r</b>
       <b>--relative-timestamps</b>[=<i>precision</i>]
              Print a relative timestamp upon entry to each system call.
              This records the time difference between the beginning of
              successive system calls.  <i>precision</i> can be one of <b>s </b>(for
              seconds), <b>ms </b>(milliseconds), <b>us </b>(microseconds), or <b>ns</b>
              (nanoseconds), and allows setting the precision of time
              value being printed.  Default is <b>us </b>(microseconds).  Note
              that since <b>-r </b>option uses the monotonic clock time for
              measuring time difference and not the wall clock time, its
              measurements can differ from the difference in time
              reported by the <b>-t </b>option.

       <b>-s </b><i>strsize</i>
       <b>--string-limit</b>=<i>strsize</i>
              Specify the maximum string size to print (the default is
              32).  Note that filenames are not considered strings and
              are always printed in full.

       <b>--absolute-timestamps</b>[=[[<b>format:</b>]<i>format</i>],[[<b>precision:</b>]<i>precision</i>]]
       <b>--timestamps</b>[=[[<b>format:</b>]<i>format</i>],[[<b>precision:</b>]<i>precision</i>]]
              Prefix each line of the trace with the wall clock time in
              the specified <i>format</i> with the specified <i>precision</i>.  <i>format</i>
              can be one of the following:

              <b>none   </b>No time stamp is printed.  Can be used to override
                     the previous setting.
              <b>time   </b>Wall clock time (<a href="../man3/strftime.3.html">strftime(3)</a> format string is <b>%T</b>).
              <b>unix   </b>Number of seconds since the epoch (<a href="../man3/strftime.3.html">strftime(3)</a>
                     format string is <b>%s</b>).

              <i>precision</i> can be one of <b>s </b>(for seconds), <b>ms</b>
              (milliseconds), <b>us </b>(microseconds), or <b>ns </b>(nanoseconds).
              Default arguments for the option are
              <b>format:time</b>,<b>precision:s</b>.

       <b>-t</b>
       <b>--absolute-timestamps</b>
              Prefix each line of the trace with the wall clock time.

       <b>-tt</b>
       <b>--absolute-timestamps</b>=<b>precision:us</b>
              If given twice, the time printed will include the
              microseconds.

       <b>-ttt</b>
       <b>--absolute-timestamps</b>=<b>format:unix</b>,<b>precision:us</b>
              If given thrice, the time printed will include the
              microseconds and the leading portion will be printed as
              the number of seconds since the epoch.

       <b>-T</b>
       <b>--syscall-times</b>[=<i>precision</i>]
              Show the time spent in system calls.  This records the
              time difference between the beginning and the end of each
              system call.  <i>precision</i> can be one of <b>s </b>(for seconds), <b>ms</b>
              (milliseconds), <b>us </b>(microseconds), or <b>ns </b>(nanoseconds),
              and allows setting the precision of time value being
              printed.  Default is <b>us </b>(microseconds).

       <b>-v</b>
       <b>--no-abbrev</b>
              Print unabbreviated versions of environment, stat,
              termios, etc.  calls.  These structures are very common in
              calls and so the default behavior displays a reasonable
              subset of structure members.  Use this option to get all
              of the gory details.

       <b>--strings-in-hex</b>[=<i>option</i>]
              Control usage of escape sequences with hexadecimal numbers
              in the printed strings.  Normally (when no
              <b>--strings-in-hex </b>or <b>-x </b>option is supplied), escape
              sequences are used to print non-printable and non-ASCII
              characters (that is, characters with a character code less
              than 32 or greater than 127), or to disambiguate the
              output (so, for quotes and other characters that encase
              the printed string, for example, angle brackets, in case
              of file descriptor path output); for the former use case,
              unless it is a white space character that has a symbolic
              escape sequence defined in the C standard (that is, “<b>\t</b>”
              for a horizontal tab, “<b>\n</b>” for a newline, “<b>\v</b>” for a
              vertical tab, “<b>\f</b>” for a form feed page break, and “<b>\r</b>”
              for a carriage return) are printed using escape sequences
              with numbers that correspond to their byte values, with
              octal number format being the default.  <i>option</i> can be one
              of the following:

              <b>none   </b>Hexadecimal numbers are not used in the output at
                     all.  When there is a need to emit an escape
                     sequence, octal numbers are used.
              <b>non-ascii-chars</b>
                     Hexadecimal numbers are used instead of octal in
                     the escape sequences.
              <b>non-ascii</b>
                     Strings that contain non-ASCII characters are
                     printed using escape sequences with hexadecimal
                     numbers.
              <b>all    </b>All strings are printed using escape sequences with
                     hexadecimal numbers.

              When the option is supplied without an argument, <b>all </b>is
              assumed.

       <b>-x</b>
       <b>--strings-in-hex</b>=<b>non-ascii</b>
              Print all non-ASCII strings in hexadecimal string format.

       <b>-xx</b>
       <b>--strings-in-hex</b>[=<b>all</b>]
              Print all strings in hexadecimal string format.

       <b>-X </b><i>format</i>
       <b>--const-print-style</b>=<i>format</i>
              Set the format for printing of named constants and flags.
              Supported <i>format</i> values are:

              <b>raw    </b>Raw number output, without decoding.
              <b>abbrev </b>Output a named constant or a set of flags instead
                     of the raw number if they are found.  This is the
                     default <b>strace </b>behaviour.
              <b>verbose</b>
                     Output both the raw value and the decoded string
                     (as a comment).

       <b>-y</b>
       <b>--decode-fds</b>
       <b>--decode-fds</b>=<b>path</b>
              Print paths associated with file descriptor arguments and
              with the <b>AT_FDCWD </b>constant.

       <b>-yy</b>
       <b>--decode-fds</b>=<b>all</b>
              Print all available information associated with file
              descriptors: protocol-specific information associated with
              socket file descriptors, block/character device number
              associated with device file descriptors, and PIDs
              associated with pidfd file descriptors.

       <b>--pidns-translation</b>
       <b>--decode-pids</b>=<b>pidns</b>
              If strace and tracee are in different PID namespaces,
              print PIDs in strace's namespace, too.

       <b>-Y</b>
       <b>--decode-pids</b>=<b>comm</b>
              Print command names for PIDs.

       <b>--secontext</b>[=<i>format</i>]
       <b>-e secontext</b>=<i>format</i>
              When SELinux is available and is not disabled, print in
              square brackets SELinux contexts of processes, files, and
              descriptors.  The <i>format</i> argument is a comma-separated
              list of items being one of the following:

              <b>full              </b>Print the full context (user, role, type
                                level and category).
              <b>mismatch          </b>Also print the context recorded by the
                                SELinux database in case the current
                                context differs.  The latter is printed
                                after two exclamation marks (!!).

              The default value for <b>--secontext </b>is <b>!full,mismatch </b>which
              prints only the type instead of full context and doesn't
              check for context mismatches.

       <b>--always-show-pid</b>
              Show PID prefix also for the process started by strace.
              Implied when -f and -o are both specified.

   <b>Statistics</b>
       <b>-c</b>
       <b>--summary-only</b>
              Count time, calls, and errors for each system call and
              report a summary on program exit, suppressing the regular
              output.  This attempts to show system time (CPU time spent
              running in the kernel) independent of wall clock time.  If
              <b>-c </b>is used with <b>-f</b>, only aggregate totals for all traced
              processes are kept.

       <b>-C</b>
       <b>--summary</b>
              Like <b>-c </b>but also print regular output while processes are
              running.

       <b>-O </b><i>overhead</i>
       <b>--summary-syscall-overhead</b>=<i>overhead</i>
              Set the overhead for tracing system calls to <i>overhead</i>.
              This is useful for overriding the default heuristic for
              guessing how much time is spent in mere measuring when
              timing system calls using the <b>-c </b>option.  The accuracy of
              the heuristic can be gauged by timing a given program run
              without tracing (using <a href="time.1.html">time(1)</a>) and comparing the
              accumulated system call time to the total produced using
              <b>-c</b>.

              The format of <i>overhead</i> specification is described in
              section <i>Time specification format description</i>.

       <b>-S </b><i>sortby</i>
       <b>--summary-sort-by</b>=<i>sortby</i>
              Sort the output of the histogram printed by the <b>-c </b>option
              by the specified criterion.  Legal values are <b>time </b>(or
              <b>time-percent </b>or <b>time-total </b>or <b>total-time</b>), <b>min-time </b>(or
              <b>shortest </b>or <b>time-min</b>), <b>max-time </b>(or <b>longest </b>or <b>time-max</b>),
              <b>avg-time </b>(or <b>time-avg</b>), <b>calls </b>(or <b>count</b>), <b>errors </b>(or
              <b>error</b>), <b>name </b>(or <b>syscall </b>or <b>syscall-name</b>), and <b>nothing </b>(or
              <b>none</b>); default is <b>time</b>.

       <b>-U </b><i>columns</i>
       <b>--summary-columns</b>=<i>columns</i>
              Configure a set (and order) of columns being shown in the
              call summary.  The <i>columns</i> argument is a comma-separated
              list with items being one of the following:

              <b>time-percent </b>(or <b>time</b>)
                     Percentage of cumulative time consumed by a
                     specific system call.
              <b>total-time </b>(or <b>time-total</b>)
                     Total system (or wall clock, if <b>-w </b>option is
                     provided) time consumed by a specific system call.
              <b>min-time </b>(or <b>shortest </b>or <b>time-min</b>)
                     Minimum observed call duration.
              <b>max-time </b>(or <b>longest </b>or <b>time-max</b>)
                     Maximum observed call duration.
              <b>avg-time </b>(or <b>time-avg</b>)
                     Average call duration.
              <b>calls </b>(or <b>count</b>)
                     Call count.
              <b>errors </b>(or <b>error</b>)
                     Error count.
              <b>name </b>(or <b>syscall </b>or <b>syscall-name</b>)
                     Syscall name.

              The default value is
              <b>time-percent</b>,<b>total-time</b>,<b>avg-time</b>,<b>calls</b>,<b>errors</b>,<b>name</b>.  If
              the <b>name </b>field is not supplied explicitly, it is added as
              the last column.

       <b>-w</b>
       <b>--summary-wall-clock</b>
              Summarise the time difference between the beginning and
              end of each system call.  The default is to summarise the
              system time.

   <b>Tampering</b>
       <b>-e inject</b>=<i>syscall_set</i>[:<b>error</b>=<i><a href="../man3/errno.3.html">errno</a></i>|:<b>retval</b>=<i>value</i>][:<b>signal</b>=<i>sig</i>]
       [:<b>syscall</b>=<i>syscall</i>][:<b>delay_enter</b>=<i>delay</i>][:<b>delay_exit</b>=<i>delay</i>]
       [:<b>poke_enter</b>=<i>@argN=DATAN,@argM=DATAM...</i>]
       [:<b>poke_exit</b>=<i>@argN=DATAN,@argM=DATAM...</i>][:<b>when</b>=<i>expr</i>]
       <b>--inject</b>=<i>syscall_set</i>[:<b>error</b>=<i><a href="../man3/errno.3.html">errno</a></i>|:<b>retval</b>=<i>value</i>][:<b>signal</b>=<i>sig</i>]
       [:<b>syscall</b>=<i>syscall</i>][:<b>delay_enter</b>=<i>delay</i>][:<b>delay_exit</b>=<i>delay</i>]
       [:<b>poke_enter</b>=<i>@argN=DATAN,@argM=DATAM...</i>]
       [:<b>poke_exit</b>=<i>@argN=DATAN,@argM=DATAM...</i>][:<b>when</b>=<i>expr</i>]
              Perform   syscall  tampering  for  the  specified  set  of
              syscalls.  The syntax of the <i>syscall_set</i> specification  is
              the same as in the <b>-e trace </b>option.

              At  least  one  of  <b>error</b>,  <b>retval</b>,  <b>signal</b>,  <b>delay_enter</b>,
              <b>delay_exit</b>, <b>poke_enter</b>, or <b>poke_exit  </b>options  has  to  be
              specified.  <b>error </b>and <b>retval </b>are mutually exclusive.

              If  :<b>error</b>=<i><a href="../man3/errno.3.html">errno</a></i>  option is specified, a fault is injected
              into a syscall invocation: the syscall number is  replaced
              by  -1  which  corresponds to an invalid syscall (unless a
              syscall is specified with :<b>syscall= </b>option), and the error
              code is specified using a symbolic <i><a href="../man3/errno.3.html">errno</a></i> value like <b>ENOSYS</b>
              or a numeric value within 1..4095 range.

              If :<b>retval</b>=<i>value</i> option is specified, success injection is
              performed: the syscall number is replaced  by  -1,  but  a
              bogus success value is returned to the callee.

              If  :<b>signal</b>=<i>sig</i> option is specified with either a symbolic
              value like <b>SIGSEGV </b>or a numeric value  within  1..<b>SIGRTMAX</b>
              range,  that signal is delivered on entering every syscall
              specified by the <i>set</i>.

              If :<b>delay_enter</b>=<i>delay</i>  or  :<b>delay_exit</b>=<i>delay</i>  options  are
              specified,  delay  injection  is  performed: the tracee is
              delayed by time period specified by <i>delay</i> on  entering  or
              exiting  the  syscall,  respectively.  The format of <i>delay</i>
              specification is described in section  <i>Time</i>  <i>specification</i>
              <i>format description</i>.

              If        :<b>poke_enter</b>=<i>@argN=DATAN,@argM=DATAM...</i>        or
              :<b>poke_exit</b>=<i>@argN=DATAN,@argM=DATAM...</i>     options      are
              specified,  tracee's  memory  at  locations, pointed to by
              system call arguments <i>argN</i> and <i>argM</i> (going  from  <i>arg1</i>  to
              <i>arg7</i>) is overwritten by data <i>DATAN</i> and <i>DATAM</i> (specified in
              hexadecimal          format;          for          example
              :<b>poke_enter</b>=<i>@arg1=0000DEAD0000BEEF</i>).  :<b>poke_enter </b>modifies
              memory on syscall enter, and :<b>poke_exit </b>- on exit.

              If :<b>signal</b>=<i>sig</i> option is specified  without  :<b>error</b>=<i><a href="../man3/errno.3.html">errno</a></i>,
              :<b>retval</b>=<i>value</i>  or  :<b>delay_{enter,exit}</b>=<i>usecs</i> options, then
              only a signal <i>sig</i> is delivered without a syscall fault  or
              delay     injection.     Conversely,    :<b>error</b>=<i><a href="../man3/errno.3.html">errno</a></i>    or
              :<b>retval</b>=<i>value</i>    option    without     :<b>delay_enter</b>=<i>delay</i>,
              :<b>delay_exit</b>=<i>delay</i>  or  :<b>signal</b>=<i>sig</i> options injects a fault
              without delivering a signal or injecting a delay, etc.

              If  :<b>signal</b>=<i>sig</i>  option   is   specified   together   with
              :<b>error</b>=<i><a href="../man3/errno.3.html">errno</a></i>  or  :<b>retval</b>=<i>value</i>,  then both injection of a
              fault or success and signal delivery are performed.

              if :<b>syscall</b>=<i>syscall</i> option is specified, the corresponding
              syscall with no side effects is injected  instead  of  -1.
              Currently,  only  "pure"  (see <b>-e trace</b>=<b>%pure </b>description)
              syscalls can be specified there.

              Unless  a  :<b>when</b>=<i>expr</i>  subexpression  is   specified,   an
              injection  is  being  made  into  every invocation of each
              syscall from the <i>set</i>.

              The format of the subexpression is:

                             <i>first</i>[<b>..</b><i>last</i>][<b>+</b>[<i>step</i>]]

              Number <i>first</i> stands for the first invocation number in the
              range, number <i>last</i> stands for the last  invocation  number
              in  the  range,  and  <i>step</i> stands for the step between two
              consecutive invocations.  The following  combinations  are
              useful:

              <i>first</i>  For every syscall from the <i>set</i>, perform an
                     injection for the syscall invocation number <i>first</i>
                     only.
              <i>first</i><b>..</b><i>last</i>
                     For every syscall from the <i>set</i>, perform an
                     injection for the syscall invocation number <i>first</i>
                     and all subsequent invocations until the invocation
                     number <i>last</i> (inclusive).
              <i>first</i><b>+ </b>For every syscall from the <i>set</i>, perform injections
                     for the syscall invocation number <i>first</i> and all
                     subsequent invocations.
              <i>first</i><b>..</b><i>last</i><b>+</b>
                     For every syscall from the <i>set</i>, perform injections
                     for the syscall invocation number <i>first</i> and all
                     subsequent invocations until the invocation number
                     <i>last</i> (inclusive).
              <i>first</i><b>+</b><i>step</i>
                     For every syscall from the <i>set</i>, perform injections
                     for syscall invocations number <i>first</i>, <i>first</i>+<i>step</i>,
                     <i>first</i>+<i>step</i>+<i>step</i>, and so on.
              <i>first</i><b>..</b><i>last</i><b>+</b><i>step</i>
                     Same as the previous, but consider only syscall
                     invocations with numbers up to <i>last</i> (inclusive).

              For example, to fail each third and subsequent chdir
              syscalls with <b>ENOENT</b>, use
              <b>-e inject</b>=<i>chdir</i>:<b>error</b>=<i>ENOENT</i>:<b>when</b>=<i>3</i><b>+</b>.

              The valid range for numbers <i>first</i> and <i>step</i> is 1..65535,
              and for number <i>last</i> is 1..65534.

              An injection expression can contain only one <b>error</b>= or
              <b>retval</b>= specification, and only one <b>signal</b>= specification.
              If an injection expression contains multiple <b>when</b>=
              specifications, the last one takes precedence.

              Accounting of syscalls that are subject to injection is
              done per syscall and per tracee.

              Specification of syscall injection can be combined with
              other syscall filtering options, for example, <b>-P</b>
              <i>/dev/urandom</i> <b>-e inject</b>=<i>file</i>:<b>error</b>=<i>ENOENT</i>.

       <b>-e fault</b>=<i>syscall_set</i>[:<b>error</b>=<i><a href="../man3/errno.3.html">errno</a></i>][:<b>when</b>=<i>expr</i>]
       <b>--fault</b>=<i>syscall_set</i>[:<b>error</b>=<i><a href="../man3/errno.3.html">errno</a></i>][:<b>when</b>=<i>expr</i>]
              Perform syscall fault injection for the specified set of
              syscalls.

              This is equivalent to more generic <b>-e inject</b>= expression
              with default value of <i><a href="../man3/errno.3.html">errno</a></i> option set to <b>ENOSYS</b>.

   <b>Miscellaneous</b>
       <b>-d</b>
       <b>--debug</b>
              Show some debugging output of <b>strace </b>itself on the
              standard error.

       <b>-F     </b>This option is deprecated.  It is retained for backward
              compatibility only and may be removed in future releases.
              Usage of multiple instances of <b>-F </b>option is still
              equivalent to a single <b>-f</b>, and it is ignored at all if
              used along with one or more instances of <b>-f </b>option.

       <b>-h</b>
       <b>--help </b>Print the help summary.

       <b>--seccomp-bpf</b>
              Try to enable use of seccomp-bpf (see <a href="../man2/seccomp.2.html">seccomp(2)</a>) to have
              <a href="../man2/ptrace.2.html">ptrace(2)</a>-stops only when system calls that are being
              traced occur in the traced processes.

              This option has no effect unless <b>-f</b>/<b>--follow-forks </b>is also
              specified.  <b>--seccomp-bpf </b>is not compatible with
              <b>--syscall-limit </b>and <b>-b</b>/<b>--detach-on </b>options.  It is also
              not applicable to processes attached using <b>-p</b>/<b>--attach</b>
              option.

              An attempt to enable system calls filtering using seccomp-
              bpf may fail for various reasons, e.g. there are too many
              system calls to filter, the seccomp API is not available,
              or <b>strace </b>itself is being traced.  In cases when seccomp-
              bpf filter setup failed, <b>strace </b>proceeds as usual and
              stops traced processes on every system call.

              When <b>--seccomp-bpf </b>is activated and <b>-p</b>/<b>--attach </b>option is
              not used, <b>--kill-on-exit </b>option is activated as well.

              Note that in cases when the tracee has another seccomp
              filter that returns an action value with a precedence
              greater than <b>SECCOMP_RET_TRACE</b>, <b>strace --seccomp-bpf </b>will
              not be notified.  That is, if another seccomp filter, for
              example, disables the syscall or kills the tracee, then
              <b>strace --seccomp-bpf </b>will not be aware of that syscall
              invocation at all.

       <b>--tips</b>[=[[<b>id:</b>]<i>id</i>],[[<b>format:</b>]<i>format</i>]]
              Show strace tips, tricks, and tweaks before exit.  <i>id</i> can
              be a non-negative integer number, which enables printing
              of specific tip, trick, or tweak (these ID are not
              guaranteed to be stable), or <b>random </b>(the default), in
              which case a random tip is printed.  <i>format</i> can be one of
              the following:

              <b>none     </b>No tip is printed.  Can be used to override the
                       previous setting.
              <b>compact  </b>Print the tip just big enough to contain all the
                       text.
              <b>full     </b>Print the tip in its full glory.

              Default is <b>id:random,format:compact</b>.

       <b>-V</b>
       <b>--version</b>
              Print the version number of <b>strace</b>.  Multiple instances of
              the option beyond specific threshold tend to increase
              Strauss awareness.

   <b>Time specification format description</b>
       Time values can be specified as a decimal floating point number
       (in a format accepted by <a href="../man3/strtod.3.html">strtod(3)</a>), optionally followed by one
       of the following suffices that specify the unit of time: <b>s</b>
       (seconds), <b>ms </b>(milliseconds), <b>us </b>(microseconds), or <b>ns</b>
       (nanoseconds).  If no suffix is specified, the value is
       interpreted as microseconds.

       The described format is used for <b>-O</b>, <b>-e inject</b>=<b>delay_enter</b>, and
       <b>-e inject</b>=<b>delay_exit </b>options.
</pre> <h2>
DIAGNOSTICS </h2>
<pre>
       When <i>command</i> exits, <b>strace </b>exits with the same exit status.  If
       <i>command</i> is terminated by a signal, <b>strace </b>terminates itself with
       the same signal, so that <b>strace </b>can be used as a wrapper process
       transparent to the invoking parent process.  Note that parent-
       child relationship (signal stop notifications, <a href="../man2/getppid.2.html">getppid(2)</a> value,
       etc) between traced process and its parent are not preserved
       unless <b>-D </b>is used.

       When using <b>-p </b>without a <i>command</i>, the exit status of <b>strace </b>is
       zero unless no processes has been attached or there was an
       unexpected error in doing the tracing.
</pre> <h2>
SETUID INSTALLATION </h2>
<pre>
       If <b>strace </b>is installed setuid to root then the invoking user will
       be able to attach to and trace processes owned by any user.  In
       addition setuid and setgid programs will be executed and traced
       with the correct effective privileges.  Since only users trusted
       with full root privileges should be allowed to do these things,
       it only makes sense to install <b>strace </b>as setuid to root when the
       users who can execute it are restricted to those users who have
       this trust.  For example, it makes sense to install a special
       version of <b>strace </b>with mode 'rwsr-xr--', user <b>root </b>and group
       <b>trace</b>, where members of the <b>trace </b>group are trusted users.  If
       you do use this feature, please remember to install a regular
       non-setuid version of <b>strace </b>for ordinary users to use.
</pre> <h2>
MULTIPLE PERSONALITIES SUPPORT </h2>
<pre>
       On some architectures, <b>strace </b>supports decoding of syscalls for
       processes that use different ABI rather than the one <b>strace </b>uses.
       Specifically, in addition to decoding native ABI, <b>strace </b>can
       decode the following ABIs on the following architectures:
       ┌────────────────────┬─────────────────────────┐
       │ <b>Architecture       </b>│ <b>ABIs supported          </b>│
       ├────────────────────┼─────────────────────────┤
       │ x86_64             │ i386, x32 [1]; i386 [2] │
       ├────────────────────┼─────────────────────────┤
       │ AArch64            │ ARM 32-bit EABI         │
       ├────────────────────┼─────────────────────────┤
       │ PowerPC 64-bit [3] │ PowerPC 32-bit          │
       ├────────────────────┼─────────────────────────┤
       │ s390x              │ s390                    │
       ├────────────────────┼─────────────────────────┤
       │ SPARC 64-bit       │ SPARC 32-bit            │
       ├────────────────────┼─────────────────────────┤
       │ TILE 64-bit        │ TILE 32-bit             │
       └────────────────────┴─────────────────────────┘

       [1]  When <b>strace </b>is built as an x86_64 application
       [2]  When <b>strace </b>is built as an x32 application
       [3]  Big endian only

       This support is optional and relies on ability to generate and
       parse structure definitions during the build time.  Please refer
       to the output of the <b>strace -V </b>command in order to figure out
       what support is available in your <b>strace </b>build ("non-native"
       refers to an ABI that differs from the ABI <b>strace </b>has):

       <b>m32-mpers</b>
              <b>strace </b>can trace and properly decode non-native 32-bit
              binaries.
       <b>no-m32-mpers</b>
              <b>strace </b>can trace, but cannot properly decode non-native
              32-bit binaries.
       <b>mx32-mpers</b>
              <b>strace </b>can trace and properly decode non-native
              32-on-64-bit binaries.
       <b>no-mx32-mpers</b>
              <b>strace </b>can trace, but cannot properly decode non-native
              32-on-64-bit binaries.

       If the output contains neither <b>m32-mpers </b>nor <b>no-m32-mpers</b>, then
       decoding of non-native 32-bit binaries is not implemented at all
       or not applicable.

       Likewise, if the output contains neither <b>mx32-mpers </b>nor <b>no-</b>
       <b>mx32-mpers</b>, then decoding of non-native 32-on-64-bit binaries is
       not implemented at all or not applicable.
</pre> <h2>
NOTES </h2>
<pre>
       It is a pity that so much tracing clutter is produced by systems
       employing shared libraries.

       It is instructive to think about system call inputs and outputs
       as data-flow across the user/kernel boundary.  Because user-space
       and kernel-space are separate and address-protected, it is
       sometimes possible to make deductive inferences about process
       behavior using inputs and outputs as propositions.

       In some cases, a system call will differ from the documented
       behavior or have a different name.  For example, the <a href="../man2/faccessat.2.html">faccessat(2)</a>
       system call does not have <i>flags</i> argument, and the <a href="../man2/setrlimit.2.html">setrlimit(2)</a>
       library function uses <a href="../man2/prlimit64.2.html">prlimit64(2)</a> system call on modern
       (2.6.38+) kernels.  These discrepancies are normal but
       idiosyncratic characteristics of the system call interface and
       are accounted for by C library wrapper functions.

       Some system calls have different names in different architectures
       and personalities.  In these cases, system call filtering and
       printing uses the names that match corresponding <b>__NR_</b>* kernel
       macros of the tracee's architecture and personality.  There are
       two exceptions from this general rule: <a href="../man2/arm_fadvise64_64.2.html">arm_fadvise64_64(2)</a> ARM
       syscall and <b>xtensa_fadvise64_64</b>(2) Xtensa syscall are filtered
       and printed as <a href="../man2/fadvise64_64.2.html">fadvise64_64(2)</a>.

       On x32, syscalls that are intended to be used by 64-bit processes
       and not x32 ones (for example, <a href="../man2/readv.2.html">readv(2)</a>, that has syscall number
       19 on x86_64, with its x32 counterpart has syscall number 515),
       but called with <b>__X32_SYSCALL_BIT </b>flag being set, are designated
       with <b>#64 </b>suffix.

       On some platforms a process that is attached to with the <b>-p</b>
       option may observe a spurious <b>EINTR </b>return from the current
       system call that is not restartable.  (Ideally, all system calls
       should be restarted on <b>strace </b>attach, making the attach invisible
       to the traced process, but a few system calls aren't.  Arguably,
       every instance of such behavior is a kernel bug.)  This may have
       an unpredictable effect on the process if the process takes no
       action to restart the system call.

       As <b>strace </b>executes the specified <i>command</i> directly and does not
       employ a shell for that, scripts without shebang that usually run
       just fine when invoked by shell fail to execute with <b>ENOEXEC</b>
       error.  It is advisable to manually supply a shell as a <i>command</i>
       with the script as its argument.
</pre> <h2>
BUGS </h2>
<pre>
       Programs that use the <i>setuid</i> bit do not have effective user ID
       privileges while being traced.

       A traced process runs slowly (but check out the <b>--seccomp-bpf</b>
       option).

       Unless <b>--kill-on-exit </b>option is used (or <b>--seccomp-bpf </b>option is
       used in a way that implies <b>--kill-on-exit</b>), traced processes
       which are descended from <i>command</i> may be left running after an
       interrupt signal (<b>CTRL-C</b>).

       By using <b>CLONE_UNTRACED </b>flag of <b>clone </b>system call a tracee can
       break the guarantee that <b>--seccomp-bpf </b>will not leave any
       processes with a seccomp program installed for syscall filtering
       purposes.
</pre> <h2>
HISTORY </h2>
<pre>
       The original <b>strace </b>was written by Paul Kranenburg for SunOS and
       was inspired by its <b>trace </b>utility.  The SunOS version of <b>strace</b>
       was ported to Linux and enhanced by Branko Lankester, who also
       wrote the Linux kernel support.  Even though Paul released <b>strace</b>
       2.5 in 1992, Branko's work was based on Paul's <b>strace </b>1.5 release
       from 1991.  In 1993, Rick Sladkey merged <b>strace </b>2.5 for SunOS and
       the second release of <b>strace </b>for Linux, added many of the
       features of <b>truss</b>(1) from SVR4, and produced an <b>strace </b>that
       worked on both platforms.  In 1994 Rick ported <b>strace </b>to SVR4 and
       Solaris and wrote the automatic configuration support.  In 1995
       he ported <b>strace </b>to Irix and became tired of writing about
       himself in the third person.

       Beginning with 1996, <b>strace </b>was maintained by Wichert Akkerman.
       During his tenure, <b>strace </b>development migrated to CVS; ports to
       FreeBSD and many architectures on Linux (including ARM, IA-64,
       MIPS, PA-RISC, PowerPC, s390, SPARC) were introduced.  In 2002,
       the burden of <b>strace </b>maintainership was transferred to Roland
       McGrath.  Since then, <b>strace </b>gained support for several new Linux
       architectures (AMD64, s390x, SuperH), bi-architecture support for
       some of them, and received numerous additions and improvements in
       syscalls decoders on Linux; <b>strace </b>development migrated to <b>Git</b>
       during that period.  Since 2009, <b>strace </b>is actively maintained by
       Dmitry Levin.  <b>strace </b>gained support for AArch64, ARC, AVR32,
       Blackfin, Meta, Nios II, OpenRISC 1000, RISC-V, Tile/TileGx,
       Xtensa architectures since that time.  In 2012, unmaintained and
       apparently broken support for non-Linux operating systems was
       removed.  Also, in 2012 <b>strace </b>gained support for path tracing
       and file descriptor path decoding.  In 2014, support for stack
       trace printing was added.  In 2016, syscall fault injection was
       implemented.

       For the additional information, please refer to the <b>NEWS </b>file and
       <b>strace </b>repository commit log.
</pre> <h2>
REPORTING BUGS </h2>
<pre>
       Problems with <b>strace </b>should be reported to the <b>strace </b>mailing
       list ⟨mailto:strace-devel@lists.strace.io⟩.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="strace-log-merge.1.html">strace-log-merge(1)</a>, <a href="ltrace.1.html">ltrace(1)</a>, <a href="perf-trace.1.html">perf-trace(1)</a>, <a href="trace-cmd.1.html">trace-cmd(1)</a>,
       <a href="time.1.html">time(1)</a>, <a href="../man2/ptrace.2.html">ptrace(2)</a>, <a href="../man2/seccomp.2.html">seccomp(2)</a>, <a href="../man2/syscall.2.html">syscall(2)</a>, <a href="../man5/proc.5.html">proc(5)</a>, <a href="../man7/signal.7.html">signal(7)</a>

       <b>strace </b>Home Page ⟨<a href="https://strace.io/">https://strace.io/</a>⟩
</pre> <h2>
AUTHORS </h2>
<pre>
       The complete list of <b>strace </b>contributors can be found in the
       <b>CREDITS </b>file.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>strace</i> (system call tracer) project.
       Information about the project can be found at 
       ⟨<a href="http://strace.io/">http://strace.io/</a>⟩.  If you have a bug report for this manual
       page, send it to strace-devel@lists.sourceforge.net.  This page
       was obtained from the project's upstream Git repository
       ⟨<a href="https://github.com/strace/strace.git">https://github.com/strace/strace.git</a>⟩ on 2024-06-14.  (At that
       time, the date of the most recent commit that was found in the
       repository was 2024-06-04.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">strace 6.9.0.16.2a4c4          2024-06-04                      <i>STRACE</i>(1)</span>
</pre>  <p>Pages that refer to this page: <a href="ltrace.1.html">ltrace(1)</a>, <a href="strace-log-merge.1.html">strace-log-merge(1)</a>, <a href="../man2/ptrace.2.html">ptrace(2)</a>, <a href="../man2/seccomp.2.html">seccomp(2)</a>, <a href="../man5/proc_pid_maps.5.html">proc_pid_maps(5)</a>, <a href="../man7/capabilities.7.html">capabilities(7)</a>, <a href="../man7/mount_namespaces.7.html">mount_namespaces(7)</a>, <a href="../man7/vdso.7.html">vdso(7)</a>, <a href="../man8/ovs-ctl.8.html">ovs-ctl(8)</a>, <a href="../man8/systemd-sysext.8.html">systemd-sysext(8)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man1/strace.1.html" class="_attribution-link">https://man7.org/linux/man-pages/man1/strace.1.html</a>
  </p>
</div>
