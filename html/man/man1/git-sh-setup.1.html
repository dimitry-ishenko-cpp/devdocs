<h1>git-sh-setup(1) — Linux manual page</h1>   <pre>
<span class="headline"><i>GIT-SH-SETUP</i>(1)                Git Manual                <i>GIT-SH-SETUP</i>(1)</span>
</pre> <h2>
NAME </h2>
<pre>
       git-sh-setup - Common Git shell script setup code
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <i>. "$(git --exec-path)/git-sh-setup"</i>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       This is not a command the end user would want to run. Ever. This
       documentation is meant for people who are studying the
       Porcelain-ish scripts and/or are writing new ones.

       The <i>git sh-setup</i> scriptlet is designed to be sourced (using <b>.</b>) by
       other shell scripts to set up some variables pointing at the
       normal Git directories and a few helper shell functions.

       Before sourcing it, your script should set up a few variables;
       <b>USAGE </b>(and <b>LONG_USAGE</b>, if any) is used to define the message
       given by <b>usage() </b>shell function. <b>SUBDIRECTORY_OK </b>can be set if
       the script can run from a subdirectory of the working tree (some
       commands do not).

       The scriptlet sets <b>GIT_DIR </b>and <b>GIT_OBJECT_DIRECTORY </b>shell
       variables, but does <b>not </b>export them to the environment.
</pre> <h2>
FUNCTIONS </h2>
<pre>
       die
           exit after emitting the supplied error message to the
           standard error stream.

       usage
           die with the usage message.

       set_reflog_action
           Set <b>GIT_REFLOG_ACTION </b>environment to a given string
           (typically the name of the program) unless it is already set.
           Whenever the script runs a <b>git </b>command that updates refs, a
           reflog entry is created using the value of this string to
           leave the record of what command updated the ref.

       git_editor
           runs an editor of user’s choice (GIT_EDITOR, core.editor,
           VISUAL or EDITOR) on a given file, but error out if no editor
           is specified and the terminal is dumb.

       is_bare_repository
           outputs <b>true </b>or <b>false </b>to the standard output stream to
           indicate if the repository is a bare repository (i.e. without
           an associated working tree).

       cd_to_toplevel
           runs chdir to the toplevel of the working tree.

       require_work_tree
           checks if the current directory is within the working tree of
           the repository, and otherwise dies.

       require_work_tree_exists
           checks if the working tree associated with the repository
           exists, and otherwise dies. Often done before calling
           cd_to_toplevel, which is impossible to do if there is no
           working tree.

       require_clean_work_tree &lt;action&gt; [&lt;hint&gt;]
           checks that the working tree and index associated with the
           repository have no uncommitted changes to tracked files.
           Otherwise it emits an error message of the form <b>Cannot</b>
           <b>&lt;action&gt;: &lt;reason&gt;. &lt;hint&gt;</b>, and dies. Example:

               require_clean_work_tree rebase "Please commit or stash them."

       get_author_ident_from_commit
           outputs code for use with eval to set the GIT_AUTHOR_NAME,
           GIT_AUTHOR_EMAIL and GIT_AUTHOR_DATE variables for a given
           commit.

       create_virtual_base
           modifies the first file so only lines in common with the
           second file remain. If there is insufficient common material,
           then the first file is left empty. The result is suitable as
           a virtual base input for a 3-way merge.
</pre> <h2>
GIT </h2>
<pre>
       Part of the <a href="git.1.html">git(1)</a> suite
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>git</i> (Git distributed version control
       system) project.  Information about the project can be found at
       ⟨<a href="http://git-scm.com/">http://git-scm.com/</a>⟩.  If you have a bug report for this manual
       page, see ⟨<a href="http://git-scm.com/community">http://git-scm.com/community</a>⟩.  This page was obtained
       from the project's upstream Git repository
       ⟨<a href="https://github.com/git/git.git">https://github.com/git/git.git</a>⟩ on 2024-06-14.  (At that time,
       the date of the most recent commit that was found in the
       repository was 2024-06-12.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">Git 2.45.2.492.gd63586         2024-06-12                <i>GIT-SH-SETUP</i>(1)</span>
</pre>  <p>Pages that refer to this page: <a href="git.1.html">git(1)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man1/git-sh-setup.1.html" class="_attribution-link">https://man7.org/linux/man-pages/man1/git-sh-setup.1.html</a>
  </p>
</div>
