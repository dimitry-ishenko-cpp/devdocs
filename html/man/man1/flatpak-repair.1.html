<h1>flatpak-repair(1) — Linux manual page</h1>   <pre>
<span class="headline"><i>FLATPAK REPAIR</i>(1)            flatpak repair            <i>FLATPAK REPAIR</i>(1)</span>
</pre> <h2>
NAME </h2>
<pre>
       flatpak-repair - Repair a flatpak installation
</pre> <h2>
SYNOPSIS </h2>
<pre>

       <b>flatpak repair </b>[OPTION...]
</pre> <h2>
DESCRIPTION </h2>
<pre>
       Repair a flatpak installation by pruning and reinstalling invalid
       objects. The repair command does all of the following:

       •   Scan all locally available refs, removing any that don't
           correspond to a deployed ref.

       •   Verify each commit they point to, removing any invalid
           objects and noting any missing objects.

       •   Remove any refs that had an invalid object, and any
           non-partial refs that had missing objects.

       •   Prune all objects not referenced by a ref, which gets rid of
           any possibly invalid non-scanned objects.

       •   Enumerate all deployed refs and re-install any that are not
           in the repo (or are partial for a non-subdir deploy).

       Note that <b>flatpak repair </b>has to be run with root privileges to
       operate on the system installation.

       An alternative command for repairing OSTree repositories is
       ostree fsck.
</pre> <h2>
OPTIONS </h2>
<pre>
       The following options are understood:

       <b>-h</b>, <b>--help</b>
           Show help options and exit.

       <b>-u</b>, <b>--user</b>
           Repair per-user installation.

       <b>--system</b>
           Repair system-wide installation.

       <b>--installation=NAME</b>
           Repair the system-wide installation specified by NAME among
           those defined in /etc/flatpak/installations.d/. Using
           --installation=default is equivalent to using --system.

       <b>--dry-run</b>
           Only report inconsistencies, don't make any changes

       <b>--reinstall-all</b>
           Reinstall all refs, regardless of whether they were removed
           from the repo or not

       <b>-v</b>, <b>--verbose</b>
           Print debug information during command processing.

       <b>--ostree-verbose</b>
           Print OSTree debug information during command processing.
</pre> <h2>
EXAMPLES </h2>
<pre>
       <b>$ sudo flatpak repair</b>

       <b>$ flatpak repair --user</b>
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="flatpak.1.html">flatpak(1)</a>, <b>ostree-fsck</b>(1)
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>flatpak</i> (a tool for building and
       distributing desktop applications on Linux) project.  Information
       about the project can be found at ⟨<a href="http://flatpak.org/">http://flatpak.org/</a>⟩.  It is
       not known how to report bugs for this man page; if you know,
       please send a mail to man-pages@man7.org.  This page was obtained
       from the project's upstream Git repository
       ⟨<a href="https://github.com/flatpak/flatpak">https://github.com/flatpak/flatpak</a>⟩ on 2024-06-14.  (At that
       time, the date of the most recent commit that was found in the
       repository was 2024-06-04.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">flatpak                                                <i>FLATPAK REPAIR</i>(1)</span>
</pre>  <p>Pages that refer to this page: <a href="flatpak.1.html">flatpak(1)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man1/flatpak-repair.1.html" class="_attribution-link">https://man7.org/linux/man-pages/man1/flatpak-repair.1.html</a>
  </p>
</div>
