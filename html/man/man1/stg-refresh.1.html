<h1>stg-refresh(1) — Linux manual page</h1>   <pre>
<span class="headline"><i>STG-REFRESH</i>(1)                StGit Manual                <i>STG-REFRESH</i>(1)</span>
</pre> <h2>
NAME </h2>
<pre>
       stg-refresh - Incorporate worktree changes into current patch
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <i>stg refresh</i> [OPTIONS] [path]...
</pre> <h2>
DESCRIPTION </h2>
<pre>
       Include the latest work tree and index changes in the current
       patch. This command generates a new git commit object for the
       patch; the old commit is no longer visible.

       Refresh will warn if the index is dirty, and require use of
       either the <i>--index</i> or <i>--force</i> options to override this check.
       This is to prevent accidental full refresh when only some changes
       were staged using git add interactive mode.

       You may optionally list one or more files or directories relative
       to the current working directory; if you do, only matching files
       will be updated.

       Behind the scenes, stg refresh first creates a new temporary
       patch with your updates, and then merges that patch into the
       patch you asked to have refreshed. If you asked to refresh a
       patch other than the topmost patch, there can be conflicts; in
       that case, the temporary patch will be left for you to take care
       of, for example with stg squash.

       The creation of the temporary patch is recorded in a separate
       entry in the patch stack log; this means that one undo step will
       undo the merge between the other patch and the temp patch, and
       two undo steps will additionally get rid of the temp patch.
</pre> <h2>
OPTIONS </h2>
<pre>
       -u, --update
           Only update the current patch files

       -i, --index
           Instead of setting the patch top to the current contents of
           the worktree, set it to the current contents of the index.

       -F, --force
           Instead of warning the user when some work has already been
           staged (such as with git add interactive mode) force a full
           refresh.

       --conflicts[=&lt;policy&gt;]
           Either "allow" or "disallow" pushing a patch with conflicts.

           Using <b>--conflicts=allow </b>(or just <b>--conflicts</b>) allows pushing
           a patch that may result in unresolved merge conflicts. The
           patch will be pushed and files with conflicts will be left
           with conflict markers to be resolved manually; or the
           operation undone with <b>stg undo --hard</b>. This is the default
           behavior and also corresponds to the
           "stgit.push.allow-conflicts" variable being set to "true".

           Using <b>--conflicts=disallow </b>disallows pushing any patch that
           would result in merge conflicts. The operation will stop on
           the last patch that can be pushed without conflicts. This
           behavior can be configured by setting
           "stgit.push.allow-conflicts" to "false".

       -p &lt;patch&gt;, --patch=&lt;patch&gt;
           Refresh (applied) &lt;patch&gt; instead of the top patch

       -a &lt;note&gt;, --annotate=&lt;note&gt;
           Annotate the patch log entry with &lt;note&gt;

       --submodules
           Include submodules in patch content

       --no-submodules
           Exclude submodules in patch content

       -e, --edit
           Invoke editor for patch description

       -d, --diff
           Show diff when editing patch description

       -m &lt;message&gt;, --message=&lt;message&gt;
           Use message instead of invoking the editor

       -f &lt;path&gt;, --file=&lt;path&gt;
           Use the contents of file instead of invoking the editor. Use
           "-" to read from stdin.

       --no-verify
           Disable commit-msg hook

       -s[=&lt;value&gt;], --signoff[=&lt;value&gt;]
           Add "Signed-off-by" message trailer.

           The value is optional and defaults to the committer name and
           email. This option may be provided multiple times.

       --ack[=&lt;value&gt;]
           Add "Acked-by" message trailer.

           The value is optional and defaults to the committer’s name
           and email. This option may be provided multiple times.

       --review[=&lt;value&gt;]
           Add "Reviewed-by" message trailer.

           The value is optional and defaults to the committer’s name
           and email. This option may be provided multiple times.

       --author=&lt;name-and-email&gt;
           Set the author "name &lt;email&gt;"

       --authname=&lt;name&gt;
           Set the author name

       --authemail=&lt;email&gt;
           Set the author email

       --authdate=&lt;date&gt;
           Set the date the patch was authored.

           Use "now" to use the current time and date.

       --committer-date-is-author-date
           Instead of using the current time as the committer date, use
           the author date of the commit as the committer date.
</pre> <h2>
STGIT </h2>
<pre>
       Part of the StGit suite - see <a href="stg.1.html">stg(1)</a>
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>stgit</i> (Stacked Git) project.
       Information about the project can be found at 
       ⟨<a href="http://www.procode.org/stgit/">http://www.procode.org/stgit/</a>⟩.  If you have a bug report for
       this manual page, see ⟨<a href="http://www.procode.org/stgit/">http://www.procode.org/stgit/</a>⟩.  This page
       was obtained from the project's upstream Git repository
       ⟨<a href="https://github.com/stacked-git/stgit.git">https://github.com/stacked-git/stgit.git</a>⟩ on 2024-06-14.  (At
       that time, the date of the most recent commit that was found in
       the repository was 2024-05-22.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">StGit 2.4.7                    06/14/2024                 <i>STG-REFRESH</i>(1)</span>
</pre>  <p>Pages that refer to this page: <a href="stg.1.html">stg(1)</a>, <a href="stg-new.1.html">stg-new(1)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man1/stg-refresh.1.html" class="_attribution-link">https://man7.org/linux/man-pages/man1/stg-refresh.1.html</a>
  </p>
</div>
