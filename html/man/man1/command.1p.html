<h1>command(1p) — Linux manual page</h1>   <pre>
<span class="headline"><i>COMMAND</i>(1P)             POSIX Programmer's Manual            <i>COMMAND</i>(1P)</span>
</pre> <h2>
PROLOG </h2>
<pre>
       This manual page is part of the POSIX Programmer's Manual.  The
       Linux implementation of this interface may differ (consult the
       corresponding Linux manual page for details of Linux behavior),
       or the interface may not be implemented on Linux.
</pre> <h2>
NAME </h2>
<pre>
       command — execute a simple command
</pre> <h2>
SYNOPSIS </h2>
<pre>
       command <b>[</b>-p<b>] </b><i>command_name</i> <b>[</b><i>argument</i>...<b>]</b>

       command <b>[</b>-p<b>][</b>-v|-V<b>] </b><i>command_name</i>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <i>command</i> utility shall cause the shell to treat the arguments
       as a simple command, suppressing the shell function lookup that
       is described in <i>Section 2.9.1.1</i>, <i>Command Search and Execution</i>,
       item 1b.

       If the <i>command_name</i> is the same as the name of one of the special
       built-in utilities, the special properties in the enumerated list
       at the beginning of <i>Section 2.14</i>, <i>Special Built-In Utilities</i>
       shall not occur. In every other respect, if <i>command_name</i> is not
       the name of a function, the effect of <i>command</i> (with no options)
       shall be the same as omitting <i>command</i>.

       When the <b>-v </b>or <b>-V </b>option is used, the <i>command</i> utility shall
       provide information concerning how a command name is interpreted
       by the shell.
</pre> <h2>
OPTIONS </h2>
<pre>
       The <i>command</i> utility shall conform to the Base Definitions volume
       of POSIX.1‐2017, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>.

       The following options shall be supported:

       <b>-p        </b>Perform the command search using a default value for
                 <i>PATH</i> that is guaranteed to find all of the standard
                 utilities.

       <b>-v        </b>Write a string to standard output that indicates the
                 pathname or command that will be used by the shell, in
                 the current shell execution environment (see <i>Section</i>
                 <i>2.12</i>, <i>Shell Execution Environment</i>), to invoke
                 <i>command_name</i>, but do not invoke <i>command_name</i>.

                  *  Utilities, regular built-in utilities,
                     <i>command_name</i>s including a &lt;slash&gt; character, and
                     any implementation-defined functions that are found
                     using the <i>PATH</i> variable (as described in <i>Section</i>
                     <i>2.9.1.1</i>, <i>Command Search and Execution</i>), shall be
                     written as absolute pathnames.

                  *  Shell functions, special built-in utilities,
                     regular built-in utilities not associated with a
                     <i>PATH</i> search, and shell reserved words shall be
                     written as just their names.

                  *  An alias shall be written as a command line that
                     represents its alias definition.

                  *  Otherwise, no output shall be written and the exit
                     status shall reflect that the name was not found.

       <b>-V        </b>Write a string to standard output that indicates how
                 the name given in the <i>command_name</i> operand will be
                 interpreted by the shell, in the current shell
                 execution environment (see <i>Section 2.12</i>, <i>Shell</i>
                 <i>Execution Environment</i>), but do not invoke <i>command_name</i>.
                 Although the format of this string is unspecified, it
                 shall indicate in which of the following categories
                 <i>command_name</i> falls and shall include the information
                 stated:

                  *  Utilities, regular built-in utilities, and any
                     implementation-defined functions that are found
                     using the <i>PATH</i> variable (as described in <i>Section</i>
                     <i>2.9.1.1</i>, <i>Command Search and Execution</i>), shall be
                     identified as such and include the absolute
                     pathname in the string.

                  *  Other shell functions shall be identified as
                     functions.

                  *  Aliases shall be identified as aliases and their
                     definitions included in the string.

                  *  Special built-in utilities shall be identified as
                     special built-in utilities.

                  *  Regular built-in utilities not associated with a
                     <i>PATH</i> search shall be identified as regular built-in
                     utilities. (The term ``regular'' need not be used.)

                  *  Shell reserved words shall be identified as
                     reserved words.
</pre> <h2>
OPERANDS </h2>
<pre>
       The following operands shall be supported:

       <i>argument</i>  One of the strings treated as an argument to
                 <i>command_name</i>.

       <i>command_name</i>
                 The name of a utility or a special built-in utility.
</pre> <h2>
STDIN </h2>
<pre>
       Not used.
</pre> <h2>
INPUT FILES </h2>
<pre>
       None.
</pre> <h2>
ENVIRONMENT VARIABLES </h2>
<pre>
       The following environment variables shall affect the execution of
       <i>command</i>:

       <i>LANG</i>      Provide a default value for the internationalization
                 variables that are unset or null. (See the Base
                 Definitions volume of POSIX.1‐2017, <i>Section 8.2</i>,
                 <i>Internationalization Variables</i> for the precedence of
                 internationalization variables used to determine the
                 values of locale categories.)

       <i>LC_ALL</i>    If set to a non-empty string value, override the values
                 of all the other internationalization variables.

       <i>LC_CTYPE</i>  Determine the locale for the interpretation of
                 sequences of bytes of text data as characters (for
                 example, single-byte as opposed to multi-byte
                 characters in arguments).

       <i>LC_MESSAGES</i>
                 Determine the locale that should be used to affect the
                 format and contents of diagnostic messages written to
                 standard error and informative messages written to
                 standard output.

       <i>NLSPATH</i>   Determine the location of message catalogs for the
                 processing of <i>LC_MESSAGES</i>.

       <i>PATH</i>      Determine the search path used during the command
                 search described in <i>Section 2.9.1.1</i>, <i>Command Search and</i>
                 <i>Execution</i>, except as described under the <b>-p </b>option.
</pre> <h2>
ASYNCHRONOUS EVENTS </h2>
<pre>
       Default.
</pre> <h2>
STDOUT </h2>
<pre>
       When the <b>-v </b>option is specified, standard output shall be
       formatted as:

           "%s\n", &lt;<i>pathname or command</i>&gt;

       When the <b>-V </b>option is specified, standard output shall be
       formatted as:

           "%s\n", &lt;<i>unspecified</i>&gt;
</pre> <h2>
STDERR </h2>
<pre>
       The standard error shall be used only for diagnostic messages.
</pre> <h2>
OUTPUT FILES </h2>
<pre>
       None.
</pre> <h2>
EXTENDED DESCRIPTION </h2>
<pre>
       None.
</pre> <h2>
EXIT STATUS </h2>
<pre>
       When the <b>-v </b>or <b>-V </b>options are specified, the following exit
       values shall be returned:

        0    Successful completion.

       &gt;0    The <i>command_name</i> could not be found or an error occurred.

       Otherwise, the following exit values shall be returned:

       126   The utility specified by <i>command_name</i> was found but could
             not be invoked.

       127   An error occurred in the <i>command</i> utility or the utility
             specified by <i>command_name</i> could not be found.

       Otherwise, the exit status of <i>command</i> shall be that of the simple
       command specified by the arguments to <i>command</i>.
</pre> <h2>
CONSEQUENCES OF ERRORS </h2>
<pre>
       Default.

       <i>The following sections are informative.</i>
</pre> <h2>
APPLICATION USAGE </h2>
<pre>
       The order for command search allows functions to override regular
       built-ins and path searches. This utility is necessary to allow
       functions that have the same name as a utility to call the
       utility (instead of a recursive call to the function).

       The system default path is available using <i>getconf</i>; however,
       since <i>getconf</i> may need to have the <i>PATH</i> set up before it can be
       called itself, the following can be used:

           command -p getconf PATH

       There are some advantages to suppressing the special
       characteristics of special built-ins on occasion. For example:

           command exec &gt; <i>unwritable-file</i>

       does not cause a non-interactive script to abort, so that the
       output status can be checked by the script.

       The <i>command</i>, <i>env</i>, <i>nohup</i>, <i>time</i>, and <i>xargs</i> utilities have been
       specified to use exit code 127 if an error occurs so that
       applications can distinguish ``failure to find a utility'' from
       ``invoked utility exited with an error indication''. The value
       127 was chosen because it is not commonly used for other
       meanings; most utilities use small values for ``normal error
       conditions'' and the values above 128 can be confused with
       termination due to receipt of a signal. The value 126 was chosen
       in a similar manner to indicate that the utility could be found,
       but not invoked. Some scripts produce meaningful error messages
       differentiating the 126 and 127 cases. The distinction between
       exit codes 126 and 127 is based on KornShell practice that uses
       127 when all attempts to <i>exec</i> the utility fail with <b>[ENOENT]</b>, and
       uses 126 when any attempt to <i>exec</i> the utility fails for any other
       reason.

       Since the <b>-v </b>and <b>-V </b>options of <i>command</i> produce output in relation
       to the current shell execution environment, <i>command</i> is generally
       provided as a shell regular built-in. If it is called in a
       subshell or separate utility execution environment, such as one
       of the following:

           (PATH=foo command -v)
            nohup command -v

       it does not necessarily produce correct results. For example,
       when called with <i>nohup</i> or an <i>exec</i> function, in a separate utility
       execution environment, most implementations are not able to
       identify aliases, functions, or special built-ins.

       Two types of regular built-ins could be encountered on a system
       and these are described separately by <i>command</i>.  The description
       of command search in <i>Section 2.9.1.1</i>, <i>Command Search and</i>
       <i>Execution</i> allows for a standard utility to be implemented as a
       regular built-in as long as it is found in the appropriate place
       in a <i>PATH</i> search. So, for example, <i>command</i> <b>-v </b><i>true</i> might yield
       <b>/bin/true </b>or some similar pathname. Other implementation-defined
       utilities that are not defined by this volume of POSIX.1‐2017
       might exist only as built-ins and have no pathname associated
       with them. These produce output identified as (regular) built-
       ins. Applications encountering these are not able to count on
       <i>exec</i>ing them, using them with <i>nohup</i>, overriding them with a
       different <i>PATH</i>, and so on.
</pre> <h2>
EXAMPLES </h2>
<pre>
        1. Make a version of <i>cd</i> that always prints out the new working
           directory exactly once:

               cd() {
                   command cd "$@" &gt;/dev/null
                   pwd
               }

        2. Start off a ``secure shell script'' in which the script
           avoids being spoofed by its parent:

               IFS='
               '
               #    The preceding value should be &lt;space&gt;&lt;tab&gt;&lt;newline&gt;.
               #    Set IFS to its default value.

               \unalias -a
               #    Unset all possible aliases.
               #    Note that unalias is escaped to prevent an alias
               #    being used for unalias.

               unset -f command
               #    Ensure command is not a user function.

               PATH="$(command -p getconf PATH):$PATH"
               #    Put on a reliable PATH prefix.

               #    ...

           At this point, given correct permissions on the directories
           called by <i>PATH</i>, the script has the ability to ensure that any
           utility it calls is the intended one. It is being very
           cautious because it assumes that implementation extensions
           may be present that would allow user functions to exist when
           it is invoked; this capability is not specified by this
           volume of POSIX.1‐2017, but it is not prohibited as an
           extension. For example, the <i>ENV</i> variable precedes the
           invocation of the script with a user start-up script. Such a
           script could define functions to spoof the application.
</pre> <h2>
RATIONALE </h2>
<pre>
       Since <i>command</i> is a regular built-in utility it is always found
       prior to the <i>PATH</i> search.

       There is nothing in the description of <i>command</i> that implies the
       command line is parsed any differently from that of any other
       simple command. For example:

           command a | b ; c

       is not parsed in any special way that causes <b>'|' </b>or <b>';' </b>to be
       treated other than a pipe operator or &lt;semicolon&gt; or that
       prevents function lookup on <b>b </b>or <b>c</b>.

       The <i>command</i> utility is somewhat similar to the Eighth Edition
       shell <i>builtin</i> command, but since <i>command</i> also goes to the file
       system to search for utilities, the name <i>builtin</i> would not be
       intuitive.

       The <i>command</i> utility is most likely to be provided as a regular
       built-in. It is not listed as a special built-in for the
       following reasons:

        *  The removal of exportable functions made the special
           precedence of a special built-in unnecessary.

        *  A special built-in has special properties (see <i>Section 2.14</i>,
           <i>Special Built-In Utilities</i>) that were inappropriate for
           invoking other utilities. For example, two commands such as:

               date &gt; <i>unwritable-file</i>

               command date &gt; <i>unwritable-file</i>

           would have entirely different results; in a non-interactive
           script, the former would continue to execute the next
           command, the latter would abort. Introducing this semantic
           difference along with suppressing functions was seen to be
           non-intuitive.

       The <b>-p </b>option is present because it is useful to be able to
       ensure a safe path search that finds all the standard utilities.
       This search might not be identical to the one that occurs through
       one of the <i>exec</i> functions (as defined in the System Interfaces
       volume of POSIX.1‐2017) when <i>PATH</i> is unset. At the very least,
       this feature is required to allow the script to access the
       correct version of <i>getconf</i> so that the value of the default path
       can be accurately retrieved.

       The <i>command</i> <b>-v </b>and <b>-V </b>options were added to satisfy requirements
       from users that are currently accomplished by three different
       historical utilities: <i>type</i> in the System V shell, <i>whence</i> in the
       KornShell, and <i>which</i> in the C shell. Since there is no historical
       agreement on how and what to accomplish here, the POSIX <i>command</i>
       utility was enhanced and the historical utilities were left
       unmodified.  The C shell <i>which</i> merely conducts a path search. The
       KornShell <i>whence</i> is more elaborate—in addition to the categories
       required by POSIX, it also reports on tracked aliases, exported
       aliases, and undefined functions.

       The output format of <b>-V </b>was left mostly unspecified because human
       users are its only audience.  Applications should not be written
       to care about this information; they can use the output of <b>-v </b>to
       differentiate between various types of commands, but the
       additional information that may be emitted by the more verbose <b>-V</b>
       is not needed and should not be arbitrarily constrained in its
       verbosity or localization for application parsing reasons.
</pre> <h2>
FUTURE DIRECTIONS </h2>
<pre>
       None.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <i>Section 2.9.1.1</i>, <i>Command Search and Execution</i>, <i>Section 2.12</i>,
       <i>Shell Execution Environment</i>, <i>Section 2.14</i>, <i>Special Built-In</i>
       <i>Utilities</i>, <a href="sh.1p.html">sh(1p)</a>, <a href="type.1p.html">type(1p)</a>

       The Base Definitions volume of POSIX.1‐2017, <i>Chapter 8</i>,
       <i>Environment Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>

       The System Interfaces volume of POSIX.1‐2017, <a href="exec.1p.html">exec(1p)</a>
</pre> <h2>
COPYRIGHT </h2>
<pre>
       Portions of this text are reprinted and reproduced in electronic
       form from IEEE Std 1003.1-2017, Standard for Information
       Technology -- Portable Operating System Interface (POSIX), The
       Open Group Base Specifications Issue 7, 2018 Edition, Copyright
       (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any
       discrepancy between this version and the original IEEE and The
       Open Group Standard, the original IEEE and The Open Group
       Standard is the referee document. The original Standard can be
       obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page
       are most likely to have been introduced during the conversion of
       the source files to man page format. To report such errors, see
       <a href="https://www.kernel.org/doc/man-pages/reporting_bugs.html">https://www.kernel.org/doc/man-pages/reporting_bugs.html</a> .

<span class="footline">IEEE/The Open Group               2017                       <i>COMMAND</i>(1P)</span>
</pre>  <p>Pages that refer to this page: <a href="type.1p.html">type(1p)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man1/command.1p.html" class="_attribution-link">https://man7.org/linux/man-pages/man1/command.1p.html</a>
  </p>
</div>
