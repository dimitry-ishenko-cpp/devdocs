<h1>mysql-test-run.pl(1) — Linux manual page</h1>   <pre>
<span class="headline"><i>MYSQL-TEST-RUN</i>()                                        <i>MYSQL-TEST-RUN</i>()</span>
</pre> <h2>
NAME </h2>
<pre>
       mysql-test-run.pl - run MariaDB test suite
</pre> <h2>
SYNOPSIS </h2>
<pre>

       <b>mysql-test-run.pl [</b><i>options</i><b>]</b>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       The <b>mysql-test-run.pl </b>Perl script is the main application used to
       run the MariaDB test suite. It invokes <b>mysqltest </b>to run
       individual test cases.

       Invoke <b>mysql-test-run.pl </b>in the mysql-test directory like this:

           shell&gt; <b>mysql-test-run.pl [</b><i>options</i><b>] [</b><i>test_name</i><b>] ...</b>

       Each <i>test_name</i> argument names a test case. The test case file
       that corresponds to the test name is t/<i>test_name</i>.test.

       For each <i>test_name</i> argument, <b>mysql-test-run.pl </b>runs the named
       test case. With no <i>test_name</i> arguments, <b>mysql-test-run.pl </b>runs
       all .test files in the t subdirectory.

       If no suffix is given for the test name, a suffix of .test is
       assumed. Any leading path name is ignored. These commands are
       equivalent:

           shell&gt; <b>mysql-test-run.pl mytest</b>
           shell&gt; <b>mysql-test-run.pl mytest.test</b>
           shell&gt; <b>mysql-test-run.pl t/mytest.test</b>

       A suite name can be given as part of the test name. That is, the
       syntax for naming a test is:

           [<i>suite_name</i>.]<i>test_name</i>[.<i>suffix</i>]

       If a suite name is given, <b>mysql-test-run.pl </b>looks in that suite
       for the test. The test file corresponding to a test named
       <i>suite_name.test_name</i> is found in
       suite/<i>suite_name</i>/t/<i>test_name</i>.test. There is also an implicit
       suite name main for the tests in the top t directory. With no
       suite name, <b>mysql-test-run.pl </b>looks in the default list of suites
       for a match and runs the test in any suites where it finds the
       test. Suppose that the default suite list is main, binlog, rpl,
       and that a test mytest.test exists in the main and rpl suites.
       With an argument of mytest or mytest.test, <b>mysql-test-run.pl </b>will
       run mytest.test from the main and rpl suites.

       To run a family of test cases for which the names share a common
       prefix, use the <b>--do-test=</b><i>prefix</i> option. For example,
       <b>--do-test=rpl </b>runs the replication tests (test cases that have
       names beginning with rpl).  <b>--skip-test </b>has the opposite effect
       of skipping test cases for which the names share a common prefix.

       The argument for the <b>--do-test </b>and <b>--skip-test </b>options also
       allows more flexible specification of which tests to perform or
       skip. If the argument contains a pattern metacharacter other than
       a lone period, it is interpreted as a Perl regular expression and
       applies to test names that match the pattern. If the argument
       contains a lone period or does not contain any pattern
       metacharacters, it is interpreted the same way as previously and
       matches test names that begin with the argument value. For
       example, <b>--do-test=testa </b>matches tests that begin with testa,
       <b>--do-test=main.testa </b>matches tests in the main test suite that
       begin with testa, and <b>--do-test=main.*testa </b>matches test names
       that contain main followed by testa with anything in between. In
       the latter case, the pattern match is not anchored to the
       beginning of the test name, so it also matches names such as
       xmainytesta.

       To perform setup prior to running tests, <b>mysql-test-run.pl </b>needs
       to invoke <b>mysqld </b>with the <b>--bootstrap </b>and <b>--skip-grant-tables</b>
       options. If MySQL was configured with the <b>--disable-grant-options</b>
       option, <b>--bootstrap</b>, <b>--skip-grant-tables</b>, and <b>--init-file </b>will be
       disabled. To handle this, set the MYSQLD_BOOTSTRAP environment
       variable to the full path name of a server that has all options
       enabled.  <b>mysql-test-run.pl </b>will use that server to perform
       setup; it is not used to run the tests.

       The init_file test will fail if <b>--init-file </b>is disabled. This is
       an expected failure that can be handled as follows:

           shell&gt; <b>export MYSQLD_BOOTSTRAP</b>
           shell&gt; <b>MYSQLD_BOOTSTRAP=/full/path/to/mysqld</b>
           shell&gt; <b>make test force="--skip-test=init_file"</b>

       To run <b>mysql-test-run.pl </b>on Windows, you´ll need either Cygwin or
       ActiveState Perl to run it. You may also need to install the
       modules required by the script. To run the test script, change
       location into the mysql-test directory, set the MTR_VS_CONFIG
       environment variable to the configuration you selected earlier
       (or use the <b>--vs-config </b>option), and invoke <b>mysql-test-run.pl</b>.
       For example (using Cygwin and the <b>bash </b>shell):

           shell&gt; <b>cd mysql-test</b>
           shell&gt; <b>export MTR_VS_CONFIG=debug</b>
           shell&gt; <b>./mysqltest-run.pl --force --timer</b>
           shell&gt; <b>./mysqltest-run.pl --force --timer --ps-protocol</b>

       <b>mysql-test-run.pl </b>uses several environment variables. Some of
       them are listed in the following table. Some of these are set
       from the outside and used by <b>mysql-test-run.pl</b>, others are set by
       <b>mysql-test-run.pl </b>instead, and may be referred to in tests.
       ┌──────────────────┬────────────────────────────┐
       │ <b>Variable         </b>│ <b>Meaning                    </b>│
       ├──────────────────┼────────────────────────────┤
       │ MTR_VERSION      │ If set to 1, will run      │
       │                  │ the older version 1 of     │
       │                  │ <b>mysql-test-run.pl</b>. This    │
       │                  │ will affect what           │
       │                  │ functionailty is           │
       │                  │ available and what         │
       │                  │ command line options are   │
       │                  │ supported.                 │
       ├──────────────────┼────────────────────────────┤
       │ MTR_MEM          │ If set to anything, will   │
       │                  │ run tests with files in    │
       │                  │ "memory" using tmpfs or    │
       │                  │                 ramdisk.   │
       │                  │ Not available on           │
       │                  │ Windows. Same as           │
       │                  │                 <b>--mem      </b>│
       │                  │ option                     │
       ├──────────────────┼────────────────────────────┤
       │ MTR_PARALLEL     │ If set, defines number     │
       │                  │ of parallel threads        │
       │                  │ executing tests. Same as   │
       │                  │                 <b>--parallel </b>│
       │                  │ option                     │
       ├──────────────────┼────────────────────────────┤
       │ MTR_BUILD_THREAD │ If set, defines which port │
       │                  │ number range is used for   │
       │                  │ the server                 │
       ├──────────────────┼────────────────────────────┤
       │ MTR_PORT_BASE    │ If set, defines which port │
       │                  │ number range is used for   │
       │                  │ the server                 │
       ├──────────────────┼────────────────────────────┤
       │ MTR_<i>NAME</i>_TIMEOUT │ Setting of a timeout in    │
       │                  │ minutes or seconds,        │
       │                  │ corresponding to command   │
       │                  │ line option                │
       │                  │ <b>--</b><i>name</i><b>-timeout</b>. Available  │
       │                  │ timeout names are          │
       │                  │ TESTCASE, SUITE (both in   │
       │                  │ minutes) and START,        │
       │                  │ SHUTDOWN (both in          │
       │                  │ seconds). These variables  │
       │                  │ are supported from MySQL   │
       │                  │ 5.1.44.                    │
       ├──────────────────┼────────────────────────────┤
       │ MYSQL_TEST       │ Path name to <b>mysqltest     </b>│
       │                  │ binary                     │
       ├──────────────────┼────────────────────────────┤
       │ MYSQLD_BOOTSTRAP │ Full path name to <b>mysqld   </b>│
       │                  │ that has all options       │
       │                  │ enabled                    │
       ├──────────────────┼────────────────────────────┤
       │ MYSQLTEST_VARDIR │ Path name to the var       │
       │                  │ directory that is used for │
       │                  │                 logs,      │
       │                  │ temporary files, and so    │
       │                  │ forth                      │
       ├──────────────────┼────────────────────────────┤
       │ MYSQL_TEST_DIR   │ Full path to the           │
       │                  │ mysql-test directory where │
       │                  │ tests                      │
       │                  │                 are being  │
       │                  │ run from                   │
       ├──────────────────┼────────────────────────────┤
       │ MYSQL_TMP_DIR    │ Path to temp directory     │
       │                  │ used for temporary files   │
       │                  │ during tests               │
       └──────────────────┴────────────────────────────┘

       The variable MTR_PORT_BASE was added in MySQL 5.1.45 as a more
       logical replacement for MTR_BUILD_THREAD. It gives the actual
       port number directly (will be rounded down to a multiple of 10).
       If you use MTR_BUILD_THREAD, the port number is found by
       multiplying this by 10 and adding 10000.

       Tests sometimes rely on certain environment variables being
       defined. For example, certain tests assume that MYSQL_TEST is
       defined so that <b>mysqltest </b>can invoke itself with exec
       $MYSQL_TEST.

       Other tests may refer to the last three variables listed in the
       preceding table, to locate files to read or write. For example,
       tests that need to create files will typically put them in
       $MYSQL_TMP_DIR/<i>file_name</i>.

       If you are running <b>mysql-test-run.pl </b>version 1 by setting
       MTR_VERSION, note that this only affects the test driver, not the
       test client (and its language) or the tests themselves.

       A few tests might not run with version 1 because they depend on
       some feature of version 2. You may have those tests skipped by
       adding the test name to the file lib/v1/incompatible.tests. This
       feature is available from MySQL 5.1.40.

       <b>mysql-test-run.pl </b>supports the options in the following list. An
       argument of <b>-- </b>tells <b>mysql-test-run.pl </b>not to process any
       following arguments as options.

       •   <b>--help</b>, <b>-h</b>

           Display a help message and exit.

       •   <b>--big-test</b>

           Allow tests marked as "big" to run. Tests can be thus marked
           by including the line <b>--source include/big_test.inc</b>, and they
           will only be run if this option is given, or if the
           environment variable BIG_TEST is set to 1. Repeat this option
           twice to run only "big" tests.

           This is typically used for tests that take a very long to
           run, or that use many resources, so that they are not
           suitable for running as part of a normal test suite run.

       •   <b>--boot-dbx</b>

           Run the mysqld server used for bootstrapping the database
           through the dbx debugger.

       •   <b>--boot-ddd</b>

           Run the mysqld server used for bootstrapping the database
           through the ddd debugger.

       •   <b>--boot-gdb</b>

           Run the mysqld server used for bootstrapping the database
           through the gdb debugger.

       •   <b>--[mtr-]build-thread=</b><i>number</i>

           Specify a number to calculate port numbers from. The formula
           is 10 * <i>build_thread</i> + 10000. Instead of a number, it can be
           set to auto, which is also the default value, in which case
           <b>mysql-test-run.pl </b>will allocate a number unique to this host.

           The value (number or auto) can also be set with the
           MTR_BUILD_THREAD environment variable.

           The more logical <b>--port-base </b>is supported as an alternative.

       •   <b>--callgrind</b>

           Instructs <b>valgrind </b>to use <b>callgrind</b>.

       •   <b>--check-testcases</b>

           Check test cases for side effects. This is done by checking
           system state before and after each test case; if there is any
           difference, a warning to that effect will be written, but the
           test case will not be marked as failed because of it. This
           check is enabled by default.

       •   <b>--client-bindir=</b><i>path</i>

           The path to the directory where client binaries are located.

       •   <b>--client-dbx</b>

           Start <b>mysqltest </b>in the <b>dbx </b>debugger.

       •   <b>--client-ddd</b>

           Start <b>mysqltest </b>in the <b>ddd </b>debugger.

       •   <b>--client-debugger=</b><i>debugger</i>

           Start <b>mysqltest </b>in the named debugger.

       •   <b>--client-gdb</b>

           Start <b>mysqltest </b>in the <b>gdb </b>debugger.

       •   <b>--client-libdir=</b><i>path</i>

           The path to the directory where client libraries are located.

       •   <b>--combination=</b><i>value</i>

           Extra options to pass to <b>mysqld</b>. The value should consist of
           one or more comma-separated <b>mysqld </b>options. This option is
           similar to <b>--mysqld </b>but should be given two or more times.
           <b>mysql-test-run.pl </b>executes multiple test runs, using the
           options for each instance of <b>--combination </b>in successive
           runs. If <b>--combination </b>is given only once, it has no effect.
           For test runs specific to a given test suite, an alternative
           to the use of <b>--combination </b>is to create a combinations file
           in the suite directory. The file should contain a section of
           options for each test run.

       •   <b>--comment=</b><i>str</i>

           Write <i>str</i> to the output within lines filled with #, as a form
           of banner.

       •   <b>--compress</b>

           Compress all information sent between the client and the
           server if both support compression.

       •   <b>--cursor-protocol</b>

           Use the cursor protocol between client and server (implies
           <b>--ps-protocol</b>).

       •   <b>--dbx</b>

           Start the <b>mysqld(s) </b>in the <b>dbx </b>debugger.

       •   <b>--ddd</b>

           Start the <b>mysqld(s) </b>in the <b>ddd </b>debugger.

       •   <b>--debug</b>

           Dump trace output for all clients and servers.

       •   <b>--debug-common</b>

           Same as <b>--debug</b>, but sets the 'd' debug flags to
           "query,info,error,enter,exit".

       •   <b>--debug-server</b>

           Use debug version of server, but without turning on tracing.

       •   <b>--debugger=</b><i>debugger</i>

           Start <b>mysqld </b>using the named debugger.

       •   <b>--debug-sync-timeout=</b><i>N</i>

           Controls whether the Debug Sync facility for testing and
           debugging is enabled. The option value is a timeout in
           seconds. The default value is 300. A value of 0 disables
           Debug Sync. The value of this option also becomes the default
           timeout for individual synchronization points.

           <b>mysql-test-run.pl </b>passes <b>--loose-debug-sync-timeout=</b><i>N</i> to
           <b>mysqld</b>. The <b>--loose </b>prefix is used so that <b>mysqld </b>does not
           fail if Debug Sync is not compiled in.

       •   <b>--defaults-file=</b><i>file_name</i>

           Use the named file as fixed config file template for all
           tests.

       •   <b>--defaults_extra_file=</b><i>file_name</i>

           Add setting from the named file to all generated configs.

       •   <b>--do-test=</b><i>prefix</i>|<i>regex</i>

           Run all test cases having a name that begins with the given
           <i>prefix</i> value, or fulfils the <i>regex</i>. This option provides a
           convenient way to run a family of similarly named tests.

           The argument for the <b>--do-test </b>option also allows more
           flexible specification of which tests to perform. If the
           argument contains a pattern metacharacter other than a lone
           period, it is interpreted as a Perl regular expression and
           applies to test names that match the pattern. If the argument
           contains a lone period or does not contain any pattern
           metacharacters, it is interpreted the same way as previously
           and matches test names that begin with the argument value.
           For example, <b>--do-test=testa </b>matches tests that begin with
           testa, <b>--do-test=main.testa </b>matches tests in the main test
           suite that begin with testa, and <b>--do-test=main.*testa</b>
           matches test names that contain main followed by testa with
           anything in between. In the latter case, the pattern match is
           not anchored to the beginning of the test name, so it also
           matches names such as xmainytestz.

       •   <b>--dry-run</b>

           Don't run any tests, print the list of tests that were
           selected for execution.

       •   <b>--embedded-server</b>

           Use a version of <b>mysqltest </b>built with the embedded server.

       •   <b>--enable-disabled</b>

           Ignore any disabled.def file, and also run tests marked as
           disabled. Success or failure of those tests will be reported
           the same way as other tests.

       •   <b>--experimental=</b><i>file_name</i>

           Specify a file that contains a list of test cases that should
           be displayed with the [ exp-fail ] code rather than [ fail ]
           if they fail.

           For an example of a file that might be specified via this
           option, see mysql-test/collections/default.experimental.

       •   <b>--extern </b><i>option</i>=<i>value</i>

           Use an already running server. The option/value pair is what
           is needed by the <b>mysql </b>client to connect to the server. Each
           <b>--extern </b>option can only take one option/value pair as an
           argument, so you need to repeat <b>--extern </b>for each pair
           needed. Example:

                     ./mysql-test-run.pl --extern socket=var/tmp/mysqld.1.sock alias

           Note: If a test case has an .opt file that requires the
           server to be restarted with specific options, the file will
           not be used. The test case likely will fail as a result.

       •   <b>--fast</b>

           Do not perform controlled shutdown when servers need to be
           restarted or at the end of the test run. This is equivalent
           to using --shutdown-timeout=0.

       •   <b>--force-restart</b>

           Always restart servers between tests.

       •   <b>--force</b>

           Normally, <b>mysql-test-run.pl </b>exits if a test case fails.
           <b>--force </b>causes execution to continue regardless of test case
           failure.

       •   <b>--gcov</b>

           Collect coverage information after the test. The result is a
           <b>gcov </b>file per source and header file.

       •   <b>--gcov-src-dir</b>

           Colllect coverage only within the given subdirectory. For
           example, if you're only developing the SQL layer, it makes
           sense to use <b>--gcov-src-dir=sql</b>.

       •   <b>--gdb</b>

           Start the <b>mysqld(s) </b>in the <b>gdb </b>debugger.

       •   <b>--gprof</b>

           Collect profiling information using the <b>gprof </b>profiling tool.

       •   <b>--manual-dbx</b>

           Use a server that has already been started by the user in the
           <b>dbx </b>debugger.

       •   <b>--manual-ddd</b>

           Use a server that has already been started by the user in the
           <b>ddd </b>debugger.

       •   <b>--manual-debug</b>

           Use a server that has already been started by the user in a
           debugger.

       •   <b>--manual-gdb</b>

           Use a server that has already been started by the user in the
           <b>gdb </b>debugger.

       •   <b>--manual-lldb</b>

           Use a server that has already been started by the user in the
           <b>lldb </b>debugger.

       •   <b>--mark-progress</b>

           Marks progress with timing (in milliseconds) and line number
           in var/log/<i>testname</i>.progress.

       •   <b>--max-connections=</b><i>num</i>

           The maximum number of simultaneous server connections that
           may be used per test. If not set, the maximum is 128. Minimum
           allowed limit is 8, maximum is 5120. Corresponds to the same
           option for <b>mysqltest</b>.

       •   <b>--max-save-core=</b><i>N</i>

           Limit the number of core files saved, to avoid filling up
           disks in case of a frequently crashing server. Defaults to 5,
           set to 0 for no limit. May also be set with the environment
           variable MTR_MAX_SAVE_CORE

       •   <b>--max-save-datadir=</b><i>N</i>

           Limit the number of data directories saved after failed
           tests, to avoid filling up disks in case of frequent
           failures. Defaults to 20, set to 0 for no limit. May also be
           set with the environment variable MTR_MAX_SAVE_DATADIR

       •   <b>--max-test-fail=</b><i>N</i>

           Stop execution after the specified number of tests have
           failed, to avoid using up resources (and time) in case of
           massive failures. retries are not counted, nor are failures
           of tests marked experimental. Defaults to 10, set to 0 for no
           limit. May also be set with the environment variable
           MTR_MAX_TEST_FAIL

       •   <b>--mem</b>

           This option is not supported on Windows.

           Run the test suite in memory, using tmpfs or ramdisk. This
           can decrease test times significantly, in particular if you
           would otherwise be running over a remote file system.
           <b>mysql-test-run.pl </b>attempts to find a suitable location using
           a built-in list of standard locations for tmpfs and puts the
           var directory there. This option also affects placement of
           temporary files, which are created in var/tmp.

           The default list includes /dev/shm. You can also enable this
           option by setting the environment variable
           MTR_MEM[=<i>dir_name</i>]. If <i>dir_name</i> is given, it is added to the
           beginning of the list of locations to search, so it takes
           precedence over any built-in locations.

           Once you have run tests with <b>--mem </b>within a
           mysql-testdirectory, a soflink var will have been set up to
           the temporary directory, and this will be re-used the next
           time, until the soflink is deleted. Thus, you do not have to
           repeat the <b>--mem </b>option next time.

       •   <b>--mysqld=</b><i>value</i>

           Extra options to pass to <b>mysqld</b>. The value should consist of
           one or more comma-separated <b>mysqld </b>options.

       •   <b>--mysqld-env=</b><i>VAR=VAL</i>

           Specify additional environment settings for "mysqld". Use
           additional <b>--mysqld-env </b>options to set more than one
           variable.

       •   <b>--nocheck-testcases</b>

           Disable the check for test case side effects; see
           <b>--check-testcases </b>for a description.

       •   <b>--noreorder</b>

           Do not reorder tests to reduce number of restarts, but run
           them in exactly the order given. If a whole suite is to be
           run, the tests are run in alphabetical order, though similar
           combinations will be grouped together. If more than one suite
           is listed, the tests are run one suite at a time, in the
           order listed.

       •   <b>--notimer</b>

           Cause <b>mysqltest </b>not to generate a timing file. The effect of
           this is that the report from each test case does not include
           the timing in milliseconds as it normally does.

       •   <b>--nowarnings</b>

           Do not look for and report errors and warning in the server
           logs.

       •   <b>--parallel={</b><i>N</i><b>|auto}</b>

           Run tests using <i>N</i> parallel threads. By default, 1 thread is
           used. Use <b>--parallel=auto </b>for auto-setting of <i>N</i>.

       •   <b>--[mtr-]port-base=</b><i>P</i>

           Specify base of port numbers to be used; a block of 10 will
           be allocated.  <i>P</i> should be divisible by 10; if it is not, it
           will be rounded down. If running with more than one parallel
           test thread, thread 2 will use the next block of 10 and so
           on.

           If the port number is given as auto, which is also the
           default, <b>mysql-test-run.pl </b>will allocate a number unique to
           this host. The value may also be given with the environment
           variable MTR_PORT_BASE.

           If both <b>--build-thread </b>and <b>--port-base </b>are used, <b>--port-base</b>
           takes precedence.

       •   <b>--print-testcases</b>

           Do not run any tests, but print details about all tests, in
           the order they would have been run.

       •   <b>--ps-protocol</b>

           Use the binary protocol between client and server.

       •   <b>--record</b>

           Pass the <b>--record </b>option to <b>mysqltest</b>. This option requires a
           specific test case to be named on the command line.

       •   <b>--reorder</b>

           Reorder tests to minimize the number of server restarts
           needed. This is the default behavior. There is no guarantee
           that a particular set of tests will always end up in the same
           order.

       •   <b>--repeat=</b><i>N</i>

           Run each test <i>N</i> number of times.

       •   <b>--report-features</b>

           First run a "test" that reports MariaDB features, displaying
           the output of SHOW ENGINES and SHOW VARIABLES. This can be
           used to verify that binaries are built with all required
           features.

       •   <b>--report-times</b>

           Report how much time has been spent on different phases of
           test execution.

       •   <b>--retry=</b><i>N</i>

           If a test fails, it is retried up to a maximum of <i>N</i> runs
           (default 1). Retries are also limited by the maximum number
           of failures before stopping, set with the <b>--retry-failure</b>
           option. This option has no effect unless <b>--force </b>is also
           used; without it, test execution will terminate after the
           first failure.

           The <b>--retry </b>and <b>--retry-failure </b>options do not affect how
           many times a test repeated with <b>--repeat </b>may fail in total,
           as each repetition is considered a new test case, which may
           in turn be retried if it fails.

       •   <b>--retry-failure=</b><i>N</i>

           When using the <b>--retry </b>option to retry failed tests, stop
           when N failures have occurred (default 2). Setting it to 0 or
           1 effectively turns off retries.

       •   <b>--shutdown-timeout=</b><i>SECONDS</i>

           Max number of seconds to wait for servers to do controlled
           shutdown before killing them. Default is 10.

       •   <b>--skip-combinations</b>

           Do not apply combinations; ignore combinations file or
           option.

       •   <b>--skip-rpl</b>

           Skip replication test cases.

       •   <b>--skip-ssl</b>

           Do not start <b>mysqld </b>with support for SSL connections.

       •   <b>--skip-test=</b><i>regex</i>|<i>regex</i>

           Specify a regular expression to be applied to test case
           names. Cases with names that match the expression are
           skipped. tests to skip.

           The argument for the <b>--skip-test </b>option allows more flexible
           specification of which tests to skip. If the argument
           contains a pattern metacharacter other than a lone period, it
           is interpreted as a Perl regular expression and applies to
           test names that match the pattern. See the description of the
           <b>--do-test </b>option for details.

       •   <b>--skip-test-list=</b><i>FILE</i>

           Skip the tests listed in FILE. Each line in the file is an
           entry and should be formatted as: &lt;TESTNAME&gt; : &lt;COMMENT&gt;

       •   <b>--skip-*</b>

           <b>--skip-* </b>options not otherwise recognized by
           <b>mysql-test-run.pl </b>are passed to the master server.

       •   <b>--sleep=</b><i>N</i>

           Pass <b>--sleep=</b><i>N</i> to <b>mysqltest</b>.

       •   <b>--sp-protocol</b>

           Create a stored procedure to execute all queries.

       •   <b>--ssl</b>

           If <b>mysql-test-run.pl </b>is started with the <b>--ssl </b>option, it
           sets up a secure connection for all test cases. In this case,
           if <b>mysqld </b>does not support SSL, <b>mysql-test-run.pl </b>exits with
           an error message: Couldn´t find support for SSL

       •   <b>--staging-run</b>

           Run a limited number of tests (no slow tests). Used for
           running staging trees with valgrind.

       •   <b>--start</b>

           Initialize and start servers with the startup settings for
           the specified test case. You can use this option to start a
           server to which you can connect later. For example, after
           building a source distribution you can start a server and
           connect to it with the <b>mysql </b>client like this:

               shell&gt; <b>cd mysql-test</b>
               shell&gt; <b>./mysql-test-run.pl --start alias &amp;</b>
               shell&gt; <b>../mysql -S ./var/tmp/master.sock -h localhost -u root</b>

           If no tests are named on the command line, the server(s) will
           be started with settings for the first test that would have
           been run without the <b>--start </b>option.

           <b>mysql-test-run.pl </b>will stop once the server has been started,
           but will terminate if the server dies. If killed, it will
           also shut down the server.

       •   <b>--start-and-exit</b>

           Same <b>--start</b>, but mysql-test-run terminates and leaves just
           the server running.

       •   <b>--start-dirty</b>

           This is similar to <b>--start</b>, but will skip the database
           initialization phase and assume that database files are
           already available. Usually this means you must have run
           another test first.

       •   <b>--start-from=</b><i>test_name</i>

           <b>mysql-test-run.pl </b>sorts the list of names of the test cases
           to be run, and then begins with <i>test_name</i>.

       •   <b>--strace</b>

           Run the "mysqld" executables using strace. Default options
           are <b>-f -o var/log/'mysqld-name'.strace</b>.

       •   <b>--strace-client</b>

           Create <b>strace </b>output for <b>mysqltest</b>, optionally specifying
           name and path to the trace program to use.

           Example: ./mysql-test-run.pl --strace-client=ktrace

       •   <b>--strace-option</b>=<i>ARGS</i>

           Option to give <b>strace</b>, replaces default option(s).

       •   <b>--stress=</b><i>ARGS</i>

           Run stress test, providing options to mysql-stress-test.pl.
           Options are separated by comma.

       •   <b>--suite[s]=</b><i>suite_name...</i>

           Comma separated list of suite names to run. The default is:
           "main-,archive-,binlog-,csv-,federated-,funcs_1-,funcs_2-,
           handler-,heap-,innodb-,innodb_fts-,innodb_zip-,maria-,
           multi_source-,optimizer_unfixed_bugs-,parts-,perfschema-,
           plugins-,roles-,rpl-,sys_vars-,unit-,vcol-".

       •   <b>--stop-file=</b><i>file</i>

           If this file is detected, mysqltest will not start new tests
           until the file is removed (also MTR_STOP_FILE environment
           variable).

       •   <b>--stop-keep-alive=</b><i>sec</i>

           Works with <b>--stop-file</b>, print messages every <i>sec</i> seconds when
           mysqltest is waiting to remove the file (for buildbot) (also
           MTR_STOP_KEEP_ALIVE environment variable).

       •   <b>--suite-timeout=</b><i>minutes</i>

           Specify the maximum test suite runtime in minutes. The
           default is 360.

       •   <b>--testcase-timeout</b>

           Specify the maximum test case runtime in minutes. The default
           is 15.

       •   <b>--timediff</b>

           Used with <b>--timestamp</b>, also print time passed since the
           previous test started.

       •   <b>--timer</b>

           Cause <b>mysqltest </b>to generate a timing file. The default file
           is named ./var/log/timer.

       •   <b>--timestamp</b>

           Prints a timestamp before the test case name in each test
           report line, showing when the test ended.

       •   <b>--tmpdir=</b><i>path</i>

           The directory where temporary file are stored. The default
           location is ./var/tmp. The environment variable MYSQL_TMP_DIR
           will be set to the path for this directory, whether it has
           the default value or has been set explicitly. This may be
           referred to in tests.

       •   <b>--user=</b><i>user_name</i>

           The MariaDB user name to use when connecting to the server
           (default root).

       •   <b>--user-args</b>

           In combination with <b>start* </b>and no test name, drops arguments
           to mysqld except those specified with <b>--mysqld </b>(if any).

       •   <b>--valgrind[-all]</b>

           Run <b>mysqltest </b>and <b>mysqld </b>with <b>valgrind</b>. This and the
           following <b>--valgrind </b>options require that the executables
           have been built with <b>valgrind </b>support.

       •   <b>--valgrind-mysqld</b>

           Run the <b>mysqld </b>server with <b>valgrind</b>.

       •   <b>--valgrind-mysqltest</b>

           Run the <b>mysqltest </b>and <b>mysql_client_test </b>executables with
           <b>valgrind</b>.

       •   <b>--valgrind-option=</b><i>str</i>

           Option to give <b>valgrind</b>. Replaces default option(s). Can be
           specified more then once&amp;.

       •   <b>--valgrind-path=</b><i>path</i>

           Path to the <b>valgrind </b>executable.

       •   <b>--vardir=</b><i>path</i>

           Specify the path where files generated during the test run
           are stored. The default location is ./var. The environment
           variable MYSQLTEST_VARDIR will be set to the path for this
           directory, whether it has the default value or has been set
           explicitly. This may be referred to in tests.

       •   <b>--verbose</b>

           Give more verbose output regarding test execution. Use the
           option twice to get even more output. Note that the output
           generated within each test case is not affected.

       •   <b>--verbose-restart</b>

           Write when and why servers are restarted between test cases.

       •   <b>--view-protocol</b>

           Create a view to execute all non updating queries.

       •   <b>--vs-config=</b><i>config_val</i>

           Visual Studio configuration used to create executables
           (default: MTR_VS_CONFIG environment variable) This option is
           for Windows only.

       •   <b>--wait-all</b>

           If <b>--start </b>or <b>--start-dirty </b>is used, wait for all servers to
           exit before termination. Otherwise, it will terminate if one
           (of several) servers is restarted.

       •   <b>--warnings</b>

           Search the server log for errors or warning after each test
           and report any suspicious ones; if any are found, the test
           will be marked as failed. This is the default behavior, it
           may be turned off with <b>--nowarnings</b>.
</pre> <h2>
COPYRIGHT </h2>
<pre>
       Copyright © 2007, 2010, Oracle and/or its affiliates, 2010-2020
       MariaDB Foundation

       This documentation is free software; you can redistribute it
       and/or modify it only under the terms of the GNU General Public
       License as published by the Free Software Foundation; version 2
       of the License.

       This documentation is distributed in the hope that it will be
       useful, but WITHOUT ANY WARRANTY; without even the implied
       warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
       See the GNU General Public License for more details.

       You should have received a copy of the GNU General Public License
       along with the program; if not, write to the Free Software
       Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
       02110-1335 USA or see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
</pre> <h2>
SEE ALSO </h2>
<pre>
       For more information, please refer to the MariaDB Knowledge Base,
       available online at <a href="https://mariadb.com/kb/">https://mariadb.com/kb/</a>
</pre> <h2>
AUTHOR </h2>
<pre>
       MariaDB Foundation (<a href="http://www.mariadb.org/">http://www.mariadb.org/</a>).
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>MariaDB</i> (MariaDB database server)
       project.  Information about the project can be found at 
       ⟨<a href="http://mariadb.org/">http://mariadb.org/</a>⟩.  If you have a bug report for this manual
       page, see ⟨<a href="https://mariadb.com/kb/en/mariadb/reporting-bugs/">https://mariadb.com/kb/en/mariadb/reporting-bugs/</a>⟩.
       This page was obtained from the project's upstream Git repository
       ⟨<a href="https://github.com/MariaDB/server">https://github.com/MariaDB/server</a>⟩ on 2024-06-14.  (At that
       time, the date of the most recent commit that was found in the
       repository was 2023-05-11.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">                                                        <i>MYSQL-TEST-RUN</i>()</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man1/mysql-test-run.pl.1.html" class="_attribution-link">https://man7.org/linux/man-pages/man1/mysql-test-run.pl.1.html</a>
  </p>
</div>
