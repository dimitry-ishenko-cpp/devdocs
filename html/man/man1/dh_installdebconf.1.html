<h1>dh_installdebconf(1) — Linux manual page</h1>   <pre>
<span class="headline"><i>DH_INSTALLDEBCONF</i>(1)            Debhelper           <i>DH_INSTALLDEBCONF</i>(1)</span>
</pre> <h2>
NAME </h2>
<pre>
       dh_installdebconf - install files used by debconf in package
       build directories
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>dh_installdebconf </b>[<i>debhelper options</i>] [<b>-n</b>] [<b>-- </b><i>params</i>]
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>dh_installdebconf </b>is a debhelper program that is responsible for
       installing files used by debconf into package build directories.

       It also automatically generates the <i>postrm</i> commands needed to
       interface with debconf. The commands are added to the maintainer
       scripts by <b>dh_installdeb</b>. See <a href="dh_installdeb.1.html">dh_installdeb(1)</a> for an explanation
       of how that works.

       Note that if you use debconf, your package probably needs to
       depend on it (it will be added to <b>${misc:Depends} </b>by this
       program).

       Note that for your config script to be called by <b>dpkg</b>, your
       <i>postinst</i> needs to source debconf's confmodule. <b>dh_installdebconf</b>
       does not install this statement into the <i>postinst</i> automatically
       as it is too hard to do it right.
</pre> <h2>
FILES </h2>
<pre>
       debian/<i>package</i>.config
           This is the debconf <i>config</i> script, and is installed into the
           <i>DEBIAN</i> directory in the package build directory.

           Inside the script, the token <b>#DEBHELPER# </b>is replaced with
           shell script snippets generated by other debhelper commands.

       debian/<i>package</i>.templates
           This is the debconf <i>templates</i> file, and is installed into the
           <i>DEBIAN</i> directory in the package build directory.

       <i>debian/po/</i>
           If this directory is present, this program will automatically
           use <b>po2debconf</b>(1) to generate merged templates files that
           include the translations from there.

           For this to work, your package should build-depend on <i>po-</i>
           <i>debconf</i>.
</pre> <h2>
OPTIONS </h2>
<pre>
       <b>-n</b>, <b>--no-scripts</b>
           Do not modify <i>postrm</i> script.

       <b>-- </b><i>params</i>
           Pass the params to <b>po2debconf</b>.

       <b>-D</b><i>TOKEN=VALUE</i>, <b>--define </b><i>TOKEN=VALUE</i>
           Define tokens to be replaced inside the maintainer scripts
           when it is generated.  Please note that the limitations
           described in "Limitations in token names" also applies to
           tokens defined on the command line.  Invalid token names will
           trigger an error.

           In the simple case, this parameter will cause <b>#<i>TOKEN</i># </b>to be
           replaced by <i>VALUE</i>.  If <i>VALUE</i> starts with a literal <i>@</i>-sign,
           then <i>VALUE</i> is expected to point to a file containing the
           actual value to insert.

           An explicit declared token with this parameter will replace
           built-in tokens.

           Test examples to aid with the understanding:

                   cat &gt;&gt; debian/config &lt;&lt;EOF
                   #SIMPLE#
                   #FILEBASED#
                   EOF
                   echo -n "Complex value" &gt; some-file
               dh_installdeb --define SIMPLE=direct --define FILEBASED=@some-file

           In this example, <b>#SIMPLE# </b>will expand to <b>direct </b>and
           <b>#FILEBASED# </b>will expand to <b>Complex value</b>.

           It is also possible to set package-specific values for a
           given token.  This is useful when <b>dh_installdebconf </b>is acting
           on multiple packages that need different values for the same
           token.  This is done by prefixing the token name with
           <b>pkg.<i>package-name</i>.</b>.

           This can be used as in the following example:

                   cat &gt;&gt; debian/foo.config &lt;&lt;EOF
                   # Script for #PACKAGE#
                   #TOKEN#
                   EOF
                   cat &gt;&gt; debian/bar.config &lt;&lt;EOF
                   # Script for #PACKAGE#
                   #TOKEN#
                   EOF
                   cat &gt;&gt; debian/baz.config &lt;&lt;EOF
                   # Script for #PACKAGE#
                   #TOKEN#
                   EOF
               dh_installdebconf -pfoo -pbar -pbaz  --define TOKEN=default --define pkg.bar.TOKEN=unique-bar-value \
                 --define pkg.baz.TOKEN=unique-baz-value

           In this example, <b>#TOKEN# </b>will expand to <b>default </b>in
           <i>debian/foo.config</i>, to <b>unique-bar-value </b>in <i>debian/bar.config</i>
           and to <b>unique-baz-value </b>in <i>debian/baz.config</i>.

           Note that the <b>#pkg.*# </b>tokens will be visible in all scripts
           acted on.  E.g.  you can refer to <b>#pkg.bar.TOKEN# </b>inside
           <i>debian/foo.config</i> and it will be replaced by <b>unique-bar-</b>
           <b>value</b>.
</pre> <h2>
SUBSTITUTION IN MAINTAINER SCRIPTS </h2>
<pre>
       The <b>dh_installdebconf </b>will automatically replace the following
       tokens inside a provided maintainer script (if not replaced via
       <b>-D</b>/<b>--define</b>):

       #DEB_HOST_<i>NAME</i>#, #DEB_BUILD_<i>NAME</i>#, #DEB_TARGET_<i>NAME</i>#
           These tokens are replaced with the respective variable from
           <a href="dpkg-architecture.1.html">dpkg-architecture(1)</a>.  In almost all cases, you will want use
           the <b>#DEB_HOST_<i>NAME</i> </b>variant in a script to ensure you get the
           right value when cross-building.

           On a best effort, tokens of this pattern that do not match a
           variable in <a href="dpkg-architecture.1.html">dpkg-architecture(1)</a> will be left as-is.

       #ENV.<i>NAME</i>#
           These tokens of this form will be replaced with value of the
           corresponding environment variable.  If the environment
           variable is unset, the token is replaced with the empty
           string.

           Note that there are limits on which names can be used (see
           "Limitations in token names").

       #PACKAGE#
           This token is by default replaced by the package name, which
           will contain the concrete script.

   <b>Limitations in token names</b>
       All tokens intended to be substituted must match the regex:
       #[A-Za-z0-9_.+]+#

       Tokens that do not match that regex will be silently ignored if
       found in the script template.  Invalid token names passed to <b>-D</b>
       or <b>--define </b>will cause <b>dh_installdebconf </b>to reject the command
       with an error in most cases.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man7/debhelper.7.html">debhelper(7)</a>

       This program is a part of debhelper.
</pre> <h2>
AUTHOR </h2>
<pre>
       Joey Hess &lt;joeyh@debian.org&gt;
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>debhelper</i> (helper programs for
       debian/rules) project.  Information about the project can be
       found at [unknown -- if you know, please contact man-
       pages@man7.org] If you have a bug report for this manual page,
       send it to submit@bugs.debian.org.  This page was obtained from
       the project's upstream Git repository
       ⟨<a href="https://salsa.debian.org/debian/debhelper.git">https://salsa.debian.org/debian/debhelper.git</a>⟩ on 2024-06-14.
       (At that time, the date of the most recent commit that was found
       in the repository was 2024-06-09.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">13.11.7                        2023-09-12           <i>DH_INSTALLDEBCONF</i>(1)</span>
</pre>  <p>Pages that refer to this page: <a href="../man7/debhelper.7.html">debhelper(7)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man1/dh_installdebconf.1.html" class="_attribution-link">https://man7.org/linux/man-pages/man1/dh_installdebconf.1.html</a>
  </p>
</div>
