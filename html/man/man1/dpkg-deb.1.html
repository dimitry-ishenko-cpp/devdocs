<h1>dpkg-deb(1) — Linux manual page</h1>   <pre>
<span class="headline"><i>dpkg-deb</i>(1)                    dpkg suite                    <i>dpkg-deb</i>(1)</span>
</pre> <h2>
NAME </h2>
<pre>
       dpkg-deb - Debian package archive (.deb) manipulation tool
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>dpkg-deb </b>[<i>option</i>...] <i>command</i>
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>dpkg-deb </b>packs, unpacks and provides information about Debian
       archives.

       Use <b>dpkg </b>to install and remove packages from your system.

       You can also invoke <b>dpkg-deb </b>by calling <b>dpkg </b>with whatever
       options you want to pass to <b>dpkg-deb</b>.  <b>dpkg </b>will spot that you
       wanted <b>dpkg-deb </b>and run it for you.

       For most commands taking an input archive argument, the archive
       can be read from standard input if the archive name is given as a
       single minus character («<b>-</b>»); otherwise lack of support will be
       documented in their respective command description.
</pre> <h2>
COMMANDS </h2>
<pre>
       <b>-b</b>, <b>--build </b><i>binary-directory</i> [<i>archive</i>|<i>directory</i>]
           Creates a debian archive from the filesystem tree stored in
           <i>binary-directory</i>.  <i>binary-directory</i> must have a <b>DEBIAN</b>
           subdirectory, which contains the control information files
           such as the control file itself.  This directory will <i>not</i>
           appear in the binary package's filesystem archive, but
           instead the files in it will be put in the binary package's
           control information area.

           Unless you specify <b>--nocheck</b>, <b>dpkg-deb </b>will read
           <b>DEBIAN/control </b>and parse it.  It will check the file for
           syntax errors and other problems, and display the name of the
           binary package being built.  <b>dpkg-deb </b>will also check the
           permissions of the maintainer scripts and other files found
           in the <b>DEBIAN </b>control information directory.

           If no <i>archive</i> is specified then <b>dpkg-deb </b>will write the
           package into the file <i>binary-directory</i><b>.deb</b>.

           If the archive to be created already exists it will be
           overwritten.

           If the second argument is a directory then <b>dpkg-deb </b>will
           write to the file <i>directory</i><b>/</b><i>package</i><b>_</b><i>version</i><b>_</b><i>arch</i><b>.deb.  </b>When a
           target directory is specified, rather than a file, the
           <b>--nocheck </b>option may not be used (since <b>dpkg-deb </b>needs to
           read and parse the package control file to determine which
           filename to use).

       <b>-I</b>, <b>--info </b><i>archive</i> [<i>control-file-name</i>...]
           Provides information about a binary package archive.

           If no <i>control-file-name</i>s are specified then it will print a
           summary of the contents of the package as well as its control
           file.

           If any <i>control-file-name</i>s are specified then <b>dpkg-deb </b>will
           print them in the order they were specified; if any of the
           components weren't present it will print an error message to
           stderr about each one and exit with status 2.

       <b>-W</b>, <b>--show </b><i>archive</i>
           Provides information about a binary package archive in the
           format specified by the <b>--showformat </b>argument.  The default
           format displays the package's name and version on one line,
           separated by a tabulator.

       <b>-f</b>, <b>--field </b><i>archive</i> [<i>control-field-name</i>...]
           Extracts control file information from a binary package
           archive.

           If no <i>control-field-name</i>s are specified then it will print
           the whole control file.

           If any are specified then <b>dpkg-deb </b>will print their contents,
           in the order in which they appear in the control file.  If
           more than one <i>control-field-name</i> is specified then <b>dpkg-deb</b>
           will precede each with its field name (and a colon and
           space).

           No errors are reported for fields requested but not found.

       <b>-c</b>, <b>--contents </b><i>archive</i>
           Lists the contents of the filesystem tree archive portion of
           the package archive.  It is currently produced in the format
           generated by <b>tar</b>'s verbose listing.

       <b>-x</b>, <b>--extract </b><i>archive directory</i>
           Extracts the filesystem tree from a package archive into the
           specified directory.

           Note that extracting a package to the root directory will <i>not</i>
           result in a correct installation!  Use <b>dpkg </b>to install
           packages.

           <i>directory</i> (but not its parents) will be created if necessary,
           and its permissions modified to match the contents of the
           package.

       <b>-X</b>, <b>--vextract </b><i>archive directory</i>
           Is like <b>--extract </b>(<b>-x</b>) with <b>--verbose </b>(<b>-v</b>) which prints a
           listing of the files extracted as it goes.

       <b>-R</b>, <b>--raw-extract </b><i>archive directory</i>
           Extracts the filesystem tree from a package archive into a
           specified directory, and the control information files into a
           <b>DEBIAN </b>subdirectory of the specified directory (since dpkg
           1.16.1).

           The target directory (but not its parents) will be created if
           necessary.

           The input archive is not (currently) processed sequentially,
           so reading it from standard input («<b>-</b>») is <b>not </b>supported.

       <b>--ctrl-tarfile </b><i>archive</i>
           Extracts the control data from a binary package and sends it
           to standard output in <b>tar </b>format (since dpkg 1.17.14).
           Together with <a href="tar.1.html">tar(1)</a> this can be used to extract a particular
           control file from a package archive.  The input archive will
           always be processed sequentially.

       <b>--fsys-tarfile </b><i>archive</i>
           Extracts the filesystem tree data from a binary package and
           sends it to standard output in <b>tar </b>format.  Together with
           <a href="tar.1.html">tar(1)</a> this can be used to extract a particular file from a
           package archive.  The input archive will always be processed
           sequentially.

       <b>-e</b>, <b>--control </b><i>archive</i> [<i>directory</i>]
           Extracts the control information files from a package archive
           into the specified directory.

           If no directory is specified then a subdirectory <b>DEBIAN </b>in
           the current directory is used.

           The target directory (but not its parents) will be created if
           necessary.

       <b>-?</b>, <b>--help</b>
           Show the usage message and exit.

       <b>--version</b>
           Show the version and exit.
</pre> <h2>
OPTIONS </h2>
<pre>
       <b>--showformat=</b><i>format</i>
           This option is used to specify the format of the output
           <b>--show </b>will produce.  The format is a string that will be
           output for each package listed.

           The string may reference any status field using the “${<i>field-</i>
           <i>name</i>}” form, a list of the valid fields can be easily
           produced using <b>-I </b>on the same package.  A complete
           explanation of the formatting options (including escape
           sequences and field tabbing) can be found in the explanation
           of the <b>--showformat </b>option in <a href="dpkg-query.1.html">dpkg-query(1)</a>.

           The default for this field is “${Package}\t${Version}\n”.

       <b>-z</b><i>compress-level</i>
           Specify which compression level to use on the compressor
           backend, when building a package (default is 9 for gzip, 6
           for xz, 3 for zstd).  The accepted values are compressor
           specific.  For gzip, from 0-9 with 0 being mapped to
           compressor none.  For xz from 0-9.  For zstd from 0-22, with
           levels from 20 to 22 enabling its ultra mode.  Before dpkg
           1.16.2 level 0 was equivalent to compressor none for all
           compressors.

       <b>-S</b><i>compress-strategy</i>
           Specify which compression strategy to use on the compressor
           backend, when building a package (since dpkg 1.16.2).
           Allowed values are <b>none </b>(since dpkg 1.16.4), <b>filtered</b>,
           <b>huffman</b>, <b>rle </b>and <b>fixed </b>for gzip (since dpkg 1.17.0) and
           <b>extreme </b>for xz.

       <b>-Z</b><i>compress-type</i>
           Specify which compression type to use when building a
           package.  Allowed values are <b>gzip</b>, <b>xz </b>(since dpkg 1.15.6),
           <b>zstd </b>(since dpkg 1.21.18) and <b>none </b>(default is <b>xz</b>).

       <b>--[no-]uniform-compression</b>
           Specify that the same compression parameters should be used
           for all archive members (i.e. <b>control.tar </b>and <b>data.tar</b>; since
           dpkg 1.17.6).  Otherwise only the <b>data.tar </b>member will use
           those parameters.  The only supported compression types
           allowed to be uniformly used are <b>none</b>, <b>gzip</b>, <b>xz </b>and <b>zstd</b>.
           The <b>--no-uniform-compression </b>option disables uniform
           compression (since dpkg 1.19.0).  Uniform compression is the
           default (since dpkg 1.19.0).

       <b>--threads-max=</b><i>threads</i>
           Sets the maximum number of threads allowed for compressors
           that support multi-threaded operations (since dpkg 1.21.9).

       <b>--root-owner-group</b>
           Set the owner and group for each entry in the filesystem tree
           data to root with id 0 (since dpkg 1.19.0).

           <b>Note</b>: This option can be useful for rootless builds (see
           <i>rootless-builds.txt</i>), but should <b>not </b>be used when the entries
           have an owner or group that is not root.  Support for these
           will be added later in the form of a meta manifest.

       <b>--deb-format=</b><i>format</i>
           Set the archive format version used when building (since dpkg
           1.17.0).  Allowed values are <b>2.0 </b>for the new format, and
           <b>0.939000 </b>for the old one (default is <b>2.0</b>).

           The old archive format is less easily parsed by non-Debian
           tools and is now obsolete; its only use is when building
           packages to be parsed by versions of dpkg older than 0.93.76
           (September 1995), which was released as i386 a.out only.

       <b>--nocheck</b>
           Inhibits <b>dpkg-deb --build</b>'s usual checks on the proposed
           contents of an archive.  You can build any archive you want,
           no matter how broken, this way.

       <b>-v</b>, <b>--verbose</b>
           Enables verbose output (since dpkg 1.16.1).  This currently
           only affects <b>--extract </b>making it behave like <b>--vextract</b>.

       <b>-D</b>, <b>--debug</b>
           Enables debugging output.  This is not very interesting.
</pre> <h2>
EXIT STATUS </h2>
<pre>
       <b>0   </b>The requested action was successfully performed.

       <b>2   </b>Fatal or unrecoverable error due to invalid command-line
           usage, or interactions with the system, such as accesses to
           the database, memory allocations, etc.
</pre> <h2>
ENVIRONMENT </h2>
<pre>
       <b>DPKG_DEB_THREADS_MAX</b>
           Sets the maximum number of threads allowed for compressors
           that support multi-threaded operations (since dpkg 1.21.9).

           The <b>--threads-max </b>option overrides this value.

       <b>DPKG_DEB_COMPRESSOR_TYPE</b>
           Sets the compressor type to use (since dpkg 1.21.10).

           The <b>-Z </b>option overrides this value.

       <b>DPKG_DEB_COMPRESSOR_LEVEL</b>
           Sets the compressor level to use (since dpkg 1.21.10).

           The <b>-z </b>option overrides this value.

       <b>DPKG_COLORS</b>
           Sets the color mode (since dpkg 1.18.5).  The currently
           accepted values are: <b>auto </b>(default), <b>always </b>and <b>never</b>.

       <b>DPKG_NLS</b>
           If set, it will be used to decide whether to activate Native
           Language Support, also known as internationalization (or
           i18n) support (since dpkg 1.22.7).  The accepted values are:
           <b>0 </b>and <b>1 </b>(default).

       <b>TMPDIR</b>
           If set, <b>dpkg-deb </b>will use it as the directory in which to
           create temporary files and directories.

       <b>SOURCE_DATE_EPOCH</b>
           If set, it will be used as the timestamp (as seconds since
           the epoch) in the <a href="../man5/deb.5.html">deb(5)</a>'s <b>ar</b>(5) container and used to clamp
           the mtime in the <b>tar</b>(5) file entries.

           Since dpkg 1.18.8.
</pre> <h2>
NOTES </h2>
<pre>
       Do not attempt to use just <b>dpkg-deb </b>to install software!  You
       must use <b>dpkg </b>proper to ensure that all the files are correctly
       placed and the package's scripts run and its status and contents
       recorded.
</pre> <h2>
SECURITY </h2>
<pre>
       Examining untrusted package archives or extracting them into
       staging directories should be considered a security boundary, and
       any breakage of that boundary stemming from these operations
       should be considered a security vulnerability.  But handling
       untrusted package archives should not be done lightly, as the
       surface area includes any compression library supported, in
       addition to the archive formats and control files themselves.
       Performing these operations over untrusted data as root is
       strongly discouraged.

       Building package archives should only be performed over trusted
       data.
</pre> <h2>
BUGS </h2>
<pre>
       <b>dpkg-deb -I </b><i>package1</i><b>.deb </b><i>package2</i><b>.deb </b>does the wrong thing.

       There is no authentication on <b>.deb </b>files; in fact, there isn't
       even a straightforward checksum.  (Higher level tools like APT
       support authenticating <b>.deb </b>packages retrieved from a given
       repository, and most packages nowadays provide an md5sum control
       file generated by debian/rules.  Though this is not directly
       supported by the lower level tools.)
</pre> <h2>
SEE ALSO </h2>
<pre>
       <i>/usr/local/share/doc/dpkg/spec/rootless-builds.txt</i>, <a href="../man5/deb.5.html">deb(5)</a>,
       <a href="../man5/deb-control.5.html">deb-control(5)</a>, <a href="dpkg.1.html">dpkg(1)</a>, <a href="dselect.1.html">dselect(1)</a>.
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>dpkg</i> (Debian Package Manager) project.
       Information about the project can be found at 
       ⟨<a href="https://wiki.debian.org/Teams/Dpkg/">https://wiki.debian.org/Teams/Dpkg/</a>⟩.  If you have a bug report
       for this manual page, see
       ⟨<a href="http://bugs.debian.org/cgi-bin/pkgreport.cgi?src=dpkg">http://bugs.debian.org/cgi-bin/pkgreport.cgi?src=dpkg</a>⟩.  This
       page was obtained from the project's upstream Git repository ⟨git
       clone https://git.dpkg.org/git/dpkg/dpkg.git⟩ on 2024-06-14.  (At
       that time, the date of the most recent commit that was found in
       the repository was 2024-05-21.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">1.22.6-77-g86fe7               2024-03-10                    <i>dpkg-deb</i>(1)</span>
</pre>  <p>Pages that refer to this page: <a href="dh_builddeb.1.html">dh_builddeb(1)</a>, <a href="dpkg.1.html">dpkg(1)</a>, <a href="dpkg-name.1.html">dpkg-name(1)</a>, <a href="dpkg-split.1.html">dpkg-split(1)</a>, <a href="../man5/deb.5.html">deb(5)</a>, <a href="../man5/deb-conffiles.5.html">deb-conffiles(5)</a>, <a href="../man5/deb-control.5.html">deb-control(5)</a>, <a href="../man5/deb-md5sums.5.html">deb-md5sums(5)</a>, <a href="../man5/deb-old.5.html">deb-old(5)</a>, <a href="../man5/deb-src-rules.5.html">deb-src-rules(5)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man1/dpkg-deb.1.html" class="_attribution-link">https://man7.org/linux/man-pages/man1/dpkg-deb.1.html</a>
  </p>
</div>
