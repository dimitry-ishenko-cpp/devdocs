<h1>lxc-usernsexec(1) — Linux manual page</h1>   <pre>
<span class="headline"><i>lxc-usernsexec</i>(1)                                      <i>lxc-usernsexec</i>(1)</span>
</pre> <h2>
NAME </h2>
<pre>
       lxc-usernsexec - Run a task as root in a new user namespace.
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>lxc-usernsexec </b>[-m <i>uid-map</i>] {-- command}
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>lxc-usernsexec  </b>can  be  used to run a task as root in a new user
       namespace.
</pre> <h2>
OPTIONS </h2>
<pre>
       <b>-m </b><i>uid-map</i>
              The uid map to use in the user namespace. Each map con‐
              sists of four colon-separate values. First a character
              'u', 'g' or 'b' to specify whether this map pertains to
              user ids, group ids, or both; next the first userid in the
              user namespace; next the first userid as seen on the host;
              and finally the number of ids to be mapped.

              More than one map can be specified. If no map is speci‐
              fied, then by default the full uid and gid ranges granted
              by /etc/subuid and /etc/subgid will be mapped to the uids
              and gids starting at 0 in the container.

              Note that <i>lxc-usernsexec</i> always tries to setuid and setgid
              to 0 in the namespace. Therefore uid 0 in the namespace
              must be mapped.
</pre> <h2>
EXAMPLES </h2>
<pre>
       To spawn a shell with the full allotted subuids mapped into the
       container, use

              lxc-usernsexec

       To run a different shell than <i>/bin/sh</i>, use

              lxc-usernsexec -- /bin/bash

       If your user id is 1000, root in a container is mapped to 190000,
       and you wish to chown a file you own to root in the container,
       you can use:

              lxc-usernsexec -m b:0:1000:1 -m b:1:190000:1 -- /bin/chown 1:1 $file

       This maps your userid to root in the user namespace, and 190000
       to uid 1.  Since root in the user namespace is privileged over
       all userids mapped into the namespace, you are allowed to change
       the file ownership, which you could not do on the host using a
       simple chown.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man7/lxc.7.html">lxc(7)</a>, <a href="lxc-create.1.html">lxc-create(1)</a>, <a href="lxc-copy.1.html">lxc-copy(1)</a>, <a href="lxc-destroy.1.html">lxc-destroy(1)</a>, <a href="lxc-start.1.html">lxc-start(1)</a>,
       <a href="lxc-stop.1.html">lxc-stop(1)</a>, <a href="lxc-execute.1.html">lxc-execute(1)</a>, <a href="lxc-console.1.html">lxc-console(1)</a>, <a href="lxc-monitor.1.html">lxc-monitor(1)</a>,
       <a href="lxc-wait.1.html">lxc-wait(1)</a>, <a href="lxc-cgroup.1.html">lxc-cgroup(1)</a>, <a href="lxc-ls.1.html">lxc-ls(1)</a>, <a href="lxc-info.1.html">lxc-info(1)</a>,
       <a href="lxc-freeze.1.html">lxc-freeze(1)</a>, <a href="lxc-unfreeze.1.html">lxc-unfreeze(1)</a>, <a href="lxc-attach.1.html">lxc-attach(1)</a>, <a href="../man5/lxc.conf.5.html">lxc.conf(5)</a>
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>lxc</i> (Linux containers) project.  Infor‐
       mation about the project can be found at 
       ⟨<a href="http://linuxcontainers.org/">http://linuxcontainers.org/</a>⟩.  If you have a bug report for this
       manual page, send it to lxc-devel@lists.linuxcontainers.org.
       This page was obtained from the project's upstream Git repository
       ⟨<a href="https://github.com/lxc/lxc.git">https://github.com/lxc/lxc.git</a>⟩ on 2024-06-14.  (At that time,
       the date of the most recent commit that was found in the
       repository was 2024-06-05.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">                               2024-04-03              <i>lxc-usernsexec</i>(1)</span>
</pre>          <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man1/lxc-usernsexec.1.html" class="_attribution-link">https://man7.org/linux/man-pages/man1/lxc-usernsexec.1.html</a>
  </p>
</div>
