<h1>dh_installdeb(1) — Linux manual page</h1>   <pre>
<span class="headline"><i>DH_INSTALLDEB</i>(1)                Debhelper               <i>DH_INSTALLDEB</i>(1)</span>
</pre> <h2>
NAME </h2>
<pre>
       dh_installdeb - install files into the DEBIAN directory
</pre> <h2>
SYNOPSIS </h2>
<pre>
       <b>dh_installdeb </b>[<i>debhelper options</i>]
</pre> <h2>
DESCRIPTION </h2>
<pre>
       <b>dh_installdeb </b>is a debhelper program that is responsible for
       installing files into the <i>DEBIAN</i> directories in package build
       directories with the correct permissions.
</pre> <h2>
FILES </h2>
<pre>
       <i>package</i>.postinst
       <i>package</i>.preinst
       <i>package</i>.postrm
       <i>package</i>.prerm
           These maintainer scripts are installed into the <i>DEBIAN</i>
           directory.

           <b>dh_installdeb </b>will perform substitution of known tokens of
           the pattern <b>#TOKEN#</b>.  In generally, scripts will want to
           include the <b>#DEBHELPER# </b>to benefit from the shell scripts
           generated by debhelper commands (including those from
           <b>dh_installdeb </b>when it processes <i>package</i>.maintscript files).

           The <b>#DEBHELPER# </b>token should be placed on its own line as it
           is often replaced by a multi-line shell script.

       <i>package</i>.triggers
       <i>package</i>.shlibs
           These control files are installed into the <i>DEBIAN</i> directory.

           Note that <i>package</i>.shlibs is only installed in compat level 9
           and earlier.  In compat 10, please use <a href="dh_makeshlibs.1.html">dh_makeshlibs(1)</a>.

       <i>package</i>.conffiles
           This file will be installed into the <i>DEBIAN</i> directory. The
           provided file will be enriched by debhelper to include all
           the <b>conffiles </b>auto-detected by debhelper (the maintainer
           should not list anything there as debhelper assumes it should
           handle that part).

           This file is primarily useful for using "special" entries
           such as the <b>remove-on-upgrade </b>feature from dpkg.

       <i>package</i>.maintscript
           Lines in this file correspond to <a href="dpkg-maintscript-helper.1.html">dpkg-maintscript-helper(1)</a>
           commands and parameters.  However, the "maint-script-
           parameters" should <i>not</i> be included as debhelper will add
           those automatically.

           Example:

               # Correct
               rm_conffile /etc/obsolete.conf 0.2~ foo
               # INCORRECT
               rm_conffile /etc/obsolete.conf 0.2~ foo -- "$@"

           In compat 10 or later, any shell metacharacters will be
           escaped, so arbitrary shell code cannot be inserted here.
           For example, a line such as "mv_conffile /etc/oldconffile
           /etc/newconffile" will insert maintainer script snippets into
           all maintainer scripts sufficient to move that conffile.

           It was also the intention to escape shell metacharacters in
           previous compat levels.  However, it did not work properly
           and as such it was possible to embed arbitrary shell code in
           earlier compat levels.

           The <b>dh_installdeb </b>tool will do some basic validation of some
           of the commands listed in this file to catch common mistakes.
           The validation is enabled as a warning since compat 10 and as
           a hard error in compat 12.

           Where possible, <b>dh_installdeb </b>may choose to rewrite some or
           all of the entries into equivalent features supported in dpkg
           without relying on maintainer scripts at its sole discretion
           (examples include rewriting <b>rm_conffile </b>into dpkg's <b>remove-</b>
           <b>on-upgrade</b>).  The minimum requirement for activating this
           feature is that debhelper runs in compat 10 or later.

           Supports substitution variables in compat 13 and later as
           documented in <a href="../man7/debhelper.7.html">debhelper(7)</a>.
</pre> <h2>
OPTIONS </h2>
<pre>
       <b>-D</b><i>TOKEN=VALUE</i>, <b>--define </b><i>TOKEN=VALUE</i>
           Define tokens to be replaced inside the maintainer scripts
           when it is generated.  Please note that the limitations
           described in "Limitations in token names" also applies to
           tokens defined on the command line.  Invalid token names will
           trigger an error.

           In the simple case, this parameter will cause <b>#<i>TOKEN</i># </b>to be
           replaced by <i>VALUE</i>.  If <i>VALUE</i> starts with a literal <i>@</i>-sign,
           then <i>VALUE</i> is expected to point to a file containing the
           actual value to insert.

           An explicit declared token with this parameter will replace
           built-in tokens.

           Test examples to aid with the understanding:

                   cat &gt;&gt; debian/postinst &lt;&lt;EOF
                   #SIMPLE#
                   #FILEBASED#
                   EOF
                   echo -n "Complex value" &gt; some-file
               dh_installdeb --define SIMPLE=direct --define FILEBASED=@some-file

           In this example, <b>#SIMPLE# </b>will expand to <b>direct </b>and
           <b>#FILEBASED# </b>will expand to <b>Complex value</b>.

           It is also possible to set package-specific values for a
           given token.  This is useful when <b>dh_installdeb </b>is acting on
           multiple packages that need different values for the same
           token.  This is done by prefixing the token name with
           <b>pkg.<i>package-name</i>.</b>.

           This can be used as in the following example:

                   cat &gt;&gt; debian/foo.postinst &lt;&lt;EOF
                   # Script for #PACKAGE#
                   #TOKEN#
                   EOF
                   cat &gt;&gt; debian/bar.postinst &lt;&lt;EOF
                   # Script for #PACKAGE#
                   #TOKEN#
                   EOF
                   cat &gt;&gt; debian/baz.postinst &lt;&lt;EOF
                   # Script for #PACKAGE#
                   #TOKEN#
                   EOF
               dh_installdeb -pfoo -pbar -pbaz  --define TOKEN=default --define pkg.bar.TOKEN=unique-bar-value \
                 --define pkg.baz.TOKEN=unique-baz-value

           In this example, <b>#TOKEN# </b>will expand to <b>default </b>in
           <i>debian/foo.postinst</i>, to <b>unique-bar-value </b>in
           <i>debian/bar.postinst</i> and to <b>unique-baz-value </b>in
           <i>debian/baz.postinst</i>.

           Note that the <b>#pkg.*# </b>tokens will be visible in all scripts
           acted on.  E.g.  you can refer to <b>#pkg.bar.TOKEN# </b>inside
           <i>debian/foo.postinst</i> and it will be replaced by <b>unique-bar-</b>
           <b>value</b>.
</pre> <h2>
SUBSTITUTION IN MAINTAINER SCRIPTS </h2>
<pre>
       The <b>dh_installdeb </b>will automatically replace the following tokens
       inside a provided maintainer script (if not replaced via
       <b>-D</b>/<b>--define</b>):

       #DEBHELPER#
           This token is by default replaced with generated shell
           snippets debhelper commands.  This includes the snippets
           generated by <b>dh_installdeb </b>from <i>package</i>.maintscript file (if
           present).

       #DEB_HOST_<i>NAME</i>#, #DEB_BUILD_<i>NAME</i>#, #DEB_TARGET_<i>NAME</i>#
           These tokens are replaced with the respective variable from
           <a href="dpkg-architecture.1.html">dpkg-architecture(1)</a>.  In almost all cases, you will want use
           the <b>#DEB_HOST_<i>NAME</i> </b>variant in a script to ensure you get the
           right value when cross-building.

           On a best effort, tokens of this pattern that do not match a
           variable in <a href="dpkg-architecture.1.html">dpkg-architecture(1)</a> will be left as-is.

       #ENV.<i>NAME</i>#
           These tokens of this form will be replaced with value of the
           corresponding environment variable.  If the environment
           variable is unset, the token is replaced with the empty
           string.

           Note that there are limits on which names can be used (see
           "Limitations in token names").

       #PACKAGE#
           This token is by default replaced by the package name, which
           will contain the concrete script.

   <b>Limitations in token names</b>
       All tokens intended to be substituted must match the regex:
       #[A-Za-z0-9_.+]+#

       Tokens that do not match that regex will be silently ignored if
       found in the script template.  Invalid token names passed to <b>-D</b>
       or <b>--define </b>will cause <b>dh_installdeb </b>to reject the command with
       an error in most cases.
</pre> <h2>
SEE ALSO </h2>
<pre>
       <a href="../man7/debhelper.7.html">debhelper(7)</a>

       This program is a part of debhelper.
</pre> <h2>
AUTHOR </h2>
<pre>
       Joey Hess &lt;joeyh@debian.org&gt;
</pre> <h2>
COLOPHON </h2>
<pre>
       This page is part of the <i>debhelper</i> (helper programs for
       debian/rules) project.  Information about the project can be
       found at [unknown -- if you know, please contact man-
       pages@man7.org] If you have a bug report for this manual page,
       send it to submit@bugs.debian.org.  This page was obtained from
       the project's upstream Git repository
       ⟨<a href="https://salsa.debian.org/debian/debhelper.git">https://salsa.debian.org/debian/debhelper.git</a>⟩ on 2024-06-14.
       (At that time, the date of the most recent commit that was found
       in the repository was 2024-06-09.)  If you discover any rendering
       problems in this HTML version of the page, or you believe there
       is a better or more up-to-date source for the page, or you have
       corrections or improvements to the information in this COLOPHON
       (which is <i>not</i> part of the original manual page), send a mail to
       man-pages@man7.org

<span class="footline">13.15.3                        2024-06-07               <i>DH_INSTALLDEB</i>(1)</span>
</pre>  <p>Pages that refer to this page: <a href="dh_icons.1.html">dh_icons(1)</a>, <a href="dh_installcatalogs.1.html">dh_installcatalogs(1)</a>, <a href="dh_installdebconf.1.html">dh_installdebconf(1)</a>, <a href="dh_installdocs.1.html">dh_installdocs(1)</a>, <a href="dh_installemacsen.1.html">dh_installemacsen(1)</a>, <a href="dh_installinit.1.html">dh_installinit(1)</a>, <a href="dh_installinitramfs.1.html">dh_installinitramfs(1)</a>, <a href="dh_installmenu.1.html">dh_installmenu(1)</a>, <a href="dh_installmodules.1.html">dh_installmodules(1)</a>, <a href="dh_installpam.1.html">dh_installpam(1)</a>, <a href="dh_installsystemd.1.html">dh_installsystemd(1)</a>, <a href="dh_installsystemduser.1.html">dh_installsystemduser(1)</a>, <a href="dh_installsysusers.1.html">dh_installsysusers(1)</a>, <a href="dh_installtmpfiles.1.html">dh_installtmpfiles(1)</a>, <a href="dh_installxfonts.1.html">dh_installxfonts(1)</a>, <a href="dh_makeshlibs.1.html">dh_makeshlibs(1)</a>, <a href="dh_usrlocal.1.html">dh_usrlocal(1)</a>, <a href="dpkg-maintscript-helper.1.html">dpkg-maintscript-helper(1)</a>, <a href="../man7/debhelper.7.html">debhelper(7)</a>, <a href="../man7/debhelper-compat-upgrade-checklist.7.html">debhelper-compat-upgrade-checklist(7)</a> </p> <hr>         <div class="_attribution">
  <p class="_attribution-p">
    ...<br>
    <a href="https://man7.org/linux/man-pages/man1/dh_installdeb.1.html" class="_attribution-link">https://man7.org/linux/man-pages/man1/dh_installdeb.1.html</a>
  </p>
</div>
