<h1>Installing Graphite</h1>  <h2 id="docker">Docker</h2> <p>Try Graphite in Docker and have it running in seconds:</p> <pre data-language="none">docker run -d\
 --name graphite\
 --restart=always\
 -p 80:80\
 -p 2003-2004:2003-2004\
 -p 2023-2024:2023-2024\
 -p 8125:8125/udp\
 -p 8126:8126\
 graphiteapp/graphite-statsd</pre> <p>Check <a class="reference external" href="https://github.com/graphite-project/docker-graphite-statsd">docker repo</a> for details.</p> <p>This is portable, fast and easy to use. Or use instructions below for installation.</p>   <h2 id="dependencies">Dependencies</h2> <p>Graphite renders graphs using the Cairo graphics library. This adds dependencies on several graphics-related libraries not typically found on a server. If you’re installing from source you can use the <code class="docutils literal notranslate"><span class="pre">check-dependencies.py</span></code> script to see if the dependencies have been met or not.</p> <p>Basic Graphite requirements:</p> <ul class="simple"> <li>a UNIX-like Operating System</li> <li>Python 2.7 or greater (including experimental Python3 support)</li> <li><a class="reference external" href="https://pythonhosted.org/cairocffi/">cairocffi</a></li> <li>
<a class="reference external" href="http://www.djangoproject.com/">Django</a> 1.8 - 1.11 (for Python3 - 1.11 only)</li> <li>
<a class="reference external" href="http://django-tagging.readthedocs.io/">django-tagging</a> 0.4.6 (not <cite>django-taggit</cite> yet)</li> <li><a class="reference external" href="https://pypi.python.org/pypi/pytz/">pytz</a></li> <li><a class="reference external" href="https://pypi.python.org/pypi/scandir">scandir</a></li> <li>
<a class="reference external" href="http://www.freedesktop.org/wiki/Software/fontconfig/">fontconfig</a> and at least one font package (a system package usually)</li> <li>A WSGI server and web server. Popular choices are:<ul> <li>
<a class="reference external" href="https://projects.apache.org/project.html?httpd-http_server">Apache</a> with <a class="reference external" href="https://modwsgi.readthedocs.io/">mod_wsgi</a>
</li> <li>
<a class="reference external" href="http://gunicorn.org/">gunicorn</a> with <a class="reference external" href="http://nginx.org/">nginx</a>
</li> <li>
<a class="reference external" href="http://uwsgi-docs.readthedocs.io/">uWSGI</a> with <a class="reference external" href="http://nginx.org/">nginx</a>
</li> </ul> </li> </ul> <p>Additionally, the Graphite webapp and Carbon require the Whisper database library which is part of the Graphite project.</p> <p>There are also several other dependencies required for additional features:</p> <ul class="simple"> <li>Render caching: <a class="reference external" href="http://memcached.org/">memcached</a> and <a class="reference external" href="https://www.tummy.com/software/python-memcached/">python-memcache</a>
</li> <li>LDAP authentication: <a class="reference external" href="https://www.python-ldap.org/">python-ldap</a> (for LDAP authentication support in the webapp)</li> <li>AMQP support: <a class="reference external" href="https://launchpad.net/txamqp/">txamqp</a> (version 0.8 is required)</li> <li>RRD support: <a class="reference external" href="http://oss.oetiker.ch/rrdtool/prog/rrdpython.en.html">python-rrdtool</a>
</li> <li>Dependent modules for additional database support (MySQL, PostgreSQL, etc). See <a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/install/#get-your-database-running">Django database install</a> instructions and the <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/databases/">Django database</a> documentation for details</li> </ul> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <p>On some systems it is necessary to install fonts for Cairo to use. If the webapp is running but all graphs return as broken images, this may be why.</p> <ul class="last simple"> <li><a class="reference external" href="https://answers.launchpad.net/graphite/+question/38833">https://answers.launchpad.net/graphite/+question/38833</a></li> <li><a class="reference external" href="https://answers.launchpad.net/graphite/+question/133390">https://answers.launchpad.net/graphite/+question/133390</a></li> <li><a class="reference external" href="https://answers.launchpad.net/graphite/+question/127623">https://answers.launchpad.net/graphite/+question/127623</a></li> </ul> </div>   <h2 id="fulfilling-dependencies">Fulfilling Dependencies</h2> <p>Most current Linux distributions have all of the requirements available in the base packages. RHEL based distributions may require the <a class="reference external" href="http://fedoraproject.org/wiki/EPEL">EPEL</a> repository for requirements. Python module dependencies can be install with <a class="reference external" href="https://pip.pypa.io/">pip</a> rather than system packages if desired or if using a Python version that differs from the system default. Some modules (such as Cairo) may require library development headers to be available.</p>   <h2 id="default-installation-layout">Default Installation Layout</h2> <p>Graphite defaults to an installation layout that puts the entire install in its own directory: <code class="docutils literal notranslate"><span class="pre">/opt/graphite</span></code></p>  <h3 id="whisper">Whisper</h3> <p>Whisper is installed Python’s system-wide site-packages directory with Whisper’s utilities installed in the bin dir of the system’s default prefix (generally <code class="docutils literal notranslate"><span class="pre">/usr/bin/</span></code>).</p>   <h3 id="carbon-and-graphite-web">Carbon and Graphite-web</h3> <p>Carbon and Graphite-web are installed in <code class="docutils literal notranslate"><span class="pre">/opt/graphite/</span></code> with the following layout:</p> <ul> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">bin/</span></code></p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">conf/</span></code></p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">lib/</span></code></p> <p>Carbon <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code></p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">storage/</span></code></p> <ul> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">log</span></code></p> <p>Log directory for Carbon and Graphite-web</p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">rrd</span></code></p> <p>Location for RRD files to be read</p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">whisper</span></code></p> <p>Location for Whisper data files to be stored and read</p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">ceres</span></code></p> <p>Location for Ceres data files to be stored and read</p> </li> </ul> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">webapp/</span></code></p> <p>Graphite-web <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code></p> <ul> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">graphite/</span></code></p> <p>Location of <code class="docutils literal notranslate"><span class="pre">local_settings.py</span></code></p> </li> <li>
<p class="first"><code class="docutils literal notranslate"><span class="pre">content/</span></code></p> <p>Graphite-web static content directory</p> </li> </ul> </li> </ul>    <h2 id="id2">Installing Graphite</h2> <p>Several installation options exist:</p> <div class="toctree-wrapper compound"> <ul> <li class="toctree-l1">
<a class="reference internal" href="install-source.html">Installing From Source</a><ul> <li class="toctree-l2"><a class="reference internal" href="install-source.html#installing-in-the-default-location">Installing in the Default Location</a></li> <li class="toctree-l2"><a class="reference internal" href="install-source.html#installing-carbon-in-a-custom-location">Installing Carbon in a Custom Location</a></li> <li class="toctree-l2"><a class="reference internal" href="install-source.html#installing-graphite-web-in-a-custom-location">Installing Graphite-web in a Custom Location</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="install-pip.html">Installing From Pip</a><ul> <li class="toctree-l2"><a class="reference internal" href="install-pip.html#installing-in-the-default-location">Installing in the Default Location</a></li> <li class="toctree-l2"><a class="reference internal" href="install-pip.html#installing-carbon-in-a-custom-location">Installing Carbon in a Custom Location</a></li> <li class="toctree-l2"><a class="reference internal" href="install-pip.html#installing-graphite-web-in-a-custom-location">Installing Graphite-web in a Custom Location</a></li> <li class="toctree-l2"><a class="reference internal" href="install-pip.html#installing-ceres">Installing Ceres</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="install-virtualenv.html">Installing in Virtualenv</a><ul> <li class="toctree-l2"><a class="reference internal" href="install-virtualenv.html#installing-in-the-default-location">Installing in the Default Location</a></li> <li class="toctree-l2"><a class="reference internal" href="install-virtualenv.html#installing-in-a-custom-location">Installing in a Custom Location</a></li> <li class="toctree-l2"><a class="reference internal" href="install-virtualenv.html#running-carbon-within-virtualenv">Running Carbon Within Virtualenv</a></li> <li class="toctree-l2"><a class="reference internal" href="install-virtualenv.html#running-graphite-web-within-virtualenv">Running Graphite-web Within Virtualenv</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="install-synthesize.html">Installing From Synthesize</a></li> </ul> </div>   <h2 id="initial-configuration">Initial Configuration</h2> <div class="toctree-wrapper compound"> <ul> <li class="toctree-l1"><a class="reference internal" href="config-database-setup.html">Webapp Database Setup</a></li> <li class="toctree-l1">
<a class="reference internal" href="config-webapp.html">Configuring The Webapp</a><ul> <li class="toctree-l2"><a class="reference internal" href="config-webapp.html#nginx-gunicorn">nginx + gunicorn</a></li> <li class="toctree-l2"><a class="reference internal" href="config-webapp.html#apache-mod-wsgi">Apache + mod_wsgi</a></li> <li class="toctree-l2"><a class="reference internal" href="config-webapp.html#nginx-uwsgi">Nginx + uWSGI</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="config-local-settings.html">Graphite-web’s local_settings.py</a><ul> <li class="toctree-l2"><a class="reference internal" href="config-local-settings.html#config-file-location">Config File Location</a></li> <li class="toctree-l2"><a class="reference internal" href="config-local-settings.html#general-settings">General Settings</a></li> <li class="toctree-l2"><a class="reference internal" href="config-local-settings.html#filesystem-paths">Filesystem Paths</a></li> <li class="toctree-l2"><a class="reference internal" href="config-local-settings.html#configure-webserver-apache">Configure Webserver (Apache)</a></li> <li class="toctree-l2"><a class="reference internal" href="config-local-settings.html#email-configuration">Email Configuration</a></li> <li class="toctree-l2"><a class="reference internal" href="config-local-settings.html#authentication-configuration">Authentication Configuration</a></li> <li class="toctree-l2"><a class="reference internal" href="config-local-settings.html#dashboard-authorization-configuration">Dashboard Authorization Configuration</a></li> <li class="toctree-l2"><a class="reference internal" href="config-local-settings.html#database-configuration">Database Configuration</a></li> <li class="toctree-l2"><a class="reference internal" href="config-local-settings.html#cluster-configuration">Cluster Configuration</a></li> <li class="toctree-l2"><a class="reference internal" href="config-local-settings.html#additional-django-settings">Additional Django Settings</a></li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="config-carbon.html">Configuring Carbon</a><ul> <li class="toctree-l2"><a class="reference internal" href="config-carbon.html#carbon-conf">carbon.conf</a></li> <li class="toctree-l2"><a class="reference internal" href="config-carbon.html#storage-schemas-conf">storage-schemas.conf</a></li> <li class="toctree-l2"><a class="reference internal" href="config-carbon.html#storage-aggregation-conf">storage-aggregation.conf</a></li> <li class="toctree-l2"><a class="reference internal" href="config-carbon.html#relay-rules-conf">relay-rules.conf</a></li> <li class="toctree-l2"><a class="reference internal" href="config-carbon.html#aggregation-rules-conf">aggregation-rules.conf</a></li> <li class="toctree-l2"><a class="reference internal" href="config-carbon.html#rewrite-rules-conf">rewrite-rules.conf</a></li> <li class="toctree-l2"><a class="reference internal" href="config-carbon.html#whitelist-and-blacklist">whitelist and blacklist</a></li> </ul> </li> </ul> </div>   <h2 id="help-it-didn-t-work">Help! It didn’t work!</h2> <p>If you run into any issues with Graphite, please to post a question to our <a class="reference external" href="https://answers.launchpad.net/graphite">Questions forum on Launchpad</a> or join us on IRC in #graphite on FreeNode.</p>   <h2 id="post-install-tasks">Post-Install Tasks</h2> <dl class="docutils"> <dt><a class="reference internal" href="config-carbon.html"><span class="doc">Configuring Carbon</span></a></dt> <dd>Once you’ve installed everything you will need to create some basic configuration. Initially none of the config files are created by the installer but example files are provided. Simply copy the <code class="docutils literal notranslate"><span class="pre">.example</span></code> files and customize.</dd> <dt><a class="reference internal" href="admin-carbon.html"><span class="doc">Administering Carbon</span></a></dt> <dd>Once Carbon is configured, you need to start it up.</dd> <dt><a class="reference internal" href="feeding-carbon.html"><span class="doc">Feeding In Your Data</span></a></dt> <dd>Once it’s up and running, you need to feed it some data.</dd> <dt><a class="reference internal" href="config-webapp.html"><span class="doc">Configuring The Webapp</span></a></dt> <dd>With data getting into carbon, you probably want to look at graphs of it. So now we turn our attention to the webapp.</dd> <dt><a class="reference internal" href="admin-webapp.html"><span class="doc">Administering The Webapp</span></a></dt> <dd>Once its configured you’ll need to get it running.</dd> <dt><a class="reference internal" href="https://graphite.readthedocs.io/en/latest/composer.html"><span class="doc">Using the Composer</span></a></dt> <dd>Now that the webapp is running, you probably want to learn how to use it.</dd> </dl>   <h2 id="windows-users">Windows Users</h2> <p>Unfortunately, native Graphite on Windows is completely unsupported, but you can run Graphite on Windows in <a class="reference external" href="https://www.docker.com/">Docker</a> or the <a class="reference internal" href="install-synthesize.html"><span class="doc">Installing via Synthesize</span></a> article will help you set up a Vagrant VM that will run Graphite. In order to leverage this, you will need to install <a class="reference external" href="https://www.vagrantup.com/">Vagrant</a>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2012 Chris Davis<br>&copy; 2011&ndash;2016 The Graphite Project<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://graphite.readthedocs.io/en/latest/install.html" class="_attribution-link">https://graphite.readthedocs.io/en/latest/install.html</a>
  </p>
</div>
