<h1>Installing in Virtualenv</h1> <p><a class="reference external" href="http://virtualenv.org/">Virtualenv</a> provides an isolated Python environment to run Graphite in.</p>  <h2 id="installing-in-the-default-location">Installing in the Default Location</h2> <p>To install Graphite in the <a class="reference internal" href="install.html#default-installation-layout"><span class="std std-ref">default location</span></a>, <code class="docutils literal notranslate"><span class="pre">/opt/graphite/</span></code>, create a virtualenv in <code class="docutils literal notranslate"><span class="pre">/opt/graphite</span></code> and activate it:</p> <pre data-language="none">virtualenv /opt/graphite
source /opt/graphite/bin/activate</pre> <p>Once the virtualenv is activated, Graphite and Carbon can be installed <a class="reference internal" href="install-source.html"><span class="doc">from source</span></a> or <a class="reference internal" href="install-pip.html"><span class="doc">via pip</span></a>. Note that dependencies will need to be installed while the virtualenv is activated unless <a class="reference external" href="http://www.virtualenv.org/en/latest/index.html#the-system-site-packages-option">–system-site-packages</a> is specified at virtualenv creation time.</p>   <h2 id="installing-in-a-custom-location">Installing in a Custom Location</h2> <p>To install from source activate the virtualenv and see the instructions for <a class="reference internal" href="install-source.html#graphite-web-custom-location-source"><span class="std std-ref">graphite-web</span></a> and <a class="reference internal" href="install-source.html#carbon-custom-location-source"><span class="std std-ref">carbon</span></a></p>   <h2 id="running-carbon-within-virtualenv">Running Carbon Within Virtualenv</h2> <p>Carbon may be run within Virtualenv by <a class="reference external" href="http://www.virtualenv.org/en/latest/index.html#activate-script">activating virtualenv</a> before Carbon is started</p>   <h2 id="running-graphite-web-within-virtualenv">Running Graphite-web Within Virtualenv</h2> <p>Running Django’s <code class="docutils literal notranslate"><span class="pre">django-admin.py</span></code> within a virtualenv requires using the full path of the virtualenv:</p> <pre data-language="default">/path/to/env/bin/django-admin.py &lt;command&gt; --settings=graphite.settings</pre> <p>The method of running Graphite-web within Virtualenv depends on the WSGI server used:</p>  <h3 id="apache-mod-wsgi">Apache mod_wsgi</h3> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The version Python used to compile mod_wsgi must match the Python installed in the virtualenv (generally the system Python)</p> </div> <p>To the Apache <a class="reference external" href="http://code.google.com/p/modwsgi/">mod_wsgi</a> config, add the root of the virtualenv as <code class="docutils literal notranslate"><span class="pre">WSGIPythonHome</span></code>, <code class="docutils literal notranslate"><span class="pre">/opt/graphite</span></code> in this example:</p> <pre data-language="none">WSGIPythonHome /opt/graphite</pre> <p>and add the virtualenv’s python site-packages to the <code class="docutils literal notranslate"><span class="pre">graphite.wsgi</span></code> file, python 2.6 in <code class="docutils literal notranslate"><span class="pre">/opt/graphite</span></code> in this example:</p> <pre data-language="none">site.addsitedir('/opt/graphite/lib/python2.6/site-packages')</pre> <p>See the <cite>mod_wsgi documentation on Virtual Environments &lt;http://code.google.com/p/modwsgi/wiki/VirtualEnvironments&gt;</cite> for more details.</p>   <h3 id="gunicorn">Gunicorn</h3> <p>Ensure <a class="reference external" href="http://gunicorn.org/">Gunicorn</a> is installed in the activated virtualenv and execute as normal. If gunicorn is installed system-wide, it may be necessary to execute it from the virtualenv’s bin path</p>   <h3 id="uwsgi">uWSGI</h3> <p>Execute <a class="reference external" href="http://projects.unbit.it/uwsgi">uWSGI</a> using the <code class="docutils literal notranslate"><span class="pre">-H</span></code> option to specify the virtualenv root. See the <a class="reference external" href="http://projects.unbit.it/uwsgi/wiki/VirtualEnv">uWSGI documentation on virtualenv</a> for more details.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2012 Chris Davis<br>&copy; 2011&ndash;2016 The Graphite Project<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://graphite.readthedocs.io/en/latest/install-virtualenv.html" class="_attribution-link">https://graphite.readthedocs.io/en/latest/install-virtualenv.html</a>
  </p>
</div>
