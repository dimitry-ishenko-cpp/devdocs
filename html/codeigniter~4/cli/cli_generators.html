<h1 id="cli-generators">CLI Generators</h1> <p>CodeIgniter4 now comes equipped with generators to ease the creation of stock controllers, models, entities, etc. You can also scaffold a complete set of files with just one command.</p>  <ul class="simple"> <li><a class="reference internal" href="#introduction" id="id25">Introduction</a></li> <li>
<a class="reference internal" href="#built-in-generators" id="id26">Built-in Generators</a><ul> <li><a class="reference internal" href="#make-command" id="id27">make:command</a></li> <li><a class="reference internal" href="#make-config" id="id28">make:config</a></li> <li><a class="reference internal" href="#make-controller" id="id29">make:controller</a></li> <li><a class="reference internal" href="#make-entity" id="id30">make:entity</a></li> <li><a class="reference internal" href="#make-filter" id="id31">make:filter</a></li> <li><a class="reference internal" href="#make-model" id="id32">make:model</a></li> <li><a class="reference internal" href="#make-seeder" id="id33">make:seeder</a></li> <li><a class="reference internal" href="#make-migration" id="id34">make:migration</a></li> <li><a class="reference internal" href="#make-validation" id="id35">make:validation</a></li> </ul> </li> <li><a class="reference internal" href="#scaffolding-a-complete-set-of-stock-code" id="id36">Scaffolding a Complete Set of Stock Code</a></li> <li><a class="reference internal" href="#generatortrait" id="id37">GeneratorTrait</a></li> </ul>   <h2 id="introduction">Introduction</h2> <p>All built-in generators reside under the <code>Generators</code> namespace when listed using <code>php spark list</code>. To view the full description and usage information on a particular generator, use the command:</p> <pre data-language="php">&gt; php spark help &lt;generator_command&gt;
</pre> <p>where <code>&lt;generator_command&gt;</code> will be replaced with the command to check.</p>   <h2 id="built-in-generators">Built-in Generators</h2> <p>CodeIgniter4 ships the following generators by default.</p>  <h3 id="make-command">make:command</h3> <p>Creates a new spark command.</p>  <h4 id="usage">Usage:</h4> <pre data-language="php">make:command &lt;name&gt; [options]
</pre>   <h4 id="argument">Argument:</h4> <ul class="simple"> <li>
<code>name</code>: The name of the command class. <strong>[REQUIRED]</strong>
</li> </ul>   <h4 id="options">Options:</h4> <ul class="simple"> <li>
<code>--command</code>: The command name to run in spark. Defaults to <code>command:name</code>.</li> <li>
<code>--group</code>: The group/namespace of the command. Defaults to <code>CodeIgniter</code> for basic commands, and <code>Generators</code> for generator commands.</li> <li>
<code>--type</code>: The type of command, whether a <code>basic</code> command or a <code>generator</code> command. Defaults to <code>basic</code>.</li> <li>
<code>--namespace</code>: Set the root namespace. Defaults to value of <code>APP_NAMESPACE</code>.</li> <li>
<code>--suffix</code>: Append the component suffix to the generated class name.</li> <li>
<code>--force</code>: Set this flag to overwrite existing files on destination.</li> </ul>    <h3 id="make-config">make:config</h3> <p>Creates a new config file.</p>  <h4 id="id1">Usage:</h4> <pre data-language="php">make:config &lt;name&gt; [options]
</pre>   <h4 id="id2">Argument:</h4> <ul class="simple"> <li>
<code>name</code>: The name of the config class. <strong>[REQUIRED]</strong>
</li> </ul>   <h4 id="id3">Options:</h4> <ul class="simple"> <li>
<code>--namespace</code>: Set the root namespace. Defaults to value of <code>APP_NAMESPACE</code>.</li> <li>
<code>--suffix</code>: Append the component suffix to the generated class name.</li> <li>
<code>--force</code>: Set this flag to overwrite existing files on destination.</li> </ul>    <h3 id="make-controller">make:controller</h3> <p>Creates a new controller file.</p>  <h4 id="id4">Usage:</h4> <pre data-language="php">make:controller &lt;name&gt; [options]
</pre>   <h4 id="id5">Argument:</h4> <ul class="simple"> <li>
<code>name</code>: The name of the controller class. <strong>[REQUIRED]</strong>
</li> </ul>   <h4 id="id6">Options:</h4> <ul class="simple"> <li>
<code>--bare</code>: Extends from <code>CodeIgniter\Controller</code> instead of <code>BaseController</code>.</li> <li>
<code>--restful</code>: Extends from a RESTful resource. Choices are <code>controller</code> and <code>presenter</code>. Defaults to <code>controller</code>.</li> <li>
<code>--namespace</code>: Set the root namespace. Defaults to value of <code>APP_NAMESPACE</code>.</li> <li>
<code>--suffix</code>: Append the component suffix to the generated class name.</li> <li>
<code>--force</code>: Set this flag to overwrite existing files on destination.</li> </ul>    <h3 id="make-entity">make:entity</h3> <p>Creates a new entity file.</p>  <h4 id="id7">Usage:</h4> <pre data-language="php">make:entity &lt;name&gt; [options]
</pre>   <h4 id="id8">Argument:</h4> <ul class="simple"> <li>
<code>name</code>: The name of the entity class. <strong>[REQUIRED]</strong>
</li> </ul>   <h4 id="id9">Options:</h4> <ul class="simple"> <li>
<code>--namespace</code>: Set the root namespace. Defaults to value of <code>APP_NAMESPACE</code>.</li> <li>
<code>--suffix</code>: Append the component suffix to the generated class name.</li> <li>
<code>--force</code>: Set this flag to overwrite existing files on destination.</li> </ul>    <h3 id="make-filter">make:filter</h3> <p>Creates a new filter file.</p>  <h4 id="id10">Usage:</h4> <pre data-language="php">make:filter &lt;name&gt; [options]
</pre>   <h4 id="id11">Argument:</h4> <ul class="simple"> <li>
<code>name</code>: The name of the filter class. <strong>[REQUIRED]</strong>
</li> </ul>   <h4 id="id12">Options:</h4> <ul class="simple"> <li>
<code>--namespace</code>: Set the root namespace. Defaults to value of <code>APP_NAMESPACE</code>.</li> <li>
<code>--suffix</code>: Append the component suffix to the generated class name.</li> <li>
<code>--force</code>: Set this flag to overwrite existing files on destination.</li> </ul>    <h3 id="make-model">make:model</h3> <p>Creates a new model file.</p>  <h4 id="id13">Usage:</h4> <pre data-language="php">make:model &lt;name&gt; [options]
</pre>   <h4 id="id14">Argument:</h4> <ul class="simple"> <li>
<code>name</code>: The name of the model class. <strong>[REQUIRED]</strong>
</li> </ul>   <h4 id="id15">Options:</h4> <ul class="simple"> <li>
<code>--dbgroup</code>: Database group to use. Defaults to <code>default</code>.</li> <li>
<code>--return</code>: Set the return type from <code>array</code>, <code>object</code>, or <code>entity</code>. Defaults to <code>array</code>.</li> <li>
<code>--table</code>: Supply a different table name. Defaults to the pluralized class name.</li> <li>
<code>--namespace</code>: Set the root namespace. Defaults to value of <code>APP_NAMESPACE</code>.</li> <li>
<code>--suffix</code>: Append the component suffix to the generated class name.</li> <li>
<code>--force</code>: Set this flag to overwrite existing files on destination.</li> </ul>    <h3 id="make-seeder">make:seeder</h3> <p>Creates a new seeder file.</p>  <h4 id="id16">Usage:</h4> <pre data-language="php">make:seeder &lt;name&gt; [options]
</pre>   <h4 id="id17">Argument:</h4> <ul class="simple"> <li>
<code>name</code>: The name of the seeder class. <strong>[REQUIRED]</strong>
</li> </ul>   <h4 id="id18">Options:</h4> <ul class="simple"> <li>
<code>--namespace</code>: Set the root namespace. Defaults to value of <code>APP_NAMESPACE</code>.</li> <li>
<code>--suffix</code>: Append the component suffix to the generated class name.</li> <li>
<code>--force</code>: Set this flag to overwrite existing files on destination.</li> </ul>    <h3 id="make-migration">make:migration</h3> <p>Creates a new migration file.</p>  <h4 id="id19">Usage:</h4> <pre data-language="php">make:migration &lt;name&gt; [options]
</pre>   <h4 id="id20">Argument:</h4> <ul class="simple"> <li>
<code>name</code>: The name of the migration class. <strong>[REQUIRED]</strong>
</li> </ul>   <h4 id="id21">Options:</h4> <ul class="simple"> <li>
<code>--session</code>: Generate a migration file for database sessions.</li> <li>
<code>--table</code>: Set the table name to use for database sessions. Defaults to <code>ci_sessions</code>.</li> <li>
<code>--dbgroup</code>: Set the database group for database sessions. Defaults to <code>default</code> group.</li> <li>
<code>--namespace</code>: Set the root namespace. Defaults to value of <code>APP_NAMESPACE</code>.</li> <li>
<code>--suffix</code>: Append the component suffix to the generated class name.</li> <li>
<code>--force</code>: Set this flag to overwrite existing files on destination.</li> </ul>    <h3 id="make-validation">make:validation</h3> <p>Creates a new validation file.</p>  <h4 id="id22">Usage:</h4> <pre data-language="php">make:validation &lt;name&gt; [options]
</pre>   <h4 id="id23">Argument:</h4> <ul class="simple"> <li>
<code>name</code>: The name of the validation class. <strong>[REQUIRED]</strong>
</li> </ul>   <h4 id="id24">Options:</h4> <ul class="simple"> <li>
<code>--namespace</code>: Set the root namespace. Defaults to value of <code>APP_NAMESPACE</code>.</li> <li>
<code>--suffix</code>: Append the component suffix to the generated class name.</li> <li>
<code>--force</code>: Set this flag to overwrite existing files on destination.</li> </ul> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Do you need to have the generated code in a subfolder? Letâ€™s say if you want to create a controller class to reside in the <code>Admin</code> subfolder of the main <code>Controllers</code> folder, you will just need to prepend the subfolder to the class name, like this: <code>php spark make:controller admin/login</code>. This command will create the <code>Login</code> controller in the <code>Controllers/Admin</code> subfolder with a namespace of <code>App\Controllers\Admin</code>.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Working on modules? Code generation will set the root namespace to a default of <code>APP_NAMESPACE</code>. Should you need to have the generated code elsewhere in your module namespace, make sure to set the <code>--namespace</code> option in your command, e.g., <code>php spark make:model blog --namespace Acme\Blog</code>.</p> </div> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">Make sure when setting the <code>--namespace</code> option that the supplied namespace is a valid namespace defined in your <code>$psr4</code> array in <code>Config\Autoload</code> or defined in your composer autoload file. Otherwise, code generation will be interrupted.</p> </div> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">Use of <code>migrate:create</code> to create migration files is now deprecated. It will be removed in future releases. Please use <code>make:migration</code> as replacement. Also, please use <code>make:migration --session</code> to use instead of the deprecated <code>session:migration</code>.</p> </div>     <h2 id="scaffolding-a-complete-set-of-stock-code">Scaffolding a Complete Set of Stock Code</h2> <p>Sometimes in our development phase we are creating functionalities by groups, such as creating an <em>Admin</em> group. This group will contain its own controller, model, migration files, or even entities. You may be tempted to type each generator command one-by-one in the terminal and wishfully thinking it would be great to have a single generator command to rule them all.</p> <p>Fret no more! CodeIgniter4 is also shipped with a dedicated <code>make:scaffold</code> command that is basically a wrapper to the controller, model, entity, migration, and seeder generator commands. All you need is the class name that will be used to name all the generated classes. Also, <strong>individual options</strong> supported by each generator command are recognized by the scaffold command.</p> <p>Running this in your terminal:</p> <pre data-language="php">php spark make:scaffold user
</pre> <p>will create the following classes:</p> <ol class="arabic simple"> <li>
<code>App\Controllers\User</code>;</li> <li>
<code>App\Models\User</code>;</li> <li>
<code>App\Database\Migrations\&lt;some date here&gt;_User</code>; and</li> <li>
<code>App\Database\Seeds\User</code>.</li> </ol> <p>To include an <code>Entity</code> class in the scaffolded files, just include the <code>--return entity</code> to the command and it will be passed to the model generator.</p>   <h2 id="generatortrait">GeneratorTrait</h2> <p>All generator commands must use the <code>GeneratorTrait</code> to fully utilize its methods that are used in code generation.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;2020 British Columbia Institute of Technology<br>Licensed under the MIT License.<br>
    <a href="https://codeigniter.com/user_guide/cli/cli_generators.html" class="_attribution-link">https://codeigniter.com/user_guide/cli/cli_generators.html</a>
  </p>
</div>
