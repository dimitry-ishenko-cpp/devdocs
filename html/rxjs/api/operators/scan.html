   <h1 id="scan">scan</h1> <p><code class="api-type-label function">function</code> <code class="api-status-label stable">stable</code> <code class="api-status-label operator">operator</code></p>    <aio-toc class="embedded"></aio-toc> <div class="api-body"> 
<p>Useful for encapsulating and managing state. Applies an accumulator (or "reducer function") to each value from the source after an initial state is established -- either via a <code>seed</code> value (second argument), or from the first value from the source.</p>  <h3 data-language="typescript"><code>scan&lt;V, A, S&gt;(accumulator: (acc: V | A | S, value: V, index: number) =&gt; A, seed?: S): OperatorFunction&lt;V, V | A&gt;</code></h3> <h4 class="no-anchor" id="parameters">Parameters</h4> <table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>accumulator</code> </td> <td class="param-type"><code>(acc: V | A | S, value: V, index: number) =&gt; A</code></td> <td class="param-description"> <p> A "reducer function". This will be called for each value after an initial state is acquired.</p> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>seed</code> </td> <td class="param-type"><code>S</code></td> <td class="param-description"> <p> Optional. Default is <code>undefined</code>.</p> <p> The initial state. If this is not provided, the first value from the source will be used as the initial state, and emitted without going through the accumulator. All subsequent values will be processed by the accumulator function. If this is provided, all values will go through the accumulator function.</p> </td> </tr> </tbody> </table> <h4 class="no-anchor" id="returns">Returns</h4> <p><code><a href="https://rxjs.dev/api/index/interface/OperatorFunction" class="code-anchor">OperatorFunction</a>&lt;V, V | A&gt;</code>: A function that returns an Observable of the accumulated values.</p>  <h2 id="description">Description</h2> <p><span class="informal">It's like <a href="reduce.html"><code>reduce</code></a>, but emits the current accumulation state after each update</span></p> <p><img src="data:image/png;base64,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" width="100%" alt="scan marble diagram"></p> <p>This operator maintains an internal state and emits it after processing each value as follows:</p> <ol> <li>First value arrives</li> </ol> <ul> <li>If a <code>seed</code> value was supplied (as the second argument to <code><a href="https://rxjs.dev/api/index/function/scan" class="code-anchor">scan</a></code>), let <code>state = seed</code> and <code>value = firstValue</code>.</li> <li>If NO <code>seed</code> value was supplied (no second argument), let <code>state = firstValue</code> and go to 3.</li> </ul> <ol start="2"> <li>Let <code>state = accumulator(state, value)</code>.</li> </ol> <ul> <li>If an error is thrown by <code>accumulator</code>, notify the consumer of an error. The process ends.</li> </ul> <ol start="3"> <li>Emit <code>state</code>.</li> <li>Next value arrives, let <code>value = nextValue</code>, go to 2.</li> </ol> <h2 id="examples">Examples</h2> <p>An average of previous numbers. This example shows how not providing a <code>seed</code> can prime the stream with the first value from the source.</p> <pre data-language="typescript">import { of, scan, map } from 'rxjs';

const numbers$ = of(1, 2, 3);

numbers$
  .pipe(
    // Get the sum of the numbers coming in.
    scan((total, n) =&gt; total + n),
    // Get the average by dividing the sum by the total number
    // received so far (which is 1 more than the zero-based index).
    map((sum, index) =&gt; sum / (index + 1))
  )
  .subscribe(console.log);</pre> <p>The Fibonacci sequence. This example shows how you can use a seed to prime accumulation process. Also... you know... Fibonacci. So important to like, computers and stuff that its whiteboarded in job interviews. Now you can show them the Rx version! (Please don't, haha)</p> <pre data-language="typescript">import { interval, scan, map, startWith } from 'rxjs';

const firstTwoFibs = [0, 1];
// An endless stream of Fibonacci numbers.
const fibonacci$ = interval(1000).pipe(
  // Scan to get the fibonacci numbers (after 0, 1)
  scan(([a, b]) =&gt; [b, a + b], firstTwoFibs),
  // Get the second number in the tuple, it's the one you calculated
  map(([, n]) =&gt; n),
  // Start with our first two digits :)
  startWith(...firstTwoFibs)
);

fibonacci$.subscribe(console.log);</pre>   <h2 id="overloads">Overloads</h2>
<h3 data-language="typescript"><code>scan(accumulator: (acc: V | A, value: V, index: number) =&gt; A): OperatorFunction&lt;V, V | A&gt;</code></h3>
<h4 class="no-anchor" id="parameters-1">Parameters</h4>
<table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>accumulator</code> </td> <td class="param-type"><code>(acc: V | A, value: V, index: number) =&gt; A</code></td> <td class="param-description"> </td> </tr> </tbody> </table>
<h4 class="no-anchor" id="returns-1">Returns</h4>
<p><code><a href="https://rxjs.dev/api/index/interface/OperatorFunction" class="code-anchor">OperatorFunction</a>&lt;V, V | A&gt;</code></p>
<h3 data-language="typescript"><code>scan(accumulator: (acc: A, value: V, index: number) =&gt; A, seed: A): OperatorFunction&lt;V, A&gt;</code></h3>
<h4 class="no-anchor" id="parameters-2">Parameters</h4>
<table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>accumulator</code> </td> <td class="param-type"><code>(acc: A, value: V, index: number) =&gt; A</code></td> <td class="param-description"> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>seed</code> </td> <td class="param-type"><code>A</code></td> <td class="param-description"> </td> </tr> </tbody> </table>
<h4 class="no-anchor" id="returns-2">Returns</h4>
<p><code><a href="https://rxjs.dev/api/index/interface/OperatorFunction" class="code-anchor">OperatorFunction</a>&lt;V, A&gt;</code></p>
<h3 data-language="typescript"><code>scan(accumulator: (acc: A | S, value: V, index: number) =&gt; A, seed: S): OperatorFunction&lt;V, A&gt;</code></h3>
<h4 class="no-anchor" id="parameters-3">Parameters</h4>
<table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>accumulator</code> </td> <td class="param-type"><code>(acc: A | S, value: V, index: number) =&gt; A</code></td> <td class="param-description"> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>seed</code> </td> <td class="param-type"><code>S</code></td> <td class="param-description"> </td> </tr> </tbody> </table>
<h4 class="no-anchor" id="returns-3">Returns</h4>
<p><code><a href="https://rxjs.dev/api/index/interface/OperatorFunction" class="code-anchor">OperatorFunction</a>&lt;V, A&gt;</code></p>    <h2 id="see-also">See Also</h2> <ul> <li>
<a href="expand.html"><code>expand</code></a> </li> <li>
<a href="mergescan.html"><code>mergeScan</code></a> </li> <li>
<a href="reduce.html"><code>reduce</code></a> </li> <li>
<a href="switchscan.html"><code>switchScan</code></a> </li> </ul>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2015&ndash;2022 Google, Inc., Netflix, Inc., Microsoft Corp. and contributors.<br>Code licensed under an Apache-2.0 License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://rxjs.dev/api/operators/scan" class="_attribution-link">https://rxjs.dev/api/operators/scan</a>
  </p>
</div>
