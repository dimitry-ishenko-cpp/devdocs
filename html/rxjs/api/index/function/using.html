   <h1 id="using">using</h1> <p><code class="api-type-label function">function</code> <code class="api-status-label stable">stable</code></p>   <aio-toc class="embedded"></aio-toc> <div class="api-body"> 
<p>Creates an Observable that uses a resource which will be disposed at the same time as the Observable.</p>  <h3 data-language="typescript"><code>using&lt;T extends ObservableInput&lt;any&gt;&gt;(resourceFactory: () =&gt; void | Unsubscribable, observableFactory: (resource: void | Unsubscribable) =&gt; void | T): Observable&lt;ObservedValueOf&lt;T&gt;&gt;</code></h3> <h4 class="no-anchor" id="parameters">Parameters</h4> <table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>resourceFactory</code> </td> <td class="param-type"><code>() =&gt; void | <a href="../interface/unsubscribable.html" class="code-anchor">Unsubscribable</a></code></td> <td class="param-description"> <p> A function which creates any resource object that implements <code>unsubscribe</code> method.</p> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>observableFactory</code> </td> <td class="param-type"><code>(resource: void | <a href="../interface/unsubscribable.html" class="code-anchor">Unsubscribable</a>) =&gt; void | T</code></td> <td class="param-description"> <p> A function which creates an Observable, that can use injected resource object.</p> </td> </tr> </tbody> </table> <h4 class="no-anchor" id="returns">Returns</h4> <p><code><a href="../class/observable.html" class="code-anchor">Observable</a>&lt;<a href="../type-alias/observedvalueof.html" class="code-anchor">ObservedValueOf</a>&lt;T&gt;&gt;</code>: An Observable that behaves the same as Observable returned by <code>observableFactory</code>, but which - when completed, errored or unsubscribed - will also call <code>unsubscribe</code> on created resource object.</p>  <h2 id="description">Description</h2> <p><span class="informal">Use it when you catch yourself cleaning up after an Observable.</span></p> <p><code><a href="using.html" class="code-anchor">using</a></code> is a factory operator, which accepts two functions. First function returns a disposable resource. It can be an arbitrary object that implements <code>unsubscribe</code> method. Second function will be injected with that object and should return an Observable. That Observable can use resource object during its execution. Both functions passed to <code><a href="using.html" class="code-anchor">using</a></code> will be called every time someone subscribes - neither an Observable nor resource object will be shared in any way between subscriptions.</p> <p>When Observable returned by <code><a href="using.html" class="code-anchor">using</a></code> is subscribed, Observable returned from the second function will be subscribed as well. All its notifications (nexted values, completion and error events) will be emitted unchanged by the output Observable. If however someone unsubscribes from the Observable or source Observable completes or errors by itself, the <code>unsubscribe</code> method on resource object will be called. This can be used to do any necessary clean up, which otherwise would have to be handled by hand. Note that complete or error notifications are not emitted when someone cancels subscription to an Observable via <code>unsubscribe</code>, so <code><a href="using.html" class="code-anchor">using</a></code> can be used as a hook, allowing you to make sure that all resources which need to exist during an Observable execution will be disposed at appropriate time.</p>   <h2 id="see-also">See Also</h2> <ul> <li>
<a href="defer.html"><code>defer</code></a> </li> </ul>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2015&ndash;2022 Google, Inc., Netflix, Inc., Microsoft Corp. and contributors.<br>Code licensed under an Apache-2.0 License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://rxjs.dev/api/index/function/using" class="_attribution-link">https://rxjs.dev/api/index/function/using</a>
  </p>
</div>
