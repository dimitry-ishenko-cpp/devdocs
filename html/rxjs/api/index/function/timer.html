   <h1 id="timer">timer</h1> <p><code class="api-type-label function">function</code> <code class="api-status-label stable">stable</code></p>   <aio-toc class="embedded"></aio-toc> <div class="api-body">  <h3 data-language="typescript"><code>timer(dueTime: number | Date = 0, intervalOrScheduler?: number | SchedulerLike, scheduler: SchedulerLike = asyncScheduler): Observable&lt;number&gt;</code></h3> <h4 class="no-anchor" id="parameters">Parameters</h4> <table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>dueTime</code> </td> <td class="param-type"><code>number | Date</code></td> <td class="param-description"> <p>Optional. Default is <code>0</code>.</p> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>intervalOrScheduler</code> </td> <td class="param-type"><code>number | <a href="../interface/schedulerlike.html" class="code-anchor">SchedulerLike</a></code></td> <td class="param-description"> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>scheduler</code> </td> <td class="param-type"><code><a href="../interface/schedulerlike.html" class="code-anchor">SchedulerLike</a></code></td> <td class="param-description"> <p>Optional. Default is <code><a href="../const/asyncscheduler.html" class="code-anchor">asyncScheduler</a></code>.</p> </td> </tr> </tbody> </table> <h4 class="no-anchor" id="returns">Returns</h4> <p><code><a href="../class/observable.html" class="code-anchor">Observable</a>&lt;number&gt;</code></p>  <h2 id="overloads">Overloads</h2>
<h3 data-language="typescript"><code>timer(due: number | Date, scheduler?: SchedulerLike): Observable&lt;0&gt;</code></h3>
<div class="short-description"> <p>Creates an observable that will wait for a specified time period, or exact date, before emitting the number 0.</p> </div>
<h4 class="no-anchor" id="parameters-1">Parameters</h4>
<table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>due</code> </td> <td class="param-type"><code>number | Date</code></td> <td class="param-description"> <p> If a <code>number</code>, the amount of time in milliseconds to wait before emitting. If a <code>Date</code>, the exact time at which to emit.</p> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>scheduler</code> </td> <td class="param-type"><code><a href="../interface/schedulerlike.html" class="code-anchor">SchedulerLike</a></code></td> <td class="param-description"> <p>Optional. Default is <code>undefined</code>.</p> <p>The scheduler to use to schedule the delay. Defaults to <a href="../const/asyncscheduler.html"><code>asyncScheduler</code></a>.</p> </td> </tr> </tbody> </table>
<h4 class="no-anchor" id="returns-1">Returns</h4>
<p><code><a href="../class/observable.html" class="code-anchor">Observable</a>&lt;0&gt;</code></p>
<div class="description"> <p><span class="informal">Used to emit a notification after a delay.</span></p> <p>This observable is useful for creating delays in code, or racing against other values for ad-hoc timeouts.</p> <p>The <code><a href="delay.html" class="code-anchor">delay</a></code> is specified by default in milliseconds, however providing a custom scheduler could create a different behavior.</p> <h2 id="examples">Examples</h2> <p>Wait 3 seconds and start another observable</p> <p>You might want to use <code><a href="timer.html" class="code-anchor">timer</a></code> to delay subscription to an observable by a set amount of time. Here we use a timer with <a href="concatmapto.html"><code>concatMapTo</code></a> or <a href="concatmap.html"><code>concatMap</code></a> in order to wait a few seconds and start a subscription to a source.</p> <pre data-language="typescript">import { of, timer, concatMap } from 'rxjs';

// This could be any observable
const source = of(1, 2, 3);

timer(3000)
  .pipe(concatMap(() =&gt; source))
  .subscribe(console.log);</pre> <p>Take all values until the start of the next minute</p> <p>Using a <code>Date</code> as the trigger for the first emission, you can do things like wait until midnight to fire an event, or in this case, wait until a new minute starts (chosen so the example wouldn't take too long to run) in order to stop watching a stream. Leveraging <a href="takeuntil.html"><code>takeUntil</code></a>.</p> <pre data-language="typescript">import { interval, takeUntil, timer } from 'rxjs';

// Build a Date object that marks the
// next minute.
const currentDate = new Date();
const startOfNextMinute = new Date(
  currentDate.getFullYear(),
  currentDate.getMonth(),
  currentDate.getDate(),
  currentDate.getHours(),
  currentDate.getMinutes() + 1
);

// This could be any observable stream
const source = interval(1000);

const result = source.pipe(
  takeUntil(timer(startOfNextMinute))
);

result.subscribe(console.log);</pre> <h4 id="known-limitations">Known Limitations</h4> <ul> <li> <p>The <a href="../const/asyncscheduler.html"><code>asyncScheduler</code></a> uses <code>setTimeout</code> which has limitations for how far in the future it can be scheduled.</p> </li> <li> <p>If a <code>scheduler</code> is provided that returns a timestamp other than an epoch from <code>now()</code>, and a <code>Date</code> object is passed to the <code>dueTime</code> argument, the calculation for when the first emission should occur will be incorrect. In this case, it would be best to do your own calculations ahead of time, and pass a <code>number</code> in as the <code>dueTime</code>.</p> </li> </ul> </div>
<h3 data-language="typescript"><code>timer(startDue: number | Date, intervalDuration: number, scheduler?: SchedulerLike): Observable&lt;number&gt;</code></h3>
<div class="short-description"> <p>Creates an observable that starts an interval after a specified delay, emitting incrementing numbers -- starting at <code>0</code> -- on each interval after words.</p> </div>
<h4 class="no-anchor" id="parameters-2">Parameters</h4>
<table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>startDue</code> </td> <td class="param-type"><code>number | Date</code></td> <td class="param-description"> <p> If a <code>number</code>, is the time to wait before starting the interval. If a <code>Date</code>, is the exact time at which to start the interval.</p> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>intervalDuration</code> </td> <td class="param-type"><code>number</code></td> <td class="param-description"> <p> The delay between each value emitted in the interval. Passing a negative number here will result in immediate completion after the first value is emitted, as though no <code>intervalDuration</code> was passed at all.</p> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>scheduler</code> </td> <td class="param-type"><code><a href="../interface/schedulerlike.html" class="code-anchor">SchedulerLike</a></code></td> <td class="param-description"> <p>Optional. Default is <code>undefined</code>.</p> <p>The scheduler to use to schedule the delay. Defaults to <a href="../const/asyncscheduler.html"><code>asyncScheduler</code></a>.</p> </td> </tr> </tbody> </table>
<h4 class="no-anchor" id="returns-2">Returns</h4>
<p><code><a href="../class/observable.html" class="code-anchor">Observable</a>&lt;number&gt;</code></p>
<div class="description"> <p>The <code><a href="delay.html" class="code-anchor">delay</a></code> and <code>intervalDuration</code> are specified by default in milliseconds, however providing a custom scheduler could create a different behavior.</p> <h2 id="example">Example</h2> <h4 id="start-an-interval-that-starts-right-away">Start an interval that starts right away</h4> <p>Since <a href="interval.html"><code>interval</code></a> waits for the passed delay before starting, sometimes that's not ideal. You may want to start an interval immediately. <code><a href="timer.html" class="code-anchor">timer</a></code> works well for this. Here we have both side-by-side so you can see them in comparison.</p> <p>Note that this observable will never complete.</p> <pre data-language="typescript">import { timer, interval } from 'rxjs';

timer(0, 1000).subscribe(n =&gt; console.log('timer', n));
interval(1000).subscribe(n =&gt; console.log('interval', n));</pre> <h4 id="known-limitations-1">Known Limitations</h4> <ul> <li> <p>The <a href="../const/asyncscheduler.html"><code>asyncScheduler</code></a> uses <code>setTimeout</code> which has limitations for how far in the future it can be scheduled.</p> </li> <li> <p>If a <code>scheduler</code> is provided that returns a timestamp other than an epoch from <code>now()</code>, and a <code>Date</code> object is passed to the <code>dueTime</code> argument, the calculation for when the first emission should occur will be incorrect. In this case, it would be best to do your own calculations ahead of time, and pass a <code>number</code> in as the <code>startDue</code>.</p> </li> </ul> </div>
<h3 data-language="typescript"><code>timer(dueTime: number | Date, unused: undefined, scheduler?: SchedulerLike): Observable&lt;0&gt;</code></h3>
<h4 class="no-anchor" id="parameters-3">Parameters</h4>
<table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>dueTime</code> </td> <td class="param-type"><code>number | Date</code></td> <td class="param-description"> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>unused</code> </td> <td class="param-type"><code>undefined</code></td> <td class="param-description"> </td> </tr> <tr class="function-overload-parameter"> <td class="param-name">  <code>scheduler</code> </td> <td class="param-type"><code><a href="../interface/schedulerlike.html" class="code-anchor">SchedulerLike</a></code></td> <td class="param-description"> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table>
<h4 class="no-anchor" id="returns-3">Returns</h4>
<p><code><a href="../class/observable.html" class="code-anchor">Observable</a>&lt;0&gt;</code></p>   </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2015&ndash;2022 Google, Inc., Netflix, Inc., Microsoft Corp. and contributors.<br>Code licensed under an Apache-2.0 License. Documentation licensed under CC BY 4.0.<br>
    <a href="https://rxjs.dev/api/index/function/timer" class="_attribution-link">https://rxjs.dev/api/index/function/timer</a>
  </p>
</div>
