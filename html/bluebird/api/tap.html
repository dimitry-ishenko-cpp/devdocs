<h1 id="tap">  .tap </h1> <pre data-language="javascript">.tap(function(any value) handler) -&gt; Promise
</pre> <p>Essentially like <code>.then()</code>, except that the value passed in is the value returned.</p> <p>This means you can insert <code>.tap()</code> into a <code>.then()</code> chain without affecting what is passed through the chain. (See example below).</p> <p>Unlike <a href="finally.html"><code>.finally</code></a> this is not called for rejections.</p> <pre data-language="javascript">getUser().tap(function(user) {
    //Like in finally, if you return a promise from the handler
    //the promise is awaited for before passing the original value through
    return recordStatsAsync();
}).then(function(user) {
    //user is the user from getUser(), not recordStatsAsync()
});
</pre> <p>Common case includes adding logging to an existing promise chain:</p> <pre data-language="javascript">doSomething()
    .then(...)
    .then(...)
    .then(...)
    .then(...)
</pre>
<pre data-language="javascript">doSomething()
    .then(...)
    .then(...)
    .tap(console.log)
    .then(...)
    .then(...)
</pre> <p><em>Note: in browsers it is necessary to call <code>.tap</code> with <code>console.log.bind(console)</code> because console methods can not be called as stand-alone functions.</em> </p>   <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2013&ndash;2018 Petka Antonov<br>Licensed under the MIT License.<br>
    <a href="http://bluebirdjs.com/docs/api/tap.html" class="_attribution-link">http://bluebirdjs.com/docs/api/tap.html</a>
  </p>
</div>
