<h1 id="raycaster" class=" section-header"><span class="descname">Raycaster</span></h1> <p class="section-desc"> This class is designed to assist with <a class="reference external" href="https://en.wikipedia.org/wiki/Ray_casting">raycasting</a>. Raycasting is used for mouse picking (working out what objects in the 3d space the mouse is over) amongst other things. </p> <div class="section">
<h2 class="section-title section-header" id="code-example">Code Example</h2>
<pre data-language="javascript"><code>
		const raycaster = new THREE.Raycaster();
		const pointer = new THREE.Vector2();

		function onPointerMove( event ) {

			// calculate pointer position in normalized device coordinates
			// (-1 to +1) for both components

			pointer.x = ( event.clientX / window.innerWidth ) * 2 - 1;
			pointer.y = - ( event.clientY / window.innerHeight ) * 2 + 1;

		}

		function render() {

			// update the picking ray with the camera and pointer position
			raycaster.setFromCamera( pointer, camera );

			// calculate objects intersecting the picking ray
			const intersects = raycaster.intersectObjects( scene.children );

			for ( let i = 0; i &lt; intersects.length; i ++ ) {

				intersects[ i ].object.material.color.set( 0xff0000 );

			}

			renderer.render( scene, camera );

		}

		window.addEventListener( 'pointermove', onPointerMove );

		window.requestAnimationFrame(render);

		</code></pre> </div> <div class="section">
<h2 class="section-title section-header" id="examples">Examples</h2>
<p> <a class="reference external" href="https://threejs.org/examples/#webgl_interactive_cubes">Raycasting to a Mesh</a><br> <a class="reference external" href="https://threejs.org/examples/#webgl_interactive_cubes_ortho">Raycasting to a Mesh in using an OrthographicCamera</a><br> <a class="reference external" href="https://threejs.org/examples/#webgl_interactive_buffergeometry">Raycasting to a Mesh with BufferGeometry</a><br> <a class="reference external" href="https://threejs.org/examples/#webgl_instancing_raycast">Raycasting to a InstancedMesh</a><br> <a class="reference external" href="https://threejs.org/examples/#webgl_interactive_lines">Raycasting to a Line</a><br> <a class="reference external" href="https://threejs.org/examples/#webgl_interactive_raycasting_points">Raycasting to Points</a><br> <a class="reference external" href="https://threejs.org/examples/#webgl_geometry_terrain_raycast">Terrain raycasting</a><br> <a class="reference external" href="https://threejs.org/examples/#webgl_interactive_voxelpainter">Raycasting to paint voxels</a><br> <a class="reference external" href="https://threejs.org/examples/#webgl_raycaster_texture">Raycast to a Texture</a> </p> </div> <div class="section">
<h2 class="section-title section-header" id="constructor">Constructor</h2>
<h3 id="raycaster-vector3-origin-vector3-direction-float-near-float-far-" class=" section-header">
<span class="descname">Raycaster</span>( <span class="sig-param"><span class="sig-type">Vector3</span> <code class="sig-name">origin</code></span>, <span class="sig-param"><span class="sig-type">Vector3</span> <code class="sig-name">direction</code></span>, <span class="sig-param"><span class="sig-type">Float</span> <code class="sig-name">near</code></span>, <span class="sig-param"><span class="sig-type">Float</span> <code class="sig-name">far</code></span> )</h3> <p> <a class="reference internal" href="vector3.html"><code class="xref js js-vector3">origin</code></a> — The origin vector where the ray casts from.<br> <a class="reference internal" href="vector3.html"><code class="xref js js-vector3">direction</code></a> — The direction vector that gives direction to the ray. Should be normalized.<br> <a class="reference internal" href="float.html"><code class="xref js js-float">near</code></a> — All results returned are further away than near. Near can't be negative. Default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.<br> <a class="reference internal" href="float.html"><code class="xref js js-float">far</code></a> — All results returned are closer than far. Far can't be lower than near. Default value is Infinity. </p> <p>This creates a new raycaster object.<br></p> </div> <div class="section">
<h2 class="section-title section-header" id="properties">Properties</h2>
<h3 id="far-float" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">far</span><span class="sig-colon">:</span> <span class="sig-type">Float</span>
</dt></h3> <p> The far factor of the raycaster. This value indicates which objects can be discarded based on the distance. This value shouldn't be negative and should be larger than the near property. </p> <h3 id="near-float" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">near</span><span class="sig-colon">:</span> <span class="sig-type">Float</span>
</dt></h3> <p> The near factor of the raycaster. This value indicates which objects can be discarded based on the distance. This value shouldn't be negative and should be smaller than the far property. </p> <h3 id="camera-camera" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">camera</span><span class="sig-colon">:</span> <span class="sig-type">Camera</span>
</dt></h3> <p> The camera to use when raycasting against view-dependent objects such as billboarded objects like <a class="reference internal" href="sprites.html"><code class="xref js js-sprites">Sprites</code></a>. This field can be set manually or is set when calling "setFromCamera". Defaults to null. </p> <h3 id="layers-layers" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">layers</span><span class="sig-colon">:</span> <span class="sig-type">Layers</span>
</dt></h3> <p> Used by [name] to selectively ignore 3D objects when performing intersection tests. The following code example ensures that only 3D objects on layer `1` will be honored by the instance of [name]. <pre data-language="javascript"><code>
raycaster.layers.set( 1 );
object.layers.enable( 1 );
			</code></pre> </p> <h3 id="params-object" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">params</span><span class="sig-colon">:</span> <span class="sig-type">Object</span>
</dt></h3> <p> An object with the following properties: <pre data-language="javascript"><code>
{
	Mesh: {},
	Line: { threshold: 1 },
	LOD: {},
	Points: { threshold: 1 },
	Sprite: {}
}
			</code></pre> Where threshold is the precision of the raycaster when intersecting objects, in world units. </p> <h3 id="ray-ray" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">ray</span><span class="sig-colon">:</span> <span class="sig-type">Ray</span>
</dt></h3> <p>The [Page:Ray] used for the raycasting.</p> </div> <div class="section">
<h2 class="section-title section-header" id="methods">Methods</h2>
<h3 id="set-vector3-origin-vector3-direction-undefined" class=" section-header"><dt class="sig sig-object js" id="set">
<span class="sig-name descname">set</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Vector3</span></span> <code class="sig-name"><span class="sig-name">origin</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Vector3</span></span> <code class="sig-name"><span class="sig-name">direction</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">undefined</span></span>
</dt></h3> <p> <a class="reference internal" href="vector3.html"><code class="xref js js-vector3">origin</code></a> — The origin vector where the ray casts from.<br> <a class="reference internal" href="vector3.html"><code class="xref js js-vector3">direction</code></a> — The normalized direction vector that gives direction to the ray. </p> <p> Updates the ray with a new origin and direction. Please note that this method only copies the values from the arguments. </p> <h3 id="setfromcamera-vector2-coords-camera-camera-undefined" class=" section-header"><dt class="sig sig-object js" id="setFromCamera">
<span class="sig-name descname">setFromCamera</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Vector2</span></span> <code class="sig-name"><span class="sig-name">coords</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Camera</span></span> <code class="sig-name"><span class="sig-name">camera</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">undefined</span></span>
</dt></h3> <p> <a class="reference internal" href="vector2.html"><code class="xref js js-vector2">coords</code></a> — 2D coordinates of the mouse, in normalized device coordinates (NDC)---X and Y components should be between <code class="docutils literal notranslate"><span class="pre">-1</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code>.<br> <a class="reference internal" href="camera.html"><code class="xref js js-camera">camera</code></a> — camera from which the ray should originate </p> <p>Updates the ray with a new origin and direction.</p> <h3 id="this-setfromxrcontroller-webxrcontroller-controller-" class=" section-header"><dt class="sig sig-object js" id="setFromXRController">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">setFromXRController</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">WebXRController</span></span> <code class="sig-name"><span class="sig-name">controller</span></code></span></span><span class="sig-paren">)</span>
</dt></h3> <p> <a class="reference internal" href="webxrcontroller.html"><code class="xref js js-webxrcontroller">controller</code></a> — The controller to copy the position and direction from. </p> <p>Updates the ray with a new origin and direction.</p> <h3 id="intersectobject-object3d-object-boolean-recursive-array-optionaltarget-array" class=" section-header"><dt class="sig sig-object js" id="intersectObject">
<span class="sig-name descname">intersectObject</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Object3D</span></span> <code class="sig-name"><span class="sig-name">object</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Boolean</span></span> <code class="sig-name"><span class="sig-name">recursive</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Array</span></span> <code class="sig-name"><span class="sig-name">optionalTarget</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Array</span></span>
</dt></h3> <p> <a class="reference internal" href="object3d.html"><code class="xref js js-object3d">object</code></a> — The object to check for intersection with the ray.<br> <a class="reference internal" href="boolean.html"><code class="xref js js-boolean">recursive</code></a> — If true, it also checks all descendants. Otherwise it only checks intersection with the object. Default is true.<br> <a class="reference internal" href="array.html"><code class="xref js js-array">optionalTarget</code></a> — (optional) target to set the result. Otherwise a new <a class="reference internal" href="array.html"><code class="xref js js-array">Array</code></a> is instantiated. If set, you must clear this array prior to each call (i.e., array.length = 0;). </p> <p> Checks all intersection between the ray and the object with or without the descendants. Intersections are returned sorted by distance, closest first. An array of intersections is returned... </p> <pre data-language="javascript"><code> [ { distance, point, face, faceIndex, object }, ... ] </code></pre> <p> <a class="reference internal" href="float.html"><code class="xref js js-float">distance</code></a> – distance between the origin of the ray and the intersection<br> <a class="reference internal" href="vector3.html"><code class="xref js js-vector3">point</code></a> – point of intersection, in world coordinates<br> <a class="reference internal" href="object.html"><code class="xref js js-object">face</code></a> – intersected face<br> <a class="reference internal" href="integer.html"><code class="xref js js-integer">faceIndex</code></a> – index of the intersected face<br> <a class="reference internal" href="object3d.html"><code class="xref js js-object3d">object</code></a> – the intersected object<br> <a class="reference internal" href="vector2.html"><code class="xref js js-vector2">uv</code></a> - U,V coordinates at point of intersection<br> <a class="reference internal" href="vector2.html"><code class="xref js js-vector2">uv1</code></a> - Second set of U,V coordinates at point of intersection<br> <a class="reference internal" href="vector3.html"><code class="xref js js-vector3">normal</code></a> - interpolated normal vector at point of intersection<br> <a class="reference internal" href="integer.html"><code class="xref js js-integer">instanceId</code></a> – The index number of the instance where the ray intersects the InstancedMesh </p> <p> <code class="docutils literal notranslate"><span class="pre">Raycaster</span></code> delegates to the <a class="reference internal" href="object3d.raycast.html"><code class="xref js js-object3d.raycast">raycast</code></a> method of the passed object, when evaluating whether the ray intersects the object or not. This allows <a class="reference internal" href="mesh.html"><code class="xref js js-mesh">meshes</code></a> to respond differently to ray casting than <a class="reference internal" href="line.html"><code class="xref js js-line">lines</code></a> and <a class="reference internal" href="points.html"><code class="xref js js-points">pointclouds</code></a>. </p> <p> *Note* that for meshes, faces must be pointed towards the origin of the <a class="reference internal" href=".ray.html"><code class="xref js js-.ray">ray</code></a> in order to be detected; intersections of the ray passing through the back of a face will not be detected. To raycast against both faces of an object, you'll want to set the <a class="reference internal" href="mesh.material.html"><code class="xref js js-mesh.material">material</code></a>'s <a class="reference internal" href="material.side.html"><code class="xref js js-material.side">side</code></a> property to <code class="docutils literal notranslate"><span class="pre">THREE.DoubleSide</span></code>. </p> <h3 id="intersectobjects-array-objects-boolean-recursive-array-optionaltarget-array" class=" section-header"><dt class="sig sig-object js" id="intersectObjects">
<span class="sig-name descname">intersectObjects</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Array</span></span> <code class="sig-name"><span class="sig-name">objects</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Boolean</span></span> <code class="sig-name"><span class="sig-name">recursive</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Array</span></span> <code class="sig-name"><span class="sig-name">optionalTarget</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Array</span></span>
</dt></h3> <p> <a class="reference internal" href="array.html"><code class="xref js js-array">objects</code></a> — The objects to check for intersection with the ray.<br> <a class="reference internal" href="boolean.html"><code class="xref js js-boolean">recursive</code></a> — If true, it also checks all descendants of the objects. Otherwise it only checks intersection with the objects. Default is true.<br> <a class="reference internal" href="array.html"><code class="xref js js-array">optionalTarget</code></a> — (optional) target to set the result. Otherwise a new <a class="reference internal" href="array.html"><code class="xref js js-array">Array</code></a> is instantiated. If set, you must clear this array prior to each call (i.e., array.length = 0;). </p> <p> Checks all intersection between the ray and the objects with or without the descendants. Intersections are returned sorted by distance, closest first. Intersections are of the same form as those returned by <a class="reference internal" href=".intersectobject.html"><code class="xref js js-.intersectobject">.intersectObject</code></a>. </p>   </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2025 Three.js Authors<br>Licensed under the MIT License.<br>
    <a href="https://threejs.org/docs/api/en/core/Raycaster.html" class="_attribution-link">https://threejs.org/docs/api/en/core/Raycaster.html</a>
  </p>
</div>
