[page:Mesh] â†’ <h1 id="batchedmesh" class=" section-header"><span class="descname">BatchedMesh</span></h1> <p class="section-desc"> A special version of <a class="reference internal" href="mesh.html"><code class="xref js js-mesh">Mesh</code></a> with multi draw batch rendering support. Use [name] if you have to render a large number of objects with the same material but with different geometries or world transformations. The usage of [name] will help you to reduce the number of draw calls and thus improve the overall rendering performance in your application. <br> <br> If the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_multi_draw">WEBGL_multi_draw extension</a> is not supported then a less performant fallback is used. </p> <div class="section">
<h2 class="section-title section-header" id="code-example">Code Example</h2>
<pre data-language="javascript"><code>
		const box = new THREE.BoxGeometry( 1, 1, 1 );
		const sphere = new THREE.SphereGeometry( 1, 12, 12 );
		const material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );

		// initialize and add geometries into the batched mesh
		const batchedMesh = new BatchedMesh( 10, 5000, 10000, material );
		const boxGeometryId = batchedMesh.addGeometry( box );
		const sphereGeometryId = batchedMesh.addGeometry( sphere );

		// create instances of those geometries
		const boxInstancedId1 = batchedMesh.addInstance( boxGeometryId );
		const boxInstancedId2 = batchedMesh.addInstance( boxGeometryId );

		const sphereInstancedId1 = batchedMesh.addInstance( sphereGeometryId );
		const sphereInstancedId2 = batchedMesh.addInstance( sphereGeometryId );

		// position the geometries
		batchedMesh.setMatrixAt( boxInstancedId1, boxMatrix1 );
		batchedMesh.setMatrixAt( boxInstancedId2, boxMatrix2 );

		batchedMesh.setMatrixAt( sphereInstancedId1, sphereMatrix1 );
		batchedMesh.setMatrixAt( sphereInstancedId2, sphereMatrix2 );

		scene.add( batchedMesh );
		</code></pre> </div> <div class="section">
<h2 class="section-title section-header" id="examples">Examples</h2>
<p> <a class="reference external" href="https://threejs.org/examples/#webgl_mesh_batch">WebGL / mesh / batch</a><br> </p> </div> <div class="section">
<h2 class="section-title section-header" id="constructor">Constructor</h2>
<h3 id="batchedmesh-integer-maxinstancecount-integer-maxvertexcount-integer-maxindexcount-material-material-" class=" section-header"> <span class="descname">BatchedMesh</span>( <span class="sig-param"><span class="sig-type">Integer</span> <code class="sig-name">maxInstanceCount</code></span>, <span class="sig-param"><span class="sig-type">Integer</span> <code class="sig-name">maxVertexCount</code></span>, <span class="sig-param"><span class="sig-type">Integer</span> <code class="sig-name">maxIndexCount</code></span>, <span class="sig-param"><span class="sig-type">Material</span> <code class="sig-name">material</code></span>, ) </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">maxInstanceCount</code></a> - the max number of individual instances planned to be added and rendered.<br> <a class="reference internal" href="integer.html"><code class="xref js js-integer">maxVertexCount</code></a> - the max number of vertices to be used by all unique geometries.<br> <a class="reference internal" href="integer.html"><code class="xref js js-integer">maxIndexCount</code></a> - the max number of indices to be used by all unique geometries.<br> <a class="reference internal" href="material.html"><code class="xref js js-material">material</code></a> - an instance of <a class="reference internal" href="material.html"><code class="xref js js-material">Material</code></a>. Default is a new <a class="reference internal" href="meshbasicmaterial.html"><code class="xref js js-meshbasicmaterial">MeshBasicMaterial</code></a>.<br> </p> </div> <div class="section">
<h2 class="section-title section-header" id="properties">Properties</h2>
<p>See the base <a class="reference internal" href="mesh.html"><code class="xref js js-mesh">Mesh</code></a> class for common properties.</p> <h3 id="boundingbox-box3" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">boundingBox</span><span class="sig-colon">:</span> <span class="sig-type">Box3</span>
</dt></h3> <p> This bounding box encloses all instances of the [name]. Can be calculated with <a class="reference internal" href=".computeboundingbox.html"><code class="xref js js-.computeboundingbox">.computeBoundingBox</code></a>(). Default is <code class="docutils literal notranslate"><span class="pre">null</span></code>. </p> <h3 id="boundingsphere-sphere" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">boundingSphere</span><span class="sig-colon">:</span> <span class="sig-type">Sphere</span>
</dt></h3> <p> This bounding sphere encloses all instances of the [name]. Can be calculated with <a class="reference internal" href=".computeboundingsphere.html"><code class="xref js js-.computeboundingsphere">.computeBoundingSphere</code></a>(). Default is <code class="docutils literal notranslate"><span class="pre">null</span></code>. </p> <h3 id="perobjectfrustumculled-boolean" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">perObjectFrustumCulled</span><span class="sig-colon">:</span> <span class="sig-type">Boolean</span>
</dt></h3> <p> If true then the individual objects within the [name] are frustum culled. Default is <code class="docutils literal notranslate"><span class="pre">true</span></code>. </p> <h3 id="sortobjects-boolean" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">sortObjects</span><span class="sig-colon">:</span> <span class="sig-type">Boolean</span>
</dt></h3> <p> If true then the individual objects within the [name] are sorted to improve overdraw-related artifacts. If the material is marked as "transparent" objects are rendered back to front and if not then they are rendered front to back. Default is <code class="docutils literal notranslate"><span class="pre">true</span></code>. </p> <h3 id="maxinstancecount-integer" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">maxInstanceCount</span><span class="sig-colon">:</span> <span class="sig-type">Integer</span>
</dt></h3> <p> The maximum number of individual instances that can be stored in the [name]. Read only. </p> <h3 id="isbatchedmesh-boolean" class=" section-header"><dt class="sig sig-object js">
<span class="sig-name descname">isBatchedMesh</span><span class="sig-colon">:</span> <span class="sig-type">Boolean</span>
</dt></h3> <p>Read-only flag to check if a given object is of type [name].</p> </div> <div class="section">
<h2 class="section-title section-header" id="methods">Methods</h2>
<p>See the base <a class="reference internal" href="mesh.html"><code class="xref js js-mesh">Mesh</code></a> class for common methods.</p> <h3 id="computeboundingbox-undefined" class=" section-header"><dt class="sig sig-object js" id="computeBoundingBox">
<span class="sig-name descname">computeBoundingBox</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">undefined</span></span>
</dt></h3> <p> Computes the bounding box, updating <a class="reference internal" href=".boundingbox.html"><code class="xref js js-.boundingbox">.boundingBox</code></a> attribute.<br> Bounding boxes aren't computed by default. They need to be explicitly computed, otherwise they are <code class="docutils literal notranslate"><span class="pre">null</span></code>. </p> <h3 id="computeboundingsphere-undefined" class=" section-header"><dt class="sig sig-object js" id="computeBoundingSphere">
<span class="sig-name descname">computeBoundingSphere</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">undefined</span></span>
</dt></h3> <p> Computes the bounding sphere, updating <a class="reference internal" href=".boundingsphere.html"><code class="xref js js-.boundingsphere">.boundingSphere</code></a> attribute.<br> Bounding spheres aren't computed by default. They need to be explicitly computed, otherwise they are <code class="docutils literal notranslate"><span class="pre">null</span></code>. </p> <h3 id="dispose-undefined" class=" section-header"><dt class="sig sig-object js" id="dispose">
<span class="sig-name descname">dispose</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">undefined</span></span>
</dt></h3> <p> Frees the GPU-related resources allocated by this instance. Call this method whenever this instance is no longer used in your app. </p> <h3 id="this-setcustomsort-function-sortfunction-" class=" section-header"><dt class="sig sig-object js" id="setCustomSort">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">setCustomSort</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Function</span></span> <code class="sig-name"><span class="sig-name">sortFunction</span></code></span></span><span class="sig-paren">)</span>
</dt></h3> <p> Takes a sort a function that is run before render. The function takes a list of instances to sort and a camera. The objects in the list include a "z" field to perform a depth-ordered sort with. </p> <h3 id="getcolorat-integer-instanceid-color-target-undefined" class=" section-header"> <dt class="sig sig-object js" id="getColorAt">
<span class="sig-name descname">getColorAt</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">instanceId</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Color</span></span> <code class="sig-name"><span class="sig-name">target</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">undefined</span></span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">instanceId</code></a>: The id of an instance to get the color of. </p> <p> <a class="reference internal" href="color.html"><code class="xref js js-color">target</code></a>: The target object to copy the color in to. </p> <p>Get the color of the defined geometry.</p> <h3 id="getmatrixat-integer-instanceid-matrix4-target-matrix4" class=" section-header"> <dt class="sig sig-object js" id="getMatrixAt">
<span class="sig-name descname">getMatrixAt</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">instanceId</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Matrix4</span></span> <code class="sig-name"><span class="sig-name">target</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Matrix4</span></span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">instanceId</code></a>: The id of an instance to get the matrix of. </p> <p> <a class="reference internal" href="matrix4.html"><code class="xref js js-matrix4">target</code></a>: This 4x4 matrix will be set to the local transformation matrix of the defined instance. </p> <p>Get the local transformation matrix of the defined instance.</p> <h3 id="getvisibleat-integer-instanceid-boolean" class=" section-header"> <dt class="sig sig-object js" id="getVisibleAt">
<span class="sig-name descname">getVisibleAt</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">instanceId</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Boolean</span></span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">instanceId</code></a>: The id of an instance to get the visibility state of. </p> <p>Get whether the given instance is marked as "visible" or not.</p> <h3 id="getgeometryrangeat-integer-geometryid-object-target-object" class=" section-header"> <dt class="sig sig-object js" id="getGeometryRangeAt">
<span class="sig-name descname">getGeometryRangeAt</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">geometryId</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Object</span></span> <code class="sig-name"><span class="sig-name">target</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Object</span></span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">geometryId</code></a>: The id of the geometry to get the range of. </p> <p> <a class="reference internal" href="object.html"><code class="xref js js-object">target</code></a>: Optional target object to copy the range in to. </p> <p>Get the range representing the subset of triangles related to the attached geometry, indicating the starting offset and count, or <code class="docutils literal notranslate"><span class="pre">null</span></code> if invalid.</p> <p>Return an object of the form:</p> <pre data-language="javascript"><code>{ start: Integer, count: Integer }</code></pre> <h3 id="getgeometryidat-integer-instanceid-integer" class=" section-header"> <dt class="sig sig-object js" id="getGeometryIdAt">
<span class="sig-name descname">getGeometryIdAt</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">instanceId</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Integer</span></span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">instanceId</code></a>: The id of an instance to get the geometryIndex of. </p> <p>Get the geometryIndex of the defined instance.</p> <h3 id="setcolorat-integer-instanceid-color-color-undefined" class=" section-header"> <dt class="sig sig-object js" id="setColorAt">
<span class="sig-name descname">setColorAt</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">instanceId</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Color</span></span> <code class="sig-name"><span class="sig-name">color</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">undefined</span></span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">instanceId</code></a>: The id of the instance to set the color of. </p> <p><a class="reference internal" href="color.html"><code class="xref js js-color">color</code></a>: The color to set the instance to.</p> <p> Sets the given color to the defined geometry instance. </p> <h3 id="this-setmatrixat-integer-instanceid-matrix4-matrix-" class=" section-header"> <dt class="sig sig-object js" id="setMatrixAt">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">setMatrixAt</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">instanceId</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Matrix4</span></span> <code class="sig-name"><span class="sig-name">matrix</span></code></span></span><span class="sig-paren">)</span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">instanceId</code></a>: The id of an instance to set the matrix of. </p> <p> <a class="reference internal" href="matrix4.html"><code class="xref js js-matrix4">matrix</code></a>: A 4x4 matrix representing the local transformation of a single instance. </p> <p> Sets the given local transformation matrix to the defined instance. </p> <p> Negatively scaled matrices are not supported. </p> <h3 id="this-setvisibleat-integer-instanceid-boolean-visible-" class=" section-header"> <dt class="sig sig-object js" id="setVisibleAt">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">setVisibleAt</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">instanceId</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Boolean</span></span> <code class="sig-name"><span class="sig-name">visible</span></code></span></span><span class="sig-paren">)</span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">instanceId</code></a>: The id of the instance to set the visibility of. </p> <p> <a class="reference internal" href="boolean.html"><code class="xref js js-boolean">visible</code></a>: A boolean value indicating the visibility state. </p> <p> Sets the visibility of the instance at the given index. </p> <h3 id="this-setgeometryidat-integer-instanceid-integer-geometryid-" class=" section-header"> <dt class="sig sig-object js" id="setGeometryIdAt">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">setGeometryIdAt</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">instanceId</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">geometryId</span></code></span></span><span class="sig-paren">)</span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">instanceId</code></a>: The id of the instance to set the geometryIndex of. </p> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">geometryId</code></a>: The geometryIndex to be use by the instance. </p> <p> Sets the geometryIndex of the instance at the given index. </p> <h3 id="addgeometry-buffergeometry-geometry-integer-reservedvertexrange-integer-reservedindexrange-integer" class=" section-header"> <dt class="sig sig-object js" id="addGeometry">
<span class="sig-name descname">addGeometry</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">BufferGeometry</span></span> <code class="sig-name"><span class="sig-name">geometry</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">reservedVertexRange</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">reservedIndexRange</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Integer</span></span>
</dt> </h3> <p> <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">geometry</code></a>: The geometry to add into the [name]. </p> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">reservedVertexRange</code></a>: Optional parameter specifying the amount of vertex buffer space to reserve for the added geometry. This is necessary if it is planned to set a new geometry at this index at a later time that is larger than the original geometry. Defaults to the length of the given geometry vertex buffer. </p> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">reservedIndexRange</code></a>: Optional parameter specifying the amount of index buffer space to reserve for the added geometry. This is necessary if it is planned to set a new geometry at this index at a later time that is larger than the original geometry. Defaults to the length of the given geometry index buffer. </p> <p> Adds the given geometry to the [name] and returns the associated geometry id referring to it to be used in other functions. </p> <h3 id="deletegeometry-integer-geometryid-integer" class=" section-header"> <dt class="sig sig-object js" id="deleteGeometry">
<span class="sig-name descname">deleteGeometry</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">geometryId</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Integer</span></span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">geometryId</code></a>: The id of a geometry to remove from the [name] that was previously added via "addGeometry". Any instances referencing this geometry will also be removed as a side effect. </p> <h3 id="addinstance-integer-geometryid-integer" class=" section-header"> <dt class="sig sig-object js" id="addInstance">
<span class="sig-name descname">addInstance</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">geometryId</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Integer</span></span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">geometryId</code></a>: The id of a previously added geometry via "addGeometry" to add into the [name] to render. </p> <p> Adds a new instance to the [name] using the geometry of the given geometryId and returns a new id referring to the new instance to be used by other functions. </p> <h3 id="deleteinstance-integer-instanceid-integer" class=" section-header"> <dt class="sig sig-object js" id="deleteInstance">
<span class="sig-name descname">deleteInstance</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">instanceId</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Integer</span></span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">instanceId</code></a>: The id of an instance to remove from the [name] that was previously added via "addInstance". </p> <p> Removes an existing instance from the [name] using the given instanceId. </p> <h3 id="setgeometryat-integer-geometryid-buffergeometry-geometry-integer" class=" section-header"> <dt class="sig sig-object js" id="setGeometryAt">
<span class="sig-name descname">setGeometryAt</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Integer</span></span> <code class="sig-name"><span class="sig-name">geometryId</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">BufferGeometry</span></span> <code class="sig-name"><span class="sig-name">geometry</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Integer</span></span>
</dt> </h3> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">geometryId</code></a>: Which geometry id to replace with this geometry. </p> <p> <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">geometry</code></a>: The geometry to substitute at the given geometry id. </p> <p> Replaces the geometry at <code class="docutils literal notranslate"><span class="pre">geometryId</span></code> with the provided geometry. Throws an error if there is not enough space reserved for geometry. Calling this will change all instances that are rendering that geometry. </p> <h3 id="this-optimize-" class=" section-header"> <dt class="sig sig-object js" id="optimize">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">optimize</span><span class="sig-paren">(</span><span class="sig-paren">)</span>
</dt> </h3> <p> Repacks the sub geometries in [name] to remove any unused space remaining from previously deleted geometry, freeing up space to add new geometry. </p> <h3 id="this-setgeometrysize-maxvertexcount-maxindexcount-" class=" section-header"> <dt class="sig sig-object js" id="setGeometrySize">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">setGeometrySize</span><span class="sig-paren">(</span><span class="sig-param">maxVertexCount</span><span class="sig-paren">, </span><span class="sig-param">maxIndexCount</span><span class="sig-paren">)</span>
</dt> </h3> <p> Resizes the available space in [name]'s vertex and index buffer attributes to the provided sizes. If the provided arguments shrink the geometry buffers but there is not enough unused space at the end of the geometry attributes then an error is thrown. </p> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">maxVertexCount</code></a> - the max number of vertices to be used by all unique geometries to resize to.<br> <a class="reference internal" href="integer.html"><code class="xref js js-integer">maxIndexCount</code></a> - the max number of indices to be used by all unique geometries to resize to.<br> </p> <h3 id="this-setinstancecount-maxinstancecount-" class=" section-header"> <dt class="sig sig-object js" id="setInstanceCount">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">setInstanceCount</span><span class="sig-paren">(</span><span class="sig-param">maxInstanceCount</span><span class="sig-paren">)</span>
</dt> </h3> <p> Resizes the necessary buffers to support the provided number of instances. If the provided arguments shrink the number of instances but there are not enough unused ids at the end of the list then an error is thrown. </p> <p> <a class="reference internal" href="integer.html"><code class="xref js js-integer">maxInstanceCount</code></a> - the max number of individual instances that can be added and rendered by the [name].<br> </p>    </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2025 Three.js Authors<br>Licensed under the MIT License.<br>
    <a href="https://threejs.org/docs/api/en/objects/BatchedMesh.html" class="_attribution-link">https://threejs.org/docs/api/en/objects/BatchedMesh.html</a>
  </p>
</div>
