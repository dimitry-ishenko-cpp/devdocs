<h1 id="matrix-transformations" class=" section-header"><span class="descname">Matrix-transformations</span></h1> <p> Three.js uses <code class="docutils literal notranslate"><span class="pre">matrices</span></code> to encode 3D transformations---translations (position), rotations, and scaling. Every instance of <a class="reference internal" href="object3d.html"><code class="xref js js-object3d">Object3D</code></a> has a <a class="reference internal" href="object3d.matrix.html"><code class="xref js js-object3d.matrix">matrix</code></a> which stores that object's position, rotation, and scale. This page describes how to update an object's transformation. </p> <div class="section">
<h2 class="section-title section-header" id="convenience-properties-and-matrixautoupdate-">Convenience properties and `matrixAutoUpdate`</h2>
<p> There are two ways to update an object's transformation: </p> <ol> <li> Modify the object's `position`, `quaternion`, and `scale` properties, and let three.js recompute the object's matrix from these properties: <pre data-language="javascript"><code>
object.position.copy( start_position );
object.quaternion.copy( quaternion );
				</code></pre> By default, the `matrixAutoUpdate` property is set true, and the matrix will be automatically recalculated. If the object is static, or you wish to manually control when recalculation occurs, better performance can be obtained by setting the property false: <pre data-language="javascript"><code>
object.matrixAutoUpdate = false;
				</code></pre> And after changing any properties, manually update the matrix: <pre data-language="javascript"><code>
object.updateMatrix();
				</code></pre> </li> <li> Modify the object's matrix directly. The <a class="reference internal" href="matrix4.html"><code class="xref js js-matrix4">Matrix4</code></a> class has various methods for modifying the matrix: <pre data-language="javascript"><code>
object.matrix.setRotationFromQuaternion( quaternion );
object.matrix.setPosition( start_position );
object.matrixAutoUpdate = false;
				</code></pre> Note that `matrixAutoUpdate` <em>must</em> be set to `false` in this case, and you should make sure <em>not</em> to call `updateMatrix`. Calling `updateMatrix` will clobber the manual changes made to the matrix, recalculating the matrix from `position`, `scale`, and so on. </li> </ol> </div> <div class="section">
<h2 class="section-title section-header" id="object-and-world-matrices">Object and world matrices</h2>
<p> An object's <a class="reference internal" href="object3d.matrix.html"><code class="xref js js-object3d.matrix">matrix</code></a> stores the object's transformation <em>relative</em> to the object's <a class="reference internal" href="object3d.parent.html"><code class="xref js js-object3d.parent">parent</code></a>; to get the object's transformation in <em>world</em> coordinates, you must access the object's <a class="reference internal" href="object3d.matrixworld.html"><code class="xref js js-object3d.matrixworld">Object3D.matrixWorld</code></a>. </p> <p> When either the parent or the child object's transformation changes, you can request that the child object's <a class="reference internal" href="object3d.matrixworld.html"><code class="xref js js-object3d.matrixworld">matrixWorld</code></a> be updated by calling <a class="reference internal" href="object3d.updatematrixworld.html"><code class="xref js js-object3d.updatematrixworld">updateMatrixWorld</code></a>(). </p> <p> An object can be transformed via <a class="reference internal" href="object3d.applymatrix4.html"><code class="xref js js-object3d.applymatrix4">Object3D.applyMatrix4</code></a>. Note: Under-the-hood, this method relies on <a class="reference internal" href="matrix4.decompose.html"><code class="xref js js-matrix4.decompose">Matrix4.decompose</code></a>, and not all matrices are decomposable in this way. For example, if an object has a non-uniformly scaled parent, then the object's world matrix may not be decomposable, and this method may not be appropriate. </p> </div> <div class="section">
<h2 class="section-title section-header" id="rotation-and-quaternion">Rotation and Quaternion</h2>
<p> Three.js provides two ways of representing 3D rotations: <a class="reference internal" href="euler.html"><code class="xref js js-euler">Euler angles</code></a> and <a class="reference internal" href="quaternion.html"><code class="xref js js-quaternion">Quaternions</code></a>, as well as methods for converting between the two. Euler angles are subject to a problem called "gimbal lock," where certain configurations can lose a degree of freedom (preventing the object from being rotated about one axis). For this reason, object rotations are <em>always</em> stored in the object's <a class="reference internal" href="object3d.quaternion.html"><code class="xref js js-object3d.quaternion">quaternion</code></a>. </p> <p> Previous versions of the library included a <code class="docutils literal notranslate"><span class="pre">useQuaternion</span></code> property which, when set to false, would cause the object's <a class="reference internal" href="object3d.matrix.html"><code class="xref js js-object3d.matrix">matrix</code></a> to be calculated from an Euler angle. This practice is deprecated---instead, you should use the <a class="reference internal" href="object3d.setrotationfromeuler.html"><code class="xref js js-object3d.setrotationfromeuler">setRotationFromEuler</code></a> method, which will update the quaternion. </p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2025 Three.js Authors<br>Licensed under the MIT License.<br>
    <a href="https://threejs.org/docs/manual/en/introduction/Matrix-transformations.html" class="_attribution-link">https://threejs.org/docs/manual/en/introduction/Matrix-transformations.html</a>
  </p>
</div>
