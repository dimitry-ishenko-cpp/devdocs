<h1 id="animation-system" class=" section-header"><span class="descname">Animation-system</span></h1> <div class="section">
<h2 class="section-title section-header" id="overview">Overview</h2>
<p class="section-desc"> Within the three.js animation system you can animate various properties of your models: the bones of a <a class="reference internal" href="skinnedmesh.html"><code class="xref js js-skinnedmesh">skinned and rigged model</code></a>, morph targets, different material properties (colors, opacity, booleans), visibility and transforms. The animated properties can be faded in, faded out, crossfaded and warped. The weight and time scales of different simultaneous animations on the same object as well as on different objects can be changed independently. Various animations on the same and on different objects can be synchronized.<br><br> To achieve all this in one homogeneous system, the three.js animation system <a class="reference external" href="https://github.com/mrdoob/three.js/issues/6881">has completely changed in 2015</a> (beware of outdated information!), and it has now an architecture similar to Unity/Unreal Engine 4. This page gives a short overview of the main components of the system and how they work together. </p> <h3 id="animation-clips" class=" section-header">Animation Clips</h3> <p class="section-desc"> If you have successfully imported an animated 3D object (it doesn't matter if it has bones or morph targets or both) — for example exporting it from Blender with the <a class="reference external" href="https://github.com/KhronosGroup/glTF-Blender-IO">glTF Blender exporter</a> and loading it into a three.js scene using <a class="reference internal" href="gltfloader.html"><code class="xref js js-gltfloader">GLTFLoader</code></a> — one of the response fields should be an array named "animations", containing the <a class="reference internal" href="animationclip.html"><code class="xref js js-animationclip">AnimationClips</code></a> for this model (see a list of possible loaders below).<br><br> Each <code class="docutils literal notranslate"><span class="pre">AnimationClip</span></code> usually holds the data for a certain activity of the object. If the mesh is a character, for example, there may be one AnimationClip for a walkcycle, a second for a jump, a third for sidestepping and so on. </p> <h3 id="keyframe-tracks" class=" section-header">Keyframe Tracks</h3> <p class="section-desc"> Inside of such an <code class="docutils literal notranslate"><span class="pre">AnimationClip</span></code> the data for each animated property are stored in a separate <a class="reference internal" href="keyframetrack.html"><code class="xref js js-keyframetrack">KeyframeTrack</code></a>. Assuming a character object has a <a class="reference internal" href="skeleton.html"><code class="xref js js-skeleton">skeleton</code></a>, one keyframe track could store the data for the position changes of the lower arm bone over time, a different track the data for the rotation changes of the same bone, a third the track position, rotation or scaling of another bone, and so on. It should be clear, that an AnimationClip can be composed of lots of such tracks.<br><br> Assuming the model has morph targets (for example one morph target showing a friendly face and another showing an angry face), each track holds the information as to how the <a class="reference internal" href="mesh.morphtargetinfluences.html"><code class="xref js js-mesh.morphtargetinfluences">influence</code></a> of a certain morph target changes during the performance of the clip. </p> <h3 id="animation-mixer" class=" section-header">Animation Mixer</h3> <p class="section-desc"> The stored data forms only the basis for the animations - actual playback is controlled by the <a class="reference internal" href="animationmixer.html"><code class="xref js js-animationmixer">AnimationMixer</code></a>. You can imagine this not only as a player for animations, but as a simulation of a hardware like a real mixer console, which can control several animations simultaneously, blending and merging them. </p> <h3 id="animation-actions" class=" section-header">Animation Actions</h3> <p class="section-desc"> The <code class="docutils literal notranslate"><span class="pre">AnimationMixer</span></code> itself has only very few (general) properties and methods, because it can be controlled by the <a class="reference internal" href="animationaction.html"><code class="xref js js-animationaction">AnimationActions</code></a>. By configuring an <code class="docutils literal notranslate"><span class="pre">AnimationAction</span></code> you can determine when a certain <code class="docutils literal notranslate"><span class="pre">AnimationClip</span></code> shall be played, paused or stopped on one of the mixers, if and how often the clip has to be repeated, whether it shall be performed with a fade or a time scaling, and some additional things, such crossfading or synchronizing. </p> <h3 id="animation-object-groups" class=" section-header">Animation Object Groups</h3> <p class="section-desc"> If you want a group of objects to receive a shared animation state, you can use an <a class="reference internal" href="animationobjectgroup.html"><code class="xref js js-animationobjectgroup">AnimationObjectGroup</code></a>. </p> <h3 id="supported-formats-and-loaders" class=" section-header">Supported Formats and Loaders</h3> <p class="section-desc"> Note that not all model formats include animation (OBJ notably does not), and that only some three.js loaders support <a class="reference internal" href="animationclip.html"><code class="xref js js-animationclip">AnimationClip</code></a> sequences. Several that <i>do</i> support this animation type: </p> <ul> <li><a class="reference internal" href="objectloader.html"><code class="xref js js-objectloader">THREE.ObjectLoader</code></a></li> <li>THREE.BVHLoader</li> <li>THREE.ColladaLoader</li> <li>THREE.FBXLoader</li> <li><a class="reference internal" href="gltfloader.html"><code class="xref js js-gltfloader">THREE.GLTFLoader</code></a></li> </ul> <p class="section-desc"> Note that 3ds max and Maya currently can't export multiple animations (meaning animations which are not on the same timeline) directly to a single file. </p> </div> <div class="section">
<h2 class="section-title section-header" id="example">Example</h2>
<pre data-language="javascript"><code>
		let mesh;

		// Create an AnimationMixer, and get the list of AnimationClip instances
		const mixer = new THREE.AnimationMixer( mesh );
		const clips = mesh.animations;

		// Update the mixer on each frame
		function update () {
			mixer.update( deltaSeconds );
		}

		// Play a specific animation
		const clip = THREE.AnimationClip.findByName( clips, 'dance' );
		const action = mixer.clipAction( clip );
		action.play();

		// Play all animations
		clips.forEach( function ( clip ) {
			mixer.clipAction( clip ).play();
		} );
		</code></pre> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2025 Three.js Authors<br>Licensed under the MIT License.<br>
    <a href="https://threejs.org/docs/manual/en/introduction/Animation-system.html" class="_attribution-link">https://threejs.org/docs/manual/en/introduction/Animation-system.html</a>
  </p>
</div>
