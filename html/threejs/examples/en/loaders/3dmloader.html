[page:Loader] → <h1 id="3dmloader" class=" section-header"><span class="descname">3DMLoader</span></h1> <p class="section-desc"> A loader for Rhinoceros 3d files and objects. <br><br> Rhinoceros is a 3D modeler used to create, edit, analyze, document, render, animate, and translate NURBS curves, surfaces, breps, extrusions, point clouds, as well as polygon meshes and SubD objects. <a class="reference external" href="https://github.com/mcneel/rhino3dm">rhino3dm.js</a> is compiled to WebAssembly from the open source geometry library <a class="reference external" href="https://github.com/mcneel/opennurbs">openNURBS</a>. The loader currently uses <a class="reference external" href="https://www.npmjs.com/package/rhino3dm/v/8.4.0">rhino3dm.js 8.4.0.</a> </p> <div class="section">
<h2 class="section-title section-header" id="import">Import</h2>
<p> [name] is an add-on, and must be imported explicitly. See <a class="reference internal" href="#manual/introduction/installation">Installation / Addons</a>. </p> <pre data-language="javascript"><code>
			import { Rhino3dmLoader } from 'three/addons/loaders/3DMLoader.js';
		</code></pre> </div> <div class="section">
<h2 class="section-title section-header" id="supported-conversions">Supported Conversions</h2>
<p> The [name] converts Rhino objects to the following three.js types: </p> <table> <tr> <th>3dm type</th> <th>three.js type</th> </tr> <tr> <td>Point</td> <td><a class="reference internal" href="points.html"><code class="xref js js-points">Points</code></a></td> </tr> <tr> <td>PointSet / PointCloud</td> <td><a class="reference internal" href="points.html"><code class="xref js js-points">Points</code></a></td> </tr> <tr> <td>TextDot</td> <td><a class="reference internal" href="sprite.html"><code class="xref js js-sprite">Sprite</code></a></td> </tr> <tr> <td>Curve</td> <td>
<a class="reference internal" href="line.html"><code class="xref js js-line">Line</code></a> <sup> 1</sup>
</td> </tr> <tr> <td>Mesh</td> <td><a class="reference internal" href="mesh.html"><code class="xref js js-mesh">Mesh</code></a></td> </tr> <tr> <td>Extrusion</td> <td>
<a class="reference internal" href="mesh.html"><code class="xref js js-mesh">Mesh</code></a><sup> 2</sup>
</td> </tr> <tr> <td>BREP</td> <td>
<a class="reference internal" href="mesh.html"><code class="xref js js-mesh">Mesh</code></a><sup> 2</sup>
</td> </tr> <tr> <td>SubD</td> <td>
<a class="reference internal" href="mesh.html"><code class="xref js js-mesh">Mesh</code></a><sup> 3</sup>
</td> </tr> <tr> <td>InstanceReferences</td> <td><a class="reference internal" href="object3d.html"><code class="xref js js-object3d">Object3D</code></a></td> </tr> <tr> <td>DirectionalLight</td> <td><a class="reference internal" href="directionallight.html"><code class="xref js js-directionallight">DirectionalLight</code></a></td> </tr> <tr> <td>PointLight</td> <td><a class="reference internal" href="pointlight.html"><code class="xref js js-pointlight">PointLight</code></a></td> </tr> <tr> <td>RectangularLight</td> <td><a class="reference internal" href="rectarealight.html"><code class="xref js js-rectarealight">RectAreaLight</code></a></td> </tr> <tr> <td>SpotLight</td> <td><a class="reference internal" href="spotlight.html"><code class="xref js js-spotlight">SpotLight</code></a></td> </tr> <tr> <td>File3dm</td> <td>
<a class="reference internal" href="object3d.html"><code class="xref js js-object3d">Object3D</code></a><sup> 4</sup>
</td> </tr> <tr> <td>Material / Physically Based Material</td> <td><a class="reference internal" href="meshphysicalmaterial.html"><code class="xref js js-meshphysicalmaterial">MeshPhysicalMaterial</code></a></td> </tr> </table> <h3 id="notes-" class=" section-header">Notes:</h3> <p><i> <sup>1</sup> NURBS curves are discretized to a hardcoded resolution. </i></p> <p><i> <sup>2</sup> Types which are based on BREPs and NURBS surfaces are represented with their "Render Mesh". Render meshes might not be associated with these objects if they have not been displayed in an appropriate display mode in Rhino (i.e. "Shaded", "Rendered", etc), or are created programmatically, for example, via Grasshopper or directly with the rhino3dm library. As of rhino3dm.js@8.0.0-beta2, BrepFace and Extrusions can be assigned a mesh representation, but these must be generated by the user. </i></p> <p><i> <sup>3</sup> SubD objects are represented by subdividing their control net. </i></p> <p><i> <sup>4</sup> Whether a Rhino Document (File3dm) is loaded or parsed, the returned object is an <a class="reference internal" href="object3d.html"><code class="xref js js-object3d">Object3D</code></a> with all Rhino objects (File3dmObject) as children. File3dm layers and other file level properties are added to the resulting object's userData. </i></p> <p><i> <sup>5</sup> All resulting three.js objects have useful properties from the Rhino object (i.e. layer index, name, etc.) populated in their userData object. </i></p> <p><i> <sup>6</sup> Rhino and Three.js have a different coordinate system. Upon import, you should rotate the resulting <a class="reference internal" href="object3d.html"><code class="xref js js-object3d">Object3D</code></a> by -90º in x or set the THREE.Object3D.DEFAULT_UP at the beginning of your application: <pre data-language="javascript"><code>THREE.Object3D.DEFAULT_UP.set( 0, 0, 1 );</code></pre> Keep in mind that this will affect the orientation of all of the Object3Ds in your application. </i></p> </div> <div class="section">
<h2 class="section-title section-header" id="examples">Examples</h2>
<p> [example:webgl_loader_3dm] </p> <hr> </div> <div class="section">
<h2 class="section-title section-header" id="constructor">Constructor</h2>
<h3 id="rhino3dmloader-loadingmanager-manager-" class=" section-header">Rhino3dmLoader( <span class="sig-param"><span class="sig-type">LoadingManager</span> <code class="sig-name">manager</code></span> )</h3> <p> <a class="reference internal" href="loadingmanager.html"><code class="xref js js-loadingmanager">manager</code></a> — The <a class="reference internal" href="loadingmanager.html"><code class="xref js js-loadingmanager">loadingManager</code></a> for the loader to use. Default is <a class="reference internal" href="loadingmanager.html"><code class="xref js js-loadingmanager">THREE.DefaultLoadingManager</code></a>. </p> <p> Creates a new Rhino3dmLoader. </p> </div> <div class="section">
<h2 class="section-title section-header" id="properties">Properties</h2>
<p>See the base <a class="reference internal" href="loader.html"><code class="xref js js-loader">Loader</code></a> class for common properties.</p> </div> <div class="section">
<h2 class="section-title section-header" id="methods">Methods</h2>
<p>See the base <a class="reference internal" href="loader.html"><code class="xref js js-loader">Loader</code></a> class for common methods.</p> <h3 id="load-string-url-function-onload-function-onprogress-function-onerror-object3d" class=" section-header"><dt class="sig sig-object js" id="load">
<span class="sig-name descname">load</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">String</span></span> <code class="sig-name"><span class="sig-name">url</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Function</span></span> <code class="sig-name"><span class="sig-name">onLoad</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Function</span></span> <code class="sig-name"><span class="sig-name">onProgress</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Function</span></span> <code class="sig-name"><span class="sig-name">onError</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Object3D</span></span>
</dt></h3> <p> <a class="reference internal" href="string.html"><code class="xref js js-string">url</code></a> — A string containing the path/URL of the <code class="docutils literal notranslate"><span class="pre">.3dm</span></code> file.<br> <a class="reference internal" href="function.html"><code class="xref js js-function">onLoad</code></a> — A function to be called after the loading is successfully completed.<br> <a class="reference internal" href="function.html"><code class="xref js js-function">onProgress</code></a> — (optional) A function to be called while the loading is in progress. The argument will be the XMLHttpRequest instance, that contains .<a class="reference internal" href="integer.html"><code class="xref js js-integer">total</code></a> and .<a class="reference internal" href="integer.html"><code class="xref js js-integer">loaded</code></a> bytes. If the server does not set the Content-Length header; .<a class="reference internal" href="integer.html"><code class="xref js js-integer">total</code></a> will be 0.<br> <a class="reference internal" href="function.html"><code class="xref js js-function">onError</code></a> — (optional) A function to be called if an error occurs during loading. The function receives error as an argument.<br> </p> <p> Begin loading from url and call the <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> function with the resulting Object3d. </p> <pre data-language="javascript"><code>
			// Instantiate a loader
			const loader = new Rhino3dmLoader();
	
			// Specify path to a folder containing WASM/JS libraries or a CDN.
			// For example, /jsm/libs/rhino3dm/ is the location of the library inside the three.js repository
			// loader.setLibraryPath( '/path_to_library/rhino3dm/' );
			loader.setLibraryPath( 'https://cdn.jsdelivr.net/npm/rhino3dm@8.4.0/' );
	
			// Load a 3DM file
			loader.load(
				// resource URL
				'model.3dm',
				// called when the resource is loaded
				function ( object ) {
	
					scene.add( object );
	
				},
				// called as loading progresses
				function ( xhr ) {
	
					console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );
	
				},
				// called when loading has errors
				function ( error ) {
	
					console.log( 'An error happened' );
	
				}
			);
			</code></pre> <h3 id="parse-arraybuffer-buffer-function-onload-function-onprogress-function-onerror-object3d" class=" section-header"><dt class="sig sig-object js" id="parse">
<span class="sig-name descname">parse</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">ArrayBuffer</span></span> <code class="sig-name"><span class="sig-name">buffer</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Function</span></span> <code class="sig-name"><span class="sig-name">onLoad</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Function</span></span> <code class="sig-name"><span class="sig-name">onProgress</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Function</span></span> <code class="sig-name"><span class="sig-name">onError</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Object3D</span></span>
</dt></h3> <p> <a class="reference internal" href="arraybuffer.html"><code class="xref js js-arraybuffer">buffer</code></a> — An ArrayBuffer representing the Rhino <code class="docutils literal notranslate"><span class="pre">File3dm</span></code> document.<br> <a class="reference internal" href="function.html"><code class="xref js js-function">onLoad</code></a> — A function to be called after the loading is successfully completed.<br> <a class="reference internal" href="function.html"><code class="xref js js-function">onError</code></a> — (optional) A function to be called if an error occurs during loading. The function receives error as an argument.<br> </p> <p> Parse a File3dm ArrayBuffer and call the <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> function with the resulting Object3d. See <a class="reference external" href="https://github.com/mcneel/rhino-developer-samples/tree/8/rhino3dm/js/SampleParse3dmObjects">this example</a> for further reference. </p> <pre data-language="javascript"><code>
		import rhino3dm from 'https://cdn.jsdelivr.net/npm/rhino3dm@8.4.0'

		// Instantiate a loader
		const loader = new Rhino3dmLoader();

		// Specify path to a folder containing WASM/JS libraries or a CDN.
		loader.setLibraryPath( 'https://cdn.jsdelivr.net/npm/rhino3dm@8.4.0' );

		const rhino = await rhino3dm();
		console.log('Loaded rhino3dm.');

		// create Rhino Document and add a point to it
		const doc = new rhino.File3dm();
		const ptA = [0, 0, 0];
		const point = new rhino.Point( ptA );
		doc.objects().add( point, null );

		// create a copy of the doc.toByteArray data to get an ArrayBuffer
		const buffer = new Uint8Array( doc.toByteArray() ).buffer;

		loader.parse( buffer, function ( object ) {

			scene.add( object );

		} );

		</code></pre> <h3 id="this-setlibrarypath-string-value-" class=" section-header"><dt class="sig sig-object js" id="setLibraryPath">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">setLibraryPath</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">String</span></span> <code class="sig-name"><span class="sig-name">value</span></code></span></span><span class="sig-paren">)</span>
</dt></h3> <p> <a class="reference internal" href="string.html"><code class="xref js js-string">value</code></a> — Path to folder containing the JS and WASM libraries. </p> <pre data-language="javascript"><code>
		// Instantiate a loader
		const loader = new Rhino3dmLoader();

		// Specify path to a folder containing the WASM/JS library:
		loader.setLibraryPath( '/path_to_library/rhino3dm/' );
		// or from a CDN:
		loader.setLibraryPath( 'https://cdn.jsdelivr.net/npm/rhino3dm@8.4.0' );
		</code></pre> <h3 id="this-setworkerlimit-number-workerlimit-" class=" section-header"><dt class="sig sig-object js" id="setWorkerLimit">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">setWorkerLimit</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Number</span></span> <code class="sig-name"><span class="sig-name">workerLimit</span></code></span></span><span class="sig-paren">)</span>
</dt></h3> <p> <a class="reference internal" href="number.html"><code class="xref js js-number">workerLimit</code></a> - Maximum number of workers to be allocated. Default is 4.<br> </p> <p> Sets the maximum number of <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">Web Workers</a> to be used during decoding. A lower limit may be preferable if workers are also for other tasks in the application. </p> <h3 id="this-dispose-" class=" section-header"><dt class="sig sig-object js" id="dispose">
<span class="property"><span class="pre">this</span></span>.<span class="sig-name descname">dispose</span><span class="sig-paren">(</span><span class="sig-paren">)</span>
</dt></h3> <p> Disposes of the loader resources and deallocates memory. </p>   </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2025 Three.js Authors<br>Licensed under the MIT License.<br>
    <a href="https://threejs.org/docs/examples/en/loaders/3DMLoader.html" class="_attribution-link">https://threejs.org/docs/examples/en/loaders/3DMLoader.html</a>
  </p>
</div>
