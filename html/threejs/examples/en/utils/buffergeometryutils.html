<h1 id="buffergeometryutils" class=" section-header"><span class="descname">BufferGeometryUtils</span></h1> <p class="section-desc"> A class containing utility functions for <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a> instances. </p> <div class="section">
<h2 class="section-title section-header" id="import">Import</h2>
<p> [name] is an add-on, and must be imported explicitly. See <a class="reference internal" href="#manual/introduction/installation">Installation / Addons</a>. </p> <pre data-language="javascript"><code>
			import * as BufferGeometryUtils from 'three/addons/utils/BufferGeometryUtils.js';
		</code></pre> </div> <div class="section">
<h2 class="section-title section-header" id="methods">Methods</h2>
<h3 id="computemikktspacetangents-buffergeometry-geometry-object-mikktspace-boolean-negatesign-true-object" class=" section-header"><dt class="sig sig-object js" id="computeMikkTSpaceTangents">
<span class="sig-name descname">computeMikkTSpaceTangents</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">BufferGeometry</span></span> <code class="sig-name"><span class="sig-name">geometry</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Object</span></span> <code class="sig-name"><span class="sig-name">MikkTSpace</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Boolean</span></span> <code class="sig-name"><span class="sig-name">negateSign</span></code></span> = true</span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Object</span></span>
</dt></h3> <ul> <li>geometry -- Instance of <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a>.</li> <li>MikkTSpace -- Instance of <i>examples/jsm/libs/mikktspace.module.js</i>, or <i>mikktspace</i> npm package. Await <i>MikkTSpace.ready</i> before use. </li>
<li>negateSign -- Whether to negate the sign component (.w) of each tangent. Required for normal map conventions in some formats, including glTF.</li> </ul> <p> Computes vertex tangents using the <a class="reference external" href="http://www.mikktspace.com/">MikkTSpace</a> algorithm. MikkTSpace generates the same tangents consistently, and is used in most modelling tools and normal map bakers. Use MikkTSpace for materials with normal maps, because inconsistent tangents may lead to subtle visual issues in the normal map, particularly around mirrored UV seams. </p> <p> In comparison to this method, <a class="reference internal" href="buffergeometry.computetangents.html"><code class="xref js js-buffergeometry.computetangents">BufferGeometry.computeTangents</code></a> (a custom algorithm) generates tangents that probably will not match the tangents in other software. The custom algorithm is sufficient for general use with a <a class="reference internal" href="shadermaterial.html"><code class="xref js js-shadermaterial">ShaderMaterial</code></a>, and may be faster than MikkTSpace. </p> <p> Returns the original <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a>. Indexed geometries will be de-indexed. Requires position, normal, and uv attributes. </p> <h3 id="computemorphedattributes-mesh-line-points-object-object" class=" section-header"><dt class="sig sig-object js" id="computeMorphedAttributes">
<span class="sig-name descname">computeMorphedAttributes</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Mesh</span></span> <code class="sig-name"><span class="sig-name">| Line | Points object</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Object</span></span>
</dt></h3> <p> object -- Instance of <a class="reference internal" href="mesh.html"><code class="xref js js-mesh">Mesh</code></a> | <a class="reference internal" href="line.html"><code class="xref js js-line">Line</code></a> | <a class="reference internal" href="points.html"><code class="xref js js-points">Points</code></a>.<br><br> Returns the current attributes (Position and Normal) of a morphed/skinned <a class="reference internal" href="object3d.html"><code class="xref js js-object3d">Object3D</code></a> whose geometry is a <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a>, together with the original ones: An Object with 4 properties: <code class="docutils literal notranslate"><span class="pre">positionAttribute</span></code>, <code class="docutils literal notranslate"><span class="pre">normalAttribute</span></code>, <code class="docutils literal notranslate"><span class="pre">morphedPositionAttribute</span></code> and <code class="docutils literal notranslate"><span class="pre">morphedNormalAttribute</span></code>. Helpful for Raytracing or Decals (i.e. a <a class="reference internal" href="decalgeometry.html"><code class="xref js js-decalgeometry">DecalGeometry</code></a> applied to a morphed Object with a <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a> will use the original BufferGeometry, not the morphed/skinned one, generating an incorrect result. Using this function to create a shadow Object3D the DecalGeometry can be correctly generated). </p> <h3 id="estimatebytesused-buffergeometry-geometry-number" class=" section-header"><dt class="sig sig-object js" id="estimateBytesUsed">
<span class="sig-name descname">estimateBytesUsed</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">BufferGeometry</span></span> <code class="sig-name"><span class="sig-name">geometry</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">Number</span></span>
</dt></h3> <p> geometry -- Instance of <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a> to estimate the memory use of.<br><br> Returns the amount of bytes used by all attributes to represent the geometry. </p> <h3 id="interleaveattributes-array-attributes-interleavedbufferattribute" class=" section-header"><dt class="sig sig-object js" id="interleaveAttributes">
<span class="sig-name descname">interleaveAttributes</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Array</span></span> <code class="sig-name"><span class="sig-name">attributes</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">InterleavedBufferAttribute</span></span>
</dt></h3> <p> attributes -- Array of <a class="reference internal" href="bufferattribute.html"><code class="xref js js-bufferattribute">BufferAttribute</code></a> instances.<br><br> Interleaves a set of attributes and returns a new array of corresponding attributes that share a single InterleavedBuffer instance. All attributes must have compatible types. If merge does not succeed, the method returns null. </p> <h3 id="mergeattributes-array-attributes-bufferattribute" class=" section-header"><dt class="sig sig-object js" id="mergeAttributes">
<span class="sig-name descname">mergeAttributes</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Array</span></span> <code class="sig-name"><span class="sig-name">attributes</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">BufferAttribute</span></span>
</dt></h3> <p> attributes -- Array of <a class="reference internal" href="bufferattribute.html"><code class="xref js js-bufferattribute">BufferAttribute</code></a> instances.<br><br> Merges a set of attributes into a single instance. All attributes must have compatible properties and types, and <a class="reference internal" href="interleavedbufferattribute.html"><code class="xref js js-interleavedbufferattribute">InterleavedBufferAttributes</code></a> are not supported. If merge does not succeed, the method returns null. </p> <h3 id="mergegeometries-array-geometries-boolean-usegroups-buffergeometry" class=" section-header"><dt class="sig sig-object js" id="mergeGeometries">
<span class="sig-name descname">mergeGeometries</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Array</span></span> <code class="sig-name"><span class="sig-name">geometries</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Boolean</span></span> <code class="sig-name"><span class="sig-name">useGroups</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">BufferGeometry</span></span>
</dt></h3> <p> geometries -- Array of <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a> instances.<br> useGroups -- Whether groups should be generated for the merged geometry or not.<br><br> Merges a set of geometries into a single instance. All geometries must have compatible attributes. If merge does not succeed, the method returns null. </p> <h3 id="mergegroups-buffergeometry-geometry-buffergeometry" class=" section-header"><dt class="sig sig-object js" id="mergeGroups">
<span class="sig-name descname">mergeGroups</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">BufferGeometry</span></span> <code class="sig-name"><span class="sig-name">geometry</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">BufferGeometry</span></span>
</dt></h3> <p> geometry -- Instance of <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a> to merge the groups of.<br><br> Merges the <a class="reference internal" href="buffergeometry.groups.html"><code class="xref js js-buffergeometry.groups">groups</code></a> for the given geometry. </p> <h3 id="mergevertices-buffergeometry-geometry-number-tolerance-buffergeometry" class=" section-header"><dt class="sig sig-object js" id="mergeVertices">
<span class="sig-name descname">mergeVertices</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">BufferGeometry</span></span> <code class="sig-name"><span class="sig-name">geometry</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Number</span></span> <code class="sig-name"><span class="sig-name">tolerance</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">BufferGeometry</span></span>
</dt></h3> <p> geometry -- Instance of <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a> to merge the vertices of.<br> tolerance -- The maximum allowable difference between vertex attributes to merge. Defaults to 1e-4.<br><br> Returns a new <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a> with vertices for which all similar vertex attributes (within tolerance) are merged. </p> <h3 id="tocreasednormals-buffergeometry-geometry-number-creaseangle-buffergeometry" class=" section-header"><dt class="sig sig-object js" id="toCreasedNormals">
<span class="sig-name descname">toCreasedNormals</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">BufferGeometry</span></span> <code class="sig-name"><span class="sig-name">geometry</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">Number</span></span> <code class="sig-name"><span class="sig-name">creaseAngle</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">BufferGeometry</span></span>
</dt></h3> <ul> <li>geometry -- The input geometry.</li> <li>creaseAngle -- The crease angle in radians.</li> </ul> <p> Modifies the supplied geometry if it is non-indexed, otherwise creates a new, non-indexed geometry. </p> <p> Returns the geometry with smooth normals everywhere except faces that meet at an angle greater than the crease angle. </p> <h3 id="totrianglesdrawmode-buffergeometry-geometry-trianglesdrawmode-drawmode-buffergeometry" class=" section-header"><dt class="sig sig-object js" id="toTrianglesDrawMode">
<span class="sig-name descname">toTrianglesDrawMode</span><span class="sig-paren">(</span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">BufferGeometry</span></span> <code class="sig-name"><span class="sig-name">geometry</span></code></span></span><span class="sig-paren">, </span><span class="sig-param"><span class="sig-type"><span class="sig-param"><span class="sig-type">TrianglesDrawMode</span></span> <code class="sig-name"><span class="sig-name">drawMode</span></code></span></span><span class="sig-paren">)</span><span class="sig-returns"><span class="sig-colon">:</span> <span class="sig-type">BufferGeometry</span></span>
</dt></h3> <p> geometry -- Instance of <a class="reference internal" href="buffergeometry.html"><code class="xref js js-buffergeometry">BufferGeometry</code></a>.<br> drawMode -- The draw mode of the given geometry. Valid inputs are <code class="docutils literal notranslate"><span class="pre">THREE.TriangleStripDrawMode</span></code> and <code class="docutils literal notranslate"><span class="pre">THREE.TriangleFanDrawMode</span></code>.<br><br> Returns a new indexed geometry based on <code class="docutils literal notranslate"><span class="pre">THREE.TrianglesDrawMode</span></code> draw mode. This mode corresponds to the <code class="docutils literal notranslate"><span class="pre">gl.TRIANGLES</span></code> WebGL primitive. </p>   </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2025 Three.js Authors<br>Licensed under the MIT License.<br>
    <a href="https://threejs.org/docs/examples/en/utils/BufferGeometryUtils.html" class="_attribution-link">https://threejs.org/docs/examples/en/utils/BufferGeometryUtils.html</a>
  </p>
</div>
