<h1>svelte/compiler</h1> <div class="text" id="docs-content">  <p>Typically, you won't interact with the Svelte compiler directly, but will instead integrate it into your build system using a bundler plugin. The bundler plugin that the Svelte team most recommends and invests in is <a href="https://github.com/sveltejs/vite-plugin-svelte">vite-plugin-svelte</a>. The <a href="https://kit.svelte.dev/">SvelteKit</a> framework provides a setup leveraging <code>vite-plugin-svelte</code> to build applications as well as a <a href="https://kit.svelte.dev/docs/packaging">tool for packaging Svelte component libraries</a>. Svelte Society maintains a list of <a href="https://sveltesociety.dev/tools/#bundling">other bundler plugins</a> for additional tools like Rollup and Webpack.</p> <p>Nonetheless, it's useful to understand how to use the compiler, since bundler plugins generally expose compiler options to you.</p> <h2 id="compile">compile</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function compile(
	source: string,
	options?: CompileOptions
): CompileResult;</pre>
</div> <p>This is where the magic happens. <code>svelte.compile</code> takes your component source code, and turns it into a JavaScript module that exports a class.</p> <pre class="copy-code-block shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { compile } from 'svelte/compiler';


const result = compile(source, {
	// options
});</pre>
<p>Refer to <a href="#types-compileoptions">CompileOptions</a> for all the available options.</p> <p>The returned <code>result</code> object contains the code for your component, along with useful bits of metadata.</p> <pre class="copy-code-block shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">const { js, css, ast, warnings, vars, stats } = compile(source);</pre>
<p>Refer to <a href="#types-compileresult">CompileResult</a> for a full description of the compile result.</p> <h2 id="parse">parse</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function parse(
	template: string,
	options?: ParserOptions
): Ast;</pre>
</div> <p>The <code>parse</code> function parses a component, returning only its abstract syntax tree. Unlike compiling with the <code>generate: false</code> option, this will not perform any validation or other analysis of the component beyond parsing it. Note that the returned AST is not considered public API, so breaking changes could occur at any point in time.</p> <pre class="copy-code-block shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { parse } from 'svelte/compiler';


const ast = parse(source, { filename: 'App.svelte' });</pre>
<h2 id="preprocess">preprocess</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function preprocess(
	source: string,
	preprocessor: PreprocessorGroup | PreprocessorGroup[],
	options?:
		| {
				filename?: string | undefined;
		  }
		| undefined
): Promise&lt;Processed&gt;;</pre>
</div> <p>A number of <a href="https://sveltesociety.dev/tools#preprocessors">official and community-maintained preprocessing plugins</a> are available to allow you to use Svelte with tools like TypeScript, PostCSS, SCSS, and Less.</p> <p>You can write your own preprocessor using the <code>svelte.preprocess</code> API.</p> <p>The <code>preprocess</code> function provides convenient hooks for arbitrarily transforming component source code. For example, it can be used to convert a <code>&lt;style lang="sass"&gt;</code> block into vanilla CSS.</p> <p>The first argument is the component source code. The second is an array of <em>preprocessors</em> (or a single preprocessor, if you only have one), where a preprocessor is an object with a <code>name</code> which is required, and <code>markup</code>, <code>script</code> and <code>style</code> functions, each of which is optional.</p> <p>The <code>markup</code> function receives the entire component source text, along with the component's <code>filename</code> if it was specified in the third argument.</p> <p>The <code>script</code> and <code>style</code> functions receive the contents of <code>&lt;script&gt;</code> and <code>&lt;style&gt;</code> elements respectively (<code>content</code>) as well as the entire component source text (<code>markup</code>). In addition to <code>filename</code>, they get an object of the element's attributes.</p> <p>Each <code>markup</code>, <code>script</code> or <code>style</code> function must return an object (or a Promise that resolves to an object) with a <code>code</code> property, representing the transformed source code. Optionally they can return an array of <code>dependencies</code> which represents files to watch for changes, and a <code>map</code> object which is a sourcemap mapping back the transformation to the original code. <code>script</code> and <code>style</code> preprocessors can optionally return a record of attributes which represent the updated attributes on the script/style tag.</p> <blockquote> <p>Preprocessor functions should return a <code>map</code> object whenever possible or else debugging becomes harder as stack traces can't link to the original code correctly.</p> </blockquote> <pre class="copy-code-block shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { preprocess } from 'svelte/compiler';
import MagicString from 'magic-string';


const { code } = await preprocess(
	source,
	{
		markup: ({ content, filename }) =&gt; {
			const pos = content.indexOf('foo');
			if (pos &lt; 0) {
				return { code: content };
			}
			const s = new MagicString(content, { filename });
			s.overwrite(pos, pos + 3, 'bar', { storeName: true });
			return {
				code: s.toString(),
				map: s.generateMap()
			};
		}
	},
	{
		filename: 'App.svelte'
	}
);</pre>
<p>If a <code>dependencies</code> array is returned, it will be included in the result object. This is used by packages like <a href="https://github.com/sveltejs/vite-plugin-svelte">vite-plugin-svelte</a> and <a href="https://github.com/sveltejs/rollup-plugin-svelte">rollup-plugin-svelte</a> to watch additional files for changes, in the case where your <code>&lt;style&gt;</code> tag has an <code>@import</code> (for example).</p> <div class="copy-code-block code-block">
<span class="filename">preprocess-sass.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { preprocess } from 'svelte/compiler';
import MagicString from 'magic-string';
import sass from 'sass';
import { dirname } from 'path';


const { code } = await preprocess(
	source,
	{
		name: 'my-fancy-preprocessor',
		markup: ({ content, filename }) =&gt; {
			// Return code as is when no foo string present
			const pos = content.indexOf('foo');
			if (pos &lt; 0) {
				return;
			}


			// Replace foo with bar using MagicString which provides
			// a source map along with the changed code
			const s = new MagicString(content, { filename });
			s.overwrite(pos, pos + 3, 'bar', { storeName: true });


			return {
				code: s.toString(),
				map: s.generateMap({ hires: true, file: filename })
			};
		},
		style: async ({ content, attributes, filename }) =&gt; {
			// only process &lt;style lang="sass"&gt;
			if (attributes.lang !== 'sass') return;


			const { css, stats } = await new Promise((resolve, reject) =&gt;
				sass.render(
					{
						file: filename,
						data: content,
						includePaths: [dirname(filename)]
					},
					(err, result) =&gt; {
						if (err) reject(err);
						else resolve(result);
					}
				)
			);


			// remove lang attribute from style tag
			delete attributes.lang;


			return {
				code: css.toString(),
				dependencies: stats.includedFiles,
				attributes
			};
		}
	},
	{
		filename: 'App.svelte'
	}
);</pre>
</div>
<p>Multiple preprocessors can be used together. The output of the first becomes the input to the second. Within one preprocessor, <code>markup</code> runs first, then <code>script</code> and <code>style</code>.</p> <blockquote> <p>In Svelte 3, all <code>markup</code> functions ran first, then all <code>script</code> and then all <code>style</code> preprocessors. This order was changed in Svelte 4.</p> </blockquote> <div class="js-version copy-code-block code-block">
<span class="filename">multiple-preprocessor.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { preprocess } from 'svelte/compiler';


const { code } = await preprocess(source, [
	{
		name: 'first preprocessor',
		markup: () =&gt; {
			console.log('this runs first');
		},
		script: () =&gt; {
			console.log('this runs second');
		},
		style: () =&gt; {
			console.log('this runs third');
		}
	},
	{
		name: 'second preprocessor',
		markup: () =&gt; {
			console.log('this runs fourth');
		},
		script: () =&gt; {
			console.log('this runs fifth');
		},
		style: () =&gt; {
			console.log('this runs sixth');
		}
	}
], {
	filename: 'App.svelte'
});</pre>
</div>
<div class="ts-version copy-code-block code-block">
<span class="filename">multiple-preprocessor.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { preprocess } from 'svelte/compiler';


const { code } = await preprocess(
	source,
	[
		{
			name: 'first preprocessor',
			markup: () =&gt; {
				console.log('this runs first');
			},
			script: () =&gt; {
				console.log('this runs second');
			},
			style: () =&gt; {
				console.log('this runs third');
			},
		},
		{
			name: 'second preprocessor',
			markup: () =&gt; {
				console.log('this runs fourth');
			},
			script: () =&gt; {
				console.log('this runs fifth');
			},
			style: () =&gt; {
				console.log('this runs sixth');
			},
		},
	],
	{
		filename: 'App.svelte',
	},
);</pre>
</div>
<h2 id="walk">walk</h2>
<p>The <code>walk</code> function provides a way to walk the abstract syntax trees generated by the parser, using the compiler's own built-in instance of <a href="https://github.com/Rich-Harris/estree-walker">estree-walker</a>.</p> <p>The walker takes an abstract syntax tree to walk and an object with two optional methods: <code>enter</code> and <code>leave</code>. For each node, <code>enter</code> is called (if present). Then, unless <code>this.skip()</code> is called during <code>enter</code>, each of the children are traversed, and then <code>leave</code> is called on the node.</p> <div class="js-version copy-code-block code-block">
<span class="filename">compiler-walk.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { walk } from 'svelte/compiler';


walk(ast, {
	enter(node, parent, prop, index) {
		do_something(node);
		if (should_skip_children(node)) {
			this.skip();
		}
	},
	leave(node, parent, prop, index) {
		do_something_else(node);
	}
});</pre>
</div>
<div class="ts-version copy-code-block code-block">
<span class="filename">compiler-walk.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { walk } from 'svelte/compiler';


walk(ast, {
	enter(node, parent, prop, index) {
		do_something(node);
		if (should_skip_children(node)) {
			this.skip();
		}
	},
	leave(node, parent, prop, index) {
		do_something_else(node);
	},
});</pre>
</div>
<h2 id="version">VERSION</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">const VERSION: string;</pre>
</div> <p>The current version, as set in package.json.</p> <pre class="copy-code-block shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { VERSION } from 'svelte/compiler';
console.log(`running svelte version ${VERSION}`);</pre>
<h2 id="types">Types</h2>
<h3 id="types-compileoptions">CompileOptions</h3>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">interface CompileOptions {…}</pre>
<div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">name?: string;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>'Component'</code>
</li>
</ul>
</div> <p>Sets the name of the resulting JavaScript class (though the compiler will rename it if it would otherwise conflict with other variables in scope). It will normally be inferred from <code>filename</code></p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">filename?: string;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>null</code>
</li>
</ul>
</div> <p>Used for debugging hints and sourcemaps. Your bundler plugin will set it automatically.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">generate?: 'dom' | 'ssr' | false;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>'dom'</code>
</li>
</ul>
</div> <p>If <code>"dom"</code>, Svelte emits a JavaScript class for mounting to the DOM. If <code>"ssr"</code>, Svelte emits an object with a <code>render</code> method suitable for server-side rendering. If <code>false</code>, no JavaScript or CSS is returned; just metadata.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">errorMode?: 'throw' | 'warn';</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>'throw'</code>
</li>
</ul>
</div> <p>If <code>"throw"</code>, Svelte throws when a compilation error occurred. If <code>"warn"</code>, Svelte will treat errors as warnings and add them to the warning report.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">varsReport?: 'full' | 'strict' | false;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>'strict'</code>
</li>
</ul>
</div> <p>If <code>"strict"</code>, Svelte returns a variables report with only variables that are not globals nor internals. If <code>"full"</code>, Svelte returns a variables report with all detected variables. If <code>false</code>, no variables report is returned.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">sourcemap?: object | string;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>null</code>
</li>
</ul>
</div> <p>An initial sourcemap that will be merged into the final output sourcemap. This is usually the preprocessor sourcemap.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">enableSourcemap?: EnableSourcemap;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>true</code>
</li>
</ul>
</div> <p>If <code>true</code>, Svelte generate sourcemaps for components. Use an object with <code>js</code> or <code>css</code> for more granular control of sourcemap generation.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">outputFilename?: string;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>null</code>
</li>
</ul>
</div> <p>Used for your JavaScript sourcemap.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">cssOutputFilename?: string;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>null</code>
</li>
</ul>
</div> <p>Used for your CSS sourcemap.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">sveltePath?: string;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>'svelte'</code>
</li>
</ul>
</div> <p>The location of the <code>svelte</code> package. Any imports from <code>svelte</code> or <code>svelte/[module]</code> will be modified accordingly.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">dev?: boolean;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>false</code>
</li>
</ul>
</div> <p>If <code>true</code>, causes extra code to be added to components that will perform runtime checks and provide debugging information during development.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">accessors?: boolean;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>false</code>
</li>
</ul>
</div> <p>If <code>true</code>, getters and setters will be created for the component's props. If <code>false</code>, they will only be created for readonly exported values (i.e. those declared with <code>const</code>, <code>class</code> and <code>function</code>). If compiling with <code>customElement: true</code> this option defaults to <code>true</code>.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">immutable?: boolean;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>false</code>
</li>
</ul>
</div> <p>If <code>true</code>, tells the compiler that you promise not to mutate any objects. This allows it to be less conservative about checking whether values have changed.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">hydratable?: boolean;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>false</code>
</li>
</ul>
</div> <p>If <code>true</code> when generating DOM code, enables the <code>hydrate: true</code> runtime option, which allows a component to upgrade existing DOM rather than creating new DOM from scratch. When generating SSR code, this adds markers to <code>&lt;head&gt;</code> elements so that hydration knows which to replace.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">legacy?: boolean;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>false</code>
</li>
</ul>
</div> <p>If <code>true</code>, generates code that will work in IE9 and IE10, which don't support things like <code>element.dataset</code>.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">customElement?: boolean;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>false</code>
</li>
</ul>
</div> <p>If <code>true</code>, tells the compiler to generate a custom element constructor instead of a regular Svelte component.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">tag?: string;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>null</code>
</li>
</ul>
</div> <p>A <code>string</code> that tells Svelte what tag name to register the custom element with. It must be a lowercase alphanumeric string with at least one hyphen, e.g. <code>"my-element"</code>.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">css?: 'injected' | 'external' | 'none' | boolean;</pre>
<div class="ts-block-property-details"> <ul> <li>
<code>'injected'</code> (formerly <code>true</code>), styles will be included in the JavaScript class and injected at runtime for the components actually rendered.</li> <li>
<code>'external'</code> (formerly <code>false</code>), the CSS will be returned in the <code>css</code> field of the compilation result. Most Svelte bundler plugins will set this to <code>'external'</code> and use the CSS that is statically generated for better performance, as it will result in smaller JavaScript bundles and the output can be served as cacheable <code>.css</code> files.</li> <li>
<code>'none'</code>, styles are completely avoided and no CSS output is generated.</li>
</ul>
</div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">loopGuardTimeout?: number;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>0</code>
</li>
</ul>
</div> <p>A <code>number</code> that tells Svelte to break the loop if it blocks the thread for more than <code>loopGuardTimeout</code> ms. This is useful to prevent infinite loops. <strong>Only available when <code>dev: true</code></strong>.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">namespace?: string;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>'html'</code>
</li>
</ul>
</div> <p>The namespace of the element; e.g., <code>"mathml"</code>, <code>"svg"</code>, <code>"foreign"</code>.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">cssHash?: CssHashGetter;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>undefined</code>
</li>
</ul>
</div> <p>A function that takes a <code>{ hash, css, name, filename }</code> argument and returns the string that is used as a classname for scoped CSS. It defaults to returning <code>svelte-${hash(css)}</code>.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">preserveComments?: boolean;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>false</code>
</li>
</ul>
</div> <p>If <code>true</code>, your HTML comments will be preserved during server-side rendering. By default, they are stripped out.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">preserveWhitespace?: boolean;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>false</code>
</li>
</ul>
</div> <p>If <code>true</code>, whitespace inside and between elements is kept as you typed it, rather than removed or collapsed to a single space where possible.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">discloseVersion?: boolean;</pre>
<div class="ts-block-property-details"> <div class="ts-block-property-bullets"> <ul> <li>
<span class="tag">default</span> <code>true</code>
</li>
</ul>
</div> <p>If <code>true</code>, exposes the Svelte major version on the global <code>window</code> object in the browser.</p> </div>
</div>
</div> <h3 id="types-compileresult">CompileResult</h3>
<p>The returned shape of <code>compile</code> from <code>svelte/compiler</code></p> <div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">interface CompileResult {…}</pre>
<div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">js: {…}</pre>
<div class="ts-block-property-details"> <p>The resulting JavaScript code from compling the component</p> <div class="ts-block-property-children">
<div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">code: string;</pre>
<div class="ts-block-property-details"> <p>Code as a string</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">map: any;</pre>
<div class="ts-block-property-details"> <p>A source map</p> </div>
</div>
</div> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">css: CssResult;</pre>
<div class="ts-block-property-details"> <p>The resulting CSS code from compling the component</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">ast: Ast;</pre>
<div class="ts-block-property-details"> <p>The abstract syntax tree representing the structure of the component</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">warnings: Warning[];</pre>
<div class="ts-block-property-details"> <p>An array of warning objects that were generated during compilation. Each warning has several properties:</p> <ul> <li>code is a string identifying the category of warning</li> <li>message describes the issue in human-readable terms</li> <li>start and end, if the warning relates to a specific location, are objects with line, column and character properties</li> <li>frame, if applicable, is a string highlighting the offending code with line numbers</li>
</ul>
</div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">vars: Var[];</pre>
<div class="ts-block-property-details"> <p>An array of the component's declarations used by tooling in the ecosystem (like our ESLint plugin) to infer more information</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">stats: {
	timings: {
		total: number;
	};
};</pre>
<div class="ts-block-property-details"> <p>An object used by the Svelte developer team for diagnosing the compiler. Avoid relying on it to stay the same!</p> </div>
</div>
</div> <h3 id="types-csshashgetter">CssHashGetter</h3>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">type CssHashGetter = (args: {
	name: string;
	filename: string | undefined;
	css: string;
	hash: (input: string) =&gt; string;
}) =&gt; string;</pre>
</div> <h3 id="types-enablesourcemap">EnableSourcemap</h3>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">type EnableSourcemap =
	| boolean
	| { js: boolean; css: boolean };</pre>
</div> <h3 id="types-markuppreprocessor">MarkupPreprocessor</h3>
<p>A markup preprocessor that takes a string of code and returns a processed version.</p> <div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">type MarkupPreprocessor = (options: {
	/**
	 * The whole Svelte file content
	 */
	content: string;
	/**
	 * The filename of the Svelte file
	 */
	filename?: string;
}) =&gt; Processed | void | Promise&lt;Processed | void&gt;;</pre>
</div> <h3 id="types-preprocessor">Preprocessor</h3>
<p>A script/style preprocessor that takes a string of code and returns a processed version.</p> <div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">type Preprocessor = (options: {
	/**
	 * The script/style tag content
	 */
	content: string;
	/**
	 * The attributes on the script/style tag
	 */
	attributes: Record&lt;string, string | boolean&gt;;
	/**
	 * The whole Svelte file content
	 */
	markup: string;
	/**
	 * The filename of the Svelte file
	 */
	filename?: string;
}) =&gt; Processed | void | Promise&lt;Processed | void&gt;;</pre>
</div> <h3 id="types-preprocessorgroup">PreprocessorGroup</h3>
<p>A preprocessor group is a set of preprocessors that are applied to a Svelte file.</p> <div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">interface PreprocessorGroup {…}</pre>
<div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">name?: string;</pre>
<div class="ts-block-property-details"> <p>Name of the preprocessor. Will be a required option in the next major version</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">markup?: MarkupPreprocessor;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">style?: Preprocessor;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">script?: Preprocessor;</pre>

</div>
</div> <h3 id="types-processed">Processed</h3>
<p>The result of a preprocessor run. If the preprocessor does not return a result, it is assumed that the code is unchanged.</p> <div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">interface Processed {…}</pre>
<div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">code: string;</pre>
<div class="ts-block-property-details"> <p>The new code</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">map?: string | object;</pre>
<div class="ts-block-property-details"> <p>A source map mapping back to the original code</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">dependencies?: string[];</pre>
<div class="ts-block-property-details"> <p>A list of additional files to watch for changes</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">attributes?: Record&lt;string, string | boolean&gt;;</pre>
<div class="ts-block-property-details"> <p>Only for script/style preprocessors: The updated attributes to set on the tag. If undefined, attributes stay unchanged.</p> </div>
</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">toString?: () =&gt; string;</pre>

</div>
</div> <h3 id="types-sveltepreprocessor">SveltePreprocessor</h3>
<p>Utility type to extract the type of a preprocessor from a preprocessor group</p> <div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">interface SveltePreprocessor&lt;
	PreprocessorType extends keyof PreprocessorGroup,
	Options = any
&gt; {…}</pre>
<div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">(options?: Options): Required&lt;Pick&lt;PreprocessorGroup, PreprocessorType&gt;&gt;;</pre>

</div>
</div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016–2023 Rich Harris and contributors<br>Licensed under the MIT License.<br>
    <a href="https://svelte.dev/docs/svelte-compiler" class="_attribution-link">https://svelte.dev/docs/svelte-compiler</a>
  </p>
</div>
