<h1>svelte</h1> <div class="text" id="docs-content">  <p>The <code>svelte</code> package exposes <a href="https://learn.svelte.dev/tutorial/onmount">lifecycle functions</a> and the <a href="https://learn.svelte.dev/tutorial/context-api">context API</a>.</p> <h2 id="onmount">onMount</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function onMount&lt;T&gt;(
	fn: () =&gt;
		| NotFunction&lt;T&gt;
		| Promise&lt;NotFunction&lt;T&gt;&gt;
		| (() =&gt; any)
): void;</pre>
</div> <p>The <code>onMount</code> function schedules a callback to run as soon as the component has been mounted to the DOM. It must be called during the component's initialisation (but doesn't need to live <em>inside</em> the component; it can be called from an external module).</p> <p><code>onMount</code> does not run inside a <a href="server-side-component-api.html">server-side component</a>.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { onMount } from 'svelte';

	onMount(() =&gt; {
		console.log('the component has mounted');
	});
&lt;/script&gt;</pre>
<p>If a function is returned from <code>onMount</code>, it will be called when the component is unmounted.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { onMount } from 'svelte';

	onMount(() =&gt; {
		const interval = setInterval(() =&gt; {
			console.log('beep');
		}, 1000);

		return () =&gt; clearInterval(interval);
	});
&lt;/script&gt;</pre>
<blockquote> <p>This behaviour will only work when the function passed to <code>onMount</code> <em>synchronously</em> returns a value. <code>async</code> functions always return a <code>Promise</code>, and as such cannot <em>synchronously</em> return a function.</p> </blockquote> <h2 id="beforeupdate">beforeUpdate</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function beforeUpdate(fn: () =&gt; any): void;</pre>
</div> <p>Schedules a callback to run immediately before the component is updated after any state change.</p> <blockquote> <p>The first time the callback runs will be before the initial <code>onMount</code></p> </blockquote> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { beforeUpdate } from 'svelte';

	beforeUpdate(() =&gt; {
		console.log('the component is about to update');
	});
&lt;/script&gt;</pre>
<h2 id="afterupdate">afterUpdate</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function afterUpdate(fn: () =&gt; any): void;</pre>
</div> <p>Schedules a callback to run immediately after the component has been updated.</p> <blockquote> <p>The first time the callback runs will be after the initial <code>onMount</code></p> </blockquote> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { afterUpdate } from 'svelte';

	afterUpdate(() =&gt; {
		console.log('the component just updated');
	});
&lt;/script&gt;</pre>
<h2 id="ondestroy">onDestroy</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function onDestroy(fn: () =&gt; any): void;</pre>
</div> <p>Schedules a callback to run immediately before the component is unmounted.</p> <p>Out of <code>onMount</code>, <code>beforeUpdate</code>, <code>afterUpdate</code> and <code>onDestroy</code>, this is the only one that runs inside a server-side component.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { onDestroy } from 'svelte';

	onDestroy(() =&gt; {
		console.log('the component is being destroyed');
	});
&lt;/script&gt;</pre>
<h2 id="tick">tick</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function tick(): Promise&lt;void&gt;;</pre>
</div> <p>Returns a promise that resolves once any pending state changes have been applied, or in the next microtask if there are none.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { beforeUpdate, tick } from 'svelte';

	beforeUpdate(async () =&gt; {
		console.log('the component is about to update');
		await tick();
		console.log('the component just updated');
	});
&lt;/script&gt;</pre>
<h2 id="setcontext">setContext</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function setContext&lt;T&gt;(key: any, context: T): T;</pre>
</div> <p>Associates an arbitrary <code>context</code> object with the current component and the specified <code>key</code> and returns that object. The context is then available to children of the component (including slotted content) with <code>getContext</code>.</p> <p>Like lifecycle functions, this must be called during component initialisation.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { setContext } from 'svelte';

	setContext('answer', 42);
&lt;/script&gt;</pre>
<blockquote> <p>Context is not inherently reactive. If you need reactive values in context then you can pass a store into context, which <em>will</em> be reactive.</p> </blockquote> <h2 id="getcontext">getContext</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function getContext&lt;T&gt;(key: any): T;</pre>
</div> <p>Retrieves the context that belongs to the closest parent component with the specified <code>key</code>. Must be called during component initialisation.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { getContext } from 'svelte';

	const answer = getContext('answer');
&lt;/script&gt;</pre>
<h2 id="hascontext">hasContext</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function hasContext(key: any): boolean;</pre>
</div> <p>Checks whether a given <code>key</code> has been set in the context of a parent component. Must be called during component initialisation.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { hasContext } from 'svelte';

	if (hasContext('answer')) {
		// do something
	}
&lt;/script&gt;</pre>
<h2 id="getallcontexts">getAllContexts</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function getAllContexts&lt;
	T extends Map&lt;any, any&gt; = Map&lt;any, any&gt;
&gt;(): T;</pre>
</div> <p>Retrieves the whole context map that belongs to the closest parent component. Must be called during component initialisation. Useful, for example, if you programmatically create a component and want to pass the existing context to it.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { getAllContexts } from 'svelte';

	const contexts = getAllContexts();
&lt;/script&gt;</pre>
<h2 id="createeventdispatcher">createEventDispatcher</h2>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">function createEventDispatcher&lt;
	EventMap extends Record&lt;string, any&gt; = any
&gt;(): EventDispatcher&lt;EventMap&gt;;</pre>
</div> <p>Creates an event dispatcher that can be used to dispatch <a href="component-directives.html#on-eventname">component events</a>. Event dispatchers are functions that can take two arguments: <code>name</code> and <code>detail</code>.</p> <p>Component events created with <code>createEventDispatcher</code> create a <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent">CustomEvent</a>. These events do not <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture">bubble</a>. The <code>detail</code> argument corresponds to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail">CustomEvent.detail</a> property and can contain any type of data.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { createEventDispatcher } from 'svelte';

	const dispatch = createEventDispatcher();
&lt;/script&gt;

&lt;button on:click={() =&gt; dispatch('notify', 'detail value')}&gt;Fire Event&lt;/button&gt;</pre>
<p>Events dispatched from child components can be listened to in their parent. Any data provided when the event was dispatched is available on the <code>detail</code> property of the event object.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	function callbackFunction(event) {
		console.log(`Notify fired! Detail: ${event.detail}`);
	}
&lt;/script&gt;

&lt;Child on:notify={callbackFunction} /&gt;</pre>
<p>Events can be cancelable by passing a third parameter to the dispatch function. The function returns <code>false</code> if the event is cancelled with <code>event.preventDefault()</code>, otherwise it returns <code>true</code>.</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script&gt;
	import { createEventDispatcher } from 'svelte';

	const dispatch = createEventDispatcher();

	function notify() {
		const shouldContinue = dispatch('notify', 'detail value', { cancelable: true });
		if (shouldContinue) {
			// no one called preventDefault
		} else {
			// a listener called preventDefault
		}
	}
&lt;/script&gt;</pre>
<p>You can type the event dispatcher to define which events it can receive. This will make your code more type safe both within the component (wrong calls are flagged) and when using the component (types of the events are now narrowed). See <a href="typescript.html#script-lang-ts-events">here</a> how to do it.</p> <h2 id="types">Types</h2>
<h3 id="types-componentconstructoroptions">ComponentConstructorOptions</h3>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">interface ComponentConstructorOptions&lt;
	Props extends Record&lt;string, any&gt; = Record&lt;string, any&gt;
&gt; {…}</pre>
<div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">target: Element | Document | ShadowRoot;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">anchor?: Element;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">props?: Props;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">context?: Map&lt;any, any&gt;;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">hydrate?: boolean;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">intro?: boolean;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">$$inline?: boolean;</pre>

</div>
</div> <h3 id="types-componentevents">ComponentEvents</h3>
<p>Convenience type to get the events the given component expects. Example:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
   import type { ComponentEvents } from 'svelte';
   import Component from './Component.svelte';

   function handleCloseEvent(event: ComponentEvents&lt;Component&gt;['close']) {
	  console.log(event.detail);
   }
&lt;/script&gt;

&lt;Component on:close={handleCloseEvent} /&gt;</pre>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">type ComponentEvents&lt;Component extends SvelteComponent_1&gt; =
	Component extends SvelteComponent&lt;any, infer Events&gt;
		? Events
		: never;</pre>
</div> <h3 id="types-componentprops">ComponentProps</h3>
<p>Convenience type to get the props the given component expects. Example:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	import type { ComponentProps } from 'svelte';
	import Component from './Component.svelte';

	const props: ComponentProps&lt;Component&gt; = { foo: 'bar' }; // Errors if these aren't the correct props
&lt;/script&gt;</pre>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">type ComponentProps&lt;Component extends SvelteComponent_1&gt; =
	Component extends SvelteComponent&lt;infer Props&gt;
		? Props
		: never;</pre>
</div> <h3 id="types-componenttype">ComponentType</h3>
<p>Convenience type to get the type of a Svelte component. Useful for example in combination with dynamic components using <code>&lt;svelte:component&gt;</code>.</p> <p>Example:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	import type { ComponentType, SvelteComponent } from 'svelte';
	import Component1 from './Component1.svelte';
	import Component2 from './Component2.svelte';

	const component: ComponentType = someLogic() ? Component1 : Component2;
	const componentOfCertainSubType: ComponentType&lt;SvelteComponent&lt;{ needsThisProp: string }&gt;&gt; = someLogic() ? Component1 : Component2;
&lt;/script&gt;

&lt;svelte:component this={component} /&gt;
&lt;svelte:component this={componentOfCertainSubType} needsThisProp="hello" /&gt;</pre>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">type ComponentType&lt;
	Component extends SvelteComponent = SvelteComponent
&gt; = (new (
	options: ComponentConstructorOptions&lt;
		Component extends SvelteComponent&lt;infer Props&gt;
			? Props
			: Record&lt;string, any&gt;
	&gt;
) =&gt; Component) &amp; {
	/** The custom element version of the component. Only present if compiled with the `customElement` compiler option */
	element?: typeof HTMLElement;
};</pre>
</div> <h3 id="types-sveltecomponent">SvelteComponent</h3>
<p>Base class for Svelte components with some minor dev-enhancements. Used when dev=true.</p> <p>Can be used to create strongly typed Svelte components.</p> <h4 id="types-sveltecomponent-example">Example:</h4>
<p>You have component library on npm called <code>component-library</code>, from which you export a component called <code>MyComponent</code>. For Svelte+TypeScript users, you want to provide typings. Therefore you create a <code>index.d.ts</code>:</p> <pre class="copy-code-block shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { SvelteComponent } from "svelte";
export class MyComponent extends SvelteComponent&lt;{foo: string}&gt; {}</pre>
<p>Typing this makes it possible for IDEs like VS Code with the Svelte extension to provide intellisense and to use the component like this in a Svelte file with TypeScript:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	import { MyComponent } from "component-library";
&lt;/script&gt;
&lt;MyComponent foo={'bar'} /&gt;</pre>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">class SvelteComponent&lt;
	Props extends Record&lt;string, any&gt; = any,
	Events extends Record&lt;string, any&gt; = any,
	Slots extends Record&lt;string, any&gt; = any
&gt; extends SvelteComponent_1&lt;Props, Events&gt; {…}</pre>
<div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">[prop: string]: any;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">constructor(options: ComponentConstructorOptions&lt;Props&gt;);</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">$capture_state(): void;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">$inject_state(): void;</pre>

</div>
</div> <h3 id="types-sveltecomponenttyped">SvelteComponentTyped</h3> <blockquote class="tag deprecated">
<p>Use <code>SvelteComponent</code> instead. See PR for more information: <a href="https://github.com/sveltejs/svelte/pull/8512">https://github.com/sveltejs/svelte/pull/8512</a></p> </blockquote> <div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">class SvelteComponentTyped&lt;
	Props extends Record&lt;string, any&gt; = any,
	Events extends Record&lt;string, any&gt; = any,
	Slots extends Record&lt;string, any&gt; = any
&gt; extends SvelteComponent&lt;Props, Events, Slots&gt; {}</pre>
</div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016–2023 Rich Harris and contributors<br>Licensed under the MIT License.<br>
    <a href="https://svelte.dev/docs/svelte" class="_attribution-link">https://svelte.dev/docs/svelte</a>
  </p>
</div>
