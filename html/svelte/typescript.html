<h1>TypeScript</h1> <div class="text" id="docs-content">  <p>You can use TypeScript within Svelte components. IDE extensions like the <a href="https://marketplace.visualstudio.com/items?itemName=svelte.svelte-vscode">Svelte VSCode extension</a> will help you catch errors right in your editor, and <a href="https://www.npmjs.com/package/svelte-check"><code>svelte-check</code></a> does the same on the command line, which you can integrate into your CI.</p> <h2 id="setup">Setup</h2>
<p>To use TypeScript within Svelte components, you need to add a preprocessor that will turn TypeScript into JavaScript.</p> <h3 id="setup-using-sveltekit-or-vite">Using SvelteKit or Vite</h3>
<p>The easiest way to get started is scaffolding a new SvelteKit project by typing <code>npm create svelte@latest</code>, following the prompts and choosing the TypeScript option.</p> <div class="copy-code-block code-block">
<span class="filename">svelte.config.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { vitePreprocess } from '@sveltejs/kit/vite';


const config = {
	preprocess: vitePreprocess()
};


export default config;</pre>
</div>
<p>If you don't need or want all the features SvelteKit has to offer, you can scaffold a Svelte-flavoured Vite project instead by typing <code>npm create vite@latest</code> and selecting the <code>svelte-ts</code> option.</p> <div class="copy-code-block code-block">
<span class="filename">svelte.config.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { vitePreprocess } from '@sveltejs/vite-plugin-svelte';


const config = {
	preprocess: vitePreprocess()
};


export default config;</pre>
</div>
<p>In both cases, a <code>svelte.config.js</code> with <code>vitePreprocess</code> will be added. Vite/SvelteKit will read from this config file.</p> <h3 id="setup-other-build-tools">Other build tools</h3>
<p>If you're using tools like Rollup or Webpack instead, install their respective Svelte plugins. For Rollup that's <a href="https://github.com/sveltejs/rollup-plugin-svelte">rollup-plugin-svelte</a> and for Webpack that's <a href="https://github.com/sveltejs/svelte-loader">svelte-loader</a>. For both, you need to install <code>typescript</code> and <code>svelte-preprocess</code> and add the preprocessor to the plugin config (see the respective READMEs for more info). If you're starting a new project, you can also use the <a href="https://github.com/sveltejs/template">rollup</a> or <a href="https://github.com/sveltejs/template-webpack">webpack</a> template to scaffold the setup from a script.</p> <blockquote> <p>If you're starting a new project, we recommend using SvelteKit or Vite instead</p> </blockquote> <h2 id="script-lang-ts">&lt;script lang="ts"&gt;</h2>
<p>To use TypeScript inside your Svelte components, add <code>lang="ts"</code> to your <code>script</code> tags:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	let name: string = 'world';

	function greet(name: string) {
		alert(`Hello, ${name}!`);
	}
&lt;/script&gt;</pre>
<h3 id="script-lang-ts-props">Props</h3>
<p>Props can be typed directly on the <code>export let</code> statement:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	export let name: string;
&lt;/script&gt;</pre>
<h3 id="script-lang-ts-slots">Slots</h3>
<p>Slot and slot prop types are inferred from the types of the slot props passed to them:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	export let name: string;
&lt;/script&gt;

&lt;slot {name} /&gt;

&lt;!-- Later --&gt;
&lt;Comp let:name&gt;
	&lt;!--    ^ Inferred as string --&gt;
	{name}
&lt;/Comp&gt;</pre>
<h3 id="script-lang-ts-events">Events</h3>
<p>Events can be typed with <code>createEventDispatcher</code>:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	import { createEventDispatcher } from 'svelte';

	const dispatch = createEventDispatcher&lt;{
		event: null; // does not accept a payload
		click: string; // has a required string payload
		type: string | null; // has an optional string payload
	}&gt;();

	function handleClick() {
		dispatch('event');
		dispatch('click', 'hello');
	}

	function handleType() {
		dispatch('event');
		dispatch('type', Math.random() &gt; 0.5 ? 'world' : null);
	}
&lt;/script&gt;

&lt;button on:click={handleClick} on:keydown={handleType}&gt;Click&lt;/button&gt;</pre>
<h2 id="enhancing-built-in-dom-types">Enhancing built-in DOM types</h2>
<p>Svelte provides a best effort of all the HTML DOM types that exist. Sometimes you may want to use experimental attributes or custom events coming from an action. In these cases, TypeScript will throw a type error, saying that it does not know these types. If it's a non-experimental standard attribute/event, this may very well be a missing typing from our <a href="https://github.com/sveltejs/svelte/blob/master/packages/svelte/elements.d.ts">HTML typings</a>. In that case, you are welcome to open an issue and/or a PR fixing it.</p> <p>In case this is a custom or experimental attribute/event, you can enhance the typings like this:</p> <div class="copy-code-block code-block">
<span class="filename">additional-svelte-typings.d.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">declare namespace svelteHTML {
	// enhance elements
	interface IntrinsicElements {
		'my-custom-element': { someattribute: string; 'on:event': (e: CustomEvent&lt;any&gt;) =&gt; void };
	}
	// enhance attributes
	interface HTMLAttributes&lt;T&gt; {
		// If you want to use on:beforeinstallprompt
		'on:beforeinstallprompt'?: (event: any) =&gt; any;
		// If you want to use myCustomAttribute={..} (note: all lowercase)
		mycustomattribute?: any; // You can replace any with something more specific if you like
	}
}</pre>
</div>
<p>Then make sure that <code>d.ts</code> file is referenced in your <code>tsconfig.json</code>. If it reads something like <code>"include": ["src/**/*"]</code> and your <code>d.ts</code> file is inside <code>src</code>, it should work. You may need to reload for the changes to take effect.</p> <p>Since Svelte version 4.2 / <code>svelte-check</code> version 3.5 / VS Code extension version 107.10.0 you can also declare the typings by augmenting the <code>svelte/elements</code> module like this:</p> <div class="copy-code-block code-block">
<span class="filename">additional-svelte-typings.d.ts</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { HTMLButtonAttributes } from 'svelte/elements';


declare module 'svelte/elements' {
	export interface SvelteHTMLElements {
		'custom-button': HTMLButtonAttributes;
	}


	// allows for more granular control over what element to add the typings to
	export interface HTMLButtonAttributes {
		veryexperimentalattribute?: string;
	}
}


export {}; // ensure this is not an ambient module, else types will be overridden instead of augmented</pre>
</div>
<h2 id="experimental-advanced-typings">Experimental advanced typings</h2>
<p>A few features are missing from taking full advantage of TypeScript in more advanced use cases like typing that a component implements a certain interface, explicitly typing slots, or using generics. These things are possible using experimental advanced type capabilities. See <a href="https://github.com/dummdidumm/rfcs/blob/ts-typedefs-within-svelte-components/text/ts-typing-props-slots-events.md">this RFC</a> for more information on how to make use of them.</p> <blockquote> <p>The API is experimental and may change at any point</p> </blockquote> <h2 id="limitations">Limitations</h2>
<h3 id="limitations-no-ts-in-markup">No TS in markup</h3>
<p>You cannot use TypeScript in your template's markup. For example, the following does not work:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	let count = 10;
&lt;/script&gt;

&lt;h1&gt;Count as string: {count as string}!&lt;/h1&gt; &lt;!-- ❌ Does not work --&gt;
{#if count &gt; 4}
	{@const countString: string = count} &lt;!-- ❌ Does not work --&gt;
	{countString}
{/if}</pre>
<h3 id="limitations-reactive-declarations">Reactive Declarations</h3>
<p>You cannot type your reactive declarations with TypeScript in the way you type a variable. For example, the following does not work:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	let count = 0;

	$: doubled: number = count * 2; // ❌ Does not work
&lt;/script&gt;</pre>
<p>You cannot add a <code>: TYPE</code> because it's invalid syntax in this position. Instead, you can move the definition to a <code>let</code> statement just above:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	let count = 0;

	let doubled: number;
	$: doubled = count * 2;
&lt;/script&gt;</pre>
<h2 id="types">Types</h2>
<h3 id="types-componentconstructoroptions">ComponentConstructorOptions</h3>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">interface ComponentConstructorOptions&lt;
	Props extends Record&lt;string, any&gt; = Record&lt;string, any&gt;
&gt; {…}</pre>
<div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">target: Element | Document | ShadowRoot;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">anchor?: Element;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">props?: Props;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">context?: Map&lt;any, any&gt;;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">hydrate?: boolean;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">intro?: boolean;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">$$inline?: boolean;</pre>

</div>
</div> <h3 id="types-componentevents">ComponentEvents</h3>
<p>Convenience type to get the events the given component expects. Example:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
   import type { ComponentEvents } from 'svelte';
   import Component from './Component.svelte';

   function handleCloseEvent(event: ComponentEvents&lt;Component&gt;['close']) {
	  console.log(event.detail);
   }
&lt;/script&gt;

&lt;Component on:close={handleCloseEvent} /&gt;</pre>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">type ComponentEvents&lt;Component extends SvelteComponent_1&gt; =
	Component extends SvelteComponent&lt;any, infer Events&gt;
		? Events
		: never;</pre>
</div> <h3 id="types-componentprops">ComponentProps</h3>
<p>Convenience type to get the props the given component expects. Example:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	import type { ComponentProps } from 'svelte';
	import Component from './Component.svelte';

	const props: ComponentProps&lt;Component&gt; = { foo: 'bar' }; // Errors if these aren't the correct props
&lt;/script&gt;</pre>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">type ComponentProps&lt;Component extends SvelteComponent_1&gt; =
	Component extends SvelteComponent&lt;infer Props&gt;
		? Props
		: never;</pre>
</div> <h3 id="types-componenttype">ComponentType</h3>
<p>Convenience type to get the type of a Svelte component. Useful for example in combination with dynamic components using <code>&lt;svelte:component&gt;</code>.</p> <p>Example:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	import type { ComponentType, SvelteComponent } from 'svelte';
	import Component1 from './Component1.svelte';
	import Component2 from './Component2.svelte';

	const component: ComponentType = someLogic() ? Component1 : Component2;
	const componentOfCertainSubType: ComponentType&lt;SvelteComponent&lt;{ needsThisProp: string }&gt;&gt; = someLogic() ? Component1 : Component2;
&lt;/script&gt;

&lt;svelte:component this={component} /&gt;
&lt;svelte:component this={componentOfCertainSubType} needsThisProp="hello" /&gt;</pre>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">type ComponentType&lt;
	Component extends SvelteComponent = SvelteComponent
&gt; = (new (
	options: ComponentConstructorOptions&lt;
		Component extends SvelteComponent&lt;infer Props&gt;
			? Props
			: Record&lt;string, any&gt;
	&gt;
) =&gt; Component) &amp; {
	/** The custom element version of the component. Only present if compiled with the `customElement` compiler option */
	element?: typeof HTMLElement;
};</pre>
</div> <h3 id="types-sveltecomponent">SvelteComponent</h3>
<p>Base class for Svelte components with some minor dev-enhancements. Used when dev=true.</p> <p>Can be used to create strongly typed Svelte components.</p> <h4 id="types-sveltecomponent-example">Example:</h4>
<p>You have component library on npm called <code>component-library</code>, from which you export a component called <code>MyComponent</code>. For Svelte+TypeScript users, you want to provide typings. Therefore you create a <code>index.d.ts</code>:</p> <pre class="copy-code-block shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">import { SvelteComponent } from "svelte";
export class MyComponent extends SvelteComponent&lt;{foo: string}&gt; {}</pre>
<p>Typing this makes it possible for IDEs like VS Code with the Svelte extension to provide intellisense and to use the component like this in a Svelte file with TypeScript:</p> <pre class="copy-code-block shiki" style="background-color: var(--shiki-color-background)" data-language="javascript">&lt;script lang="ts"&gt;
	import { MyComponent } from "component-library";
&lt;/script&gt;
&lt;MyComponent foo={'bar'} /&gt;</pre>
<div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">class SvelteComponent&lt;
	Props extends Record&lt;string, any&gt; = any,
	Events extends Record&lt;string, any&gt; = any,
	Slots extends Record&lt;string, any&gt; = any
&gt; extends SvelteComponent_1&lt;Props, Events&gt; {…}</pre>
<div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">[prop: string]: any;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">constructor(options: ComponentConstructorOptions&lt;Props&gt;);</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">$capture_state(): void;</pre>

</div> <div class="ts-block-property"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">$inject_state(): void;</pre>

</div>
</div> <h3 id="types-sveltecomponenttyped">SvelteComponentTyped</h3> <blockquote class="tag deprecated">
<p>Use <code>SvelteComponent</code> instead. See PR for more information: <a href="https://github.com/sveltejs/svelte/pull/8512">https://github.com/sveltejs/svelte/pull/8512</a></p> </blockquote> <div class="ts-block"> <pre class="copy-code-block shiki css-variables" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)" data-language="javascript">class SvelteComponentTyped&lt;
	Props extends Record&lt;string, any&gt; = any,
	Events extends Record&lt;string, any&gt; = any,
	Slots extends Record&lt;string, any&gt; = any
&gt; extends SvelteComponent&lt;Props, Events, Slots&gt; {}</pre>
</div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016–2023 Rich Harris and contributors<br>Licensed under the MIT License.<br>
    <a href="https://svelte.dev/docs/typescript" class="_attribution-link">https://svelte.dev/docs/typescript</a>
  </p>
</div>
