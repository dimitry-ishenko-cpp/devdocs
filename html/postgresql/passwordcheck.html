<h1>F.26. passwordcheck — verify password strength </h1>    <p>The <code class="filename">passwordcheck</code> module checks users' passwords whenever they are set with <a class="xref" href="sql-createrole.html" title="CREATE ROLE">CREATE ROLE</a> or <a class="xref" href="sql-alterrole.html" title="ALTER ROLE">ALTER ROLE</a>. If a password is considered too weak, it will be rejected and the command will terminate with an error.</p> <p>To enable this module, add <code class="literal">'$libdir/passwordcheck'</code> to <a class="xref" href="runtime-config-client.html#GUC-SHARED-PRELOAD-LIBRARIES">shared_preload_libraries</a> in <code class="filename">postgresql.conf</code>, then restart the server.</p> <p>You can adapt this module to your needs by changing the source code. For example, you can use <a class="ulink" href="https://github.com/cracklib/cracklib" target="_top">CrackLib</a> to check passwords — this only requires uncommenting two lines in the <code class="filename">Makefile</code> and rebuilding the module. (We cannot include CrackLib by default for license reasons.) Without CrackLib, the module enforces a few simple rules for password strength, which you can modify or extend as you see fit.</p> <blockquote class="caution"> <h3 class="title">Caution</h3> <p>To prevent unencrypted passwords from being sent across the network, written to the server log or otherwise stolen by a database administrator, PostgreSQL allows the user to supply pre-encrypted passwords. Many client programs make use of this functionality and encrypt the password before sending it to the server.</p> <p>This limits the usefulness of the <code class="filename">passwordcheck</code> module, because in that case it can only try to guess the password. For this reason, <code class="filename">passwordcheck</code> is not recommended if your security requirements are high. It is more secure to use an external authentication method such as GSSAPI (see <a class="xref" href="https://www.postgresql.org/docs/16/client-authentication.html" title="Chapter 21. Client Authentication">Chapter 21</a>) than to rely on passwords within the database.</p> <p>Alternatively, you could modify <code class="filename">passwordcheck</code> to reject pre-encrypted passwords, but forcing users to set their passwords in clear text carries its own security risks.</p> </blockquote><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996&ndash;2023 The PostgreSQL Global Development Group<br>Licensed under the PostgreSQL License.<br>
    <a href="https://www.postgresql.org/docs/16/passwordcheck.html" class="_attribution-link">https://www.postgresql.org/docs/16/passwordcheck.html</a>
  </p>
</div>
