<h1>20.8. Ident Authentication </h1>    <p>The ident authentication method works by obtaining the client's operating system user name from an ident server and using it as the allowed database user name (with an optional user name mapping). This is only supported on TCP/IP connections.</p> <blockquote class="note"> <h3 class="title">Note</h3> <p>When ident is specified for a local (non-TCP/IP) connection, peer authentication (see <a class="xref" href="auth-peer.html" title="20.9. Peer Authentication">Section 20.9</a>) will be used instead.</p> </blockquote> <p>The following configuration options are supported for <code class="literal">ident</code>:</p> <div class="variablelist"> <dl class="variablelist"> <dt><code class="literal">map</code></dt> <dd> <p>Allows for mapping between system and database user names. See <a class="xref" href="auth-username-maps.html" title="20.2. User Name Maps">Section 20.2</a> for details.</p> </dd> </dl> </div> <p>The <span class="quote">“<span class="quote">Identification Protocol</span>”</span> is described in <a class="ulink" href="https://datatracker.ietf.org/doc/html/rfc1413" target="_top">RFC 1413</a>. Virtually every Unix-like operating system ships with an ident server that listens on TCP port 113 by default. The basic functionality of an ident server is to answer questions like <span class="quote">“<span class="quote">What user initiated the connection that goes out of your port <code>X</code> and connects to my port <code>Y</code>?</span>”</span>. Since PostgreSQL knows both <code>X</code> and <code>Y</code> when a physical connection is established, it can interrogate the ident server on the host of the connecting client and can theoretically determine the operating system user for any given connection.</p> <p>The drawback of this procedure is that it depends on the integrity of the client: if the client machine is untrusted or compromised, an attacker could run just about any program on port 113 and return any user name they choose. This authentication method is therefore only appropriate for closed networks where each client machine is under tight control and where the database and system administrators operate in close contact. In other words, you must trust the machine running the ident server. Heed the warning:</p> <div class="blockquote"> <table class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"> <tr> <td width="10%"> </td> <td width="80%"> <p>The Identification Protocol is not intended as an authorization or access control protocol.</p> </td> <td width="10%"> </td> </tr> <tr> <td width="10%"> </td> <td colspan="2" align="right">--<span class="attribution">RFC 1413</span>
</td> </tr> </table> </div> <p>Some ident servers have a nonstandard option that causes the returned user name to be encrypted, using a key that only the originating machine's administrator knows. This option <span class="emphasis"><em>must not</em></span> be used when using the ident server with PostgreSQL, since PostgreSQL does not have any way to decrypt the returned string to determine the actual user name.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996&ndash;2024 The PostgreSQL Global Development Group<br>Licensed under the PostgreSQL License.<br>
    <a href="https://www.postgresql.org/docs/17/auth-ident.html" class="_attribution-link">https://www.postgresql.org/docs/17/auth-ident.html</a>
  </p>
</div>
