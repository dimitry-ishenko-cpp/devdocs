<h1>29.11. Configuration Settings </h1>    <div class="toc"> <dl class="toc"> <dt><a href="logical-replication-config.html#LOGICAL-REPLICATION-CONFIG-PUBLISHER">29.11.1. Publishers</a></dt> <dt><a href="logical-replication-config.html#LOGICAL-REPLICATION-CONFIG-SUBSCRIBER">29.11.2. Subscribers</a></dt> </dl> </div> <p>Logical replication requires several configuration options to be set. Most options are relevant only on one side of the replication. However, <code class="varname">max_replication_slots</code> is used on both the publisher and the subscriber, but it has a different meaning for each.</p> <div class="sect2" id="LOGICAL-REPLICATION-CONFIG-PUBLISHER">    <h2 class="title">29.11.1. Publishers </h2>    <p><a class="link" href="runtime-config-wal.html#GUC-WAL-LEVEL"><code class="varname">wal_level</code></a> must be set to <code class="literal">logical</code>.</p> <p><a class="link" href="runtime-config-replication.html#GUC-MAX-REPLICATION-SLOTS"><code class="varname">max_replication_slots</code></a> must be set to at least the number of subscriptions expected to connect, plus some reserve for table synchronization.</p> <p><a class="link" href="runtime-config-replication.html#GUC-MAX-WAL-SENDERS"><code class="varname">max_wal_senders</code></a> should be set to at least the same as <code class="varname">max_replication_slots</code>, plus the number of physical replicas that are connected at the same time.</p> <p>Logical replication walsender is also affected by <a class="link" href="runtime-config-replication.html#GUC-WAL-SENDER-TIMEOUT"><code class="varname">wal_sender_timeout</code></a>.</p> </div> <div class="sect2" id="LOGICAL-REPLICATION-CONFIG-SUBSCRIBER">    <h2 class="title">29.11.2. Subscribers </h2>    <p><a class="link" href="runtime-config-replication.html#GUC-MAX-REPLICATION-SLOTS-SUBSCRIBER"><code class="varname">max_replication_slots</code></a> must be set to at least the number of subscriptions that will be added to the subscriber, plus some reserve for table synchronization.</p> <p><a class="link" href="runtime-config-replication.html#GUC-MAX-LOGICAL-REPLICATION-WORKERS"><code class="varname">max_logical_replication_workers</code></a> must be set to at least the number of subscriptions (for leader apply workers), plus some reserve for the table synchronization workers and parallel apply workers.</p> <p><a class="link" href="runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES"><code class="varname">max_worker_processes</code></a> may need to be adjusted to accommodate for replication workers, at least (<a class="link" href="runtime-config-replication.html#GUC-MAX-LOGICAL-REPLICATION-WORKERS"><code class="varname">max_logical_replication_workers</code></a> + <code class="literal">1</code>). Note, some extensions and parallel queries also take worker slots from <code class="varname">max_worker_processes</code>.</p> <p><a class="link" href="runtime-config-replication.html#GUC-MAX-SYNC-WORKERS-PER-SUBSCRIPTION"><code class="varname">max_sync_workers_per_subscription</code></a> controls the amount of parallelism of the initial data copy during the subscription initialization or when new tables are added.</p> <p><a class="link" href="runtime-config-replication.html#GUC-MAX-PARALLEL-APPLY-WORKERS-PER-SUBSCRIPTION"><code class="varname">max_parallel_apply_workers_per_subscription</code></a> controls the amount of parallelism for streaming of in-progress transactions with subscription parameter <code class="literal">streaming = parallel</code>.</p> <p>Logical replication workers are also affected by <a class="link" href="runtime-config-replication.html#GUC-WAL-RECEIVER-TIMEOUT"><code class="varname">wal_receiver_timeout</code></a>, <a class="link" href="runtime-config-replication.html#GUC-WAL-RECEIVER-STATUS-INTERVAL"><code class="varname">wal_receiver_status_interval</code></a> and <a class="link" href="runtime-config-replication.html#GUC-WAL-RETRIEVE-RETRY-INTERVAL"><code class="varname">wal_retrieve_retry_interval</code></a>.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996&ndash;2024 The PostgreSQL Global Development Group<br>Licensed under the PostgreSQL License.<br>
    <a href="https://www.postgresql.org/docs/17/logical-replication-config.html" class="_attribution-link">https://www.postgresql.org/docs/17/logical-replication-config.html</a>
  </p>
</div>
