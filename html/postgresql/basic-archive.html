<h1>F.5. basic_archive — an example WAL archive module </h1>    <div class="toc"> <dl class="toc"> <dt><a href="basic-archive.html#BASIC-ARCHIVE-CONFIGURATION-PARAMETERS">F.5.1. Configuration Parameters</a></dt> <dt><a href="basic-archive.html#BASIC-ARCHIVE-NOTES">F.5.2. Notes</a></dt> <dt><a href="basic-archive.html#BASIC-ARCHIVE-AUTHOR">F.5.3. Author</a></dt> </dl> </div> <p><code class="filename">basic_archive</code> is an example of an archive module. This module copies completed WAL segment files to the specified directory. This may not be especially useful, but it can serve as a starting point for developing your own archive module. For more information about archive modules, see <a class="xref" href="https://www.postgresql.org/docs/17/archive-modules.html" title="Chapter 49. Archive Modules">Chapter 49</a>.</p> <p>In order to function, this module must be loaded via <a class="xref" href="runtime-config-wal.html#GUC-ARCHIVE-LIBRARY">archive_library</a>, and <a class="xref" href="runtime-config-wal.html#GUC-ARCHIVE-MODE">archive_mode</a> must be enabled.</p> <div class="sect2" id="BASIC-ARCHIVE-CONFIGURATION-PARAMETERS">    <h2 class="title">F.5.1. Configuration Parameters </h2>    <div class="variablelist"> <dl class="variablelist"> <dt>
<code class="varname">basic_archive.archive_directory</code> (<code class="type">string</code>) </dt> <dd> <p>The directory where the server should copy WAL segment files. This directory must already exist. The default is an empty string, which effectively halts WAL archiving, but if <a class="xref" href="runtime-config-wal.html#GUC-ARCHIVE-MODE">archive_mode</a> is enabled, the server will accumulate WAL segment files in the expectation that a value will soon be provided.</p> </dd> </dl> </div> <p>These parameters must be set in <code class="filename">postgresql.conf</code>. Typical usage might be:</p> <pre data-language="sql">
# postgresql.conf
archive_mode = 'on'
archive_library = 'basic_archive'
basic_archive.archive_directory = '/path/to/archive/directory'
</pre> </div> <div class="sect2" id="BASIC-ARCHIVE-NOTES">    <h2 class="title">F.5.2. Notes </h2>    <p>Server crashes may leave temporary files with the prefix <code class="filename">archtemp</code> in the archive directory. It is recommended to delete such files before restarting the server after a crash. It is safe to remove such files while the server is running as long as they are unrelated to any archiving still in progress, but users should use extra caution when doing so.</p> </div> <div class="sect2" id="BASIC-ARCHIVE-AUTHOR">    <h2 class="title">F.5.3. Author </h2>    <p>Nathan Bossart</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996&ndash;2024 The PostgreSQL Global Development Group<br>Licensed under the PostgreSQL License.<br>
    <a href="https://www.postgresql.org/docs/17/basic-archive.html" class="_attribution-link">https://www.postgresql.org/docs/17/basic-archive.html</a>
  </p>
</div>
