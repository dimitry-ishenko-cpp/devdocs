<div class="sphx-glr-download-link-note admonition note"> <p class="admonition-title">Note</p> <p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-ensemble-plot-gradient-boosting-oob-py"><span class="std std-ref">here</span></a> to download the full example code or to run this example in your browser via Binder</p> </div> <section class="sphx-glr-example-title" id="gradient-boosting-out-of-bag-estimates"> <h1 id="sphx-glr-auto-examples-ensemble-plot-gradient-boosting-oob-py">Gradient Boosting Out-of-Bag estimates</h1> <p>Out-of-bag (OOB) estimates can be a useful heuristic to estimate the “optimal” number of boosting iterations. OOB estimates are almost identical to cross-validation estimates but they can be computed on-the-fly without the need for repeated model fitting. OOB estimates are only available for Stochastic Gradient Boosting (i.e. <code>subsample &lt; 1.0</code>), the estimates are derived from the improvement in loss based on the examples not included in the bootstrap sample (the so-called out-of-bag examples). The OOB estimator is a pessimistic estimator of the true test loss, but remains a fairly good approximation for a small number of trees.</p> <p>The figure shows the cumulative sum of the negative OOB improvements as a function of the boosting iteration. As you can see, it tracks the test loss for the first hundred iterations but then diverges in a pessimistic way. The figure also shows the performance of 3-fold cross validation which usually gives a better estimate of the test loss but is computationally more demanding.</p> <img src="data:image/png;base64,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" srcset="../../_images/sphx_glr_plot_gradient_boosting_oob_001.png" alt="plot gradient boosting oob" class="sphx-glr-single-img"><pre data-language="none">Accuracy: 0.6820
/home/runner/work/scikit-learn/scikit-learn/sklearn/utils/deprecation.py:103: FutureWarning: Attribute `loss_` was deprecated in version 1.1 and will be removed in 1.3.
  warnings.warn(msg, category=FutureWarning)
/home/runner/work/scikit-learn/scikit-learn/sklearn/utils/deprecation.py:103: FutureWarning: Attribute `loss_` was deprecated in version 1.1 and will be removed in 1.3.
  warnings.warn(msg, category=FutureWarning)
/home/runner/work/scikit-learn/scikit-learn/sklearn/utils/deprecation.py:103: FutureWarning: Attribute `loss_` was deprecated in version 1.1 and will be removed in 1.3.
  warnings.warn(msg, category=FutureWarning)
/home/runner/work/scikit-learn/scikit-learn/sklearn/utils/deprecation.py:103: FutureWarning: Attribute `loss_` was deprecated in version 1.1 and will be removed in 1.3.
  warnings.warn(msg, category=FutureWarning)
</pre>  <pre data-language="python"># Author: Peter Prettenhofer &lt;peter.prettenhofer@gmail.com&gt;
#
# License: BSD 3 clause

import numpy as np
import matplotlib.pyplot as plt

from sklearn import ensemble
from sklearn.model_selection import KFold
from sklearn.model_selection import train_test_split

from scipy.special import expit

# Generate data (adapted from G. Ridgeway's gbm example)
n_samples = 1000
random_state = np.random.RandomState(13)
x1 = random_state.uniform(size=n_samples)
x2 = random_state.uniform(size=n_samples)
x3 = random_state.randint(0, 4, size=n_samples)

p = expit(np.sin(3 * x1) - 4 * x2 + x3)
y = random_state.binomial(1, p, size=n_samples)

X = np.c_[x1, x2, x3]

X = X.astype(np.float32)
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.5, random_state=9)

# Fit classifier with out-of-bag estimates
params = {
    "n_estimators": 1200,
    "max_depth": 3,
    "subsample": 0.5,
    "learning_rate": 0.01,
    "min_samples_leaf": 1,
    "random_state": 3,
}
clf = ensemble.GradientBoostingClassifier(**params)

clf.fit(X_train, y_train)
acc = clf.score(X_test, y_test)
print("Accuracy: {:.4f}".format(acc))

n_estimators = params["n_estimators"]
x = np.arange(n_estimators) + 1


def heldout_score(clf, X_test, y_test):
    """compute deviance scores on ``X_test`` and ``y_test``."""
    score = np.zeros((n_estimators,), dtype=np.float64)
    for i, y_pred in enumerate(clf.staged_decision_function(X_test)):
        score[i] = clf.loss_(y_test, y_pred)
    return score


def cv_estimate(n_splits=None):
    cv = KFold(n_splits=n_splits)
    cv_clf = ensemble.GradientBoostingClassifier(**params)
    val_scores = np.zeros((n_estimators,), dtype=np.float64)
    for train, test in cv.split(X_train, y_train):
        cv_clf.fit(X_train[train], y_train[train])
        val_scores += heldout_score(cv_clf, X_train[test], y_train[test])
    val_scores /= n_splits
    return val_scores


# Estimate best n_estimator using cross-validation
cv_score = cv_estimate(3)

# Compute best n_estimator for test data
test_score = heldout_score(clf, X_test, y_test)

# negative cumulative sum of oob improvements
cumsum = -np.cumsum(clf.oob_improvement_)

# min loss according to OOB
oob_best_iter = x[np.argmin(cumsum)]

# min loss according to test (normalize such that first loss is 0)
test_score -= test_score[0]
test_best_iter = x[np.argmin(test_score)]

# min loss according to cv (normalize such that first loss is 0)
cv_score -= cv_score[0]
cv_best_iter = x[np.argmin(cv_score)]

# color brew for the three curves
oob_color = list(map(lambda x: x / 256.0, (190, 174, 212)))
test_color = list(map(lambda x: x / 256.0, (127, 201, 127)))
cv_color = list(map(lambda x: x / 256.0, (253, 192, 134)))

# plot curves and vertical lines for best iterations
plt.plot(x, cumsum, label="OOB loss", color=oob_color)
plt.plot(x, test_score, label="Test loss", color=test_color)
plt.plot(x, cv_score, label="CV loss", color=cv_color)
plt.axvline(x=oob_best_iter, color=oob_color)
plt.axvline(x=test_best_iter, color=test_color)
plt.axvline(x=cv_best_iter, color=cv_color)

# add three vertical lines to xticks
xticks = plt.xticks()
xticks_pos = np.array(
    xticks[0].tolist() + [oob_best_iter, cv_best_iter, test_best_iter]
)
xticks_label = np.array(list(map(lambda t: int(t), xticks[0])) + ["OOB", "CV", "Test"])
ind = np.argsort(xticks_pos)
xticks_pos = xticks_pos[ind]
xticks_label = xticks_label[ind]
plt.xticks(xticks_pos, xticks_label)

plt.legend(loc="upper right")
plt.ylabel("normalized loss")
plt.xlabel("number of iterations")

plt.show()
</pre> <p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes 3.049 seconds)</p> <div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-ensemble-plot-gradient-boosting-oob-py"> <div class="binder-badge docutils container"> <a class="reference external image-reference" href="https://mybinder.org/v2/gh/scikit-learn/scikit-learn/1.1.X?urlpath=lab/tree/notebooks/auto_examples/ensemble/plot_gradient_boosting_oob.ipynb"><img alt="Launch binder" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTA5IiBoZWlnaHQ9IjIwIj48bGluZWFyR3JhZGllbnQgaWQ9ImIiIHgyPSIwIiB5Mj0iMTAwJSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjYmJiIiBzdG9wLW9wYWNpdHk9Ii4xIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLW9wYWNpdHk9Ii4xIi8+PC9saW5lYXJHcmFkaWVudD48Y2xpcFBhdGggaWQ9ImEiPjxyZWN0IHdpZHRoPSIxMDkiIGhlaWdodD0iMjAiIHJ4PSIzIiBmaWxsPSIjZmZmIi8+PC9jbGlwUGF0aD48ZyBjbGlwLXBhdGg9InVybCgjYSkiPjxwYXRoIGZpbGw9IiM1NTUiIGQ9Ik0wIDBoNjR2MjBIMHoiLz48cGF0aCBmaWxsPSIjNTc5YWNhIiBkPSJNNjQgMGg0NXYyMEg2NHoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMCAwaDEwOXYyMEgweiIvPjwvZz48ZyBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iRGVqYVZ1IFNhbnMsVmVyZGFuYSxHZW5ldmEsc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMTAiPjxpbWFnZSB4PSI1IiB5PSIzIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRmtBQUFCWkNBTUFBQUJpMVhpZEFBQUI4bEJNVkVYLy8vOVhtc3JtWllIMW9sSlhtc3Ixb2xKWG1zcm1aWUgxb2xKWG1zcjFvbEpYbXNybVpZSDFvbEwxb2xKWG1zcjFvbEpYbXNybVpZSDFvbEwxb2xKWG1zcm1aWUgxb2xKWG1zcjFvbEwxb2xKWG1zcm1aWUgxb2xMMW9sSlhtc3JtWllIMW9sTDFvbEwwbkZmMW9sSlhtc3JtWllIMW9sSlhtc3E4ZFpiMW9sSlhtc3JtWllIMW9sSlhtc3BYbXNwWG1zcjFvbEwxb2xKWG1zcm1aWUgxb2xKWG1zcjFvbEwxb2xKWG1zcm1aWUgxb2xMMW9sTGVhSVZYbXNybVpZSDFvbEwxb2xMMW9sSlhtc3JtWllIMW9sTG5hMzFYbXNyMW9sSlhtc3Ixb2xKWG1zcm1aWUgxb2xMcW9WcjFvbEpYbXNyMW9sSlhtc3JtWllIMW9sTDFvbEtrZmFQb2JYdnZpR2FiZ2FkWG1zcVRoS3VvZktIbVo0RG9ibnIxb2xKWG1zcjFvbEpYbXNwWG1zcjFvbEpYbXNyZlo0VHVoV24xb2xMMW9sSlhtc3FCaTdYMW9sSlhtc3BabXNsYm1NaGJtc2RlbXNWZmw4Wmdtc05pbThKcGs4RjBtN1I0bTdGNW5MQjZqYmg3amJpRGlyT0VpYk9HbkthTWhxK1BuYUNWZzZxV2c2cWVnS2FmZjZXaG5wS29mS0d0bm9teGVaeTNub0c2ZFppK24zdkNjcFBEY3BQR24zYkxiNC9NYjQ3VWJJclZhNHJZb0dqZGFJYmVhSVhob1dIbVpZSG9iWHZwY0hqcWRIWHJlSExyb1Zyc2ZHL3VoR251aDJid2oySHhrMTd5bDF2em1sanptMWowbmxYMW9sTDNBSlhXQUFBQWJYUlNUbE1BRUJBUUh4OGdJQ0F1TGpBd01EdzlQVUJBUUVwUVVGQlhWMWhnWUdCa2NIQndjWGw4Z0lDQWdvaUlrSkNRbEppY25KMmdvS0NtcUsrd3NMQzR1c0RBd01qUDBORFExTmJXM056ZzRPRGk1KzN2OFBEdzgvVDA5UFgyOXZiMzkvZjUrZnI3Ky96OC9QejkvdjcremN6Q3hnQUFCQzVKUkVGVWVBSE4xdWwzazBVVUJ2Q2IxQ1RWcG1wYWl0QUdTTFNwU3VLQ0xXcGJUS05KRkdsY1NNQUZGNjNpVW1SY2NORzZnTGJ1eGtYVTY2SkFVZWYvOUxTcG1YbnlMcjNUNUFPL3J6bDV6ajEzN3AxMzZCSVN5NDRmS0pYdUdOL2QxOVBVZlllTzY3Wm5xdGYyS0gzM0lkMXBzWG9GZFczMHNQWjFzTXZzMkQwNjBBSHF3czRGSGVKb2pMWnFudzUzY21mdmcrWFI4bUMwT0VqdXhyWEVrWDV5ZGVWSkxWSWxWMGUxMFBYazVrN2RZZUh1N0NqMWorNDl1S2c3dUxVNjF0R0x3MWxxMjd1Z1FZbGNsSEM0Ymd2N1ZRK1RBeWo1WmMvVWpzUHZzMXNkNWNXcnlXT2J0dldUMkVQYTRydG5XVzNKa3BqZ2dFcGJPc1ByN0Y3RXlOZXd0cEJJc2xBN3A0M0hDc253b29YVEVjM1VtUG1DTm41bHJxVEp4eTZuUm1jYXZHWlZ0LzNEYTJwRDVOSHZzT0hKQ3JkYzFHMnIzRElUcFU3eWljN3cvN1J4bmpjMGt0NUdDNGRqaXYyU3ozRmIyaUVaZzQxL2Rkc0ZEb3l1WXJJa21GZWh6MEhSMnRoUGdRcU15UVliMk90QjBXeHNaM0JlRzMrd3BSYjF2emwyVVlCb2c4RmZHaHR0RktqdEFjbG5aWXJSbzlyeUc5dUcvRlpRVTRBRWc4WkU5TGpHTXpUbXFLWFBMbmxXVm5JbFFRVHZ4SmY4aXA3VmdqWmp5VlByancxdGU1b3RNN1JtUDd4bStzSzJHdjlJOEdpKytCUmJFa1I5RUJ3OHpSVWNLeHdwNzN4a2FMaXFRYitrR2R1SlROSEc3MnpjVzlMb0pncVF4cFAzL1RqLy9jM3lCMHRxemFtbDA1LytvckhMa3NWTys5NWtYNy83cWdKdm5qbHJmcjJHZ3N5eDBlb3k5dVB6TjVTUGQ4NmFYZ2dPc0VLVzJQcno3ZHUzVklEMy90enMvc1NSczJ3N292VkhLdGpyWDJwZDdaTWxUeEFZZkJBTDlqaUR3ZkxrcTU1VG03aWZoTWxUR1B5Q0FzN1JGUmhuNDdKbmxjQjlSTTVUOTdBU3VaWEljVk51VURJbmRwRGJkc2ZycXNPcHBlWGw1WStYVktkakZDVGgrekdhVnVqMGQ5enkwNVBQSzNRekJhbXhkd3RUQ3J6eWcvMlJ2ZjJFc3RVam9yZEd3YS9reDltU0pMcjhtTEx0Q1c4SEhHSmMyUjVoUzIxOUlpRjZQblR1c09xY01sNTdnbTBaOGthbktNQVFnMHFTeXVaZm43ekl0c2JHeU85UWxueFkwZUN1RDFYTDJ5cy9Nc3JRaGx0RTdVZzB1Rk96dWZKRkUyUHhCby9ZQXg4WFBQZER3V04wTXJEUllJWkYwbVNNS0NOSGdhSVZGb0JiTm9MSjd0RVFES3hHRjBrY0xRaW1vakNab3B2ME9rTk95V0NDZzlYTVZBaTdBUkp6UWRNMlFVaDBnbUJvempjM1NrZzZkU0JScURHWVNVT3U2NlpnK0kyZk5acy9NMy9mL0dybC9YbnlGMUd3M1ZLQ2V6MFBONUlVZkZMcXZnVU40QzBxTnFZczVZaFBMK2FWWllERTRJcFVrNTdvU0ZuSm00RnlDcXFPRTBqaFkyU015TEZvbzU2enlvNmJlY09TNVVWRGRqN1ZpaDB6cCt0Y01od1JwQmVMeXF0SWpsSktBSVpTYkk4U0dTRjNrMHBBM21SNXRIdXdQRm9hN043cmVvcTJicUNzQWsxSHFDdTV1dkkxbjZKdVJYSStTMU1jbzU0WW1ZVHdjbjZBZWljK2tzc1hpOFhwWEM0VjN0Ny9BRHVUTkthUUpkU2NBQUFBQUVsRlRrU3VRbUNDIi8+IDx0ZXh0IHg9IjQxNSIgeT0iMTUwIiBmaWxsPSIjMDEwMTAxIiBmaWxsLW9wYWNpdHk9Ii4zIiB0cmFuc2Zvcm09InNjYWxlKC4xKSIgdGV4dExlbmd0aD0iMzcwIj5sYXVuY2g8L3RleHQ+PHRleHQgeD0iNDE1IiB5PSIxNDAiIHRyYW5zZm9ybT0ic2NhbGUoLjEpIiB0ZXh0TGVuZ3RoPSIzNzAiPmxhdW5jaDwvdGV4dD48dGV4dCB4PSI4NTUiIHk9IjE1MCIgZmlsbD0iIzAxMDEwMSIgZmlsbC1vcGFjaXR5PSIuMyIgdHJhbnNmb3JtPSJzY2FsZSguMSkiIHRleHRMZW5ndGg9IjM1MCI+YmluZGVyPC90ZXh0Pjx0ZXh0IHg9Ijg1NSIgeT0iMTQwIiB0cmFuc2Zvcm09InNjYWxlKC4xKSIgdGV4dExlbmd0aD0iMzUwIj5iaW5kZXI8L3RleHQ+PC9nPiA8L3N2Zz4=" width="150px"></a> </div> <div class="sphx-glr-download sphx-glr-download-python docutils container"> <p><a class="reference download internal" download="" href="https://scikit-learn.org/1.1/_downloads/a0f093cdc82e6c383a734fc9beaf8e24/plot_gradient_boosting_oob.py"><code>Download Python source code: plot_gradient_boosting_oob.py</code></a></p> </div> <div class="sphx-glr-download sphx-glr-download-jupyter docutils container"> <p><a class="reference download internal" download="" href="https://scikit-learn.org/1.1/_downloads/d45483409febd18772e1fe41233d258e/plot_gradient_boosting_oob.ipynb"><code>Download Jupyter notebook: plot_gradient_boosting_oob.ipynb</code></a></p> </div> </div>  </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2007&ndash;2022 The scikit-learn developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://scikit-learn.org/1.1/auto_examples/ensemble/plot_gradient_boosting_oob.html" class="_attribution-link">https://scikit-learn.org/1.1/auto_examples/ensemble/plot_gradient_boosting_oob.html</a>
  </p>
</div>
