<div class="content manual">
<nav id="part-title"><span>☰</span>The OCaml language</nav><ul id="part-menu">
<li class="active"><a href="language.html">The OCaml language</a></li>
<li><a href="extn.html">Language extensions</a></li>
</ul> <h1 class="chapter" id="sec112">Chapter 11 The OCaml language</h1>
<section id="section"> <h2 class="section" id="s:compilation-units">
<span class="number">12</span> Compilation units</h2> <div class="syntax"><table class="display dcenter"><tbody>
<tr class="c009"><td class="dcell"><table class="c001 cellpading0"><tbody>
<tr>
<td class="c008"><a class="syntax" id="unit-interface"><span class="nonterminal">unit-interface</span></a></td>
<td class="c005">::=</td>
<td class="c007"> { <a class="syntax" href="modtypes.html#specification"><span class="nonterminal">specification</span></a> [<span class="syntax-token">;;</span>] } </td>
</tr> <tr><td class="c008"> </td></tr> <tr>
<td class="c008"> <a class="syntax" id="unit-implementation"><span class="nonterminal">unit-implementation</span></a>
</td>
<td class="c005">::=</td>
<td class="c007"> [ <a class="syntax" href="modules.html#module-items"><span class="nonterminal">module-items</span></a> ] </td>
</tr> </tbody></table></td></tr> </tbody></table></div>
<p>Compilation units bridge the module system and the separate compilation system. A compilation unit is composed of two parts: an interface and an implementation. The interface contains a sequence of specifications, just as the inside of a <span class="syntax-token">sig</span> … <span class="syntax-token">end</span> signature expression. The implementation contains a sequence of definitions and expressions, just as the inside of a <span class="syntax-token">struct</span> … <span class="syntax-token">end</span> module expression. A compilation unit also has a name <span class="nonterminal">unit-name</span>, derived from the names of the files containing the interface and the implementation (see chapter ‍<a href="comp.html#c%3Acamlc">13</a> for more details). A compilation unit behaves roughly as the module definition </p>
<div class="center"> <span class="syntax-token">module</span> <span class="nonterminal">unit-name</span> <span class="syntax-token">:</span> <span class="syntax-token">sig</span> <a class="syntax" href="#unit-interface"><span class="nonterminal">unit-interface</span></a> <span class="syntax-token">end</span> <span class="syntax-token">=</span> <span class="syntax-token">struct</span> <a class="syntax" href="#unit-implementation"><span class="nonterminal">unit-implementation</span></a> <span class="syntax-token">end</span> </div>
<p>A compilation unit can refer to other compilation units by their names, as if they were regular modules. For instance, if <span class="machine"><span class="font-tt">U</span></span> is a compilation unit that defines a type <span class="machine"><span class="font-tt">t</span></span>, other compilation units can refer to that type under the name <span class="machine"><span class="font-tt">U.t</span></span>; they can also refer to <span class="machine"><span class="font-tt">U</span></span> as a whole structure. Except for names of other compilation units, a unit interface or unit implementation must not have any other free variables. In other terms, the type-checking and compilation of an interface or implementation proceeds in the initial environment </p>
<div class="center"> <span class="nonterminal">name</span><sub>1</sub> <span class="syntax-token">:</span> <span class="syntax-token">sig</span> <a class="syntax" href="modtypes.html#specification"><span class="nonterminal">specification</span></a><sub>1</sub> <span class="syntax-token">end</span> … <span class="nonterminal">name</span><sub><span class="font-it">n</span></sub> <span class="syntax-token">:</span> <span class="syntax-token">sig</span> <a class="syntax" href="modtypes.html#specification"><span class="nonterminal">specification</span></a><sub><span class="font-it">n</span></sub> <span class="syntax-token">end</span> </div>
<p> where <span class="nonterminal">name</span><sub>1</sub> … <span class="nonterminal">name</span><sub><span class="font-it">n</span></sub> are the names of the other compilation units available in the search path (see chapter ‍<a href="comp.html#c%3Acamlc">13</a> for more details) and <a class="syntax" href="modtypes.html#specification"><span class="nonterminal">specification</span></a><sub>1</sub> … <a class="syntax" href="modtypes.html#specification"><span class="nonterminal">specification</span></a><sub><span class="font-it">n</span></sub> are their respective interfaces. </p> <div class="bottom-navigation">
<a class="previous" href="modules.html">« Module expressions (module implementations)</a><a class="next up" href="language.html">The OCaml language</a>
</div> </section><div class="copyright">Copyright © 2024 Institut National de Recherche en Informatique et en Automatique</div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1995-2024 INRIA.<br>
    <a href="https://ocaml.org/manual/5.2/compunit.html" class="_attribution-link">https://ocaml.org/manual/5.2/compunit.html</a>
  </p>
</div>
