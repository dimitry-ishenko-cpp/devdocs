<h1>Module Atomic</h1> <pre id="MODULEAtomic" data-type="module Atomic [Module Atomic]" data-language="ocaml">module Atomic: sig .. end</pre>
<div class="info module top"> <div class="info-desc"> <p>Atomic references.</p> <p>See 'Memory model: The hard bits' chapter in the manual.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.12</li> </ul> </div>  <pre id="TYPEt" data-type="type 'a t [Module Atomic]" data-language="ocaml">type 'a t </pre> <div class="info "> <div class="info-desc"> <p>An atomic (mutable) reference to a value of type <code class="code"><span class="keywordsign">'</span>a</code>.</p> </div> </div> <pre id="VALmake" data-type="val make [Module Atomic]" data-language="ocaml">val make : 'a -&gt; 'a t</pre>
<div class="info "> <div class="info-desc"> <p>Create an atomic reference.</p> </div> </div> <pre id="VALget" data-type="val get [Module Atomic]" data-language="ocaml">val get : 'a t -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p>Get the current value of the atomic reference.</p> </div> </div> <pre id="VALset" data-type="val set [Module Atomic]" data-language="ocaml">val set : 'a t -&gt; 'a -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Set a new value for the atomic reference.</p> </div> </div> <pre id="VALexchange" data-type="val exchange [Module Atomic]" data-language="ocaml">val exchange : 'a t -&gt; 'a -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p>Set a new value for the atomic reference, and return the current value.</p> </div> </div> <pre id="VALcompare_and_set" data-type="val compare_and_set [Module Atomic]" data-language="ocaml">val compare_and_set : 'a t -&gt; 'a -&gt; 'a -&gt; bool</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">compare_and_set r seen v</code> sets the new value of <code class="code">r</code> to <code class="code">v</code> only if its current value is physically equal to <code class="code">seen</code> -- the comparison and the set occur atomically. Returns <code class="code"><span class="keyword">true</span></code> if the comparison succeeded (so the set happened) and <code class="code"><span class="keyword">false</span></code> otherwise.</p> </div> </div> <pre id="VALfetch_and_add" data-type="val fetch_and_add [Module Atomic]" data-language="ocaml">val fetch_and_add : int t -&gt; int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">fetch_and_add r n</code> atomically increments the value of <code class="code">r</code> by <code class="code">n</code>, and returns the current value (before the increment).</p> </div> </div> <pre id="VALincr" data-type="val incr [Module Atomic]" data-language="ocaml">val incr : int t -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">incr r</code> atomically increments the value of <code class="code">r</code> by <code class="code">1</code>.</p> </div> </div> <pre id="VALdecr" data-type="val decr [Module Atomic]" data-language="ocaml">val decr : int t -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">decr r</code> atomically decrements the value of <code class="code">r</code> by <code class="code">1</code>.</p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1995-2022 INRIA.<br>
    <a href="https://v2.ocaml.org/releases/5.0/htmlman/libref/Atomic.html" class="_attribution-link">https://v2.ocaml.org/releases/5.0/htmlman/libref/Atomic.html</a>
  </p>
</div>
