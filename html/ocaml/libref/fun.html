<h1>Module Fun</h1> <pre id="MODULEFun" data-type="module Fun [Module Fun]" data-language="ocaml">module Fun: sig .. end</pre>
<div class="info module top"> <div class="info-desc"> <p>Function manipulation.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.08</li> </ul> </div>  <h2 id="combinators">Combinators</h2> <pre id="VALid" data-type="val id [Module Fun]" data-language="ocaml">val id : 'a -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">id</code> is the identity function. For any argument <code class="code">x</code>, <code class="code">id x</code> is <code class="code">x</code>.</p> </div> </div> <pre id="VALconst" data-type="val const [Module Fun]" data-language="ocaml">val const : 'a -&gt; 'b -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">const c</code> is a function that always returns the value <code class="code">c</code>. For any argument <code class="code">x</code>, <code class="code">(const c) x</code> is <code class="code">c</code>.</p> </div> </div> <pre id="VALflip" data-type="val flip [Module Fun]" data-language="ocaml">val flip : ('a -&gt; 'b -&gt; 'c) -&gt; 'b -&gt; 'a -&gt; 'c</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">flip f</code> reverses the argument order of the binary function <code class="code">f</code>. For any arguments <code class="code">x</code> and <code class="code">y</code>, <code class="code">(flip f) x y</code> is <code class="code">f y x</code>.</p> </div> </div> <pre id="VALnegate" data-type="val negate [Module Fun]" data-language="ocaml">val negate : ('a -&gt; bool) -&gt; 'a -&gt; bool</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">negate p</code> is the negation of the predicate function <code class="code">p</code>. For any argument <code class="code">x</code>, <code class="code">(negate p) x</code> is <code class="code">not (p x)</code>.</p> </div> </div> <h2 id="exception">Exception handling</h2> <pre id="VALprotect" data-type="val protect [Module Fun]" data-language="ocaml">val protect : finally:(unit -&gt; unit) -&gt; (unit -&gt; 'a) -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">protect ~finally work</code> invokes <code class="code">work ()</code> and then <code class="code">finally ()</code> before <code class="code">work ()</code> returns with its value or an exception. In the latter case the exception is re-raised after <code class="code">finally ()</code>. If <code class="code">finally ()</code> raises an exception, then the exception <a href="fun.html#EXCEPTIONFinally_raised"><code class="code"><span class="constructor">Fun</span>.<span class="constructor">Finally_raised</span></code></a> is raised instead.</p> <p><code class="code">protect</code> can be used to enforce local invariants whether <code class="code">work ()</code> returns normally or raises an exception. However, it does not protect against unexpected exceptions raised inside <code class="code">finally ()</code> such as <a href="stdlib.html#EXCEPTIONOut_of_memory"><code class="code"><span class="constructor">Out_of_memory</span></code></a>, <a href="stdlib.html#EXCEPTIONStack_overflow"><code class="code"><span class="constructor">Stack_overflow</span></code></a>, or asynchronous exceptions raised by signal handlers (e.g. <a href="sys.html#EXCEPTIONBreak"><code class="code"><span class="constructor">Sys</span>.<span class="constructor">Break</span></code></a>).</p> <p>Note: It is a <em>programming error</em> if other kinds of exceptions are raised by <code class="code">finally</code>, as any exception raised in <code class="code">work ()</code> will be lost in the event of a <a href="fun.html#EXCEPTIONFinally_raised"><code class="code"><span class="constructor">Fun</span>.<span class="constructor">Finally_raised</span></code></a> exception. Therefore, one should make sure to handle those inside the finally.</p> </div> </div> <pre id="EXCEPTIONFinally_raised" data-type="exception Finally_raised [Module Fun]" data-language="ocaml">exception Finally_raised of exn</pre> <div class="info "> <div class="info-desc"> <p><code class="code"><span class="constructor">Finally_raised</span> exn</code> is raised by <code class="code">protect ~finally work</code> when <code class="code">finally</code> raises an exception <code class="code">exn</code>. This exception denotes either an unexpected exception or a programming error. As a general rule, one should not catch a <code class="code"><span class="constructor">Finally_raised</span></code> exception except as part of a catch-all handler.</p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1995-2022 INRIA.<br>
    <a href="https://v2.ocaml.org/releases/5.0/htmlman/libref/Fun.html" class="_attribution-link">https://v2.ocaml.org/releases/5.0/htmlman/libref/Fun.html</a>
  </p>
</div>
