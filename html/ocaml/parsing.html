<h1 class="chapter" id="sec634">Chapter 29 The compiler front-end</h1> 

<p>This chapter describes the OCaml front-end, which declares the abstract syntax tree used by the compiler, provides a way to parse, print and pretty-print OCaml code, and ultimately allows one to write abstract syntax tree preprocessors invoked via the <span class="font-tt">-ppx</span> flag (see chapters <a href="comp.html#c%3Acamlc">13</a> and <a href="native.html#c%3Anativecomp">16</a>).</p>
<p>It is important to note that the exported front-end interface follows the evolution of the OCaml language and implementation, and thus does not provide <span class="font-bold">any</span> backwards compatibility guarantees.</p>
<p>The front-end is a part of <span class="machine"><span class="font-tt">compiler-libs</span></span> library. Programs that use the <span class="machine"><span class="font-tt">compiler-libs</span></span> library should be built as follows: </p>
<pre data-language="ocaml">
        ocamlfind ocamlc other options -package compiler-libs.common other files
        ocamlfind ocamlopt other options -package compiler-libs.common other files
</pre>
<p> Use of the <span class="font-tt">ocamlfind</span> utility is recommended. However, if this is not possible, an alternative method may be used: </p>
<pre data-language="ocaml">
        ocamlc other options -I +compiler-libs ocamlcommon.cma other files
        ocamlopt other options -I +compiler-libs ocamlcommon.cmxa other files
</pre>
<p> For interactive use of the <span class="machine"><span class="font-tt">compiler-libs</span></span> library, start <span class="machine"><span class="font-tt">ocaml</span></span> and type<br> <span class="machine"><span class="font-tt">#load "compiler-libs/ocamlcommon.cma";;</span></span>.</p>
<ul class="ftoc2">
<li class="li-links">
<a href="https://v2.ocaml.org/releases/5.0/htmlman/compilerlibref/Ast_helper.html">Module <span class="font-tt">Ast_helper</span></a>: helper functions for AST construction </li>
<li class="li-links">
<a href="https://v2.ocaml.org/releases/5.0/htmlman/compilerlibref/Ast_mapper.html">Module <span class="font-tt">Ast_mapper</span></a>: -ppx rewriter interface </li>
<li class="li-links">
<a href="https://v2.ocaml.org/releases/5.0/htmlman/compilerlibref/Asttypes.html">Module <span class="font-tt">Asttypes</span></a>: auxiliary types used by Parsetree </li>
<li class="li-links">
<a href="https://v2.ocaml.org/releases/5.0/htmlman/compilerlibref/Location.html">Module <span class="font-tt">Location</span></a>: source code locations </li>
<li class="li-links">
<a href="https://v2.ocaml.org/releases/5.0/htmlman/compilerlibref/Longident.html">Module <span class="font-tt">Longident</span></a>: long identifiers </li>
<li class="li-links">
<a href="https://v2.ocaml.org/releases/5.0/htmlman/compilerlibref/Parse.html">Module <span class="font-tt">Parse</span></a>: OCaml syntax parsing </li>
<li class="li-links">
<a href="https://v2.ocaml.org/releases/5.0/htmlman/compilerlibref/Parsetree.html">Module <span class="font-tt">Parsetree</span></a>: OCaml syntax tree </li>
<li class="li-links">
<a href="https://v2.ocaml.org/releases/5.0/htmlman/compilerlibref/Pprintast.html">Module <span class="font-tt">Pprintast</span></a>: OCaml syntax printing </li>
</ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1995-2022 INRIA.<br>
    <a href="https://v2.ocaml.org/releases/5.0/htmlman/parsing.html" class="_attribution-link">https://v2.ocaml.org/releases/5.0/htmlman/parsing.html</a>
  </p>
</div>
