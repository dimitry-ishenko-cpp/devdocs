<div class="api"> <h1>Module type Weak.S</h1> <pre id="MODULETYPES" data-type="module type S [Module type Weak.S]" data-language="ocaml">module type S = sig .. end</pre>
<div class="info modtype top"> <div class="info-desc"> <p>The output signature of the functor <a href="weak.make.html"><code class="code"><span class="constructor">Weak</span>.<span class="constructor">Make</span></code></a>.</p> </div> </div>  <pre id="TYPEdata" data-type="type data [Module type Weak.S]" data-language="ocaml">type data </pre> <div class="info "> <div class="info-desc"> <p>The type of the elements stored in the table.</p> </div> </div> <pre id="TYPEt" data-type="type t [Module type Weak.S]" data-language="ocaml">type t </pre> <div class="info "> <div class="info-desc"> <p>The type of tables that contain elements of type <code class="code">data</code>. Note that weak hash sets cannot be marshaled using <a href="stdlib.html#VALoutput_value"><code class="code">output_value</code></a> or the functions of the <a href="marshal.html"><code class="code"><span class="constructor">Marshal</span></code></a> module.</p> </div> </div> <pre id="VALcreate" data-type="val create [Module type Weak.S]" data-language="ocaml">val create : int -&gt; t</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">create n</code> creates a new empty weak hash set, of initial size <code class="code">n</code>. The table will grow as needed.</p> </div> </div> <pre id="VALclear" data-type="val clear [Module type Weak.S]" data-language="ocaml">val clear : t -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Remove all elements from the table.</p> </div> </div> <pre id="VALmerge" data-type="val merge [Module type Weak.S]" data-language="ocaml">val merge : t -&gt; data -&gt; data</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">merge t x</code> returns an instance of <code class="code">x</code> found in <code class="code">t</code> if any, or else adds <code class="code">x</code> to <code class="code">t</code> and return <code class="code">x</code>.</p> </div> </div> <pre id="VALadd" data-type="val add [Module type Weak.S]" data-language="ocaml">val add : t -&gt; data -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">add t x</code> adds <code class="code">x</code> to <code class="code">t</code>. If there is already an instance of <code class="code">x</code> in <code class="code">t</code>, it is unspecified which one will be returned by subsequent calls to <code class="code">find</code> and <code class="code">merge</code>.</p> </div> </div> <pre id="VALremove" data-type="val remove [Module type Weak.S]" data-language="ocaml">val remove : t -&gt; data -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">remove t x</code> removes from <code class="code">t</code> one instance of <code class="code">x</code>. Does nothing if there is no instance of <code class="code">x</code> in <code class="code">t</code>.</p> </div> </div> <pre id="VALfind" data-type="val find [Module type Weak.S]" data-language="ocaml">val find : t -&gt; data -&gt; data</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">find t x</code> returns an instance of <code class="code">x</code> found in <code class="code">t</code>.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if there is no such element.</li> </ul> </div> <pre id="VALfind_opt" data-type="val find_opt [Module type Weak.S]" data-language="ocaml">val find_opt : t -&gt; data -&gt; data option</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">find_opt t x</code> returns an instance of <code class="code">x</code> found in <code class="code">t</code> or <code class="code"><span class="constructor">None</span></code> if there is no such element.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.05</li> </ul> </div> <pre id="VALfind_all" data-type="val find_all [Module type Weak.S]" data-language="ocaml">val find_all : t -&gt; data -&gt; data list</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">find_all t x</code> returns a list of all the instances of <code class="code">x</code> found in <code class="code">t</code>.</p> </div> </div> <pre id="VALmem" data-type="val mem [Module type Weak.S]" data-language="ocaml">val mem : t -&gt; data -&gt; bool</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">mem t x</code> returns <code class="code"><span class="keyword">true</span></code> if there is at least one instance of <code class="code">x</code> in <code class="code">t</code>, false otherwise.</p> </div> </div> <pre id="VALiter" data-type="val iter [Module type Weak.S]" data-language="ocaml">val iter : (data -&gt; unit) -&gt; t -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">iter f t</code> calls <code class="code">f</code> on each element of <code class="code">t</code>, in some unspecified order. It is not specified what happens if <code class="code">f</code> tries to change <code class="code">t</code> itself.</p> </div> </div> <pre id="VALfold" data-type="val fold [Module type Weak.S]" data-language="ocaml">val fold : (data -&gt; 'acc -&gt; 'acc) -&gt; t -&gt; 'acc -&gt; 'acc</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">fold f t init</code> computes <code class="code">(f d1 (... (f dN init)))</code> where <code class="code">d1 ... dN</code> are the elements of <code class="code">t</code> in some unspecified order. It is not specified what happens if <code class="code">f</code> tries to change <code class="code">t</code> itself.</p> </div> </div> <pre id="VALcount" data-type="val count [Module type Weak.S]" data-language="ocaml">val count : t -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Count the number of elements in the table. <code class="code">count t</code> gives the same result as <code class="code">fold (<span class="keyword">fun</span> _ n <span class="keywordsign">-&gt;</span> n+1) t 0</code> but does not delay the deallocation of the dead elements.</p> </div> </div> <pre id="VALstats" data-type="val stats [Module type Weak.S]" data-language="ocaml">val stats : t -&gt; int * int * int * int * int * int</pre>
<div class="info "> <div class="info-desc"> <p>Return statistics on the table. The numbers are, in order: table length, number of entries, sum of bucket lengths, smallest bucket length, median bucket length, biggest bucket length.</p> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1995-2024 INRIA.<br>
    <a href="https://ocaml.org/manual/5.2/api/Weak.S.html" class="_attribution-link">https://ocaml.org/manual/5.2/api/Weak.S.html</a>
  </p>
</div>
