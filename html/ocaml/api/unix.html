<div class="api"> <h1>Module Unix</h1> <pre id="MODULEUnix" data-type="module Unix [Module Unix]" data-language="ocaml">module Unix: sig .. end</pre>
<div class="info module top"> <div class="info-desc"> <p>Interface to the Unix system.</p> <p>To use the labeled version of this module, add <code class="code"><span class="keyword">module</span> <span class="constructor">Unix</span></code><code class="code"> = </code><code class="code"><span class="constructor">UnixLabels</span></code> in your implementation.</p> <p>Note: all the functions of this module (except <a href="unix.html#VALerror_message"><code class="code"><span class="constructor">Unix</span>.error_message</code></a> and <a href="unix.html#VALhandle_unix_error"><code class="code"><span class="constructor">Unix</span>.handle_unix_error</code></a>) are liable to raise the <a href="unix.html#EXCEPTIONUnix_error"><code class="code"><span class="constructor">Unix</span>.<span class="constructor">Unix_error</span></code></a> exception whenever the underlying system call signals an error.</p> </div> </div>  <h2 id="1_Errorreport">Error report</h2> <pre id="TYPEerror" data-type="type error [Module Unix]" data-language="ocaml">type error = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.E2BIG"><span class="constructor">E2BIG</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Argument list too long</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EACCES"><span class="constructor">EACCES</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Permission denied</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EAGAIN"><span class="constructor">EAGAIN</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Resource temporarily unavailable; try again</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EBADF"><span class="constructor">EBADF</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Bad file descriptor</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EBUSY"><span class="constructor">EBUSY</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Resource unavailable</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ECHILD"><span class="constructor">ECHILD</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>No child process</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EDEADLK"><span class="constructor">EDEADLK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Resource deadlock would occur</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EDOM"><span class="constructor">EDOM</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Domain error for math functions, etc.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EEXIST"><span class="constructor">EEXIST</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>File exists</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EFAULT"><span class="constructor">EFAULT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Bad address</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EFBIG"><span class="constructor">EFBIG</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>File too large</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EINTR"><span class="constructor">EINTR</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Function interrupted by signal</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EINVAL"><span class="constructor">EINVAL</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Invalid argument</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EIO"><span class="constructor">EIO</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Hardware I/O error</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EISDIR"><span class="constructor">EISDIR</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Is a directory</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EMFILE"><span class="constructor">EMFILE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Too many open files by the process</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EMLINK"><span class="constructor">EMLINK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Too many links</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENAMETOOLONG"><span class="constructor">ENAMETOOLONG</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Filename too long</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENFILE"><span class="constructor">ENFILE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Too many open files in the system</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENODEV"><span class="constructor">ENODEV</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>No such device</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOENT"><span class="constructor">ENOENT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>No such file or directory</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOEXEC"><span class="constructor">ENOEXEC</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Not an executable file</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOLCK"><span class="constructor">ENOLCK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>No locks available</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOMEM"><span class="constructor">ENOMEM</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Not enough memory</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOSPC"><span class="constructor">ENOSPC</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>No space left on device</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOSYS"><span class="constructor">ENOSYS</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Function not supported</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOTDIR"><span class="constructor">ENOTDIR</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Not a directory</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOTEMPTY"><span class="constructor">ENOTEMPTY</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Directory not empty</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOTTY"><span class="constructor">ENOTTY</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Inappropriate I/O control operation</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENXIO"><span class="constructor">ENXIO</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>No such device or address</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EPERM"><span class="constructor">EPERM</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Operation not permitted</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EPIPE"><span class="constructor">EPIPE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Broken pipe</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ERANGE"><span class="constructor">ERANGE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Result too large</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EROFS"><span class="constructor">EROFS</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Read-only file system</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ESPIPE"><span class="constructor">ESPIPE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Invalid seek e.g. on a pipe</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ESRCH"><span class="constructor">ESRCH</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>No such process</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EXDEV"><span class="constructor">EXDEV</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Invalid link</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EWOULDBLOCK"><span class="constructor">EWOULDBLOCK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Operation would block</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EINPROGRESS"><span class="constructor">EINPROGRESS</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Operation now in progress</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EALREADY"><span class="constructor">EALREADY</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Operation already in progress</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOTSOCK"><span class="constructor">ENOTSOCK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Socket operation on non-socket</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EDESTADDRREQ"><span class="constructor">EDESTADDRREQ</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Destination address required</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EMSGSIZE"><span class="constructor">EMSGSIZE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Message too long</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EPROTOTYPE"><span class="constructor">EPROTOTYPE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Protocol wrong type for socket</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOPROTOOPT"><span class="constructor">ENOPROTOOPT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Protocol not available</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EPROTONOSUPPORT"><span class="constructor">EPROTONOSUPPORT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Protocol not supported</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ESOCKTNOSUPPORT"><span class="constructor">ESOCKTNOSUPPORT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Socket type not supported</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EOPNOTSUPP"><span class="constructor">EOPNOTSUPP</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Operation not supported on socket</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EPFNOSUPPORT"><span class="constructor">EPFNOSUPPORT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Protocol family not supported</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EAFNOSUPPORT"><span class="constructor">EAFNOSUPPORT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Address family not supported by protocol family</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EADDRINUSE"><span class="constructor">EADDRINUSE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Address already in use</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EADDRNOTAVAIL"><span class="constructor">EADDRNOTAVAIL</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Can't assign requested address</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENETDOWN"><span class="constructor">ENETDOWN</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Network is down</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENETUNREACH"><span class="constructor">ENETUNREACH</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Network is unreachable</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENETRESET"><span class="constructor">ENETRESET</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Network dropped connection on reset</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ECONNABORTED"><span class="constructor">ECONNABORTED</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Software caused connection abort</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ECONNRESET"><span class="constructor">ECONNRESET</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Connection reset by peer</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOBUFS"><span class="constructor">ENOBUFS</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>No buffer space available</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EISCONN"><span class="constructor">EISCONN</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Socket is already connected</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ENOTCONN"><span class="constructor">ENOTCONN</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Socket is not connected</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ESHUTDOWN"><span class="constructor">ESHUTDOWN</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Can't send after socket shutdown</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ETOOMANYREFS"><span class="constructor">ETOOMANYREFS</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Too many references: can't splice</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ETIMEDOUT"><span class="constructor">ETIMEDOUT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Connection timed out</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ECONNREFUSED"><span class="constructor">ECONNREFUSED</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Connection refused</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EHOSTDOWN"><span class="constructor">EHOSTDOWN</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Host is down</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EHOSTUNREACH"><span class="constructor">EHOSTUNREACH</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>No route to host</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.ELOOP"><span class="constructor">ELOOP</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Too many levels of symbolic links</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EOVERFLOW"><span class="constructor">EOVERFLOW</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>File size or position not representable</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTerror.EUNKNOWNERR"><span class="constructor">EUNKNOWNERR</span></span> <span class="keyword">of</span> <code class="type">int</code></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Unknown error</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The type of error codes. Errors defined in the POSIX standard and additional errors from UNIX98 and BSD. All other errors are mapped to EUNKNOWNERR.</p> </div> </div> <pre id="EXCEPTIONUnix_error" data-type="exception Unix_error [Module Unix]" data-language="ocaml">exception Unix_error of error * string * string</pre> <div class="info "> <div class="info-desc"> <p>Raised by the system calls below when an error is encountered. The first component is the error code; the second component is the function name; the third component is the string parameter to the function, if it has one, or the empty string otherwise.</p> <p><a href="unixlabels.html#EXCEPTIONUnix_error"><code class="code"><span class="constructor">UnixLabels</span>.<span class="constructor">Unix_error</span></code></a> and <a href="unix.html#EXCEPTIONUnix_error"><code class="code"><span class="constructor">Unix</span>.<span class="constructor">Unix_error</span></code></a> are the same, and catching one will catch the other.</p> </div> </div> <pre id="VALerror_message" data-type="val error_message [Module Unix]" data-language="ocaml">val error_message : error -&gt; string</pre>
<div class="info "> <div class="info-desc"> <p>Return a string describing the given error code.</p> </div> </div> <pre id="VALhandle_unix_error" data-type="val handle_unix_error [Module Unix]" data-language="ocaml">val handle_unix_error : ('a -&gt; 'b) -&gt; 'a -&gt; 'b</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">handle_unix_error f x</code> applies <code class="code">f</code> to <code class="code">x</code> and returns the result. If the exception <a href="unix.html#EXCEPTIONUnix_error"><code class="code"><span class="constructor">Unix</span>.<span class="constructor">Unix_error</span></code></a> is raised, it prints a message describing the error and exits with code 2.</p> </div> </div> <h2 id="1_Accesstotheprocessenvironment">Access to the process environment</h2> <pre id="VALenvironment" data-type="val environment [Module Unix]" data-language="ocaml">val environment : unit -&gt; string array</pre>
<div class="info "> <div class="info-desc"> <p>Return the process environment, as an array of strings with the format ``variable=value''. The returned array is empty if the process has special privileges.</p> </div> </div> <pre id="VALunsafe_environment" data-type="val unsafe_environment [Module Unix]" data-language="ocaml">val unsafe_environment : unit -&gt; string array</pre>
<div class="info "> <div class="info-desc"> <p>Return the process environment, as an array of strings with the format ``variable=value''. Unlike <a href="unix.html#VALenvironment"><code class="code"><span class="constructor">Unix</span>.environment</code></a>, this function returns a populated array even if the process has special privileges. See the documentation for <a href="unix.html#VALunsafe_getenv"><code class="code"><span class="constructor">Unix</span>.unsafe_getenv</code></a> for more details.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.06 (4.12 in UnixLabels)</li> </ul> </div> <pre id="VALgetenv" data-type="val getenv [Module Unix]" data-language="ocaml">val getenv : string -&gt; string</pre>
<div class="info "> <div class="info-desc"> <p>Return the value associated to a variable in the process environment, unless the process has special privileges.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if the variable is unbound or the process has special privileges. This function is identical to <a href="sys.html#VALgetenv"><code class="code"><span class="constructor">Sys</span>.getenv</code></a>.</li> </ul> </div> <pre id="VALunsafe_getenv" data-type="val unsafe_getenv [Module Unix]" data-language="ocaml">val unsafe_getenv : string -&gt; string</pre>
<div class="info "> <div class="info-desc"> <p>Return the value associated to a variable in the process environment.</p> <p>Unlike <a href="unix.html#VALgetenv"><code class="code"><span class="constructor">Unix</span>.getenv</code></a>, this function returns the value even if the process has special privileges. It is considered unsafe because the programmer of a setuid or setgid program must be careful to avoid using maliciously crafted environment variables in the search path for executables, the locations for temporary files or logs, and the like.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.06</li> <li>
<b>Raises</b> <code>Not_found</code> if the variable is unbound.</li> </ul> </div> <pre id="VALputenv" data-type="val putenv [Module Unix]" data-language="ocaml">val putenv : string -&gt; string -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">putenv name value</code> sets the value associated to a variable in the process environment. <code class="code">name</code> is the name of the environment variable, and <code class="code">value</code> its new associated value.</p> </div> </div> <h2 id="1_Processhandling">Process handling</h2> <pre id="TYPEprocess_status" data-type="type process_status [Module Unix]" data-language="ocaml">type process_status = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTprocess_status.WEXITED"><span class="constructor">WEXITED</span></span> <span class="keyword">of</span> <code class="type">int</code></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>The process terminated normally by <code class="code">exit</code>; the argument is the return code.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTprocess_status.WSIGNALED"><span class="constructor">WSIGNALED</span></span> <span class="keyword">of</span> <code class="type">int</code></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>The process was killed by a signal; the argument is the signal number.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTprocess_status.WSTOPPED"><span class="constructor">WSTOPPED</span></span> <span class="keyword">of</span> <code class="type">int</code></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>The process was stopped by a signal; the argument is the signal number.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The termination status of a process. See module <a href="sys.html"><code class="code"><span class="constructor">Sys</span></code></a> for the definitions of the standard signal numbers. Note that they are not the numbers used by the OS.</p> <p>On Windows: only <code class="code"><span class="constructor">WEXITED</span></code> is used (as there are no inter-process signals) but with specific return codes to indicate special termination causes. Look for <code class="code"><span class="constructor">NTSTATUS</span></code> values in the Windows documentation to decode such error return codes. In particular, <code class="code"><span class="constructor">STATUS_ACCESS_VIOLATION</span></code> error code is the 32-bit <code class="code">0xC0000005</code>: as <code class="code"><span class="constructor">Int32</span>.of_int 0xC0000005</code> is <code class="code">-1073741819</code>, <code class="code"><span class="constructor">WEXITED</span> -1073741819</code> is the Windows equivalent of <code class="code"><span class="constructor">WSIGNALED</span> <span class="constructor">Sys</span>.sigsegv</code>.</p> </div> </div> <pre id="TYPEwait_flag" data-type="type wait_flag [Module Unix]" data-language="ocaml">type wait_flag = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTwait_flag.WNOHANG"><span class="constructor">WNOHANG</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Do not block if no child has died yet, but immediately return with a pid equal to 0.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTwait_flag.WUNTRACED"><span class="constructor">WUNTRACED</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Report also the children that receive stop signals.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>Flags for <a href="unix.html#VALwaitpid"><code class="code"><span class="constructor">Unix</span>.waitpid</code></a>.</p> </div> </div> <pre id="VALexecv" data-type="val execv [Module Unix]" data-language="ocaml">val execv : string -&gt; string array -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">execv prog args</code> execute the program in file <code class="code">prog</code>, with the arguments <code class="code">args</code>, and the current process environment. Note that the first argument, <code class="code">args.(0)</code>, is by convention the filename of the program being executed, just like <code class="code"><span class="constructor">Sys</span>.argv.(0)</code>. These <code class="code">execv*</code> functions never return: on success, the current program is replaced by the new one.</p> <p>On Windows: the CRT simply spawns a new process and exits the current one. This will have unwanted consequences if e.g. another process is waiting on the current one. Using <a href="unix.html#VALcreate_process"><code class="code"><span class="constructor">Unix</span>.create_process</code></a> or one of the <code class="code">open_process_*</code> functions instead is recommended.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Unix_error</code> on failure</li> </ul> </div> <pre id="VALexecve" data-type="val execve [Module Unix]" data-language="ocaml">val execve : string -&gt; string array -&gt; string array -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALexecv"><code class="code"><span class="constructor">Unix</span>.execv</code></a>, except that the third argument provides the environment to the program executed.</p> </div> </div> <pre id="VALexecvp" data-type="val execvp [Module Unix]" data-language="ocaml">val execvp : string -&gt; string array -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALexecv"><code class="code"><span class="constructor">Unix</span>.execv</code></a>, except that the program is searched in the path.</p> </div> </div> <pre id="VALexecvpe" data-type="val execvpe [Module Unix]" data-language="ocaml">val execvpe : string -&gt; string array -&gt; string array -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALexecve"><code class="code"><span class="constructor">Unix</span>.execve</code></a>, except that the program is searched in the path.</p> </div> </div> <pre id="VALfork" data-type="val fork [Module Unix]" data-language="ocaml">val fork : unit -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Fork a new process. The returned integer is 0 for the child process, the pid of the child process for the parent process. It fails if the OCaml process is multi-core (any domain has been spawned). In addition, if any thread from the Thread module has been spawned, then the child process might be in a corrupted state.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b><ul>
<li>
<code>Invalid_argument</code> on Windows. Use <a href="unix.html#VALcreate_process"><code class="code"><span class="constructor">Unix</span>.create_process</code></a> or threads instead.</li> <li>
<code>Failure</code> if any domain has been spawned.</li> </ul>
</li> </ul> </div> <pre id="VALwait" data-type="val wait [Module Unix]" data-language="ocaml">val wait : unit -&gt; int * process_status</pre>
<div class="info "> <div class="info-desc"> <p>Wait until one of the children processes die, and return its pid and termination status.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows. Use <a href="unix.html#VALwaitpid"><code class="code"><span class="constructor">Unix</span>.waitpid</code></a> instead.</li> </ul> </div> <pre id="VALwaitpid" data-type="val waitpid [Module Unix]" data-language="ocaml">val waitpid : wait_flag list -&gt; int -&gt; int * process_status</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALwait"><code class="code"><span class="constructor">Unix</span>.wait</code></a>, but waits for the child process whose pid is given. A pid of <code class="code">-1</code> means wait for any child. A pid of <code class="code">0</code> means wait for any child in the same process group as the current process. Negative pid arguments represent process groups. The list of options indicates whether <code class="code">waitpid</code> should return immediately without waiting, and whether it should report stopped children.</p> <p>On Windows: can only wait for a given PID, not any child process.</p> </div> </div> <pre id="VALsystem" data-type="val system [Module Unix]" data-language="ocaml">val system : string -&gt; process_status</pre>
<div class="info "> <div class="info-desc"> <p>Execute the given command, wait until it terminates, and return its termination status. The string is interpreted by the shell <code class="code">/bin/sh</code> (or the command interpreter <code class="code">cmd.exe</code> on Windows) and therefore can contain redirections, quotes, variables, etc. To properly quote whitespace and shell special characters occurring in file names or command arguments, the use of <a href="filename.html#VALquote_command"><code class="code"><span class="constructor">Filename</span>.quote_command</code></a> is recommended. The result <code class="code"><span class="constructor">WEXITED</span> 127</code> indicates that the shell couldn't be executed.</p> </div> </div> <pre id="VAL_exit" data-type="val _exit [Module Unix]" data-language="ocaml">val _exit : int -&gt; 'a</pre>
<div class="info "> <div class="info-desc"> <p>Terminate the calling process immediately, returning the given status code to the operating system: usually 0 to indicate no errors, and a small positive integer to indicate failure. Unlike <a href="stdlib.html#VALexit"><code class="code">exit</code></a>, <a href="unix.html#VAL_exit"><code class="code"><span class="constructor">Unix</span>._exit</code></a> performs no finalization whatsoever: functions registered with <a href="stdlib.html#VALat_exit"><code class="code">at_exit</code></a> are not called, input/output channels are not flushed, and the C run-time system is not finalized either.</p> <p>The typical use of <a href="unix.html#VAL_exit"><code class="code"><span class="constructor">Unix</span>._exit</code></a> is after a <a href="unix.html#VALfork"><code class="code"><span class="constructor">Unix</span>.fork</code></a> operation, when the child process runs into a fatal error and must exit. In this case, it is preferable to not perform any finalization action in the child process, as these actions could interfere with similar actions performed by the parent process. For example, output channels should not be flushed by the child process, as the parent process may flush them again later, resulting in duplicate output.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.12</li> </ul> </div> <pre id="VALgetpid" data-type="val getpid [Module Unix]" data-language="ocaml">val getpid : unit -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the pid of the process.</p> </div> </div> <pre id="VALgetppid" data-type="val getppid [Module Unix]" data-language="ocaml">val getppid : unit -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the pid of the parent process.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows (because it is meaningless)</li> </ul> </div> <pre id="VALnice" data-type="val nice [Module Unix]" data-language="ocaml">val nice : int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Change the process priority. The integer argument is added to the ``nice'' value. (Higher values of the ``nice'' value mean lower priorities.) Return the new nice value.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <h2 id="1_Basicfileinputoutput">Basic file input/output</h2> <pre id="TYPEfile_descr" data-type="type file_descr [Module Unix]" data-language="ocaml">type file_descr </pre> <div class="info "> <div class="info-desc"> <p>The abstract type of file descriptors.</p> </div> </div> <pre id="VALstdin" data-type="val stdin [Module Unix]" data-language="ocaml">val stdin : file_descr</pre>
<div class="info "> <div class="info-desc"> <p>File descriptor for standard input.</p> </div> </div> <pre id="VALstdout" data-type="val stdout [Module Unix]" data-language="ocaml">val stdout : file_descr</pre>
<div class="info "> <div class="info-desc"> <p>File descriptor for standard output.</p> </div> </div> <pre id="VALstderr" data-type="val stderr [Module Unix]" data-language="ocaml">val stderr : file_descr</pre>
<div class="info "> <div class="info-desc"> <p>File descriptor for standard error.</p> </div> </div> <pre id="TYPEopen_flag" data-type="type open_flag [Module Unix]" data-language="ocaml">type open_flag = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_RDONLY"><span class="constructor">O_RDONLY</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Open for reading</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_WRONLY"><span class="constructor">O_WRONLY</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Open for writing</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_RDWR"><span class="constructor">O_RDWR</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Open for reading and writing</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_NONBLOCK"><span class="constructor">O_NONBLOCK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Open in non-blocking mode</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_APPEND"><span class="constructor">O_APPEND</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Open for append</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_CREAT"><span class="constructor">O_CREAT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Create if nonexistent</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_TRUNC"><span class="constructor">O_TRUNC</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Truncate to 0 length if existing</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_EXCL"><span class="constructor">O_EXCL</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Fail if existing</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_NOCTTY"><span class="constructor">O_NOCTTY</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Don't make this dev a controlling tty</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_DSYNC"><span class="constructor">O_DSYNC</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Writes complete as `Synchronised I/O data integrity completion'</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_SYNC"><span class="constructor">O_SYNC</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Writes complete as `Synchronised I/O file integrity completion'</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_RSYNC"><span class="constructor">O_RSYNC</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Reads complete as writes (depending on O_SYNC/O_DSYNC)</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_SHARE_DELETE"><span class="constructor">O_SHARE_DELETE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Windows only: allow the file to be deleted while still open</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_CLOEXEC"><span class="constructor">O_CLOEXEC</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Set the close-on-exec flag on the descriptor returned by <a href="unix.html#VALopenfile"><code class="code"><span class="constructor">Unix</span>.openfile</code></a>. See <a href="unix.html#VALset_close_on_exec"><code class="code"><span class="constructor">Unix</span>.set_close_on_exec</code></a> for more information.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTopen_flag.O_KEEPEXEC"><span class="constructor">O_KEEPEXEC</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Clear the close-on-exec flag. This is currently the default.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The flags to <a href="unix.html#VALopenfile"><code class="code"><span class="constructor">Unix</span>.openfile</code></a>.</p> </div> </div> <pre id="TYPEfile_perm" data-type="type file_perm [Module Unix]" data-language="ocaml">type file_perm = int </pre> <div class="info "> <div class="info-desc"> <p>The type of file access rights, e.g. <code class="code">0o640</code> is read and write for user, read for group, none for others</p> </div> </div> <pre id="VALopenfile" data-type="val openfile [Module Unix]" data-language="ocaml">val openfile : string -&gt; open_flag list -&gt; file_perm -&gt; file_descr</pre>
<div class="info "> <div class="info-desc"> <p>Open the named file with the given flags. Third argument is the permissions to give to the file if it is created (see <a href="unix.html#VALumask"><code class="code"><span class="constructor">Unix</span>.umask</code></a>). Return a file descriptor on the named file.</p> </div> </div> <pre id="VALclose" data-type="val close [Module Unix]" data-language="ocaml">val close : file_descr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Close a file descriptor.</p> </div> </div> <pre id="VALfsync" data-type="val fsync [Module Unix]" data-language="ocaml">val fsync : file_descr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Flush file buffers to disk.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.08 (4.12 in UnixLabels)</li> </ul> </div> <pre id="VALread" data-type="val read [Module Unix]" data-language="ocaml">val read : file_descr -&gt; bytes -&gt; int -&gt; int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">read fd buf pos len</code> reads <code class="code">len</code> bytes from descriptor <code class="code">fd</code>, storing them in byte sequence <code class="code">buf</code>, starting at position <code class="code">pos</code> in <code class="code">buf</code>. Return the number of bytes actually read.</p> </div> </div> <pre id="VALread_bigarray" data-type="val read_bigarray [Module Unix]" data-language="ocaml">val read_bigarray : file_descr -&gt;       ('a, Bigarray.int8_unsigned_elt, Bigarray.c_layout)       Bigarray.Array1.t -&gt; int -&gt; int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALread"><code class="code"><span class="constructor">Unix</span>.read</code></a>, but read the data into a bigarray.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 5.2</li> </ul> </div> <pre id="VALwrite" data-type="val write [Module Unix]" data-language="ocaml">val write : file_descr -&gt; bytes -&gt; int -&gt; int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">write fd buf pos len</code> writes <code class="code">len</code> bytes to descriptor <code class="code">fd</code>, taking them from byte sequence <code class="code">buf</code>, starting at position <code class="code">pos</code> in <code class="code">buff</code>. Return the number of bytes actually written. <code class="code">write</code> repeats the writing operation until all bytes have been written or an error occurs.</p> </div> </div> <pre id="VALwrite_bigarray" data-type="val write_bigarray [Module Unix]" data-language="ocaml">val write_bigarray : file_descr -&gt;       ('a, Bigarray.int8_unsigned_elt, Bigarray.c_layout)       Bigarray.Array1.t -&gt; int -&gt; int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALwrite"><code class="code"><span class="constructor">Unix</span>.write</code></a>, but take the data from a bigarray.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 5.2</li> </ul> </div> <pre id="VALsingle_write" data-type="val single_write [Module Unix]" data-language="ocaml">val single_write : file_descr -&gt; bytes -&gt; int -&gt; int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALwrite"><code class="code"><span class="constructor">Unix</span>.write</code></a>, but attempts to write only once. Thus, if an error occurs, <code class="code">single_write</code> guarantees that no data has been written.</p> </div> </div> <pre id="VALwrite_substring" data-type="val write_substring [Module Unix]" data-language="ocaml">val write_substring : file_descr -&gt; string -&gt; int -&gt; int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALwrite"><code class="code"><span class="constructor">Unix</span>.write</code></a>, but take the data from a string instead of a byte sequence.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.02</li> </ul> </div> <pre id="VALsingle_write_substring" data-type="val single_write_substring [Module Unix]" data-language="ocaml">val single_write_substring : file_descr -&gt; string -&gt; int -&gt; int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALsingle_write"><code class="code"><span class="constructor">Unix</span>.single_write</code></a>, but take the data from a string instead of a byte sequence.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.02</li> </ul> </div> <pre id="VALsingle_write_bigarray" data-type="val single_write_bigarray [Module Unix]" data-language="ocaml">val single_write_bigarray : file_descr -&gt;       ('a, Bigarray.int8_unsigned_elt, Bigarray.c_layout)       Bigarray.Array1.t -&gt; int -&gt; int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALsingle_write"><code class="code"><span class="constructor">Unix</span>.single_write</code></a>, but take the data from a bigarray.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 5.2</li> </ul> </div> <h2 id="1_Interfacingwiththestandardinputoutputlibrary">Interfacing with the standard input/output library</h2> <pre id="VALin_channel_of_descr" data-type="val in_channel_of_descr [Module Unix]" data-language="ocaml">val in_channel_of_descr : file_descr -&gt; in_channel</pre>
<div class="info "> <div class="info-desc"> <p>Create an input channel reading from the given descriptor. The channel is initially in binary mode; use <code class="code">set_binary_mode_in ic <span class="keyword">false</span></code> if text mode is desired. Text mode is supported only if the descriptor refers to a file or pipe, but is not supported if it refers to a socket.</p> <p>On Windows: <a href="stdlib.html#VALset_binary_mode_in"><code class="code">set_binary_mode_in</code></a> always fails on channels created with this function.</p> <p>Beware that input channels are buffered, so more characters may have been read from the descriptor than those accessed using channel functions. Channels also keep a copy of the current position in the file.</p> <p>Closing the channel <code class="code">ic</code> returned by <code class="code">in_channel_of_descr fd</code> using <code class="code">close_in ic</code> also closes the underlying descriptor <code class="code">fd</code>. It is incorrect to close both the channel <code class="code">ic</code> and the descriptor <code class="code">fd</code>.</p> <p>If several channels are created on the same descriptor, one of the channels must be closed, but not the others. Consider for example a descriptor <code class="code">s</code> connected to a socket and two channels <code class="code">ic = in_channel_of_descr s</code> and <code class="code">oc = out_channel_of_descr s</code>. The recommended closing protocol is to perform <code class="code">close_out oc</code>, which flushes buffered output to the socket then closes the socket. The <code class="code">ic</code> channel must not be closed and will be collected by the GC eventually.</p> </div> </div> <pre id="VALout_channel_of_descr" data-type="val out_channel_of_descr [Module Unix]" data-language="ocaml">val out_channel_of_descr : file_descr -&gt; out_channel</pre>
<div class="info "> <div class="info-desc"> <p>Create an output channel writing on the given descriptor. The channel is initially in binary mode; use <code class="code">set_binary_mode_out oc <span class="keyword">false</span></code> if text mode is desired. Text mode is supported only if the descriptor refers to a file or pipe, but is not supported if it refers to a socket.</p> <p>On Windows: <a href="stdlib.html#VALset_binary_mode_out"><code class="code">set_binary_mode_out</code></a> always fails on channels created with this function.</p> <p>Beware that output channels are buffered, so you may have to call <a href="stdlib.html#VALflush"><code class="code">flush</code></a> to ensure that all data has been sent to the descriptor. Channels also keep a copy of the current position in the file.</p> <p>Closing the channel <code class="code">oc</code> returned by <code class="code">out_channel_of_descr fd</code> using <code class="code">close_out oc</code> also closes the underlying descriptor <code class="code">fd</code>. It is incorrect to close both the channel <code class="code">ic</code> and the descriptor <code class="code">fd</code>.</p> <p>See <a href="unix.html#VALin_channel_of_descr"><code class="code"><span class="constructor">Unix</span>.in_channel_of_descr</code></a> for a discussion of the closing protocol when several channels are created on the same descriptor.</p> </div> </div> <pre id="VALdescr_of_in_channel" data-type="val descr_of_in_channel [Module Unix]" data-language="ocaml">val descr_of_in_channel : in_channel -&gt; file_descr</pre>
<div class="info "> <div class="info-desc"> <p>Return the descriptor corresponding to an input channel.</p> </div> </div> <pre id="VALdescr_of_out_channel" data-type="val descr_of_out_channel [Module Unix]" data-language="ocaml">val descr_of_out_channel : out_channel -&gt; file_descr</pre>
<div class="info "> <div class="info-desc"> <p>Return the descriptor corresponding to an output channel.</p> </div> </div> <h2 id="1_Seekingandtruncating">Seeking and truncating</h2> <pre id="TYPEseek_command" data-type="type seek_command [Module Unix]" data-language="ocaml">type seek_command = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTseek_command.SEEK_SET"><span class="constructor">SEEK_SET</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>indicates positions relative to the beginning of the file</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTseek_command.SEEK_CUR"><span class="constructor">SEEK_CUR</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>indicates positions relative to the current position</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTseek_command.SEEK_END"><span class="constructor">SEEK_END</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>indicates positions relative to the end of the file</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>Positioning modes for <a href="unix.html#VALlseek"><code class="code"><span class="constructor">Unix</span>.lseek</code></a>.</p> </div> </div> <pre id="VALlseek" data-type="val lseek [Module Unix]" data-language="ocaml">val lseek : file_descr -&gt; int -&gt; seek_command -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Set the current position for a file descriptor, and return the resulting offset (from the beginning of the file).</p> </div> </div> <pre id="VALtruncate" data-type="val truncate [Module Unix]" data-language="ocaml">val truncate : string -&gt; int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Truncates the named file to the given size.</p> </div> </div> <pre id="VALftruncate" data-type="val ftruncate [Module Unix]" data-language="ocaml">val ftruncate : file_descr -&gt; int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Truncates the file corresponding to the given descriptor to the given size.</p> </div> </div> <h2 id="1_Filestatus">File status</h2> <pre id="TYPEfile_kind" data-type="type file_kind [Module Unix]" data-language="ocaml">type file_kind = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTfile_kind.S_REG"><span class="constructor">S_REG</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Regular file</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTfile_kind.S_DIR"><span class="constructor">S_DIR</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Directory</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTfile_kind.S_CHR"><span class="constructor">S_CHR</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Character device</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTfile_kind.S_BLK"><span class="constructor">S_BLK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Block device</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTfile_kind.S_LNK"><span class="constructor">S_LNK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Symbolic link</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTfile_kind.S_FIFO"><span class="constructor">S_FIFO</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Named pipe</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTfile_kind.S_SOCK"><span class="constructor">S_SOCK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Socket</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <pre id="TYPEstats" data-type="type stats [Module Unix]" data-language="ocaml">type stats = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_dev">st_dev</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Device number</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_ino">st_ino</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Inode number</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_kind">st_kind</span> : <code class="type"><a href="unix.html#TYPEfile_kind">file_kind</a></code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Kind of the file</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_perm">st_perm</span> : <code class="type"><a href="unix.html#TYPEfile_perm">file_perm</a></code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Access rights</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_nlink">st_nlink</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Number of links</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_uid">st_uid</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>User id of the owner</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_gid">st_gid</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Group ID of the file's group</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_rdev">st_rdev</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Device ID (if special file)</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_size">st_size</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Size in bytes</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_atime">st_atime</span> : <code class="type">float</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Last access time</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_mtime">st_mtime</span> : <code class="type">float</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Last modification time</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTstats.st_ctime">st_ctime</span> : <code class="type">float</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Last status change time</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>The information returned by the <a href="unix.html#VALstat"><code class="code"><span class="constructor">Unix</span>.stat</code></a> calls.</p> </div> </div> <pre id="VALstat" data-type="val stat [Module Unix]" data-language="ocaml">val stat : string -&gt; stats</pre>
<div class="info "> <div class="info-desc"> <p>Return the information for the named file.</p> </div> </div> <pre id="VALlstat" data-type="val lstat [Module Unix]" data-language="ocaml">val lstat : string -&gt; stats</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALstat"><code class="code"><span class="constructor">Unix</span>.stat</code></a>, but in case the file is a symbolic link, return the information for the link itself.</p> </div> </div> <pre id="VALfstat" data-type="val fstat [Module Unix]" data-language="ocaml">val fstat : file_descr -&gt; stats</pre>
<div class="info "> <div class="info-desc"> <p>Return the information for the file associated with the given descriptor.</p> </div> </div> <pre id="VALisatty" data-type="val isatty [Module Unix]" data-language="ocaml">val isatty : file_descr -&gt; bool</pre>
<div class="info "> <div class="info-desc"> <p>Return <code class="code"><span class="keyword">true</span></code> if the given file descriptor refers to a terminal or console window, <code class="code"><span class="keyword">false</span></code> otherwise.</p> </div> </div> <h2 id="1_Fileoperationsonlargefiles">File operations on large files</h2> <pre id="MODULELargeFile" data-type="module LargeFile [Module Unix]" data-language="ocaml">module LargeFile: sig .. end</pre>
<div class="info"> <p>File operations on large files.</p> </div> <h2 id="1_Mappingfilesintomemory">Mapping files into memory</h2> <pre id="VALmap_file" data-type="val map_file [Module Unix]" data-language="ocaml">val map_file : file_descr -&gt;       ?pos:int64 -&gt;       ('a, 'b) Bigarray.kind -&gt;       'c Bigarray.layout -&gt;       bool -&gt; int array -&gt; ('a, 'b, 'c) Bigarray.Genarray.t</pre>
<div class="info "> <div class="info-desc"> <p>Memory mapping of a file as a Bigarray. <code class="code">map_file fd kind layout shared dims</code> returns a Bigarray of kind <code class="code">kind</code>, layout <code class="code">layout</code>, and dimensions as specified in <code class="code">dims</code>. The data contained in this Bigarray are the contents of the file referred to by the file descriptor <code class="code">fd</code> (as opened previously with <a href="unix.html#VALopenfile"><code class="code"><span class="constructor">Unix</span>.openfile</code></a>, for example). The optional <code class="code">pos</code> parameter is the byte offset in the file of the data being mapped; it defaults to 0 (map from the beginning of the file).</p> <p>If <code class="code">shared</code> is <code class="code"><span class="keyword">true</span></code>, all modifications performed on the array are reflected in the file. This requires that <code class="code">fd</code> be opened with write permissions. If <code class="code">shared</code> is <code class="code"><span class="keyword">false</span></code>, modifications performed on the array are done in memory only, using copy-on-write of the modified pages; the underlying file is not affected.</p> <p><a href="unix.html#VALmap_file"><code class="code"><span class="constructor">Unix</span>.map_file</code></a> is much more efficient than reading the whole file in a Bigarray, modifying that Bigarray, and writing it afterwards.</p> <p>To adjust automatically the dimensions of the Bigarray to the actual size of the file, the major dimension (that is, the first dimension for an array with C layout, and the last dimension for an array with Fortran layout) can be given as <code class="code">-1</code>. <a href="unix.html#VALmap_file"><code class="code"><span class="constructor">Unix</span>.map_file</code></a> then determines the major dimension from the size of the file. The file must contain an integral number of sub-arrays as determined by the non-major dimensions, otherwise <code class="code"><span class="constructor">Failure</span></code> is raised.</p> <p>If all dimensions of the Bigarray are given, the file size is matched against the size of the Bigarray. If the file is larger than the Bigarray, only the initial portion of the file is mapped to the Bigarray. If the file is smaller than the big array, the file is automatically grown to the size of the Bigarray. This requires write permissions on <code class="code">fd</code>.</p> <p>Array accesses are bounds-checked, but the bounds are determined by the initial call to <code class="code">map_file</code>. Therefore, you should make sure no other process modifies the mapped file while you're accessing it, or a SIGBUS signal may be raised. This happens, for instance, if the file is shrunk.</p> <p><code class="code"><span class="constructor">Invalid_argument</span></code> or <code class="code"><span class="constructor">Failure</span></code> may be raised in cases where argument validation fails.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.06</li> </ul> </div> <h2 id="1_Operationsonfilenames">Operations on file names</h2> <pre id="VALunlink" data-type="val unlink [Module Unix]" data-language="ocaml">val unlink : string -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Removes the named file.</p> <p>If the named file is a directory, raises:</p> <ul> <li>
<code class="code"><span class="constructor">EPERM</span></code> on POSIX compliant system</li> <li>
<code class="code"><span class="constructor">EISDIR</span></code> on Linux &gt;= 2.1.132</li> <li>
<code class="code"><span class="constructor">EACCESS</span></code> on Windows</li> </ul> </div> </div> <pre id="VALrename" data-type="val rename [Module Unix]" data-language="ocaml">val rename : string -&gt; string -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">rename src dst</code> changes the name of a file from <code class="code">src</code> to <code class="code">dst</code>, moving it between directories if needed. If <code class="code">dst</code> already exists, its contents will be replaced with those of <code class="code">src</code>. Depending on the operating system, the metadata (permissions, owner, etc) of <code class="code">dst</code> can either be preserved or be replaced by those of <code class="code">src</code>.</p> </div> </div> <pre id="VALlink" data-type="val link [Module Unix]" data-language="ocaml">val link : ?follow:bool -&gt; string -&gt; string -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">link ?follow src dst</code> creates a hard link named <code class="code">dst</code> to the file named <code class="code">src</code>.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b><ul>
<li>
<code>ENOSYS</code> On <em>Unix</em> if <code class="code">~follow:_</code> is requested, but linkat is unavailable.</li> <li>
<code>ENOSYS</code> On <em>Windows</em> if <code class="code">~follow:<span class="keyword">false</span></code> is requested.</li> </ul>
</li> </ul> </div> <div class="param_info">
<code class="code">follow</code> : indicates whether a <code class="code">src</code> symlink is followed or a hardlink to <code class="code">src</code> itself will be created. On <em>Unix</em> systems this is done using the <code class="code">linkat(2)</code> function. If <code class="code">?follow</code> is not provided, then the <code class="code">link(2)</code> function is used whose behaviour is OS-dependent, but more widely available.</div> <pre id="VALrealpath" data-type="val realpath [Module Unix]" data-language="ocaml">val realpath : string -&gt; string</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">realpath p</code> is an absolute pathname for <code class="code">p</code> obtained by resolving all extra <code class="code">/</code> characters, relative path segments and symbolic links.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.13</li> </ul> </div> <h2 id="1_Filepermissionsandownership">File permissions and ownership</h2> <pre id="TYPEaccess_permission" data-type="type access_permission [Module Unix]" data-language="ocaml">type access_permission = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTaccess_permission.R_OK"><span class="constructor">R_OK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Read permission</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTaccess_permission.W_OK"><span class="constructor">W_OK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Write permission</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTaccess_permission.X_OK"><span class="constructor">X_OK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Execution permission</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTaccess_permission.F_OK"><span class="constructor">F_OK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>File exists</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>Flags for the <a href="unix.html#VALaccess"><code class="code"><span class="constructor">Unix</span>.access</code></a> call.</p> </div> </div> <pre id="VALchmod" data-type="val chmod [Module Unix]" data-language="ocaml">val chmod : string -&gt; file_perm -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Change the permissions of the named file.</p> </div> </div> <pre id="VALfchmod" data-type="val fchmod [Module Unix]" data-language="ocaml">val fchmod : file_descr -&gt; file_perm -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Change the permissions of an opened file.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALchown" data-type="val chown [Module Unix]" data-language="ocaml">val chown : string -&gt; int -&gt; int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Change the owner uid and owner gid of the named file.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALfchown" data-type="val fchown [Module Unix]" data-language="ocaml">val fchown : file_descr -&gt; int -&gt; int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Change the owner uid and owner gid of an opened file.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALumask" data-type="val umask [Module Unix]" data-language="ocaml">val umask : file_perm -&gt; file_perm</pre>
<div class="info "> <div class="info-desc"> <p>Set the process's file mode creation mask, and return the previous mask.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALaccess" data-type="val access [Module Unix]" data-language="ocaml">val access : string -&gt; access_permission list -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Check that the process has the given permissions over the named file.</p> <p>On Windows: execute permission <code class="code"><span class="constructor">X_OK</span></code> cannot be tested, just tests for read permission instead.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Unix_error</code> otherwise.</li> </ul> </div> <h2 id="1_Operationsonfiledescriptors">Operations on file descriptors</h2> <pre id="VALdup" data-type="val dup [Module Unix]" data-language="ocaml">val dup : ?cloexec:bool -&gt; file_descr -&gt; file_descr</pre>
<div class="info "> <div class="info-desc"> <p>Return a new file descriptor referencing the same file as the given descriptor. See <a href="unix.html#VALset_close_on_exec"><code class="code"><span class="constructor">Unix</span>.set_close_on_exec</code></a> for documentation on the <code class="code">cloexec</code> optional argument.</p> </div> </div> <pre id="VALdup2" data-type="val dup2 [Module Unix]" data-language="ocaml">val dup2 : ?cloexec:bool -&gt; file_descr -&gt; file_descr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">dup2 src dst</code> duplicates <code class="code">src</code> to <code class="code">dst</code>, closing <code class="code">dst</code> if already opened. See <a href="unix.html#VALset_close_on_exec"><code class="code"><span class="constructor">Unix</span>.set_close_on_exec</code></a> for documentation on the <code class="code">cloexec</code> optional argument.</p> </div> </div> <pre id="VALset_nonblock" data-type="val set_nonblock [Module Unix]" data-language="ocaml">val set_nonblock : file_descr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Set the ``non-blocking'' flag on the given descriptor. When the non-blocking flag is set, reading on a descriptor on which there is temporarily no data available raises the <code class="code"><span class="constructor">EAGAIN</span></code> or <code class="code"><span class="constructor">EWOULDBLOCK</span></code> error instead of blocking; writing on a descriptor on which there is temporarily no room for writing also raises <code class="code"><span class="constructor">EAGAIN</span></code> or <code class="code"><span class="constructor">EWOULDBLOCK</span></code>.</p> </div> </div> <pre id="VALclear_nonblock" data-type="val clear_nonblock [Module Unix]" data-language="ocaml">val clear_nonblock : file_descr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Clear the ``non-blocking'' flag on the given descriptor. See <a href="unix.html#VALset_nonblock"><code class="code"><span class="constructor">Unix</span>.set_nonblock</code></a>.</p> </div> </div> <pre id="VALset_close_on_exec" data-type="val set_close_on_exec [Module Unix]" data-language="ocaml">val set_close_on_exec : file_descr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Set the ``close-on-exec'' flag on the given descriptor. A descriptor with the close-on-exec flag is automatically closed when the current process starts another program with one of the <code class="code">exec</code>, <code class="code">create_process</code> and <code class="code">open_process</code> functions.</p> <p>It is often a security hole to leak file descriptors opened on, say, a private file to an external program: the program, then, gets access to the private file and can do bad things with it. Hence, it is highly recommended to set all file descriptors ``close-on-exec'', except in the very few cases where a file descriptor actually needs to be transmitted to another program.</p> <p>The best way to set a file descriptor ``close-on-exec'' is to create it in this state. To this end, the <code class="code">openfile</code> function has <code class="code"><span class="constructor">O_CLOEXEC</span></code> and <code class="code"><span class="constructor">O_KEEPEXEC</span></code> flags to enforce ``close-on-exec'' mode or ``keep-on-exec'' mode, respectively. All other operations in the Unix module that create file descriptors have an optional argument <code class="code">?cloexec:bool</code> to indicate whether the file descriptor should be created in ``close-on-exec'' mode (by writing <code class="code">~cloexec:<span class="keyword">true</span></code>) or in ``keep-on-exec'' mode (by writing <code class="code">~cloexec:<span class="keyword">false</span></code>). For historical reasons, the default file descriptor creation mode is ``keep-on-exec'', if no <code class="code">cloexec</code> optional argument is given. This is not a safe default, hence it is highly recommended to pass explicit <code class="code">cloexec</code> arguments to operations that create file descriptors.</p> <p>The <code class="code">cloexec</code> optional arguments and the <code class="code"><span class="constructor">O_KEEPEXEC</span></code> flag were introduced in OCaml 4.05. Earlier, the common practice was to create file descriptors in the default, ``keep-on-exec'' mode, then call <code class="code">set_close_on_exec</code> on those freshly-created file descriptors. This is not as safe as creating the file descriptor in ``close-on-exec'' mode because, in multithreaded programs, a window of vulnerability exists between the time when the file descriptor is created and the time <code class="code">set_close_on_exec</code> completes. If another thread spawns another program during this window, the descriptor will leak, as it is still in the ``keep-on-exec'' mode.</p> <p>Regarding the atomicity guarantees given by <code class="code">~cloexec:<span class="keyword">true</span></code> or by the use of the <code class="code"><span class="constructor">O_CLOEXEC</span></code> flag: on all platforms it is guaranteed that a concurrently-executing Caml thread cannot leak the descriptor by starting a new process. On Linux, this guarantee extends to concurrently-executing C threads. As of Feb 2017, other operating systems lack the necessary system calls and still expose a window of vulnerability during which a C thread can see the newly-created file descriptor in ``keep-on-exec'' mode.</p> </div> </div> <pre id="VALclear_close_on_exec" data-type="val clear_close_on_exec [Module Unix]" data-language="ocaml">val clear_close_on_exec : file_descr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Clear the ``close-on-exec'' flag on the given descriptor. See <a href="unix.html#VALset_close_on_exec"><code class="code"><span class="constructor">Unix</span>.set_close_on_exec</code></a>.</p> </div> </div> <h2 id="1_Directories">Directories</h2> <pre id="VALmkdir" data-type="val mkdir [Module Unix]" data-language="ocaml">val mkdir : string -&gt; file_perm -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Create a directory with the given permissions (see <a href="unix.html#VALumask"><code class="code"><span class="constructor">Unix</span>.umask</code></a>).</p> </div> </div> <pre id="VALrmdir" data-type="val rmdir [Module Unix]" data-language="ocaml">val rmdir : string -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Remove an empty directory.</p> </div> </div> <pre id="VALchdir" data-type="val chdir [Module Unix]" data-language="ocaml">val chdir : string -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Change the process working directory.</p> </div> </div> <pre id="VALgetcwd" data-type="val getcwd [Module Unix]" data-language="ocaml">val getcwd : unit -&gt; string</pre>
<div class="info "> <div class="info-desc"> <p>Return the name of the current working directory.</p> </div> </div> <pre id="VALchroot" data-type="val chroot [Module Unix]" data-language="ocaml">val chroot : string -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Change the process root directory.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="TYPEdir_handle" data-type="type dir_handle [Module Unix]" data-language="ocaml">type dir_handle </pre> <div class="info "> <div class="info-desc"> <p>The type of descriptors over opened directories.</p> </div> </div> <pre id="VALopendir" data-type="val opendir [Module Unix]" data-language="ocaml">val opendir : string -&gt; dir_handle</pre>
<div class="info "> <div class="info-desc"> <p>Open a descriptor on a directory</p> </div> </div> <pre id="VALreaddir" data-type="val readdir [Module Unix]" data-language="ocaml">val readdir : dir_handle -&gt; string</pre>
<div class="info "> <div class="info-desc"> <p>Return the next entry in a directory.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>End_of_file</code> when the end of the directory has been reached.</li> </ul> </div> <pre id="VALrewinddir" data-type="val rewinddir [Module Unix]" data-language="ocaml">val rewinddir : dir_handle -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Reposition the descriptor to the beginning of the directory</p> </div> </div> <pre id="VALclosedir" data-type="val closedir [Module Unix]" data-language="ocaml">val closedir : dir_handle -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Close a directory descriptor.</p> </div> </div> <h2 id="1_Pipesandredirections">Pipes and redirections</h2> <pre id="VALpipe" data-type="val pipe [Module Unix]" data-language="ocaml">val pipe : ?cloexec:bool -&gt; unit -&gt; file_descr * file_descr</pre>
<div class="info "> <div class="info-desc"> <p>Create a pipe. The first component of the result is opened for reading, that's the exit to the pipe. The second component is opened for writing, that's the entrance to the pipe. See <a href="unix.html#VALset_close_on_exec"><code class="code"><span class="constructor">Unix</span>.set_close_on_exec</code></a> for documentation on the <code class="code">cloexec</code> optional argument.</p> </div> </div> <pre id="VALmkfifo" data-type="val mkfifo [Module Unix]" data-language="ocaml">val mkfifo : string -&gt; file_perm -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Create a named pipe with the given permissions (see <a href="unix.html#VALumask"><code class="code"><span class="constructor">Unix</span>.umask</code></a>).</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <h2 id="1_Highlevelprocessandredirectionmanagement">High-level process and redirection management</h2> <pre id="VALcreate_process" data-type="val create_process [Module Unix]" data-language="ocaml">val create_process : string -&gt;       string array -&gt; file_descr -&gt; file_descr -&gt; file_descr -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">create_process prog args stdin stdout stderr</code> creates a new process that executes the program in file <code class="code">prog</code>, with arguments <code class="code">args</code>. Note that the first argument, <code class="code">args.(0)</code>, is by convention the filename of the program being executed, just like <code class="code"><span class="constructor">Sys</span>.argv.(0)</code>. The pid of the new process is returned immediately; the new process executes concurrently with the current process. The standard input and outputs of the new process are connected to the descriptors <code class="code">stdin</code>, <code class="code">stdout</code> and <code class="code">stderr</code>. Passing e.g. <a href="unix.html#VALstdout"><code class="code"><span class="constructor">Unix</span>.stdout</code></a> for <code class="code">stdout</code> prevents the redirection and causes the new process to have the same standard output as the current process. The executable file <code class="code">prog</code> is searched in the path. The new process has the same environment as the current process.</p> </div> </div> <pre id="VALcreate_process_env" data-type="val create_process_env [Module Unix]" data-language="ocaml">val create_process_env : string -&gt;       string array -&gt;       string array -&gt; file_descr -&gt; file_descr -&gt; file_descr -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">create_process_env prog args env stdin stdout stderr</code> works as <a href="unix.html#VALcreate_process"><code class="code"><span class="constructor">Unix</span>.create_process</code></a>, except that the extra argument <code class="code">env</code> specifies the environment passed to the program.</p> </div> </div> <pre id="VALopen_process_in" data-type="val open_process_in [Module Unix]" data-language="ocaml">val open_process_in : string -&gt; in_channel</pre>
<div class="info "> <div class="info-desc"> <p>High-level pipe and process management. This function runs the given command in parallel with the program. The standard output of the command is redirected to a pipe, which can be read via the returned input channel. The command is interpreted by the shell <code class="code">/bin/sh</code> (or <code class="code">cmd.exe</code> on Windows), cf. <a href="unix.html#VALsystem"><code class="code"><span class="constructor">Unix</span>.system</code></a>. The <a href="filename.html#VALquote_command"><code class="code"><span class="constructor">Filename</span>.quote_command</code></a> function can be used to quote the command and its arguments as appropriate for the shell being used. If the command does not need to be run through the shell, <a href="unix.html#VALopen_process_args_in"><code class="code"><span class="constructor">Unix</span>.open_process_args_in</code></a> can be used as a more robust and more efficient alternative to <a href="unix.html#VALopen_process_in"><code class="code"><span class="constructor">Unix</span>.open_process_in</code></a>.</p> </div> </div> <pre id="VALopen_process_out" data-type="val open_process_out [Module Unix]" data-language="ocaml">val open_process_out : string -&gt; out_channel</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALopen_process_in"><code class="code"><span class="constructor">Unix</span>.open_process_in</code></a>, but redirect the standard input of the command to a pipe. Data written to the returned output channel is sent to the standard input of the command. Warning: writes on output channels are buffered, hence be careful to call <a href="stdlib.html#VALflush"><code class="code">flush</code></a> at the right times to ensure correct synchronization. If the command does not need to be run through the shell, <a href="unix.html#VALopen_process_args_out"><code class="code"><span class="constructor">Unix</span>.open_process_args_out</code></a> can be used instead of <a href="unix.html#VALopen_process_out"><code class="code"><span class="constructor">Unix</span>.open_process_out</code></a>.</p> </div> </div> <pre id="VALopen_process" data-type="val open_process [Module Unix]" data-language="ocaml">val open_process : string -&gt; in_channel * out_channel</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALopen_process_out"><code class="code"><span class="constructor">Unix</span>.open_process_out</code></a>, but redirects both the standard input and standard output of the command to pipes connected to the two returned channels. The input channel is connected to the output of the command, and the output channel to the input of the command. If the command does not need to be run through the shell, <a href="unix.html#VALopen_process_args"><code class="code"><span class="constructor">Unix</span>.open_process_args</code></a> can be used instead of <a href="unix.html#VALopen_process"><code class="code"><span class="constructor">Unix</span>.open_process</code></a>.</p> </div> </div> <pre id="VALopen_process_full" data-type="val open_process_full [Module Unix]" data-language="ocaml">val open_process_full : string -&gt;       string array -&gt; in_channel * out_channel * in_channel</pre>
<div class="info "> <div class="info-desc"> <p>Similar to <a href="unix.html#VALopen_process"><code class="code"><span class="constructor">Unix</span>.open_process</code></a>, but the second argument specifies the environment passed to the command. The result is a triple of channels connected respectively to the standard output, standard input, and standard error of the command. If the command does not need to be run through the shell, <a href="unix.html#VALopen_process_args_full"><code class="code"><span class="constructor">Unix</span>.open_process_args_full</code></a> can be used instead of <a href="unix.html#VALopen_process_full"><code class="code"><span class="constructor">Unix</span>.open_process_full</code></a>.</p> </div> </div> <pre id="VALopen_process_args" data-type="val open_process_args [Module Unix]" data-language="ocaml">val open_process_args : string -&gt; string array -&gt; in_channel * out_channel</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">open_process_args prog args</code> runs the program <code class="code">prog</code> with arguments <code class="code">args</code>. Note that the first argument, <code class="code">args.(0)</code>, is by convention the filename of the program being executed, just like <code class="code"><span class="constructor">Sys</span>.argv.(0)</code>. The new process executes concurrently with the current process. The standard input and output of the new process are redirected to pipes, which can be respectively read and written via the returned channels. The input channel is connected to the output of the program, and the output channel to the input of the program.</p> <p>Warning: writes on output channels are buffered, hence be careful to call <a href="stdlib.html#VALflush"><code class="code">flush</code></a> at the right times to ensure correct synchronization.</p> <p>The executable file <code class="code">prog</code> is searched for in the path. This behaviour changed in 4.12; previously <code class="code">prog</code> was looked up only in the current directory.</p> <p>The new process has the same environment as the current process.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.08</li> </ul> </div> <pre id="VALopen_process_args_in" data-type="val open_process_args_in [Module Unix]" data-language="ocaml">val open_process_args_in : string -&gt; string array -&gt; in_channel</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALopen_process_args"><code class="code"><span class="constructor">Unix</span>.open_process_args</code></a>, but redirects only the standard output of the new process.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.08</li> </ul> </div> <pre id="VALopen_process_args_out" data-type="val open_process_args_out [Module Unix]" data-language="ocaml">val open_process_args_out : string -&gt; string array -&gt; out_channel</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALopen_process_args"><code class="code"><span class="constructor">Unix</span>.open_process_args</code></a>, but redirects only the standard input of the new process.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.08</li> </ul> </div> <pre id="VALopen_process_args_full" data-type="val open_process_args_full [Module Unix]" data-language="ocaml">val open_process_args_full : string -&gt;       string array -&gt;       string array -&gt; in_channel * out_channel * in_channel</pre>
<div class="info "> <div class="info-desc"> <p>Similar to <a href="unix.html#VALopen_process_args"><code class="code"><span class="constructor">Unix</span>.open_process_args</code></a>, but the third argument specifies the environment passed to the new process. The result is a triple of channels connected respectively to the standard output, standard input, and standard error of the program.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.08</li> </ul> </div> <pre id="VALprocess_in_pid" data-type="val process_in_pid [Module Unix]" data-language="ocaml">val process_in_pid : in_channel -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the pid of a process opened via <a href="unix.html#VALopen_process_args_in"><code class="code"><span class="constructor">Unix</span>.open_process_args_in</code></a> or the pid of the shell opened via <a href="unix.html#VALopen_process_in"><code class="code"><span class="constructor">Unix</span>.open_process_in</code></a>.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.08 (4.12 in UnixLabels)</li> </ul> </div> <pre id="VALprocess_out_pid" data-type="val process_out_pid [Module Unix]" data-language="ocaml">val process_out_pid : out_channel -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the pid of a process opened via <a href="unix.html#VALopen_process_args_out"><code class="code"><span class="constructor">Unix</span>.open_process_args_out</code></a> or the pid of the shell opened via <a href="unix.html#VALopen_process_out"><code class="code"><span class="constructor">Unix</span>.open_process_out</code></a>.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.08 (4.12 in UnixLabels)</li> </ul> </div> <pre id="VALprocess_pid" data-type="val process_pid [Module Unix]" data-language="ocaml">val process_pid : in_channel * out_channel -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the pid of a process opened via <a href="unix.html#VALopen_process_args"><code class="code"><span class="constructor">Unix</span>.open_process_args</code></a> or the pid of the shell opened via <a href="unix.html#VALopen_process_args"><code class="code"><span class="constructor">Unix</span>.open_process_args</code></a>.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.08 (4.12 in UnixLabels)</li> </ul> </div> <pre id="VALprocess_full_pid" data-type="val process_full_pid [Module Unix]" data-language="ocaml">val process_full_pid : in_channel * out_channel * in_channel -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the pid of a process opened via <a href="unix.html#VALopen_process_args_full"><code class="code"><span class="constructor">Unix</span>.open_process_args_full</code></a> or the pid of the shell opened via <a href="unix.html#VALopen_process_full"><code class="code"><span class="constructor">Unix</span>.open_process_full</code></a>.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.08 (4.12 in UnixLabels)</li> </ul> </div> <pre id="VALclose_process_in" data-type="val close_process_in [Module Unix]" data-language="ocaml">val close_process_in : in_channel -&gt; process_status</pre>
<div class="info "> <div class="info-desc"> <p>Close channels opened by <a href="unix.html#VALopen_process_in"><code class="code"><span class="constructor">Unix</span>.open_process_in</code></a>, wait for the associated command to terminate, and return its termination status.</p> </div> </div> <pre id="VALclose_process_out" data-type="val close_process_out [Module Unix]" data-language="ocaml">val close_process_out : out_channel -&gt; process_status</pre>
<div class="info "> <div class="info-desc"> <p>Close channels opened by <a href="unix.html#VALopen_process_out"><code class="code"><span class="constructor">Unix</span>.open_process_out</code></a>, wait for the associated command to terminate, and return its termination status.</p> </div> </div> <pre id="VALclose_process" data-type="val close_process [Module Unix]" data-language="ocaml">val close_process : in_channel * out_channel -&gt; process_status</pre>
<div class="info "> <div class="info-desc"> <p>Close channels opened by <a href="unix.html#VALopen_process"><code class="code"><span class="constructor">Unix</span>.open_process</code></a>, wait for the associated command to terminate, and return its termination status.</p> </div> </div> <pre id="VALclose_process_full" data-type="val close_process_full [Module Unix]" data-language="ocaml">val close_process_full : in_channel * out_channel * in_channel -&gt;       process_status</pre>
<div class="info "> <div class="info-desc"> <p>Close channels opened by <a href="unix.html#VALopen_process_full"><code class="code"><span class="constructor">Unix</span>.open_process_full</code></a>, wait for the associated command to terminate, and return its termination status.</p> </div> </div> <h2 id="1_Symboliclinks">Symbolic links</h2> <pre id="VALsymlink" data-type="val symlink [Module Unix]" data-language="ocaml">val symlink : ?to_dir:bool -&gt; string -&gt; string -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">symlink ?to_dir src dst</code> creates the file <code class="code">dst</code> as a symbolic link to the file <code class="code">src</code>. On Windows, <code class="code">~to_dir</code> indicates if the symbolic link points to a directory or a file; if omitted, <code class="code">symlink</code> examines <code class="code">src</code> using <code class="code">stat</code> and picks appropriately, if <code class="code">src</code> does not exist then <code class="code"><span class="keyword">false</span></code> is assumed (for this reason, it is recommended that the <code class="code">~to_dir</code> parameter be specified in new code). On Unix, <code class="code">~to_dir</code> is ignored.</p> <p>Windows symbolic links are available in Windows Vista onwards. There are some important differences between Windows symlinks and their POSIX counterparts.</p> <p>Windows symbolic links come in two flavours: directory and regular, which designate whether the symbolic link points to a directory or a file. The type must be correct - a directory symlink which actually points to a file cannot be selected with chdir and a file symlink which actually points to a directory cannot be read or written (note that Cygwin's emulation layer ignores this distinction).</p> <p>When symbolic links are created to existing targets, this distinction doesn't matter and <code class="code">symlink</code> will automatically create the correct kind of symbolic link. The distinction matters when a symbolic link is created to a non-existent target.</p> <p>The other caveat is that by default symbolic links are a privileged operation. Administrators will always need to be running elevated (or with UAC disabled) and by default normal user accounts need to be granted the SeCreateSymbolicLinkPrivilege via Local Security Policy (secpol.msc) or via Active Directory.</p> <p><a href="unix.html#VALhas_symlink"><code class="code"><span class="constructor">Unix</span>.has_symlink</code></a> can be used to check that a process is able to create symbolic links.</p> </div> </div> <pre id="VALhas_symlink" data-type="val has_symlink [Module Unix]" data-language="ocaml">val has_symlink : unit -&gt; bool</pre>
<div class="info "> <div class="info-desc"> <p>Returns <code class="code"><span class="keyword">true</span></code> if the user is able to create symbolic links. On Windows, this indicates that the user not only has the SeCreateSymbolicLinkPrivilege but is also running elevated, if necessary. On other platforms, this is simply indicates that the symlink system call is available.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.03</li> </ul> </div> <pre id="VALreadlink" data-type="val readlink [Module Unix]" data-language="ocaml">val readlink : string -&gt; string</pre>
<div class="info "> <div class="info-desc"> <p>Read the contents of a symbolic link.</p> </div> </div> <h2 id="1_Polling">Polling</h2> <pre id="VALselect" data-type="val select [Module Unix]" data-language="ocaml">val select : file_descr list -&gt;       file_descr list -&gt;       file_descr list -&gt;       float -&gt; file_descr list * file_descr list * file_descr list</pre>
<div class="info "> <div class="info-desc"> <p>Wait until some input/output operations become possible on some channels. The three list arguments are, respectively, a set of descriptors to check for reading (first argument), for writing (second argument), or for exceptional conditions (third argument). The fourth argument is the maximal timeout, in seconds; a negative fourth argument means no timeout (unbounded wait). The result is composed of three sets of descriptors: those ready for reading (first component), ready for writing (second component), and over which an exceptional condition is pending (third component).</p> </div> </div> <h2 id="1_Locking">Locking</h2> <pre id="TYPElock_command" data-type="type lock_command [Module Unix]" data-language="ocaml">type lock_command = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTlock_command.F_ULOCK"><span class="constructor">F_ULOCK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Unlock a region</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTlock_command.F_LOCK"><span class="constructor">F_LOCK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Lock a region for writing, and block if already locked</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTlock_command.F_TLOCK"><span class="constructor">F_TLOCK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Lock a region for writing, or fail if already locked</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTlock_command.F_TEST"><span class="constructor">F_TEST</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Test a region for other process locks</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTlock_command.F_RLOCK"><span class="constructor">F_RLOCK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Lock a region for reading, and block if already locked</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTlock_command.F_TRLOCK"><span class="constructor">F_TRLOCK</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Lock a region for reading, or fail if already locked</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>Commands for <a href="unix.html#VALlockf"><code class="code"><span class="constructor">Unix</span>.lockf</code></a>.</p> </div> </div> <pre id="VALlockf" data-type="val lockf [Module Unix]" data-language="ocaml">val lockf : file_descr -&gt; lock_command -&gt; int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">lockf fd mode len</code> puts a lock on a region of the file opened as <code class="code">fd</code>. The region starts at the current read/write position for <code class="code">fd</code> (as set by <a href="unix.html#VALlseek"><code class="code"><span class="constructor">Unix</span>.lseek</code></a>), and extends <code class="code">len</code> bytes forward if <code class="code">len</code> is positive, <code class="code">len</code> bytes backwards if <code class="code">len</code> is negative, or to the end of the file if <code class="code">len</code> is zero. A write lock prevents any other process from acquiring a read or write lock on the region. A read lock prevents any other process from acquiring a write lock on the region, but lets other processes acquire read locks on it.</p> <p>The <code class="code"><span class="constructor">F_LOCK</span></code> and <code class="code"><span class="constructor">F_TLOCK</span></code> commands attempts to put a write lock on the specified region. The <code class="code"><span class="constructor">F_RLOCK</span></code> and <code class="code"><span class="constructor">F_TRLOCK</span></code> commands attempts to put a read lock on the specified region. If one or several locks put by another process prevent the current process from acquiring the lock, <code class="code"><span class="constructor">F_LOCK</span></code> and <code class="code"><span class="constructor">F_RLOCK</span></code> block until these locks are removed, while <code class="code"><span class="constructor">F_TLOCK</span></code> and <code class="code"><span class="constructor">F_TRLOCK</span></code> fail immediately with an exception. The <code class="code"><span class="constructor">F_ULOCK</span></code> removes whatever locks the current process has on the specified region. Finally, the <code class="code"><span class="constructor">F_TEST</span></code> command tests whether a write lock can be acquired on the specified region, without actually putting a lock. It returns immediately if successful, or fails otherwise.</p> <p>What happens when a process tries to lock a region of a file that is already locked by the same process depends on the OS. On POSIX-compliant systems, the second lock operation succeeds and may "promote" the older lock from read lock to write lock. On Windows, the second lock operation will block or fail.</p> </div> </div> <h2 id="1_Signals">Signals</h2>
<p>Note: installation of signal handlers is performed via the functions <a href="sys.html#VALsignal"><code class="code"><span class="constructor">Sys</span>.signal</code></a> and <a href="sys.html#VALset_signal"><code class="code"><span class="constructor">Sys</span>.set_signal</code></a>.</p> <pre id="VALkill" data-type="val kill [Module Unix]" data-language="ocaml">val kill : int -&gt; int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">kill pid signal</code> sends signal number <code class="code">signal</code> to the process with id <code class="code">pid</code>.</p> <p>On Windows: only the <a href="sys.html#VALsigkill"><code class="code"><span class="constructor">Sys</span>.sigkill</code></a> signal is emulated.</p> </div> </div> <pre id="TYPEsigprocmask_command" data-type="type sigprocmask_command [Module Unix]" data-language="ocaml">type sigprocmask_command = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsigprocmask_command.SIG_SETMASK"><span class="constructor">SIG_SETMASK</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsigprocmask_command.SIG_BLOCK"><span class="constructor">SIG_BLOCK</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsigprocmask_command.SIG_UNBLOCK"><span class="constructor">SIG_UNBLOCK</span></span></code>
</td> </tr>
</tbody>
</table> <pre id="VALsigprocmask" data-type="val sigprocmask [Module Unix]" data-language="ocaml">val sigprocmask : sigprocmask_command -&gt; int list -&gt; int list</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">sigprocmask mode sigs</code> changes the set of blocked signals. If <code class="code">mode</code> is <code class="code"><span class="constructor">SIG_SETMASK</span></code>, blocked signals are set to those in the list <code class="code">sigs</code>. If <code class="code">mode</code> is <code class="code"><span class="constructor">SIG_BLOCK</span></code>, the signals in <code class="code">sigs</code> are added to the set of blocked signals. If <code class="code">mode</code> is <code class="code"><span class="constructor">SIG_UNBLOCK</span></code>, the signals in <code class="code">sigs</code> are removed from the set of blocked signals. <code class="code">sigprocmask</code> returns the set of previously blocked signals.</p> <p>When the systhreads version of the <code class="code"><span class="constructor">Thread</span></code> module is loaded, this function redirects to <code class="code"><span class="constructor">Thread</span>.sigmask</code>. I.e., <code class="code">sigprocmask</code> only changes the mask of the current thread.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows (no inter-process signals on Windows)</li> </ul> </div> <pre id="VALsigpending" data-type="val sigpending [Module Unix]" data-language="ocaml">val sigpending : unit -&gt; int list</pre>
<div class="info "> <div class="info-desc"> <p>Return the set of blocked signals that are currently pending.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows (no inter-process signals on Windows)</li> </ul> </div> <pre id="VALsigsuspend" data-type="val sigsuspend [Module Unix]" data-language="ocaml">val sigsuspend : int list -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">sigsuspend sigs</code> atomically sets the blocked signals to <code class="code">sigs</code> and waits for a non-ignored, non-blocked signal to be delivered. On return, the blocked signals are reset to their initial value.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows (no inter-process signals on Windows)</li> </ul> </div> <pre id="VALpause" data-type="val pause [Module Unix]" data-language="ocaml">val pause : unit -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Wait until a non-ignored, non-blocked signal is delivered.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows (no inter-process signals on Windows)</li> </ul> </div> <h2 id="1_Timefunctions">Time functions</h2> <pre id="TYPEprocess_times" data-type="type process_times [Module Unix]" data-language="ocaml">type process_times = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTprocess_times.tms_utime">tms_utime</span> : <code class="type">float</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>User time for the process</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTprocess_times.tms_stime">tms_stime</span> : <code class="type">float</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>System time for the process</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTprocess_times.tms_cutime">tms_cutime</span> : <code class="type">float</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>User time for the children processes</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTprocess_times.tms_cstime">tms_cstime</span> : <code class="type">float</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>System time for the children processes</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>The execution times (CPU times) of a process.</p> </div> </div> <pre id="TYPEtm" data-type="type tm [Module Unix]" data-language="ocaml">type tm = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTtm.tm_sec">tm_sec</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Seconds 0..60</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTtm.tm_min">tm_min</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Minutes 0..59</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTtm.tm_hour">tm_hour</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Hours 0..23</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTtm.tm_mday">tm_mday</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Day of month 1..31</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTtm.tm_mon">tm_mon</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Month of year 0..11</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTtm.tm_year">tm_year</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Year - 1900</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTtm.tm_wday">tm_wday</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Day of week (Sunday is 0)</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTtm.tm_yday">tm_yday</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Day of year 0..365</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTtm.tm_isdst">tm_isdst</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Daylight time savings in effect</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>The type representing wallclock time and calendar date.</p> </div> </div> <pre id="VALtime" data-type="val time [Module Unix]" data-language="ocaml">val time : unit -&gt; float</pre>
<div class="info "> <div class="info-desc"> <p>Return the current time since 00:00:00 GMT, Jan. 1, 1970, in seconds.</p> </div> </div> <pre id="VALgettimeofday" data-type="val gettimeofday [Module Unix]" data-language="ocaml">val gettimeofday : unit -&gt; float</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALtime"><code class="code"><span class="constructor">Unix</span>.time</code></a>, but with resolution better than 1 second.</p> </div> </div> <pre id="VALgmtime" data-type="val gmtime [Module Unix]" data-language="ocaml">val gmtime : float -&gt; tm</pre>
<div class="info "> <div class="info-desc"> <p>Convert a time in seconds, as returned by <a href="unix.html#VALtime"><code class="code"><span class="constructor">Unix</span>.time</code></a>, into a date and a time. Assumes UTC (Coordinated Universal Time), also known as GMT. To perform the inverse conversion, set the TZ environment variable to "UTC", use <a href="unix.html#VALmktime"><code class="code"><span class="constructor">Unix</span>.mktime</code></a>, and then restore the original value of TZ.</p> </div> </div> <pre id="VALlocaltime" data-type="val localtime [Module Unix]" data-language="ocaml">val localtime : float -&gt; tm</pre>
<div class="info "> <div class="info-desc"> <p>Convert a time in seconds, as returned by <a href="unix.html#VALtime"><code class="code"><span class="constructor">Unix</span>.time</code></a>, into a date and a time. Assumes the local time zone. The function performing the inverse conversion is <a href="unix.html#VALmktime"><code class="code"><span class="constructor">Unix</span>.mktime</code></a>.</p> </div> </div> <pre id="VALmktime" data-type="val mktime [Module Unix]" data-language="ocaml">val mktime : tm -&gt; float * tm</pre>
<div class="info "> <div class="info-desc"> <p>Convert a date and time, specified by the <code class="code">tm</code> argument, into a time in seconds, as returned by <a href="unix.html#VALtime"><code class="code"><span class="constructor">Unix</span>.time</code></a>. The <code class="code">tm_isdst</code>, <code class="code">tm_wday</code> and <code class="code">tm_yday</code> fields of <code class="code">tm</code> are ignored. Also return a normalized copy of the given <code class="code">tm</code> record, with the <code class="code">tm_wday</code>, <code class="code">tm_yday</code>, and <code class="code">tm_isdst</code> fields recomputed from the other fields, and the other fields normalized (so that, e.g., 40 October is changed into 9 November). The <code class="code">tm</code> argument is interpreted in the local time zone.</p> </div> </div> <pre id="VALalarm" data-type="val alarm [Module Unix]" data-language="ocaml">val alarm : int -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Schedule a <code class="code"><span class="constructor">SIGALRM</span></code> signal after the given number of seconds.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALsleep" data-type="val sleep [Module Unix]" data-language="ocaml">val sleep : int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Stop execution for the given number of seconds.</p> </div> </div> <pre id="VALsleepf" data-type="val sleepf [Module Unix]" data-language="ocaml">val sleepf : float -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Stop execution for the given number of seconds. Like <code class="code">sleep</code>, but fractions of seconds are supported.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.03 (4.12 in UnixLabels)</li> </ul> </div> <pre id="VALtimes" data-type="val times [Module Unix]" data-language="ocaml">val times : unit -&gt; process_times</pre>
<div class="info "> <div class="info-desc"> <p>Return the execution times of the process.</p> <p>On Windows: partially implemented, will not report timings for child processes.</p> </div> </div> <pre id="VALutimes" data-type="val utimes [Module Unix]" data-language="ocaml">val utimes : string -&gt; float -&gt; float -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Set the last access time (second arg) and last modification time (third arg) for a file. Times are expressed in seconds from 00:00:00 GMT, Jan. 1, 1970. If both times are <code class="code">0.0</code>, the access and last modification times are both set to the current time.</p> </div> </div> <pre id="TYPEinterval_timer" data-type="type interval_timer [Module Unix]" data-language="ocaml">type interval_timer = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTinterval_timer.ITIMER_REAL"><span class="constructor">ITIMER_REAL</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>decrements in real time, and sends the signal <code class="code"><span class="constructor">SIGALRM</span></code> when expired.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTinterval_timer.ITIMER_VIRTUAL"><span class="constructor">ITIMER_VIRTUAL</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>decrements in process virtual time, and sends <code class="code"><span class="constructor">SIGVTALRM</span></code> when expired.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTinterval_timer.ITIMER_PROF"><span class="constructor">ITIMER_PROF</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>(for profiling) decrements both when the process is running and when the system is running on behalf of the process; it sends <code class="code"><span class="constructor">SIGPROF</span></code> when expired.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The three kinds of interval timers.</p> </div> </div> <pre id="TYPEinterval_timer_status" data-type="type interval_timer_status [Module Unix]" data-language="ocaml">type interval_timer_status = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTinterval_timer_status.it_interval">it_interval</span> : <code class="type">float</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Period</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTinterval_timer_status.it_value">it_value</span> : <code class="type">float</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Current value of the timer</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>The type describing the status of an interval timer</p> </div> </div> <pre id="VALgetitimer" data-type="val getitimer [Module Unix]" data-language="ocaml">val getitimer : interval_timer -&gt; interval_timer_status</pre>
<div class="info "> <div class="info-desc"> <p>Return the current status of the given interval timer.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALsetitimer" data-type="val setitimer [Module Unix]" data-language="ocaml">val setitimer : interval_timer -&gt;       interval_timer_status -&gt; interval_timer_status</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">setitimer t s</code> sets the interval timer <code class="code">t</code> and returns its previous status. The <code class="code">s</code> argument is interpreted as follows: <code class="code">s.it_value</code>, if nonzero, is the time to the next timer expiration; <code class="code">s.it_interval</code>, if nonzero, specifies a value to be used in reloading <code class="code">it_value</code> when the timer expires. Setting <code class="code">s.it_value</code> to zero disables the timer. Setting <code class="code">s.it_interval</code> to zero causes the timer to be disabled after its next expiration.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <h2 id="1_Useridgroupid">User id, group id</h2> <pre id="VALgetuid" data-type="val getuid [Module Unix]" data-language="ocaml">val getuid : unit -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the user id of the user executing the process.</p> <p>On Windows: always returns <code class="code">1</code>.</p> </div> </div> <pre id="VALgeteuid" data-type="val geteuid [Module Unix]" data-language="ocaml">val geteuid : unit -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the effective user id under which the process runs.</p> <p>On Windows: always returns <code class="code">1</code>.</p> </div> </div> <pre id="VALsetuid" data-type="val setuid [Module Unix]" data-language="ocaml">val setuid : int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Set the real user id and effective user id for the process.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALgetgid" data-type="val getgid [Module Unix]" data-language="ocaml">val getgid : unit -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the group id of the user executing the process.</p> <p>On Windows: always returns <code class="code">1</code>.</p> </div> </div> <pre id="VALgetegid" data-type="val getegid [Module Unix]" data-language="ocaml">val getegid : unit -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the effective group id under which the process runs.</p> <p>On Windows: always returns <code class="code">1</code>.</p> </div> </div> <pre id="VALsetgid" data-type="val setgid [Module Unix]" data-language="ocaml">val setgid : int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Set the real group id and effective group id for the process.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALgetgroups" data-type="val getgroups [Module Unix]" data-language="ocaml">val getgroups : unit -&gt; int array</pre>
<div class="info "> <div class="info-desc"> <p>Return the list of groups to which the user executing the process belongs.</p> <p>On Windows: always returns <code class="code">[|1|]</code>.</p> </div> </div> <pre id="VALsetgroups" data-type="val setgroups [Module Unix]" data-language="ocaml">val setgroups : int array -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">setgroups groups</code> sets the supplementary group IDs for the calling process. Appropriate privileges are required.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALinitgroups" data-type="val initgroups [Module Unix]" data-language="ocaml">val initgroups : string -&gt; int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">initgroups user group</code> initializes the group access list by reading the group database /etc/group and using all groups of which <code class="code">user</code> is a member. The additional group <code class="code">group</code> is also added to the list.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="TYPEpasswd_entry" data-type="type passwd_entry [Module Unix]" data-language="ocaml">type passwd_entry = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTpasswd_entry.pw_name">pw_name</span> : <code class="type">string</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTpasswd_entry.pw_passwd">pw_passwd</span> : <code class="type">string</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTpasswd_entry.pw_uid">pw_uid</span> : <code class="type">int</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTpasswd_entry.pw_gid">pw_gid</span> : <code class="type">int</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTpasswd_entry.pw_gecos">pw_gecos</span> : <code class="type">string</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTpasswd_entry.pw_dir">pw_dir</span> : <code class="type">string</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTpasswd_entry.pw_shell">pw_shell</span> : <code class="type">string</code>;</code>
</td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>Structure of entries in the <code class="code">passwd</code> database.</p> </div> </div> <pre id="TYPEgroup_entry" data-type="type group_entry [Module Unix]" data-language="ocaml">type group_entry = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTgroup_entry.gr_name">gr_name</span> : <code class="type">string</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTgroup_entry.gr_passwd">gr_passwd</span> : <code class="type">string</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTgroup_entry.gr_gid">gr_gid</span> : <code class="type">int</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTgroup_entry.gr_mem">gr_mem</span> : <code class="type">string array</code>;</code>
</td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>Structure of entries in the <code class="code">groups</code> database.</p> </div> </div> <pre id="VALgetlogin" data-type="val getlogin [Module Unix]" data-language="ocaml">val getlogin : unit -&gt; string</pre>
<div class="info "> <div class="info-desc"> <p>Return the login name of the user executing the process.</p> </div> </div> <pre id="VALgetpwnam" data-type="val getpwnam [Module Unix]" data-language="ocaml">val getpwnam : string -&gt; passwd_entry</pre>
<div class="info "> <div class="info-desc"> <p>Find an entry in <code class="code">passwd</code> with the given name.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if no such entry exists, or always on Windows.</li> </ul> </div> <pre id="VALgetgrnam" data-type="val getgrnam [Module Unix]" data-language="ocaml">val getgrnam : string -&gt; group_entry</pre>
<div class="info "> <div class="info-desc"> <p>Find an entry in <code class="code">group</code> with the given name.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if no such entry exists, or always on Windows.</li> </ul> </div> <pre id="VALgetpwuid" data-type="val getpwuid [Module Unix]" data-language="ocaml">val getpwuid : int -&gt; passwd_entry</pre>
<div class="info "> <div class="info-desc"> <p>Find an entry in <code class="code">passwd</code> with the given user id.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if no such entry exists, or always on Windows.</li> </ul> </div> <pre id="VALgetgrgid" data-type="val getgrgid [Module Unix]" data-language="ocaml">val getgrgid : int -&gt; group_entry</pre>
<div class="info "> <div class="info-desc"> <p>Find an entry in <code class="code">group</code> with the given group id.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if no such entry exists, or always on Windows.</li> </ul> </div> <h2 id="1_Internetaddresses">Internet addresses</h2> <pre id="TYPEinet_addr" data-type="type inet_addr [Module Unix]" data-language="ocaml">type inet_addr </pre> <div class="info "> <div class="info-desc"> <p>The abstract type of Internet addresses.</p> </div> </div> <pre id="VALinet_addr_of_string" data-type="val inet_addr_of_string [Module Unix]" data-language="ocaml">val inet_addr_of_string : string -&gt; inet_addr</pre>
<div class="info "> <div class="info-desc"> <p>Conversion from the printable representation of an Internet address to its internal representation. The argument string consists of 4 numbers separated by periods (<code class="code"><span class="constructor">XXX</span>.<span class="constructor">YYY</span>.<span class="constructor">ZZZ</span>.<span class="constructor">TTT</span></code>) for IPv4 addresses, and up to 8 numbers separated by colons for IPv6 addresses.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Failure</code> when given a string that does not match these formats.</li> </ul> </div> <pre id="VALstring_of_inet_addr" data-type="val string_of_inet_addr [Module Unix]" data-language="ocaml">val string_of_inet_addr : inet_addr -&gt; string</pre>
<div class="info "> <div class="info-desc"> <p>Return the printable representation of the given Internet address. See <a href="unix.html#VALinet_addr_of_string"><code class="code"><span class="constructor">Unix</span>.inet_addr_of_string</code></a> for a description of the printable representation.</p> </div> </div> <pre id="VALinet_addr_any" data-type="val inet_addr_any [Module Unix]" data-language="ocaml">val inet_addr_any : inet_addr</pre>
<div class="info "> <div class="info-desc"> <p>A special IPv4 address, for use only with <code class="code">bind</code>, representing all the Internet addresses that the host machine possesses.</p> </div> </div> <pre id="VALinet_addr_loopback" data-type="val inet_addr_loopback [Module Unix]" data-language="ocaml">val inet_addr_loopback : inet_addr</pre>
<div class="info "> <div class="info-desc"> <p>A special IPv4 address representing the host machine (<code class="code">127.0.0.1</code>).</p> </div> </div> <pre id="VALinet6_addr_any" data-type="val inet6_addr_any [Module Unix]" data-language="ocaml">val inet6_addr_any : inet_addr</pre>
<div class="info "> <div class="info-desc"> <p>A special IPv6 address, for use only with <code class="code">bind</code>, representing all the Internet addresses that the host machine possesses.</p> </div> </div> <pre id="VALinet6_addr_loopback" data-type="val inet6_addr_loopback [Module Unix]" data-language="ocaml">val inet6_addr_loopback : inet_addr</pre>
<div class="info "> <div class="info-desc"> <p>A special IPv6 address representing the host machine (<code class="code">::1</code>).</p> </div> </div> <pre id="VALis_inet6_addr" data-type="val is_inet6_addr [Module Unix]" data-language="ocaml">val is_inet6_addr : inet_addr -&gt; bool</pre>
<div class="info "> <div class="info-desc"> <p>Whether the given <code class="code">inet_addr</code> is an IPv6 address.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.12</li> </ul> </div> <h2 id="1_Sockets">Sockets</h2> <pre id="TYPEsocket_domain" data-type="type socket_domain [Module Unix]" data-language="ocaml">type socket_domain = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_domain.PF_UNIX"><span class="constructor">PF_UNIX</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Unix domain</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_domain.PF_INET"><span class="constructor">PF_INET</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Internet domain (IPv4)</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_domain.PF_INET6"><span class="constructor">PF_INET6</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Internet domain (IPv6)</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The type of socket domains. Not all platforms support IPv6 sockets (type <code class="code"><span class="constructor">PF_INET6</span></code>).</p> <p>On Windows: <code class="code"><span class="constructor">PF_UNIX</span></code> supported since 4.14.0 on Windows 10 1803 and later.</p> </div> </div> <pre id="TYPEsocket_type" data-type="type socket_type [Module Unix]" data-language="ocaml">type socket_type = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_type.SOCK_STREAM"><span class="constructor">SOCK_STREAM</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Stream socket</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_type.SOCK_DGRAM"><span class="constructor">SOCK_DGRAM</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Datagram socket</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_type.SOCK_RAW"><span class="constructor">SOCK_RAW</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Raw socket</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_type.SOCK_SEQPACKET"><span class="constructor">SOCK_SEQPACKET</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Sequenced packets socket</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The type of socket kinds, specifying the semantics of communications. <code class="code"><span class="constructor">SOCK_SEQPACKET</span></code> is included for completeness, but is rarely supported by the OS, and needs system calls that are not available in this library.</p> </div> </div> <pre id="TYPEsockaddr" data-type="type sockaddr [Module Unix]" data-language="ocaml">type sockaddr = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsockaddr.ADDR_UNIX"><span class="constructor">ADDR_UNIX</span></span> <span class="keyword">of</span> <code class="type">string</code></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsockaddr.ADDR_INET"><span class="constructor">ADDR_INET</span></span> <span class="keyword">of</span> <code class="type"><a href="unix.html#TYPEinet_addr">inet_addr</a> * int</code></code>
</td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The type of socket addresses. <code class="code"><span class="constructor">ADDR_UNIX</span> name</code> is a socket address in the Unix domain; <code class="code">name</code> is a file name in the file system. <code class="code"><span class="constructor">ADDR_INET</span>(addr,port)</code> is a socket address in the Internet domain; <code class="code">addr</code> is the Internet address of the machine, and <code class="code">port</code> is the port number.</p> </div> </div> <pre id="VALsocket" data-type="val socket [Module Unix]" data-language="ocaml">val socket : ?cloexec:bool -&gt;       socket_domain -&gt; socket_type -&gt; int -&gt; file_descr</pre>
<div class="info "> <div class="info-desc"> <p>Create a new socket in the given domain, and with the given kind. The third argument is the protocol type; 0 selects the default protocol for that kind of sockets. See <a href="unix.html#VALset_close_on_exec"><code class="code"><span class="constructor">Unix</span>.set_close_on_exec</code></a> for documentation on the <code class="code">cloexec</code> optional argument.</p> </div> </div> <pre id="VALdomain_of_sockaddr" data-type="val domain_of_sockaddr [Module Unix]" data-language="ocaml">val domain_of_sockaddr : sockaddr -&gt; socket_domain</pre>
<div class="info "> <div class="info-desc"> <p>Return the socket domain adequate for the given socket address.</p> </div> </div> <pre id="VALsocketpair" data-type="val socketpair [Module Unix]" data-language="ocaml">val socketpair : ?cloexec:bool -&gt;       socket_domain -&gt;       socket_type -&gt; int -&gt; file_descr * file_descr</pre>
<div class="info "> <div class="info-desc"> <p>Create a pair of unnamed sockets, connected together. See <a href="unix.html#VALset_close_on_exec"><code class="code"><span class="constructor">Unix</span>.set_close_on_exec</code></a> for documentation on the <code class="code">cloexec</code> optional argument.</p> </div> </div> <pre id="VALaccept" data-type="val accept [Module Unix]" data-language="ocaml">val accept : ?cloexec:bool -&gt; file_descr -&gt; file_descr * sockaddr</pre>
<div class="info "> <div class="info-desc"> <p>Accept connections on the given socket. The returned descriptor is a socket connected to the client; the returned address is the address of the connecting client. See <a href="unix.html#VALset_close_on_exec"><code class="code"><span class="constructor">Unix</span>.set_close_on_exec</code></a> for documentation on the <code class="code">cloexec</code> optional argument.</p> </div> </div> <pre id="VALbind" data-type="val bind [Module Unix]" data-language="ocaml">val bind : file_descr -&gt; sockaddr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Bind a socket to an address.</p> </div> </div> <pre id="VALconnect" data-type="val connect [Module Unix]" data-language="ocaml">val connect : file_descr -&gt; sockaddr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Connect a socket to an address.</p> </div> </div> <pre id="VALlisten" data-type="val listen [Module Unix]" data-language="ocaml">val listen : file_descr -&gt; int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Set up a socket for receiving connection requests. The integer argument is the maximal number of pending requests.</p> </div> </div> <pre id="TYPEshutdown_command" data-type="type shutdown_command [Module Unix]" data-language="ocaml">type shutdown_command = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTshutdown_command.SHUTDOWN_RECEIVE"><span class="constructor">SHUTDOWN_RECEIVE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Close for receiving</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTshutdown_command.SHUTDOWN_SEND"><span class="constructor">SHUTDOWN_SEND</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Close for sending</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTshutdown_command.SHUTDOWN_ALL"><span class="constructor">SHUTDOWN_ALL</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Close both</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The type of commands for <code class="code">shutdown</code>.</p> </div> </div> <pre id="VALshutdown" data-type="val shutdown [Module Unix]" data-language="ocaml">val shutdown : file_descr -&gt; shutdown_command -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Shutdown a socket connection. <code class="code"><span class="constructor">SHUTDOWN_SEND</span></code> as second argument causes reads on the other end of the connection to return an end-of-file condition. <code class="code"><span class="constructor">SHUTDOWN_RECEIVE</span></code> causes writes on the other end of the connection to return a closed pipe condition (<code class="code"><span class="constructor">SIGPIPE</span></code> signal).</p> </div> </div> <pre id="VALgetsockname" data-type="val getsockname [Module Unix]" data-language="ocaml">val getsockname : file_descr -&gt; sockaddr</pre>
<div class="info "> <div class="info-desc"> <p>Return the address of the given socket.</p> </div> </div> <pre id="VALgetpeername" data-type="val getpeername [Module Unix]" data-language="ocaml">val getpeername : file_descr -&gt; sockaddr</pre>
<div class="info "> <div class="info-desc"> <p>Return the address of the host connected to the given socket.</p> </div> </div> <pre id="TYPEmsg_flag" data-type="type msg_flag [Module Unix]" data-language="ocaml">type msg_flag = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTmsg_flag.MSG_OOB"><span class="constructor">MSG_OOB</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTmsg_flag.MSG_DONTROUTE"><span class="constructor">MSG_DONTROUTE</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTmsg_flag.MSG_PEEK"><span class="constructor">MSG_PEEK</span></span></code>
</td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The flags for <a href="unix.html#VALrecv"><code class="code"><span class="constructor">Unix</span>.recv</code></a>, <a href="unix.html#VALrecvfrom"><code class="code"><span class="constructor">Unix</span>.recvfrom</code></a>, <a href="unix.html#VALsend"><code class="code"><span class="constructor">Unix</span>.send</code></a> and <a href="unix.html#VALsendto"><code class="code"><span class="constructor">Unix</span>.sendto</code></a>.</p> </div> </div> <pre id="VALrecv" data-type="val recv [Module Unix]" data-language="ocaml">val recv : file_descr -&gt; bytes -&gt; int -&gt; int -&gt; msg_flag list -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Receive data from a connected socket.</p> </div> </div> <pre id="VALrecvfrom" data-type="val recvfrom [Module Unix]" data-language="ocaml">val recvfrom : file_descr -&gt;       bytes -&gt; int -&gt; int -&gt; msg_flag list -&gt; int * sockaddr</pre>
<div class="info "> <div class="info-desc"> <p>Receive data from an unconnected socket.</p> </div> </div> <pre id="VALsend" data-type="val send [Module Unix]" data-language="ocaml">val send : file_descr -&gt; bytes -&gt; int -&gt; int -&gt; msg_flag list -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Send data over a connected socket.</p> </div> </div> <pre id="VALsend_substring" data-type="val send_substring [Module Unix]" data-language="ocaml">val send_substring : file_descr -&gt; string -&gt; int -&gt; int -&gt; msg_flag list -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Same as <code class="code">send</code>, but take the data from a string instead of a byte sequence.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.02</li> </ul> </div> <pre id="VALsendto" data-type="val sendto [Module Unix]" data-language="ocaml">val sendto : file_descr -&gt;       bytes -&gt; int -&gt; int -&gt; msg_flag list -&gt; sockaddr -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Send data over an unconnected socket.</p> </div> </div> <pre id="VALsendto_substring" data-type="val sendto_substring [Module Unix]" data-language="ocaml">val sendto_substring : file_descr -&gt;       string -&gt; int -&gt; int -&gt; msg_flag list -&gt; sockaddr -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Same as <code class="code">sendto</code>, but take the data from a string instead of a byte sequence.</p> </div> <ul class="info-attributes"> <li>
<b>Since</b> 4.02</li> </ul> </div> <h2 id="1_Socketoptions">Socket options</h2> <pre id="TYPEsocket_bool_option" data-type="type socket_bool_option [Module Unix]" data-language="ocaml">type socket_bool_option = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_bool_option.SO_DEBUG"><span class="constructor">SO_DEBUG</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Record debugging information</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_bool_option.SO_BROADCAST"><span class="constructor">SO_BROADCAST</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Permit sending of broadcast messages</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_bool_option.SO_REUSEADDR"><span class="constructor">SO_REUSEADDR</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Allow reuse of local addresses for bind</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_bool_option.SO_KEEPALIVE"><span class="constructor">SO_KEEPALIVE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Keep connection active</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_bool_option.SO_DONTROUTE"><span class="constructor">SO_DONTROUTE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Bypass the standard routing algorithms</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_bool_option.SO_OOBINLINE"><span class="constructor">SO_OOBINLINE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Leave out-of-band data in line</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_bool_option.SO_ACCEPTCONN"><span class="constructor">SO_ACCEPTCONN</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Report whether socket listening is enabled</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_bool_option.TCP_NODELAY"><span class="constructor">TCP_NODELAY</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Control the Nagle algorithm for TCP sockets</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_bool_option.IPV6_ONLY"><span class="constructor">IPV6_ONLY</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Forbid binding an IPv6 socket to an IPv4 address</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_bool_option.SO_REUSEPORT"><span class="constructor">SO_REUSEPORT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Allow reuse of address and port bindings</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The socket options that can be consulted with <a href="unix.html#VALgetsockopt"><code class="code"><span class="constructor">Unix</span>.getsockopt</code></a> and modified with <a href="unix.html#VALsetsockopt"><code class="code"><span class="constructor">Unix</span>.setsockopt</code></a>. These options have a boolean (<code class="code"><span class="keyword">true</span></code>/<code class="code"><span class="keyword">false</span></code>) value.</p> </div> </div> <pre id="TYPEsocket_int_option" data-type="type socket_int_option [Module Unix]" data-language="ocaml">type socket_int_option = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_int_option.SO_SNDBUF"><span class="constructor">SO_SNDBUF</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Size of send buffer</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_int_option.SO_RCVBUF"><span class="constructor">SO_RCVBUF</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Size of received buffer</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_int_option.SO_ERROR"><span class="constructor">SO_ERROR</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-deprecated"> <span class="warning">Deprecated. </span>Use Unix.getsockopt_error instead.</div> <div class="info-desc"> <p>Deprecated. Use <a href="unix.html#VALgetsockopt_error"><code class="code"><span class="constructor">Unix</span>.getsockopt_error</code></a> instead.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_int_option.SO_TYPE"><span class="constructor">SO_TYPE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Report the socket type</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_int_option.SO_RCVLOWAT"><span class="constructor">SO_RCVLOWAT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Minimum number of bytes to process for input operations</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_int_option.SO_SNDLOWAT"><span class="constructor">SO_SNDLOWAT</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Minimum number of bytes to process for output operations</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The socket options that can be consulted with <a href="unix.html#VALgetsockopt_int"><code class="code"><span class="constructor">Unix</span>.getsockopt_int</code></a> and modified with <a href="unix.html#VALsetsockopt_int"><code class="code"><span class="constructor">Unix</span>.setsockopt_int</code></a>. These options have an integer value.</p> </div> </div> <pre id="TYPEsocket_optint_option" data-type="type socket_optint_option [Module Unix]" data-language="ocaml">type socket_optint_option = </pre>
<table class="typetable"> <tbody><tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_optint_option.SO_LINGER"><span class="constructor">SO_LINGER</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Whether to linger on closed connections that have data present, and for how long (in seconds)</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr></tbody>
</table> <div class="info "> <div class="info-desc"> <p>The socket options that can be consulted with <a href="unix.html#VALgetsockopt_optint"><code class="code"><span class="constructor">Unix</span>.getsockopt_optint</code></a> and modified with <a href="unix.html#VALsetsockopt_optint"><code class="code"><span class="constructor">Unix</span>.setsockopt_optint</code></a>. These options have a value of type <code class="code">int option</code>, with <code class="code"><span class="constructor">None</span></code> meaning ``disabled''.</p> </div> </div> <pre id="TYPEsocket_float_option" data-type="type socket_float_option [Module Unix]" data-language="ocaml">type socket_float_option = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_float_option.SO_RCVTIMEO"><span class="constructor">SO_RCVTIMEO</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Timeout for input operations</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsocket_float_option.SO_SNDTIMEO"><span class="constructor">SO_SNDTIMEO</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Timeout for output operations</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>The socket options that can be consulted with <a href="unix.html#VALgetsockopt_float"><code class="code"><span class="constructor">Unix</span>.getsockopt_float</code></a> and modified with <a href="unix.html#VALsetsockopt_float"><code class="code"><span class="constructor">Unix</span>.setsockopt_float</code></a>. These options have a floating-point value representing a time in seconds. The value 0 means infinite timeout.</p> </div> </div> <pre id="VALgetsockopt" data-type="val getsockopt [Module Unix]" data-language="ocaml">val getsockopt : file_descr -&gt; socket_bool_option -&gt; bool</pre>
<div class="info "> <div class="info-desc"> <p>Return the current status of a boolean-valued option in the given socket.</p> </div> </div> <pre id="VALsetsockopt" data-type="val setsockopt [Module Unix]" data-language="ocaml">val setsockopt : file_descr -&gt; socket_bool_option -&gt; bool -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Set or clear a boolean-valued option in the given socket.</p> </div> </div> <pre id="VALgetsockopt_int" data-type="val getsockopt_int [Module Unix]" data-language="ocaml">val getsockopt_int : file_descr -&gt; socket_int_option -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALgetsockopt"><code class="code"><span class="constructor">Unix</span>.getsockopt</code></a> for an integer-valued socket option.</p> </div> </div> <pre id="VALsetsockopt_int" data-type="val setsockopt_int [Module Unix]" data-language="ocaml">val setsockopt_int : file_descr -&gt; socket_int_option -&gt; int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALsetsockopt"><code class="code"><span class="constructor">Unix</span>.setsockopt</code></a> for an integer-valued socket option.</p> </div> </div> <pre id="VALgetsockopt_optint" data-type="val getsockopt_optint [Module Unix]" data-language="ocaml">val getsockopt_optint : file_descr -&gt; socket_optint_option -&gt; int option</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALgetsockopt"><code class="code"><span class="constructor">Unix</span>.getsockopt</code></a> for a socket option whose value is an <code class="code">int option</code>.</p> </div> </div> <pre id="VALsetsockopt_optint" data-type="val setsockopt_optint [Module Unix]" data-language="ocaml">val setsockopt_optint : file_descr -&gt; socket_optint_option -&gt; int option -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALsetsockopt"><code class="code"><span class="constructor">Unix</span>.setsockopt</code></a> for a socket option whose value is an <code class="code">int option</code>.</p> </div> </div> <pre id="VALgetsockopt_float" data-type="val getsockopt_float [Module Unix]" data-language="ocaml">val getsockopt_float : file_descr -&gt; socket_float_option -&gt; float</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALgetsockopt"><code class="code"><span class="constructor">Unix</span>.getsockopt</code></a> for a socket option whose value is a floating-point number.</p> </div> </div> <pre id="VALsetsockopt_float" data-type="val setsockopt_float [Module Unix]" data-language="ocaml">val setsockopt_float : file_descr -&gt; socket_float_option -&gt; float -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Same as <a href="unix.html#VALsetsockopt"><code class="code"><span class="constructor">Unix</span>.setsockopt</code></a> for a socket option whose value is a floating-point number.</p> </div> </div> <pre id="VALgetsockopt_error" data-type="val getsockopt_error [Module Unix]" data-language="ocaml">val getsockopt_error : file_descr -&gt; error option</pre>
<div class="info "> <div class="info-desc"> <p>Return the error condition associated with the given socket, and clear it.</p> </div> </div> <h2 id="1_Highlevelnetworkconnectionfunctions">High-level network connection functions</h2> <pre id="VALopen_connection" data-type="val open_connection [Module Unix]" data-language="ocaml">val open_connection : sockaddr -&gt; in_channel * out_channel</pre>
<div class="info "> <div class="info-desc"> <p>Connect to a server at the given address. Return a pair of buffered channels connected to the server. Remember to call <a href="stdlib.html#VALflush"><code class="code">flush</code></a> on the output channel at the right times to ensure correct synchronization.</p> <p>The two channels returned by <code class="code">open_connection</code> share a descriptor to a socket. Therefore, when the connection is over, you should call <a href="stdlib.html#VALclose_out"><code class="code">close_out</code></a> on the output channel, which will also close the underlying socket. Do not call <a href="stdlib.html#VALclose_in"><code class="code">close_in</code></a> on the input channel; it will be collected by the GC eventually.</p> </div> </div> <pre id="VALshutdown_connection" data-type="val shutdown_connection [Module Unix]" data-language="ocaml">val shutdown_connection : in_channel -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>``Shut down'' a connection established with <a href="unix.html#VALopen_connection"><code class="code"><span class="constructor">Unix</span>.open_connection</code></a>; that is, transmit an end-of-file condition to the server reading on the other side of the connection. This does not close the socket and the channels used by the connection. See <a href="unix.html#VALopen_connection"><code class="code"><span class="constructor">Unix</span>.open_connection</code></a> for how to close them once the connection is over.</p> </div> </div> <pre id="VALestablish_server" data-type="val establish_server [Module Unix]" data-language="ocaml">val establish_server : (in_channel -&gt; out_channel -&gt; unit) -&gt; sockaddr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Establish a server on the given address. The function given as first argument is called for each connection with two buffered channels connected to the client. A new process is created for each connection. The function <a href="unix.html#VALestablish_server"><code class="code"><span class="constructor">Unix</span>.establish_server</code></a> never returns normally.</p> <p>The two channels given to the function share a descriptor to a socket. The function does not need to close the channels, since this occurs automatically when the function returns. If the function prefers explicit closing, it should close the output channel using <a href="stdlib.html#VALclose_out"><code class="code">close_out</code></a> and leave the input channel unclosed, for reasons explained in <a href="unix.html#VALin_channel_of_descr"><code class="code"><span class="constructor">Unix</span>.in_channel_of_descr</code></a>.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows. Use threads instead.</li> </ul> </div> <h2 id="1_Hostandprotocoldatabases">Host and protocol databases</h2> <pre id="TYPEhost_entry" data-type="type host_entry [Module Unix]" data-language="ocaml">type host_entry = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELThost_entry.h_name">h_name</span> : <code class="type">string</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELThost_entry.h_aliases">h_aliases</span> : <code class="type">string array</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELThost_entry.h_addrtype">h_addrtype</span> : <code class="type"><a href="unix.html#TYPEsocket_domain">socket_domain</a></code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELThost_entry.h_addr_list">h_addr_list</span> : <code class="type"><a href="unix.html#TYPEinet_addr">inet_addr</a> array</code>;</code>
</td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>Structure of entries in the <code class="code">hosts</code> database.</p> </div> </div> <pre id="TYPEprotocol_entry" data-type="type protocol_entry [Module Unix]" data-language="ocaml">type protocol_entry = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTprotocol_entry.p_name">p_name</span> : <code class="type">string</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTprotocol_entry.p_aliases">p_aliases</span> : <code class="type">string array</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTprotocol_entry.p_proto">p_proto</span> : <code class="type">int</code>;</code>
</td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>Structure of entries in the <code class="code">protocols</code> database.</p> </div> </div> <pre id="TYPEservice_entry" data-type="type service_entry [Module Unix]" data-language="ocaml">type service_entry = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTservice_entry.s_name">s_name</span> : <code class="type">string</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTservice_entry.s_aliases">s_aliases</span> : <code class="type">string array</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTservice_entry.s_port">s_port</span> : <code class="type">int</code>;</code>
</td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTservice_entry.s_proto">s_proto</span> : <code class="type">string</code>;</code>
</td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>Structure of entries in the <code class="code">services</code> database.</p> </div> </div> <pre id="VALgethostname" data-type="val gethostname [Module Unix]" data-language="ocaml">val gethostname : unit -&gt; string</pre>
<div class="info "> <div class="info-desc"> <p>Return the name of the local host.</p> </div> </div> <pre id="VALgethostbyname" data-type="val gethostbyname [Module Unix]" data-language="ocaml">val gethostbyname : string -&gt; host_entry</pre>
<div class="info "> <div class="info-desc"> <p>Find an entry in <code class="code">hosts</code> with the given name.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if no such entry exists.</li> </ul> </div> <pre id="VALgethostbyaddr" data-type="val gethostbyaddr [Module Unix]" data-language="ocaml">val gethostbyaddr : inet_addr -&gt; host_entry</pre>
<div class="info "> <div class="info-desc"> <p>Find an entry in <code class="code">hosts</code> with the given address.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if no such entry exists.</li> </ul> </div> <pre id="VALgetprotobyname" data-type="val getprotobyname [Module Unix]" data-language="ocaml">val getprotobyname : string -&gt; protocol_entry</pre>
<div class="info "> <div class="info-desc"> <p>Find an entry in <code class="code">protocols</code> with the given name.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if no such entry exists.</li> </ul> </div> <pre id="VALgetprotobynumber" data-type="val getprotobynumber [Module Unix]" data-language="ocaml">val getprotobynumber : int -&gt; protocol_entry</pre>
<div class="info "> <div class="info-desc"> <p>Find an entry in <code class="code">protocols</code> with the given protocol number.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if no such entry exists.</li> </ul> </div> <pre id="VALgetservbyname" data-type="val getservbyname [Module Unix]" data-language="ocaml">val getservbyname : string -&gt; string -&gt; service_entry</pre>
<div class="info "> <div class="info-desc"> <p>Find an entry in <code class="code">services</code> with the given name.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if no such entry exists.</li> </ul> </div> <pre id="VALgetservbyport" data-type="val getservbyport [Module Unix]" data-language="ocaml">val getservbyport : int -&gt; string -&gt; service_entry</pre>
<div class="info "> <div class="info-desc"> <p>Find an entry in <code class="code">services</code> with the given service number.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if no such entry exists.</li> </ul> </div> <pre id="TYPEaddr_info" data-type="type addr_info [Module Unix]" data-language="ocaml">type addr_info = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTaddr_info.ai_family">ai_family</span> : <code class="type"><a href="unix.html#TYPEsocket_domain">socket_domain</a></code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Socket domain</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTaddr_info.ai_socktype">ai_socktype</span> : <code class="type"><a href="unix.html#TYPEsocket_type">socket_type</a></code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Socket type</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTaddr_info.ai_protocol">ai_protocol</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Socket protocol number</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTaddr_info.ai_addr">ai_addr</span> : <code class="type"><a href="unix.html#TYPEsockaddr">sockaddr</a></code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Address</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTaddr_info.ai_canonname">ai_canonname</span> : <code class="type">string</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Canonical host name</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>Address information returned by <a href="unix.html#VALgetaddrinfo"><code class="code"><span class="constructor">Unix</span>.getaddrinfo</code></a>.</p> </div> </div> <pre id="TYPEgetaddrinfo_option" data-type="type getaddrinfo_option [Module Unix]" data-language="ocaml">type getaddrinfo_option = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetaddrinfo_option.AI_FAMILY"><span class="constructor">AI_FAMILY</span></span> <span class="keyword">of</span> <code class="type"><a href="unix.html#TYPEsocket_domain">socket_domain</a></code></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Impose the given socket domain</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetaddrinfo_option.AI_SOCKTYPE"><span class="constructor">AI_SOCKTYPE</span></span> <span class="keyword">of</span> <code class="type"><a href="unix.html#TYPEsocket_type">socket_type</a></code></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Impose the given socket type</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetaddrinfo_option.AI_PROTOCOL"><span class="constructor">AI_PROTOCOL</span></span> <span class="keyword">of</span> <code class="type">int</code></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Impose the given protocol</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetaddrinfo_option.AI_NUMERICHOST"><span class="constructor">AI_NUMERICHOST</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Do not call name resolver, expect numeric IP address</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetaddrinfo_option.AI_CANONNAME"><span class="constructor">AI_CANONNAME</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Fill the <code class="code">ai_canonname</code> field of the result</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetaddrinfo_option.AI_PASSIVE"><span class="constructor">AI_PASSIVE</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Set address to ``any'' address for use with <a href="unix.html#VALbind"><code class="code"><span class="constructor">Unix</span>.bind</code></a></p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>Options to <a href="unix.html#VALgetaddrinfo"><code class="code"><span class="constructor">Unix</span>.getaddrinfo</code></a>.</p> </div> </div> <pre id="VALgetaddrinfo" data-type="val getaddrinfo [Module Unix]" data-language="ocaml">val getaddrinfo : string -&gt; string -&gt; getaddrinfo_option list -&gt; addr_info list</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">getaddrinfo host service opts</code> returns a list of <a href="unix.html#TYPEaddr_info"><code class="code"><span class="constructor">Unix</span>.addr_info</code></a> records describing socket parameters and addresses suitable for communicating with the given host and service. The empty list is returned if the host or service names are unknown, or the constraints expressed in <code class="code">opts</code> cannot be satisfied.</p> <p><code class="code">host</code> is either a host name or the string representation of an IP address. <code class="code">host</code> can be given as the empty string; in this case, the ``any'' address or the ``loopback'' address are used, depending whether <code class="code">opts</code> contains <code class="code"><span class="constructor">AI_PASSIVE</span></code>. <code class="code">service</code> is either a service name or the string representation of a port number. <code class="code">service</code> can be given as the empty string; in this case, the port field of the returned addresses is set to 0. <code class="code">opts</code> is a possibly empty list of options that allows the caller to force a particular socket domain (e.g. IPv6 only or IPv4 only) or a particular socket type (e.g. TCP only or UDP only).</p> </div> </div> <pre id="TYPEname_info" data-type="type name_info [Module Unix]" data-language="ocaml">type name_info = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTname_info.ni_hostname">ni_hostname</span> : <code class="type">string</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Name or IP address of host</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span id="TYPEELTname_info.ni_service">ni_service</span> : <code class="type">string</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Name of service or port number</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <code>}</code> <div class="info "> <div class="info-desc"> <p>Host and service information returned by <a href="unix.html#VALgetnameinfo"><code class="code"><span class="constructor">Unix</span>.getnameinfo</code></a>.</p> </div> </div> <pre id="TYPEgetnameinfo_option" data-type="type getnameinfo_option [Module Unix]" data-language="ocaml">type getnameinfo_option = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetnameinfo_option.NI_NOFQDN"><span class="constructor">NI_NOFQDN</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Do not qualify local host names</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetnameinfo_option.NI_NUMERICHOST"><span class="constructor">NI_NUMERICHOST</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Always return host as IP address</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetnameinfo_option.NI_NAMEREQD"><span class="constructor">NI_NAMEREQD</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Fail if host name cannot be determined</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetnameinfo_option.NI_NUMERICSERV"><span class="constructor">NI_NUMERICSERV</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Always return service as port number</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTgetnameinfo_option.NI_DGRAM"><span class="constructor">NI_DGRAM</span></span></code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Consider the service as UDP-based instead of the default TCP</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <div class="info "> <div class="info-desc"> <p>Options to <a href="unix.html#VALgetnameinfo"><code class="code"><span class="constructor">Unix</span>.getnameinfo</code></a>.</p> </div> </div> <pre id="VALgetnameinfo" data-type="val getnameinfo [Module Unix]" data-language="ocaml">val getnameinfo : sockaddr -&gt; getnameinfo_option list -&gt; name_info</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">getnameinfo addr opts</code> returns the host name and service name corresponding to the socket address <code class="code">addr</code>. <code class="code">opts</code> is a possibly empty list of options that governs how these names are obtained.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Not_found</code> if an error occurs.</li> </ul> </div> <h2 id="1_Terminalinterface">Terminal interface</h2>
<p>The following functions implement the POSIX standard terminal interface. They provide control over asynchronous communication ports and pseudo-terminals. Refer to the <code class="code">termios</code> man page for a complete description.</p> <pre id="TYPEterminal_io" data-type="type terminal_io [Module Unix]" data-language="ocaml">type terminal_io = {</pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_ignbrk">c_ignbrk</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Ignore the break condition.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_brkint">c_brkint</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Signal interrupt on break condition.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_ignpar">c_ignpar</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Ignore characters with parity errors.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_parmrk">c_parmrk</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Mark parity errors.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_inpck">c_inpck</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Enable parity check on input.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_istrip">c_istrip</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Strip 8th bit on input characters.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_inlcr">c_inlcr</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Map NL to CR on input.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_igncr">c_igncr</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Ignore CR on input.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_icrnl">c_icrnl</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Map CR to NL on input.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_ixon">c_ixon</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Recognize XON/XOFF characters on input.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_ixoff">c_ixoff</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Emit XON/XOFF chars to control input flow.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_opost">c_opost</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Enable output processing.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_obaud">c_obaud</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Output baud rate (0 means close connection).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_ibaud">c_ibaud</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Input baud rate.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_csize">c_csize</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Number of bits per character (5-8).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_cstopb">c_cstopb</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Number of stop bits (1-2).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_cread">c_cread</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Reception is enabled.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_parenb">c_parenb</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Enable parity generation and detection.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_parodd">c_parodd</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Specify odd parity instead of even.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_hupcl">c_hupcl</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Hang up on last close.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_clocal">c_clocal</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Ignore modem status lines.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_isig">c_isig</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Generate signal on INTR, QUIT, SUSP.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_icanon">c_icanon</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Enable canonical processing (line buffering and editing)</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_noflsh">c_noflsh</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Disable flush after INTR, QUIT, SUSP.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_echo">c_echo</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Echo input characters.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_echoe">c_echoe</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Echo ERASE (to erase previous character).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_echok">c_echok</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Echo KILL (to erase the current line).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_echonl">c_echonl</span> : <code class="type">bool</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Echo NL even if c_echo is not set.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_vintr">c_vintr</span> : <code class="type">char</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Interrupt character (usually ctrl-C).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_vquit">c_vquit</span> : <code class="type">char</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Quit character (usually ctrl-\).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_verase">c_verase</span> : <code class="type">char</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Erase character (usually DEL or ctrl-H).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_vkill">c_vkill</span> : <code class="type">char</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Kill line character (usually ctrl-U).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_veof">c_veof</span> : <code class="type">char</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>End-of-file character (usually ctrl-D).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_veol">c_veol</span> : <code class="type">char</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Alternate end-of-line char. (usually none).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_vmin">c_vmin</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Minimum number of characters to read before the read request is satisfied.</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_vtime">c_vtime</span> : <code class="type">int</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Maximum read wait (in 0.1s units).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_vstart">c_vstart</span> : <code class="type">char</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Start character (usually ctrl-Q).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr> <tr> <td align="left" valign="top"> 
</td> <td align="left" valign="top"> <code><span class="keyword">mutable </span><span id="TYPEELTterminal_io.c_vstop">c_vstop</span> : <code class="type">char</code>;</code>
</td> <td class="typefieldcomment" align="left" valign="top"><code>(*</code></td>
<td class="typefieldcomment" align="left" valign="top">
<div class="info "> <div class="info-desc"> <p>Stop character (usually ctrl-S).</p> </div> </div> </td>
<td class="typefieldcomment" align="left" valign="bottom"><code>*)</code></td> </tr>
</tbody>
</table> <code>}</code> <pre id="VALtcgetattr" data-type="val tcgetattr [Module Unix]" data-language="ocaml">val tcgetattr : file_descr -&gt; terminal_io</pre>
<div class="info "> <div class="info-desc"> <p>Return the status of the terminal referred to by the given file descriptor.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="TYPEsetattr_when" data-type="type setattr_when [Module Unix]" data-language="ocaml">type setattr_when = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsetattr_when.TCSANOW"><span class="constructor">TCSANOW</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsetattr_when.TCSADRAIN"><span class="constructor">TCSADRAIN</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTsetattr_when.TCSAFLUSH"><span class="constructor">TCSAFLUSH</span></span></code>
</td> </tr>
</tbody>
</table> <pre id="VALtcsetattr" data-type="val tcsetattr [Module Unix]" data-language="ocaml">val tcsetattr : file_descr -&gt; setattr_when -&gt; terminal_io -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Set the status of the terminal referred to by the given file descriptor. The second argument indicates when the status change takes place: immediately (<code class="code"><span class="constructor">TCSANOW</span></code>), when all pending output has been transmitted (<code class="code"><span class="constructor">TCSADRAIN</span></code>), or after flushing all input that has been received but not read (<code class="code"><span class="constructor">TCSAFLUSH</span></code>). <code class="code"><span class="constructor">TCSADRAIN</span></code> is recommended when changing the output parameters; <code class="code"><span class="constructor">TCSAFLUSH</span></code>, when changing the input parameters.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALtcsendbreak" data-type="val tcsendbreak [Module Unix]" data-language="ocaml">val tcsendbreak : file_descr -&gt; int -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Send a break condition on the given file descriptor. The second argument is the duration of the break, in 0.1s units; 0 means standard duration (0.25s).</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALtcdrain" data-type="val tcdrain [Module Unix]" data-language="ocaml">val tcdrain : file_descr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Waits until all output written on the given file descriptor has been transmitted.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="TYPEflush_queue" data-type="type flush_queue [Module Unix]" data-language="ocaml">type flush_queue = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTflush_queue.TCIFLUSH"><span class="constructor">TCIFLUSH</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTflush_queue.TCOFLUSH"><span class="constructor">TCOFLUSH</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTflush_queue.TCIOFLUSH"><span class="constructor">TCIOFLUSH</span></span></code>
</td> </tr>
</tbody>
</table> <pre id="VALtcflush" data-type="val tcflush [Module Unix]" data-language="ocaml">val tcflush : file_descr -&gt; flush_queue -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Discard data written on the given file descriptor but not yet transmitted, or data received but not yet read, depending on the second argument: <code class="code"><span class="constructor">TCIFLUSH</span></code> flushes data received but not read, <code class="code"><span class="constructor">TCOFLUSH</span></code> flushes data written but not transmitted, and <code class="code"><span class="constructor">TCIOFLUSH</span></code> flushes both.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="TYPEflow_action" data-type="type flow_action [Module Unix]" data-language="ocaml">type flow_action = </pre>
<table class="typetable"> <tbody>
<tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTflow_action.TCOOFF"><span class="constructor">TCOOFF</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTflow_action.TCOON"><span class="constructor">TCOON</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTflow_action.TCIOFF"><span class="constructor">TCIOFF</span></span></code>
</td> </tr> <tr> <td align="left" valign="top"> <code><span class="keyword">|</span></code>
</td> <td align="left" valign="top"> <code><span id="TYPEELTflow_action.TCION"><span class="constructor">TCION</span></span></code>
</td> </tr>
</tbody>
</table> <pre id="VALtcflow" data-type="val tcflow [Module Unix]" data-language="ocaml">val tcflow : file_descr -&gt; flow_action -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Suspend or restart reception or transmission of data on the given file descriptor, depending on the second argument: <code class="code"><span class="constructor">TCOOFF</span></code> suspends output, <code class="code"><span class="constructor">TCOON</span></code> restarts output, <code class="code"><span class="constructor">TCIOFF</span></code> transmits a STOP character to suspend input, and <code class="code"><span class="constructor">TCION</span></code> transmits a START character to restart input.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> <pre id="VALsetsid" data-type="val setsid [Module Unix]" data-language="ocaml">val setsid : unit -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Put the calling process in a new session and detach it from its controlling terminal.</p> </div> <ul class="info-attributes"> <li>
<b>Raises</b> <code>Invalid_argument</code> on Windows</li> </ul> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1995-2024 INRIA.<br>
    <a href="https://ocaml.org/manual/5.2/api/Unix.html" class="_attribution-link">https://ocaml.org/manual/5.2/api/Unix.html</a>
  </p>
</div>
