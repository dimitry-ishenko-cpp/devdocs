<div class="content manual">
<nav id="part-title"><span>☰</span>The OCaml library</nav><ul id="part-menu">
<li><a href="core.html">The core library</a></li>
<li><a href="stdlib.html">The standard library</a></li>
<li><a href="parsing.html">The compiler front-end</a></li>
<li><a href="libunix.html">The unix library: Unix system calls</a></li>
<li><a href="libstr.html">The str library: regular expressions and string processing</a></li>
<li><a href="runtime_events.html">The runtime_events library</a></li>
<li><a href="libthreads.html">The threads library</a></li>
<li class="active"><a href="libdynlink.html">The dynlink library: dynamic loading and linking of object files</a></li>
<li><a href="old.html">Recently removed or moved libraries (Graphics, Bigarray, Num, LablTk)</a></li>
</ul> <h1 class="chapter" id="sec654">Chapter 35 The dynlink library: dynamic loading and linking of object files</h1> <p>The <span class="machine"><span class="font-tt">dynlink</span></span> library supports type-safe dynamic loading and linking of bytecode object files (<span class="machine"><span class="font-tt">.cmo</span></span> and <span class="machine"><span class="font-tt">.cma</span></span> files) in a running bytecode program, or of native plugins (usually <span class="machine"><span class="font-tt">.cmxs</span></span> files) in a running native program. Type safety is ensured by limiting the set of modules from the running program that the loaded object file can access, and checking that the running program and the loaded object file have been compiled against the same interfaces for these modules. In native code, there are also some compatibility checks on the implementations (to avoid errors with cross-module optimizations); it might be useful to hide <span class="machine"><span class="font-tt">.cmx</span></span> files when building native plugins so that they remain independent of the implementation of modules in the main program.</p>
<p>Programs that use the <span class="machine"><span class="font-tt">dynlink</span></span> library simply need to include the dynlink library directory with <span class="machine"><span class="font-tt">-I +dynlink</span></span> and link <span class="machine"><span class="font-tt">dynlink.cma</span></span> or <span class="machine"><span class="font-tt">dynlink.cmxa</span></span> with their object files and other libraries.</p>
<p><span class="font-bold">Note:</span> in order to insure that the dynamically-loaded modules have access to all the libraries that are visible to the main program (and not just to the parts of those libraries that are actually used in the main program), programs using the <span class="machine"><span class="font-tt">dynlink</span></span> library should be linked with <span class="machine"><span class="font-tt">-linkall</span></span>.</p>
<ul class="ftoc2"><li class="li-links"> <a href="api/dynlink.html">Module <span class="font-tt">Dynlink</span></a>: dynamic loading of bytecode object files </li></ul>  <div class="bottom-navigation">
<a class="previous" href="libthreads.html">« The threads library</a><a class="next" href="old.html">Recently removed or moved libraries (Graphics, Bigarray, Num, LablTk) »</a>
</div> <div class="copyright">Copyright © 2024 Institut National de Recherche en Informatique et en Automatique</div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1995-2024 INRIA.<br>
    <a href="https://ocaml.org/manual/5.2/libdynlink.html" class="_attribution-link">https://ocaml.org/manual/5.2/libdynlink.html</a>
  </p>
</div>
