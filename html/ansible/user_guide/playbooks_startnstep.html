<section id="executing-playbooks-for-troubleshooting"> <h1 id="playbooks-start-and-step">Executing playbooks for troubleshooting</h1> <p>When you are testing new plays or debugging playbooks, you may need to run the same play multiple times. To make this more efficient, Ansible offers two alternative ways to execute a playbook: start-at-task and step mode.</p> <section id="start-at-task"> <h2 id="id1">start-at-task</h2> <p>To start executing your playbook at a particular task (usually the task that failed on the previous run), use the <code>--start-at-task</code> option.</p> <pre data-language="shell">ansible-playbook playbook.yml --start-at-task="install packages"
</pre> <p>In this example, Ansible starts executing your playbook at a task named “install packages”. This feature does not work with tasks inside dynamically re-used roles or tasks (<code>include_*</code>), see <a class="reference internal" href="playbooks_reuse.html#dynamic-vs-static"><span class="std std-ref">Comparing includes and imports: dynamic and static reuse</span></a>.</p> </section> <section id="step-mode"> <h2 id="step">Step mode</h2> <p>To execute a playbook interactively, use <code>--step</code>.</p> <pre data-language="shell">ansible-playbook playbook.yml --step
</pre> <p>With this option, Ansible stops on each task and asks if it should execute that task. For example, if you have a task called “configure ssh”, the playbook run will stop and ask.</p> <pre data-language="shell">Perform task: configure ssh (y/n/c):
</pre> <p>Answer “y” to execute the task, answer “n” to skip the task, and answer “c” to exit step mode, executing all remaining tasks without asking.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="playbooks_intro.html#playbooks-intro"><span class="std std-ref">Ansible playbooks</span></a></dt>
<dd>
<p>An introduction to playbooks</p> </dd> <dt><a class="reference internal" href="playbooks_debugger.html#playbook-debugger"><span class="std std-ref">Debugging tasks</span></a></dt>
<dd>
<p>Using the Ansible debugger</p> </dd> </dl> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_startnstep.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/user_guide/playbooks_startnstep.html</a>
  </p>
</div>
