<section id="rejecting-modules"> <h1 id="plugin-filtering-config">Rejecting modules</h1> <p>If you want to avoid using certain modules, you can add them to a reject list to prevent Ansible from loading them. To reject plugins, create a yaml configuration file. The default location for this file is <code>/etc/ansible/plugin_filters.yml</code>. You can select a different path for the reject list using the <a class="reference internal" href="../reference_appendices/config.html#plugin-filters-cfg"><span class="std std-ref">PLUGIN_FILTERS_CFG</span></a> setting in the <code>defaults</code> section of your <code>ansible.cfg</code>. Here is an example reject list:</p> <pre data-language="YAML">---
filter_version: '1.0'
module_rejectlist:
  # Deprecated
  - docker
  # We only allow pip, not easy_install
  - easy_install
</pre> <p>The file contains two fields:</p>  <ul class="simple"> <li>A file version so that you can update the format while keeping backward compatibility in the future. The present version should be the string, <code>"1.0"</code>
</li> <li>A list of modules to reject. Ansible will not load any module in this list when it searches for a module to invoke for a task.</li> </ul>  <div class="admonition note"> <p class="admonition-title">Note</p> <p>The <code>stat</code> module is required for Ansible to run. Do not add this module to your reject list.</p> </div> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/module_plugin_guide/plugin_filtering_config.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/module_plugin_guide/plugin_filtering_config.html</a>
  </p>
</div>
