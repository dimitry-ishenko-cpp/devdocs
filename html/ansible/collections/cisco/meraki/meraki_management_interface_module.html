<h1 id="cisco-meraki-meraki-management-interface-configure-meraki-management-interfaces">cisco.meraki.meraki_management_interface – Configure Meraki management interfaces</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/cisco/meraki">cisco.meraki collection</a> (version 2.5.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install cisco.meraki</code>.</p> <p>To use it in a playbook, specify: <code>cisco.meraki.meraki_management_interface</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.1.0: </span>of cisco.meraki</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Allows for configuration of management interfaces on Meraki MX, MS, and MR devices.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>auth_key</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Authentication key provided by the dashboard. Required if environmental variable <code>MERAKI_KEY</code> is not set.</div> </td> </tr> <tr> <td colspan="2">  <b>host</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"api.meraki.com"</div> </td> <td> <div>Hostname for Meraki dashboard.</div> <div>Can be used to access regional Meraki environments, such as China.</div> </td> </tr> <tr> <td colspan="2">  <b>internal_error_retry_time</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>60</div> </td> <td> <div>Number of seconds to retry if server returns an internal server error.</div> </td> </tr> <tr> <td colspan="2">  <b>net_id</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>ID of the network to bind or unbind configuration template to.</div> </td> </tr> <tr> <td colspan="2">  <b>net_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of the network to bind or unbind configuration template to.</div> </td> </tr> <tr> <td colspan="2">  <b>org_id</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>ID of organization associated to a configuration template.</div> </td> </tr> <tr> <td colspan="2">  <b>org_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of organization containing the configuration template.</div> <div>
<br>aliases: organization</div> </td> </tr> <tr> <td colspan="2">  <b>output_format</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>snakecase</b> ←</div></li> <li>camelcase</li> </ul> </td> <td> <div>Instructs module whether response keys should be snake case (ex. <code>net_id</code>) or camel case (ex. <code>netId</code>).</div> </td> </tr> <tr> <td colspan="2">  <b>output_level</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>debug</li> <li><div>
<b>normal</b> ←</div></li> </ul> </td> <td> <div>Set amount of debug output during module execution.</div> </td> </tr> <tr> <td colspan="2">  <b>rate_limit_retry_time</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>165</div> </td> <td> <div>Number of seconds to retry if rate limiter is triggered.</div> </td> </tr> <tr> <td colspan="2">  <b>serial</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>serial number of the device to configure.</div> </td> </tr> <tr> <td colspan="2">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>absent</li> <li><div>
<b>query</b> ←</div></li> <li>present</li> </ul> </td> <td> <div>Specifies whether configuration template information should be queried, modified, or deleted.</div> </td> </tr> <tr> <td colspan="2">  <b>timeout</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>30</div> </td> <td> <div>Time to timeout for HTTP requests.</div> </td> </tr> <tr> <td colspan="2">  <b>use_https</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If <code>no</code>, it will use HTTP. Otherwise it will use HTTPS.</div> <div>Only useful for internal Meraki developers.</div> </td> </tr> <tr> <td colspan="2">  <b>use_proxy</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>If <code>no</code>, it will not use a proxy, even if one is defined in an environment variable on the target hosts.</div> </td> </tr> <tr> <td colspan="2">  <b>validate_certs</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Whether to validate HTTP certificates.</div> </td> </tr> <tr> <td colspan="2">  <b>wan1</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Management interface details for management interface.</div> <div>
<br>aliases: mgmt1</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_dns</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>DNS servers to use.</div> <div>Allows for a maximum of 2 addresses.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_gateway_ip</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>IP address for default gateway.</div> <div>Valid only if <code>using_static_ip</code> is <code>True</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_ip</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>IP address assigned to Management interface.</div> <div>Valid only if <code>using_static_ip</code> is <code>True</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_subnet_mask</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Netmask for static IP address.</div> <div>Valid only if <code>using_static_ip</code> is <code>True</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>using_static_ip</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Configures the interface to use static IP or DHCP.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>vlan</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>VLAN number to use for the management network.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>wan_enabled</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>disabled</li> <li>enabled</li> <li>not configured</li> </ul> </td> <td> <div>States whether the management interface is enabled.</div> <div>Only valid for MX devices.</div> </td> </tr> <tr> <td colspan="2">  <b>wan2</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Management interface details for management interface.</div> <div>
<br>aliases: mgmt2</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_dns</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>DNS servers to use.</div> <div>Allows for a maximum of 2 addresses.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_gateway_ip</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>IP address for default gateway.</div> <div>Valid only if <code>using_static_ip</code> is <code>True</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_ip</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>IP address assigned to Management interface.</div> <div>Valid only if <code>using_static_ip</code> is <code>True</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_subnet_mask</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Netmask for static IP address.</div> <div>Valid only if <code>using_static_ip</code> is <code>True</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>using_static_ip</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Configures the interface to use static IP or DHCP.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>vlan</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>VLAN number to use for the management network.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>wan_enabled</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>disabled</li> <li>enabled</li> <li>not configured</li> </ul> </td> <td> <div>States whether the management interface is enabled.</div> <div>Only valid for MX devices.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>
<code>WAN2</code> parameter is only valid for MX appliances.</li> <li>
<code>wan_enabled</code> should not be provided for non-MX devies.</li> <li>More information about the Meraki API can be found at <a class="reference external" href="https://dashboard.meraki.com/api_docs">https://dashboard.meraki.com/api_docs</a>.</li> <li>Some of the options are likely only used for developers within Meraki.</li> <li>As of Ansible 2.9, Meraki modules output keys as snake case. To use camel case, set the <code>ANSIBLE_MERAKI_FORMAT</code> environment variable to <code>camelcase</code>.</li> <li>Ansible’s Meraki modules will stop supporting camel case output in Ansible 2.13. Please update your playbooks.</li> <li>Check Mode downloads the current configuration from the dashboard, then compares changes against this download. Check Mode will report changed if there are differences in the configurations, but does not submit changes to the API for validation of change.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Set WAN2 as static IP
  meraki_management_interface:
    auth_key: abc123
    state: present
    org_name: YourOrg
    net_id: YourNetId
    serial: AAAA-BBBB-CCCC
    wan2:
      wan_enabled: enabled
      using_static_ip: yes
      static_ip: 192.168.16.195
      static_gateway_ip: 192.168.16.1
      static_subnet_mask: 255.255.255.0
      static_dns:
        - 1.1.1.1
      vlan: 1
  delegate_to: localhost

- name: Query management information
  meraki_management_interface:
    auth_key: abc123
    state: query
    org_name: YourOrg
    net_id: YourNetId
    serial: AAAA-BBBB-CCCC
  delegate_to: localhost
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="3">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="3">  <b>data</b>  <div> <span>complex</span> </div> </td> <td>success</td> <td> <div>Information about queried object.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>wan1</b>  <div> <span>complex</span> </div> </td> <td>success</td> <td> <div>Management configuration for WAN1 interface</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>static_dns</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>only if static IP assignment is used</td> <td> <div>List of DNS IP addresses</div> <br> <div><b>Sample:</b></div> <div>['1.1.1.1']</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>static_gateway_ip</b>  <div> <span>string</span> </div> </td> <td>only if static IP assignment is used</td> <td> <div>Assigned static gateway IP</div> <br> <div><b>Sample:</b></div> <div>192.0.1.1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>static_ip</b>  <div> <span>string</span> </div> </td> <td>only if static IP assignment is used</td> <td> <div>Assigned static IP</div> <br> <div><b>Sample:</b></div> <div>192.0.1.2</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>static_subnet_mask</b>  <div> <span>string</span> </div> </td> <td>only if static IP assignment is used</td> <td> <div>Assigned netmask for static IP</div> <br> <div><b>Sample:</b></div> <div>255.255.255.0</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>using_static_ip</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Boolean value of whether static IP assignment is used on interface</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>vlan</b>  <div> <span>integer</span> </div> </td> <td>success</td> <td> <div>VLAN tag id of management VLAN</div> <br> <div><b>Sample:</b></div> <div>2</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>wan_enabled</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Enabled state of interface</div> <br> <div><b>Sample:</b></div> <div>enabled</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>wan2</b>  <div> <span>complex</span> </div> </td> <td>success</td> <td> <div>Management configuration for WAN1 interface</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>static_dns</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>only if static IP assignment is used</td> <td> <div>List of DNS IP addresses</div> <br> <div><b>Sample:</b></div> <div>['1.1.1.1']</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>static_gateway_ip</b>  <div> <span>string</span> </div> </td> <td>only if static IP assignment is used</td> <td> <div>Assigned static gateway IP</div> <br> <div><b>Sample:</b></div> <div>192.0.1.1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>static_ip</b>  <div> <span>string</span> </div> </td> <td>only if static IP assignment is used</td> <td> <div>Assigned static IP</div> <br> <div><b>Sample:</b></div> <div>192.0.1.2</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>static_subnet_mask</b>  <div> <span>string</span> </div> </td> <td>only if static IP assignment is used</td> <td> <div>Assigned netmask for static IP</div> <br> <div><b>Sample:</b></div> <div>255.255.255.0</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>using_static_ip</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Boolean value of whether static IP assignment is used on interface</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>vlan</b>  <div> <span>integer</span> </div> </td> <td>success</td> <td> <div>VLAN tag id of management VLAN</div> <br> <div><b>Sample:</b></div> <div>2</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>wan_enabled</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Enabled state of interface</div> <br> <div><b>Sample:</b></div> <div>enabled</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Kevin Breit (@kbreit)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/cisco/meraki/meraki_management_interface_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/cisco/meraki/meraki_management_interface_module.html</a>
  </p>
</div>
