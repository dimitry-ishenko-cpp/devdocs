<h1 id="cisco-meraki-meraki-admin-manage-administrators-in-the-meraki-cloud">cisco.meraki.meraki_admin – Manage administrators in the Meraki cloud</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/cisco/meraki">cisco.meraki collection</a> (version 2.5.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install cisco.meraki</code>.</p> <p>To use it in a playbook, specify: <code>cisco.meraki.meraki_admin</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.0: </span>of cisco.meraki</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Allows for creation, management, and visibility into administrators within Meraki.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>auth_key</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Authentication key provided by the dashboard. Required if environmental variable <code>MERAKI_KEY</code> is not set.</div> </td> </tr> <tr> <td colspan="2">  <b>email</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Email address for the dashboard administrator.</div> <div>Email cannot be updated.</div> <div>Required when creating or editing an administrator.</div> </td> </tr> <tr> <td colspan="2">  <b>host</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"api.meraki.com"</div> </td> <td> <div>Hostname for Meraki dashboard.</div> <div>Can be used to access regional Meraki environments, such as China.</div> </td> </tr> <tr> <td colspan="2">  <b>internal_error_retry_time</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>60</div> </td> <td> <div>Number of seconds to retry if server returns an internal server error.</div> </td> </tr> <tr> <td colspan="2">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of the dashboard administrator.</div> <div>Required when creating a new administrator.</div> </td> </tr> <tr> <td colspan="2">  <b>networks</b>  <div> <span>list</span> / <span>elements=dictionary</span> </div> </td> <td> </td> <td> <div>List of networks the administrator has privileges on.</div> <div>When creating a new administrator, <code>org_name</code>, <code>network</code>, or <code>tags</code> must be specified.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>access</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The privilege of the dashboard administrator on the network.</div> <div>Valid options are <code>full</code>, <code>read-only</code>, or <code>none</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>id</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Network ID for which administrator should have privileges assigned.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>network</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Network name for which administrator should have privileges assigned.</div> </td> </tr> <tr> <td colspan="2">  <b>org_access</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>full</li> <li>none</li> <li>read-only</li> </ul> </td> <td> <div>Privileges assigned to the administrator in the organization.</div> <div>
<br>aliases: orgAccess</div> </td> </tr> <tr> <td colspan="2">  <b>org_id</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>ID of organization.</div> </td> </tr> <tr> <td colspan="2">  <b>org_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of organization.</div> <div>Used when <code>name</code> should refer to another object.</div> <div>When creating a new administrator, <code>org_name</code>, <code>network</code>, or <code>tags</code> must be specified.</div> <div>
<br>aliases: organization</div> </td> </tr> <tr> <td colspan="2">  <b>output_format</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>snakecase</b> ←</div></li> <li>camelcase</li> </ul> </td> <td> <div>Instructs module whether response keys should be snake case (ex. <code>net_id</code>) or camel case (ex. <code>netId</code>).</div> </td> </tr> <tr> <td colspan="2">  <b>output_level</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>debug</li> <li><div>
<b>normal</b> ←</div></li> </ul> </td> <td> <div>Set amount of debug output during module execution.</div> </td> </tr> <tr> <td colspan="2">  <b>rate_limit_retry_time</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>165</div> </td> <td> <div>Number of seconds to retry if rate limiter is triggered.</div> </td> </tr> <tr> <td colspan="2">  <b>state</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>absent</li> <li>present</li> <li>query</li> </ul> </td> <td> <div>Create or modify, or delete an organization</div> <div>If <code>state</code> is <code>absent</code>, name takes priority over email if both are specified.</div> </td> </tr> <tr> <td colspan="2">  <b>tags</b>  <div> <span>list</span> / <span>elements=dictionary</span> </div> </td> <td> </td> <td> <div>Tags the administrator has privileges on.</div> <div>When creating a new administrator, <code>org_name</code>, <code>network</code>, or <code>tags</code> must be specified.</div> <div>If <code>none</code> is specified, <code>network</code> or <code>tags</code> must be specified.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>access</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The privilege of the dashboard administrator for the tag.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>tag</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Object tag which privileges should be assigned.</div> </td> </tr> <tr> <td colspan="2">  <b>timeout</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>30</div> </td> <td> <div>Time to timeout for HTTP requests.</div> </td> </tr> <tr> <td colspan="2">  <b>use_https</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If <code>no</code>, it will use HTTP. Otherwise it will use HTTPS.</div> <div>Only useful for internal Meraki developers.</div> </td> </tr> <tr> <td colspan="2">  <b>use_proxy</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>If <code>no</code>, it will not use a proxy, even if one is defined in an environment variable on the target hosts.</div> </td> </tr> <tr> <td colspan="2">  <b>validate_certs</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Whether to validate HTTP certificates.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>More information about the Meraki API can be found at <a class="reference external" href="https://dashboard.meraki.com/api_docs">https://dashboard.meraki.com/api_docs</a>.</li> <li>Some of the options are likely only used for developers within Meraki.</li> <li>As of Ansible 2.9, Meraki modules output keys as snake case. To use camel case, set the <code>ANSIBLE_MERAKI_FORMAT</code> environment variable to <code>camelcase</code>.</li> <li>Ansible’s Meraki modules will stop supporting camel case output in Ansible 2.13. Please update your playbooks.</li> <li>Check Mode downloads the current configuration from the dashboard, then compares changes against this download. Check Mode will report changed if there are differences in the configurations, but does not submit changes to the API for validation of change.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Query information about all administrators associated to the organization
  meraki_admin:
    auth_key: abc12345
    org_name: YourOrg
    state: query
  delegate_to: localhost

- name: Query information about a single administrator by name
  meraki_admin:
    auth_key: abc12345
    org_id: 12345
    state: query
    name: Jane Doe

- name: Query information about a single administrator by email
  meraki_admin:
    auth_key: abc12345
    org_name: YourOrg
    state: query
    email: jane@doe.com

- name: Create new administrator with organization access
  meraki_admin:
    auth_key: abc12345
    org_name: YourOrg
    state: present
    name: Jane Doe
    org_access: read-only
    email: jane@doe.com

- name: Create new administrator with organization access
  meraki_admin:
    auth_key: abc12345
    org_name: YourOrg
    state: present
    name: Jane Doe
    org_access: read-only
    email: jane@doe.com

- name: Create a new administrator with organization access
  meraki_admin:
    auth_key: abc12345
    org_name: YourOrg
    state: present
    name: Jane Doe
    org_access: read-only
    email: jane@doe.com

- name: Revoke access to an organization for an administrator
  meraki_admin:
    auth_key: abc12345
    org_name: YourOrg
    state: absent
    email: jane@doe.com

- name: Create a new administrator with full access to two tags
  meraki_admin:
    auth_key: abc12345
    org_name: YourOrg
    state: present
    name: Jane Doe
    orgAccess: read-only
    email: jane@doe.com
    tags:
        - tag: tenant
          access: full
        - tag: corporate
          access: read-only

- name: Create a new administrator with full access to a network
  meraki_admin:
    auth_key: abc12345
    org_name: YourOrg
    state: present
    name: Jane Doe
    orgAccess: read-only
    email: jane@doe.com
    networks:
        - id: N_12345
          access: full
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="3">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="3">  <b>data</b>  <div> <span>complex</span> </div> </td> <td>success</td> <td> <div>List of administrators.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>account_status</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Status of account.</div> <br> <div><b>Sample:</b></div> <div>ok</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>email</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Email address of administrator.</div> <br> <div><b>Sample:</b></div> <div>your@email.com</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>has_api_key</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Defines whether administrator has an API assigned to their account.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>id</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Unique identification number of administrator.</div> <br> <div><b>Sample:</b></div> <div>1234567890</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>last_active</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Date and time of time the administrator was active within Dashboard.</div> <br> <div><b>Sample:</b></div> <div>2019-01-28 14:58:56 -0800</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>name</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Given name of administrator.</div> <br> <div><b>Sample:</b></div> <div>John Doe</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>networks</b>  <div> <span>complex</span> </div> </td> <td>success</td> <td> <div>List of networks administrator has access on.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>access</b>  <div> <span>string</span> </div> </td> <td>when network permissions are set</td> <td> <div>Access level of administrator. Options are 'full', 'read-only', or 'none'.</div> <br> <div><b>Sample:</b></div> <div>read-only</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>id</b>  <div> <span>string</span> </div> </td> <td>when network permissions are set</td> <td> <div>The network ID.</div> <br> <div><b>Sample:</b></div> <div>N_0123456789</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>org_access</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The privilege of the dashboard administrator on the organization. Options are 'full', 'read-only', or 'none'.</div> <br> <div><b>Sample:</b></div> <div>full</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>tags</b>  <div> <span>complex</span> </div> </td> <td>success</td> <td> <div>Tags the administrator has access on.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>access</b>  <div> <span>string</span> </div> </td> <td>when tag permissions are set</td> <td> <div>Access level of administrator. Options are 'full', 'read-only', or 'none'.</div> <br> <div><b>Sample:</b></div> <div>full</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>tag</b>  <div> <span>string</span> </div> </td> <td>when tag permissions are set</td> <td> <div>Tag name.</div> <br> <div><b>Sample:</b></div> <div>production</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>two_factor_auth_enabled</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Enabled state of two-factor authentication for administrator.</div> <br> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Kevin Breit (@kbreit)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/cisco/meraki/meraki_admin_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/cisco/meraki/meraki_admin_module.html</a>
  </p>
</div>
