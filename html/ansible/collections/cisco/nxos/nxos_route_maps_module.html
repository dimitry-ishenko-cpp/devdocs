<section id="cisco-nxos-nxos-route-maps-module-route-maps-resource-module"> <h1>cisco.nxos.nxos_route_maps module – Route Maps resource module.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/cisco/nxos/">cisco.nxos collection</a> (version 8.1.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install cisco.nxos</code>.</p> <p>To use it in a playbook, specify: <code>cisco.nxos.nxos_route_maps</code>.</p> </div> <p class="ansible-version-added">New in cisco.nxos 2.2.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>This module manages route maps configuration on devices running Cisco NX-OS.</li> </ul> <p>Aliases: route_maps</p> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config"><strong>config</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of route-map configuration.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries"><strong>entries</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>List of entries (identified by sequence number) for this route-map.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-action"><strong>action</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Route map denies or permits set operations.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"deny"</code></li> <li><code>"permit"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-continue-sequence"><strong>continue_sequence</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Continue on a different entry within the route-map.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-description"><strong>description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Description of the route-map.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match"><strong>match</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Match values from routing table.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-as-number"><strong>as_number</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match BGP peer AS number.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-as-number-as-path-list"><strong>as_path_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>AS path access list name.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-as-number-asn"><strong>asn</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>AS number.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-as-path"><strong>as_path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match BGP AS path access-list.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-community"><strong>community</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match BGP community list.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-community-community-list"><strong>community_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Community list.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-community-exact-match"><strong>exact_match</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Do exact matching of communities.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-evpn"><strong>evpn</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match BGP EVPN Routes.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-evpn-route-types"><strong>route_types</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Match route type for evpn route.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-extcommunity"><strong>extcommunity</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match BGP community list.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-extcommunity-exact-match"><strong>exact_match</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Do exact matching of extended communities.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-extcommunity-extcommunity-list"><strong>extcommunity_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Extended Community list.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-interfaces"><strong>interfaces</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match first hop interface of route.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip"><strong>ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Configure IP specific information.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-address"><strong>address</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Match address of route or match packet.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-address-access-list"><strong>access_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>IP access-list name (for use in route-maps for PBR only).</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-address-prefix-lists"><strong>prefix_lists</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Match entries of prefix-lists.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-multicast"><strong>multicast</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Match multicast attributes.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-multicast-group"><strong>group</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Multicast Group prefix.</p> <p>Mutually exclusive with group_range.</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-multicast-group-prefix"><strong>prefix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>IPv4 group prefix.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-multicast-group-range"><strong>group_range</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Multicast Group address range.</p> <p>Mutually exclusive with group.</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-multicast-group-range-first"><strong>first</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>First Group address.</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-multicast-group-range-last"><strong>last</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>Last Group address.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-multicast-rp"><strong>rp</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Rendezvous point.</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-multicast-rp-prefix"><strong>prefix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>IPv4 rendezvous prefix.</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-multicast-rp-rp-type"><strong>rp_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>Multicast rendezvous point type.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"ASM"</code></li> <li><code>"Bidir"</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-multicast-source"><strong>source</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Multicast source address.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-next-hop"><strong>next_hop</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Match next-hop address of route.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-next-hop-prefix-lists"><strong>prefix_lists</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Match entries of prefix-lists.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-route-source"><strong>route_source</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Match advertising source address of route.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ip-route-source-prefix-lists"><strong>prefix_lists</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Match entries of prefix-lists.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6"><strong>ipv6</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Configure IPv6 specific information.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-address"><strong>address</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Match address of route or match packet.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-address-access-list"><strong>access_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>IP access-list name (for use in route-maps for PBR only).</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-address-prefix-lists"><strong>prefix_lists</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Match entries of prefix-lists.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-multicast"><strong>multicast</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Match multicast attributes.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-multicast-group"><strong>group</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Multicast Group prefix.</p> <p>Mutually exclusive with group_range.</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-multicast-group-prefix"><strong>prefix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>IPv4 group prefix.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-multicast-group-range"><strong>group_range</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Multicast Group address range.</p> <p>Mutually exclusive with group.</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-multicast-group-range-first"><strong>first</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>First Group address.</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-multicast-group-range-last"><strong>last</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>Last Group address.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-multicast-rp"><strong>rp</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Rendezvous point.</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-multicast-rp-prefix"><strong>prefix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>IPv4 rendezvous prefix.</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-multicast-rp-rp-type"><strong>rp_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>Multicast rendezvous point type.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"ASM"</code></li> <li><code>"Bidir"</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-multicast-source"><strong>source</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Multicast source address.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-next-hop"><strong>next_hop</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Match next-hop address of route.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-next-hop-prefix-lists"><strong>prefix_lists</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Match entries of prefix-lists.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-route-source"><strong>route_source</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Match advertising source address of route.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ipv6-route-source-prefix-lists"><strong>prefix_lists</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Match entries of prefix-lists.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-mac-list"><strong>mac_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match entries of mac-lists.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-metric"><strong>metric</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=integer</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match metric of route.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-ospf-area"><strong>ospf_area</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=integer</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match ospf area.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-route-types"><strong>route_types</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match route-type of route.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"external"</code></li> <li><code>"inter-area"</code></li> <li><code>"internal"</code></li> <li><code>"intra-area"</code></li> <li><code>"level-1"</code></li> <li><code>"level-2"</code></li> <li><code>"local"</code></li> <li><code>"nssa-external"</code></li> <li><code>"type-1"</code></li> <li><code>"type-2"</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-source-protocol"><strong>source_protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match source protocol.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-match-tags"><strong>tags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=integer</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Match tag of route.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-sequence"><strong>sequence</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Sequence to insert to/delete from existing route-map entry.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set"><strong>set</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Set values in destination routing protocol.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-as-path"><strong>as_path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Prepend string for a BGP AS-path attribute.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-as-path-prepend"><strong>prepend</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Prepend to the AS-Path.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-as-path-prepend-as-number"><strong>as_number</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>AS number.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-as-path-prepend-last-as"><strong>last_as</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Number of last-AS prepends.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-as-path-tag"><strong>tag</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Set the tag as an AS-path attribute.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-comm-list"><strong>comm_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set BGP community list (for deletion).</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-community"><strong>community</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set BGP community attribute.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-community-additive"><strong>additive</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Add to existing community.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-community-graceful-shutdown"><strong>graceful_shutdown</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Graceful Shutdown (well-known community).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-community-internet"><strong>internet</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Internet (well-known community).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-community-local-as"><strong>local_as</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Do not send outside local AS (well-known community).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-community-no-advertise"><strong>no_advertise</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Do not advertise to any peer (well-known community).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-community-no-export"><strong>no_export</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Do not export to next AS (well-known community).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-community-number"><strong>number</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Community number aa:nn format</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-dampening"><strong>dampening</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set BGP route flap dampening parameters.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-dampening-half-life"><strong>half_life</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Half-life time for the penalty.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-dampening-max-suppress-time"><strong>max_suppress_time</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Maximum suppress time for stable route.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-dampening-start-reuse-route"><strong>start_reuse_route</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Value to start reusing a route.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-dampening-start-suppress-route"><strong>start_suppress_route</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Value to start suppressing a route.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-distance"><strong>distance</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Configure administrative distance.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-distance-igp-ebgp-routes"><strong>igp_ebgp_routes</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Administrative distance for IGP or EBGP routes</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-distance-internal-routes"><strong>internal_routes</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Distance for internal routes.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-distance-local-routes"><strong>local_routes</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Distance for local routes.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-evpn"><strong>evpn</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set BGP EVPN Routes.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-evpn-gateway-ip"><strong>gateway_ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Set gateway IP for type 5 EVPN routes.</p> <p>Cannot set ip and use-nexthop in the same route-map sequence.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-evpn-gateway-ip-ip"><strong>ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Gateway IP address.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-evpn-gateway-ip-use-nexthop"><strong>use_nexthop</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Use nexthop address as gateway IP.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-extcomm-list"><strong>extcomm_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set BGP extcommunity list (for deletion).</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-extcommunity"><strong>extcommunity</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set BGP extcommunity attribute.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-extcommunity-rt"><strong>rt</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Route-Target.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-extcommunity-rt-additive"><strong>additive</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Add to existing rt extcommunity.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-extcommunity-rt-extcommunity-numbers"><strong>extcommunity_numbers</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Extcommunity number.</p> <p>Supported formats are ASN2:NN, ASN4:NN, IPV4:NN.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-forwarding-address"><strong>forwarding_address</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set the forwarding address.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip"><strong>ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Configure IP features.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-address"><strong>address</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Specify IP address.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-address-prefix-list"><strong>prefix_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Name of prefix list (Max Size 63).</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop"><strong>next_hop</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Set next-hop IP address (for policy-based routing)</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-address"><strong>address</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Set space-separated list of next-hop IP addresses. Address ordering is important. Also don`t use unnecessary spaces.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-drop-on-fail"><strong>drop_on_fail</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Drop packets instead of using default routing when the configured next hop becomes unreachable</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-force-order"><strong>force_order</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Enable next-hop ordering as specified in the address parameter.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-load-share"><strong>load_share</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Enable traffic load balancing across a maximum of 32 next-hop addresses</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-peer-address"><strong>peer_address</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>BGP prefix next hop is set to the local address of the peer.</p> <p>If no next hop is set in the route map, the next hop is set to the one stored in the path.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-redist-unchanged"><strong>redist_unchanged</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Set for next-hop address conservation for non-local generated routes.</p> <p>Used with redistribute command. Available to maintain BGP routing compliant with RFC 4271 on Nexus OS.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-unchanged"><strong>unchanged</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Set for next-hop address conservation in eBGP outgoing updates</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-verify-availability"><strong>verify_availability</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Set next-hop ip address tracking with IP SLA</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-verify-availability-address"><strong>address</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>Set one next-hop address</p> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-verify-availability-drop-on-fail"><strong>drop_on_fail</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>Drop packets instead of using default routing when the configured next hop becomes unreachable</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-verify-availability-force-order"><strong>force_order</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>Enable next-hop ordering as specified in the address parameter.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-verify-availability-load-share"><strong>load_share</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>Enable traffic load balancing across a maximum of 32 next-hop addresses</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>






<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-next-hop-verify-availability-track"><strong>track</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>






<div class="ansible-option-cell">
<p>Set track number</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ip-precedence"><strong>precedence</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Set precedence field.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ipv6"><strong>ipv6</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Configure IPv6 features.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ipv6-address"><strong>address</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Specify IP address.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ipv6-address-prefix-list"><strong>prefix_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>Name of prefix list (Max Size 63).</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-ipv6-precedence"><strong>precedence</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Set precedence field.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-label-index"><strong>label_index</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set Segment Routing (SR) label index of route.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-level"><strong>level</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Where to import route.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"level-1"</code></li> <li><code>"level-1-2"</code></li> <li><code>"level-2"</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-local-preference"><strong>local_preference</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>BGP local preference path attribute.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-metric"><strong>metric</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set metric for destination routing protocol.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-metric-bandwidth"><strong>bandwidth</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Metric value or Bandwidth in Kbits per second (Max Size 11).</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-metric-igrp-delay-metric"><strong>igrp_delay_metric</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>IGRP delay metric.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-metric-igrp-effective-bandwidth-metric"><strong>igrp_effective_bandwidth_metric</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>IGRP Effective bandwidth metric (Loading) 255 is 100%.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-metric-igrp-mtu"><strong>igrp_mtu</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>IGRP MTU of the path.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-metric-igrp-reliability-metric"><strong>igrp_reliability_metric</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>IGRP reliability metric where 255 is 100 percent reliable.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-metric-type"><strong>metric_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Type of metric for destination routing protocol.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"external"</code></li> <li><code>"internal"</code></li> <li><code>"type-1"</code></li> <li><code>"type-2"</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-nssa-only"><strong>nssa_only</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>OSPF NSSA Areas.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-null-interface"><strong>null_interface</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Output Null interface.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-origin"><strong>origin</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>BGP origin code.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"egp"</code></li> <li><code>"igp"</code></li> <li><code>"incomplete"</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-path-selection"><strong>path_selection</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Path selection criteria for BGP.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"all"</code></li> <li><code>"backup"</code></li> <li><code>"best2"</code></li> <li><code>"multipaths"</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-tag"><strong>tag</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Tag value for destination routing protocol.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-entries-set-weight"><strong>weight</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>BGP weight for routing table.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-config-route-map"><strong>route_map</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Route-map name.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-running-config"><strong>running_config</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>This option is used only with state <em>parsed</em>.</p> <p>The value of this option should be the output received from the NX-OS device by executing the command <strong>show running-config | section ‘^route-map’</strong>.</p> <p>The state <em>parsed</em> reads the configuration from <code>running_config</code> option and transforms it into Ansible structured data as per the resource module’s argspec and the value is then returned in the <em>parsed</em> key within the result.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The state the configuration should be left in.</p> <p>With state <em>replaced</em>, for the listed route-maps, sequences that are in running-config but not in the task are negated.</p> <p>With state <em>overridden</em>, all route-maps that are in running-config but not in the task are negated.</p> <p>Please refer to examples for more details.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"merged"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"replaced"</code></li> <li><code>"overridden"</code></li> <li><code>"deleted"</code></li> <li><code>"parsed"</code></li> <li><code>"gathered"</code></li> <li><code>"rendered"</code></li> </ul> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Tested against NX-OS 9.3.6.</li> <li>Unsupported for Cisco MDS</li> <li>This module works with connection <code>network_cli</code> and <code>httpapi</code>.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja"># Using merged

# Before state:
# -------------
# nxos-9k-rdo# show running-config | section "^route-map"
# nxos-9k-rdo#

- name: Merge the provided configuration with the existing running configuration
  cisco.nxos.nxos_route_maps:
    config:
      - route_map: rmap1
        entries:
          - sequence: 10
            action: permit
            description: rmap1-10-permit
            match:
              ip:
                address:
                  access_list: acl_1
              as_path: Allow40
              as_number:
                asn: 65564

          - sequence: 20
            action: deny
            description: rmap1-20-deny
            match:
              community:
                community_list:
                  - BGPCommunity1
                  - BGPCommunity2
              ip:
                address:
                  prefix_lists:
                    - AllowPrefix1
                    - AllowPrefix2
            set:
              dampening:
                half_life: 30
                start_reuse_route: 1500
                start_suppress_route: 10000
                max_suppress_time: 120

      - route_map: rmap2
        entries:
          - sequence: 20
            action: permit
            description: rmap2-20-permit
            continue_sequence: 40
            match:
              ipv6:
                address:
                  prefix_lists: AllowIPv6Prefix
              interfaces: "{{ nxos_int1 }}"
            set:
              as_path:
                prepend:
                  as_number:
                    - 65563
                    - 65568
                    - 65569
              comm_list: BGPCommunity

          - sequence: 40
            action: deny
            description: rmap2-40-deny
            match:
              route_types:
                - level-1
                - level-2
              tags: 2
              ip:
                multicast:
                  rp:
                    prefix: 192.0.2.0/24
                    rp_type: ASM
                  source: 203.0.113.0/24
                  group_range:
                    first: 239.0.0.1
                    last: 239.255.255.255

      - route_map: rmap3
        entries:
          - sequence: 10
            description: "*** first stanza ***"
            action: permit
            set:
              ip:
                next_hop:
                  verify_availability:
                    - address: 3.3.3.3
                      track: 1
                    - address: 4.4.4.4
                      track: 3

          - sequence: 20
            description: "*** second stanza ***"
            action: permit
            set:
              ip:
                next_hop:
                  address: 6.6.6.6 2.2.2.2
                  load_share: true
                  drop_on_fail: true

          - sequence: 30
            description: "*** third stanza ***"
            action: permit
            set:
              ip:
                next_hop:
                  peer_address: true

          - sequence: 40
            description: "*** fourth stanza ***"
            action: permit
            set:
              ip:
                next_hop:
                  unchanged: true
                  redist_unchanged: true
    state: merged

# Task output
# -------------
#  before: []
#
#  commands:
#    - "route-map rmap1 permit 10"
#    - "match as-number 65564"
#    - "match as-path Allow40"
#    - "match ip address acl_1"
#    - "description rmap1-10-permit"
#    - "route-map rmap1 deny 20"
#    - "match community BGPCommunity1 BGPCommunity2"
#    - "match ip address prefix-list AllowPrefix1 AllowPrefix2"
#    - "description rmap1-20-deny"
#    - "set dampening 30 1500 10000 120"
#    - "route-map rmap2 permit 20"
#    - "match interface Ethernet1/1"
#    - "match ipv6 address prefix-list AllowIPv6Prefix"
#    - "set as-path prepend 65563 65568 65569"
#    - "description rmap2-20-permit"
#    - "continue 40"
#    - "set comm-list BGPCommunity delete"
#    - "route-map rmap2 deny 40"
#    - "match ip multicast source 203.0.113.0/24 group-range 239.0.0.1 to 239.255.255.255 rp 192.0.2.0/24 rp-type ASM"
#    - "match route-type level-1 level-2"
#    - "match tag 2"
#    - "description rmap2-40-deny"
#    - "route-map rmap3 permit 10"
#    - "description *** first stanza ***"
#    - "set ip next-hop verify-availability 3.3.3.3 track 1"
#    - "set ip next-hop verify-availability 4.4.4.4 track 3"
#    - "route-map rmap3 permit 20"
#    - "description *** second stanza ***"
#    - "set ip next-hop 6.6.6.6 2.2.2.2 load-share  drop-on-fail"
#    - "route-map rmap3 permit 30"
#    - "description *** third stanza ***"
#    - "set ip next-hop peer-address"
#    - "route-map rmap3 permit 40"
#    - "description *** fourth stanza ***"
#    - "set ip next-hop unchanged"
#    - "set ip next-hop redist-unchanged"
#
#  after:
#   - route_map: rmap1
#     entries:
#     - action: permit
#       description: rmap1-10-permit
#       match:
#         as_number:
#           asn:
#           - '65564'
#         as_path:
#           - Allow40
#         ip:
#           address:
#             access_list: acl_1
#       sequence: 10
#
#     - action: deny
#       description: rmap1-20-deny
#       match:
#         community:
#           community_list:
#           - BGPCommunity1
#           - BGPCommunity2
#         ip:
#           address:
#             prefix_lists:
#             - AllowPrefix1
#             - AllowPrefix2
#       sequence: 20
#       set:
#         dampening:
#           half_life: 30
#           max_suppress_time: 120
#           start_reuse_route: 1500
#           start_suppress_route: 10000
#
#   - route_map: rmap2
#     entries:
#     - action: permit
#       continue_sequence: 40
#       description: rmap2-20-permit
#       match:
#         interfaces:
#         - Ethernet1/1
#         ipv6:
#           address:
#             prefix_lists:
#             - AllowIPv6Prefix
#         sequence: 20
#         set:
#           as_path:
#             prepend:
#               as_number:
#               - '65563'
#               - '65568'
#               - '65569'
#           comm_list: BGPCommunity
#
#     - action: deny
#       description: rmap2-40-deny
#       match:
#         ip:
#           multicast:
#             group_range:
#               first: 239.0.0.1
#               last: 239.255.255.255
#             rp:
#               prefix: 192.0.2.0/24
#               rp_type: ASM
#             source: 203.0.113.0/24
#         route_types:
#         - level-1
#         - level-2
#         tags:
#         - 2
#       sequence: 40
#
#   - route_map: rmap3
#     entries:
#     - sequence: 10
#       description: "*** first stanza ***"
#       action: permit
#       set:
#         ip:
#           next_hop:
#             verify_availability:
#             - address: 3.3.3.3
#               track: 1
#             - address: 4.4.4.4
#               track: 3
#
#     - sequence: 20
#       description: "*** second stanza ***"
#       action: permit
#       set:
#         ip:
#           next_hop:
#             address: 6.6.6.6 2.2.2.2
#             load_share: true
#             drop_on_fail: true
#
#     - sequence: 30
#       description: "*** third stanza ***"
#       action: permit
#       set:
#         ip:
#           next_hop:
#             peer_address: true
#
#     - sequence: 40
#       description: "*** fourth stanza ***"
#       action: permit
#       set:
#         ip:
#           next_hop:
#             unchanged: true
#             redist_unchanged: true

# After state:
# ------------
# nxos-9k-rdo# show running-config | section "^route-map"
# route-map rmap1 permit 10
#   match as-number 65564
#   match as-path Allow40
#   match ip address acl_1
#   description rmap1-10-permit
# route-map rmap1 deny 20
#   match community BGPCommunity1 BGPCommunity2
#   match ip address prefix-list AllowPrefix1 AllowPrefix2
#   description rmap1-20-deny
#   set dampening 30 1500 10000 120
# route-map rmap2 permit 20
#   match interface Ethernet1/1
#   match ipv6 address prefix-list AllowIPv6Prefix
#   set as-path prepend 65563 65568 65569
#   description rmap2-20-permit
#   continue 40
#   set comm-list BGPCommunity delete
# route-map rmap2 deny 40
#   match ip multicast source 203.0.113.0/24 group-range 239.0.0.1 to 239.255.255.255 rp 192.0.2.0/24 rp-type ASM
#   match route-type level-1 level-2
#   match tag 2
#   description rmap2-40-deny
# route-map rmap3 permit 10
#   description *** first stanza ***
#   set ip next-hop verify-availability 3.3.3.3 track 1
#   set ip next-hop verify-availability 4.4.4.4 track 3
# route-map rmap3 permit 20
#   description *** second stanza ***
#   set ip next-hop 6.6.6.6 2.2.2.2 load-share  drop-on-fail
# route-map rmap3 permit 30
#   description *** third stanza ***
#   set ip next-hop peer-address
# route-map rmap3 permit 40
#   description *** fourth stanza ***
#   set ip next-hop unchanged
#   set ip next-hop redist-unchanged
#
# Using replaced
# (for the listed route-map(s), sequences that are in running-config but not in the task are negated)

# Before state:
# ------------
# nxos-9k-rdo# show running-config | section "^route-map"
# route-map rmap1 permit 10
#   match as-number 65564
#   match as-path Allow40
#   match ip address acl_1
#   description rmap1-10-permit
# route-map rmap1 deny 20
#   match community BGPCommunity1 BGPCommunity2
#   match ip address prefix-list AllowPrefix1 AllowPrefix2
#   description rmap1-20-deny
#   set dampening 30 1500 10000 120
# route-map rmap2 permit 20
#   match interface Ethernet1/1
#   match ipv6 address prefix-list AllowIPv6Prefix
#   set as-path prepend 65563 65568 65569
#   description rmap2-20-permit
#   continue 40
#   set comm-list BGPCommunity delete
# route-map rmap2 deny 40
#   match ip multicast source 203.0.113.0/24 group-range 239.0.0.1 to 239.255.255.255 rp 192.0.2.0/24 rp-type ASM
#   match route-type level-1 level-2
#   match tag 2
#   description rmap2-40-deny
# route-map rmap3 permit 10
#   description *** first stanza ***
#   set ip next-hop verify-availability 3.3.3.3 track 1
#   set ip next-hop verify-availability 4.4.4.4 track 3
# route-map rmap3 permit 20
#   description *** second stanza ***
#   set ip next-hop 6.6.6.6 2.2.2.2 load-share  drop-on-fail
# route-map rmap3 permit 30
#   description *** third stanza ***
#   set ip next-hop peer-address
# route-map rmap3 permit 40
#   description *** fourth stanza ***
#   set ip next-hop unchanged
#   set ip next-hop redist-unchanged
#
- name: Replace route-maps configurations of listed route-maps with provided configurations
  cisco.nxos.nxos_route_maps:
    config:
      - route_map: rmap1
        entries:
          - sequence: 20
            action: deny
            description: rmap1-20-deny
            match:
              community:
                community_list:
                  - BGPCommunity4
                  - BGPCommunity5
              ip:
                address:
                  prefix_lists:
                    - AllowPrefix1
            set:
              community:
                local_as: true

      - route_map: rmap3
        entries:
          - sequence: 10
            description: "*** first stanza ***"
            action: permit
            set:
              ip:
                next_hop:
                  verify_availability:
                    - address: 3.3.3.3
                      track: 1
          - sequence: 20
            description: "*** second stanza ***"
            action: permit
            set:
              ip:
                next_hop:
                  peer_address: true
          - sequence: 30
            description: "*** third stanza ***"
            action: permit
            set:
              ip:
                next_hop:
                  address: 6.6.6.6 2.2.2.2
                  load_share: true
                  drop_on_fail: true
    state: replaced

# Task output
# -------------
#  before:
#   - route_map: rmap1
#     entries:
#     - action: permit
#       description: rmap1-10-permit
#       match:
#         as_number:
#           asn:
#           - '65564'
#         as_path:
#           - Allow40
#         ip:
#           address:
#             access_list: acl_1
#       sequence: 10
#
#     - action: deny
#       description: rmap1-20-deny
#       match:
#         community:
#           community_list:
#           - BGPCommunity1
#           - BGPCommunity2
#         ip:
#           address:
#             prefix_lists:
#             - AllowPrefix1
#             - AllowPrefix2
#       sequence: 20
#       set:
#         dampening:
#           half_life: 30
#           max_suppress_time: 120
#           start_reuse_route: 1500
#           start_suppress_route: 10000
#
#   - route_map: rmap2
#     entries:
#     - action: permit
#       continue_sequence: 40
#       description: rmap2-20-permit
#       match:
#         interfaces:
#         - Ethernet1/1
#         ipv6:
#           address:
#             prefix_lists:
#             - AllowIPv6Prefix
#         sequence: 20
#         set:
#           as_path:
#             prepend:
#               as_number:
#               - '65563'
#               - '65568'
#               - '65569'
#           comm_list: BGPCommunity
#
#     - action: deny
#       description: rmap2-40-deny
#       match:
#         ip:
#           multicast:
#             group_range:
#               first: 239.0.0.1
#               last: 239.255.255.255
#             rp:
#               prefix: 192.0.2.0/24
#               rp_type: ASM
#             source: 203.0.113.0/24
#         route_types:
#         - level-1
#         - level-2
#         tags:
#         - 2
#       sequence: 40
#
#   - route_map: rmap3
#     entries:
#     - sequence: 10
#       description: "*** first stanza ***"
#       action: permit
#       set:
#         ip:
#           next_hop:
#             verify_availability:
#             - address: 3.3.3.3
#               track: 1
#             - address: 4.4.4.4
#               track: 3
#
#     - sequence: 20
#       description: "*** second stanza ***"
#       action: permit
#       set:
#         ip:
#           next_hop:
#             address: 6.6.6.6 2.2.2.2
#             load_share: true
#             drop_on_fail: true
#
#     - sequence: 30
#       description: "*** third stanza ***"
#       action: permit
#       set:
#         ip:
#           next_hop:
#             peer_address: true
#
#     - sequence: 40
#       description: "*** fourth stanza ***"
#       action: permit
#       set:
#         ip:
#           next_hop:
#             unchanged: true
#             redist_unchanged: true
#
#  commands:
#    - no route-map rmap1 permit 10
#    - route-map rmap1 deny 20
#    - no match community BGPCommunity1 BGPCommunity2
#    - match community BGPCommunity4 BGPCommunity5
#    - no match ip address prefix-list AllowPrefix1 AllowPrefix2
#    - match ip address prefix-list AllowPrefix1
#    - no set dampening 30 1500 10000 120
#    - set community local-AS
#    - route-map rmap3 permit 10
#    - no set ip next-hop verify-availability 4.4.4.4 track 3
#    - route-map rmap3 permit 20
#    - no set ip next-hop 6.6.6.6 2.2.2.2 load-share drop-on-fail
#    - set ip next-hop peer-address
#    - route-map rmap3 permit 30
#    - no set ip next-hop peer-address
#    - set ip next-hop 6.6.6.6 2.2.2.2 load-share drop-on-fail
#    - no route-map rmap3 permit 40
#
#  after:
#    - route_map: rmap1
#      entries:
#        - sequence: 20
#          action: deny
#          description: rmap1-20-deny
#          match:
#            community:
#              community_list:
#                - BGPCommunity4
#                - BGPCommunity5
#            ip:
#              address:
#                prefix_lists:
#                  - AllowPrefix1
#          set:
#            community:
#              local_as: true
#
#    - route_map: rmap2
#      entries:
#        - action: permit
#          continue_sequence: 40
#          description: rmap2-20-permit
#          match:
#            interfaces:
#            - Ethernet1/1
#            ipv6:
#              address:
#                prefix_lists:
#                - AllowIPv6Prefix
#          sequence: 20
#          set:
#            as_path:
#              prepend:
#                as_number:
#                - '65563'
#                - '65568'
#                - '65569'
#            comm_list: BGPCommunity
#
#        - action: deny
#          description: rmap2-40-deny
#          match:
#            ip:
#              multicast:
#                group_range:
#                  first: 239.0.0.1
#                  last: 239.255.255.255
#                rp:
#                  prefix: 192.0.2.0/24
#                  rp_type: ASM
#                source: 203.0.113.0/24
#            route_types:
#            - level-1
#            - level-2
#            tags:
#            - 2
#          sequence: 40
#
#    - route_map: rmap3
#      entries:
#      - sequence: 10
#        description: "*** first stanza ***"
#        action: permit
#        set:
#          ip:
#            next_hop:
#              verify_availability:
#              - address: 3.3.3.3
#                track: 1
#      - sequence: 20
#        description: "*** second stanza ***"
#        action: permit
#        set:
#          ip:
#            next_hop:
#              peer_address: true
#      - sequence: 30
#        description: "*** third stanza ***"
#        action: permit
#        set:
#          ip:
#            next_hop:
#              address: 6.6.6.6 2.2.2.2
#              load_share: true
#              drop_on_fail: true

# After state:
# ------------
# nxos-9k-rdo# show running-config | section "^route-map"
# route-map rmap1 deny 20
#   description rmap1-20-deny
#   match community BGPCommunity4 BGPCommunity5
#   match ip address prefix-list AllowPrefix1
#   set community local-AS
# route-map rmap2 permit 20
#   match interface Ethernet1/1
#   match ipv6 address prefix-list AllowIPv6Prefix
#   set as-path prepend 65563 65568 65569
#   description rmap2-20-permit
#   continue 40
#   set comm-list BGPCommunity delete
# route-map rmap2 deny 40
#   match ip multicast source 203.0.113.0/24 group-range 239.0.0.1 to 239.255.255.255 rp 192.0.2.0/24 rp-type ASM
#   match route-type level-1 level-2
#   match tag 2
#   description rmap2-40-deny
# route-map rmap3 permit 10
#   description *** first stanza ***
#   set ip next-hop verify-availability 3.3.3.3 track 1
# route-map rmap3 permit 20
#   description *** second stanza ***
#   set ip next-hop peer-address
# route-map rmap3 permit 30
#   description *** third stanza ***
#   set ip next-hop 6.6.6.6 2.2.2.2 load-share  drop-on-fail

# Using overridden

# Before state:
# ------------
# nxos-9k-rdo# show running-config | section "^route-map"
# route-map rmap1 permit 10
#   match as-number 65564
#   match as-path Allow40
#   match ip address acl_1
#   description rmap1-10-permit
# route-map rmap1 deny 20
#   match community BGPCommunity1 BGPCommunity2
#   match ip address prefix-list AllowPrefix1 AllowPrefix2
#   description rmap1-20-deny
#   set dampening 30 1500 10000 120
# route-map rmap2 permit 20
#   match interface Ethernet1/1
#   match ipv6 address prefix-list AllowIPv6Prefix
#   set as-path prepend 65563 65568 65569
#   description rmap2-20-permit
#   continue 40
#   set comm-list BGPCommunity delete
# route-map rmap2 deny 40
#   match ip multicast source 203.0.113.0/24 group-range 239.0.0.1 to 239.255.255.255 rp 192.0.2.0/24 rp-type ASM
#   match route-type level-1 level-2
#   match tag 2
#   description rmap2-40-deny

- name: Override all route-maps configuration with provided configuration
  cisco.nxos.nxos_route_maps:
    config:
      - route_map: rmap1
        entries:
          - sequence: 20
            action: deny
            description: rmap1-20-deny
            match:
              community:
                community_list:
                  - BGPCommunity4
                  - BGPCommunity5
              ip:
                address:
                  prefix_lists:
                    - AllowPrefix1
            set:
              community:
                local_as: true
    state: overridden

# Task output
# -------------
#  before:
#   - route_map: rmap1
#     entries:
#     - action: permit
#       description: rmap1-10-permit
#       match:
#         as_number:
#           asn:
#           - '65564'
#         as_path:
#           - Allow40
#         ip:
#           address:
#             access_list: acl_1
#       sequence: 10
#
#     - action: deny
#       description: rmap1-20-deny
#       match:
#         community:
#           community_list:
#           - BGPCommunity1
#           - BGPCommunity2
#         ip:
#           address:
#             prefix_lists:
#             - AllowPrefix1
#             - AllowPrefix2
#       sequence: 20
#       set:
#         dampening:
#           half_life: 30
#           max_suppress_time: 120
#           start_reuse_route: 1500
#           start_suppress_route: 10000
#
#   - route_map: rmap2
#     entries:
#     - action: permit
#       continue_sequence: 40
#       description: rmap2-20-permit
#       match:
#         interfaces:
#         - Ethernet1/1
#         ipv6:
#           address:
#             prefix_lists:
#             - AllowIPv6Prefix
#         sequence: 20
#         set:
#           as_path:
#             prepend:
#               as_number:
#               - '65563'
#               - '65568'
#               - '65569'
#           comm_list: BGPCommunity
#
#     - action: deny
#       description: rmap2-40-deny
#       match:
#         ip:
#           multicast:
#             group_range:
#               first: 239.0.0.1
#               last: 239.255.255.255
#             rp:
#               prefix: 192.0.2.0/24
#               rp_type: ASM
#             source: 203.0.113.0/24
#         route_types:
#         - level-1
#         - level-2
#         tags:
#         - 2
#       sequence: 40
#
#  commands:
#    - no route-map rmap1 permit 10
#    - route-map rmap1 deny 20
#    - no match community BGPCommunity1 BGPCommunity2
#    - match community BGPCommunity4 BGPCommunity5
#    - no match ip address prefix-list AllowPrefix1 AllowPrefix2
#    - match ip address prefix-list AllowPrefix1
#    - no set dampening 30 1500 10000 120
#    - set community local-AS
#    - no route-map rmap2 permit 20
#    - no route-map rmap2 deny 40
#
#  after:
#  - route_map: rmap1
#    entries:
#    - sequence: 20
#      action: deny
#      description: rmap1-20-deny
#      match:
#        community:
#          community_list:
#          - BGPCommunity4
#          - BGPCommunity5
#        ip:
#          address:
#            prefix_lists:
#            - AllowPrefix1
#      set:
#        community:
#          local_as: true
#
# After state:
# ------------
# nxos-9k-rdo# sh running-config | section "^route-map"
# route-map rmap1 deny 20
#   description rmap1-20-deny
#   match community BGPCommunity4 BGPCommunity5
#   match ip address prefix-list AllowPrefix1
#   set community local-AS

# Using deleted to delete a single route-map

# Before state:
# ------------
# nxos-9k-rdo# show running-config | section "^route-map"
# route-map rmap1 permit 10
#   match as-number 65564
#   match as-path Allow40
#   match ip address acl_1
#   description rmap1-10-permit
# route-map rmap1 deny 20
#   match community BGPCommunity1 BGPCommunity2
#   match ip address prefix-list AllowPrefix1 AllowPrefix2
#   description rmap1-20-deny
#   set dampening 30 1500 10000 120
# route-map rmap2 permit 20
#   match interface Ethernet1/1
#   match ipv6 address prefix-list AllowIPv6Prefix
#   set as-path prepend 65563 65568 65569
#   description rmap2-20-permit
#   continue 40
#   set comm-list BGPCommunity delete
# route-map rmap2 deny 40
#   match ip multicast source 203.0.113.0/24 group-range 239.0.0.1 to 239.255.255.255 rp 192.0.2.0/24 rp-type ASM
#   match route-type level-1 level-2
#   match tag 2
#   description rmap2-40-deny

- name: Delete single route-map
  cisco.nxos.nxos_route_maps:
    config:
      - route_map: rmap1
    state: deleted

# Task output
# -------------
#  before:
#   - route_map: rmap1
#     entries:
#     - action: permit
#       description: rmap1-10-permit
#       match:
#         as_number:
#           asn:
#           - '65564'
#         as_path:
#           - Allow40
#         ip:
#           address:
#             access_list: acl_1
#       sequence: 10
#
#     - action: deny
#       description: rmap1-20-deny
#       match:
#         community:
#           community_list:
#           - BGPCommunity1
#           - BGPCommunity2
#         ip:
#           address:
#             prefix_lists:
#             - AllowPrefix1
#             - AllowPrefix2
#       sequence: 20
#       set:
#         dampening:
#           half_life: 30
#           max_suppress_time: 120
#           start_reuse_route: 1500
#           start_suppress_route: 10000
#
#   - route_map: rmap2
#     entries:
#     - action: permit
#       continue_sequence: 40
#       description: rmap2-20-permit
#       match:
#         interfaces:
#         - Ethernet1/1
#         ipv6:
#           address:
#             prefix_lists:
#             - AllowIPv6Prefix
#         sequence: 20
#         set:
#           as_path:
#             prepend:
#               as_number:
#               - '65563'
#               - '65568'
#               - '65569'
#           comm_list: BGPCommunity
#
#     - action: deny
#       description: rmap2-40-deny
#       match:
#         ip:
#           multicast:
#             group_range:
#               first: 239.0.0.1
#               last: 239.255.255.255
#             rp:
#               prefix: 192.0.2.0/24
#               rp_type: ASM
#             source: 203.0.113.0/24
#         route_types:
#         - level-1
#         - level-2
#         tags:
#         - 2
#       sequence: 40
#
#  commands:
#    - no route-map rmap1 permit 10
#    - no route-map rmap1 deny 20
#
#  after:
#   - route_map: rmap2
#     entries:
#     - action: permit
#       continue_sequence: 40
#       description: rmap2-20-permit
#       match:
#         interfaces:
#         - Ethernet1/1
#         ipv6:
#           address:
#             prefix_lists:
#             - AllowIPv6Prefix
#         sequence: 20
#         set:
#           as_path:
#             prepend:
#               as_number:
#               - '65563'
#               - '65568'
#               - '65569'
#           comm_list: BGPCommunity
#
#     - action: deny
#       description: rmap2-40-deny
#       match:
#         ip:
#           multicast:
#             group_range:
#               first: 239.0.0.1
#               last: 239.255.255.255
#             rp:
#               prefix: 192.0.2.0/24
#               rp_type: ASM
#             source: 203.0.113.0/24
#         route_types:
#         - level-1
#         - level-2
#         tags:
#         - 2
#       sequence: 40
#
# After state:
# ------------
# nxos-9k-rdo# sh running-config | section "^route-map"
# route-map rmap2 permit 20
#   match interface Ethernet1/1
#   match ipv6 address prefix-list AllowIPv6Prefix
#   set as-path prepend 65563 65568 65569
#   description rmap2-20-permit
#   continue 40
#   set comm-list BGPCommunity delete
# route-map rmap2 deny 40
#   match ip multicast source 203.0.113.0/24 group-range 239.0.0.1 to 239.255.255.255 rp 192.0.2.0/24 rp-type ASM
#   match route-type level-1 level-2
#   match tag 2
#   description rmap2-40-deny

# Using deleted to delete all route-maps from the device running-config

# Before state:
# ------------
# nxos-9k-rdo# show running-config | section "^route-map"
# route-map rmap1 permit 10
#   match as-number 65564
#   match as-path Allow40
#   match ip address acl_1
#   description rmap1-10-permit
# route-map rmap1 deny 20
#   match community BGPCommunity1 BGPCommunity2
#   match ip address prefix-list AllowPrefix1 AllowPrefix2
#   description rmap1-20-deny
#   set dampening 30 1500 10000 120
# route-map rmap2 permit 20
#   match interface Ethernet1/1
#   match ipv6 address prefix-list AllowIPv6Prefix
#   set as-path prepend 65563 65568 65569
#   description rmap2-20-permit
#   continue 40
#   set comm-list BGPCommunity delete
# route-map rmap2 deny 40
#   match ip multicast source 203.0.113.0/24 group-range 239.0.0.1 to 239.255.255.255 rp 192.0.2.0/24 rp-type ASM
#   match route-type level-1 level-2
#   match tag 2
#   description rmap2-40-deny

- name: Delete all route-maps
  cisco.nxos.nxos_route_maps:
    state: deleted

# Task output
# -------------
#  before:
#   - route_map: rmap1
#     entries:
#     - action: permit
#       description: rmap1-10-permit
#       match:
#         as_number:
#           asn:
#           - '65564'
#         as_path:
#           - Allow40
#         ip:
#           address:
#             access_list: acl_1
#       sequence: 10
#
#     - action: deny
#       description: rmap1-20-deny
#       match:
#         community:
#           community_list:
#           - BGPCommunity1
#           - BGPCommunity2
#         ip:
#           address:
#             prefix_lists:
#             - AllowPrefix1
#             - AllowPrefix2
#       sequence: 20
#       set:
#         dampening:
#           half_life: 30
#           max_suppress_time: 120
#           start_reuse_route: 1500
#           start_suppress_route: 10000
#
#   - route_map: rmap2
#     entries:
#     - action: permit
#       continue_sequence: 40
#       description: rmap2-20-permit
#       match:
#         interfaces:
#         - Ethernet1/1
#         ipv6:
#           address:
#             prefix_lists:
#             - AllowIPv6Prefix
#         sequence: 20
#         set:
#           as_path:
#             prepend:
#               as_number:
#               - '65563'
#               - '65568'
#               - '65569'
#           comm_list: BGPCommunity
#
#     - action: deny
#       description: rmap2-40-deny
#       match:
#         ip:
#           multicast:
#             group_range:
#               first: 239.0.0.1
#               last: 239.255.255.255
#             rp:
#               prefix: 192.0.2.0/24
#               rp_type: ASM
#             source: 203.0.113.0/24
#         route_types:
#         - level-1
#         - level-2
#         tags:
#         - 2
#       sequence: 40
#
#  commands:
#    - no route-map rmap1 permit 10
#    - no route-map rmap1 deny 20
#    - no route-map rmap2 permit 20
#    - no route-map rmap2 deny 40
#
#  after: []
#
# After state:
# ------------
# nxos-9k-rdo# sh running-config | section "^route-map"

- name: Render platform specific configuration lines with state rendered (without connecting to the device)
  cisco.nxos.nxos_route_maps:
    config:
      - route_map: rmap1
        entries:
          - sequence: 10
            action: permit
            description: rmap1-10-permit
            match:
              ip:
                address:
                  access_list: acl_1
              as_path: Allow40
              as_number:
                asn: 65564

          - sequence: 20
            action: deny
            description: rmap1-20-deny
            match:
              community:
                community_list:
                  - BGPCommunity1
                  - BGPCommunity2
              ip:
                address:
                  prefix_lists:
                    - AllowPrefix1
                    - AllowPrefix2
            set:
              dampening:
                half_life: 30
                start_reuse_route: 1500
                start_suppress_route: 10000
                max_suppress_time: 120

      - route_map: rmap2
        entries:
          - sequence: 20
            action: permit
            description: rmap2-20-permit
            continue_sequence: 40
            match:
              ipv6:
                address:
                  prefix_lists: AllowIPv6Prefix
              interfaces: "{{ nxos_int1 }}"
            set:
              as_path:
                prepend:
                  as_number:
                    - 65563
                    - 65568
                    - 65569
              comm_list: BGPCommunity

          - sequence: 40
            action: deny
            description: rmap2-40-deny
            match:
              route_types:
                - level-1
                - level-2
              tags: 2
              ip:
                multicast:
                  rp:
                    prefix: 192.0.2.0/24
                    rp_type: ASM
                  source: 203.0.113.0/24
                  group_range:
                    first: 239.0.0.1
                    last: 239.255.255.255
    state: rendered

# Task Output (redacted)
# -----------------------
#  rendered:
#    - "route-map rmap1 permit 10"
#    - "match as-number 65564"
#    - "match as-path Allow40"
#    - "match ip address acl_1"
#    - "description rmap1-10-permit"
#    - "route-map rmap1 deny 20"
#    - "match community BGPCommunity1 BGPCommunity2"
#    - "match ip address prefix-list AllowPrefix1 AllowPrefix2"
#    - "description rmap1-20-deny"
#    - "set dampening 30 1500 10000 120"
#    - "route-map rmap2 permit 20"
#    - "match interface Ethernet1/1"
#    - "match ipv6 address prefix-list AllowIPv6Prefix"
#    - "set as-path prepend 65563 65568 65569"
#    - "description rmap2-20-permit"
#    - "continue 40"
#    - "set comm-list BGPCommunity delete"
#    - "route-map rmap2 deny 40"
#    - "match ip multicast source 203.0.113.0/24 group-range 239.0.0.1 to 239.255.255.255 rp 192.0.2.0/24 rp-type ASM"
#    - "match route-type level-1 level-2"
#    - "match tag 2"
#    - "description rmap2-40-deny"

# Using parsed

# parsed.cfg
# ------------
# route-map rmap1 permit 10
#   match as-number 65564
#   match as-path Allow40
#   match ip address acl_1
#   description rmap1-10-permit
# route-map rmap1 deny 20
#   match community BGPCommunity1 BGPCommunity2
#   match ip address prefix-list AllowPrefix1 AllowPrefix2
#   description rmap1-20-deny
#   set dampening 30 1500 10000 120
# route-map rmap2 permit 20
#   match interface Ethernet1/1
#   match ipv6 address prefix-list AllowIPv6Prefix
#   set as-path prepend 65563 65568 65569
#   description rmap2-20-permit
#   continue 40
#   set comm-list BGPCommunity delete
# route-map rmap2 deny 40
#   match ip multicast source 203.0.113.0/24 group-range 239.0.0.1 to 239.255.255.255 rp 192.0.2.0/24 rp-type ASM
#   match route-type level-1 level-2
#   match tag 2
#   description rmap2-40-deny

- name: Parse externally provided route-maps configuration
  cisco.nxos.nxos_route_maps:
    running_config: "{{ lookup('file', './fixtures/parsed.cfg') }}"
    state: parsed

# Task output (redacted)
# -----------------------
#  parsed:
#   - route_map: rmap1
#     entries:
#     - action: permit
#       description: rmap1-10-permit
#       match:
#         as_number:
#           asn:
#           - '65564'
#         as_path:
#           - Allow40
#         ip:
#           address:
#             access_list: acl_1
#       sequence: 10
#
#     - action: deny
#       description: rmap1-20-deny
#       match:
#         community:
#           community_list:
#           - BGPCommunity1
#           - BGPCommunity2
#         ip:
#           address:
#             prefix_lists:
#             - AllowPrefix1
#             - AllowPrefix2
#       sequence: 20
#       set:
#         dampening:
#           half_life: 30
#           max_suppress_time: 120
#           start_reuse_route: 1500
#           start_suppress_route: 10000
#
#   - route_map: rmap2
#     entries:
#     - action: permit
#       continue_sequence: 40
#       description: rmap2-20-permit
#       match:
#         interfaces:
#         - Ethernet1/1
#         ipv6:
#           address:
#             prefix_lists:
#             - AllowIPv6Prefix
#         sequence: 20
#         set:
#           as_path:
#             prepend:
#               as_number:
#               - '65563'
#               - '65568'
#               - '65569'
#           comm_list: BGPCommunity
#
#     - action: deny
#       description: rmap2-40-deny
#       match:
#         ip:
#           multicast:
#             group_range:
#               first: 239.0.0.1
#               last: 239.255.255.255
#             rp:
#               prefix: 192.0.2.0/24
#               rp_type: ASM
#             source: 203.0.113.0/24
#         route_types:
#         - level-1
#         - level-2
#         tags:
#         - 2
#       sequence: 40

# Using gathered

# Existing route-map config
# ---------------------------
# nxos-9k-rdo# show running-config | section "^route-map"
# route-map rmap1 permit 10
#   match as-number 65564
#   match as-path Allow40
#   match ip address acl_1
#   description rmap1-10-permit
# route-map rmap2 permit 20
#   match interface Ethernet1/1
#   match ipv6 address prefix-list AllowIPv6Prefix
#   set as-path prepend 65563 65568 65569
#   description rmap2-20-permit
#   continue 40
#   set comm-list BGPCommunity delete

- name: Gather route-maps facts using gathered
  cisco.nxos.nxos_route_maps:
    state: gathered

#  gathered:
#   - route_map: rmap1
#     entries:
#     - action: permit
#       description: rmap1-10-permit
#       match:
#         as_number:
#           asn:
#           - '65564'
#         as_path:
#           - Allow40
#         ip:
#           address:
#             access_list: acl_1
#       sequence: 10
#
#   - route_map: rmap2
#     entries:
#     - action: permit
#       continue_sequence: 40
#       description: rmap2-20-permit
#       match:
#         interfaces:
#         - Ethernet1/1
#         ipv6:
#           address:
#             prefix_lists:
#             - AllowIPv6Prefix
#         sequence: 20
#         set:
#           as_path:
#             prepend:
#               as_number:
#               - '65563'
#               - '65568'
#               - '65569'
#           comm_list: BGPCommunity
#
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-return-after"><strong>after</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The resulting configuration model invocation.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"The configuration returned will always be in the same format\n of the parameters above.\n"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-return-before"><strong>before</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The configuration prior to the model invocation.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"The configuration returned will always be in the same format\n of the parameters above.\n"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-cisco-nxos-nxos-route-maps-module-return-commands"><strong>commands</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The set of commands pushed to the remote device.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>["route-map rmap1 permit 10", "match as-number 65564", "match as-path Allow40", "match ip address acl_1", "description rmap1-10-permit", "route-map rmap1 deny 20", "match community BGPCommunity1 BGPCommunity2"]</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Nilashish Chakraborty (@NilashishC)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/cisco.nxos/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/cisco.nxos" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/cisco/nxos/nxos_route_maps_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/cisco/nxos/nxos_route_maps_module.html</a>
  </p>
</div>
