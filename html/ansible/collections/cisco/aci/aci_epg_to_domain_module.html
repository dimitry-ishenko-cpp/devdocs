<h1 id="cisco-aci-aci-epg-to-domain-bind-epgs-to-domains-fv-rsdomatt">cisco.aci.aci_epg_to_domain – Bind EPGs to Domains (fv:RsDomAtt)</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/cisco/aci">cisco.aci collection</a> (version 2.1.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install cisco.aci</code>.</p> <p>To use it in a playbook, specify: <code>cisco.aci.aci_epg_to_domain</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id4">See Also</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Bind EPGs to Physical and Virtual Domains on Cisco ACI fabrics.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>allow_useg</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>encap</li> <li>useg</li> </ul> </td> <td> <div>Allows micro-segmentation.</div> <div>The APIC defaults to <code>encap</code> when unset during creation.</div> </td> </tr> <tr> <td colspan="1">  <b>annotation</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User-defined string for annotating an object.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_ANNOTATION</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>ap</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of an existing application network profile, that will contain the EPGs.</div> <div>
<br>aliases: app_profile, app_profile_name</div> </td> </tr> <tr> <td colspan="1">  <b>certificate_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The X.509 certificate name attached to the APIC AAA user used for signature-based authentication.</div> <div>If a <code>private_key</code> filename was provided, this defaults to the <code>private_key</code> basename, without extension.</div> <div>If PEM-formatted content was provided for <code>private_key</code>, this defaults to the <code>username</code> value.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_CERTIFICATE_NAME</code> will be used instead.</div> <div>
<br>aliases: cert_name</div> </td> </tr> <tr> <td colspan="1">  <b>custom_epg_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The custom epg name in VMM domain association.</div> </td> </tr> <tr> <td colspan="1">  <b>deploy_immediacy</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>immediate</li> <li>lazy</li> </ul> </td> <td> <div>Determines when the policy is pushed to hardware Policy CAM.</div> <div>The APIC defaults to <code>lazy</code> when unset during creation.</div> </td> </tr> <tr> <td colspan="1">  <b>domain</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of the physical or virtual domain being associated with the EPG.</div> <div>
<br>aliases: domain_name, domain_profile</div> </td> </tr> <tr> <td colspan="1">  <b>domain_type</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>l2dom</li> <li>phys</li> <li>vmm</li> </ul> </td> <td> <div>Specify whether the Domain is a physical (phys), a virtual (vmm) or an L2 external domain association (l2dom).</div> <div>
<br>aliases: type</div> </td> </tr> <tr> <td colspan="1">  <b>encap</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>The VLAN encapsulation for the EPG when binding a VMM Domain with static <code>encap_mode</code>.</div> <div>This acts as the secondary encap when using useg.</div> <div>Accepted values range between <code>1</code> and <code>4096</code>.</div> </td> </tr> <tr> <td colspan="1">  <b>encap_mode</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>auto</li> <li>vlan</li> <li>vxlan</li> </ul> </td> <td> <div>The encapsulation method to be used.</div> <div>The APIC defaults to <code>auto</code> when unset during creation.</div> <div>If vxlan is selected, switching_mode must be "AVE".</div> </td> </tr> <tr> <td colspan="1">  <b>enhanced_lag_policy</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of the VMM Domain Enhanced Lag Policy.</div> <div>
<br>aliases: lag_policy</div> </td> </tr> <tr> <td colspan="1">  <b>epg</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of the end point group.</div> <div>
<br>aliases: epg_name, name</div> </td> </tr> <tr> <td colspan="1">  <b>host</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>IP Address or hostname of APIC resolvable by Ansible control host.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_HOST</code> will be used instead.</div> <div>
<br>aliases: hostname</div> </td> </tr> <tr> <td colspan="1">  <b>netflow</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Determines if netflow should be enabled.</div> <div>The APIC defaults to <code>no</code> when unset during creation.</div> </td> </tr> <tr> <td colspan="1">  <b>output_level</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>debug</li> <li>info</li> <li><div>
<b>normal</b> ←</div></li> </ul> </td> <td> <div>Influence the output of this ACI module.</div> <div>
<code>normal</code> means the standard output, incl. <code>current</code> dict</div> <div>
<code>info</code> adds informational output, incl. <code>previous</code>, <code>proposed</code> and <code>sent</code> dicts</div> <div>
<code>debug</code> adds debugging output, incl. <code>filter_string</code>, <code>method</code>, <code>response</code>, <code>status</code> and <code>url</code> information</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_OUTPUT_LEVEL</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>output_path</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Path to a file that will be used to dump the ACI JSON configuration objects generated by the module.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_OUTPUT_PATH</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>owner_key</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User-defined string for the ownerKey attribute of an ACI object.</div> <div>This attribute represents a key for enabling clients to own their data for entity correlation.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_OWNER_KEY</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>owner_tag</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>User-defined string for the ownerTag attribute of an ACI object.</div> <div>This attribute represents a tag for enabling clients to add their own data.</div> <div>For example, to indicate who created this object.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_OWNER_TAG</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>password</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The password to use for authentication.</div> <div>This option is mutual exclusive with <code>private_key</code>. If <code>private_key</code> is provided too, it will be used instead.</div> <div>If the value is not specified in the task, the value of environment variables <code>ACI_PASSWORD</code> or <code>ANSIBLE_NET_PASSWORD</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>port</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Port number to be used for REST connection.</div> <div>The default value depends on parameter <code>use_ssl</code>.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_PORT</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>primary_encap</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Determines the primary VLAN ID when using useg.</div> <div>Accepted values range between <code>1</code> and <code>4096</code>.</div> </td> </tr> <tr> <td colspan="1">  <b>private_key</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Either a PEM-formatted private key file or the private key content used for signature-based authentication.</div> <div>This value also influences the default <code>certificate_name</code> that is used.</div> <div>This option is mutual exclusive with <code>password</code>. If <code>password</code> is provided too, it will be ignored.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_PRIVATE_KEY</code> or <code>ANSIBLE_NET_SSH_KEYFILE</code> will be used instead.</div> <div>
<br>aliases: cert_key</div> </td> </tr> <tr> <td colspan="1">  <b>promiscuous</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>accept</li> <li><div>
<b>reject</b> ←</div></li> </ul> </td> <td> <div>Allow/Disallow promiscuous mode in vmm domain</div> </td> </tr> <tr> <td colspan="1">  <b>resolution_immediacy</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>immediate</li> <li>lazy</li> <li>pre-provision</li> </ul> </td> <td> <div>Determines when the policies should be resolved and available.</div> <div>The APIC defaults to <code>lazy</code> when unset during creation.</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>absent</li> <li><div>
<b>present</b> ←</div></li> <li>query</li> </ul> </td> <td> <div>Use <code>present</code> or <code>absent</code> for adding or removing.</div> <div>Use <code>query</code> for listing an object or multiple objects.</div> </td> </tr> <tr> <td colspan="1">  <b>switching_mode</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>AVE</li> <li><div>
<b>native</b> ←</div></li> </ul> </td> <td> <div>Switching Mode used by the switch</div> </td> </tr> <tr> <td colspan="1">  <b>tenant</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of an existing tenant.</div> <div>
<br>aliases: tenant_name</div> </td> </tr> <tr> <td colspan="1">  <b>timeout</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>30</div> </td> <td> <div>The socket level timeout in seconds.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_TIMEOUT</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>use_proxy</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If <code>no</code>, it will not use a proxy, even if one is defined in an environment variable on the target hosts.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_USE_PROXY</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>use_ssl</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If <code>no</code>, an HTTP connection will be used instead of the default HTTPS connection.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_USE_SSL</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>username</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"admin"</div> </td> <td> <div>The username to use for authentication.</div> <div>If the value is not specified in the task, the value of environment variables <code>ACI_USERNAME</code> or <code>ANSIBLE_NET_USERNAME</code> will be used instead.</div> <div>
<br>aliases: user</div> </td> </tr> <tr> <td colspan="1">  <b>validate_certs</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If <code>no</code>, SSL certificates will not be validated.</div> <div>This should only set to <code>no</code> when used on personally controlled sites using self-signed certificates.</div> <div>If the value is not specified in the task, the value of environment variable <code>ACI_VALIDATE_CERTS</code> will be used instead.</div> </td> </tr> <tr> <td colspan="1">  <b>vm_provider</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>cloudfoundry</li> <li>kubernetes</li> <li>microsoft</li> <li>openshift</li> <li>openstack</li> <li>redhat</li> <li>vmware</li> </ul> </td> <td> <div>The VM platform for VMM Domains.</div> <div>Support for Kubernetes was added in ACI v3.0.</div> <div>Support for CloudFoundry, OpenShift and Red Hat was added in ACI v3.1.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>The <code>tenant</code>, <code>ap</code>, <code>epg</code>, and <code>domain</code> used must exist before using this module in your playbook. The <a class="reference internal" href="aci_tenant_module.html#ansible-collections-cisco-aci-aci-tenant-module"><span class="std std-ref">cisco.aci.aci_tenant</span></a> <a class="reference internal" href="aci_ap_module.html#ansible-collections-cisco-aci-aci-ap-module"><span class="std std-ref">cisco.aci.aci_ap</span></a>, <a class="reference internal" href="aci_epg_module.html#ansible-collections-cisco-aci-aci-epg-module"><span class="std std-ref">cisco.aci.aci_epg</span></a> <a class="reference internal" href="aci_domain_module.html#ansible-collections-cisco-aci-aci-domain-module"><span class="std std-ref">cisco.aci.aci_domain</span></a> modules can be used for this.</li> <li>OpenStack VMM domains must not be created using this module. The OpenStack VMM domain is created directly by the Cisco APIC Neutron plugin as part of the installation and configuration. This module can be used to query status of an OpenStack VMM domain.</li> </ul> </div>   <h2 id="see-also">See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="aci_ap_module.html#ansible-collections-cisco-aci-aci-ap-module"><span class="std std-ref">cisco.aci.aci_ap</span></a></dt>
<dd>
<p>The official documentation on the <strong>cisco.aci.aci_ap</strong> module.</p> </dd> <dt><a class="reference internal" href="aci_epg_module.html#ansible-collections-cisco-aci-aci-epg-module"><span class="std std-ref">cisco.aci.aci_epg</span></a></dt>
<dd>
<p>The official documentation on the <strong>cisco.aci.aci_epg</strong> module.</p> </dd> <dt><a class="reference internal" href="aci_domain_module.html#ansible-collections-cisco-aci-aci-domain-module"><span class="std std-ref">cisco.aci.aci_domain</span></a></dt>
<dd>
<p>The official documentation on the <strong>cisco.aci.aci_domain</strong> module.</p> </dd> <dt><a class="reference external" href="https://developer.cisco.com/docs/apic-mim-ref/">APIC Management Information Model reference</a></dt>
<dd>
<p>More information about the internal APIC class <strong>fv:RsDomAtt</strong>.</p> </dd> <dt><a class="reference internal" href="../../../scenario_guides/guide_aci.html#aci-guide"><span class="std std-ref">Cisco ACI Guide</span></a></dt>
<dd>
<p>Detailed information on how to manage your ACI infrastructure using Ansible.</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_general_aci.html#aci-dev-guide"><span class="std std-ref">Developing Cisco ACI modules</span></a></dt>
<dd>
<p>Detailed guide on how to write your own Cisco ACI modules to contribute.</p> </dd> </dl> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Add a new physical domain to EPG binding
  cisco.aci.aci_epg_to_domain:
    host: apic
    username: admin
    password: SomeSecretPassword
    tenant: anstest
    ap: anstest
    epg: anstest
    domain: anstest
    domain_type: phys
    state: present
  delegate_to: localhost

- name: Remove an existing physical domain to EPG binding
  cisco.aci.aci_epg_to_domain:
    host: apic
    username: admin
    password: SomeSecretPassword
    tenant: anstest
    ap: anstest
    epg: anstest
    domain: anstest
    domain_type: phys
    state: absent
  delegate_to: localhost

- name: Query a specific physical domain to EPG binding
  cisco.aci.aci_epg_to_domain:
    host: apic
    username: admin
    password: SomeSecretPassword
    tenant: anstest
    ap: anstest
    epg: anstest
    domain: anstest
    domain_type: phys
    state: query
  delegate_to: localhost
  register: query_result

- name: Query all domain to EPG bindings
  cisco.aci.aci_epg_to_domain:
    host: apic
    username: admin
    password: SomeSecretPassword
    state: query
  delegate_to: localhost
  register: query_result
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>current</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>success</td> <td> <div>The existing configuration from the APIC after the module has finished</div> <br> <div><b>Sample:</b></div> <div>[{'fvTenant': {'attributes': {'descr': 'Production environment', 'dn': 'uni/tn-production', 'name': 'production', 'nameAlias': '', 'ownerKey': '', 'ownerTag': ''}}}]</div> </td> </tr> <tr> <td colspan="1">  <b>error</b>  <div> <span>dictionary</span> </div> </td> <td>failure</td> <td> <div>The error information as returned from the APIC</div> <br> <div><b>Sample:</b></div> <div>{'code': '122', 'text': 'unknown managed object class foo'}</div> </td> </tr> <tr> <td colspan="1">  <b>filter_string</b>  <div> <span>string</span> </div> </td> <td>failure or debug</td> <td> <div>The filter string used for the request</div> <br> <div><b>Sample:</b></div> <div>?rsp-prop-include=config-only</div> </td> </tr> <tr> <td colspan="1">  <b>method</b>  <div> <span>string</span> </div> </td> <td>failure or debug</td> <td> <div>The HTTP method used for the request to the APIC</div> <br> <div><b>Sample:</b></div> <div>POST</div> </td> </tr> <tr> <td colspan="1">  <b>previous</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>info</td> <td> <div>The original configuration from the APIC before the module has started</div> <br> <div><b>Sample:</b></div> <div>[{'fvTenant': {'attributes': {'descr': 'Production', 'dn': 'uni/tn-production', 'name': 'production', 'nameAlias': '', 'ownerKey': '', 'ownerTag': ''}}}]</div> </td> </tr> <tr> <td colspan="1">  <b>proposed</b>  <div> <span>dictionary</span> </div> </td> <td>info</td> <td> <div>The assembled configuration from the user-provided parameters</div> <br> <div><b>Sample:</b></div> <div>{'fvTenant': {'attributes': {'descr': 'Production environment', 'name': 'production'}}}</div> </td> </tr> <tr> <td colspan="1">  <b>raw</b>  <div> <span>string</span> </div> </td> <td>parse error</td> <td> <div>The raw output returned by the APIC REST API (xml or json)</div> <br> <div><b>Sample:</b></div> <div>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;imdata totalCount="1"&gt;&lt;error code="122" text="unknown managed object class foo"/&gt;&lt;/imdata&gt;</div> </td> </tr> <tr> <td colspan="1">  <b>response</b>  <div> <span>string</span> </div> </td> <td>failure or debug</td> <td> <div>The HTTP response from the APIC</div> <br> <div><b>Sample:</b></div> <div>OK (30 bytes)</div> </td> </tr> <tr> <td colspan="1">  <b>sent</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>info</td> <td> <div>The actual/minimal configuration pushed to the APIC</div> <br> <div><b>Sample:</b></div> <div>{'fvTenant': {'attributes': {'descr': 'Production environment'}}}</div> </td> </tr> <tr> <td colspan="1">  <b>status</b>  <div> <span>integer</span> </div> </td> <td>failure or debug</td> <td> <div>The HTTP status from the APIC</div> <br> <div><b>Sample:</b></div> <div>200</div> </td> </tr> <tr> <td colspan="1">  <b>url</b>  <div> <span>string</span> </div> </td> <td>failure or debug</td> <td> <div>The HTTP url used for the request to the APIC</div> <br> <div><b>Sample:</b></div> <div>https://10.11.12.13/api/mo/uni/tn-production.json</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Jacob McGill (@jmcgill298)</li> <li>Shreyas Srish (@shrsr)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/cisco/aci/aci_epg_to_domain_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/cisco/aci/aci_epg_to_domain_module.html</a>
  </p>
</div>
