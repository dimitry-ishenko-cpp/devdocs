<section id="amazon-aws-ec2-security-group-module-maintain-an-ec2-security-group"> <h1>amazon.aws.ec2_security_group module – Maintain an EC2 security group</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/amazon/aws/">amazon.aws collection</a> (version 8.2.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install amazon.aws</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>amazon.aws.ec2_security_group</code>.</p> </div> <p class="ansible-version-added">New in amazon.aws 1.0.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Maintains EC2 security groups.</li> </ul> <p>Aliases: ec2_group</p> </section> <section id="requirements"> <h2 id="ansible-collections-amazon-aws-ec2-security-group-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 3.6</li> <li>boto3 &gt;= 1.26.0</li> <li>botocore &gt;= 1.29.0</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell">    
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-ec2-access-key"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-access-key">access_key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_access_key_id, aws_access_key, ec2_access_key</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>AWS access key ID.</p> <p>See the AWS documentation for more information about access tokens <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>.</p> <p>The <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_ACCESS_KEY</code> or <code>EC2_ACCESS_KEY</code> environment variables may also be used in decreasing order of preference.</p> <p>The <em>aws_access_key</em> and <em>profile</em> options are mutually exclusive.</p> <p>The <em>aws_access_key_id</em> alias was added in release 5.1.0 for consistency with the AWS botocore SDK.</p> <p>The <em>ec2_access_key</em> alias has been deprecated and will be removed in a release after 2024-12-01.</p> <p>Support for the <code>EC2_ACCESS_KEY</code> environment variable has been deprecated and will be removed in a release after 2024-12-01.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-aws-ca-bundle"><strong>aws_ca_bundle</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The location of a CA Bundle to use when validating SSL certificates.</p> <p>The <code>AWS_CA_BUNDLE</code> environment variable may also be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-aws-config"><strong>aws_config</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A dictionary to modify the botocore configuration.</p> <p>Parameters can be found in the AWS documentation <a class="reference external" href="https://botocore.amazonaws.com/v1/documentation/api/latest/reference/config.html#botocore.config.Config">https://botocore.amazonaws.com/v1/documentation/api/latest/reference/config.html#botocore.config.Config</a>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-debug-botocore-endpoint-logs"><strong>debug_botocore_endpoint_logs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Use a <code>botocore.endpoint</code> logger to parse the unique (rather than total) <code>"resource:action"</code> API calls made during a task, outputing the set to the resource_actions key in the task results. Use the <code>aws_resource_action</code> callback to output to total list made during a playbook.</p> <p>The <code>ANSIBLE_DEBUG_BOTOCORE_LOGS</code> environment variable may also be used.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-description"><strong>description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Description of the security group.</p> <p>Required when <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-state"><span class="std std-ref">state</span></a></strong></code> is <code>present</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">    
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-s3-url"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-aws-endpoint-url">endpoint_url</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: ec2_url, aws_endpoint_url, s3_url</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>URL to connect to instead of the default AWS endpoints. While this can be used to connection to other AWS-compatible services the amazon.aws and community.aws collections are only tested against AWS.</p> <p>The <code>AWS_URL</code> or <code>EC2_URL</code> environment variables may also be used, in decreasing order of preference.</p> <p>The <em>ec2_url</em> and <em>s3_url</em> aliases have been deprecated and will be removed in a release after 2024-12-01.</p> <p>Support for the <code>EC2_URL</code> environment variable has been deprecated and will be removed in a release after 2024-12-01.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-group-id"><strong>group_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Id of group to delete (works only with absent).</p> <p>One of and only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-name"><span class="std std-ref">name</span></a></strong></code> or <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-group-id"><span class="std std-ref">group_id</span></a></strong></code> is required.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Name of the security group.</p> <p>One of and only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-name"><span class="std std-ref">name</span></a></strong></code> or <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-group-id"><span class="std std-ref">group_id</span></a></strong></code> is required.</p> <p>Required if <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-state"><span class="std std-ref">state=present</span></a></code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-profile"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-aws-profile">profile</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_profile</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A named AWS profile to use for authentication.</p> <p>See the AWS documentation for more information about named profiles <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html">https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html</a>.</p> <p>The <code>AWS_PROFILE</code> environment variable may also be used.</p> <p>The <em>profile</em> option is mutually exclusive with the <em>aws_access_key</em>, <em>aws_secret_key</em> and <em>security_token</em> options.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-purge-rules"><strong>purge_rules</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Purge existing rules on security group that are not found in rules.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-purge-rules-egress"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-purge-egress-rules">purge_rules_egress</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: purge_egress_rules</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Purge existing rules_egress on security group that are not found in rules_egress.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-purge-tags"><strong>purge_tags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If <em>purge_tags=true</em> and <em>tags</em> is set, existing tags will be purged from the resource to match exactly what is defined by <em>tags</em> parameter.</p> <p>If the <em>tags</em> parameter is not set then tags will not be modified, even if <em>purge_tags=True</em>.</p> <p>Tag keys beginning with <code>aws:</code> are reserved by Amazon and can not be modified. As such they will be ignored for the purposes of the <em>purge_tags</em> parameter. See the Amazon documentation for more information <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html#tag-conventions">https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html#tag-conventions</a>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-region"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-aws-region">region</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_region, ec2_region</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The AWS region to use.</p> <p>For global services such as IAM, Route53 and CloudFront, <em>region</em> is ignored.</p> <p>The <code>AWS_REGION</code> or <code>EC2_REGION</code> environment variables may also be used.</p> <p>See the Amazon AWS documentation for more information <a class="reference external" href="http://docs.aws.amazon.com/general/latest/gr/rande.html#ec2_region">http://docs.aws.amazon.com/general/latest/gr/rande.html#ec2_region</a>.</p> <p>The <code>ec2_region</code> alias has been deprecated and will be removed in a release after 2024-12-01</p> <p>Support for the <code>EC2_REGION</code> environment variable has been deprecated and will be removed in a release after 2024-12-01.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules"><strong>rules</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of firewall inbound rules to enforce in this group (see example). If none are supplied, no inbound rules will be enabled. Rules list may include its own name in <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-name"><span class="std std-ref">rules.group_name</span></a></strong></code>. This allows idempotent loopback additions (e.g. allow group to access itself).</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ip"><strong>cidr_ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=any</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IPv4 CIDR range traffic is coming from.</p> <p>You can specify only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ip"><span class="std std-ref">rules.cidr_ip</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ipv6"><span class="std std-ref">rules.cidr_ipv6</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ip-prefix"><span class="std std-ref">rules.ip_prefix</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-id"><span class="std std-ref">rules.group_id</span></a></strong></code> and <em>group_name</em>.</p> <p>Support for passing nested lists of strings to <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ip"><span class="std std-ref">rules.cidr_ip</span></a></strong></code> has been deprecated and will be removed in a release after 2024-12-01.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ipv6"><strong>cidr_ipv6</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=any</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IPv6 CIDR range traffic is coming from.</p> <p>You can specify only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ip"><span class="std std-ref">rules.cidr_ip</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ipv6"><span class="std std-ref">rules.cidr_ipv6</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ip-prefix"><span class="std std-ref">rules.ip_prefix</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-id"><span class="std std-ref">rules.group_id</span></a></strong></code> and <em>rules.group_name</em>.</p> <p>Support for passing nested lists of strings to <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ipv6"><span class="std std-ref">rules.cidr_ipv6</span></a></strong></code> has been deprecated and will be removed in a release after 2024-12-01.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-from-port"><strong>from_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The start of the range of ports that traffic is going to.</p> <p>A value can be between <code>0</code> to <code>65535</code>.</p> <p>When <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-proto"><span class="std std-ref">rules.proto=icmp</span></a></code> a value of <code>-1</code> indicates all ports.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-icmp-code"><span class="std std-ref">rules.icmp_code</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-icmp-type"><span class="std std-ref">rules.icmp_type</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ports"><span class="std std-ref">rules.ports</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-desc"><strong>group_desc</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>If the <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-name"><span class="std std-ref">rules.group_name</span></a></strong></code> is set and the Security Group doesn’t exist a new Security Group will be created with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-desc"><span class="std std-ref">rules.group_desc</span></a></strong></code> as the description.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-id"><strong>group_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The ID of the Security Group that traffic is coming from.</p> <p>You can specify only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ip"><span class="std std-ref">rules.cidr_ip</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ipv6"><span class="std std-ref">rules.cidr_ipv6</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ip-prefix"><span class="std std-ref">rules.ip_prefix</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-id"><span class="std std-ref">rules.group_id</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-name"><span class="std std-ref">rules.group_name</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-name"><strong>group_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the Security Group that traffic is coming from.</p> <p>If the Security Group doesn’t exist a new Security Group will be created with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-desc"><span class="std std-ref">rules.group_desc</span></a></strong></code> as the description.</p> <p><code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-name"><span class="std std-ref">rules.group_name</span></a></strong></code> can accept values of type str and list.</p> <p>You can specify only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ip"><span class="std std-ref">rules.cidr_ip</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ipv6"><span class="std std-ref">rules.cidr_ipv6</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ip-prefix"><span class="std std-ref">rules.ip_prefix</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-id"><span class="std std-ref">rules.group_id</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-name"><span class="std std-ref">rules.group_name</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-icmp-code"><strong>icmp_code</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in amazon.aws 3.3.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The ICMP code of the packet.</p> <p>A value of <code>-1</code> indicates all ICMP codes.</p> <p>Requires <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-proto"><span class="std std-ref">rules.proto=icmp</span></a></code> or <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-proto"><span class="std std-ref">rules.proto=icmpv6</span></a></code>.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ports"><span class="std std-ref">rules.ports</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-from-port"><span class="std std-ref">rules.from_port</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-to-port"><span class="std std-ref">rules.to_port</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-icmp-type"><strong>icmp_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in amazon.aws 3.3.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The ICMP type of the packet.</p> <p>A value of <code>-1</code> indicates all ICMP types.</p> <p>Requires <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-proto"><span class="std std-ref">rules.proto=icmp</span></a></code> or <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-proto"><span class="std std-ref">rules.proto=icmpv6</span></a></code>.</p> <p>Mutually exclusive withot <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ports"><span class="std std-ref">rules.ports</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-from-port"><span class="std std-ref">rules.from_port</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-to-port"><span class="std std-ref">rules.to_port</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ip-prefix"><strong>ip_prefix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IP Prefix <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-prefix-lists.html">https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-prefix-lists.html</a> that traffic is coming from.</p> <p>You can specify only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ip"><span class="std std-ref">rules.cidr_ip</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-cidr-ipv6"><span class="std std-ref">rules.cidr_ipv6</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ip-prefix"><span class="std std-ref">rules.ip_prefix</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-id"><span class="std std-ref">rules.group_id</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-group-name"><span class="std std-ref">rules.group_name</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ports"><strong>ports</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of ports that traffic is going to.</p> <p>Elements of the list can be a single port (for example <code>8080</code>), or a range of ports specified as <code>&lt;START&gt;-&lt;END&gt;</code>, (for example <code>1011-1023</code>).</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-icmp-code"><span class="std std-ref">rules.icmp_code</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-icmp-type"><span class="std std-ref">rules.icmp_type</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-from-port"><span class="std std-ref">rules.from_port</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-to-port"><span class="std std-ref">rules.to_port</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-proto"><strong>proto</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IP protocol name (<code>tcp</code>, <code>udp</code>, <code>icmp</code>, <code>icmpv6</code>) or number (<a class="reference external" href="https://en.wikipedia.org/wiki/List_of_IP_protocol_numbers">https://en.wikipedia.org/wiki/List_of_IP_protocol_numbers</a>).</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"tcp"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-rule-desc"><strong>rule_desc</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A description for the rule.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-to-port"><strong>to_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The end of the range of ports that traffic is going to.</p> <p>A value can be between <code>0</code> to <code>65535</code>.</p> <p>When <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-proto"><span class="std std-ref">rules.proto=icmp</span></a></code> a value of <code>-1</code> indicates all ports.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-icmp-code"><span class="std std-ref">rules.icmp_code</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-icmp-type"><span class="std std-ref">rules.icmp_type</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-ports"><span class="std std-ref">rules.ports</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules">rules_egress</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: egress_rules</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of firewall outbound rules to enforce in this group (see example). If none are supplied, a default all-out rule is assumed. If an empty list is supplied, no outbound rules will be enabled.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ip"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-cidr-ip">cidr_ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=any</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IPv4 CIDR range traffic is going to.</p> <p>You can specify only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ip"><span class="std std-ref">rules_egress.cidr_ip</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ipv6"><span class="std std-ref">rules_egress.cidr_ipv6</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ip-prefix"><span class="std std-ref">rules_egress.ip_prefix</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-id"><span class="std std-ref">rules_egress.group_id</span></a></strong></code> and <em>rules_egress.group_name</em>.</p> <p>Support for passing nested lists of strings to <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ip"><span class="std std-ref">rules_egress.cidr_ip</span></a></strong></code> has been deprecated and will be removed in a release after 2024-12-01.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ipv6"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-cidr-ipv6">cidr_ipv6</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=any</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IPv6 CIDR range traffic is going to.</p> <p>You can specify only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ip"><span class="std std-ref">rules_egress.cidr_ip</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ipv6"><span class="std std-ref">rules_egress.cidr_ipv6</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ip-prefix"><span class="std std-ref">rules_egress.ip_prefix</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-id"><span class="std std-ref">rules_egress.group_id</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-name"><span class="std std-ref">rules_egress.group_name</span></a></strong></code>.</p> <p>Support for passing nested lists of strings to <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ipv6"><span class="std std-ref">rules_egress.cidr_ipv6</span></a></strong></code> has been deprecated and will be removed in a release after 2024-12-01.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-from-port"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-from-port">from_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The start of the range of ports that traffic is going to.</p> <p>A value can be between <code>0</code> to <code>65535</code>.</p> <p>When <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-proto"><span class="std std-ref">rules_egress.proto=icmp</span></a></code> a value of <code>-1</code> indicates all ports.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-icmp-code"><span class="std std-ref">rules_egress.icmp_code</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-icmp-type"><span class="std std-ref">rules_egress.icmp_type</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ports"><span class="std std-ref">rules_egress.ports</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-desc"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-group-desc">group_desc</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>If the <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-name"><span class="std std-ref">rules_egress.group_name</span></a></strong></code> is set and the Security Group doesn’t exist a new Security Group will be created with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-desc"><span class="std std-ref">rules_egress.group_desc</span></a></strong></code> as the description.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-id"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-group-id">group_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The ID of the Security Group that traffic is going to.</p> <p>You can specify only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ip"><span class="std std-ref">rules_egress.cidr_ip</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ipv6"><span class="std std-ref">rules_egress.cidr_ipv6</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ip-prefix"><span class="std std-ref">rules_egress.ip_prefix</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-id"><span class="std std-ref">rules_egress.group_id</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-name"><span class="std std-ref">rules_egress.group_name</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-name"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-group-name">group_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the Security Group that traffic is going to.</p> <p>If the Security Group doesn’t exist a new Security Group will be created with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-desc"><span class="std std-ref">rules_egress.group_desc</span></a></strong></code> as the description.</p> <p>You can specify only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ip"><span class="std std-ref">rules_egress.cidr_ip</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ipv6"><span class="std std-ref">rules_egress.cidr_ipv6</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ip-prefix"><span class="std std-ref">rules_egress.ip_prefix</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-id"><span class="std std-ref">rules_egress.group_id</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-name"><span class="std std-ref">rules_egress.group_name</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-icmp-code"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-icmp-code">icmp_code</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in amazon.aws 3.3.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The ICMP code of the packet.</p> <p>A value of <code>-1</code> indicates all ICMP codes.</p> <p>Requires <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-proto"><span class="std std-ref">rules_egress.proto=icmp</span></a></code> or <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-proto"><span class="std std-ref">rules_egress.proto=icmpv6</span></a></code>.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ports"><span class="std std-ref">rules_egress.ports</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-from-port"><span class="std std-ref">rules_egress.from_port</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-to-port"><span class="std std-ref">rules_egress.to_port</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-icmp-type"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-icmp-type">icmp_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in amazon.aws 3.3.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The ICMP type of the packet.</p> <p>A value of CV(-1) indicates all ICMP types.</p> <p>Requires <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-proto"><span class="std std-ref">rules_egress.proto=icmp</span></a></code> or <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-proto"><span class="std std-ref">rules_egress.proto=icmpv6</span></a></code>.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ports"><span class="std std-ref">rules_egress.ports</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-from-port"><span class="std std-ref">rules_egress.from_port</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-to-port"><span class="std std-ref">rules_egress.to_port</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ip-prefix"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-ip-prefix">ip_prefix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IP Prefix <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-prefix-lists.html">https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-prefix-lists.html</a> that traffic is going to.</p> <p>You can specify only one of <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ip"><span class="std std-ref">rules_egress.cidr_ip</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-cidr-ipv6"><span class="std std-ref">rules_egress.cidr_ipv6</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ip-prefix"><span class="std std-ref">rules_egress.ip_prefix</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-id"><span class="std std-ref">rules_egress.group_id</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-group-name"><span class="std std-ref">rules_egress.group_name</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ports"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-ports">ports</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of ports that traffic is going to.</p> <p>Elements of the list can be a single port (for example <code>8080</code>), or a range of ports specified as <code>&lt;START&gt;-&lt;END&gt;</code>, (for example <code>1011-1023</code>).</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-icmp-code"><span class="std std-ref">rules_egress.icmp_code</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-icmp-type"><span class="std std-ref">rules_egress.icmp_type</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-from-port"><span class="std std-ref">rules_egress.from_port</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-to-port"><span class="std std-ref">rules_egress.to_port</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-proto"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-proto">proto</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IP protocol name (<code>tcp</code>, <code>udp</code>, <code>icmp</code>, <code>icmpv6</code>) or number (<a class="reference external" href="https://en.wikipedia.org/wiki/List_of_IP_protocol_numbers">https://en.wikipedia.org/wiki/List_of_IP_protocol_numbers</a>).</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"tcp"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-rule-desc"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-rule-desc">rule_desc</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A description for the rule.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-to-port"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-egress-rules-to-port">to_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The end of the range of ports that traffic is going to.</p> <p>A value can be between <code>0</code> to <code>65535</code>.</p> <p>When <code><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-proto"><span class="std std-ref">rules_egress.proto=icmp</span></a></code> a value of <code>-1</code> indicates all ports.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-icmp-code"><span class="std std-ref">rules_egress.icmp_code</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-icmp-type"><span class="std std-ref">rules_egress.icmp_type</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-amazon-aws-ec2-security-group-module-parameter-rules-egress-ports"><span class="std std-ref">rules_egress.ports</span></a></strong></code>.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell">    
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-secret-key"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-aws-secret-access-key">secret_key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_secret_access_key, aws_secret_key, ec2_secret_key</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>AWS secret access key.</p> <p>See the AWS documentation for more information about access tokens <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>.</p> <p>The <code>AWS_SECRET_ACCESS_KEY</code>, <code>AWS_SECRET_KEY</code>, or <code>EC2_SECRET_KEY</code> environment variables may also be used in decreasing order of preference.</p> <p>The <em>secret_key</em> and <em>profile</em> options are mutually exclusive.</p> <p>The <em>aws_secret_access_key</em> alias was added in release 5.1.0 for consistency with the AWS botocore SDK.</p> <p>The <em>ec2_secret_key</em> alias has been deprecated and will be removed in a release after 2024-12-01.</p> <p>Support for the <code>EC2_SECRET_KEY</code> environment variable has been deprecated and will be removed in a release after 2024-12-01.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">     
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-session-token"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-access-token">session_token</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_session_token, security_token, aws_security_token, access_token</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>AWS STS session token for use with temporary credentials.</p> <p>See the AWS documentation for more information about access tokens <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>.</p> <p>The <code>AWS_SESSION_TOKEN</code>, <code>AWS_SECURITY_TOKEN</code> or <code>EC2_SECURITY_TOKEN</code> environment variables may also be used in decreasing order of preference.</p> <p>The <em>security_token</em> and <em>profile</em> options are mutually exclusive.</p> <p>Aliases <em>aws_session_token</em> and <em>session_token</em> were added in release 3.2.0, with the parameter being renamed from <em>security_token</em> to <em>session_token</em> in release 6.0.0.</p> <p>The <em>security_token</em>, <em>aws_security_token</em>, and <em>access_token</em> aliases have been deprecated and will be removed in a release after 2024-12-01.</p> <p>Support for the <code>EC2_SECRET_KEY</code> and <code>AWS_SECURITY_TOKEN</code> environment variables has been deprecated and will be removed in a release after 2024-12-01.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Create or delete a security group.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"present"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"absent"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-tags"><strong id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-resource-tags">tags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: resource_tags</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A dictionary representing the tags to be applied to the resource.</p> <p>If the <em>tags</em> parameter is not set then tags will not be modified.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>When set to <code>false</code>, SSL certificates will not be validated for communication with the AWS APIs.</p> <p>Setting <em>validate_certs=false</em> is strongly discouraged, as an alternative, consider setting <em>aws_ca_bundle</em> instead.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-parameter-vpc-id"><strong>vpc_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>ID of the VPC to create the group in.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>If a rule declares a group_name and that group doesn’t exist, it will be automatically created. In that case, group_desc should be provided as well. The module will refuse to create a depended-on group without a description.</li> <li>Prior to release 5.0.0 this module was called <a class="reference internal" href="ec2_group_info_module.html#ansible-collections-amazon-aws-ec2-group-info-module"><span class="std std-ref">amazon.aws.ec2_group_info</span></a>. The usage did not change.</li> <li>
<strong>Caution:</strong> For modules, environment variables and configuration files are read from the Ansible ‘host’ context and not the ‘controller’ context. As such, files may need to be explicitly copied to the ‘host’. For lookup and connection plugins, environment variables and configuration files are read from the Ansible ‘controller’ context and not the ‘host’ context.</li> <li>The AWS SDK (boto3) that Ansible uses may also read defaults for credentials and other settings, such as the region, from its configuration files in the Ansible ‘host’ context (typically <code>~/.aws/credentials</code>). See <a class="reference external" href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/credentials.html">https://boto3.amazonaws.com/v1/documentation/api/latest/guide/credentials.html</a> for more information.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja"># Note: These examples do not set authentication details, see the AWS Guide for details.

- name: example using security group rule descriptions
  amazon.aws.ec2_security_group:
    name: "{{ name }}"
    description: sg with rule descriptions
    vpc_id: vpc-xxxxxxxx
    rules:
      - proto: tcp
        ports:
          - 80
        cidr_ip: 0.0.0.0/0
        rule_desc: allow all on port 80

- name: example using ICMP types and codes
  amazon.aws.ec2_security_group:
    name: "{{ name }}"
    description: sg for ICMP
    vpc_id: vpc-xxxxxxxx
    rules:
      - proto: icmp
        icmp_type: 3
        icmp_code: 1
        cidr_ip: 0.0.0.0/0

- name: example ec2 group
  amazon.aws.ec2_security_group:
    name: example
    description: an example EC2 group
    vpc_id: 12345
    rules:
      - proto: tcp
        from_port: 80
        to_port: 80
        cidr_ip: 0.0.0.0/0
      - proto: tcp
        from_port: 22
        to_port: 22
        cidr_ip: 10.0.0.0/8
      - proto: tcp
        from_port: 443
        to_port: 443
        # this should only be needed for EC2 Classic security group rules
        # because in a VPC an ELB will use a user-account security group
        group_id: amazon-elb/sg-87654321/amazon-elb-sg
      - proto: tcp
        from_port: 3306
        to_port: 3306
        group_id: 123456789012/sg-87654321/exact-name-of-sg
      - proto: udp
        from_port: 10050
        to_port: 10050
        cidr_ip: 10.0.0.0/8
      - proto: udp
        from_port: 10051
        to_port: 10051
        group_id: sg-12345678
      - proto: icmp
        from_port: 8 # icmp type, -1 = any type
        to_port: -1 # icmp subtype, -1 = any subtype
        cidr_ip: 10.0.0.0/8
      - proto: all
        # the containing group name may be specified here
        group_name: example
      - proto: all
        # in the 'proto' attribute, if you specify -1 (only supported when I(proto=icmp)), all, or a protocol number
        # other than tcp, udp, icmp, or 58 (ICMPv6), traffic on all ports is allowed, regardless of any ports that
        # you specify.
        from_port: 10050 # this value is ignored
        to_port: 10050   # this value is ignored
        cidr_ip: 10.0.0.0/8

    rules_egress:
      - proto: tcp
        from_port: 80
        to_port: 80
        cidr_ip: 0.0.0.0/0
        cidr_ipv6: 64:ff9b::/96
        group_name: example-other
        # description to use if example-other needs to be created
        group_desc: other example EC2 group

- name: example2 ec2 group
  amazon.aws.ec2_security_group:
    name: example2
    description: an example2 EC2 group
    vpc_id: 12345
    rules:
      # 'ports' rule keyword was introduced in version 2.4. It accepts a single
      # port value or a list of values including ranges (from_port-to_port).
      - proto: tcp
        ports: 22
        group_name: example-vpn
      - proto: tcp
        ports:
          - 80
          - 443
          - 8080-8099
        cidr_ip: 0.0.0.0/0
      # Rule sources list support was added in version 2.4. This allows to
      # define multiple sources per source type as well as multiple source types per rule.
      - proto: tcp
        ports:
          - 6379
          - 26379
        group_name:
          - example-vpn
          - example-redis
      - proto: tcp
        ports: 5665
        group_name: example-vpn
        cidr_ip:
          - 172.16.1.0/24
          - 172.16.17.0/24
        cidr_ipv6:
          - 2607:F8B0::/32
          - 64:ff9b::/96
        group_id:
          - sg-edcd9784
  diff: true

- name: "Delete group by its id"
  amazon.aws.ec2_security_group:
    group_id: sg-33b4ee5b
    state: absent
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-description"><strong>description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Description of security group.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> on create/update</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"My Security Group"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-group-id"><strong>group_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Security group id.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> on create/update</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"sg-abcd1234"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-group-name"><strong>group_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Security group name.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> on create/update</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"My Security Group"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions"><strong>ip_permissions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The inbound rules associated with the security group.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-from-port"><strong>from_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>If the protocol is TCP or UDP, this is the start of the port range.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>80</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-ip-protocol"><strong>ip_protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IP protocol name or number.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-ip-ranges"><strong>ip_ranges</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IPv4 ranges.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-ip-ranges-cidr-ip"><strong>cidr_ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The IPv4 CIDR range.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-ipv6-ranges"><strong>ipv6_ranges</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IPv6 ranges.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-ipv6-ranges-cidr-ipv6"><strong>cidr_ipv6</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The IPv6 CIDR range.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-prefix-list-ids"><strong>prefix_list_ids</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The prefix list IDs.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-prefix-list-ids-prefix-list-id"><strong>prefix_list_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The ID of the prefix.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-to-group"><strong>to_group</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>If the protocol is TCP or UDP, this is the end of the port range.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>80</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-user-id-group-pairs"><strong>user_id_group_pairs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The security group and AWS account ID pairs.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-user-id-group-pairs-group-id"><strong>group_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The security group ID of the pair.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-user-id-group-pairs-user-id"><strong>user_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The user ID of the pair.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress"><strong>ip_permissions_egress</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The outbound rules associated with the security group.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress-ip-protocol"><strong>ip_protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IP protocol name or number.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress-ip-ranges"><strong>ip_ranges</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IPv4 ranges.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress-ip-ranges-cidr-ip"><strong>cidr_ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The IPv4 CIDR range.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress-ipv6-ranges"><strong>ipv6_ranges</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The IPv6 ranges.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress-ipv6-ranges-cidr-ipv6"><strong>cidr_ipv6</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The IPv6 CIDR range.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress-prefix-list-ids"><strong>prefix_list_ids</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The prefix list IDs.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress-prefix-list-ids-prefix-list-id"><strong>prefix_list_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The ID of the prefix.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress-user-id-group-pairs"><strong>user_id_group_pairs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The security group and AWS account ID pairs.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress-user-id-group-pairs-group-id"><strong>group_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The security group ID of the pair.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-ip-permissions-egress-user-id-group-pairs-user-id"><strong>user_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The user ID of the pair.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-owner-id"><strong>owner_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>AWS Account ID of the security group.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> on create/update</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>123456789012</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-tags"><strong>tags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Tags associated with the security group.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> on create/update</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"Name": "My Security Group", "Purpose": "protecting stuff"}</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-ec2-security-group-module-return-vpc-id"><strong>vpc_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>ID of VPC to which the security group belongs.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> on create/update</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"vpc-abcd1234"</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Andrew de Quincey (@adq)</li> <li>Razique Mahroua (@Razique)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/amazon.aws/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/amazon.aws" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a class="reference internal" href="index.html#communication-for-amazon-aws"><span class="std std-ref">Communication</span></a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/amazon/aws/ec2_security_group_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/amazon/aws/ec2_security_group_module.html</a>
  </p>
</div>
