<section id="amazon-aws-aws-account-attribute-lookup-look-up-aws-account-attributes"> <h1>amazon.aws.aws_account_attribute lookup â€“ Look up AWS account attributes</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This lookup plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/amazon/aws/">amazon.aws collection</a> (version 8.2.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install amazon.aws</code>. You need further requirements to be able to use this lookup plugin, see <a class="reference internal" href="#ansible-collections-amazon-aws-aws-account-attribute-lookup-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>amazon.aws.aws_account_attribute</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#keyword-parameters" id="id3">Keyword parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-value" id="id6">Return Value</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Describes attributes of your AWS account. You can specify one of the listed attribute choices or omit it to see all attributes.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-amazon-aws-aws-account-attribute-lookup-requirements">Requirements</h2> <p>The below requirements are needed on the local controller node that executes this lookup.</p> <ul class="simple"> <li>python &gt;= 3.6</li> <li>boto3 &gt;= 1.26.0</li> <li>botocore &gt;= 1.29.0</li> </ul> </section> <section id="keyword-parameters"> <h2>Keyword parameters</h2> <p>This describes keyword parameters of the lookup. These are the values <code>key1=value1</code>, <code>key2=value2</code> and so on in the following examples: <code>lookup('amazon.aws.aws_account_attribute', key1=value1, key2=value2, ...)</code> and <code>query('amazon.aws.aws_account_attribute', key1=value1, key2=value2, ...)</code></p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell">    
<p class="ansible-option-title" id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-ec2-access-key"><strong id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-access-key">access_key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_access_key_id, aws_access_key, ec2_access_key</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>AWS access key ID.</p> <p>See the AWS documentation for more information about access tokens <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>.</p> <p>The <em>aws_access_key</em> and <em>profile</em> options are mutually exclusive.</p> <p>The <em>aws_access_key_id</em> alias was added in release 5.1.0 for consistency with the AWS botocore SDK.</p> <p>The <em>ec2_access_key</em> alias has been deprecated and will be removed in a release after 2024-12-01.</p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-AWS_ACCESS_KEY_ID" id="index-0"><code>AWS_ACCESS_KEY_ID</code></a>
</li> <li>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-AWS_ACCESS_KEY" id="index-1"><code>AWS_ACCESS_KEY</code></a>
</li> <li>
<p>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-EC2_ACCESS_KEY" id="index-2"><code>EC2_ACCESS_KEY</code></a></p> <p>Removed in: major release after 2024-12-01</p> <p>Why: EC2 in the name implied it was limited to EC2 resources. However, it is used for all connections.</p> <p>Alternative: AWS_ACCESS_KEY_ID</p> </li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-attribute"><strong>attribute</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The attribute for which to get the value(s).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"supported-platforms"</code></li> <li><code>"default-vpc"</code></li> <li><code>"max-instances"</code></li> <li><code>"vpc-max-security-groups-per-interface"</code></li> <li><code>"max-elastic-ips"</code></li> <li><code>"vpc-max-elastic-ips"</code></li> <li><code>"has-ec2-classic"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-endpoint-url"><strong id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-aws-endpoint-url">endpoint_url</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_endpoint_url, endpoint</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>URL to connect to instead of the default AWS endpoints. While this can be used to connection to other AWS-compatible services the amazon.aws and community.aws collections are only tested against AWS.</p> <p>The <em>endpoint</em> alias has been deprecated and will be removed in a release after 2024-12-01.</p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-AWS_URL" id="index-3"><code>AWS_URL</code></a>
</li> <li>
<p>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-EC2_URL" id="index-4"><code>EC2_URL</code></a></p> <p>Removed in: major release after 2024-12-01</p> <p>Why: EC2 in the name implied it was limited to EC2 resources. However, it is used for all connections.</p> <p>Alternative: AWS_URL</p> </li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-profile"><strong id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-aws-profile">profile</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_profile, boto_profile</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A named AWS profile to use for authentication.</p> <p>See the AWS documentation for more information about named profiles <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html">https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html</a>.</p> <p>The <em>profile</em> option is mutually exclusive with the <em>aws_access_key</em>, <em>aws_secret_key</em> and <em>security_token</em> options.</p> <p>The <em>boto_profile</em> alias has been deprecated and will be removed in a release after 2024-12-01.</p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul class="simple"> <li>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-AWS_PROFILE" id="index-5"><code>AWS_PROFILE</code></a>
</li> <li>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-AWS_DEFAULT_PROFILE" id="index-6"><code>AWS_DEFAULT_PROFILE</code></a>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-region"><strong id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-aws-region">region</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_region, ec2_region</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The AWS region to use.</p> <p>See the Amazon AWS documentation for more information <a class="reference external" href="http://docs.aws.amazon.com/general/latest/gr/rande.html#ec2_region">http://docs.aws.amazon.com/general/latest/gr/rande.html#ec2_region</a>.</p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-AWS_REGION" id="index-7"><code>AWS_REGION</code></a>
</li> <li>
<p>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-EC2_REGION" id="index-8"><code>EC2_REGION</code></a></p> <p>Removed in: major release after 2024-12-01</p> <p>Why: EC2 in the name implied it was limited to EC2 resources, when it is used for all connections</p> <p>Alternative: AWS_REGION</p> </li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">    
<p class="ansible-option-title" id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-secret-key"><strong id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-aws-secret-access-key">secret_key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_secret_access_key, aws_secret_key, ec2_secret_key</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>AWS secret access key.</p> <p>See the AWS documentation for more information about access tokens <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>.</p> <p>The <em>secret_key</em> and <em>profile</em> options are mutually exclusive.</p> <p>The <em>aws_secret_access_key</em> alias was added in release 5.1.0 for consistency with the AWS botocore SDK.</p> <p>The <em>ec2_secret_key</em> alias has been deprecated and will be removed in a release after 2024-12-01.</p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-AWS_SECRET_ACCESS_KEY" id="index-9"><code>AWS_SECRET_ACCESS_KEY</code></a>
</li> <li>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-AWS_SECRET_KEY" id="index-10"><code>AWS_SECRET_KEY</code></a>
</li> <li>
<p>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-EC2_SECRET_KEY" id="index-11"><code>EC2_SECRET_KEY</code></a></p> <p>Removed in: major release after 2024-12-01</p> <p>Why: EC2 in the name implied it was limited to EC2 resources. However, it is used for all connections.</p> <p>Alternative: AWS_SECRET_ACCESS_KEY</p> </li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">     
<p class="ansible-option-title" id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-session-token"><strong id="ansible-collections-amazon-aws-aws-account-attribute-lookup-parameter-access-token">session_token</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_session_token, security_token, aws_security_token, access_token</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>AWS STS session token for use with temporary credentials.</p> <p>See the AWS documentation for more information about access tokens <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>.</p> <p>The <em>security_token</em> and <em>profile</em> options are mutually exclusive.</p> <p>Aliases <em>aws_session_token</em> and <em>session_token</em> were added in release 3.2.0, with the parameter being renamed from <em>security_token</em> to <em>session_token</em> in release 6.0.0.</p> <p>The <em>security_token</em>, <em>aws_security_token</em>, and <em>access_token</em> aliases have been deprecated and will be removed in a release after 2024-12-01.</p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-AWS_SESSION_TOKEN" id="index-12"><code>AWS_SESSION_TOKEN</code></a>
</li> <li>
<p>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-AWS_SECURITY_TOKEN" id="index-13"><code>AWS_SECURITY_TOKEN</code></a></p> <p>Removed in: major release after 2024-12-01</p> <p>Why: AWS_SECURITY_TOKEN was used for compatibility with the original boto SDK, support for which has been dropped</p> <p>Alternative: AWS_SESSION_TOKEN</p> </li> <li>
<p>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-EC2_SECURITY_TOKEN" id="index-14"><code>EC2_SECURITY_TOKEN</code></a></p> <p>Removed in: major release after 2024-12-01</p> <p>Why: EC2 in the name implied it was limited to EC2 resources. However, it is used for all connections.</p> <p>Alternative: AWS_SESSION_TOKEN</p> </li> </ul> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>
<strong>Caution:</strong> For modules, environment variables and configuration files are read from the Ansible â€˜hostâ€™ context and not the â€˜controllerâ€™ context. As such, files may need to be explicitly copied to the â€˜hostâ€™. For lookup and connection plugins, environment variables and configuration files are read from the Ansible â€˜controllerâ€™ context and not the â€˜hostâ€™ context.</li> <li>The AWS SDK (boto3) that Ansible uses may also read defaults for credentials and other settings, such as the region, from its configuration files in the Ansible â€˜hostâ€™ context (typically <code>~/.aws/credentials</code>). See <a class="reference external" href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/credentials.html">https://boto3.amazonaws.com/v1/documentation/api/latest/guide/credentials.html</a> for more information.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">vars:
  has_ec2_classic: "{{ lookup('aws_account_attribute', attribute='has-ec2-classic') }}"
  # true | false

  default_vpc_id: "{{ lookup('aws_account_attribute', attribute='default-vpc') }}"
  # vpc-xxxxxxxx | none

  account_details: "{{ lookup('aws_account_attribute', wantlist='true') }}"
  # {'default-vpc': ['vpc-xxxxxxxx'], 'max-elastic-ips': ['5'], 'max-instances': ['20'],
  #  'supported-platforms': ['VPC', 'EC2'], 'vpc-max-elastic-ips': ['5'], 'vpc-max-security-groups-per-interface': ['5']}
</pre> </section> <section id="return-value"> <h2>Return Value</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-amazon-aws-aws-account-attribute-lookup-return-raw"><strong>Return value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Returns a boolean when <em>attribute</em> is check_ec2_classic. Otherwise returns the value(s) of the attribute (or all attributes if one is not specified).</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Sloane Hertel (@s-hertel)</li> </ul> <div class="admonition hint"> <p class="admonition-title">Hint</p> <p>Configuration entries for each entry type have a low to high priority order. For example, a variable that is lower in the list will override a variable that is higher up.</p> </div> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/amazon.aws/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/amazon.aws" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a class="reference internal" href="index.html#communication-for-amazon-aws"><span class="std std-ref">Communication</span></a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/amazon/aws/aws_account_attribute_lookup.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/amazon/aws/aws_account_attribute_lookup.html</a>
  </p>
</div>
