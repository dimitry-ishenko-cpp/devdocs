<section id="community-dns-hosttech-dns-records-inventory-create-inventory-from-hosttech-dns-records"> <h1>community.dns.hosttech_dns_records inventory – Create inventory from Hosttech DNS records</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This inventory plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/dns/">community.dns collection</a> (version 3.0.5).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.dns</code>. You need further requirements to be able to use this inventory plugin, see <a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>community.dns.hosttech_dns_records</code>.</p> </div> <p class="ansible-version-added">New in community.dns 2.0.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id5">See Also</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>For Ansible to be able to identify a YAML file as an inventory for this plugin, the inventory file must contain <code>plugin: community.dns.hosttech_dns_records</code> and its filename must end with <code>hosttech_dns.yaml</code> or <code>hosttech_dns.yml</code>
</li> <li>Records are matched by prefix / record name and value.</li> <li>This plugin allows to create an inventory from Hosttech DNS records.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-community-dns-hosttech-dns-records-inventory-requirements">Requirements</h2> <p>The below requirements are needed on the local controller node that executes this inventory.</p> <ul class="simple"> <li>lxml</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters"><strong>filters</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> <p><em class="ansible-option-versionadded">added in community.dns 3.0.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of include/exclude filters that allows to select/deselect hosts for this inventory.</p> <p>Filters are processed sequentially until the first filter where <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters-exclude"><span class="std std-ref">filters[].exclude</span></a></strong></code> or <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters-include"><span class="std std-ref">filters[].include</span></a></strong></code> matches is found. In case <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters-exclude"><span class="std std-ref">filters[].exclude</span></a></strong></code> matches, the host is excluded, and in case <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters-include"><span class="std std-ref">filters[].include</span></a></strong></code> matches, the host is included. In case no filter matches, the host is included.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters-exclude"><strong>exclude</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A Jinja2 condition. If it matches for a host, that host is <strong>excluded</strong>.</p> <p>Exactly one of <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters-exclude"><span class="std std-ref">filters[].exclude</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters-include"><span class="std std-ref">filters[].include</span></a></strong></code> can be specified.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters-include"><strong>include</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A Jinja2 condition. If it matches for a host, that host is <strong>included</strong>.</p> <p>Exactly one of <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters-exclude"><span class="std std-ref">filters[].exclude</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters-include"><span class="std std-ref">filters[].include</span></a></strong></code> can be specified.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-password"><strong>hosttech_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The password for the Hosttech API user.</p> <p>If provided, <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-username"><span class="std std-ref">hosttech_username</span></a></strong></code> must also be provided.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-token"><span class="std std-ref">hosttech_token</span></a></strong></code>.</p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>
<p>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-ANSIBLE_HOSTTECH_API_PASSWORD" id="index-0"><code>ANSIBLE_HOSTTECH_API_PASSWORD</code></a></p> <p><em class="ansible-option-versionadded">added in community.dns 2.5.0</em></p> </li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-token"><strong id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-api-token">hosttech_token</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: api_token</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in community.dns 0.2.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>The password for the Hosttech API user.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-username"><span class="std std-ref">hosttech_username</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-password"><span class="std std-ref">hosttech_password</span></a></strong></code>.</p> <p>Since community.dns 1.2.0, the alias <code><strong><span>api_token</span></strong></code> can be used.</p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>
<p>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-ANSIBLE_HOSTTECH_DNS_TOKEN" id="index-1"><code>ANSIBLE_HOSTTECH_DNS_TOKEN</code></a></p> <p><em class="ansible-option-versionadded">added in community.dns 2.5.0</em></p> </li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-username"><strong>hosttech_username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The username for the Hosttech API user.</p> <p>If provided, <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-password"><span class="std std-ref">hosttech_password</span></a></strong></code> must also be provided.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-token"><span class="std std-ref">hosttech_token</span></a></strong></code>.</p> <p class="ansible-option-line"><strong class="ansible-option-configuration">Configuration:</strong></p> <ul> <li>
<p>Environment variable: <a class="reference internal" href="../../environment_variables.html#envvar-ANSIBLE_HOSTTECH_API_USERNAME" id="index-2"><code>ANSIBLE_HOSTTECH_API_USERNAME</code></a></p> <p><em class="ansible-option-versionadded">added in community.dns 2.5.0</em></p> </li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-plugin"><strong>plugin</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of this plugin. Should always be set to <code>community.dns.hosttech_dns_records</code> for this plugin to recognize it as its own.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"community.dns.hosttech_dns_records"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-simple-filters"><strong>simple_filters</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A dictionary of filter value pairs.</p> <p>This option used to be called <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters"><span class="std std-ref">filters</span></a></strong></code> before community.dns 3.0.0. It has been renamed from <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters"><span class="std std-ref">filters</span></a></strong></code> to <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-simple-filters"><span class="std std-ref">simple_filters</span></a></strong></code> in community.dns 2.8.0, and the old name was still available as an alias until community.dns 3.0.0. <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-filters"><span class="std std-ref">filters</span></a></strong></code> is now used for something else.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>{}</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-simple-filters-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Record types whose values to use.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"A"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li>
<code><strong>"AAAA"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"CAA"</code></li> <li>
<code><strong>"CNAME"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"MX"</code></li> <li><code>"NS"</code></li> <li><code>"PTR"</code></li> <li><code>"SPF"</code></li> <li><code>"SRV"</code></li> <li><code>"TXT"</code></li> </ul> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>["A", "AAAA", "CNAME"]</code></p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-txt-character-encoding"><strong>txt_character_encoding</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in community.dns 2.5.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to treat numeric escape sequences (<code>\xyz</code>) as octal or decimal numbers. This is only used when <code><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-txt-transformation"><span class="std std-ref">txt_transformation=quoted</span></a></code>.</p> <p>The default changed to <code>decimal</code> in community.dns 3.0.0. Before, the default used to be <code>octal</code>. The value <code>decimal</code> is compatible to <a class="reference external" href="https://www.ietf.org/rfc/rfc1035.txt">RFC 1035</a>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"decimal"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"octal"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-txt-transformation"><strong>txt_transformation</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Determines how TXT entry values are converted between the API and this module’s input and output.</p> <p>The value <code>api</code> means that values are returned from this module as they are returned from the API, and pushed to the API as they have been passed to this module. For idempotency checks, the input string will be compared to the strings returned by the API. The API might automatically transform some values, like splitting long values or adding quotes, which can cause problems with idempotency.</p> <p>The value <code>unquoted</code> automatically transforms values so that you can pass in unquoted values, and the module will return unquoted values. If you pass in quoted values, they will be double-quoted.</p> <p>The value <code>quoted</code> automatically transforms values so that you must use quoting for values that contain spaces, characters such as quotation marks and backslashes, and that are longer than 255 bytes. It also makes sure to return values from the API in a normalized encoding.</p> <p>The default value, <code>unquoted</code>, ensures that you can work with values without having to care about how to correctly quote for DNS. Most users should use one of <code>unquoted</code> or <code>quoted</code>, but not <code>api</code>.</p> <p><strong>Note:</strong> the conversion code assumes UTF-8 encoding for values. If you need another encoding use <code><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-txt-transformation"><span class="std std-ref">txt_transformation=api</span></a></code> and handle the encoding yourself.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"api"</code></li> <li><code>"quoted"</code></li> <li>
<code><strong>"unquoted"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-zone-id"><strong>zone_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The ID of the DNS zone to modify.</p> <p>Exactly one of <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-zone-name"><span class="std std-ref">zone_name</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-zone-id"><span class="std std-ref">zone_id</span></a></strong></code> must be specified.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-zone-name"><strong id="ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-zone">zone_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: zone</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The DNS zone to modify.</p> <p>Exactly one of <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-zone-name"><span class="std std-ref">zone_name</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-zone-id"><span class="std std-ref">zone_id</span></a></strong></code> must be specified.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>The provider-specific <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-username"><span class="std std-ref">hosttech_username</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-password"><span class="std std-ref">hosttech_password</span></a></strong></code>, and <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-hosttech-token"><span class="std std-ref">hosttech_token</span></a></strong></code> options can be templated.</li> <li>The <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-zone-name"><span class="std std-ref">zone_name</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-dns-hosttech-dns-records-inventory-parameter-zone-id"><span class="std std-ref">zone_id</span></a></strong></code> options can be templated.</li> </ul> </div> </section> <section id="see-also"> <h2>See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="hosttech_dns_record_set_info_module.html#ansible-collections-community-dns-hosttech-dns-record-set-info-module"><span class="std std-ref">community.dns.hosttech_dns_record_set_info</span></a></dt>
<dd>
<p>Retrieve record sets in Hosttech DNS service.</p> </dd> <dt><a class="reference internal" href="hosttech_dns_record_info_module.html#ansible-collections-community-dns-hosttech-dns-record-info-module"><span class="std std-ref">community.dns.hosttech_dns_record_info</span></a></dt>
<dd>
<p>Retrieve records in Hosttech DNS service.</p> </dd> </dl> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja"># filename must end with hosttech_dns.yaml or hosttech_dns.yml

plugin: community.dns.hosttech_dns_records
zone_name: domain.ch
simple_filters:
  type:
    - AAAA
filters:
  - include: &gt;-
      '*.' not in inventory_hostname
  - exclude: true

# You can also configure the token by putting secret value into this file,
# but this is discouraged. Use a lookup like below, or leave it away and
# set it with the ANSIBLE_HOSTTECH_DNS_TOKEN environment variable.
hosttech_token: &gt;-
    {{ (lookup('community.sops.sops', 'keys/hosttech.sops.yml') | from_yaml).hosttech_dns_token }}
</pre> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Markus Bergholz (@markuman)</li> <li>Felix Fontein (@felixfontein)</li> </ul> <div class="admonition hint"> <p class="admonition-title">Hint</p> <p>Configuration entries for each entry type have a low to high priority order. For example, a variable that is lower in the list will override a variable that is higher up.</p> </div> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.dns/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.dns" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://forum.ansible.com/tags/c/help/6/none/dns" rel="noopener external" target="_blank">Ask for help (DNS)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.dns/issues/new?assignees=&amp;labels=&amp;template=bug_report.md" rel="noopener external" target="_blank">Submit a bug report</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.dns/issues/new?assignees=&amp;labels=&amp;template=feature_request.md" rel="noopener external" target="_blank">Request a feature</a></span></li> <li><span><a class="reference internal" href="index.html#communication-for-community-dns"><span class="std std-ref">Communication</span></a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/dns/hosttech_dns_records_inventory.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/dns/hosttech_dns_records_inventory.html</a>
  </p>
</div>
