<section id="community-routeros-api-info-module-retrieve-information-from-api"> <h1>community.routeros.api_info module – Retrieve information from API</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/routeros/">community.routeros collection</a> (version 2.19.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.routeros</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>community.routeros.api_info</code>.</p> </div> <p class="ansible-version-added">New in community.routeros 2.2.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#attributes" id="id4">Attributes</a></li> <li><a class="reference internal" href="#see-also" id="id5">See Also</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id7">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Allows to retrieve information for a path using the API.</li> <li>This can be used to backup a path to restore it with the <a class="reference internal" href="api_modify_module.html#ansible-collections-community-routeros-api-modify-module"><span class="std std-ref">community.routeros.api_modify</span></a> module.</li> <li>Entries are normalized, dynamic and builtin entries are not returned. Use the <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-handle-disabled"><span class="std std-ref">handle_disabled</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-hide-defaults"><span class="std std-ref">hide_defaults</span></a></strong></code> options to control normalization, the <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-include-dynamic"><span class="std std-ref">include_dynamic</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-include-builtin"><span class="std std-ref">include_builtin</span></a></strong></code> options to also return dynamic resp. builtin entries, and use <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-unfiltered"><span class="std std-ref">unfiltered</span></a></strong></code> to return all fields including counters.</li> <li>
<strong>Note</strong> that this module is still heavily in development, and only supports <strong>some</strong> paths. If you want to support new paths, or think you found problems with existing paths, please first <a class="reference external" href="https://github.com/ansible-collections/community.routeros/issues/">create an issue in the community.routeros Issue Tracker</a>.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-community-routeros-api-info-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>librouteros</li> <li>Python &gt;= 3.6 (for librouteros)</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-ca-path"><strong>ca_path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> <p><em class="ansible-option-versionadded">added in community.routeros 1.2.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>PEM formatted file that contains a CA certificate to be used for certificate validation.</p> <p>See also <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-validate-cert-hostname"><span class="std std-ref">validate_cert_hostname</span></a></strong></code>. Only used when <code><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-tls"><span class="std std-ref">tls=true</span></a></code> and <code><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-validate-certs"><span class="std std-ref">validate_certs=true</span></a></code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-encoding"><strong>encoding</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in community.routeros 2.1.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Use the specified encoding when communicating with the RouterOS device.</p> <p>Default is <code>ASCII</code>. Note that <code>UTF-8</code> requires librouteros 3.2.1 or newer.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"ASCII"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-force-no-cert"><strong>force_no_cert</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.routeros 2.4.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Set to <code>true</code> to connect without a certificate when <code><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-tls"><span class="std std-ref">tls=true</span></a></code>.</p> <p>See also <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-validate-certs"><span class="std std-ref">validate_certs</span></a></strong></code>.</p> <p><strong>Note:</strong> this forces the use of anonymous Diffie-Hellman (ADH) ciphers. The protocol is susceptible to Man-in-the-Middle attacks, because the keys used in the exchange are not authenticated. Instead of simply connecting without a certificate to “make things work” have a look at <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-validate-certs"><span class="std std-ref">validate_certs</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-ca-path"><span class="std std-ref">ca_path</span></a></strong></code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-handle-disabled"><strong>handle_disabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>How to handle unset values.</p> <p><code>exclamation</code> prepends the keys with <code>!</code> in the output with value <code>null</code>.</p> <p><code>null-value</code> uses the regular key with value <code>null</code>.</p> <p><code>omit</code> omits these values from the result.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"exclamation"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"null-value"</code></li> <li><code>"omit"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-hide-defaults"><strong>hide_defaults</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to hide default values.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-hostname"><strong>hostname</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>RouterOS hostname API.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-include-builtin"><strong>include_builtin</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.routeros 2.4.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to include builtin values.</p> <p>By default, they are not returned, and the <code>builtin</code> keys are omitted.</p> <p>If set to <code>true</code>, they are returned as well, and the <code>builtin</code> keys are returned as well.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-include-dynamic"><strong>include_dynamic</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to include dynamic values.</p> <p>By default, they are not returned, and the <code>dynamic</code> keys are omitted.</p> <p>If set to <code>true</code>, they are returned as well, and the <code>dynamic</code> keys are returned as well.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-include-read-only"><strong>include_read_only</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.routeros 2.10.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to include read-only fields.</p> <p>By default, they are not returned.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-password"><strong>password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>RouterOS user password.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-path"><strong>path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Path to query.</p> <p>An example value is <code>ip address</code>. This is equivalent to running <code>/ip address print</code> in the RouterOS CLI.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"caps-man aaa"</code></li> <li><code>"caps-man access-list"</code></li> <li><code>"caps-man channel"</code></li> <li><code>"caps-man configuration"</code></li> <li><code>"caps-man datapath"</code></li> <li><code>"caps-man manager"</code></li> <li><code>"caps-man manager interface"</code></li> <li><code>"caps-man provisioning"</code></li> <li><code>"caps-man security"</code></li> <li><code>"certificate settings"</code></li> <li><code>"interface bonding"</code></li> <li><code>"interface bridge"</code></li> <li><code>"interface bridge mlag"</code></li> <li><code>"interface bridge port"</code></li> <li><code>"interface bridge port-controller"</code></li> <li><code>"interface bridge port-extender"</code></li> <li><code>"interface bridge settings"</code></li> <li><code>"interface bridge vlan"</code></li> <li><code>"interface detect-internet"</code></li> <li><code>"interface eoip"</code></li> <li><code>"interface ethernet"</code></li> <li><code>"interface ethernet poe"</code></li> <li><code>"interface ethernet switch"</code></li> <li><code>"interface ethernet switch port"</code></li> <li><code>"interface gre"</code></li> <li><code>"interface gre6"</code></li> <li><code>"interface l2tp-server server"</code></li> <li><code>"interface list"</code></li> <li><code>"interface list member"</code></li> <li><code>"interface ovpn-client"</code></li> <li><code>"interface ovpn-server server"</code></li> <li><code>"interface ppp-client"</code></li> <li><code>"interface pppoe-client"</code></li> <li><code>"interface pppoe-server server"</code></li> <li><code>"interface pptp-server server"</code></li> <li><code>"interface sstp-server server"</code></li> <li><code>"interface vlan"</code></li> <li><code>"interface vrrp"</code></li> <li><code>"interface wifi"</code></li> <li><code>"interface wifi aaa"</code></li> <li><code>"interface wifi access-list"</code></li> <li><code>"interface wifi cap"</code></li> <li><code>"interface wifi capsman"</code></li> <li><code>"interface wifi channel"</code></li> <li><code>"interface wifi configuration"</code></li> <li><code>"interface wifi datapath"</code></li> <li><code>"interface wifi interworking"</code></li> <li><code>"interface wifi provisioning"</code></li> <li><code>"interface wifi security"</code></li> <li><code>"interface wifi steering"</code></li> <li><code>"interface wifiwave2"</code></li> <li><code>"interface wifiwave2 aaa"</code></li> <li><code>"interface wifiwave2 access-list"</code></li> <li><code>"interface wifiwave2 cap"</code></li> <li><code>"interface wifiwave2 capsman"</code></li> <li><code>"interface wifiwave2 channel"</code></li> <li><code>"interface wifiwave2 configuration"</code></li> <li><code>"interface wifiwave2 datapath"</code></li> <li><code>"interface wifiwave2 interworking"</code></li> <li><code>"interface wifiwave2 provisioning"</code></li> <li><code>"interface wifiwave2 security"</code></li> <li><code>"interface wifiwave2 steering"</code></li> <li><code>"interface wireguard"</code></li> <li><code>"interface wireguard peers"</code></li> <li><code>"interface wireless"</code></li> <li><code>"interface wireless align"</code></li> <li><code>"interface wireless cap"</code></li> <li><code>"interface wireless security-profiles"</code></li> <li><code>"interface wireless sniffer"</code></li> <li><code>"interface wireless snooper"</code></li> <li><code>"iot modbus"</code></li> <li><code>"ip accounting"</code></li> <li><code>"ip accounting web-access"</code></li> <li><code>"ip address"</code></li> <li><code>"ip arp"</code></li> <li><code>"ip cloud"</code></li> <li><code>"ip cloud advanced"</code></li> <li><code>"ip dhcp-client"</code></li> <li><code>"ip dhcp-client option"</code></li> <li><code>"ip dhcp-relay"</code></li> <li><code>"ip dhcp-server"</code></li> <li><code>"ip dhcp-server config"</code></li> <li><code>"ip dhcp-server lease"</code></li> <li><code>"ip dhcp-server matcher"</code></li> <li><code>"ip dhcp-server network"</code></li> <li><code>"ip dhcp-server option"</code></li> <li><code>"ip dhcp-server option sets"</code></li> <li><code>"ip dns"</code></li> <li><code>"ip dns adlist"</code></li> <li><code>"ip dns static"</code></li> <li><code>"ip firewall address-list"</code></li> <li><code>"ip firewall connection tracking"</code></li> <li><code>"ip firewall filter"</code></li> <li><code>"ip firewall layer7-protocol"</code></li> <li><code>"ip firewall mangle"</code></li> <li><code>"ip firewall nat"</code></li> <li><code>"ip firewall raw"</code></li> <li><code>"ip firewall service-port"</code></li> <li><code>"ip hotspot service-port"</code></li> <li><code>"ip ipsec identity"</code></li> <li><code>"ip ipsec peer"</code></li> <li><code>"ip ipsec policy"</code></li> <li><code>"ip ipsec profile"</code></li> <li><code>"ip ipsec proposal"</code></li> <li><code>"ip ipsec settings"</code></li> <li><code>"ip neighbor discovery-settings"</code></li> <li><code>"ip pool"</code></li> <li><code>"ip proxy"</code></li> <li><code>"ip route"</code></li> <li><code>"ip route rule"</code></li> <li><code>"ip route vrf"</code></li> <li><code>"ip service"</code></li> <li><code>"ip settings"</code></li> <li><code>"ip smb"</code></li> <li><code>"ip socks"</code></li> <li><code>"ip ssh"</code></li> <li><code>"ip tftp settings"</code></li> <li><code>"ip traffic-flow"</code></li> <li><code>"ip traffic-flow ipfix"</code></li> <li><code>"ip traffic-flow target"</code></li> <li><code>"ip upnp"</code></li> <li><code>"ip upnp interfaces"</code></li> <li><code>"ip vrf"</code></li> <li><code>"ipv6 address"</code></li> <li><code>"ipv6 dhcp-client"</code></li> <li><code>"ipv6 dhcp-server"</code></li> <li><code>"ipv6 dhcp-server option"</code></li> <li><code>"ipv6 firewall address-list"</code></li> <li><code>"ipv6 firewall filter"</code></li> <li><code>"ipv6 firewall mangle"</code></li> <li><code>"ipv6 firewall nat"</code></li> <li><code>"ipv6 firewall raw"</code></li> <li><code>"ipv6 nd"</code></li> <li><code>"ipv6 nd prefix"</code></li> <li><code>"ipv6 nd prefix default"</code></li> <li><code>"ipv6 route"</code></li> <li><code>"ipv6 settings"</code></li> <li><code>"mpls"</code></li> <li><code>"mpls interface"</code></li> <li><code>"mpls ldp"</code></li> <li><code>"mpls ldp accept-filter"</code></li> <li><code>"mpls ldp advertise-filter"</code></li> <li><code>"mpls ldp interface"</code></li> <li><code>"port firmware"</code></li> <li><code>"port remote-access"</code></li> <li><code>"ppp aaa"</code></li> <li><code>"ppp profile"</code></li> <li><code>"ppp secret"</code></li> <li><code>"queue interface"</code></li> <li><code>"queue simple"</code></li> <li><code>"queue tree"</code></li> <li><code>"queue type"</code></li> <li><code>"radius"</code></li> <li><code>"radius incoming"</code></li> <li><code>"routing bgp aggregate"</code></li> <li><code>"routing bgp connection"</code></li> <li><code>"routing bgp instance"</code></li> <li><code>"routing bgp network"</code></li> <li><code>"routing bgp peer"</code></li> <li><code>"routing bgp template"</code></li> <li><code>"routing filter"</code></li> <li><code>"routing filter num-list"</code></li> <li><code>"routing filter rule"</code></li> <li><code>"routing filter select-rule"</code></li> <li><code>"routing id"</code></li> <li><code>"routing igmp-proxy"</code></li> <li><code>"routing igmp-proxy interface"</code></li> <li><code>"routing mme"</code></li> <li><code>"routing ospf area"</code></li> <li><code>"routing ospf area range"</code></li> <li><code>"routing ospf instance"</code></li> <li><code>"routing ospf interface-template"</code></li> <li><code>"routing ospf static-neighbor"</code></li> <li><code>"routing pimsm instance"</code></li> <li><code>"routing pimsm interface-template"</code></li> <li><code>"routing rip"</code></li> <li><code>"routing ripng"</code></li> <li><code>"routing rule"</code></li> <li><code>"routing table"</code></li> <li><code>"snmp"</code></li> <li><code>"snmp community"</code></li> <li><code>"system clock"</code></li> <li><code>"system clock manual"</code></li> <li><code>"system health settings"</code></li> <li><code>"system identity"</code></li> <li><code>"system leds settings"</code></li> <li><code>"system logging"</code></li> <li><code>"system logging action"</code></li> <li><code>"system note"</code></li> <li><code>"system ntp client"</code></li> <li><code>"system ntp client servers"</code></li> <li><code>"system ntp server"</code></li> <li><code>"system package update"</code></li> <li><code>"system resource irq rps"</code></li> <li><code>"system routerboard settings"</code></li> <li><code>"system scheduler"</code></li> <li><code>"system script"</code></li> <li><code>"system upgrade mirror"</code></li> <li><code>"system ups"</code></li> <li><code>"system watchdog"</code></li> <li><code>"tool bandwidth-server"</code></li> <li><code>"tool e-mail"</code></li> <li><code>"tool graphing"</code></li> <li><code>"tool graphing interface"</code></li> <li><code>"tool graphing resource"</code></li> <li><code>"tool mac-server"</code></li> <li><code>"tool mac-server mac-winbox"</code></li> <li><code>"tool mac-server ping"</code></li> <li><code>"tool netwatch"</code></li> <li><code>"tool romon"</code></li> <li><code>"tool sms"</code></li> <li><code>"tool sniffer"</code></li> <li><code>"tool traffic-generator"</code></li> <li><code>"user"</code></li> <li><code>"user aaa"</code></li> <li><code>"user group"</code></li> <li><code>"user settings"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-port"><strong>port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>RouterOS api port. If <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-tls"><span class="std std-ref">tls</span></a></strong></code> is set, port will apply to TLS/SSL connection.</p> <p>Defaults are <code>8728</code> for the HTTP API, and <code>8729</code> for the HTTPS API.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-restrict"><strong>restrict</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> <p><em class="ansible-option-versionadded">added in community.routeros 2.18.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Restrict output to entries matching the following criteria.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-restrict-field"><strong>field</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The field whose values to restrict.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-restrict-invert"><strong>invert</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Invert the condition. This affects <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-restrict-match-disabled"><span class="std std-ref">restrict[].match_disabled</span></a></strong></code>, <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-restrict-values"><span class="std std-ref">restrict[].values</span></a></strong></code>, and <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-restrict-regex"><span class="std std-ref">restrict[].regex</span></a></strong></code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-restrict-match-disabled"><strong>match_disabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Whether disabled or not provided values should match.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-restrict-regex"><strong>regex</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A regular expression matching values of the field to limit to.</p> <p>Note that all values will be converted to strings before matching.</p> <p>It is not possible to match disabled values with regular expressions. Set <code><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-restrict-match-disabled"><span class="std std-ref">restrict[].match_disabled=true</span></a></code> if you also want to match disabled values.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-restrict-values"><strong>values</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=any</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The values of the field to limit to.</p> <p>Note that the types of the values are important. If you provide a string <code>"0"</code>, and librouteros converts the value returned by the API to the integer <code>0</code>, then this will not match. If you are not sure, better include both variants: both the string and the integer.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-timeout"><strong>timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in community.routeros 2.3.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Timeout for the request.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>10</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-tls"><strong id="ansible-collections-community-routeros-api-info-module-parameter-ssl">tls</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: ssl</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If is set TLS will be used for RouterOS API connection.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-unfiltered"><strong>unfiltered</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to output all fields, and not just the ones supported as input for <a class="reference internal" href="api_modify_module.html#ansible-collections-community-routeros-api-modify-module"><span class="std std-ref">community.routeros.api_modify</span></a>.</p> <p>Unfiltered output can contain counters and other state information.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-username"><strong>username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>RouterOS login user.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-validate-cert-hostname"><strong>validate_cert_hostname</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.routeros 1.2.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Set to <code>true</code> to validate hostnames in certificates.</p> <p>See also <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-validate-certs"><span class="std std-ref">validate_certs</span></a></strong></code>. Only used when <code><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-tls"><span class="std std-ref">tls=true</span></a></code> and <code><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-validate-certs"><span class="std std-ref">validate_certs=true</span></a></code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.routeros 1.2.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Set to <code>false</code> to skip validation of TLS certificates.</p> <p>See also <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-validate-cert-hostname"><span class="std std-ref">validate_cert_hostname</span></a></strong></code>. Only used when <code><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-tls"><span class="std std-ref">tls=true</span></a></code>.</p> <p><strong>Note:</strong> instead of simply deactivating certificate validations to “make things work”, please consider creating your own CA certificate and using it to sign certificates used for your router. You can tell the module about your CA certificate with the <code><strong><a class="reference internal" href="#ansible-collections-community-routeros-api-info-module-parameter-ca-path"><span class="std std-ref">ca_path</span></a></strong></code> option.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr>  </table> </section> <section id="attributes"> <h2>Attributes</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Attribute</p></th> <th class="head"><p>Support</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-attribute-action-group"><strong>action_group</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-property">Action group:</strong> <strong class="ansible-attribute-support-full">community.routeros.api</strong></p> </div></td> <td><div class="ansible-option-cell">
<p>Use <code>group/community.routeros.api</code> in <code>module_defaults</code> to set defaults for this module.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-attribute-check-mode"><strong>check_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-label">Support: </strong><strong class="ansible-attribute-support-full">full</strong></p> <p>This action does not modify state.</p> </div></td> <td><div class="ansible-option-cell">
<p>Can run in <code>check_mode</code> and return changed status prediction without modifying target.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-attribute-diff-mode"><strong>diff_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-label">Support: </strong> <span class="ansible-attribute-support-na">N/A</span></p> <p>This action does not modify state.</p> </div></td> <td><div class="ansible-option-cell">
<p>Will return details on what has changed (or possibly needs changing in <code>check_mode</code>), when in diff mode.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-attribute-platform"><strong>platform</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-property">Platform:</strong> <strong class="ansible-attribute-support-full">RouterOS</strong></p> </div></td> <td><div class="ansible-option-cell">
<p>Target OS/families that can be operated against.</p> </div></td> </tr>  </table> </section> <section id="see-also"> <h2>See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="api_module.html#ansible-collections-community-routeros-api-module"><span class="std std-ref">community.routeros.api</span></a></dt>
<dd>
<p>Ansible module for RouterOS API.</p> </dd> <dt><a class="reference internal" href="api_facts_module.html#ansible-collections-community-routeros-api-facts-module"><span class="std std-ref">community.routeros.api_facts</span></a></dt>
<dd>
<p>Collect facts from remote devices running MikroTik RouterOS using the API.</p> </dd> <dt><a class="reference internal" href="api_find_and_modify_module.html#ansible-collections-community-routeros-api-find-and-modify-module"><span class="std std-ref">community.routeros.api_find_and_modify</span></a></dt>
<dd>
<p>Find and modify information using the API.</p> </dd> <dt><a class="reference internal" href="api_modify_module.html#ansible-collections-community-routeros-api-modify-module"><span class="std std-ref">community.routeros.api_modify</span></a></dt>
<dd>
<p>Modify data at paths with API.</p> </dd> <dt><a class="reference internal" href="docsite/api-guide.html#ansible-collections-community-routeros-docsite-api-guide"><span class="std std-ref">How to connect to RouterOS devices with the RouterOS API</span></a></dt>
<dd>
<p>How to connect to RouterOS devices with the RouterOS API</p> </dd> </dl> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">---
- name: Get IP addresses
  community.routeros.api_info:
    hostname: "{{ hostname }}"
    password: "{{ password }}"
    username: "{{ username }}"
    path: ip address
  register: ip_addresses

- name: Print data for IP addresses
  ansible.builtin.debug:
    var: ip_addresses.result

- name: Get IP addresses
  community.routeros.api_info:
    hostname: "{{ hostname }}"
    password: "{{ password }}"
    username: "{{ username }}"
    path: ip address
  register: ip_addresses

- name: Print data for IP addresses
  ansible.builtin.debug:
    var: ip_addresses.result
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-routeros-api-info-module-return-result"><strong>result</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of all elements for the current path.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[{".id": "*1", "actual-interface": "bridge", "address": "192.168.88.1/24", "comment": "defconf", "disabled": false, "dynamic": false, "interface": "bridge", "invalid": false, "network": "192.168.88.0"}]</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Felix Fontein (@felixfontein)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.routeros/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.routeros" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://forum.ansible.com/tags/c/help/6/none/routeros" rel="noopener external" target="_blank">Ask for help (RouterOS)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.routeros/issues/new?assignees=&amp;labels=&amp;template=bug_report.md" rel="noopener external" target="_blank">Submit a bug report</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.routeros/issues/new?assignees=&amp;labels=&amp;template=feature_request.md" rel="noopener external" target="_blank">Request a feature</a></span></li> <li><span><a class="reference internal" href="index.html#communication-for-community-routeros"><span class="std std-ref">Communication</span></a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/routeros/api_info_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/routeros/api_info_module.html</a>
  </p>
</div>
