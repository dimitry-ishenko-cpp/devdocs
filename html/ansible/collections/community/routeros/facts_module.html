<h1 id="community-routeros-facts-collect-facts-from-remote-devices-running-mikrotik-routeros">community.routeros.facts â€“ Collect facts from remote devices running MikroTik RouterOS</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/routeros">community.routeros collection</a> (version 1.2.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.routeros</code>.</p> <p>To use it in a playbook, specify: <code>community.routeros.facts</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id3">Examples</a></li> <li><a class="reference internal" href="#returned-facts" id="id4">Returned Facts</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Collects a base set of device facts from a remote device that is running RotuerOS. This module prepends all of the base network fact keys with <code>ansible_net_&lt;fact&gt;</code>. The facts module will always collect a base set of facts from the device and can enable or disable collection of additional facts.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>gather_subset</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"!config"</div> </td> <td> <div>When supplied, this argument will restrict the facts collected to a given subset. Possible values for this argument include <code>all</code>, <code>hardware</code>, <code>config</code>, and <code>interfaces</code>. Can specify a list of values to include a larger subset. Values can also be used with an initial <code>!</code> to specify that a specific subset should not be collected.</div> </td> </tr> </table> <br>  <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Collect all facts from the device
  community.routeros.facts:
    gather_subset: all

- name: Collect only the config and default facts
  community.routeros.facts:
    gather_subset:
      - config

- name: Do not collect hardware facts
  community.routeros.facts:
    gather_subset:
      - "!hardware"
</pre>   <h2 id="returned-facts">Returned Facts</h2> <p>Facts returned by this module are added/updated in the <code>hostvars</code> host facts and can be referenced by name just like any other host fact. They do not need to be registered in order to use them.</p> <table class="documentation-table"> <tr> <th colspan="1">Fact</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>ansible_net_all_ipv4_addresses</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>when interfaces is configured</td> <td> <div>All IPv4 addresses configured on the device </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_all_ipv6_addresses</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>when interfaces is configured</td> <td> <div>All IPv6 addresses configured on the device </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_arch</b>  <div> <span>string</span> / <span>elements=string</span> </div> </td> <td>always</td> <td> <div>The CPU architecture of the device </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_bgp_instance</b>  <div> <span>dictionary</span> / <span>elements=string</span> </div> </td> <td>bgp instance information</td> <td> <div>The dict bgp instance </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_bgp_peer</b>  <div> <span>dictionary</span> / <span>elements=string</span> </div> </td> <td>peer information</td> <td> <div>The dict bgp peer </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_bgp_vpnv4_route</b>  <div> <span>dictionary</span> / <span>elements=string</span> </div> </td> <td>vpnv4 route information</td> <td> <div>The dict bgp vpnv4 route </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_config</b>  <div> <span>string</span> / <span>elements=string</span> </div> </td> <td>when config is configured</td> <td> <div>The current active config from the device </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_config_nonverbose</b>  <div> <span>string</span> / <span>elements=string</span> </div> <div> added in 1.2.0 of community.routeros </div> </td> <td>when config is configured</td> <td> <div>The current active config from the device in minimal form. </div> <div>This value is idempotent in the sense that if the facts module is run twice and the device's config was not changed between the runs, the value is identical. This is achieved by running <code>/export</code> and stripping the timestamp from the comment in the first line. </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_cpu_load</b>  <div> <span>string</span> / <span>elements=string</span> </div> </td> <td>always</td> <td> <div>Current CPU load </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_gather_subset</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>always</td> <td> <div>The list of fact subsets collected from the device </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_hostname</b>  <div> <span>string</span> / <span>elements=string</span> </div> </td> <td>always</td> <td> <div>The configured hostname of the device </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_interfaces</b>  <div> <span>dictionary</span> / <span>elements=string</span> </div> </td> <td>when interfaces is configured</td> <td> <div>A hash of all interfaces running on the system </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_memfree_mb</b>  <div> <span>integer</span> / <span>elements=string</span> </div> </td> <td>when hardware is configured</td> <td> <div>The available free memory on the remote device in MiB </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_memtotal_mb</b>  <div> <span>integer</span> / <span>elements=string</span> </div> </td> <td>when hardware is configured</td> <td> <div>The total memory on the remote device in MiB </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_model</b>  <div> <span>string</span> / <span>elements=string</span> </div> </td> <td>always</td> <td> <div>The model name returned from the device </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_neighbors</b>  <div> <span>dictionary</span> / <span>elements=string</span> </div> </td> <td>when interfaces is configured</td> <td> <div>The list of neighbors from the remote device </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_ospf_instance</b>  <div> <span>dictionary</span> / <span>elements=string</span> </div> </td> <td>ospf instance information</td> <td> <div>The dict ospf instance </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_ospf_neighbor</b>  <div> <span>dictionary</span> / <span>elements=string</span> </div> </td> <td>ospf neighbor information</td> <td> <div>The dict ospf neighbor </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_route</b>  <div> <span>dictionary</span> / <span>elements=string</span> </div> </td> <td>routes information in all routing table</td> <td> <div>The dict routes in all routing table </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_serialnum</b>  <div> <span>string</span> / <span>elements=string</span> </div> </td> <td>always</td> <td> <div>The serial number of the remote device </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_spacefree_mb</b>  <div> <span>dictionary</span> / <span>elements=string</span> </div> </td> <td>when hardware is configured</td> <td> <div>The available disk space on the remote device in MiB </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_spacetotal_mb</b>  <div> <span>dictionary</span> / <span>elements=string</span> </div> </td> <td>when hardware is configured</td> <td> <div>The total disk space on the remote device in MiB </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_uptime</b>  <div> <span>string</span> / <span>elements=string</span> </div> </td> <td>always</td> <td> <div>The uptime of the device </div> <br> </td> </tr> <tr> <td colspan="1">  <b>ansible_net_version</b>  <div> <span>string</span> / <span>elements=string</span> </div> </td> <td>always</td> <td> <div>The operating system version running on the remote device </div> <br> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Egor Zaitsev (@heuels)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/routeros/facts_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/routeros/facts_module.html</a>
  </p>
</div>
