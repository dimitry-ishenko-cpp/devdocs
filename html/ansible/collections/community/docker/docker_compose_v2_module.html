<section id="community-docker-docker-compose-v2-module-manage-multi-container-docker-applications-with-docker-compose-cli-plugin"> <h1>community.docker.docker_compose_v2 module – Manage multi-container Docker applications with Docker Compose CLI plugin</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/docker/">community.docker collection</a> (version 3.13.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.docker</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>community.docker.docker_compose_v2</code>.</p> </div> <p class="ansible-version-added">New in community.docker 3.6.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#attributes" id="id4">Attributes</a></li> <li><a class="reference internal" href="#notes" id="id5">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id6">See Also</a></li> <li><a class="reference internal" href="#examples" id="id7">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id8">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Uses Docker Compose to start or shutdown services.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-community-docker-docker-compose-v2-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>Docker CLI with Docker compose plugin 2.18.0 or later</li> <li>PyYAML if <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-definition"><span class="std std-ref">definition</span></a></strong></code> is used</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-docker-api-version"><strong id="ansible-collections-community-docker-docker-compose-v2-module-parameter-api-version">api_version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: docker_api_version</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The version of the Docker API running on the Docker Host.</p> <p>Defaults to the latest version of the API supported by this collection and the docker daemon.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_API_VERSION"><code>DOCKER_API_VERSION</code></a> will be used instead. If the environment variable is not set, the default value will be used.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"auto"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-build"><strong>build</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to build images before starting containers. This is used when <code>docker compose up</code> is run.</p> <p><code>always</code> always builds before starting containers. This is equivalent to the <code>--build</code> option of <code>docker compose up</code>.</p> <p><code>never</code> never builds before starting containers. This is equivalent to the <code>--no-build</code> option of <code>docker compose up</code>.</p> <p><code>policy</code> uses the policy as defined in the Compose file.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"always"</code></li> <li><code>"never"</code></li> <li>
<code><strong>"policy"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">    
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-tls-ca-cert"><strong id="ansible-collections-community-docker-docker-compose-v2-module-parameter-ca-cert">ca_path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: ca_cert, tls_ca_cert, cacert_path</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Use a CA certificate when performing server verification by providing the path to a CA certificate file.</p> <p>If the value is not specified in the task and the environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_CERT_PATH"><code>DOCKER_CERT_PATH</code></a> is set, the file <code>ca.pem</code> from the directory specified in the environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_CERT_PATH"><code>DOCKER_CERT_PATH</code></a> will be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-check-files-existing"><strong>check_files_existing</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.docker 3.9.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>If set to <code>false</code>, the module will not check whether one of the files <code>compose.yaml</code>, <code>compose.yml</code>, <code>docker-compose.yaml</code>, or <code>docker-compose.yml</code> exists in <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-project-src"><span class="std std-ref">project_src</span></a></strong></code> if <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-files"><span class="std std-ref">files</span></a></strong></code> is not provided.</p> <p>This can be useful if environment files with <code>COMPOSE_FILE</code> are used to configure a different filename. The module currently does not check for <code>COMPOSE_FILE</code> in environment files or the current environment.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-cli-context"><strong>cli_context</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The Docker CLI context to use.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-docker-host"><span class="std std-ref">docker_host</span></a></strong></code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-tls-client-cert"><strong id="ansible-collections-community-docker-docker-compose-v2-module-parameter-cert-path">client_cert</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: tls_client_cert, cert_path</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Path to the client’s TLS certificate file.</p> <p>If the value is not specified in the task and the environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_CERT_PATH"><code>DOCKER_CERT_PATH</code></a> is set, the file <code>cert.pem</code> from the directory specified in the environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_CERT_PATH"><code>DOCKER_CERT_PATH</code></a> will be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-tls-client-key"><strong id="ansible-collections-community-docker-docker-compose-v2-module-parameter-client-key">client_key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: tls_client_key, key_path</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Path to the client’s TLS key file.</p> <p>If the value is not specified in the task and the environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_CERT_PATH"><code>DOCKER_CERT_PATH</code></a> is set, the file <code>key.pem</code> from the directory specified in the environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_CERT_PATH"><code>DOCKER_CERT_PATH</code></a> will be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-definition"><strong>definition</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in community.docker 3.9.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Compose file describing one or more services, networks and volumes.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-project-src"><span class="std std-ref">project_src</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-files"><span class="std std-ref">files</span></a></strong></code>. One of <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-project-src"><span class="std std-ref">project_src</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-definition"><span class="std std-ref">definition</span></a></strong></code> must be provided.</p> <p>If provided, PyYAML must be available to this module, and <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-project-name"><span class="std std-ref">project_name</span></a></strong></code> must be specified.</p> <p>Note that a temporary directory will be created and deleted afterwards when using this option.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-dependencies"><strong>dependencies</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>When <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-state"><span class="std std-ref">state</span></a></strong></code> is <code>present</code> or <code>restarted</code>, specify whether or not to include linked services.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-docker-cli"><strong>docker_cli</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Path to the Docker CLI. If not provided, will search for Docker CLI on the <code>PATH</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-docker-url"><strong id="ansible-collections-community-docker-docker-compose-v2-module-parameter-docker-host">docker_host</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: docker_url</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The URL or Unix socket path used to connect to the Docker API. To connect to a remote host, provide the TCP connection string. For example, <code>tcp://192.0.2.23:2376</code>. If TLS is used to encrypt the connection, the module will automatically replace <code>tcp</code> in the connection URL with <code>https</code>.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_HOST"><code>DOCKER_HOST</code></a> will be used instead. If the environment variable is not set, the default value will be used.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-cli-context"><span class="std std-ref">cli_context</span></a></strong></code>. If neither <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-docker-host"><span class="std std-ref">docker_host</span></a></strong></code> nor <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-cli-context"><span class="std std-ref">cli_context</span></a></strong></code> are provided, the value <code>unix:///var/run/docker.sock</code> is used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-env-files"><strong>env_files</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>By default environment files are loaded from a <code>.env</code> file located directly under the <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-project-src"><span class="std std-ref">project_src</span></a></strong></code> directory.</p> <p><code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-env-files"><span class="std std-ref">env_files</span></a></strong></code> can be used to specify the path of one or multiple custom environment files instead.</p> <p>The path is relative to the <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-project-src"><span class="std std-ref">project_src</span></a></strong></code> directory.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-files"><strong>files</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=path</span></p> <p><em class="ansible-option-versionadded">added in community.docker 3.7.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>List of Compose file names relative to <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-project-src"><span class="std std-ref">project_src</span></a></strong></code> to be used instead of the main Compose file (<code>compose.yml</code>, <code>compose.yaml</code>, <code>docker-compose.yml</code>, or <code>docker-compose.yaml</code>).</p> <p>Files are loaded and merged in the order given.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-definition"><span class="std std-ref">definition</span></a></strong></code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-profiles"><strong>profiles</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of profiles to enable when starting services.</p> <p>Equivalent to <code>docker compose --profile</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-project-name"><strong>project_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Provide a project name. If not provided, the project name is taken from the basename of <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-project-src"><span class="std std-ref">project_src</span></a></strong></code>.</p> <p>Required when <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-definition"><span class="std std-ref">definition</span></a></strong></code> is provided.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-project-src"><strong>project_src</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Path to a directory containing a Compose file (<code>compose.yml</code>, <code>compose.yaml</code>, <code>docker-compose.yml</code>, or <code>docker-compose.yaml</code>).</p> <p>If <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-files"><span class="std std-ref">files</span></a></strong></code> is provided, will look for these files in this directory instead.</p> <p>Mutually exclusive with <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-definition"><span class="std std-ref">definition</span></a></strong></code>. One of <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-project-src"><span class="std std-ref">project_src</span></a></strong></code> and <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-definition"><span class="std std-ref">definition</span></a></strong></code> must be provided.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-pull"><strong>pull</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to pull images before running. This is used when <code>docker compose up</code> is run.</p> <p><code>always</code> ensures that the images are always pulled, even when already present on the Docker daemon.</p> <p><code>missing</code> only pulls them when they are not present on the Docker daemon.</p> <p><code>never</code> never pulls images. If they are not present, the module will fail when trying to create the containers that need them.</p> <p><code>policy</code> use the Compose file’s <code>pull_policy</code> defined for the service to figure out what to do.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"always"</code></li> <li><code>"missing"</code></li> <li><code>"never"</code></li> <li>
<code><strong>"policy"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-recreate"><strong>recreate</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>By default containers will be recreated when their configuration differs from the service definition.</p> <p>Setting to <code>never</code> ignores configuration differences and leaves existing containers unchanged.</p> <p>Setting to <code>always</code> forces recreation of all existing containers.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"always"</code></li> <li><code>"never"</code></li> <li>
<code><strong>"auto"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-remove-images"><strong>remove_images</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Use with <code><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-state"><span class="std std-ref">state=absent</span></a></code> to remove all images or only local images.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"all"</code></li> <li><code>"local"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-remove-orphans"><strong>remove_orphans</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Remove containers for services not defined in the Compose file.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-remove-volumes"><strong>remove_volumes</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Use with <code><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-state"><span class="std std-ref">state=absent</span></a></code> to remove data volumes.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-scale"><strong>scale</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in community.docker 3.7.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Define how to scale services when running <code>docker compose up</code>.</p> <p>Provide a dictionary of key/value pairs where the key is the name of the service and the value is an integer count for the number of containers.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-services"><strong>services</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies a subset of services to be targeted.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Desired state of the project.</p> <p><code>present</code> is equivalent to running <code>docker compose up</code>.</p> <p><code>stopped</code> is equivalent to running <code>docker compose stop</code>.</p> <p><code>absent</code> is equivalent to running <code>docker compose down</code>.</p> <p><code>restarted</code> is equivalent to running <code>docker compose restart</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"absent"</code></li> <li><code>"stopped"</code></li> <li><code>"restarted"</code></li> <li>
<code><strong>"present"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-timeout"><strong>timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Timeout in seconds for container shutdown when attached or when containers are already running.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-tls"><strong>tls</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Secure the connection to the API by using TLS without verifying the authenticity of the Docker host server. Note that if <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-validate-certs"><span class="std std-ref">validate_certs</span></a></strong></code> is set to <code>true</code> as well, it will take precedence.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_TLS"><code>DOCKER_TLS</code></a> will be used instead. If the environment variable is not set, the default value will be used.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-tls-hostname"><strong>tls_hostname</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>When verifying the authenticity of the Docker Host server, provide the expected name of the server.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_TLS_HOSTNAME"><code>DOCKER_TLS_HOSTNAME</code></a> will be used instead. If the environment variable is not set, the default value will be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-validate-certs"><strong id="ansible-collections-community-docker-docker-compose-v2-module-parameter-tls-verify">validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: tls_verify</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Secure the connection to the API by using TLS and verifying the authenticity of the Docker host server.</p> <p>If the value is not specified in the task, the value of environment variable <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_TLS_VERIFY"><code>DOCKER_TLS_VERIFY</code></a> will be used instead. If the environment variable is not set, the default value will be used.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-wait"><strong>wait</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.docker 3.8.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>When running <code>docker compose up</code>, pass <code>--wait</code> to wait for services to be running/healthy.</p> <p>A timeout can be set with the <code><strong><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-wait-timeout"><span class="std std-ref">wait_timeout</span></a></strong></code> option.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-parameter-wait-timeout"><strong>wait_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in community.docker 3.8.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>When <code><a class="reference internal" href="#ansible-collections-community-docker-docker-compose-v2-module-parameter-wait"><span class="std std-ref">wait=true</span></a></code>, wait at most this amount of seconds.</p> </div></td> </tr>  </table> </section> <section id="attributes"> <h2>Attributes</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Attribute</p></th> <th class="head"><p>Support</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-attribute-action-group"><strong>action_group</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-property">Action groups:</strong> <strong class="ansible-attribute-support-full">community.docker.docker</strong>, <strong class="ansible-attribute-support-full">docker</strong></p> </div></td> <td><div class="ansible-option-cell">
<p>Use <code>group/docker</code> or <code>group/community.docker.docker</code> in <code>module_defaults</code> to set defaults for this module.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-attribute-check-mode"><strong>check_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-label">Support: </strong><strong class="ansible-attribute-support-full">full</strong></p> <p>In check mode, pulling the image does not result in a changed result.</p> </div></td> <td><div class="ansible-option-cell">
<p>Can run in <code>check_mode</code> and return changed status prediction without modifying target.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-attribute-diff-mode"><strong>diff_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-label">Support: </strong><strong class="ansible-attribute-support-none">none</strong></p> </div></td> <td><div class="ansible-option-cell">
<p>Will return details on what has changed (or possibly needs changing in <code>check_mode</code>), when in diff mode.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>The Docker compose CLI plugin has no stable output format (see for example <a class="reference external" href="https://github.com/docker/compose/issues/10872">https://github.com/docker/compose/issues/10872</a>), and for the main operations also no machine friendly output format. The module tries to accomodate this with various version-dependent behavior adjustments and with testing older and newer versions of the Docker compose CLI plugin. Currently the module is tested with multiple plugin versions between 2.18.1 and 2.23.3. The exact list of plugin versions will change over time. New releases of the Docker compose CLI plugin can break this module at any time.</li> <li>Connect to the Docker daemon by providing parameters with each task or by defining environment variables. You can define <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_HOST"><code>DOCKER_HOST</code></a>, <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_TLS_HOSTNAME"><code>DOCKER_TLS_HOSTNAME</code></a>, <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_API_VERSION"><code>DOCKER_API_VERSION</code></a>, <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_CERT_PATH"><code>DOCKER_CERT_PATH</code></a>, <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_TLS"><code>DOCKER_TLS</code></a>, <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_TLS_VERIFY"><code>DOCKER_TLS_VERIFY</code></a> and <a class="reference internal" href="docsite/scenario_guide.html#envvar-DOCKER_TIMEOUT"><code>DOCKER_TIMEOUT</code></a>. If you are using docker machine, run the script shipped with the product that sets up the environment. It will set these variables for you. See <a class="reference external" href="https://docs.docker.com/machine/reference/env/">https://docs.docker.com/machine/reference/env/</a> for more details.</li> <li>This module does <strong>not</strong> use the <a class="reference external" href="https://docker-py.readthedocs.io/en/stable/">Docker SDK for Python</a> to communicate with the Docker daemon. It directly calls the Docker CLI program.</li> </ul> </div> </section> <section id="see-also"> <h2>See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="docker_compose_module.html#ansible-collections-community-docker-docker-compose-module"><span class="std std-ref">community.docker.docker_compose</span></a></dt>
<dd>
<p>Manage multi-container Docker applications with Docker Compose V1.</p> </dd> <dt><a class="reference internal" href="docker_compose_v2_pull_module.html#ansible-collections-community-docker-docker-compose-v2-pull-module"><span class="std std-ref">community.docker.docker_compose_v2_pull</span></a></dt>
<dd>
<p>Pull a Docker compose project.</p> </dd> </dl> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja"># Examples use the django example at https://docs.docker.com/compose/django. Follow it to create the
# flask directory

- name: Run using a project directory
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Tear down existing services
      community.docker.docker_compose_v2:
        project_src: flask
        state: absent

    - name: Create and start services
      community.docker.docker_compose_v2:
        project_src: flask
      register: output

    - name: Show results
      ansible.builtin.debug:
        var: output

    - name: Run `docker compose up` again
      community.docker.docker_compose_v2:
        project_src: flask
      register: output

    - name: Show results
      ansible.builtin.debug:
        var: output

    - ansible.builtin.assert:
        that: not output.changed

    - name: Stop all services
      community.docker.docker_compose_v2:
        project_src: flask
        state: stopped
      register: output

    - name: Show results
      ansible.builtin.debug:
        var: output

    - name: Verify that web and db services are not running
      ansible.builtin.assert:
        that:
          - web_container.State != 'running'
          - db_container.State != 'running'
      vars:
        web_container: &gt;-
          {{ output.containers | selectattr("Service", "equalto", "web") | first }}
        db_container: &gt;-
          {{ output.containers | selectattr("Service", "equalto", "db") | first }}

    - name: Restart services
      community.docker.docker_compose_v2:
        project_src: flask
        state: restarted
      register: output

    - name: Show results
      ansible.builtin.debug:
        var: output

    - name: Verify that web and db services are running
      ansible.builtin.assert:
        that:
          - web_container.State == 'running'
          - db_container.State == 'running'
      vars:
        web_container: &gt;-
          {{ output.containers | selectattr("Service", "equalto", "web") | first }}
        db_container: &gt;-
          {{ output.containers | selectattr("Service", "equalto", "db") | first }}
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-actions"><strong>actions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of actions that have been applied.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-actions-id"><strong>id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The ID of the resource that was changed.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"container"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-actions-status"><strong>status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The status change that happened.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Can only return:</strong></p> <ul class="simple"> <li><code>"Starting"</code></li> <li><code>"Exiting"</code></li> <li><code>"Restarting"</code></li> <li><code>"Creating"</code></li> <li><code>"Stopping"</code></li> <li><code>"Killing"</code></li> <li><code>"Removing"</code></li> <li><code>"Recreating"</code></li> <li><code>"Pulling"</code></li> <li><code>"Building"</code></li> </ul> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"Creating"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-actions-what"><strong>what</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>What kind of resource was changed.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Can only return:</strong></p> <ul class="simple"> <li><code>"container"</code></li> <li><code>"image"</code></li> <li><code>"network"</code></li> <li><code>"service"</code></li> <li><code>"unknown"</code></li> <li><code>"volume"</code></li> </ul> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"container"</code></p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers"><strong>containers</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of containers associated to the service.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-command"><strong>Command</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The container’s command.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-createdat"><strong>CreatedAt</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The timestamp when the container was created.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"2024-01-02 12:20:41 +0100 CET"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-exitcode"><strong>ExitCode</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The container’s exit code.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-health"><strong>Health</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The container’s health check.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-id"><strong>ID</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The container’s ID.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"44a7d607219a60b7db0a4817fb3205dce46e91df2cb4b78a6100b6e27b0d3135"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-image"><strong>Image</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The container’s image.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-labels"><strong>Labels</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Labels for this container.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-localvolumes"><strong>LocalVolumes</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The local volumes count.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-mounts"><strong>Mounts</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Mounts.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-name"><strong>Name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The container’s primary name.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-names"><strong>Names</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>List of names of the container.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-networks"><strong>Networks</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>List of networks attached to this container.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-ports"><strong>Ports</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>List of port assignments as a string.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-publishers"><strong>Publishers</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>List of port assigments.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-publishers-protocol"><strong>Protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The protocol.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Can only return:</strong></p> <ul class="simple"> <li><code>"tcp"</code></li> <li><code>"udp"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-publishers-publishedport"><strong>PublishedPort</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The port that is published.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-publishers-targetport"><strong>TargetPort</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The container’s port the published port maps to.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-publishers-url"><strong>URL</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Interface the port is bound to.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-runningfor"><strong>RunningFor</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Amount of time the container runs.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-service"><strong>Service</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The name of the service.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-size"><strong>Size</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The container’s size.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"0B"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-state"><strong>State</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The container’s state.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"running"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-containers-status"><strong>Status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The container’s status.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"Up About a minute"</code></p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-images"><strong>images</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of images associated to the service.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-images-containername"><strong>ContainerName</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the conainer this image is used by.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-images-id"><strong>ID</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The image’s ID.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"sha256:c8bccc0af9571ec0d006a43acb5a8d08c4ce42b6cc7194dd6eb167976f501ef1"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-images-repository"><strong>Repository</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The repository where this image belongs to.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-images-size"><strong>Size</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The image’s size in bytes.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-docker-docker-compose-v2-module-return-images-tag"><strong>Tag</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The tag of the image.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> </div>
</td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Felix Fontein (@felixfontein)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.docker/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.docker" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://forum.ansible.com/tags/c/help/6/none/docker" rel="noopener external" target="_blank">Ask for help (Docker)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://forum.ansible.com/tags/c/help/6/none/docker-compose" rel="noopener external" target="_blank">Ask for help (Docker Compose)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://forum.ansible.com/tags/c/help/6/none/docker-swarm" rel="noopener external" target="_blank">Ask for help (Docker Swarm)</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.docker/issues/new?assignees=&amp;labels=&amp;template=bug_report.md" rel="noopener external" target="_blank">Submit a bug report</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.docker/issues/new?assignees=&amp;labels=&amp;template=feature_request.md" rel="noopener external" target="_blank">Request a feature</a></span></li> <li><span><a class="reference internal" href="index.html#communication-for-community-docker"><span class="std std-ref">Communication</span></a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/docker/docker_compose_v2_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/docker/docker_compose_v2_module.html</a>
  </p>
</div>
