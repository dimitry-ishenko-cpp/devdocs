<section id="community-windows-win-pssession-configuration-module-manage-pssession-configurations"> <h1>community.windows.win_pssession_configuration module – Manage PSSession Configurations</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/windows/">community.windows collection</a> (version 2.3.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.windows</code>.</p> <p>To use it in a playbook, specify: <code>community.windows.win_pssession_configuration</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id4">See Also</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Register, unregister, and modify PSSession Configurations for PowerShell remoting.</li> </ul> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module has a corresponding <a class="reference internal" href="../../../plugins/action.html#action-plugins"><span class="std std-ref">action plugin</span></a>.</p> </div> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-access-mode"><strong>access_mode</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Controls whether the session configuration allows connection from the <code>local</code> machine only, both local and <code>remote</code>, or none (<code>disabled</code>).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"disabled"</code></li> <li><code>"local"</code></li> <li><code>"remote"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-alias-definitions"><strong>alias_definitions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A dict that defines aliases for each session.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-assemblies-to-load"><strong>assemblies_to_load</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The assemblies that should be loaded into each session.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-async-poll"><strong>async_poll</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sets a delay in seconds between each check of the asynchronous execution status.</p> <p>Replicates the functionality of the <code>poll</code> keyword.</p> <p>Has no effect in check mode.</p> <p><em>async_poll=0</em> is not supported.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>1</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-async-timeout"><strong>async_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sets a timeout for how long in seconds to wait for asynchronous module execution and waiting for the connection to recover.</p> <p>Replicates the functionality of the <code>async</code> keyword.</p> <p>Has no effect in check mode.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>300</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-author"><strong>author</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The author of the session configuration.</p> <p>This value is metadata and does not affect the functionality of the session configuration.</p> <p>If not set, a value may be generated automatically.</p> <p>See also <em>lenient_config_fields</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-company-name"><strong>company_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The company that authored the session configuration.</p> <p>This value is metadata and does not affect the functionality of the session configuration.</p> <p>If not set, a value may be generated automatically.</p> <p>See also <em>lenient_config_fields</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-copyright"><strong>copyright</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The copyright statement of the session configuration.</p> <p>This value is metadata and does not affect the functionality of the session configuration.</p> <p>If not set, a value may be generated automatically.</p> <p>See also <em>lenient_config_fields</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-description"><strong>description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The description of the session configuration.</p> <p>This value is metadata and does not affect the functionality of the session configuration.</p> <p>See also <em>lenient_config_fields</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-environment-variables"><strong>environment_variables</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A dict that defines environment variables for each session.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-execution-policy"><strong>execution_policy</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The execution policy controlling script execution in the PowerShell session.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"default"</code></li> <li><code>"remote_signed"</code></li> <li><code>"restricted"</code></li> <li><code>"undefined"</code></li> <li><code>"unrestricted"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-formats-to-process"><strong>formats_to_process</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Paths to format definition files to process for each session.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-function-definitions"><strong>function_definitions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A dict that defines functions for each session.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-group-managed-service-account"><strong>group_managed_service_account</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If the session will run as a group managed service account (gMSA) then this is the name.</p> <p>Do not use <em>run_as_credential_username</em> and <em>run_as_credential_password</em> to specify a gMSA.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-guid"><strong>guid</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The GUID (UUID) of the session configuration file.</p> <p>This value is metadata, so it only matters if you use it externally.</p> <p>If not set, a value will be generated automatically.</p> <p>Acceptable GUID formats are flexible. Any string of 32 hexadecimal digits will be accepted, with all hyphens <code>-</code> and opening/closing <code>{}</code> ignored.</p> <p>See also <em>lenient_config_fields</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-language-mode"><strong>language_mode</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Determines the language mode of the PowerShell session.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"no_language"</code></li> <li><code>"restricted_language"</code></li> <li><code>"constrained_language"</code></li> <li><code>"full_language"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-lenient-config-fields"><strong>lenient_config_fields</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Some fields used in the session configuration do not affect its function, and are sometimes auto-generated when not specified.</p> <p>To avoid unnecessarily changing the configuration on each run, the values of these options will only be enforced when they are explicitly specified.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>["guid", "author", "company_name", "copyright", "description"]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-maximum-received-data-size-per-command-mb"><strong>maximum_received_data_size_per_command_mb</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sets the maximum received data size per command in MB.</p> <p>Must fit into a double precision floating point value.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-maximum-received-object-size-mb"><strong>maximum_received_object_size_mb</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sets the maximum object size in MB.</p> <p>Must fit into a double precision floating point value.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-modules-to-import"><strong>modules_to_import</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of modules that should be imported into the session.</p> <p>Any valid PowerShell module spec can be used here, so simple str names or dicts can be used.</p> <p>If a dict is used, no snake_case conversion is done, so the original PowerShell names must be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-mount-user-drive"><strong>mount_user_drive</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If <code>yes</code> the session creates and mounts a user-specific PSDrive for use with file transfers.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the session configuration to manage.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-powershell-version"><strong>powershell_version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The minimum required PowerShell version for this session.</p> <p>Must be a valid .Net System.Version string.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-processor-architecure"><strong>processor_architecure</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The processor architecture of the session (32 bit vs. 64 bit).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"amd64"</code></li> <li><code>"x86"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-required-groups"><strong>required_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>For JEA sessions, defines conditional access rules about which groups a connecting user must belong to.</p> <p>For more information see <a class="reference external" href="https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/session-configurations#conditional-access-rules">https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/session-configurations#conditional-access-rules</a>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-role-definitions"><strong>role_definitions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A dict defining the roles for JEA sessions.</p> <p>For more information see <a class="reference external" href="https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/session-configurations#role-definitions">https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/session-configurations#role-definitions</a>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-run-as-credential-password"><strong>run_as_credential_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The password for <em>run_as_credential_username</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-run-as-credential-username"><strong>run_as_credential_username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Used to set a RunAs account for the session. All commands executed in the session will be run as this user.</p> <p>To use a gMSA, see <em>group_managed_service_account</em>.</p> <p>To use a virtual account, see <em>run_as_virtual_account</em> and <em>run_as_virtual_account_groups</em>.</p> <p>Status will always be <code>changed</code> when a RunAs credential is set because the password cannot be retrieved for comparison.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-run-as-virtual-account"><strong>run_as_virtual_account</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If <code>yes</code> the session runs as a virtual account.</p> <p>Do not use <em>run_as_credential_username</em> and <em>run_as_credential_password</em> to specify a virtual account.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-run-as-virtual-account-groups"><strong>run_as_virtual_account_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If <em>run_as_virtual_account=yes</em> this is a list of groups to add the virtual account to.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-schema-version"><strong>schema_version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The schema version of the session configuration file.</p> <p>If not set, a value will be generated automatically.</p> <p>Must be a valid .Net System.Version string.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-scripts-to-process"><strong>scripts_to_process</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of paths to script files ending in <code>.ps1</code> that should be applied to the session.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-security-descriptor-sddl"><strong>security_descriptor_sddl</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>An SDDL string that controls which users and groups can connect to the session.</p> <p>If <em>role_definitions</em> is specified the security descriptor will be set based on that.</p> <p>If this option is not specified the default security descriptor will be applied.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-session-type"><strong>session_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Controls what type of session this is.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"default"</code></li> <li><code>"empty"</code></li> <li><code>"restricted_remote_server"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-startup-script"><strong>startup_script</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A script that gets run on session startup.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The desired state of the configuration.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"present"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"absent"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-thread-apartment-state"><strong>thread_apartment_state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The apartment state for the PowerShell session.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"mta"</code></li> <li><code>"sta"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-thread-options"><strong>thread_options</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Sets thread options for the session.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"default"</code></li> <li><code>"reuse_thread"</code></li> <li><code>"use_current_thread"</code></li> <li><code>"use_new_thread"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-transcript-directory"><strong>transcript_directory</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Automatic session transcripts will be written to this directory.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-types-to-process"><strong>types_to_process</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Paths to type definition files to process for each session.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-use-shared-process"><strong>use_shared_process</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If <code>yes</code> then the session shares a process for each session.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-user-drive-maximum-size"><strong>user_drive_maximum_size</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The maximum size of the user drive in bytes.</p> <p>Must fit into an Int64.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-variable-definitions"><strong>variable_definitions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of dicts where each elements defines a variable for each session.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-visible-aliases"><strong>visible_aliases</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The aliases that can be used in the session.</p> <p>For more information see <a class="reference external" href="https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/role-capabilities">https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/role-capabilities</a>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-visible-cmdlets"><strong>visible_cmdlets</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The cmdlets that can be used in the session.</p> <p>The elements can be simple names or complex command specifications.</p> <p>For more information see <a class="reference external" href="https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/role-capabilities">https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/role-capabilities</a>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-visible-external-commands"><strong>visible_external_commands</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The external commands and scripts that can be used in the session.</p> <p>For more information see <a class="reference external" href="https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/role-capabilities">https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/role-capabilities</a>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-windows-win-pssession-configuration-module-parameter-visible-functions"><strong>visible_functions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=any</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The functions that can be used in the session.</p> <p>The elements can be simple names or complex command specifications.</p> <p>For more information see <a class="reference external" href="https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/role-capabilities">https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/role-capabilities</a>.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>This module will restart the WinRM service on any change. This will terminate all WinRM connections including those by other Ansible runs.</li> <li>Internally this module uses <code>async</code> when not in check mode to ensure things go smoothly when restarting the WinRM service.</li> <li>The standard <code>async</code> and <code>poll</code> keywords cannot be used; instead use the <em>async_timeout</em> and <em>async_poll</em> options to control asynchronous execution.</li> <li>Options that don’t list a default value here will use the defaults of <code>New-PSSessionConfigurationFile</code> and <code>Register-PSSessionConfiguration</code>.</li> <li>If a value can be specified in both a session config file and directly in the session options, this module will prefer the setting be in the config file.</li> </ul> </div> </section> <section id="see-also"> <h2>See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference external" href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/new-pssessionconfigurationfile">C(New-PSSessionConfigurationFile) Reference</a></dt>
<dd>
<p>Details and defaults for options that end up in the session configuration file.</p> </dd> <dt><a class="reference external" href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/register-pssessionconfiguration">C(Register-PSSessionConfiguration) Reference</a></dt>
<dd>
<p>Details and defaults for options that are not specified in the session config file.</p> </dd> <dt><a class="reference external" href="https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/overview">PowerShell Just Enough Administration (JEA)</a></dt>
<dd>
<p>Refer to the JEA documentation for advanced usage of some options</p> </dd> <dt><a class="reference external" href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_session_configurations">About Session Configurations</a></dt>
<dd>
<p>General information about session configurations.</p> </dd> <dt><a class="reference external" href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_session_configuration_files">About Session Configuration Files</a></dt>
<dd>
<p>General information about session configuration files.</p> </dd> </dl> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Register a session configuration that loads modules automatically
  community.windows.win_pssession_configuration:
    name: WebAdmin
    modules_to_import:
      - WebAdministration
      - IISAdministration
    description: This endpoint has IIS modules pre-loaded

- name: Set up an admin endpoint with a restricted execution policy
  community.windows.win_pssession_configuration:
    name: GloboCorp.Admin
    company_name: Globo Corp
    description: Admin Endpoint
    execution_policy: restricted

- name: Create a complex JEA endpoint
  community.windows.win_pssession_configuration:
    name: RBAC.Endpoint
    session_type: restricted_remote_server
    run_as_virtual_account: true
    transcript_directory: '\\server\share\Transcripts'
    language_mode: no_language
    execution_policy: restricted
    role_definitions:
      'CORP\IT Support':
        RoleCapabilities:
          - PasswordResetter
          - EmployeeOffboarder
      'CORP\Webhosts':
        RoleCapabilities: IISAdmin
    visible_functions:
      - tabexpansion2
      - help
    visible_cmdlets:
      - Get-Help
      - Name: Get-Service
        Parameters:
          - Name: DependentServices
          - Name: RequiredServices
          - Name: Name
            ValidateSet:
              - WinRM
              - W3SVC
              - WAS
    visible_aliases:
      - gsv
    state: present

- name: Remove a session configuration
  community.windows.win_pssession_configuration:
    name: UnusedEndpoint
    state: absent

- name: Set a sessions configuration with tweaked async values
  community.windows.win_pssession_configuration:
    name: MySession
    description: A sample session
    async_timeout: 500
    async_poll: 5
</pre> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Brian Scholer (@briantist)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.windows/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.windows" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a class="reference internal" href="index.html#communication-for-community-windows"><span class="std std-ref">Communication</span></a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/windows/win_pssession_configuration_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/windows/win_pssession_configuration_module.html</a>
  </p>
</div>
