<h1 id="community-windows-win-scheduled-task-stat-get-information-about-windows-scheduled-tasks">community.windows.win_scheduled_task_stat â€“ Get information about Windows Scheduled Tasks</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/windows">community.windows collection</a> (version 1.7.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.windows</code>.</p> <p>To use it in a playbook, specify: <code>community.windows.win_scheduled_task_stat</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#see-also" id="id3">See Also</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Will return whether the folder and task exists.</li> <li>Returns the names of tasks in the folder specified.</li> <li>Use <a class="reference internal" href="win_scheduled_task_module.html#ansible-collections-community-windows-win-scheduled-task-module"><span class="std std-ref">community.windows.win_scheduled_task</span></a> to configure a scheduled task.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The name of the scheduled task to get information for.</div> <div>If <code>name</code> is set and exists, will return information on the task itself.</div> </td> </tr> <tr> <td colspan="1">  <b>path</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"\\"</div> </td> <td> <div>The folder path where the task lives.</div> </td> </tr> </table> <br>  <h2 id="see-also">See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="win_scheduled_task_module.html#ansible-collections-community-windows-win-scheduled-task-module"><span class="std std-ref">community.windows.win_scheduled_task</span></a></dt>
<dd>
<p>The official documentation on the <strong>community.windows.win_scheduled_task</strong> module.</p> </dd> </dl> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Get information about a folder
  community.windows.win_scheduled_task_stat:
    path: \folder name
  register: task_folder_stat

- name: Get information about a task in the root folder
  community.windows.win_scheduled_task_stat:
    name: task name
  register: task_stat

- name: Get information about a task in a custom folder
  community.windows.win_scheduled_task_stat:
    path: \folder name
    name: task name
  register: task_stat
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="2">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="2">  <b>actions</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>name is specified and task exists</td> <td> <div>A list of actions.</div> <br> <div><b>Sample:</b></div> <div>[{'Arguments': '/c echo hi', 'Id': None, 'Path': 'cmd.exe', 'Type': 'TASK_ACTION_EXEC', 'WorkingDirectory': None}]</div> </td> </tr> <tr> <td colspan="2">  <b>folder_exists</b>  <div> <span>boolean</span> </div> </td> <td>always</td> <td> <div>Whether the folder set at path exists.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td colspan="2">  <b>folder_task_count</b>  <div> <span>integer</span> </div> </td> <td>always</td> <td> <div>The number of tasks that exist in the folder.</div> <br> <div><b>Sample:</b></div> <div>2</div> </td> </tr> <tr> <td colspan="2">  <b>folder_task_names</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>always</td> <td> <div>A list of tasks that exist in the folder.</div> <br> <div><b>Sample:</b></div> <div>['Task 1', 'Task 2']</div> </td> </tr> <tr> <td colspan="2">  <b>principal</b>  <div> <span>complex</span> </div> </td> <td>name is specified and task exists</td> <td> <div>Details on the principal configured to run the task.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>display_name</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The name of the user/group that is displayed in the Task Scheduler UI.</div> <br> <div><b>Sample:</b></div> <div>Administrator</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>group_id</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The group that will run the task.</div> <br> <div><b>Sample:</b></div> <div>BUILTIN\Administrators</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>id</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The ID for the principal.</div> <br> <div><b>Sample:</b></div> <div>Author</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>logon_type</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The logon method that the task will run with.</div> <br> <div><b>Sample:</b></div> <div>TASK_LOGON_INTERACTIVE_TOKEN</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>run_level</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The level of user rights used to run the task.</div> <br> <div><b>Sample:</b></div> <div>TASK_RUNLEVEL_LUA</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>user_id</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The user that will run the task.</div> <br> <div><b>Sample:</b></div> <div>SERVER\Administrator</div> </td> </tr> <tr> <td colspan="2">  <b>registration_info</b>  <div> <span>complex</span> </div> </td> <td>name is specified and task exists</td> <td> <div>Details on the task registration info.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>author</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The author os the task.</div> <br> <div><b>Sample:</b></div> <div>SERVER\Administrator</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>date</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The date when the task was register.</div> <br> <div><b>Sample:</b></div> <div>2017-01-01T10:00:00</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>description</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The description of the task.</div> <br> <div><b>Sample:</b></div> <div>task description</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>documentation</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The documentation of the task.</div> <br> <div><b>Sample:</b></div> <div>task documentation</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>security_descriptor</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The security descriptor of the task.</div> <br> <div><b>Sample:</b></div> <div>security descriptor</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>source</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The source of the task.</div> <br> <div><b>Sample:</b></div> <div>source</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>uri</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The URI/path of the task.</div> <br> <div><b>Sample:</b></div> <div>\task\task name</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>version</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The version of the task.</div> <br> <div><b>Sample:</b></div> <div>1.0</div> </td> </tr> <tr> <td colspan="2">  <b>settings</b>  <div> <span>complex</span> </div> </td> <td>name is specified and task exists</td> <td> <div>Details on the task settings.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>allow_demand_start</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task can be started by using either the Run command of the Context menu.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>allow_hard_terminate</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task can terminated by using TerminateProcess.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>compatibility</b>  <div> <span>integer</span> </div> </td> <td></td> <td> <div>The compatibility level of the task</div> <br> <div><b>Sample:</b></div> <div>2</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>delete_expired_task_after</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The amount of time the Task Scheduler will wait before deleting the task after it expires.</div> <br> <div><b>Sample:</b></div> <div>PT10M</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>disallow_start_if_on_batteries</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task will not be started if the computer is running on battery power.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>disallow_start_on_remote_app_session</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task will not be started when in a remote app session.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>enabled</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task is enabled.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>execution_time_limit</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The amount of time allowed to complete the task.</div> <br> <div><b>Sample:</b></div> <div>PT72H</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>hidden</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task is hidden in the UI.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>idle_settings</b>  <div> <span>dictionary</span> </div> </td> <td></td> <td> <div>The idle settings of the task.</div> <br> <div><b>Sample:</b></div> <div>{'idle_duration': 'PT10M', 'restart_on_idle': False, 'stop_on_idle_end': True, 'wait_timeout': 'PT1H'}</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>maintenance_settings</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The maintenance settings of the task.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>mulitple_instances</b>  <div> <span>integer</span> </div> </td> <td></td> <td> <div>Indicates the behaviour when starting a task that is already running.</div> <br> <div><b>Sample:</b></div> <div>2</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>network_settings</b>  <div> <span>dictionary</span> </div> </td> <td></td> <td> <div>The network settings of the task.</div> <br> <div><b>Sample:</b></div> <div>{'id': None, 'name': None}</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>priority</b>  <div> <span>integer</span> </div> </td> <td></td> <td> <div>The priority level of the task.</div> <br> <div><b>Sample:</b></div> <div>7</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>restart_count</b>  <div> <span>integer</span> </div> </td> <td></td> <td> <div>The number of times that the task will attempt to restart on failures.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>restart_interval</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>How long the Task Scheduler will attempt to restart the task.</div> <br> <div><b>Sample:</b></div> <div>PT15M</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>run_only_id_idle</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task will run if the computer is in an idle state.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>run_only_if_network_available</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task will run only when a network is available.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>start_when_available</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task can start at any time after its scheduled time has passed.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>stop_if_going_on_batteries</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task will be stopped if the computer begins to run on battery power.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>use_unified_scheduling_engine</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task will use the unified scheduling engine.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>volatile</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task is volatile.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>wake_to_run</b>  <div> <span>boolean</span> </div> </td> <td></td> <td> <div>Whether the task will wake the computer when it is time to run the task.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>state</b>  <div> <span>complex</span> </div> </td> <td>name is specified and task exists</td> <td> <div>Details on the state of the task</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>last_run_time</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The time the registered task was last run.</div> <br> <div><b>Sample:</b></div> <div>2017-09-20T20:50:00</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>last_task_result</b>  <div> <span>integer</span> </div> </td> <td></td> <td> <div>The results that were returned the last time the task was run.</div> <br> <div><b>Sample:</b></div> <div>267009</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>next_run_time</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The time when the task is next scheduled to run.</div> <br> <div><b>Sample:</b></div> <div>2017-09-20T22:50:00</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>number_of_missed_runs</b>  <div> <span>integer</span> </div> </td> <td></td> <td> <div>The number of times a task has missed a scheduled run.</div> <br> <div><b>Sample:</b></div> <div>1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>status</b>  <div> <span>string</span> </div> </td> <td></td> <td> <div>The status of the task, whether it is running, stopped, etc.</div> <br> <div><b>Sample:</b></div> <div>TASK_STATE_RUNNING</div> </td> </tr> <tr> <td colspan="2">  <b>task_exists</b>  <div> <span>boolean</span> </div> </td> <td>name is specified</td> <td> <div>Whether the task at the folder exists.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td colspan="2">  <b>triggers</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>name is specified and task exists</td> <td> <div>A list of triggers.</div> <br> <div><b>Sample:</b></div> <div>[{'delay': 'PT15M', 'enabled': True, 'end_boundary': None, 'execution_time_limit': None, 'id': None, 'repetition': {'duration': None, 'interval': None, 'stop_at_duration_end': False}, 'start_boundary': None, 'type': 'TASK_TRIGGER_BOOT'}, {'days_of_month': '5,15,30', 'enabled': True, 'end_boundary': None, 'execution_time_limit': None, 'id': None, 'months_of_year': 'june,december', 'random_delay': None, 'repetition': {'duration': None, 'interval': None, 'stop_at_duration_end': False}, 'run_on_last_day_of_month': True, 'start_boundary': '2017-09-20T03:44:38', 'type': 'TASK_TRIGGER_MONTHLY'}]</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Jordan Borean (@jborean93)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/windows/win_scheduled_task_stat_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/windows/win_scheduled_task_stat_module.html</a>
  </p>
</div>
