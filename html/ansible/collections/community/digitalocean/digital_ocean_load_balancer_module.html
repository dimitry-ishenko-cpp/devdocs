<section id="community-digitalocean-digital-ocean-load-balancer-module-manage-digitalocean-load-balancers"> <h1>community.digitalocean.digital_ocean_load_balancer module – Manage DigitalOcean Load Balancers</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/digitalocean/">community.digitalocean collection</a> (version 1.27.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.digitalocean</code>.</p> <p>To use it in a playbook, specify: <code>community.digitalocean.digital_ocean_load_balancer</code>.</p> </div> <p class="ansible-version-added">New in community.digitalocean 1.10.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id3">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id4">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Manage DigitalOcean Load Balancers</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-baseurl"><strong>baseurl</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>DigitalOcean API base url.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"https://api.digitalocean.com/v2"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-droplet-ids"><strong>droplet_ids</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>An array containing the IDs of the Droplets assigned to the load balancer.</p> <p>Required when creating load balancers.</p> <p>Mutually exclusive with tag, you can either define tag or droplet_ids but not both.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-enable-backend-keepalive"><strong>enable_backend_keepalive</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A boolean value indicating whether HTTP keepalive connections are maintained to target Droplets.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-enable-proxy-protocol"><strong>enable_proxy_protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A boolean value indicating whether PROXY Protocol is in use.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-forwarding-rules"><strong>forwarding_rules</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>An array of objects specifying the forwarding rules for a load balancer.</p> <p>Required when creating load balancers.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>[{"certificate_id": "", "entry_port": 8080, "entry_protocol": "http", "target_port": 8080, "target_protocol": "http", "tls_passthrough": false}]</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-forwarding-rules-certificate-id"><strong>certificate_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Certificate ID</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-forwarding-rules-entry-port"><strong>entry_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Entry port</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>8080</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-forwarding-rules-entry-protocol"><strong>entry_protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Entry protocol</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"http"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-forwarding-rules-target-port"><strong>target_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Target port</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>8080</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-forwarding-rules-target-protocol"><strong>target_protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Target protocol</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"http"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-forwarding-rules-tls-passthrough"><strong>tls_passthrough</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>TLS passthrough</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-health-check"><strong>health_check</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>An object specifying health check settings for the load balancer.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>{"check_interval_seconds": 10, "healthy_threshold": 5, "path": "/", "port": 80, "protocol": "http", "response_timeout_seconds": 5, "unhealthy_threshold": 3}</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-health-check-check-interval-seconds"><strong>check_interval_seconds</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Check interval seconds</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>10</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-health-check-healthy-threshold"><strong>healthy_threshold</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Healthy threshold</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>5</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-health-check-path"><strong>path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Path</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"/"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-health-check-port"><strong>port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Port</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>80</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-health-check-protocol"><strong>protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Protocol</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"http"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-health-check-response-timeout-seconds"><strong>response_timeout_seconds</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Response timeout seconds</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>5</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-health-check-unhealthy-threshold"><strong>unhealthy_threshold</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Unhealthy threshold</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>3</code></p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A human-readable name for a load balancer instance.</p> <p>Required and must be unique (current API documentation is not up-to-date for this parameter).</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-oauth-token"><strong id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-api-token">oauth_token</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: api_token</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>DigitalOcean OAuth token.</p> <p>There are several other environment variables which can be used to provide this value.</p> <p>i.e., - <code>DO_API_TOKEN</code>, <code>DO_API_KEY</code>, <code>DO_OAUTH_TOKEN</code> and <code>OAUTH_TOKEN</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-project-name"><strong id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-project">project_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: project</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Project to assign the resource to (project name, not UUID).</p> <p>Defaults to the default project of the account (empty string).</p> <p>Currently only supported when creating.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-redirect-http-to-https"><strong>redirect_http_to_https</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A boolean value indicating whether HTTP requests to the load balancer on port 80 will be redirected to HTTPS on port 443.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-region-id"><strong id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-region">region</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: region_id</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The slug identifier for the region where the resource will initially be available.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-size"><strong>size</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The size of the load balancer.</p> <p>The available sizes are <code>lb-small</code>, <code>lb-medium</code>, or <code>lb-large</code>.</p> <p>You can resize load balancers after creation up to once per hour.</p> <p>You cannot resize a load balancer within the first hour of its creation.</p> <p>This field has been replaced by the <code>size_unit</code> field for all regions except in <code>ams2</code>, <code>nyc2</code>, and <code>sfo1</code>.</p> <p>Each available load balancer size now equates to the load balancer having a set number of nodes.</p> <p>The formula is <code>lb-small</code> = 1 node, <code>lb-medium</code> = 3 nodes, <code>lb-large</code> = 6 nodes.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"lb-small"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"lb-medium"</code></li> <li><code>"lb-large"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-size-unit"><strong>size_unit</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>How many nodes the load balancer contains.</p> <p>Each additional node increases the load balancer’s ability to manage more connections.</p> <p>Load balancers can be scaled up or down, and you can change the number of nodes after creation up to once per hour.</p> <p>This field is currently not available in the <code>ams2</code>, <code>nyc2</code>, or <code>sfo1</code> regions.</p> <p>Use the <code>size</code> field to scale load balancers that reside in these regions.</p> <p>The value must be in the range 1-100.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>1</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The usual, <code>present</code> to create, <code>absent</code> to destroy</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"present"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"absent"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-sticky-sessions"><strong>sticky_sessions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>An object specifying sticky sessions settings for the load balancer.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>{"type": "none"}</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-sticky-sessions-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Type</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"none"</code></p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-tag"><strong>tag</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A tag associated with the droplets that you want to dynamically assign to the load balancer.</p> <p>Required when creating load balancers.</p> <p>Mutually exclusive with droplet_ids, you can either define tag or droplet_ids but not both.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-timeout"><strong>timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The timeout in seconds used for polling DigitalOcean’s API.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>30</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If set to <code>no</code>, the SSL certificates will not be validated.</p> <p>This should only set to <code>no</code> used on personally controlled sites using self-signed certificates.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-vpc-uuid"><strong>vpc_uuid</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A string specifying the UUID of the VPC to which the load balancer is assigned.</p> <p>If unspecified, uses the default VPC in the region.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-wait"><strong>wait</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Wait for the Load Balancer to be running before returning.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-parameter-wait-timeout"><strong>wait_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>How long before wait gives up, in seconds, when creating a Load Balancer.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>600</code></p> </div></td> </tr>  </table> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Create a Load Balancer
  community.digitalocean.digital_ocean_load_balancer:
    state: present
    name: test-loadbalancer-1
    droplet_ids:
      - 12345678
    region: nyc1
    forwarding_rules:
      - entry_protocol: http
        entry_port: 8080
        target_protocol: http
        target_port: 8080
        certificate_id: ""
        tls_passthrough: false

- name: Create a Load Balancer (and assign to Project "test")
  community.digitalocean.digital_ocean_load_balancer:
    state: present
    name: test-loadbalancer-1
    droplet_ids:
      - 12345678
    region: nyc1
    forwarding_rules:
      - entry_protocol: http
        entry_port: 8080
        target_protocol: http
        target_port: 8080
        certificate_id: ""
        tls_passthrough: false
    project: test

- name: Create a Load Balancer and associate it with a tag
  community.digitalocean.digital_ocean_load_balancer:
    state: present
    name: test-loadbalancer-1
    tag: test-tag
    region: tor1
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-return-assign-status"><strong>assign_status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Assignment status (ok, not_found, assigned, already_assigned, service_down)</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"assigned"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-return-data"><strong>data</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A DigitalOcean Load Balancer</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"load_balancer": {"algorithm": "round_robin", "created_at": "2021-08-22T14:23:41Z", "droplet_ids": [261172461], "enable_backend_keepalive": false, "enable_proxy_protocol": false, "forwarding_rules": [{"certificate_id": "", "entry_port": 8080, "entry_protocol": "http", "target_port": 8080, "target_protocol": "http", "tls_passthrough": false}], "health_check": {"check_interval_seconds": 10, "healthy_threshold": 5, "path": "/", "port": 80, "protocol": "http", "response_timeout_seconds": 5, "unhealthy_threshold": 3}, "id": "b4fdb507-70e8-4325-a89e-d02271b93618", "ip": "159.203.150.113", "name": "test-loadbalancer-1", "redirect_http_to_https": false, "region": {"available": true, "features": ["backups", "ipv6", "metadata", "install_agent", "storage", "image_transfer"], "name": "New York 3", "sizes": ["s-1vcpu-1gb", "s-1vcpu-1gb-amd", "s-1vcpu-1gb-intel", "s-1vcpu-2gb", "s-1vcpu-2gb-amd", "s-1vcpu-2gb-intel", "s-2vcpu-2gb", "s-2vcpu-2gb-amd", "s-2vcpu-2gb-intel", "s-2vcpu-4gb", "s-2vcpu-4gb-amd", "s-2vcpu-4gb-intel", "s-4vcpu-8gb", "c-2", "c2-2vcpu-4gb", "s-4vcpu-8gb-amd", "s-4vcpu-8gb-intel", "g-2vcpu-8gb", "gd-2vcpu-8gb", "s-8vcpu-16gb", "m-2vcpu-16gb", "c-4", "c2-4vcpu-8gb", "s-8vcpu-16gb-amd", "s-8vcpu-16gb-intel", "m3-2vcpu-16gb", "g-4vcpu-16gb", "so-2vcpu-16gb", "m6-2vcpu-16gb", "gd-4vcpu-16gb", "so1_5-2vcpu-16gb", "m-4vcpu-32gb", "c-8", "c2-8vcpu-16gb", "m3-4vcpu-32gb", "g-8vcpu-32gb", "so-4vcpu-32gb", "m6-4vcpu-32gb", "gd-8vcpu-32gb", "so1_5-4vcpu-32gb", "m-8vcpu-64gb", "c-16", "c2-16vcpu-32gb", "m3-8vcpu-64gb", "g-16vcpu-64gb", "so-8vcpu-64gb", "m6-8vcpu-64gb", "gd-16vcpu-64gb", "so1_5-8vcpu-64gb", "m-16vcpu-128gb", "c-32", "c2-32vcpu-64gb", "m3-16vcpu-128gb", "m-24vcpu-192gb", "g-32vcpu-128gb", "so-16vcpu-128gb", "m6-16vcpu-128gb", "gd-32vcpu-128gb", "m3-24vcpu-192gb", "g-40vcpu-160gb", "so1_5-16vcpu-128gb", "m-32vcpu-256gb", "gd-40vcpu-160gb", "so-24vcpu-192gb", "m6-24vcpu-192gb", "m3-32vcpu-256gb", "so1_5-24vcpu-192gb", "m6-32vcpu-256gb"], "slug": "nyc3"}, "size": "lb-small", "status": "active", "sticky_sessions": {"type": "none"}, "tag": "", "vpc_uuid": "b8fd9a58-d93d-4329-b54a-78a397d64855"}}</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-return-msg"><strong>msg</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Informational or error message encountered during execution</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"No project named test2 found"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-digitalocean-digital-ocean-load-balancer-module-return-resources"><strong>resources</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Resource assignment involved in project assignment</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"assigned_at": "2021-10-25T17:39:38Z", "links": {"self": "https://api.digitalocean.com/v2/load_balancers/17d171d0-8a8b-4251-9c18-c96cc515d36d"}, "status": "assigned", "urn": "do:loadbalancer:17d171d0-8a8b-4251-9c18-c96cc515d36d"}</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Mark Mercado (@mamercad)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.digitalocean/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.digitalocean" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/digitalocean/digital_ocean_load_balancer_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/digitalocean/digital_ocean_load_balancer_module.html</a>
  </p>
</div>
