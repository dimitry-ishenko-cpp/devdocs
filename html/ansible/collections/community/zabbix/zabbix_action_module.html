<section id="community-zabbix-zabbix-action-module-create-delete-update-zabbix-actions"> <h1>community.zabbix.zabbix_action module – Create/Delete/Update Zabbix actions</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/zabbix/">community.zabbix collection</a> (version 2.5.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.zabbix</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-community-zabbix-zabbix-action-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>community.zabbix.zabbix_action</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>This module allows you to create, modify and delete Zabbix actions.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-community-zabbix-zabbix-action-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 3.9</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations">acknowledge_operations</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: update_operations</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of acknowledge operations.</p> <p>Action acknowledge operations are known as update operations since Zabbix 4.0.</p> <p><code>Suboptions</code> are the same as for <em>operations</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>[]</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-command"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-command">command</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Command to run.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-command-type"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-command-type">command_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Type of operation command.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"custom_script"</code></li> <li><code>"ipmi"</code></li> <li><code>"ssh"</code></li> <li><code>"telnet"</code></li> <li><code>"global_script"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-execute-on"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-execute-on">execute_on</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Target on which the custom script operation command will be executed.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"agent"</code></li> <li><code>"server"</code></li> <li><code>"proxy"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-media-type"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-media-type">media_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Media type that will be used to send the message.</p> <p>Can be used with <em>type=send_message</em> or <em>type=notify_all_involved</em> inside <em>acknowledge_operations</em>.</p> <p>Set to <code>all</code> for all media types</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"all"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-op-message"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-op-message">op_message</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Operation message text.</p> <p>If <em>op_message</em> and <em>subject</em> not defined then “default message” from media type will be used</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-password"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-password">password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Password used for authentication.</p> <p>Required when <em>ssh_auth_type=password</em> or <em>command_type=telnet</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-port"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-port">port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Port number used for authentication.</p> <p>Can be used when <em>command_type in [ssh, telnet]</em> and <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-run-on-groups"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-run-on-groups">run_on_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Host groups to run remote commands on.</p> <p>Required when <em>type=remote_command</em> and <em>run_on_hosts</em> is not set.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-run-on-hosts"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-run-on-hosts">run_on_hosts</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Hosts to run remote commands on.</p> <p>Required when <em>type=remote_command</em> and <em>run_on_groups</em> is not set.</p> <p>If set to 0 the command will be run on the current host.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-script-name"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-script-name">script_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The name of script used for global script commands.</p> <p>Required when <em>command_type=global_script</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-send-to-groups"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-send-to-groups">send_to_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>User groups to send messages to.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-send-to-users"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-send-to-users">send_to_users</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Users (usernames or aliases) to send messages to.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-ssh-auth-type"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-ssh-auth-type">ssh_auth_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Authentication method used for SSH commands.</p> <p>Required when <em>type=remote_command</em> and <em>command_type=ssh</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"password"</code></li> <li><code>"public_key"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-ssh-privatekey-file"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-ssh-privatekey-file">ssh_privatekey_file</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the private key file used for SSH commands with public key authentication.</p> <p>Required when <em>ssh_auth_type=public_key</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-ssh-publickey-file"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-ssh-publickey-file">ssh_publickey_file</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the public key file used for SSH commands with public key authentication.</p> <p>Required when <em>ssh_auth_type=public_key</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-subject"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-subject">subject</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Operation message subject.</p> <p>If <em>op_message</em> and <em>subject</em> not defined then “default message” from media type will be used</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-type"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-type">type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Type of operation.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"send_message"</code></li> <li><code>"remote_command"</code></li> <li><code>"notify_all_involved"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-update-operations-username"><strong id="ansible-collections-community-zabbix-zabbix-action-module-parameter-acknowledge-operations-username">username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>User name used for authentication.</p> <p>Required when <em>ssh_auth_type in [public_key, password]</em> or <em>command_type=telnet</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-conditions"><strong>conditions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of conditions to use for filtering results.</p> <p>For more information about suboptions of this option please check out Zabbix API documentation <a class="reference external" href="https://www.zabbix.com/documentation/5.0/manual/api/reference/action/object#action_filter_condition">https://www.zabbix.com/documentation/5.0/manual/api/reference/action/object#action_filter_condition</a></p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>[]</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-conditions-formulaid"><strong>formulaid</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Arbitrary unique ID that is used to reference the condition from a custom expression.</p> <p>Can only contain upper-case letters.</p> <p>Required for custom expression filters and ignored otherwise.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-conditions-operator"><strong>operator</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Condition operator.</p> <p>When <em>type</em> is set to <code>time_period</code>, the choices are <code>in</code>, <code>not in</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"equals"</code></li> <li><code>"="</code></li> <li><code>"does not equal"</code></li> <li><code>"&lt;&gt;"</code></li> <li><code>"contains"</code></li> <li><code>"like"</code></li> <li><code>"does not contain"</code></li> <li><code>"not like"</code></li> <li><code>"in"</code></li> <li><code>"is greater than or equals"</code></li> <li><code>"&gt;="</code></li> <li><code>"is less than or equals"</code></li> <li><code>"&lt;="</code></li> <li><code>"not in"</code></li> <li><code>"matches"</code></li> <li><code>"does not match"</code></li> <li><code>"Yes"</code></li> <li><code>"No"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-conditions-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Type (label) of the condition.</p> <p>Possible values when <em>event_source=trigger</em>:</p> <ul class="simple"> <li><code>host_group</code></li> <li><code>host</code></li> <li><code>trigger</code></li> <li><code>trigger_name</code></li> <li><code>trigger_severity</code></li> <li><code>time_period</code></li> <li><code>host_template</code></li> <li>
<code>maintenance_status</code> known in Zabbix 4.0 and above as ‘Problem is suppressed’</li> <li><code>event_tag</code></li> <li><code>event_tag_value</code></li> </ul> <p>Possible values when <em>event_source=discovery</em>:</p> <ul class="simple"> <li><code>host_IP</code></li> <li><code>discovered_service_type</code></li> <li><code>discovered_service_port</code></li> <li><code>discovery_status</code></li> <li><code>uptime_or_downtime_duration</code></li> <li><code>received_value</code></li> <li><code>discovery_rule</code></li> <li><code>discovery_check</code></li> <li><code>proxy</code></li> <li><code>discovery_object</code></li> </ul> <p>Possible values when <em>event_source=auto_registration</em>:</p> <ul class="simple"> <li><code>proxy</code></li> <li><code>host_name</code></li> <li><code>host_metadata</code></li> </ul> <p>Possible values when <em>event_source=internal</em>:</p> <ul class="simple"> <li><code>host_group</code></li> <li><code>host</code></li> <li><code>host_template</code></li> <li><code>event_type</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-conditions-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Value to compare with.</p> <p>When <em>type=discovery_status</em>, the choices are:</p> <ul class="simple"> <li><code>up</code></li> <li><code>down</code></li> <li><code>discovered</code></li> <li><code>lost</code></li> </ul> <p>When <em>type=discovery_object</em>, the choices are:</p> <ul class="simple"> <li><code>host</code></li> <li><code>service</code></li> </ul> <p>When <em>type=event_type</em>, the choices are:</p> <ul class="simple"> <li><code>item in not supported state</code></li> <li><code>item in normal state</code></li> <li><code>LLD rule in not supported state</code></li> <li><code>LLD rule in normal state</code></li> <li><code>trigger in unknown state</code></li> <li><code>trigger in normal state</code></li> </ul> <p>When <em>type=trigger_severity</em>, the choices are (case-insensitive):</p> <ul class="simple"> <li><code>not classified</code></li> <li><code>information</code></li> <li><code>warning</code></li> <li><code>average</code></li> <li><code>high</code></li> <li><code>disaster</code></li> </ul> <p>Irrespective of user-visible names being changed in Zabbix. Defaults to <code>not classified</code> if omitted.</p> <p>Besides the above options, this is usually either the name of the object or a string to compare with.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-conditions-value2"><strong>value2</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Secondary value to compare with.</p> <p>Required for trigger actions when condition <em>type=event_tag_value</em>.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-esc-period"><strong>esc_period</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Default operation step duration. Must be greater than 60 seconds.</p> <p>Accepts seconds, time unit with suffix and user macro since =&gt; Zabbix 3.4</p> <p>Required when <code>state=present</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-eval-type"><strong>eval_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Filter condition evaluation method.</p> <p>Defaults to <code>andor</code> if conditions are less then 2 or if <em>formula</em> is not specified.</p> <p>Defaults to <code>custom_expression</code> when formula is specified.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"andor"</code></li> <li><code>"and"</code></li> <li><code>"or"</code></li> <li><code>"custom_expression"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-event-source"><strong>event_source</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Type of events that the action will handle.</p> <p>Required when <code>state=present</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"trigger"</code></li> <li><code>"discovery"</code></li> <li><code>"auto_registration"</code></li> <li><code>"internal"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-formula"><strong>formula</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>User-defined expression to be used for evaluating conditions with a custom expression.</p> <p>The expression must contain IDs that reference each condition by its formulaid.</p> <p>The IDs used in the expression must exactly match the ones defined in the <em>conditions</em>. No condition can remain unused or omitted.</p> <p>Required when <em>eval_type=custom_expression</em>.</p> <p>Use sequential IDs that start at “A”. If non-sequential IDs are used, Zabbix re-indexes them. This makes each module run notice the difference in IDs and update the action.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-http-login-password"><strong>http_login_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Basic Auth password</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-http-login-user"><strong>http_login_user</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Basic Auth login</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Name of the action</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-notify-if-canceled"><strong>notify_if_canceled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Weather to notify when escalation is canceled.</p> <p>Can be used when <em>event_source=trigger</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations"><strong>operations</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of action operations</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>[]</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-command"><strong>command</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Command to run.</p> <p>Required when <em>type=remote_command</em> and <em>command_type!=global_script</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-command-type"><strong>command_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Type of operation command.</p> <p>Required when <em>type=remote_command</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"custom_script"</code></li> <li><code>"ipmi"</code></li> <li><code>"ssh"</code></li> <li><code>"telnet"</code></li> <li><code>"global_script"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-esc-period"><strong>esc_period</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Duration of an escalation step in seconds.</p> <p>Must be greater than 60 seconds.</p> <p>Accepts seconds, time unit with suffix and user macro.</p> <p>If set to 0 or 0s, the default action escalation period will be used.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"0s"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-esc-step-from"><strong>esc_step_from</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Step to start escalation from.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>1</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-esc-step-to"><strong>esc_step_to</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Step to end escalation at.</p> <p>Specify 0 for infinitely.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>1</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-execute-on"><strong>execute_on</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Target on which the custom script operation command will be executed.</p> <p>Required when <em>type=remote_command</em> and <em>command_type=custom_script</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"agent"</code></li> <li><code>"server"</code></li> <li><code>"proxy"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-host-groups"><strong>host_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>List of host groups host should be added to.</p> <p>Required when <em>type=add_to_host_group</em> or <em>type=remove_from_host_group</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-inventory"><strong>inventory</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Host inventory mode.</p> <p>Required when <em>type=set_host_inventory_mode</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"manual"</code></li> <li><code>"automatic"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-media-type"><strong>media_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Media type that will be used to send the message.</p> <p>Can be used with <em>type=send_message</em> or <em>type=notify_all_involved</em> inside <em>acknowledge_operations</em>.</p> <p>Set to <code>all</code> for all media types</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"all"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-op-message"><strong>op_message</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Operation message text.</p> <p>If <em>op_message</em> and <em>subject</em> not defined then “default message” from media type will be used</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-operation-condition"><strong>operation_condition</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The action operation condition object defines a condition that must be met to perform the current operation.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"acknowledged"</code></li> <li><code>"not_acknowledged"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-password"><strong>password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Password used for authentication.</p> <p>Required when <em>ssh_auth_type=password</em> or <em>command_type=telnet</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-port"><strong>port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Port number used for authentication.</p> <p>Can be used when <em>command_type in [ssh, telnet]</em> and <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-run-on-groups"><strong>run_on_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Host groups to run remote commands on.</p> <p>Required when <em>type=remote_command</em> and <em>run_on_hosts</em> is not set.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-run-on-hosts"><strong>run_on_hosts</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Hosts to run remote commands on.</p> <p>Required when <em>type=remote_command</em> and <em>run_on_groups</em> is not set.</p> <p>If set to 0 the command will be run on the current host.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-script-name"><strong>script_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The name of script used for global script commands.</p> <p>Required when <em>command_type=global_script</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-send-to-groups"><strong>send_to_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>User groups to send messages to.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-send-to-users"><strong>send_to_users</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Users (usernames or aliases) to send messages to.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-ssh-auth-type"><strong>ssh_auth_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Authentication method used for SSH commands.</p> <p>Required when <em>type=remote_command</em> and <em>command_type=ssh</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"password"</code></li> <li><code>"public_key"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-ssh-privatekey-file"><strong>ssh_privatekey_file</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the private key file used for SSH commands with public key authentication.</p> <p>Required when <em>ssh_auth_type=public_key</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-ssh-publickey-file"><strong>ssh_publickey_file</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the public key file used for SSH commands with public key authentication.</p> <p>Required when <em>ssh_auth_type=public_key</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-subject"><strong>subject</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Operation message subject.</p> <p>If <em>op_message</em> and <em>subject</em> not defined then “default message” from media type will be used</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-templates"><strong>templates</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>List of templates host should be linked to.</p> <p>Required when <em>type=link_to_template</em> or <em>type=unlink_from_template</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Type of operation.</p> <p>Valid choices when setting type for <em>recovery_operations</em> and <em>acknowledge_operations</em>:</p> <ul class="simple"> <li><code>send_message</code></li> <li><code>remote_command</code></li> <li><code>notify_all_involved</code></li> </ul> <p>Choice <code>notify_all_involved</code> only supported in <em>recovery_operations</em> and <em>acknowledge_operations</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"send_message"</code></li> <li><code>"remote_command"</code></li> <li><code>"add_host"</code></li> <li><code>"remove_host"</code></li> <li><code>"add_to_host_group"</code></li> <li><code>"remove_from_host_group"</code></li> <li><code>"link_to_template"</code></li> <li><code>"unlink_from_template"</code></li> <li><code>"enable_host"</code></li> <li><code>"disable_host"</code></li> <li><code>"set_host_inventory_mode"</code></li> <li><code>"notify_all_involved"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-operations-username"><strong>username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>User name used for authentication.</p> <p>Required when <em>ssh_auth_type in [public_key, password]</em> or <em>command_type=telnet</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-pause-in-maintenance"><strong>pause_in_maintenance</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to pause escalation during maintenance periods or not.</p> <p>Can be used when <em>event_source=trigger</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-pause-symptoms"><strong>pause_symptoms</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to pause escalation if event is a symptom event.</p> <p><em>supported</em> if <code>event_source</code> is set to <code>trigger</code></p> <p>Works only with &gt;= Zabbix 6.4</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations"><strong>recovery_operations</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of recovery operations.</p> <p><code>Suboptions</code> are the same as for <em>operations</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>[]</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-command"><strong>command</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Command to run.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-command-type"><strong>command_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Type of operation command.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"custom_script"</code></li> <li><code>"ipmi"</code></li> <li><code>"ssh"</code></li> <li><code>"telnet"</code></li> <li><code>"global_script"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-execute-on"><strong>execute_on</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Target on which the custom script operation command will be executed.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"agent"</code></li> <li><code>"server"</code></li> <li><code>"proxy"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-media-type"><strong>media_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Media type that will be used to send the message.</p> <p>Can be used with <em>type=send_message</em> or <em>type=notify_all_involved</em> inside <em>acknowledge_operations</em>.</p> <p>Set to <code>all</code> for all media types</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"all"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-op-message"><strong>op_message</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Operation message text.</p> <p>If <em>op_message</em> and <em>subject</em> not defined then “default message” from media type will be used</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-password"><strong>password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Password used for authentication.</p> <p>Required when <em>ssh_auth_type=password</em> or <em>command_type=telnet</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-port"><strong>port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Port number used for authentication.</p> <p>Can be used when <em>command_type in [ssh, telnet]</em> and <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-run-on-groups"><strong>run_on_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Host groups to run remote commands on.</p> <p>Required when <em>type=remote_command</em> and <em>run_on_hosts</em> is not set.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-run-on-hosts"><strong>run_on_hosts</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Hosts to run remote commands on.</p> <p>Required when <em>type=remote_command</em> and <em>run_on_groups</em> is not set.</p> <p>If set to 0 the command will be run on the current host.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-script-name"><strong>script_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The name of script used for global script commands.</p> <p>Required when <em>command_type=global_script</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-send-to-groups"><strong>send_to_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>User groups to send messages to.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-send-to-users"><strong>send_to_users</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Users (usernames or aliases) to send messages to.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-ssh-auth-type"><strong>ssh_auth_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Authentication method used for SSH commands.</p> <p>Required when <em>type=remote_command</em> and <em>command_type=ssh</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"password"</code></li> <li><code>"public_key"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-ssh-privatekey-file"><strong>ssh_privatekey_file</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the private key file used for SSH commands with public key authentication.</p> <p>Required when <em>ssh_auth_type=public_key</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-ssh-publickey-file"><strong>ssh_publickey_file</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the public key file used for SSH commands with public key authentication.</p> <p>Required when <em>ssh_auth_type=public_key</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-subject"><strong>subject</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Operation message subject.</p> <p>If <em>op_message</em> and <em>subject</em> not defined then “default message” from media type will be used</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Type of operation.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"send_message"</code></li> <li><code>"remote_command"</code></li> <li><code>"notify_all_involved"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-recovery-operations-username"><strong>username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>User name used for authentication.</p> <p>Required when <em>ssh_auth_type in [public_key, password]</em> or <em>command_type=telnet</em>.</p> <p>Can be used when <em>type=remote_command</em>.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>State of the action.</p> <p>On <code>present</code>, it will create an action if it does not exist or update the action if the associated data is different.</p> <p>On <code>absent</code>, it will remove the action if it exists.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"present"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"absent"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-parameter-status"><strong>status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Status of the action.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"enabled"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"disabled"</code></li> </ul> </div></td> </tr>  </table> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja"># If you want to use Username and Password to be authenticated by Zabbix Server
- name: Set credentials to access Zabbix Server API
  ansible.builtin.set_fact:
    ansible_user: Admin
    ansible_httpapi_pass: zabbix

# If you want to use API token to be authenticated by Zabbix Server
# https://www.zabbix.com/documentation/current/en/manual/web_interface/frontend_sections/administration/general#api-tokens
- name: Set API token
  ansible.builtin.set_fact:
    ansible_zabbix_auth_key: 8ec0d52432c15c91fcafe9888500cf9a607f44091ab554dbee860f6b44fac895

# Trigger action with only one condition
- name: Deploy trigger action
  # set task level variables as we change ansible_connection plugin here
  vars:
    ansible_network_os: community.zabbix.zabbix
    ansible_connection: httpapi
    ansible_httpapi_port: 443
    ansible_httpapi_use_ssl: true
    ansible_httpapi_validate_certs: false
    ansible_zabbix_url_path: "zabbixeu"  # If Zabbix WebUI runs on non-default (zabbix) path ,e.g. http://&lt;FQDN&gt;/zabbixeu
    ansible_host: zabbix-example-fqdn.org
  community.zabbix.zabbix_action:
    name: "Send alerts to Admin"
    event_source: "trigger"
    state: present
    status: enabled
    esc_period: 60
    conditions:
      - type: "trigger_severity"
        operator: "&gt;="
        value: "Information"
    operations:
      - type: send_message
        subject: "Something bad is happening"
        op_message: "Come on, guys do something"
        media_type: "Email"
        send_to_users:
          - "Admin"

# Trigger action with multiple conditions and operations
- name: Deploy trigger action
  # set task level  variables as we change ansible_connection plugin here
  vars:
    ansible_network_os: community.zabbix.zabbix
    ansible_connection: httpapi
    ansible_httpapi_port: 443
    ansible_httpapi_use_ssl: true
    ansible_httpapi_validate_certs: false
    ansible_zabbix_url_path: "zabbixeu"  # If Zabbix WebUI runs on non-default (zabbix) path ,e.g. http://&lt;FQDN&gt;/zabbixeu
    ansible_host: zabbix-example-fqdn.org
  community.zabbix.zabbix_action:
    name: "Send alerts to Admin"
    event_source: "trigger"
    state: present
    status: enabled
    esc_period: 1m
    conditions:
      - type: "trigger_name"
        operator: "like"
        value: "Zabbix agent is unreachable"
        formulaid: A
      - type: "trigger_severity"
        operator: "&gt;="
        value: "disaster"
        formulaid: B
    formula: A or B
    operations:
      - type: send_message
        media_type: "Email"
        send_to_users:
          - "Admin"
      - type: remote_command
        command: "systemctl restart zabbix-agent"
        command_type: custom_script
        execute_on: server
        run_on_hosts:
          - 0

# Trigger action with recovery and acknowledge operations
- name: Deploy trigger action
  # set task level variables as we change ansible_connection plugin here
  vars:
    ansible_network_os: community.zabbix.zabbix
    ansible_connection: httpapi
    ansible_httpapi_port: 443
    ansible_httpapi_use_ssl: true
    ansible_httpapi_validate_certs: false
    ansible_zabbix_url_path: "zabbixeu"  # If Zabbix WebUI runs on non-default (zabbix) path ,e.g. http://&lt;FQDN&gt;/zabbixeu
    ansible_host: zabbix-example-fqdn.org
  community.zabbix.zabbix_action:
    name: "Send alerts to Admin"
    event_source: "trigger"
    state: present
    status: enabled
    esc_period: 1h
    conditions:
      - type: "trigger_severity"
        operator: "&gt;="
        value: "Information"
    operations:
      - type: send_message
        subject: "Something bad is happening"
        op_message: "Come on, guys do something"
        media_type: "Email"
        send_to_users:
          - "Admin"
    recovery_operations:
      - type: send_message
        subject: "Host is down"
        op_message: "Come on, guys do something"
        media_type: "Email"
        send_to_users:
          - "Admin"
    acknowledge_operations:
      - type: send_message
        media_type: "Email"
        send_to_users:
          - "Admin"
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-action-module-return-msg"><strong>msg</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The result of the operation</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"Action Deleted: Register webservers, ID: 0001"</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Ruben Tsirunyan (@rubentsirunyan)</li> <li>Ruben Harutyunov (@K-DOT)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.zabbix/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.zabbix" rel="noopener external" target="_blank">Homepage</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.zabbix.git" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_action_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_action_module.html</a>
  </p>
</div>
