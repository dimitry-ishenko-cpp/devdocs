<section id="community-zabbix-zabbix-host-module-create-update-delete-zabbix-hosts"> <h1>community.zabbix.zabbix_host module – Create/update/delete Zabbix hosts</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/zabbix/">community.zabbix collection</a> (version 2.5.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.zabbix</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-community-zabbix-zabbix-host-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>community.zabbix.zabbix_host</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>This module allows you to create, modify and delete Zabbix host entries and associated group and template data.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-community-zabbix-zabbix-host-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 3.9</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-tls-issuer"><strong id="ansible-collections-community-zabbix-zabbix-host-module-parameter-ca-cert">ca_cert</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: tls_issuer</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Required certificate issuer.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-description"><strong>description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Description of the host in Zabbix.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-force"><strong>force</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Overwrite the host configuration, even if already present.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-host-groups"><strong>host_groups</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of host groups the host is part of.</p> <p>Make sure the Zabbix user used for Ansible can read these groups.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-host-name"><strong>host_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Name of the host in Zabbix.</p> <p><em>host_name</em> is the unique identifier used and cannot be updated using this module.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-http-login-password"><strong>http_login_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Basic Auth password</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-http-login-user"><strong>http_login_user</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Basic Auth login</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces"><strong>interfaces</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of interfaces to be created for the host (see example below).</p> <p>For more information, review host interface documentation at</p> <p><a class="reference external" href="https://www.zabbix.com/documentation/current/en/manual/api/reference/hostinterface/object#host-interface">https://www.zabbix.com/documentation/current/en/manual/api/reference/hostinterface/object#host-interface</a></p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>[]</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details"><strong>details</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Additional details for SNMP host interfaces.</p> <p>Required when <em>type=”snmp”</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>{}</code></p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details-authpassphrase"><strong>authpassphrase</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>SNMPv3 authentication passphrase.</p> <p>Used when <em>securitylevel=1</em>(authNoPriv) or <em>securitylevel=2</em>(AuthPriv).</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details-authprotocol"><strong>authprotocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>SNMPv3 authentication protocol.</p> <p>Used when <em>securitylevel=1</em>(authNoPriv) or <em>securitylevel=2</em>(AuthPriv).</p> <p>Variants 2,3,4,5 are supported only on Zabbix 5.4 or greater</p> <p>0 (MD5), 1 (SHA1), 2 (SHA224), 3 (SHA256), 4 (SHA384), 5 (SHA512)</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>0</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>1</code></li> <li><code>2</code></li> <li><code>3</code></li> <li><code>4</code></li> <li><code>5</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details-bulk"><strong>bulk</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Whether to use bulk SNMP requests.</p> <p>0 (don’t use bulk requests), 1 (use bulk requests)</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>0</code></li> <li>
<code><strong>1</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details-community"><strong>community</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>SNMPv1 and SNMPv2 community string.</p> <p>Required when <em>version=1</em> or <em>version=2</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details-contextname"><strong>contextname</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>SNMPv3 context name.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details-privpassphrase"><strong>privpassphrase</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>SNMPv3 privacy passphrase.</p> <p>Used when <em>securitylevel=2</em>(AuthPriv).</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details-privprotocol"><strong>privprotocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>SNMPv3 privacy protocol.</p> <p>Used when <em>securitylevel=2</em>(authPriv).</p> <p>Variants 2,3,4,5 are supported only on Zabbix 5.4 or greater</p> <p>0 (DES), 1 (AES128), 2 (AES192), 3 (AES256), 4 (AES192C), 5 (AES256C)</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>0</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>1</code></li> <li><code>2</code></li> <li><code>3</code></li> <li><code>4</code></li> <li><code>5</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details-securitylevel"><strong>securitylevel</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>SNMPv3 security level.</p> <p>0 (noAuthNoPriv), 1 (authNoPriv), 2 (authPriv).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>0</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>1</code></li> <li><code>2</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details-securityname"><strong>securityname</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>SNMPv3 security name.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-details-version"><strong>version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>SNMP version.</p> <p>1 (SNMPv1), 2 (SNMPv2c), 3 (SNMPv3)</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>1</code></li> <li>
<code><strong>2</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>3</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-dns"><strong>dns</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>DNS name of the host interface.</p> <p>Required if <em>useip=0</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-ip"><strong>ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>IP address used by host interface.</p> <p>Required if <em>useip=1</em>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-main"><strong>main</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Whether the interface is used as default.</p> <p>If multiple interfaces with the same type are provided, only one can be default.</p> <p>0 (not default), 1 (default)</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>0</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>1</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-port"><strong>port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Port used by host interface.</p> <p>If not specified, default port for each type of interface is used</p> <p>10050 if <em>type=”agent”</em></p> <p>161 if <em>type=”snmp”</em></p> <p>623 if <em>type=”ipmi”</em></p> <p>12345 if <em>type=”jmx”</em></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Interface type to add</p> <p>Numerical values are also accepted for interface type</p> <p>1 = agent</p> <p>2 = snmp</p> <p>3 = ipmi</p> <p>4 = jmx</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"agent"</code></li> <li><code>"1"</code></li> <li><code>"snmp"</code></li> <li><code>"2"</code></li> <li><code>"ipmi"</code></li> <li><code>"3"</code></li> <li><code>"jmx"</code></li> <li><code>"4"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-interfaces-useip"><strong>useip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Connect to host interface with IP address instead of DNS name.</p> <p>0 (don’t use ip), 1 (use ip)</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>0</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>1</code></li> </ul> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-inventory-mode"><strong>inventory_mode</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Configure the inventory mode.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"automatic"</code></li> <li><code>"manual"</code></li> <li><code>"disabled"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-inventory-zabbix"><strong>inventory_zabbix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Add Facts for a zabbix inventory (e.g. Tag) (see example below).</p> <p>Please review the interface documentation for more information on the supported properties</p> <p><a class="reference external" href="https://www.zabbix.com/documentation/current/en/manual/api/reference/host/object#host-inventory">https://www.zabbix.com/documentation/current/en/manual/api/reference/host/object#host-inventory</a></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-ipmi-authtype"><strong>ipmi_authtype</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>IPMI authentication algorithm.</p> <p>Please review the Host object documentation for more information on the supported properties</p> <p><a class="reference external" href="https://www.zabbix.com/documentation/3.4/manual/api/reference/host/object">https://www.zabbix.com/documentation/3.4/manual/api/reference/host/object</a></p> <p>Possible values are, <code>0</code> (none), <code>1</code> (MD2), <code>2</code> (MD5), <code>4</code> (straight), <code>5</code> (OEM), <code>6</code> (RMCP+), with -1 being the API default.</p> <p>Please note that the Zabbix API will treat absent settings as default when updating any of the <em>ipmi_</em>-options; this means that if you attempt to set any of the four options individually, the rest will be reset to default values.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-ipmi-password"><strong>ipmi_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>IPMI password.</p> <p>also see the last note in the <em>ipmi_authtype</em> documentation</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-ipmi-privilege"><strong>ipmi_privilege</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>IPMI privilege level.</p> <p>Please review the Host object documentation for more information on the supported properties</p> <p><a class="reference external" href="https://www.zabbix.com/documentation/3.4/manual/api/reference/host/object">https://www.zabbix.com/documentation/3.4/manual/api/reference/host/object</a></p> <p>Possible values are <code>1</code> (callback), <code>2</code> (user), <code>3</code> (operator), <code>4</code> (admin), <code>5</code> (OEM), with <code>2</code> being the API default.</p> <p>also see the last note in the <em>ipmi_authtype</em> documentation</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-ipmi-username"><strong>ipmi_username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>IPMI username.</p> <p>also see the last note in the <em>ipmi_authtype</em> documentation</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-link-templates"><strong>link_templates</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of templates linked to the host.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-user-macros"><strong id="ansible-collections-community-zabbix-zabbix-host-module-parameter-macros">macros</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: user_macros</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of user macros to assign to the zabbix host.</p> <p>Providing <em>macros=[]</em> with <em>force=yes</em> will clean all of the existing user macros from the host.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-user-macros-description"><strong id="ansible-collections-community-zabbix-zabbix-host-module-parameter-macros-description">description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Description of the user macro.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-user-macros-macro"><strong id="ansible-collections-community-zabbix-zabbix-host-module-parameter-macros-macro">macro</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the user macro.</p> <p>Can be in zabbix native format “{$MACRO}” or short format “MACRO”.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-user-macros-type"><strong id="ansible-collections-community-zabbix-zabbix-host-module-parameter-macros-type">type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Type of the macro.</p> <p>Since value is not returned by API for secret macros, there is no reliable way to detect changes in the content of secret macro value.</p> <p>To update secret macro value, please update description alongside it so it passes the check.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"text"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"secret"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-user-macros-value"><strong id="ansible-collections-community-zabbix-zabbix-host-module-parameter-macros-value">value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Value of the user macro.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-proxy"><strong>proxy</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the Zabbix proxy to be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>State of the host.</p> <p>On <code>present</code>, it will create if host does not exist or update the host if the associated data is different.</p> <p>On <code>absent</code> will remove a host if it exists.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"present"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"absent"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-status"><strong>status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Monitoring status of the host.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"enabled"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"disabled"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-tags"><strong id="ansible-collections-community-zabbix-zabbix-host-module-parameter-host-tags">tags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: host_tags</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>List of host tags to assign to the zabbix host.</p> <p>Providing <em>tags=[]</em> with <em>force=yes</em> will clean all of the tags from the host.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-tags-tag"><strong id="ansible-collections-community-zabbix-zabbix-host-module-parameter-host-tags-tag">tag</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Name of the host tag.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-tags-value"><strong id="ansible-collections-community-zabbix-zabbix-host-module-parameter-host-tags-value">value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Value of the host tag.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>""</code></p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-tls-accept"><strong>tls_accept</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies what types of connections are allowed for incoming connections.</p> <p>The tls_accept parameter accepts values of 1 to 7</p> <p>Possible values, 1 (no encryption), 2 (PSK), 4 (certificate).</p> <p>Values can be combined.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-tls-connect"><strong>tls_connect</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies what encryption to use for outgoing connections.</p> <p>Possible values, 1 (no encryption), 2 (PSK), 4 (certificate).</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-tls-psk"><strong>tls_psk</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>PSK value is a hard to guess string of hexadecimal digits.</p> <p>The preshared key, at least 32 hex digits. Required if either <em>tls_connect</em> or <em>tls_accept</em> has PSK enabled.</p> <p>Using this parameter makes this module non-idempotent.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-tls-psk-identity"><strong>tls_psk_identity</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>It is a unique name by which this specific PSK is referred to by Zabbix components</p> <p>Do not put sensitive information in the PSK identity string, it is transmitted over the network unencrypted.</p> <p>Works only with &gt;= Zabbix 3.0</p> <p>Using this parameter with Zabbix &gt;= 5.4 makes this module non-idempotent.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-tls-subject"><strong>tls_subject</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Required certificate subject.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-zabbix-zabbix-host-module-parameter-visible-name"><strong>visible_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Visible name of the host in Zabbix.</p> </div></td> </tr>  </table> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja"># If you want to use Username and Password to be authenticated by Zabbix Server
- name: Set credentials to access Zabbix Server API
  ansible.builtin.set_fact:
    ansible_user: Admin
    ansible_httpapi_pass: zabbix

# If you want to use API token to be authenticated by Zabbix Server
# https://www.zabbix.com/documentation/current/en/manual/web_interface/frontend_sections/administration/general#api-tokens
- name: Set API token
  ansible.builtin.set_fact:
    ansible_zabbix_auth_key: 8ec0d52432c15c91fcafe9888500cf9a607f44091ab554dbee860f6b44fac895

- name: Create a new host or rewrite an existing host's info
# Set task level following variables for Zabbix Server host in task
  vars:
    ansible_network_os: community.zabbix.zabbix
    ansible_connection: httpapi
    ansible_httpapi_port: 443
    ansible_httpapi_use_ssl: true
    ansible_httpapi_validate_certs: false
    ansible_zabbix_url_path: "zabbixeu"  # If Zabbix WebUI runs on non-default (zabbix) path ,e.g. http://&lt;FQDN&gt;/zabbixeu
  become: false
  delegate_to: zabbix-example-fqdn.org# you can use delegate_to or task level ansible_host like next example
  community.zabbix.zabbix_host:
    host_name: ExampleHost
    visible_name: ExampleName
    description: My ExampleHost Description
    host_groups:
      - Example group1
      - Example group2
    link_templates:
      - Example template1
      - Example template2
    status: enabled
    state: present
    inventory_mode: manual
    inventory_zabbix:
      tag: "{{ your_tag }}"
      alias: "{{ your_alias }}"
      notes: "Special Informations: {{ your_informations | default('None') }}"
      location: "{{ your_location }}"
      site_rack: "{{ your_site_rack }}"
      os: "{{ your_os }}"
      hardware: "{{ your_hardware }}"
    ipmi_authtype: 2
    ipmi_privilege: 4
    ipmi_username: username
    ipmi_password: password
    interfaces:
      - type: 1
        main: 1
        useip: 1
        ip: 10.xx.xx.xx
        dns: ""
        port: "10050"
      - type: 4
        main: 1
        useip: 1
        ip: 10.xx.xx.xx
        dns: ""
        port: "12345"
    proxy: a.zabbix.proxy
    macros:
      - macro: "{$EXAMPLEMACRO}"
        value: ExampleMacroValue
      - macro: EXAMPLEMACRO2
        value: ExampleMacroValue2
        description: Example desc that work only with Zabbix 4.4 and higher
    tags:
      - tag: ExampleHostsTag
      - tag: ExampleHostsTag2
        value: ExampleTagValue

- name: Update an existing host's TLS settings
# Set current task level variables for Zabbix Server host in task
  vars:
    ansible_network_os: community.zabbix.zabbix
    ansible_connection: httpapi
    ansible_httpapi_port: 443
    ansible_httpapi_use_ssl: true
    ansible_httpapi_validate_certs: false
    ansible_zabbix_url_path: "zabbixeu"  # If Zabbix WebUI runs on non-default (zabbix) path ,e.g. http://&lt;FQDN&gt;/zabbixeu
    ansible_host: zabbix-example-fqdn.org # you can use task level ansible_host or delegate_to like in previous example
  become: false
  community.zabbix.zabbix_host:
    host_name: ExampleHost
    visible_name: ExampleName
    host_groups:
      - Example group1
    tls_psk_identity: test
    tls_connect: 2
    tls_psk: 123456789abcdef123456789abcdef12
    force: false
</pre> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Cove (@cove)</li> <li>Tony Minfei Ding</li> <li>Harrison Gu (@harrisongu)</li> <li>Werner Dijkerman (@dj-wasabi)</li> <li>Eike Frost (@eikef)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.zabbix/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.zabbix" rel="noopener external" target="_blank">Homepage</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.zabbix.git" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/zabbix/zabbix_host_module.html</a>
  </p>
</div>
