<h1 id="community-crypto-x509-crl-info-retrieve-information-on-certificate-revocation-lists-crls">community.crypto.x509_crl_info – Retrieve information on Certificate Revocation Lists (CRLs)</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/crypto">community.crypto collection</a> (version 1.9.6).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.crypto</code>.</p> <p>To use it in a playbook, specify: <code>community.crypto.x509_crl_info</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.0: </span>of community.crypto</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id5">See Also</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id7">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module allows one to retrieve information on Certificate Revocation Lists (CRLs).</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>cryptography &gt;= 1.2</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>content</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Content of the X.509 CRL in PEM format, or Base64-encoded X.509 CRL.</div> <div>Either <em>path</em> or <em>content</em> must be specified, but not both.</div> </td> </tr> <tr> <td colspan="1">  <b>list_revoked_certificates</b>  <div> <span>boolean</span> </div> <div> added in 1.7.0 of community.crypto </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If set to <code>false</code>, the list of revoked certificates is not included in the result.</div> <div>This is useful when retrieving information on large CRL files. Enumerating all revoked certificates can take some time, including serializing the result as JSON, sending it to the Ansible controller, and decoding it again.</div> </td> </tr> <tr> <td colspan="1">  <b>path</b>  <div> <span>path</span> </div> </td> <td> </td> <td> <div>Remote absolute path where the generated CRL file should be created or is already located.</div> <div>Either <em>path</em> or <em>content</em> must be specified, but not both.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>All timestamp values are provided in ASN.1 TIME format, in other words, following the <code>YYYYMMDDHHMMSSZ</code> pattern. They are all in UTC.</li> <li>Supports <code>check_mode</code>.</li> </ul> </div>   <h2 id="see-also">See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="x509_crl_module.html#ansible-collections-community-crypto-x509-crl-module"><span class="std std-ref">community.crypto.x509_crl</span></a></dt>
<dd>
<p>The official documentation on the <strong>community.crypto.x509_crl</strong> module.</p> </dd> </dl> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Get information on CRL
  community.crypto.x509_crl_info:
    path: /etc/ssl/my-ca.crl
  register: result

- name: Print the information
  ansible.builtin.debug:
    msg: "{{ result }}"

- name: Get information on CRL without list of revoked certificates
  community.crypto.x509_crl_info:
    path: /etc/ssl/very-large.crl
    list_revoked_certificates: false
  register: result
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="2">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="2">  <b>digest</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The signature algorithm used to sign the CRL.</div> <br> <div><b>Sample:</b></div> <div>sha256WithRSAEncryption</div> </td> </tr> <tr> <td colspan="2">  <b>format</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Whether the CRL is in PEM format (<code>pem</code>) or in DER format (<code>der</code>).</div> <br> <div><b>Sample:</b></div> <div>pem</div> </td> </tr> <tr> <td colspan="2">  <b>issuer</b>  <div> <span>dictionary</span> </div> </td> <td>success</td> <td> <div>The CRL's issuer.</div> <div>Note that for repeated values, only the last one will be returned.</div> <br> <div><b>Sample:</b></div> <div>{"organizationName": "Ansible", "commonName": "ca.example.com"}</div> </td> </tr> <tr> <td colspan="2">  <b>issuer_ordered</b>  <div> <span>list</span> / <span>elements=list</span> </div> </td> <td>success</td> <td> <div>The CRL's issuer as an ordered list of tuples.</div> <br> <div><b>Sample:</b></div> <div>[["organizationName", "Ansible"], ["commonName": "ca.example.com"]]</div> </td> </tr> <tr> <td colspan="2">  <b>last_update</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The point in time from which this CRL can be trusted as ASN.1 TIME.</div> <br> <div><b>Sample:</b></div> <div>20190413202428Z</div> </td> </tr> <tr> <td colspan="2">  <b>next_update</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The point in time from which a new CRL will be issued and the client has to check for it as ASN.1 TIME.</div> <br> <div><b>Sample:</b></div> <div>20190413202428Z</div> </td> </tr> <tr> <td colspan="2">  <b>revoked_certificates</b>  <div> <span>list</span> / <span>elements=dictionary</span> </div> </td> <td>success if <em>list_revoked_certificates=true</em>
</td> <td> <div>List of certificates to be revoked.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>invalidity_date</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The point in time it was known/suspected that the private key was compromised or that the certificate otherwise became invalid as ASN.1 TIME.</div> <br> <div><b>Sample:</b></div> <div>20190413202428Z</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>invalidity_date_critical</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Whether the invalidity date extension is critical.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>issuer</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>success</td> <td> <div>The certificate's issuer.</div> <br> <div><b>Sample:</b></div> <div>["DNS:ca.example.org"]</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>issuer_critical</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Whether the certificate issuer extension is critical.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>reason</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The value for the revocation reason extension.</div> <div>One of <code>unspecified</code>, <code>key_compromise</code>, <code>ca_compromise</code>, <code>affiliation_changed</code>, <code>superseded</code>, <code>cessation_of_operation</code>, <code>certificate_hold</code>, <code>privilege_withdrawn</code>, <code>aa_compromise</code>, and <code>remove_from_crl</code>.</div> <br> <div><b>Sample:</b></div> <div>key_compromise</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>reason_critical</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Whether the revocation reason extension is critical.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>revocation_date</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The point in time the certificate was revoked as ASN.1 TIME.</div> <br> <div><b>Sample:</b></div> <div>20190413202428Z</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>serial_number</b>  <div> <span>integer</span> </div> </td> <td>success</td> <td> <div>Serial number of the certificate.</div> <br> <div><b>Sample:</b></div> <div>1234</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Felix Fontein (@felixfontein)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/crypto/x509_crl_info_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/crypto/x509_crl_info_module.html</a>
  </p>
</div>
