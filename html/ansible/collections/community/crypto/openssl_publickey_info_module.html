<h1 id="community-crypto-openssl-publickey-info-provide-information-for-openssl-public-keys">community.crypto.openssl_publickey_info – Provide information for OpenSSL public keys</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/crypto">community.crypto collection</a> (version 1.9.6).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.crypto</code>.</p> <p>To use it in a playbook, specify: <code>community.crypto.openssl_publickey_info</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.7.0: </span>of community.crypto</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id5">See Also</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id7">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module allows one to query information on OpenSSL public keys.</li> <li>It uses the pyOpenSSL or cryptography python library to interact with OpenSSL. If both the cryptography and PyOpenSSL libraries are available (and meet the minimum version requirements) cryptography will be preferred as a backend over PyOpenSSL (unless the backend is forced with <code>select_crypto_backend</code>). Please note that the PyOpenSSL backend was deprecated in Ansible 2.9 and will be removed in community.crypto 2.0.0.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>PyOpenSSL &gt;= 0.15 or cryptography &gt;= 1.2.3</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>content</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Content of the public key file.</div> <div>Either <em>path</em> or <em>content</em> must be specified, but not both.</div> </td> </tr> <tr> <td colspan="1">  <b>path</b>  <div> <span>path</span> </div> </td> <td> </td> <td> <div>Remote absolute path where the public key file is loaded from.</div> </td> </tr> <tr> <td colspan="1">  <b>select_crypto_backend</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>auto</b> ←</div></li> <li>cryptography</li> <li>pyopenssl</li> </ul> </td> <td> <div>Determines which crypto backend to use.</div> <div>The default choice is <code>auto</code>, which tries to use <code>cryptography</code> if available, and falls back to <code>pyopenssl</code>.</div> <div>If set to <code>pyopenssl</code>, will try to use the <a href="https://pypi.org/project/pyOpenSSL/">pyOpenSSL</a> library.</div> <div>If set to <code>cryptography</code>, will try to use the <a href="https://cryptography.io/">cryptography</a> library.</div> <div>Please note that the <code>pyopenssl</code> backend has been deprecated in Ansible 2.9, and will be removed in community.crypto 2.0.0. From that point on, only the <code>cryptography</code> backend will be available.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Supports <code>check_mode</code>.</li> </ul> </div>   <h2 id="see-also">See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="openssl_publickey_module.html#ansible-collections-community-crypto-openssl-publickey-module"><span class="std std-ref">community.crypto.openssl_publickey</span></a></dt>
<dd>
<p>The official documentation on the <strong>community.crypto.openssl_publickey</strong> module.</p> </dd> <dt><a class="reference internal" href="openssl_privatekey_info_module.html#ansible-collections-community-crypto-openssl-privatekey-info-module"><span class="std std-ref">community.crypto.openssl_privatekey_info</span></a></dt>
<dd>
<p>The official documentation on the <strong>community.crypto.openssl_privatekey_info</strong> module.</p> </dd> </dl> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Generate an OpenSSL private key with the default values (4096 bits, RSA)
  community.crypto.openssl_privatekey:
    path: /etc/ssl/private/ansible.com.pem

- name: Create public key from private key
  community.crypto.openssl_privatekey:
    privatekey_path: /etc/ssl/private/ansible.com.pem
    path: /etc/ssl/ansible.com.pub

- name: Get information on public key
  community.crypto.openssl_publickey_info:
    path: /etc/ssl/ansible.com.pub
  register: result

- name: Dump information
  ansible.builtin.debug:
    var: result
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="2">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="2">  <b>fingerprints</b>  <div> <span>dictionary</span> </div> </td> <td>success</td> <td> <div>Fingerprints of public key.</div> <div>For every hash algorithm available, the fingerprint is computed.</div> <br> <div><b>Sample:</b></div> <div>{'sha256': 'd4:b3:aa:6d:c8:04:ce:4e:ba:f6:29:4d:92:a3:94:b0:c2:ff:bd:bf:33:63:11:43:34:0f:51:b0:95:09:2f:63', 'sha512': 'f7:07:4a:f0:b0:f0:e6:8b:95:5f:f9:e6:61:0a:32:68:f1...</div> </td> </tr> <tr> <td colspan="2">  <b>public_data</b>  <div> <span>dictionary</span> </div> </td> <td>success</td> <td> <div>Public key data. Depends on key type.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>curve</b>  <div> <span>string</span> </div> </td> <td>When <code>type=ECC</code>
</td> <td> <div>The curve's name for ECC.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>exponent</b>  <div> <span>integer</span> </div> </td> <td>When <code>type=RSA</code>
</td> <td> <div>The RSA key's public exponent.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>exponent_size</b>  <div> <span>integer</span> </div> </td> <td>When <code>type=ECC</code>
</td> <td> <div>The maximum number of bits of a private key. This is basically the bit size of the subgroup used.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>g</b>  <div> <span>integer</span> </div> </td> <td>When <code>type=DSA</code>
</td> <td> <div>The <code>g</code> value for DSA.</div> <div>This is the element spanning the subgroup of the multiplicative group of the prime field used.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>modulus</b>  <div> <span>integer</span> </div> </td> <td>When <code>type=RSA</code>
</td> <td> <div>The RSA key's modulus.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>p</b>  <div> <span>integer</span> </div> </td> <td>When <code>type=DSA</code>
</td> <td> <div>The <code>p</code> value for DSA.</div> <div>This is the prime modulus upon which arithmetic takes place.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>q</b>  <div> <span>integer</span> </div> </td> <td>When <code>type=DSA</code>
</td> <td> <div>The <code>q</code> value for DSA.</div> <div>This is a prime that divides <code>p - 1</code>, and at the same time the order of the subgroup of the multiplicative group of the prime field used.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>size</b>  <div> <span>integer</span> </div> </td> <td>When <code>type=RSA</code> or <code>type=DSA</code>
</td> <td> <div>Bit size of modulus (RSA) or prime number (DSA).</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>x</b>  <div> <span>integer</span> </div> </td> <td>When <code>type=ECC</code>
</td> <td> <div>The <code>x</code> coordinate for the public point on the elliptic curve.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>y</b>  <div> <span>integer</span> </div> </td> <td>When <code>type=DSA</code> or <code>type=ECC</code>
</td> <td> <div>For <code>type=ECC</code>, this is the <code>y</code> coordinate for the public point on the elliptic curve.</div> <div>For <code>type=DSA</code>, this is the publicly known group element whose discrete logarithm w.r.t. <code>g</code> is the private key.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>type</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The key's type.</div> <div>One of <code>RSA</code>, <code>DSA</code>, <code>ECC</code>, <code>Ed25519</code>, <code>X25519</code>, <code>Ed448</code>, or <code>X448</code>.</div> <div>Will start with <code>unknown</code> if the key type cannot be determined.</div> <br> <div><b>Sample:</b></div> <div>RSA</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Felix Fontein (@felixfontein)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/crypto/openssl_publickey_info_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/crypto/openssl_publickey_info_module.html</a>
  </p>
</div>
