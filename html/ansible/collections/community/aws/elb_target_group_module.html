<section id="community-aws-elb-target-group-module-manage-a-target-group-for-an-application-or-network-load-balancer"> <h1>community.aws.elb_target_group module – Manage a target group for an Application or Network load balancer</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/aws/">community.aws collection</a> (version 8.0.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.aws</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-community-aws-elb-target-group-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>community.aws.elb_target_group</code>.</p> </div> <p class="ansible-version-added">New in community.aws 1.0.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Manage an AWS Elastic Load Balancer target group. See <a class="reference external" href="https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-target-groups.html">https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-target-groups.html</a> or <a class="reference external" href="https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-target-groups.html">https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-target-groups.html</a> for details.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-community-aws-elb-target-group-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 3.6</li> <li>boto3 &gt;= 1.26.0</li> <li>botocore &gt;= 1.29.0</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell">    
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-ec2-access-key"><strong id="ansible-collections-community-aws-elb-target-group-module-parameter-access-key">access_key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_access_key_id, aws_access_key, ec2_access_key</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>AWS access key ID.</p> <p>See the AWS documentation for more information about access tokens <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>.</p> <p>The <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_ACCESS_KEY</code> or <code>EC2_ACCESS_KEY</code> environment variables may also be used in decreasing order of preference.</p> <p>The <em>aws_access_key</em> and <em>profile</em> options are mutually exclusive.</p> <p>The <em>aws_access_key_id</em> alias was added in release 5.1.0 for consistency with the AWS botocore SDK.</p> <p>The <em>ec2_access_key</em> alias has been deprecated and will be removed in a release after 2024-12-01.</p> <p>Support for the <code>EC2_ACCESS_KEY</code> environment variable has been deprecated and will be removed in a release after 2024-12-01.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-aws-ca-bundle"><strong>aws_ca_bundle</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The location of a CA Bundle to use when validating SSL certificates.</p> <p>The <code>AWS_CA_BUNDLE</code> environment variable may also be used.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-aws-config"><strong>aws_config</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A dictionary to modify the botocore configuration.</p> <p>Parameters can be found in the AWS documentation <a class="reference external" href="https://botocore.amazonaws.com/v1/documentation/api/latest/reference/config.html#botocore.config.Config">https://botocore.amazonaws.com/v1/documentation/api/latest/reference/config.html#botocore.config.Config</a>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-debug-botocore-endpoint-logs"><strong>debug_botocore_endpoint_logs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Use a <code>botocore.endpoint</code> logger to parse the unique (rather than total) <code>"resource:action"</code> API calls made during a task, outputing the set to the resource_actions key in the task results. Use the <code>aws_resource_action</code> callback to output to total list made during a playbook.</p> <p>The <code>ANSIBLE_DEBUG_BOTOCORE_LOGS</code> environment variable may also be used.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-deregistration-connection-termination"><strong>deregistration_connection_termination</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.aws 3.1.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Indicates whether the load balancer terminates connections at the end of the deregistration timeout.</p> <p>Using this option is only supported when attaching to a Network Load Balancer (NLB).</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-deregistration-delay-timeout"><strong>deregistration_delay_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The amount time for Elastic Load Balancing to wait before changing the state of a deregistering target from draining to unused. The range is 0-3600 seconds.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">    
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-s3-url"><strong id="ansible-collections-community-aws-elb-target-group-module-parameter-aws-endpoint-url">endpoint_url</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: ec2_url, aws_endpoint_url, s3_url</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>URL to connect to instead of the default AWS endpoints. While this can be used to connection to other AWS-compatible services the amazon.aws and community.aws collections are only tested against AWS.</p> <p>The <code>AWS_URL</code> or <code>EC2_URL</code> environment variables may also be used, in decreasing order of preference.</p> <p>The <em>ec2_url</em> and <em>s3_url</em> aliases have been deprecated and will be removed in a release after 2024-12-01.</p> <p>Support for the <code>EC2_URL</code> environment variable has been deprecated and will be removed in a release after 2024-12-01.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-health-check-interval"><strong>health_check_interval</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The approximate amount of time, in seconds, between health checks of an individual target.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-health-check-path"><strong>health_check_path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The ping path that is the destination on the targets for health checks. The path must be defined in order to set a health check.</p> <p>Requires the <em>health_check_protocol</em> parameter to be set.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-health-check-port"><strong>health_check_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The port the load balancer uses when performing health checks on targets. Can be set to ‘traffic-port’ to match target port.</p> <p>When not defined will default to the port on which each target receives traffic from the load balancer.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-health-check-protocol"><strong>health_check_protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The protocol the load balancer uses when performing health checks on targets.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"http"</code></li> <li><code>"https"</code></li> <li><code>"tcp"</code></li> <li><code>"tls"</code></li> <li><code>"udp"</code></li> <li><code>"tcp_udp"</code></li> <li><code>"HTTP"</code></li> <li><code>"HTTPS"</code></li> <li><code>"TCP"</code></li> <li><code>"TLS"</code></li> <li><code>"UDP"</code></li> <li><code>"TCP_UDP"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-health-check-timeout"><strong>health_check_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The amount of time, in seconds, during which no response from a target means a failed health check.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-healthy-threshold-count"><strong>healthy_threshold_count</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The number of consecutive health checks successes required before considering an unhealthy target healthy.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-load-balancing-algorithm-type"><strong>load_balancing_algorithm_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in community.aws 3.2.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>The type of load balancing algorithm to use.</p> <p>Changing the load balancing algorithm is only supported when used with Application Load Balancers (ALB).</p> <p>If not set AWS will default to <code>round_robin</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"round_robin"</code></li> <li><code>"least_outstanding_requests"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-modify-targets"><strong>modify_targets</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether or not to alter existing targets in the group to match what is passed with the module</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the target group.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-port"><strong>port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The port on which the targets receive traffic. This port is used unless you specify a port override when registering the target.</p> <p>Required when <em>state</em> is <code>present</code> and <em>target_type</em> is <code>instance</code>, <code>ip</code>, or <code>alb</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-preserve-client-ip-enabled"><strong>preserve_client_ip_enabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.aws 2.1.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Indicates whether client IP preservation is enabled.</p> <p>The default is disabled if the target group type is <code>ip</code> address and the target group protocol is <code>tcp</code> or <code>tls</code>. Otherwise, the default is enabled. Client IP preservation cannot be disabled for <code>udp</code> and <code>tcp_udp</code> target groups.</p> <p><em>preserve_client_ip_enabled</em> is supported only by Network Load Balancers.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-profile"><strong id="ansible-collections-community-aws-elb-target-group-module-parameter-aws-profile">profile</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_profile</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A named AWS profile to use for authentication.</p> <p>See the AWS documentation for more information about named profiles <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html">https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html</a>.</p> <p>The <code>AWS_PROFILE</code> environment variable may also be used.</p> <p>The <em>profile</em> option is mutually exclusive with the <em>aws_access_key</em>, <em>aws_secret_key</em> and <em>security_token</em> options.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-protocol"><strong>protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The protocol to use for routing traffic to the targets.</p> <p>Required when <em>state</em> is <code>present</code> and <em>target_type</em> is <code>instance</code>, <code>ip</code>, or <code>alb</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"http"</code></li> <li><code>"https"</code></li> <li><code>"tcp"</code></li> <li><code>"tls"</code></li> <li><code>"udp"</code></li> <li><code>"tcp_udp"</code></li> <li><code>"HTTP"</code></li> <li><code>"HTTPS"</code></li> <li><code>"TCP"</code></li> <li><code>"TLS"</code></li> <li><code>"UDP"</code></li> <li><code>"TCP_UDP"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-protocol-version"><strong>protocol_version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in community.aws 5.1.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies protocol version.</p> <p>The protocol_version parameter is immutable and cannot be changed when updating an elb_target_group.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"GRPC"</code></li> <li><code>"HTTP1"</code></li> <li><code>"HTTP2"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-proxy-protocol-v2-enabled"><strong>proxy_protocol_v2_enabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.aws 2.1.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Indicates whether Proxy Protocol version 2 is enabled.</p> <p>The value is <code>true</code> or <code>false</code>.</p> <p><em>proxy_protocol_v2_enabled</em> is supported only by Network Load Balancers.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-purge-tags"><strong>purge_tags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If <em>purge_tags=true</em> and <em>tags</em> is set, existing tags will be purged from the resource to match exactly what is defined by <em>tags</em> parameter.</p> <p>If the <em>tags</em> parameter is not set then tags will not be modified, even if <em>purge_tags=True</em>.</p> <p>Tag keys beginning with <code>aws:</code> are reserved by Amazon and can not be modified. As such they will be ignored for the purposes of the <em>purge_tags</em> parameter. See the Amazon documentation for more information <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html#tag-conventions">https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html#tag-conventions</a>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-region"><strong id="ansible-collections-community-aws-elb-target-group-module-parameter-aws-region">region</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_region, ec2_region</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The AWS region to use.</p> <p>For global services such as IAM, Route53 and CloudFront, <em>region</em> is ignored.</p> <p>The <code>AWS_REGION</code> or <code>EC2_REGION</code> environment variables may also be used.</p> <p>See the Amazon AWS documentation for more information <a class="reference external" href="http://docs.aws.amazon.com/general/latest/gr/rande.html#ec2_region">http://docs.aws.amazon.com/general/latest/gr/rande.html#ec2_region</a>.</p> <p>The <code>ec2_region</code> alias has been deprecated and will be removed in a release after 2024-12-01</p> <p>Support for the <code>EC2_REGION</code> environment variable has been deprecated and will be removed in a release after 2024-12-01.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">    
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-secret-key"><strong id="ansible-collections-community-aws-elb-target-group-module-parameter-aws-secret-access-key">secret_key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_secret_access_key, aws_secret_key, ec2_secret_key</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>AWS secret access key.</p> <p>See the AWS documentation for more information about access tokens <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>.</p> <p>The <code>AWS_SECRET_ACCESS_KEY</code>, <code>AWS_SECRET_KEY</code>, or <code>EC2_SECRET_KEY</code> environment variables may also be used in decreasing order of preference.</p> <p>The <em>secret_key</em> and <em>profile</em> options are mutually exclusive.</p> <p>The <em>aws_secret_access_key</em> alias was added in release 5.1.0 for consistency with the AWS botocore SDK.</p> <p>The <em>ec2_secret_key</em> alias has been deprecated and will be removed in a release after 2024-12-01.</p> <p>Support for the <code>EC2_SECRET_KEY</code> environment variable has been deprecated and will be removed in a release after 2024-12-01.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">     
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-session-token"><strong id="ansible-collections-community-aws-elb-target-group-module-parameter-access-token">session_token</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: aws_session_token, security_token, aws_security_token, access_token</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>AWS STS session token for use with temporary credentials.</p> <p>See the AWS documentation for more information about access tokens <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys">https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys</a>.</p> <p>The <code>AWS_SESSION_TOKEN</code>, <code>AWS_SECURITY_TOKEN</code> or <code>EC2_SECURITY_TOKEN</code> environment variables may also be used in decreasing order of preference.</p> <p>The <em>security_token</em> and <em>profile</em> options are mutually exclusive.</p> <p>Aliases <em>aws_session_token</em> and <em>session_token</em> were added in release 3.2.0, with the parameter being renamed from <em>security_token</em> to <em>session_token</em> in release 6.0.0.</p> <p>The <em>security_token</em>, <em>aws_security_token</em>, and <em>access_token</em> aliases have been deprecated and will be removed in a release after 2024-12-01.</p> <p>Support for the <code>EC2_SECRET_KEY</code> and <code>AWS_SECURITY_TOKEN</code> environment variables has been deprecated and will be removed in a release after 2024-12-01.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Create or destroy the target group.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"present"</code></li> <li><code>"absent"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-stickiness-app-cookie-duration"><strong>stickiness_app_cookie_duration</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in community.aws 1.5.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>The time period, in seconds, during which requests from a client should be routed to the same target. After this time period expires, the application-generated cookie is considered stale. The range is 1 second to 1 week (604800 seconds).</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-stickiness-app-cookie-name"><strong>stickiness_app_cookie_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in community.aws 1.5.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the application cookie. Required if <em>stickiness_type=app_cookie</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-stickiness-enabled"><strong>stickiness_enabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Indicates whether sticky sessions are enabled.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-stickiness-lb-cookie-duration"><strong>stickiness_lb_cookie_duration</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The time period, in seconds, during which requests from a client should be routed to the same target. After this time period expires, the load balancer-generated cookie is considered stale. The range is 1 second to 1 week (604800 seconds).</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-stickiness-type"><strong>stickiness_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The type of sticky sessions.</p> <p>Valid values are <code>lb_cookie</code>, <code>app_cookie</code> or <code>source_ip</code>.</p> <p>If not set AWS will default to <code>lb_cookie</code> for Application Load Balancers or <code>source_ip</code> for Network Load Balancers.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-successful-response-codes"><strong>successful_response_codes</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The HTTP codes to use when checking for a successful response from a target.</p> <p>Accepts multiple values (for example, “200,202”) or a range of values (for example, “200-299”).</p> <p>Requires the <em>health_check_protocol</em> parameter to be set.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-tags"><strong id="ansible-collections-community-aws-elb-target-group-module-parameter-resource-tags">tags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: resource_tags</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A dictionary representing the tags to be applied to the resource.</p> <p>If the <em>tags</em> parameter is not set then tags will not be modified.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-target-type"><strong>target_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The type of target that you must specify when registering targets with this target group. The possible values are <code>instance</code> (targets are specified by instance ID), <code>ip</code> (targets are specified by IP address), <code>lambda</code> (target is specified by ARN), or <code>alb</code> (target is specified by ARN). Note that you can’t specify targets for a target group using more than one type. Target types lambda and alb only accept one target. When more than one target is specified, only the first one is used. All additional targets are ignored. If the target type is ip, specify IP addresses from the subnets of the virtual private cloud (VPC) for the target group, the RFC 1918 range (10.0.0.0/8, 172.16.0.0/12, and 192.168.0.0/16), and the RFC 6598 range (100.64.0.0/10). You can’t specify publicly routable IP addresses.</p> <p>The default behavior is <code>instance</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"instance"</code></li> <li><code>"ip"</code></li> <li><code>"lambda"</code></li> <li><code>"alb"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-targets"><strong>targets</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of targets to assign to the target group. This parameter defaults to an empty list. Unless you set the ‘modify_targets’ parameter then all existing targets will be removed from the group. The list should be an Id and a Port parameter. See the Examples for detail.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-unhealthy-threshold-count"><strong>unhealthy_threshold_count</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The number of consecutive health check failures required before considering a target unhealthy.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>When set to <code>false</code>, SSL certificates will not be validated for communication with the AWS APIs.</p> <p>Setting <em>validate_certs=false</em> is strongly discouraged, as an alternative, consider setting <em>aws_ca_bundle</em> instead.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-vpc-id"><strong>vpc_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The identifier of the virtual private cloud (VPC).</p> <p>Required when <em>state</em> is <code>present</code> and <em>target_type</em> is <code>instance</code>, <code>ip</code>, or <code>alb</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-wait"><strong>wait</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether or not to wait for the target group.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-parameter-wait-timeout"><strong>wait_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The time to wait for the target group.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>200</code></p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Once a target group has been created, only its health check can then be modified using subsequent calls</li> <li>
<strong>Caution:</strong> For modules, environment variables and configuration files are read from the Ansible ‘host’ context and not the ‘controller’ context. As such, files may need to be explicitly copied to the ‘host’. For lookup and connection plugins, environment variables and configuration files are read from the Ansible ‘controller’ context and not the ‘host’ context.</li> <li>The AWS SDK (boto3) that Ansible uses may also read defaults for credentials and other settings, such as the region, from its configuration files in the Ansible ‘host’ context (typically <code>~/.aws/credentials</code>). See <a class="reference external" href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/credentials.html">https://boto3.amazonaws.com/v1/documentation/api/latest/guide/credentials.html</a> for more information.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja"># Note: These examples do not set authentication details, see the AWS Guide for details.

- name: Create a target group with a default health check
  community.aws.elb_target_group:
    name: mytargetgroup
    protocol: http
    port: 80
    vpc_id: vpc-01234567
    state: present

- name: Create a target group with protocol_version 'GRPC'
  community.aws.elb_target_group:
    name: mytargetgroup
    protocol: http
    port: 80
    vpc_id: vpc-01234567
    protocol_version: GRPC
    state: present

- name: Modify the target group with a custom health check
  community.aws.elb_target_group:
    name: mytargetgroup
    protocol: http
    port: 80
    vpc_id: vpc-01234567
    health_check_protocol: http
    health_check_path: /health_check
    health_check_port: 80
    successful_response_codes: 200
    health_check_interval: 15
    health_check_timeout: 3
    healthy_threshold_count: 4
    unhealthy_threshold_count: 3
    state: present

- name: Delete a target group
  community.aws.elb_target_group:
    name: mytargetgroup
    state: absent

- name: Create a target group with instance targets
  community.aws.elb_target_group:
    name: mytargetgroup
    protocol: http
    port: 81
    vpc_id: vpc-01234567
    health_check_protocol: http
    health_check_path: /
    successful_response_codes: "200,250-260"
    targets:
      - Id: i-01234567
        Port: 80
      - Id: i-98765432
        Port: 80
    state: present
    wait_timeout: 200
    wait: true

- name: Create a target group with IP address targets
  community.aws.elb_target_group:
    name: mytargetgroup
    protocol: http
    port: 81
    vpc_id: vpc-01234567
    health_check_protocol: http
    health_check_path: /
    successful_response_codes: "200,250-260"
    target_type: ip
    targets:
      - Id: 10.0.0.10
        Port: 80
        AvailabilityZone: all
      - Id: 10.0.0.20
        Port: 80
    state: present
    wait_timeout: 200
    wait: true

# Using lambda as targets require that the target group
# itself is allow to invoke the lambda function.
# therefore you need first to create an empty target group
# to receive its arn, second, allow the target group
# to invoke the lambda function and third, add the target
# to the target group
- name: first, create empty target group
  community.aws.elb_target_group:
    name: my-lambda-targetgroup
    target_type: lambda
    state: present
    modify_targets: false
  register: out

- name: second, allow invoke of the lambda
  community.aws.lambda_policy:
    state: "{{ state | default('present') }}"
    function_name: my-lambda-function
    statement_id: someID
    action: lambda:InvokeFunction
    principal: elasticloadbalancing.amazonaws.com
    source_arn: "{{ out.target_group_arn }}"

- name: third, add target
  community.aws.elb_target_group:
    name: my-lambda-targetgroup
    target_type: lambda
    state: present
    targets:
      - Id: arn:aws:lambda:eu-central-1:123456789012:function:my-lambda-function
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-deregistration-connection-termination"><strong>deregistration_connection_termination</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Indicates whether the load balancer terminates connections at the end of the deregistration timeout.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>true</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-deregistration-delay-timeout-seconds"><strong>deregistration_delay_timeout_seconds</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The amount time for Elastic Load Balancing to wait before changing the state of a deregistering target from draining to unused.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>300</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-health-check-interval-seconds"><strong>health_check_interval_seconds</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The approximate amount of time, in seconds, between health checks of an individual target.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>30</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-health-check-path"><strong>health_check_path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The destination for the health check request.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"/index.html"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-health-check-port"><strong>health_check_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The port to use to connect with the target.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"traffic-port"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-health-check-protocol"><strong>health_check_protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The protocol to use to connect with the target.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"HTTP"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-health-check-timeout-seconds"><strong>health_check_timeout_seconds</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The amount of time, in seconds, during which no response means a failed health check.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>5</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-healthy-threshold-count"><strong>healthy_threshold_count</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The number of consecutive health checks successes required before considering an unhealthy target healthy.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>5</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-load-balancer-arns"><strong>load_balancer_arns</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The Amazon Resource Names (ARN) of the load balancers that route traffic to this target group.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-load-balancing-algorithm-type"><strong>load_balancing_algorithm_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in community.aws 3.2.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>The type load balancing algorithm used.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"least_outstanding_requests"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-matcher"><strong>matcher</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The HTTP codes to use when checking for a successful response from a target.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"http_code": "200"}</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-port"><strong>port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The port on which the targets are listening.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>80</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-protocol"><strong>protocol</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The protocol to use for routing traffic to the targets.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"HTTP"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-stickiness-enabled"><strong>stickiness_enabled</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Indicates whether sticky sessions are enabled.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>true</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-stickiness-lb-cookie-duration-seconds"><strong>stickiness_lb_cookie_duration_seconds</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The time period, in seconds, during which requests from a client should be routed to the same target.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>86400</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-stickiness-type"><strong>stickiness_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The type of sticky sessions.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"lb_cookie"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-tags"><strong>tags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The tags attached to the target group.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"Tag": "Example"}</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-target-group-arn"><strong>target_group_arn</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The Amazon Resource Name (ARN) of the target group.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"arn:aws:elasticloadbalancing:ap-southeast-2:123456789012:targetgroup/mytargetgroup/aabbccddee0044332211"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-target-group-name"><strong>target_group_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the target group.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"mytargetgroup"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-unhealthy-threshold-count"><strong>unhealthy_threshold_count</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The number of consecutive health check failures required before considering the target unhealthy.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>2</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-aws-elb-target-group-module-return-vpc-id"><strong>vpc_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The ID of the VPC for the targets.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when state present</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"vpc-0123456"</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Rob White (@wimnat)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.aws/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.aws" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> <li><span><a class="reference internal" href="index.html#communication-for-community-aws"><span class="std std-ref">Communication</span></a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/aws/elb_target_group_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/aws/elb_target_group_module.html</a>
  </p>
</div>
