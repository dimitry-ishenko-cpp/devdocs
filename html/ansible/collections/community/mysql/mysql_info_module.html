<section id="community-mysql-mysql-info-module-gather-information-about-mysql-or-mariadb-servers"> <h1>community.mysql.mysql_info module – Gather information about MySQL or MariaDB servers</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/mysql/">community.mysql collection</a> (version 3.10.3).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.mysql</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-community-mysql-mysql-info-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>community.mysql.mysql_info</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#attributes" id="id4">Attributes</a></li> <li><a class="reference internal" href="#notes" id="id5">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id6">See Also</a></li> <li><a class="reference internal" href="#examples" id="id7">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id8">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Gathers information about MySQL or MariaDB servers.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-community-mysql-mysql-info-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>PyMySQL (Python 2.7 and Python 3.x)</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-ssl-ca"><strong id="ansible-collections-community-mysql-mysql-info-module-parameter-ca-cert">ca_cert</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: ssl_ca</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The path to a Certificate Authority (CA) certificate. This option, if used, must specify the same certificate as used by the server.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-check-hostname"><strong>check_hostname</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in community.mysql 1.1.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to validate the server host name when an SSL connection is required. Corresponds to MySQL CLIs <code>--ssl</code> switch.</p> <p>Setting this to <code>false</code> disables hostname verification. Use with caution.</p> <p>Requires pymysql &gt;= 0.7.11.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-ssl-cert"><strong id="ansible-collections-community-mysql-mysql-info-module-parameter-client-cert">client_cert</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: ssl_cert</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The path to a client public key certificate.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-ssl-key"><strong id="ansible-collections-community-mysql-mysql-info-module-parameter-client-key">client_key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: ssl_key</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The path to the client private key.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-config-file"><strong>config_file</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specify a config file from which user and password are to be read.</p> <p>The default config file, <code>~/.my.cnf</code>, if it exists, will be read, even if <em>config_file</em> is not specified.</p> <p>The default config file, <code>~/.my.cnf</code>, if it exists, must contain a <code>[client]</code> section as a MySQL connector requirement.</p> <p>To prevent the default config file from being read, set <em>config_file</em> to be an empty string.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"~/.my.cnf"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-connect-timeout"><strong>connect_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The connection timeout when connecting to the MySQL server.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>30</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-exclude-fields"><strong>exclude_fields</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in community.mysql 0.1.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>List of fields which are not needed to collect.</p> <p>Supports elements: <code>db_size</code>. Unsupported elements will be ignored.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-filter"><strong>filter</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Limit the collected information by comma separated string or YAML list.</p> <p>Allowable values are <code>version</code>, <code>databases</code>, <code>settings</code>, <code>global_status</code>, <code>users</code>, <code>users_info</code>, <code>engines</code>, <code>master_status</code>, <code>slave_status</code>, <code>slave_hosts</code>.</p> <p>By default, collects all subsets.</p> <p>You can use ‘!’ before value (for example, <code>!settings</code>) to exclude it from the information.</p> <p>If you pass including and excluding values to the filter, for example, <em>filter=!settings,version</em>, the excluding values, <code>!settings</code> in this case, will be ignored.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-login-db"><strong>login_db</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Database name to connect to.</p> <p>It makes sense if <em>login_user</em> is allowed to connect to a specific database only.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-login-host"><strong>login_host</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Host running the database.</p> <p>In some cases for local connections the <em>login_unix_socket=/path/to/mysqld/socket</em>, that is usually <code>/var/run/mysqld/mysqld.sock</code>, needs to be used instead of <em>login_host=localhost</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"localhost"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-login-password"><strong>login_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The password used to authenticate with.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-login-port"><strong>login_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Port of the MySQL server. Requires <em>login_host</em> be defined as other than localhost if login_port is used.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>3306</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-login-unix-socket"><strong>login_unix_socket</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The path to a Unix domain socket for local connections.</p> <p>Use this parameter to avoid the <code>Please explicitly state intended protocol</code> error.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-login-user"><strong>login_user</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The username used to authenticate with.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-parameter-return-empty-dbs"><strong>return_empty_dbs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Includes names of empty databases to returned dictionary.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr>  </table> </section> <section id="attributes"> <h2>Attributes</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Attribute</p></th> <th class="head"><p>Support</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-attribute-check-mode"><strong>check_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-label">Support: </strong><strong class="ansible-attribute-support-full">full</strong></p> </div></td> <td><div class="ansible-option-cell">
<p>Can run in check_mode and return changed status prediction without modifying target.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Compatible with MariaDB or MySQL.</li> <li>Calculating the size of a database might be slow, depending on the number and size of tables in it. To avoid this, use <em>exclude_fields=db_size</em>.</li> <li>Requires the PyMySQL (Python 2.7 and Python 3.X) package installed on the remote host. The Python package may be installed with apt-get install python-pymysql (Ubuntu; see <a class="reference internal" href="../../ansible/builtin/apt_module.html#ansible-collections-ansible-builtin-apt-module"><span class="std std-ref">ansible.builtin.apt</span></a>) or yum install python2-PyMySQL (RHEL/CentOS/Fedora; see <a class="reference external" href="https://docs.ansible.com/ansible/9/collections/ansible/builtin/yum_module.html#ansible-collections-ansible-builtin-yum-module" title="(in Ansible v9)"><span class="xref std std-ref">ansible.builtin.yum</span></a>). You can also use dnf install python2-PyMySQL for newer versions of Fedora; see <a class="reference internal" href="../../ansible/builtin/dnf_module.html#ansible-collections-ansible-builtin-dnf-module"><span class="std std-ref">ansible.builtin.dnf</span></a>.</li> <li>Be sure you have PyMySQL library installed on the target machine for the Python interpreter Ansible discovers. For example if ansible discovers and uses Python 3, you need to install the Python 3 version of PyMySQL. If ansible discovers and uses Python 2, you need to install the Python 2 version of PyMySQL.</li> <li>If you have trouble, it may help to force Ansible to use the Python interpreter you need by specifying <code>ansible_python_interpreter</code>. For more information, see <a class="reference external" href="../../../reference_appendices/interpreter_discovery.html">https://docs.ansible.com/ansible/latest/reference_appendices/interpreter_discovery.html</a>.</li> <li>Both <code>login_password</code> and <code>login_user</code> are required when you are passing credentials. If none are present, the module will attempt to read the credentials from <code>~/.my.cnf</code>, and finally fall back to using the MySQL default login of ‘root’ with no password.</li> <li>If there are problems with local connections, using <em>login_unix_socket=/path/to/mysqld/socket</em> instead of <em>login_host=localhost</em> might help. As an example, the default MariaDB installation of version 10.4 and later uses the unix_socket authentication plugin by default that without using <em>login_unix_socket=/var/run/mysqld/mysqld.sock</em> (the default path) causes the error ``Host ‘127.0.0.1’ is not allowed to connect to this MariaDB server``.</li> <li>If credentials from the config file (for example, <code>/root/.my.cnf</code>) are not needed to connect to a database server, but the file exists and does not contain a <code>[client]</code> section, before any other valid directives, it will be read and this will cause the connection to fail, to prevent this set it to an empty string, (for example <code>config_file: ''</code>).</li> <li>To avoid the <code>Please explicitly state intended protocol</code> error, use the <em>login_unix_socket</em> argument, for example, <code>login_unix_socket: /run/mysqld/mysqld.sock</code>.</li> <li>Alternatively, to avoid using <em>login_unix_socket</em> argument on each invocation you can specify the socket path using the `socket` option in your MySQL config file (usually <code>~/.my.cnf</code>) on the destination host, for example <code>socket=/var/lib/mysql/mysql.sock</code>.</li> </ul> </div> </section> <section id="see-also"> <h2>See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="mysql_variables_module.html#ansible-collections-community-mysql-mysql-variables-module"><span class="std std-ref">community.mysql.mysql_variables</span></a></dt>
<dd>
<p>Manage MySQL or MariaDB global variables.</p> </dd> <dt><a class="reference internal" href="mysql_db_module.html#ansible-collections-community-mysql-mysql-db-module"><span class="std std-ref">community.mysql.mysql_db</span></a></dt>
<dd>
<p>Add or remove MySQL or MariaDB databases from a remote host.</p> </dd> <dt><a class="reference internal" href="mysql_user_module.html#ansible-collections-community-mysql-mysql-user-module"><span class="std std-ref">community.mysql.mysql_user</span></a></dt>
<dd>
<p>Adds or removes a user from a MySQL or MariaDB database.</p> </dd> <dt><a class="reference internal" href="mysql_replication_module.html#ansible-collections-community-mysql-mysql-replication-module"><span class="std std-ref">community.mysql.mysql_replication</span></a></dt>
<dd>
<p>Manage MySQL or MariaDB replication.</p> </dd> </dl> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja"># Display info from mysql-hosts group (using creds from ~/.my.cnf to connect):
# ansible mysql-hosts -m mysql_info

# Display only databases and users info:
# ansible mysql-hosts -m mysql_info -a 'filter=databases,users'

# Display all users privileges:
# ansible mysql-hosts -m mysql_info -a 'filter=users_info'

# Display only slave status:
# ansible standby -m mysql_info -a 'filter=slave_status'

# Display all info from databases group except settings:
# ansible databases -m mysql_info -a 'filter=!settings'

# If you encounter the "Please explicitly state intended protocol" error,
# use the login_unix_socket argument
- name: Collect all possible information using passwordless root access
  community.mysql.mysql_info:
    login_user: root
    login_unix_socket: /run/mysqld/mysqld.sock

- name: Get MySQL version with non-default credentials
  community.mysql.mysql_info:
    login_user: mysuperuser
    login_password: mysuperpass
    filter: version

- name: Collect all info except settings and users by root
  community.mysql.mysql_info:
    login_user: root
    login_password: rootpass
    filter: "!settings,!users"

- name: Collect info about databases and version using ~/.my.cnf as a credential file
  become: true
  community.mysql.mysql_info:
    filter:
    - databases
    - version

- name: Collect info about databases and version using ~alice/.my.cnf as a credential file
  become: true
  community.mysql.mysql_info:
    config_file: /home/alice/.my.cnf
    filter:
    - databases
    - version

- name: Collect info about databases including empty and excluding their sizes
  become: true
  community.mysql.mysql_info:
    config_file: /home/alice/.my.cnf
    filter:
    - databases
    exclude_fields: db_size
    return_empty_dbs: true

- name: Clone users from one server to another
  block:
  # Step 1
  - name: Fetch information from a source server
    delegate_to: server_source
    community.mysql.mysql_info:
      filter:
        - users_info
    register: result

  # Step 2
  # Don't work with sha256_password and cache_sha2_password
  - name: Clone users fetched in a previous task to a target server
    community.mysql.mysql_user:
      name: "{{ item.name }}"
      host: "{{ item.host }}"
      plugin: "{{ item.plugin | default(omit) }}"
      plugin_auth_string: "{{ item.plugin_auth_string | default(omit) }}"
      plugin_hash_string: "{{ item.plugin_hash_string | default(omit) }}"
      tls_requires: "{{ item.tls_requires | default(omit) }}"
      priv: "{{ item.priv | default(omit) }}"
      resource_limits: "{{ item.resource_limits | default(omit) }}"
      column_case_sensitive: true
      state: present
    loop: "{{ result.users_info }}"
    loop_control:
      label: "{{ item.name }}@{{ item.host }}"
    when:
      - item.name != 'root'  # In case you don't want to import admin accounts
      - item.name != 'mariadb.sys'
      - item.name != 'mysql'
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-connector-name"><strong>connector_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in community.mysql 3.6.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Name of the python connector used by the module. When the connector is not identified, returns <code>Unknown</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"['pymysql']"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-connector-version"><strong>connector_version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in community.mysql 3.6.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Version of the python connector used by the module. When the connector is not identified, returns <code>Unknown</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"['1.0.2']"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-databases"><strong>databases</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Information about databases.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[{"information_schema": {"size": 73728}, "mysql": {"size": 656594}}]</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-databases-size"><strong>size</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Database size in bytes.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"size": 656594}</code></p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-engines"><strong>engines</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Information about the server’s storage engines.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[{"CSV": {"Comment": "CSV storage engine", "Savepoints": "NO", "Support": "YES", "Transactions": "NO", "XA": "NO"}}]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-global-status"><strong>global_status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Global status information.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[{"Innodb_buffer_pool_read_requests": 123, "Innodb_buffer_pool_reads": 32}]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-master-status"><strong>master_status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Master status information.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if master</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[{"Binlog_Do_DB": "", "Binlog_Ignore_DB": "mysql", "File": "mysql-bin.000001", "Position": 769}]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-server-engine"><strong>server_engine</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in community.mysql 3.10.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Database server engine.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"MariaDB"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-settings"><strong>settings</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Global settings (variables) information.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[{"innodb_open_files": 300, "innodb_page_size\"": 16384}]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-slave-hosts"><strong>slave_hosts</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Slave status information.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if master</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[{"2": {"Host": "", "Master_id": 1, "Port": 3306}}]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-slave-status"><strong>slave_status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Slave status information.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if standby</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[{"192.168.1.101": {"3306": {"replication_user": {"Connect_Retry": 60, "Exec_Master_Log_Pos": 769, "Last_Errno": 0}}}}]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-users"><strong>users</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Return a dictionnary of users grouped by host and with global privileges only.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[{"localhost": {"root": {"Alter_priv": "Y", "Alter_routine_priv": "Y"}}}]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-users-info"><strong>users_info</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in community.mysql 3.8.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Information about users accounts.</p> <p>The output can be used as an input of the <a class="reference internal" href="mysql_user_module.html#ansible-collections-community-mysql-mysql-user-module"><span class="std std-ref">community.mysql.mysql_user</span></a> plugin.</p> <p>Useful when migrating accounts to another server or to create an inventory.</p> <p>Does not support proxy privileges. If an account has proxy privileges, they won’t appear in the output.</p> <p>Causes issues with authentications plugins <code>sha256_password</code> and <code>caching_sha2_password</code>. If the output is fed to <a class="reference internal" href="mysql_user_module.html#ansible-collections-community-mysql-mysql-user-module"><span class="std std-ref">community.mysql.mysql_user</span></a>, the ``plugin_auth_string`` will most likely be unreadable due to non-binary characters.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>[{"host": "host.com", "name": "user1", "plugin": "mysql_native_password", "plugin_auth_string": "*1234567", "priv": "db1.*:SELECT/db2.*:SELECT", "resource_limits": {"MAX_USER_CONNECTIONS": 100}, "tls_requires": {"SSL": null}}]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-version"><strong>version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Database server version.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"version": {"full": "5.5.60-MariaDB", "major": 5, "minor": 5, "release": 60, "suffix": "MariaDB"}}</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-version-full"><strong>full</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Full server version.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"5.5.60-MariaDB"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-version-major"><strong>major</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Major server version.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>5</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-version-minor"><strong>minor</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Minor server version.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>5</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-version-release"><strong>release</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Release server version.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>60</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-mysql-mysql-info-module-return-version-suffix"><strong>suffix</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Server suffix, for example MySQL, MariaDB, other or none.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> if not excluded by filter</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"MariaDB"</code></p> </div>
</td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Andrew Klychkov (@Andersson007)</li> <li>Sebastian Gumprich (@rndmh3ro)</li> <li>Laurent Indermühle (@laurent-indermuehle)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.mysql/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/community.mysql" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/mysql/mysql_info_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/mysql/mysql_info_module.html</a>
  </p>
</div>
