<h1 id="community-general-composer-dependency-manager-for-php">community.general.composer – Dependency Manager for PHP</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/general">community.general collection</a> (version 3.8.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.general</code>.</p> <p>To use it in a playbook, specify: <code>community.general.composer</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Composer is a tool for dependency management in PHP. It allows you to declare the dependent libraries your project needs and it will install them in your project for you.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>php</li> <li>composer installed in bin path (recommended /usr/local/bin) or specified in <em>composer_executable</em>
</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>apcu_autoloader</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Uses APCu to cache found/not-found classes</div> <div>Alias <code>apcu-autoloader</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: apcu-autoloader</div> </td> </tr> <tr> <td colspan="1">  <b>arguments</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Composer arguments like required package, version and so on.</div> </td> </tr> <tr> <td colspan="1">  <b>classmap_authoritative</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Autoload classes from classmap only.</div> <div>Implicitely enable optimize_autoloader.</div> <div>Recommended especially for production, but can take a bit of time to run.</div> <div>Alias <code>classmap-authoritative</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: classmap-authoritative</div> </td> </tr> <tr> <td colspan="1">  <b>command</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"install"</div> </td> <td> <div>Composer command like "install", "update" and so on.</div> </td> </tr> <tr> <td colspan="1">  <b>composer_executable</b>  <div> <span>path</span> </div> <div> added in 3.2.0 of community.general </div> </td> <td> </td> <td> <div>Path to composer executable on the remote host, if composer is not in <code>PATH</code> or a custom composer is needed.</div> </td> </tr> <tr> <td colspan="1">  <b>executable</b>  <div> <span>path</span> </div> </td> <td> </td> <td> <div>Path to PHP Executable on the remote host, if PHP is not in PATH.</div> <div>
<br>aliases: php_path</div> </td> </tr> <tr> <td colspan="1">  <b>global_command</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Runs the specified command globally.</div> <div>Alias <code>global-command</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: global-command</div> </td> </tr> <tr> <td colspan="1">  <b>ignore_platform_reqs</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Ignore php, hhvm, lib-* and ext-* requirements and force the installation even if the local machine does not fulfill these.</div> <div>Alias <code>ignore-platform-reqs</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: ignore-platform-reqs</div> </td> </tr> <tr> <td colspan="1">  <b>no_dev</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Disables installation of require-dev packages (see --no-dev).</div> <div>Alias <code>no-dev</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: no-dev</div> </td> </tr> <tr> <td colspan="1">  <b>no_plugins</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Disables all plugins ( see --no-plugins ).</div> <div>Alias <code>no-plugins</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: no-plugins</div> </td> </tr> <tr> <td colspan="1">  <b>no_scripts</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Skips the execution of all scripts defined in composer.json (see --no-scripts).</div> <div>Alias <code>no-scripts</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: no-scripts</div> </td> </tr> <tr> <td colspan="1">  <b>optimize_autoloader</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Optimize autoloader during autoloader dump (see --optimize-autoloader).</div> <div>Convert PSR-0/4 autoloading to classmap to get a faster autoloader.</div> <div>Recommended especially for production, but can take a bit of time to run.</div> <div>Alias <code>optimize-autoloader</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: optimize-autoloader</div> </td> </tr> <tr> <td colspan="1">  <b>prefer_dist</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Forces installation from package dist even for dev versions (see --prefer-dist).</div> <div>Alias <code>prefer-dist</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: prefer-dist</div> </td> </tr> <tr> <td colspan="1">  <b>prefer_source</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Forces installation from package sources when possible (see --prefer-source).</div> <div>Alias <code>prefer-source</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: prefer-source</div> </td> </tr> <tr> <td colspan="1">  <b>working_dir</b>  <div> <span>path</span> </div> </td> <td> </td> <td> <div>Directory of your project (see --working-dir). This is required when the command is not run globally.</div> <div>Will be ignored if <code>global_command=true</code>.</div> <div>Alias <code>working-dir</code> has been deprecated and will be removed in community.general 5.0.0.</div> <div>
<br>aliases: working-dir</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Default options that are always appended in each execution are –no-ansi, –no-interaction and –no-progress if available.</li> <li>We received reports about issues on macOS if composer was installed by Homebrew. Please use the official install method to avoid issues.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Download and installs all libs and dependencies outlined in the /path/to/project/composer.lock
  community.general.composer:
    command: install
    working_dir: /path/to/project

- name: Install a new package
  community.general.composer:
    command: require
    arguments: my/package
    working_dir: /path/to/project

- name: Clone and install a project with all dependencies
  community.general.composer:
    command: create-project
    arguments: package/package /path/to/project ~1.0
    working_dir: /path/to/project
    prefer_dist: yes

- name: Install a package globally
  community.general.composer:
    command: require
    global_command: yes
    arguments: my/package
</pre>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Dimitrios Tydeas Mengidis (@dmtrs)</li> <li>René Moser (@resmo)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/general/composer_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/general/composer_module.html</a>
  </p>
</div>
