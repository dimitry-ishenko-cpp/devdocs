<h1 id="community-general-osx-defaults-manage-macos-user-defaults">community.general.osx_defaults – Manage macOS user defaults</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/general">community.general collection</a> (version 3.8.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.general</code>.</p> <p>To use it in a playbook, specify: <code>community.general.osx_defaults</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>osx_defaults allows users to read, write, and delete macOS user defaults from Ansible scripts.</li> <li>macOS applications and other programs use the defaults system to record user preferences and other information that must be maintained when the applications are not running (such as default font for new documents, or the position of an Info panel).</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>array_add</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Add new elements to the array for a key which has an array as its value.</div> </td> </tr> <tr> <td colspan="1">  <b>domain</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"NSGlobalDomain"</div> </td> <td> <div>The domain is a domain name of the form <code>com.companyname.appname</code>.</div> </td> </tr> <tr> <td colspan="1">  <b>host</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The host on which the preference should apply.</div> <div>The special value <code>currentHost</code> corresponds to the <code>-currentHost</code> switch of the defaults commandline tool.</div> </td> </tr> <tr> <td colspan="1">  <b>key</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The key of the user preference.</div> </td> </tr> <tr> <td colspan="1">  <b>path</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"/usr/bin:/usr/local/bin"</div> </td> <td> <div>The path in which to search for <code>defaults</code>.</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>absent</li> <li>list</li> <li><div>
<b>present</b> ←</div></li> </ul> </td> <td> <div>The state of the user defaults.</div> <div>If set to <code>list</code> will query the given parameter specified by <code>key</code>. Returns 'null' is nothing found or mis-spelled.</div> <div>
<code>list</code> added in version 2.8.</div> </td> </tr> <tr> <td colspan="1">  <b>type</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>array</li> <li>bool</li> <li>boolean</li> <li>date</li> <li>float</li> <li>int</li> <li>integer</li> <li><div>
<b>string</b> ←</div></li> </ul> </td> <td> <div>The type of value to write.</div> </td> </tr> <tr> <td colspan="1">  <b>value</b>  <div> <span>raw</span> </div> </td> <td> </td> <td> <div>The value to write.</div> <div>Only required when <code>state=present</code>.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Apple Mac caches defaults. You may need to logout and login to apply the changes.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja"># TODO: Describe what happens in each example

- community.general.osx_defaults:
    domain: com.apple.Safari
    key: IncludeInternalDebugMenu
    type: bool
    value: true
    state: present

- community.general.osx_defaults:
    domain: NSGlobalDomain
    key: AppleMeasurementUnits
    type: string
    value: Centimeters
    state: present

- community.general.osx_defaults:
    domain: /Library/Preferences/com.apple.SoftwareUpdate
    key: AutomaticCheckEnabled
    type: int
    value: 1
  become: yes

- community.general.osx_defaults:
    domain: com.apple.screensaver
    host: currentHost
    key: showClock
    type: int
    value: 1

- community.general.osx_defaults:
    key: AppleMeasurementUnits
    type: string
    value: Centimeters

- community.general.osx_defaults:
    key: AppleLanguages
    type: array
    value:
      - en
      - nl

- community.general.osx_defaults:
    domain: com.geekchimp.macable
    key: ExampleKeyToRemove
    state: absent
</pre>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Franck Nijhof (!UNKNOWN)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/general/osx_defaults_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/general/osx_defaults_module.html</a>
  </p>
</div>
