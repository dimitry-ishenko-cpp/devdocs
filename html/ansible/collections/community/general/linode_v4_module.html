<h1 id="community-general-linode-v4-manage-instances-on-the-linode-cloud">community.general.linode_v4 – Manage instances on the Linode cloud.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/general">community.general collection</a> (version 3.8.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.general</code>.</p> <p>To use it in a playbook, specify: <code>community.general.linode_v4</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Manage instances on the Linode cloud.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 2.7</li> <li>linode_api4 &gt;= 2.0.0</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>access_token</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The Linode API v4 access token. It may also be specified by exposing the <code>LINODE_ACCESS_TOKEN</code> environment variable. See <a href="https://www.linode.com/docs/api#access-and-authentication">https://www.linode.com/docs/api#access-and-authentication</a>.</div> </td> </tr> <tr> <td colspan="1">  <b>authorized_keys</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>A list of SSH public key parts to deploy for the root user.</div> </td> </tr> <tr> <td colspan="1">  <b>group</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The group that the instance should be marked under. Please note, that group labelling is deprecated but still supported. The encouraged method for marking instances is to use tags.</div> </td> </tr> <tr> <td colspan="1">  <b>image</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The image of the instance. This is a required parameter only when creating Linode instances. See <a href="https://www.linode.com/docs/api/images/">https://www.linode.com/docs/api/images/</a>.</div> </td> </tr> <tr> <td colspan="1">  <b>label</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The instance label. This label is used as the main determiner for idempotence for the module and is therefore mandatory.</div> </td> </tr> <tr> <td colspan="1">  <b>private_ip</b>  <div> <span>boolean</span> </div> <div> added in 3.0.0 of community.general </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>If <code>true</code>, the created Linode will have private networking enabled and assigned a private IPv4 address.</div> </td> </tr> <tr> <td colspan="1">  <b>region</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The region of the instance. This is a required parameter only when creating Linode instances. See <a href="https://www.linode.com/docs/api/regions/">https://www.linode.com/docs/api/regions/</a>.</div> </td> </tr> <tr> <td colspan="1">  <b>root_pass</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The password for the root user. If not specified, one will be generated. This generated password will be available in the task success JSON.</div> </td> </tr> <tr> <td colspan="1">  <b>stackscript_data</b>  <div> <span>dictionary</span> </div> <div> added in 1.3.0 of community.general </div> </td> <td> </td> <td> <div>An object containing arguments to any User Defined Fields present in the StackScript used when creating the instance. Only valid when a stackscript_id is provided. See <a href="https://www.linode.com/docs/api/stackscripts/">https://www.linode.com/docs/api/stackscripts/</a>.</div> </td> </tr> <tr> <td colspan="1">  <b>stackscript_id</b>  <div> <span>integer</span> </div> <div> added in 1.3.0 of community.general </div> </td> <td> </td> <td> <div>The numeric ID of the StackScript to use when creating the instance. See <a href="https://www.linode.com/docs/api/stackscripts/">https://www.linode.com/docs/api/stackscripts/</a>.</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>present</li> <li>absent</li> </ul> </td> <td> <div>The desired instance state.</div> </td> </tr> <tr> <td colspan="1">  <b>tags</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>The tags that the instance should be marked under. See <a href="https://www.linode.com/docs/api/tags/">https://www.linode.com/docs/api/tags/</a>.</div> </td> </tr> <tr> <td colspan="1">  <b>type</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The type of the instance. This is a required parameter only when creating Linode instances. See <a href="https://www.linode.com/docs/api/linode-types/">https://www.linode.com/docs/api/linode-types/</a>.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>No Linode resizing is currently implemented. This module will, in time, replace the current Linode module which uses deprecated API bindings on the Linode side.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Create a new Linode.
  community.general.linode_v4:
    label: new-linode
    type: g6-nanode-1
    region: eu-west
    image: linode/debian9
    root_pass: passw0rd
    authorized_keys:
      - "ssh-rsa ..."
    stackscript_id: 1337
    stackscript_data:
      variable: value
    state: present

- name: Delete that new Linode.
  community.general.linode_v4:
    label: new-linode
    state: absent
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>instance</b>  <div> <span>dictionary</span> </div> </td> <td>Always.</td> <td> <div>The instance description in JSON serialized form.</div> <br> <div><b>Sample:</b></div> <div>{'alerts': {'cpu': 90, 'io': 10000, 'network_in': 10, 'network_out': 10, 'transfer_quota': 80}, 'backups': {'enabled': False, 'schedule': {'day': None, 'window': None}}, 'created': '2018-09-26T08:12:33', 'group': 'Foobar Group', 'hypervisor': 'kvm', 'id': 10480444, 'image': 'linode/centos7', 'ipv4': ['130.132.285.233'], 'ipv6': '2a82:7e00::h03c:46ff:fe04:5cd2/64', 'label': 'lin-foo', 'region': 'eu-west', 'root_pass': 'foobar', 'specs': {'disk': 25600, 'memory': 1024, 'transfer': 1000, 'vcpus': 1}, 'status': 'running', 'tags': [], 'type': 'g6-nanode-1', 'updated': '2018-09-26T10:10:14', 'watchdog_enabled': True}</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Luke Murphy (@decentral1se)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/general/linode_v4_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/general/linode_v4_module.html</a>
  </p>
</div>
