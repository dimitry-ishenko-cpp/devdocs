<h1 id="community-general-onepassword-raw-fetch-an-entire-item-from-1password">community.general.onepassword_raw â€“ fetch an entire item from 1Password</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/general">community.general collection</a> (version 3.8.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.general</code>.</p> <p>To use it in a playbook, specify: <code>community.general.onepassword_raw</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>
<code>onepassword_raw</code> wraps <code>op</code> command line utility to fetch an entire item from 1Password</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the local controller node that executes this lookup.</p> <ul class="simple"> <li>
<code>op</code> 1Password command line utility. See <a class="reference external" href="https://support.1password.com/command-line/">https://support.1password.com/command-line/</a>
</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th>Configuration</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>_terms</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> </td> <td> <div>identifier(s) (UUID, name, or domain; case-insensitive) of item(s) to retrieve.</div> </td> </tr> <tr> <td colspan="1">  <b>master_password</b>  <div> <span>string</span> </div> </td> <td> </td> <td> </td> <td> <div>The password used to unlock the specified vault.</div> <div>
<br>aliases: vault_password</div> </td> </tr> <tr> <td colspan="1">  <b>secret_key</b>  <div> <span>string</span> </div> </td> <td> </td> <td> </td> <td> <div>The secret key used when performing an initial sign in.</div> </td> </tr> <tr> <td colspan="1">  <b>section</b>  <div> <span>string</span> </div> </td> <td> </td> <td> </td> <td> <div>Item section containing the field to retrieve (case-insensitive). If absent will return first match from any section.</div> </td> </tr> <tr> <td colspan="1">  <b>subdomain</b>  <div> <span>string</span> </div> </td> <td> </td> <td> </td> <td> <div>The 1Password subdomain to authenticate against.</div> </td> </tr> <tr> <td colspan="1">  <b>username</b>  <div> <span>string</span> </div> </td> <td> </td> <td> </td> <td> <div>The username used to sign in.</div> </td> </tr> <tr> <td colspan="1">  <b>vault</b>  <div> <span>string</span> </div> </td> <td> </td> <td> </td> <td> <div>Vault containing the item to retrieve (case-insensitive). If absent will search all vaults.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>This lookup will use an existing 1Password session if one exists. If not, and you have already performed an initial sign in (meaning <code>~/.op/config exists</code>), then only the <code>master_password</code> is required. You may optionally specify <code>subdomain</code> in this scenario, otherwise the last used subdomain will be used by <code>op</code>.</li> <li>This lookup can perform an initial login by providing <code>subdomain</code>, <code>username</code>, <code>secret_key</code>, and <code>master_password</code>.</li> <li>Due to the <strong>very</strong> sensitive nature of these credentials, it is <strong>highly</strong> recommended that you only pass in the minimal credentials needed at any given time. Also, store these credentials in an Ansible Vault using a key that is equal to or greater in strength to the 1Password master password.</li> <li>This lookup stores potentially sensitive data from 1Password as Ansible facts. Facts are subject to caching if enabled, which means this data could be stored in clear text on disk or in a database.</li> <li>Tested with <code>op</code> version 0.5.3</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Retrieve all data about Wintermute
  ansible.builtin.debug:
    var: lookup('community.general.onepassword_raw', 'Wintermute')

- name: Retrieve all data about Wintermute when not signed in to 1Password
  ansible.builtin.debug:
    var: lookup('community.general.onepassword_raw', 'Wintermute', subdomain='Turing', vault_password='DmbslfLvasjdl')
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this lookup:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>_raw</b>  <div> <span>list</span> / <span>elements=dictionary</span> </div> </td> <td>success</td> <td> <div>field data requested</div> <br> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Scott Buchanan (@scottsb)</li> <li>Andrew Zenk (@azenk)</li> <li>Sam Doran (@samdoran)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/general/onepassword_raw_lookup.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/general/onepassword_raw_lookup.html</a>
  </p>
</div>
