<h1 id="community-general-memset-zone-record-create-and-delete-records-in-memset-dns-zones">community.general.memset_zone_record – Create and delete records in Memset DNS zones.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/general">community.general collection</a> (version 3.8.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.general</code>.</p> <p>To use it in a playbook, specify: <code>community.general.memset_zone_record</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Manage DNS records in a Memset account.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>address</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The address for this record (can be IP or text string depending on record type).</div> <div>
<br>aliases: ip, data</div> </td> </tr> <tr> <td colspan="1">  <b>api_key</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The API key obtained from the Memset control panel.</div> </td> </tr> <tr> <td colspan="1">  <b>priority</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>
<code>SRV</code> and <code>TXT</code> record priority, in the range 0 &gt; 999 (inclusive).</div> </td> </tr> <tr> <td colspan="1">  <b>record</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The subdomain to create.</div> </td> </tr> <tr> <td colspan="1">  <b>relative</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>If set then the current domain is added onto the address field for <code>CNAME</code>, <code>MX</code>, <code>NS</code> and <code>SRV</code>record types.</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>absent</li> <li><div>
<b>present</b> ←</div></li> </ul> </td> <td> <div>Indicates desired state of resource.</div> </td> </tr> <tr> <td colspan="1">  <b>ttl</b>  <div> <span>integer</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>0</li> <li>300</li> <li>600</li> <li>900</li> <li>1800</li> <li>3600</li> <li>7200</li> <li>10800</li> <li>21600</li> <li>43200</li> <li>86400</li> </ul> </td> <td> <div>The record's TTL in seconds (will inherit zone's TTL if not explicitly set). This must be a valid int from <a href="https://www.memset.com/apidocs/methods_dns.html#dns.zone_record_create">https://www.memset.com/apidocs/methods_dns.html#dns.zone_record_create</a>.</div> </td> </tr> <tr> <td colspan="1">  <b>type</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>A</li> <li>AAAA</li> <li>CNAME</li> <li>MX</li> <li>NS</li> <li>SRV</li> <li>TXT</li> </ul> </td> <td> <div>The type of DNS record to create.</div> </td> </tr> <tr> <td colspan="1">  <b>zone</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The name of the zone to which to add the record to.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Zones can be thought of as a logical group of domains, all of which share the same DNS records (i.e. they point to the same IP). An API key generated via the Memset customer control panel is needed with the following minimum scope - <em>dns.zone_create</em>, <em>dns.zone_delete</em>, <em>dns.zone_list</em>.</li> <li>Currently this module can only create one DNS record at a time. Multiple records should be created using <code>with_items</code>.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja"># Create DNS record for www.domain.com
- name: Create DNS record
  community.general.memset_zone_record:
    api_key: dcf089a2896940da9ffefb307ef49ccd
    state: present
    zone: domain.com
    type: A
    record: www
    address: 1.2.3.4
    ttl: 300
    relative: false
  delegate_to: localhost

# create an SPF record for domain.com
- name: Create SPF record for domain.com
  community.general.memset_zone_record:
    api_key: dcf089a2896940da9ffefb307ef49ccd
    state: present
    zone: domain.com
    type: TXT
    address: "v=spf1 +a +mx +ip4:a1.2.3.4 ?all"
  delegate_to: localhost

# create multiple DNS records
- name: Create multiple DNS records
  community.general.memset_zone_record:
    api_key: dcf089a2896940da9ffefb307ef49ccd
    zone: "{{ item.zone }}"
    type: "{{ item.type }}"
    record: "{{ item.record }}"
    address: "{{ item.address }}"
  delegate_to: localhost
  with_items:
    - { 'zone': 'domain1.com', 'type': 'A', 'record': 'www', 'address': '1.2.3.4' }
    - { 'zone': 'domain2.com', 'type': 'A', 'record': 'mail', 'address': '4.3.2.1' }
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="2">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="2">  <b>memset_api</b>  <div> <span>complex</span> </div> </td> <td>when state == present</td> <td> <div>Record info from the Memset API.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>address</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Record content (may be an IP, string or blank depending on record type).</div> <br> <div><b>Sample:</b></div> <div>1.1.1.1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>id</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Record ID.</div> <br> <div><b>Sample:</b></div> <div>b0bb1ce851aeea6feeb2dc32fe83bf9c</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>priority</b>  <div> <span>integer</span> </div> </td> <td>always</td> <td> <div>Priority for <code>MX</code> and <code>SRV</code> records.</div> <br> <div><b>Sample:</b></div> <div>10</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>record</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Name of record.</div> <br> <div><b>Sample:</b></div> <div>www</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>relative</b>  <div> <span>boolean</span> </div> </td> <td>always</td> <td> <div>Adds the current domain onto the address field for <code>CNAME</code>, <code>MX</code>, <code>NS</code> and <code>SRV</code> types.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>ttl</b>  <div> <span>integer</span> </div> </td> <td>always</td> <td> <div>Record TTL.</div> <br> <div><b>Sample:</b></div> <div>10</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>type</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Record type.</div> <br> <div><b>Sample:</b></div> <div>AAAA</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>zone_id</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Zone ID.</div> <br> <div><b>Sample:</b></div> <div>b0bb1ce851aeea6feeb2dc32fe83bf9c</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Simon Weald (@glitchcrab)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/general/memset_zone_record_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/general/memset_zone_record_module.html</a>
  </p>
</div>
