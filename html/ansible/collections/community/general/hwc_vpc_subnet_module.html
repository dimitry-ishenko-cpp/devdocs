<h1 id="community-general-hwc-vpc-subnet-creates-a-resource-of-vpc-subnet-in-huawei-cloud">community.general.hwc_vpc_subnet – Creates a resource of Vpc/Subnet in Huawei Cloud</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/general">community.general collection</a> (version 3.8.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.general</code>.</p> <p>To use it in a playbook, specify: <code>community.general.hwc_vpc_subnet</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.2.0: </span>of community.general</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>subnet management.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>keystoneauth1 &gt;= 3.6.0</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>availability_zone</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies the AZ to which the subnet belongs. Cannot be changed after creating the subnet.</div> </td> </tr> <tr> <td colspan="2">  <b>cidr</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Specifies the subnet CIDR block. The value must be within the VPC CIDR block and be in CIDR format. The subnet mask cannot be greater than 28. Cannot be changed after creating the subnet.</div> </td> </tr> <tr> <td colspan="2">  <b>dhcp_enable</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Specifies whether DHCP is enabled for the subnet. The value can be true (enabled) or false(disabled), and default value is true. If this parameter is set to false, newly created ECSs cannot obtain IP addresses, and usernames and passwords cannot be injected using Cloud-init.</div> </td> </tr> <tr> <td colspan="2">  <b>dns_address</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>Specifies the DNS server addresses for subnet. The address in the head will be used first.</div> </td> </tr> <tr> <td colspan="2">  <b>domain</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The name of the Domain to scope to (Identity v3). (currently only domain names are supported, and not domain IDs).</div> </td> </tr> <tr> <td colspan="2">  <b>gateway_ip</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Specifies the gateway of the subnet. The value must be an IP address in the subnet. Cannot be changed after creating the subnet.</div> </td> </tr> <tr> <td colspan="2">  <b>id</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The id of resource to be managed.</div> </td> </tr> <tr> <td colspan="2">  <b>identity_endpoint</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The Identity authentication URL.</div> </td> </tr> <tr> <td colspan="2">  <b>name</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Specifies the subnet name. The value is a string of 1 to 64 characters that can contain letters, digits, underscores <code>_</code>, hyphens (-), and periods (.).</div> </td> </tr> <tr> <td colspan="2">  <b>password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The password to login with.</div> </td> </tr> <tr> <td colspan="2">  <b>project</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The name of the Tenant (Identity v2) or Project (Identity v3). (currently only project names are supported, and not project IDs).</div> </td> </tr> <tr> <td colspan="2">  <b>region</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The region to which the project belongs.</div> </td> </tr> <tr> <td colspan="2">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>present</b> ←</div></li> <li>absent</li> </ul> </td> <td> <div>Whether the given object should exist in Huawei Cloud.</div> </td> </tr> <tr> <td colspan="2">  <b>timeouts</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>The timeouts for each operations.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>create</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"15m"</div> </td> <td> <div>The timeouts for create operation.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>update</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"15m"</div> </td> <td> <div>The timeouts for update operation.</div> </td> </tr> <tr> <td colspan="2">  <b>user</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The user name to login with (currently only user names are supported, and not user IDs).</div> </td> </tr> <tr> <td colspan="2">  <b>vpc_id</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Specifies the ID of the VPC to which the subnet belongs. Cannot be changed after creating the subnet.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>For authentication, you can set identity_endpoint using the <code>ANSIBLE_HWC_IDENTITY_ENDPOINT</code> env variable.</li> <li>For authentication, you can set user using the <code>ANSIBLE_HWC_USER</code> env variable.</li> <li>For authentication, you can set password using the <code>ANSIBLE_HWC_PASSWORD</code> env variable.</li> <li>For authentication, you can set domain using the <code>ANSIBLE_HWC_DOMAIN</code> env variable.</li> <li>For authentication, you can set project using the <code>ANSIBLE_HWC_PROJECT</code> env variable.</li> <li>For authentication, you can set region using the <code>ANSIBLE_HWC_REGION</code> env variable.</li> <li>Environment variables values will only be used if the playbook values are not set.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja"># create subnet
- name: Create vpc
  hwc_network_vpc:
    cidr: "192.168.100.0/24"
    name: "ansible_network_vpc_test"
  register: vpc
- name: Create subnet
  community.general.hwc_vpc_subnet:
    vpc_id: "{{ vpc.id }}"
    cidr: "192.168.100.0/26"
    gateway_ip: "192.168.100.32"
    name: "ansible_network_subnet_test"
    dhcp_enable: True
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>availability_zone</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Specifies the AZ to which the subnet belongs.</div> <br> </td> </tr> <tr> <td colspan="1">  <b>cidr</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Specifies the subnet CIDR block. The value must be within the VPC CIDR block and be in CIDR format. The subnet mask cannot be greater than 28.</div> <br> </td> </tr> <tr> <td colspan="1">  <b>dhcp_enable</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Specifies whether DHCP is enabled for the subnet. The value can be true (enabled) or false(disabled), and default value is true. If this parameter is set to false, newly created ECSs cannot obtain IP addresses, and usernames and passwords cannot be injected using Cloud-init.</div> <br> </td> </tr> <tr> <td colspan="1">  <b>dns_address</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>success</td> <td> <div>Specifies the DNS server addresses for subnet. The address in the head will be used first.</div> <br> </td> </tr> <tr> <td colspan="1">  <b>gateway_ip</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Specifies the gateway of the subnet. The value must be an IP address in the subnet.</div> <br> </td> </tr> <tr> <td colspan="1">  <b>name</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Specifies the subnet name. The value is a string of 1 to 64 characters that can contain letters, digits, underscores <code>_</code>, hyphens (-), and periods (.).</div> <br> </td> </tr> <tr> <td colspan="1">  <b>vpc_id</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Specifies the ID of the VPC to which the subnet belongs.</div> <br> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Huawei Inc. (@huaweicloud)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/general/hwc_vpc_subnet_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/general/hwc_vpc_subnet_module.html</a>
  </p>
</div>
