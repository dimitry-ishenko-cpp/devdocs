<section id="community-sap-libs-sap-task-list-execute-module-perform-sap-task-list-execution"> <h1>community.sap_libs.sap_task_list_execute module – Perform SAP Task list execution</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/community/sap_libs/">community.sap_libs collection</a> (version 1.4.2).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install community.sap_libs</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-community-sap-libs-sap-task-list-execute-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>community.sap_libs.sap_task_list_execute</code>.</p> </div> <p class="ansible-version-added">New in community.sap_libs 0.1.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>The <a class="reference internal" href="#ansible-collections-community-sap-libs-sap-task-list-execute-module"><span class="std std-ref">community.sap_libs.sap_task_list_execute</span></a> module depends on <code>pyrfc</code> Python library (version 2.4.0 and upwards). Depending on distribution you are using, you may need to install additional packages to have these available.</li> <li>Tasks in the task list which requires manual activities will be confirmed automatically.</li> <li>This module will use the RFC package <code>STC_TM_API</code>.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-community-sap-libs-sap-task-list-execute-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>pyrfc &gt;= 2.4.0</li> <li>xmltodict</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-client"><strong>client</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The client number to connect to.</p> <p>You must quote the value to ensure retaining the leading zeros.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"000"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-conn-password"><strong>conn_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The required password for the SAP system.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-conn-username"><strong>conn_username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The required username for the SAP system.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-host"><strong>host</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The required host for the SAP system. Can be either an FQDN or IP Address.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-sysnr"><strong>sysnr</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The system number of the SAP system.</p> <p>You must quote the value to ensure retaining the leading zeros.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"00"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-task-parameters"><strong>task_parameters</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The tasks and the parameters for execution.</p> <p>If the task list does not need any parameters, this could be empty.</p> <p>If only specific tasks from the task list should be executed, the tasks even when no parameter is needed must be provided alongside with the module parameter <em>task_skip=true</em>.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-task-parameters-fieldname"><strong>FIELDNAME</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The name of the field of the task.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-task-parameters-taskname"><strong>TASKNAME</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The name of the task in the task list.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-task-parameters-value"><strong>VALUE</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">any</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The value which have to be set.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-task-settings"><strong>task_settings</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Setting for the execution of the task list. This can be the following as in TCODE SE80 described. Check Mode <code>CHECKRUN</code>, Background Processing Active <code>BATCH</code> (this is the default value), Asynchronous Execution <code>ASYNC</code>, Trace Mode <code>TRACE</code>, Server Name <code>BATCH_TARGET</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>["BATCH"]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-task-skip"><strong>task_skip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If this parameter is <code>true</code>, not defined tasks in <em>task_parameters</em> are skipped.</p> <p>This could be the case when only certain tasks should run from the task list.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-parameter-task-to-execute"><strong>task_to_execute</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The task list which will be executed.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Does not support <code>check_mode</code>. Always returns that the state has changed.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja"># Pass in a message
- name: Test task execution
  community.sap_libs.sap_task_list_execute:
    conn_username: DDIC
    conn_password: Passwd1234
    host: 10.1.8.10
    sysnr: '01'
    client: '000'
    task_to_execute: SAP_BASIS_SSL_CHECK
    task_settings: batch

- name: Pass in input parameters
  community.sap_libs.sap_task_list_execute:
    conn_username: DDIC
    conn_password: Passwd1234
    host: 10.1.8.10
    sysnr: '00'
    client: '000'
    task_to_execute: SAP_BASIS_SSL_CHECK
    task_parameters :
      - { 'TASKNAME': 'CL_STCT_CHECK_SEC_CRYPTO', 'FIELDNAME': 'P_OPT2', 'VALUE': 'X' }
      - TASKNAME: CL_STCT_CHECK_SEC_CRYPTO
        FIELDNAME: P_OPT3
        VALUE: X
    task_settings: batch

# Exported environment variables
- name: Hint if module will fail with error message like ImportError libsapnwrfc.so...
  community.sap_libs.sap_task_list_execute:
    conn_username: DDIC
    conn_password: Passwd1234
    host: 10.1.8.10
    sysnr: '00'
    client: '000'
    task_to_execute: SAP_BASIS_SSL_CHECK
    task_settings: batch
  environment:
    SAPNWRFC_HOME: /usr/local/sap/nwrfcsdk
    LD_LIBRARY_PATH: /usr/local/sap/nwrfcsdk/lib
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-return-msg"><strong>msg</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A small execution description.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"Successful"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-community-sap-libs-sap-task-list-execute-module-return-out"><strong>out</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A complete description of the executed tasks. If this is available.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> on success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>["...", {"LOG": {"STCTM_S_LOG": [{"ACTIVITY": "U_CONFIG", "ACTIVITY_DESCR": "Configuration changed", "DETAILS": null, "EXEC_ID": "20210728184903.815739", "FIELD": null, "ID": "STC_TASK", "LOG_MSG_NO": "000000", "LOG_NO": null, "MESSAGE": "For radiobutton group ICM too many options are set; choose only one option", "MESSAGE_V1": "ICM", "MESSAGE_V2": null, "MESSAGE_V3": null, "MESSAGE_V4": null, "NUMBER": "048", "PARAMETER": null, "PERIOD": "M", "PERIOD_DESCR": "Maintenance", "ROW": "0", "SRC_LINE": "170", "SRC_OBJECT": "CL_STCTM_REPORT_UI            IF_STCTM_UI_TASK~SET_PARAMETERS", "SYSTEM": null, "TIMESTMP": "20210728184903", "TSTPNM": "DDIC", "TYPE": "E"}, "..."]}}]</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Rainer Leber (@rainerleber)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/sap-linuxlab/community.sap_libs" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/sap-linuxlab/community.sap_libs" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/community/sap_libs/sap_task_list_execute_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/community/sap_libs/sap_task_list_execute_module.html</a>
  </p>
</div>
