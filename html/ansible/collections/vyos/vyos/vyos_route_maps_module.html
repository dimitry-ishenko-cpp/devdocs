<section id="vyos-vyos-vyos-route-maps-module-route-map-resource-module"> <h1>vyos.vyos.vyos_route_maps module – Route Map Resource Module.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/vyos/vyos/">vyos.vyos collection</a> (version 4.1.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install vyos.vyos</code>.</p> <p>To use it in a playbook, specify: <code>vyos.vyos.vyos_route_maps</code>.</p> </div> <p class="ansible-version-added">New in vyos.vyos 2.3.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>This module manages route map configurations on devices running VYOS.</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config"><strong>config</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of route-map configuration.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries">entries</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: rules</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Route Map rules.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-action"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-action">action</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Action for matching routes</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"deny"</code></li> <li><code>"permit"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-call"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-call">call</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Route map name</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-continue-sequence"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-continue-sequence">continue_sequence</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Continue on a different entry within the route-map.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-description"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-description">description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Description for the rule.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match">match</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Route parameters to match.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-as-path"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-as-path">as_path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set as-path.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-community"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-community">community</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>BGP community attribute.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-community-community-list"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-community-community-list">community_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>BGP community-list to match</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-community-exact-match"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-community-exact-match">exact_match</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>BGP community-list to match</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-extcommunity"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-extcommunity">extcommunity</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Extended community name.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-interface"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-interface">interface</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>First hop interface of a route to match.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ip"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ip">ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>IP prefix parameters to match.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ip-address"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ip-address">address</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>IP address of route to match.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ip-address-list-type"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ip-address-list-type">list_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>type of list</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"access-list"</code></li> <li><code>"prefix-list"</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ip-address-value"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ip-address-value">value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>value of access-list and prefix list</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ip-next-hop"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ip-next-hop">next_hop</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>next hop prefix list.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ip-next-hop-list-type"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ip-next-hop-list-type">list_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>type of list</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"access-list"</code></li> <li><code>"prefix-list"</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ip-next-hop-value"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ip-next-hop-value">value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>value of access-list and prefix list</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ip-route-source"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ip-route-source">route_source</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>IP route-source to match</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ip-route-source-list-type"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ip-route-source-list-type">list_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>type of list</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"access-list"</code></li> <li><code>"prefix-list"</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ip-route-source-value"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ip-route-source-value">value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>value of access-list and prefix list</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ipv6"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ipv6">ipv6</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>IPv6 prefix parameters to match.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ipv6-address"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ipv6-address">address</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>IPv6 address of route to match.</p> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ipv6-address-list-type"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ipv6-address-list-type">list_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>type of list</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"access-list"</code></li> <li><code>"prefix-list"</code></li> </ul> </div>
</td> </tr> <tr>
<td>





<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ipv6-address-value"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ipv6-address-value">value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>





<div class="ansible-option-cell">
<p>value of access-list and prefix list</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-ipv6-next-hop"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-ipv6-next-hop">next_hop</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>next-hop ipv6 address IPv6 &lt;h:h:h:h:h:h:h:h&gt;.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-large-community-large-community-list"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-large-community-large-community-list">large_community_large_community_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>BGP large-community-list to match.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-metric"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-metric">metric</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Route metric &lt;1-65535&gt;.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-origin"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-origin">origin</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>bgp origin.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"ebgp"</code></li> <li><code>"ibgp"</code></li> <li><code>"incomplete"</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-peer"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-peer">peer</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Peer IP address &lt;x.x.x.x&gt;.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-match-rpki"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-match-rpki">rpki</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>RPKI validation value.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"notfound"</code></li> <li><code>"invalid"</code></li> <li><code>"valid"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-on-match"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-on-match">on_match</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Exit policy on matches.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-on-match-goto"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-on-match-goto">goto</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Rule number to goto on match &lt;1-65535&gt;.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-on-match-next"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-on-match-next">next</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Next sequence number to goto on match.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-sequence"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-sequence">sequence</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Route map rule number &lt;1-65535&gt;.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set">set</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Route parameters.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-aggregator"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-aggregator">aggregator</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Border Gateway Protocol (BGP) aggregator attribute.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-aggregator-as"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-aggregator-as">as</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>AS number of an aggregation.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-aggregator-ip"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-aggregator-ip">ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>IP address.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-as-path-exclude"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-as-path-exclude">as_path_exclude</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>BGP AS path exclude string ex “456 64500 45001”</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-as-path-prepend"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-as-path-prepend">as_path_prepend</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Prepend string for a Border Gateway Protocol (BGP) AS-path attribute.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-atomic-aggregate"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-atomic-aggregate">atomic_aggregate</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Border Gateway Protocol (BGP) atomic aggregate attribute.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-bgp-extcommunity-rt"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-bgp-extcommunity-rt">bgp_extcommunity_rt</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>ExtCommunity in format AS:value</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-comm-list"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-comm-list">comm_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Border Gateway Protocol (BGP) communities matching a community-list.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-comm-list-comm-list"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-comm-list-comm-list">comm_list</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>BGP communities with a community-list.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-comm-list-delete"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-comm-list-delete">delete</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Delete BGP communities matching the community-list.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-community"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-community">community</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Border Gateway Protocol (BGP) community attribute.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-community-value"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-community-value">value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Community in 4 octet AS:value format or it can be from local-AS, no-advertise,no-expert,internet,additive,none.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-extcommunity-rt"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-extcommunity-rt">extcommunity_rt</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set route target value.ASN:nn_or_IP_address:nn VPN extended community.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-extcommunity-soo"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-extcommunity-soo">extcommunity_soo</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set Site of Origin value. ASN:nn_or_IP_address:nn VPN extended community</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-ip-next-hop"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-ip-next-hop">ip_next_hop</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>IP address.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-ipv6-next-hop"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-ipv6-next-hop">ipv6_next_hop</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Nexthop IPv6 address.</p> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-ipv6-next-hop-ip-type"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-ipv6-next-hop-ip-type">ip_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>Global or Local</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"global"</code></li> <li><code>"local"</code></li> </ul> </div>
</td> </tr> <tr>
<td>




<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-ipv6-next-hop-value"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-ipv6-next-hop-value">value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>




<div class="ansible-option-cell">
<p>ipv6 address</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-large-community"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-large-community">large_community</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set BGP large community value.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-local-preference"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-local-preference">local_preference</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Border Gateway Protocol (BGP) local preference attribute.Example &lt;0-4294967295&gt;.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-metric"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-metric">metric</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Destination routing protocol metric. Example &lt;0-4294967295&gt;.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-metric-type"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-metric-type">metric_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Open Shortest Path First (OSPF) external metric-type.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"type-1"</code></li> <li><code>"type-2"</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-origin"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-origin">origin</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Set bgp origin.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"egp"</code></li> <li><code>"igp"</code></li> <li><code>"incomplete"</code></li> </ul> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-originator-id"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-originator-id">originator_id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Border Gateway Protocol (BGP) originator ID attribute. Originator IP address.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-src"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-src">src</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Source address for route. Example &lt;x.x.x.x&gt; IP address.</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-tag"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-tag">tag</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Tag value for routing protocol. Example &lt;1-65535&gt;</p> </div>
</td> </tr> <tr>
<td>



<div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-rules-set-weight"><strong id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-entries-set-weight">weight</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>



<div class="ansible-option-cell">
<p>Border Gateway Protocol (BGP) weight attribute. Example &lt;0-4294967295&gt;</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-config-route-map"><strong>route_map</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Route map name.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-running-config"><strong>running_config</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>This option is used only with state <em>parsed</em>.</p> <p>The value of this option should be the output received from the VYOS device by executing the command <strong>show configuration commands | grep route-map</strong>.</p> <p>The state <em>parsed</em> reads the configuration from <code>show configuration commands | grep route-map</code> option and transforms it into Ansible structured data as per the resource module’s argspec and the value is then returned in the <em>parsed</em> key within the result.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vyos-vyos-vyos-route-maps-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The state the configuration should be left in.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"deleted"</code></li> <li>
<code><strong>"merged"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"overridden"</code></li> <li><code>"replaced"</code></li> <li><code>"gathered"</code></li> <li><code>"rendered"</code></li> <li><code>"parsed"</code></li> </ul> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Tested against vyos 1.2.</li> <li>This module works with connection <code>network_cli</code>.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja"># Using merged
# Before state

# vyos@vyos:~$ show configuration commands |  match "set policy route-map"
# vyos@vyos:~$
    - name: Merge the provided configuration with the existing running configuration
      register: result
      vyos.vyos.vyos_route_maps: &amp;id001
        config:
          - route_map: test1
            entries:
              - sequence: 1
                description: "test"
                action: permit
                continue: 2
                on_match:
                  next: True
          - route_map: test3
            entries:
              - sequence: 1
                action: permit
                match:
                  rpki: invalid
                  metric: 1
                  peer: 192.0.2.32
                set:
                  local_preference: 4
                  metric: 5
                  metric_type: "type-1"
                  origin: egp
                  originator_id: 192.0.2.34
                  tag: 5
                  weight: 4
        state: merged
# After State
# vyos@vyos:~$ show configuration commands |  match "set policy route-maps"
#   set policy route-map test1 rule 1 description test
#   set policy route-map test1 rule 1 action permit
#   set policy route-map test1 rule 1 continue 2
#   set policy route-map test1 rule 1 on-match next
#   set policy route-map test3 rule 1 action permit
#   set policy route-map test3 rule 1 set local-preference 4
#   set policy route-map test3 rule 1 set metric 5
#   set policy route-map test3 rule 1 set metric-type type-1
#   set policy route-map test3 rule 1 set origin egp
#   set policy route-map test3 rule 1 set originator-id 192.0.2.34
#   set policy route-map test3 rule 1 set tag 5
#   set policy route-map test3 rule 1 set weight 4
#   set policy route-map test3 rule 1 match metric 1
#   set policy route-map test3 rule 1 match peer 192.0.2.32
#   set policy route-map test3 rule 1 match rpki invalid

# "after": [
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "continue_sequence": 2,
#                     "description": "test",
#                     "on_match": {
#                         "next": true
#                     },
#                     "sequence": 1
#                 }
#             ],
#             "route_map": "test1"
#         },
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "match": {
#                         "metric": 1,
#                         "peer": "192.0.2.32",
#                         "rpki": "invalid"
#                     },
#                     "sequence": 1,
#                     "set": {
#                         "local_preference": "4",
#                         "metric": "5",
#                         "metric_type": "type-1",
#                         "origin": "egp",
#                         "originator_id": "192.0.2.34",
#                         "tag": "5",
#                         "weight": "4"
#                     }
#                 }
#             ],
#             "route_map": "test3"
#         }
#     ],
#     "before": [],
#     "changed": true,
#     "commands": [
#         "set policy route-map test1 rule 1 description test",
#         "set policy route-map test1 rule 1 action permit",
#         "set policy route-map test1 rule 1 continue 2",
#         "set policy route-map test1 rule 1 on-match next",
#         "set policy route-map test3 rule 1 action permit",
#         "set policy route-map test3 rule 1 set local-preference 4",
#         "set policy route-map test3 rule 1 set metric 5",
#         "set policy route-map test3 rule 1 set metric-type type-1",
#         "set policy route-map test3 rule 1 set origin egp",
#         "set policy route-map test3 rule 1 set originator-id 192.0.2.34",
#         "set policy route-map test3 rule 1 set tag 5",
#         "set policy route-map test3 rule 1 set weight 4",
#         "set policy route-map test3 rule 1 match metric 1",
#         "set policy route-map test3 rule 1 match peer 192.0.2.32",
#         "set policy route-map test3 rule 1 match rpki invalid"
#     ],

# Using replaced:
# --------------

# Before state:
# vyos@vyos:~$ show configuration commands |  match "set route-map policy"
# set policy route-map test2 rule 1 action 'permit'
# set policy route-map test2 rule 1 description 'test'
# set policy route-map test2 rule 1 on-match next
# set policy route-map test2 rule 2 action 'permit'
# set policy route-map test2 rule 2 on-match goto '4'
# set policy route-map test3 rule 1 action 'permit'
# set policy route-map test3 rule 1 match metric '1'
# set policy route-map test3 rule 1 match peer '192.0.2.32'
# set policy route-map test3 rule 1 match rpki 'invalid'
# set policy route-map test3 rule 1 set community 'internet'
# set policy route-map test3 rule 1 set ip-next-hop '192.0.2.33'
# set policy route-map test3 rule 1 set local-preference '4'
# set policy route-map test3 rule 1 set metric '5'
# set policy route-map test3 rule 1 set metric-type 'type-1'
# set policy route-map test3 rule 1 set origin 'egp'
# set policy route-map test3 rule 1 set originator-id '192.0.2.34'
# set policy route-map test3 rule 1 set tag '5'
# set policy route-map test3 rule 1 set weight '4'
#
#     - name: Replace  the provided configuration with the existing running configuration
#       register: result
#       vyos.vyos.vyos_route_maps: &amp;id001
#         config:
#           - route_map: test3
#             entries:
#               - sequence: 1
#                 action: permit
#                 match:
#                   rpki: invalid
#                   metric: 3
#                   peer: 192.0.2.35
#                 set:
#                   local_preference: 6
#                   metric: 4
#                   metric_type: "type-1"
#                   origin: egp
#                   originator_id: 192.0.2.34
#                   tag: 4
#                   weight: 4
#         state: replaced
# After state:

# vyos@vyos:~$ show configuration commands |  match "set policy route-map"
# set policy route-map test3 rule 1 set local-preference 6
# set policy route-map test3 rule 1 set metric 4
# set policy route-map test3 rule 1 set tag 4
# set policy route-map test3 rule 1 match metric 3
# set policy route-map test3 rule 1 match peer 192.0.2.35
# vyos@vyos:~$
#
#
# Module Execution:
#
# "after": [
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "description": "test",
#                     "on_match": {
#                         "next": true
#                     },
#                     "sequence": 1
#                 },
#                 {
#                     "action": "permit",
#                     "on_match": {
#                         "goto": 4
#                     },
#                     "sequence": 2
#                 }
#             ],
#             "route_map": "test2"
#         },
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "match": {
#                         "metric": 3,
#                         "peer": "192.0.2.35",
#                         "rpki": "invalid"
#                     },
#                     "sequence": 1,
#                     "set": {
#                         "local_preference": "6",
#                         "metric": "4",
#                         "metric_type": "type-1",
#                         "origin": "egp",
#                         "originator_id": "192.0.2.34",
#                         "tag": "4",
#                         "weight": "4"
#                     }
#                 }
#             ],
#             "route_map": "test3"
#         }
#     ],
#     "before": [
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "description": "test",
#                     "on_match": {
#                         "next": true
#                     },
#                     "sequence": 1
#                 },
#                 {
#                     "action": "permit",
#                     "on_match": {
#                         "goto": 4
#                     },
#                     "sequence": 2
#                 }
#             ],
#             "route_map": "test2"
#         },
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "match": {
#                         "metric": 1,
#                         "peer": "192.0.2.32",
#                         "rpki": "invalid"
#                     },
#                     "sequence": 1,
#                     "set": {
#                         "community": {
#                             "value": "internet"
#                         },
#                         "ip_next_hop": "192.0.2.33",
#                         "local_preference": "4",
#                         "metric": "5",
#                         "metric_type": "type-1",
#                         "origin": "egp",
#                         "originator_id": "192.0.2.34",
#                         "tag": "5",
#                         "weight": "4"
#                     }
#                 }
#             ],
#             "route_map": "test3"
#         }
#     ],
#     "changed": true,
#     "commands": [
#         "delete policy route-map test3 rule 1 set ip-next-hop 192.0.2.33",
#         "set policy route-map test3 rule 1 set local-preference 6",
#         "set policy route-map test3 rule 1 set metric 4",
#         "set policy route-map test3 rule 1 set tag 4",
#         "delete policy route-map test3 rule 1 set community internet",
#         "set policy route-map test3 rule 1 match metric 3",
#         "set policy route-map test3 rule 1 match peer 192.0.2.35"
#     ],
#
# Using deleted:
# -------------

# Before state:
# vyos@vyos:~$ show configuration commands |  match "set policy route-map"
# set policy route-map test3 rule 1 set local-preference 6
# set policy route-map test3 rule 1 set metric 4
# set policy route-map test3 rule 1 set tag 4
# set policy route-map test3 rule 1 match metric 3
# set policy route-map test3 rule 1 match peer 192.0.2.35
# vyos@vyos:~$
#
# - name: Delete the provided configuration
#   register: result
#   vyos.vyos.vyos_route_maps:
#     config:
#     state: deleted
# After state:

# vyos@vyos:~$ show configuration commands |  match "set policy route-map"
# vyos@vyos:~$
#
#
# Module Execution:
#
# "after": [],
#     "before": [
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "match": {
#                         "metric": 3,
#                         "peer": "192.0.2.35",
#                     },
#                     "sequence": 1,
#                     "set": {
#                         "local_preference": "6",
#                         "metric": "4",
#                         "tag": "4",
#                     }
#                 }
#             ],
#             "route_map": "test3"
#         }
#     ],
#     "changed": true,
#     "commands": [
#         "delete policy route-map test3"
#     ],
#
# using gathered:
# --------------
#
# Before state:
# vyos@vyos:~$ show configuration commands |  match "set policy route-maps"
#   set policy route-map test1 rule 1 description test
#   set policy route-map test1 rule 1 action permit
#   set policy route-map test1 rule 1 continue 2
#   set policy route-map test1 rule 1 on-match next
#   set policy route-map test3 rule 1 action permit
#   set policy route-map test3 rule 1 set local-preference 4
#   set policy route-map test3 rule 1 set metric 5
#   set policy route-map test3 rule 1 set metric-type type-1
#   set policy route-map test3 rule 1 set origin egp
#   set policy route-map test3 rule 1 set originator-id 192.0.2.34
#   set policy route-map test3 rule 1 set tag 5
#   set policy route-map test3 rule 1 set weight 4
#   set policy route-map test3 rule 1 match metric 1
#   set policy route-map test3 rule 1 match peer 192.0.2.32
#   set policy route-map test3 rule 1 match rpki invalid
#
# - name: gather configs
#     vyos.vyos.vyos_route_maps:
#       state: gathered

# "gathered": [
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "continue_sequence": 2,
#                     "description": "test",
#                     "on_match": {
#                         "next": true
#                     },
#                     "sequence": 1
#                 }
#             ],
#             "route_map": "test1"
#         },
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "match": {
#                         "metric": 1,
#                         "peer": "192.0.2.32",
#                         "rpki": "invalid"
#                     },
#                     "sequence": 1,
#                     "set": {
#                         "local_preference": "4",
#                         "metric": "5",
#                         "metric_type": "type-1",
#                         "origin": "egp",
#                         "originator_id": "192.0.2.34",
#                         "tag": "5",
#                         "weight": "4"
#                     }
#                 }
#             ],
#             "route_map": "test3"
#         }
#     ]

# Using parsed:
# ------------

# parsed.cfg
# set policy route-map test1 rule 1 description test
# set policy route-map test1 rule 1 action permit
# set policy route-map test1 rule 1 continue 2
# set policy route-map test1 rule 1 on-match next
# set policy route-map test3 rule 1 action permit
# set policy route-map test3 rule 1 set local-preference 4
# set policy route-map test3 rule 1 set metric 5
# set policy route-map test3 rule 1 set metric-type type-1
# set policy route-map test3 rule 1 set origin egp
# set policy route-map test3 rule 1 set originator-id 192.0.2.34
# set policy route-map test3 rule 1 set tag 5
# set policy route-map test3 rule 1 set weight 4
# set policy route-map test3 rule 1 match metric 1
# set policy route-map test3 rule 1 match peer 192.0.2.32
# set policy route-map test3 rule 1 match rpki invalid
#
# - name: parse configs
#   vyos.vyos.vyos_route_maps:
#     running_config: "{{ lookup('file', './parsed.cfg') }}"
#     state: parsed
#   tags:
#     - parsed
#
# Module execution:
# "parsed": [
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "continue_sequence": 2,
#                     "description": "test",
#                     "on_match": {
#                         "next": true
#                     },
#                     "sequence": 1
#                 }
#             ],
#             "route_map": "test1"
#         },
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "match": {
#                         "metric": 1,
#                         "peer": "192.0.2.32",
#                         "rpki": "invalid"
#                     },
#                     "sequence": 1,
#                     "set": {
#                         "local_preference": "4",
#                         "metric": "5",
#                         "metric_type": "type-1",
#                         "origin": "egp",
#                         "originator_id": "192.0.2.34",
#                         "tag": "5",
#                         "weight": "4"
#                     }
#                 }
#             ],
#             "route_map": "test3"
#         }
#     ]
#
#
# Using rendered:
# --------------
# - name: Structure provided configuration into device specific commands
#       register: result
#       vyos.vyos.vyos_route_maps: &amp;id001
#         config:
#           - route_map: test1
#             entries:
#               - sequence: 1
#                 description: "test"
#                 action: permit
#                 continue_sequence: 2
#                 on_match:
#                   next: True
#           - route_map: test3
#             entries:
#               - sequence: 1
#                 action: permit
#                 match:
#                   rpki: invalid
#                   metric: 1
#                   peer: 192.0.2.32
#                 set:
#                   local_preference: 4
#                   metric: 5
#                   metric_type: "type-1"
#                   origin: egp
#                   originator_id: 192.0.2.34
#                   tag: 5
#                   weight: 4
#         state: rendered
# Module Execution:
# "rendered": [
#         "set policy route-map test1 rule 1 description test",
#         "set policy route-map test1 rule 1 action permit",
#         "set policy route-map test1 rule 1 continue 2",
#         "set policy route-map test1 rule 1 on-match next",
#         "set policy route-map test3 rule 1 action permit",
#         "set policy route-map test3 rule 1 set local-preference 4",
#         "set policy route-map test3 rule 1 set metric 5",
#         "set policy route-map test3 rule 1 set metric-type type-1",
#         "set policy route-map test3 rule 1 set origin egp",
#         "set policy route-map test3 rule 1 set originator-id 192.0.2.34",
#         "set policy route-map test3 rule 1 set tag 5",
#         "set policy route-map test3 rule 1 set weight 4",
#         "set policy route-map test3 rule 1 match metric 1",
#         "set policy route-map test3 rule 1 match peer 192.0.2.32",
#         "set policy route-map test3 rule 1 match rpki invalid"
#     ]
#
#
# Using overridden:
# --------------
# Before state:
# vyos@vyos:~$ show configuration commands |  match "set policy route-map"
# set policy route-map test2 rule 1 action 'permit'
# set policy route-map test2 rule 1 description 'test'
# set policy route-map test2 rule 1 on-match next
# set policy route-map test2 rule 2 action 'permit'
# set policy route-map test2 rule 2 on-match goto '4'
# set policy route-map test3 rule 1 action 'permit'
# set policy route-map test3 rule 1 match metric '1'
# set policy route-map test3 rule 1 match peer '192.0.2.32'
# set policy route-map test3 rule 1 match rpki 'invalid'
# set policy route-map test3 rule 1 set community 'internet'
# set policy route-map test3 rule 1 set ip-next-hop '192.0.2.33'
# set policy route-map test3 rule 1 set local-preference '4'
# set policy route-map test3 rule 1 set metric '5'
# set policy route-map test3 rule 1 set metric-type 'type-1'
# set policy route-map test3 rule 1 set origin 'egp'
# set policy route-map test3 rule 1 set originator-id '192.0.2.34'
# set policy route-map test3 rule 1 set tag '5'
# set policy route-map test3 rule 1 set weight '4'
#
#     - name: Override the existing configuration with the provided running configuration
#       register: result
#       vyos.vyos.vyos_route_maps: &amp;id001
#         config:
#           - route_map: test3
#             entries:
#               - sequence: 1
#                 action: permit
#                 match:
#                   rpki: invalid
#                   metric: 3
#                   peer: 192.0.2.35
#                 set:
#                   local_preference: 6
#                   metric: 4
#                   metric_type: "type-1"
#                   origin: egp
#                   originator_id: 192.0.2.34
#                   tag: 4
#                   weight: 4
#         state: overridden
# After state:

# vyos@vyos:~$ show configuration commands |  match "set policy route-map"
# set policy route-map test3 rule 1 set metric-type 'type-1'
# set policy route-map test3 rule 1 set origin 'egp'
# set policy route-map test3 rule 1 set originator-id '192.0.2.34'
# set policy route-map test3 rule 1 set weight '4'
# set policy route-map test3 rule 1 set local-preference 6
# set policy route-map test3 rule 1 set metric 4
# set policy route-map test3 rule 1 set tag 4
# set policy route-map test3 rule 1 match metric 3
# set policy route-map test3 rule 1 match peer 192.0.2.35
# set policy route-map test3 rule 1 match rpki 'invalid'

# Module Execution:
# "after": [
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "match": {
#                         "metric": 3,
#                         "peer": "192.0.2.35",
#                         "rpki": "invalid"
#                     },
#                     "sequence": 1,
#                     "set": {
#                         "local_preference": "6",
#                         "metric": "4",
#                         "metric_type": "type-1",
#                         "origin": "egp",
#                         "originator_id": "192.0.2.34",
#                         "tag": "4",
#                         "weight": "4"
#                     }
#                 }
#             ],
#             "route_map": "test3"
#         }
#     ],
#     "before": [
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "description": "test",
#                     "on_match": {
#                         "next": true
#                     },
#                     "sequence": 1
#                 },
#                 {
#                     "action": "permit",
#                     "on_match": {
#                         "goto": 4
#                     },
#                     "sequence": 2
#                 }
#             ],
#             "route_map": "test2"
#         },
#         {
#             "entries": [
#                 {
#                     "action": "permit",
#                     "match": {
#                         "metric": 1,
#                         "peer": "192.0.2.32",
#                         "rpki": "invalid"
#                     },
#                     "sequence": 1,
#                     "set": {
#                         "community": {
#                             "value": "internet"
#                         },
#                         "ip_next_hop": "192.0.2.33",
#                         "local_preference": "4",
#                         "metric": "5",
#                         "metric_type": "type-1",
#                         "origin": "egp",
#                         "originator_id": "192.0.2.34",
#                         "tag": "5",
#                         "weight": "4"
#                     }
#                 }
#             ],
#             "route_map": "test3"
#         }
#     ],
#     "changed": true,
#     "commands": [
#         "delete policy route-map test2",
#         "delete policy route-map test3 rule 1 set ip-next-hop 192.0.2.33",
#         "set policy route-map test3 rule 1 set local-preference 6",
#         "set policy route-map test3 rule 1 set metric 4",
#         "set policy route-map test3 rule 1 set tag 4",
#         "delete policy route-map test3 rule 1 set community internet",
#         "set policy route-map test3 rule 1 match metric 3",
#         "set policy route-map test3 rule 1 match peer 192.0.2.35"
#     ],
#
</pre> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Ashwini Mhatre (@amhatre)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/vyos.vyos/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/vyos.vyos" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/vyos/vyos/vyos_route_maps_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/vyos/vyos/vyos_route_maps_module.html</a>
  </p>
</div>
