<h1 id="purestorage-flasharray-purefa-dsrole-configure-flasharray-directory-service-roles">purestorage.flasharray.purefa_dsrole – Configure FlashArray Directory Service Roles</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/purestorage/flasharray">purestorage.flasharray collection</a> (version 1.11.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install purestorage.flasharray</code>.</p> <p>To use it in a playbook, specify: <code>purestorage.flasharray.purefa_dsrole</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.0: </span>of purestorage.flasharray</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Set or erase directory services role configurations.</li> <li>Only available for FlashArray running Purity 5.2.0 or higher</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 2.7</li> <li>purestorage &gt;= 1.19</li> <li>py-pure-client &gt;= 1.6.0</li> <li>netaddr</li> <li>requests</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>api_token</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>FlashArray API token for admin privileged user.</div> </td> </tr> <tr> <td colspan="1">  <b>fa_url</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>FlashArray management IPv4 address or Hostname.</div> </td> </tr> <tr> <td colspan="1">  <b>group</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Sets the common Name (CN) of the configured directory service group containing users for the FlashBlade. This name should be just the Common Name of the group without the CN= specifier.</div> <div>Common Names should not exceed 64 characters in length.</div> </td> </tr> <tr> <td colspan="1">  <b>group_base</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies where the configured group is located in the directory tree. This field consists of Organizational Units (OUs) that combine with the base DN attribute and the configured group CNs to complete the full Distinguished Name of the groups. The group base should specify OU= for each OU and multiple OUs should be separated by commas. The order of OUs is important and should get larger in scope from left to right.</div> <div>Each OU should not exceed 64 characters in length.</div> </td> </tr> <tr> <td colspan="1">  <b>role</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>array_admin</li> <li>ops_admin</li> <li>readonly</li> <li>storage_admin</li> </ul> </td> <td> <div>The directory service role to work on</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>absent</li> <li><div>
<b>present</b> ←</div></li> </ul> </td> <td> <div>Create or delete directory service role</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>This module requires the <code>purestorage</code> and <code>py-pure-client</code> Python libraries</li> <li>Additional Python librarues may be required for specific modules.</li> <li>You must set <code>PUREFA_URL</code> and <code>PUREFA_API</code> environment variables if <em>fa_url</em> and <em>api_token</em> arguments are not passed to the module directly</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Delete exisitng array_admin directory service role
  purefa_dsrole:
    role: array_admin
    state: absent
    fa_url: 10.10.10.2
    api_token: e31060a7-21fc-e277-6240-25983c6c4592

- name: Create array_admin directory service role
  purefa_dsrole:
    role: array_admin
    group_base: "OU=PureGroups,OU=SANManagers"
    group: pureadmins
    fa_url: 10.10.10.2
    api_token: e31060a7-21fc-e277-6240-25983c6c4592

- name: Update ops_admin directory service role
  purefa_dsrole:
    role: ops_admin
    group_base: "OU=PureGroups"
    group: opsgroup
    fa_url: 10.10.10.2
    api_token: e31060a7-21fc-e277-6240-25983c6c4592
</pre>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Pure Storage Ansible Team (@sdodsley) &lt;<a class="reference external" href="https://docs.ansible.com/cdn-cgi/l/email-protection#02727770672f636c716b606e672f7667636f242131353924213730392421363a397277706771766d706365672421363439616d6f">pure-ansible-team<span>@</span>purestorage<span>.</span>com</a>&gt;</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/purestorage/flasharray/purefa_dsrole_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/purestorage/flasharray/purefa_dsrole_module.html</a>
  </p>
</div>
