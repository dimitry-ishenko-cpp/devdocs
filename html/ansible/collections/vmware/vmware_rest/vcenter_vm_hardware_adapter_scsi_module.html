<section id="vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-adds-a-virtual-scsi-adapter-to-the-virtual-machine"> <h1>vmware.vmware_rest.vcenter_vm_hardware_adapter_scsi module – Adds a virtual SCSI adapter to the virtual machine.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/vmware/vmware_rest/">vmware.vmware_rest collection</a> (version 3.2.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install vmware.vmware_rest</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>vmware.vmware_rest.vcenter_vm_hardware_adapter_scsi</code>.</p> </div> <p class="ansible-version-added">New in vmware.vmware_rest 0.1.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Adds a virtual SCSI adapter to the virtual machine.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>vSphere 7.0.3 or greater</li> <li>python &gt;= 3.6</li> <li>aiohttp</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-adapter"><strong>adapter</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Virtual SCSI adapter identifier.</p> <p>The parameter must be the id of a resource returned by <a class="reference internal" href="#ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module"><span class="std std-ref">vmware.vmware_rest.vcenter_vm_hardware_adapter_scsi</span></a>. Required with <em>state=[‘absent’, ‘present’]</em></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-bus"><strong>bus</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>SCSI bus number.</p> <p>If unset, the server will choose an available bus number; if none is available, the request will fail.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>0</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-label"><strong>label</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the item</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-pci-slot-number"><strong>pci_slot_number</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Address of the SCSI adapter on the PCI bus. If the PCI address is invalid, the server will change it when the VM is started or as the device is hot added.</p> <p>If unset, the server will choose an available address when the virtual machine is powered on.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-session-timeout"><strong>session_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">float</span></p> <p><em class="ansible-option-versionadded">added in vmware.vmware_rest 2.1.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Timeout settings for client session.</p> <p>The maximal number of seconds for the whole operation including connection establishment, request sending and response.</p> <p>The default value is 300s.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-sharing"><strong>sharing</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The <em>sharing</em> enumerated type defines the valid bus sharing modes for a virtual SCSI adapter.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"NONE"</code></li> <li><code>"PHYSICAL"</code></li> <li><code>"VIRTUAL"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"absent"</code></li> <li>
<code><strong>"present"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The <em>type</em> enumerated type defines the valid emulation types for a virtual SCSI adapter.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"BUSLOGIC"</code></li> <li><code>"LSILOGIC"</code></li> <li><code>"LSILOGICSAS"</code></li> <li><code>"PVSCSI"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-vcenter-hostname"><strong>vcenter_hostname</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The hostname or IP address of the vSphere vCenter</p> <p>If the value is not specified in the task, the value of environment variable <code>VMWARE_HOST</code> will be used instead.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-vcenter-password"><strong>vcenter_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The vSphere vCenter password</p> <p>If the value is not specified in the task, the value of environment variable <code>VMWARE_PASSWORD</code> will be used instead.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-vcenter-rest-log-file"><strong>vcenter_rest_log_file</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>You can use this optional parameter to set the location of a log file.</p> <p>This file will be used to record the HTTP REST interaction.</p> <p>The file will be stored on the host that run the module.</p> <p>If the value is not specified in the task, the value of</p> <p>environment variable <code>VMWARE_REST_LOG_FILE</code> will be used instead.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-vcenter-username"><strong>vcenter_username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The vSphere vCenter username</p> <p>If the value is not specified in the task, the value of environment variable <code>VMWARE_USER</code> will be used instead.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-vcenter-validate-certs"><strong>vcenter_validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Allows connection when SSL certificates are not valid. Set to <code>false</code> when certificates are not trusted.</p> <p>If the value is not specified in the task, the value of environment variable <code>VMWARE_VALIDATE_CERTS</code> will be used instead.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-parameter-vm"><strong>vm</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Virtual machine identifier.</p> <p>The parameter must be the id of a resource returned by <a class="reference internal" href="vcenter_vm_info_module.html#ansible-collections-vmware-vmware-rest-vcenter-vm-info-module"><span class="std std-ref">vmware.vmware_rest.vcenter_vm_info</span></a>. This parameter is mandatory.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Tested on vSphere 7.0.3</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Look up the VM called test_vm1 in the inventory
  register: search_result
  vmware.vmware_rest.vcenter_vm_info:
    filter_names:
    - test_vm1

- name: Collect information about a specific VM
  vmware.vmware_rest.vcenter_vm_info:
    vm: '{{ search_result.value[0].vm }}'
  register: test_vm1_info

- name: Create a SCSI adapter at PCI slot 35
  vmware.vmware_rest.vcenter_vm_hardware_adapter_scsi:
    vm: '{{ test_vm1_info.id }}'
    pci_slot_number: 35
  register: _scsi_adapter_result_1

- name: Drop the SCSI controller
  vmware.vmware_rest.vcenter_vm_hardware_adapter_scsi:
    vm: '{{ test_vm1_info.id }}'
    pci_slot_number: 35
    state: absent
  register: _result
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-return-id"><strong>id</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>moid of the resource</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> On success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"1000"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-vmware-vmware-rest-vcenter-vm-hardware-adapter-scsi-module-return-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Create a SCSI adapter at PCI slot 35</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> On success</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"label": "SCSI controller 0", "pci_slot_number": 35, "scsi": {"bus": 0, "unit": 7}, "sharing": "NONE", "type": "PVSCSI"}</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Ansible Cloud Team (@ansible-collections)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/vmware.vmware_rest/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/vmware.vmware_rest" rel="noopener external" target="_blank">Homepage</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/vmware.vmware_rest.git" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/vmware/vmware_rest/vcenter_vm_hardware_adapter_scsi_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/vmware/vmware_rest/vcenter_vm_hardware_adapter_scsi_module.html</a>
  </p>
</div>
