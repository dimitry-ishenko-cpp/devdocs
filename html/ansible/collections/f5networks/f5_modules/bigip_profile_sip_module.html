<h1 id="f5networks-f5-modules-bigip-profile-sip-manage-sip-profiles-on-a-big-ip">f5networks.f5_modules.bigip_profile_sip – Manage SIP profiles on a BIG-IP</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/f5networks/f5_modules">f5networks.f5_modules collection</a> (version 1.12.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install f5networks.f5_modules</code>.</p> <p>To use it in a playbook, specify: <code>f5networks.f5_modules.bigip_profile_sip</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.0: </span>of f5networks.f5_modules</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Manage SIP profiles on a BIG-IP system.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>community</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>When the <code>dialog_aware</code> is <code>yes</code> and the configuration requires multiple SIP virtual server-profile pairings, this string value indicates whether the pair belongs to the same SIP proxy functional group.</div> </td> </tr> <tr> <td colspan="2">  <b>description</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Description of the profile.</div> <div>To remove the entry completely, set a value of <code>''</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>dialog_aware</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>When <code>yes</code>, the system gathers SIP dialog information and automatically forwards SIP messages belonging to the known SIP dialog.</div> </td> </tr> <tr> <td colspan="2">  <b>enable_sip_firewall</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Specifies whether the Advanced Firewall Manager (AFM) policy is enabled.</div> <div>When <code>yes</code>, the SIP Security settings configured in the DoS Profile in AFM apply to the virtual servers that use this profile.</div> </td> </tr> <tr> <td colspan="2">  <b>insert_record_route_header</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>When <code>yes</code>, inserts a Record-Route SIP header, which indicates the next hop for the following SIP request messages.</div> </td> </tr> <tr> <td colspan="2">  <b>insert_via_header</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>When <code>yes</code>, inserts a Via header in the forwarded SIP request.</div> <div>Via headers indicate the path taken through proxy devices and transports used. The response message uses this routing information.</div> </td> </tr> <tr> <td colspan="2">  <b>log_profile</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies the logging settings the publisher uses to send log messages.</div> <div>The format of the name can be either be prepended by partition (<code>/Common/foo</code>), or specified just as an object name (<code>foo</code>).</div> <div>To remove the entry. set a value of <code>''</code>, however the profile <code>log_publisher</code> must also be set as <code>''</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>log_publisher</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies the publisher defined to log messages.</div> <div>Format of the name can be either be prepended by partition (<code>/Common/foo</code>), or specified just as an object name (<code>foo</code>).</div> <div>To remove the entry. set a value of <code>''</code>, however the profile <code>log_profile</code> must also be set as <code>''</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>max_size</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Specifies the maximum SIP message size that the BIG-IP system accepts.</div> <div>The accepted value range is <code>0 - 4294967295</code> bytes.</div> </td> </tr> <tr> <td colspan="2">  <b>name</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Specifies the name of the SIP profile to manage.</div> </td> </tr> <tr> <td colspan="2">  <b>parent</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies the profile from which this profile inherits settings.</div> <div>When creating a new profile, if this parameter is not specified, the default is the system-supplied <code>sip</code> profile.</div> </td> </tr> <tr> <td colspan="2">  <b>partition</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"Common"</div> </td> <td> <div>Device partition to manage resources on.</div> </td> </tr> <tr> <td colspan="2">  <b>provider</b>  <div> <span>dictionary</span> </div> <div> added in 1.0.0 of f5networks.f5_modules </div> </td> <td> </td> <td> <div>A dict object containing connection details.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>auth_provider</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Configures the auth provider for to obtain authentication tokens from the remote device.</div> <div>This option is really used when working with BIG-IQ devices.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>no_f5_teem</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>If <code>yes</code>, TEEM telemetry data is not sent to F5.</div> <div>You may omit this option by setting the environment variable <code>F5_TELEMETRY_OFF</code>.</div> <div>Previously used variable <code>F5_TEEM</code> is deprecated as its name was confusing.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The password for the user account used to connect to the BIG-IP.</div> <div>You may omit this option by setting the environment variable <code>F5_PASSWORD</code>.</div> <div>
<br>aliases: pass, pwd</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>server</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The BIG-IP host.</div> <div>You may omit this option by setting the environment variable <code>F5_SERVER</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>server_port</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>443</div> </td> <td> <div>The BIG-IP server port.</div> <div>You may omit this option by setting the environment variable <code>F5_SERVER_PORT</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>timeout</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands. If the timeout is exceeded before the operation is completed, the module will error.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>transport</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>rest</b> ←</div></li> </ul> </td> <td> <div>Configures the transport connection to use when connecting to the remote device.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>user</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The username to connect to the BIG-IP with. This user must have administrative privileges on the device.</div> <div>You may omit this option by setting the environment variable <code>F5_USER</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>validate_certs</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If <code>no</code>, SSL certificates are not validated. Use this only on personally controlled sites using self-signed certificates.</div> <div>You may omit this option by setting the environment variable <code>F5_VALIDATE_CERTS</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>secure_via_header</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>When checked (enabled), inserts a secure Via header in the forwarded SIP request.</div> <div>A secure Via header indicates where the message originated.</div> <div>This parameter causes the inserted Via header to specify Transport Layer Security. For this option to take effect, <code>insert_via_header</code> must be set to (yes).</div> </td> </tr> <tr> <td colspan="2">  <b>security</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>When <code>yes</code>. enables the use of enhanced Horizontal Security Layer (HSL) security checking.</div> </td> </tr> <tr> <td colspan="2">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>present</b> ←</div></li> <li>absent</li> </ul> </td> <td> <div>When <code>present</code>, ensures the profile exists.</div> <div>When <code>absent</code>, ensures the profile is removed.</div> </td> </tr> <tr> <td colspan="2">  <b>terminate_on_bye</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>When <code>yes</code>, closes a connection when a BYE transaction finishes.</div> <div>A BYE transaction is a message an application sends to another application when it is ready to close the connection between the two.</div> </td> </tr> <tr> <td colspan="2">  <b>user_via_header</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>When <code>insert_via_header</code> is <code>yes</code>, specifies the Via value the system inserts as the top Via header in a SIP REQUEST message.</div> <div>The valid value must include SIP protocol and sent_by settings, for example: <code>SIP/2.0/UDP 10.10.10.10:5060</code>.</div> <div>To remove the entry completely, set a value of <code>''</code>.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>For more information on using Ansible to manage F5 Networks devices see <a class="reference external" href="https://www.ansible.com/integrations/networks/f5">https://www.ansible.com/integrations/networks/f5</a>.</li> <li>Requires BIG-IP software version &gt;= 12.</li> <li>The F5 modules only manipulate the running configuration of the F5 product. To ensure that BIG-IP specific configuration persists to disk, be sure to include at least one task that uses the <a class="reference internal" href="bigip_config_module.html#ansible-collections-f5networks-f5-modules-bigip-config-module"><span class="std std-ref">f5networks.f5_modules.bigip_config</span></a> module to save the running configuration. Refer to the module’s documentation for the correct usage of the module to save your running configuration.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Create a SIP profile
  bigip_profile_sip:
    name: foo
    parent: sip
    log_profile: alg_log
    log_publisher: foo-publisher
    description: this is a new profile
    security: yes
    provider:
      password: secret
      server: lb.mydomain.com
      user: admin
  delegate_to: localhost

- name: Update SIP profile
  bigip_profile_sip:
    name: foo
    insert_record_route_header: yes
    enable_sip_firewall: yes
    insert_via_header: yes
    user_via_header: "SIP/2.0/UDP 10.10.10.10:5060"
    provider:
      password: secret
      server: lb.mydomain.com
      user: admin
  delegate_to: localhost

- name: Delete a SIP profile
  bigip_profile_sip:
    name: foo
    state: absent
    provider:
      password: secret
      server: lb.mydomain.com
      user: admin
  delegate_to: localhost
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>community</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>Indicates whether the pair belongs to the same SIP proxy functional group.</div> <br> <div><b>Sample:</b></div> <div>foo_community</div> </td> </tr> <tr> <td colspan="1">  <b>description</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>Description of the profile.</div> <br> <div><b>Sample:</b></div> <div>custom description</div> </td> </tr> <tr> <td colspan="1">  <b>dialog_aware</b>  <div> <span>boolean</span> </div> </td> <td>changed</td> <td> <div>Specifies if the system gathers SIP dialog information.</div> <br> </td> </tr> <tr> <td colspan="1">  <b>enable_sip_firewall</b>  <div> <span>boolean</span> </div> </td> <td>changed</td> <td> <div>Specifies whether the Advanced Firewall Manager policy is enabled.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td colspan="1">  <b>insert_record_route_header</b>  <div> <span>boolean</span> </div> </td> <td>changed</td> <td> <div>Specifies if the system will insert a Record-Route SIP header.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td colspan="1">  <b>insert_via_header</b>  <div> <span>boolean</span> </div> </td> <td>changed</td> <td> <div>Specifies if the system will insert a Via header in the forwarded SIP request.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td colspan="1">  <b>log_profile</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The logging settings the publisher uses to send log messages.</div> <br> <div><b>Sample:</b></div> <div>/Common/alg_profile</div> </td> </tr> <tr> <td colspan="1">  <b>log_publisher</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The publisher defined to log messages.</div> <br> <div><b>Sample:</b></div> <div>/Common/foo_publisher</div> </td> </tr> <tr> <td colspan="1">  <b>max_size</b>  <div> <span>boolean</span> </div> </td> <td>changed</td> <td> <div>Specifies if the system will close a connection when a BYE transaction finishes.</div> <br> </td> </tr> <tr> <td colspan="1">  <b>parent</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>Specifies the profile from which this profile inherits settings.</div> <br> <div><b>Sample:</b></div> <div>/Common/sip</div> </td> </tr> <tr> <td colspan="1">  <b>secure_via_header</b>  <div> <span>boolean</span> </div> </td> <td>changed</td> <td> <div>Specifies if the system will insert a secure Via header in the forwarded SIP request.</div> <br> </td> </tr> <tr> <td colspan="1">  <b>security</b>  <div> <span>boolean</span> </div> </td> <td>changed</td> <td> <div>Enables the use of enhanced Horizontal Security Layer security checking.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td colspan="1">  <b>terminate_on_bye</b>  <div> <span>boolean</span> </div> </td> <td>changed</td> <td> <div>Specifies if the system will close a connection when a BYE transaction finishes.</div> <br> </td> </tr> <tr> <td colspan="1">  <b>user_via_header</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The value the system inserts as the top Via header in a SIP REQUEST message.</div> <br> <div><b>Sample:</b></div> <div>SIP/2.0/UDP 10.10.10.10:5060</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Wojciech Wypior (@wojtek0806)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/f5networks/f5_modules/bigip_profile_sip_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/f5networks/f5_modules/bigip_profile_sip_module.html</a>
  </p>
</div>
