<section id="f5networks-f5-modules-bigip-policy-rule-module-manage-ltm-policy-rules-on-a-big-ip"> <h1>f5networks.f5_modules.bigip_policy_rule module â€“ Manage LTM policy rules on a BIG-IP</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/f5networks/f5_modules/">f5networks.f5_modules collection</a> (version 1.31.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install f5networks.f5_modules</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>f5networks.f5_modules.bigip_policy_rule</code>.</p> </div> <p class="ansible-version-added">New in f5networks.f5_modules 1.0.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>This module manages LTM policy rules on a BIG-IP.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>BIG-IP &gt;= v12.1.0</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions"><strong>actions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The actions you want the policy rule to perform.</p> <p>The available attributes vary by the action, however, each action requires you specify a <code>type</code>.</p> <p>These conditions can be specified in any order. Despite the fact they are in a list, the order in the list does not matter to the BIG-IP.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-asm-policy"><strong>asm_policy</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>ASM policy to enable.</p> <p>This parameter is only valid with the <code>enable</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-cookie-expiry"><strong>cookie_expiry</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.1.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Optional argument, specifying the time for which the session is persisted.</p> <p>This parameter is only valid with the <code>persist</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-cookie-insert"><strong>cookie_insert</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.1.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Cookie name on which you want to persist.</p> <p>This parameter is only valid with the <code>persist</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-disable-target"><strong>disable_target</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Target you want to disable.</p> <p>This parameter is only valid with the <code>disable</code> type.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"server_ssl"</code></li> <li><code>"persist"</code></li> <li><code>"asm"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-event"><strong>event</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Events on which actions, such as reset and forward, can be triggered.</p> <p>With the <code>set_variable</code> action, it is used for specifying an action event, such as request or response.</p> <p>Valid event choices for <code>forward</code> action type are: client_accepted, proxy_request request, ssl_client_hello and ssl_client_server_hello_send.</p> <p>Valid event choices for <code>reset</code> acton type are: client_accepted, proxy_connect proxy_request, proxy_response, request, response, server_connected, ssl_client_hello, ssl_client_server_hello_send, ssl_server_handshake, ssl_server_hello, websocket_request, websocket_response.</p> <p>Valid event choices for <code>disable</code> acton type are: client_accepted, proxy_connect proxy_request, proxy_response, request, server_connected.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-expression"><strong>expression</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A Tcl expression used with the <code>set_variable</code> action.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-connect"><strong>http_connect</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>HTTP Connect header you want to replace.</p> <p>This parameter is only valid with the <code>replace</code> type.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-connect-event"><strong>event</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Type of event when the <code>http_connect</code> header is replaced.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"client_accepted"</code></li> <li><code>"proxy_connect"</code></li> <li><code>"proxy_request"</code></li> <li><code>"proxy_response"</code></li> <li><code>"request"</code></li> <li><code>"server_connected"</code></li> <li><code>"ssl_client_hello"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-connect-port"><strong>port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The port number.</p> <p>If a port number is not provided, the value is set to 0 by default.</p> <p>Be explicit when defining rules, so the system does not override port values.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-connect-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The value of <code>http_connect</code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-cookie"><strong>http_cookie</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>HTTP Cookie header you want to remove or insert.</p> <p>This parameter is only valid with the <code>remove</code> and <code>insert</code> type.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-cookie-event"><strong>event</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Type of event when the <code>http_cookie</code> is removed or inserted.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"request"</code></li> <li><code>"proxy_connect"</code></li> <li><code>"proxy_request"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-cookie-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The name of <code>http_cookie</code>.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-cookie-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The value of <code>http_cookie</code>.</p> <p>This is a mandatory parameter when configured with <code>insert</code> type action.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-header"><strong>http_header</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>HTTP Header that you want to remove or insert.</p> <p>This parameter is only valid with the <code>remove</code>, <code>insert</code> and <code>replace</code> type.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-header-event"><strong>event</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Type of event when the <code>http_header</code> is removed, replaced, or inserted.</p> <p>The <code>request</code> and <code>response</code> events are only choices with <code>remove</code> and <code>insert</code> type.</p> <p>All of events are valid with <code>replace</code> type action.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"request"</code></li> <li><code>"response"</code></li> <li><code>"proxy_connect"</code></li> <li><code>"proxy_request"</code></li> <li><code>"proxy_response"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-header-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The name of <code>http_header</code>.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-header-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The value of <code>http_header</code>.</p> <p>Mandatory parameter when configured with <code>insert</code> or <code>replace</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-host"><strong>http_host</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>HTTP Host header you want to replace.</p> <p>This parameter is only valid with the <code>replace</code> type.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-host-event"><strong>event</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Type of event when the <code>http_host</code> is replaced.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"request"</code></li> <li><code>"proxy_connect"</code></li> <li><code>"proxy_request"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-host-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The value of <code>http_host</code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-referer"><strong>http_referer</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>HTTP Referer header you want to remove, replace, or insert.</p> <p>This parameter is only valid with the <code>remove</code>, <code>insert</code> and <code>replace</code> type.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-referer-event"><strong>event</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Type of event when the c(http_referer) is removed, replaced, or inserted.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"request"</code></li> <li><code>"proxy_connect"</code></li> <li><code>"proxy_request"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-referer-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The value of <code>http_referer</code>.</p> <p>This is a mandatory parameter when configured with <code>insert</code> type action.</p> <p>This parameter is ignored for the <code>remove</code> type.</p> <p>This parameter is optional for the <code>replace</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-set-cookie"><strong>http_set_cookie</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>HTTP Set-Cookie header you want to remove or insert.</p> <p>This parameter is only valid with the <code>remove</code> or c(insert) type.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-set-cookie-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The name of <code>http_set_cookie</code>.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-set-cookie-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The value of <code>http_set_cookie</code>.</p> <p>This is a mandatory parameter when configured with <code>insert</code> type action.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-uri"><strong>http_uri</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Replaces HTTP URI, path, or string.</p> <p>This parameter is only valid with the <code>replace</code> type.</p> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-uri-event"><strong>event</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Type of event when the <code>http_uri</code> is replaced.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"request"</code></li> <li><code>"proxy_connect"</code></li> <li><code>"proxy_request"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-uri-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>Specifies the part of the <code>http_uri</code> to be replaced.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"path"</code></li> <li><code>"query_string"</code></li> <li><code>"full_string"</code></li> </ul> </div>
</td> </tr> <tr>
<td>


<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-http-uri-value"><strong>value</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>


<div class="ansible-option-cell">
<p>The value of <code>http_uri</code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-location"><strong>location</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The new URL for which a redirect response is sent.</p> <p>A Tcl command substitution can be used for this field.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-node"><strong>node</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.2.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Node to which you want to forward traffic.</p> <p>This parameter is only valid with the <code>forward</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-pool"><strong>pool</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Pool to which you want to forward traffic.</p> <p>This parameter is only valid with the <code>forward</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The action type. This value controls which of the following options are required.</p> <p>When <code>type</code> is <code>forward</code>, the system associates a given <code>pool</code>, or <code>virtual</code>, or <code>node</code> with this rule.</p> <p>When <code>type</code> is <code>enable</code>, the system associates a given <code>asm_policy</code> with this rule.</p> <p>When <code>type</code> is <code>ignore</code>, the system removes all existing actions from this rule.</p> <p>When <code>type</code> is <code>redirect</code>, the system redirects an HTTP request to a different URL.</p> <p>When <code>type</code> is <code>reset</code>, the system resets the connection upon <code>event</code>.</p> <p>When <code>type</code> is <code>persist</code>, the system associates <code>cookie_insert</code> and <code>cookie_expiry</code> with this rule.</p> <p>When <code>type</code> is <code>set_variable</code>, the system sets a variable based on the evaluated Tcl <code>expression</code> based on <code>event</code>.</p> <p>When <code>type</code> is <code>remove</code>, the system removes <code>http_set_cookie</code>, <code>http_referer</code>, <code>http_header</code> or <code>http_cookie</code> with this rule.</p> <p>When <code>type</code> is <code>insert</code>, the system inserts <code>http_set_cookie</code>, <code>http_referer</code>, <code>http_header</code> or <code>http_cookie</code> with this rule.</p> <p>When <code>type</code> is <code>replace</code>, the system replaces <code>http_connect</code>, <code>http_referer</code>, <code>http_header</code>, <code>http_uri</code> or <code>http_host</code> with this rule.</p> <p>When <code>type</code> is <code>disable</code>, the system disables <code>disable_target</code> with this rule.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"forward"</code></li> <li><code>"enable"</code></li> <li><code>"ignore"</code></li> <li><code>"redirect"</code></li> <li><code>"reset"</code></li> <li><code>"persist"</code></li> <li><code>"set_variable"</code></li> <li><code>"remove"</code></li> <li><code>"insert"</code></li> <li><code>"replace"</code></li> <li><code>"disable"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-variable-name"><strong>variable_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Variable name used with the <code>set_variable</code> action.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-actions-virtual"><strong>virtual</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Virtual server to which you want to forward traffic.</p> <p>This parameter is only valid with the <code>forward</code> type.</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions"><strong>conditions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of attributes that describe the condition.</p> <p>See sub-options for details on how to construct each list entry.</p> <p>The ordering of this list is important, the module ensures the order is kept when modifying the task.</p> <p>The following sub-options are not required for all condition types, read the description for more details.</p> <p>These conditions can be specified in any order. Despite the fact they are in a list, the order in the list does not matter to the BIG-IP.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-address-matches-with-any"><strong>address_matches_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of IP Subnet address strings that the IP address should match.</p> <p>This parameter is only valid with the <code>tcp</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-address-matches-with-datagroup"><strong>address_matches_with_datagroup</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of internal data group strings that the IP address should match.</p> <p>This parameter is only valid with the <code>tcp</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-address-matches-with-external-datagroup"><strong>address_matches_with_external_datagroup</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.10.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of external data group strings that the IP address should match.</p> <p>This parameter is only valid with the <code>tcp</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-event"><strong>event</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Events on which conditions type match rules can be triggered.</p> <p>Supported only for <code>http_header</code>, <code>http_method</code>, <code>ssl_extension</code> and <code>tcp</code>.</p> <p>Valid choices for <code>http_header</code> condition types are: <code>proxy_connect</code>, <code>proxy_request</code>, <code>proxy_response</code>, <code>request</code> and <code>response</code>.</p> <p>Valid choices for <code>http_method</code> condition types are: <code>proxy_connect</code>, <code>proxy_request</code>, <code>proxy_response</code>, <code>request</code> and <code>response</code>.</p> <p>Valid choices for <code>tcp</code> condition types are: <code>request</code>, <code>client_accepted</code>, <code>proxy_connect</code>, <code>proxy_request</code>, <code>proxy_response</code>, <code>ssl_client_hello</code>, and <code>ssl_client_server_hello_send</code>.</p> <p>Valid choices for <code>ssl_extension</code> are: <code>ssl_client_hello</code>, and <code>ssl_client_server_hello_send</code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-header-is-any"><strong>header_is_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters the HTTP Header value should match.</p> <p>This parameter is only valid with the <code>http_header</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-header-name"><strong>header_name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A name of <code>http_header</code>.</p> <p>This parameter is only valid with the <code>http_header</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-host-begins-not-with-any"><strong>host_begins_not_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.22.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters with which the HTTP Host should NOT begin.</p> <p>This parameter is only valid with the <code>http_host</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-host-begins-with-any"><strong>host_begins_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters with which the HTTP Host should begin.</p> <p>This parameter is only valid with the <code>http_host</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-host-contains"><strong>host_contains</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.23.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters the HTTP Host contain.</p> <p>This parameter is only valid with the <code>http_host</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-host-ends-not-with-any"><strong>host_ends_not_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.22.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters with which the HTTP Host should NOT begin.</p> <p>This parameter is only valid with the <code>http_host</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-host-ends-with-any"><strong>host_ends_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters with which the HTTP Host should end.</p> <p>This parameter is only valid with the <code>http_host</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-host-is-any"><strong>host_is_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters the HTTP Host should match.</p> <p>This parameter is only valid with the <code>http_host</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-host-is-not-any"><strong>host_is_not_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters the HTTP Host should not match.</p> <p>This parameter is only valid with the <code>http_host</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-method-matches-with-any"><strong>method_matches_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.10.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters the HTTP Method value should match.</p> <p>This parameter is only valid with the <code>http_method</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-path-begins-with-any"><strong>path_begins_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters with which the HTTP URI should begin.</p> <p>This parameter is only valid with the <code>http_uri</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-path-contains"><strong>path_contains</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters the HTTP URI should contain.</p> <p>This parameter is only valid with the <code>http_uri</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-path-is-any"><strong>path_is_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.8.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of strings of characters the HTTP URI should match.</p> <p>This parameter is only valid with the <code>http_uri</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-server-name-begins-not-with-any"><strong>server_name_begins_not_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.27.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of names with which the server name should NOT begin.</p> <p>This parameter is only valid with the <code>ssl_extension</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-server-name-begins-with-any"><strong>server_name_begins_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.27.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of names with which the server name should begin.</p> <p>This parameter is only valid with the <code>ssl_extension</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-server-name-contains"><strong>server_name_contains</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.27.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of names the server name should contain.</p> <p>This parameter is only valid with the <code>ssl_extension</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-server-name-ends-not-with-any"><strong>server_name_ends_not_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.27.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of names with which the server name should NOT end.</p> <p>This parameter is only valid with the <code>ssl_extension</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-server-name-ends-with-any"><strong>server_name_ends_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.27.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of names with which the server name should end.</p> <p>This parameter is only valid with the <code>ssl_extension</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-server-name-is-any"><strong>server_name_is_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of names that includes the server name.</p> <p>This parameter is only valid with the <code>ssl_extension</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-server-name-is-not-any"><strong>server_name_is_not_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.27.0</em></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>A list of names that does NOT include the server name.</p> <p>This parameter is only valid with the <code>ssl_extension</code> type.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-conditions-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The condition type. This value controls which of the following options are required.</p> <p>When <code>type</code> is <code>http_uri</code>, the valid choices are: <code>path_begins_with_any</code>, <code>path_contains</code> or <code>path_is_any</code>.</p> <p>When <code>type</code> is <code>http_host</code>, the valid choices are: <code>host_is_any</code>, <code>host_is_not_any</code>, <code>host_contains</code> <code>host_begins_with_any</code>, <code>host_begins_not_with_any</code>, <code>host_ends_with_any</code> or <code>host_ends_not_with_any</code></p> <p>When <code>type</code> is <code>http_header</code>, the <code>header_name</code> parameter is mandatory and the valid choice is: <code>header_is_any</code>.</p> <p>When <code>type</code> is <code>http_method</code>, the valid choices are: <code>method_matches_with_any</code>.</p> <p>When <code>type</code> is <code>all_traffic</code>, the system removes all existing conditions from this rule.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"http_uri"</code></li> <li><code>"all_traffic"</code></li> <li><code>"http_host"</code></li> <li><code>"http_header"</code></li> <li><code>"http_method"</code></li> <li><code>"ssl_extension"</code></li> <li><code>"tcp"</code></li> </ul> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-description"><strong>description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Description of the policy rule.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the rule.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-partition"><strong>partition</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Device partition on which to manage resources.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"Common"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-policy"><strong>policy</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The name of the policy with which you want to associate this rule.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider"><strong>provider</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.0.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>A dict object containing connection details.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider-auth-provider"><strong>auth_provider</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Configures the auth provider for to obtain authentication tokens from the remote device.</p> <p>This option is really used when working with BIG-IQ devices.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider-no-f5-teem"><strong>no_f5_teem</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>If <code>yes</code>, TEEM telemetry data is not sent to F5.</p> <p>You may omit this option by setting the environment variable <code>F5_TELEMETRY_OFF</code>.</p> <p>Previously used variable <code>F5_TEEM</code> is deprecated as its name was confusing.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">â† (default)</span>
</li> <li><code>true</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider-pwd"><strong id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider-pass">password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: pass, pwd</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The password for the user account used to connect to the BIG-IP or the BIG-IQ.</p> <p>You may omit this option by setting the environment variable <code>F5_PASSWORD</code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider-server"><strong>server</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The BIG-IP host or the BIG-IQ host.</p> <p>You may omit this option by setting the environment variable <code>F5_SERVER</code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider-server-port"><strong>server_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The BIG-IP server port.</p> <p>You may omit this option by setting the environment variable <code>F5_SERVER_PORT</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>443</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider-timeout"><strong>timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands. If the timeout is exceeded before the operation is completed, the module will error.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider-transport"><strong>transport</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Configures the transport connection to use when connecting to the remote device.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"rest"</strong></code> <span class="ansible-option-choices-default-mark">â† (default)</span>
</li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider-user"><strong>user</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The username to connect to the BIG-IP or the BIG-IQ. This user must have administrative privileges on the device.</p> <p>You may omit this option by setting the environment variable <code>F5_USER</code>.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-provider-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>If <code>no</code>, SSL certificates are not validated. Use this only on personally controlled sites using self-signed certificates.</p> <p>You may omit this option by setting the environment variable <code>F5_VALIDATE_CERTS</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">â† (default)</span>
</li> </ul> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-replace-with"><strong>replace_with</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies if the <code>conditions</code>/<code>actions</code> given by the user should overwrite what exists on the device.</p> <p>The option is useful when a subset of <code>conditions</code>/<code>actions</code> needs to be removed. This option is similar to the replace-all-with flag available in TMSH commands.</p> <p>Using this option is not idempotent.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">â† (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-rule-order"><strong>rule_order</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in f5networks.f5_modules 1.10.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies a number that indicates the order of this rule relative to other rules in the policy.</p> <p>When not set, the device sets the parameter to 0.</p> <p>If there are rules with the same rule order number, the device uses rule names to determine how the rules are ordered.</p> <p>The lower the number, the lower the rule is in the general order, with the lowest number <code>0</code> being the topmost rule.</p> <p>Valid range of values is between <code>0</code> and <code>4294967295</code> inclusive.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>When <code>present</code>, ensures the key is uploaded to the device. When <code>absent</code>, ensures the key is removed from the device. If the key is currently in use, the module will not be able to remove the key.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"present"</strong></code> <span class="ansible-option-choices-default-mark">â† (default)</span>
</li> <li><code>"absent"</code></li> </ul> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>For more information on using Ansible to manage F5 Networks devices see <a class="reference external" href="https://www.ansible.com/integrations/networks/f5">https://www.ansible.com/integrations/networks/f5</a>.</li> <li>Requires BIG-IP software version &gt;= 12.</li> <li>The F5 modules only manipulate the running configuration of the F5 product. To ensure that BIG-IP specific configuration persists to disk, be sure to include at least one task that uses the <a class="reference internal" href="bigip_config_module.html#ansible-collections-f5networks-f5-modules-bigip-config-module"><span class="std std-ref">f5networks.f5_modules.bigip_config</span></a> module to save the running configuration. Refer to the moduleâ€™s documentation for the correct usage of the module to save your running configuration.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Create policies
  bigip_policy:
    name: Policy-Foo
    state: present
    provider:
      server: lb.mydomain.com
      user: admin
      password: secret
  delegate_to: localhost

- name: Add a rule to the new policy
  bigip_policy_rule:
    policy: Policy-Foo
    name: rule3
    conditions:
      - type: http_uri
        path_begins_with_any:
          - /ABC
    actions:
      - type: forward
        pool: pool-svrs
    provider:
      server: lb.mydomain.com
      user: admin
      password: secret
  delegate_to: localhost

- name: Add multiple rules to the new policy
  bigip_policy_rule:
    policy: Policy-Foo
    name: "{{ item.name }}"
    conditions: "{{ item.conditions }}"
    actions: "{{ item.actions }}"
    provider:
      server: lb.mydomain.com
      user: admin
      password: secret
  delegate_to: localhost
  loop:
    - name: rule1
      actions:
        - type: forward
          pool: pool-svrs
      conditions:
        - type: http_uri
          path_begins_with_any:
            - /euro
    - name: rule2
      actions:
        - type: forward
          pool: pool-svrs
      conditions:
        - type: http_uri
          path_begins_with_any:
            - /HomePage/
    - name: rule3
      actions:
        - type: set_variable
          variable_name: user-agent
          expression: tcl:[HTTP::header User-Agent]
          event: request
      conditions:
        - type: http_uri
          path_begins_with_any:
            - /HomePage/

- name: Remove all rules and conditions from the rule
  bigip_policy_rule:
    policy: Policy-Foo
    name: rule1
    conditions:
      - type: all_traffic
    actions:
      - type: ignore
    provider:
      server: lb.mydomain.com
      user: admin
      password: secret
  delegate_to: localhost
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-return-actions"><strong>actions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">complex</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The new list of actions applied to the rule.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"hash/dictionary of values"</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-return-actions-pool"><strong>pool</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Pool for forwarding to.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"foo-pool"</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-return-actions-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The action type.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"forward"</code></p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-return-conditions"><strong>conditions</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">complex</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The new list of conditions applied to the rule.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"hash/dictionary of values"</code></p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-return-conditions-path-begins-with-any"><strong>path_begins_with_any</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>List of strings with which the URI begins.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>["foo", "bar"]</code></p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-return-conditions-type"><strong>type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>The condition type.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"http_uri"</code></p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-return-description"><strong>description</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The new description of the rule.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"My rule"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-f5networks-f5-modules-bigip-policy-rule-module-return-rule-order"><strong>rule_order</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specifies a number that indicates the order of this rule relative to other rules in the policy.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>10</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Tim Rupp (@caphrim007)</li> <li>Wojciech Wypior (@wojtek0806)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/F5Networks/f5-ansible/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://clouddocs.f5.com/products/orchestration/ansible/devel/" rel="noopener external" target="_blank">Homepage</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/F5Networks/f5-ansible-f5modules" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/f5networks/f5_modules/bigip_policy_rule_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/f5networks/f5_modules/bigip_policy_rule_module.html</a>
  </p>
</div>
