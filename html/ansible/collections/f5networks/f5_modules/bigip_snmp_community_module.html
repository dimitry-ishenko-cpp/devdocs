<h1 id="f5networks-f5-modules-bigip-snmp-community-manages-snmp-communities-on-a-big-ip">f5networks.f5_modules.bigip_snmp_community – Manages SNMP communities on a BIG-IP.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/f5networks/f5_modules">f5networks.f5_modules collection</a> (version 1.12.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install f5networks.f5_modules</code>.</p> <p>To use it in a playbook, specify: <code>f5networks.f5_modules.bigip_snmp_community</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.0: </span>of f5networks.f5_modules</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Assists in managing Simple Network Management Protocol (SNMP) communities on a BIG-IP system. Different SNMP versions are supported by this module. Note the different parameters offered by this module, as different parameters work for different versions of SNMP. This is important if you are mixing versions <code>v2c</code> and <code>3</code>.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>access</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>ro</li> <li>rw</li> <li>read-only</li> <li>read-write</li> </ul> </td> <td> <div>Specifies the user's access level to the MIB.</div> <div>When creating a new community, if this parameter is not specified, the default is <code>ro</code>.</div> <div>When <code>ro</code>, specifies the user can view the MIB, but cannot modify the MIB.</div> <div>When <code>rw</code>, specifies the user can view and modify the MIB.</div> </td> </tr> <tr> <td colspan="2">  <b>community</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies the community string (password) for access to the MIB.</div> <div>This parameter is only relevant when <code>version</code> is <code>v1</code> or <code>v2c</code>. If <code>version</code> is something else, this parameter is ignored.</div> </td> </tr> <tr> <td colspan="2">  <b>ip_version</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>4</li> <li>6</li> </ul> </td> <td> <div>Specifies whether the record applies to IPv4 or IPv6 addresses.</div> <div>When creating a new community, if this value is not specified, the default is <code>4</code>.</div> <div>This parameter is only relevant when <code>version</code> is <code>v1</code> or <code>v2c</code>. If <code>version</code> is something else, this parameter is ignored.</div> </td> </tr> <tr> <td colspan="2">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name that identifies the SNMP community.</div> <div>When <code>version</code> is <code>v1</code> or <code>v2c</code>, this parameter is required.</div> <div>The name <code>public</code> is a reserved name on the BIG-IP. This module handles that name differently than others. Functionally, you should not see a difference.</div> </td> </tr> <tr> <td colspan="2">  <b>oid</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies the object identifier (OID) for the record.</div> <div>When <code>version</code> is <code>v3</code>, this parameter is required.</div> <div>When <code>version</code> is either <code>v1</code> or <code>v2c</code>, if this value is specified, then <code>source</code> must not be set to <code>all</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>partition</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"Common"</div> </td> <td> <div>Device partition to manage resources on.</div> </td> </tr> <tr> <td colspan="2">  <b>port</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Specifies the port for the trap destination.</div> <div>This parameter is only relevant when <code>version</code> is <code>v1</code> or <code>v2c</code>. If <code>version</code> is something else, this parameter is ignored.</div> </td> </tr> <tr> <td colspan="2">  <b>provider</b>  <div> <span>dictionary</span> </div> <div> added in 1.0.0 of f5networks.f5_modules </div> </td> <td> </td> <td> <div>A dict object containing connection details.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>auth_provider</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Configures the auth provider for to obtain authentication tokens from the remote device.</div> <div>This option is really used when working with BIG-IQ devices.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>no_f5_teem</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>If <code>yes</code>, TEEM telemetry data is not sent to F5.</div> <div>You may omit this option by setting the environment variable <code>F5_TELEMETRY_OFF</code>.</div> <div>Previously used variable <code>F5_TEEM</code> is deprecated as its name was confusing.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The password for the user account used to connect to the BIG-IP.</div> <div>You may omit this option by setting the environment variable <code>F5_PASSWORD</code>.</div> <div>
<br>aliases: pass, pwd</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>server</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The BIG-IP host.</div> <div>You may omit this option by setting the environment variable <code>F5_SERVER</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>server_port</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>443</div> </td> <td> <div>The BIG-IP server port.</div> <div>You may omit this option by setting the environment variable <code>F5_SERVER_PORT</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>timeout</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands. If the timeout is exceeded before the operation is completed, the module will error.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>transport</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>rest</b> ←</div></li> </ul> </td> <td> <div>Configures the transport connection to use when connecting to the remote device.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>user</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The username to connect to the BIG-IP with. This user must have administrative privileges on the device.</div> <div>You may omit this option by setting the environment variable <code>F5_USER</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>validate_certs</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If <code>no</code>, SSL certificates are not validated. Use this only on personally controlled sites using self-signed certificates.</div> <div>You may omit this option by setting the environment variable <code>F5_VALIDATE_CERTS</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>snmp_auth_password</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies the password for the user.</div> <div>When creating a new SNMP <code>v3</code> community, this parameter is required.</div> <div>This value must be at least 8 characters long.</div> </td> </tr> <tr> <td colspan="2">  <b>snmp_auth_protocol</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>md5</li> <li>sha</li> <li>none</li> </ul> </td> <td> <div>Specifies the authentication method for the user.</div> <div>When <code>md5</code>, specifies the system uses the MD5 algorithm to authenticate the user.</div> <div>When <code>sha</code>, specifies the secure hash algorithm (SHA) to authenticate the user.</div> <div>When <code>none</code>, specifies the user does not require authentication.</div> <div>When creating a new SNMP <code>v3</code> community, if this parameter is not specified, the default is <code>sha</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>snmp_privacy_password</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies the password for the user.</div> <div>When creating a new SNMP <code>v3</code> community, this parameter is required.</div> <div>This value must be at least 8 characters long.</div> </td> </tr> <tr> <td colspan="2">  <b>snmp_privacy_protocol</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>aes</li> <li>des</li> <li>none</li> </ul> </td> <td> <div>Specifies the encryption protocol.</div> <div>When <code>aes</code>, specifies the system encrypts the user information using AES (Advanced Encryption Standard).</div> <div>When <code>des</code>, specifies the system encrypts the user information using DES (Data Encryption Standard).</div> <div>When <code>none</code>, specifies the system does not encrypt the user information.</div> <div>When creating a new SNMP <code>v3</code> community, if this parameter is not specified, the default is <code>aes</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>snmp_username</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies the name of the user for whom you want to grant access to the SNMP v3 MIB.</div> <div>This parameter is only relevant when <code>version</code> is <code>v3</code>. If <code>version</code> is something else, this parameter is ignored.</div> <div>When creating a new SNMP <code>v3</code> community, this parameter is required.</div> <div>This parameter cannot be changed once it has been set.</div> </td> </tr> <tr> <td colspan="2">  <b>source</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies the source address for access to the MIB.</div> <div>This parameter can accept a value of <code>all</code>.</div> <div>If this parameter is not specified, the value is <code>all</code>.</div> <div>This parameter is only relevant when <code>version</code> is <code>v1</code> or <code>v2c</code>. If <code>version</code> is something else, this parameter is ignored.</div> <div>If <code>source</code> is set to <code>all</code>, it is not possible to specify an <code>oid</code>. This will raise an error.</div> <div>You should provide this parameter when <code>state</code> is <code>absent</code>, so the correct community is removed. To remove the <code>public</code> SNMP community that comes with a BIG-IP, this parameter should be <code>default</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>present</b> ←</div></li> <li>absent</li> </ul> </td> <td> <div>When <code>present</code>, ensures the address list and entries exists.</div> <div>When <code>absent</code>, ensures the address list is removed.</div> </td> </tr> <tr> <td colspan="2">  <b>update_password</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>always</b> ←</div></li> <li>on_create</li> </ul> </td> <td> <div>
<code>always</code> allows users to update passwords. <code>on_create</code> only sets the password for newly created resources.</div> </td> </tr> <tr> <td colspan="2">  <b>version</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>v1</li> <li><div>
<b>v2c</b> ←</div></li> <li>v3</li> </ul> </td> <td> <div>Specifies to which SNMP version the trap destination applies.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>For more information on using Ansible to manage F5 Networks devices see <a class="reference external" href="https://www.ansible.com/integrations/networks/f5">https://www.ansible.com/integrations/networks/f5</a>.</li> <li>Requires BIG-IP software version &gt;= 12.</li> <li>The F5 modules only manipulate the running configuration of the F5 product. To ensure that BIG-IP specific configuration persists to disk, be sure to include at least one task that uses the <a class="reference internal" href="bigip_config_module.html#ansible-collections-f5networks-f5-modules-bigip-config-module"><span class="std std-ref">f5networks.f5_modules.bigip_config</span></a> module to save the running configuration. Refer to the module’s documentation for the correct usage of the module to save your running configuration.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Create an SMNP v2c read-only community
  bigip_snmp_community:
    name: foo
    version: v2c
    source: all
    oid: .1
    access: ro
    provider:
      password: secret
      server: lb.mydomain.com
      user: admin
  delegate_to: localhost

- name: Create an SMNP v3 read-write community
  bigip_snmp_community:
    name: foo
    version: v3
    snmp_username: foo
    snmp_auth_protocol: sha
    snmp_auth_password: secret
    snmp_privacy_protocol: aes
    snmp_privacy_password: secret
    oid: .1
    access: rw
    provider:
      password: secret
      server: lb.mydomain.com
      user: admin
  delegate_to: localhost

- name: Remove the default 'public' SNMP community
  bigip_snmp_community:
    name: public
    source: default
    state: absent
    provider:
      password: secret
      server: lb.mydomain.com
      user: admin
  delegate_to: localhost
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>access</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The new access level for the MIB.</div> <br> <div><b>Sample:</b></div> <div>ro</div> </td> </tr> <tr> <td colspan="1">  <b>community</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The new community value.</div> <br> <div><b>Sample:</b></div> <div>community1</div> </td> </tr> <tr> <td colspan="1">  <b>ip_version</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The new IP version value.</div> <br> <div><b>Sample:</b></div> <div>0.1</div> </td> </tr> <tr> <td colspan="1">  <b>oid</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The new OID value.</div> <br> <div><b>Sample:</b></div> <div>0.1</div> </td> </tr> <tr> <td colspan="1">  <b>snmp_auth_password</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The new password of the given snmp_username.</div> <br> <div><b>Sample:</b></div> <div>secret1</div> </td> </tr> <tr> <td colspan="1">  <b>snmp_auth_protocol</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The new SNMP auth protocol.</div> <br> <div><b>Sample:</b></div> <div>sha</div> </td> </tr> <tr> <td colspan="1">  <b>snmp_privacy_password</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The new password of the given snmp_username.</div> <br> <div><b>Sample:</b></div> <div>secret2</div> </td> </tr> <tr> <td colspan="1">  <b>snmp_privacy_protocol</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The new SNMP privacy protocol.</div> <br> <div><b>Sample:</b></div> <div>aes</div> </td> </tr> <tr> <td colspan="1">  <b>snmp_username</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The new SNMP username.</div> <br> <div><b>Sample:</b></div> <div>user1</div> </td> </tr> <tr> <td colspan="1">  <b>source</b>  <div> <span>string</span> </div> </td> <td>changed</td> <td> <div>The new source address to access the MIB.</div> <br> <div><b>Sample:</b></div> <div>1.1.1.1</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Tim Rupp (@caphrim007)</li> <li>Wojciech Wypior (@wojtek0806)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/f5networks/f5_modules/bigip_snmp_community_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/f5networks/f5_modules/bigip_snmp_community_module.html</a>
  </p>
</div>
