<section id="dellemc-enterprise-sonic-sonic-image-management-module-manage-installation-of-enterprise-sonic-image-software-patch-and-firmware-updater"> <h1>dellemc.enterprise_sonic.sonic_image_management module â€“ Manage installation of Enterprise SONiC image, software patch and firmware updater</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/dellemc/enterprise_sonic/">dellemc.enterprise_sonic collection</a> (version 2.5.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install dellemc.enterprise_sonic</code>.</p> <p>To use it in a playbook, specify: <code>dellemc.enterprise_sonic.sonic_image_management</code>.</p> </div> <p class="ansible-version-added">New in dellemc.enterprise_sonic 2.4.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id3">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id4">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Manage installation of Enterprise SONiC image, software patch and firmware updater.</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-firmware"><strong>firmware</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Manage installation of Firmware updater</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-firmware-command"><strong>command</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Specifies the firmware updater manangement operation to be performed.</p> <p><code>install</code> - Stage firmware updater specified by <em>path</em>.</p> <p><code>cancel</code> - Cancel a pending firmware updater.</p> <p><code>get-list</code> - Retrieve details of pending firmware updater and result of installed firmware updater.</p> <p><code>get-status</code> - Retrieve firmware updater staging status.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"install"</code></li> <li><code>"cancel"</code></li> <li><code>"get-list"</code></li> <li><code>"get-status"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-firmware-path"><strong>path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>When <em>command=install</em>, specifies the path of the firmware updater to be staged.</p> <p>Path can be a file in the device (<a class="reference external" href="file://filepath.html">file://filepath</a>) or URL (<a class="reference external" href="#">http://</a> or <a class="reference external" href="#">https://</a>).</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-image"><strong>image</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Manage installation of Enterprise SONiC image.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-image-command"><strong>command</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Specifies the image manangement operation to be performed.</p> <p><code>install</code> - Install image specified by <em>path</em>.</p> <p><code>cancel</code> - Cancel image installation.</p> <p><code>remove</code> - Remove image specified by <em>name</em>.</p> <p><code>set-default</code> - Set the image specified by <em>name</em> as default boot image.</p> <p><code>get-list</code> - Retrieve list of installed images.</p> <p><code>get-status</code> - Retrieve image installation status.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"install"</code></li> <li><code>"cancel"</code></li> <li><code>"remove"</code></li> <li><code>"set-default"</code></li> <li><code>"get-list"</code></li> <li><code>"get-status"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-image-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>When <em>command=remove</em> or <em>command=set-default</em>, specifies the name of the image.</p> <p>When <em>command=remove</em>, name can be specified as <code>all</code> to remove all images which are not current or next.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-image-path"><strong>path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>When <em>command=install</em>, specifies the path of the image to be installed.</p> <p>Path can be a file in the device (<a class="reference external" href="file://filepath.html">file://filepath</a>) or URL (<a class="reference external" href="#">http://</a> or <a class="reference external" href="#">https://</a>).</p> </div>
</td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-patch"><strong>patch</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Manage installation of software patch.</p> </div></td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-patch-command"><strong>command</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>Specifies the patch manangement operation to be performed.</p> <p><code>install</code> - Install patch specified by <em>path</em>.</p> <p><code>rollback</code> - Remove an installed patch specified by <em>name</em>.</p> <p><code>get-history</code> - Retrieve history of patches applied/rolled back.</p> <p><code>get-list</code> - Retrieve list of installed patches.</p> <p><code>get-status</code> - Retrieve patch installation/removal status.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"install"</code></li> <li><code>"rollback"</code></li> <li><code>"get-history"</code></li> <li><code>"get-list"</code></li> <li><code>"get-status"</code></li> </ul> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-patch-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>When <em>command=rollback</em>, specifies the name of the patch.</p> </div>
</td> </tr> <tr>
<td>

<div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-parameter-patch-path"><strong>path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div>
</td> <td>

<div class="ansible-option-cell">
<p>When <em>command=install</em>, specifies the path of the patch to be installed.</p> <p>Path can be a file in the device (<a class="reference external" href="file://filepath.html">file://filepath</a>) or URL (<a class="reference external" href="#">http://</a> or <a class="reference external" href="#">https://</a>).</p> </div>
</td> </tr>  </table> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Install Enterprise SONiC image
  dellemc.enterprise_sonic.sonic_image_management:
    image:
      command: install
      path: 'file://home/admin/sonic.bin'

- name: Get image installation status
  dellemc.enterprise_sonic.sonic_image_management:
    image:
      command: get-status

- name: Get list of installed images
  dellemc.enterprise_sonic.sonic_image_management:
    image:
      command: get-list

- name: Stage a firmware updater
  dellemc.enterprise_sonic.sonic_image_management:
    firmware:
      command: install
      path: 'file://home/admin/onie-update-full.bin'
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-return-info"><strong>info</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Details returned by the specified get operation.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when <em>command=get-status</em> or <em>command=get-list</em> or <em>command=get-history</em></p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"file-download-speed": "106200", "file-progress": 100, "file-size": "1304997870", "file-transfer-bytes": "1304997870", "install-end-time": "1695714740", "install-start-time": "1695714698", "install-status": "INSTALL_STATE_SUCCESS", "install-status-detail": "Image install success", "operation-status": "GLOBAL_STATE_SUCCESS", "transfer-end-time": "1695714669", "transfer-start-time": "1695714657", "transfer-status": "TRANSFER_STATE_SUCCESS", "transfer-status-detail": "DOWNLOADING IMAGE"}</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-enterprise-sonic-sonic-image-management-module-return-status"><strong>status</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Status of the operation performed.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when <em>command</em> is not <code>get-status</code>, <code>get-list</code> and <code>get-history</code></p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"SUCCESS"</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Arun Saravanan Balachandran (@ArunSaravananBalachandran)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/dellemc.enterprise_sonic/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/dellemc.enterprise_sonic" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/dellemc/enterprise_sonic/sonic_image_management_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/dellemc/enterprise_sonic/sonic_image_management_module.html</a>
  </p>
</div>
