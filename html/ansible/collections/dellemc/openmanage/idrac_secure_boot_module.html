<section id="dellemc-openmanage-idrac-secure-boot-module-configure-attributes-import-or-export-secure-boot-certificate-and-reset-keys"> <h1>dellemc.openmanage.idrac_secure_boot module – Configure attributes, import, or export secure boot certificate, and reset keys.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/dellemc/openmanage/">dellemc.openmanage collection</a> (version 9.7.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install dellemc.openmanage</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-dellemc-openmanage-idrac-secure-boot-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>dellemc.openmanage.idrac_secure_boot</code>.</p> </div> <p class="ansible-version-added">New in dellemc.openmanage 9.6.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#attributes" id="id4">Attributes</a></li> <li><a class="reference internal" href="#notes" id="id5">Notes</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id7">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>This module allows you to perform the following operations.`</li> <li>Import or Export Secure Boot certificate.</li> <li>Enable or disable Secure Boot mode.</li> <li>Configure Platform Key (PK) and Key Exchange Key (KEK) policies</li> <li>Configure Allow Database (DB) and Disallow Database (DBX) certificates.</li> <li>Reset UEFI Secure Boot keys.</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 3.9.6</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-boot-mode"><strong>boot_mode</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Boot mode of the iDRAC.</p> <p><code>Uefi</code> enables the secure boot in UEFI mode.</p> <p><code>Bios</code> enables the secure boot in BIOS mode.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"Uefi"</code></li> <li><code>"Bios"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-ca-path"><strong>ca_path</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> <p><em class="ansible-option-versionadded">added in dellemc.openmanage 5.0.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>The Privacy Enhanced Mail (PEM) file that contains a CA certificate to be used for the validation.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-database"><strong>database</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of absolute paths of the Allow Database(DB) certificate file for UEFI secure boot.</p> <p>Directory path with write permission when <em>export_certificates</em> is <code>true</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-disallow-database"><strong>disallow_database</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of absolute paths of the Disallow Database(DBX) certificate file for UEFI secure boot.</p> <p>Directory path with write permission when <em>export_certificates</em> is <code>true</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-export-certificates"><strong>export_certificates</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Export all the available certificates in the specified directory for the given keys.</p> <p><em>export_cetificates</em> is mutually exclusive with <em>import</em>.</p> <p><em>export_cetificates</em> is <code>true</code> either of <em>platform_key</em> or i(key_exchange_key) or <em>database</em> - or <em>disallow_database</em> is required.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-force-int-10"><strong>force_int_10</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Determines whether the system BIOS loads the legacy video (INT 10h) option ROM from the video controller.</p> <p>This parameter is supported only in UEFI boot mode. If UEFI Secure Boot mode is enabled, you cannot enable this parameter.</p> <p><code>Disabled</code> if the operating system supports UEFI video output standards.</p> <p><code>Enabled</code> if the operating system does not support UEFI video output standards.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"Disabled"</code></li> <li><code>"Enabled"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-idrac-ip"><strong>idrac_ip</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>iDRAC IP Address.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-idrac-pwd"><strong id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-idrac-password">idrac_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: idrac_pwd</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>iDRAC user password.</p> <p>If the password is not provided, then the environment variable <code>IDRAC_PASSWORD</code> is used.</p> <p>Example: export IDRAC_PASSWORD=password</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-idrac-port"><strong>idrac_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>iDRAC port.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>443</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-idrac-user"><strong>idrac_user</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>iDRAC username.</p> <p>If the username is not provided, then the environment variable <code>IDRAC_USERNAME</code> is used.</p> <p>Example: export IDRAC_USERNAME=username</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-import-certificates"><strong>import_certificates</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Import all the specified key certificates.</p> <p>When <em>import_certificates</em> is <code>true</code>, then either <em>platform_key</em>, <em>KEK</em>, <em>database</em>, or <em>disallow_database</em> is required.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-job-wait"><strong>job_wait</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to wait till completion of the secure boot certificate operation. This is applicable when <em>restart</em> is <code>true</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-job-wait-timeout"><strong>job_wait_timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The maximum wait time of <em>job_wait</em> in seconds. The job is tracked only for this duration.</p> <p>This option is applicable when <em>job_wait</em> is <code>true</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>1200</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-kek"><strong>KEK</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A list of absolute paths of the Key Exchange Key (KEK) certificate file for UEFI secure boot.</p> <p>Directory path with write permission when <em>export_certificates</em> is <code>true</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-platform-key"><strong>platform_key</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">path</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The absolute path of the Platform key certificate file for UEFI secure boot.</p> <p>Directory path with write permission when <em>export_certificates</em> is <code>true</code>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-reset-keys"><strong>reset_keys</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Resets the UEFI Secure Boot keys.</p> <p><code>DeleteAllKeys</code> deletes the content of all UEFI Secure Boot key databases (PK, KEK, DB, and DBX). This choice configures the system in Setup Mode.</p> <p><code>DeletePK</code> deletes the content of the PK UEFI Secure Boot database. This choice configures the system in Setup Mode.</p> <p><code>ResetAllKeysToDefault</code> resets the content of all UEFI Secure Boot key databases (PK, KEK, DB, and DBX) to their default values.</p> <p><code>ResetDB</code> resets the content of the DB UEFI Secure Boot database to its default values.</p> <p><code>ResetDBX</code> resets the content of the DBX UEFI Secure Boot database to its default values.</p> <p><code>ResetKEK</code> resets the content of the KEK UEFI Secure Boot database to its default values.</p> <p><code>ResetPK</code> resets the content of the PK UEFI Secure Boot database to its default values.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"DeleteAllKeys"</code></li> <li><code>"DeletePK"</code></li> <li><code>"ResetAllKeysToDefault"</code></li> <li><code>"ResetDB"</code></li> <li><code>"ResetDBX"</code></li> <li><code>"ResetKEK"</code></li> <li><code>"ResetPK"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-restart"><strong>restart</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Secure boot certificate import operation requires a server restart. This parameter provides an option to restart the server.</p> <p><code>true</code> restarts the server.</p> <p><code>false</code> does not restart the server.</p> <p><em>restart</em> is applicable when <em>import_certificates</em> is <code>true</code>.</p> <p><em>restart</em> will be ignored only when <em>export_certificates</em> is <code>true</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-restart-type"><strong>restart_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Restart type of the server.</p> <p><code>ForceRestart</code> forcefully restarts the server.</p> <p><code>GracefulRestart</code> gracefully restarts the server.</p> <p><em>restart_type</em> is applicable when <em>restart</em> is <code>true</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"GracefulRestart"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"ForceRestart"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-secure-boot"><strong>secure_boot</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>UEFI Secure Boot.</p> <p>The <em>secure_boot</em> can be <code>Enabled</code> only if <em>boot_mode</em> is <code>UEFI</code> and <em>force_int_10</em> is <code>Disabled</code>.</p> <p><code>Disabled</code> disables the secure boot mode.</p> <p><code>Enabled</code> enables the secure boot mode.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"Disabled"</code></li> <li><code>"Enabled"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-secure-boot-mode"><strong>secure_boot_mode</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The UEFI Secure Boot mode configures how to use the Secure Boot Policy.</p> <p><code>AuditMode</code> sets the Secure Boot mode to an Audit mode when Platform Key is not installed on the system. The BIOS does not authenticate updates to the policy objects and transition between modes. BIOS performs a signature verification on pre-boot images and logs the results in the Image Execution Information table, where it processes the images whether the status of verification is pass or fail.</p> <p><code>DeployedMode</code> sets the Secure Boot mode to a Deployed mode when Platform Key is installed on the system, and then BIOS performs a signature verification to update the policy objects.</p> <p><code>UserMode</code> sets the Secure Boot mode to a User mode when Platform Key is installed on the system, and then BIOS performs signature verification to update policy objects.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"AuditMode"</code></li> <li><code>"DeployedMode"</code></li> <li><code>"UserMode"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-secure-boot-policy"><strong>secure_boot_policy</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The following are the types of Secure Boot policy.</p> <p><code>Custom</code> inherits the standard certificates and image digests that are loaded in the system by default. You can modify the certificates and image digests.</p> <p><code>Standard</code> indicates that the system has default certificates, image digests, or hash loaded from the factory.</p> <p>When the Secure Boot Policy is set to Custom, you can perform following operations such as viewing, exporting, importing, deleting, deleting all, and resetting policies.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"Custom"</code></li> <li><code>"Standard"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-timeout"><strong>timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in dellemc.openmanage 5.0.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>The socket level timeout in seconds.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>30</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in dellemc.openmanage 5.0.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>If <code>false</code>, the SSL certificates will not be validated.</p> <p>Configure <code>false</code> only on personally controlled sites where self-signed certificates are used.</p> <p>Prior to collection version <code>5.0.0</code>, the <em>validate_certs</em> is <code>false</code> by default.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-parameter-x-auth-token"><strong>x_auth_token</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in dellemc.openmanage 9.3.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Authentication token.</p> <p>If the x_auth_token is not provided, then the environment variable <code>IDRAC_X_AUTH_TOKEN</code> is used.</p> <p>Example: export IDRAC_X_AUTH_TOKEN=x_auth_token</p> </div></td> </tr>  </table> </section> <section id="attributes"> <h2>Attributes</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Attribute</p></th> <th class="head"><p>Support</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-attribute-check-mode"><strong>check_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-label">Support: </strong><strong class="ansible-attribute-support-full">full</strong></p> </div></td> <td><div class="ansible-option-cell">
<p>Runs task to validate without performing action on the target machine.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-attribute-diff-mode"><strong>diff_mode</strong></p> 
</div></td> <td><div class="ansible-option-cell">
<p><strong class="ansible-attribute-support-label">Support: </strong><strong class="ansible-attribute-support-none">none</strong></p> </div></td> <td><div class="ansible-option-cell">
<p>Runs the task to report the changes made or to be made.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>This module will always report changes found to be applied for <em>import_certificates</em> when run in <code>check mode</code>.</li> <li>This module does not support idempotency when <em>reset_type</em> or <em>export_certificates</em> or <em>import_certificates</em> is provided.</li> <li>To configure the secure boot settings, the idrac_secure_boot module performs the following order of operations set attributes, export certificate, reset keys, import certificate, and restart iDRAC.</li> <li>
<em>export_certificate</em> will export all the certificates of the key defined in the playbook.</li> <li>This module considers values of <em>restart</em> and <em>job_wait</em> only for the last operation in the sequence.</li> <li>This module supports IPv4 and IPv6 addresses.</li> <li>Only <em>reset_keys</em> is supported on iDRAC8.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">---
- name: Enable Secure Boot.
  dellemc.openmanage.idrac_secure_boot:
    idrac_ip: "192.168.1.2"
    idrac_user: "user"
    idrac_password: "password"
    ca_path: "/path/to/ca_cert.pem"
    secure_boot: "Enabled"

- name: Set Secure Boot mode, Secure Boot policy, and restart iDRAC.
  dellemc.openmanage.idrac_secure_boot:
    idrac_ip: "192.168.1.2"
    idrac_user: "user"
    idrac_password: "password"
    ca_path: "/path/to/ca_cert.pem"
    secure_boot: "Enabled"
    secure_boot_mode: "UserMode"
    secure_boot_policy: "Custom"
    restart: true
    restart_type: "GracefulRestart"

- name: Reset Secure Boot certificates.
  dellemc.openmanage.idrac_secure_boot:
    idrac_ip: "192.168.1.2"
    idrac_user: "user"
    idrac_password: "password"
    ca_path: "/path/to/ca_cert.pem"
    reset_keys: "ResetAllKeysToDefault"

- name: Export multiple Secure Boot certificate.
  dellemc.openmanage.idrac_secure_boot:
    idrac_ip: "192.168.1.2"
    idrac_user: "user"
    idrac_password: "password"
    ca_path: "/path/to/ca_cert.pem"
    export_certificates: true
    platform_key: /user/name/export_cert/pk
    KEK:
      - /user/name/export_cert/kek
    database:
      - /user/name/export_cert/db
    disallow_database:
      - /user/name/export_cert/dbx

- name: Import multiple Secure Boot certificate without applying to iDRAC.
  dellemc.openmanage.idrac_secure_boot:
    idrac_ip: "192.168.1.2"
    idrac_user: "user"
    idrac_password: "password"
    ca_path: "/path/to/ca_cert.pem"
    import_certificates: true
    platform_key: /user/name/certificates/pk.pem
    KEK:
      - /user/name/certificates/kek1.pem
      - /user/name/certificates/kek2.pem
    database:
      - /user/name/certificates/db1.pem
      - /user/name/certificates/db2.pem
    disallow_database:
      - /user/name/certificates/dbx1.pem
      - /user/name/certificates/dbx2.pem

- name: Import a Secure Boot certificate and restart the server to apply it.
  dellemc.openmanage.idrac_secure_boot:
    idrac_ip: "192.168.1.2"
    idrac_user: "user"
    idrac_password: "password"
    ca_path: "/path/to/ca_cert.pem"
    import_certificates: true
    platform_key: /user/name/certificates/pk.pem
    restart: true
    job_wait_timeout: 600
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-return-error-info"><strong>error_info</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Details of the HTTP Error.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> on HTTP error</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>{"error": {"@Message.ExtendedInfo": [{"Message": "Unable to process the request because an error occurred.", "MessageArgs": [], "MessageId": "GEN1234", "RelatedProperties": [], "Resolution": "Retry the operation. If the issue persists, contact your system administrator.", "Severity": "Critical"}], "code": "Base.1.0.GeneralError", "message": "A general error has occurred. See ExtendedInfo for more information."}}</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-dellemc-openmanage-idrac-secure-boot-module-return-msg"><strong>msg</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Status of the secure boot operation.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"Successfully imported the SecureBoot certificate."</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Abhishek Sinha(@ABHISHEK-SINHA10)</li> <li>Lovepreet Singh (@singh-lovepreet1)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/dell/dellemc-openmanage-ansible-modules/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/dell/dellemc-openmanage-ansible-modules" rel="noopener external" target="_blank">Homepage</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/dell/dellemc-openmanage-ansible-modules/tree/collections" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/dellemc/openmanage/idrac_secure_boot_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/dellemc/openmanage/idrac_secure_boot_module.html</a>
  </p>
</div>
