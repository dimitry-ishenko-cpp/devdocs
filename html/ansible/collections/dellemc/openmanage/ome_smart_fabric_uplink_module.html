<h1 id="dellemc-openmanage-ome-smart-fabric-uplink-create-modify-or-delete-a-uplink-for-a-fabric-on-openmanage-enterprise-modular">dellemc.openmanage.ome_smart_fabric_uplink – Create, modify or delete a uplink for a fabric on OpenManage Enterprise Modular</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/dellemc/openmanage">dellemc.openmanage collection</a> (version 3.6.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install dellemc.openmanage</code>.</p> <p>To use it in a playbook, specify: <code>dellemc.openmanage.ome_smart_fabric_uplink</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.1.0: </span>of dellemc.openmanage</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module allows to create, modify or delete an uplink for a fabric.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 2.7.17</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>description</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Provide a short description for the uplink to be created or modified.</div> </td> </tr> <tr> <td colspan="1">  <b>fabric_name</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Provide the <em>fabric_name</em> of the fabric for which the uplink is to be configured.</div> </td> </tr> <tr> <td colspan="1">  <b>hostname</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>OpenManage Enterprise Modular IP address or hostname.</div> </td> </tr> <tr> <td colspan="1">  <b>name</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Provide the <em>name</em> of the uplink to be created, modified or deleted.</div> </td> </tr> <tr> <td colspan="1">  <b>new_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Provide the new <em>new_name</em> for the uplink.</div> </td> </tr> <tr> <td colspan="1">  <b>password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>OpenManage Enterprise Modular password.</div> </td> </tr> <tr> <td colspan="1">  <b>port</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>443</div> </td> <td> <div>OpenManage Enterprise Modular HTTPS port.</div> </td> </tr> <tr> <td colspan="1">  <b>primary_switch_ports</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>The IOM slots to be connected to the primary switch.</div> <div>
<em>primary_switch_service_tag</em> is mandatory for this option.</div> </td> </tr> <tr> <td colspan="1">  <b>primary_switch_service_tag</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Service tag of the primary switch.</div> </td> </tr> <tr> <td colspan="1">  <b>secondary_switch_ports</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>The IOM slots to be connected to the secondary switch.</div> <div>
<em>secondary_switch_service_tag</em> is mandatory for this option.</div> </td> </tr> <tr> <td colspan="1">  <b>secondary_switch_service_tag</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Service tag of the secondary switch.</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>present</b> ←</div></li> <li>absent</li> </ul> </td> <td> <div>
<code>present</code> - Creates a new uplink with the provided <em>name</em>. - Modifies an existing uplink with the provided <em>name</em>.</div> <div>
<code>absent</code> – Deletes the uplink with the provided <em>name</em>.</div> <div>
<em>WARNING</em> Delete operation can impact the network infrastructure.</div> </td> </tr> <tr> <td colspan="1">  <b>tagged_networks</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>VLANs to be associated with the uplink <em>name</em>.</div> </td> </tr> <tr> <td colspan="1">  <b>ufd_enable</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>Enabled</li> <li>Disabled</li> </ul> </td> <td> <div>Add or Remove the uplink to the Uplink Failure Detection (UFD) group. The UFD group identifies the loss of connectivity to the upstream switch and notifies the servers that are connected to the switch. During an uplink failure, the switch disables the corresponding downstream server ports. The downstream servers can then select alternate connectivity routes, if available.</div> <div>
<em>WARNING</em> The firmware version of the I/O Module running the Fabric Manager must support this configuration feature. If not, uplink creation will be successful with an appropriate error message in response.</div> </td> </tr> <tr> <td colspan="1">  <b>untagged_network</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specify the name of the VLAN to be added as untagged to the uplink.</div> </td> </tr> <tr> <td colspan="1">  <b>uplink_type</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>Ethernet</li> <li>FCoE</li> <li>FC Gateway</li> <li>FC Direct Attach</li> <li>Ethernet - No Spanning Tree</li> </ul> </td> <td> <div>Specify the uplink type.</div> <div>
<em>NOTE</em> The uplink type cannot be changed for an existing uplink.</div> </td> </tr> <tr> <td colspan="1">  <b>username</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>OpenManage Enterprise Modular username.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Run this module from a system that has direct access to DellEMC OpenManage Enterprise Modular.</li> <li>This module supports <code>check_mode</code>.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">---
- name: Create an Uplink
  dellemc.openmanage.ome_smart_fabric_uplink:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    state: "present"
    fabric_name: "fabric1"
    name: "uplink1"
    description: "CREATED from OMAM"
    uplink_type: "Ethernet"
    ufd_enable: "Enabled"
    primary_switch_service_tag: "ABC1234"
    primary_switch_ports:
      - ethernet1/1/13
      - ethernet1/1/14
    secondary_switch_service_tag: "XYZ1234"
    secondary_switch_ports:
      - ethernet1/1/13
      - ethernet1/1/14
    tagged_networks:
      - vlan1
      - vlan3
    untagged_network: vlan2
  tags: create_uplink

- name: Modify an existing uplink
  dellemc.openmanage.ome_smart_fabric_uplink:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    state: "present"
    fabric_name: "fabric1"
    name: "uplink1"
    new_name: "uplink2"
    description: "Modified from OMAM"
    uplink_type: "Ethernet"
    ufd_enable: "Disabled"
    primary_switch_service_tag: "DEF1234"
    primary_switch_ports:
      - ethernet1/2/13
      - ethernet1/2/14
    secondary_switch_service_tag: "TUV1234"
    secondary_switch_ports:
      - ethernet1/2/13
      - ethernet1/2/14
    tagged_networks:
      - vlan11
      - vlan33
    untagged_network: vlan22
  tags: modify_uplink

- name: Delete an Uplink
  dellemc.openmanage.ome_smart_fabric_uplink:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    state: "absent"
    fabric_name: "fabric1"
    name: "uplink1"
  tags: delete_uplink

- name: Modify an Uplink name
  dellemc.openmanage.ome_smart_fabric_uplink:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    state: "present"
    fabric_name: "fabric1"
    name: "uplink1"
    new_name: "uplink2"
  tags: modify_uplink_name

- name: Modify Uplink ports
  dellemc.openmanage.ome_smart_fabric_uplink:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    state: "present"
    fabric_name: "fabric1"
    name: "uplink1"
    description: "uplink ports modified"
    primary_switch_service_tag: "ABC1234"
    primary_switch_ports:
      - ethernet1/1/6
      - ethernet1/1/7
    secondary_switch_service_tag: "XYZ1234"
    secondary_switch_ports:
      - ethernet1/1/9
      - ethernet1/1/10
  tags: modify_ports

- name: Modify Uplink networks
  dellemc.openmanage.ome_smart_fabric_uplink:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    state: "present"
    fabric_name: "fabric1"
    name: "create1"
    description: "uplink networks modified"
    tagged_networks:
      - vlan4
  tags: modify_networks
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>additional_info</b>  <div> <span>dictionary</span> </div> </td> <td>when <em>state=present</em> and additional information present in response.</td> <td> <div>Additional details of the fabric operation.</div> <br> <div><b>Sample:</b></div> <div>{'error': {'@Message.ExtendedInfo': [{'Message': 'Unable to configure the Uplink Failure Detection mode on the uplink because the firmware version of the I/O Module running the Fabric Manager does not support the configuration feature.', 'MessageArgs': [], 'MessageId': 'CDEV7151', 'RelatedProperties': [], 'Resolution': "Update the firmware version of the I/O Module running the Fabric Manager and retry the operation. For information about the recommended I/O Module firmware versions, see the OpenManage Enterprise-Modular User's Guide available on the support site.", 'Severity': 'Informational'}], 'code': 'Base.1.0.GeneralError', 'message': 'A general error has occurred. See ExtendedInfo for more information.'}}</div> </td> </tr> <tr> <td colspan="1">  <b>error_info</b>  <div> <span>dictionary</span> </div> </td> <td>on HTTP error</td> <td> <div>Details of the HTTP Error.</div> <br> <div><b>Sample:</b></div> <div>{'error': {'@Message.ExtendedInfo': [{'Message': 'Unable to complete the request because the resource URI does not exist or is not implemented.', 'MessageArgs': [], 'MessageId': 'CGEN1006', 'RelatedProperties': [], 'Resolution': "Check the request resource URI. Refer to the OpenManage Enterprise-Modular User's Guide for more information about resource URI and its properties.", 'Severity': 'Critical'}], 'code': 'Base.1.0.GeneralError', 'message': 'A general error has occurred. See ExtendedInfo for more information.'}}</div> </td> </tr> <tr> <td colspan="1">  <b>msg</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Overall status of the uplink operation.</div> <br> <div><b>Sample:</b></div> <div>Successfully modified the uplink.</div> </td> </tr> <tr> <td colspan="1">  <b>uplink_id</b>  <div> <span>string</span> </div> </td> <td>when <em>state=present</em>
</td> <td> <div>Returns the ID when an uplink is created or modified.</div> <br> <div><b>Sample:</b></div> <div>ddc3d260-fd71-46a1-97f9-708e12345678</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Jagadeesh N V(@jagadeeshnv)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/dellemc/openmanage/ome_smart_fabric_uplink_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/dellemc/openmanage/ome_smart_fabric_uplink_module.html</a>
  </p>
</div>
