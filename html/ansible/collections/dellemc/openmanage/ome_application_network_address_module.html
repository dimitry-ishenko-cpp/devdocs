<h1 id="dellemc-openmanage-ome-application-network-address-updates-the-network-configuration-on-openmanage-enterprise">dellemc.openmanage.ome_application_network_address – Updates the network configuration on OpenManage Enterprise</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/dellemc/openmanage">dellemc.openmanage collection</a> (version 3.6.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install dellemc.openmanage</code>.</p> <p>To use it in a playbook, specify: <code>dellemc.openmanage.ome_application_network_address</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.1.0: </span>of dellemc.openmanage</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module allows the configuration of a DNS and an IPV4 or IPV6 network on OpenManage Enterprise.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 2.7.5</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>dns_configuration</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Domain Name System(DNS) settings.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>dns_domain_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static DNS domain name</div> <div>This is applicable when <em>use_dhcp_for_dns_domain_name</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>dns_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>DNS name for <em>hostname</em>
</div> <div>This is applicable when <em>register_with_dns</em> is true.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>register_with_dns</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Register/Unregister <em>dns_name</em> on the DNS Server.</div> <div>This option cannot be updated if vLAN configuration changes.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>use_dhcp_for_dns_domain_name</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Get the <em>dns_domain_name</em> using a DHCP server.</div> </td> </tr> <tr> <td colspan="2">  <b>enable_nic</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Enable or disable Network Interface Card (NIC) configuration.</div> </td> </tr> <tr> <td colspan="2">  <b>hostname</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>OpenManage Enterprise or OpenManage Enterprise Modular IP address or hostname.</div> </td> </tr> <tr> <td colspan="2">  <b>interface_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>If there are multiple interfaces, network configuration changes can be applied to a single interface using the interface name of the NIC.</div> <div>If this option is not specified, Primary interface is chosen by default.</div> </td> </tr> <tr> <td colspan="2">  <b>ipv4_configuration</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>IPv4 network configuration.</div> <div>
<em>Warning</em> Ensure that you have an alternate interface to access OpenManage Enterprise as these options can change the current IPv4 address for <em>hostname</em>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>enable</b>  <div> <span>boolean</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable or disable access to the network using IPv4.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>enable_dhcp</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable or disable the automatic request to get an IPv4 address from the IPv4 Dynamic Host Configuration Protocol (DHCP) server</div> <div>If <em>enable_dhcp</em> option is true, OpenManage Enterprise retrieves the IP configuration—IPv4 address, subnet mask, and gateway from a DHCP server on the existing network.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_alternate_dns_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv4 DNS alternate server</div> <div>This option is applicable when <em>use_dhcp_for_dns_server_names</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_gateway</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv4 gateway address</div> <div>This option is applicable when <em>enable_dhcp</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_ip_address</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv4 address</div> <div>This option is applicable when <em>enable_dhcp</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_preferred_dns_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv4 DNS preferred server</div> <div>This option is applicable when <em>use_dhcp_for_dns_server_names</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_subnet_mask</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv4 subnet mask address</div> <div>This option is applicable when <em>enable_dhcp</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>use_dhcp_for_dns_server_names</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>This option allows to automatically request and obtain a DNS server IPv4 address from the DHCP server.</div> <div>This option is applicable when <em>enable_dhcp</em> is true.</div> </td> </tr> <tr> <td colspan="2">  <b>ipv6_configuration</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>IPv6 network configuration.</div> <div>
<em>Warning</em> Ensure that you have an alternate interface to access OpenManage Enterprise as these options can change the current IPv6 address for <em>hostname</em>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>enable</b>  <div> <span>boolean</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable or disable access to the network using the IPv6.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>enable_auto_configuration</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable or disable the automatic request to get an IPv6 address from the IPv6 DHCP server or router advertisements(RA)</div> <div>If <em>enable_auto_configuration</em> is true, OME retrieves IP configuration-IPv6 address, prefix, and gateway, from a DHCPv6 server on the existing network</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_alternate_dns_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv6 DNS alternate server</div> <div>This option is applicable when <em>use_dhcp_for_dns_server_names</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_gateway</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv6 gateway address</div> <div>This option is applicable when <em>enable_auto_configuration</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_ip_address</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv6 address</div> <div>This option is applicable when <em>enable_auto_configuration</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_preferred_dns_server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Static IPv6 DNS preferred server</div> <div>This option is applicable when <em>use_dhcp_for_dns_server_names</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>static_prefix_length</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Static IPv6 prefix length</div> <div>This option is applicable when <em>enable_auto_configuration</em> is false.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>use_dhcp_for_dns_server_names</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>This option allows to automatically request and obtain a DNS server IPv6 address from the DHCP server.</div> <div>This option is applicable when <em>enable_auto_configuration</em> is true</div> </td> </tr> <tr> <td colspan="2">  <b>management_vlan</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>vLAN configuration.</div> <div>These settings are applicable for OpenManage Enterprise Modular.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>enable_vlan</b>  <div> <span>boolean</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable or disable vLAN for management.</div> <div>The vLAN configuration cannot be updated if the <em>register_with_dns</em> field under <em>dns_configuration</em> is true.</div> <div>
<em>WARNING</em> Ensure that the network cable is plugged to the correct port after the vLAN configuration changes have been made. If not, the configuration change may not be effective.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>vlan_id</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>vLAN ID.</div> <div>This option is applicable when <em>enable_vlan</em> is true.</div> </td> </tr> <tr> <td colspan="2">  <b>password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>OpenManage Enterprise or OpenManage Enterprise Modular password.</div> </td> </tr> <tr> <td colspan="2">  <b>port</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>443</div> </td> <td> <div>OpenManage Enterprise or OpenManage Enterprise Modular HTTPS port.</div> </td> </tr> <tr> <td colspan="2">  <b>reboot_delay</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>The time in seconds, after which settings are applied.</div> <div>This option is not mandatory.</div> </td> </tr> <tr> <td colspan="2">  <b>username</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>OpenManage Enterprise or OpenManage Enterprise Modular username.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>The configuration changes can only be applied to one interface at a time.</li> <li>The system management consoles might be unreachable for some time after the configuration changes are applied.</li> <li>This module does not support <code>check_mode</code>.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">---
- name: IPv4 network configuration for primary interface
  dellemc.openmanage.ome_application_network_address:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    enable_nic: true
    ipv4_configuration:
      enable: true
      enable_dhcp: false
      static_ip_address: 192.168.0.2
      static_subnet_mask: 255.255.254.0
      static_gateway: 192.168.0.3
      use_dhcp_for_dns_server_names: false
      static_preferred_dns_server: 192.168.0.4
      static_alternate_dns_server: 192.168.0.5
    reboot_delay: 5

- name: IPv6 network configuration for primary interface
  dellemc.openmanage.ome_application_network_address:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    ipv6_configuration:
      enable: true
      enable_auto_configuration: true
      static_ip_address: 2626:f2f2:f081:9:1c1c:f1f1:4747:1
      static_prefix_length: 10
      static_gateway: 2626:f2f2:f081:9:1c1c:f1f1:4747:2
      use_dhcp_for_dns_server_names: true
      static_preferred_dns_server: 2626:f2f2:f081:9:1c1c:f1f1:4747:3
      static_alternate_dns_server: 2626:f2f2:f081:9:1c1c:f1f1:4747:4

- name: Management vLAN configuration for primary interface
  dellemc.openmanage.ome_application_network_address:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    management_vlan:
      enable_vlan: true
      vlan_id: 3344
    dns_configuration:
      register_with_dns: false
    reboot_delay: 1

- name: DNS settings
  dellemc.openmanage.ome_application_network_address:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    ipv4_configuration:
      enable: true
      use_dhcp_for_dns_server_names: false
      static_preferred_dns_server: 192.168.0.4
      static_alternate_dns_server: 192.168.0.5
    dns_configuration:
      register_with_dns: true
      use_dhcp_for_dns_domain_name: false
      dns_name: "MX-SVCTAG"
      dns_domain_name: "dnslocaldomain"

- name: Disbale nic interface eth1
  dellemc.openmanage.ome_application_network_address:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    enable_nic: false
    interface_name: eth1

- name: Complete network settings for interface eth1
  dellemc.openmanage.ome_application_network_address:
    hostname: "192.168.0.1"
    username: "username"
    password: "password"
    enable_nic: true
    interface_name: eth1
    ipv4_configuration:
      enable: true
      enable_dhcp: false
      static_ip_address: 192.168.0.2
      static_subnet_mask: 255.255.254.0
      static_gateway: 192.168.0.3
      use_dhcp_for_dns_server_names: false
      static_preferred_dns_server: 192.168.0.4
      static_alternate_dns_server: 192.168.0.5
    ipv6_configuration:
      enable: true
      enable_auto_configuration: true
      static_ip_address: 2626:f2f2:f081:9:1c1c:f1f1:4747:1
      static_prefix_length: 10
      static_gateway: ffff::2607:f2b1:f081:9
      use_dhcp_for_dns_server_names: true
      static_preferred_dns_server: 2626:f2f2:f081:9:1c1c:f1f1:4747:3
      static_alternate_dns_server: 2626:f2f2:f081:9:1c1c:f1f1:4747:4
    dns_configuration:
      register_with_dns: true
      use_dhcp_for_dns_domain_name: false
      dns_name: "MX-SVCTAG"
      dns_domain_name: "dnslocaldomain"
    reboot_delay: 5
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>error_info</b>  <div> <span>dictionary</span> </div> </td> <td>on HTTP error</td> <td> <div>Details of the HTTP error.</div> <br> <div><b>Sample:</b></div> <div>{'error': {'@Message.ExtendedInfo': [{'Message': 'Unable to update the address configuration because a dependent field is missing for Use DHCP for DNS Domain Name, Enable DHCP for ipv4 or Enable Autoconfig for ipv6 settings for valid configuration .', 'MessageArgs': ['Use DHCP for DNS Domain Name, Enable DHCP for ipv4 or Enable Autoconfig for ipv6 settings for valid configuration'], 'MessageId': 'CAPP1304', 'RelatedProperties': [], 'Resolution': 'Make sure that all dependent fields contain valid content and retry the operation.', 'Severity': 'Critical'}], 'code': 'Base.1.0.GeneralError', 'message': 'A general error has occurred. See ExtendedInfo for more information.'}}</div> </td> </tr> <tr> <td colspan="1">  <b>job_info</b>  <div> <span>dictionary</span> </div> </td> <td>on success</td> <td> <div>Details of the job to update in case OME version is &gt;= 3.3.</div> <br> <div><b>Sample:</b></div> <div>{'Builtin': False, 'CreatedBy': 'system', 'Editable': True, 'EndTime': None, 'Id': 14902, 'JobDescription': 'Generic OME runtime task', 'JobName': 'OMERealtime_Task', 'JobStatus': {'Id': 2080, 'Name': 'New'}, 'JobType': {'Id': 207, 'Internal': True, 'Name': 'OMERealtime_Task'}, 'LastRun': None, 'LastRunStatus': {'Id': 2080, 'Name': 'New'}, 'NextRun': None, 'Params': [{'JobId': 14902, 'Key': 'Nmcli_Update', 'Value': '{"interfaceName":"eth0","profileName":"eth0","enableNIC":true, "ipv4Configuration":{"enable":true,"enableDHCP":true,"staticIPAddress":"", "staticSubnetMask":"","staticGateway":"","useDHCPForDNSServerNames":true, "staticPreferredDNSServer":"","staticAlternateDNSServer":""}, "ipv6Configuration":{"enable":false,"enableAutoConfiguration":true,"staticIPAddress":"", "staticPrefixLength":0,"staticGateway":"","useDHCPForDNSServerNames":false, "staticPreferredDNSServer":"","staticAlternateDNSServer":""}, "managementVLAN":{"enableVLAN":false,"id":0},"dnsConfiguration":{"registerWithDNS":false, "dnsName":"","useDHCPForDNSDomainName":false,"dnsDomainName":"","fqdndomainName":"", "ipv4CurrentPreferredDNSServer":"","ipv4CurrentAlternateDNSServer":"", "ipv6CurrentPreferredDNSServer":"","ipv6CurrentAlternateDNSServer":""}, "currentSettings":{"ipv4Address":[],"ipv4Gateway":"","ipv4Dns":[],"ipv4Domain":"", "ipv6Address":[],"ipv6LinkLocalAddress":"","ipv6Gateway":"","ipv6Dns":[], "ipv6Domain":""},"delay":0,"primaryInterface":true,"modifiedConfigs":{}}'}], 'Schedule': 'startnow', 'StartTime': None, 'State': 'Enabled', 'Targets': [], 'UpdatedBy': None, 'Visible': True}</div> </td> </tr> <tr> <td colspan="1">  <b>msg</b>  <div> <span>string</span> </div> </td> <td>always</td> <td> <div>Overall status of the network address configuration change.</div> <br> <div><b>Sample:</b></div> <div>Successfully updated network address configuration</div> </td> </tr> <tr> <td colspan="1">  <b>network_configuration</b>  <div> <span>dictionary</span> </div> </td> <td>on success</td> <td> <div>Updated application network address configuration.</div> <br> <div><b>Sample:</b></div> <div>{'Delay': 0, 'DnsConfiguration': {'DnsDomainName': '', 'DnsName': 'MX-SVCTAG', 'RegisterWithDNS': False, 'UseDHCPForDNSDomainName': True}, 'EnableNIC': True, 'InterfaceName': 'eth0', 'Ipv4Configuration': {'Enable': True, 'EnableDHCP': False, 'StaticAlternateDNSServer': '', 'StaticGateway': '192.168.0.2', 'StaticIPAddress': '192.168.0.3', 'StaticPreferredDNSServer': '192.168.0.4', 'StaticSubnetMask': '255.255.254.0', 'UseDHCPForDNSServerNames': False}, 'Ipv6Configuration': {'Enable': True, 'EnableAutoConfiguration': True, 'StaticAlternateDNSServer': '', 'StaticGateway': '', 'StaticIPAddress': '', 'StaticPreferredDNSServer': '', 'StaticPrefixLength': 0, 'UseDHCPForDNSServerNames': True}, 'ManagementVLAN': {'EnableVLAN': False, 'Id': 1}, 'PrimaryInterface': True}</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Jagadeesh N V(@jagadeeshnv)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/dellemc/openmanage/ome_application_network_address_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/dellemc/openmanage/ome_application_network_address_module.html</a>
  </p>
</div>
