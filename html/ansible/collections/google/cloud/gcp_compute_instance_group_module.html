<h1 id="google-cloud-gcp-compute-instance-group-creates-a-gcp-instancegroup">google.cloud.gcp_compute_instance_group – Creates a GCP InstanceGroup</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/google/cloud">google.cloud collection</a> (version 1.0.2).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install google.cloud</code>.</p> <p>To use it in a playbook, specify: <code>google.cloud.gcp_compute_instance_group</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Represents an Instance Group resource. Instance groups are self-managed and can contain identical or different instances. Instance groups do not use an instance template. Unlike managed instance groups, you must create and add instances to an instance group manually.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 2.6</li> <li>requests &gt;= 2.18.4</li> <li>google-auth &gt;= 1.3.0</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>auth_kind</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>application</li> <li>machineaccount</li> <li>serviceaccount</li> </ul> </td> <td> <div>The type of credential used.</div> </td> </tr> <tr> <td colspan="2">  <b>description</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>An optional description of this resource. Provide this property when you create the resource.</div> </td> </tr> <tr> <td colspan="2">  <b>env_type</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Specifies which Ansible environment you're running this module within.</div> <div>This should not be set unless you know what you're doing.</div> <div>This only alters the User Agent string for any API requests.</div> </td> </tr> <tr> <td colspan="2">  <b>instances</b>  <div> <span>list</span> / <span>elements=dictionary</span> </div> </td> <td> </td> <td> <div>The list of instances associated with this InstanceGroup.</div> <div>All instances must be created before being added to an InstanceGroup.</div> <div>All instances not in this list will be removed from the InstanceGroup and will not be deleted.</div> <div>Only the full identifier of the instance will be returned.</div> </td> </tr> <tr> <td colspan="2">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The name of the instance group.</div> <div>The name must be 1-63 characters long, and comply with RFC1035.</div> </td> </tr> <tr> <td colspan="2">  <b>named_ports</b>  <div> <span>list</span> / <span>elements=dictionary</span> </div> </td> <td> </td> <td> <div>Assigns a name to a port number.</div> <div>For example: {name: "http", port: 80}.</div> <div>This allows the system to reference ports by the assigned name instead of a port number. Named ports can also contain multiple ports.</div> <div>For example: [{name: "http", port: 80},{name: "http", port: 8080}] Named ports apply to all instances in this instance group.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The name for this named port.</div> <div>The name must be 1-63 characters long, and comply with RFC1035.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>port</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>The port number, which can be a value between 1 and 65535.</div> </td> </tr> <tr> <td colspan="2">  <b>network</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>The network to which all instances in the instance group belong.</div> <div>This field represents a link to a Network resource in GCP. It can be specified in two ways. First, you can place a dictionary with key 'selfLink' and value of your resource's selfLink Alternatively, you can add `register: name-of-resource` to a gcp_compute_network task and then set this network field to "{{ name-of-resource }}"</div> </td> </tr> <tr> <td colspan="2">  <b>project</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The Google Cloud Platform project to use.</div> </td> </tr> <tr> <td colspan="2">  <b>region</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The region where the instance group is located (for regional resources).</div> </td> </tr> <tr> <td colspan="2">  <b>scopes</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>Array of scopes to be used</div> </td> </tr> <tr> <td colspan="2">  <b>service_account_contents</b>  <div> <span>jsonarg</span> </div> </td> <td> </td> <td> <div>The contents of a Service Account JSON file, either in a dictionary or as a JSON string that represents it.</div> </td> </tr> <tr> <td colspan="2">  <b>service_account_email</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>An optional service account email address if machineaccount is selected and the user does not wish to use the default email.</div> </td> </tr> <tr> <td colspan="2">  <b>service_account_file</b>  <div> <span>path</span> </div> </td> <td> </td> <td> <div>The path of a Service Account JSON file if serviceaccount is selected as type.</div> </td> </tr> <tr> <td colspan="2">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>present</b> ←</div></li> <li>absent</li> </ul> </td> <td> <div>Whether the given object should exist in GCP</div> </td> </tr> <tr> <td colspan="2">  <b>subnetwork</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>The subnetwork to which all instances in the instance group belong.</div> <div>This field represents a link to a Subnetwork resource in GCP. It can be specified in two ways. First, you can place a dictionary with key 'selfLink' and value of your resource's selfLink Alternatively, you can add `register: name-of-resource` to a gcp_compute_subnetwork task and then set this subnetwork field to "{{ name-of-resource }}"</div> </td> </tr> <tr> <td colspan="2">  <b>zone</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>A reference to the zone where the instance group resides.</div> </td> </tr> </table> <br>  <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: create a network
  google.cloud.gcp_compute_network:
    name: network-instancegroup
    project: "{{ gcp_project }}"
    auth_kind: "{{ gcp_cred_kind }}"
    service_account_file: "{{ gcp_cred_file }}"
    state: present
  register: network

- name: create a instance group
  google.cloud.gcp_compute_instance_group:
    name: test_object
    named_ports:
    - name: ansible
      port: 1234
    network: "{{ network }}"
    zone: us-central1-a
    project: test_project
    auth_kind: serviceaccount
    service_account_file: "/tmp/auth.pem"
    state: present
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="2">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="2">  <b>creationTimestamp</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Creation timestamp in RFC3339 text format.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>description</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>An optional description of this resource. Provide this property when you create the resource.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>id</b>  <div> <span>integer</span> </div> </td> <td>success</td> <td> <div>A unique identifier for this instance group.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>instances</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>success</td> <td> <div>The list of instances associated with this InstanceGroup.</div> <div>All instances must be created before being added to an InstanceGroup.</div> <div>All instances not in this list will be removed from the InstanceGroup and will not be deleted.</div> <div>Only the full identifier of the instance will be returned.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>name</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The name of the instance group.</div> <div>The name must be 1-63 characters long, and comply with RFC1035.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>namedPorts</b>  <div> <span>complex</span> </div> </td> <td>success</td> <td> <div>Assigns a name to a port number.</div> <div>For example: {name: "http", port: 80}.</div> <div>This allows the system to reference ports by the assigned name instead of a port number. Named ports can also contain multiple ports.</div> <div>For example: [{name: "http", port: 80},{name: "http", port: 8080}] Named ports apply to all instances in this instance group.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>name</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The name for this named port.</div> <div>The name must be 1-63 characters long, and comply with RFC1035.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>port</b>  <div> <span>integer</span> </div> </td> <td>success</td> <td> <div>The port number, which can be a value between 1 and 65535.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>network</b>  <div> <span>dictionary</span> </div> </td> <td>success</td> <td> <div>The network to which all instances in the instance group belong.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>region</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>The region where the instance group is located (for regional resources).</div> <br> </td> </tr> <tr> <td colspan="2">  <b>subnetwork</b>  <div> <span>dictionary</span> </div> </td> <td>success</td> <td> <div>The subnetwork to which all instances in the instance group belong.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>zone</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>A reference to the zone where the instance group resides.</div> <br> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Google Inc. (@googlecloudplatform)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/google/cloud/gcp_compute_instance_group_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/google/cloud/gcp_compute_instance_group_module.html</a>
  </p>
</div>
