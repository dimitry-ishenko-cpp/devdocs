<section id="chocolatey-chocolatey-win-chocolatey-module-manage-packages-using-chocolatey"> <h1>chocolatey.chocolatey.win_chocolatey module – Manage packages using chocolatey</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/chocolatey/chocolatey/">chocolatey.chocolatey collection</a> (version 1.5.3).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install chocolatey.chocolatey</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-chocolatey-chocolatey-win-chocolatey-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>chocolatey.chocolatey.win_chocolatey</code>.</p> </div> <p class="ansible-version-added">New in chocolatey.chocolatey 0.1.9</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id5">See Also</a></li> <li><a class="reference internal" href="#examples" id="id6">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id7">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>Manage packages using Chocolatey.</li> <li>If Chocolatey is missing from the system, the module will install it.</li> <li>If there are multiple installations of choco.exe in env:PATH, it will use the first found one</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>chocolatey &gt;= 0.10.5 (will be upgraded if older)</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-allow-empty-checksums"><strong>allow_empty_checksums</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.2</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Allow empty checksums to be used for downloaded resource from non-secure locations.</p> <p>Use <a class="reference internal" href="win_chocolatey_feature_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-feature-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_feature</span></a> with the name <code>allowEmptyChecksums</code> to control this option globally.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-allow-multiple"><strong>allow_multiple</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.8</em></p> </div></td> <td><div class="ansible-option-cell">
<p>This option is deprecated and will be removed in v2.0.0 of this collection. Chocolatey CLI has <a class="reference external" href="https://github.com/chocolatey/choco/issues/2787">deprecated side-by-side installations</a> as of its v1.2.0 release and plans to remove them in its v2.0.0 release.</p> <p>Chocolatey CLI (choco) v2.0.0 and higher do not support this option. This module will return an error if this option is enabled and the installed version of Chocolatey CLI on the client is v2.0.0 or higher.</p> <p>Allow the installation of multiple packages when <em>version</em> is specified.</p> <p>Having multiple packages at different versions can cause issues if the package doesn’t support this. Use at your own risk.</p> <p>The value of this parameter is ignored if <em>state</em> is <code>absent</code>. Instead, this parameter is automatically configured to remove all versions if <em>version</em> is not specified, and the specific version only if <em>version</em> is specified.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-allow-prerelease"><strong>allow_prerelease</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.6</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Allow the installation of pre-release packages.</p> <p>If <em>state</em> is <code>latest</code>, the latest pre-release package will be installed.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-architecture"><strong>architecture</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.7</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Force Chocolatey to install the package of a specific process architecture.</p> <p>When setting <code>x86</code>, will ensure Chocolatey installs the x86 package even when on an x64 bit OS.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>"default"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"x86"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">   
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-install-ps1"><strong id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-bootstrap-ps1">bootstrap_script</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: install_ps1, bootstrap_ps1</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 1.3.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Specify the bootstrap script URL that can be used to install Chocolatey if it is not already present on the system.</p> <p>Use this parameter when <em>name</em> is <code>chocolatey</code> to ensure that a custom bootstrap script is used.</p> <p>If neither this parameter nor <em>source</em> is set, the bootstrap script url will be <code>https://community.chocolatey.org/install.ps1</code></p> <p>If this parameter is not set, and <em>source</em> is set to a url, the bootstrap script url will be determined from that url instead.</p> <p>This parameter only defines which bootstrap script is used to download and install Chocolatey. To define the URL to a specific Chocolatey nupkg to install, note that many bootstrap scripts respect the value of the <code>chocolateyDownloadUrl</code> environment variable, which can be set for the task as well.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">    
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-tls-versions"><strong id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-bootstrap-tls-version">bootstrap_tls_version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: bootstrap_tls_versions, tls_version, tls_versions</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 1.4.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Specify the TLS versions used when retrieving and invoking the <em>bootstrap_script</em> to install Chocolatey if it is not already installed on the system.</p> <p>Does not change the TLS versions used by Chocolatey itself after it has already been installed.</p> <p>Specified TLS versions may be ignored or unused if the target TLS version is not available on the client.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"tls11"</code></li> <li>
<code><strong>"tls12"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li>
<code><strong>"tls13"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>["tls12", "tls13"]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-checksum"><strong>checksum</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 1.5.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Override a package’s checksums for files downloaded during installation.</p> <p>If the checksum is not MD5, you will need to specify the <em>checksum_type</em> as well.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-checksum64"><strong>checksum64</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 1.5.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Override a package’s checksums for 64-bit files downloaded during installation.</p> <p>If the checksum is not MD5, you will need to specify the <em>checksum_type64</em> as well.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-checksum-type"><strong>checksum_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 1.5.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Override a package’s checksum type for files downloaded during install. Use in conjunction with <em>checksum</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"md5"</code></li> <li><code>"sha1"</code></li> <li><code>"sha256"</code></li> <li><code>"sha512"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-checksum-type64"><strong>checksum_type64</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 1.5.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Override a package’s checksum type for files downloaded during install. Use in conjunction with <em>checksum64</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"md5"</code></li> <li><code>"sha1"</code></li> <li><code>"sha256"</code></li> <li><code>"sha512"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-licensed-args"><strong id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-choco-args">choco_args</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: licensed_args</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 1.2.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Additional parameters to pass to choco.exe</p> <p>These may be any additional parameters to pass through directly to Chocolatey, in addition to the arguments already specified via other parameters.</p> <p>This may be used to pass licensed options to Chocolatey, for example <code>--package-parameters-sensitive</code> or <code>--install-directory</code>.</p> <p>Passing licensed options may result in them being ignored or causing errors if the targeted node is unlicensed or missing the chocolatey.extension package.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-force"><strong>force</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Forces the install of a package, even if it already is installed.</p> <p>Using <em>force</em> will cause Ansible to always report that a change was made.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-ignore-checksums"><strong>ignore_checksums</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.2</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Ignore the checksums provided by the package.</p> <p>Use <a class="reference internal" href="win_chocolatey_feature_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-feature-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_feature</span></a> with the name <code>checksumFiles</code> to control this option globally.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-ignore-dependencies"><strong>ignore_dependencies</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.1</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Ignore dependencies, only install/upgrade the package itself.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-install-args"><strong>install_args</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.1</em></p> </div></td> <td><div class="ansible-option-cell">
<p>These are arguments that are passed directly to the installer run by the Chocolatey package, for example MSI properties or command-line arguments for the specific native installer used by the package.</p> <p>For parameters that need to be passed to the chocolateyInstall script for the Chocolatey package itself, use <em>package_params</em>.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-name"><strong>name</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Name of the package(s) to be installed.</p> <p>Set to <code>all</code> to run the action on all the installed packages.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-override-args"><strong>override_args</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.10</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Override arguments of native installer with arguments provided by user.</p> <p>Should install arguments be used exclusively without appending to current package passed arguments.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-params"><strong id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-package-params">package_params</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: params</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.1</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Parameters to pass to the package’s chocolateyInstall script.</p> <p>These are parameters specific to the Chocolatey package and are generally documented by the package itself.</p> <p>For parameters that should be passed directly to the underlying installer (for example, MSI installer properties and arguments), use <em>install_args</em> instead.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-pinned"><strong>pinned</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.8</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to pin the Chocolatey package or not.</p> <p>If omitted then no checks on package pins are done.</p> <p>Will pin/unpin the specific version if <em>version</em> is set.</p> <p>Will pin the latest version of a package if <code>true</code>, <em>version</em> is not set and and no pin already exists.</p> <p>Will unpin all versions of a package if <code>no</code> and <em>version</em> is not set.</p> <p>This is ignored when <code>state=absent</code>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-proxy-password"><strong>proxy_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.4</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Proxy password used to install Chocolatey and the package.</p> <p>This value is exposed as a command argument and any privileged account can see this value when the module is running Chocolatey, define the password on the global config level with <a class="reference internal" href="win_chocolatey_config_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-config-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_config</span></a> with name <code>proxyPassword</code> to avoid this.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-proxy-url"><strong>proxy_url</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.4</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Proxy URL used to install chocolatey and the package.</p> <p>Use <a class="reference internal" href="win_chocolatey_config_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-config-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_config</span></a> with the name <code>proxy</code> to control this option globally.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-proxy-username"><strong>proxy_username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.4</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Proxy username used to install Chocolatey and the package.</p> <p>Before Ansible 2.7, users with double quote characters <code>"</code> would need to be escaped with <code>\</code> beforehand. This is no longer necessary.</p> <p>Use <a class="reference internal" href="win_chocolatey_config_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-config-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_config</span></a> with the name <code>proxyUser</code> to control this option globally.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-remove-dependencies"><strong>remove_dependencies</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 1.1.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Remove a package’s dependencies on uninstall.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-skip-scripts"><strong>skip_scripts</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.4</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Do not run <em>chocolateyInstall.ps1</em> or <em>chocolateyUninstall.ps1</em> scripts when installing a package.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-source"><strong>source</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specify the source to retrieve the package from.</p> <p>Use <a class="reference internal" href="win_chocolatey_source_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-source-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_source</span></a> to manage global sources.</p> <p>This value can either be the URL to a Chocolatey feed, a path to a folder containing <code>.nupkg</code> packages or the name of a source defined by <a class="reference internal" href="win_chocolatey_source_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-source-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_source</span></a>.</p> <p>When Chocolatey is not yet installed, prefer using <em>bootstrap_script</em> instead to determine where to pull the bootstrap script from.</p> <p>This value may also be used when Chocolatey is not installed as the location of the install.ps1 script if <em>bootstrap_script</em> is not set, and only supports URLs for this case. In this case, if the URL ends in “.ps1”, it is used as-is. Otherwise, if the URL appears to contain a “/repository/” fragment, the module will attempt to append “/install.ps1” to find an install script. If neither of these checks pass, the module will strip off the URL path and try to find an “/install.ps1” from the root of the server.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-source-password"><strong>source_password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.7</em></p> </div></td> <td><div class="ansible-option-cell">
<p>The password for <em>source_username</em>.</p> <p>This value is exposed as a command argument and any privileged account can see this value when the module is running Chocolatey, define the credentials with a source with <a class="reference internal" href="win_chocolatey_source_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-source-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_source</span></a> to avoid this.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-source-username"><strong>source_username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.7</em></p> </div></td> <td><div class="ansible-option-cell">
<p>A username to use with <em>source</em> when accessing a feed that requires authentication.</p> <p>It is recommended you define the credentials on a source with <a class="reference internal" href="win_chocolatey_source_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-source-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_source</span></a> instead of passing it per task.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>State of the package on the system.</p> <p>When <code>absent</code>, will ensure the package is not installed.</p> <p>When <code>present</code>, will ensure the package is installed.</p> <p>When <code>downgrade</code>, will allow Chocolatey to downgrade a package if <em>version</em> is older than the installed version.</p> <p>When <code>latest</code> or <code>upgrade</code>, will ensure the package is installed to the latest available version.</p> <p>When <code>reinstalled</code>, will uninstall and reinstall the package.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>"absent"</code></li> <li><code>"downgrade"</code></li> <li><code>"upgrade"</code></li> <li><code>"latest"</code></li> <li>
<code><strong>"present"</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>"reinstalled"</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-timeout"><strong id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-execution-timeout">timeout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: execution_timeout</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.3</em></p> </div></td> <td><div class="ansible-option-cell">
<p>The time (in seconds) to allow chocolatey to finish before timing out.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>2700</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in chocolatey.chocolatey 0.2.7</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Used when downloading the Chocolatey install script if Chocolatey is not already installed, this does not affect the Chocolatey package install process.</p> <p>When <code>no</code>, no SSL certificates will be validated.</p> <p>This should only be used on personally controlled sites using self-signed certificate.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-parameter-version"><strong>version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Specific version of the package to be installed.</p> <p>When <em>state</em> is set to <code>absent</code>, will uninstall the specific version otherwise all versions of that package will be removed.</p> <p>When <em>state</em> is set to <code>present</code> and the package is already installed at a version that does not match, this task fails.</p> <p>If a different version of package is already installed, <em>state</em> must be <code>latest</code>, <code>upgrade</code>, or <code>downgrade</code>, or <em>force</em> must be set to <code>true</code> to install the desired version.</p> <p>Provide as a string (e.g. <code>'6.1'</code>), otherwise it is considered to be a floating-point number and depending on the locale could become <code>6,1</code>, which will cause a failure.</p> <p>If <em>name</em> is set to <code>chocolatey</code> and Chocolatey is not installed on the host, this will be the version of Chocolatey that is installed. You can also set the <code>chocolateyVersion</code> environment var.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>This module will install or upgrade Chocolatey when needed.</li> <li>When using verbosity 2 or less (<code>-vv</code>) the <code>stdout</code> output will be restricted. When using verbosity 4 (<code>-vvvv</code>) the <code>stdout</code> output will be more verbose. When using verbosity 5 (<code>-vvvvv</code>) the <code>stdout</code> output will include debug output.</li> <li>Some packages, like hotfixes or updates need an interactive user logon in order to install. You can use <code>become</code> to achieve this, see :ref:`become_windows`. Even if you are connecting as local Administrator, using <code>become</code> to become Administrator will give you an interactive user logon, see examples below.</li> <li>If <code>become</code> is unavailable, use <span class="xref std std-ref">ansible.windows.win_hotfix</span> to install hotfixes instead of <a class="reference internal" href="#ansible-collections-chocolatey-chocolatey-win-chocolatey-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey</span></a> as <span class="xref std std-ref">ansible.windows.win_hotfix</span> avoids using <code>wusa.exe</code> which cannot be run without <code>become</code>.</li> <li>From Chocolatey CLI 2.0.0 and above, the minimum .NET Framework version required was changed to .NET Framework 4.8. If this requirement is not met, and a 1.x version of Chocolatey CLI is not specified, then <a class="reference internal" href="#ansible-collections-chocolatey-chocolatey-win-chocolatey-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey</span></a> will not attempt to install Chocolatey CLI. See the examples section below for one method of meeting the .NET Framework 4.8 requirement and also refer to the <a class="reference external" href="https://docs.chocolatey.org/en-us/guides/upgrading-to-chocolatey-v2-v6">Chocolatey documentation</a> for more information about Chocolatey CLI 2.0.0.</li> </ul> </div> </section> <section id="see-also"> <h2>See Also</h2> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="win_chocolatey_config_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-config-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_config</span></a></dt>
<dd>
<p>Manages Chocolatey config settings.</p> </dd> <dt><a class="reference internal" href="win_chocolatey_facts_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-facts-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_facts</span></a></dt>
<dd>
<p>Create a facts collection for Chocolatey.</p> </dd> <dt><a class="reference internal" href="win_chocolatey_feature_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-feature-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_feature</span></a></dt>
<dd>
<p>Manages Chocolatey features.</p> </dd> <dt><a class="reference internal" href="win_chocolatey_source_module.html#ansible-collections-chocolatey-chocolatey-win-chocolatey-source-module"><span class="std std-ref">chocolatey.chocolatey.win_chocolatey_source</span></a></dt>
<dd>
<p>Manages Chocolatey sources.</p> </dd> <dt><a class="reference internal" href="../../ansible/windows/win_feature_module.html#ansible-collections-ansible-windows-win-feature-module"><span class="std std-ref">ansible.windows.win_feature</span></a></dt>
<dd>
<p>Installs and uninstalls Windows Features on Windows Server.</p> </dd> <dt><span class="xref std std-ref">ansible.windows.win_hotfix</span></dt>
<dd>
<p>Use when <code>become</code> is unavailable, to avoid using <code>wusa.exe</code>.</p> </dd> <dt><a class="reference internal" href="../../ansible/windows/win_package_module.html#ansible-collections-ansible-windows-win-package-module"><span class="std std-ref">ansible.windows.win_package</span></a></dt>
<dd>
<p>Installs/uninstalls an installable package.</p> </dd> <dt><a class="reference internal" href="../../ansible/windows/win_updates_module.html#ansible-collections-ansible-windows-win-updates-module"><span class="std std-ref">ansible.windows.win_updates</span></a></dt>
<dd>
<p>Download and install Windows updates.</p> </dd> <dt><a class="reference external" href="http://chocolatey.org/">Chocolatey website</a></dt>
<dd>
<p>More information about the Chocolatey tool.</p> </dd> <dt><a class="reference external" href="http://chocolatey.org/packages">Chocolatey packages</a></dt>
<dd>
<p>An overview of the available Chocolatey packages.</p> </dd> <dt><a class="reference internal" href="../../../playbook_guide/playbooks_privilege_escalation.html#become-windows"><span class="std std-ref">Become and Windows</span></a></dt>
<dd>
<p>Some packages, like hotfixes or updates need an interactive user logon in order to install. You can use <code>become</code> to achieve this.</p> </dd> </dl> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Install git
  win_chocolatey:
    name: git
    state: present

- name: Upgrade installed packages
  win_chocolatey:
    name: all
    state: latest

- name: Install notepadplusplus version 6.6
  win_chocolatey:
    name: notepadplusplus
    version: '6.6'

- name: Install notepadplusplus 32 bit version
  win_chocolatey:
    name: notepadplusplus
    architecture: x86

- name: Install git from specified repository
  win_chocolatey:
    name: git
    source: https://someserver/api/v2/

- name: Install git from a pre configured source (win_chocolatey_source)
  win_chocolatey:
    name: git
    source: internal_repo

- name: Ensure Chocolatey itself is installed, using community repo for the bootstrap
  win_chocolatey:
    name: chocolatey

- name: Ensure Chocolatey itself is installed, bootstrapping with a specific nupkg url
  win_chocolatey:
    name: chocolatey
  environment:
    chocolateyDownloadUrl: "https://internal-web-server/files/chocolatey.1.1.0.nupkg"

- name: Ensure Chocolatey itself is installed and use internal repo as source for bootstrap script
  win_chocolatey:
    name: chocolatey
    source: http://someserver/chocolatey

- name: Ensure Chocolatey itself is installed, using a specific bootstrap script
  win_chocolatey:
    name: chocolatey
    bootstrap_script: https://internal-web-server/files/custom-chocolatey-install.ps1

- name: Ensure Chocolatey itself is installed, using a specific bootstrap script and target nupkg
  win_chocolatey:
    name: chocolatey
    bootstrap_script: https://internal-web-server/files/custom-chocolatey-install.ps1
  environment:
    chocolateyDownloadUrl: "https://internal-web-server/files/chocolatey.1.1.0.nupkg"

- name: Uninstall git
  win_chocolatey:
    name: git
    state: absent

- name: Install multiple packages
  win_chocolatey:
    name:
    - procexp
    - putty
    - windirstat
    state: present

- name: Install multiple packages sequentially
  win_chocolatey:
    name: '{{ item }}'
    state: present
  loop:
  - procexp
  - putty
  - windirstat

- name: Uninstall multiple packages
  win_chocolatey:
    name:
    - procexp
    - putty
    - windirstat
    state: absent

- name: Uninstall a package and dependencies
  win_chocolatey:
    name: audacity-lame
    remove_dependencies: true
    state: absent

- name: Install curl using proxy
  win_chocolatey:
    name: curl
    proxy_url: http://proxy-server:8080/
    proxy_username: joe
    proxy_password: p@ssw0rd

- name: Install a package that requires 'become'
  win_chocolatey:
    name: officepro2013
  become: true
  become_user: Administrator
  become_method: runas

- name: install and pin Notepad++ at 7.6.3
  win_chocolatey:
    name: notepadplusplus
    version: 7.6.3
    pinned: true
    state: present

- name: remove all pins for Notepad++ on all versions
  win_chocolatey:
    name: notepadplusplus
    pinned: false
    state: present

- name: install a package with options that require licensed edition
  win_chocolatey:
    name: foo
    state: present
    choco_args:
    - --skip-download-cache
    - --package-parameters-sensitive
    - '/Password=SecretPassword'

- name: ensure .NET Framework 4.8 requirement is satisfied for Chocolatey CLI v2.0.0+
  block:
  - name: install Chocolatey CLI v1.4.0
    win_chocolatey:
      name: 'chocolatey'
      state: present
      version: '1.4.0'

  - name: install Microsoft .NET Framework 4.8
    win_chocolatey:
      name: 'netfx-4.8'
      state: present

  - name: Reboot the host to complete .NET Framework 4.8 install
    ansible.windows.win_reboot:

  - name: install Chocolatey CLI v2.0.0+ when .NET Framework 4.8 dependency is met
    win_chocolatey:
      name: 'chocolatey'
      state: latest
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-return-command"><strong>command</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The full command used in the chocolatey task.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"choco.exe install -r --no-progress -y sysinternals --timeout 2700 --failonunfound"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-return-rc"><strong>rc</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The return code from the chocolatey task.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>0</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-chocolatey-chocolatey-win-chocolatey-module-return-stdout"><strong>stdout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The stdout from the chocolatey task. The verbosity level of the messages are affected by Ansible verbosity setting, see notes for more details.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> changed</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"Chocolatey upgraded 1/1 packages."</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Trond Hindenes (@trondhindenes)</li> <li>Peter Mounce (@petemounce)</li> <li>Pepe Barbe (@elventear)</li> <li>Adam Keech (@smadam813)</li> <li>Pierre Templier (@ptemplier)</li> <li>Jordan Borean (@jborean93)</li> <li>Rain Sallow (@vexx32)</li> <li>Josh King (@windos)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/chocolatey/chocolatey-ansible/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/chocolatey/chocolatey-ansible" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/chocolatey/chocolatey/win_chocolatey_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/chocolatey/chocolatey/win_chocolatey_module.html</a>
  </p>
</div>
