<section id="netapp-ontap-na-ontap-rest-info-module-netapp-ontap-information-gatherer-using-rest-apis"> <h1>netapp.ontap.na_ontap_rest_info module – NetApp ONTAP information gatherer using REST APIs</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/netapp/ontap/">netapp.ontap collection</a> (version 22.12.0).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install netapp.ontap</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-netapp-ontap-na-ontap-rest-info-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>netapp.ontap.na_ontap_rest_info</code>.</p> </div> <p class="ansible-version-added">New in netapp.ontap 20.5.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>This module allows you to gather various information about ONTAP configuration using REST APIs</li> </ul> </section> <section id="requirements"> <h2 id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>Ansible 2.9 or later - 2.12 or later is recommended.</li> <li>Python3 - 3.9 or later is recommended.</li> <li>When using ZAPI, netapp-lib 2018.11.13 or later (install using ‘pip install netapp-lib’), netapp-lib 2020.3.12 is strongly recommended as it provides better error reporting for connection issues</li> <li>a physical or virtual clustered Data ONTAP system, the modules support Data ONTAP 9.1 and onward, REST support requires ONTAP 9.6 or later</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-cert-filepath"><strong>cert_filepath</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in netapp.ontap 20.6.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>path to SSL client cert file (.pem).</p> <p>not supported with python 2.6.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-feature-flags"><strong>feature_flags</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in netapp.ontap 20.5.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Enable or disable a new feature.</p> <p>This can be used to enable an experimental feature or disable a new feature that breaks backward compatibility.</p> <p>Supported keys and values are subject to change without notice. Unknown keys are ignored.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-fields"><strong>fields</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in netapp.ontap 20.6.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Request specific fields from subset.</p> <p>Recommended - ‘&lt;list of fields&gt;’ to return specified fields, only one subset will be allowed.</p> <p>Discouraged - ‘*’ to return all the fields, one or more subsets are allowed. This option can be used for discovery, but is discouraged in production.</p> <p>Stongly discouraged - ‘**’ to return all the fields, one or more subsets are allowed. This option can put an extra load on the system and should not be used in production.</p> <p>Limited - ‘’ to return default fields, generally the properties that uniquely identify the record (keys). Other data is not returned by default and need to be explicitly called for using the field name or *.</p> <p>If the option is not present, return default fields for that API (see ‘’ above).</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-force-ontap-version"><strong>force_ontap_version</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in netapp.ontap 21.23.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Override the cluster ONTAP version when using REST.</p> <p>The behavior is undefined if the version does not match the target cluster.</p> <p>This is provided as a work-around when the cluster version cannot be read because of permission issues. See <a class="reference external" href="https://github.com/ansible-collections/netapp.ontap/wiki/Known-issues">https://github.com/ansible-collections/netapp.ontap/wiki/Known-issues</a>.</p> <p>This should be in the form 9.10 or 9.10.1 with each element being an integer number.</p> <p>When <code>use_rest</code> is set to auto, this may force a switch to ZAPI based on the version and platform capabilities.</p> <p>Ignored with ZAPI.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-gather-subset"><strong>gather_subset</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>When supplied, this argument will restrict the information collected to a given subset.</p> <p>Either the REST API or the ZAPI info name can be given. Possible values for this argument include</p> <p>application/applications or application_info</p> <p>application/consistency-groups</p> <p>application/templates or application_template_info</p> <p>cloud/targets or cloud_targets_info</p> <p>cluster</p> <p>cluster/chassis or cluster_chassis_info</p> <p>cluster/counter/tables</p> <p>cluster/fireware/history</p> <p>cluster/jobs or cluster_jobs_info</p> <p>cluster/licensing/capacity-pools</p> <p>cluster/licensing/license-managers</p> <p>cluster/licensing/licenses or license_info</p> <p>cluster/mediators</p> <p>cluster/metrics or cluster_metrics_info</p> <p>cluster/metrocluster or metrocluster_info</p> <p>cluster/metrocluster/diagnostics or cluster_metrocluster_diagnostics or metrocluster_check_info</p> <p>cluster/metrocluster/dr-groups</p> <p>cluster/metrocluster/interconnects</p> <p>cluster/metrocluster/nodes or metrocluster-node-get-iter</p> <p>cluster/metrocluster/operations</p> <p>cluster/metrocluster/svms</p> <p>cluster/nodes or cluster_node_info or sysconfig_info</p> <p>cluster/ntp/keys</p> <p>cluster/ntp/servers or ntp_server_info</p> <p>cluster/peers or cluster_peer_info</p> <p>cluster/schedules or cluster_schedules or job_schedule_cron_info</p> <p>cluster/sensors</p> <p>cluster/software or ontap_system_version or cluster_image_info</p> <p>cluster/software/download or cluster_software_download</p> <p>cluster/software/history or cluster_software_history</p> <p>cluster/software/packages or cluster_software_packages</p> <p>cluster/web</p> <p>name-services/cache/group-membership/settings</p> <p>name-services/cache/host/settings</p> <p>name-services/cache/netgroup/settings</p> <p>name-services/cache/setting</p> <p>name-services/cache/unix-group/settings</p> <p>name-services/dns or svm_dns_config_info or net_dns_info</p> <p>name-services/ldap or svm_ldap_config_info or ldap_client or ldap_config</p> <p>name-services/ldap-schemas</p> <p>name-services/local-hosts</p> <p>name-services/name-mappings or svm_name_mapping_config_info</p> <p>name-services/nis or svm_nis_config_info</p> <p>name-services/unix-groups</p> <p>name-services/unix-users</p> <p>network/ethernet/broadcast-domains or broadcast_domains_info or net_port_broadcast_domain_info</p> <p>network/ethernet/ports or network_ports_info or net_port_info</p> <p>network/ethernet/switch/ports</p> <p>network/ethernet/switches or cluster_switch_info</p> <p>network/fc/fabrics</p> <p>network/fc/interfaces</p> <p>network/fc/logins or san_fc_logins_info</p> <p>network/fc/ports</p> <p>network/fc/wwpn-aliases or san_fc_wppn-aliases or fcp_alias_info</p> <p>network/http-proxy</p> <p>network/ip/bgp/peer-groups</p> <p>network/ip/interfaces or ip_interfaces_info or net_interface_info</p> <p>network/ip/routes or ip_routes_info or net_routes_info</p> <p>network/ip/service-policies or ip_service_policies or net_interface_service_policy_info</p> <p>network/ip/subnets</p> <p>network/ipspaces or network_ipspaces_info or net_ipspaces_info</p> <p>private/support/alerts or sys_cluster_alerts</p> <p>private/cli/vserver/security/file-directory or file_directory_security</p> <p>protocols/active-directory</p> <p>protocols/audit</p> <p>protocols/cifs/connections</p> <p>protocols/cifs/domains</p> <p>protocols/cifs/group-policies</p> <p>protocols/cifs/home-directory/search-paths or cifs_home_directory_info</p> <p>protocols/cifs/local-groups</p> <p>protocols/cifs/local-users</p> <p>protocols/cifs/netbios</p> <p>protocols/cifs/services or cifs_services_info or cifs_options_info</p> <p>protocols/cifs/session/files</p> <p>protocols/cifs/sessions</p> <p>protocols/cifs/shadow-copies</p> <p>protocols/cifs/shadowcopy-sets</p> <p>protocols/cifs/shares or cifs_share_info</p> <p>protocols/cifs/users-and-groups/privileges</p> <p>protocols/cifs/unix-symlink-mapping</p> <p>protocols/fpolicy</p> <p>protocols/locks</p> <p>protocols/ndmp</p> <p>protocols/ndmp/nodes</p> <p>protocols/ndmp/sessions</p> <p>protocols/ndmp/svms</p> <p>protocols/nfs/connected-clients</p> <p>protocols/nfs/connected-client-maps</p> <p>protocols/nfs/connected-client-settings</p> <p>protocols/nfs/export-policies or export_policy_info</p> <p>protocols/nfs/export-policies/rules <strong>Requires the owning_resource to be set</strong></p> <p>protocols/nfs/kerberos/interfaces</p> <p>protocols/nfs/kerberos/realms or kerberos_realm_info</p> <p>protocols/nfs/services or vserver_nfs_info or nfs_info</p> <p>protocols/nvme/interfaces or nvme_interface_info</p> <p>protocols/nvme/services or nvme_info</p> <p>protocols/nvme/subsystems or nvme_subsystem_info</p> <p>protocols/nvme/subsystem-controllers</p> <p>protocols/nvme/subsystem-maps</p> <p>protocols/s3/buckets</p> <p>protocols/s3/services</p> <p>protocols/san/fcp/services or san_fcp_services or fcp_service_info</p> <p>protocols/san/igroups or nitiator_groups_info or igroup_info</p> <p>protocols/san/iscsi/credentials or san_iscsi_credentials</p> <p>protocols/san/iscsi/services or san_iscsi_services or iscsi_service_info</p> <p>protocols/san/iscsi/sessions</p> <p>protocols/san/lun-maps or san_lun_maps or lun_map_info</p> <p>protocols/san/portsets</p> <p>protocols/san/vvol-bindings</p> <p>protocols/vscan or vscan_status_info or vscan_info</p> <p>protocols/vscan/on-access-policies <strong>Requires the owning_resource to be set</strong></p> <p>protocols/vscan/on-demand-policies <strong>Requires the owning_resource to be set</strong></p> <p>protocols/vscan/scanner-pools <strong>Requires the owning_resource to be set</strong></p> <p>protocols/vscan/server-status or vscan_connection_status_all_info</p> <p>security</p> <p>security/accounts or security_login_info or security_login_account_info</p> <p>security/anti-ransomware/suspects</p> <p>security/audit</p> <p>security/audit/destinations or cluster_log_forwarding_info</p> <p>security/audit/messages</p> <p>security/authentication/cluster/ad-proxy</p> <p>security/authentication/cluster/ldap</p> <p>security/authentication/cluster/nis</p> <p>security/authentication/cluster/saml-sp</p> <p>security/authentication/publickeys</p> <p>security/aws-kms</p> <p>security/azure-key-vaults</p> <p>security/certificates</p> <p>security/gcp-kms</p> <p>security/ipsec</p> <p>security/ipsec/ca-certificates</p> <p>security/ipsec/policies</p> <p>security/ipsec/security-associations</p> <p>security/key-manager-configs</p> <p>security/key-managers</p> <p>security/key-stores</p> <p>security/login/messages</p> <p>security/multi-admin-verify</p> <p>security/multi-admin-verify/approval-groups</p> <p>security/multi-admin-verify/requests</p> <p>security/multi-admin-verify/rules</p> <p>security/roles or security_login_rest_role_info</p> <p>security/ssh</p> <p>security/ssh/svms</p> <p>snapmirror/policies or snapmirror_policy_info</p> <p>snapmirror/relationships or snapmirror_info</p> <p>storage/aggregates or aggregate_info</p> <p>storage/bridges or storage_bridge_info</p> <p>storage/cluster</p> <p>storage/disks or disk_info</p> <p>storage/file/clone/split-loads</p> <p>storage/file/clone/split-status</p> <p>storage/file/clone/tokens</p> <p>storage/file/moves</p> <p>storage/flexcache/flexcaches or storage_flexcaches_info</p> <p>storage/flexcache/origins or storage_flexcaches_origin_info</p> <p>storage/luns or storage_luns_info or lun_info (if serial_number is present, serial_hex and naa_id are computed)</p> <p>storage/namespaces or storage_NVMe_namespaces or nvme_namespace_info</p> <p>storage/pools</p> <p>storage/ports or storage_ports_info</p> <p>storage/qos/policies or storage_qos_policies or qos_policy_info or qos_adaptive_policy_info</p> <p>storage/qos/workloads</p> <p>storage/qtrees or storage_qtrees_config or qtree_info</p> <p>storage/quota/reports or storage_quota_reports or quota_report_info</p> <p>storage/quota/rules or storage_quota_policy_rules</p> <p>storage/shelves or storage_shelves_config or shelf_info</p> <p>storage/snaplock/audit-logs</p> <p>storage/snaplock/compliance-clocks</p> <p>storage/snaplock/event-retention/operations</p> <p>storage/snaplock/event-retention/policies</p> <p>storage/snaplock/file-fingerprints</p> <p>storage/snaplock/litigations</p> <p>storage/snapshot-policies or storage_snapshot_policies or snapshot_policy_info</p> <p>storage/switches</p> <p>storage/tape-devices</p> <p>storage/volumes or volume_info</p> <p>storage/volumes/snapshots <strong>Requires the owning_resource to be set</strong></p> <p>storage/volume-efficiency-policies or sis_policy_info</p> <p>support/autosupport or autosupport_config_info</p> <p>support/autosupport/check or autosupport_check_info</p> <p>support/autosupport/messages or autosupport_messages_history</p> <p>support/auto-update</p> <p>support/auto-update/configurations</p> <p>support/auto-update/updates</p> <p>support/configuration-backup</p> <p>support/configuration-backup/backups</p> <p>support/coredump/coredumps</p> <p>support/ems or support_ems_config</p> <p>support/ems/destinations or event_notification_info or event_notification_destination_info</p> <p>support/ems/events or support_ems_events</p> <p>support/ems/filters or support_ems_filters</p> <p>support/ems/messages</p> <p>support/snmp</p> <p>support/snmp/traphosts</p> <p>support/snmp/users</p> <p>svm/migrations</p> <p>svm/peers or svm_peers_info or vserver_peer_info</p> <p>svm/peer-permissions or svm_peer-permissions_info</p> <p>svm/svms or vserver_info</p> <p><strong>The following do not have direct Rest API equivalent</strong></p> <p>aggr_efficiency_info</p> <p>cifs_vserver_security_info</p> <p>clock_info</p> <p>cluster_identity_info</p> <p>net_vlan_info</p> <p>sis_info</p> <p>snapmirror_destination_info</p> <p>system_node_info</p> <p>volume_space_info</p> <p>Can specify a list of values to include a larger subset.</p> <p>REST APIs are supported with ONTAP 9.6 onwards.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>["demo"]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-hal-linking"><strong>hal_linking</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>if false, HAL-encoded links are disabled in the REST calls.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-hostname"><strong>hostname</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span> / <span class="ansible-option-required">required</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The hostname or IP address of the ONTAP instance.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-http-port"><strong>http_port</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Override the default port (80 or 443) with this port</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-https"><strong>https</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Enable and disable https.</p> <p>Ignored when using REST as only https is supported.</p> <p>Ignored when using SSL certificate authentication as it requires SSL.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-ignore-api-errors"><strong>ignore_api_errors</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> <p><em class="ansible-option-versionadded">added in netapp.ontap 21.23.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>List of substrings.</p> <p>If a substring is contained in an error message when fetching a subset, the module does not fail and the error is reported in the subset.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-key-filepath"><strong>key_filepath</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> <p><em class="ansible-option-versionadded">added in netapp.ontap 20.6.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>path to SSL client key file.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-max-records"><strong>max_records</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Maximum number of records returned in a single call.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>1024</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-ontapi"><strong>ontapi</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">integer</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The ontap api version to use</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-owning-resource"><strong>owning_resource</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in netapp.ontap 21.19.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Some resources cannot be accessed directly. You need to select them based on the owner or parent. For instance, volume for a snapshot.</p> <p>The following subsets require an owning resource, and the following suboptions when uuid is not present.</p> <p>&lt;storage/volumes/snapshots&gt; <strong>volume_name</strong> is the volume name, <strong>svm_name</strong> is the owning vserver name for the volume.</p> <p>&lt;protocols/nfs/export-policies/rules&gt; <strong>policy_name</strong> is the name of the policy, <strong>svm_name</strong> is the owning vserver name for the policy, <strong>rule_index</strong> is the rule index.</p> <p>&lt;protocols/vscan/on-access-policies&gt; <strong>svm_name</strong> is the owning vserver name for the vscan</p> <p>&lt;protocols/vscan/on-demand-policies&gt; <strong>svm_name</strong> is the owning vserver name for the vscan</p> <p>&lt;protocols/vscan/scanner-pools&gt; <strong>svm_name</strong> is the owning vserver name for the vscan</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-parameters"><strong>parameters</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">dictionary</span></p> <p><em class="ansible-option-versionadded">added in netapp.ontap 20.7.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>Allows for any rest option to be passed in</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-password"><strong id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-pass">password</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: pass</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Password for the specified user.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-state"><strong>state</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>deprecated as of 21.1.0.</p> <p>this option was ignored and continues to be ignored.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-use-python-keys"><strong>use_python_keys</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> <p><em class="ansible-option-versionadded">added in netapp.ontap 21.9.0</em></p> </div></td> <td><div class="ansible-option-cell">
<p>If true, <em>/</em> in the returned dictionary keys are translated to <em>_</em>.</p> <p>It makes it possible to use a . notation when processing the output.</p> <p>For instance <em>ontap_info[“svm/svms”]</em> can be accessed as <em>ontap_info.svm_svms</em>.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li>
<code><strong>false</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> <li><code>true</code></li> </ul> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-use-rest"><strong>use_rest</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Whether to use REST or ZAPI.</p> <p>always – will always use the REST API if the module supports REST. A warning is issued if the module does not support REST. An error is issued if a module option is not supported in REST.</p> <p>never – will always use ZAPI if the module supports ZAPI. An error may be issued if a REST option is not supported in ZAPI.</p> <p>auto – will try to use the REST API if the module supports REST and modules options are supported. Reverts to ZAPI otherwise.</p> <p class="ansible-option-line"><strong class="ansible-option-default-bold">Default:</strong> <code>"auto"</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-username"><strong id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-user">username</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: user</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>This can be a Cluster-scoped or SVM-scoped account, depending on whether a Cluster-level or SVM-level API is required.</p> <p>For more information, please read the documentation <a class="reference external" href="https://mysupport.netapp.com/NOW/download/software/nmsdk/9.4/">https://mysupport.netapp.com/NOW/download/software/nmsdk/9.4/</a>.</p> <p>Two authentication methods are supported</p> <ol class="arabic simple"> <li>basic authentication, using username and password,</li> <li>SSL certificate authentication, using a ssl client cert file, and optionally a private key file.</li> </ol> <p>To use a certificate, the certificate must have been installed in the ONTAP cluster, and cert authentication must have been enabled.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-netapp-ontap-na-ontap-rest-info-module-parameter-validate-certs"><strong>validate_certs</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">boolean</span></p> </div></td> <td><div class="ansible-option-cell">
<p>If set to <code>no</code>, the SSL certificates will not be validated.</p> <p>This should only set to <code>False</code> used on personally controlled sites using self-signed certificates.</p> <p class="ansible-option-line"><strong class="ansible-option-choices">Choices:</strong></p> <ul class="simple"> <li><code>false</code></li> <li>
<code><strong>true</strong></code> <span class="ansible-option-choices-default-mark">← (default)</span>
</li> </ul> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>
<em>security_login_role_config_info</em> there is no REST equivalent.</li> <li>
<em>security_login_role_info</em> there is no REST equivalent.</li> <li>
<em>security_key_manager_key_info</em> there is no REST equivalent.</li> <li>
<em>vserver_motd_info</em> there is no REST equivalent.</li> <li>
<em>vserver_login_banner_info</em> there is no REST equivalent.</li> <li>
<em>vscan_connection_extended_stats_info</em> there is no REST equivalent.</li> <li>
<em>env_sensors_info</em> there is no REST equivalent.</li> <li>
<em>fcp_adapter_info</em> there is no REST equivalent.</li> <li>
<em>net_dev_discovery_info</em> there is no REST equivalent.</li> <li>
<em>net_failover_group_info</em> there is no REST equivalent.</li> <li>
<em>net_firewall_info</em> there is no REST equivalent.</li> <li>
<em>ntfs_dacl_info</em> there is no REST equivalent.</li> <li>
<em>ntfs_sd_info</em> there is no REST equivalent.</li> <li>
<em>role_info</em> there is not REST equivalent.</li> <li>
<em>subsys_health_info</em> there is not REST equivalent.</li> <li>
<em>volume_move_target_aggr_info</em> there is not REST equivalent.</li> <li>The modules prefixed with na_ontap are built to support the ONTAP storage platform.</li> <li>https is enabled by default and recommended. To enable http on the cluster you must run the following commands ‘set -privilege advanced;’ ‘system services web modify -http-enabled true;’</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: run ONTAP gather facts for vserver info
  netapp.ontap.na_ontap_rest_info:
      hostname: "1.2.3.4"
      username: "testuser"
      password: "test-password"
      https: true
      validate_certs: false
      use_rest: Always
      gather_subset:
        - svm/svms

- name: run ONTAP gather facts for aggregate info and volume info
  netapp.ontap.na_ontap_rest_info:
      hostname: "1.2.3.4"
      username: "testuser"
      password: "test-password"
      https: true
      validate_certs: false
      use_rest: Always
      gather_subset:
        - storage/aggregates
        - storage/volumes

- name: run ONTAP gather facts for all subsets
  netapp.ontap.na_ontap_rest_info:
      hostname: "1.2.3.4"
      username: "testuser"
      password: "test-password"
      https: true
      validate_certs: false
      use_rest: Always
      gather_subset:
        - all

- name: run ONTAP gather facts for aggregate info and volume info with fields section
  netapp.ontap.na_ontap_rest_info:
      hostname: "1.2.3.4"
      username: "testuser"
      password: "test-password"
      https: true
      fields:
        - '*'
      validate_certs: false
      use_rest: Always
      gather_subset:
        - storage/aggregates
        - storage/volumes

- name: run ONTAP gather facts for aggregate info with specified fields
  netapp.ontap.na_ontap_rest_info:
      hostname: "1.2.3.4"
      username: "testuser"
      password: "test-password"
      https: true
      fields:
        - 'uuid'
        - 'name'
        - 'node'
      validate_certs: false
      use_rest: Always
      gather_subset:
        - storage/aggregates
      parameters:
        recommend:
          true

- name: Get Snapshot info (owning_resource example)
  netapp.ontap.na_ontap_rest_info:
      hostname: "1.2.3.4"
      username: "testuser"
      password: "test-password"
      https: true
      fields:
        - '*'
      validate_certs: false
      use_rest: Always
      gather_subset:
        - storage/volumes/snapshots
      owning_resource:
        volume_name: volume_name
        svm_name: svm_name

- name: run ONTAP gather facts for volume info with query on name and state
  netapp.ontap.na_ontap_rest_info:
      hostname: "1.2.3.4"
      username: "testuser"
      password: "test-password"
      https: true
      validate_certs: false
      gather_subset:
        - storage/volumes
      parameters:
        name: ansible*
        state: online

- name: run ONTAP gather fact to get DACLs
  netapp.ontap.na_ontap_rest_info:
    hostname: "1.2.3.4"
    username: "testuser"
    password: "test-password"
    https: true
    validate_certs: false
    gather_subset:
      - file_directory_security
    parameters:
      vserver: svm1
      path: /vol1/qtree1
    use_python_keys: true

- name: get ip network interface info.
  netapp.ontap.na_ontap_rest_info:
    hostname: "1.2.3.4"
    username: "testuser"
    password: "test-password"
    https: true
    validate_certs: false
    gather_subset:
      - ip_interfaces_info
    parameters:
      location.failover: home_node_only
      location.node.name: ontap_cluster
      service_policy.name: default-data-files

- name: get aggregate info
  netapp.ontap.na_ontap_rest_info:
    hostname: "1.2.3.4"
    username: "testuser"
    password: "test-password"
    https: true
    validate_certs: false
    gather_subset:
      - aggregate_info
    parameters:
      node.name: ontap_cluster
      block_storage.primary.raid_type: raid_dp

# assuming module_defaults is used to set hostname, username, ...
- name: run demo subset using custom vsadmin role
  netapp.ontap.na_ontap_rest_info:
    gather_subset:
      - demo
    force_ontap_version: 9.8
    ignore_api_errors:
      - 'not authorized for that command'

# reports: {"cluster/nodes": {"error": {"code": "6", "message": "not authorized for that command"}}
</pre> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>NetApp Ansible Team (@carchi8py)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/netapp.ontap/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://netapp.io/configuration-management-and-automation/" rel="noopener external" target="_blank">Homepage</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/netapp.ontap" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/netapp/ontap/na_ontap_rest_info_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/netapp/ontap/na_ontap_rest_info_module.html</a>
  </p>
</div>
