<h1 id="ansible-builtin-junit-write-playbook-output-to-a-junit-file">ansible.builtin.junit – write playbook output to a JUnit file.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This callback plugin is part of <code>ansible-core</code> and included in all Ansible installations. In most cases, you can use the short plugin name <code>junit</code> even without specifying the <code>collections:</code> keyword. However, we recommend you use the FQCN for easy linking to the plugin documentation and to avoid conflicting with other collections that may have the same callback plugin name.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This callback writes playbook output to a JUnit formatted XML file.</li> <li>Tasks show up in the report as follows: ‘ok’: pass ‘failed’ with ‘EXPECTED FAILURE’ in the task name: pass ‘failed’ with ‘TOGGLE RESULT’ in the task name: pass ‘ok’ with ‘TOGGLE RESULT’ in the task name: failure ‘failed’ due to an exception: error ‘failed’ for other reasons: failure ‘skipped’: skipped</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the local controller node that executes this callback.</p> <ul class="simple"> <li>whitelist in configuration</li> <li>junit_xml (python lib)</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th>Configuration</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>fail_on_change</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"no"</div> </td> <td> <div> env:JUNIT_FAIL_ON_CHANGE </div> </td> <td> <div>Consider any tasks reporting "changed" as a junit test failure</div> </td> </tr> <tr> <td colspan="1">  <b>fail_on_ignore</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"no"</div> </td> <td> <div> env:JUNIT_FAIL_ON_IGNORE </div> </td> <td> <div>Consider failed tasks as a junit test failure even if ignore_on_error is set</div> </td> </tr> <tr> <td colspan="1">  <b>hide_task_arguments</b>  <div> <span>string</span> </div> <div> added in 2.8 of ansible.builtin </div> </td> <td> <b>Default:</b><br><div>"no"</div> </td> <td> <div> env:JUNIT_HIDE_TASK_ARGUMENTS </div> </td> <td> <div>Hide the arguments for a task</div> </td> </tr> <tr> <td colspan="1">  <b>include_setup_tasks_in_report</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"yes"</div> </td> <td> <div> env:JUNIT_INCLUDE_SETUP_TASKS_IN_REPORT </div> </td> <td> <div>Should the setup tasks be included in the final report</div> </td> </tr> <tr> <td colspan="1">  <b>output_dir</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"~/.ansible.log"</div> </td> <td> <div> env:JUNIT_OUTPUT_DIR </div> </td> <td> <div>Directory to write XML files to.</div> </td> </tr> <tr> <td colspan="1">  <b>task_class</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"no"</div> </td> <td> <div> env:JUNIT_TASK_CLASS </div> </td> <td> <div>Configure the output to be one class per yaml file</div> </td> </tr> <tr> <td colspan="1">  <b>task_relative_path</b>  <div> <span>string</span> </div> <div> added in 2.8 of ansible.builtin </div> </td> <td> <b>Default:</b><br><div>"none"</div> </td> <td> <div> env:JUNIT_TASK_RELATIVE_PATH </div> </td> <td> <div>Configure the output to use relative paths to given directory</div> </td> </tr> <tr> <td colspan="1">  <b>test_case_prefix</b>  <div> <span>string</span> </div> <div> added in 2.8 of ansible.builtin </div> </td> <td> <b>Default:</b><br><div>"\u003cempty\u003e"</div> </td> <td> <div> env:JUNIT_TEST_CASE_PREFIX </div> </td> <td> <div>Consider a task only as test case if it has this value as prefix. Additionaly failing tasks are recorded as failed test cases.</div> </td> </tr> </table> <br><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/junit_callback.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/ansible/builtin/junit_callback.html</a>
  </p>
</div>
