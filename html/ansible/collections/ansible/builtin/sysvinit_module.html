<h1 id="ansible-builtin-sysvinit-manage-sysv-services">ansible.builtin.sysvinit – Manage SysV services.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of <code>ansible-core</code> and included in all Ansible installations. In most cases, you can use the short module name <code>sysvinit</code> even without specifying the <code>collections:</code> keyword. However, we recommend you use the FQCN for easy linking to the module documentation and to avoid conflicting with other collections that may have the same module name.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6: </span>of ansible.builtin</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Controls services on target hosts that use the SysV init system.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>That the service managed has a corresponding init script.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>arguments</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Additional arguments provided on the command line that some init scripts accept.</div> <div>
<br>aliases: args</div> </td> </tr> <tr> <td colspan="1">  <b>daemonize</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Have the module daemonize as the service itself might not do so properly.</div> <div>This is useful with badly written init scripts or daemons, which commonly manifests as the task hanging as it is still holding the tty or the service dying when the task is over as the connection closes the session.</div> </td> </tr> <tr> <td colspan="1">  <b>enabled</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Whether the service should start on boot. <b>At least one of state and enabled are required.</b>
</div> </td> </tr> <tr> <td colspan="1">  <b>name</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Name of the service.</div> <div>
<br>aliases: service</div> </td> </tr> <tr> <td colspan="1">  <b>pattern</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>A substring to look for as would be found in the output of the <em>ps</em> command as a stand-in for a status result.</div> <div>If the string is found, the service will be assumed to be running.</div> <div>This option is mainly for use with init scripts that don't support the 'status' option.</div> </td> </tr> <tr> <td colspan="1">  <b>runlevels</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>The runlevels this script should be enabled/disabled from.</div> <div>Use this to override the defaults set by the package or init script itself.</div> </td> </tr> <tr> <td colspan="1">  <b>sleep</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>1</div> </td> <td> <div>If the service is being <code>restarted</code> or <code>reloaded</code> then sleep this many seconds between the stop and start command. This helps to workaround badly behaving services.</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>started</li> <li>stopped</li> <li>restarted</li> <li>reloaded</li> </ul> </td> <td> <div>
<code>started</code>/<code>stopped</code> are idempotent actions that will not run commands unless necessary. Not all init scripts support <code>restarted</code> nor <code>reloaded</code> natively, so these will both trigger a stop and start as needed.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>One option other than name is required.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Make sure apache2 is started
  sysvinit:
      name: apache2
      state: started
      enabled: yes

- name: Make sure apache2 is started on runlevels 3 and 5
  sysvinit:
      name: apache2
      state: started
      enabled: yes
      runlevels:
        - 3
        - 5
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>results</b>  <div> <span>complex</span> </div> </td> <td>always</td> <td> <div>results from actions taken</div> <br> <div><b>Sample:</b></div> <div>{'attempts': 1, 'changed': True, 'name': 'apache2', 'status': {'enabled': {'changed': True, 'rc': 0, 'stderr': '', 'stdout': ''}, 'stopped': {'changed': True, 'rc': 0, 'stderr': '', 'stdout': 'Stopping web server: apache2.\n'}}}</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Ansible Core Team</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/sysvinit_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/ansible/builtin/sysvinit_module.html</a>
  </p>
</div>
