<section id="ansible-netcommon-grpc-get-module-fetch-configuration-state-data-from-grpc-enabled-target-hosts"> <h1>ansible.netcommon.grpc_get module – Fetch configuration/state data from gRPC enabled target hosts.</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module is part of the <a class="reference external" href="https://galaxy.ansible.com/ui/repo/published/ansible/netcommon/">ansible.netcommon collection</a> (version 6.1.3).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install ansible.netcommon</code>. You need further requirements to be able to use this module, see <a class="reference internal" href="#ansible-collections-ansible-netcommon-grpc-get-module-requirements"><span class="std std-ref">Requirements</span></a> for details.</p> <p>To use it in a playbook, specify: <code>ansible.netcommon.grpc_get</code>.</p> </div> <p class="ansible-version-added">New in ansible.netcommon 3.1.0</p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>  <section id="synopsis"> <h2>Synopsis</h2> <ul class="simple"> <li>gRPC is a high performance, open-source universal RPC framework.</li> <li>This module allows the user to fetch configuration and state data from gRPC enabled devices.</li> </ul> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This module has a corresponding <a class="reference internal" href="../../../plugins/action.html#action-plugins"><span class="std std-ref">action plugin</span></a>.</p> </div> </section> <section id="requirements"> <h2 id="ansible-collections-ansible-netcommon-grpc-get-module-requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>grpcio</li> <li>protobuf</li> </ul> </section> <section id="parameters"> <h2>Parameters</h2> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Parameter</p></th> <th class="head"><p>Comments</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-netcommon-grpc-get-module-parameter-command"><strong>command</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The option specifies the command to be executed on the target host and return the response in result. This option is supported if the gRPC target host supports executing CLI command over the gRPC connection.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-netcommon-grpc-get-module-parameter-data-type"><strong>data_type</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The type of data that should be fetched from the target host. The value depends on the capability of the gRPC server running on target host. The values can be <em>config</em>, <em>oper</em> etc. based on what is supported by the gRPC server. By default it will return both configuration and operational state data in response.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-netcommon-grpc-get-module-parameter-display"><strong>display</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>Encoding scheme to use when serializing output from the device. The encoding scheme value depends on the capability of the gRPC server running on the target host. The values can be <em>json</em>, <em>text</em> etc.</p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell">  
<p class="ansible-option-title" id="ansible-collections-ansible-netcommon-grpc-get-module-parameter-section"><strong id="ansible-collections-ansible-netcommon-grpc-get-module-parameter-filter">section</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-aliases">aliases: filter</span></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>This option specifies the string which acts as a filter to restrict the portions of the data to be retrieved from the target host device. If this option is not specified the entire configuration or state data is returned in response provided it is supported by target host.</p> </div></td> </tr>  </table> </section> <section id="notes"> <h2>Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>This module requires the gRPC system service be enabled on the target host being managed.</li> <li>This module supports the use of connection=ansible.netcommon.grpc.</li> <li>This module requires the value of ‘ansible_network_os or grpc_type’ configuration option (refer ansible.netcommon.grpc connection plugin documentation) be defined as an inventory variable.</li> <li>Tested against iosxrv 9k version 6.1.2.</li> </ul> </div> </section> <section id="examples"> <h2>Examples</h2> <pre data-language="yaml+jinja">- name: Get bgp configuration data
  grpc_get:
    section:
      Cisco-IOS-XR-ip-static-cfg:router-static:
        - null
- name: run cli command
  grpc_get:
    command: "show version"
    display: text
</pre> </section> <section id="return-values"> <h2>Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="longtable ansible-option-table docutils align-default" style="width: 100%"> <thead> <tr>
<th class="head"><p>Key</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-netcommon-grpc-get-module-return-output"><strong>output</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>A dictionary representing a JSON-formatted response, if the response is a valid json string</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> when the device response is valid JSON</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>["[{\n    \"Cisco-IOS-XR-ip-static-cfg:router-static\": {\n        \"default-vrf\": {\n            \"address-family\": {\n                \"vrfipv4\": {\n                    \"vrf-unicast\": {\n                        \"vrf-prefixes\": {\n                            \"vrf-prefix\": [\n                                {\n                                    \"prefix\": \"0.0.0.0\"", "\n                                    \"prefix-length\": 0", "\n                                    \"vrf-route\": {\n                                        \"vrf-next-hop-table\": {\n                                            \"vrf-next-hop-interface-name-next-hop-address\": [\n                                                {\n                                                    \"interface-name\": \"MgmtEth0/RP0/CPU0/0\"", "\n                                                    \"next-hop-address\": \"10.0.2.2\"\n                                                }\n                                            ]\n                                        }\n                                    }\n                                }\n                            ]\n                        }\n                    }\n                }\n            }\n        }\n    }\n}]\n"]</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-netcommon-grpc-get-module-return-stdout"><strong>stdout</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The raw string containing configuration or state data received from the gRPC server.</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always apart from low-level errors (such as action plugin)</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>"..."</code></p> </div></td> </tr> <tr>
<td><div class="ansible-option-cell"> 
<p class="ansible-option-title" id="ansible-collections-ansible-netcommon-grpc-get-module-return-stdout-lines"><strong>stdout_lines</strong></p> <p class="ansible-option-type-line"><span class="ansible-option-type">list</span> / <span class="ansible-option-elements">elements=string</span></p> </div></td> <td><div class="ansible-option-cell">
<p>The value of stdout split into a list</p> <p class="ansible-option-line"><strong class="ansible-option-returned-bold">Returned:</strong> always apart from low-level errors (such as action plugin)</p> <p class="ansible-option-line ansible-option-sample"><strong class="ansible-option-sample-bold">Sample:</strong> <code>["...", "..."]</code></p> </div></td> </tr>  </table> <section id="authors"> <h3>Authors</h3> <ul class="simple"> <li>Ganesh Nalawade (@ganeshrn)</li> <li>Gomathi Selvi S (@GomathiselviS)</li> </ul> </section> <section id="collection-links"> <h3>Collection links</h3> <ul class="ansible-links"> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/ansible.netcommon/issues" rel="noopener external" target="_blank">Issue Tracker</a></span></li> <li><span><a aria-role="button" class="ansible-link reference external" href="https://github.com/ansible-collections/ansible.netcommon" rel="noopener external" target="_blank">Repository (Sources)</a></span></li> </ul> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/ansible/netcommon/grpc_get_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/ansible/netcommon/grpc_get_module.html</a>
  </p>
</div>
