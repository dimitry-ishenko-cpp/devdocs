<h1 id="hpe-nimble-hpe-nimble-partner-manage-the-hpe-nimble-storage-replication-partner">hpe.nimble.hpe_nimble_partner â€“ Manage the HPE Nimble Storage Replication Partner</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/hpe/nimble">hpe.nimble collection</a> (version 1.1.3).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install hpe.nimble</code>.</p> <p>To use it in a playbook, specify: <code>hpe.nimble.hpe_nimble_partner</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.0: </span>of hpe.nimble</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Manage the replication partner on an HPE Nimble Storage group.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>Ansible 2.9 or later</li> <li>Python 3.6 or later</li> <li>HPE Nimble Storage SDK for Python</li> <li>HPE Nimble Storage arrays running NimbleOS 5.0 or later</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>control_port</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Port number of partner control interface. Value -1 for an invalid port or a positive integer value up to 65535 representing the TCP/IP port.</div> </td> </tr> <tr> <td colspan="1">  <b>data_port</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Port number of partner data interface. Value -1 for an invalid port or a positive integer value up to 65535 representing the TCP/IP port.</div> </td> </tr> <tr> <td colspan="1">  <b>description</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Description of replication partner.</div> </td> </tr> <tr> <td colspan="1">  <b>downstream_hostname</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>IP address or hostname of partner interface. This must be the partner's Group Management IP address. String of up to 64 alphanumeric characters, - and . and ':' are allowed after first character.</div> </td> </tr> <tr> <td colspan="1">  <b>folder</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The Folder ID within the pool where volumes replicated from this partner will be created. This is not supported for pool partners.</div> </td> </tr> <tr> <td colspan="1">  <b>host</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>HPE Nimble Storage IP address.</div> </td> </tr> <tr> <td colspan="1">  <b>match_folder</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Indicates whether to match the upstream volume's folder on the downstream.</div> </td> </tr> <tr> <td colspan="1">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of replication partner. String of up to 64 alphanumeric characters, - and . and ':' are allowed after first character.</div> </td> </tr> <tr> <td colspan="1">  <b>password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>HPE Nimble Storage password.</div> </td> </tr> <tr> <td colspan="1">  <b>pause</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Pause replication for the specified partner.</div> </td> </tr> <tr> <td colspan="1">  <b>pool</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The pool name where volumes replicated from this partner will be created. Replica volumes created as clones ignore this parameter and are always created in the same pool as their parent volume.</div> </td> </tr> <tr> <td colspan="1">  <b>repl_data_hostname</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>IP address or hostname of partner data interface. String of up to 64 alphanumeric characters, - and . and ':' are allowed after first character.</div> </td> </tr> <tr> <td colspan="1">  <b>resume</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Resume replication for the specified partner.</div> </td> </tr> <tr> <td colspan="1">  <b>secret</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Replication partner shared secret, used for mutual authentication of the partners.</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>create</li> <li>present</li> <li>absent</li> </ul> </td> <td> <div>The replication partner operation.</div> </td> </tr> <tr> <td colspan="1">  <b>subnet_label</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Indicates whether to match the upstream volume's folder on the downstream.</div> </td> </tr> <tr> <td colspan="1">  <b>subnet_type</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>invalid</li> <li>unconfigured</li> <li>unconfigured</li> <li>mgmt</li> <li>data</li> <li>mgmt_data</li> </ul> </td> <td> <div>Type of the subnet used to replicate to this partner.</div> </td> </tr> <tr> <td colspan="1">  <b>test</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Test connectivity to the specified partner.</div> </td> </tr> <tr> <td colspan="1">  <b>throttles</b>  <div> <span>list</span> / <span>elements=dictionary</span> </div> </td> <td> </td> <td> <div>Throttles used while replicating from/to this partner. All the throttles for the partner.</div> </td> </tr> <tr> <td colspan="1">  <b>username</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>HPE Nimble Storage user name.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>This module does not support <code>check_mode</code>.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja"># if state is create, then create partner, fails if it exist or cannot create
# if state is present, then create partner if not present ,else success
- name: Create Partner
  hpe.nimble.hpe_nimble_partner:
    host: "{{ host }}"  # upstream host
    username: "{{ username }}"
    password: "{{ password }}"
    name: "{{ name | mandatory }}"
    description: "{{ description }}"
    downstream_hostname: "{{ downstream_hostname | mandatory }}"
    secret: "{{ secret | mandatory }}"
    subnet_label: "{{ subnet_label | mandatory }}"
    state: "{{ state | default('present') }}"

- name: Delete Partner
  hpe.nimble.hpe_nimble_partner:
    host: "{{ host }}"
    username: "{{ username }}"
    password: "{{ password }}"
    downstream_hostname: "{{ downstream_hostname | mandatory }}"
    state: "absent"

- name: Test Partner
  hpe.nimble.hpe_nimble_partner:
    host: "{{ host }}"
    username: "{{ username }}"
    password: "{{ password }}"
    downstream_hostname: "{{ downstream_hostname | mandatory }}"
    state: "present"
    test: true

- name: Pause Partner
  hpe.nimble.hpe_nimble_partner:
    host: "{{ host }}"
    username: "{{ username }}"
    password: "{{ password }}"
    downstream_hostname: "{{ downstream_hostname | mandatory }}"
    state: "present"
    pause: true

- name: Resume Partner
  hpe.nimble.hpe_nimble_partner:
    host: "{{ host }}"
    username: "{{ username }}"
    password: "{{ password }}"
    downstream_hostname: "{{ downstream_hostname | mandatory }}"
    state: "present"
    resume: true
</pre>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>HPE Nimble Storage Ansible Team (@ar-india) &lt;<a class="reference external" href="https://docs.ansible.com/cdn-cgi/l/email-protection#3f5156525d535a125b5c4c124c4b504d5e585a125e4a4b50525e4b565051125a5158191c0c0804191c0a0d04191c0b0704574f5a191c0b09045c5052">nimble-dcs-storage-automation-eng<span>@</span>hpe<span>.</span>com</a>&gt;</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/hpe/nimble/hpe_nimble_partner_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/hpe/nimble/hpe_nimble_partner_module.html</a>
  </p>
</div>
