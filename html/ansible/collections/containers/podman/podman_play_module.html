<h1 id="containers-podman-podman-play-play-kubernetes-yaml-file-using-podman">containers.podman.podman_play â€“ Play kubernetes YAML file using podman</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/containers/podman">containers.podman collection</a> (version 1.8.1).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install containers.podman</code>.</p> <p>To use it in a playbook, specify: <code>containers.podman.podman_play</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>The module reads in a structured file of Kubernetes YAML. It will then recreate the pod and containers described in the YAML.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>Podman installed on host</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>authfile</b>  <div> <span>path</span> </div> </td> <td> </td> <td> <div>Path of the authentication file. Default is ${XDG_RUNTIME_DIR}/containers/auth.json, which is set using podman login. If the authorization state is not found there, $HOME/.docker/config.json is checked, which is set using docker login. Note - You can also override the default path of the authentication file by setting the REGISTRY_AUTH_FILE environment variable. export REGISTRY_AUTH_FILE=path</div> </td> </tr> <tr> <td colspan="1">  <b>cert_dir</b>  <div> <span>path</span> </div> </td> <td> </td> <td> <div>Use certificates at path (*.crt, *.cert, *.key) to connect to the registry. Default certificates directory is /etc/containers/certs.d. (This option is not available with the remote Podman client)</div> </td> </tr> <tr> <td colspan="1">  <b>configmap</b>  <div> <span>list</span> / <span>elements=path</span> </div> </td> <td> </td> <td> <div>Use Kubernetes configmap YAML at path to provide a source for environment variable values within the containers of the pod. Note - The configmap option can be used multiple times to pass multiple Kubernetes configmap YAMLs</div> </td> </tr> <tr> <td colspan="1">  <b>debug</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enable debug for the module.</div> </td> </tr> <tr> <td colspan="1">  <b>executable</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"podman"</div> </td> <td> <div>Name of executable to run, by default 'podman'</div> </td> </tr> <tr> <td colspan="1">  <b>kube_file</b>  <div> <span>path</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Path to file with YAML configuration for a Pod.</div> </td> </tr> <tr> <td colspan="1">  <b>log_driver</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Set logging driver for all created containers.</div> </td> </tr> <tr> <td colspan="1">  <b>log_level</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>debug</li> <li>info</li> <li>warn</li> <li>error</li> <li>fatal</li> <li>panic</li> </ul> </td> <td> <div>Set logging level for podman calls. Log messages above specified level ("debug"|"info"|"warn"|"error"|"fatal"|"panic") (default "error")</div> </td> </tr> <tr> <td colspan="1">  <b>network</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>List of the names of CNI networks the pod should join.</div> </td> </tr> <tr> <td colspan="1">  <b>password</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The username and password to use to authenticate with the registry if required.</div> </td> </tr> <tr> <td colspan="1">  <b>quiet</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Hide image pulls logs from output.</div> </td> </tr> <tr> <td colspan="1">  <b>recreate</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>If pod already exists, delete it and run the new one.</div> </td> </tr> <tr> <td colspan="1">  <b>seccomp_profile_root</b>  <div> <span>path</span> </div> </td> <td> </td> <td> <div>Directory path for seccomp profiles (default is "/var/lib/kubelet/seccomp"). This option is not available with the remote Podman client</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>created</li> <li>started</li> <li>absent</li> </ul> </td> <td> <div>Start the pod after creating it, or to leave it created only.</div> </td> </tr> <tr> <td colspan="1">  <b>tls_verify</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Require HTTPS and verify certificates when contacting registries (default is true). If explicitly set to true, then TLS verification will be used. If set to false, then TLS verification will not be used. If not specified, TLS verification will be used unless the target registry is listed as an insecure registry in registries.conf.</div> </td> </tr> <tr> <td colspan="1">  <b>username</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>The username and password to use to authenticate with the registry if required.</div> </td> </tr> </table> <br>  <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Play kube file
  containers.podman.podman_play:
    kube_file: ~/kube.yaml
</pre>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Sagi Shnaidman (@sshnaidm)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/containers/podman/podman_play_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/containers/podman/podman_play_module.html</a>
  </p>
</div>
