<h1 id="netapp-eseries-santricity-na-santricity-asup-netapp-e-series-manage-auto-support-settings">netapp_eseries.santricity.na_santricity_asup – NetApp E-Series manage auto-support settings</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/netapp_eseries/santricity">netapp_eseries.santricity collection</a> (version 1.2.13).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install netapp_eseries.santricity</code>.</p> <p>To use it in a playbook, specify: <code>netapp_eseries.santricity.na_santricity_asup</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Allow the auto-support settings to be configured for an individual E-Series storage-system</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>active</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Enable active/proactive monitoring for ASUP. When a problem is detected by our monitoring systems, it's possible that the bundle did not contain all of the required information at the time of the event. Enabling this option allows NetApp support personnel to manually request transmission or re-transmission of support data in order ot resolve the problem.</div> <div>Only applicable if <em>state=enabled</em>.</div> </td> </tr> <tr> <td colspan="2">  <b>api_password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The password to authenticate with the SANtricity Web Services Proxy or Embedded Web Services API.</div> </td> </tr> <tr> <td colspan="2">  <b>api_url</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The url to the SANtricity Web Services Proxy or Embedded Web Services API.</div> <div>Example https://prod-1.wahoo.acme.com:8443/devmgr/v2</div> </td> </tr> <tr> <td colspan="2">  <b>api_username</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The username to authenticate with the SANtricity Web Services Proxy or Embedded Web Services API.</div> </td> </tr> <tr> <td colspan="2">  <b>days</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>monday</li> <li>tuesday</li> <li>wednesday</li> <li>thursday</li> <li>friday</li> <li>saturday</li> <li>sunday</li> </ul> </td> <td> <div>A list of days of the week that ASUP bundles will be sent. A larger, weekly bundle will be sent on one of the provided days.</div> <div>
<br>aliases: schedule_days, days_of_week</div> </td> </tr> <tr> <td colspan="2">  <b>email</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Information particular to the e-mail delivery method.</div> <div>Uses the SMTP protocol.</div> <div>Required when M(method==email).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>sender</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Sender's email account</div> <div>Required when M(routing_type==email).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>server</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Mail server's IP address or fully qualified domain name.</div> <div>Required when M(routing_type==email).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>test_recipient</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Test verification email</div> <div>Required when M(routing_type==email).</div> </td> </tr> <tr> <td colspan="2">  <b>end</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>24</div> </td> <td> <div>An end hour may be specified in a range from 1 to 24 hours.</div> <div>ASUP bundles will be sent daily between the provided start and end time (UTC).</div> <div>
<em>start</em> must be less than <em>end</em>.</div> </td> </tr> <tr> <td colspan="2">  <b>maintenance_duration</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>24</div> </td> <td> <div>The duration of time the ASUP maintenance mode will be active.</div> <div>Permittable range is between 1 and 72 hours.</div> <div>Required when <em>state==maintenance_enabled</em>.</div> </td> </tr> <tr> <td colspan="2">  <b>maintenance_emails</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>List of email addresses for maintenance notifications.</div> <div>Required when <em>state==maintenance_enabled</em>.</div> </td> </tr> <tr> <td colspan="2">  <b>method</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>https</b> ←</div></li> <li>http</li> <li>email</li> </ul> </td> <td> <div>AutoSupport dispatch delivery method.</div> </td> </tr> <tr> <td colspan="2">  <b>proxy</b>  <div> <span>dictionary</span> </div> </td> <td> </td> <td> <div>Information particular to the proxy delivery method.</div> <div>Required when M((method==https or method==http) and routing_type==proxy).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>host</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Proxy host IP address or fully qualified domain name.</div> <div>Required when M(method==http or method==https) and M(routing_type==proxy).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>password</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Password for the proxy.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>port</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Proxy host port.</div> <div>Required when M(method==http or method==https) and M(routing_type==proxy).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>script</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Path to the AutoSupport routing script file.</div> <div>Required when M(method==http or method==https) and M(routing_type==script).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>username</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Username for the proxy.</div> </td> </tr> <tr> <td colspan="2">  <b>routing_type</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>direct</b> ←</div></li> <li>proxy</li> <li>script</li> </ul> </td> <td> <div>AutoSupport routing</div> <div>Required when M(method==https or method==http).</div> </td> </tr> <tr> <td colspan="2">  <b>ssid</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>1</div> </td> <td> <div>The ID of the array to manage. This value must be unique for each array.</div> </td> </tr> <tr> <td colspan="2">  <b>start</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>0</div> </td> <td> <div>A start hour may be specified in a range from 0 to 23 hours.</div> <div>ASUP bundles will be sent daily between the provided start and end time (UTC).</div> <div>
<em>start</em> must be less than <em>end</em>.</div> </td> </tr> <tr> <td colspan="2">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>enabled</b> ←</div></li> <li>disabled</li> <li>maintenance_enabled</li> <li>maintenance_disabled</li> </ul> </td> <td> <div>Enable/disable the E-Series auto-support configuration or maintenance mode.</div> <div>When this option is enabled, configuration, logs, and other support-related information will be relayed to NetApp to help better support your system. No personally identifiable information, passwords, etc, will be collected.</div> <div>The maintenance state enables the maintenance window which allows maintenance activities to be performed on the storage array without generating support cases.</div> <div>Maintenance mode cannot be enabled unless ASUP has previously been enabled.</div> </td> </tr> <tr> <td colspan="2">  <b>validate</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Validate ASUP configuration.</div> </td> </tr> <tr> <td colspan="2">  <b>validate_certs</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Should https certificates be validated?</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Check mode is supported.</li> <li>Enabling ASUP will allow our support teams to monitor the logs of the storage-system in order to proactively respond to issues with the system. It is recommended that all ASUP-related options be enabled, but they may be disabled if desired.</li> <li>This API is currently only supported with the Embedded Web Services API v2.0 and higher.</li> <li>The E-Series Ansible modules require either an instance of the Web Services Proxy (WSP), to be available to manage the storage-system, or an E-Series storage-system that supports the Embedded Web Services API.</li> <li>Embedded Web Services is currently available on the E2800, E5700, EF570, and newer hardware models.</li> <li>M(netapp_e_storage_system) may be utilized for configuring the systems managed by a WSP instance.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Enable ASUP and allow pro-active retrieval of bundles
  na_santricity_asup:
    ssid: "1"
    api_url: "https://192.168.1.100:8443/devmgr/v2"
    api_username: "admin"
    api_password: "adminpass"
    validate_certs: true
    state: enabled
    active: true
    days: ["saturday", "sunday"]
    start: 17
    end: 20
- name: Set the ASUP schedule to only send bundles from 12 AM CST to 3 AM CST.
  na_santricity_asup:
    ssid: "1"
    api_url: "https://192.168.1.100:8443/devmgr/v2"
    api_username: "admin"
    api_password: "adminpass"
    validate_certs: true
    state: disabled
- name: Set the ASUP schedule to only send bundles from 12 AM CST to 3 AM CST.
  na_santricity_asup:
    ssid: "1"
    api_url: "https://192.168.1.100:8443/devmgr/v2"
    api_username: "admin"
    api_password: "adminpass"
    state: maintenance_enabled
    maintenance_duration: 24
    maintenance_emails:
      - admin@example.com
- name: Set the ASUP schedule to only send bundles from 12 AM CST to 3 AM CST.
  na_santricity_asup:
    ssid: "1"
    api_url: "https://192.168.1.100:8443/devmgr/v2"
    api_username: "admin"
    api_password: "adminpass"
    validate_certs: true
    state: maintenance_disabled
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="2">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="2">  <b>active</b>  <div> <span>boolean</span> </div> </td> <td>on success</td> <td> <div>True if the active option has been enabled.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td colspan="2">  <b>asup</b>  <div> <span>boolean</span> </div> </td> <td>on success</td> <td> <div>True if ASUP is enabled.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td colspan="2">  <b>cfg</b>  <div> <span>complex</span> </div> </td> <td>on success</td> <td> <div>Provide the full ASUP configuration.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>asupEnabled</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>True if ASUP has been enabled.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>daysOfWeek</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>success</td> <td> <div>The days of the week that ASUP bundles will be sent.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>onDemandEnabled</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>True if ASUP active monitoring has been enabled.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>msg</b>  <div> <span>string</span> </div> </td> <td>on success</td> <td> <div>Success message</div> <br> <div><b>Sample:</b></div> <div>The settings have been updated.</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Michael Price (@lmprice)</li> <li>Nathan Swartz (@ndswartz)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/netapp_eseries/santricity/na_santricity_asup_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/netapp_eseries/santricity/na_santricity_asup_module.html</a>
  </p>
</div>
