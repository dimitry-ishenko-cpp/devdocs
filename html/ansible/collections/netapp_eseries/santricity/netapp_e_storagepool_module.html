<h1 id="netapp-eseries-santricity-netapp-e-storagepool-netapp-e-series-manage-volume-groups-and-disk-pools">netapp_eseries.santricity.netapp_e_storagepool – NetApp E-Series manage volume groups and disk pools</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/netapp_eseries/santricity">netapp_eseries.santricity collection</a> (version 1.2.13).</p> <p>You might already have this collection installed if you are using the <code>ansible</code> package. It is not included in <code>ansible-core</code>. To check whether it is installed, run <code>ansible-galaxy collection list</code>.</p> <p>To install it, use: <code>ansible-galaxy collection install netapp_eseries.santricity</code>.</p> <p>To use it in a playbook, specify: <code>netapp_eseries.santricity.netapp_e_storagepool</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.2: </span>of netapp_eseries.santricity</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Create or remove volume groups and disk pools for NetApp E-series storage arrays.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>api_password</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The password to authenticate with the SANtricity Web Services Proxy or Embedded Web Services API.</div> </td> </tr> <tr> <td colspan="1">  <b>api_url</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The url to the SANtricity Web Services Proxy or Embedded Web Services API. Example https://prod-1.wahoo.acme.com/devmgr/v2</div> </td> </tr> <tr> <td colspan="1">  <b>api_username</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The username to authenticate with the SANtricity Web Services Proxy or Embedded Web Services API.</div> </td> </tr> <tr> <td colspan="1">  <b>criteria_drive_count</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>The number of disks to use for building the storage pool.</div> <div>When <em>state=="present"</em> then <em>criteria_drive_count</em> or <em>criteria_min_usable_capacity</em> must be specified.</div> <div>The pool will be expanded if this number exceeds the number of disks already in place (See expansion note below)</div> </td> </tr> <tr> <td colspan="1">  <b>criteria_drive_interface_type</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>sas</li> <li>sas4k</li> <li>fibre</li> <li>fibre520b</li> <li>scsi</li> <li>sata</li> <li>pata</li> </ul> </td> <td> <div>The interface type to use when selecting drives for the storage pool</div> <div>If not provided then all interface types will be considered.</div> </td> </tr> <tr> <td colspan="1">  <b>criteria_drive_min_size</b>  <div> <span>float</span> </div> </td> <td> </td> <td> <div>The minimum individual drive size (in size_unit) to consider when choosing drives for the storage pool.</div> </td> </tr> <tr> <td colspan="1">  <b>criteria_drive_require_da</b>  <div> <span>boolean</span> </div> <div> added in 2.9 of netapp_eseries.santricity </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Ensures the storage pool will be created with only data assurance (DA) capable drives.</div> <div>Only available for new storage pools; existing storage pools cannot be converted.</div> </td> </tr> <tr> <td colspan="1">  <b>criteria_drive_require_fde</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Whether full disk encryption ability is required for drives to be added to the storage pool</div> </td> </tr> <tr> <td colspan="1">  <b>criteria_drive_type</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>hdd</li> <li>ssd</li> </ul> </td> <td> <div>The type of disk (hdd or ssd) to use when searching for candidates to use.</div> <div>When not specified each drive type will be evaluated until successful drive candidates are found starting with the most prevalent drive type.</div> </td> </tr> <tr> <td colspan="1">  <b>criteria_min_usable_capacity</b>  <div> <span>float</span> </div> </td> <td> </td> <td> <div>The minimum size of the storage pool (in size_unit).</div> <div>When <em>state=="present"</em> then <em>criteria_drive_count</em> or <em>criteria_min_usable_capacity</em> must be specified.</div> <div>The pool will be expanded if this value exceeds its current size. (See expansion note below)</div> </td> </tr> <tr> <td colspan="1">  <b>criteria_size_unit</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>bytes</li> <li>b</li> <li>kb</li> <li>mb</li> <li><div>
<b>gb</b> ←</div></li> <li>tb</li> <li>pb</li> <li>eb</li> <li>zb</li> <li>yb</li> </ul> </td> <td> <div>The unit used to interpret size parameters</div> </td> </tr> <tr> <td colspan="1">  <b>erase_secured_drives</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If <em>state=="absent"</em> then all storage pool drives will be erase</div> <div>If <em>state=="present"</em> then delete all available storage array drives that have security enabled.</div> </td> </tr> <tr> <td colspan="1">  <b>name</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>The name of the storage pool to manage</div> </td> </tr> <tr> <td colspan="1">  <b>raid_level</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>raidAll</li> <li>raid0</li> <li>raid1</li> <li>raid3</li> <li>raid5</li> <li>raid6</li> <li><div>
<b>raidDiskPool</b> ←</div></li> </ul> </td> <td> <div>The RAID level of the storage pool to be created.</div> <div>Required only when <em>state=="present"</em>.</div> <div>When <em>raid_level=="raidDiskPool"</em> then <em>criteria_drive_count &gt;= 10 or criteria_drive_count &gt;= 11</em> is required depending on the storage array specifications.</div> <div>When <em>raid_level=="raid0"</em> then <em>1&lt;=criteria_drive_count</em> is required.</div> <div>When <em>raid_level=="raid1"</em> then <em>2&lt;=criteria_drive_count</em> is required.</div> <div>When <em>raid_level=="raid3"</em> then <em>3&lt;=criteria_drive_count&lt;=30</em> is required.</div> <div>When <em>raid_level=="raid5"</em> then <em>3&lt;=criteria_drive_count&lt;=30</em> is required.</div> <div>When <em>raid_level=="raid6"</em> then <em>5&lt;=criteria_drive_count&lt;=30</em> is required.</div> <div>Note that raidAll will be treated as raidDiskPool and raid3 as raid5.</div> </td> </tr> <tr> <td colspan="1">  <b>remove_volumes</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Prior to removing a storage pool, delete all volumes in the pool.</div> </td> </tr> <tr> <td colspan="1">  <b>reserve_drive_count</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Set the number of drives reserved by the storage pool for reconstruction operations.</div> <div>Only valid on raid disk pools.</div> </td> </tr> <tr> <td colspan="1">  <b>secure_pool</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Enables security at rest feature on the storage pool.</div> <div>Will only work if all drives in the pool are security capable (FDE, FIPS, or mix)</div> <div>Warning, once security is enabled it is impossible to disable without erasing the drives.</div> </td> </tr> <tr> <td colspan="1">  <b>ssid</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>1</div> </td> <td> <div>The ID of the array to manage. This value must be unique for each array.</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>present</li> <li>absent</li> </ul> </td> <td> <div>Whether the specified storage pool should exist or not.</div> <div>Note that removing a storage pool currently requires the removal of all defined volumes first.</div> </td> </tr> <tr> <td colspan="1">  <b>validate_certs</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Should https certificates be validated?</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>The expansion operations are non-blocking due to the time consuming nature of expanding volume groups</li> <li>Traditional volume groups (raid0, raid1, raid5, raid6) are performed in steps dictated by the storage array. Each required step will be attempted until the request fails which is likely because of the required expansion time.</li> <li>raidUnsupported will be treated as raid0, raidAll as raidDiskPool and raid3 as raid5.</li> <li>Tray loss protection and drawer loss protection will be chosen if at all possible.</li> <li>The E-Series Ansible modules require either an instance of the Web Services Proxy (WSP), to be available to manage the storage-system, or an E-Series storage-system that supports the Embedded Web Services API.</li> <li>Embedded Web Services is currently available on the E2800, E5700, EF570, and newer hardware models.</li> <li>M(netapp_e_storage_system) may be utilized for configuring the systems managed by a WSP instance.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: No disk groups
  netapp_e_storagepool:
    ssid: "{{ ssid }}"
    name: "{{ item }}"
    state: absent
    api_url: "{{ netapp_api_url }}"
    api_username: "{{ netapp_api_username }}"
    api_password: "{{ netapp_api_password }}"
    validate_certs: "{{ netapp_api_validate_certs }}"
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>msg</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Success message</div> <br> <div><b>Sample:</b></div> <div>Json facts for the pool that was created.</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Kevin Hulquest (@hulquest)</li> <li>Nathan Swartz (@ndswartz)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/collections/netapp_eseries/santricity/netapp_e_storagepool_module.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/collections/netapp_eseries/santricity/netapp_e_storagepool_module.html</a>
  </p>
</div>
