<section id="installing-ansible"> <h1 id="installation-guide">Installing Ansible</h1> <p>Ansible is an agentless automation tool that you install on a single host (referred to as the control node).</p> <p>From the control node, Ansible can manage an entire fleet of machines and other devices (referred to as managed nodes) remotely with SSH, Powershell remoting, and numerous other transports, all from a simple command-line interface with no databases or daemons required.</p>  <ul class="simple"> <li><a class="reference internal" href="#control-node-requirements" id="id7">Control node requirements</a></li> <li><a class="reference internal" href="#managed-node-requirements" id="id8">Managed node requirements</a></li> <li><a class="reference internal" href="#node-requirement-summary" id="id9">Node requirement summary</a></li> <li><a class="reference internal" href="#selecting-an-ansible-package-and-version-to-install" id="id10">Selecting an Ansible package and version to install</a></li> <li>
<p><a class="reference internal" href="#installing-and-upgrading-ansible-with-pipx" id="id11">Installing and upgrading Ansible with pipx</a></p> <ul> <li><a class="reference internal" href="#pipx-install" id="id12">Installing Ansible</a></li> <li><a class="reference internal" href="#upgrading-ansible" id="id13">Upgrading Ansible</a></li> <li><a class="reference internal" href="#installing-extra-python-dependencies" id="id14">Installing Extra Python Dependencies</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#installing-and-upgrading-ansible-with-pip" id="id15">Installing and upgrading Ansible with pip</a></p> <ul> <li><a class="reference internal" href="#locating-python" id="id16">Locating Python</a></li> <li><a class="reference internal" href="#ensuring-pip-is-available" id="id17">Ensuring <code>pip</code> is available</a></li> <li><a class="reference internal" href="#pip-install" id="id18">Installing Ansible</a></li> <li><a class="reference internal" href="#pip-upgrade" id="id19">Upgrading Ansible</a></li> </ul> </li> <li><a class="reference internal" href="#installing-ansible-to-containers" id="id20">Installing Ansible to containers</a></li> <li>
<p><a class="reference internal" href="#installing-for-development" id="id21">Installing for development</a></p> <ul> <li><a class="reference internal" href="#installing-devel-from-github-with-pip" id="id22">Installing <code>devel</code> from GitHub with <code>pip</code></a></li> <li><a class="reference internal" href="#running-the-devel-branch-from-a-clone" id="id23">Running the <code>devel</code> branch from a clone</a></li> </ul> </li> <li><a class="reference internal" href="#confirming-your-installation" id="id24">Confirming your installation</a></li> <li>
<p><a class="reference internal" href="#adding-ansible-command-shell-completion" id="id25">Adding Ansible command shell completion</a></p> <ul> <li><a class="reference internal" href="#installing-argcomplete" id="id26">Installing <code>argcomplete</code></a></li> <li>
<p><a class="reference internal" href="#configuring-argcomplete" id="id27">Configuring <code>argcomplete</code></a></p> <ul> <li><a class="reference internal" href="#global-configuration" id="id28">Global configuration</a></li> <li><a class="reference internal" href="#per-command-configuration" id="id29">Per command configuration</a></li> <li><a class="reference internal" href="#using-argcomplete-with-zsh-or-tcsh" id="id30">Using <code>argcomplete</code> with zsh or tcsh</a></li> </ul> </li> </ul> </li> </ul>  <section id="control-node-requirements"> <h2 id="id1">Control node requirements</h2> <p>For your <em>control</em> node (the machine that runs Ansible), you can use nearly any UNIX-like machine with Python installed. This includes Red Hat, Debian, Ubuntu, macOS, BSDs, and Windows under a <a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/about">Windows Subsystem for Linux (WSL) distribution</a>. Windows without WSL is not natively supported as a control node; see <a class="reference external" href="http://blog.rolpdog.com/2020/03/why-no-ansible-controller-for-windows.html">Matt Davis’ blog post</a> for more information.</p> </section> <section id="managed-node-requirements"> <h2 id="id2">Managed node requirements</h2> <p>The <em>managed</em> node (the machine that Ansible is managing) does not require Ansible to be installed, but requires Python to run Ansible-generated Python code. The managed node also needs a user account that can connect through SSH to the node with an interactive POSIX shell.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>There can be exceptions in module requirements. For example, network modules do not require Python on the managed device. See documentation for the modules you use.</p> </div> </section> <section id="node-requirement-summary"> <h2 id="node-requirements-summary">Node requirement summary</h2> <p>You can find details about control and managed node requirements, including Python versions, for each Ansible version in the <a class="reference internal" href="../reference_appendices/release_and_maintenance.html#support-life"><span class="std std-ref">ansible-core control node Python support</span></a> and <a class="reference internal" href="../reference_appendices/release_and_maintenance.html#ansible-core-support-matrix"><span class="std std-ref">ansible-core support matrix</span></a> sections.</p> </section> <section id="selecting-an-ansible-package-and-version-to-install"> <h2 id="getting-ansible">Selecting an Ansible package and version to install</h2> <p>Ansible’s community packages are distributed in two ways:</p> <ul class="simple"> <li>
<code>ansible-core</code>: a minimalist language and runtime package containing a set of <a class="reference internal" href="../collections/ansible/builtin/index.html#plugins-in-ansible-builtin"><span class="std std-ref">Ansible.Builtin</span></a>.</li> <li>
<code>ansible</code>: a much larger “batteries included” package, which adds a community-curated selection of <a class="reference internal" href="../collections_guide/index.html#collections"><span class="std std-ref">Ansible Collections</span></a> for automating a wide variety of devices.</li> </ul> <p>Choose the package that fits your needs. The following instructions use <code>ansible</code> as a package name, but you can substitute <code>ansible-core</code> if you prefer to start with the minimal package and separately install only the Ansible Collections you require.</p> <p>The <code>ansible</code> or <code>ansible-core</code> packages may be available in your operating systems package manager, and you are free to install these packages with your preferred method. For more information, see the <a class="reference internal" href="installation_distros.html#installing-distros"><span class="std std-ref">Installing Ansible on specific operating systems</span></a> guide. These installation instructions only cover the officially supported means of installing the python packages with <code>pip</code>.</p> <p>See the <a class="reference internal" href="../reference_appendices/release_and_maintenance.html#ansible-changelogs"><span class="std std-ref">Ansible package release status table</span></a> for the <code>ansible-core</code> version included in the package.</p> </section> <section id="installing-and-upgrading-ansible-with-pipx"> <h2>Installing and upgrading Ansible with pipx</h2> <p>On some systems, it may not be possible to install Ansible with <code>pip</code>, due to decisions made by the operating system developers. In such cases, <code>pipx</code> is a widely available alternative.</p> <p>These instructions will not go over the steps to install <code>pipx</code>; if those instructions are needed, please continue to the <a class="reference external" href="https://pypa.github.io/pipx/installation/">pipx installation instructions</a> for more information.</p> <section id="pipx-install"> <h3 id="id3">Installing Ansible</h3> <p>Use <code>pipx</code> in your environment to install the full Ansible package:</p> <pre data-language="console">$ pipx install --include-deps ansible
</pre> <p>You can install the minimal <code>ansible-core</code> package:</p> <pre data-language="console">$ pipx install ansible-core
</pre> <p>Alternately, you can install a specific version of <code>ansible-core</code>:</p> <pre data-language="console">$ pipx install ansible-core==2.12.3
</pre> </section> <section id="upgrading-ansible"> <h3 id="pipx-upgrade">Upgrading Ansible</h3> <p>To upgrade an existing Ansible installation to the latest released version:</p> <pre data-language="console">$ pipx upgrade --include-injected ansible
</pre> </section> <section id="installing-extra-python-dependencies"> <h3 id="pipx-inject">Installing Extra Python Dependencies</h3> <p>To install additional python dependencies that may be needed, with the example of installing the <code>argcomplete</code> python package as described below:</p> <pre data-language="console">$ pipx inject ansible argcomplete
</pre> <p>Include the <code>--include-apps</code> option to make apps in the additional python dependency available on your PATH. This allows you to execute commands for those apps from the shell.</p> <pre data-language="console">$ pipx inject --include-apps ansible argcomplete
</pre> </section> </section> <section id="installing-and-upgrading-ansible-with-pip"> <h2>Installing and upgrading Ansible with pip</h2> <section id="locating-python"> <h3>Locating Python</h3> <p>Locate and remember the path to the Python interpreter you wish to use to run Ansible. The following instructions refer to this Python as <code>python3</code>. For example, if you have determined that you want the Python at <code>/usr/bin/python3.9</code> to be the one that you will install Ansible under, specify that instead of <code>python3</code>.</p> </section> <section id="ensuring-pip-is-available"> <h3>Ensuring <code>pip</code> is available</h3> <p>To verify whether <code>pip</code> is already installed for your preferred Python:</p> <pre data-language="console">$ python3 -m pip -V
</pre> <p>If all is well, you should see something like the following:</p> <pre data-language="console">$ python3 -m pip -V
pip 21.0.1 from /usr/lib/python3.9/site-packages/pip (python 3.9)
</pre> <p>If so, <code>pip</code> is available, and you can move on to the <a class="reference internal" href="#pip-install"><span class="std std-ref">next step</span></a>.</p> <p>If you see an error like <code>No module named pip</code>, you will need to install <code>pip</code> under your chosen Python interpreter before proceeding. This may mean installing an additional OS package (for example, <code>python3-pip</code>), or installing the latest <code>pip</code> directly from the Python Packaging Authority by running the following:</p> <pre data-language="console">$ curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
$ python3 get-pip.py --user
</pre> <p>You may need to perform some additional configuration before you are able to run Ansible. See the Python documentation on <a class="reference external" href="https://packaging.python.org/tutorials/installing-packages/#installing-to-the-user-site">installing to the user site</a> for more information.</p> </section> <section id="pip-install"> <h3 id="id4">Installing Ansible</h3> <p>Use <code>pip</code> in your selected Python environment to install the full Ansible package for the current user:</p> <pre data-language="console">$ python3 -m pip install --user ansible
</pre> <p>You can install the minimal <code>ansible-core</code> package for the current user:</p> <pre data-language="console">$ python3 -m pip install --user ansible-core
</pre> <p>Alternately, you can install a specific version of <code>ansible-core</code>:</p> <pre data-language="console">$ python3 -m pip install --user ansible-core==2.12.3
</pre> </section> <section id="pip-upgrade"> <h3 id="id5">Upgrading Ansible</h3> <p>To upgrade an existing Ansible installation in this Python environment to the latest released version, simply add <code>--upgrade</code> to the command above:</p> <pre data-language="console">$ python3 -m pip install --upgrade --user ansible
</pre> </section> </section> <section id="installing-ansible-to-containers"> <h2>Installing Ansible to containers</h2> <p>Instead of installing Ansible content manually, you can simply build an execution environment container image or use one of the available community images as your control node. See <a class="reference internal" href="../getting_started_ee/index.html#getting-started-ee-index"><span class="std std-ref">Getting started with Execution Environments</span></a> for details.</p> </section> <section id="installing-for-development"> <h2 id="development-install">Installing for development</h2> <p>If you are testing new features, fixing bugs, or otherwise working with the development team on changes to the core code, you can install and run the source from GitHub.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>You should only install and run the <code>devel</code> branch if you are modifying <code>ansible-core</code> or trying out features under development. This is a rapidly changing source of code and can become unstable at any point.</p> </div> <p>For more information on getting involved in the Ansible project, see the <a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/index.html#ansible-community-guide"><span class="std std-ref">Ansible Community Guide</span></a>.</p> <p>For more information on creating Ansible modules and Collections, see the <a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/core_index.html#developer-guide"><span class="std std-ref">Developer Guide</span></a>.</p> <section id="installing-devel-from-github-with-pip"> <h3 id="from-pip-devel">Installing <code>devel</code> from GitHub with <code>pip</code>
</h3> <p>You can install the <code>devel</code> branch of <code>ansible-core</code> directly from GitHub with <code>pip</code>:</p> <pre data-language="console">$ python3 -m pip install --user https://github.com/ansible/ansible/archive/devel.tar.gz
</pre> <p>You can replace <code>devel</code> in the URL mentioned above, with any other branch or tag on GitHub to install older versions of Ansible, tagged alpha or beta versions, and release candidates.</p> </section> <section id="running-the-devel-branch-from-a-clone"> <h3 id="from-source">Running the <code>devel</code> branch from a clone</h3> <p><code>ansible-core</code> is easy to run from source. You do not need <code>root</code> permissions to use it and there is no software to actually install. No daemons or database setup are required.</p> <ol class="arabic"> <li>
<p>Clone the <code>ansible-core</code> repository</p> <pre data-language="console">$ git clone https://github.com/ansible/ansible.git
$ cd ./ansible
</pre> </li> <li>
<p>Setup the Ansible environment</p> <ul> <li>
<p>Using Bash</p> <pre data-language="console">$ source ./hacking/env-setup
</pre> </li> <li>
<p>Using Fish</p> <pre data-language="console">$ source ./hacking/env-setup.fish
</pre> </li> <li>
<p>To suppress spurious warnings/errors, use <code>-q</code></p> <pre data-language="console">$ source ./hacking/env-setup -q
</pre> </li> </ul> </li> <li>
<p>Install Python dependencies</p> <pre data-language="console">$ python3 -m pip install --user -r ./requirements.txt
</pre> </li> <li>
<p>Update the <code>devel</code> branch of <code>ansible-core</code> on your local machine</p> <p>Use pull-with-rebase so any local changes are replayed.</p> <pre data-language="console">$ git pull --rebase
</pre> </li> </ol> </section> </section> <section id="confirming-your-installation"> <h2 id="shell-completion">Confirming your installation</h2> <p>You can test that Ansible is installed correctly by checking the version:</p> <pre data-language="console">$ ansible --version
</pre> <p>The version displayed by this command is for the associated <code>ansible-core</code> package that has been installed.</p> <p>To check the version of the <code>ansible</code> package that has been installed:</p> <pre data-language="console">$ ansible-community --version
</pre> </section> <section id="adding-ansible-command-shell-completion"> <h2>Adding Ansible command shell completion</h2> <p>You can add shell completion of the Ansible command line utilities by installing an optional dependency called <code>argcomplete</code>. It supports bash, and has limited support for zsh and tcsh.</p> <p>For more information about installation and configuration, see the <a class="reference external" href="https://kislyuk.github.io/argcomplete/">argcomplete documentation</a>.</p> <section id="installing-argcomplete"> <h3>Installing <code>argcomplete</code>
</h3> <p>If you chose the <code>pipx</code> installation instructions:</p> <pre data-language="console">$ pipx inject --include-apps ansible argcomplete
</pre> <p>If you chose the <code>pip</code> installation instructions:</p> <pre data-language="console">$ python3 -m pip install --user argcomplete
</pre> </section> <section id="configuring-argcomplete"> <h3>Configuring <code>argcomplete</code>
</h3> <p>There are 2 ways to configure <code>argcomplete</code> to allow shell completion of the Ansible command line utilities: globally or per command.</p> <section id="global-configuration"> <h4>Global configuration</h4> <p>Global completion requires bash 4.2.</p> <pre data-language="console">$ activate-global-python-argcomplete --user
</pre> <p>This will write a bash completion file to a user location. Use <code>--dest</code> to change the location or <code>sudo</code> to set up the completion globally.</p> </section> <section id="per-command-configuration"> <h4>Per command configuration</h4> <p>If you do not have bash 4.2, you must register each script independently.</p> <pre data-language="console">$ eval $(register-python-argcomplete ansible)
$ eval $(register-python-argcomplete ansible-config)
$ eval $(register-python-argcomplete ansible-console)
$ eval $(register-python-argcomplete ansible-doc)
$ eval $(register-python-argcomplete ansible-galaxy)
$ eval $(register-python-argcomplete ansible-inventory)
$ eval $(register-python-argcomplete ansible-playbook)
$ eval $(register-python-argcomplete ansible-pull)
$ eval $(register-python-argcomplete ansible-vault)
</pre> <p>You should place the above commands into your shell’s profile file such as <code>~/.profile</code> or <code>~/.bash_profile</code>.</p> </section> <section id="using-argcomplete-with-zsh-or-tcsh"> <h4>Using <code>argcomplete</code> with zsh or tcsh</h4> <p>See the <a class="reference external" href="https://kislyuk.github.io/argcomplete/">argcomplete documentation</a>.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="../command_guide/intro_adhoc.html#intro-adhoc"><span class="std std-ref">Introduction to ad hoc commands</span></a></dt>
<dd>
<p>Examples of basic commands</p> </dd> <dt><a class="reference internal" href="../playbook_guide/playbooks.html#working-with-playbooks"><span class="std std-ref">Working with playbooks</span></a></dt>
<dd>
<p>Learning ansible’s configuration management language</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/faq.html#installation-faqs"><span class="std std-ref">How do I handle the package dependencies required by Ansible package dependencies during Ansible installation ?</span></a></dt>
<dd>
<p>Ansible Installation related to FAQs</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/communication.html#ansible-forum"><span class="std std-ref">Forum</span></a></dt>
<dd>
<p>Join the Ansible community forum to get help and share insights</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/communication.html#communication-irc"><span class="std std-ref">Real-time chat</span></a></dt>
<dd>
<p>How to join Ansible chat channels</p> </dd> </dl> </div> </section> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html</a>
  </p>
</div>
