<h1 id="id1">Interpreter Discovery</h1> <p id="interpreter-discovery">Most Ansible modules that execute under a POSIX environment require a Python interpreter on the target host. Unless configured otherwise, Ansible will attempt to discover a suitable Python interpreter on each target host the first time a Python module is executed for that host.</p> <p>To control the discovery behavior:</p> <ul class="simple"> <li>for individual hosts and groups, use the <code>ansible_python_interpreter</code> inventory variable</li> <li>globally, use the <code>interpreter_python</code> key in the <code>[defaults]</code> section of <code>ansible.cfg</code>
</li> </ul> <p>Use one of the following values:</p> <dl class="simple"> <dt>
<code>auto_legacy(default in 2.8)</code> </dt>
<dd>
<p>Detects the target OS platform, distribution, and version, then consults a table listing the correct Python interpreter and path for each platform/distribution/version. If an entry is found, and <code>/usr/bin/python</code> is absent, uses the discovered interpreter (and path). If an entry is found, and <code>/usr/bin/python</code> is present, uses <code>/usr/bin/python</code> and issues a warning. This exception provides temporary compatibility with previous versions of Ansible that always defaulted to <code>/usr/bin/python</code>, so if you have installed Python and other dependencies at <code>/usr/bin/python</code> on some hosts, Ansible will find and use them with this setting. If no entry is found, or the listed Python is not present on the target host, searches a list of common Python interpreter paths and uses the first one found; also issues a warning that future installation of another Python interpreter could alter the one chosen.</p> </dd> <dt>
<code>auto(future default in 2.12)</code> </dt>
<dd>
<p>Detects the target OS platform, distribution, and version, then consults a table listing the correct Python interpreter and path for each platform/distribution/version. If an entry is found, uses the discovered interpreter. If no entry is found, or the listed Python is not present on the target host, searches a list of common Python interpreter paths and uses the first one found; also issues a warning that future installation of another Python interpreter could alter the one chosen.</p> </dd> <dt>auto_legacy_silent</dt>
<dd>
<p>Same as <code>auto_legacy</code>, but does not issue warnings.</p> </dd> <dt>auto_silent</dt>
<dd>
<p>Same as <code>auto</code>, but does not issue warnings.</p> </dd> </dl> <p>You can still set <code>ansible_python_interpreter</code> to a specific path at any variable level (for example, in host_vars, in vars files, in playbooks, and so on). Setting a specific path completely disables automatic interpreter discovery; Ansible always uses the path specified.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/reference_appendices/interpreter_discovery.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/reference_appendices/interpreter_discovery.html</a>
  </p>
</div>
