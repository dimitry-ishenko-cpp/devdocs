<section id="ansible-5-porting-guide"> <h1 id="porting-5-guide">Ansible 5 Porting Guide</h1>  <ul class="simple"> <li><a class="reference internal" href="#playbook" id="id77">Playbook</a></li> <li><a class="reference internal" href="#python-interpreter-discovery" id="id78">Python Interpreter Discovery</a></li> <li><a class="reference internal" href="#command-line" id="id79">Command Line</a></li> <li><a class="reference internal" href="#deprecated" id="id80">Deprecated</a></li> <li>
<p><a class="reference internal" href="#modules" id="id81">Modules</a></p> <ul> <li><a class="reference internal" href="#modules-removed" id="id82">Modules removed</a></li> <li><a class="reference internal" href="#deprecation-notices" id="id83">Deprecation notices</a></li> <li><a class="reference internal" href="#noteworthy-module-changes" id="id84">Noteworthy module changes</a></li> </ul> </li> <li><a class="reference internal" href="#plugins" id="id85">Plugins</a></li> <li><a class="reference internal" href="#porting-custom-scripts" id="id86">Porting custom scripts</a></li> <li><a class="reference internal" href="#networking" id="id87">Networking</a></li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-9-0" id="id88">Porting Guide for v5.9.0</a></p> <ul> <li><a class="reference internal" href="#added-collections" id="id89">Added Collections</a></li> <li><a class="reference internal" href="#major-changes" id="id90">Major Changes</a></li> <li><a class="reference internal" href="#deprecated-features" id="id91">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-8-0" id="id92">Porting Guide for v5.8.0</a></p> <ul> <li><a class="reference internal" href="#id1" id="id93">Added Collections</a></li> <li><a class="reference internal" href="#breaking-changes" id="id94">Breaking Changes</a></li> <li><a class="reference internal" href="#id2" id="id95">Major Changes</a></li> <li><a class="reference internal" href="#id3" id="id96">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-7-0" id="id97">Porting Guide for v5.7.0</a></p> <ul> <li><a class="reference internal" href="#id5" id="id98">Major Changes</a></li> <li><a class="reference internal" href="#id8" id="id99">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-6-0" id="id100">Porting Guide for v5.6.0</a></p> <ul> <li><a class="reference internal" href="#id9" id="id101">Added Collections</a></li> <li><a class="reference internal" href="#id10" id="id102">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-5-0" id="id103">Porting Guide for v5.5.0</a></p> <ul> <li><a class="reference internal" href="#known-issues" id="id104">Known Issues</a></li> <li><a class="reference internal" href="#id12" id="id105">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-4-0" id="id106">Porting Guide for v5.4.0</a></p> <ul> <li><a class="reference internal" href="#id14" id="id107">Major Changes</a></li> <li><a class="reference internal" href="#id15" id="id108">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-3-0" id="id109">Porting Guide for v5.3.0</a></p> <ul> <li><a class="reference internal" href="#id17" id="id110">Major Changes</a></li> <li><a class="reference internal" href="#id18" id="id111">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-2-0" id="id112">Porting Guide for v5.2.0</a></p> <ul> <li><a class="reference internal" href="#id20" id="id113">Known Issues</a></li> <li><a class="reference internal" href="#id21" id="id114">Major Changes</a></li> <li><a class="reference internal" href="#id22" id="id115">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-1-0" id="id116">Porting Guide for v5.1.0</a></p> <ul> <li><a class="reference internal" href="#id24" id="id117">Known Issues</a></li> <li><a class="reference internal" href="#id26" id="id118">Major Changes</a></li> <li><a class="reference internal" href="#removed-features" id="id119">Removed Features</a></li> <li><a class="reference internal" href="#id28" id="id120">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-0-1" id="id121">Porting Guide for v5.0.1</a></p> <ul> <li><a class="reference internal" href="#id31" id="id122">Major Changes</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v5-0-0" id="id123">Porting Guide for v5.0.0</a></p> <ul> <li><a class="reference internal" href="#id32" id="id124">Added Collections</a></li> <li><a class="reference internal" href="#id33" id="id125">Known Issues</a></li> <li><a class="reference internal" href="#id35" id="id126">Breaking Changes</a></li> <li><a class="reference internal" href="#id41" id="id127">Major Changes</a></li> <li><a class="reference internal" href="#id53" id="id128">Removed Features</a></li> <li><a class="reference internal" href="#id60" id="id129">Deprecated Features</a></li> </ul> </li> </ul>  <p>Ansible 5 is based on Ansible-core 2.12.</p> <p>We suggest you read this page along with the <a class="reference external" href="https://github.com/ansible-community/ansible-build-data/blob/main/5/CHANGELOG-v5.rst">Ansible 5 Changelog</a> to understand what updates you may need to make.</p> <section id="playbook"> <h2>Playbook</h2> <ul class="simple"> <li>When calling tasks and setting <code>async</code>, setting <code>ANSIBLE_ASYNC_DIR</code> under <code>environment:</code> is no longer valid. Instead, use the shell configuration variable <code>async_dir</code>, for example by setting <code>ansible_async_dir</code>:</li> </ul> <pre data-language="yaml">tasks:
  - dnf:
      name: '*'
      state: latest
    async: 300
    poll: 5
    vars:
      ansible_async_dir: /path/to/my/custom/dir
</pre> <ul class="simple"> <li>The <code>undef()</code> function is added to the templating environment for creating undefined variables directly in a template. Optionally, a hint may be provided for variables which are intended to be overridden.</li> </ul> <pre data-language="yaml">vars:
  old: "{{ undef }}"
  new: "{{ undef() }}"
  new_with_hint: "{{ undef(hint='You must override this variable') }}"
</pre> </section> <section id="python-interpreter-discovery"> <h2>Python Interpreter Discovery</h2> <p>The default value of <code>INTERPRETER_PYTHON</code> changed to <code>auto</code>. The list of Python interpreters in <code>INTERPRETER_PYTHON_FALLBACK</code> changed to prefer Python 3 over Python 2. The combination of these two changes means the new default behavior is to quietly prefer Python 3 over Python 2 on remote hosts. Previously a deprecation warning was issued in situations where interpreter discovery would have used Python 3 but the interpreter was set to <code>/usr/bin/python</code>.</p> <p><code>INTERPRETER_PYTHON_FALLBACK</code> can be changed from the default list of interpreters by setting the <code>ansible_interpreter_python_fallback</code> variable.</p> <p>See <a class="reference internal" href="../reference_appendices/interpreter_discovery.html#interpreter-discovery"><span class="std std-ref">interpreter discovery documentation</span></a> for more details.</p> </section> <section id="command-line"> <h2>Command Line</h2> <ul class="simple"> <li>Python 3.8 on the controller node is a hard requirement for this release. The command line scripts will not function with a lower Python version.</li> <li>
<code>ansible-vault</code> no longer supports <code>PyCrypto</code> and requires <code>cryptography</code>.</li> </ul> </section> <section id="deprecated"> <h2>Deprecated</h2> <ul class="simple"> <li>Python 2.6 on the target node is deprecated in this release. <code>ansible-core</code> 2.13 will remove support for Python 2.6.</li> <li>Bare variables in conditionals: <code>when</code> conditionals no longer automatically parse string booleans such as <code>"true"</code> and <code>"false"</code> into actual booleans. Any variable containing a non-empty string is considered true. This was previously configurable with the <code>CONDITIONAL_BARE_VARS</code> configuration option (and the <code>ANSIBLE_CONDITIONAL_BARE_VARS</code> environment variable). This setting no longer has any effect. Users can work around the issue by using the <code>|bool</code> filter:</li> </ul> <pre data-language="yaml">vars:
  teardown: 'false'

tasks:
  - include_tasks: teardown.yml
    when: teardown | bool

  - include_tasks: provision.yml
    when: not teardown | bool
</pre> <ul class="simple"> <li>The <code>_remote_checksum()</code> method in <code>ActionBase</code> is deprecated. Any action plugin using this method should use <code>_execute_remote_stat()</code> instead.</li> </ul> </section> <section id="modules"> <h2>Modules</h2> <ul class="simple"> <li>
<code>cron</code> now requires <code>name</code> to be specified in all cases.</li> <li>
<code>cron</code> no longer allows a <code>reboot</code> parameter. Use <code>special_time: reboot</code> instead.</li> <li>
<code>hostname</code> - On FreeBSD, the <code>before</code> result will no longer be <code>"temporarystub"</code> if permanent hostname file does not exist. It will instead be <code>""</code> (empty string) for consistency with other systems.</li> <li>
<code>hostname</code> - On OpenRC and Solaris based systems, the <code>before</code> result will no longer be <code>"UNKNOWN"</code> if the permanent hostname file does not exist. It will instead be <code>""</code> (empty string) for consistency with other systems.</li> <li>
<code>pip</code> now uses the <code>pip</code> Python module installed for the Ansible module’s Python interpreter, if available, unless <code>executable</code> or <code>virtualenv</code> were specified.</li> </ul> <section id="modules-removed"> <h3>Modules removed</h3> <p>The following modules no longer exist:</p> <ul class="simple"> <li>No notable changes</li> </ul> </section> <section id="deprecation-notices"> <h3>Deprecation notices</h3> <p>No notable changes</p> </section> <section id="noteworthy-module-changes"> <h3>Noteworthy module changes</h3> <p>No notable changes</p> </section> </section> <section id="plugins"> <h2>Plugins</h2> <ul class="simple"> <li>
<code>unique</code> filter with Jinja2 &lt; 2.10 is case-sensitive and now raise coherently an error if <code>case_sensitive=False</code> instead of when <code>case_sensitive=True</code>.</li> <li>Set theory filters (<code>intersect</code>, <code>difference</code>, <code>symmetric_difference</code> and <code>union</code>) are now case-sensitive. Explicitly use <code>case_sensitive=False</code> to keep previous behavior. Note: with Jinja2 &lt; 2.10, the filters were already case-sensitive by default.</li> <li>
<code>password_hash`</code> now uses <code>passlib</code> defaults when an option is unspecified, for example <code>bcrypt_sha256</code>, now default to the “2b” format and if the “2a” format is required it must be specified.</li> </ul> </section> <section id="porting-custom-scripts"> <h2>Porting custom scripts</h2> <p>No notable changes</p> </section> <section id="networking"> <h2>Networking</h2> <p>No notable changes</p> </section> <section id="porting-guide-for-v5-9-0"> <h2>Porting Guide for v5.9.0</h2> <section id="added-collections"> <h3>Added Collections</h3> <ul class="simple"> <li>cisco.dnac (version 6.4.0)</li> <li>community.sap_libs (version 1.1.0)</li> </ul> </section> <section id="major-changes"> <h3>Major Changes</h3> <section id="fortinet-fortios"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Support FortiOS 7.0.2, 7.0.3, 7.0.4, 7.0.5.</li> </ul> </section> </section> <section id="deprecated-features"> <h3>Deprecated Features</h3> <ul class="simple"> <li>The collection <code>community.sap</code> has been renamed to <code>community.sap_libs</code>. For now both collections are included in Ansible. The content in <code>community.sap</code> will be replaced with deprecated redirects to the new collection in Ansible 7.0.0, and these redirects will eventually be removed from Ansible. Please update your FQCNs for <code>community.sap</code>.</li> </ul> <section id="community-docker"> <h4>community.docker</h4> <ul class="simple"> <li>Support for Ansible 2.9 and ansible-base 2.10 is deprecated, and will be removed in the next major release (community.docker 3.0.0). Some modules might still work with these versions afterwards, but we will no longer keep compatibility code that was needed to support them (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/361">https://github.com/ansible-collections/community.docker/pull/361</a>).</li> <li>The dependency on docker-compose for Execution Environments is deprecated and will be removed in community.docker 3.0.0. The <a class="reference external" href="https://pypi.org/project/docker-compose/">Python docker-compose library</a> is unmaintained and can cause dependency issues. You can manually still install it in an Execution Environment when needed (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/373">https://github.com/ansible-collections/community.docker/pull/373</a>).</li> <li>Various modules - the default of <code>tls_hostname</code> that was supposed to be removed in community.docker 2.0.0 will now be removed in version 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/362">https://github.com/ansible-collections/community.docker/pull/362</a>).</li> <li>docker_stack - the return values <code>out</code> and <code>err</code> that were supposed to be removed in community.docker 2.0.0 will now be removed in version 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/362">https://github.com/ansible-collections/community.docker/pull/362</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v5-8-0"> <h2>Porting Guide for v5.8.0</h2> <section id="id1"> <h3>Added Collections</h3> <ul class="simple"> <li>vmware.vmware_rest (version 2.1.5)</li> </ul> </section> <section id="breaking-changes"> <h3>Breaking Changes</h3> <section id="vmware-vmware-rest"> <h4>vmware.vmware_rest</h4> <ul class="simple"> <li>The vmware_rest 2.0.0 support vSphere 7.0.2 onwards.</li> <li>vcenter_vm_storage_policy - the format of the <code>disks</code> parameter has changed.</li> <li>vcenter_vm_storage_policy - the module has a new mandatory parameter: <code>vm_home</code>.</li> </ul> </section> </section> <section id="id2"> <h3>Major Changes</h3> <section id="community-mysql"> <h4>community.mysql</h4> <ul class="simple"> <li>The community.mysql collection no longer supports <code>Ansible 2.9</code> and <code>ansible-base 2.10</code>. While we take no active measures to prevent usage and there are no plans to introduce incompatible code to the modules, we will stop testing against <code>Ansible 2.9</code> and <code>ansible-base 2.10</code>. Both will very soon be End of Life and if you are still using them, you should consider upgrading to the <code>latest Ansible / ansible-core 2.11 or later</code> as soon as possible (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/pull/343">https://github.com/ansible-collections/community.mysql/pull/343</a>).</li> </ul> </section> <section id="community-postgresql"> <h4>community.postgresql</h4> <ul class="simple"> <li>The community.postgresql collection no longer supports <code>Ansible 2.9</code> and <code>ansible-base 2.10</code>. While we take no active measures to prevent usage and there are no plans to introduce incompatible code to the modules, we will stop testing against <code>Ansible 2.9</code> and <code>ansible-base 2.10</code>. Both will very soon be End of Life and if you are still using them, you should consider upgrading to the <code>latest Ansible / ansible-core 2.11 or later</code> as soon as possible (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/pull/245">https://github.com/ansible-collections/community.postgresql/pull/245</a>).</li> </ul> </section> </section> <section id="id3"> <h3>Deprecated Features</h3> <section id="community-hashi-vault"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>token_validate options - the shared auth option <code>token_validate</code> will change its default from <code>True</code> to <code>False</code> in community.hashi_vault version 4.0.0. The <code>vault_login</code> lookup and module will keep the default value of <code>True</code> (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/248">https://github.com/ansible-collections/community.hashi_vault/issues/248</a>).</li> </ul> </section> <section id="community-network"> <h4>community.network</h4> <ul class="simple"> <li>Support for Ansible 2.9 and ansible-base 2.10 is deprecated, and will be removed in the next major release (community.network 4.0.0) this spring. While most content will probably still work with ansible-base 2.10, we will remove symbolic links for modules and action plugins, which will make it impossible to use them with Ansible 2.9 anymore. Please use community.network 3.x.y with Ansible 2.9 and ansible-base 2.10, as these releases will continue to support Ansible 2.9 and ansible-base 2.10 even after they are End of Life (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/50">https://github.com/ansible-community/community-topics/issues/50</a>, <a class="reference external" href="https://github.com/ansible-collections/community.network/pull/382">https://github.com/ansible-collections/community.network/pull/382</a>).</li> </ul> </section> <section id="id4"> <h4>vmware.vmware_rest</h4> <ul class="simple"> <li>vcenter_vm_storage_policy_compliance - drop the module, it returns 404 error.</li> <li>vcenter_vm_tools - remove the <code>upgrade</code> state.</li> <li>vcenter_vm_tools_installer - remove the module from the collection.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v5-7-0"> <h2>Porting Guide for v5.7.0</h2> <section id="id5"> <h3>Major Changes</h3> <section id="id6"> <h4>community.postgresql</h4> <ul class="simple"> <li>postgresql_user - the <code>priv</code> argument has been deprecated and will be removed in <code>community.postgresql 3.0.0</code>. Please use the <code>postgresql_privs</code> module to grant/revoke privileges instead (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/issues/212">https://github.com/ansible-collections/community.postgresql/issues/212</a>).</li> </ul> </section> <section id="id7"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Support FortiOS 7.0.2, 7.0.3, 7.0.4, 7.0.5.</li> </ul> </section> </section> <section id="id8"> <h3>Deprecated Features</h3> <section id="community-general"> <h4>community.general</h4> <ul class="simple"> <li>nmcli - deprecate default hairpin mode for a bridge. This so we can change it to <code>false</code> in community.general 7.0.0, as this is also the default in <code>nmcli</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4334">https://github.com/ansible-collections/community.general/pull/4334</a>).</li> <li>proxmox inventory plugin - the current default <code>true</code> of the <code>want_proxmox_nodes_ansible_host</code> option has been deprecated. The default will change to <code>false</code> in community.general 6.0.0. To keep the current behavior, explicitly set <code>want_proxmox_nodes_ansible_host</code> to <code>true</code> in your inventory configuration. We suggest to already switch to the new behavior by explicitly setting it to <code>false</code>, and by using <code>compose:</code> to set <code>ansible_host</code> to the correct value. See the examples in the plugin documentation for details (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4466">https://github.com/ansible-collections/community.general/pull/4466</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v5-6-0"> <h2>Porting Guide for v5.6.0</h2> <section id="id9"> <h3>Added Collections</h3> <ul class="simple"> <li>community.sap (version 1.0.0)</li> </ul> </section> <section id="id10"> <h3>Deprecated Features</h3> <section id="cisco-ios"> <h4>cisco.ios</h4> <ul class="simple"> <li>Deprecates lldp module.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v5-5-0"> <h2>Porting Guide for v5.5.0</h2> <section id="known-issues"> <h3>Known Issues</h3> <section id="id11"> <h4>community.general</h4> <ul class="simple"> <li>pacman - <code>update_cache</code> cannot differentiate between up to date and outdated package lists and will report <code>changed</code> in both situations (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4318">https://github.com/ansible-collections/community.general/pull/4318</a>).</li> <li>pacman - binaries specified in the <code>executable</code> parameter must support <code>--print-format</code> in order to be used by this module. In particular, AUR helper <code>yay</code> is known not to currently support it (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4312">https://github.com/ansible-collections/community.general/pull/4312</a>).</li> </ul> </section> </section> <section id="id12"> <h3>Deprecated Features</h3> <section id="id13"> <h4>community.general</h4> <ul class="simple"> <li>pacman - from community.general 5.0.0 on, the <code>changed</code> status of <code>update_cache</code> will no longer be ignored if <code>name</code> or <code>upgrade</code> is specified. To keep the old behavior, add something like <code>register: result</code> and <code>changed_when: result.packages | length &gt; 0</code> to your task (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4329">https://github.com/ansible-collections/community.general/pull/4329</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v5-4-0"> <h2>Porting Guide for v5.4.0</h2> <section id="id14"> <h3>Major Changes</h3> <section id="chocolatey-chocolatey"> <h4>chocolatey.chocolatey</h4> <ul class="simple"> <li>win_chocolatey - Added choco_args option to pass additional arguments directly to Chocolatey.</li> </ul> </section> <section id="vyos-vyos"> <h4>vyos.vyos</h4> <ul class="simple"> <li>Add ‘pool’ as value to server key in ntp_global.</li> </ul> </section> </section> <section id="id15"> <h3>Deprecated Features</h3> <section id="id16"> <h4>cisco.ios</h4> <ul class="simple"> <li>
<code>ios_acls</code> - Deprecated fragment attribute added boolean alternate as enable_fragment.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v5-3-0"> <h2>Porting Guide for v5.3.0</h2> <section id="id17"> <h3>Major Changes</h3> <section id="f5networks-f5-modules"> <h4>f5networks.f5_modules</h4> <ul class="simple"> <li>bigip_device_info - pagination logic has also been added to help with api stability.</li> <li>bigip_device_info - the module no longer gathers information from all partitions on device. This change will stabalize the module by gathering resources only from the given partition and prevent the module from gathering way too much information that might result in crashing.</li> </ul> </section> </section> <section id="id18"> <h3>Deprecated Features</h3> <section id="id19"> <h4>community.general</h4> <ul class="simple"> <li>mail callback plugin - not specifying <code>sender</code> is deprecated and will be disallowed in community.general 6.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4140">https://github.com/ansible-collections/community.general/pull/4140</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v5-2-0"> <h2>Porting Guide for v5.2.0</h2> <section id="id20"> <h3>Known Issues</h3> <section id="dellemc-openmanage"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) The module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> <li>ome_application_alerts_smtp - Issue(212310) - The module does not provide a proper error message if the destination_address is more than 255 characters.</li> <li>ome_application_alerts_syslog - Issue(215374) - The module does not provide a proper error message if the destination_address is more than 255 characters.</li> <li>ome_device_local_access_configuration - Issue(215035) - The module reports <code>Successfully updated the local access setting</code> if an unsupported value is provided for the parameter timeout_limit. However, this value is not actually applied on OpenManage Enterprise Modular.</li> <li>ome_device_local_access_configuration - Issue(217865) - The module does not display a proper error message if an unsupported value is provided for the user_defined and lcd_language parameters.</li> <li>ome_device_network_services - Issue(212681) - The module does not provide a proper error message if unsupported values are provided for the parameters- port_number, community_name, max_sessions, max_auth_retries, and idle_timeout.</li> <li>ome_device_power_settings - Issue(212679) - The module errors out with the following message if the value provided for the parameter <code>power_cap</code> is not within the supported range of 0 to 32767, <code>Unable to complete the request because PowerCap does not  exist or is not applicable for the resource URI.</code>
</li> <li>ome_smart_fabric_uplink - Issue(186024) - The module does not allow the creation of multiple uplinks of the same name even though it is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> <section id="purestorage-flasharray"> <h4>purestorage.flasharray</h4> <ul class="simple"> <li>purefa_admin - Once <code>max_login</code> and <code>lockout</code> have been set there is currently no way to rest these to zero except through the FlashArray GUI</li> </ul> </section> </section> <section id="id21"> <h3>Major Changes</h3> <section id="cisco-meraki"> <h4>cisco.meraki</h4> <ul class="simple"> <li>meraki_mr_radio - New module</li> </ul> </section> </section> <section id="id22"> <h3>Deprecated Features</h3> <section id="id23"> <h4>purestorage.flasharray</h4> <ul class="simple"> <li>purefa_sso - Deprecated in favor of M(purefa_admin). Will be removed in Collection 2.0</li> </ul> </section> </section> </section> <section id="porting-guide-for-v5-1-0"> <h2>Porting Guide for v5.1.0</h2> <section id="id24"> <h3>Known Issues</h3> <section id="id25"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) The module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> <li>ome_application_alerts_smtp - Issue(212310) - The module does not provide a proper error message if the destination_address is more than 255 characters.</li> <li>ome_application_alerts_syslog - Issue(215374) - The module does not provide a proper error message if the destination_address is more than 255 characters.</li> <li>ome_device_network_services - Issue(212681) - The module does not provide a proper error message if unsupported values are provided for the parameters- port_number, community_name, max_sessions, max_auth_retries, and idle_timeout.</li> <li>ome_device_power_settings - Issue(212679) - The module errors out with the following message if the value provided for the parameter <code>power_cap</code> is not within the supported range of 0 to 32767, <code>Unable to complete the request because PowerCap does not  exist or is not applicable for the resource URI.</code>
</li> <li>ome_smart_fabric_uplink - Issue(186024) - The module does not allow the creation of multiple uplinks of the same name even though it is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> </section> <section id="id26"> <h3>Major Changes</h3> <section id="containers-podman"> <h4>containers.podman</h4> <ul class="simple"> <li>Add podman_tag module</li> <li>Add secrets driver and driver opts support</li> </ul> </section> </section> <section id="removed-features"> <h3>Removed Features</h3> <section id="id27"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>the “legacy” integration test setup has been removed; this does not affect end users and is only relevant to contributors (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/pull/191">https://github.com/ansible-collections/community.hashi_vault/pull/191</a>).</li> </ul> </section> </section> <section id="id28"> <h3>Deprecated Features</h3> <section id="cisco-nxos"> <h4>cisco.nxos</h4> <ul class="simple"> <li>Deprecated nxos_snmp_community module.</li> <li>Deprecated nxos_snmp_contact module.</li> <li>Deprecated nxos_snmp_host module.</li> <li>Deprecated nxos_snmp_location module.</li> <li>Deprecated nxos_snmp_traps module.</li> <li>Deprecated nxos_snmp_user module.</li> </ul> </section> <section id="id29"> <h4>community.general</h4> <ul class="simple"> <li>module_helper module utils - deprecated the attribute <code>ModuleHelper.VarDict</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3801">https://github.com/ansible-collections/community.general/pull/3801</a>).</li> </ul> </section> <section id="id30"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>Support for Ansible 2.9 and ansible-base 2.10 is deprecated, and will be removed in the next major release (community.hashi_vault 3.0.0) next spring (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/50">https://github.com/ansible-community/community-topics/issues/50</a>, <a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/189">https://github.com/ansible-collections/community.hashi_vault/issues/189</a>).</li> <li>aws_iam_login auth method - the <code>aws_iam_login</code> method has been renamed to <code>aws_iam</code>. The old name will be removed in collection version <code>3.0.0</code>. Until then both names will work, and a warning will be displayed when using the old name (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/pull/193">https://github.com/ansible-collections/community.hashi_vault/pull/193</a>).</li> </ul> </section> <section id="junipernetworks-junos"> <h4>junipernetworks.junos</h4> <ul class="simple"> <li>‘router_id’ options is deprecated from junos_ospf_interfaces, junos_ospfv2 and junos_ospfv3 resource module.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v5-0-1"> <h2>Porting Guide for v5.0.1</h2> <section id="id31"> <h3>Major Changes</h3> <ul class="simple"> <li>Raised python requirement of the ansible package from &gt;=2.7 to &gt;=3.8 to match ansible-core</li> </ul> </section> </section> <section id="porting-guide-for-v5-0-0"> <h2>Porting Guide for v5.0.0</h2> <section id="id32"> <h3>Added Collections</h3> <ul class="simple"> <li>cisco.ise (version 1.2.1)</li> <li>cloud.common (version 2.1.0)</li> <li>community.ciscosmb (version 1.0.4)</li> <li>community.dns (version 2.0.3)</li> <li>infoblox.nios_modules (version 1.1.2)</li> <li>netapp.storagegrid (version 21.7.0)</li> </ul> </section> <section id="id33"> <h3>Known Issues</h3> <section id="ansible-core"> <h4>Ansible-core</h4> <ul class="simple"> <li>ansible-test - Tab completion anywhere other than the end of the command with the new composite options will provide incorrect results. See <a class="reference external" href="https://github.com/kislyuk/argcomplete/issues/351">issue 351</a> for additional details.</li> </ul> </section> <section id="id34"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) Module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> <li>ome_device_power_settings - Issue(212679) The ome_device_power_settings module errors out with the following message if the value provided for the parameter <code>power_cap</code> is not within the supported range of 0 to 32767, <code>Unable to complete the request because PowerCap does not  exist or is not applicable for the resource URI.</code>
</li> <li>ome_smart_fabric_uplink - Issue(186024) ome_smart_fabric_uplink module does not allow the creation of multiple uplinks of the same name even though it is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> <li>ome_smart_fabric_uplink - Issue(186024) ome_smart_fabric_uplink module does not allow the creation of multiple uplinks of the same name even though this is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> <section id="purestorage-flashblade"> <h4>purestorage.flashblade</h4> <ul class="simple"> <li>purefb_lag - The mac_address field in the response is not populated. This will be fixed in a future FlashBlade update.</li> </ul> </section> </section> <section id="id35"> <h3>Breaking Changes</h3> <section id="id36"> <h4>Ansible-core</h4> <ul class="simple"> <li>Action, module, and group names in module_defaults must be static values. Their values can still be templates.</li> <li>Fully qualified ‘ansible.legacy’ plugin names are not included implicitly in action_groups.</li> <li>Unresolvable groups, action plugins, and modules in module_defaults are an error.</li> <li>ansible-test - Automatic installation of requirements for “cloud” test plugins no longer occurs. The affected test plugins are <code>aws</code>, <code>azure</code>, <code>cs</code>, <code>hcloud</code>, <code>nios</code>, <code>opennebula</code>, <code>openshift</code> and <code>vcenter</code>. Collections should instead use one of the supported integration test requirements files, such as the <code>tests/integration/requirements.txt</code> file.</li> <li>ansible-test - The HTTP Tester is no longer available with the <code>ansible-test shell</code> command. Only the <code>integration</code> and <code>windows-integration</code> commands provide HTTP Tester.</li> <li>ansible-test - The <code>--disable-httptester</code> option is no longer available. The HTTP Tester is no longer optional for tests that specify it.</li> <li>ansible-test - The <code>--httptester</code> option is no longer available. To override the container used for HTTP Tester tests, set the <code>ANSIBLE_HTTP_TEST_CONTAINER</code> environment variable instead.</li> <li>ansible-test - Unit tests for <code>modules</code> and <code>module_utils</code> are now limited to importing only <code>ansible.module_utils</code> from the <code>ansible</code> module.</li> <li>conditionals - <code>when</code> conditionals no longer automatically parse string booleans such as <code>"true"</code> and <code>"false"</code> into actual booleans. Any non-empty string is now considered true. The <code>CONDITIONAL_BARE_VARS</code> configuration variable no longer has any effect.</li> <li>hostname - Drops any remaining support for Python 2.4 by using <code>with open()</code> to simplify exception handling code which leaked file handles in several spots</li> <li>hostname - On FreeBSD, the string <code>temporarystub</code> no longer gets written to the hostname file in the get methods (and in check_mode). As a result, the default hostname will now appear as <code>''</code> (empty string) instead of <code>temporarystub</code> for consistency with other strategies. This means the <code>before</code> result will be different.</li> <li>hostname - On OpenRC systems and Solaris, the <code>before</code> value will now be <code>''</code> (empty string) if the permanent hostname file does not exist, for consistency with other strategies.</li> <li>intersect, difference, symmetric_difference, union filters - the default behavior is now to be case-sensitive (<a class="reference external" href="https://github.com/ansible/ansible/issues/74255">https://github.com/ansible/ansible/issues/74255</a>)</li> <li>unique filter - the default behavior is now to fail if Jinja2’s filter fails and explicit <code>case_sensitive=False</code> as the Ansible’s fallback is case-sensitive (<a class="reference external" href="https://github.com/ansible/ansible/pull/74256">https://github.com/ansible/ansible/pull/74256</a>)</li> </ul> </section> <section id="amazon-aws"> <h4>amazon.aws</h4> <ul class="simple"> <li>ec2_instance - instance wait for state behaviour has changed. If plays require the old behavior of waiting for the instance monitoring status to become <code>OK</code> when launching a new instance, the action will need to specify <code>state: started</code> (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/481">https://github.com/ansible-collections/amazon.aws/pull/481</a>).</li> <li>ec2_snapshot - support for waiting indefinitely has been dropped, new default is 10 minutes (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/356">https://github.com/ansible-collections/amazon.aws/pull/356</a>).</li> <li>ec2_vol_info - return <code>attachment_set</code> is now a list of attachments with Multi-Attach support on disk. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/362">https://github.com/ansible-collections/amazon.aws/pull/362</a>).</li> <li>ec2_vpc_dhcp_option - The module has been refactored to use boto3. Keys and value types returned by the module are now consistent, which is a change from the previous behaviour. A <code>purge_tags</code> option has been added, which defaults to <code>True</code>. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/252">https://github.com/ansible-collections/amazon.aws/pull/252</a>)</li> <li>ec2_vpc_dhcp_option_info - Now preserves case for tag keys in return value. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/252">https://github.com/ansible-collections/amazon.aws/pull/252</a>)</li> <li>module_utils.core - The boto3 switch has been removed from the region parameter (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/287">https://github.com/ansible-collections/amazon.aws/pull/287</a>).</li> <li>module_utils/compat - vendored copy of ipaddress removed (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/461">https://github.com/ansible-collections/amazon.aws/pull/461</a>).</li> <li>module_utils/core - updated the <code>scrub_none_parameters</code> function so that <code>descend_into_lists</code> is set to <code>True</code> by default (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/297">https://github.com/ansible-collections/amazon.aws/pull/297</a>).</li> </ul> </section> <section id="arista-eos"> <h4>arista.eos</h4> <ul class="simple"> <li>Arista released train 4.23.X and newer and along with it replaced and deprecated several commands. This PR adds support for syntax changes in release train 4.23 and after. Going forward the eos modules will not support eos sw version &lt; 4.23.</li> </ul> </section> <section id="community-aws"> <h4>community.aws</h4> <ul class="simple"> <li>ec2_instance - The module has been migrated to the <code>amazon.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_instance</code>.</li> <li>ec2_instance_info - The module has been migrated to the <code>amazon.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_instance_info</code>.</li> <li>ec2_vpc_endpoint - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_endpoint</code>.</li> <li>ec2_vpc_endpoint_facts - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_endpoint_info</code>.</li> <li>ec2_vpc_endpoint_info - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_endpoint_info</code>.</li> <li>ec2_vpc_endpoint_service_info - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_endpoint_service_info</code>.</li> <li>ec2_vpc_igw - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_igw</code>.</li> <li>ec2_vpc_igw_facts - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_igw_info</code>.</li> <li>ec2_vpc_igw_info - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_igw_info</code>.</li> <li>ec2_vpc_nat_gateway - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_nat_gateway</code>.</li> <li>ec2_vpc_nat_gateway_facts - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_nat_gateway_info</code>.</li> <li>ec2_vpc_nat_gateway_info - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_nat_gateway_info</code>.</li> <li>kms_info - key details are now returned in the <code>kms_keys</code> attribute rather than the <code>keys</code> attribute (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/648">https://github.com/ansible-collections/community.aws/pull/648</a>).</li> </ul> </section> <section id="community-crypto"> <h4>community.crypto</h4> <ul class="simple"> <li>Adjust <code>dirName</code> text parsing and to text converting code to conform to <a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc4514.html">Sections 2 and 3 of RFC 4514</a>. This is similar to how <a class="reference external" href="https://cryptography.io/en/latest/x509/reference/#cryptography.x509.Name.rfc4514_string">cryptography handles this</a> (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/274">https://github.com/ansible-collections/community.crypto/pull/274</a>).</li> <li>acme module utils - removing compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/290">https://github.com/ansible-collections/community.crypto/pull/290</a>).</li> <li>acme_* modules - removed vendored copy of the Python library <code>ipaddress</code>. If you are using Python 2.x, please make sure to install the library (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/287">https://github.com/ansible-collections/community.crypto/pull/287</a>).</li> <li>compatibility module_utils - removed vendored copy of the Python library <code>ipaddress</code> (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/287">https://github.com/ansible-collections/community.crypto/pull/287</a>).</li> <li>crypto module utils - removing compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/290">https://github.com/ansible-collections/community.crypto/pull/290</a>).</li> <li>get_certificate, openssl_csr_info, x509_certificate_info - depending on the <code>cryptography</code> version used, the modules might not return the ASN.1 value for an extension as contained in the certificate respectively CSR, but a re-encoded version of it. This should usually be identical to the value contained in the source file, unless the value was malformed. For extensions not handled by C(cryptography) the value contained in the source file is always returned unaltered (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/318">https://github.com/ansible-collections/community.crypto/pull/318</a>).</li> <li>module_utils - removed various PyOpenSSL support functions and default backend values that are not needed for the openssl_pkcs12 module (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_csr, openssl_csr_pipe, x509_crl - the <code>subject</code> respectively <code>issuer</code> fields no longer ignore empty values, but instead fail when encountering them (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/316">https://github.com/ansible-collections/community.crypto/pull/316</a>).</li> <li>openssl_privatekey_info - by default consistency checks are not run; they need to be explicitly requested by passing <code>check_consistency=true</code> (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/309">https://github.com/ansible-collections/community.crypto/pull/309</a>).</li> <li>x509_crl - for idempotency checks, the <code>issuer</code> order is ignored. If order is important, use the new <code>issuer_ordered</code> option (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/316">https://github.com/ansible-collections/community.crypto/pull/316</a>).</li> </ul> </section> <section id="community-dns"> <h4>community.dns</h4> <ul class="simple"> <li>All Hetzner modules and plugins which handle DNS records now work with unquoted TXT values by default. The old behavior can be obtained by setting <code>txt_transformation=api</code> (<a class="reference external" href="https://github.com/ansible-collections/community.dns/issues/48">https://github.com/ansible-collections/community.dns/issues/48</a>, <a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/57">https://github.com/ansible-collections/community.dns/pull/57</a>, <a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/60">https://github.com/ansible-collections/community.dns/pull/60</a>).</li> <li>Hosttech API creation - now requires a <code>ModuleOptionProvider</code> object instead of an <code>AnsibleModule</code> object. Alternatively an Ansible plugin instance can be passed (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/37">https://github.com/ansible-collections/community.dns/pull/37</a>).</li> <li>The hetzner_dns_record_info and hosttech_dns_record_info modules have been renamed to hetzner_dns_record_set_info and hosttech_dns_record_set_info, respectively (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/54">https://github.com/ansible-collections/community.dns/pull/54</a>).</li> <li>The hosttech_dns_record module has been renamed to hosttech_dns_record_set (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/31">https://github.com/ansible-collections/community.dns/pull/31</a>).</li> <li>The internal bulk record updating helper (<code>bulk_apply_changes</code>) now also returns the records that were deleted, created or updated (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/63">https://github.com/ansible-collections/community.dns/pull/63</a>).</li> <li>The internal record API no longer allows to manage comments explicitly (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/63">https://github.com/ansible-collections/community.dns/pull/63</a>).</li> <li>When using the internal modules API, now a zone ID type and a provider information object must be passed (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/27">https://github.com/ansible-collections/community.dns/pull/27</a>).</li> <li>hetzner_dns_record* modules - implement correct handling of default TTL. The value <code>none</code> is now accepted and returned in this case (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/52">https://github.com/ansible-collections/community.dns/pull/52</a>, <a class="reference external" href="https://github.com/ansible-collections/community.dns/issues/50">https://github.com/ansible-collections/community.dns/issues/50</a>).</li> <li>hetzner_dns_record, hetzner_dns_record_set, hetzner_dns_record_sets - the default TTL is now 300 and no longer 3600, which equals the default in the web console (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/43">https://github.com/ansible-collections/community.dns/pull/43</a>).</li> <li>hosttech_* module_utils - completely rewrite and refactor to support new JSON API and allow to re-use provider-independent module logic (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/4">https://github.com/ansible-collections/community.dns/pull/4</a>).</li> <li>hosttech_dns_record_set - the option <code>overwrite</code> was replaced by a new option <code>on_existing</code>. Specifying <code>overwrite=true</code> is equivalent to <code>on_existing=replace</code> (the new default). Specifying <code>overwrite=false</code> with <code>state=present</code> is equivalent to <code>on_existing=keep_and_fail</code>, and specifying <code>overwrite=false</code> with <code>state=absent</code> is equivalent to <code>on_existing=keep</code> (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/31">https://github.com/ansible-collections/community.dns/pull/31</a>).</li> </ul> </section> <section id="id37"> <h4>community.docker</h4> <ul class="simple"> <li>docker_compose - fixed <code>timeout</code> defaulting behavior so that <code>stop_grace_period</code>, if defined in the compose file, will be used if <code>timeout`</code> is not specified (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/163">https://github.com/ansible-collections/community.docker/pull/163</a>).</li> </ul> </section> <section id="id38"> <h4>community.general</h4> <ul class="simple"> <li>archive - adding idempotency checks for changes to file names and content within the <code>destination</code> file (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3075">https://github.com/ansible-collections/community.general/pull/3075</a>).</li> <li>lxd inventory plugin - when used with Python 2, the plugin now needs <code>ipaddress</code> installed <a class="reference external" href="https://pypi.org/project/ipaddress/">from pypi</a> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2441">https://github.com/ansible-collections/community.general/pull/2441</a>).</li> <li>scaleway_security_group_rule - when used with Python 2, the module now needs <code>ipaddress</code> installed <a class="reference external" href="https://pypi.org/project/ipaddress/">from pypi</a> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2441">https://github.com/ansible-collections/community.general/pull/2441</a>).</li> </ul> </section> <section id="id40"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>connection options - there is no longer a default value for the <code>url</code> option (the Vault address), so a value must be supplied (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/83">https://github.com/ansible-collections/community.hashi_vault/issues/83</a>).</li> </ul> </section> <section id="community-okd"> <h4>community.okd</h4> <ul class="simple"> <li>drop python 2 support (<a class="reference external" href="https://github.com/openshift/community.okd/pull/93">https://github.com/openshift/community.okd/pull/93</a>).</li> </ul> </section> <section id="community-routeros"> <h4>community.routeros</h4> <ul class="simple"> <li>api - due to a programming error, the module never failed on errors. This has now been fixed. If you are relying on the module not failing in case of idempotent commands (resulting in errors like <code>failure: already have such address</code>), you need to adjust your roles/playbooks. We suggest to use <code>failed_when</code> to accept failure in specific circumstances, for example <code>failed_when: "'failure: already have ' in result.msg[0]"</code> (<a class="reference external" href="https://github.com/ansible-collections/community.routeros/pull/39">https://github.com/ansible-collections/community.routeros/pull/39</a>).</li> <li>api - splitting commands no longer uses a naive split by whitespace, but a more RouterOS CLI compatible splitting algorithm (<a class="reference external" href="https://github.com/ansible-collections/community.routeros/pull/45">https://github.com/ansible-collections/community.routeros/pull/45</a>).</li> <li>command - the module now always indicates that a change happens. If this is not correct, please use <code>changed_when</code> to determine the correct changed status for a task (<a class="reference external" href="https://github.com/ansible-collections/community.routeros/pull/50">https://github.com/ansible-collections/community.routeros/pull/50</a>).</li> </ul> </section> <section id="community-zabbix"> <h4>community.zabbix</h4> <ul class="simple"> <li>all roles now reference other roles and modules through their fully qualified collection names, which makes Ansible 2.10 minimum supported version for roles (See <a class="reference external" href="https://github.com/ansible-collections/community.zabbix/pull/477">issue 477</a>).</li> </ul> </section> <section id="kubernetes-core"> <h4>kubernetes.core</h4> <ul class="simple"> <li>Drop python 2 support (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/86">https://github.com/ansible-collections/kubernetes.core/pull/86</a>).</li> <li>helm_plugin - remove unused <code>release_namespace</code> parameter (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/85">https://github.com/ansible-collections/kubernetes.core/pull/85</a>).</li> <li>helm_plugin_info - remove unused <code>release_namespace</code> parameter (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/85">https://github.com/ansible-collections/kubernetes.core/pull/85</a>).</li> <li>k8s_cluster_info - returned apis as list to avoid being overwritten in case of multiple version (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/41">https://github.com/ansible-collections/kubernetes.core/pull/41</a>).</li> <li>k8s_facts - remove the deprecated alias from k8s_facts to k8s_info (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/125">https://github.com/ansible-collections/kubernetes.core/pull/125</a>).</li> </ul> </section> <section id="netapp-storagegrid"> <h4>netapp.storagegrid</h4> <ul class="simple"> <li>This version introduces a breaking change. All modules have been renamed from <code>nac_sg_*</code> to <code>na_sg_*</code>. Playbooks and Roles must be updated to match.</li> </ul> </section> </section> <section id="id41"> <h3>Major Changes</h3> <section id="id42"> <h4>Ansible-core</h4> <ul class="simple"> <li>Python Controller Requirement - Python 3.8 or newer is required for the control node (the machine that runs Ansible) (<a class="reference external" href="https://github.com/ansible/ansible/pull/74013">https://github.com/ansible/ansible/pull/74013</a>)</li> <li>ansible-test - All “cloud” plugins which use containers can now be used with all POSIX and Windows hosts. Previously the plugins did not work with Windows at all, and support for hosts created with the <code>--remote</code> option was inconsistent.</li> <li>ansible-test - Collections can now specify controller and target specific integration test requirements and constraints. If provided, they take precedence over the previously available requirements and constraints files.</li> <li>ansible-test - Integration tests run with the <code>integration</code> command can now be executed on two separate hosts instead of always running on the controller. The target host can be one provided by <code>ansible-test</code> or by the user, as long as it is accessible using SSH.</li> <li>ansible-test - Most container features are now supported under Podman. Previously a symbolic link for <code>docker</code> pointing to <code>podman</code> was required.</li> <li>ansible-test - New <code>--controller</code> and <code>--target</code> / <code>--target-python</code> options have been added to allow more control over test environments.</li> <li>ansible-test - Python 3.8 - 3.10 are now required to run <code>ansible-test</code>, thus matching the Ansible controller Python requirements. Older Python versions (2.6 - 2.7 and 3.5 - 3.10) can still be the target for relevant tests.</li> <li>ansible-test - SSH port forwarding and redirection is now used exclusively to make container ports available on non-container hosts. When testing on POSIX systems this requires SSH login as root. Previously SSH port forwarding was combined with firewall rules or other port redirection methods, with some platforms being unsupported.</li> <li>ansible-test - Sanity tests always run in isolated Python virtual environments specific to the requirements of each test. The environments are cached.</li> <li>ansible-test - Sanity tests are now separated into two categories, controller and target. All tests except <code>import</code> and <code>compile</code> are controller tests. The controller tests always run using the same Python version used to run <code>ansible-test</code>. The target tests use the Python version(s) specified by the user, or all available Python versions.</li> <li>ansible-test - Sanity tests now use fully pinned requirements that are independent of each other and other test types.</li> <li>ansible-test - Tests run with the <code>centos6</code> and <code>default</code> test containers now use a PyPI proxy container to access PyPI when Python 2.6 is used. This allows tests running under Python 2.6 to continue functioning even though PyPI is discontinuing support for non-SNI capable clients.</li> <li>ansible-test - The <code>future-import-boilerplate</code> and <code>metaclass-boilerplate</code> sanity tests are limited to remote-only code. Additionally, they are skipped for collections which declare no support for Python 2.x.</li> <li>ansible-test - The <code>import</code> and <code>compile</code> sanity tests limit remote-only Python version checks to remote-only code.</li> <li>ansible-test - Unit tests for controller-only code now require Python 3.8 or later.</li> <li>ansible-test - Version neutral sanity tests now require Python 3.8 or later.</li> <li>junit callback - The <code>junit_xml</code> and <code>ordereddict</code> Python modules are no longer required to use the <code>junit</code> callback plugin.</li> </ul> </section> <section id="id43"> <h4>amazon.aws</h4> <ul class="simple"> <li>amazon.aws collection - Due to the AWS SDKs announcing the end of support for Python less than 3.6 (<a class="reference external" href="https://boto3.amazonaws.com/v1/documentation/api/1.17.64/guide/migrationpy3.html">https://boto3.amazonaws.com/v1/documentation/api/1.17.64/guide/migrationpy3.html</a>) this collection now requires Python 3.6+ (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/298">https://github.com/ansible-collections/amazon.aws/pull/298</a>).</li> <li>amazon.aws collection - The amazon.aws collection has dropped support for <code>botocore&lt;1.18.0</code> and <code>boto3&lt;1.15.0</code>. Most modules will continue to work with older versions of the AWS SDK, however compatibility with older versions of the SDK is not guaranteed and will not be tested. When using older versions of the SDK a warning will be emitted by Ansible (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/502">https://github.com/ansible-collections/amazon.aws/pull/502</a>).</li> <li>ec2_instance - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_instance</code>.</li> <li>ec2_instance_info - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_instance_info</code>.</li> <li>ec2_vpc_endpoint - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_endpoint</code>.</li> <li>ec2_vpc_endpoint_facts - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_endpoint_info</code>.</li> <li>ec2_vpc_endpoint_info - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_endpoint_info</code>.</li> <li>ec2_vpc_endpoint_service_info - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_endpoint_service_info</code>.</li> <li>ec2_vpc_igw - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_igw</code>.</li> <li>ec2_vpc_igw_facts - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_igw_facts</code>.</li> <li>ec2_vpc_igw_info - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_igw_info</code>.</li> <li>ec2_vpc_nat_gateway - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_nat_gateway</code>.</li> <li>ec2_vpc_nat_gateway_facts - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_nat_gateway_info</code>.</li> <li>ec2_vpc_nat_gateway_info - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_nat_gateway_info</code>.</li> <li>ec2_vpc_route_table - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_route_table</code>.</li> <li>ec2_vpc_route_table_facts - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_route_table_facts</code>.</li> <li>ec2_vpc_route_table_info - The module has been migrated from the <code>community.aws</code> collection. Playbooks using the Fully Qualified Collection Name for this module should be updated to use <code>amazon.aws.ec2_vpc_route_table_info</code>.</li> </ul> </section> <section id="cisco-ise"> <h4>cisco.ise</h4> <ul class="simple"> <li>Adds <code>ise_uses_api_gateway</code> to module options.</li> <li>Adds a ‘aws_deployment’ role that allows the deployment of an arbitrary large ISE cluster to AWS.</li> <li>Adds ise_responses to return values of info modules.</li> <li>Adds ise_update_response to return values of non-info modules.</li> <li>Fixes inner logic of modules that have no get by name and have not working filter.</li> <li>Renamed module device_administration_authorization_exception_rules to device_administration_local_exception_rules.</li> <li>Renamed module device_administration_authorization_global_exception_rules to device_administration_global_exception_rules.</li> <li>Renamed module network_access_authorization_exception_rules to network_access_local_exception_rules.</li> <li>Renamed module network_access_authorization_global_exception_rules to network_access_global_exception_rules.</li> <li>Updates options required for modules.</li> <li>Updates sdk parameters for previous modules</li> <li>device_administration_authorization_exception_rules - removed module.</li> <li>device_administration_authorization_exception_rules_info - removed module.</li> <li>device_administration_authorization_global_exception_rules - removed module.</li> <li>device_administration_authorization_global_exception_rules_info - removed module.</li> <li>guest_user_reinstante - removed module.</li> <li>import_trust_cert - removed module.</li> <li>network_access_authorization_exception_rules - removed module.</li> <li>network_access_authorization_exception_rules_info - removed module.</li> <li>network_access_authorization_global_exception_rules - removed module.</li> <li>network_access_authorization_global_exception_rules_info - removed module.</li> <li>personas_check_standalone - Adds module for the deployment of personas to existing nodes in an ISE cluster.</li> <li>personas_export_certs - Adds module for the deployment of personas to existing nodes in an ISE cluster.</li> <li>personas_promote_primary - Adds module for the deployment of personas to existing nodes in an ISE cluster.</li> <li>personas_update_roles - Adds module for the deployment of personas to existing nodes in an ISE cluster.</li> <li>service_info - removed module.</li> <li>system_certificate_export - removed module.</li> <li>telemetry_info_info - removed module.</li> </ul> </section> <section id="cloud-common"> <h4>cloud.common</h4> <ul class="simple"> <li>turbo - enable turbo mode for lookup plugins</li> </ul> </section> <section id="cloudscale-ch-cloud"> <h4>cloudscale_ch.cloud</h4> <ul class="simple"> <li>Add custom_image module</li> </ul> </section> <section id="id44"> <h4>community.aws</h4> <ul class="simple"> <li>community.aws collection - The community.aws collection has dropped support for <code>botocore&lt;1.18.0</code> and <code>boto3&lt;1.15.0</code> (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/711">https://github.com/ansible-collections/community.aws/pull/711</a>). Most modules will continue to work with older versions of the AWS SDK, however compatibility with older versions of the SDK is not guaranteed and will not be tested. When using older versions of the SDK a warning will be emitted by Ansible (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/442">https://github.com/ansible-collections/amazon.aws/pull/442</a>).</li> </ul> </section> <section id="community-ciscosmb"> <h4>community.ciscosmb</h4> <ul class="simple"> <li>Python 2.6, 2.7, 3.5 is required</li> <li>add CBS350 support</li> <li>add antsibull-changelog support</li> <li>add ciscosmb_command</li> <li>added facts subset “interfaces”</li> <li>ciscosmb_facts with default subset and unit tests</li> <li>interface name canonicalization</li> <li>transform collection qaxi.ciscosmb to community.ciscosmb</li> <li>transform community.ciscosmb.ciscosmb_command to community.ciscosmb.command</li> <li>transform community.ciscosmb.ciscosmb_facts to community.ciscosmb.facts</li> <li>unit tests for CBS350</li> </ul> </section> <section id="id45"> <h4>community.dns</h4> <ul class="simple"> <li>hosttech_* modules - support the new JSON API at <a class="reference external" href="https://api.ns1.hosttech.eu/api/documentation/">https://api.ns1.hosttech.eu/api/documentation/</a> (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/4">https://github.com/ansible-collections/community.dns/pull/4</a>).</li> </ul> </section> <section id="id46"> <h4>community.general</h4> <ul class="simple"> <li>bitbucket_* modules - <code>client_id</code> is no longer marked as <code>no_log=true</code>. If you relied on its value not showing up in logs and output, please mark the whole tasks with <code>no_log: true</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2045">https://github.com/ansible-collections/community.general/pull/2045</a>).</li> </ul> </section> <section id="community-kubernetes"> <h4>community.kubernetes</h4> <ul class="simple"> <li>redirect everything from <code>community.kubernetes</code> to <code>kubernetes.core</code> (<a class="reference external" href="https://github.com/ansible-collections/community.kubernetes/pull/425">https://github.com/ansible-collections/community.kubernetes/pull/425</a>).</li> </ul> </section> <section id="id47"> <h4>community.okd</h4> <ul class="simple"> <li>update to use kubernetes.core 2.0 (<a class="reference external" href="https://github.com/openshift/community.okd/pull/93">https://github.com/openshift/community.okd/pull/93</a>).</li> </ul> </section> <section id="id48"> <h4>community.postgresql</h4> <ul class="simple"> <li>postgresql_query - the default value of the <code>as_single_query</code> option will be changed to <code>yes</code> in community.postgresql 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/issues/85">https://github.com/ansible-collections/community.postgresql/issues/85</a>).</li> </ul> </section> <section id="community-vmware"> <h4>community.vmware</h4> <ul class="simple"> <li>vmware_object_custom_attributes_info - added a new module to gather custom attributes of an object (<a class="reference external" href="https://github.com/ansible-collections/community.vmware/pull/851">https://github.com/ansible-collections/community.vmware/pull/851</a>).</li> </ul> </section> <section id="id49"> <h4>containers.podman</h4> <ul class="simple"> <li>Add systemd generation for pods</li> <li>Generate systemd service files for containers</li> </ul> </section> <section id="id50"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_server_config_profile - Added support for exporting and importing Server Configuration Profile through HTTP/HTTPS share.</li> <li>ome_device_group - Added support for adding devices to a group using the IP addresses of the devices and group ID.</li> <li>ome_firmware - Added option to stage the firmware update and support for selecting components and devices for baseline-based firmware update.</li> <li>ome_firmware_baseline - Module supports check mode, and allows the modification and deletion of firmware baselines.</li> <li>ome_firmware_catalog - Module supports check mode, and allows the modification and deletion of firmware catalogs.</li> </ul> </section> <section id="id51"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Add real-world use cases in the example section for some configuration modules.</li> <li>Collect the current configurations of the modules and convert them into playbooks.</li> <li>Improve <code>fortios_configuration_fact</code> to use multiple selectors concurrently.</li> <li>New module fortios_monitor_fact.</li> <li>Support FortiOS 7.0.1.</li> <li>Support Fortios 7.0.</li> <li>Support Log APIs.</li> <li>Support <code>check_mode</code> in all cofigurationAPI-based modules.</li> <li>Support filtering for fact gathering modules <code>fortios_configuration_fact</code> and <code>fortios_monitor_fact</code>.</li> <li>Support member operation (delete/add extra members) on an object that has a list of members in it.</li> <li>Support moving policy in <code>firewall_central_snat_map</code>.</li> <li>Support selectors feature in <code>fortios_monitor_fact</code> and <code>fortios_log_fact</code>.</li> <li>Unify schemas for monitor API.</li> </ul> </section> <section id="gluster-gluster"> <h4>gluster.gluster</h4> <ul class="simple"> <li>enable client.ssl,server.ssl before starting the gluster volume (<a class="reference external" href="https://github.com/gluster/gluster-ansible-collection/pull/19">https://github.com/gluster/gluster-ansible-collection/pull/19</a>)</li> </ul> </section> <section id="hetzner-hcloud"> <h4>hetzner.hcloud</h4> <ul class="simple"> <li>Introduction of placement groups</li> </ul> </section> <section id="id52"> <h4>kubernetes.core</h4> <ul class="simple"> <li>k8s - deprecate merge_type=json. The JSON patch functionality has never worked (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/99">https://github.com/ansible-collections/kubernetes.core/pull/99</a>).</li> <li>k8s_json_patch - split JSON patch functionality out into a separate module (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/99">https://github.com/ansible-collections/kubernetes.core/pull/99</a>).</li> <li>replaces the openshift client with the official kubernetes client (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/issues/34">https://github.com/ansible-collections/kubernetes.core/issues/34</a>).</li> </ul> </section> <section id="netapp-cloudmanager"> <h4>netapp.cloudmanager</h4> <ul class="simple"> <li>Adding stage environment to all modules in cloudmanager</li> </ul> </section> <section id="netbox-netbox"> <h4>netbox.netbox</h4> <ul class="simple"> <li>packages is now a required Python package and gets installed through Ansible 2.10+.</li> </ul> </section> <section id="openvswitch-openvswitch"> <h4>openvswitch.openvswitch</h4> <ul class="simple"> <li>By mistake we tagged the repo to 2.0.0 and as it wasn’t intended and cannot be reverted we’re releasing 2.0.1 to make the community aware of the major version update.</li> </ul> </section> <section id="ovirt-ovirt"> <h4>ovirt.ovirt</h4> <ul class="simple"> <li>remove_stale_lun - Add role for removing stale LUN (<a class="reference external" href="https://bugzilla.redhat.com/1966873">https://bugzilla.redhat.com/1966873</a>).</li> </ul> </section> </section> <section id="id53"> <h3>Removed Features</h3> <section id="id54"> <h4>Ansible-core</h4> <ul class="simple"> <li>The built-in module_util <code>ansible.module_utils.common.removed</code> was previously deprecated and has been removed.</li> <li>connections, removed password check stubs that had been moved to become plugins.</li> <li>task, inline parameters being auto coerced into variables has been removed.</li> </ul> </section> <section id="ansible-windows"> <h4>ansible.windows</h4> <ul class="simple"> <li>win_reboot - Removed <code>shutdown_timeout</code> and <code>shutdown_timeout_sec</code> which has not done anything since Ansible 2.5.</li> </ul> </section> <section id="id55"> <h4>community.crypto</h4> <ul class="simple"> <li>acme_* modules - the <code>acme_directory</code> option is now required (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/290">https://github.com/ansible-collections/community.crypto/pull/290</a>).</li> <li>acme_* modules - the <code>acme_version</code> option is now required (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/290">https://github.com/ansible-collections/community.crypto/pull/290</a>).</li> <li>acme_account_facts - the deprecated redirect has been removed. Use community.crypto.acme_account_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/290">https://github.com/ansible-collections/community.crypto/pull/290</a>).</li> <li>acme_account_info - <code>retrieve_orders=url_list</code> no longer returns the return value <code>orders</code>. Use the <code>order_uris</code> return value instead (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/290">https://github.com/ansible-collections/community.crypto/pull/290</a>).</li> <li>crypto.info module utils - the deprecated redirect has been removed. Use <code>crypto.pem</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/290">https://github.com/ansible-collections/community.crypto/pull/290</a>).</li> <li>get_certificate - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_certificate - the deprecated redirect has been removed. Use community.crypto.x509_certificate instead (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/290">https://github.com/ansible-collections/community.crypto/pull/290</a>).</li> <li>openssl_certificate_info - the deprecated redirect has been removed. Use community.crypto.x509_certificate_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/290">https://github.com/ansible-collections/community.crypto/pull/290</a>).</li> <li>openssl_csr - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_csr and openssl_csr_pipe - <code>version</code> now only accepts the (default) value 1 (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/290">https://github.com/ansible-collections/community.crypto/pull/290</a>).</li> <li>openssl_csr_info - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_csr_pipe - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_privatekey - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_privatekey_info - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_privatekey_pipe - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_publickey - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_publickey_info - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_signature - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>openssl_signature_info - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>x509_certificate - remove <code>assertonly</code> provider (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/289">https://github.com/ansible-collections/community.crypto/pull/289</a>).</li> <li>x509_certificate - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>x509_certificate_info - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> <li>x509_certificate_pipe - removed the <code>pyopenssl</code> backend (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/273">https://github.com/ansible-collections/community.crypto/pull/273</a>).</li> </ul> </section> <section id="id56"> <h4>community.docker</h4> <ul class="simple"> <li>docker_container - the default value of <code>container_default_behavior</code> changed to <code>no_defaults</code> (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/210">https://github.com/ansible-collections/community.docker/pull/210</a>).</li> <li>docker_container - the default value of <code>network_mode</code> is now the name of the first network specified in <code>networks</code> if such are specified and <code>networks_cli_compatible=true</code> (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/210">https://github.com/ansible-collections/community.docker/pull/210</a>).</li> <li>docker_container - the special value <code>all</code> can no longer be used in <code>published_ports</code> next to other values. Please use <code>publish_all_ports=true</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/210">https://github.com/ansible-collections/community.docker/pull/210</a>).</li> <li>docker_login - removed the <code>email</code> option (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/210">https://github.com/ansible-collections/community.docker/pull/210</a>).</li> </ul> </section> <section id="id57"> <h4>community.general</h4> <ul class="simple"> <li>All inventory and vault scripts contained in community.general were moved to the <a class="reference external" href="https://github.com/ansible-community/contrib-scripts">contrib-scripts GitHub repository</a> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2696">https://github.com/ansible-collections/community.general/pull/2696</a>).</li> <li>ModuleHelper module utils - remove fallback when value could not be determined for a parameter (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3461">https://github.com/ansible-collections/community.general/pull/3461</a>).</li> <li>Removed deprecated netapp module utils and doc fragments (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3197">https://github.com/ansible-collections/community.general/pull/3197</a>).</li> <li>The nios, nios_next_ip, nios_next_network lookup plugins, the nios documentation fragment, and the nios_host_record, nios_ptr_record, nios_mx_record, nios_fixed_address, nios_zone, nios_member, nios_a_record, nios_aaaa_record, nios_network, nios_dns_view, nios_txt_record, nios_naptr_record, nios_srv_record, nios_cname_record, nios_nsgroup, and nios_network_view module have been removed from community.general 4.0.0 and were replaced by redirects to the <a class="reference external" href="https://galaxy.ansible.com/infoblox/nios_modules">infoblox.nios_modules</a> collection. Please install the <code>infoblox.nios_modules</code> collection to continue using these plugins and modules, and update your FQCNs (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3592">https://github.com/ansible-collections/community.general/pull/3592</a>).</li> <li>The vendored copy of <code>ipaddress</code> has been removed. Please use <code>ipaddress</code> from the Python 3 standard library, or <a class="reference external" href="https://pypi.org/project/ipaddress/">from pypi</a>. (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2441">https://github.com/ansible-collections/community.general/pull/2441</a>).</li> <li>cpanm - removed the deprecated <code>system_lib</code> option. Use Ansible’s privilege escalation mechanism instead; the option basically used <code>sudo</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3461">https://github.com/ansible-collections/community.general/pull/3461</a>).</li> <li>grove - removed the deprecated alias <code>message</code> of the <code>message_content</code> option (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3461">https://github.com/ansible-collections/community.general/pull/3461</a>).</li> <li>proxmox - default value of <code>proxmox_default_behavior</code> changed to <code>no_defaults</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3461">https://github.com/ansible-collections/community.general/pull/3461</a>).</li> <li>proxmox_kvm - default value of <code>proxmox_default_behavior</code> changed to <code>no_defaults</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3461">https://github.com/ansible-collections/community.general/pull/3461</a>).</li> <li>runit - removed the deprecated <code>dist</code> option which was not used by the module (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3461">https://github.com/ansible-collections/community.general/pull/3461</a>).</li> <li>telegram - removed the deprecated <code>msg</code>, <code>msg_format</code> and <code>chat_id</code> options (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3461">https://github.com/ansible-collections/community.general/pull/3461</a>).</li> <li>xfconf - the default value of <code>disable_facts</code> changed to <code>true</code>, and the value <code>false</code> is no longer allowed. Register the module results instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3461">https://github.com/ansible-collections/community.general/pull/3461</a>).</li> </ul> </section> <section id="id59"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>drop support for Python 2 and Python 3.5 (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/81">https://github.com/ansible-collections/community.hashi_vault/issues/81</a>).</li> <li>support for the following deprecated environment variables has been removed: <code>VAULT_AUTH_METHOD</code>, <code>VAULT_TOKEN_PATH</code>, <code>VAULT_TOKEN_FILE</code>, <code>VAULT_ROLE_ID</code>, <code>VAULT_SECRET_ID</code> (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/pull/173">https://github.com/ansible-collections/community.hashi_vault/pull/173</a>).</li> </ul> </section> </section> <section id="id60"> <h3>Deprecated Features</h3> <section id="id61"> <h4>Ansible-core</h4> <ul class="simple"> <li>ansible-test - The <code>--docker-no-pull</code> option is deprecated and has no effect.</li> <li>ansible-test - The <code>--no-pip-check</code> option is deprecated and has no effect.</li> <li>include action is deprecated in favor of include_tasks, import_tasks and import_playbook.</li> <li>module_utils’ FileLock is scheduled to be removed, it is not used due to its unreliable nature.</li> </ul> </section> <section id="id62"> <h4>amazon.aws</h4> <ul class="simple"> <li>ec2 - the boto based <code>ec2</code> module has been deprecated in favour of the boto3 based <code>ec2_instance</code> module. The <code>ec2</code> module will be removed in release 4.0.0 (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/424">https://github.com/ansible-collections/amazon.aws/pull/424</a>).</li> <li>ec2_classic_lb - setting of the <code>ec2_elb</code> fact has been deprecated and will be removed in release 4.0.0 of the collection. The module now returns <code>elb</code> which can be accessed using the register keyword (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/552">https://github.com/ansible-collections/amazon.aws/pull/552</a>).</li> <li>ec2_vpc_dhcp_option - The <code>new_config</code> return key has been deprecated and will be removed in a future release. It will be replaced by <code>dhcp_config</code>. Both values are returned in the interim. (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/252">https://github.com/ansible-collections/amazon.aws/pull/252</a>)</li> </ul> </section> <section id="ansible-netcommon"> <h4>ansible.netcommon</h4> <ul class="simple"> <li>network_cli - The paramiko_ssh setting <code>look_for_keys</code> was set automatically based on the values of the <code>password</code> and <code>private_key_file</code> options passed to network_cli. This option can now be set explicitly, and the automatic setting of <code>look_for_keys</code> will be removed after 2024-01-01 (<a class="reference external" href="https://github.com/ansible-collections/ansible.netcommon/pull/271">https://github.com/ansible-collections/ansible.netcommon/pull/271</a>).</li> </ul> </section> <section id="id63"> <h4>ansible.windows</h4> <ul class="simple"> <li>win_reboot - Unreachable hosts can be ignored with <code>ignore_errors: True</code>, this ability will be removed in a future version. Use <code>ignore_unreachable: True</code> to ignore unreachable hosts instead. - <a class="reference external" href="https://github.com/ansible-collections/ansible.windows/issues/62">https://github.com/ansible-collections/ansible.windows/issues/62</a>
</li> <li>win_updates - Deprecated the <code>filtered_reason</code> return value for each filtered up in favour of <code>filtered_reasons</code>. This has been done to show all the reasons why an update was filtered and not just the first reason.</li> <li>win_updates - Deprecated the <code>use_scheduled_task</code> option as it is no longer used.</li> <li>win_updates - Deprecated the <code>whitelist</code> and <code>blacklist</code> options in favour of <code>accept_list</code> and <code>reject_list</code> respectively to conform to the new standards used in Ansible for these types of options.</li> </ul> </section> <section id="id64"> <h4>arista.eos</h4> <ul class="simple"> <li>Remove testing with provider for ansible-test integration jobs. This helps prepare us to move to network-ee integration tests.</li> </ul> </section> <section id="id65"> <h4>cisco.ios</h4> <ul class="simple"> <li>Deprecated ios_bgp in favor of ios_bgp_global and ios_bgp_address_family.</li> <li>Deprecated ios_ntp modules.</li> <li>Remove testing with provider for ansible-test integration jobs. This helps prepare us to move to network-ee integration tests.</li> </ul> </section> <section id="cisco-iosxr"> <h4>cisco.iosxr</h4> <ul class="simple"> <li>The iosxr_logging module has been deprecated in favor of the new iosxr_logging_global resource module and will be removed in a release after ‘2023-08-01’.</li> </ul> </section> <section id="id66"> <h4>cisco.nxos</h4> <ul class="simple"> <li>Deprecated <code>nxos_ntp</code>, <code>nxos_ntp_options</code>, <code>nxos_ntp_auth</code> modules.</li> <li>The nxos_logging module has been deprecated in favor of the new nxos_logging_global resource module and will be removed in a release after ‘2023-08-01’.</li> </ul> </section> <section id="id67"> <h4>community.aws</h4> <ul class="simple"> <li>dynamodb_table - DynamoDB does not support specifying non-key-attributes when creating an <code>ALL</code> index. Passing <code>includes</code> for such indexes is currently ignored but will result in failures after version 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/726">https://github.com/ansible-collections/community.aws/pull/726</a>).</li> <li>dynamodb_table - DynamoDB does not support updating the primary indexes on a table. Attempts to make such changes are currently ignored but will result in failures after version 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/726">https://github.com/ansible-collections/community.aws/pull/726</a>).</li> <li>ec2_elb - the <code>ec2_elb</code> module has been removed and redirected to the <code>elb_instance</code> module which functions identically. The original <code>ec2_elb</code> name is now deprecated and will be removed in release 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/586">https://github.com/ansible-collections/community.aws/pull/586</a>).</li> <li>ec2_elb_info - the boto based <code>ec2_elb_info</code> module has been deprecated in favour of the boto3 based <code>elb_classic_lb_info</code> module. The <code>ec2_elb_info</code> module will be removed in release 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/586">https://github.com/ansible-collections/community.aws/pull/586</a>).</li> <li>elb_classic_lb - the <code>elb_classic_lb</code> module has been removed and redirected to the <code>amazon.aws.ec2_elb_lb</code> module which functions identically.</li> <li>elb_instance - setting of the <code>ec2_elb</code> fact has been deprecated and will be removed in release 4.0.0 of the collection. See the module documentation for an alternative example using the register keyword (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/773">https://github.com/ansible-collections/community.aws/pull/773</a>).</li> <li>iam - the boto based <code>iam</code> module has been deprecated in favour of the boto3 based <code>iam_user</code>, <code>iam_group</code> and <code>iam_role</code> modules. The <code>iam</code> module will be removed in release 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/664">https://github.com/ansible-collections/community.aws/pull/664</a>).</li> <li>iam_cert - the iam_cert module has been renamed to iam_server_certificate for consistency with the companion iam_server_certificate_info module. The usage of the module has not changed. The iam_cert alias will be removed in version 4.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/728">https://github.com/ansible-collections/community.aws/pull/728</a>).</li> <li>iam_server_certificate - Passing file names to the <code>cert</code>, <code>chain_cert</code> and <code>key</code> parameters has been deprecated. We recommend using a lookup plugin to read the files instead, see the documentation for an example (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/735">https://github.com/ansible-collections/community.aws/pull/735</a>).</li> <li>iam_server_certificate - the default value for the <code>dup_ok</code> parameter is currently <code>false</code>, in version 4.0.0 this will be updated to <code>true</code>. To preserve the current behaviour explicitly set the <code>dup_ok</code> parameter to <code>false</code> (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/737">https://github.com/ansible-collections/community.aws/pull/737</a>).</li> <li>rds - the boto based <code>rds</code> module has been deprecated in favour of the boto3 based <code>rds_instance</code> module. The <code>rds</code> module will be removed in release 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/663">https://github.com/ansible-collections/community.aws/pull/663</a>).</li> <li>rds_snapshot - the rds_snapshot module has been renamed to rds_instance_snapshot. The usage of the module has not changed. The rds_snapshot alias will be removed in version 4.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/783">https://github.com/ansible-collections/community.aws/pull/783</a>).</li> <li>script_inventory_ec2 - The ec2.py inventory script is being moved to a new repository. The script can now be downloaded from <a class="reference external" href="https://github.com/ansible-community/contrib-scripts/blob/main/inventory/ec2.py">https://github.com/ansible-community/contrib-scripts/blob/main/inventory/ec2.py</a> and will be removed from this collection in the 3.0 release. We recommend migrating from the script to the <code>amazon.aws.ec2</code> inventory plugin.</li> </ul> </section> <section id="community-azure"> <h4>community.azure</h4> <ul class="simple"> <li>All community.azure.azure_rm_&lt;resource&gt;_facts modules are deprecated. Use azure.azcollection.azure_rm_&lt;resource&gt;_info modules instead (<a class="reference external" href="https://github.com/ansible-collections/community.azure/pull/24">https://github.com/ansible-collections/community.azure/pull/24</a>).</li> <li>All community.azure.azure_rm_&lt;resource&gt;_info modules are deprecated. Use azure.azcollection.azure_rm_&lt;resource&gt;_info modules instead (<a class="reference external" href="https://github.com/ansible-collections/community.azure/pull/24">https://github.com/ansible-collections/community.azure/pull/24</a>).</li> <li>community.azure.azure_rm_managed_disk and community.azure.azure_rm_manageddisk are deprecated. Use azure.azcollection.azure_rm_manageddisk instead (<a class="reference external" href="https://github.com/ansible-collections/community.azure/pull/24">https://github.com/ansible-collections/community.azure/pull/24</a>).</li> <li>community.azure.azure_rm_virtualmachine_extension and community.azure.azure_rm_virtualmachineextension are deprecated. Use azure.azcollection.azure_rm_virtualmachineextension instead (<a class="reference external" href="https://github.com/ansible-collections/community.azure/pull/24">https://github.com/ansible-collections/community.azure/pull/24</a>).</li> <li>community.azure.azure_rm_virtualmachine_scaleset and community.azure.azure_rm_virtualmachinescaleset are deprecated. Use azure.azcollection.azure_rm_virtualmachinescaleset instead (<a class="reference external" href="https://github.com/ansible-collections/community.azure/pull/24">https://github.com/ansible-collections/community.azure/pull/24</a>).</li> </ul> </section> <section id="id68"> <h4>community.crypto</h4> <ul class="simple"> <li>acme_* modules - ACME version 1 is now deprecated and support for it will be removed in community.crypto 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/288">https://github.com/ansible-collections/community.crypto/pull/288</a>).</li> </ul> </section> <section id="id69"> <h4>community.dns</h4> <ul class="simple"> <li>The hosttech_dns_records module has been renamed to hosttech_dns_record_sets. The old name will stop working in community.dns 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.dns/pull/31">https://github.com/ansible-collections/community.dns/pull/31</a>).</li> </ul> </section> <section id="id70"> <h4>community.docker</h4> <ul class="simple"> <li>docker_* modules and plugins, except <code>docker_swarm</code> connection plugin and <code>docker_compose</code> and <code>docker_stack*` modules - the current default ``localhost</code> for <code>tls_hostname</code> is deprecated. In community.docker 2.0.0 it will be computed from <code>docker_host</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/134">https://github.com/ansible-collections/community.docker/pull/134</a>).</li> <li>docker_container - the new <code>command_handling</code>’s default value, <code>compatibility</code>, is deprecated and will change to <code>correct</code> in community.docker 3.0.0. A deprecation warning is emitted by the module in cases where the behavior will change. Please note that ansible-core will output a deprecation warning only once, so if it is shown for an earlier task, there could be more tasks with this warning where it is not shown (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/186">https://github.com/ansible-collections/community.docker/pull/186</a>).</li> <li>docker_container - using the special value <code>all</code> in <code>published_ports</code> has been deprecated. Use <code>publish_all_ports=true</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/210">https://github.com/ansible-collections/community.docker/pull/210</a>).</li> </ul> </section> <section id="id71"> <h4>community.general</h4> <ul class="simple"> <li>Support for Ansible 2.9 and ansible-base 2.10 is deprecated, and will be removed in the next major release (community.general 5.0.0) next spring. While most content will probably still work with ansible-base 2.10, we will remove symbolic links for modules and action plugins, which will make it impossible to use them with Ansible 2.9 anymore. Please use community.general 4.x.y with Ansible 2.9 and ansible-base 2.10, as these releases will continue to support Ansible 2.9 and ansible-base 2.10 even after they are End of Life (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/50">https://github.com/ansible-community/community-topics/issues/50</a>, <a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3723">https://github.com/ansible-collections/community.general/pull/3723</a>).</li> <li>ali_instance_info - marked removal version of deprecated parameters <code>availability_zone</code> and <code>instance_names</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/issues/2429">https://github.com/ansible-collections/community.general/issues/2429</a>).</li> <li>bitbucket_* modules - <code>username</code> options have been deprecated in favor of <code>workspace</code> and will be removed in community.general 6.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2045">https://github.com/ansible-collections/community.general/pull/2045</a>).</li> <li>dnsimple - python-dnsimple &lt; 2.0.0 is deprecated and support for it will be removed in community.general 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2946#discussion_r667624693">https://github.com/ansible-collections/community.general/pull/2946#discussion_r667624693</a>).</li> <li>gitlab_group_members - setting <code>gitlab_group</code> to <code>name</code> or <code>path</code> is deprecated. Use <code>full_path</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3451">https://github.com/ansible-collections/community.general/pull/3451</a>).</li> <li>keycloak_authentication - the return value <code>flow</code> is now deprecated and will be removed in community.general 6.0.0; use <code>end_state</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3280">https://github.com/ansible-collections/community.general/pull/3280</a>).</li> <li>keycloak_group - the return value <code>group</code> is now deprecated and will be removed in community.general 6.0.0; use <code>end_state</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3280">https://github.com/ansible-collections/community.general/pull/3280</a>).</li> <li>linode - parameter <code>backupsenabled</code> is deprecated and will be removed in community.general 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2410">https://github.com/ansible-collections/community.general/pull/2410</a>).</li> <li>lxd_container - the current default value <code>true</code> of <code>ignore_volatile_options</code> is deprecated and will change to <code>false</code> in community.general 6.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3429">https://github.com/ansible-collections/community.general/pull/3429</a>).</li> <li>serverless - deprecating parameter <code>functions</code> because it was not used in the code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2845">https://github.com/ansible-collections/community.general/pull/2845</a>).</li> <li>xfconf - deprecate the <code>get</code> state. The new module <code>xfconf_info</code> should be used instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3049">https://github.com/ansible-collections/community.general/pull/3049</a>).</li> </ul> </section> <section id="community-grafana"> <h4>community.grafana</h4> <ul class="simple"> <li>grafana_dashboard lookup - Providing a mangled version of the API key is no longer preferred.</li> </ul> </section> <section id="id72"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>hashi_vault collection - support for Python 2 will be dropped in version <code>2.0.0</code> of <code>community.hashi_vault</code> (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/81">https://github.com/ansible-collections/community.hashi_vault/issues/81</a>).</li> <li>hashi_vault collection - support for Python 3.5 will be dropped in version <code>2.0.0</code> of <code>community.hashi_vault</code> (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/81">https://github.com/ansible-collections/community.hashi_vault/issues/81</a>).</li> <li>lookup hashi_vault - the <code>[lookup_hashi_vault]</code> section in the <code>ansible.cfg</code> file is deprecated and will be removed in collection version <code>3.0.0</code>. Instead, the section <code>[hashi_vault_collection]</code> can be used, which will apply to all plugins in the collection going forward (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/pull/144">https://github.com/ansible-collections/community.hashi_vault/pull/144</a>).</li> </ul> </section> <section id="id73"> <h4>community.kubernetes</h4> <ul class="simple"> <li>The <code>community.kubernetes</code> collection is being renamed to <code>kubernetes.core</code>. All content in the collection has been replaced by deprecated redirects to <code>kubernetes.core</code>. If you are using FQCNs starting with <code>community.kubernetes</code>, please update them to <code>kubernetes.core</code> (<a class="reference external" href="https://github.com/ansible-collections/community.kubernetes/pull/439">https://github.com/ansible-collections/community.kubernetes/pull/439</a>).</li> </ul> </section> <section id="id74"> <h4>community.vmware</h4> <ul class="simple"> <li>vmware_guest_vnc - Sphere 7.0 removed the built-in VNC server (<a class="reference external" href="https://docs.vmware.com/en/VMware-vSphere/7.0/rn/vsphere-esxi-vcenter-server-70-release-notes.html#productsupport">https://docs.vmware.com/en/VMware-vSphere/7.0/rn/vsphere-esxi-vcenter-server-70-release-notes.html#productsupport</a>).</li> </ul> </section> <section id="inspur-sm"> <h4>inspur.sm</h4> <ul class="simple"> <li>add_ad_group - This feature will be removed in inspur.sm.add_ad_group 3.0.0. replaced with inspur.sm.ad_group.</li> <li>add_ldap_group - This feature will be removed in inspur.sm.add_ldap_group 3.0.0. replaced with inspur.sm.ldap_group.</li> <li>add_user - This feature will be removed in inspur.sm.add_user 3.0.0. replaced with inspur.sm.user.</li> <li>add_user_group - This feature will be removed in inspur.sm.add_user_group 3.0.0. replaced with inspur.sm.user_group.</li> <li>del_ad_group - This feature will be removed in inspur.sm.del_ad_group 3.0.0. replaced with inspur.sm.ad_group.</li> <li>del_ldap_group - This feature will be removed in inspur.sm.del_ldap_group 3.0.0. replaced with inspur.sm.ldap_group.</li> <li>del_user - This feature will be removed in inspur.sm.del_user 3.0.0. replaced with inspur.sm.user.</li> <li>del_user_group - This feature will be removed in inspur.sm.del_user_group 3.0.0. replaced with inspur.sm.user_group.</li> <li>edit_ad_group - This feature will be removed in inspur.sm.edit_ad_group 3.0.0. replaced with inspur.sm.ad_group.</li> <li>edit_ldap_group - This feature will be removed in inspur.sm.edit_ldap_group 3.0.0. replaced with inspur.sm.ldap_group.</li> <li>edit_user - This feature will be removed in inspur.sm.edit_user 3.0.0. replaced with inspur.sm.user.</li> <li>edit_user_group - This feature will be removed in inspur.sm.edit_user_group 3.0.0. replaced with inspur.sm.user_group.</li> </ul> </section> <section id="id75"> <h4>junipernetworks.junos</h4> <ul class="simple"> <li>Deprecated router_id from ospfv2 resource module.</li> <li>Deprecated router_id from ospfv3 resource module.</li> <li>The junos_logging module has been deprecated in favor of the new junos_logging_global resource module and will be removed in a release after ‘2023-08-01’.</li> </ul> </section> <section id="id76"> <h4>vyos.vyos</h4> <ul class="simple"> <li>The vyos_logging module has been deprecated in favor of the new vyos_logging_global resource module and will be removed in a release after “2023-08-01”.</li> </ul> </section> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_5.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_5.html</a>
  </p>
</div>
