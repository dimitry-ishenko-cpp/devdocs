<section id="ansible-6-porting-guide"> <h1 id="porting-6-guide">Ansible 6 Porting Guide</h1>  <ul class="simple"> <li><a class="reference internal" href="#playbook" id="id78">Playbook</a></li> <li><a class="reference internal" href="#command-line" id="id79">Command Line</a></li> <li><a class="reference internal" href="#deprecated" id="id80">Deprecated</a></li> <li>
<p><a class="reference internal" href="#modules" id="id81">Modules</a></p> <ul> <li><a class="reference internal" href="#modules-removed" id="id82">Modules removed</a></li> <li><a class="reference internal" href="#deprecation-notices" id="id83">Deprecation notices</a></li> <li><a class="reference internal" href="#noteworthy-module-changes" id="id84">Noteworthy module changes</a></li> <li><a class="reference internal" href="#breaking-changes" id="id85">Breaking Changes</a></li> </ul> </li> <li><a class="reference internal" href="#plugins" id="id86">Plugins</a></li> <li><a class="reference internal" href="#porting-custom-scripts" id="id87">Porting custom scripts</a></li> <li><a class="reference internal" href="#networking" id="id88">Networking</a></li> <li>
<p><a class="reference internal" href="#porting-guide-for-v6-7-0" id="id89">Porting Guide for v6.7.0</a></p> <ul> <li><a class="reference internal" href="#known-issues" id="id90">Known Issues</a></li> <li><a class="reference internal" href="#major-changes" id="id91">Major Changes</a></li> <li><a class="reference internal" href="#deprecated-features" id="id92">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v6-6-0" id="id93">Porting Guide for v6.6.0</a></p> <ul> <li><a class="reference internal" href="#added-collections" id="id94">Added Collections</a></li> <li><a class="reference internal" href="#id1" id="id95">Known Issues</a></li> <li><a class="reference internal" href="#id3" id="id96">Breaking Changes</a></li> <li><a class="reference internal" href="#id5" id="id97">Major Changes</a></li> <li><a class="reference internal" href="#id8" id="id98">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v6-5-0" id="id99">Porting Guide for v6.5.0</a></p> <ul> <li><a class="reference internal" href="#id10" id="id100">Major Changes</a></li> <li><a class="reference internal" href="#id13" id="id101">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v6-4-0" id="id102">Porting Guide for v6.4.0</a></p> <ul> <li><a class="reference internal" href="#id15" id="id103">Added Collections</a></li> <li><a class="reference internal" href="#id16" id="id104">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v6-3-0" id="id105">Porting Guide for v6.3.0</a></p> <ul> <li><a class="reference internal" href="#id18" id="id106">Major Changes</a></li> <li><a class="reference internal" href="#id20" id="id107">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v6-2-0" id="id108">Porting Guide for v6.2.0</a></p> <ul> <li><a class="reference internal" href="#id21" id="id109">Added Collections</a></li> <li><a class="reference internal" href="#id22" id="id110">Known Issues</a></li> <li><a class="reference internal" href="#id23" id="id111">Major Changes</a></li> <li><a class="reference internal" href="#id24" id="id112">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v6-1-0" id="id113">Porting Guide for v6.1.0</a></p> <ul> <li><a class="reference internal" href="#id25" id="id114">Added Collections</a></li> <li><a class="reference internal" href="#id26" id="id115">Known Issues</a></li> <li><a class="reference internal" href="#id27" id="id116">Major Changes</a></li> <li><a class="reference internal" href="#id31" id="id117">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v6-0-0" id="id118">Porting Guide for v6.0.0</a></p> <ul> <li><a class="reference internal" href="#id33" id="id119">Added Collections</a></li> <li><a class="reference internal" href="#id34" id="id120">Known Issues</a></li> <li><a class="reference internal" href="#id37" id="id121">Breaking Changes</a></li> <li><a class="reference internal" href="#id44" id="id122">Major Changes</a></li> <li><a class="reference internal" href="#removed-collections" id="id123">Removed Collections</a></li> <li><a class="reference internal" href="#removed-features" id="id124">Removed Features</a></li> <li><a class="reference internal" href="#id67" id="id125">Deprecated Features</a></li> </ul> </li> </ul>  <p>Ansible 6 is based on Ansible-core 2.13.</p> <p>We suggest you read this page along with the <a class="reference external" href="https://github.com/ansible-community/ansible-build-data/blob/main/6/CHANGELOG-v6.rst">Ansible 6 Changelog</a> to understand what updates you may need to make.</p> <section id="playbook"> <h2>Playbook</h2> <ul class="simple"> <li>Templating - You can no longer perform arithmetic and concatenation operations outside of the jinja template. The following statement will need to be rewritten to produce <code>[1, 2]</code>:</li> </ul>  <pre data-language="yaml">- name: Prior to 2.13
  debug:
    msg: '[1] + {{ [2] }}'

- name: 2.13 and forward
  debug:
    msg: '{{ [1] + [2] }}'
</pre>  <ul class="simple"> <li>The return value of the <code>__repr__</code> method of an undefined variable represented by the <code>AnsibleUndefined</code> object changed. <code>{{ '%r'|format(undefined_variable) }}</code> returns <code>AnsibleUndefined(hint=None, obj=missing, name='undefined_variable')</code> in 2.13 as opposed to just <code>AnsibleUndefined</code> in versions 2.12 and prior.</li> <li>The <code>finalize</code> method is no longer exposed in the globals for use in templating. To convert <code>None</code> to an empty string the following expression can be used: <code>{{ value if value is not none }}</code>.</li> </ul> </section> <section id="command-line"> <h2>Command Line</h2> <p>No notable changes</p> </section> <section id="deprecated"> <h2>Deprecated</h2> <p>No notable changes</p> </section> <section id="modules"> <h2>Modules</h2> <ul class="simple"> <li>To use ansible-core 2.13 for module execution, you must use Python 2 version 2.7 or Python 3 version 3.5 or newer. Any code utilizing <code>ansible.module_utils.basic</code> will not function with lower Python versions.</li> </ul> <section id="modules-removed"> <h3>Modules removed</h3> <p>The following modules no longer exist:</p> <ul class="simple"> <li>No notable changes</li> </ul> </section> <section id="deprecation-notices"> <h3>Deprecation notices</h3> <p>No notable changes</p> </section> <section id="noteworthy-module-changes"> <h3>Noteworthy module changes</h3> <p>No notable changes</p> </section> <section id="breaking-changes"> <h3>Breaking Changes</h3> <ul class="simple"> <li>
<code>ansible.module_utils.urls.fetch_url</code> will now return the captured <code>HTTPError</code> exception as <code>r</code>. <code>HTTPError</code> is a response like object that can offer more information to module authors. Modules should rely on <code>info['status'] &gt;= 400</code> to determine if there was a failure, instead of using <code>r is None</code> or catching <code>AttributeError</code> when attempting <code>r.read()</code>.</li> </ul> </section> </section> <section id="plugins"> <h2>Plugins</h2> <p>No notable changes</p> </section> <section id="porting-custom-scripts"> <h2>Porting custom scripts</h2> <p>No notable changes</p> </section> <section id="networking"> <h2>Networking</h2> <p>No notable changes</p> </section> <section id="porting-guide-for-v6-7-0"> <h2>Porting Guide for v6.7.0</h2> <section id="known-issues"> <h3>Known Issues</h3> <section id="community-routeros"> <h4>community.routeros</h4> <ul class="simple"> <li>api_modify - when limits for entries in <code>queue tree</code> are defined as human readable - for example <code>25M</code> -, the configuration will be correctly set in ROS, but the module will indicate the item is changed on every run even when there was no change done. This is caused by the ROS API which returns the number in bytes - for example <code>25000000</code> (which is inconsistent with the CLI behavior). In order to mitigate that, the limits have to be defined in bytes (those will still appear as human readable in the ROS CLI) (<a class="reference external" href="https://github.com/ansible-collections/community.routeros/pull/131">https://github.com/ansible-collections/community.routeros/pull/131</a>).</li> <li>api_modify, api_info - <code>routing ospf area</code>, <code>routing ospf area range</code>, <code>routing ospf instance</code>, <code>routing ospf interface-template</code> paths are not fully implemented for ROS6 due to the significant changes between ROS6 and ROS7 (<a class="reference external" href="https://github.com/ansible-collections/community.routeros/pull/131">https://github.com/ansible-collections/community.routeros/pull/131</a>).</li> </ul> </section> </section> <section id="major-changes"> <h3>Major Changes</h3> <section id="cisco-meraki"> <h4>cisco.meraki</h4> <ul class="simple"> <li>meraki_mr_l7_firewall - New module</li> <li>meraki_webhook_payload_template - New module</li> </ul> </section> <section id="community-zabbix"> <h4>community.zabbix</h4> <ul class="simple"> <li>all modules are opting away from zabbix-api and using httpapi ansible.netcommon plugin. We will support zabbix-api for backwards compatibility until next major release. See our README.md for more information about how to migrate</li> <li>zabbix_agent and zabbix_proxy roles are opting away from zabbix-api and use httpapi ansible.netcommon plugin. We will support zabbix-api for backwards compatibility until next major release. See our README.md for more information about how to migrate</li> </ul> </section> <section id="containers-podman"> <h4>containers.podman</h4> <ul class="simple"> <li>New become plugin - podman_unshare</li> <li>Podman generate systemd module</li> </ul> </section> <section id="fortinet-fortimanager"> <h4>fortinet.fortimanager</h4> <ul class="simple"> <li>Fix compatibility issue for ansible 2.9.x and ansible-base 2.10.x.</li> <li>support Ansible changelogs.</li> </ul> </section> <section id="fortinet-fortios"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Support FortiOS v7.0.6, v7.0.7, v7.0.8, v7.2.1, v7.2.2.</li> </ul> </section> </section> <section id="deprecated-features"> <h3>Deprecated Features</h3> <section id="community-general"> <h4>community.general</h4> <ul class="simple"> <li>Please note that some tools, like the VScode plugin (<a class="reference external" href="https://github.com/ansible/vscode-ansible/issues/573">https://github.com/ansible/vscode-ansible/issues/573</a>), or <code>ansible-doc --list --type module</code>, suggest to replace the correct FQCNs for modules and actions in community.general with internal names that have more than three components. For example, <code>community.general.ufw</code> is suggested to be replaced by <code>community.general.system.ufw</code>. While these longer names do work, they are considered <strong>internal names</strong> by the collection and are subject to change and be removed at all time. They <strong>will</strong> be removed in community.general 6.0.0 and result in deprecation messages. Avoid using these internal names, and use general three-component FQCNs (<code>community.general.&lt;name_of_module&gt;</code>) instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5373">https://github.com/ansible-collections/community.general/pull/5373</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v6-6-0"> <h2>Porting Guide for v6.6.0</h2> <section id="added-collections"> <h3>Added Collections</h3> <ul class="simple"> <li>lowlydba.sqlserver (version 1.0.4)</li> </ul> </section> <section id="id1"> <h3>Known Issues</h3> <section id="id2"> <h4>community.routeros</h4> <ul class="simple"> <li>The <code>community.routeros.command</code> module claims to support check mode. Since it cannot judge whether the commands executed modify state or not, this behavior is incorrect. Since this potentially breaks existing playbooks, we will not change this behavior until community.routeros 3.0.0.</li> </ul> </section> </section> <section id="id3"> <h3>Breaking Changes</h3> <section id="id4"> <h4>community.general</h4> <ul class="simple"> <li>newrelic_deployment - <code>revision</code> is required for v2 API (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5341">https://github.com/ansible-collections/community.general/pull/5341</a>).</li> </ul> </section> </section> <section id="id5"> <h3>Major Changes</h3> <section id="id6"> <h4>community.general</h4> <ul class="simple"> <li>newrelic_deployment - removed New Relic v1 API, added support for v2 API (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5341">https://github.com/ansible-collections/community.general/pull/5341</a>).</li> </ul> </section> <section id="id7"> <h4>fortinet.fortimanager</h4> <ul class="simple"> <li>Many fixes for Ansible sanity test warnings &amp; errors.</li> <li>Support FortiManager Schema 7.2.0 , 98 new modules</li> </ul> </section> </section> <section id="id8"> <h3>Deprecated Features</h3> <ul class="simple"> <li>The mellanox.onyx collection is considered unmaintained and will be removed from Ansible 8 if no one starts maintaining it again before Ansible 8. See <a class="reference external" href="https://github.com/ansible-collections/overview/blob/main/removal_from_ansible.rst#cancelling-removal-of-an-unmaintained-collection">the removal process for details on how this works</a> (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/136">https://github.com/ansible-community/community-topics/issues/136</a>).</li> </ul> <section id="cisco-mso"> <h4>cisco.mso</h4> <ul class="simple"> <li>The mso_schema_template_contract_filter contract_filter_type attribute is deprecated. The value is now deduced from filter_type.</li> </ul> </section> <section id="id9"> <h4>community.general</h4> <ul class="simple"> <li>ArgFormat module utils - deprecated along <code>CmdMixin</code>, in favor of the <code>cmd_runner_fmt</code> module util (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5370">https://github.com/ansible-collections/community.general/pull/5370</a>).</li> <li>CmdMixin module utils - deprecated in favor of the <code>CmdRunner</code> module util (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5370">https://github.com/ansible-collections/community.general/pull/5370</a>).</li> <li>CmdModuleHelper module utils - deprecated in favor of the <code>CmdRunner</code> module util (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5370">https://github.com/ansible-collections/community.general/pull/5370</a>).</li> <li>CmdStateModuleHelper module utils - deprecated in favor of the <code>CmdRunner</code> module util (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5370">https://github.com/ansible-collections/community.general/pull/5370</a>).</li> <li>django_manage - support for Django releases older than 4.1 has been deprecated and will be removed in community.general 9.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5400">https://github.com/ansible-collections/community.general/pull/5400</a>).</li> <li>django_manage - support for the commands <code>cleanup</code>, <code>syncdb</code> and <code>validate</code> that have been deprecated in Django long time ago will be removed in community.general 9.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5400">https://github.com/ansible-collections/community.general/pull/5400</a>).</li> <li>django_manage - the behavior of “creating the virtual environment when missing” is being deprecated and will be removed in community.general version 9.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5405">https://github.com/ansible-collections/community.general/pull/5405</a>).</li> <li>newrelic_deployment - <code>appname</code> and <code>environment</code> are no longer valid options in the v2 API. They will be removed in community.general 7.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5341">https://github.com/ansible-collections/community.general/pull/5341</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v6-5-0"> <h2>Porting Guide for v6.5.0</h2> <section id="id10"> <h3>Major Changes</h3> <section id="infoblox-nios-modules"> <h4>infoblox.nios_modules</h4> <ul class="simple"> <li>Feature for extra layer security , with <code>cert</code> and <code>key</code> parameters in playbooks for authenticating using certificate and key <code>*.pem</code> file absolute path <a class="reference external" href="https://github.com/infobloxopen/infoblox-ansible/pull/154">#154</a>
</li> <li>Fix to remove issue causing due to template attr in deleting network using Ansible module nios network <a class="reference external" href="https://github.com/infobloxopen/infoblox-ansible/pull/147">#147</a>
</li> </ul> </section> </section> <section id="id13"> <h3>Deprecated Features</h3> <ul class="simple"> <li>The dellemc.os10 collection is considered unmaintained and will be removed from Ansible 8 if no one starts maintaining it again before Ansible 8. See <a class="reference external" href="https://github.com/ansible-collections/overview/blob/main/removal_from_ansible.rst#cancelling-removal-of-an-unmaintained-collection">the removal process for details on how this works</a> (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/134">https://github.com/ansible-community/community-topics/issues/134</a>).</li> <li>The dellemc.os6 collection is considered unmaintained and will be removed from Ansible 8 if no one starts maintaining it again before Ansible 8. See <a class="reference external" href="https://github.com/ansible-collections/overview/blob/main/removal_from_ansible.rst#cancelling-removal-of-an-unmaintained-collection">the removal process for details on how this works</a> (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/132">https://github.com/ansible-community/community-topics/issues/132</a>).</li> <li>The dellemc.os9 collection is considered unmaintained and will be removed from Ansible 8 if no one starts maintaining it again before Ansible 8. See <a class="reference external" href="https://github.com/ansible-collections/overview/blob/main/removal_from_ansible.rst#cancelling-removal-of-an-unmaintained-collection">the removal process for details on how this works</a> (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/133">https://github.com/ansible-community/community-topics/issues/133</a>).</li> </ul> <section id="id14"> <h4>community.general</h4> <ul class="simple"> <li>lxc_container - the module will no longer make any effort to support Python 2 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/5304">https://github.com/ansible-collections/community.general/pull/5304</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v6-4-0"> <h2>Porting Guide for v6.4.0</h2> <section id="id15"> <h3>Added Collections</h3> <ul class="simple"> <li>inspur.ispim (version 1.0.1)</li> <li>vultr.cloud (version 1.1.0)</li> </ul> </section> <section id="id16"> <h3>Deprecated Features</h3> <section id="id17"> <h4>community.general</h4> <ul class="simple"> <li>proxmox - deprecated the current <code>unprivileged</code> default value, will be changed to <code>true</code> in community.general 7.0.0 (<a class="reference external" href="https://github.com/pull/5224">https://github.com/pull/5224</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v6-3-0"> <h2>Porting Guide for v6.3.0</h2> <section id="id18"> <h3>Major Changes</h3> <section id="community-mysql"> <h4>community.mysql</h4> <ul class="simple"> <li>mysql_db - the <code>pipefail</code> argument’s default value will be changed to <code>true</code> in community.mysql 4.0.0. If your target machines do not use <code>bash</code> as a default interpreter, set <code>pipefail</code> to <code>false</code> explicitly. However, we strongly recommend setting up <code>bash</code> as a default and <code>pipefail=true</code> as it will protect you from getting broken dumps you don’t know about (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/issues/407">https://github.com/ansible-collections/community.mysql/issues/407</a>).</li> </ul> </section> <section id="id19"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Support Diff feature in check_mode.</li> <li>Support Fortios 7.2.0.</li> </ul> </section> </section> <section id="id20"> <h3>Deprecated Features</h3> <ul class="simple"> <li>The google.cloud collection is considered unmaintained and will be removed from Ansible 8 if no one starts maintaining it again before Ansible 8. See <a class="reference external" href="https://github.com/ansible-collections/overview/blob/main/removal_from_ansible.rst#cancelling-removal-of-an-unmaintained-collection">the removal process for details on how this works</a> (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/105">https://github.com/ansible-community/community-topics/issues/105</a>).</li> <li>The servicenow.servicenow collection has been deprecated by its maintainers (<a class="reference external" href="https://github.com/ServiceNowITOM/servicenow-ansible/pull/69">https://github.com/ServiceNowITOM/servicenow-ansible/pull/69</a>) and will be removed from Ansible 7. It can still be installed manually, but it is suggested to switch to <a class="reference external" href="https://galaxy.ansible.com/servicenow/itsm">servicenow.itsm</a> instead (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/124">https://github.com/ansible-community/community-topics/issues/124</a>).</li> </ul> </section> </section> <section id="porting-guide-for-v6-2-0"> <h2>Porting Guide for v6.2.0</h2> <section id="id21"> <h3>Added Collections</h3> <ul class="simple"> <li>ibm.spectrum_virtualize (version 1.9.0)</li> </ul> </section> <section id="id22"> <h3>Known Issues</h3> <section id="netapp-ontap"> <h4>netapp.ontap</h4> <ul class="simple"> <li>na_ontap_snapshot - added documentation to use UTC format for <code>expiry_time</code>.</li> </ul> </section> </section> <section id="id23"> <h3>Major Changes</h3> <section id="community-postgresql"> <h4>community.postgresql</h4> <ul class="simple"> <li>postgresql_user - the <code>groups</code> argument has been deprecated and will be removed in <code>community.postgresql 3.0.0</code>. Please use the <code>postgresql_membership</code> module to specify group/role memberships instead (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/issues/277">https://github.com/ansible-collections/community.postgresql/issues/277</a>).</li> </ul> </section> </section> <section id="id24"> <h3>Deprecated Features</h3> <section id="community-hashi-vault"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>vault_kv2_get lookup - the <code>engine_mount_point option</code> in the <code>vault_kv2_get</code> lookup only will change its default from <code>kv</code> to <code>secret</code> in community.hashi_vault version 4.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/279">https://github.com/ansible-collections/community.hashi_vault/issues/279</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v6-1-0"> <h2>Porting Guide for v6.1.0</h2> <section id="id25"> <h3>Added Collections</h3> <ul class="simple"> <li>purestorage.fusion (version 1.0.2)</li> </ul> </section> <section id="id26"> <h3>Known Issues</h3> <section id="dellemc-openmanage"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) The module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> <li>ome_application_alerts_smtp - Issue(212310) - The module does not provide a proper error message if the destination_address is more than 255 characters.</li> <li>ome_application_alerts_syslog - Issue(215374) - The module does not provide a proper error message if the destination_address is more than 255 characters.</li> <li>ome_device_local_access_configuration - Issue(215035) - The module reports <code>Successfully updated the local access setting</code> if an unsupported value is provided for the parameter timeout_limit. However, this value is not actually applied on OpenManage Enterprise Modular.</li> <li>ome_device_local_access_configuration - Issue(217865) - The module does not display a proper error message if an unsupported value is provided for the user_defined and lcd_language parameters.</li> <li>ome_device_network_services - Issue(212681) - The module does not provide a proper error message if unsupported values are provided for the parameters- port_number, community_name, max_sessions, max_auth_retries, and idle_timeout.</li> <li>ome_device_power_settings - Issue(212679) - The module displays the following message if the value provided for the parameter <code>power_cap</code> is not within the supported range of 0 to 32767, <code>Unable to complete the request because PowerCap does not exist or is not applicable for the resource URI.</code>
</li> <li>ome_device_quick_deploy - Issue(216352) - The module does not display a proper error message if an unsupported value is provided for the ipv6_prefix_length and vlan_id parameters.</li> <li>ome_smart_fabric_uplink - Issue(186024) - The module does not allow the creation of multiple uplinks of the same name even though it is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> </section> <section id="id27"> <h3>Major Changes</h3> <section id="chocolatey-chocolatey"> <h4>chocolatey.chocolatey</h4> <ul class="simple"> <li>win_chocolatey - Added bootstrap_script option to allow users to target a script URL for installing Chocolatey on clients.</li> <li>win_chocolatey_facts - Added outdated packages list to data returned.</li> </ul> </section> <section id="id28"> <h4>infoblox.nios_modules</h4> <ul class="simple"> <li>Update <code>text</code> field of TXT Record <a class="reference external" href="https://github.com/infobloxopen/infoblox-ansible/pull/128">#128</a>
</li> <li>Update operation using <code>old_name</code> and <code>new_name</code> for the object with dummy name in <code>old_name</code> (which does not exist in system) will not create a new object in the system. An error will be thrown stating the object does not exist in the system <a class="reference external" href="https://github.com/infobloxopen/infoblox-ansible/pull/129">#129</a>
</li> </ul> </section> </section> <section id="id31"> <h3>Deprecated Features</h3> <section id="cisco-ios"> <h4>cisco.ios</h4> <ul class="simple"> <li>Deprecated ios_linkagg_module in favor of ios_lag_interfaces.</li> </ul> </section> <section id="community-aws"> <h4>community.aws</h4> <ul class="simple"> <li>aws_codebuild - The <code>tags</code> parameter currently uses a non-standard format and has been deprecated. In release 6.0.0 this parameter will accept a simple key/value pair dictionary instead of the current list of dictionaries. It is recommended to migrate to using the resource_tags parameter which already accepts the simple dictionary format (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/1221">https://github.com/ansible-collections/community.aws/pull/1221</a>).</li> <li>route53_info - The CamelCase return values for <code>HostedZones</code>, <code>ResourceRecordSets</code>, and <code>HealthChecks</code> have been deprecated, in the future release you must use snake_case return values <code>hosted_zones</code>, <code>resource_record_sets</code>, and <code>health_checks</code> instead respectively”.</li> </ul> </section> <section id="community-crypto"> <h4>community.crypto</h4> <ul class="simple"> <li>Support for Ansible 2.9 and ansible-base 2.10 is deprecated, and will be removed in the next major release (community.crypto 3.0.0). Some modules might still work with these versions afterwards, but we will no longer keep compatibility code that was needed to support them (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/460">https://github.com/ansible-collections/community.crypto/pull/460</a>).</li> </ul> </section> <section id="community-docker"> <h4>community.docker</h4> <ul class="simple"> <li>Support for Docker API version 1.20 to 1.24 has been deprecated and will be removed in community.docker 3.0.0. The first Docker version supporting API version 1.25 was Docker 1.13, released in January 2017. This affects the modules <code>docker_container</code>, <code>docker_container_exec</code>, <code>docker_container_info</code>, <code>docker_compose</code>, <code>docker_login</code>, <code>docker_image</code>, <code>docker_image_info</code>, <code>docker_image_load</code>, <code>docker_host_info</code>, <code>docker_network</code>, <code>docker_network_info</code>, <code>docker_node_info</code>, <code>docker_swarm_info</code>, <code>docker_swarm_service</code>, <code>docker_swarm_service_info</code>, <code>docker_volume_info</code>, and <code>docker_volume</code>, whose minimally supported API version is between 1.20 and 1.24 (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/396">https://github.com/ansible-collections/community.docker/pull/396</a>).</li> <li>Support for Python 2.6 is deprecated and will be removed in the next major release (community.docker 3.0.0). Some modules might still work with Python 2.6, but we will no longer try to ensure compatibility (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/388">https://github.com/ansible-collections/community.docker/pull/388</a>).</li> </ul> </section> <section id="id32"> <h4>community.general</h4> <ul class="simple"> <li>cmd_runner module utils - deprecated <code>fmt</code> in favour of <code>cmd_runner_fmt</code> as the parameter format object (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4777">https://github.com/ansible-collections/community.general/pull/4777</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v6-0-0"> <h2>Porting Guide for v6.0.0</h2> <section id="id33"> <h3>Added Collections</h3> <ul class="simple"> <li>cisco.dnac (version 6.4.0)</li> <li>community.sap (version 1.0.0)</li> <li>community.sap_libs (version 1.1.0)</li> <li>vmware.vmware_rest (version 2.1.5)</li> </ul> </section> <section id="id34"> <h3>Known Issues</h3> <section id="ansible-core"> <h4>Ansible-core</h4> <ul class="simple"> <li>get_url - document <code>check_mode</code> correctly with unreliable changed status (<a class="reference external" href="https://github.com/ansible/ansible/issues/65687">https://github.com/ansible/ansible/issues/65687</a>).</li> </ul> </section> <section id="ansible-netcommon"> <h4>ansible.netcommon</h4> <ul class="simple"> <li>eos - When using eos modules on Ansible 2.9, tasks will occasionally fail with <code>import_modules</code> enabled. This can be avoided by setting <code>import_modules: no</code>
</li> </ul> </section> <section id="id35"> <h4>community.general</h4> <ul class="simple"> <li>pacman - <code>update_cache</code> cannot differentiate between up to date and outdated package lists and will report <code>changed</code> in both situations (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4318">https://github.com/ansible-collections/community.general/pull/4318</a>).</li> <li>pacman - binaries specified in the <code>executable</code> parameter must support <code>--print-format</code> in order to be used by this module. In particular, AUR helper <code>yay</code> is known not to currently support it (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4312">https://github.com/ansible-collections/community.general/pull/4312</a>).</li> </ul> </section> <section id="id36"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) The module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> <li>ome_application_alerts_smtp - Issue(212310) - The module does not provide a proper error message if the destination_address is more than 255 characters.</li> <li>ome_application_alerts_syslog - Issue(215374) - The module does not provide a proper error message if the destination_address is more than 255 characters.</li> <li>ome_application_console_preferences - Issue(224690) - The module does not display a proper error message when an unsupported value is provided for the parameters report_row_limit, email_sender_settings, and metric_collection_settings, and the value is applied on OpenManage Enterprise.</li> <li>ome_device_local_access_configuration - Issue(215035) - The module reports <code>Successfully updated the local access setting</code> if an unsupported value is provided for the parameter timeout_limit. However, this value is not actually applied on OpenManage Enterprise Modular.</li> <li>ome_device_local_access_configuration - Issue(217865) - The module does not display a proper error message if an unsupported value is provided for the user_defined and lcd_language parameters.</li> <li>ome_device_network_services - Issue(212681) - The module does not provide a proper error message if unsupported values are provided for the parameters- port_number, community_name, max_sessions, max_auth_retries, and idle_timeout.</li> <li>ome_device_power_settings - Issue(212679) - The module displays the following message if the value provided for the parameter <code>power_cap</code> is not within the supported range of 0 to 32767, <code>Unable to complete the request because PowerCap does not exist or is not applicable for the resource URI.</code>
</li> <li>ome_device_power_settings - Issue(212679) - The module errors out with the following message if the value provided for the parameter <code>power_cap</code> is not within the supported range of 0 to 32767, <code>Unable to complete the request because PowerCap does not  exist or is not applicable for the resource URI.</code>
</li> <li>ome_device_power_settings - Issue(212679) - The module errors out with the following message if the value provided for the parameter <code>power_cap</code> is not within the supported range of 0 to 32767, <code>Unable to complete the request because PowerCap does not exist or is not applicable for the resource URI.</code>
</li> <li>ome_device_quick_deploy - Issue(216352) - The module does not display a proper error message if an unsupported value is provided for the ipv6_prefix_length and vlan_id parameters.</li> <li>ome_smart_fabric_uplink - Issue(186024) - The module does not allow the creation of multiple uplinks of the same name even though it is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> <section id="purestorage-flasharray"> <h4>purestorage.flasharray</h4> <ul class="simple"> <li>purefa_admin - Once <code>max_login</code> and <code>lockout</code> have been set there is currently no way to rest these to zero except through the FlashArray GUI</li> </ul> </section> </section> <section id="id37"> <h3>Breaking Changes</h3> <section id="id38"> <h4>Ansible-core</h4> <ul class="simple"> <li>Module Python Dependency - Drop support for Python 2.6 in module execution.</li> <li>Templating - it is no longer allowed to perform arithmetic and concatenation operations outside of the jinja template (<a class="reference external" href="https://github.com/ansible/ansible/pull/75587">https://github.com/ansible/ansible/pull/75587</a>)</li> <li>The <code>finalize</code> method is no longer exposed in the globals for use in templating.</li> </ul> </section> <section id="amazon-aws"> <h4>amazon.aws</h4> <ul class="simple"> <li>aws_caller_facts - Remove deprecated <code>aws_caller_facts</code> alias. Please use <code>aws_caller_info</code> instead.</li> <li>cloudformation_facts - Remove deprecated <code>cloudformation_facts</code> alias. Please use <code>cloudformation_info</code> instead.</li> <li>ec2_ami_facts - Remove deprecated <code>ec2_ami_facts</code> alias. Please use <code>ec2_ami_info</code> instead.</li> <li>ec2_eni_facts - Remove deprecated <code>ec2_eni_facts</code> alias. Please use <code>ec2_eni_info</code> instead.</li> <li>ec2_group_facts - Remove deprecated <code>ec2_group_facts</code> alias. Please use <code>ec2_group_info</code> instead.</li> <li>ec2_instance_facts - Remove deprecated <code>ec2_instance_facts</code> alias. Please use <code>ec2_instance_info</code> instead.</li> <li>ec2_snapshot_facts - Remove deprecated <code>ec2_snapshot_facts</code> alias. Please use <code>ec2_snapshot_info</code> instead.</li> <li>ec2_vol_facts - Remove deprecated <code>ec2_vol_facts</code> alias. Please use <code>ec2_vol_info</code> instead.</li> <li>ec2_vpc_dhcp_option_facts - Remove deprecated <code>ec2_vpc_dhcp_option_facts</code> alias. Please use <code>ec2_vpc_dhcp_option_info</code> instead.</li> <li>ec2_vpc_endpoint_facts - Remove deprecated <code>ec2_vpc_endpoint_facts</code> alias. Please use <code>ec2_vpc_endpoint_info</code> instead.</li> <li>ec2_vpc_igw_facts - Remove deprecated <code>ec2_vpc_igw_facts</code> alias. Please use <code>ec2_vpc_igw_info</code> instead.</li> <li>ec2_vpc_nat_gateway_facts - Remove deprecated <code>ec2_vpc_nat_gateway_facts</code> alias. Please use <code>ec2_vpc_nat_gateway_info</code> instead.</li> <li>ec2_vpc_net_facts - Remove deprecated <code>ec2_vpc_net_facts</code> alias. Please use <code>ec2_vpc_net_info</code> instead.</li> <li>ec2_vpc_route_table_facts - Remove deprecated <code>ec2_vpc_route_table_facts</code> alias. Please use <code>ec2_vpc_route_table_info</code> instead.</li> <li>ec2_vpc_subnet_facts - Remove deprecated <code>ec2_vpc_subnet_facts</code> alias. Please use <code>ec2_vpc_subnet_info</code> instead.</li> </ul> </section> <section id="id39"> <h4>ansible.netcommon</h4> <ul class="simple"> <li>httpapi - Change default value of <code>import_modules</code> option from <code>no</code> to <code>yes</code>
</li> <li>netconf - Change default value of <code>import_modules</code> option from <code>no</code> to <code>yes</code>
</li> <li>network_cli - Change default value of <code>import_modules</code> option from <code>no</code> to <code>yes</code>
</li> </ul> </section> <section id="arista-eos"> <h4>arista.eos</h4> <ul class="simple"> <li>eos_command - new suboption <code>version</code> of parameter <code>command</code>, which controls the JSON response version. Previously the value was assumed to be “latest” for network_cli and “1” for httpapi, but the default will now be “latest” for both connections. This option is also available for use in modules making their own device requests with <code>plugins.module_utils.network.eos.eos.run_commands()</code> with the same new default behavior. (<a class="reference external" href="https://github.com/ansible-collections/arista.eos/pull/258">https://github.com/ansible-collections/arista.eos/pull/258</a>).</li> <li>httpapi - the <code>eos_use_sessions</code> option is now a boolean instead of an integer.</li> </ul> </section> <section id="id40"> <h4>community.aws</h4> <ul class="simple"> <li>aws_acm_facts - Remove deprecated alias <code>aws_acm_facts</code>. Please use <code>aws_acm_info</code> instead.</li> <li>aws_kms_facts - Remove deprecated alias <code>aws_kms_facts</code>. Please use <code>aws_kms_info</code> instead.</li> <li>aws_kms_info - Deprecated <code>keys_attr</code> field is now ignored (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/838">https://github.com/ansible-collections/community.aws/pull/838</a>).</li> <li>aws_region_facts - Remove deprecated alias <code>aws_region_facts</code>. Please use <code>aws_region_info</code> instead.</li> <li>aws_s3_bucket_facts - Remove deprecated alias <code>aws_s3_bucket_facts</code>. Please use <code>aws_s3_bucket_info</code> instead.</li> <li>aws_sgw_facts - Remove deprecated alias <code>aws_sgw_facts</code>. Please use <code>aws_sgw_info</code> instead.</li> <li>aws_waf_facts - Remove deprecated alias <code>aws_waf_facts</code>. Please use <code>aws_waf_info</code> instead.</li> <li>cloudfront_facts - Remove deprecated alias <code>cloudfront_facts</code>. Please use <code>cloudfront_info</code> instead.</li> <li>cloudwatchlogs_log_group_facts - Remove deprecated alias <code>cloudwatchlogs_log_group_facts</code>. Please use <code>cloudwatchlogs_log_group_info</code> instead.</li> <li>dynamodb_table - deprecated updates currently ignored for primary keys and global_all indexes will now result in a failure. (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/837">https://github.com/ansible-collections/community.aws/pull/837</a>).</li> <li>ec2_asg_facts - Remove deprecated alias <code>ec2_asg_facts</code>. Please use <code>ec2_asg_info</code> instead.</li> <li>ec2_customer_gateway_facts - Remove deprecated alias <code>ec2_customer_gateway_facts</code>. Please use <code>ec2_customer_gateway_info</code> instead.</li> <li>ec2_eip_facts - Remove deprecated alias <code>ec2_eip_facts</code>. Please use <code>ec2_eip_info</code> instead.</li> <li>ec2_elb_facts - Remove deprecated alias <code>ec2_elb_facts</code>. Please use <code>ec2_elb_info</code> instead.</li> <li>ec2_elb_info - The <code>ec2_elb_info</code> module has been removed. Please use <code>the ``elb_classic_lb_info</code> module.</li> <li>ec2_lc_facts - Remove deprecated alias <code>ec2_lc_facts</code>. Please use <code>ec2_lc_info</code> instead.</li> <li>ec2_placement_group_facts - Remove deprecated alias <code>ec2_placement_group_facts</code>. Please use <code>ec2_placement_group_info</code> instead.</li> <li>ec2_vpc_nacl_facts - Remove deprecated alias <code>ec2_vpc_nacl_facts</code>. Please use <code>ec2_vpc_nacl_info</code> instead.</li> <li>ec2_vpc_peering_facts - Remove deprecated alias <code>ec2_vpc_peering_facts</code>. Please use <code>ec2_vpc_peering_info</code> instead.</li> <li>ec2_vpc_route_table_facts - Remove deprecated alias <code>ec2_vpc_route_table_facts</code>. Please use <code>ec2_vpc_route_table_info</code> instead.</li> <li>ec2_vpc_vgw_facts - Remove deprecated alias <code>ec2_vpc_vgw_facts</code>. Please use <code>ec2_vpc_vgw_info</code> instead.</li> <li>ec2_vpc_vpn_facts - Remove deprecated alias <code>ec2_vpc_vpn_facts</code>. Please use <code>ec2_vpc_vpn_info</code> instead.</li> <li>ecs_service_facts - Remove deprecated alias <code>ecs_service_facts</code>. Please use <code>ecs_service_info</code> instead.</li> <li>ecs_taskdefinition_facts - Remove deprecated alias <code>ecs_taskdefinition_facts</code>. Please use <code>ecs_taskdefinition_info</code> instead.</li> <li>efs_facts - Remove deprecated alias <code>efs_facts</code>. Please use <code>efs_info</code> instead.</li> <li>elasticache_facts - Remove deprecated alias <code>elasticache_facts</code>. Please use <code>elasticache_info</code> instead.</li> <li>elb_application_lb_facts - Remove deprecated alias <code>elb_application_lb_facts</code>. Please use <code>elb_application_lb_info</code> instead.</li> <li>elb_classic_lb_facts - Remove deprecated alias <code>elb_classic_lb_facts</code>. Please use <code>elb_classic_lb_info</code> instead.</li> <li>elb_target_facts - Remove deprecated alias <code>elb_target_facts</code>. Please use <code>elb_target_info</code> instead.</li> <li>elb_target_group_facts - Remove deprecated alias <code>elb_target_group_facts</code>. Please use <code>elb_target_group_info</code> instead.</li> <li>iam - Removed deprecated <code>community.aws.iam</code> module. Please use <code>community.aws.iam_user</code>, <code>community.aws.iam_access_key</code> or <code>community.aws.iam_group</code> (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/839">https://github.com/ansible-collections/community.aws/pull/839</a>).</li> <li>iam_cert_facts - Remove deprecated alias <code>iam_cert_facts</code>. Please use <code>iam_cert_info</code> instead.</li> <li>iam_mfa_device_facts - Remove deprecated alias <code>iam_mfa_device_facts</code>. Please use <code>iam_mfa_device_info</code> instead.</li> <li>iam_role_facts - Remove deprecated alias <code>iam_role_facts</code>. Please use <code>iam_role_info</code> instead.</li> <li>iam_server_certificate_facts - Remove deprecated alias <code>iam_server_certificate_facts</code>. Please use <code>iam_server_certificate_info</code> instead.</li> <li>lambda_facts - Remove deprecated module lambda_facts``. Please use <code>lambda_info</code> instead.</li> <li>rds - Removed deprecated <code>community.aws.rds</code> module. Please use <code>community.aws.rds_instance</code> (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/839">https://github.com/ansible-collections/community.aws/pull/839</a>).</li> <li>rds_instance_facts - Remove deprecated alias <code>rds_instance_facts</code>. Please use <code>rds_instance_info</code> instead.</li> <li>rds_snapshot_facts - Remove deprecated alias <code>rds_snapshot_facts</code>. Please use <code>rds_snapshot_info</code> instead.</li> <li>redshift_facts - Remove deprecated alias <code>redshift_facts</code>. Please use <code>redshift_info</code> instead.</li> <li>route53_facts - Remove deprecated alias <code>route53_facts</code>. Please use <code>route53_info</code> instead.</li> </ul> </section> <section id="id41"> <h4>community.general</h4> <ul class="simple"> <li>Parts of this collection do not work with ansible-core 2.11 on Python 3.12+. Please either upgrade to ansible-core 2.12+, or use Python 3.11 or earlier (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3988">https://github.com/ansible-collections/community.general/pull/3988</a>).</li> <li>The symbolic links used to implement flatmapping for all modules were removed and replaced by <code>meta/runtime.yml</code> redirects. This effectively breaks compatibility with Ansible 2.9 for all modules (without using their “long” names, which is discouraged and which can change without previous notice since they are considered an implementation detail) (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> <li>a_module test plugin - remove Ansible 2.9 compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> <li>archive - remove Ansible 2.9 compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> <li>git_config - remove Ansible 2.9 and early ansible-base 2.10 compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> <li>java_keystore - remove Ansible 2.9 compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> <li>lists_mergeby and groupby_as_dict filter plugins - adjust filter plugin filename. This change is not visible to end-users, it only affects possible other collections importing Python paths (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4625">https://github.com/ansible-collections/community.general/pull/4625</a>).</li> <li>lists_mergeby filter plugin - remove Ansible 2.9 compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> <li>maven_artifact - remove Ansible 2.9 compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> <li>memcached cache plugin - remove Ansible 2.9 compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> <li>path_join filter plugin shim - remove Ansible 2.9 compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> <li>redis cache plugin - remove Ansible 2.9 compatibility code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> <li>yarn - remove unsupported and unnecessary <code>--no-emoji</code> flag (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4662">https://github.com/ansible-collections/community.general/pull/4662</a>).</li> </ul> </section> <section id="id42"> <h4>community.mysql</h4> <ul class="simple"> <li>mysql_replication - remove <code>Is_Slave</code> and <code>Is_Master</code> return values (were replaced with <code>Is_Primary</code> and <code>Is_Replica</code> (<a class="reference external" href="https://github.com/ansible-collections">https://github.com/ansible-collections</a> /community.mysql/issues/145).</li> <li>mysql_replication - remove the mode options values containing <code>master</code>/<code>slave</code> and the master_use_gtid option <code>slave_pos</code> (were replaced with corresponding <code>primary</code>/<code>replica</code> values) (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/issues/145">https://github.com/ansible-collections/community.mysql/issues/145</a>).</li> <li>mysql_user - remove support for the <code>REQUIRESSL</code> special privilege as it has ben superseded by the <code>tls_requires</code> option (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/discussions/121">https://github.com/ansible-collections/community.mysql/discussions/121</a>).</li> <li>mysql_user - validate privileges using database engine directly (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/issues/234">https://github.com/ansible-collections/community.mysql/issues/234</a> <a class="reference external" href="https://github.com/ansible-collections/community.mysql/pull/243">https://github.com/ansible-collections/community.mysql/pull/243</a>). Do not validate privileges in this module anymore.</li> </ul> </section> <section id="community-vmware"> <h4>community.vmware</h4> <ul class="simple"> <li>The collection now requires at least ansible-core 2.11.0. Ansible 3 and before, and ansible-base versions are no longer supported.</li> <li>vmware_cluster_drs - The default for <code>enable</code> has been changed from <code>false</code> to <code>true</code>.</li> <li>vmware_cluster_drs - The parameter alias <code>enable_drs</code> has been removed, use <code>enable</code> instead.</li> <li>vmware_cluster_ha - The default for <code>enable</code> has been changed from <code>false</code> to <code>true</code>.</li> <li>vmware_cluster_ha - The parameter alias <code>enable_ha</code> has been removed, use <code>enable</code> instead.</li> <li>vmware_cluster_vsan - The default for <code>enable</code> has been changed from <code>false</code> to <code>true</code>.</li> <li>vmware_cluster_vsan - The parameter alias <code>enable_vsan</code> has been removed, use <code>enable</code> instead.</li> <li>vmware_guest - Virtualization Based Security has some requirements (<code>nested_virt</code>, <code>secure_boot</code> and <code>iommu</code>) that the module silently enabled. They have to be enabled explicitly now.</li> </ul> </section> <section id="id43"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>HTTPS SSL certificate validation is a <strong>breaking change</strong> and will require modification in the existing playbooks. Please refer to <a class="reference external" href="https://github.com/dell/dellemc-openmanage-ansible-modules#ssl-certificate-validation">SSL Certificate Validation</a> section in the <a class="reference external" href="https://github.com/dell/dellemc-openmanage-ansible-modules/blob/collections/README.md#SSL-Certificate-Validation">README.md</a> for modification to existing playbooks.</li> </ul> </section> <section id="theforeman-foreman"> <h4>theforeman.foreman</h4> <ul class="simple"> <li>Set use_reports_api default value to true for the inventory plugin</li> <li>Support for Ansible 2.8 is removed</li> </ul> </section> </section> <section id="id44"> <h3>Major Changes</h3> <ul class="simple"> <li>Add a <code>ansible-community</code> CLI tool that allows to print the version of the Ansible community distribution. Use <code>ansible-community --version</code> to print this version.</li> </ul> <section id="id45"> <h4>Ansible-core</h4> <ul class="simple"> <li>Jinja2 Controller Requirement - Jinja2 3.0.0 or newer is required for the control node (the machine that runs Ansible) (<a class="reference external" href="https://github.com/ansible/ansible/pull/75881">https://github.com/ansible/ansible/pull/75881</a>)</li> <li>Templating - remove <code>safe_eval</code> in favor of using <code>NativeEnvironment</code> but utilizing <code>literal_eval</code> only in cases when <code>safe_eval</code> was used (<a class="reference external" href="https://github.com/ansible/ansible/pull/75587">https://github.com/ansible/ansible/pull/75587</a>)</li> </ul> </section> <section id="id46"> <h4>amazon.aws</h4> <ul class="simple"> <li>amazon.aws collection - The amazon.aws collection has dropped support for <code>botocore&lt;1.19.0</code> and <code>boto3&lt;1.16.0</code>. Most modules will continue to work with older versions of the AWS SDK, however compatibility with older versions of the SDK is not guaranteed and will not be tested. When using older versions of the SDK a warning will be emitted by Ansible (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/574">https://github.com/ansible-collections/amazon.aws/pull/574</a>).</li> </ul> </section> <section id="id47"> <h4>ansible.netcommon</h4> <ul class="simple"> <li>cli_parse - this module has been moved to the ansible.utils collection. <code>ansible.netcommon.cli_parse</code> will continue to work to reference the module in its new location, but this redirect will be removed in a future release</li> <li>network_cli - Change default value of <code>ssh_type</code> option from <code>paramiko</code> to <code>auto</code>. This value will use libssh if the ansible-pylibssh module is installed, otherwise will fallback to paramiko.</li> </ul> </section> <section id="id48"> <h4>arista.eos</h4> <ul class="simple"> <li>Minimum required ansible.netcommon version is 2.5.1.</li> <li>Updated base plugin references to ansible.netcommon.</li> <li>
<code>eos_facts</code> - change default gather_subset to <code>min</code> from <code>!config</code> (<a class="reference external" href="https://github.com/ansible-collections/arista.eos/issues/306">https://github.com/ansible-collections/arista.eos/issues/306</a>).</li> </ul> </section> <section id="id49"> <h4>chocolatey.chocolatey</h4> <ul class="simple"> <li>win_chocolatey - Added choco_args option to pass additional arguments directly to Chocolatey.</li> </ul> </section> <section id="cisco-asa"> <h4>cisco.asa</h4> <ul class="simple"> <li>Minimum required ansible.netcommon version is 2.5.1.</li> <li>Updated base plugin references to ansible.netcommon.</li> </ul> </section> <section id="id50"> <h4>cisco.ios</h4> <ul class="simple"> <li>Minimum required ansible.netcommon version is 2.5.1.</li> <li>Updated base plugin references to ansible.netcommon.</li> <li>facts - default value for gather_subset is changed to min instead of !config.</li> </ul> </section> <section id="cisco-iosxr"> <h4>cisco.iosxr</h4> <ul class="simple"> <li>Minimum required ansible.netcommon version is 2.5.1.</li> <li>Updated base plugin references to ansible.netcommon.</li> <li>
<code>facts</code> - default value for <code>gather_subset</code> is changed to min instead of !config.</li> </ul> </section> <section id="cisco-ise"> <h4>cisco.ise</h4> <ul class="simple"> <li>Update ciscoisesdk requirement to 1.2.0</li> <li>anc_endpoint_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>anc_policy_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>backup_last_status_info - change return value, it returns response content.</li> <li>device_administration_authentication_rules - deletes parameter identitySourceId.</li> <li>device_administration_authentication_rules_info - change return value, it returns response content.</li> <li>device_administration_authorization_rules_info - change return value, it returns response content.</li> <li>device_administration_conditions - deletes parameter attributeId.</li> <li>device_administration_conditions_for_authentication_rule_info - change return value, it returns response content.</li> <li>device_administration_conditions_for_authorization_rule_info - change return value, it returns response content.</li> <li>device_administration_conditions_for_policy_set_info - change return value, it returns response content.</li> <li>device_administration_conditions_info - change return value, it returns response content.</li> <li>device_administration_dictionary_attributes_authentication_info - change return value, it returns response content.</li> <li>device_administration_dictionary_attributes_authorization_info - change return value, it returns response content.</li> <li>device_administration_dictionary_attributes_policy_set_info - change return value, it returns response content.</li> <li>device_administration_global_exception_rules_info - change return value, it returns response content.</li> <li>device_administration_network_conditions_info - change return value, it returns response content.</li> <li>device_administration_time_date_conditions - deletes parameter attributeId.</li> <li>device_administration_time_date_conditions_info - change return value, it returns response content.</li> <li>egress_matrix_cell_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>network_access_authentication_rules - deletes parameter identitySourceId.</li> <li>network_access_conditions - deletes parameter attributeId.</li> <li>network_access_time_date_conditions - deletes parameter attributeId.</li> <li>node_deployment - update parameters.</li> <li>node_deployment_info - add filter and filterType parameters.</li> <li>node_group - fixes response recollection.</li> <li>node_group_info - fixes response recollection.</li> <li>repository_files_info - change return value, it returns response content.</li> <li>repository_info - change return value, it returns response content.</li> <li>sg_acl_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>sg_mapping_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>sg_mapping_group_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>sg_mapping_group_info - change return value, it returns BulkStatus content.</li> <li>sg_to_vn_to_vlan_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>sgt - change generationId type from int to str.</li> <li>sgt_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>sxp_connections_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>sxp_local_bindings_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>sxp_vpns_bulk_monitor_status_info - change return value, it returns BulkStatus content.</li> <li>system_certificate - new parameters portalTagTransferForSameSubject and roleTransferForSameSubject.</li> <li>system_certificate - portalTagTransferForSameSubject parameter renamed to allowPortalTagTransferForSameSubject.</li> <li>system_certificate - roleTransferForSameSubject parameter renamed to allowRoleTransferForSameSubject.</li> <li>system_certificate_import - new parameters portalTagTransferForSameSubject and roleTransferForSameSubject.</li> <li>system_certificate_import - portalTagTransferForSameSubject parameter renamed to allowPortalTagTransferForSameSubject.</li> <li>system_certificate_import - roleTransferForSameSubject parameter renamed to allowRoleTransferForSameSubject.</li> <li>trustsec_nbar_app_info - change type from str to list.</li> <li>trustsec_vn_info - change type from str to list.</li> </ul> </section> <section id="id51"> <h4>cisco.meraki</h4> <ul class="simple"> <li>meraki_mr_radio - New module</li> </ul> </section> <section id="cisco-nxos"> <h4>cisco.nxos</h4> <ul class="simple"> <li>The minimum required ansible.netcommon version has been bumped to v2.6.1.</li> <li>Updated base plugin references to ansible.netcommon.</li> <li>
<code>nxos_facts</code> - change default gather_subset to <code>min</code> from <code>!config</code> (<a class="reference external" href="https://github.com/ansible-collections/cisco.nxos/issues/418">https://github.com/ansible-collections/cisco.nxos/issues/418</a>).</li> <li>nxos_file_copy has been rewritten as a module. This change also removes the dependency on pexpect for file_pull operation. Since this now uses AnsibleModule class for argspec validation, the validation messages will be slightly different. Expect changes in the return payload in some cases. All functionality remains unchanged.</li> </ul> </section> <section id="id52"> <h4>community.aws</h4> <ul class="simple"> <li>community.aws collection - The community.aws collection has dropped support for <code>botocore&lt;1.19.0</code> and <code>boto3&lt;1.16.0</code>. Most modules will continue to work with older versions of the AWS SDK, however compatibility with older versions of the SDK is not guaranteed and will not be tested. When using older versions of the SDK a warning will be emitted by Ansible (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/809">https://github.com/ansible-collections/community.aws/pull/809</a>).</li> <li>s3_bucket_notifications - refactor module to support SNS / SQS targets as well as the existing support for Lambda functions (<a class="reference external" href="https://github.com/ansible-collections/community.aws/issues/140">https://github.com/ansible-collections/community.aws/issues/140</a>).</li> </ul> </section> <section id="id53"> <h4>community.general</h4> <ul class="simple"> <li>The community.general collection no longer supports Ansible 2.9 and ansible-base 2.10. While we take no active measures to prevent usage, we will remove a lot of compatibility code and other compatility measures that will effectively prevent using most content from this collection with Ansible 2.9, and some content of this collection with ansible-base 2.10. Both Ansible 2.9 and ansible-base 2.10 will very soon be End of Life and if you are still using them, you should consider upgrading to ansible-core 2.11 or later as soon as possible (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4548">https://github.com/ansible-collections/community.general/pull/4548</a>).</li> </ul> </section> <section id="id54"> <h4>community.mysql</h4> <ul class="simple"> <li>The community.mysql collection no longer supports <code>Ansible 2.9</code> and <code>ansible-base 2.10</code>. While we take no active measures to prevent usage and there are no plans to introduce incompatible code to the modules, we will stop testing against <code>Ansible 2.9</code> and <code>ansible-base 2.10</code>. Both will very soon be End of Life and if you are still using them, you should consider upgrading to the <code>latest Ansible / ansible-core 2.11 or later</code> as soon as possible (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/pull/343">https://github.com/ansible-collections/community.mysql/pull/343</a>).</li> </ul> </section> <section id="community-network"> <h4>community.network</h4> <ul class="simple"> <li>The community.network collection no longer supports Ansible 2.9 and ansible-base 2.10. While we take no active measures to prevent usage, we will remove compatibility code and other compatility measures that will effectively prevent using most content from this collection with Ansible 2.9, and some content of this collection with ansible-base 2.10. Both Ansible 2.9 and ansible-base 2.10 will very soon be End of Life and if you are still using them, you should consider upgrading to ansible-core 2.11 or later as soon as possible (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/426">https://github.com/ansible-collections/community.network/pull/426</a>).</li> </ul> </section> <section id="id55"> <h4>community.postgresql</h4> <ul class="simple"> <li>The community.postgresql collection no longer supports <code>Ansible 2.9</code> and <code>ansible-base 2.10</code>. While we take no active measures to prevent usage and there are no plans to introduce incompatible code to the modules, we will stop testing against <code>Ansible 2.9</code> and <code>ansible-base 2.10</code>. Both will very soon be End of Life and if you are still using them, you should consider upgrading to the <code>latest Ansible / ansible-core 2.11 or later</code> as soon as possible (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/pull/245">https://github.com/ansible-collections/community.postgresql/pull/245</a>).</li> <li>postgresql_privs - the <code>usage_on_types</code> feature have been deprecated and will be removed in <code>community.postgresql 3.0.0</code>. Please use the <code>type</code> option with the <code>type</code> value to explicitly grant/revoke privileges on types (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/issues/207">https://github.com/ansible-collections/community.postgresql/issues/207</a>).</li> <li>postgresql_query - the <code>path_to_script</code> and <code>as_single_query</code> options as well as the <code>query_list</code> and <code>query_all_results</code> return values have been deprecated and will be removed in <code>community.postgresql 3.0.0</code>. Please use the <code>community.postgresql.postgresql_script</code> module to execute statements from scripts (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/issues/189">https://github.com/ansible-collections/community.postgresql/issues/189</a>).</li> <li>postgresql_query - the default value of the <code>as_single_query</code> option changes to <code>yes</code>. If the related behavior of your tasks where the module is involved changes, please adjust the parameter’s value correspondingly (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/issues/85">https://github.com/ansible-collections/community.postgresql/issues/85</a>).</li> <li>postgresql_user - the <code>priv</code> argument has been deprecated and will be removed in <code>community.postgresql 3.0.0</code>. Please use the <code>postgresql_privs</code> module to grant/revoke privileges instead (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/issues/212">https://github.com/ansible-collections/community.postgresql/issues/212</a>).</li> </ul> </section> <section id="id56"> <h4>community.vmware</h4> <ul class="simple"> <li>Drop VCSIM as a test target (<a class="reference external" href="https://github.com/ansible-collections/community.vmware/pull/1294">https://github.com/ansible-collections/community.vmware/pull/1294</a>).</li> </ul> </section> <section id="id57"> <h4>containers.podman</h4> <ul class="simple"> <li>Add podman_tag module</li> <li>Add secrets driver and driver opts support</li> </ul> </section> <section id="id58"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>All modules can read custom or organizational CA signed certificate from the environment variables. Please refer to <a class="reference external" href="https://github.com/dell/dellemc-openmanage-ansible-modules#ssl-certificate-validation">SSL Certificate Validation</a> section in the <a class="reference external" href="https://github.com/dell/dellemc-openmanage-ansible-modules/blob/collections/README.md#SSL-Certificate-Validation">README.md</a> for modification to existing playbooks or setting environment variable.</li> <li>All modules now support SSL over HTTPS and socket level timeout.</li> <li>idrac_server_config_profile - The module is enhanced to support export, import, and preview the SCP configuration using Redfish and added support for check mode.</li> </ul> </section> <section id="f5networks-f5-modules"> <h4>f5networks.f5_modules</h4> <ul class="simple"> <li>bigip_device_info - pagination logic has also been added to help with api stability.</li> <li>bigip_device_info - the module no longer gathers information from all partitions on device. This change will stabalize the module by gathering resources only from the given partition and prevent the module from gathering way too much information that might result in crashing.</li> </ul> </section> <section id="id61"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Support FortiOS 7.0.2, 7.0.3, 7.0.4, 7.0.5.</li> </ul> </section> <section id="frr-frr"> <h4>frr.frr</h4> <ul class="simple"> <li>Minimum required ansible.netcommon version is 2.5.1.</li> <li>Updated base plugin references to ansible.netcommon.</li> </ul> </section> <section id="ibm-qradar"> <h4>ibm.qradar</h4> <ul class="simple"> <li>Minimum required ansible.netcommon version is 2.5.1.</li> <li>Updated base plugin references to ansible.netcommon.</li> </ul> </section> <section id="junipernetworks-junos"> <h4>junipernetworks.junos</h4> <ul class="simple"> <li>Minimum required ansible.netcommon version is 2.5.1.</li> <li>Updated base plugin references to ansible.netcommon.</li> <li>
<code>junos_facts</code> - change default gather_subset to <code>min</code> from <code>!config</code>.</li> </ul> </section> <section id="ovirt-ovirt"> <h4>ovirt.ovirt</h4> <ul class="simple"> <li>manageiq - role removed (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/375">https://github.com/oVirt/ovirt-ansible-collection/pull/375</a>).</li> </ul> </section> <section id="splunk-es"> <h4>splunk.es</h4> <ul class="simple"> <li>Minimum required ansible.netcommon version is 2.5.1.</li> <li>Updated base plugin references to ansible.netcommon.</li> </ul> </section> <section id="vyos-vyos"> <h4>vyos.vyos</h4> <ul class="simple"> <li>Add ‘pool’ as value to server key in ntp_global.</li> <li>Minimum required ansible.netcommon version is 2.5.1.</li> <li>Updated base plugin references to ansible.netcommon.</li> <li>
<code>vyos_facts</code> - change default gather_subset to <code>min</code> from <code>!config</code> (<a class="reference external" href="https://github.com/ansible-collections/vyos.vyos/issues/231">https://github.com/ansible-collections/vyos.vyos/issues/231</a>).</li> </ul> </section> </section> <section id="removed-collections"> <h3>Removed Collections</h3> <ul class="simple"> <li>community.kubernetes (previously included version: 2.0.1)</li> <li>community.kubevirt (previously included version: 1.0.0)</li> </ul> </section> <section id="removed-features"> <h3>Removed Features</h3> <ul class="simple"> <li>The community.kubernetes collection has been removed from Ansible 6. It has been deprecated since Ansible 4.2, and version 2.0.0 included since Ansible 5 is only a set of deprecated redirects from community.kubernetes to kubernetes.core. If you still need the redirects, you can manually install community.kubernetes with <code>ansible-galaxy collection install community.kubernetes</code> (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/93">https://github.com/ansible-community/community-topics/issues/93</a>).</li> <li>The community.kubevirt collection has been removed from Ansible 6. It has not been working with the community.kubernetes collection included since Ansible 5.0.0, and unfortunately nobody managed to adjust the collection to work with kubernetes.core &gt;= 2.0.0. If you need to use this collection, you need to manually install community.kubernetes &lt; 2.0.0 together with community.kubevirt with <code>ansible-galaxy collection install community.kubevirt 'community.kubernetes:&lt;2.0.0'</code> (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/92">https://github.com/ansible-community/community-topics/issues/92</a>).</li> </ul> <section id="id62"> <h4>Ansible-core</h4> <ul class="simple"> <li>Remove deprecated <code>Templar.set_available_variables()</code> method (<a class="reference external" href="https://github.com/ansible/ansible/issues/75828">https://github.com/ansible/ansible/issues/75828</a>)</li> <li>cli - remove deprecated ability to set verbosity before the sub-command (<a class="reference external" href="https://github.com/ansible/ansible/issues/75823">https://github.com/ansible/ansible/issues/75823</a>)</li> <li>copy - remove deprecated <code>thirsty</code> alias (<a class="reference external" href="https://github.com/ansible/ansible/issues/75824">https://github.com/ansible/ansible/issues/75824</a>)</li> <li>psrp - Removed fallback on <code>put_file</code> with older <code>pypsrp</code> versions. Users must have at least <code>pypsrp&gt;=0.4.0</code>.</li> <li>url_argument_spec - remove deprecated <code>thirsty</code> alias for <code>get_url</code> and <code>uri</code> modules (<a class="reference external" href="https://github.com/ansible/ansible/issues/75825">https://github.com/ansible/ansible/issues/75825</a>, <a class="reference external" href="https://github.com/ansible/ansible/issues/75826">https://github.com/ansible/ansible/issues/75826</a>)</li> </ul> </section> <section id="id63"> <h4>community.general</h4> <ul class="simple"> <li>ali_instance_info - removed the options <code>availability_zone</code>, <code>instance_ids</code>, and <code>instance_names</code>. Use filter item <code>zone_id</code> instead of <code>availability_zone</code>, filter item <code>instance_ids</code> instead of <code>instance_ids</code>, and filter item <code>instance_name</code> instead of <code>instance_names</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>apt_rpm - removed the deprecated alias <code>update-cache</code> of <code>update_cache</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>compose - removed various deprecated aliases. Use the version with <code>_</code> instead of <code>-</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>dnsimple - remove support for dnsimple &lt; 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>github_deploy_key - removed the deprecated alias <code>2fa_token</code> of <code>otp</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>homebrew, homebrew_cask - removed the deprecated alias <code>update-brew</code> of <code>update_brew</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>linode - removed the <code>backupsenabled</code> option. Use <code>backupweeklyday</code> or <code>backupwindow</code> to enable backups (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>opkg - removed the deprecated alias <code>update-cache</code> of <code>update_cache</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>pacman - if <code>update_cache=true</code> is used with <code>name</code> or <code>upgrade</code>, the changed state will now also indicate if only the cache was updated. To keep the old behavior - only indicate <code>changed</code> when a package was installed/upgraded -, use <code>changed_when</code> as indicated in the module examples (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>pacman - removed the deprecated alias <code>update-cache</code> of <code>update_cache</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>proxmox, proxmox_kvm, proxmox_snap - no longer allow to specify a VM name that matches multiple VMs. If this happens, the modules now fail (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>serverless - removed the <code>functions</code> option. It was not used by the module (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>slackpkg - removed the deprecated alias <code>update-cache</code> of <code>update_cache</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>urpmi - removed the deprecated alias <code>no-recommends</code> of <code>no_recommends</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>urpmi - removed the deprecated alias <code>update-cache</code> of <code>update_cache</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>xbps - removed the deprecated alias <code>update-cache</code> of <code>update_cache</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> <li>xfconf - the <code>get</code> state has been removed. Use the <code>xfconf_info</code> module instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4516">https://github.com/ansible-collections/community.general/pull/4516</a>).</li> </ul> </section> <section id="id64"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>aws_iam auth - the deprecated alias <code>aws_iam_login</code> for the <code>aws_iam</code> value of the <code>auth_method</code> option has been removed (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/194">https://github.com/ansible-collections/community.hashi_vault/issues/194</a>).</li> <li>community.hashi_vault collection - support for Ansible 2.9 and ansible-base 2.10 has been removed (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/189">https://github.com/ansible-collections/community.hashi_vault/issues/189</a>).</li> <li>hashi_vault lookup - the deprecated <code>[lookup_hashi_vault]</code> INI config section has been removed in favor of the collection-wide <code>[hashi_vault_collection]</code> section (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/179">https://github.com/ansible-collections/community.hashi_vault/issues/179</a>).</li> <li>the “legacy” integration test setup has been removed; this does not affect end users and is only relevant to contributors (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/pull/191">https://github.com/ansible-collections/community.hashi_vault/pull/191</a>).</li> </ul> </section> <section id="id65"> <h4>community.network</h4> <ul class="simple"> <li>aireos modules - removed deprecated <code>connection: local</code> support. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>aireos modules - removed deprecated <code>provider</code> option. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>aruba modules - removed deprecated <code>connection: local</code> support. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>aruba modules - removed deprecated <code>provider</code> option. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>ce modules - removed deprecated <code>connection: local</code> support. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>ce modules - removed deprecated <code>provider</code> option. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>enos modules - removed deprecated <code>connection: local</code> support. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>enos modules - removed deprecated <code>provider</code> option. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>ironware modules - removed deprecated <code>connection: local</code> support. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>ironware modules - removed deprecated <code>provider</code> option. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>sros modules - removed deprecated <code>connection: local</code> support. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> <li>sros modules - removed deprecated <code>provider</code> option. Use <code>connection: network_cli</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/440">https://github.com/ansible-collections/community.network/pull/440</a>).</li> </ul> </section> <section id="id66"> <h4>community.vmware</h4> <ul class="simple"> <li>vcenter_extension_facts - The deprecated module <code>vcenter_extension_facts</code> has been removed, use <code>vcenter_extension_info</code> instead.</li> <li>vmware_about_facts - The deprecated module <code>vmware_about_facts</code> has been removed, use <code>vmware_about_info</code> instead.</li> <li>vmware_category_facts - The deprecated module <code>vmware_category_facts</code> has been removed, use <code>vmware_category_info</code> instead.</li> <li>vmware_cluster - Remove DRS configuration in favour of module <code>vmware_cluster_drs</code>.</li> <li>vmware_cluster - Remove HA configuration in favour of module <code>vmware_cluster_ha</code>.</li> <li>vmware_cluster - Remove VSAN configuration in favour of module <code>vmware_cluster_vsan</code>.</li> <li>vmware_cluster_facts - The deprecated module <code>vmware_cluster_facts</code> has been removed, use <code>vmware_cluster_info</code> instead.</li> <li>vmware_datastore_facts - The deprecated module <code>vmware_datastore_facts</code> has been removed, use <code>vmware_datastore_info</code> instead.</li> <li>vmware_drs_group_facts - The deprecated module <code>vmware_drs_group_facts</code> has been removed, use <code>vmware_drs_group_info</code> instead.</li> <li>vmware_drs_rule_facts - The deprecated module <code>vmware_drs_rule_facts</code> has been removed, use <code>vmware_drs_rule_info</code> instead.</li> <li>vmware_dvs_portgroup - The deprecated parameter <code>portgroup_type</code> has been removed, use <code>port_binding</code> instead.</li> <li>vmware_dvs_portgroup_facts - The deprecated module <code>vmware_dvs_portgroup_facts</code> has been removed, use <code>vmware_dvs_portgroup_info</code> instead.</li> <li>vmware_guest_boot_facts - The deprecated module <code>vmware_guest_boot_facts</code> has been removed, use <code>vmware_guest_boot_info</code> instead.</li> <li>vmware_guest_customization_facts - The deprecated module <code>vmware_guest_customization_facts</code> has been removed, use <code>vmware_guest_customization_info</code> instead.</li> <li>vmware_guest_disk_facts - The deprecated module <code>vmware_guest_disk_facts</code> has been removed, use <code>vmware_guest_disk_info</code> instead.</li> <li>vmware_guest_facts - The deprecated module <code>vmware_guest_facts</code> has been removed, use <code>vmware_guest_info</code> instead.</li> <li>vmware_guest_snapshot_facts - The deprecated module <code>vmware_guest_snapshot_facts</code> has been removed, use <code>vmware_guest_snapshot_info</code> instead.</li> <li>vmware_host_capability_facts - The deprecated module <code>vmware_host_capability_facts</code> has been removed, use <code>vmware_host_capability_info</code> instead.</li> <li>vmware_host_config_facts - The deprecated module <code>vmware_host_config_facts</code> has been removed, use <code>vmware_host_config_info</code> instead.</li> <li>vmware_host_dns_facts - The deprecated module <code>vmware_host_dns_facts</code> has been removed, use <code>vmware_host_dns_info</code> instead.</li> <li>vmware_host_feature_facts - The deprecated module <code>vmware_host_feature_facts</code> has been removed, use <code>vmware_host_feature_info</code> instead.</li> <li>vmware_host_firewall_facts - The deprecated module <code>vmware_host_firewall_facts</code> has been removed, use <code>vmware_host_firewall_info</code> instead.</li> <li>vmware_host_ntp_facts - The deprecated module <code>vmware_host_ntp_facts</code> has been removed, use <code>vmware_host_ntp_info</code> instead.</li> <li>vmware_host_package_facts - The deprecated module <code>vmware_host_package_facts</code> has been removed, use <code>vmware_host_package_info</code> instead.</li> <li>vmware_host_service_facts - The deprecated module <code>vmware_host_service_facts</code> has been removed, use <code>vmware_host_service_info</code> instead.</li> <li>vmware_host_ssl_facts - The deprecated module <code>vmware_host_ssl_facts</code> has been removed, use <code>vmware_host_ssl_info</code> instead.</li> <li>vmware_host_vmhba_facts - The deprecated module <code>vmware_host_vmhba_facts</code> has been removed, use <code>vmware_host_vmhba_info</code> instead.</li> <li>vmware_host_vmnic_facts - The deprecated module <code>vmware_host_vmnic_facts</code> has been removed, use <code>vmware_host_vmnic_info</code> instead.</li> <li>vmware_local_role_facts - The deprecated module <code>vmware_local_role_facts</code> has been removed, use <code>vmware_local_role_info</code> instead.</li> <li>vmware_local_user_facts - The deprecated module <code>vmware_local_user_facts</code> has been removed, use <code>vmware_local_user_info</code> instead.</li> <li>vmware_portgroup_facts - The deprecated module <code>vmware_portgroup_facts</code> has been removed, use <code>vmware_portgroup_info</code> instead.</li> <li>vmware_resource_pool_facts - The deprecated module <code>vmware_resource_pool_facts</code> has been removed, use <code>vmware_resource_pool_info</code> instead.</li> <li>vmware_tag_facts - The deprecated module <code>vmware_tag_facts</code> has been removed, use <code>vmware_tag_info</code> instead.</li> <li>vmware_target_canonical_facts - The deprecated module <code>vmware_target_canonical_facts</code> has been removed, use <code>vmware_target_canonical_info</code> instead.</li> <li>vmware_vm_facts - The deprecated module <code>vmware_vm_facts</code> has been removed, use <code>vmware_vm_info</code> instead.</li> <li>vmware_vmkernel_facts - The deprecated module <code>vmware_vmkernel_facts</code> has been removed, use <code>vmware_vmkernel_info</code> instead.</li> <li>vmware_vmkernel_ip_config - The deprecated module <code>vmware_vmkernel_ip_config</code> has been removed, use <code>vmware_vmkernel</code> instead.</li> <li>vmware_vswitch_facts - The deprecated module <code>vmware_vswitch_facts</code> has been removed, use <code>vmware_vswitch_info</code> instead.</li> </ul> </section> </section> <section id="id67"> <h3>Deprecated Features</h3> <ul class="simple"> <li>The collection <code>community.sap</code> has been renamed to <code>community.sap_libs</code>. For now both collections are included in Ansible. The content in <code>community.sap</code> will be replaced with deprecated redirects to the new collection in Ansible 7.0.0, and these redirects will eventually be removed from Ansible. Please update your FQCNs for <code>community.sap</code>.</li> </ul> <section id="id68"> <h4>Ansible-core</h4> <ul class="simple"> <li>ansible-core - Remove support for Python 2.6.</li> <li>ansible-test - Remove support for Python 2.6.</li> <li>ssh connection plugin option scp_if_ssh in favor of ssh_transfer_method.</li> </ul> </section> <section id="id69"> <h4>amazon.aws</h4> <ul class="simple"> <li>ec2_instance - The default value for <code>`instance_type`</code> has been deprecated, in the future release you must set an instance_type or a launch_template (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/587">https://github.com/ansible-collections/amazon.aws/pull/587</a>).</li> <li>module_utils - support for the original AWS SDK <code>boto</code> has been deprecated in favour of the <code>boto3</code>/<code>botocore</code> SDK. All <code>boto</code> based modules have either been deprecated or migrated to <code>botocore</code>, and the remaining support code in module_utils will be removed in release 4.0.0 of the amazon.aws collection. Any modules outside of the amazon.aws and community.aws collections based on the <code>boto</code> library will need to be migrated to the <code>boto3</code>/<code>botocore</code> libraries (<a class="reference external" href="https://github.com/ansible-collections/amazon.aws/pull/575">https://github.com/ansible-collections/amazon.aws/pull/575</a>).</li> </ul> </section> <section id="id70"> <h4>cisco.ios</h4> <ul class="simple"> <li>Deprecates lldp module.</li> <li>ios_acls - Deprecated fragment attribute added boolean alternate as enable_fragment.</li> </ul> </section> <section id="id71"> <h4>cisco.nxos</h4> <ul class="simple"> <li>Deprecated nxos_snmp_community module.</li> <li>Deprecated nxos_snmp_contact module.</li> <li>Deprecated nxos_snmp_host module.</li> <li>Deprecated nxos_snmp_location module.</li> <li>Deprecated nxos_snmp_traps module.</li> <li>Deprecated nxos_snmp_user module.</li> </ul> </section> <section id="id72"> <h4>community.docker</h4> <ul class="simple"> <li>Support for Ansible 2.9 and ansible-base 2.10 is deprecated, and will be removed in the next major release (community.docker 3.0.0). Some modules might still work with these versions afterwards, but we will no longer keep compatibility code that was needed to support them (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/361">https://github.com/ansible-collections/community.docker/pull/361</a>).</li> <li>The dependency on docker-compose for Execution Environments is deprecated and will be removed in community.docker 3.0.0. The <a class="reference external" href="https://pypi.org/project/docker-compose/">Python docker-compose library</a> is unmaintained and can cause dependency issues. You can manually still install it in an Execution Environment when needed (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/373">https://github.com/ansible-collections/community.docker/pull/373</a>).</li> <li>Various modules - the default of <code>tls_hostname</code> that was supposed to be removed in community.docker 2.0.0 will now be removed in version 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/362">https://github.com/ansible-collections/community.docker/pull/362</a>).</li> <li>docker_stack - the return values <code>out</code> and <code>err</code> that were supposed to be removed in community.docker 2.0.0 will now be removed in version 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/362">https://github.com/ansible-collections/community.docker/pull/362</a>).</li> </ul> </section> <section id="id73"> <h4>community.general</h4> <ul class="simple"> <li>ansible_galaxy_install - deprecated support for <code>ansible</code> 2.9 and <code>ansible-base</code> 2.10 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4601">https://github.com/ansible-collections/community.general/pull/4601</a>).</li> <li>dig lookup plugin - the <code>DLV</code> record type has been decommissioned in 2017 and support for it will be removed from community.general 6.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4618">https://github.com/ansible-collections/community.general/pull/4618</a>).</li> <li>gem - the default of the <code>norc</code> option has been deprecated and will change to <code>true</code> in community.general 6.0.0. Explicitly specify a value to avoid a deprecation warning (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4517">https://github.com/ansible-collections/community.general/pull/4517</a>).</li> <li>mail callback plugin - not specifying <code>sender</code> is deprecated and will be disallowed in community.general 6.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4140">https://github.com/ansible-collections/community.general/pull/4140</a>).</li> <li>module_helper module utils - deprecated the attribute <code>ModuleHelper.VarDict</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/3801">https://github.com/ansible-collections/community.general/pull/3801</a>).</li> <li>nmcli - deprecate default hairpin mode for a bridge. This so we can change it to <code>false</code> in community.general 7.0.0, as this is also the default in <code>nmcli</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4334">https://github.com/ansible-collections/community.general/pull/4334</a>).</li> <li>pacman - from community.general 5.0.0 on, the <code>changed</code> status of <code>update_cache</code> will no longer be ignored if <code>name</code> or <code>upgrade</code> is specified. To keep the old behavior, add something like <code>register: result</code> and <code>changed_when: result.packages | length &gt; 0</code> to your task (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4329">https://github.com/ansible-collections/community.general/pull/4329</a>).</li> <li>proxmox inventory plugin - the current default <code>true</code> of the <code>want_proxmox_nodes_ansible_host</code> option has been deprecated. The default will change to <code>false</code> in community.general 6.0.0. To keep the current behavior, explicitly set <code>want_proxmox_nodes_ansible_host</code> to <code>true</code> in your inventory configuration. We suggest to already switch to the new behavior by explicitly setting it to <code>false</code>, and by using <code>compose:</code> to set <code>ansible_host</code> to the correct value. See the examples in the plugin documentation for details (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4466">https://github.com/ansible-collections/community.general/pull/4466</a>).</li> <li>vmadm - deprecated module parameter <code>debug</code> that was not used anywhere (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/4580">https://github.com/ansible-collections/community.general/pull/4580</a>).</li> </ul> </section> <section id="id74"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>Support for Ansible 2.9 and ansible-base 2.10 is deprecated, and will be removed in the next major release (community.hashi_vault 3.0.0) next spring (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/50">https://github.com/ansible-community/community-topics/issues/50</a>, <a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/189">https://github.com/ansible-collections/community.hashi_vault/issues/189</a>).</li> <li>aws_iam_login auth method - the <code>aws_iam_login</code> method has been renamed to <code>aws_iam</code>. The old name will be removed in collection version <code>3.0.0</code>. Until then both names will work, and a warning will be displayed when using the old name (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/pull/193">https://github.com/ansible-collections/community.hashi_vault/pull/193</a>).</li> <li>token_validate options - the shared auth option <code>token_validate</code> will change its default from <code>True</code> to <code>False</code> in community.hashi_vault version 4.0.0. The <code>vault_login</code> lookup and module will keep the default value of <code>True</code> (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/248">https://github.com/ansible-collections/community.hashi_vault/issues/248</a>).</li> <li>token_validate options - the shared auth option <code>token_validate</code> will change its default from <code>true</code> to <code>false</code> in community.hashi_vault version 4.0.0. The <code>vault_login</code> lookup and module will keep the default value of <code>true</code> (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/248">https://github.com/ansible-collections/community.hashi_vault/issues/248</a>).</li> </ul> </section> <section id="id75"> <h4>community.network</h4> <ul class="simple"> <li>Support for Ansible 2.9 and ansible-base 2.10 is deprecated, and will be removed in the next major release (community.network 4.0.0) this spring. While most content will probably still work with ansible-base 2.10, we will remove symbolic links for modules and action plugins, which will make it impossible to use them with Ansible 2.9 anymore. Please use community.network 3.x.y with Ansible 2.9 and ansible-base 2.10, as these releases will continue to support Ansible 2.9 and ansible-base 2.10 even after they are End of Life (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/50">https://github.com/ansible-community/community-topics/issues/50</a>, <a class="reference external" href="https://github.com/ansible-collections/community.network/pull/382">https://github.com/ansible-collections/community.network/pull/382</a>).</li> </ul> </section> <section id="id76"> <h4>junipernetworks.junos</h4> <ul class="simple"> <li>‘router_id’ options is deprecated from junos_ospf_interfaces, junos_ospfv2 and junos_ospfv3 resource module.</li> </ul> </section> <section id="id77"> <h4>purestorage.flasharray</h4> <ul class="simple"> <li>purefa_sso - Deprecated in favor of M(purefa_admin). Will be removed in Collection 2.0</li> </ul> </section> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_6.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_6.html</a>
  </p>
</div>
