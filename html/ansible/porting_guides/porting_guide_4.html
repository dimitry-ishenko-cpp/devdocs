<section id="ansible-4-porting-guide"> <h1 id="porting-4-guide">Ansible 4 Porting Guide</h1>  <ul class="simple"> <li><a class="reference internal" href="#playbook" id="id79">Playbook</a></li> <li><a class="reference internal" href="#command-line" id="id80">Command Line</a></li> <li><a class="reference internal" href="#deprecated" id="id81">Deprecated</a></li> <li>
<p><a class="reference internal" href="#breaking-changes" id="id82">Breaking Changes</a></p> <ul> <li><a class="reference internal" href="#changes-to-ansiblemodule" id="id83">Changes to <code>AnsibleModule</code></a></li> <li>
<a class="reference internal" href="#changes-to-ansible-module-utils-common-parameters" id="id84">Changes to </a><a class="reference internal" href="../reference_appendices/module_utils.html#module-ansible.module_utils.common.parameters" title="ansible.module_utils.common.parameters"><code>ansible.module_utils.common.parameters</code></a>
</li> </ul> </li> <li><a class="reference internal" href="#other" id="id85">Other</a></li> <li>
<p><a class="reference internal" href="#modules" id="id86">Modules</a></p> <ul> <li><a class="reference internal" href="#modules-removed" id="id87">Modules removed</a></li> <li><a class="reference internal" href="#deprecation-notices" id="id88">Deprecation notices</a></li> <li><a class="reference internal" href="#noteworthy-module-changes" id="id89">Noteworthy module changes</a></li> </ul> </li> <li><a class="reference internal" href="#plugins" id="id90">Plugins</a></li> <li><a class="reference internal" href="#porting-custom-scripts" id="id91">Porting custom scripts</a></li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-10-0" id="id92">Porting Guide for v4.10.0</a></p> <ul> <li><a class="reference internal" href="#major-changes" id="id93">Major Changes</a></li> <li><a class="reference internal" href="#deprecated-features" id="id94">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-9-0" id="id95">Porting Guide for v4.9.0</a></p> <ul> <li><a class="reference internal" href="#known-issues" id="id96">Known Issues</a></li> <li><a class="reference internal" href="#id1" id="id97">Major Changes</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-8-0" id="id98">Porting Guide for v4.8.0</a></p> <ul> <li><a class="reference internal" href="#id2" id="id99">Breaking Changes</a></li> <li><a class="reference internal" href="#id3" id="id100">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-7-0" id="id101">Porting Guide for v4.7.0</a></p> <ul> <li><a class="reference internal" href="#id4" id="id102">Major Changes</a></li> <li><a class="reference internal" href="#id5" id="id103">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-6-0" id="id104">Porting Guide for v4.6.0</a></p> <ul> <li><a class="reference internal" href="#id8" id="id105">Major Changes</a></li> <li><a class="reference internal" href="#id10" id="id106">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-5-0" id="id107">Porting Guide for v4.5.0</a></p> <ul> <li><a class="reference internal" href="#id11" id="id108">Major Changes</a></li> <li><a class="reference internal" href="#id12" id="id109">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-4-0" id="id110">Porting Guide for v4.4.0</a></p> <ul> <li><a class="reference internal" href="#id15" id="id111">Known Issues</a></li> <li><a class="reference internal" href="#id16" id="id112">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-3-0" id="id113">Porting Guide for v4.3.0</a></p> <ul> <li><a class="reference internal" href="#id19" id="id114">Major Changes</a></li> <li><a class="reference internal" href="#id20" id="id115">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-2-0" id="id116">Porting Guide for v4.2.0</a></p> <ul> <li><a class="reference internal" href="#id22" id="id117">Known Issues</a></li> <li><a class="reference internal" href="#id24" id="id118">Major Changes</a></li> <li><a class="reference internal" href="#id28" id="id119">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-1-0" id="id120">Porting Guide for v4.1.0</a></p> <ul> <li><a class="reference internal" href="#id30" id="id121">Known Issues</a></li> <li><a class="reference internal" href="#id32" id="id122">Major Changes</a></li> <li><a class="reference internal" href="#removed-features" id="id123">Removed Features</a></li> <li><a class="reference internal" href="#id36" id="id124">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v4-0-0" id="id125">Porting Guide for v4.0.0</a></p> <ul> <li><a class="reference internal" href="#id40" id="id126">Known Issues</a></li> <li><a class="reference internal" href="#id43" id="id127">Breaking Changes</a></li> <li><a class="reference internal" href="#id49" id="id128">Major Changes</a></li> <li><a class="reference internal" href="#id66" id="id129">Removed Features</a></li> <li><a class="reference internal" href="#id71" id="id130">Deprecated Features</a></li> </ul> </li> </ul>  <p>We suggest you read this page along with the <a class="reference external" href="https://github.com/ansible-community/ansible-build-data/blob/main/4/CHANGELOG-v4.rst">Ansible 4 Changelog</a> to understand what updates you may need to make.</p> <section id="playbook"> <h2>Playbook</h2> <ul class="simple"> <li>The <code>jinja2_native</code> setting now does not affect the template module which implicitly returns strings. For the template lookup there is a new argument <code>jinja2_native</code> (off by default) to control that functionality. The rest of the Jinja2 expressions still operate based on the <code>jinja2_native</code> setting.</li> </ul> </section> <section id="command-line"> <h2>Command Line</h2> <ul class="simple"> <li>The <code>ansible-galaxy login</code> command has been removed, as the underlying API it used for GitHub auth has been shut down. Publishing roles or collections to Galaxy with <code>ansible-galaxy</code> now requires that a Galaxy API token be passed to the CLI using a token file (default location <code>~/.ansible/galaxy_token</code>) or (insecurely) with the <code>--token</code> argument to <code>ansible-galaxy</code>.</li> </ul> </section> <section id="deprecated"> <h2>Deprecated</h2> <p>The constant <code>ansible.module_utils.basic._CHECK_ARGUMENT_TYPES_DISPATCHER</code> is deprecated. Use <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.parameters.DEFAULT_TYPE_VALIDATORS" title="ansible.module_utils.common.parameters.DEFAULT_TYPE_VALIDATORS"><code>ansible.module_utils.common.parameters.DEFAULT_TYPE_VALIDATORS</code></a> instead.</p> </section> <section id="breaking-changes"> <h2>Breaking Changes</h2> <section id="changes-to-ansiblemodule"> <h3>Changes to <code>AnsibleModule</code>
</h3> <p>With the move to <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.arg_spec.ArgumentSpecValidator" title="ansible.module_utils.common.arg_spec.ArgumentSpecValidator"><code>ArgumentSpecValidator</code></a> for performing argument spec validation, the following private methods in <a class="reference external" href="https://docs.ansible.com/ansible/2.9/reference_appendices/module_utils.html#ansible.module_utils.basic.AnsibleModule" title="(in Ansible v2.9)"><code>AnsibleModule</code></a> have been removed:</p>  <ul class="simple"> <li><code>_check_argument_types()</code></li> <li><code>_check_argument_values()</code></li> <li><code>_check_arguments()</code></li> <li>
<code>_check_mutually_exclusive()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_mutually_exclusive" title="ansible.module_utils.common.validation.check_mutually_exclusive"><code>ansible.module_utils.common.validation.check_mutually_exclusive()</code></a>
</li> <li>
<code>_check_required_arguments()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_required_arguments" title="ansible.module_utils.common.validation.check_required_arguments"><code>ansible.module_utils.common.validation.check_required_arguments()</code></a>
</li> <li>
<code>_check_required_by()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_required_by" title="ansible.module_utils.common.validation.check_required_by"><code>ansible.module_utils.common.validation.check_required_by()</code></a>
</li> <li>
<code>_check_required_if()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_required_if" title="ansible.module_utils.common.validation.check_required_if"><code>ansible.module_utils.common.validation.check_required_if()</code></a>
</li> <li>
<code>_check_required_one_of()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_required_one_of" title="ansible.module_utils.common.validation.check_required_one_of"><code>ansible.module_utils.common.validation.check_required_one_of()</code></a>
</li> <li>
<code>_check_required_together()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_required_together" title="ansible.module_utils.common.validation.check_required_together"><code>ansible.module_utils.common.validation.check_required_together()</code></a>
</li> <li>
<code>_check_type_bits()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_bits" title="ansible.module_utils.common.validation.check_type_bits"><code>ansible.module_utils.common.validation.check_type_bits()</code></a>
</li> <li>
<code>_check_type_bool()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_bool" title="ansible.module_utils.common.validation.check_type_bool"><code>ansible.module_utils.common.validation.check_type_bool()</code></a>
</li> <li>
<code>_check_type_bytes()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_bytes" title="ansible.module_utils.common.validation.check_type_bytes"><code>ansible.module_utils.common.validation.check_type_bytes()</code></a>
</li> <li>
<code>_check_type_dict()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_dict" title="ansible.module_utils.common.validation.check_type_dict"><code>ansible.module_utils.common.validation.check_type_dict()</code></a>
</li> <li>
<code>_check_type_float()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_float" title="ansible.module_utils.common.validation.check_type_float"><code>ansible.module_utils.common.validation.check_type_float()</code></a>
</li> <li>
<code>_check_type_int()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_int" title="ansible.module_utils.common.validation.check_type_int"><code>ansible.module_utils.common.validation.check_type_int()</code></a>
</li> <li>
<code>_check_type_jsonarg()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_jsonarg" title="ansible.module_utils.common.validation.check_type_jsonarg"><code>ansible.module_utils.common.validation.check_type_jsonarg()</code></a>
</li> <li>
<code>_check_type_list()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_list" title="ansible.module_utils.common.validation.check_type_list"><code>ansible.module_utils.common.validation.check_type_list()</code></a>
</li> <li>
<code>_check_type_path()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_path" title="ansible.module_utils.common.validation.check_type_path"><code>ansible.module_utils.common.validation.check_type_path()</code></a>
</li> <li>
<code>_check_type_raw()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_raw" title="ansible.module_utils.common.validation.check_type_raw"><code>ansible.module_utils.common.validation.check_type_raw()</code></a>
</li> <li>
<code>_check_type_str()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.check_type_str" title="ansible.module_utils.common.validation.check_type_str"><code>ansible.module_utils.common.validation.check_type_str()</code></a>
</li> <li>
<code>_count_terms()</code> –&gt; <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.validation.count_terms" title="ansible.module_utils.common.validation.count_terms"><code>ansible.module_utils.common.validation.count_terms()</code></a>
</li> <li><code>_get_wanted_type()</code></li> <li><code>_handle_aliases()</code></li> <li><code>_handle_no_log_values()</code></li> <li><code>_handle_options()</code></li> <li><code>_set_defaults()</code></li> <li><code>_set_fallbacks()</code></li> </ul>  <p>Modules or plugins using these private methods should use the public functions in <a class="reference internal" href="../reference_appendices/module_utils.html#module-ansible.module_utils.common.validation" title="ansible.module_utils.common.validation"><code>ansible.module_utils.common.validation</code></a> or <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.arg_spec.ArgumentSpecValidator.validate" title="ansible.module_utils.common.arg_spec.ArgumentSpecValidator.validate"><code>ArgumentSpecValidator.validate()</code></a> if no public function was listed above.</p> </section> <section id="changes-to-ansible-module-utils-common-parameters"> <h3>Changes to <a class="reference internal" href="../reference_appendices/module_utils.html#module-ansible.module_utils.common.parameters" title="ansible.module_utils.common.parameters"><code>ansible.module_utils.common.parameters</code></a>
</h3> <p>The following functions in <a class="reference internal" href="../reference_appendices/module_utils.html#module-ansible.module_utils.common.parameters" title="ansible.module_utils.common.parameters"><code>ansible.module_utils.common.parameters</code></a> are now private and should not be used directly. Use <a class="reference internal" href="../reference_appendices/module_utils.html#ansible.module_utils.common.arg_spec.ArgumentSpecValidator.validate" title="ansible.module_utils.common.arg_spec.ArgumentSpecValidator.validate"><code>ArgumentSpecValidator.validate()</code></a> instead.</p>  <ul class="simple"> <li><code>list_no_log_values</code></li> <li><code>list_deprecations</code></li> <li><code>handle_aliases</code></li> </ul>  </section> </section> <section id="other"> <h2>Other</h2> <ul class="simple"> <li>
<strong>Upgrading</strong>: If upgrading from <code>ansible &lt; 2.10</code> or from <code>ansible-base</code> and using pip, you must <code>pip uninstall ansible</code> or <code>pip uninstall ansible-base</code> before installing <code>ansible-core</code> to avoid conflicts.</li> <li>Python 3.8 on the controller node is a soft requirement for this release. <code>ansible-core</code> 2.11 still works with the same versions of Python that <code>ansible-base</code> 2.10 worked with, however 2.11 emits a warning when running on a controller node with a Python version less than 3.8. This warning can be disabled by setting <code>ANSIBLE_CONTROLLER_PYTHON_WARNING=False</code> in your environment. <code>ansible-core</code> 2.12 will require Python 3.8 or greater.</li> <li>The configuration system now validates the <code>choices</code> field, so any settings that violate it and were ignored in 2.10 cause an error in 2.11. For example, <code>ANSIBLE_COLLECTIONS_ON_ANSIBLE_VERSION_MISMATCH=0</code> now causes an error (valid choices are <code>ignore</code>, <code>warn</code> or <code>error</code>).</li> <li>The <code>ansible-galaxy</code> command now uses <code>resolvelib</code> for resolving dependencies. In most cases this should not make a user-facing difference beyond being more performant, but we note it here for posterity and completeness.</li> <li>If you import Python <code>module_utils</code> into any modules you maintain, you may now mark the import as optional during the module payload build by wrapping the <code>import</code> statement in a <code>try</code> or <code>if</code> block. This allows modules to use <code>module_utils</code> that may not be present in all versions of Ansible or a collection, and to perform arbitrary recovery or fallback actions during module runtime.</li> </ul> </section> <section id="modules"> <h2>Modules</h2> <ul class="simple"> <li>The <code>apt_key</code> module has explicitly defined <code>file</code> as mutually exclusive with <code>data</code>, <code>keyserver</code> and <code>url</code>. They cannot be used together anymore.</li> <li>The <code>meta</code> module now supports tags for user-defined tasks. Set the task’s tags to ‘always’ to maintain the previous behavior. Internal <code>meta</code> tasks continue to always run.</li> </ul> <section id="modules-removed"> <h3>Modules removed</h3> <p>The following modules no longer exist:</p> <ul class="simple"> <li>No notable changes</li> </ul> </section> <section id="deprecation-notices"> <h3>Deprecation notices</h3> <p>No notable changes</p> </section> <section id="noteworthy-module-changes"> <h3>Noteworthy module changes</h3> <ul class="simple"> <li>facts - On NetBSD, <code>ansible_virtualization_type</code> now tries to report a more accurate result than <code>xen</code> when virtualized and not running on Xen.</li> <li>facts - Virtualization facts now include <code>virtualization_tech_guest</code> and <code>virtualization_tech_host</code> keys. These are lists of virtualization technologies that a guest is a part of, or that a host provides, respectively. As an example, if you set up a host to provide both KVM and VirtualBox, both values are included in <code>virtualization_tech_host</code>. Similarly, a podman container running on a VM powered by KVM has a <code>virtualization_tech_guest</code> of <code>["kvm", "podman", "container"]</code>.</li> <li>The parameter <code>filter</code> type is changed from <code>string</code> to <code>list</code> in the <a class="reference internal" href="../collections/ansible/builtin/setup_module.html#setup-module"><span class="std std-ref">setup</span></a> module in order to use more than one filter. Previous behavior (using a <code>string</code>) still remains and works as a single filter.</li> </ul> </section> </section> <section id="plugins"> <h2>Plugins</h2> <ul class="simple"> <li>inventory plugins - <code>CachePluginAdjudicator.flush()</code> now calls the underlying cache plugin’s <code>flush()</code> instead of only deleting keys that it knows about. Inventory plugins should use <code>delete()</code> to remove any specific keys. As a user, this means that when an inventory plugin calls its <code>clear_cache()</code> method, facts could also be flushed from the cache. To work around this, users can configure inventory plugins to use a cache backend that is independent of the facts cache.</li> <li>callback plugins - <code>meta</code> task execution is now sent to <code>v2_playbook_on_task_start</code> like any other task. By default, only explicit meta tasks are sent there. Callback plugins can opt-in to receiving internal, implicitly created tasks to act on those as well, as noted in the plugin development documentation.</li> <li>The <code>choices</code> are now validated, so plugins that were using incorrect or incomplete choices issue an error in 2.11 if the value provided does not match. This has a simple fix: update the entries in <code>choices</code> to match reality.</li> </ul> </section> <section id="porting-custom-scripts"> <h2>Porting custom scripts</h2> <p>No notable changes</p> </section> <section id="porting-guide-for-v4-10-0"> <h2>Porting Guide for v4.10.0</h2> <section id="major-changes"> <h3>Major Changes</h3> <section id="containers-podman"> <h4>containers.podman</h4> <ul class="simple"> <li>Add podman_tag module</li> <li>Add secrets driver and driver opts support</li> </ul> </section> </section> <section id="deprecated-features"> <h3>Deprecated Features</h3> <section id="cisco-nxos"> <h4>cisco.nxos</h4> <ul class="simple"> <li>Deprecated nxos_snmp_community module.</li> <li>Deprecated nxos_snmp_contact module.</li> <li>Deprecated nxos_snmp_host module.</li> <li>Deprecated nxos_snmp_location module.</li> <li>Deprecated nxos_snmp_traps module.</li> <li>Deprecated nxos_snmp_user module.</li> </ul> </section> <section id="junipernetworks-junos"> <h4>junipernetworks.junos</h4> <ul class="simple"> <li>‘router_id’ options is deprecated from junos_ospf_interfaces, junos_ospfv2 and junos_ospfv3 resource module.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v4-9-0"> <h2>Porting Guide for v4.9.0</h2> <section id="known-issues"> <h3>Known Issues</h3> <section id="purestorage-flashblade"> <h4>purestorage.flashblade</h4> <ul class="simple"> <li>purefb_lag - The mac_address field in the response is not populated. This will be fixed in a future FlashBlade update.</li> </ul> </section> </section> <section id="id1"> <h3>Major Changes</h3> <section id="fortinet-fortios"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Add real-world use cases in the example section for some configuration modules.</li> <li>Collect the current configurations of the modules and convert them into playbooks.</li> <li>Support FortiOS 7.0.1.</li> <li>Support member operation (delete/add extra members) on an object that has a list of members in it.</li> <li>Support selectors feature in <code>fortios_monitor_fact</code> and <code>fortios_log_fact</code>.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v4-8-0"> <h2>Porting Guide for v4.8.0</h2> <section id="id2"> <h3>Breaking Changes</h3> <section id="community-zabbix"> <h4>community.zabbix</h4> <ul class="simple"> <li>all roles now reference other roles and modules through their fully qualified collection names, which makes Ansible 2.10 minimum supported version for roles (see <a class="reference external" href="https://github.com/ansible-collections/community.zabbix/pull/477">issue 477</a>).</li> </ul> </section> </section> <section id="id3"> <h3>Deprecated Features</h3> <section id="community-azure"> <h4>community.azure</h4> <ul class="simple"> <li>All community.azure.azure_rm_&lt;resource&gt;_facts modules are deprecated. Use azure.azcollection.azure_rm_&lt;resource&gt;_info modules instead (<a class="reference external" href="https://github.com/ansible-collections/community.azure/pull/24">https://github.com/ansible-collections/community.azure/pull/24</a>).</li> <li>All community.azure.azure_rm_&lt;resource&gt;_info modules are deprecated. Use azure.azcollection.azure_rm_&lt;resource&gt;_info modules instead (<a class="reference external" href="https://github.com/ansible-collections/community.azure/pull/24">https://github.com/ansible-collections/community.azure/pull/24</a>).</li> <li>community.azure.azure_rm_managed_disk and community.azure.azure_rm_manageddisk are deprecated. Use azure.azcollection.azure_rm_manageddisk instead (<a class="reference external" href="https://github.com/ansible-collections/community.azure/pull/24">https://github.com/ansible-collections/community.azure/pull/24</a>).</li> <li>community.azure.azure_rm_virtualmachine_extension and community.azure.azure_rm_virtualmachineextension are deprecated. Use azure.azcollection.azure_rm_virtualmachineextension instead (<a class="reference external" href="https://github.com/ansible-collections/community.azure/pull/24">https://github.com/ansible-collections/community.azure/pull/24</a>).</li> <li>community.azure.azure_rm_virtualmachine_scaleset and community.azure.azure_rm_virtualmachinescaleset are deprecated. Use azure.azcollection.azure_rm_virtualmachinescaleset instead (<a class="reference external" href="https://github.com/ansible-collections/community.azure/pull/24">https://github.com/ansible-collections/community.azure/pull/24</a>).</li> </ul> </section> <section id="community-hashi-vault"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>lookup hashi_vault - the <code>[lookup_hashi_vault]</code> section in the <code>ansible.cfg</code> file is deprecated and will be removed in collection version <code>3.0.0</code>. Instead, the section <code>[hashi_vault_collection]</code> can be used, which will apply to all plugins in the collection going forward (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/pull/144">https://github.com/ansible-collections/community.hashi_vault/pull/144</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v4-7-0"> <h2>Porting Guide for v4.7.0</h2> <section id="id4"> <h3>Major Changes</h3> <section id="openvswitch-openvswitch"> <h4>openvswitch.openvswitch</h4> <ul class="simple"> <li>By mistake we tagged the repo to 2.0.0 and as it wasn’t intended and cannot be reverted we’re releasing 2.0.1 to make the community aware of the major version update.</li> </ul> </section> </section> <section id="id5"> <h3>Deprecated Features</h3> <section id="cisco-ios"> <h4>cisco.ios</h4> <ul class="simple"> <li>Deprecated ios_ntp modules.</li> </ul> </section> <section id="id6"> <h4>cisco.nxos</h4> <ul class="simple"> <li>Deprecated <code>nxos_ntp</code>, <code>nxos_ntp_options</code>, <code>nxos_ntp_auth</code> modules.</li> </ul> </section> <section id="community-vmware"> <h4>community.vmware</h4> <ul class="simple"> <li>vmware_guest_vnc - Sphere 7.0 removed the built-in VNC server (<a class="reference external" href="https://docs.vmware.com/en/VMware-vSphere/7.0/rn/vsphere-esxi-vcenter-server-70-release-notes.html#productsupport">https://docs.vmware.com/en/VMware-vSphere/7.0/rn/vsphere-esxi-vcenter-server-70-release-notes.html#productsupport</a>).</li> </ul> </section> <section id="id7"> <h4>junipernetworks.junos</h4> <ul class="simple"> <li>Deprecated router_id from ospfv2 resource module.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v4-6-0"> <h2>Porting Guide for v4.6.0</h2> <section id="id8"> <h3>Major Changes</h3> <section id="id9"> <h4>containers.podman</h4> <ul class="simple"> <li>Add systemd generation for pods</li> <li>Generate systemd service files for containers</li> </ul> </section> <section id="gluster-gluster"> <h4>gluster.gluster</h4> <ul class="simple"> <li>enable client.ssl,server.ssl before starting the gluster volume (<a class="reference external" href="https://github.com/gluster/gluster-ansible-collection/pull/19">https://github.com/gluster/gluster-ansible-collection/pull/19</a>)</li> </ul> </section> </section> <section id="id10"> <h3>Deprecated Features</h3> <section id="community-grafana"> <h4>community.grafana</h4> <ul class="simple"> <li>grafana_dashboard lookup - Providing a mangled version of the API key is no longer preferred.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v4-5-0"> <h2>Porting Guide for v4.5.0</h2> <section id="id11"> <h3>Major Changes</h3> <section id="hetzner-hcloud"> <h4>hetzner.hcloud</h4> <ul class="simple"> <li>Introduction of placement groups</li> </ul> </section> <section id="ovirt-ovirt"> <h4>ovirt.ovirt</h4> <ul class="simple"> <li>remove_stale_lun - Add role for removing stale LUN (<a class="reference external" href="https://bugzilla.redhat.com/1966873">https://bugzilla.redhat.com/1966873</a>).</li> </ul> </section> </section> <section id="id12"> <h3>Deprecated Features</h3> <section id="ansible-netcommon"> <h4>ansible.netcommon</h4> <ul class="simple"> <li>network_cli - The paramiko_ssh setting <code>look_for_keys</code> was set automatically based on the values of the <code>password</code> and <code>private_key_file</code> options passed to network_cli. This option can now be set explicitly, and the automatic setting of <code>look_for_keys</code> will be removed after 2024-01-01 (<a class="reference external" href="https://github.com/ansible-collections/ansible.netcommon/pull/271">https://github.com/ansible-collections/ansible.netcommon/pull/271</a>).</li> </ul> </section> <section id="id13"> <h4>cisco.ios</h4> <ul class="simple"> <li>Deprecated ios_bgp in favor of ios_bgp_global and ios_bgp_address_family.</li> <li>Remove testing with provider for ansible-test integration jobs. This helps prepare us to move to network-ee integration tests.</li> </ul> </section> <section id="id14"> <h4>junipernetworks.junos</h4> <ul class="simple"> <li>Deprecated router_id from ospfv3 resource module.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v4-4-0"> <h2>Porting Guide for v4.4.0</h2> <section id="id15"> <h3>Known Issues</h3> <section id="dellemc-openmanage"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) Module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> </ul> </section> </section> <section id="id16"> <h3>Deprecated Features</h3> <section id="cisco-iosxr"> <h4>cisco.iosxr</h4> <ul class="simple"> <li>The iosxr_logging module has been deprecated in favor of the new iosxr_logging_global resource module and will be removed in a release after ‘2023-08-01’.</li> </ul> </section> <section id="id17"> <h4>cisco.nxos</h4> <ul class="simple"> <li>The nxos_logging module has been deprecated in favor of the new nxos_logging_global resource module and will be removed in a release after ‘2023-08-01’.</li> </ul> </section> <section id="community-docker"> <h4>community.docker</h4> <ul class="simple"> <li>docker_container - the new <code>command_handling</code>’s default value, <code>compatibility</code>, is deprecated and will change to <code>correct</code> in community.docker 3.0.0. A deprecation warning is emitted by the module in cases where the behavior will change. Please note that ansible-core will output a deprecation warning only once, so if it is shown for an earlier task, there could be more tasks with this warning where it is not shown (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/186">https://github.com/ansible-collections/community.docker/pull/186</a>).</li> </ul> </section> <section id="id18"> <h4>junipernetworks.junos</h4> <ul class="simple"> <li>The junos_logging module has been deprecated in favor of the new junos_logging_global resource module and will be removed in a release after ‘2023-08-01’.</li> </ul> </section> <section id="vyos-vyos"> <h4>vyos.vyos</h4> <ul class="simple"> <li>The vyos_logging module has been deprecated in favor of the new vyos_logging_global resource module and will be removed in a release after “2023-08-01”.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v4-3-0"> <h2>Porting Guide for v4.3.0</h2> <section id="id19"> <h3>Major Changes</h3> <section id="netapp-cloudmanager"> <h4>netapp.cloudmanager</h4> <ul class="simple"> <li>Adding stage environment to all modules in cloudmanager</li> </ul> </section> </section> <section id="id20"> <h3>Deprecated Features</h3> <section id="id21"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>hashi_vault collection - support for Python 3.5 will be dropped in version <code>2.0.0</code> of <code>community.hashi_vault</code> (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/81">https://github.com/ansible-collections/community.hashi_vault/issues/81</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v4-2-0"> <h2>Porting Guide for v4.2.0</h2> <section id="id22"> <h3>Known Issues</h3> <section id="id23"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) Module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> <li>ome_smart_fabric_uplink - Issue(186024) ome_smart_fabric_uplink module does not allow the creation of multiple uplinks of the same name even though this is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> </section> <section id="id24"> <h3>Major Changes</h3> <section id="id25"> <h4>community.vmware</h4> <ul class="simple"> <li>vmware_object_custom_attributes_info - added a new module to gather custom attributes of an object (<a class="reference external" href="https://github.com/ansible-collections/community.vmware/pull/851">https://github.com/ansible-collections/community.vmware/pull/851</a>).</li> </ul> </section> <section id="id26"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_server_config_profile - Added support for exporting and importing Server Configuration Profile through HTTP/HTTPS share.</li> <li>ome_device_group - Added support for adding devices to a group using the IP addresses of the devices and group ID.</li> </ul> </section> <section id="id27"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>New module fortios_monitor_fact.</li> <li>Support Fortios 7.0.</li> <li>Support Log APIs.</li> </ul> </section> </section> <section id="id28"> <h3>Deprecated Features</h3> <ul class="simple"> <li>The community.kubernetes collection is being renamed to kubernetes.core. In Ansible 5, community.kubernetes will be replaced by an empty collection which has deprecated redirects for all the current content to kubernetes.core. If you are using FQCNs starting with <code>community.kubernetes.</code>, please update them to <code>kubernetes.core.</code> now. Note that kubernetes.core has been included in Ansible since Ansible 3.0.0 (<a class="reference external" href="https://github.com/ansible-community/community-topics/issues/22">https://github.com/ansible-community/community-topics/issues/22</a>).</li> </ul> <section id="ansible-windows"> <h4>ansible.windows</h4> <ul class="simple"> <li>win_updates - Deprecated the <code>filtered_reason</code> return value for each filtered up in favour of <code>filtered_reasons</code>. This has been done to show all the reasons why an update was filtered and not just the first reason.</li> <li>win_updates - Deprecated the <code>use_scheduled_task</code> option as it is no longer used.</li> <li>win_updates - Deprecated the <code>whitelist</code> and <code>blacklist</code> options in favour of <code>accept_list</code> and <code>reject_list</code> respectively to conform to the new standards used in Ansible for these types of options.</li> </ul> </section> <section id="community-general"> <h4>community.general</h4> <ul class="simple"> <li>ali_instance_info - marked removal version of deprecated parameters <code>availability_zone</code> and <code>instance_names</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/issues/2429">https://github.com/ansible-collections/community.general/issues/2429</a>).</li> <li>serverless - deprecating parameter <code>functions</code> because it was not used in the code (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2845">https://github.com/ansible-collections/community.general/pull/2845</a>).</li> </ul> </section> <section id="id29"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>hashi_vault collection - support for Python 2 will be dropped in version <code>2.0.0</code> of <code>community.hashi_vault</code> (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/81">https://github.com/ansible-collections/community.hashi_vault/issues/81</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v4-1-0"> <h2>Porting Guide for v4.1.0</h2> <section id="id30"> <h3>Known Issues</h3> <section id="id31"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) Module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> <li>ome_smart_fabric_uplink - Issue(186024) ome_smart_fabric_uplink module does not allow the creation of multiple uplinks of the same name even though this is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> </section> <section id="id32"> <h3>Major Changes</h3> <section id="cloudscale-ch-cloud"> <h4>cloudscale_ch.cloud</h4> <ul class="simple"> <li>Add custom_image module</li> </ul> </section> <section id="community-postgresql"> <h4>community.postgresql</h4> <ul class="simple"> <li>postgresql_query - the default value of the <code>as_single_query</code> option will be changed to <code>yes</code> in community.postgresql 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/issues/85">https://github.com/ansible-collections/community.postgresql/issues/85</a>).</li> </ul> </section> <section id="id33"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>ome_firmware_baseline - Module supports check mode, and allows the modification and deletion of firmware baselines.</li> <li>ome_firmware_catalog - Module supports check mode, and allows the modification and deletion of firmware catalogs.</li> </ul> </section> <section id="id34"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Improve <code>fortios_configuration_fact</code> to use multiple selectors concurrently.</li> <li>Support <code>check_mode</code> in all cofigurationAPI-based modules.</li> <li>Support filtering for fact gathering modules <code>fortios_configuration_fact</code> and <code>fortios_monitor_fact</code>.</li> <li>Support moving policy in <code>firewall_central_snat_map</code>.</li> <li>Unify schemas for monitor API.</li> </ul> </section> <section id="netbox-netbox"> <h4>netbox.netbox</h4> <ul class="simple"> <li>packages is now a required Python package and gets installed through Ansible 2.10+.</li> </ul> </section> </section> <section id="removed-features"> <h3>Removed Features</h3> <section id="id35"> <h4>ansible.windows</h4> <ul class="simple"> <li>win_reboot - Removed <code>shutdown_timeout</code> and <code>shutdown_timeout_sec</code> which has not done anything since Ansible 2.5.</li> </ul> </section> </section> <section id="id36"> <h3>Deprecated Features</h3> <section id="id37"> <h4>ansible.windows</h4> <ul class="simple"> <li>win_reboot - Unreachable hosts can be ignored with <code>ignore_errors: True</code>, this ability will be removed in a future version. Use <code>ignore_unreachable: True</code> to ignore unreachable hosts instead. - <a class="reference external" href="https://github.com/ansible-collections/ansible.windows/issues/62">https://github.com/ansible-collections/ansible.windows/issues/62</a>
</li> </ul> </section> <section id="id38"> <h4>community.docker</h4> <ul class="simple"> <li>docker_* modules and plugins, except <code>docker_swarm</code> connection plugin and <code>docker_compose</code> and <code>docker_stack*` modules - the current default ``localhost</code> for <code>tls_hostname</code> is deprecated. In community.docker 2.0.0 it will be computed from <code>docker_host</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/134">https://github.com/ansible-collections/community.docker/pull/134</a>).</li> </ul> </section> <section id="id39"> <h4>community.general</h4> <ul class="simple"> <li>All inventory and vault scripts will be removed from community.general in version 4.0.0. If you are referencing them, please update your references to the new <a class="reference external" href="https://github.com/ansible-community/contrib-scripts">contrib-scripts GitHub repository</a> so your workflow will not break once community.general 4.0.0 is released (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2697">https://github.com/ansible-collections/community.general/pull/2697</a>).</li> <li>The nios, nios_next_ip, nios_next_network lookup plugins, the nios documentation fragment, and the nios_host_record, nios_ptr_record, nios_mx_record, nios_fixed_address, nios_zone, nios_member, nios_a_record, nios_aaaa_record, nios_network, nios_dns_view, nios_txt_record, nios_naptr_record, nios_srv_record, nios_cname_record, nios_nsgroup, and nios_network_view module have been deprecated and will be removed from community.general 5.0.0. Please install the <a class="reference external" href="https://galaxy.ansible.com/infoblox/nios_modules">infoblox.nios_modules</a> collection instead and use its plugins and modules (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2458">https://github.com/ansible-collections/community.general/pull/2458</a>).</li> <li>The vendored copy of <code>ipaddress</code> will be removed in community.general 4.0.0. Please switch to <code>ipaddress</code> from the Python 3 standard library, or <a class="reference external" href="https://pypi.org/project/ipaddress/">from pypi</a>, if your code relies on the vendored version of <code>ipaddress</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2459">https://github.com/ansible-collections/community.general/pull/2459</a>).</li> <li>linode - parameter <code>backupsenabled</code> is deprecated and will be removed in community.general 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2410">https://github.com/ansible-collections/community.general/pull/2410</a>).</li> <li>lxd inventory plugin - the plugin will require <code>ipaddress</code> installed when used with Python 2 from community.general 4.0.0 on. <code>ipaddress</code> is part of the Python 3 standard library, but can be installed for Python 2 from pypi (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2459">https://github.com/ansible-collections/community.general/pull/2459</a>).</li> <li>scaleway_security_group_rule - the module will require <code>ipaddress</code> installed when used with Python 2 from community.general 4.0.0 on. <code>ipaddress</code> is part of the Python 3 standard library, but can be installed for Python 2 from pypi (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2459">https://github.com/ansible-collections/community.general/pull/2459</a>).</li> </ul> </section> <section id="inspur-sm"> <h4>inspur.sm</h4> <ul class="simple"> <li>add_ad_group - This feature will be removed in inspur.sm.add_ad_group 3.0.0. replaced with inspur.sm.ad_group.</li> <li>add_ldap_group - This feature will be removed in inspur.sm.add_ldap_group 3.0.0. replaced with inspur.sm.ldap_group.</li> <li>add_user - This feature will be removed in inspur.sm.add_user 3.0.0. replaced with inspur.sm.user.</li> <li>add_user_group - This feature will be removed in inspur.sm.add_user_group 3.0.0. replaced with inspur.sm.user_group.</li> <li>del_ad_group - This feature will be removed in inspur.sm.del_ad_group 3.0.0. replaced with inspur.sm.ad_group.</li> <li>del_ldap_group - This feature will be removed in inspur.sm.del_ldap_group 3.0.0. replaced with inspur.sm.ldap_group.</li> <li>del_user - This feature will be removed in inspur.sm.del_user 3.0.0. replaced with inspur.sm.user.</li> <li>del_user_group - This feature will be removed in inspur.sm.del_user_group 3.0.0. replaced with inspur.sm.user_group.</li> <li>edit_ad_group - This feature will be removed in inspur.sm.edit_ad_group 3.0.0. replaced with inspur.sm.ad_group.</li> <li>edit_ldap_group - This feature will be removed in inspur.sm.edit_ldap_group 3.0.0. replaced with inspur.sm.ldap_group.</li> <li>edit_user - This feature will be removed in inspur.sm.edit_user 3.0.0. replaced with inspur.sm.user.</li> <li>edit_user_group - This feature will be removed in inspur.sm.edit_user_group 3.0.0. replaced with inspur.sm.user_group.</li> </ul> </section> </section> </section> <section id="porting-guide-for-v4-0-0"> <h2>Porting Guide for v4.0.0</h2> <section id="id40"> <h3>Known Issues</h3> <section id="ansible-core"> <h4>Ansible-core</h4> <ul class="simple"> <li>ansible-test - The <code>pylint</code> sanity test no longer correctly detects “bad” variable names for non-constants. See <a class="reference external" href="https://github.com/PyCQA/pylint/issues/3701">issue 3701</a> for additional details.</li> </ul> </section> <section id="id41"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) Module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> <li>ome_configuration_compliance_info - Issue(195592) Module may error out with the message <code>unable to process the request because an error occurred</code>. If the issue persists, report it to the system administrator.</li> <li>ome_smart_fabric - Issue(185322) Only three design types are supported by OpenManage Enterprise Modular but the module successfully creates a fabric when the design type is not supported.</li> <li>ome_smart_fabric_uplink - Issue(186024) ome_smart_fabric_uplink module does not allow the creation of multiple uplinks of the same name even though this is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> <section id="id42"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Modules for monitor API are not versioned yet.</li> </ul> </section> </section> <section id="id43"> <h3>Breaking Changes</h3> <section id="id44"> <h4>Ansible-core</h4> <ul class="simple"> <li>Made SCM collections be reinstalled regardless of <code>--force</code> being present.</li> <li>NetBSD virtualization facts (specifically <code>ansible_virtualization_type</code>) now returns a more accurate value by checking the value of the <code>machdep.hypervisor</code> <code>sysctl</code> key. This change is breaking because in some cases previously, we would erroneously report <code>xen</code> even when the target is not running on Xen. This prevents that behavior in most cases. (<a class="reference external" href="https://github.com/ansible/ansible/issues/69352">https://github.com/ansible/ansible/issues/69352</a>)</li> <li>Replaced the in-tree dependency resolver with an external implementation that pip &gt;= 20.3 uses now by default — <code>resolvelib</code>. (<a class="reference external" href="https://github.com/ansible/ansible/issues/71784">https://github.com/ansible/ansible/issues/71784</a>)</li> <li>The <code>meta</code> module now supports tags for user-defined tasks. Internal <code>meta</code> tasks continue to always run. (<a class="reference external" href="https://github.com/ansible/ansible/issues/64558">https://github.com/ansible/ansible/issues/64558</a>)</li> <li>ansible-galaxy login command has been removed (see <a class="reference external" href="https://github.com/ansible/ansible/issues/71560">issue 71560</a>)</li> </ul> </section> <section id="id45"> <h4>ansible.netcommon</h4> <ul class="simple"> <li>Removed vendored ipaddress package from collection. If you use ansible_collections.ansible.netcommon.plugins.module_utils.compat.ipaddress in your collection, you will need to change this to import ipaddress instead. If your content using ipaddress supports Python 2.7, you will additionally need to make sure that the user has the ipaddress package installed. Please refer to <a class="reference external" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_best_practices.html#importing-and-using-shared-code">https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_best_practices.html#importing-and-using-shared-code</a> to see how to safely import external packages that may be missing from the user’s system A backport of ipaddress for Python 2.7 is available at <a class="reference external" href="https://pypi.org/project/ipaddress/">https://pypi.org/project/ipaddress/</a>
</li> </ul> </section> <section id="id46"> <h4>community.docker</h4> <ul class="simple"> <li>docker_swarm - if <code>join_token</code> is specified, a returned join token with the same value will be replaced by <code>VALUE_SPECIFIED_IN_NO_LOG_PARAMETER</code>. Make sure that you do not blindly use the join tokens from the return value of this module when the module is invoked with <code>join_token</code> specified! This breaking change appears in a minor release since it is necessary to fix a security issue (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/103">https://github.com/ansible-collections/community.docker/pull/103</a>).</li> </ul> </section> <section id="id47"> <h4>community.general</h4> <ul> <li>
<p>If you use Ansible 2.9 and these plugins or modules from this collection, community.general 3.0.0 results in errors when trying to use the DellEMC content by FQCN, like <code>community.general.idrac_firmware</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCNs (<code>dellemc.openmanage.idrac_firmware</code> for the previous example) and to make sure that you have <code>dellemc.openmanage</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 4.0.0, but installed (and/or upgraded) community.general manually, you need to make sure to also install the <code>dellemc.openmanage</code> collection if you are using any of these plugins or modules. While ansible-base 2.10 or newer can use the redirects that community.general 3.0.0 adds, the collection they point to (such as dellemc.openmanage) must be installed for them to work.</p> </li> <li>gitlab_deploy_key - if for an already existing key title a different public key was given as parameter nothing happened, now this changed so that the public key is updated to the new value (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1661">https://github.com/ansible-collections/community.general/pull/1661</a>).</li> <li>java_keystore - instead of failing, now overwrites keystore if the alias (name) is changed. This was originally the intended behavior, but did not work due to a logic error. Make sure that your playbooks and roles do not depend on the old behavior of failing instead of overwriting (<a class="reference external" href="https://github.com/ansible-collections/community.general/issues/1671">https://github.com/ansible-collections/community.general/issues/1671</a>).</li> <li>java_keystore - instead of failing, now overwrites keystore if the passphrase is changed. Make sure that your playbooks and roles do not depend on the old behavior of failing instead of overwriting (<a class="reference external" href="https://github.com/ansible-collections/community.general/issues/1671">https://github.com/ansible-collections/community.general/issues/1671</a>).</li> <li>one_image - use pyone instead of python-oca (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2032">https://github.com/ansible-collections/community.general/pull/2032</a>).</li> <li>utm_proxy_auth_profile - the <code>frontend_cookie_secret</code> return value now contains a placeholder string instead of the module’s <code>frontend_cookie_secret</code> parameter (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1736">https://github.com/ansible-collections/community.general/pull/1736</a>).</li> </ul> </section> <section id="id48"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Generic FortiOS Module - FOS module to issue generic request with Ansible.</li> <li>Support for FOS Monitor API - several modules are new for monitor API.</li> <li>Unified Collection - The fortios collection itself will be adapting any FOS platforms.</li> </ul> </section> <section id="servicenow-servicenow"> <h4>servicenow.servicenow</h4> <ul class="simple"> <li>auth field now required for anything other than Basic authentication</li> </ul> </section> <section id="theforeman-foreman"> <h4>theforeman.foreman</h4> <ul class="simple"> <li>All role variables are now prefixed with <code>foreman_</code> to avoid clashes with similarly named variables from roles outside this collection.</li> </ul> </section> </section> <section id="id49"> <h3>Major Changes</h3> <section id="id50"> <h4>Ansible-core</h4> <ul class="simple"> <li>A collection can be reinstalled with new version requirements without using the <code>--force</code> flag. The collection’s dependencies will also be updated if necessary with the new requirements. Use <code>--upgrade</code> to force transitive dependency updates.</li> <li>AnsibleModule - use <code>ArgumentSpecValidator</code> class for validating argument spec and remove private methods related to argument spec validation. Any modules using private methods should now use the <code>ArgumentSpecValidator</code> class or the appropriate validation function.</li> <li>Declared <code>resolvelib &gt;= 0.5.3, &lt; 0.6.0</code> a direct dependency of ansible-core. Refs: - <a class="reference external" href="https://github.com/sarugaku/resolvelib">https://github.com/sarugaku/resolvelib</a> - <a class="reference external" href="https://pypi.org/p/resolvelib">https://pypi.org/p/resolvelib</a> - <a class="reference external" href="https://pradyunsg.me/blog/2020/03/27/pip-resolver-testing">https://pradyunsg.me/blog/2020/03/27/pip-resolver-testing</a>
</li> <li>It became possible to install Ansible Collections from local folders and namespaces folder similar to SCM structure with multiple collections.</li> <li>It became possible to upgrade Ansible collections from Galaxy servers using the <code>--upgrade</code> option with <code>ansible-galaxy collection install</code>.</li> <li>Support for role argument specification validation at role execution time. When a role contains an argument spec, an implicit validation task is inserted at the start of role execution.</li> <li>add <code>ArgumentSpecValidator</code> class for validating parameters against an argument spec outside of <code>AnsibleModule</code> (<a class="reference external" href="https://github.com/ansible/ansible/pull/73335">https://github.com/ansible/ansible/pull/73335</a>)</li> <li>ansible-test - Tests run with the <code>centos6</code> and <code>default</code> test containers now use a PyPI proxy container to access PyPI when Python 2.6 is used. This allows tests running under Python 2.6 to continue functioning even though PyPI is discontinuing support for non-SNI capable clients.</li> </ul> </section> <section id="id51"> <h4>ansible.netcommon</h4> <ul class="simple"> <li>Remove deprecated connection arguments from netconf_config</li> </ul> </section> <section id="arista-eos"> <h4>arista.eos</h4> <ul class="simple"> <li>Requires ansible.netcommon v2.0.0+ to support <code>ansible_network_single_user_mode</code> and <code>ansible_network_import_modules</code> - Please refer to ansible.netcommon <a class="reference external" href="https://github.com/ansible-collections/ansible.netcommon/blob/main/changelogs/CHANGELOG.rst#ansible-netcommon-collection-release-notes">changelog</a> for more details.</li> </ul> </section> <section id="cisco-asa"> <h4>cisco.asa</h4> <ul class="simple"> <li>Please refer to ansible.netcommon <code>changelog &lt;https://github.com/ansible-collections/ansible.netcommon/blob/main/changelogs/CHANGELOG.rst#ansible-netcommon-collection-release-notes&gt;</code> for more details.</li> <li>Requires ansible.netcommon v2.0.0+ to support <code>ansible_network_single_user_mode</code> and <code>ansible_network_import_modules</code>.</li> </ul> </section> <section id="id52"> <h4>cisco.ios</h4> <ul class="simple"> <li>Please refer to ansible.netcommon <a class="reference external" href="https://github.com/ansible-collections/ansible.netcommon/blob/main/changelogs/CHANGELOG.rst#ansible-netcommon-collection-release-notes">changelog</a> for more details.</li> <li>Requires ansible.netcommon v2.0.0+ to support <code>ansible_network_single_user_mode</code> and <code>ansible_network_import_modules</code>.</li> </ul> </section> <section id="id54"> <h4>cisco.iosxr</h4> <ul class="simple"> <li>Please refer to ansible.netcommon <a class="reference external" href="https://github.com/ansible-collections/ansible.netcommon/blob/main/changelogs/CHANGELOG.rst#ansible-netcommon-collection-release-notes">changelog</a> for more details.</li> <li>Requires ansible.netcommon v2.0.0+ to support <code>ansible_network_single_user_mode</code> and <code>ansible_network_import_modules</code>.</li> <li>ipaddress is no longer in ansible.netcommon. For Python versions without ipaddress (&lt; 3.0), the ipaddress package is now required.</li> </ul> </section> <section id="id56"> <h4>cisco.nxos</h4> <ul class="simple"> <li>Please refer to ansible.netcommon <a class="reference external" href="https://github.com/ansible-collections/ansible.netcommon/blob/main/changelogs/CHANGELOG.rst#ansible-netcommon-collection-release-notes">changelog</a> for more details.</li> <li>Requires ansible.netcommon v2.0.0+ to support <code>ansible_network_single_user_mode</code> and <code>ansible_network_import_modules</code>.</li> </ul> </section> <section id="id58"> <h4>community.grafana</h4> <ul class="simple"> <li>introduce “skip_version_check” parameter in grafana_teams and grafana_folder modules (#147)</li> </ul> </section> <section id="community-mysql"> <h4>community.mysql</h4> <ul class="simple"> <li>mysql_replication - add deprecation warning that the <code>Is_Slave</code> and <code>Is_Master</code> return values will be replaced with <code>Is_Primary</code> and <code>Is_Replica</code> in <code>community.mysql</code> 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/pull/147">https://github.com/ansible-collections/community.mysql/pull/147</a>).</li> <li>mysql_replication - the choices of the <code>state</code> option containing <code>master</code> will be finally replaced with the alternative <code>primary</code> choices in <code>community.mysql</code> 3.0.0, add deprecation warnings (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/pull/150">https://github.com/ansible-collections/community.mysql/pull/150</a>).</li> <li>mysql_replication - the mode options values <code>getslave</code>, <code>startslave</code>, <code>stopslave</code>, <code>resetslave</code>, <code>resetslaveall` and the master_use_gtid option ``slave_pos</code> are deprecated (see the alternative values) and will be removed in <code>community.mysql</code> 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/pull/97">https://github.com/ansible-collections/community.mysql/pull/97</a>).</li> <li>mysql_replication - the return value <code>Is_Slave</code> and <code>Is_Master</code> will be replaced with <code>Is_Replica</code> and <code>Is_Primary</code> in <code>community.mysql</code> 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/issues/145">https://github.com/ansible-collections/community.mysql/issues/145</a>).</li> <li>mysql_replication - the word <code>SLAVE</code> in messages returned by the module will be changed to <code>REPLICA</code> in <code>community.mysql</code> 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/issues/98">https://github.com/ansible-collections/community.mysql/issues/98</a>).</li> <li>mysql_replication - the word <code>master</code> in messages returned by the module will be replaced with <code>primary</code> in <code>community.mysql</code> 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/issues/145">https://github.com/ansible-collections/community.mysql/issues/145</a>).</li> <li>mysql_replication - the word <code>slave</code> in messages returned by the module replaced with <code>replica</code> (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/issues/98">https://github.com/ansible-collections/community.mysql/issues/98</a>).</li> <li>mysql_user - the <code>REQUIRESSL</code> is an alias for the <code>ssl</code> key in the <code>tls_requires</code> option in <code>community.mysql</code> 2.0.0 and support will be dropped altogether in <code>community.mysql</code> 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/issues/121">https://github.com/ansible-collections/community.mysql/issues/121</a>).</li> </ul> </section> <section id="id59"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>New module fortios_configuration_fact</li> <li>New module fortios_json_generic</li> <li>New module fortios_monitor</li> <li>New module fortios_monitor_fact</li> </ul> </section> <section id="id60"> <h4>junipernetworks.junos</h4> <ul class="simple"> <li>Please refer to ansible.netcommon <a class="reference external" href="https://github.com/ansible-collections/ansible.netcommon/blob/main/changelogs/CHANGELOG.rst#ansible-netcommon-collection-release-notes">changelog</a> for more details.</li> <li>Requires ansible.netcommon v2.0.0+ to support <code>ansible_network_single_user_mode</code> and <code>ansible_network_import_modules</code>.</li> </ul> </section> <section id="netapp-ontap"> <h4>netapp.ontap</h4> <ul class="simple"> <li>na_ontap_autosupport - Added REST support to the module.</li> </ul> </section> <section id="id62"> <h4>openvswitch.openvswitch</h4> <ul class="simple"> <li>There is no major changes for this particular release and it was tagged by mistake and cannot be reverted.</li> </ul> </section> <section id="id63"> <h4>servicenow.servicenow</h4> <ul class="simple"> <li>refactored client to inherit from AnsibleModule</li> <li>supports OpenID Connect authentication protocol</li> <li>supports bearer tokens for authentication</li> </ul> </section> <section id="id64"> <h4>vyos.vyos</h4> <ul class="simple"> <li>Please refer to ansible.netcommon <a class="reference external" href="https://github.com/ansible-collections/ansible.netcommon/blob/main/changelogs/CHANGELOG.rst#ansible-netcommon-collection-release-notes">changelog</a> for more details.</li> <li>Requires ansible.netcommon v2.0.0+ to support <code>ansible_network_single_user_mode</code> and <code>ansible_network_import_modules</code>
</li> <li>ipaddress is no longer in ansible.netcommon. For Python versions without ipaddress (&lt; 3.0), the ipaddress package is now required.</li> </ul> </section> </section> <section id="id66"> <h3>Removed Features</h3> <section id="id67"> <h4>Ansible-core</h4> <ul class="simple"> <li>Removed <code>SharedPluginLoaderObj</code> class from ansible.plugins.strategy. It was deprecated in favor of using the standard plugin loader.</li> <li>Removed <code>_get_item()</code> alias from callback plugin base class which had been deprecated in favor of <code>_get_item_label()</code>.</li> <li>The “user” parameter was previously deprecated and is now removed in favor of “scope”</li> <li>The deprecated <code>ansible.constants.BECOME_METHODS</code> has been removed.</li> <li>The deprecated <code>ansible.constants.get_config()</code> has been removed.</li> <li>The deprecated <code>ansible.constants.mk_boolean()</code> has been removed.</li> <li>
<code>with_*</code> loops are no longer optimized for modules whose <code>name</code> parameters can take lists (mostly package managers). Use <code>name</code> instead of looping over individual names with <code>with_items</code> and friends.</li> </ul> </section> <section id="id68"> <h4>community.general</h4> <ul> <li>
<p>The <code>ome_device_info</code>, <code>idrac_firmware</code> and <code>idrac_server_config_profile</code> modules have now been migrated from community.general to the <a class="reference external" href="https://galaxy.ansible.com/dellemc/openmanage">dellemc.openmanage</a> Ansible collection. If you use ansible-base 2.10 or newer, redirections have been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.general.idrac_firmware</code> → <code>dellemc.openmanage.idrac_firmware</code>) and make sure to install the dellemc.openmanage collection.</p> </li> <li>The deprecated ali_instance_facts module has been removed. Use ali_instance_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated gluster_heal_info module has been removed. Use gluster.gluster.gluster_heal_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated gluster_peer module has been removed. Use gluster.gluster.gluster_peer instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated gluster_volume module has been removed. Use gluster.gluster.gluster_volume instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated helm module has been removed. Use community.kubernetes.helm instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated hpilo_facts module has been removed. Use hpilo_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated idrac_redfish_facts module has been removed. Use idrac_redfish_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated jenkins_job_facts module has been removed. Use jenkins_job_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ldap_attr module has been removed. Use ldap_attrs instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated memset_memstore_facts module has been removed. Use memset_memstore_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated memset_server_facts module has been removed. Use memset_server_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated na_ontap_gather_facts module has been removed. Use netapp.ontap.na_ontap_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated nginx_status_facts module has been removed. Use nginx_status_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated one_image_facts module has been removed. Use one_image_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated onepassword_facts module has been removed. Use onepassword_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated oneview_datacenter_facts module has been removed. Use oneview_datacenter_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated oneview_enclosure_facts module has been removed. Use oneview_enclosure_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated oneview_ethernet_network_facts module has been removed. Use oneview_ethernet_network_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated oneview_fc_network_facts module has been removed. Use oneview_fc_network_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated oneview_fcoe_network_facts module has been removed. Use oneview_fcoe_network_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated oneview_logical_interconnect_group_facts module has been removed. Use oneview_logical_interconnect_group_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated oneview_network_set_facts module has been removed. Use oneview_network_set_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated oneview_san_manager_facts module has been removed. Use oneview_san_manager_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated online_server_facts module has been removed. Use online_server_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated online_user_facts module has been removed. Use online_user_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt module has been removed. Use ovirt.ovirt.ovirt_vm instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_affinity_label_facts module has been removed. Use ovirt.ovirt.ovirt_affinity_label_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_api_facts module has been removed. Use ovirt.ovirt.ovirt_api_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_cluster_facts module has been removed. Use ovirt.ovirt.ovirt_cluster_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_datacenter_facts module has been removed. Use ovirt.ovirt.ovirt_datacenter_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_disk_facts module has been removed. Use ovirt.ovirt.ovirt_disk_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_event_facts module has been removed. Use ovirt.ovirt.ovirt_event_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_external_provider_facts module has been removed. Use ovirt.ovirt.ovirt_external_provider_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_group_facts module has been removed. Use ovirt.ovirt.ovirt_group_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_host_facts module has been removed. Use ovirt.ovirt.ovirt_host_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_host_storage_facts module has been removed. Use ovirt.ovirt.ovirt_host_storage_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_network_facts module has been removed. Use ovirt.ovirt.ovirt_network_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_nic_facts module has been removed. Use ovirt.ovirt.ovirt_nic_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_permission_facts module has been removed. Use ovirt.ovirt.ovirt_permission_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_quota_facts module has been removed. Use ovirt.ovirt.ovirt_quota_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_scheduling_policy_facts module has been removed. Use ovirt.ovirt.ovirt_scheduling_policy_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_snapshot_facts module has been removed. Use ovirt.ovirt.ovirt_snapshot_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_storage_domain_facts module has been removed. Use ovirt.ovirt.ovirt_storage_domain_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_storage_template_facts module has been removed. Use ovirt.ovirt.ovirt_storage_template_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_storage_vm_facts module has been removed. Use ovirt.ovirt.ovirt_storage_vm_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_tag_facts module has been removed. Use ovirt.ovirt.ovirt_tag_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_template_facts module has been removed. Use ovirt.ovirt.ovirt_template_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_user_facts module has been removed. Use ovirt.ovirt.ovirt_user_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_vm_facts module has been removed. Use ovirt.ovirt.ovirt_vm_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated ovirt_vmpool_facts module has been removed. Use ovirt.ovirt.ovirt_vmpool_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated purefa_facts module has been removed. Use purestorage.flasharray.purefa_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated purefb_facts module has been removed. Use purestorage.flasharray.purefb_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated python_requirements_facts module has been removed. Use python_requirements_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated redfish_facts module has been removed. Use redfish_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated scaleway_image_facts module has been removed. Use scaleway_image_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated scaleway_ip_facts module has been removed. Use scaleway_ip_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated scaleway_organization_facts module has been removed. Use scaleway_organization_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated scaleway_security_group_facts module has been removed. Use scaleway_security_group_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated scaleway_server_facts module has been removed. Use scaleway_server_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated scaleway_snapshot_facts module has been removed. Use scaleway_snapshot_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated scaleway_volume_facts module has been removed. Use scaleway_volume_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated smartos_image_facts module has been removed. Use smartos_image_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated vertica_facts module has been removed. Use vertica_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The deprecated xenserver_guest_facts module has been removed. Use xenserver_guest_info instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>The ovirt_facts docs fragment has been removed (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1924">https://github.com/ansible-collections/community.general/pull/1924</a>).</li> <li>airbrake_deployment - removed deprecated <code>token</code> parameter. Use <code>project_id</code> and <code>project_key</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>bigpanda - the alias <code>message</code> has been removed. Use <code>deployment_message</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>cisco_spark, cisco_webex - the alias <code>message</code> has been removed. Use <code>msg</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>clc_aa_policy - the <code>wait</code> parameter has been removed. It did not have any effect (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>datadog_monitor - the alias <code>message</code> has been removed. Use <code>notification_message</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>django_manage - the parameter <code>liveserver</code> has been removed (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>idrac_redfish_config - the parameters <code>manager_attribute_name</code> and <code>manager_attribute_value</code> have been removed. Use <code>manager_attributes</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>iso_extract - the alias <code>thirsty</code> has been removed. Use <code>force</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>ldap_entry - the <code>params</code> parameter is now completely removed. Using it already triggered an error since community.general 0.1.2 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2257">https://github.com/ansible-collections/community.general/pull/2257</a>).</li> <li>pulp_repo - the <code>feed_client_cert</code> parameter no longer defaults to the value of the <code>client_cert</code> parameter (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>pulp_repo - the <code>feed_client_key</code> parameter no longer defaults to the value of the <code>client_key</code> parameter (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>pulp_repo - the alias <code>ca_cert</code> has been removed. Use <code>feed_ca_cert</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>rax - unused parameter <code>service</code> removed (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2020">https://github.com/ansible-collections/community.general/pull/2020</a>).</li> <li>redfish modules - issuing a data modification command without specifying the ID of the target System, Chassis or Manager resource when there is more than one is no longer allowed. Use the <code>resource_id</code> option to specify the target ID (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>redfish_config - the parameters <code>bios_attribute_name</code> and <code>bios_attribute_value</code> have been removed. Use <code>bios_attributes</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>syspatch - the <code>apply</code> parameter has been removed. This is the default mode, so simply removing it will not change the behavior (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> <li>xbps - the <code>force</code> parameter has been removed. It did not have any effect (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1926">https://github.com/ansible-collections/community.general/pull/1926</a>).</li> </ul> </section> <section id="community-network"> <h4>community.network</h4> <ul class="simple"> <li>The deprecated <code>community.network.ce_sflow</code> parameters: <code>rate_limit</code>, <code>rate_limit_slot</code>, and <code>forward_enp_slot</code> have been removed (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/255">https://github.com/ansible-collections/community.network/pull/255</a>).</li> <li>The deprecated <code>community.network.sros</code> netconf plugin has been removed. Use <code>nokia.sros.md</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/255">https://github.com/ansible-collections/community.network/pull/255</a>).</li> </ul> </section> <section id="f5networks-f5-modules"> <h4>f5networks.f5_modules</h4> <ul class="simple"> <li>Removed TMOS v11 support for bigip_gtm_pool and bigip_gtm_wide_ip modules</li> <li>Removed quorum and monitor_type parameters in bigip_node module. See porting guides section at <a class="reference external" href="https://clouddocs.f5.com/products/orchestration/ansible/devel/usage/porting-guides.html">https://clouddocs.f5.com/products/orchestration/ansible/devel/usage/porting-guides.html</a>
</li> <li>Removed syslog_settings and pool_settings parameters in bigip_log_destination moduke. See porting guides section at <a class="reference external" href="https://clouddocs.f5.com/products/orchestration/ansible/devel/usage/porting-guides.html">https://clouddocs.f5.com/products/orchestration/ansible/devel/usage/porting-guides.html</a>
</li> </ul> </section> <section id="id70"> <h4>fortinet.fortios</h4> <ul class="simple"> <li>Removed module fortios_facts</li> <li>Removed module fortios_registration_forticare</li> <li>Removed module fortios_registration_vdom</li> <li>Removed module fortios_system_config_backup_restore</li> <li>Removed module fortios_system_vmlicense</li> </ul> </section> </section> <section id="id71"> <h3>Deprecated Features</h3> <section id="id72"> <h4>Ansible-core</h4> <ul class="simple"> <li>Starting in 2.14, shell and command modules will no longer have the option to warn and suggest modules in lieu of commands. The <code>warn</code> parameter to these modules is now deprecated and defaults to <code>False</code>. Similarly, the <code>COMMAND_WARNINGS</code> configuration option is also deprecated and defaults to <code>False</code>. These will be removed and their presence will become an error in 2.14.</li> <li>apt_key - the parameter <code>key</code> does not have any effect, has been deprecated and will be removed in ansible-core version 2.14 (<a class="reference external" href="https://github.com/ansible/ansible/pull/70319">https://github.com/ansible/ansible/pull/70319</a>).</li> <li>psrp - Set the minimum version of <code>pypsrp</code> to <code>0.4.0</code>.</li> </ul> </section> <section id="id73"> <h4>ansible.netcommon</h4> <ul class="simple"> <li>Deprecate cli_parse module and textfsm, ttp, xml, json parser plugins as they are moved to ansible.utils collection (<a class="reference external" href="https://github.com/ansible-collections/ansible.netcommon/pull/182">https://github.com/ansible-collections/ansible.netcommon/pull/182</a> <a class="reference external" href="https://github.com/ansible-collections/ansible.utils/pull/28">https://github.com/ansible-collections/ansible.utils/pull/28</a>)</li> </ul> </section> <section id="id74"> <h4>cisco.nxos</h4> <ul class="simple"> <li>Deprecated nxos_bgp_af in favour of nxos_bgp_address_family resource module.</li> <li>Deprecated nxos_bgp_neighbor_af in favour of nxos_bgp_neighbor_address_family resource module.</li> </ul> </section> <section id="id75"> <h4>cloudscale_ch.cloud</h4> <ul class="simple"> <li>The aliases <code>server_uuids</code> and <code>server_uuid</code> of the servers parameter in the volume module will be removed in version 3.0.0.</li> </ul> </section> <section id="community-aws"> <h4>community.aws</h4> <ul class="simple"> <li>ec2_eip - formally deprecate the <code>instance_id</code> alias for <code>device_id</code> (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/349">https://github.com/ansible-collections/community.aws/pull/349</a>).</li> <li>ec2_vpc_endpoint - deprecate the policy_file option and recommend using policy with a lookup (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/366">https://github.com/ansible-collections/community.aws/pull/366</a>).</li> <li>ec2_vpc_endpoint_info - the <code>query</code> option has been deprecated and will be removed after 2022-12-01 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/346">https://github.com/ansible-collections/community.aws/pull/346</a>). The ec2_vpc_endpoint_info now defaults to listing information about endpoints. The ability to search for information about available services has been moved to the dedicated module <code>ec2_vpc_endpoint_service_info</code>.</li> </ul> </section> <section id="community-crypto"> <h4>community.crypto</h4> <ul class="simple"> <li>acme module_utils - the <code>acme</code> module_utils (<code>ansible_collections.community.crypto.plugins.module_utils.acme</code>) is deprecated and will be removed in community.crypto 2.0.0. Use the new Python modules in the <code>acme</code> package instead (<code>ansible_collections.community.crypto.plugins.module_utils.acme.xxx</code>) (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/184">https://github.com/ansible-collections/community.crypto/pull/184</a>).</li> <li>acme_account_info - when <code>retrieve_orders=url_list</code>, <code>orders</code> will no longer be returned in community.crypto 2.0.0. Use <code>order_uris</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/178">https://github.com/ansible-collections/community.crypto/pull/178</a>).</li> </ul> </section> <section id="id76"> <h4>community.general</h4> <ul class="simple"> <li>apt_rpm - deprecated invalid parameter alias <code>update-cache</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>composer - deprecated invalid parameter aliases <code>working-dir</code>, <code>global-command</code>, <code>prefer-source</code>, <code>prefer-dist</code>, <code>no-dev</code>, <code>no-scripts</code>, <code>no-plugins</code>, <code>optimize-autoloader</code>, <code>classmap-authoritative</code>, <code>apcu-autoloader</code>, <code>ignore-platform-reqs</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>cpanm - parameter <code>system_lib</code> deprecated in favor of using <code>become</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/2218">https://github.com/ansible-collections/community.general/pull/2218</a>).</li> <li>github_deploy_key - deprecated invalid parameter alias <code>2fa_token</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>grove - the option <code>message</code> will be removed in community.general 4.0.0. Use the new option <code>message_content</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1929">https://github.com/ansible-collections/community.general/pull/1929</a>).</li> <li>homebrew - deprecated invalid parameter alias <code>update-brew</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>homebrew_cask - deprecated invalid parameter alias <code>update-brew</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>opkg - deprecated invalid parameter alias <code>update-cache</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>pacman - deprecated invalid parameter alias <code>update-cache</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>puppet - deprecated undocumented parameter <code>show_diff</code>, will be removed in 7.0.0. (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>runit - unused parameter <code>dist</code> marked for deprecation (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1830">https://github.com/ansible-collections/community.general/pull/1830</a>).</li> <li>slackpkg - deprecated invalid parameter alias <code>update-cache</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>urpmi - deprecated invalid parameter aliases <code>update-cache</code> and <code>no-recommends</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>xbps - deprecated invalid parameter alias <code>update-cache</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>xfconf - returning output as facts is deprecated, this will be removed in community.general 4.0.0. Please register the task output in a variable and use it instead. You can already switch to the new behavior now by using the new <code>disable_facts</code> option (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1747">https://github.com/ansible-collections/community.general/pull/1747</a>).</li> </ul> </section> <section id="id77"> <h4>community.vmware</h4> <ul class="simple"> <li>vmware_vmkernel_ip_config - deprecate in favor of vmware_vmkernel (<a class="reference external" href="https://github.com/ansible-collections/community.vmware/pull/667">https://github.com/ansible-collections/community.vmware/pull/667</a>).</li> </ul> </section> <section id="id78"> <h4>f5networks.f5_modules</h4> <ul class="simple"> <li>Support for Python versions earlier than 3.5 is being deprecated</li> </ul> </section> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_4.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_4.html</a>
  </p>
</div>
