<section id="ansible-3-porting-guide"> <h1 id="porting-3-guide">Ansible 3 Porting Guide</h1>  <ul class="simple"> <li>
<p><a class="reference internal" href="#porting-guide-for-v3-4-0" id="id45">Porting Guide for v3.4.0</a></p> <ul> <li><a class="reference internal" href="#known-issues" id="id46">Known Issues</a></li> <li><a class="reference internal" href="#major-changes" id="id47">Major Changes</a></li> <li><a class="reference internal" href="#deprecated-features" id="id48">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v3-3-0" id="id49">Porting Guide for v3.3.0</a></p> <ul> <li><a class="reference internal" href="#id1" id="id50">Major Changes</a></li> <li><a class="reference internal" href="#id2" id="id51">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v3-2-0" id="id52">Porting Guide for v3.2.0</a></p> <ul> <li><a class="reference internal" href="#id3" id="id53">Known Issues</a></li> <li><a class="reference internal" href="#breaking-changes" id="id54">Breaking Changes</a></li> <li><a class="reference internal" href="#id6" id="id55">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v3-1-0" id="id56">Porting Guide for v3.1.0</a></p> <ul> <li><a class="reference internal" href="#id7" id="id57">Known Issues</a></li> <li><a class="reference internal" href="#id9" id="id58">Major Changes</a></li> <li><a class="reference internal" href="#removed-features" id="id59">Removed Features</a></li> <li><a class="reference internal" href="#id12" id="id60">Deprecated Features</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#porting-guide-for-v3-0-0" id="id61">Porting Guide for v3.0.0</a></p> <ul> <li><a class="reference internal" href="#id15" id="id62">Known Issues</a></li> <li><a class="reference internal" href="#id17" id="id63">Breaking Changes</a></li> <li><a class="reference internal" href="#id21" id="id64">Major Changes</a></li> <li><a class="reference internal" href="#id27" id="id65">Removed Features</a></li> <li><a class="reference internal" href="#id37" id="id66">Deprecated Features</a></li> </ul> </li> </ul>  <p>Ansible 3 is based on Ansible-Base 2.10, which is the same major release as Ansible 2.10. Therefore, there is no section on ansible-base in this porting guide. If you are upgrading from Ansible 2.9, please first consult the Ansible 2.10 porting guide before continuing with the Ansible 3 porting guide.</p> <p>We suggest you read this page along with the <a class="reference external" href="https://github.com/ansible-community/ansible-build-data/blob/main/3/CHANGELOG-v3.rst">Ansible 3 Changelog</a> to understand what updates you may need to make.</p> <section id="porting-guide-for-v3-4-0"> <h2>Porting Guide for v3.4.0</h2> <section id="known-issues"> <h3>Known Issues</h3> <section id="dellemc-openmanage"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) Module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> <li>ome_configuration_compliance_info - Issue(195592) Module may error out with the message <code>unable to process the request because an error occurred</code>. If the issue persists, report it to the system administrator.</li> <li>ome_smart_fabric - Issue(185322) Only three design types are supported by OpenManage Enterprise Modular but the module successfully creates a fabric when the design type is not supported.</li> <li>ome_smart_fabric_uplink - Issue(186024) ome_smart_fabric_uplink module does not allow the creation of multiple uplinks of the same name even though this is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> </section> <section id="major-changes"> <h3>Major Changes</h3> <section id="ansible-base"> <h4>Ansible-base</h4> <ul class="simple"> <li>ansible-test - Tests run with the <code>centos6</code> and <code>default</code> test containers now use a PyPI proxy container to access PyPI when Python 2.6 is used. This allows tests running under Python 2.6 to continue functioning even though PyPI is discontinuing support for non-SNI capable clients.</li> </ul> </section> <section id="community-postgresql"> <h4>community.postgresql</h4> <ul class="simple"> <li>postgresql_query - the default value of the <code>as_single_query</code> option will be changed to <code>yes</code> in community.postgresql 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.postgresql/issues/85">https://github.com/ansible-collections/community.postgresql/issues/85</a>).</li> </ul> </section> <section id="netapp-ontap"> <h4>netapp.ontap</h4> <ul class="simple"> <li>na_ontap_autosupport - Added REST support to the module.</li> </ul> </section> </section> <section id="deprecated-features"> <h3>Deprecated Features</h3> <section id="community-aws"> <h4>community.aws</h4> <ul class="simple"> <li>ec2_vpc_endpoint_info - the <code>query</code> option has been deprecated and will be removed after 2022-12-01 (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/346">https://github.com/ansible-collections/community.aws/pull/346</a>). The ec2_vpc_endpoint_info now defaults to listing information about endpoints. The ability to search for information about available services has been moved to the dedicated module <code>ec2_vpc_endpoint_service_info</code>.</li> </ul> </section> <section id="community-docker"> <h4>community.docker</h4> <ul class="simple"> <li>docker_* modules and plugins, except <code>docker_swarm</code> connection plugin and <code>docker_compose</code> and <code>docker_stack*` modules - the current default ``localhost</code> for <code>tls_hostname</code> is deprecated. In community.docker 2.0.0 it will be computed from <code>docker_host</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/134">https://github.com/ansible-collections/community.docker/pull/134</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v3-3-0"> <h2>Porting Guide for v3.3.0</h2> <section id="id1"> <h3>Major Changes</h3> <section id="community-mysql"> <h4>community.mysql</h4> <ul class="simple"> <li>mysql_user - the <code>REQUIRESSL</code> is an alias for the <code>ssl</code> key in the <code>tls_requires</code> option in <code>community.mysql</code> 2.0.0 and support will be dropped altogether in <code>community.mysql</code> 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/issues/121">https://github.com/ansible-collections/community.mysql/issues/121</a>).</li> </ul> </section> </section> <section id="id2"> <h3>Deprecated Features</h3> <section id="community-vmware"> <h4>community.vmware</h4> <ul class="simple"> <li>vmware_vmkernel_ip_config - deprecate in favor of vmware_vmkernel (<a class="reference external" href="https://github.com/ansible-collections/community.vmware/pull/667">https://github.com/ansible-collections/community.vmware/pull/667</a>).</li> </ul> </section> <section id="f5networks-f5-modules"> <h4>f5networks.f5_modules</h4> <ul class="simple"> <li>Support for Python versions earlier than 3.5 is being deprecated</li> </ul> </section> </section> </section> <section id="porting-guide-for-v3-2-0"> <h2>Porting Guide for v3.2.0</h2> <section id="id3"> <h3>Known Issues</h3> <section id="id4"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>idrac_user - Issue(192043) Module may error out with the message <code>unable to perform the import or export operation because there are pending attribute changes or a configuration job is in progress</code>. Wait for the job to complete and run the task again.</li> <li>ome_configuration_compliance_info - Issue(195592) Module may error out with the message <code>unable to process the request because an error occurred</code>. If the issue persists, report it to the system administrator.</li> <li>ome_smart_fabric - Issue(185322) Only three design types are supported by OpenManage Enterprise Modular but the module successfully creates a fabric when the design type is not supported.</li> <li>ome_smart_fabric_uplink - Issue(186024) ome_smart_fabric_uplink module does not allow the creation of multiple uplinks of the same name even though this is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> </section> <section id="breaking-changes"> <h3>Breaking Changes</h3> <section id="id5"> <h4>community.docker</h4> <ul class="simple"> <li>docker_swarm - if <code>join_token</code> is specified, a returned join token with the same value will be replaced by <code>VALUE_SPECIFIED_IN_NO_LOG_PARAMETER</code>. Make sure that you do not blindly use the join tokens from the return value of this module when the module is invoked with <code>join_token</code> specified! This breaking change appears in a minor release since it is necessary to fix a security issue (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/103">https://github.com/ansible-collections/community.docker/pull/103</a>).</li> </ul> </section> </section> <section id="id6"> <h3>Deprecated Features</h3> <section id="community-crypto"> <h4>community.crypto</h4> <ul class="simple"> <li>acme module_utils - the <code>acme</code> module_utils (<code>ansible_collections.community.crypto.plugins.module_utils.acme</code>) is deprecated and will be removed in community.crypto 2.0.0. Use the new Python modules in the <code>acme</code> package instead (<code>ansible_collections.community.crypto.plugins.module_utils.acme.xxx</code>) (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/184">https://github.com/ansible-collections/community.crypto/pull/184</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v3-1-0"> <h2>Porting Guide for v3.1.0</h2> <section id="id7"> <h3>Known Issues</h3> <section id="id8"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>ome_smart_fabric - Issue(185322) Only three design types are supported by OpenManage Enterprise Modular but the module successfully creates a fabric when the design type is not supported.</li> <li>ome_smart_fabric_uplink - Issue(186024) ome_smart_fabric_uplink module does not allow the creation of multiple uplinks of the same name even though this is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> </ul> </section> </section> <section id="id9"> <h3>Major Changes</h3> <section id="community-grafana"> <h4>community.grafana</h4> <ul class="simple"> <li>introduce “skip_version_check” parameter in grafana_teams and grafana_folder modules (#147)</li> </ul> </section> <section id="id10"> <h4>community.mysql</h4> <ul class="simple"> <li>mysql_replication - the mode options values <code>getslave</code>, <code>startslave</code>, <code>stopslave</code>, <code>resetslave</code>, <code>resetslaveall` and the master_use_gtid option ``slave_pos</code> are deprecated (see the alternative values) and will be removed in <code>community.mysql</code> 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/pull/97">https://github.com/ansible-collections/community.mysql/pull/97</a>).</li> <li>mysql_replication - the word <code>SLAVE</code> in messages returned by the module will be changed to <code>REPLICA</code> in <code>community.mysql</code> 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.mysql/issues/98">https://github.com/ansible-collections/community.mysql/issues/98</a>).</li> </ul> </section> </section> <section id="removed-features"> <h3>Removed Features</h3> <section id="id11"> <h4>f5networks.f5_modules</h4> <ul class="simple"> <li>Removed TMOS v11 support for bigip_gtm_pool and bigip_gtm_wide_ip modules</li> <li>Removed quorum and monitor_type parameters in bigip_node module. See porting guides section at <a class="reference external" href="https://clouddocs.f5.com/products/orchestration/ansible/devel/usage/porting-guides.html">https://clouddocs.f5.com/products/orchestration/ansible/devel/usage/porting-guides.html</a>
</li> <li>Removed syslog_settings and pool_settings parameters in bigip_log_destination moduke. See porting guides section at <a class="reference external" href="https://clouddocs.f5.com/products/orchestration/ansible/devel/usage/porting-guides.html">https://clouddocs.f5.com/products/orchestration/ansible/devel/usage/porting-guides.html</a>
</li> </ul> </section> </section> <section id="id12"> <h3>Deprecated Features</h3> <section id="cloudscale-ch-cloud"> <h4>cloudscale_ch.cloud</h4> <ul class="simple"> <li>The aliases <code>server_uuids</code> and <code>server_uuid</code> of the servers parameter in the volume module will be removed in version 3.0.0.</li> </ul> </section> <section id="id13"> <h4>community.aws</h4> <ul class="simple"> <li>ec2_eip - formally deprecate the <code>instance_id</code> alias for <code>device_id</code> (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/349">https://github.com/ansible-collections/community.aws/pull/349</a>).</li> <li>ec2_vpc_endpoint - deprecate the policy_file option and recommend using policy with a lookup (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/366">https://github.com/ansible-collections/community.aws/pull/366</a>).</li> </ul> </section> <section id="id14"> <h4>community.crypto</h4> <ul class="simple"> <li>acme_account_info - when <code>retrieve_orders=url_list</code>, <code>orders</code> will no longer be returned in community.crypto 2.0.0. Use <code>order_uris</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.crypto/pull/178">https://github.com/ansible-collections/community.crypto/pull/178</a>).</li> </ul> </section> <section id="community-general"> <h4>community.general</h4> <ul class="simple"> <li>apt_rpm - deprecated invalid parameter alias <code>update-cache</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>composer - deprecated invalid parameter aliases <code>working-dir</code>, <code>global-command</code>, <code>prefer-source</code>, <code>prefer-dist</code>, <code>no-dev</code>, <code>no-scripts</code>, <code>no-plugins</code>, <code>optimize-autoloader</code>, <code>classmap-authoritative</code>, <code>apcu-autoloader</code>, <code>ignore-platform-reqs</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>github_deploy_key - deprecated invalid parameter alias <code>2fa_token</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>grove - the option <code>message</code> will be removed in community.general 4.0.0. Use the new option <code>message_content</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1929">https://github.com/ansible-collections/community.general/pull/1929</a>).</li> <li>homebrew - deprecated invalid parameter alias <code>update-brew</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>homebrew_cask - deprecated invalid parameter alias <code>update-brew</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>opkg - deprecated invalid parameter alias <code>update-cache</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>pacman - deprecated invalid parameter alias <code>update-cache</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>puppet - deprecated undocumented parameter <code>show_diff</code>, will be removed in 7.0.0. (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>runit - unused parameter <code>dist</code> marked for deprecation (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1830">https://github.com/ansible-collections/community.general/pull/1830</a>).</li> <li>slackpkg - deprecated invalid parameter alias <code>update-cache</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>urpmi - deprecated invalid parameter aliases <code>update-cache</code> and <code>no-recommends</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>xbps - deprecated invalid parameter alias <code>update-cache</code>, will be removed in 5.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1927">https://github.com/ansible-collections/community.general/pull/1927</a>).</li> <li>xfconf - returning output as facts is deprecated, this will be removed in community.general 4.0.0. Please register the task output in a variable and use it instead. You can already switch to the new behavior now by using the new <code>disable_facts</code> option (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1747">https://github.com/ansible-collections/community.general/pull/1747</a>).</li> </ul> </section> </section> </section> <section id="porting-guide-for-v3-0-0"> <h2>Porting Guide for v3.0.0</h2> <section id="id15"> <h3>Known Issues</h3> <section id="id16"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>Issue 1(186024): ome_smart_fabric_uplink module does not allow the creation of multiple uplinks of the same name even though this is supported by OpenManage Enterprise Modular. If an uplink is created using the same name as an existing uplink, the existing uplink is modified.</li> <li>Issue 2(187956): If an invalid job_id is provided, idrac_lifecycle_controller_job_status_info returns an error message. This error message does not contain information about the exact issue with the invalid job_id.</li> <li>Issue 3(188267): While updating the iDRAC firmware, the idrac_firmware module completes execution before the firmware update job is completed. An incorrect message is displayed in the task output as ‘DRAC WSMAN endpoint returned HTTP code ‘400’ Reason ‘Bad Request’’. This issue may occur if the target iDRAC firmware version is less than 3.30.30.30</li> </ul> </section> </section> <section id="id17"> <h3>Breaking Changes</h3> <section id="id18"> <h4>Ansible-base</h4> <ul class="simple"> <li>ansible-galaxy login command has been removed ( see <a class="reference external" href="https://github.com/ansible/ansible/issues/71560">issue 71560</a>)</li> </ul> </section> <section id="ansible-utils"> <h4>ansible.utils</h4> <ul class="simple"> <li>If added custom sub plugins in your collection move from old location <code>plugins/&lt;sub-plugin-name&gt;</code> to the new location <code>plugins/sub_plugins/&lt;sub-plugin-name&gt;</code> and update the imports as required</li> <li>Move sub plugins cli_parsers, fact_diff and validate to <code>plugins/sub_plugins</code> folder</li> <li>The <code>cli_parsers</code> sub plugins folder name is changed to <code>cli_parse</code> to have consistent naming convention, that is all the cli_parse subplugins will now be in <code>plugins/sub_plugins/cli_parse</code> folder</li> </ul> </section> <section id="id19"> <h4>cloudscale_ch.cloud</h4> <ul class="simple"> <li>floating_ip - <code>name</code> is required for assigning a new floating IP.</li> </ul> </section> <section id="id20"> <h4>community.general</h4> <ul> <li>
<p>If you use Ansible 2.9 and the Google cloud plugins or modules from this collection, community.general 2.0.0 results in errors when trying to use the Google cloud content by FQCN, like <code>community.general.gce_img</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCNs (<code>community.google.gce_img</code> for the previous example) and to make sure that you have <code>community.google</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.general manually, you need to make sure to also install the <code>community.google</code> or <code>google.cloud</code> collections if you are using any of the Google cloud plugins or modules. While ansible-base 2.10 or newer can use the redirects that community.general 2.0.0 adds, the collection they point to (such as community.google) must be installed for them to work.</p> </li> <li>
<p>If you use Ansible 2.9 and the Kubevirt plugins or modules from this collection, community.general 2.0.0 results in errors when trying to use the Kubevirt content by FQCN, like <code>community.general.kubevirt_vm</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCNs (<code>community.kubevirt.kubevirt_vm</code> for the previous example) and to make sure that you have <code>community.kubevirt</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.general manually, you need to make sure to also install the <code>community.kubevirt</code> collection if you are using any of the Kubevirt plugins or modules. While ansible-base 2.10 or newer can use the redirects that community.general 2.0.0 adds, the collection they point to (such as community.google) must be installed for them to work.</p> </li> <li>
<p>If you use Ansible 2.9 and the <code>docker</code> plugins or modules from this collections, community.general 2.0.0 results in errors when trying to use the docker content by FQCN, like <code>community.general.docker_container</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCNs (<code>community.docker.docker_container</code> for the previous example) and to make sure that you have <code>community.docker</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.general manually, you need to make sure to also install <code>community.docker</code> if you are using any of the <code>docker</code> plugins or modules. While ansible-base 2.10 or newer can use the redirects that community.general 2.0.0 adds, the collection they point to (community.docker) must be installed for them to work.</p> </li> <li>
<p>If you use Ansible 2.9 and the <code>hashi_vault</code> lookup plugin from this collections, community.general 2.0.0 results in errors when trying to use the Hashi Vault content by FQCN, like <code>community.general.hashi_vault</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your inventories, variable files, playbooks and roles manually to use the new FQCN (<code>community.hashi_vault.hashi_vault</code>) and to make sure that you have <code>community.hashi_vault</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.general manually, you need to make sure to also install <code>community.hashi_vault</code> if you are using the <code>hashi_vault</code> plugin. While ansible-base 2.10 or newer can use the redirects that community.general 2.0.0 adds, the collection they point to (community.hashi_vault) must be installed for them to work.</p> </li> <li>
<p>If you use Ansible 2.9 and the <code>hetzner</code> modules from this collections, community.general 2.0.0 results in errors when trying to use the hetzner content by FQCN, like <code>community.general.hetzner_firewall</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCNs (<code>community.hrobot.firewall</code> for the previous example) and to make sure that you have <code>community.hrobot</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.general manually, you need to make sure to also install <code>community.hrobot</code> if you are using any of the <code>hetzner</code> modules. While ansible-base 2.10 or newer can use the redirects that community.general 2.0.0 adds, the collection they point to (community.hrobot) must be installed for them to work.</p> </li> <li>
<p>If you use Ansible 2.9 and the <code>oc</code> connection plugin from this collections, community.general 2.0.0 results in errors when trying to use the oc content by FQCN, like <code>community.general.oc</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your inventories, variable files, playbooks and roles manually to use the new FQCN (<code>community.okd.oc</code>) and to make sure that you have <code>community.okd</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.general manually, you need to make sure to also install <code>community.okd</code> if you are using the <code>oc</code> plugin. While ansible-base 2.10 or newer can use the redirects that community.general 2.0.0 adds, the collection they point to (community.okd) must be installed for them to work.</p> </li> <li>
<p>If you use Ansible 2.9 and the <code>postgresql</code> modules from this collections, community.general 2.0.0 results in errors when trying to use the postgresql content by FQCN, like <code>community.general.postgresql_info</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCNs (<code>community.postgresql.postgresql_info</code> for the previous example) and to make sure that you have <code>community.postgresql</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.general manually, you need to make sure to also install <code>community.postgresql</code> if you are using any of the <code>postgresql</code> modules. While ansible-base 2.10 or newer can use the redirects that community.general 2.0.0 adds, the collection they point to (community.postgresql) must be installed for them to work.</p> </li> <li>The Google cloud inventory script <code>gce.py</code> has been migrated to the <code>community.google</code> collection. Install the <code>community.google</code> collection in order to continue using it.</li> <li>archive - remove path folder itself when <code>remove</code> parameter is true (<a class="reference external" href="https://github.com/ansible-collections/community.general/issues/1041">https://github.com/ansible-collections/community.general/issues/1041</a>).</li> <li>log_plays callback - add missing information to the logs generated by the callback plugin. This changes the log message format (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/442">https://github.com/ansible-collections/community.general/pull/442</a>).</li> <li>passwordstore lookup plugin - now parsing a password store entry as YAML if possible, skipping the first line (which by convention only contains the password and nothing else). If it cannot be parsed as YAML, the old <code>key: value</code> parser will be used to process the entry. Can break backwards compatibility if YAML formatted code was parsed in a non-YAML interpreted way, for example <code>foo: [bar, baz]</code>, will become a list with two elements in the new version, but a string <code>'[bar, baz]'</code> in the old (<a class="reference external" href="https://github.com/ansible-collections/community.general/issues/1673">https://github.com/ansible-collections/community.general/issues/1673</a>).</li> <li>pkgng - passing <code>name: *</code> with <code>state: absent</code> will no longer remove every installed package from the system. It is now a noop. (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/569">https://github.com/ansible-collections/community.general/pull/569</a>).</li> <li>pkgng - passing <code>name: *</code> with <code>state: latest</code> or <code>state: present</code> will no longer install every package from the configured package repositories. Instead, <code>name: *, state: latest</code> will upgrade all already-installed packages, and <code>name: *, state: present</code> is a noop. (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/569">https://github.com/ansible-collections/community.general/pull/569</a>).</li> <li>proxmox_kvm - recognize <code>force=yes</code> in conjunction with <code>state=absent</code> to forcibly remove a running VM (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/849">https://github.com/ansible-collections/community.general/pull/849</a>).</li> <li>utm_proxy_auth_profile - the <code>frontend_cookie_secret</code> return value now contains a placeholder string instead of the module’s <code>frontend_cookie_secret</code> parameter (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1736">https://github.com/ansible-collections/community.general/pull/1736</a>).</li> </ul> </section> <section id="community-hashi-vault"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>hashi_vault - the <code>VAULT_ADDR</code> environment variable is now checked last for the <code>url</code> parameter. For details on which use cases are impacted, see (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/8">https://github.com/ansible-collections/community.hashi_vault/issues/8</a>).</li> </ul> </section> <section id="community-hrobot"> <h4>community.hrobot</h4> <ul class="simple"> <li>firewall - now requires the <a class="reference external" href="https://pypi.org/project/ipaddress/">ipaddress</a> library (<a class="reference external" href="https://github.com/ansible-collections/community.hrobot/pull/2">https://github.com/ansible-collections/community.hrobot/pull/2</a>).</li> </ul> </section> <section id="community-network"> <h4>community.network</h4> <ul> <li>
<p>If you use Ansible 2.9 and the FortiOS modules from this collection, community.network 2.0.0 results in errors when trying to use the FortiOS content by FQCN, like <code>community.network.fmgr_device</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCNs (<code>community.fortios.fmgr_device</code> for the previous example) and to make sure that you have <code>community.fortios</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.network manually, you need to make sure to also install <code>community.fortios</code> if you are using any of the FortiOS modules. While ansible-base 2.10 or newer can use the redirects that community.network 2.0.0 adds, the collection they point to (community.fortios) must be installed for them to work.</p> </li> <li>If you use Ansible 2.9 and the <code>cp_publish</code> module from this collection, community.network 2.0.0 results in errors when trying to use the module by FQCN, that is <code>community.network.cp_publish</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCNs (<code>check_point.mgmt.cp_mgmt_publish</code>) and to make sure that you have <code>check_point.mgmt</code> installed. If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.network manually, you need to make sure to also install <code>check_point.mgmt</code> if you are using the <code>cp_publish</code> module. While ansible-base 2.10 or newer can use the redirects that community.network 2.0.0 adds, the collection they point to (check_point.mgmt) must be installed for them to work.</li> <li>
<p>If you use Ansible 2.9 and the <code>fortimanager</code> httpapi plugin from this collection, community.network 2.0.0 results in errors when trying to use it by FQCN (<code>community.network.fortimanager</code>). Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCN <code>fortinet.fortimanager.fortimanager</code> and to make sure that you have <code>fortinet.fortimanager</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.network manually, you need to make sure to also install <code>fortinet.fortimanager</code> if you are using the <code>fortimanager</code> httpapi plugin. While ansible-base 2.10 or newer can use the redirect that community.network 2.0.0 adds, the collection they point to (fortinet.fortimanager) must be installed for it to work.</p> </li> <li>
<p>If you use Ansible 2.9 and the <code>nso</code> modules from this collection, community.network 2.0.0 results in errors when trying to use the nso content by FQCN, like <code>community.network.nso_config</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCNs (<code>cisco.nso.nso_config</code> for the previous example) and to make sure that you have <code>cisco.nso</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.network manually, you need to make sure to also install <code>cisco.nso</code> if you are using any of the <code>nso</code> modules. While ansible-base 2.10 or newer can use the redirects that community.network 2.0.0 adds, the collection they point to (cisco.nso) must be installed for them to work.</p> </li> <li>
<p>If you use Ansible 2.9 and the <code>routeros</code> plugins or modules from this collections, community.network 2.0.0 results in errors when trying to use the routeros content by FQCN, like <code>community.network.routeros_command</code>. Since Ansible 2.9 is not able to use redirections, you will have to adjust your playbooks and roles manually to use the new FQCNs (<code>community.routeros.command</code> for the previous example) and to make sure that you have <code>community.routeros</code> installed.</p> <p>If you use ansible-base 2.10 or newer and did not install Ansible 3.0.0, but installed (and/or upgraded) community.network manually, you need to make sure to also install <code>community.routeros</code> if you are using any of the <code>routeros</code> plugins or modules. While ansible-base 2.10 or newer can use the redirects that community.network 2.0.0 adds, the collection they point to (community.routeros) must be installed for them to work.</p> </li> <li>cnos_static_route - move ipaddress import from ansible.netcommon to builtin or package before ipaddress is removed from ansible.netcommon. You need to make sure to have the ipaddress package installed if you are using this module on Python 2.7 (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/129">https://github.com/ansible-collections/community.network/pull/129</a>).</li> </ul> </section> <section id="dellemc-os10"> <h4>dellemc.os10</h4> <ul class="simple"> <li>os10_bgp - Changed “subnet” key as list format instead of dictionary format under “listen” key to support multiple neighbor prefix for listen command</li> <li>os10_bgp - Changed “vrf” key as list format instead of dictionary format to support multiple VRF in router BGP and changed the “vrf” key name to “vrfs”</li> </ul> </section> <section id="ngine-io-cloudstack"> <h4>ngine_io.cloudstack</h4> <ul class="simple"> <li>Authentication option using INI files for example <code>cloudstack.ini</code>, has been removed. The only supported option to authenticate is by using the module params with fallback to the ENV variables.</li> <li>default zone deprecation - The <code>zone</code> param default value, across multiple modules, has been deprecated due to unreliable API (<a class="reference external" href="https://github.com/ngine-io/ansible-collection-cloudstack/pull/62">https://github.com/ngine-io/ansible-collection-cloudstack/pull/62</a>).</li> </ul> </section> </section> <section id="id21"> <h3>Major Changes</h3> <section id="cisco-aci"> <h4>cisco.aci</h4> <ul class="simple"> <li>Change certificate_name to name in aci_aaa_user_certificate module for query operation</li> </ul> </section> <section id="id22"> <h4>community.general</h4> <ul> <li>
<p>For community.general 3.0.0, the <code>ome_device_info</code>, <code>idrac_firmware</code> and <code>idrac_server_config_profile</code> modules will be moved to the <a class="reference external" href="https://galaxy.ansible.com/dellemc/openmanage">dellemc.openmanage</a> collection. A redirection will be inserted so that users using ansible-base 2.10 or newer do not have to change anything.</p> <p>If you use Ansible 2.9 and explicitly use the DellEMC modules mentioned above from this collection, you will need to adjust your playbooks and roles to use FQCNs starting with <code>dellemc.openmanage.</code> instead of <code>community.general.</code>, for example replace <code>community.general.ome_device_info</code> in a task by <code>dellemc.openmanage.ome_device_info</code>.</p> <p>If you use ansible-base and installed <code>community.general</code> manually and rely on the DellEMC modules mentioned above, you have to make sure to install the <code>dellemc.openmanage</code> collection as well. If you are using FQCNs, for example <code>community.general.ome_device_info</code> instead of <code>ome_device_info</code>, it will continue working, but we still recommend to adjust the FQCNs as well.</p> </li> <li>The community.general collection no longer depends on the ansible.netcommon collection (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1561">https://github.com/ansible-collections/community.general/pull/1561</a>).</li> <li>The community.general collection no longer depends on the ansible.posix collection (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1157">https://github.com/ansible-collections/community.general/pull/1157</a>).</li> </ul> </section> <section id="community-kubernetes"> <h4>community.kubernetes</h4> <ul class="simple"> <li>k8s - Add support for template parameter (<a class="reference external" href="https://github.com/ansible-collections/community.kubernetes/pull/230">https://github.com/ansible-collections/community.kubernetes/pull/230</a>).</li> <li>k8s_* - Add support for vaulted kubeconfig and src (<a class="reference external" href="https://github.com/ansible-collections/community.kubernetes/pull/193">https://github.com/ansible-collections/community.kubernetes/pull/193</a>).</li> </ul> </section> <section id="community-okd"> <h4>community.okd</h4> <ul class="simple"> <li>Add custom k8s module, integrate better Molecule tests (<a class="reference external" href="https://github.com/ansible-collections/community.okd/pull/7">https://github.com/ansible-collections/community.okd/pull/7</a>).</li> <li>Add downstream build scripts to build redhat.openshift (<a class="reference external" href="https://github.com/ansible-collections/community.okd/pull/20">https://github.com/ansible-collections/community.okd/pull/20</a>).</li> <li>Add openshift connection plugin, update inventory plugin to use it (<a class="reference external" href="https://github.com/ansible-collections/community.okd/pull/18">https://github.com/ansible-collections/community.okd/pull/18</a>).</li> <li>Add openshift_process module for template rendering and optional application of rendered resources (<a class="reference external" href="https://github.com/ansible-collections/community.okd/pull/44">https://github.com/ansible-collections/community.okd/pull/44</a>).</li> <li>Add openshift_route module for creating routes from services (<a class="reference external" href="https://github.com/ansible-collections/community.okd/pull/40">https://github.com/ansible-collections/community.okd/pull/40</a>).</li> <li>Initial content migration from community.kubernetes (<a class="reference external" href="https://github.com/ansible-collections/community.okd/pull/3">https://github.com/ansible-collections/community.okd/pull/3</a>).</li> <li>openshift_auth - new module (migrated from k8s_auth in community.kubernetes) (<a class="reference external" href="https://github.com/ansible-collections/community.okd/pull/33">https://github.com/ansible-collections/community.okd/pull/33</a>).</li> </ul> </section> <section id="id24"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>Removed the existing deprecated modules.</li> <li>Standardization of ten iDRAC ansible modules based on ansible guidelines.</li> <li>Support for OpenManage Enterprise Modular.</li> </ul> </section> <section id="id25"> <h4>dellemc.os10</h4> <ul class="simple"> <li>os10_bgp - Enhanced router bgp keyword support for non-default vrf which are supported for default vrf and additional keyword to support both default and non-default vrf</li> <li>os10_snmp role - Added support for snmp V3 features in community, group, host, engineID</li> </ul> </section> <section id="id26"> <h4>f5networks.f5_modules</h4> <ul class="simple"> <li>Add phone home Teem integration into all modules, functionality can be disabled by setting up F5_TEEM environment variable or no_f5_teem provider parameter</li> <li>Added async_timeout parameter to bigip_ucs_fetch module to allow customization of module wait for async interface</li> <li>Changed bigip_ucs_fetch module to use asynchronous interface when generating UCS files</li> </ul> </section> <section id="kubernetes-core"> <h4>kubernetes.core</h4> <ul class="simple"> <li>Add changelog and fragments and document changelog process (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/131">https://github.com/ansible-collections/kubernetes.core/pull/131</a>).</li> <li>helm - New module for managing Helm charts (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/61">https://github.com/ansible-collections/kubernetes.core/pull/61</a>).</li> <li>helm_info - New module for retrieving Helm chart information (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/61">https://github.com/ansible-collections/kubernetes.core/pull/61</a>).</li> <li>helm_plugin - new module to manage Helm plugins (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/154">https://github.com/ansible-collections/kubernetes.core/pull/154</a>).</li> <li>helm_plugin_info - new modules to gather information about Helm plugins (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/154">https://github.com/ansible-collections/kubernetes.core/pull/154</a>).</li> <li>helm_repository - New module for managing Helm repositories (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/61">https://github.com/ansible-collections/kubernetes.core/pull/61</a>).</li> <li>k8s - Add support for template parameter (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/230">https://github.com/ansible-collections/kubernetes.core/pull/230</a>).</li> <li>k8s - Inventory source migrated from Ansible 2.9 to Kubernetes collection.</li> <li>k8s - Lookup plugin migrated from Ansible 2.9 to Kubernetes collection.</li> <li>k8s - Module migrated from Ansible 2.9 to Kubernetes collection.</li> <li>k8s_* - Add support for vaulted kubeconfig and src (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/193">https://github.com/ansible-collections/kubernetes.core/pull/193</a>).</li> <li>k8s_auth - Module migrated from Ansible 2.9 to Kubernetes collection.</li> <li>k8s_config_resource_name - Filter plugin migrated from Ansible 2.9 to Kubernetes collection.</li> <li>k8s_exec - New module for executing commands on pods through Kubernetes API (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/14">https://github.com/ansible-collections/kubernetes.core/pull/14</a>).</li> <li>k8s_exec - Return rc for the command executed (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/158">https://github.com/ansible-collections/kubernetes.core/pull/158</a>).</li> <li>k8s_info - Module migrated from Ansible 2.9 to Kubernetes collection.</li> <li>k8s_log - New module for retrieving pod logs (<a class="reference external" href="https://github.com/ansible-collections/kubernetes.core/pull/16">https://github.com/ansible-collections/kubernetes.core/pull/16</a>).</li> <li>k8s_scale - Module migrated from Ansible 2.9 to Kubernetes collection.</li> <li>k8s_service - Module migrated from Ansible 2.9 to Kubernetes collection.</li> <li>kubectl - Connection plugin migrated from Ansible 2.9 to Kubernetes collection.</li> <li>openshift - Inventory source migrated from Ansible 2.9 to Kubernetes collection.</li> </ul> </section> <section id="netbox-netbox"> <h4>netbox.netbox</h4> <ul class="simple"> <li>nb_inventory - Add <code>dns_name</code> option that adds <code>dns_name</code> to the host when <code>True</code> and device has a primary IP address. (#394)</li> <li>nb_inventory - Add <code>status</code> as a <code>group_by</code> option. (398)</li> <li>nb_inventory - Move around <code>extracted_primary_ip</code> to allow for <code>config_context</code> or <code>custom_field</code> to overwrite. (#377)</li> <li>nb_inventory - Services are now a list of integers due to NetBox 2.10 changes. (#396)</li> <li>nb_lookup - Allow ID to be passed in and use <code>.get</code> instead of <code>.filter</code>. (#376)</li> <li>nb_lookup - Allow <code>api_endpoint</code> and <code>token</code> to be found through env. (#391)</li> </ul> </section> <section id="ovirt-ovirt"> <h4>ovirt.ovirt</h4> <ul class="simple"> <li>cluster_upgrade - Migrate role (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/94">https://github.com/oVirt/ovirt-ansible-collection/pull/94</a>).</li> <li>disaster_recovery - Migrate role (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/134">https://github.com/oVirt/ovirt-ansible-collection/pull/134</a>).</li> <li>engine_setup - Migrate role (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/69">https://github.com/oVirt/ovirt-ansible-collection/pull/69</a>).</li> <li>hosted_engine_setup - Migrate role (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/106">https://github.com/oVirt/ovirt-ansible-collection/pull/106</a>).</li> <li>image_template - Migrate role (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/95">https://github.com/oVirt/ovirt-ansible-collection/pull/95</a>).</li> <li>infra - Migrate role (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/92">https://github.com/oVirt/ovirt-ansible-collection/pull/92</a>).</li> <li>manageiq - Migrate role (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/97">https://github.com/oVirt/ovirt-ansible-collection/pull/97</a>).</li> <li>ovirt_system_option_info - Add new module (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/206">https://github.com/oVirt/ovirt-ansible-collection/pull/206</a>).</li> <li>repositories - Migrate role (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/96">https://github.com/oVirt/ovirt-ansible-collection/pull/96</a>).</li> <li>shutdown_env - Migrate role (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/112">https://github.com/oVirt/ovirt-ansible-collection/pull/112</a>).</li> <li>vm_infra - Migrate role (<a class="reference external" href="https://github.com/oVirt/ovirt-ansible-collection/pull/93">https://github.com/oVirt/ovirt-ansible-collection/pull/93</a>).</li> </ul> </section> <section id="servicenow-servicenow"> <h4>servicenow.servicenow</h4> <ul class="simple"> <li>add new tests (find with no result, search many)</li> <li>add related tests</li> <li>add support for ServiceNOW table api display_value exclude_reference_link and suppress_pagination_header</li> <li>use new API for pysnow &gt;=0.6.0</li> </ul> </section> </section> <section id="id27"> <h3>Removed Features</h3> <section id="id28"> <h4>community.docker</h4> <ul class="simple"> <li>docker_container - no longer returns <code>ansible_facts</code> (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_container - the default of <code>networks_cli_compatible</code> changed to <code>true</code> (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_container - the unused option <code>trust_image_content</code> has been removed (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_image - <code>state=build</code> has been removed. Use <code>present</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_image - the <code>container_limits</code>, <code>dockerfile</code>, <code>http_timeout</code>, <code>nocache</code>, <code>rm</code>, <code>path</code>, <code>buildargs</code>, <code>pull</code> have been removed. Use the corresponding suboptions of <code>build</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_image - the <code>force</code> option has been removed. Use the more specific <code>force_*</code> options instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_image - the <code>source</code> option is now mandatory (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_image - the <code>use_tls</code> option has been removed. Use <code>tls</code> and <code>validate_certs</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_image - the default of the <code>build.pull</code> option changed to <code>false</code> (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_image_facts - this alias is on longer available, use <code>docker_image_info</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_network - no longer returns <code>ansible_facts</code> (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_network - the <code>ipam_options</code> option has been removed. Use <code>ipam_config</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_service - no longer returns <code>ansible_facts</code> (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_swarm - <code>state=inspect</code> has been removed. Use <code>docker_swarm_info</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_swarm_service - the <code>constraints</code> option has been removed. Use <code>placement.constraints</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_swarm_service - the <code>limit_cpu</code> and <code>limit_memory</code> options has been removed. Use the corresponding suboptions in <code>limits</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_swarm_service - the <code>log_driver</code> and <code>log_driver_options</code> options has been removed. Use the corresponding suboptions in <code>logging</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_swarm_service - the <code>reserve_cpu</code> and <code>reserve_memory</code> options has been removed. Use the corresponding suboptions in <code>reservations</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_swarm_service - the <code>restart_policy</code>, <code>restart_policy_attempts</code>, <code>restart_policy_delay</code> and <code>restart_policy_window</code> options has been removed. Use the corresponding suboptions in <code>restart_config</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_swarm_service - the <code>update_delay</code>, <code>update_parallelism</code>, <code>update_failure_action</code>, <code>update_monitor</code>, <code>update_max_failure_ratio</code> and <code>update_order</code> options has been removed. Use the corresponding suboptions in <code>update_config</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_volume - no longer returns <code>ansible_facts</code> (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> <li>docker_volume - the <code>force</code> option has been removed. Use <code>recreate</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/1">https://github.com/ansible-collections/community.docker/pull/1</a>).</li> </ul> </section> <section id="id29"> <h4>community.general</h4> <ul> <li>
<p>All Google cloud modules and plugins have now been migrated away from this collection. They can be found in either the <a class="reference external" href="https://galaxy.ansible.com/community/google">community.google</a> or <a class="reference external" href="https://galaxy.ansible.com/google/cloud">google.cloud</a> collections. If you use ansible-base 2.10 or newer, redirections have been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.general.gce_img</code> → <code>community.google.gce_img</code>) and make sure to install the community.google or google.cloud collections as appropriate.</p> </li> <li>
<p>All Kubevirt modules and plugins have now been migrated from community.general to the <a class="reference external" href="https://galaxy.ansible.com/community/kubevirt">community.kubevirt</a> Ansible collection. If you use ansible-base 2.10 or newer, redirections have been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.general.kubevirt_vm</code> → <code>community.kubevirt.kubevirt_vm</code>) and make sure to install the community.kubevirt collection.</p> </li> <li>
<p>All <code>docker</code> modules and plugins have been removed from this collection. They have been migrated to the <a class="reference external" href="https://galaxy.ansible.com/community/docker">community.docker</a> collection. If you use ansible-base 2.10 or newer, redirections have been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.general.docker_container</code> → <code>community.docker.docker_container</code>) and make sure to install the community.docker collection.</p> </li> <li>
<p>All <code>hetzner</code> modules have been removed from this collection. They have been migrated to the <a class="reference external" href="https://galaxy.ansible.com/community/hrobot">community.hrobot</a> collection. If you use ansible-base 2.10 or newer, redirections have been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.general.hetzner_firewall</code> → <code>community.hrobot.firewall</code>) and make sure to install the community.hrobot collection.</p> </li> <li>
<p>All <code>postgresql</code> modules have been removed from this collection. They have been migrated to the <a class="reference external" href="https://galaxy.ansible.com/community/postgresql">community.postgresql</a> collection.</p> <p>If you use ansible-base 2.10 or newer, redirections have been provided. If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.general.postgresql_info</code> → <code>community.postgresql.postgresql_info</code>) and make sure to install the community.postgresql collection.</p> </li> <li>The Google cloud inventory script <code>gce.py</code> has been migrated to the <code>community.google</code> collection. Install the <code>community.google</code> collection in order to continue using it.</li> <li>
<p>The <code>hashi_vault</code> lookup plugin has been removed from this collection. It has been migrated to the <a class="reference external" href="https://galaxy.ansible.com/community/hashi_vault">community.hashi_vault</a> collection. If you use ansible-base 2.10 or newer, redirections have been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.general.hashi_vault</code> → <code>community.hashi_vault.hashi_vault</code>) and make sure to install the community.hashi_vault collection.</p> </li> <li>
<p>The <code>oc</code> connection plugin has been removed from this collection. It has been migrated to the <a class="reference external" href="https://galaxy.ansible.com/community/okd">community.okd</a> collection. If you use ansible-base 2.10 or newer, redirections have been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.general.oc</code> → <code>community.okd.oc</code>) and make sure to install the community.okd collection.</p> </li> <li>The deprecated <code>actionable</code> callback plugin has been removed. Use the <code>ansible.builtin.default</code> callback plugin with <code>display_skipped_hosts = no</code> and <code>display_ok_hosts = no</code> options instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>foreman</code> module has been removed. Use the modules from the theforeman.foreman collection instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>) (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>full_skip</code> callback plugin has been removed. Use the <code>ansible.builtin.default</code> callback plugin with <code>display_skipped_hosts = no</code> option instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>gcdns_record</code> module has been removed. Use <code>google.cloud.gcp_dns_resource_record_set</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1370">https://github.com/ansible-collections/community.general/pull/1370</a>).</li> <li>The deprecated <code>gcdns_zone</code> module has been removed. Use <code>google.cloud.gcp_dns_managed_zone</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1370">https://github.com/ansible-collections/community.general/pull/1370</a>).</li> <li>The deprecated <code>gce</code> module has been removed. Use <code>google.cloud.gcp_compute_instance</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1370">https://github.com/ansible-collections/community.general/pull/1370</a>).</li> <li>The deprecated <code>gcp_backend_service</code> module has been removed. Use <code>google.cloud.gcp_compute_backend_service</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1370">https://github.com/ansible-collections/community.general/pull/1370</a>).</li> <li>The deprecated <code>gcp_forwarding_rule</code> module has been removed. Use <code>google.cloud.gcp_compute_forwarding_rule</code> or <code>google.cloud.gcp_compute_global_forwarding_rule</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1370">https://github.com/ansible-collections/community.general/pull/1370</a>).</li> <li>The deprecated <code>gcp_healthcheck</code> module has been removed. Use <code>google.cloud.gcp_compute_health_check</code>, <code>google.cloud.gcp_compute_http_health_check</code> or <code>google.cloud.gcp_compute_https_health_check</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1370">https://github.com/ansible-collections/community.general/pull/1370</a>).</li> <li>The deprecated <code>gcp_target_proxy</code> module has been removed. Use <code>google.cloud.gcp_compute_target_http_proxy</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1370">https://github.com/ansible-collections/community.general/pull/1370</a>).</li> <li>The deprecated <code>gcp_url_map</code> module has been removed. Use <code>google.cloud.gcp_compute_url_map</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1370">https://github.com/ansible-collections/community.general/pull/1370</a>).</li> <li>The deprecated <code>gcspanner</code> module has been removed. Use <code>google.cloud.gcp_spanner_database</code> and/or <code>google.cloud.gcp_spanner_instance</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1370">https://github.com/ansible-collections/community.general/pull/1370</a>).</li> <li>The deprecated <code>github_hooks</code> module has been removed. Use <code>community.general.github_webhook</code> and <code>community.general.github_webhook_info</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>katello</code> module has been removed. Use the modules from the theforeman.foreman collection instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>na_cdot_aggregate</code> module has been removed. Use netapp.ontap.na_ontap_aggregate instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>na_cdot_license</code> module has been removed. Use netapp.ontap.na_ontap_license instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>na_cdot_lun</code> module has been removed. Use netapp.ontap.na_ontap_lun instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>na_cdot_qtree</code> module has been removed. Use netapp.ontap.na_ontap_qtree instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>na_cdot_svm</code> module has been removed. Use netapp.ontap.na_ontap_svm instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>na_cdot_user_role</code> module has been removed. Use netapp.ontap.na_ontap_user_role instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>na_cdot_user</code> module has been removed. Use netapp.ontap.na_ontap_user instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>na_cdot_volume</code> module has been removed. Use netapp.ontap.na_ontap_volume instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>sf_account_manager</code> module has been removed. Use netapp.elementsw.na_elementsw_account instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>sf_check_connections</code> module has been removed. Use netapp.elementsw.na_elementsw_check_connections instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>sf_snapshot_schedule_manager</code> module has been removed. Use netapp.elementsw.na_elementsw_snapshot_schedule instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>sf_volume_access_group_manager</code> module has been removed. Use netapp.elementsw.na_elementsw_access_group instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>sf_volume_manager</code> module has been removed. Use netapp.elementsw.na_elementsw_volume instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The deprecated <code>stderr</code> callback plugin has been removed. Use the <code>ansible.builtin.default</code> callback plugin with <code>display_failed_stderr = yes</code> option instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1347">https://github.com/ansible-collections/community.general/pull/1347</a>).</li> <li>The redirect of the <code>conjur_variable</code> lookup plugin to <code>cyberark.conjur.conjur_variable</code> collection was removed (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1346">https://github.com/ansible-collections/community.general/pull/1346</a>).</li> <li>The redirect of the <code>firewalld</code> module and the <code>firewalld</code> module_utils to the <code>ansible.posix</code> collection was removed (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1346">https://github.com/ansible-collections/community.general/pull/1346</a>).</li> <li>The redirect to the <code>community.digitalocean</code> collection was removed for: the <code>digital_ocean</code> doc fragment, the <code>digital_ocean</code> module_utils, and the following modules: <code>digital_ocean</code>, <code>digital_ocean_account_facts</code>, <code>digital_ocean_account_info</code>, <code>digital_ocean_block_storage</code>, <code>digital_ocean_certificate</code>, <code>digital_ocean_certificate_facts</code>, <code>digital_ocean_certificate_info</code>, <code>digital_ocean_domain</code>, <code>digital_ocean_domain_facts</code>, <code>digital_ocean_domain_info</code>, <code>digital_ocean_droplet</code>, <code>digital_ocean_firewall_facts</code>, <code>digital_ocean_firewall_info</code>, <code>digital_ocean_floating_ip</code>, <code>digital_ocean_floating_ip_facts</code>, <code>digital_ocean_floating_ip_info</code>, <code>digital_ocean_image_facts</code>, <code>digital_ocean_image_info</code>, <code>digital_ocean_load_balancer_facts</code>, <code>digital_ocean_load_balancer_info</code>, <code>digital_ocean_region_facts</code>, <code>digital_ocean_region_info</code>, <code>digital_ocean_size_facts</code>, <code>digital_ocean_size_info</code>, <code>digital_ocean_snapshot_facts</code>, <code>digital_ocean_snapshot_info</code>, <code>digital_ocean_sshkey</code>, <code>digital_ocean_sshkey_facts</code>, <code>digital_ocean_sshkey_info</code>, <code>digital_ocean_tag</code>, <code>digital_ocean_tag_facts</code>, <code>digital_ocean_tag_info</code>, <code>digital_ocean_volume_facts</code>, <code>digital_ocean_volume_info</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1346">https://github.com/ansible-collections/community.general/pull/1346</a>).</li> <li>The redirect to the <code>community.mysql</code> collection was removed for: the <code>mysql</code> doc fragment, the <code>mysql</code> module_utils, and the following modules: <code>mysql_db</code>, <code>mysql_info</code>, <code>mysql_query</code>, <code>mysql_replication</code>, <code>mysql_user</code>, <code>mysql_variables</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1346">https://github.com/ansible-collections/community.general/pull/1346</a>).</li> <li>The redirect to the <code>community.proxysql</code> collection was removed for: the <code>proxysql</code> doc fragment, and the following modules: <code>proxysql_backend_servers</code>, <code>proxysql_global_variables</code>, <code>proxysql_manage_config</code>, <code>proxysql_mysql_users</code>, <code>proxysql_query_rules</code>, <code>proxysql_replication_hostgroups</code>, <code>proxysql_scheduler</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1346">https://github.com/ansible-collections/community.general/pull/1346</a>).</li> <li>The redirect to the <code>infinidat.infinibox</code> collection was removed for: the <code>infinibox</code> doc fragment, the <code>infinibox</code> module_utils, and the following modules: <code>infini_export</code>, <code>infini_export_client</code>, <code>infini_fs</code>, <code>infini_host</code>, <code>infini_pool</code>, <code>infini_vol</code> (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1346">https://github.com/ansible-collections/community.general/pull/1346</a>).</li> <li>conjur_variable lookup - has been moved to the <code>cyberark.conjur</code> collection. A redirection is active, which will be removed in version 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/570">https://github.com/ansible-collections/community.general/pull/570</a>).</li> <li>digital_ocean_* - all DigitalOcean modules have been moved to the <code>community.digitalocean</code> collection. A redirection is active, which will be removed in version 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/622">https://github.com/ansible-collections/community.general/pull/622</a>).</li> <li>infini_* - all infinidat modules have been moved to the <code>infinidat.infinibox</code> collection. A redirection is active, which will be removed in version 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/607">https://github.com/ansible-collections/community.general/pull/607</a>).</li> <li>iptables_state - the <code>ANSIBLE_ASYNC_DIR</code> environment is no longer supported, use the <code>async_dir</code> shell option instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1371">https://github.com/ansible-collections/community.general/pull/1371</a>).</li> <li>logicmonitor - the module has been removed in 1.0.0 since it is unmaintained and the API used by the module has been turned off in 2017 (<a class="reference external" href="https://github.com/ansible-collections/community.general/issues/539">https://github.com/ansible-collections/community.general/issues/539</a>, <a class="reference external" href="https://github.com/ansible-collections/community.general/pull/541">https://github.com/ansible-collections/community.general/pull/541</a>).</li> <li>logicmonitor_facts - the module has been removed in 1.0.0 since it is unmaintained and the API used by the module has been turned off in 2017 (<a class="reference external" href="https://github.com/ansible-collections/community.general/issues/539">https://github.com/ansible-collections/community.general/issues/539</a>, <a class="reference external" href="https://github.com/ansible-collections/community.general/pull/541">https://github.com/ansible-collections/community.general/pull/541</a>).</li> <li>memcached cache plugin - do not import <code>CacheModule``s directly. Use ``ansible.plugins.loader.cache_loader</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1371">https://github.com/ansible-collections/community.general/pull/1371</a>).</li> <li>mysql_* - all MySQL modules have been moved to the <code>community.mysql</code> collection. A redirection is active, which will be removed in version 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/633">https://github.com/ansible-collections/community.general/pull/633</a>).</li> <li>proxysql_* - all ProxySQL modules have been moved to the <code>community.proxysql</code> collection. A redirection is active, which will be removed in version 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/624">https://github.com/ansible-collections/community.general/pull/624</a>).</li> <li>redis cache plugin - do not import <code>CacheModule``s directly. Use ``ansible.plugins.loader.cache_loader</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1371">https://github.com/ansible-collections/community.general/pull/1371</a>).</li> <li>xml - when <code>content=attribute</code>, the <code>attribute</code> option is ignored (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1371">https://github.com/ansible-collections/community.general/pull/1371</a>).</li> </ul> </section> <section id="id35"> <h4>community.network</h4> <ul> <li>
<p>All FortiOS modules and plugins have been removed from this collection. They have been migrated to the <a class="reference external" href="https://galaxy.ansible.com/community/fortios">community.fortios</a> collection. If you use ansible-base 2.10 or newer, redirections have been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.network.fmgr_device</code> → <code>community.fortios.fmgr_device</code>) and make sure to install the <code>community.fortios</code> collection.</p> </li> <li>
<p>All <code>nso</code> modules have been removed from this collection. They have been migrated to the <a class="reference external" href="https://galaxy.ansible.com/cisco/nso">cisco.nso</a> collection. If you use ansible-base 2.10 or newer, redirections have been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.network.nso_config</code> → <code>cisco.nso.nso_config</code>) and make sure to install the <code>cisco.nso</code> collection.</p> </li> <li>
<p>All <code>routeros</code> modules and plugins have been removed from this collection. They have been migrated to the <a class="reference external" href="https://galaxy.ansible.com/community/routeros">community.routeros</a> collection. If you use ansible-base 2.10 or newer, redirections have been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.network.routeros_command</code> → <code>community.routeros.command</code>) and make sure to install the community.routeros collection.</p> </li> <li>The <code>cp_publish</code> module has been removed from this collection. It was a duplicate of <code>check_point.mgmt.cp_mgmt_publish</code> in the <a class="reference external" href="https://galaxy.ansible.com/check_point/mgmt">check_point.mgmt</a> collection. If you use ansible-base 2.10 or newer, redirections have been provided. If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.network.cp_publish</code> → <code>check_point.mgmt.cp_mgmt_publish</code>) and make sure to install the check_point.mgmt collection.</li> <li>
<p>The <code>fortimanager</code> httpapi plugin has been removed from this collection. It was a duplicate of the one in the <a class="reference external" href="https://galaxy.ansible.com/fortinet/fortimanager">fortinet.fortimanager</a> collection. If you use ansible-base 2.10 or newer, a redirection has been provided.</p> <p>If you use Ansible 2.9 and installed this collection, you need to adjust the FQCNs (<code>community.network.fortimanager</code> → <code>fortinet.fortimanager.fortimanager</code>) and make sure to install the <code>fortinet.fortimanager</code> collection.</p> </li> <li>The dependency on the <code>check_point.mgmt</code> collection has been removed. If you depend on that installing <code>community.network</code> also installs <code>check_point.mgmt</code>, you have to make sure to install <code>check_point.mgmt</code> explicitly.</li> <li>The deprecated Pluribus Networks modules <code>pn_cluster</code>, <code>pn_ospf</code>, <code>pn_ospfarea</code>, <code>pn_show</code>, <code>pn_trunk</code>, <code>pn_vlag</code>, <code>pn_vlan</code>, <code>pn_vrouter</code>, <code>pn_vrouterbgp</code>, <code>pn_vrouterif</code>, <code>pn_vrouterlbif</code> have been removed (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/176">https://github.com/ansible-collections/community.network/pull/176</a>).</li> <li>The deprecated modules <code>panos_admin</code>, <code>panos_admpwd</code>, <code>panos_cert_gen_ssh</code>, <code>panos_check</code>, <code>panos_commit</code>, <code>panos_dag</code>, <code>panos_dag_tags</code>, <code>panos_import</code>, <code>panos_interface</code>, <code>panos_lic</code>, <code>panos_loadcfg</code>, <code>panos_match_rule</code>, <code>panos_mgtconfig</code>, <code>panos_nat_rule</code>, <code>panos_object</code>, <code>panos_op</code>, <code>panos_pg</code>, <code>panos_query_rules</code>, <code>panos_restart</code>, <code>panos_sag</code>, <code>panos_security_rule</code>, <code>panos_set</code> have been removed. Use modules from the <a class="reference external" href="https://galaxy.ansible.com/paloaltonetworks/panos">paloaltonetworks.panos collection</a> instead (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/176">https://github.com/ansible-collections/community.network/pull/176</a>).</li> <li>The redirect to the <code>mellanox.onyx</code> collection was removed for: the <code>onyx</code> cliconf plugin, terminal plugin, module_utils, action plugin, doc fragment, and the following modules: <code>onyx_aaa</code>, <code>onyx_bfd</code>, <code>onyx_bgp</code>, <code>onyx_buffer_pool</code>, <code>onyx_command</code>, <code>onyx_config</code>, <code>onyx_facts</code>, <code>onyx_igmp</code>, <code>onyx_igmp_interface</code>, <code>onyx_igmp_vlan</code>, <code>onyx_interface</code>, <code>onyx_l2_interface</code>, <code>onyx_l3_interface</code>, <code>onyx_linkagg</code>, <code>onyx_lldp</code>, <code>onyx_lldp_interface</code>, <code>onyx_magp</code>, <code>onyx_mlag_ipl</code>, <code>onyx_mlag_vip</code>, <code>onyx_ntp</code>, <code>onyx_ntp_servers_peers</code>, <code>onyx_ospf</code>, <code>onyx_pfc_interface</code>, <code>onyx_protocol</code>, <code>onyx_ptp_global</code>, <code>onyx_ptp_interface</code>, <code>onyx_qos</code>, <code>onyx_snmp</code>, <code>onyx_snmp_hosts</code>, <code>onyx_snmp_users</code>, <code>onyx_syslog_files</code>, <code>onyx_syslog_remote</code>, <code>onyx_traffic_class</code>, <code>onyx_username</code>, <code>onyx_vlan</code>, <code>onyx_vxlan</code>, <code>onyx_wjh</code> (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/175">https://github.com/ansible-collections/community.network/pull/175</a>).</li> <li>onyx - all onyx modules and plugins have been moved to the mellanox.onyx collection. Redirects have been added that will be removed in community.network 2.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/83">https://github.com/ansible-collections/community.network/pull/83</a>).</li> </ul> </section> <section id="id36"> <h4>f5networks.f5_modules</h4> <ul class="simple"> <li>Removed arp_state parameter from the bigip_virtual_address module</li> </ul> </section> </section> <section id="id37"> <h3>Deprecated Features</h3> <section id="cisco-nxos"> <h4>cisco.nxos</h4> <ul class="simple"> <li>Deprecated <code>nxos_bgp</code> and <code>nxos_bgp_neighbor</code> modules in favor of <code>nxos_bgp_global</code> resource module.</li> <li>Deprecated <code>nxos_interface_ospf</code> in favor of <code>nxos_ospf_interfaces</code> Resource Module.</li> <li>Deprecated <code>nxos_smu</code> in favor of <code>nxos_rpm</code> module.</li> <li>The <code>nxos_ospf_vrf</code> module is deprecated by <code>nxos_ospfv2</code> and <code>nxos_ospfv3</code> Resource Modules.</li> </ul> </section> <section id="id38"> <h4>community.aws</h4> <ul class="simple"> <li>ec2_vpc_igw_info - After 2022-06-22 the <code>convert_tags</code> parameter default value will change from <code>False</code> to <code>True</code> to match the collection standard behavior (<a class="reference external" href="https://github.com/ansible-collections/community.aws/pull/318">https://github.com/ansible-collections/community.aws/pull/318</a>).</li> </ul> </section> <section id="id39"> <h4>community.docker</h4> <ul class="simple"> <li>docker_container - currently <code>published_ports</code> can contain port mappings next to the special value <code>all</code>, in which case the port mappings are ignored. This behavior is deprecated for community.docker 2.0.0, at which point it will either be forbidden, or this behavior will be properly implemented similar to how the Docker CLI tool handles this (<a class="reference external" href="https://github.com/ansible-collections/community.docker/issues/8">https://github.com/ansible-collections/community.docker/issues/8</a>, <a class="reference external" href="https://github.com/ansible-collections/community.docker/pull/60">https://github.com/ansible-collections/community.docker/pull/60</a>).</li> </ul> </section> <section id="id40"> <h4>community.general</h4> <ul class="simple"> <li>The <code>gluster_heal_info</code>, <code>gluster_peer</code> and <code>gluster_volume</code> modules have migrated to the <a class="reference external" href="https://galaxy.ansible.com/gluster/gluster">gluster.gluster</a> collection. Ansible-base 2.10.1 adjusted the routing target to point to the modules in that collection, so we will remove these modules in community.general 3.0.0. If you use Ansible 2.9, or use FQCNs <code>community.general.gluster_*</code> in your playbooks and/or roles, please update them to use the modules from <code>gluster.gluster</code> instead.</li> <li>The ldap_attr module has been deprecated and will be removed in a later release; use ldap_attrs instead.</li> <li>django_manage - the parameter <code>liveserver</code> relates to a no longer maintained third-party module for django. It is now deprecated, and will be remove in community.general 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/1154">https://github.com/ansible-collections/community.general/pull/1154</a>).</li> <li>proxmox - the default of the new <code>proxmox_default_behavior</code> option will change from <code>compatibility</code> to <code>no_defaults</code> in community.general 4.0.0. Set the option to an explicit value to avoid a deprecation warning (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/850">https://github.com/ansible-collections/community.general/pull/850</a>).</li> <li>proxmox_kvm - the default of the new <code>proxmox_default_behavior</code> option will change from <code>compatibility</code> to <code>no_defaults</code> in community.general 4.0.0. Set the option to an explicit value to avoid a deprecation warning (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/850">https://github.com/ansible-collections/community.general/pull/850</a>).</li> <li>syspatch - deprecate the redundant <code>apply</code> argument (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/360">https://github.com/ansible-collections/community.general/pull/360</a>).</li> <li>xbps - the <code>force</code> option never had any effect. It is now deprecated, and will be removed in 3.0.0 (<a class="reference external" href="https://github.com/ansible-collections/community.general/pull/568">https://github.com/ansible-collections/community.general/pull/568</a>).</li> </ul> </section> <section id="id41"> <h4>community.hashi_vault</h4> <ul class="simple"> <li>hashi_vault - <code>VAULT_ADDR</code> environment variable for option <code>url</code> will have its precedence lowered in 1.0.0; use <code>ANSIBLE_HASHI_VAULT_ADDR</code> to intentionally override a config value (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/8">https://github.com/ansible-collections/community.hashi_vault/issues/8</a>).</li> <li>hashi_vault - <code>VAULT_AUTH_METHOD</code> environment variable for option <code>auth_method</code> will be removed in 2.0.0, use <code>ANSIBLE_HASHI_VAULT_AUTH_METHOD</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/17">https://github.com/ansible-collections/community.hashi_vault/issues/17</a>).</li> <li>hashi_vault - <code>VAULT_ROLE_ID</code> environment variable for option <code>role_id</code> will be removed in 2.0.0, use <code>ANSIBLE_HASHI_VAULT_ROLE_ID</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/20">https://github.com/ansible-collections/community.hashi_vault/issues/20</a>).</li> <li>hashi_vault - <code>VAULT_SECRET_ID</code> environment variable for option <code>secret_id</code> will be removed in 2.0.0, use <code>ANSIBLE_HASHI_VAULT_SECRET_ID</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/20">https://github.com/ansible-collections/community.hashi_vault/issues/20</a>).</li> <li>hashi_vault - <code>VAULT_TOKEN_FILE</code> environment variable for option <code>token_file</code> will be removed in 2.0.0, use <code>ANSIBLE_HASHI_VAULT_TOKEN_FILE</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/15">https://github.com/ansible-collections/community.hashi_vault/issues/15</a>).</li> <li>hashi_vault - <code>VAULT_TOKEN_PATH</code> environment variable for option <code>token_path</code> will be removed in 2.0.0, use <code>ANSIBLE_HASHI_VAULT_TOKEN_PATH</code> instead (<a class="reference external" href="https://github.com/ansible-collections/community.hashi_vault/issues/15">https://github.com/ansible-collections/community.hashi_vault/issues/15</a>).</li> </ul> </section> <section id="id42"> <h4>community.network</h4> <ul class="simple"> <li>Deprecate connection=local support for network platforms using persistent framework (<a class="reference external" href="https://github.com/ansible-collections/community.network/pull/120">https://github.com/ansible-collections/community.network/pull/120</a>).</li> </ul> </section> <section id="id43"> <h4>community.vmware</h4> <ul class="simple"> <li>vmware_host_firewall_manager - the creation of new rule with no <code>allowed_ip</code> entry in the <code>allowed_hosts</code> dictionary won’t be allowed after 2.0.0 release.</li> </ul> </section> <section id="id44"> <h4>dellemc.openmanage</h4> <ul class="simple"> <li>The <code>dellemc_get_firmware_inventory</code> module is deprecated and replaced with <code>idrac_firmware_info</code>.</li> <li>The <code>dellemc_get_system_inventory</code> module is deprecated and replaced with <code>idrac_system_info</code>.</li> <li>The dellemc_change_power_state module is deprecated and replaced with the redfish_powerstate module.</li> <li>The dellemc_configure_bios module is deprecated and replaced with the idrac_bios module.</li> <li>The dellemc_configure_idrac_network module is deprecated and replaced with the idrac_network module.</li> <li>The dellemc_configure_idrac_timezone module is deprecated and replaced with the idrac_timezone_ntp module.</li> <li>The dellemc_configure_idrac_users module is deprecated and replaced with the idrac_user module.</li> <li>The dellemc_delete_lc_job and dellemc_delete_lc_job_queue modules are deprecated and replaced with the idrac_lifecycle_controller_jobs module.</li> <li>The dellemc_export_lc_logs module is deprecated and replaced with the idrac_lifecycle_controller_logs module.</li> <li>The dellemc_get_lc_job_status module is deprecated and replaced with the idrac_lifecycle_controller_job_status_info module.</li> <li>The dellemc_get_lcstatus module is deprecated and replaced with the idrac_lifecycle_controller_status_info module.</li> <li>The dellemc_idrac_reset module is deprecated and replaced with the idrac_reset module.</li> <li>The dellemc_setup_idrac_syslog module is deprecated and replaced with the idrac_syslog module.</li> </ul> </section> </section> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_3.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/porting_guides/porting_guide_3.html</a>
  </p>
</div>
