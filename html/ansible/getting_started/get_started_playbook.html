<section id="creating-a-playbook"> <h1 id="get-started-playbook">Creating a playbook</h1> <p>Playbooks are automation blueprints, in <code>YAML</code> format, that Ansible uses to deploy and configure managed nodes.</p> <dl class="simple"> <dt>Playbook</dt>
<dd>
<p>A list of plays that define the order in which Ansible performs operations, from top to bottom, to achieve an overall goal.</p> </dd> <dt>Play</dt>
<dd>
<p>An ordered list of tasks that maps to managed nodes in an inventory.</p> </dd> <dt>Task</dt>
<dd>
<p>A reference to a single module that defines the operations that Ansible performs.</p> </dd> <dt>Module</dt>
<dd>
<p>A unit of code or binary that Ansible runs on managed nodes. Ansible modules are grouped in collections with a <a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/glossary.html#term-Fully-Qualified-Collection-Name-FQCN"><span class="xref std std-term">Fully Qualified Collection Name (FQCN)</span></a> for each module.</p> </dd> </dl> <p>Complete the following steps to create a playbook that pings your hosts and prints a “Hello world” message:</p> <ol class="arabic"> <li>
<p>Create a file named <code>playbook.yaml</code> in your <code>ansible_quickstart</code> directory, that you created earlier, with the following content:</p> <pre data-language="yaml">- name: My first play
  hosts: myhosts
  tasks:
   - name: Ping my hosts
     ansible.builtin.ping:

   - name: Print message
     ansible.builtin.debug:
      msg: Hello world
</pre> </li> <li>
<p>Run your playbook.</p> <pre data-language="bash">ansible-playbook -i inventory.ini playbook.yaml
</pre> </li> </ol> <p>Ansible returns the following output:</p> <pre data-language="text">PLAY [My first play] ****************************************************************************

TASK [Gathering Facts] **************************************************************************
ok: [192.0.2.50]
ok: [192.0.2.51]
ok: [192.0.2.52]

TASK [Ping my hosts] ****************************************************************************
ok: [192.0.2.50]
ok: [192.0.2.51]
ok: [192.0.2.52]

TASK [Print message] ****************************************************************************
ok: [192.0.2.50] =&gt; {
    "msg": "Hello world"
}
ok: [192.0.2.51] =&gt; {
    "msg": "Hello world"
}
ok: [192.0.2.52] =&gt; {
    "msg": "Hello world"
}

PLAY RECAP **************************************************************************************
192.0.2.50: ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
192.0.2.51: ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
192.0.2.52: ok=3    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
</pre> <p>In this output you can see:</p> <ul class="simple"> <li>The names that you give the play and each task. You should always use descriptive names that make it easy to verify and troubleshoot playbooks.</li> <li>The “Gathering Facts” task runs implicitly. By default, Ansible gathers information about your inventory that it can use in the playbook.</li> <li>The status of each task. Each task has a status of <code>ok</code> which means it ran successfully.</li> <li>The play recap that summarizes results of all tasks in the playbook per host. In this example, there are three tasks so <code>ok=3</code> indicates that each task ran successfully.</li> </ul> <p>Congratulations, you have started using Ansible!</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="../playbook_guide/playbooks_intro.html#playbooks-intro"><span class="std std-ref">Ansible playbooks</span></a></dt>
<dd>
<p>Start building playbooks for real world scenarios.</p> </dd> <dt><a class="reference internal" href="../playbook_guide/playbooks.html#working-with-playbooks"><span class="std std-ref">Working with playbooks</span></a></dt>
<dd>
<p>Go into more detail with Ansible playbooks.</p> </dd> <dt><a class="reference internal" href="../tips_tricks/index.html#playbooks-best-practices"><span class="std std-ref">Ansible tips and tricks</span></a></dt>
<dd>
<p>Get tips and tricks for using playbooks.</p> </dd> <dt><a class="reference internal" href="../playbook_guide/playbooks_vars_facts.html#vars-and-facts"><span class="std std-ref">Discovering variables: facts and magic variables</span></a></dt>
<dd>
<p>Learn more about the <code>gather_facts</code> keyword in playbooks.</p> </dd> </dl> </div> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/getting_started/get_started_playbook.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/getting_started/get_started_playbook.html</a>
  </p>
</div>
