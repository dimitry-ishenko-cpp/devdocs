<h1 id="id1">ansible-vault</h1> <p id="ansible-vault"><strong>encryption/decryption utility for Ansible data files</strong></p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id2">Synopsis</a></li> <li><a class="reference internal" href="#description" id="id3">Description</a></li> <li><a class="reference internal" href="#common-options" id="id4">Common Options</a></li> <li>
<p><a class="reference internal" href="#actions" id="id5">Actions</a></p> <ul> <li><a class="reference internal" href="#create" id="id6">create</a></li> <li><a class="reference internal" href="#decrypt" id="id7">decrypt</a></li> <li><a class="reference internal" href="#edit" id="id8">edit</a></li> <li><a class="reference internal" href="#view" id="id9">view</a></li> <li><a class="reference internal" href="#encrypt" id="id10">encrypt</a></li> <li><a class="reference internal" href="#encrypt-string" id="id11">encrypt_string</a></li> <li><a class="reference internal" href="#rekey" id="id12">rekey</a></li> </ul> </li> <li><a class="reference internal" href="#environment" id="id13">Environment</a></li> <li><a class="reference internal" href="#files" id="id14">Files</a></li> <li><a class="reference internal" href="#author" id="id15">Author</a></li> <li><a class="reference internal" href="#license" id="id16">License</a></li> <li><a class="reference internal" href="#see-also" id="id17">See also</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <pre data-language="bash">usage: ansible-vault [-h] [--version] [-v]
                  {create,decrypt,edit,view,encrypt,encrypt_string,rekey}
                  ...
</pre>   <h2 id="description">Description</h2> <p>can encrypt any structured data file used by Ansible. This can include <em>group_vars/</em> or <em>host_vars/</em> inventory variables, variables loaded by <em>include_vars</em> or <em>vars_files</em>, or variable files passed on the ansible-playbook command line with <em>-e @file.yml</em> or <em>-e @file.json</em>. Role variables and defaults are also included!</p> <p>Because Ansible tasks, handlers, and other objects are data, these can also be encrypted with vault. If you’d like to not expose what variables you are using, you can keep an individual task file entirely encrypted.</p>   <h2 id="common-options">Common Options</h2> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-version">
<code>--version</code> </dt> <dd>
<p>show program’s version number, config file location, configured module search path, module location, executable location and exit</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-h">
<code>-h, --help</code> </dt> <dd>
<p>show this help message and exit</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-v">
<code>-v, --verbose</code> </dt> <dd>
<p>verbose mode (-vvv for more, -vvvv to enable connection debugging)</p> </dd>
</dl>   <h2 id="actions">Actions</h2>  <h3 id="ansible-vault-create">create</h3> <p id="create">create and open a file in an editor that will be encrypted with the provided vault secret when closed</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-create-ask-vault-password">
<code>--ask-vault-password, --ask-vault-pass</code> </dt> <dd>
<p>ask for vault password</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-create-encrypt-vault-id">
<code>--encrypt-vault-id &lt;ENCRYPT_VAULT_ID&gt;</code> </dt> <dd>
<p>the vault id used to encrypt (required if more than one vault-id is provided)</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-create-vault-id">
<code>--vault-id</code> </dt> <dd>
<p>the vault identity to use</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-create-vault-password-file">
<code>--vault-password-file, --vault-pass-file</code> </dt> <dd>
<p>vault password file</p> </dd>
</dl>   <h3 id="ansible-vault-decrypt">decrypt</h3> <p id="decrypt">decrypt the supplied file using the provided vault secret</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-decrypt-ask-vault-password">
<code>--ask-vault-password, --ask-vault-pass</code> </dt> <dd>
<p>ask for vault password</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-decrypt-output">
<code>--output &lt;OUTPUT_FILE&gt;</code> </dt> <dd>
<p>output file name for encrypt or decrypt; use - for stdout</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-decrypt-vault-id">
<code>--vault-id</code> </dt> <dd>
<p>the vault identity to use</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-decrypt-vault-password-file">
<code>--vault-password-file, --vault-pass-file</code> </dt> <dd>
<p>vault password file</p> </dd>
</dl>   <h3 id="ansible-vault-edit">edit</h3> <p id="edit">open and decrypt an existing vaulted file in an editor, that will be encrypted again when closed</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-edit-ask-vault-password">
<code>--ask-vault-password, --ask-vault-pass</code> </dt> <dd>
<p>ask for vault password</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-edit-encrypt-vault-id">
<code>--encrypt-vault-id &lt;ENCRYPT_VAULT_ID&gt;</code> </dt> <dd>
<p>the vault id used to encrypt (required if more than one vault-id is provided)</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-edit-vault-id">
<code>--vault-id</code> </dt> <dd>
<p>the vault identity to use</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-edit-vault-password-file">
<code>--vault-password-file, --vault-pass-file</code> </dt> <dd>
<p>vault password file</p> </dd>
</dl>   <h3 id="ansible-vault-view">view</h3> <p id="view">open, decrypt and view an existing vaulted file using a pager using the supplied vault secret</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-view-ask-vault-password">
<code>--ask-vault-password, --ask-vault-pass</code> </dt> <dd>
<p>ask for vault password</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-view-vault-id">
<code>--vault-id</code> </dt> <dd>
<p>the vault identity to use</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-view-vault-password-file">
<code>--vault-password-file, --vault-pass-file</code> </dt> <dd>
<p>vault password file</p> </dd>
</dl>   <h3 id="ansible-vault-encrypt">encrypt</h3> <p id="encrypt">encrypt the supplied file using the provided vault secret</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt-ask-vault-password">
<code>--ask-vault-password, --ask-vault-pass</code> </dt> <dd>
<p>ask for vault password</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt-encrypt-vault-id">
<code>--encrypt-vault-id &lt;ENCRYPT_VAULT_ID&gt;</code> </dt> <dd>
<p>the vault id used to encrypt (required if more than one vault-id is provided)</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt-output">
<code>--output &lt;OUTPUT_FILE&gt;</code> </dt> <dd>
<p>output file name for encrypt or decrypt; use - for stdout</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt-vault-id">
<code>--vault-id</code> </dt> <dd>
<p>the vault identity to use</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt-vault-password-file">
<code>--vault-password-file, --vault-pass-file</code> </dt> <dd>
<p>vault password file</p> </dd>
</dl>   <h3 id="ansible-vault-encrypt-string">encrypt_string</h3> <p id="encrypt-string">encrypt the supplied string using the provided vault secret</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt_string-ask-vault-password">
<code>--ask-vault-password, --ask-vault-pass</code> </dt> <dd>
<p>ask for vault password</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt_string-encrypt-vault-id">
<code>--encrypt-vault-id &lt;ENCRYPT_VAULT_ID&gt;</code> </dt> <dd>
<p>the vault id used to encrypt (required if more than one vault-id is provided)</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt_string-output">
<code>--output &lt;OUTPUT_FILE&gt;</code> </dt> <dd>
<p>output file name for encrypt or decrypt; use - for stdout</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt_string-show-input">
<code>--show-input</code> </dt> <dd>
<p>Do not hide input when prompted for the string to encrypt</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt_string-stdin-name">
<code>--stdin-name &lt;ENCRYPT_STRING_STDIN_NAME&gt;</code> </dt> <dd>
<p>Specify the variable name for stdin</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt_string-vault-id">
<code>--vault-id</code> </dt> <dd>
<p>the vault identity to use</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt_string-vault-password-file">
<code>--vault-password-file, --vault-pass-file</code> </dt> <dd>
<p>vault password file</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt_string-n">
<code>-n, --name</code> </dt> <dd>
<p>Specify the variable name</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-encrypt_string-p">
<code>-p, --prompt</code> </dt> <dd>
<p>Prompt for the string to encrypt</p> </dd>
</dl>   <h3 id="ansible-vault-rekey">rekey</h3> <p id="rekey">re-encrypt a vaulted file with a new secret, the previous secret is required</p> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-rekey-ask-vault-password">
<code>--ask-vault-password, --ask-vault-pass</code> </dt> <dd>
<p>ask for vault password</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-rekey-encrypt-vault-id">
<code>--encrypt-vault-id &lt;ENCRYPT_VAULT_ID&gt;</code> </dt> <dd>
<p>the vault id used to encrypt (required if more than one vault-id is provided)</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-rekey-new-vault-id">
<code>--new-vault-id &lt;NEW_VAULT_ID&gt;</code> </dt> <dd>
<p>the new vault identity to use for rekey</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-rekey-new-vault-password-file">
<code>--new-vault-password-file &lt;NEW_VAULT_PASSWORD_FILE&gt;</code> </dt> <dd>
<p>new vault password file for rekey</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-rekey-vault-id">
<code>--vault-id</code> </dt> <dd>
<p>the vault identity to use</p> </dd>
</dl> <dl class="std option"> <dt class="sig sig-object std" id="cmdoption-ansible-vault-rekey-vault-password-file">
<code>--vault-password-file, --vault-pass-file</code> </dt> <dd>
<p>vault password file</p> </dd>
</dl>    <h2 id="environment">Environment</h2> <p>The following environment variables may be specified.</p> <p><a class="reference internal" href="../reference_appendices/config.html#envvar-ANSIBLE_CONFIG" id="index-0"><code>ANSIBLE_CONFIG</code></a> – Override the default ansible config file</p> <p>Many more are available for most options in ansible.cfg</p>   <h2 id="files">Files</h2> <p><code>/etc/ansible/ansible.cfg</code> – Config file, used if present</p> <p><code>~/.ansible.cfg</code> – User config file, overrides the default config if present</p>   <h2 id="author">Author</h2> <p>Ansible was originally written by Michael DeHaan.</p> <p>See the <code>AUTHORS</code> file for a complete list of contributors.</p>   <h2 id="license">License</h2> <p>Ansible is released under the terms of the GPLv3+ License.</p>   <h2 id="see-also">See also</h2> <p><em class="manpage">ansible(1)</em>, <em class="manpage">ansible-config(1)</em>, <em class="manpage">ansible-console(1)</em>, <em class="manpage">ansible-doc(1)</em>, <em class="manpage">ansible-galaxy(1)</em>, <em class="manpage">ansible-inventory(1)</em>, <em class="manpage">ansible-playbook(1)</em>, <em class="manpage">ansible-pull(1)</em>, <em class="manpage">ansible-vault(1)</em>,</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/cli/ansible-vault.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/cli/ansible-vault.html</a>
  </p>
</div>
