<section id="filter-plugins"> <h1 id="id1">Filter plugins</h1>  <ul class="simple"> <li><a class="reference internal" href="#enabling-filter-plugins" id="id2">Enabling filter plugins</a></li> <li><a class="reference internal" href="#using-filter-plugins" id="id3">Using filter plugins</a></li> <li><a class="reference internal" href="#plugin-list" id="id4">Plugin list</a></li> </ul>  <p>Filter plugins manipulate data. With the right filter, you can extract a particular value, transform data types and formats, perform mathematical calculations, split and concatenate strings, insert dates and times, and do much more. Ansible uses the <a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/templates/#builtin-filters" title="(in Jinja v3.1.x)"><span class="xref std std-ref">standard filters</span></a> shipped with Jinja2 and adds some specialized filter plugins. You can <a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_plugins.html#developing-filter-plugins"><span class="std std-ref">create custom Ansible filters as plugins</span></a>.</p> <section id="enabling-filter-plugins"> <h2 id="enabling-filter">Enabling filter plugins</h2> <p>You can add a custom filter plugin by dropping it into a <code>filter_plugins</code> directory adjacent to your play, inside a role, or by putting it in one of the filter plugin directory sources configured in <a class="reference internal" href="../reference_appendices/config.html#ansible-configuration-settings"><span class="std std-ref">ansible.cfg</span></a>.</p> </section> <section id="using-filter-plugins"> <h2 id="using-filter">Using filter plugins</h2> <p>You can use filters anywhere you can use templating in Ansible: in a play, in variables file, or a Jinja2 template for the <a class="reference internal" href="../collections/ansible/builtin/template_module.html#template-module"><span class="std std-ref">template</span></a> module. For more information on using filter plugins, see <a class="reference internal" href="../playbook_guide/playbooks_filters.html#playbooks-filters"><span class="std std-ref">Using filters to manipulate data</span></a>. Filters can return any type of data, but if you want to always return a boolean, (<code>true</code> or <code>false</code>) you should be looking at a test instead.</p> <pre data-language="YAML+Jinja">vars:
   yaml_string: "{{ some_variable|to_yaml }}"
</pre> <p>Filters are the preferred way to manipulate data in Ansible, you can identify a filter because it is normally preceded by a <code>|</code>, with the expression on the left of it being the first input of the filter. Additional parameters may be passed into the filter itself as you would to most programming functions. These parameters can be either <code>positional</code> (passed in order) or <code>named</code> (passed as key=value pairs). When passing both types, positional arguments should go first.</p> <pre data-language="YAML+Jinja">passing_positional: {{ (x == 32) | ternary('x is 32', 'x is not 32') }}
passing_extra_named_parameters: {{ some_variable | to_yaml(indent=8, width=1337) }}
passing_both: {{ some_variable| ternary('true value', 'false value', none_val='NULL') }}
</pre> <p>In the documentation, filters will always have a C(_input) option that corresponds to the expression to the left of c(|). A C(positional:) field in the documentation will show which options are positional and in which order they are required.</p> </section> <section id="plugin-list"> <h2>Plugin list</h2> <p>You can use <code>ansible-doc -t filter -l</code> to see the list of available plugins. Use <code>ansible-doc -t filter &lt;plugin name&gt;</code> to see plugin-specific documentation and examples.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="../playbook_guide/playbooks_intro.html#about-playbooks"><span class="std std-ref">Ansible playbooks</span></a></dt>
<dd>
<p>An introduction to playbooks</p> </dd> <dt><a class="reference internal" href="inventory.html#inventory-plugins"><span class="std std-ref">Inventory plugins</span></a></dt>
<dd>
<p>Inventory plugins</p> </dd> <dt><a class="reference internal" href="callback.html#callback-plugins"><span class="std std-ref">Callback plugins</span></a></dt>
<dd>
<p>Callback plugins</p> </dd> <dt><a class="reference internal" href="test.html#test-plugins"><span class="std std-ref">Test plugins</span></a></dt>
<dd>
<p>Test plugins</p> </dd> <dt><a class="reference internal" href="lookup.html#lookup-plugins"><span class="std std-ref">Lookup plugins</span></a></dt>
<dd>
<p>Lookup plugins</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/communication.html#communication"><span class="std std-ref">Communication</span></a></dt>
<dd>
<p>Got questions? Need help? Want to share your ideas? Visit the Ansible communication guide</p> </dd> </dl> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/plugins/filter.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/plugins/filter.html</a>
  </p>
</div>
