<h1 id="id1">Shell Plugins</h1>  <ul class="simple" id="shell-plugins"> <li><a class="reference internal" href="#enabling-shell-plugins" id="id2">Enabling shell plugins</a></li> <li><a class="reference internal" href="#using-shell-plugins" id="id3">Using shell plugins</a></li> </ul>  <p>Shell plugins work to ensure that the basic commands Ansible runs are properly formatted to work with the target machine and allow the user to configure certain behaviors related to how Ansible executes tasks.</p>  <h2 id="enabling-shell">Enabling shell plugins</h2> <p id="enabling-shell-plugins">You can add a custom shell plugin by dropping it into a <code>shell_plugins</code> directory adjacent to your play, inside a role, or by putting it in one of the shell plugin directory sources configured in <a class="reference internal" href="../reference_appendices/config.html#ansible-configuration-settings"><span class="std std-ref">ansible.cfg</span></a>.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>You should not alter which plugin is used unless you have a setup in which the default <code>/bin/sh</code> is not a POSIX compatible shell or is not available for execution.</p> </div>   <h2 id="using-shell">Using shell plugins</h2> <p id="using-shell-plugins">In addition to the default configuration settings in <a class="reference internal" href="../reference_appendices/config.html#ansible-configuration-settings"><span class="std std-ref">Ansible Configuration Settings</span></a>, you can use the connection variable <a class="reference internal" href="../user_guide/intro_inventory.html#ansible-shell-type"><span class="std std-ref">ansible_shell_type</span></a> to select the plugin to use. In this case, you will also want to update the <a class="reference internal" href="../user_guide/intro_inventory.html#ansible-shell-executable"><span class="std std-ref">ansible_shell_executable</span></a> to match.</p> <p>You can further control the settings for each plugin via other configuration options detailed in the plugin themselves (linked below).</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="../user_guide/playbooks_intro.html#about-playbooks"><span class="std std-ref">Intro to playbooks</span></a></dt>
<dd>
<p>An introduction to playbooks</p> </dd> <dt><a class="reference internal" href="inventory.html#inventory-plugins"><span class="std std-ref">Inventory Plugins</span></a></dt>
<dd>
<p>Ansible inventory plugins</p> </dd> <dt><a class="reference internal" href="callback.html#callback-plugins"><span class="std std-ref">Callback Plugins</span></a></dt>
<dd>
<p>Ansible callback plugins</p> </dd> <dt><a class="reference internal" href="../user_guide/playbooks_filters.html#playbooks-filters"><span class="std std-ref">Using filters to manipulate data</span></a></dt>
<dd>
<p>Jinja2 filter plugins</p> </dd> <dt><a class="reference internal" href="../user_guide/playbooks_tests.html#playbooks-tests"><span class="std std-ref">Tests</span></a></dt>
<dd>
<p>Jinja2 test plugins</p> </dd> <dt><a class="reference internal" href="../user_guide/playbooks_lookups.html#playbooks-lookups"><span class="std std-ref">Lookups</span></a></dt>
<dd>
<p>Jinja2 lookup plugins</p> </dd> <dt><a class="reference external" href="https://groups.google.com/group/ansible-devel">User Mailing List</a></dt>
<dd>
<p>Have a question? Stop by the google group!</p> </dd> <dt><a class="reference external" href="https://libera.chat/">irc.libera.chat</a></dt>
<dd>
<p>#ansible IRC chat channel</p> </dd> </dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/plugins/shell.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/plugins/shell.html</a>
  </p>
</div>
