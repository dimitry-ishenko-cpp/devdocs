<section id="shell-plugins"> <h1 id="id1">Shell plugins</h1>  <ul class="simple"> <li><a class="reference internal" href="#enabling-shell-plugins" id="id2">Enabling shell plugins</a></li> <li><a class="reference internal" href="#using-shell-plugins" id="id3">Using shell plugins</a></li> <li><a class="reference internal" href="#plugin-list" id="id4">Plugin list</a></li> </ul>  <p>Shell plugins work to ensure that the basic commands Ansible runs are properly formatted to work with the target machine and allow the user to configure certain behaviors related to how Ansible executes tasks.</p> <section id="enabling-shell-plugins"> <h2 id="enabling-shell">Enabling shell plugins</h2> <p>You can add a custom shell plugin by dropping it into a <code>shell_plugins</code> directory adjacent to your play, inside a role, or by putting it in one of the shell plugin directory sources configured in <a class="reference internal" href="../reference_appendices/config.html#ansible-configuration-settings"><span class="std std-ref">ansible.cfg</span></a>.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>You should not alter which plugin is used unless you have a setup in which the default <code>/bin/sh</code> is not a POSIX-compatible shell or is not available for execution.</p> </div> </section> <section id="using-shell-plugins"> <h2 id="using-shell">Using shell plugins</h2> <p>In addition to the default configuration settings in <a class="reference internal" href="../reference_appendices/config.html#ansible-configuration-settings"><span class="std std-ref">Ansible Configuration Settings</span></a>, you can use the connection variable <a class="reference internal" href="../inventory_guide/intro_inventory.html#ansible-shell-type"><span class="std std-ref">ansible_shell_type</span></a> to select the plugin to use. In this case, you will also want to update the <a class="reference internal" href="../inventory_guide/intro_inventory.html#ansible-shell-executable"><span class="std std-ref">ansible_shell_executable</span></a> to match.</p> </section> <section id="plugin-list"> <h2>Plugin list</h2> <p>You can further control the settings for each plugin with other configuration options detailed in the plugin themselves. You can use <code>ansible-doc -t shell -l</code> to see the list of available plugins. Use <code>ansible-doc -t shell &lt;plugin name&gt;</code> to see plugin-specific documentation and examples.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="../playbook_guide/playbooks_intro.html#about-playbooks"><span class="std std-ref">Ansible playbooks</span></a></dt>
<dd>
<p>An introduction to playbooks</p> </dd> <dt><a class="reference internal" href="inventory.html#inventory-plugins"><span class="std std-ref">Inventory plugins</span></a></dt>
<dd>
<p>Inventory plugins</p> </dd> <dt><a class="reference internal" href="callback.html#callback-plugins"><span class="std std-ref">Callback plugins</span></a></dt>
<dd>
<p>Callback plugins</p> </dd> <dt><a class="reference internal" href="filter.html#filter-plugins"><span class="std std-ref">Filter plugins</span></a></dt>
<dd>
<p>Filter plugins</p> </dd> <dt><a class="reference internal" href="test.html#test-plugins"><span class="std std-ref">Test plugins</span></a></dt>
<dd>
<p>Test plugins</p> </dd> <dt><a class="reference internal" href="lookup.html#lookup-plugins"><span class="std std-ref">Lookup plugins</span></a></dt>
<dd>
<p>Lookup plugins</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/communication.html#communication"><span class="std std-ref">Communication</span></a></dt>
<dd>
<p>Got questions? Need help? Want to share your ideas? Visit the Ansible communication guide</p> </dd> </dl> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/plugins/shell.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/plugins/shell.html</a>
  </p>
</div>
