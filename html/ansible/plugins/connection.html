<section id="connection-plugins"> <h1 id="id1">Connection plugins</h1>  <ul class="simple"> <li><a class="reference internal" href="#ssh-plugins" id="id3"><code>ssh</code> plugins</a></li> <li><a class="reference internal" href="#using-connection-plugins" id="id4">Using connection plugins</a></li> <li><a class="reference internal" href="#plugin-list" id="id5">Plugin list</a></li> </ul>  <p>Connection plugins allow Ansible to connect to the target hosts so it can execute tasks on them. Ansible ships with many connection plugins, but only one can be used per host at a time.</p> <p>By default, Ansible ships with several connection plugins. The most commonly used are the <a class="reference internal" href="../collections/ansible/builtin/paramiko_ssh_connection.html#paramiko-connection"><span class="std std-ref">paramiko SSH</span></a>, native ssh (just called <a class="reference internal" href="../collections/ansible/builtin/ssh_connection.html#ssh-connection"><span class="std std-ref">ssh</span></a>), and <a class="reference internal" href="../collections/ansible/builtin/local_connection.html#local-connection"><span class="std std-ref">local</span></a> connection types. All of these can be used in playbooks and with <strong class="command">/usr/bin/ansible</strong> to decide how you want to talk to remote machines. If necessary, you can <a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_plugins.html#developing-connection-plugins"><span class="std std-ref">create custom connection plugins</span></a>. To change the connection plugin for your tasks, you can use the <code>connection</code> keyword.</p> <p>The basics of these connection types are covered in the <a class="reference external" href="https://docs.ansible.com/ansible/2.9/user_guide/intro_getting_started.html#intro-getting-started" title="(in Ansible v2.9)"><span class="xref std std-ref">getting started</span></a> section.</p> <section id="ssh-plugins"> <h2 id="id2">
<code>ssh</code> plugins</h2> <p>Because SSH is the default protocol used in system administration and the protocol most used in Ansible, SSH options are included in the command line tools. See <a class="reference internal" href="../cli/ansible-playbook.html#ansible-playbook"><span class="std std-ref">ansible-playbook</span></a> for more details.</p> </section> <section id="using-connection-plugins"> <h2 id="using-connection">Using connection plugins</h2> <p>You can set the connection plugin globally with <a class="reference internal" href="../reference_appendices/config.html#ansible-configuration-settings"><span class="std std-ref">configuration</span></a>, at the command line (<code>-c</code>, <code>--connection</code>), as a <a class="reference internal" href="../reference_appendices/playbooks_keywords.html#playbook-keywords"><span class="std std-ref">keyword</span></a> in your play, or by setting a <a class="reference internal" href="../inventory_guide/intro_inventory.html#behavioral-parameters"><span class="std std-ref">variable</span></a>, most often in your inventory. For example, for Windows machines, you might want to set the <a class="reference internal" href="../collections/ansible/builtin/winrm_connection.html#winrm-connection"><span class="std std-ref">winrm</span></a> plugin as an inventory variable.</p> <p>Most connection plugins can operate with minimal configuration. By default, they use the <a class="reference internal" href="../collections/ansible/builtin/inventory_hostnames_lookup.html#inventory-hostnames-lookup"><span class="std std-ref">inventory hostname</span></a> and defaults to find the target host.</p> <p>Plugins are self-documenting. Each plugin should document its configuration options. The following are connection variables common to most connection plugins:</p> <dl class="simple"> <dt><a class="reference internal" href="../playbook_guide/playbooks_vars_facts.html#magic-variables-and-hostvars"><span class="std std-ref">ansible_host</span></a></dt>
<dd>
<p>The name of the host to connect to, if different from the <a class="reference internal" href="../inventory_guide/intro_inventory.html#intro-inventory"><span class="std std-ref">inventory</span></a> hostname.</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/faq.html#faq-setting-users-and-ports"><span class="std std-ref">ansible_port</span></a></dt>
<dd>
<p>The ssh port number, for <a class="reference internal" href="../collections/ansible/builtin/ssh_connection.html#ssh-connection"><span class="std std-ref">ssh</span></a> and <a class="reference internal" href="../collections/ansible/builtin/paramiko_ssh_connection.html#paramiko-connection"><span class="std std-ref">paramiko_ssh</span></a> it defaults to 22.</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/faq.html#faq-setting-users-and-ports"><span class="std std-ref">ansible_user</span></a></dt>
<dd>
<p>The default username to use for log in. Most plugins default to the ‘current user running Ansible’.</p> </dd> </dl> <p>Each plugin might also have a specific version of a variable that overrides the general version. For example, <code>ansible_ssh_host</code> for the <a class="reference internal" href="../collections/ansible/builtin/ssh_connection.html#ssh-connection"><span class="std std-ref">ssh</span></a> plugin.</p> </section> <section id="plugin-list"> <h2 id="connection-plugin-list">Plugin list</h2> <p>You can use <code>ansible-doc -t connection -l</code> to see the list of available plugins. Use <code>ansible-doc -t connection &lt;plugin name&gt;</code> to see plugin-specific documentation and examples.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="../playbook_guide/playbooks.html#working-with-playbooks"><span class="std std-ref">Working with Playbooks</span></a></dt>
<dd>
<p>An introduction to playbooks</p> </dd> <dt><a class="reference internal" href="callback.html#callback-plugins"><span class="std std-ref">Callback plugins</span></a></dt>
<dd>
<p>Callback plugins</p> </dd> <dt><a class="reference internal" href="filter.html#filter-plugins"><span class="std std-ref">Filter plugins</span></a></dt>
<dd>
<p>Filter plugins</p> </dd> <dt><a class="reference internal" href="test.html#test-plugins"><span class="std std-ref">Test plugins</span></a></dt>
<dd>
<p>Test plugins</p> </dd> <dt><a class="reference internal" href="lookup.html#lookup-plugins"><span class="std std-ref">Lookup plugins</span></a></dt>
<dd>
<p>Lookup plugins</p> </dd> <dt><a class="reference internal" href="vars.html#vars-plugins"><span class="std std-ref">Vars plugins</span></a></dt>
<dd>
<p>Vars plugins</p> </dd> <dt><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/communication.html#communication"><span class="std std-ref">Communication</span></a></dt>
<dd>
<p>Got questions? Need help? Want to share your ideas? Visit the Ansible communication guide</p> </dd> </dl> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2018 Michael DeHaan<br>&copy; 2018&ndash;2024 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/plugins/connection.html" class="_attribution-link">https://docs.ansible.com/ansible/latest/plugins/connection.html</a>
  </p>
</div>
