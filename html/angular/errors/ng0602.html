  <h1 id="ng0602-a-disallowed-function-is-called-inside-a-reactive-context">NG0602: A disallowed function is called inside a reactive context</h1> <div class="error-description"> <h2 id="description">Description</h2> <p>A function that is not allowed to run inside a reactive context was called from within a reactive context.</p> <p>For example, an <code><a href="../api/core/effect.html" class="code-anchor">effect</a></code> cannot be scheduled from within a <code><a href="../api/core/computed.html" class="code-anchor">computed</a></code> or an actively executing effect. Avoid calling functions like <code><a href="../api/core/effect.html" class="code-anchor">effect</a></code> as part of template expressions, as those execute in their own reactive context.</p> <p>Computed expressions are expected to be pure. Pure means that expression do not trigger any side effects. Side effects are operations like scheduling <code><a href="../api/core/afterrender.html" class="code-anchor">afterRender</a></code>, creating a new <code><a href="../api/core/effect.html" class="code-anchor">effect</a></code>, or subscribing to observables.</p> <p>Some operations are explicitly banned inside reactive contexts in order to avoid common pitfalls. As an example, using <code><a href="../api/core/afterrender.html" class="code-anchor">afterRender</a></code> inside a <code><a href="../api/core/computed.html" class="code-anchor">computed</a></code> will schedule new render hooks every time the computed expression evaluates. This is likely not intended and could degrade application performance.</p> <h3 id="fixing-the-error">Fixing the error</h3> <p>This error guide is non-exhaustive. It captures a few common scenarios and how to address the error.</p> <h4 id="afterrender"><code><a href="../api/core/afterrender.html" class="code-anchor">afterRender</a></code></h4> <p>Move the call for <code><a href="../api/core/afterrender.html" class="code-anchor">afterRender</a></code> outside of the reactive context.</p> <p>A good place to schedule the after render hook is in the component's class constructor. Alternatively, use <code><a href="../api/core/untracked.html" class="code-anchor">untracked</a></code> to leave the reactive context and explicitly opt-out of this error.</p> <h4 id="effect"><code><a href="../api/core/effect.html" class="code-anchor">effect</a></code></h4> <p>Move the call for <code><a href="../api/core/effect.html" class="code-anchor">effect</a></code> outside of the reactive context.</p> <p>A good place to schedule an effect is in a <code>@<a href="../api/core/component.html" class="code-anchor">Component</a></code>'s class constructor.</p> <h4 id="tosignal"><code><a href="../api/core/rxjs-interop/tosignal.html" class="code-anchor">toSignal</a></code></h4> <p>Move the call for <code><a href="../api/core/rxjs-interop/tosignal.html" class="code-anchor">toSignal</a></code> outside of the reactive context.</p> <pre data-language="typescript">result = computed(() =&gt; {
  const dataSignal = toSignal(dataObservable$);
  return doSomething(dataSignal());
});</pre> <p>can be refactored into:</p> <pre data-language="typescript">dataSignal = toSignal(dataObservable$);
result = computed(() =&gt; doSomething(dataSignal()));</pre> <p>Alternatively, if this is not possible, consider manually subscribing to the observable.</p> <p>As a last resort, use <code><a href="../api/core/untracked.html" class="code-anchor">untracked</a></code> to leave the reactive context. Be careful as leaving the reactive context can result in signal reads to be ignored inside <code><a href="../api/core/untracked.html" class="code-anchor">untracked</a></code>.</p> </div>  <div class="debugging"> <h2 id="debugging-the-error">Debugging the error</h2> <p>The error message mentions the function that was unexpectedly called. Look for this function call in your application code.</p> <p>Alternatively, the stack trace in your browser will show where the function was invoked and where it's located.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/errors/NG0602" class="_attribution-link">https://angular.io/errors/NG0602</a>
  </p>
</div>
