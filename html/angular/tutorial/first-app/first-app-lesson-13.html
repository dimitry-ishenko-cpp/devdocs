  <h1 id="lesson-13-add-the-search-feature-to-your-app">Lesson 13: Add the search feature to your app</h1> <p>This tutorial lesson demonstrates how to add a search functionality to your Angular app.</p> <p>The app will enable users to search through the data provided by your app and display only the results that match the entered term.</p> <p><strong>Estimated time</strong>: ~15 minutes</p> <p><strong>Starting code:</strong> </p> <p><strong>Completed code:</strong> </p> <h2 id="what-youll-learn">What you'll learn</h2> <ul> <li>Your app will use data from a form to search for matching housing locations</li> <li>Your app will display only the matching housing locations</li> </ul> <h2 id="step-1---update-the-home-component-properties">Step 1 - Update the home component properties</h2> <p>In this step, you'll update the <code>HomeComponent</code> class to store data in a new array property that you will use for filtering.</p> <ol> <li> <p>In <code>src/app/home/home.component.ts</code>, add new property to the class called <code>filteredLocationList</code>.</p> <pre header="Add the filtered results property" data-language="typescript">filteredLocationList: HousingLocation[] = [];</pre> <p>The <code>filteredLocationList</code> hold the values that match the search criteria entered by the user.</p> </li> <li> <p>The <code>filteredLocationList</code> should contain the total set of housing locations values by default when the page loads. Update the <code>constructor</code> for the <code>HomeComponent</code> to set the value.</p> <pre header="Set the value of filteredLocationList" data-language="typescript">constructor() {
  this.housingLocationList = this.housingService.getAllHousingLocations();
  this.filteredLocationList = this.housingLocationList;
}</pre> </li> </ol> <h2 id="step-2---update-the-home-component-template">Step 2 - Update the home component template</h2> <p>The <code>HomeComponent</code> already contains an input field that you will use to capture input from the user. That string text will be used to filter the results.</p> <ol> <li> <p>Update the <code>HomeComponent</code> template to include a template variable in the <code>input</code> element called <code>#filter</code>.</p> <pre header="Add a template variable to HomeComponent's template" format="html" data-language="html">&lt;input type="text" placeholder="Filter by city" #filter&gt;</pre> <p>This example uses a <a href="../../guide/template-reference-variables.html">template reference variable</a> to get access to the <code>input</code> element as its value.</p> </li> <li> <p>Next, update the component template to attach an event handler to the "Search" button.</p> <pre header="Bind the click event" format="html" data-language="html">&lt;button class="primary" type="button" (click)="filterResults(filter.value)"&gt;Search&lt;/button&gt;</pre> <p>By binding to the <code>click</code> event on the <code>button</code> element, you are able to call the <code>filterResults</code> function. The argument to the function is the <code>value</code> property of the <code>filter</code> template variable. Specifically, the <code>.value</code> property from the <code>input</code> HTML element.</p> </li> <li> <p>The last template update is to the <code><a href="../../api/common/ngfor.html" class="code-anchor">ngFor</a></code> directive. Update the <code><a href="../../api/common/ngfor.html" class="code-anchor">ngFor</a></code> value to iterate over values from the <code>filteredLocationList</code> array.</p> <pre header="Update the ngFor directive value" format="html" data-language="html">&lt;app-housing-location *ngFor="let housingLocation of filteredLocationList" [housingLocation]="housingLocation"&gt;&lt;/app-housing-location&gt;</pre> </li> </ol> <h2 id="step-3---implement-the-event-handler-function">Step 3 - Implement the event handler function</h2> <p>The template has been updated to bind the <code>filterResults</code> function to the <code>click</code> event. Next, your task is to implement the <code>filterResults</code> function in the <code>HomeComponent</code> class.</p> <ol> <li> <p>Update the <code>HomeComponent</code> class to include the implementation of the <code>filterResults</code> function.</p> <pre header="Add the filterResults function implementation" data-language="typescript">filterResults(text: string) {
  if (!text) {
    this.filteredLocationList = this.housingLocationList;
    return;
  }

  this.filteredLocationList = this.housingLocationList.filter(
    housingLocation =&gt; housingLocation?.city.toLowerCase().includes(text.toLowerCase())
  );
}</pre> <p>This function uses the <code>String</code> <code>filter</code> function to compare the value of the <code>text</code> parameter against the <code>housingLocation.city</code> property. You can update this function to match against any property or multiple properties for a fun exercise.</p> </li> <li> <p>Save your code.</p> </li> <li> <p>Refresh the browser and confirm that you can search the housing location data by city when you click the "Search" button after entering text.</p> </li> </ol>  <img alt="filtered search results based on user input" src="https://angular.io/generated/images/guide/faa/homes-app-lesson-13-step-3.png" width="2342" height="1964">  <h2 id="lesson-review">Lesson review</h2> <p>In this lesson, you updated your app to:</p> <ul> <li>use template variables to interact with template values</li> <li>add search functionality using event binding and array functions</li> </ul> <p>If you are having any trouble with this lesson, you can review the completed code for it in the live example.</p> <h2 id="next-steps">Next steps</h2> <ul> <li><a href="first-app-lesson-14.html">Lesson 14 - Add HTTP communication to your app</a></li> </ul> <h2 id="more-information">More information</h2> <p>For more information about the topics covered in this lesson, visit:</p> <ul> <li><a href="../../guide/template-reference-variables.html">Template Variables</a></li> <li><a href="../../guide/event-binding.html">Event Handling</a></li> </ul> <div class="reviewed">Last reviewed on Tue Jul 11 2023</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/tutorial/first-app/first-app-lesson-13" class="_attribution-link">https://angular.io/tutorial/first-app/first-app-lesson-13</a>
  </p>
</div>
