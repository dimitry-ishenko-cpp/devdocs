  <h1 id="defer">@defer</h1> <p><code class="api-type-label block">block</code></p>  <aio-toc class="embedded"></aio-toc> <div class="api-body">  <p>A type of <a href="defer.html">block</a> that can be used to defer load the JavaScript for components, directives and pipes used inside a component template.</p> <p><a href="defer.html#description">See more...</a></p>  <h2 id="syntax">Syntax</h2> <pre data-language="html">@defer ( on &lt;trigger&gt;; when &lt;condition&gt;; prefetch on &lt;trigger&gt;; prefetch when &lt;condition&gt; ) {
  &lt;!-- deferred template fragment --&gt;
  &lt;calendar-cmp /&gt;
} @placeholder ( minimum? &lt;duration&gt; ) {
  &lt;!-- placeholder template fragment --&gt;
  &lt;p&gt;Placeholder&lt;/p&gt;
} @loading ( minimum? &lt;duration&gt;; after? &lt;duration&gt; ) {
  &lt;!-- loading template fragment --&gt;
  &lt;img alt="loading image" src="loading.gif" /&gt;
} @error {
  &lt;!-- error template fragment --&gt;
  &lt;p&gt;An loading error occured&lt;/p&gt;
}</pre>  <h2 id="description">Description</h2> <h3 id="blocks">Blocks</h3> <p>Supported sections of a defer block. Note: only the @defer block template fragment is deferred loaded. The remaining optional blocks are eagerly loaded.</p> <table> <thead> <tr> <th>block</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code><a href="defer.html" class="code-anchor">@defer</a></code></td> <td>The defer loaded block of content</td> </tr> <tr> <td><code>@placeholder</code></td> <td>Content shown prior to defer loading (Optional)</td> </tr> <tr> <td><code>@loading</code></td> <td>Content shown during defer loading (Optional)</td> </tr> <tr> <td><code>@error</code></td> <td>Content shown when defer loading errors occur (Optional)</td> </tr> </tbody> </table> <h3 id="triggers">Triggers</h3> <p>Triggers provide conditions for when defer loading occurs. Some allow a template reference variable as an optional parameter. Separate multiple triggers with a semicolon.</p> <table> <thead> <tr> <th>trigger</th> <th>Triggers...</th> </tr> </thead> <tbody> <tr> <td><code>on idle</code></td> <td>when the browser reports idle state (default)</td> </tr> <tr> <td><code>on viewport(&lt;elementRef&gt;?)</code></td> <td>when the element enters the viewport</td> </tr> <tr> <td><code>on interaction(&lt;elementRef&gt;?)</code></td> <td>when clicked, touched, or focused</td> </tr> <tr> <td><code>on hover(&lt;elementRef&gt;?)</code></td> <td>when element has been hovered</td> </tr> <tr> <td><code>on immediate</code></td> <td>when the page finishes rendering</td> </tr> <tr> <td><code>on timer(&lt;duration&gt;)</code></td> <td>after a specific timeout</td> </tr> <tr> <td><code>when &lt;condition&gt;</code></td> <td>on a custom condition</td> </tr> </tbody> </table> <h2 id="prefetch">Prefetch</h2> <p>Configures prefetching of the defer block used in the <code><a href="defer.html" class="code-anchor">@defer</a></code> parameters, but does not affect rendering. Rendering is handled by the standard <code>on</code> and <code>when</code> conditions. Separate multiple prefetch configurations with a semicolon.</p> <pre data-language="html">@defer (prefetch on &lt;trigger&gt;; prefetch when &lt;condition&gt;) {
  &lt;!-- deferred template fragment --&gt;
}</pre> <p>Learn more in the <a href="../../guide/defer.html">defer loading guide</a>.</p>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/api/core/defer" class="_attribution-link">https://angular.io/api/core/defer</a>
  </p>
</div>
