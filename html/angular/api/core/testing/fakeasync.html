  <h1 id="fakeasync">fakeAsync</h1> <p><code class="api-type-label function">function</code></p>  <aio-toc class="embedded"></aio-toc> <div class="api-body">  <p>Wraps a function to be executed in the <code><a href="fakeasync.html" class="code-anchor">fakeAsync</a></code> zone:</p> <ul> <li>Microtasks are manually executed by calling <code><a href="flushmicrotasks.html" class="code-anchor">flushMicrotasks</a>()</code>.</li> <li>Timers are synchronous; <code><a href="tick.html" class="code-anchor">tick</a>()</code> simulates the asynchronous passage of time.</li> </ul> <p><a href="fakeasync.html#description">See more...</a></p>  <div class="overload-info"> <h3 data-language="typescript"><code>fakeAsync(fn: Function): (...args: any[]) =&gt; any</code></h3> <h6 class="no-anchor" id="parameters">Parameters</h6> <table> <tbody> <tr class="function-overload-parameter"> <td class="param-name">  <code>fn</code> </td> <td class="param-type"><code>Function</code></td> <td class="param-description"> <p>The function that you want to wrap in the <code><a href="fakeasync.html" class="code-anchor">fakeAsync</a></code> zone.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns">Returns</h6> <p><code>(...args: any[]) =&gt; any</code>: The function wrapped to be executed in the <code><a href="fakeasync.html" class="code-anchor">fakeAsync</a></code> zone. Any arguments passed when calling this returned function will be passed through to the <code>fn</code> function in the parameters when it is called.</p> </div>  <h2 id="description">Description</h2> <p>If there are any pending timers at the end of the function, an exception is thrown.</p> <p>Can be used to wrap <code>inject()</code> calls.</p> <p>Further information is available in the <a href="fakeasync.html#usage-notes">Usage Notes...</a></p>   <h2 id="usage-notes">Usage notes</h2> <h3 id="example">Example</h3> <pre data-language="typescript">describe('this test', () =&gt; {
  it('looks async but is synchronous', &lt;any&gt;fakeAsync((): void =&gt; {
       let flag = false;
       setTimeout(() =&gt; {
         flag = true;
       }, 100);
       expect(flag).toBe(false);
       tick(50);
       expect(flag).toBe(false);
       tick(50);
       expect(flag).toBe(true);
     }));
});</pre> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/api/core/testing/fakeAsync" class="_attribution-link">https://angular.io/api/core/testing/fakeAsync</a>
  </p>
</div>
