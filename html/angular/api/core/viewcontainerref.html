  <h1 id="viewcontainerref">ViewContainerRef</h1> <p><code class="api-type-label class">class</code></p>  <aio-toc class="embedded"></aio-toc> <div class="api-body">  <p>Represents a container where one or more views can be attached to a component.</p> <p><a href="viewcontainerref.html#description">See more...</a></p>  <pre data-language="typescript">abstract class ViewContainerRef {
  abstract element: ElementRef
  abstract injector: Injector
  abstract parentInjector: Injector
  abstract length: number
  abstract clear(): void
  abstract get(index: number): ViewRef | null
  abstract createEmbeddedView&lt;C&gt;(templateRef: TemplateRef&lt;C&gt;, context?: C, options?: { index?: number; injector?: Injector; }): EmbeddedViewRef&lt;C&gt;
  abstract createComponent&lt;C&gt;(componentType: Type&lt;C&gt;, options?: { index?: number; injector?: Injector; ngModuleRef?: NgModuleRef&lt;unknown&gt;; environmentInjector?: EnvironmentInjector | NgModuleRef&lt;unknown&gt;; projectableNodes?: Node[][]; }): ComponentRef&lt;C&gt;
  abstract insert(viewRef: ViewRef, index?: number): ViewRef
  abstract move(viewRef: ViewRef, currentIndex: number): ViewRef
  abstract indexOf(viewRef: ViewRef): number
  abstract remove(index?: number): void
  abstract detach(index?: number): ViewRef | null
}</pre>   <h2 id="see-also">See also</h2> <ul> <li><a href="componentref.html"><code>ComponentRef</code></a></li> <li><a href="embeddedviewref.html"><code>EmbeddedViewRef</code></a></li> </ul>   <h2 id="description">Description</h2> <p>Can contain <em>host views</em> (created by instantiating a component with the <code><a href="createcomponent.html" class="code-anchor">createComponent</a>()</code> method), and <em>embedded views</em> (created by instantiating a <code><a href="templateref.html" class="code-anchor">TemplateRef</a></code> with the <code>createEmbeddedView()</code> method).</p> <p>A view container instance can contain other view containers, creating a <a href="../../guide/glossary.html#view-hierarchy">view hierarchy</a>.</p> <p>Further information is available in the <a href="viewcontainerref.html#usage-notes">Usage Notes...</a></p>   <h2 id="properties">Properties</h2> <table> <thead> <tr> <th>Property</th> <th>Description</th> </tr> </thead> <tbody> <tr class="instance-property"> <td>  <code class="">abstract <span class="member-name">element</span>: <a href="elementref.html" class="code-anchor">ElementRef</a></code> </td> <td> <span class="read-only-property">Read-Only</span> <p>Anchor element that specifies the location of this container in the containing view. Each view container can have only one anchor element, and each anchor element can have only a single view container.</p> <p>Root elements of views attached to this container become siblings of the anchor element in the rendered view.</p> <p>Access the <code><a href="viewcontainerref.html" class="code-anchor">ViewContainerRef</a></code> of an element by placing a <code><a href="directive.html" class="code-anchor">Directive</a></code> injected with <code><a href="viewcontainerref.html" class="code-anchor">ViewContainerRef</a></code> on the element, or use a <code><a href="viewchild.html" class="code-anchor">ViewChild</a></code> query.</p>  </td> </tr> <tr class="instance-property"> <td>  <code class="">abstract <span class="member-name">injector</span>: <a href="injector.html" class="code-anchor">Injector</a></code> </td> <td> <span class="read-only-property">Read-Only</span> <p>The <a href="../../guide/glossary.html#injector">dependency injector</a> for this view container.</p> </td> </tr> <tr class="instance-property"> <td>  <code class="deprecated-api-item">abstract <span class="member-name">parentInjector</span>: <a href="injector.html" class="code-anchor">Injector</a></code> </td> <td> <code class="api-status-label deprecated" title="This API is deprecated">Deprecated</code> <span class="read-only-property">Read-Only</span> <p><strong>Deprecated</strong> No replacement</p> </td> </tr> <tr class="instance-property"> <td>  <code class="">abstract <span class="member-name">length</span>: number</code> </td> <td> <span class="read-only-property">Read-Only</span> <p>Reports how many views are currently attached to this container.</p> </td> </tr> </tbody> </table>   <h2 id="methods">Methods</h2>  <table> <thead><tr><th> <div class="with-github-links"> <span id="clear">clear()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Destroys all views in this container.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract clear(): void</code></h3> <h6 class="no-anchor" id="parameters">Parameters</h6> <p>There are no parameters.</p> <h6 class="no-anchor" id="returns">Returns</h6> <p><code>void</code></p> </div> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="get">get()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Retrieves a view from this container.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract get(index: number): ViewRef | null</code></h3> <h6 class="no-anchor" id="parameters-1">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>index</code> </td> <td class="param-type"><code>number</code></td> <td class="param-description"> <p>The 0-based index of the view to retrieve.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-1">Returns</h6> <p><code><a href="viewref.html" class="code-anchor">ViewRef</a> | null</code>: The <code><a href="viewref.html" class="code-anchor">ViewRef</a></code> instance, or null if the index is out of range.</p> </div> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="createembeddedview">createEmbeddedView()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Instantiates an embedded view and inserts it into this container.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract createEmbeddedView&lt;C&gt;(templateRef: TemplateRef&lt;C&gt;, context?: C, options?: { index?: number; injector?: Injector; }): EmbeddedViewRef&lt;C&gt;</code></h3> <h6 class="no-anchor" id="parameters-2">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>templateRef</code> </td> <td class="param-type"><code><a href="templateref.html" class="code-anchor">TemplateRef&lt;C&gt;</a></code></td> <td class="param-description"> <p>The HTML template that defines the view.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>context</code> </td> <td class="param-type"><code>C</code></td> <td class="param-description"> <p>The data-binding context of the embedded view, as declared in the <code><a href="ng-template.html" class="code-anchor">&lt;ng-template&gt;</a></code> usage.</p> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>options</code> </td> <td class="param-type"><code>object</code></td> <td class="param-description"> <p>Extra configuration for the created view. Includes:</p> <ul> <li>index: The 0-based index at which to insert the new view into this container. If not specified, appends the new view as the last entry.</li> <li>injector: Injector to be used within the embedded view.</li> </ul> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-2">Returns</h6> <p><code><a href="embeddedviewref.html" class="code-anchor">EmbeddedViewRef&lt;C&gt;</a></code>: The <code><a href="viewref.html" class="code-anchor">ViewRef</a></code> instance for the newly created view.</p> </div> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract createEmbeddedView&lt;C&gt;(templateRef: TemplateRef&lt;C&gt;, context?: C, index?: number): EmbeddedViewRef&lt;C&gt;</code></h3> <h6 class="no-anchor" id="parameters-3">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>templateRef</code> </td> <td class="param-type"><code><a href="templateref.html" class="code-anchor">TemplateRef&lt;C&gt;</a></code></td> <td class="param-description"> <p>The HTML template that defines the view.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>context</code> </td> <td class="param-type"><code>C</code></td> <td class="param-description"> <p>The data-binding context of the embedded view, as declared in the <code><a href="ng-template.html" class="code-anchor">&lt;ng-template&gt;</a></code> usage.</p> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>index</code> </td> <td class="param-type"><code>number</code></td> <td class="param-description"> <p>The 0-based index at which to insert the new view into this container. If not specified, appends the new view as the last entry.</p> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-3">Returns</h6> <p><code><a href="embeddedviewref.html" class="code-anchor">EmbeddedViewRef&lt;C&gt;</a></code>: The <code><a href="viewref.html" class="code-anchor">ViewRef</a></code> instance for the newly created view.</p> </div> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="createcomponent">createComponent()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Instantiates a single component and inserts its host view into this container.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract createComponent&lt;C&gt;(componentType: Type&lt;C&gt;, options?: { index?: number; injector?: Injector; ngModuleRef?: NgModuleRef&lt;unknown&gt;; environmentInjector?: EnvironmentInjector | NgModuleRef&lt;unknown&gt;; projectableNodes?: Node[][]; }): ComponentRef&lt;C&gt;</code></h3> <h6 class="no-anchor" id="parameters-4">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>componentType</code> </td> <td class="param-type"><code><a href="type.html" class="code-anchor">Type</a>&lt;C&gt;</code></td> <td class="param-description"> <p>Component Type to use.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>options</code> </td> <td class="param-type"><code>object</code></td> <td class="param-description"> <p>An object that contains extra parameters:</p> <ul> <li>index: the index at which to insert the new component's host view into this container. If not specified, appends the new view as the last entry.</li> <li>injector: the injector to use as the parent for the new component.</li> <li>ngModuleRef: an NgModuleRef of the component's NgModule, you should almost always provide this to ensure that all expected providers are available for the component instantiation.</li> <li>environmentInjector: an EnvironmentInjector which will provide the component's environment. you should almost always provide this to ensure that all expected providers are available for the component instantiation. This option is intended to replace the <code>ngModuleRef</code> parameter.</li> <li>projectableNodes: list of DOM nodes that should be projected through <a href="ng-content.html"><code>&lt;ng-content&gt;</code></a> of the new component instance.</li> </ul> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-4">Returns</h6> <p><code><a href="componentref.html" class="code-anchor">ComponentRef&lt;C&gt;</a></code>: The new <code><a href="componentref.html" class="code-anchor">ComponentRef</a></code> which contains the component instance and the host view.</p> </div> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract createComponent&lt;C&gt;(componentFactory: ComponentFactory&lt;C&gt;, index?: number, injector?: Injector, projectableNodes?: any[][], environmentInjector?: EnvironmentInjector | NgModuleRef&lt;any&gt;): ComponentRef&lt;C&gt;</code></h3> <div class="deprecated"> <p><strong>Deprecated</strong> Angular no longer requires component factories to dynamically create components. Use different signature of the <code><a href="createcomponent.html" class="code-anchor">createComponent</a></code> method, which allows passing Component class directly.</p> </div> <h6 class="no-anchor" id="parameters-5">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>componentFactory</code> </td> <td class="param-type"><code><a href="componentfactory.html" class="code-anchor">ComponentFactory&lt;C&gt;</a></code></td> <td class="param-description"> <p>Component factory to use.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>index</code> </td> <td class="param-type"><code>number</code></td> <td class="param-description"> <p>The index at which to insert the new component's host view into this container. If not specified, appends the new view as the last entry.</p> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>injector</code> </td> <td class="param-type"><code><a href="injector.html" class="code-anchor">Injector</a></code></td> <td class="param-description"> <p>The injector to use as the parent for the new component.</p> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>projectableNodes</code> </td> <td class="param-type"><code>any[][]</code></td> <td class="param-description"> <p>List of DOM nodes that should be projected through <a href="ng-content.html"><code>&lt;ng-content&gt;</code></a> of the new component instance.</p> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>environmentInjector</code> </td> <td class="param-type"><code><a href="environmentinjector.html" class="code-anchor">EnvironmentInjector</a> | <a href="ngmoduleref.html" class="code-anchor">NgModuleRef</a>&lt;any&gt;</code></td> <td class="param-description"> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-5">Returns</h6> <p><code><a href="componentref.html" class="code-anchor">ComponentRef&lt;C&gt;</a></code>: The new <code><a href="componentref.html" class="code-anchor">ComponentRef</a></code> which contains the component instance and the host view.</p> </div> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="insert">insert()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Inserts a view into this container.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract insert(viewRef: ViewRef, index?: number): ViewRef</code></h3> <h6 class="no-anchor" id="parameters-6">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>viewRef</code> </td> <td class="param-type"><code><a href="viewref.html" class="code-anchor">ViewRef</a></code></td> <td class="param-description"> <p>The view to insert.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>index</code> </td> <td class="param-type"><code>number</code></td> <td class="param-description"> <p>The 0-based index at which to insert the view. If not specified, appends the new view as the last entry.</p> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-6">Returns</h6> <p><code><a href="viewref.html" class="code-anchor">ViewRef</a></code>: The inserted <code><a href="viewref.html" class="code-anchor">ViewRef</a></code> instance.</p> </div> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="move">move()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Moves a view to a new location in this container.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract move(viewRef: ViewRef, currentIndex: number): ViewRef</code></h3> <h6 class="no-anchor" id="parameters-7">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>viewRef</code> </td> <td class="param-type"><code><a href="viewref.html" class="code-anchor">ViewRef</a></code></td> <td class="param-description"> <p>The view to move.</p> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>currentIndex</code> </td> <td class="param-type"><code>number</code></td> <td class="param-description"> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-7">Returns</h6> <p><code><a href="viewref.html" class="code-anchor">ViewRef</a></code>: The moved <code><a href="viewref.html" class="code-anchor">ViewRef</a></code> instance.</p> </div> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="indexof">indexOf()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Returns the index of a view within the current container.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract indexOf(viewRef: ViewRef): number</code></h3> <h6 class="no-anchor" id="parameters-8">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>viewRef</code> </td> <td class="param-type"><code><a href="viewref.html" class="code-anchor">ViewRef</a></code></td> <td class="param-description"> <p>The view to query.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-8">Returns</h6> <p><code>number</code>: The 0-based index of the view's position in this container, or <code>-1</code> if this container doesn't contain the view.</p> </div> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="remove">remove()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Destroys a view attached to this container</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract remove(index?: number): void</code></h3> <h6 class="no-anchor" id="parameters-9">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>index</code> </td> <td class="param-type"><code>number</code></td> <td class="param-description"> <p>The 0-based index of the view to destroy. If not specified, the last view in the container is removed.</p> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-9">Returns</h6> <p><code>void</code></p> </div> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="detach">detach()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Detaches a view from this container without destroying it. Use along with <code>insert()</code> to move a view within the current container.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>abstract detach(index?: number): ViewRef | null</code></h3> <h6 class="no-anchor" id="parameters-10">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>index</code> </td> <td class="param-type"><code>number</code></td> <td class="param-description"> <p>The 0-based index of the view to detach. If not specified, the last view in the container is detached.</p> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-10">Returns</h6> <p><code><a href="viewref.html" class="code-anchor">ViewRef</a> | null</code></p> </div> </td> </tr> </tbody> </table>   <h2 id="usage-notes">Usage notes</h2> <p>The example below demonstrates how the <code><a href="createcomponent.html" class="code-anchor">createComponent</a></code> function can be used to create an instance of a ComponentRef dynamically and attach it to an ApplicationRef, so that it gets included into change detection cycles.</p> <p>Note: the example uses standalone components, but the function can also be used for non-standalone components (declared in an NgModule) as well.</p> <pre data-language="typescript">@Component({
  standalone: true,
  selector: 'dynamic',
  template: `&lt;span&gt;This is a content of a dynamic component.&lt;/span&gt;`,
})
class DynamicComponent {
  vcr = inject(ViewContainerRef);
}

@Component({
  standalone: true,
  selector: 'app',
  template: `&lt;main&gt;Hi! This is the main content.&lt;/main&gt;`,
})
class AppComponent {
  vcr = inject(ViewContainerRef);

  ngAfterViewInit() {
    const compRef = this.vcr.createComponent(DynamicComponent);
    compRef.changeDetectorRef.detectChanges();
  }
}</pre> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/api/core/ViewContainerRef" class="_attribution-link">https://angular.io/api/core/ViewContainerRef</a>
  </p>
</div>
