  <h1 id="controlvalueaccessor">ControlValueAccessor</h1> <p><code class="api-type-label interface">interface</code></p>  <aio-toc class="embedded"></aio-toc> <div class="api-body">  <p>Defines an interface that acts as a bridge between the Angular forms API and a native element in the DOM.</p> <p><a href="controlvalueaccessor.html#description">See more...</a></p>  <pre data-language="typescript">interface ControlValueAccessor {
  writeValue(obj: any): void
  registerOnChange(fn: any): void
  registerOnTouched(fn: any): void
  setDisabledState(isDisabled: boolean)?: void
}</pre> <div class="descendants class"> <h2 id="class-implementations">Class implementations</h2> <ul> <li> <code><a href="checkboxcontrolvalueaccessor.html" class="code-anchor">CheckboxControlValueAccessor</a></code> </li> <li> <code><a href="defaultvalueaccessor.html" class="code-anchor">DefaultValueAccessor</a></code> </li> <li> <code><a href="numbervalueaccessor.html" class="code-anchor">NumberValueAccessor</a></code> </li> <li> <code><a href="radiocontrolvalueaccessor.html" class="code-anchor">RadioControlValueAccessor</a></code> </li> <li> <code><a href="rangevalueaccessor.html" class="code-anchor">RangeValueAccessor</a></code> </li> <li> <code><a href="selectcontrolvalueaccessor.html" class="code-anchor">SelectControlValueAccessor</a></code> </li> <li> <code><a href="selectmultiplecontrolvalueaccessor.html" class="code-anchor">SelectMultipleControlValueAccessor</a></code> </li> </ul> </div>   <h2 id="see-also">See also</h2> <ul> <li><a href="defaultvalueaccessor.html"><code>DefaultValueAccessor</code></a></li> </ul>   <h2 id="description">Description</h2> <p>Implement this interface to create a custom form control directive that integrates with Angular forms.</p>   <h2 id="methods">Methods</h2>  <table> <thead><tr><th> <div class="with-github-links"> <span id="writevalue">writeValue()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Writes a new value to the element.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>writeValue(obj: any): void</code></h3> <h6 class="no-anchor" id="parameters">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>obj</code> </td> <td class="param-type"><code>any</code></td> <td class="param-description"> <p>The new value for the element</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns">Returns</h6> <p><code>void</code></p> </div> </td> </tr> <tr> <td class="description"> <p>This method is called by the forms API to write to the view when programmatic changes from model to view are requested.</p> </td> </tr> <tr> <td class="usage-notes"> <h4 id="writeValue-usage-notes">Usage Notes</h4> <h5 id="write-a-value-to-the-element">Write a value to the element</h5> <p>The following example writes a value to the native DOM element.</p> <pre data-language="typescript">writeValue(value: any): void {
  this._renderer.setProperty(this._elementRef.nativeElement, 'value', value);
}</pre> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="registeronchange">registerOnChange()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Registers a callback function that is called when the control's value changes in the UI.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>registerOnChange(fn: any): void</code></h3> <h6 class="no-anchor" id="parameters-1">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>fn</code> </td> <td class="param-type"><code>any</code></td> <td class="param-description"> <p>The callback function to register</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-1">Returns</h6> <p><code>void</code></p> </div> </td> </tr> <tr> <td class="description"> <p>This method is called by the forms API on initialization to update the form model when values propagate from the view to the model.</p> <p>When implementing the <code>registerOnChange</code> method in your own value accessor, save the given function so your class calls it at the appropriate time.</p> </td> </tr> <tr> <td class="usage-notes"> <h4 id="registerOnChange-usage-notes">Usage Notes</h4> <h5 id="store-the-change-function">Store the change function</h5> <p>The following example stores the provided function as an internal method.</p> <pre data-language="typescript">registerOnChange(fn: (_: any) =&gt; void): void {
  this._onChange = fn;
}</pre> <p>When the value changes in the UI, call the registered function to allow the forms API to update itself:</p> <pre data-language="typescript">host: {
   '(change)': '_onChange($event.target.value)'
}</pre> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="registerontouched">registerOnTouched()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Registers a callback function that is called by the forms API on initialization to update the form model on blur.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>registerOnTouched(fn: any): void</code></h3> <h6 class="no-anchor" id="parameters-2">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>fn</code> </td> <td class="param-type"><code>any</code></td> <td class="param-description"> <p>The callback function to register</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-2">Returns</h6> <p><code>void</code></p> </div> </td> </tr> <tr> <td class="description"> <p>When implementing <code>registerOnTouched</code> in your own value accessor, save the given function so your class calls it when the control should be considered blurred or "touched".</p> </td> </tr> <tr> <td class="usage-notes"> <h4 id="registerOnTouched-usage-notes">Usage Notes</h4> <h5 id="store-the-callback-function">Store the callback function</h5> <p>The following example stores the provided function as an internal method.</p> <pre data-language="typescript">registerOnTouched(fn: any): void {
  this._onTouched = fn;
}</pre> <p>On blur (or equivalent), your class should call the registered function to allow the forms API to update itself:</p> <pre data-language="typescript">host: {
   '(blur)': '_onTouched()'
}</pre> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="setdisabledstate">setDisabledState()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Function that is called by the forms API when the control status changes to or from 'DISABLED'. Depending on the status, it enables or disables the appropriate DOM element.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>setDisabledState(isDisabled: boolean)?: void</code></h3> <h6 class="no-anchor" id="parameters-3">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>isDisabled</code> </td> <td class="param-type"><code>boolean</code></td> <td class="param-description"> <p>The disabled status to set on the element</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-3">Returns</h6> <p><code>void</code></p> </div> </td> </tr> <tr> <td class="usage-notes"> <h4 id="setDisabledState-usage-notes">Usage Notes</h4> <p>The following is an example of writing the disabled property to a native DOM element:</p> <pre data-language="typescript">setDisabledState(isDisabled: boolean): void {
  this._renderer.setProperty(this._elementRef.nativeElement, 'disabled', isDisabled);
}</pre> </td> </tr> </tbody> </table>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/api/forms/ControlValueAccessor" class="_attribution-link">https://angular.io/api/forms/ControlValueAccessor</a>
  </p>
</div>
