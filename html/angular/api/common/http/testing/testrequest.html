  <h1 id="testrequest">TestRequest</h1> <p><code class="api-type-label class">class</code> <code class="github-links api-status-label final" title="This class should not be extended."> <a href="https://github.com/angular/angular/tree/17.0.8/docs/PUBLIC_API.md#final-classes">final</a> </code></p>   <aio-toc class="embedded"></aio-toc> <div class="api-body">  <p>A mock requests that was received and is ready to be answered.</p> <p><a href="testrequest.html#description">See more...</a></p>  <pre data-language="typescript">class TestRequest {
  constructor(request: HttpRequest&lt;any&gt;, observer: Observer&lt;HttpEvent&lt;any&gt;&gt;)
  cancelled: boolean
  request: HttpRequest&lt;any&gt;
  flush(body: string | number | boolean | Object | ArrayBuffer | Blob | (string | number | boolean | Object)[], opts: { headers?: HttpHeaders | { [name: string]: string | string[]; }; status?: number; statusText?: string; } = {}): void
  error(error: ErrorEvent | ProgressEvent&lt;EventTarget&gt;, opts: TestRequestErrorOptions = {}): void
  event(event: HttpEvent&lt;any&gt;): void
}</pre>   <h2 id="description">Description</h2> <p>This interface allows access to the underlying <code><a href="../httprequest.html" class="code-anchor">HttpRequest</a></code>, and allows responding with <code><a href="../httpevent.html" class="code-anchor">HttpEvent</a></code>s or <code><a href="../httperrorresponse.html" class="code-anchor">HttpErrorResponse</a></code>s.</p>  <h2 id="constructor">Constructor</h2>  <table> <tbody> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>constructor(request: HttpRequest&lt;any&gt;, observer: Observer&lt;HttpEvent&lt;any&gt;&gt;)</code></h3> <h6 class="no-anchor" id="parameters">Parameters</h6> <table> <tbody> <tr class="constructor-overload-parameter"> <td class="param-name">  <code>request</code> </td> <td class="param-type"><code><a href="../httprequest.html" class="code-anchor">HttpRequest</a>&lt;any&gt;</code></td> <td class="param-description"> </td> </tr> <tr class="constructor-overload-parameter"> <td class="param-name">  <code>observer</code> </td> <td class="param-type"><code>Observer&lt;<a href="../httpevent.html" class="code-anchor">HttpEvent</a>&lt;any&gt;&gt;</code></td> <td class="param-description"> </td> </tr> </tbody> </table> </div> </td> </tr> </tbody> </table>  <h2 id="properties">Properties</h2> <table> <thead> <tr> <th>Property</th> <th>Description</th> </tr> </thead> <tbody> <tr class="instance-property"> <td>  <code class=""><span class="member-name">cancelled</span>: boolean</code> </td> <td> <span class="read-only-property">Read-Only</span> <p>Whether the request was cancelled after it was sent.</p> </td> </tr> <tr class="instance-property"> <td>  <code class=""><span class="member-name">request</span>: <a href="../httprequest.html" class="code-anchor">HttpRequest</a>&lt;any&gt;</code> </td> <td> <span class="from-constructor">Declared in Constructor</span> </td> </tr> </tbody> </table>   <h2 id="methods">Methods</h2>  <table> <thead><tr><th> <div class="with-github-links"> <span id="flush">flush()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Resolve the request by returning a body plus additional HTTP information (such as response headers) if provided. If the request specifies an expected body type, the body is converted into the requested type. Otherwise, the body is converted to <code>JSON</code> by default.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>flush(body: string | number | boolean | Object | ArrayBuffer | Blob | (string | number | boolean | Object)[], opts: { headers?: HttpHeaders | { [name: string]: string | string[]; }; status?: number; statusText?: string; } = {}): void</code></h3> <h6 class="no-anchor" id="parameters-1">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>body</code> </td> <td class="param-type"><code>string | number | boolean | Object | ArrayBuffer | Blob | (string | number | boolean | Object)[]</code></td> <td class="param-description"> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>opts</code> </td> <td class="param-type"><code>object</code></td> <td class="param-description"> <p>Optional. Default is <code>{}</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns">Returns</h6> <p><code>void</code></p> </div> </td> </tr> <tr> <td class="description"> <p>Both successful and unsuccessful responses can be delivered via <code><a href="../../../core/testing/flush.html" class="code-anchor">flush</a>()</code>.</p> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="error">error()</span>  </div> </th></tr></thead> <tbody> <tr> <td> <div class="overload-info"> <div class="short-description"> <p>Resolve the request by returning an <code>ErrorEvent</code> (e.g. simulating a network failure).</p> </div> <h3 data-language="typescript"><code>error(error: ErrorEvent, opts?: TestRequestErrorOptions): void</code></h3> <div class="deprecated"> <p><strong>Deprecated</strong> Http requests never emit an <code>ErrorEvent</code>. Please specify a <code>ProgressEvent</code>.</p> </div> <h6 class="no-anchor" id="parameters-2">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>error</code> </td> <td class="param-type"><code>ErrorEvent</code></td> <td class="param-description"> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>opts</code> </td> <td class="param-type"><code>TestRequestErrorOptions</code></td> <td class="param-description"> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-1">Returns</h6> <p><code>void</code></p> </div> </td> </tr> <tr> <td> <div class="overload-info"> <div class="short-description"> <p>Resolve the request by returning an <code>ProgressEvent</code> (e.g. simulating a network failure).</p> </div> <h3 data-language="typescript"><code>error(error: ProgressEvent&lt;EventTarget&gt;, opts?: TestRequestErrorOptions): void</code></h3> <h6 class="no-anchor" id="parameters-3">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>error</code> </td> <td class="param-type"><code>ProgressEvent&lt;EventTarget&gt;</code></td> <td class="param-description"> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>opts</code> </td> <td class="param-type"><code>TestRequestErrorOptions</code></td> <td class="param-description"> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-2">Returns</h6> <p><code>void</code></p> </div> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="event">event()</span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Deliver an arbitrary <code><a href="../httpevent.html" class="code-anchor">HttpEvent</a></code> (such as a progress event) on the response stream for this request.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>event(event: HttpEvent&lt;any&gt;): void</code></h3> <h6 class="no-anchor" id="parameters-4">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>event</code> </td> <td class="param-type"><code><a href="../httpevent.html" class="code-anchor">HttpEvent</a>&lt;any&gt;</code></td> <td class="param-description"> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-3">Returns</h6> <p><code>void</code></p> </div> </td> </tr> </tbody> </table>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/api/common/http/testing/TestRequest" class="_attribution-link">https://angular.io/api/common/http/testing/TestRequest</a>
  </p>
</div>
