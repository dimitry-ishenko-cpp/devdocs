  <h1 id="update-angular-to-v16">Update Angular to v16</h1>       <p>This topic provides information about updating your Angular applications to Angular version 16.</p> <p>For a summary of this information and the step-by-step procedure to update your Angular application to v16, see the <a href="https://update.angular.io">Angular Update Guide</a>.</p> <p>The information in the <a href="https://update.angular.io">Angular Update Guide</a> and this topic is summarized from these changelogs:</p> <ul> <li><a href="https://github.com/angular/angular/blob/main/CHANGELOG.md">angular/angular changelog</a></li> <li><a href="https://github.com/angular/angular-cli/blob/main/CHANGELOG.md">angular/angular-cli changelog</a></li> <li><a href="https://github.com/angular/components/blob/main/CHANGELOG.md">angular/components changelog</a></li> </ul> <p>Information about updating Angular applications to v15 is archived at <a href="update-to-version-15.html">Update to version 15</a>.</p>  <h2 id="feature-highlights-in-angular-v16">Feature highlights in Angular v16</h2> <p>For a more comprehensive list of new features, see the <a href="https://blog.angular.io">Angular blog post on the update to v16</a>.</p>  <h4 id="angular-signals-developer-preview">Angular Signals developer preview</h4> <p>This release includes the first developer preview of Angular's new reactivity primitives: <code><a href="../api/core/signal.html" class="code-anchor">signal</a></code>, <code><a href="../api/core/computed.html" class="code-anchor">computed</a></code>, and <code><a href="../api/core/effect.html" class="code-anchor">effect</a></code>. See the <a href="signals.html">signals guide</a> for details and the <a href="https://github.com/angular/angular/discussions/49685">Angular Signals RFC</a> for more background.</p> <h4 id="enhanced-hydration-developer-preview">Enhanced hydration developer preview</h4> <p>Previously, when Angular bootstrapped on a page that was server-side rendered or compile-time pre-rendered, the framework would discard any existing DOM nodes and re-render from scratch. With v16's enhanced hydration support, you can opt into Angular reusing these existing DOM nodes. This developer preview feature can improve page load performance in many scenarios. See the full <a href="hydration.html">hydration guide</a> for details.</p> <h3 id="faster-builds-with-the-esbuild-developer-preview">Faster builds with the esbuild developer preview</h3> <p>v16 brings you the developer preview of Angular CLI's new builders based on <a href="https://esbuild.github.io">esbuild</a>. This new architecture can significantly improve build times in many scenarios. This preview additionally includes integration with <a href="https://vitejs.dev">Vite</a> powering the CLI's development server.</p> <p>You can try this new build setup by updating your <code>angular.json</code>:</p> <pre data-language="json">"architect": {
  "build": {
    "builder": "@angular-devkit/build-angular:browser-esbuild",</pre> <h3 id="standalone-component-migration-and-scaffolding">Standalone component migration and scaffolding</h3> <p>To support developers transitioning their apps to standalone APIs, Angular v16 includes migration schematics and a standalone migration guide. These tools dramatically reduce the effort required to move your code to standalone components, directives, and pipes. Visit the <a href="standalone-migration.html">standalone migration guide</a> for details.</p> <p>You can now also generate new Angular applications with standalone components by running:</p> <pre data-language="sh">ng new --standalone</pre> <h3 id="required-inputs">Required inputs</h3> <p>You can now mark component and directive inputs as <em>required</em>:</p> <pre data-language="typescript">export class ColorPicker {
  @Input({ required: true }) defaultColor: string;
}</pre> <p>If a template includes a component without specifying all of its required inputs, Angular reports an error at build time.</p>  <h2 id="highlighted-breaking-changes-in-angular-v16">Highlighted breaking changes in Angular v16</h2> <p>For a comprehensive list of breaking changes, see the full changelogs on GitHub.</p>  <h3 id="angular-v16-requires-nodejs-version-v16-or-v18">Angular v16 requires node.js version v16 or v18</h3> <p>Angular requires node.js v16 or v18. <a href="https://github.com/angular/angular/pull/49255">PR #47730</a></p> <p>See <a href="versions.html">Version compatibility</a> for full version compatibility details.</p>  <h3 id="angular-v16-requires-typescript-version-49-or-later">Angular v16 requires TypeScript version 4.9 or later</h3> <p>Angular v16 no longer supports TypeScript versions older than 4.9. <a href="https://github.com/angular/angular/pull/49155">PR #49155</a></p> <p>See <a href="versions.html">Version compatibility</a> for full version compatibility details.</p>  <h3 id="angular-compatibility-compiler-ngcc-has-been-removed">Angular Compatibility Compiler (ngcc) has been removed</h3> <p>The Angular Compatibility Compiler (ngcc) was a build tool that facilitated compatibility between Angular's previous compiler and rendering architecture (View Engine) and its new architecture (Ivy).</p> <p>View Engine was removed in Angular v13, and v16 finally removes ngcc. As a result, Angular libraries built with View Engine cannot be used in Angular v16+.</p>  <h4 id="angular-package-format-changes">Angular Package Format changes</h4> <p>The Angular Package Format (APF) has been updated with the following changes:</p> <ul> <li>Flattened ESM 2015 (FESM2015) outputs have been removed.</li> <li>EcmaScript 2020 outputs have been updated to EcmaScript 2022 (including the flattened output).</li> </ul> <p>See <a href="angular-package-format.html">Angular Package Format</a> for background.</p>  <h4 id="reflectiveinjector-has-been-removed">
<code>ReflectiveInjector</code> has been removed</h4> <p>The ReflectiveInjector and related symbols were removed. Please update the code to avoid references to the ReflectiveInjector symbol. Use <code>Injector.create</code> to create an injector instead.</p>  <h4 id="updated-behavior-for-routercreateurltree">Updated behavior for <code>Router.createUrlTree</code>
</h4> <p>Tests which mock <code><a href="../api/router/activatedroute.html" class="code-anchor">ActivatedRoute</a></code> instances may need to be adjusted because Router.createUrlTree now does the right thing in more scenarios. This means that tests with invalid/incomplete ActivatedRoute mocks may behave differently than before. Additionally, tests may now navigate to a real URL where before they would navigate to the root. Ensure that tests provide expected routes to match. There is rarely production impact, but it has been found that relative navigations when using an <code><a href="../api/router/activatedroute.html" class="code-anchor">ActivatedRoute</a></code> that does not appear in the current router state were effectively ignored in the past. By creating the correct URLs, this sometimes resulted in different navigation behavior in the application. Most often, this happens when attempting to create a navigation that only updates query params using an empty command array, for example <code>router.navigate([], {relativeTo: route, queryParams: newQueryParams})</code>. In this case, the <code>relativeTo</code> property should be removed.</p>  <h2 id="deprecations-highlights-in-angular-v16">Deprecations highlights in Angular v16</h2> <p>These APIs remain available in v16, but may be removed in future versions as described by Angular's <a href="releases.html#deprecation-practices">deprecation practices</a>.</p> <p>To maintain the reliability of your Angular application, always update your application as soon as practicable.</p> <table> <thead> <tr> <th align="left">Removed</th> <th align="left">Replacement</th> <th align="left">Details</th> </tr> </thead> <tbody> <tr> <td align="left">
Class and <code><a href="../api/core/injectiontoken.html" class="code-anchor">InjectionToken</a></code> router guards and resolvers</td> <td align="left">See details</td> <td align="left">Class and <code><a href="../api/core/injectiontoken.html" class="code-anchor">InjectionToken</a></code> guards and resolvers are deprecated. Instead, write guards as plain JavaScript functions and inject dependencies with <code>inject</code> from <code>@angular/core</code>.<a href="https://github.com/angular/angular/pull/47924">PR #47924</a>
</td> </tr> <tr> <td align="left">
The <code>ripple</code> properties of several Angular Material components</td> <td align="left">None</td> <td align="left">The <code>ripple</code> property of <code>MatButton</code>, <code>MatCheckbox</code>, <code>MatChip</code> is deprecated. This change moves ripples to being a private implementation detail of the components.</td> </tr> </tbody> </table> <div class="reviewed">Last reviewed on Wed May 03 2023</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/guide/update-to-version-16" class="_attribution-link">https://angular.io/guide/update-to-version-16</a>
  </p>
</div>
