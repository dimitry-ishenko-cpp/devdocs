  <h1 id="built-in-control-flow">Built-in control flow</h1> <p>Angular templates support <em>control flow blocks</em> that let you conditionally show, hide, and repeat elements.</p> <blockquote class="alert is-important"> <p>Angular built-in control flow is in <a href="releases.html#developer-preview">developer preview</a>. It is ready to try, but may change before becoming stable.</p> </blockquote> <h2 id="if-block-conditionals">
<code><a href="../api/core/if.html" class="code-anchor">@if</a></code> block conditionals</h2> <p>The <code><a href="../api/core/if.html" class="code-anchor">@if</a></code> block conditionally displays its content when its condition expression is truthy:</p> <pre data-language="html">@if (a &gt; b) {
  {{a}} is greater than {{b}}
}</pre> <p>The <code><a href="../api/core/if.html" class="code-anchor">@if</a></code> block might have one or more associated branches. Immediately after an <code><a href="../api/core/if.html" class="code-anchor">@if</a></code> block, you can optionally specify any number of <code>@else if</code> blocks and one <code>@else</code> block:</p> <pre data-language="html">@if (a &gt; b) {
  {{a}} is greater than {{b}}
} @else if (b &gt; a) {
  {{a}} is less than {{b}}
} @else {
  {{a}} is equal to {{b}}
}</pre> <h3 id="referencing-the-conditional-expressions-result">Referencing the conditional expression's result</h3> <p>You can create a reference to the result of an <code><a href="../api/core/if.html" class="code-anchor">@if</a></code> block's conditional expression and use that reference inside the block's content.</p> <pre data-language="html">@if (users$ | async; as users) {
  {{ users.length }}
}</pre> <h2 id="for-block---repeaters">
<code><a href="../api/core/for.html" class="code-anchor">@for</a></code> block - repeaters</h2> <p>The <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> block renders its content for each item in a collection.</p> <pre data-language="html">@for (item of items; track item.id) {
  {{ item.name }}
}</pre> <p>The collection can be any JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">iterable</a>, but standard JavaScript <code>Array</code> values offer performance advantages.</p> <h3 id="track-for-calculating-difference-of-two-collections">
<code>track</code> for calculating difference of two collections</h3> <p>The <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> block requires a <code>track</code> expression. Angular uses the value of this expression as a unique identity for each item. This identity allows the framework to perform the minimal set of DOM operations necessary after items are added, removed, or reordered.</p> <p>For simple cases, you can use <code>track $index</code> as a reasonable default.</p> <h3 id="index-and-other-contextual-variables">
<code>$index</code> and other contextual variables</h3> <p>Inside <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> contents, several implicit variables are always available:</p> <table> <thead> <tr> <th>Variable</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td><code>$count</code></td> <td>Number of items in a collection iterated over</td> </tr> <tr> <td><code>$index</code></td> <td>Index of the current row</td> </tr> <tr> <td><code>$first</code></td> <td>Whether the current row is the first row</td> </tr> <tr> <td><code>$last</code></td> <td>Whether the current row is the last row</td> </tr> <tr> <td><code>$even</code></td> <td>Whether the current row index is even</td> </tr> <tr> <td><code>$odd</code></td> <td>Whether the current row index is odd</td> </tr> </tbody> </table> <p>These variables are always available with these names, but can be aliased via a <code>let</code> segment:</p> <pre data-language="html">@for (item of items; track item.id; let idx = $index, e = $even) {
  Item #{{ idx }}: {{ item.name }}
}</pre> <p>Aliasing is useful when nesting <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> blocks so that you can reference these variable values in deeper blocks.</p> <h3 id="empty-block">
<code>empty</code> block</h3> <p>You can optionally include an <code>@empty</code> section immediately after the <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> block content. The content of the <code>@empty</code> block displays when there are no items:</p> <pre data-language="html">@for (item of items; track item.name) {
  &lt;li&gt; {{ item.name }}&lt;/li&gt;
} @empty {
  &lt;li&gt; There are no items.&lt;/li&gt;
}</pre> <h2 id="switch-block---selection">
<code><a href="../api/core/switch.html" class="code-anchor">@switch</a></code> block - selection</h2> <p>The syntax for <code>switch</code> is similar to <code>if</code>, inspired by the JavaScript <code>switch</code> statement:</p> <pre data-language="html">@switch (condition) {
  @case (caseA) {
    Case A.
  }
  @case (caseB) {
    Case B.
  }
  @default {
    Default case.
  }
}</pre> <p>The value of the conditional expression is compared to the case expression using the <code>===</code> operator.</p> <p><strong><code><a href="../api/core/switch.html" class="code-anchor">@switch</a></code> does not have fallthrough</strong>, so you do not need an equivalent to a <code>break</code> or <code>return</code> statement.</p> <p>The <code>@default</code> block is optional and can be omitted. If no <code>@case</code> matches the expression and there is no <code>@default</code> block, nothing is shown.</p> <h2 id="comparing-built-in-control-flow-to-ngif-ngswitch-and-ngfor">Comparing built-in control flow to <code><a href="../api/common/ngif.html" class="code-anchor">NgIf</a></code>, <code><a href="../api/common/ngswitch.html" class="code-anchor">NgSwitch</a></code> and <code><a href="../api/common/ngfor.html" class="code-anchor">NgFor</a></code>
</h2> <p>The <code><a href="../api/core/if.html" class="code-anchor">@if</a></code> block replaces <code>*<a href="../api/common/ngif.html" class="code-anchor">ngIf</a></code> for expressing conditional parts of the UI.</p> <p>The <code><a href="../api/core/switch.html" class="code-anchor">@switch</a></code> block replaces <code><a href="../api/common/ngswitch.html" class="code-anchor">ngSwitch</a></code> with major benefits:</p> <ul> <li>The <code><a href="../api/core/switch.html" class="code-anchor">@switch</a></code> block does not require a container element for the condition expression or each conditional template.</li> <li>The <code><a href="../api/core/switch.html" class="code-anchor">@switch</a></code> block supports template type-checking, including type narrowing within each branch.</li> </ul> <p>The <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> block replaces <code>*<a href="../api/common/ngfor.html" class="code-anchor">ngFor</a></code> for iteration, and has several differences compared to its structural directive <code><a href="../api/common/ngfor.html" class="code-anchor">NgFor</a></code> predecessor:</p> <ul> <li>The <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> block requires a tracking expression to uniquely identify items in the collection. While <code><a href="../api/common/ngfor.html" class="code-anchor">NgFor</a></code> requires a <code>trackBy</code> <em>method</em>, however, the <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> block simplifies tracking by accepting a <code>track</code> <em>expression</em>.</li> <li>You can specify content to show when the collection is empty with the <code>@empty</code> block.</li> <li>The <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> block uses an optimized algorithm for determining a minimal number of DOM operations necessary after a collection is modified. While <code><a href="../api/common/ngfor.html" class="code-anchor">NgFor</a></code> allowed developers to provide a custom <code><a href="../api/core/iterablediffer.html" class="code-anchor">IterableDiffer</a></code> implementation, the <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> block does not support custom differs.</li> </ul> <p>The <code>track</code> setting replaces <code><a href="../api/common/ngfor.html" class="code-anchor">NgFor</a></code>'s concept of a <code>trackBy</code> function. Because <code><a href="../api/core/for.html" class="code-anchor">@for</a></code> is built-in, we can provide a better experience than passing a <code>trackBy</code> function, and directly use an expression representing the key instead. Migrating from <code>trackBy</code> to <code>track</code> is possible by invoking the <code>trackBy</code> function:</p> <pre data-language="html">@for (item of items; track itemId($index, item)) {
  {{ item.name }}
}</pre> <p>With <code><a href="../api/common/ngfor.html" class="code-anchor">NgFor</a></code>, loops over immutable data without <code>trackBy</code> are the most common cause of performance bugs across Angular applications.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://angular.io/guide/control_flow" class="_attribution-link">https://angular.io/guide/control_flow</a>
  </p>
</div>
