<h1>vmsish</h1>   <h2><a id="toc">CONTENTS</a></h2> <ul> <li> <a class="text-decoration-none" href="#NAME">NAME</a> </li> <li> <a class="text-decoration-none" href="#SYNOPSIS">SYNOPSIS</a> </li> <li> <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a> </li> </ul> <h2 id="NAME">NAME</h2> <p>vmsish - Perl pragma to control VMS-specific language features</p> <h2 id="SYNOPSIS">SYNOPSIS</h2> <pre data-language="perl"><code>use vmsish;

use vmsish 'status';	# or '$?'
use vmsish 'exit';
use vmsish 'time';

use vmsish 'hushed';
no vmsish 'hushed';
vmsish::hushed($hush);

use vmsish;
no vmsish 'time';</code></pre> <h2 id="DESCRIPTION">DESCRIPTION</h2> <p>If no import list is supplied, all possible VMS-specific features are assumed. Currently, there are four VMS-specific features available: 'status' (a.k.a '$?'), 'exit', 'time' and 'hushed'.</p> <p>If you're not running VMS, this module does nothing.</p> <dl> <dt id="vmsish-status">
<code>vmsish status</code>
</dt> <dd> <p>This makes <code>$?</code> and <code>system</code> return the native VMS exit status instead of emulating the POSIX exit status.</p> </dd> <dt id="vmsish-exit">
<code>vmsish exit</code>
</dt> <dd> <p>This makes <code>exit 1</code> produce a successful exit (with status SS$_NORMAL), instead of emulating UNIX exit(), which considers <code>exit 1</code> to indicate an error. As with the CRTL's exit() function, <code>exit 0</code> is also mapped to an exit status of SS$_NORMAL, and any other argument to exit() is used directly as Perl's exit status.</p> </dd> <dt id="vmsish-time">
<code>vmsish time</code>
</dt> <dd> <p>This makes all times relative to the local time zone, instead of the default of Universal Time (a.k.a Greenwich Mean Time, or GMT).</p> </dd> <dt id="vmsish-hushed">
<code>vmsish hushed</code>
</dt> <dd> <p>This suppresses printing of VMS status messages to SYS$OUTPUT and SYS$ERROR if Perl terminates with an error status, and allows programs that are expecting "unix-style" Perl to avoid having to parse VMS error messages. It does not suppress any messages from Perl itself, just the messages generated by DCL after Perl exits. The DCL symbol $STATUS will still have the termination status, but with a high-order bit set:</p> <p>EXAMPLE: $ perl -e"exit 44;" Non-hushed error exit %SYSTEM-F-ABORT, abort DCL message $ show sym $STATUS $STATUS == "%X0000002C"</p> <pre data-language="perl"><code>$ perl -e"use vmsish qw(hushed); exit 44;"   Hushed error exit
$ show sym $STATUS
  $STATUS == "%X1000002C"</code></pre> <p>The 'hushed' flag has a global scope during compilation: the exit() or die() commands that are compiled after 'vmsish hushed' will be hushed when they are executed. Doing a "no vmsish 'hushed'" turns off the hushed flag.</p> <p>The status of the hushed flag also affects output of VMS error messages from compilation errors. Again, you still get the Perl error message (and the code in $STATUS)</p> <p>EXAMPLE: use vmsish 'hushed'; # turn on hushed flag use Carp; # Carp compiled hushed exit 44; # will be hushed croak('I die'); # will be hushed no vmsish 'hushed'; # turn off hushed flag exit 44; # will not be hushed croak('I die2'): # WILL be hushed, croak was compiled hushed</p> <p>You can also control the 'hushed' flag at run-time, using the built-in routine vmsish::hushed(). Without argument, it returns the hushed status. Since vmsish::hushed is built-in, you do not need to "use vmsish" to call it.</p> <p>EXAMPLE: if ($quiet_exit) { vmsish::hushed(1); } print "Sssshhhh...I'm hushed...\n" if vmsish::hushed(); exit 44;</p> <p>Note that an exit() or die() that is compiled 'hushed' because of "use vmsish" is not un-hushed by calling vmsish::hushed(0) at runtime.</p> <p>The messages from error exits from inside the Perl core are generally more serious, and are not suppressed.</p> </dd> </dl> <p>See <a href="perlmod.html#Perl-Modules">"Perl Modules" in perlmod</a>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993&ndash;2023 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.38.0/vmsish" class="_attribution-link">https://perldoc.perl.org/5.38.0/vmsish</a>
  </p>
</div>
