<h1>Parse::CPAN::Meta</h1>   <h2><a id="toc">CONTENTS</a></h2> <ul> <li> <a class="text-decoration-none" href="#NAME">NAME</a> </li> <li> <a class="text-decoration-none" href="#VERSION">VERSION</a> </li> <li> <a class="text-decoration-none" href="#SYNOPSIS">SYNOPSIS</a> </li> <li> <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a> </li> <li> <a class="text-decoration-none" href="#METHODS">METHODS</a> <ul> <li> <a class="text-decoration-none" href="#load_file">load_file</a> </li> <li> <a class="text-decoration-none" href="#load_yaml_string">load_yaml_string</a> </li> <li> <a class="text-decoration-none" href="#load_json_string">load_json_string</a> </li> <li> <a class="text-decoration-none" href="#load_string">load_string</a> </li> <li> <a class="text-decoration-none" href="#yaml_backend">yaml_backend</a> </li> <li> <a class="text-decoration-none" href="#json_backend">json_backend</a> </li> <li> <a class="text-decoration-none" href="#json_decoder">json_decoder</a> </li> </ul> </li> <li> <a class="text-decoration-none" href="#FUNCTIONS">FUNCTIONS</a> <ul> <li> <a class="text-decoration-none" href="#Load">Load</a> </li> <li> <a class="text-decoration-none" href="#LoadFile">LoadFile</a> </li> </ul> </li> <li> <a class="text-decoration-none" href="#ENVIRONMENT">ENVIRONMENT</a> <ul> <li> <a class="text-decoration-none" href="#CPAN_META_JSON_DECODER">CPAN_META_JSON_DECODER</a> </li> <li> <a class="text-decoration-none" href="#CPAN_META_JSON_BACKEND">CPAN_META_JSON_BACKEND</a> </li> <li> <a class="text-decoration-none" href="#PERL_JSON_BACKEND">PERL_JSON_BACKEND</a> </li> <li> <a class="text-decoration-none" href="#PERL_YAML_BACKEND">PERL_YAML_BACKEND</a> </li> </ul> </li> <li> <a class="text-decoration-none" href="#AUTHORS">AUTHORS</a> </li> <li> <a class="text-decoration-none" href="#COPYRIGHT-AND-LICENSE">COPYRIGHT AND LICENSE</a> </li> </ul> <h2 id="NAME">NAME</h2> <p>Parse::CPAN::Meta - Parse META.yml and META.json CPAN metadata files</p> <h2 id="VERSION">VERSION</h2> <p>version 2.150010</p> <h2 id="SYNOPSIS">SYNOPSIS</h2> <pre data-language="perl"><code>#############################################
# In your file

---
name: My-Distribution
version: 1.23
resources:
  homepage: "http://example.com/dist/My-Distribution"


#############################################
# In your program

use Parse::CPAN::Meta;

my $distmeta = Parse::CPAN::Meta-&gt;load_file('META.yml');

# Reading properties
my $name     = $distmeta-&gt;{name};
my $version  = $distmeta-&gt;{version};
my $homepage = $distmeta-&gt;{resources}{homepage};</code></pre> <h2 id="DESCRIPTION">DESCRIPTION</h2> <p><b>Parse::CPAN::Meta</b> is a parser for <i>META.json</i> and <i>META.yml</i> files, using <a href="JSON::PP.html">JSON::PP</a> and/or <a href="CPAN::Meta::YAML.html">CPAN::Meta::YAML</a>.</p> <p><b>Parse::CPAN::Meta</b> provides three methods: <code>load_file</code>, <code>load_json_string</code>, and <code>load_yaml_string</code>. These will read and deserialize CPAN metafiles, and are described below in detail.</p> <p><b>Parse::CPAN::Meta</b> provides a legacy API of only two functions, based on the YAML functions of the same name. Wherever possible, identical calling semantics are used. These may only be used with YAML sources.</p> <p>All error reporting is done with exceptions (die'ing).</p> <p>Note that META files are expected to be in UTF-8 encoding, only. When converted string data, it must first be decoded from UTF-8.</p> <h2 id="METHODS">METHODS</h2> <h3 id="load_file">load_file</h3> <pre data-language="perl"><code>my $metadata_structure = Parse::CPAN::Meta-&gt;load_file('META.json');

my $metadata_structure = Parse::CPAN::Meta-&gt;load_file('META.yml');</code></pre> <p>This method will read the named file and deserialize it to a data structure, determining whether it should be JSON or YAML based on the filename. The file will be read using the ":utf8" IO layer.</p> <h3 id="load_yaml_string">load_yaml_string</h3> <pre data-language="perl"><code>my $metadata_structure = Parse::CPAN::Meta-&gt;load_yaml_string($yaml_string);</code></pre> <p>This method deserializes the given string of YAML and returns the first document in it. (CPAN metadata files should always have only one document.) If the source was UTF-8 encoded, the string must be decoded before calling <code>load_yaml_string</code>.</p> <h3 id="load_json_string">load_json_string</h3> <pre data-language="perl"><code>my $metadata_structure = Parse::CPAN::Meta-&gt;load_json_string($json_string);</code></pre> <p>This method deserializes the given string of JSON and the result. If the source was UTF-8 encoded, the string must be decoded before calling <code>load_json_string</code>.</p> <h3 id="load_string">load_string</h3> <pre data-language="perl"><code>my $metadata_structure = Parse::CPAN::Meta-&gt;load_string($some_string);</code></pre> <p>If you don't know whether a string contains YAML or JSON data, this method will use some heuristics and guess. If it can't tell, it assumes YAML.</p> <h3 id="yaml_backend">yaml_backend</h3> <pre data-language="perl"><code>my $backend = Parse::CPAN::Meta-&gt;yaml_backend;</code></pre> <p>Returns the module name of the YAML serializer. See <a href="#ENVIRONMENT">"ENVIRONMENT"</a> for details.</p> <h3 id="json_backend">json_backend</h3> <pre data-language="perl"><code>my $backend = Parse::CPAN::Meta-&gt;json_backend;</code></pre> <p>Returns the module name of the JSON serializer. If <code>CPAN_META_JSON_BACKEND</code> is set, this will be whatever that's set to. If not, this will either be <a href="JSON::PP.html">JSON::PP</a> or <a href="json.html">JSON</a>. If <code>PERL_JSON_BACKEND</code> is set, this will return <a href="json.html">JSON</a> as further delegation is handled by the <a href="json.html">JSON</a> module. See <a href="#ENVIRONMENT">"ENVIRONMENT"</a> for details.</p> <h3 id="json_decoder">json_decoder</h3> <pre data-language="perl"><code>my $decoder = Parse::CPAN::Meta-&gt;json_decoder;</code></pre> <p>Returns the module name of the JSON decoder. Unlike <a href="#json_backend">"json_backend"</a>, this is not necessarily a full <a href="json.html">JSON</a>-style module, but only something that will provide a <code>decode_json</code> subroutine. If <code>CPAN_META_JSON_DECODER</code> is set, this will be whatever that's set to. If not, this will be whatever has been selected as <a href="#json_backend">"json_backend"</a>. See <a href="#ENVIRONMENT">"ENVIRONMENT"</a> for more notes.</p> <h2 id="FUNCTIONS">FUNCTIONS</h2> <p>For maintenance clarity, no functions are exported by default. These functions are available for backwards compatibility only and are best avoided in favor of <code>load_file</code>.</p> <h3 id="Load">Load</h3> <pre data-language="perl"><code>my @yaml = Parse::CPAN::Meta::Load( $string );</code></pre> <p>Parses a string containing a valid YAML stream into a list of Perl data structures.</p> <h3 id="LoadFile">LoadFile</h3> <pre data-language="perl"><code>my @yaml = Parse::CPAN::Meta::LoadFile( 'META.yml' );</code></pre> <p>Reads the YAML stream from a file instead of a string.</p> <h2 id="ENVIRONMENT">ENVIRONMENT</h2> <h3 id="CPAN_META_JSON_DECODER">CPAN_META_JSON_DECODER</h3> <p>By default, <a href="JSON::PP.html">JSON::PP</a> will be used for deserializing JSON data. If the <code>CPAN_META_JSON_DECODER</code> environment variable exists, this is expected to be the name of a loadable module that provides a <code>decode_json</code> subroutine, which will then be used for deserialization. Relying only on the existence of said subroutine allows for maximum compatibility, since this API is provided by all of <a href="JSON::PP.html">JSON::PP</a>, <a href="JSON::XS.html">JSON::XS</a>, <a href="Cpanel::JSON::XS.html">Cpanel::JSON::XS</a>, <a href="JSON::MaybeXS.html">JSON::MaybeXS</a>, <a href="JSON::Tiny.html">JSON::Tiny</a>, and <a href="Mojo::JSON.html">Mojo::JSON</a>.</p> <h3 id="CPAN_META_JSON_BACKEND">CPAN_META_JSON_BACKEND</h3> <p>By default, <a href="JSON::PP.html">JSON::PP</a> will be used for deserializing JSON data. If the <code>CPAN_META_JSON_BACKEND</code> environment variable exists, this is expected to be the name of a loadable module that provides the <a href="json.html">JSON</a> API, since downstream code expects to be able to call <code>new</code> on this class. As such, while <a href="JSON::PP.html">JSON::PP</a>, <a href="JSON::XS.html">JSON::XS</a>, <a href="Cpanel::JSON::XS.html">Cpanel::JSON::XS</a> and <a href="JSON::MaybeXS.html">JSON::MaybeXS</a> will work for this, to use <a href="Mojo::JSON.html">Mojo::JSON</a> or <a href="JSON::Tiny.html">JSON::Tiny</a> for decoding requires setting <a href="#CPAN_META_JSON_DECODER">"CPAN_META_JSON_DECODER"</a>.</p> <h3 id="PERL_JSON_BACKEND">PERL_JSON_BACKEND</h3> <p>If the <code>CPAN_META_JSON_BACKEND</code> environment variable does not exist, and if <code>PERL_JSON_BACKEND</code> environment variable exists, is true and is not "JSON::PP", then the <a href="json.html">JSON</a> module (version 2.5 or greater) will be loaded and used to interpret <code>PERL_JSON_BACKEND</code>. If <a href="json.html">JSON</a> is not installed or is too old, an exception will be thrown. Note that at the time of writing, the only useful values are 1, which will tell <a href="json.html">JSON</a> to guess, or <a href="JSON::XS.html">JSON::XS</a> - if you want to use a newer JSON module, see <a href="#CPAN_META_JSON_BACKEND">"CPAN_META_JSON_BACKEND"</a>.</p> <h3 id="PERL_YAML_BACKEND">PERL_YAML_BACKEND</h3> <p>By default, <a href="CPAN::Meta::YAML.html">CPAN::Meta::YAML</a> will be used for deserializing YAML data. If the <code>PERL_YAML_BACKEND</code> environment variable is defined, then it is interpreted as a module to use for deserialization. The given module must be installed, must load correctly and must implement the <code>Load()</code> function or an exception will be thrown.</p> <h2 id="AUTHORS">AUTHORS</h2> <ul> <li>
<p>David Golden &lt;dagolden@cpan.org&gt;</p> </li> <li>
<p>Ricardo Signes &lt;rjbs@cpan.org&gt;</p> </li> <li>
<p>Adam Kennedy &lt;adamk@cpan.org&gt;</p> </li> </ul> <h2 id="COPYRIGHT-AND-LICENSE">
COPYRIGHT AND LICENSE</h2> <p>This software is copyright (c) 2010 by David Golden, Ricardo Signes, Adam Kennedy and Contributors.</p> <p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993&ndash;2023 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.38.0/Parse::CPAN::Meta" class="_attribution-link">https://perldoc.perl.org/5.38.0/Parse::CPAN::Meta</a>
  </p>
</div>
