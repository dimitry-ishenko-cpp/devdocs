<h1 id="filtering">Filtering</h1> <blockquote> <p>The root QuerySet provided by the Manager describes all objects in the database table. Usually, though, you'll need to select only a subset of the complete set of objects.</p> <p>â€” <a href="https://docs.djangoproject.com/en/stable/topics/db/queries/#retrieving-specific-objects-with-filters">Django documentation</a></p> </blockquote> <p>The default behavior of REST framework's generic list views is to return the entire queryset for a model manager. Often you will want your API to restrict the items that are returned by the queryset.</p> <p>The simplest way to filter the queryset of any view that subclasses <code>GenericAPIView</code> is to override the <code>.get_queryset()</code> method.</p> <p>Overriding this method allows you to customize the queryset returned by the view in a number of different ways.</p> <h2 id="filtering-against-the-current-user">Filtering against the current user</h2> <p>You might want to filter the queryset to ensure that only results relevant to the currently authenticated user making the request are returned.</p> <p>You can do so by filtering based on the value of <code>request.user</code>.</p> <p>For example:</p> <pre data-language="python">from myapp.models import Purchase
from myapp.serializers import PurchaseSerializer
from rest_framework import generics

class PurchaseList(generics.ListAPIView):
    serializer_class = PurchaseSerializer

    def get_queryset(self):
        """
        This view should return a list of all the purchases
        for the currently authenticated user.
        """
        user = self.request.user
        return Purchase.objects.filter(purchaser=user)
</pre> <h2 id="filtering-against-the-url">Filtering against the URL</h2> <p>Another style of filtering might involve restricting the queryset based on some part of the URL.</p> <p>For example if your URL config contained an entry like this:</p> <pre data-language="python">re_path('^purchases/(?P&lt;username&gt;.+)/$', PurchaseList.as_view()),
</pre> <p>You could then write a view that returned a purchase queryset filtered by the username portion of the URL:</p> <pre data-language="python">class PurchaseList(generics.ListAPIView):
    serializer_class = PurchaseSerializer

    def get_queryset(self):
        """
        This view should return a list of all the purchases for
        the user as determined by the username portion of the URL.
        """
        username = self.kwargs['username']
        return Purchase.objects.filter(purchaser__username=username)
</pre> <h2 id="filtering-against-query-parameters">Filtering against query parameters</h2> <p>A final example of filtering the initial queryset would be to determine the initial queryset based on query parameters in the url.</p> <p>We can override <code>.get_queryset()</code> to deal with URLs such as <code>http://example.com/api/purchases?username=denvercoder9</code>, and filter the queryset only if the <code>username</code> parameter is included in the URL:</p> <pre data-language="python">class PurchaseList(generics.ListAPIView):
    serializer_class = PurchaseSerializer

    def get_queryset(self):
        """
        Optionally restricts the returned purchases to a given user,
        by filtering against a `username` query parameter in the URL.
        """
        queryset = Purchase.objects.all()
        username = self.request.query_params.get('username')
        if username is not None:
            queryset = queryset.filter(purchaser__username=username)
        return queryset
</pre>  <h1 id="generic-filtering">Generic Filtering</h1> <p>As well as being able to override the default queryset, REST framework also includes support for generic filtering backends that allow you to easily construct complex searches and filters.</p> <p>Generic filters can also present themselves as HTML controls in the browsable API and admin API.</p> <p><img alt="Filter Example" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAwsAAAHwCAMAAADesgN7AAABDlBMVEV/f38VFRVPAAN8fHwWFhZ6enp+fn7///9Oisl7e3zd3d15eXlwcHJ2dnZhYWFkZGVra2tubm5zc3MnRWR4eHj8/f5TU1UUFBTu7u59fX3+/v/5+/57e3toaGjv9vz1+f3p8vvi7vpeXl9wrujZ6fnm5ub+//9XV1gzMzNvb3A9PT10dHVRUVJOTk9ISEkSEhIPDg51dXZoaGkZGRkgOVPMzc0mJiYtLS1LS0sfHx86OjpaWluTk5MjQF6mpqaIiIj4+Pi0tLRCQkLZ2dmdnZ2tra03NzfT09NdlM7y8vIXFxe6urqNtN2mxeW80+t1pNXGx8fBwcFERUXT4vJWGRsYKjxnSEk7T2RcMTMVAHxaL8n4AAAgAElEQVR42uyd60/iTBSHbSmScKsQFFT4QkI8skjRxhlajOJla6hflBDC//+XvGemBRH1dXe9Ar8nuzCdXkB6ns45bZUNEwCg2MBHAABcAGDeBQsAoIALAMAFAOACAHABALgAAFwAAC4AABcAgAsAwAUA4AIAcAEAuAAAXAAALgAAFwBYVRdC13NfmxVit4Af6ILrK0h6aoLoL7cere0H5BlG6McQt6VucK/w57oVPCtuvRvP9wywIvwIF0gIIcknPlpL+dcuqLWFDDgqw6gthGdYFAjXE8S9rurxpe7WCN/z4AL4BiPediGKf+HLf9h66Ev9I7iBNMJAzoI0ENHTdK54/GklfdgH5wVwYWV9aNefRFpz6+tcsKTvRuMCH845u7Esj1w1XOisn/vIk0Itz2MA6YTKUglP7IJBL7lgeGLRBV49kMKQIlROeBTo9MqToSDeBM8lESVSPOnyk5oS3GKHhO4OpIp/T1r8drQL/KbdZx9n+NjlhnOfsotIWxYbFlzw6Atd4NxF1wtCpToBi8EjBQnpB9oTKVQQ81sKuEm+iFSYxT9He5nb5ZiQI9wqz1Bzp00V5F6ZN8xL87ghBAWuaqgXkKQePV6K+D0QhWVJvI5Uq4f8EHWrKbaAX4Ify4Ze4Sk89hC50etxS87eipRl8DPRYdTcyhWa/DwsZA6O6pbfusoWm7JWtTk0e3oytxN+gQseB7hygYIwmhC6hFCKeDr2pVqSWBIr5Mf4+MuHaUaQDJUAUsNR6KkQFO5UABKPP7SOxyhAeWhQMz1eXHVKtZilmpJ4bsiTgn3gMUeqLSozXB3oodq+F60q6ZkKZSGj/2qbPFdOX92DCz8amWuKq4xnDI99uZOsW1elnmwnClcy27KaBWuYq8vmZvCFLnieNXUhanlsQRgvGS/Ns6cuKEgdwjmKpy44jsNZjNJBNR2HXXBmSMkP/EKq39UzPYfTMW5x4EfzLe7S0yra1QLEE9IJo81EK4ioJcmdbtjT21DbFdzy1Ms4ZTL0qhpLetIBP4w5F2jIR8CcNLJXHFo1duE4tMLNtmV189qFDB+H7W4Urt0NTfdTcyTLVWeVZi64sSIM50jRCDErmQ0Oz5BxhXA6jvA6T+BygbuZ8vwcT/CDELrtuLyIcDuhKE/ndHhZS8Q4asoVjjCi7rATL+EKixt6uXC64bKrNtiJN6wXiBBxp2dYogN+MIb0eznpltSRtssu2BxrVY7PduRCjSd7LWtOhu5n1c7TeoGzeO9VF3TZbEQulMvO1sMgBcAH0b+368LLqdMj7ecu2PMuKBm6n5Mjcbajr7VF0+4TF6RvzXIkXTW7OkdiFS6w+8DH8lsYRXXavdd7wwWr2/2ceiGUKsrZhejIL564ILQB+gpEoCprHso8rcIBdh34aGynW/MMyvSMN1z4rOvOgVZCjwvkeYInw0cXwsAXnvTVOVWhZ6sUiWudzh32HPhobjvhzq9srfUdLizcjyT0jUTki0cXeNRQF9hI6msevh8IS6lQ7vSx58CH1wydcjm+Vvqd96nqIjl09RnUxbstrDA6h2RF75NVcDrYceDj6TjTa2/GN7oQvHxP0rSGmN16EakAF8DnuDCT4dtc8II42p/dgUfqHozpydfYBQcugM9yYSrDt7ngCu+121GFjCuK2IUyXABf4ILxfTnSn/A4LMAF8FkuOEvjQhkugM92oQwXAFyACwDMXHCWxwUHLoAvcMGACwAu/HwXDLgAvsaF8jK4UIYLAC7ABQAX4AKAC3ABwAW4AD6L/ehpe0VdaFBMLXVE16lLKqZS16f44wDgOZUoLtK3+6+44CyLC85rLgzbilIq305HLvToFDseLLJ3e6pkSJ+eNlbWhfmfDC6A11MkJQOrkE59oQtMZmORxL/1bG7uJqqZUq6YLWzV7Hz3dRd2TxrKhdOTJvVO+ABwaTfrN5wbPpxcnh4E/cHFkd/ebSAk1luGF1VIdfN2bauQLeZKmWpid7O6uRiH74nnb3AhrhceugENu5XUGTXzQzrcT51TySfq56ldu6IuSok1pv+KCivjQveI6aUea2edI11Tq5Lq23TJLlD9ttKgq35q0OVpsLak1bgwWGEXNFeLLlzoqL+lHrvg89BRIfrdT23vbyMi1lmF9O2LMqyKC9cDxaILNtnFYvGQmuyCrZa8IArqZ6gX1luFqIBel3ohduGA6jXFyd45JfT8h0SbyMcpprU9p5rWtQLLUFkzF4p0H/ef06b6CAZ9PjJsUQFBsa5sRw7sV1Lr5MK9MuA4pa43ZGMXHqjNMtxH+RIA6+HCIdXPBv0jOjy/aAansQuDIZ2cn7foBjserI8Lp1wXVFKVQyJq3U9zpNRtXZ1uutnDjger6cLLDPRf4+7fNp6cQW3cpvex28F6uQAAXAAALgAAFwBYWhc2E8k/JsMe5H4Vs4dbSoV6G/sNfDztupJh6zBb/JVjHzJ/Hp+JzXe5sJlMwgWwGi4kk5v/60IikcgkXqcKF8DquFD9n1BPvDUuJOECWB0Xku/JkeACgAtwAcAFuADgAlwAcAEuALgAFwBcgAsALsAFABfgAoALH+RC0RzN3+00jqbypmIyhgtgfVwYj0x7brJQj12wC4Xa2BzDBbA2LozGkwk/TcYTczROJnuT2IWsypGUCyzL6IBdmIzwvTxglV3Im6W6mWMlzInNw0ByliMpF3pmLcedvYlZr03Mid8A4MP5KS5U1aDA40FixA5kWISZCyPGrJdy5phzpNGkZk6QI4FVHheOuT4eKw9UfpS0zdzMhTFjjkqHZp5dmIzyZgsugFV2YRwd/7ciF2pmdi5HymRss7Zl2tqFurkDF8ByufDG77U9q5z140T9U2Y8rRdKZi/KkSajmnkFF8CPc+Hjfq+txiOCqhPM0sjsJbkseOpC0hznJiM7y/Uz1847cAGsbo40iSK/YB6MJiPTnBw/dSEzmuSKE9M0x1u1+sjEOVWwui7M/hJAgpOlQu7lezCytfha2xX2G1jd2nmhcMD9SGDtXdidwAUAF6IkaRcuALiAe7YBXIALAC7ABQAX4AKAC3ABwAW4AODC4pIJuABWx4UEvosEwIU/+C4SfEcVWBcX3vkdVfjuQvDDwPd4AvDZLrzxe21/RbWaZBOOlQonr+RI/ctSvmVv3FTe93lUzu8RFGucI50oGY7ZhmT1+Vew/Ws8f/G4cNsiomFA1DwbvOPj2LulDIIC48Iy50h3FFxcb6e2G2dNsvff8XnABbiw3C4MhnQXNxttusC4ANbWhXP6NWtfE70jS4ILcGG5Xdig88eJHv17+YtxAS4suQslupwbJOrRxODy4qB3cTcdJPrn2YPhwfHDdlRg3Gyn9u7PNri5fXdmt+2L9GxcGJzn273q7z1EB1xYPhduKPfsJ0u3yM/nfTpoREE+pGEtWycqahmy1G/0iJqpVKVAdHS4Q1GZwS6kj+io0CKyKwgPuLB0LqQDOls4e3R9RTd9Hg3+Y+9umNJWugAA41TN8JUghhRBejUaWQNhBraEQMJXhGSQ2w7yzh3+/z95d7MkBKutVpCvc+60wBL1Vvfx7NlNsgNkUAxZwxlSBIqABsyCoqH4sM4pBvqisEnZgWchXZbp65iELOgeYGH35lQ7CE0jfSXUUvCHTX104R0wYC+ziGcWupU6fXKBLDYYmiCUpRYck6mKodYI+gdY2L1zMOo8IqFF+ll/Pkjw3+KdLO37sflLrZXxLDgTNutk5MN6XITq/scFHwIBFnbqfCRlKE4JB+fMpa+66Ml/o09TglvPzF9O6a9/YkHk2HHBDFSs71ILwU35ThGcjgEWdvbcvNiwpLIiuICCyvcBRYIDerEumltgBs6e/fJ3UcF/2g3W7yDAwi6epzqyEO3mBir6IaGElzf6Eb5Cygo/L7ChkIZ6zywE6wsWWAALO2chP+ot1dFqhlMdfhEkUfRIPrBT1tDtmXMLD97BtsqBBYj9sTBGqdCrjE3GPUW0PMfKI7nO5ouWLcgo+4qFHFgAC7tn4QFNwy9lUvSmF3VAJpvlFFTOPaudmYWLYNqIU6w+5AWwsOMWegiFlhZGDunnA389gS5KW4vlBaJiyUJn0fc7tM6AvAAWVm8hvsIQxWSymmaXtb10XVsB8Ysh0QBpHJdtTec1RFYl3b4TLCJ3ly30DD+B5Iv0GeSFw43//vvuR/tdcS6nf9t9P3UeSZmi9LxL9yzk9eEuErxl41yETiO5qOLVBZlOS/YU+Ba4Pqp4zzJdb+oV8sIBW1gwOKf/vRAvNpLmdnJ75lTrU4RS1vBp2LURWznoVVHZmrh9HmnERC6BjOFDfWiisUXaQxZyA6R2xw99GZVHMI8EFuYWXonX3mjPtmh9odepIC9aEdfv5HQZGjldLyGMIg59VZ5witASQhaIo6L3gd0RzCOBhTmGVxPAa0jOt2qtLZd1x/1JLLzSoDz13eD8uuxkOHZf/iaM6qHjICAvvDsvnLfh/kgQe1svgAUIsPD5eaHsTJdbko5TAAsQO1kvfMyCihvLLWmMZbAAcYB5ASxAQL2wJgt3ECsPyAu7ZuEuB7HGuDsoC7/FsOUW7jwJGYj1xAFpqPBm+/v3GTs3r1Y7ZefmzTZvIXnxzMJJIvmShTsGIQ+xnphzOIy8MBPaxALt/d4fMzKbzTacF9KGjjHW1bPAQqmi48fHpio8s8AkeD+0fyDWEIzDYWQGMkaanRMLQY+fRTY+RipSCI0m+bsy/6gUkYCpBlxctuBTID+1bxCrD8bhQDCwesHLC7MtsUAoVErkMaFibHrvyE3c4JPxJI+OH7WwhTtGgUG4glh5eBwOBYMjScWZXy/Mfm+BZ32WX7OFBjbmLTZu0reTTdyKs9rZPj42QxbmFDwH1xCrjqtrjwPFcAglw3etLPN0jHT+hjESv0ThDxb+tL9VCzeWG+5JGiAPJYxT85YkxgJ5qGBd9Pdraxw5i+vaaFqYUyA/uVuIVQf1EGA4iHpB9uqF9hvqBSFM4bz9of3aXssLCYz9mjni6EXyWZrYDOZU5eNHPsgLdz6F25//3kCsKSaTSX214Sq9LbXAv93CucCvvV44JSOipauuTdy8WKwv6F+ngQWaFkitcHV78+N/WYj1xA3JDF5iWF3BMIrVe1tpoSjI21U7VzBuyKEDNYxCa23oa2vZwrer6x8/Rz1YFVtP5G+uV26B45RtvG1zhS+fy37tnNoKC5c2xriJDOHEr6AbNgtVVVv6V+RbmA+Rrq5vshk4s2xNkaEWCIbVWsjX4Xyk31k4C9baUjZdXMAYCfQ18p4/enF8fPS1Ebbwj2chD312jRa8xLDi4nl7LWzi+oUKbi638Bin/JbTlKTStWebPG9hR5ZNEsWiJJU1rbxkgVC4voG0sEYLtwdlob2JvFDEOLnUImEcXzqm4GBcpmjUl8/N8y3cggWwsNN5QcC4sNQyZYni9DI8jtKpkUbIgiDLYAEs7FdeSGI8Dbd80bHDygMjOKaGcTVSwDgRnlNVfQs5sAAW9iIv0LnTs1CLNi8XDIyCQ1IYi/SkDHux1nZ0ZIKFDVoYDbvJgQt5YbUW4k2MxKCl1sSqP3bi/UMMb65JJi1zC2f6UUMAC5uzUNfYTQZ7+2phM3khYmLcLLLqQLQx1kve01MHN2X2TPJq58hpA+OiZ6HQOMYyWNichVgLWa4yltDp4ojRg5LZHwvtDd03L6UTDY2W7dDpU1Wct1bJq8ZUkqa6fwGDqNIre8oVBx8/SgWwsDkLMrvHbM8MtkntdVs2Mp5++zn4zt7nhY/fW/hLRccsGvKi8URjS20Ymf51bZrO1tocIQUWNmdBQfes1Q32Ru0KCjcaOA/7YuGv8sKK7jkvpkxNktPLx1ymzLLEJ8LXO1d5clhqaX0BLHy2hSd/e6NMy5y/L1Tp3+MYxw2l6eWIPJQdg/R9sW5pnCuo2pBYGKRb5fH2W1hsRtJ+124k57y46T2qwMJnW5j4FnqOb2GIzvreXf37lbF7JnB11HnooCxn3psDpdV1O2Q0xasDN6L2tt3CLu/XBhY+20IW8WxmdbLYP34sIGSSX/oa+TNS3SeL7p/ncqaU5yyevG91OP6SvIUeDtfCn65re09cXvrXtaVqi/3awMKn184JlhgUg/T2xUTSUxUNR4gOmacdbjS2ZGqBHFizQvVCy912CxWZF2oUQ5VoOLm8/KUb/m1/hrywjxayNhkSPQ1s5O8FORp4AyRRUFDXIjGZqMmOS/q9SeoEebBTFmCMBPEOC5xSoEttatnHkFG9mtiScyrt3n0l1eW4vEMs9DkufkGaBh2wABb20QKXcztWfzSSfQzdCunWD5UB1+WzmbHREyK5vIXqnoVJq865agwsgIW9tODXCATD0JtR6rZUW7Uy3OhLS5Un3MS21UHN9ixwA1WVOjBGAgt7bYFgMOfbPfZi8w0j817pkFcyXMbfCTKXfeXTggWwsDcWuNGHdj4FC2Bhfyx8LMACWAALYGEdFuAaT7AAFsACWAALL1mAe8KABbDg3ysMLKzRwjVY2A0L7B6S36DPrtHCodxDcpct+BNJVz9+Qp9dq4XDuLfw7ltg95y/hl67Lgurv+d8bzvvOb/TFmAvEtiLBCz4FmCPKtijagcsrP+6Nti7cP27Fx7S3oW7fF3b8z1tYVfbVe9oe1h72u70GAn2Ooe9zsFCKDEwDB4HiJUH/c4eCIVdt+BrYBwgVh8ZKuEAioWNWrgQS4m3x/0ZKZtrAimcTbNoh/8Fd1RDDjbcXFPQb+5BZAWOs4umScpnoUYK6LP7d3TOknjxIQsXCTH65jg5iYtitZS+fzaPFMoNEGuLw5AQzCPdp0tVUYyfnLy9f4qJi49YqL6Dwp8s+AkCYtVxUEvsf28hKlY/YiERXbUFCIhNWYgmwAIEWAALEGABLECABbAAARbAAgRYAAsQYAEsQICFz7eQFsECBFiIRosNXZeisk4j7XgPZvjLyDWwALHTFv5wHVBggdd1w5gSC6qmaWKx7OiVcir0VapSHCxAbLuFj1zXFlhQddLzk8TCPBlU9Pulr8IL0agkxUVNKqVNRFIIL0+f/SOyEBB/EVs3Rmo02EhIVw2j+KsFsUyKCcOIi1OjlG4UU7LJyzr8DoPYx3pBR1G7gVi90PrVgsBHFxb0Mh0jFY/g5waxjxaQLkpIJxaK5H/gFwsnUjVkwfw/e+fClLjShGG/WiUEMAQKOILrhZQsbbjU6khIAkcwQkAMBKGs8///yTeThItcRBGVZfstBTIZQoX0Q3fPJVNWdEko7ON1Q+0iC7IS5lVlWb5wLbHH/CAY01WWO0tlQ0igX0DtJAthRVFNxoKuqurhLAsJp14YYhFFzYXCEVE2BEnD64baRRb4LE0U1FH/wgwLEddZHOplkNVcRCmXy5IgGXjdUDvJAj1QcNlHZCNev3PU7V8In2D/AmqXWViuQxyDgUIWcDwSCllAFlDIArKAQhaQBRSygCygkAVkAYUsIAsoZAFZQP19LASndDAvZAG1SywcvKKvv882CvVdLHzsPtubXH8BhfpWFt6w/sLBV6zLg0JtRp+6Ls/BF6zXhkJtSCvXa/uIPSMLKGQBWUAhC8gCCllYj4XkG0qQBdSfwsIye0YWUMjCd7Dw0AyG81K0kXn1hJt3r+3t3x6hTSALX8JCcr2St7DQ1AHMIn2A2vErJ6y/2jlxCC20CWTBYeHHG1hIbiMLdR8YjUyK446aCZAyyALqb2XhoQKFAJdyX4tgBNZkobmXQZtAFr6ahY2OwWiAMAn043sgrskC6i/WRsZgrMPCRsfmHckw7QmOi1BCFlDv1EbG5q3DwkbHbFfh8MX2LQj08bER51L96h4ruW+E1Oxea8JCq3FZCDXuXZQaJfZQe6JvoTFSpvHEPdwKxcrPZmp0xFJVVKXqEVfy3oJCFhaO2V6HhY3O5RnASwutG8xPhKCeqQDIDhxgiAWAaspjoQFQjKgAtw4XUOVudbbh5M4tCAYKUIjkAcJu5BWv0uriAAatKtyh0SALy+e1LWQhmUwe/Egu1SZZeIDZwOcSnhgLmQIEmyXmN9RWnP7016DpsrAHCRZUBRKUAoeFW1Abj5kRC9G80xTl7ea4KFSc6tlBDVlAFhaxkHxFX+kXWlCZKamxH/wQ1IpO3hAA1WseahgONiXIPrgUJZgDaYFPrj2M21RbYFbcLooA6Ky4D4Jb/ShhIgvIwrv9wheycDeTLrCYqMZYMPvOlg+aXnkq77AQGefWfVaxRYMhNzPwWBjvFhgqqcp4+xGQBWRhm1lwLH+ejhDE3GjfNOqTqpSFI8hOGpXlODN+rxnKY2EccvmA0pSZuJ14EVlAFraZhae5/oQGC/RDbmZMbflkvOOe2Xlpih2aVEwZv8fCySTWevR8x7g6soAsbDELAcjPlPiYyYa80KYEey/T7DsoZkcyqPVPjH/UjjRprH1kvqQxlYggC8jCFrNwbJozw/EEZtMhr6X1aep3Pc5YuIWCMBFjIfoaC01kAVnYHhZily4LYnhh/0JlnBxzU+0/Ixbu4Wq8J8NYePKaSiftUEtYSFVnY6RLZAFZ+DQWFIXnCfBlwpT1nmL0QRmMl3GT2RZlQSX7SkWQ5NmzeIR8fHo76VjviIWHqVS5xFi4h5+ToOnoeJVfCGDujCx8lIWf72AhoZbJQBW9pxgp0xeFUR0jIZgdIXfdUeR9WLSmrfTCRAOmfDTFAleYdEv7GAt12XgYoTAwH1b5hVR23KZ6h22qyMKns0ANnjiLdjpPMaLzIv2f5AtSp5grdBJSpyNkf8+dRgnMiY22im6AP2ahOU6eM6bTZFT1WpjYqytulV+gbqfijsXIqAaygCx8HguaLC9i4SBBjCkWZOoXjI5U1v6p5OdZSDVNaHhh0pPszWwbs3CsetlvppBNUBZSR7r56HoQ3WytzBe4+AnkS3Wu3h+EcDwSsvCJLBBNW8AC0QgJT1ioEPkqJ3eKYP6TVX8vOJGWCsVa8+mukQXdM9cxC1ygAKHb1mPNGNy7kx/6Bhw07/tV3XEQq/wCF68BmAkTsg/IArLwKgtzE4C8ko/ESIpRiEzakcLEPLyifkETYKFf4NjAOwOY9OiIgAkL3FGUTYQ2DzOcNxEoIJiscqL/hnYkp8rtnhBt1rka9NFokIWvZUGf/iRRg6vYFc0XDFHpCJXfi88l3npqPpYeluy8v+u/uMdFvXXXD8Tf+31FIIBGgyx8IwsKkQ2jkhM7mv6/he1Ib1IqteaXdFsdjWeqD6CORoMsfCMLhJBOx1jev/DJqo278ppzI2JRyMJ6LPg+OAZDFL5jLZKWKbtZwqOMIRKy8H4Wksnkz5fTe3zT+qPWa3s0Qao2ahLI2IqELCxkwfeKPscvfNcaVYHagLWqHuDdk5CFbYmRvnG9tnomjuaCLCALKGQBWUAhC5tg4QeygEIW3sVCLocsoJAFnhcUMhmROlZBDy5gAQxkAbWzLIQIkYvzLOgktoCF/TKygNpZFookz/PUB2QVzQxRJ6Eq5TAvKRpRlDAfMzTNOOQHSkHTL3Oysk9LkQXUjrKgkxP2FCaKTMp8hWgG0fnrgUIGA5E3iEH/aJ0ydBK5vLyv6TqygNpRFoDk3CF5J7xMxAop8mVlHCNpZVEsa3Tj+pqNzXNjpDzMnsV51/ajUO+Q3T3fRr8QdpEI8gUiVEiWB23EQtS5KwY51MnVZUcesWDMzl9It/Haot6rdnrrWFDZ7S5izCdQ33D9koUgoX5BFA9espDVZ07CwguLer+sbWxH0gcyTRQgrynBMQsGGVSivElUIcHyBY8FjRTV+XwB3QJqHcewtf0LA0KUE37MglgmROJDQEMkecKCqu135lnAy4paR9vY7xyNugvALfqQw0hsZb8zXlXUrrDw0fFIeFVRW82Cz+f78cpcH2QBtUssrJrXhn4BhX4BYyQUsrD4DjDIAurvYGEPWUAhC8gCClnYEAsnpMjW3Qm9jYXBs4QsoNaRvf0sBDWTd0emvoWF5xsVWUCtISve2/4YCTQ+RmQ+B5pWFni+qGQVTUooYf6wLFMK1PwUC+HnxA2ygFoHBY7rbT0LRXIZJgn+EvIJdpthmWiynBWJwVdoKcVEm2Lhv8H1syBI+laycGH5h120uq1FYdtY2JtnQSKVPLnmeWfZwihlQWKlZe1AZ5N8gmBOsXCTFW/ygvS8lSykLb+NU4r+IBS2j4UrUpS1A5pDE0Uj4iiNThCJJRIv8wXxOZ+4uVnNQo9NaLiw/db5MX30t3unafqDbXXtoWV1rfRpzylj+9oX9vCs1+6dpWk9+nI4Z8xWOn5ODzc51GmvParqvHvYdorPLcpCj/3RT7PcD7Uv2miH35wxW8tR2D4W+DIowGKjMG86LERdQhRScdqZricsZG/+/ffmeTULQ/YFHNt23LK7x23/cGhb1J67w/Nuu3vas604Ndm0ZQ+H/jZ3Ydtn5127d+5vn3Xt7tmM9dq/6DG49vhQF7aV7o2q0ndb9gX9ki+Gtp0+dmKkITvYmfuh6V/IwjejcMpZS1HYQhYMjahs+kJF0CYs8DrR2A2SXuQL//4XEU+eE5K5goULlwWLGXa3bbMn69zf5egPu1NGTbbr/NZTFmhZ74J+aZy/y76u3kzEb7Ht1PhQKeYTeqOqbTajzkr7neL2L5cF5nRSlEP2oTjL6HvVPuW4X71lKGwhC1lCBGfujgZTLEju/cOmWYg+SxHx+sZY2Y7k+YV2+qxntf3WaY+K+z97d8ObNpKHARwJkQmG2ICw5bWbl1phnTTblRqLJHQsv5ztguUQTKP7/l/lZuwxwYTeNe1eE+jzSLskgzNesfNjZozRfzZ/z1rnj2LAz9ha5oRZYKP1gQ9fMns8Z4edP5Y9sJTjeHY/Pyerrt6LE5SHFn/NRJXN70sL89Lh+eFh2TvyipmLEbKVwhu0sPpGT+3kd08VbUh8L4gAAA3PSURBVF/8uXMxL6h8FmDjnS2L5jyzgkFlga2V7u8rC/PSwmNxnJgOxA+L04f5wlx1dS4slIdWFspmYaF0OIeFN4RhO4U3bGE9xzfOlx+/B+OxGNwLflVnxpbvJ8Xbe8ngvrQw+5MP7/q8wB+eXQniSx7GSnR1f8oPeTwUhxZ/vTgrF14zc93CvXmINdJbwfANCjti4fLOHv64hQe2vnlgi/yT2eGMvVufzQ/5QF+fF/hKf3Zet7A4XbDxvsUC22iIrmYnrCs24MWh1bxweMaOeiDrFljTbHaOvfNbwPAtCr/OwsHBwR/rX+x5kYWfuzdvcWaezE8Whw/micleiMW5ya98rs8Lhw/qydm9+rBaIy0I31icns2fXYg4OZ0/nqy6em8W11TLQ1cWWLP5UFsjsZOqZ/ew8BY+XDg83Ol54WfvU63G4GxW+3X9iNmW5m1Dd1b9U+9q9j/+ks8vCxUj8S3nV1o4eDULr5/T+Wzx+IDxBguwsHg8O59jiQQLP2BBplR5esB3eZDf0YLiOH1+67bzub16+O8WvsICspcW7ib85uz2pxLBp++w8G9YQPbSwu3FzednFnoX/Js9d8UHbrdaq3P38cmC7cACso8Whvye7U0LnRvnw8Tp/zVpdzpXDm0NncmThY8TWED20YLlWBr/Lk/Nguz8zZ64k53uzYXi9FvDiy9PFv6GBWQvLXx1Lm55OZKaBc2h7Uvnw8Chk4nttOr7BcwLyH5auJ3c3vIb8YbORblkuigmi7tibph8/nL7+ZbtnZVj7BeQPbcwcD7wK6mddvtm8pFWD58mN9qto7QvnLt/sQPq+wVcR0L20gIvxFN+WUG+cPi3/csHa+LwhdNXh80CHzct4PMFZD+vqX7jtotuB587I7CAezAQWIAFBBZ+woJEEOTFkX6lhQYsILAACwgswAICC7CAwAIsILAACwgswAICC7CAwAIsILAACwgswAICC7CAwAIsILAACwgswMI3M9LMFxyd+MRPMNJgARa4hWiEkQYLb8KCm7N/DSWS9ehgTEgQK132Rp1549Z4GWd9OVZJ4MqUHZFeSS3ZZb/02XGjhtWYbr5g0xYdLpkF0Yn0jioeaw679EBade2OWQ/8pEmfup5P4oxUJyLhQPG8JUYeLLyKhWbG/kWjyM4ljwbE96NcCUnS7HmjUPGjzM5J3B9L/gHRteF4aile5CpEtxIpsTbe0Uc0jjKZWRCdXMdSbuUktJbsT1ZdN4+TyLWCspkWa6TqRKG8jHwLayZYeFULuZUSI9ElNkhJ3jMSjR0X8l8aHvHYPJCz8a+xicAdsi60gL2fs5+9elfxAX+310zRiUnZO3w+JcchmxN8qeq66RKS2hJhLNiEVFoQJzpm/y0BLMDC61pIu5a7DEgmuyyangz42qbFB3zM3vCzWOEWdPGrFjSG7LBOs+ih0Ww20+IHPoolzaw6ie1GMiKpVk4fVWszLE9YNHulhfJEZdMBLMDCd1noa3T4/7BAgtyVFbYs8nj0pMEtNEoLnhJnWd1Cs8EPC4seQpaA/9BKyr1z1QmJvIGdjYSFqlWcUC+ay+tI4kQ6LMDCCyz06D88LzTYgNa1SGLrn6DnjRW2g9WXRuI/WUjtqVgjPVngDyQSm2fDENtwtvohuWaKTtKMtcdd1WZLLLUhVV0LCwbl+2d/3YLKm7BGgoXXsuC+S03XjpYKW830MrXnqXyg1yxoY6IfyTULkTUlI2XjQtKUjXr9UjNFJ4G9JEbcIO5RGiQDo+q6mojirk7G9roF1jRKYwoLsPA6FkbXVA6VSHWpQt2ASFdU9vWaBRLbynVO43ULbPVvHXubLxhrtNjeuepkyU7flUjq28X1V9G6WpS51Bq4NQuBa1mxH2LkwcKrWCCGrhaPwahY9JM0ePZCpAxBuvkRmr7lFTN0sVwqO1H18qAgJdu6NtNNl6mhkuKzBwQWXsHC24nh+iPdUwKMPFj43S2QIO73fNySAQuwIGYHDDxYgAUEFmABgYWXW/jLHsICAgv4XhsCC7CAwAIsILAACwgswAICC7CAwMI/YGFI7T4sILDQbvdszAsILPBcW99hAUF+ILtm4djCvIBgXuCh17CAwEK7rWjHHVhAYKHd7lxql7CAwEIxM8iwgMDCd19Hwv9X5DewUHzRBxYQWGgfaXYXFhBYKO7C6MACAgu4Nw+BBVhAYAEWEFiABQQWYAGBBVhAYOFVLPjJzxQiHyxRxhwW9sVCNPpJCyhjDgs7ZSHrKm5aL2Se9SkvLxtnzy2IpzbKmIvK51UZ89SVjzNmAWXMYWGXLCyVPPL/qBUyn9qZFGr6tjVS9VS9jHlV+bwqYz5sTcdXdIky5rCwUxZ6Re1Mab2Q+Zi945t2tM2CeEqtlzGvKp+LMuZTW2dThb1EGXNY2CULqcYrkCthrTBhmntDbd3Cqpx59VS9jHlV+VyUMc+6vLG/RBlzWNglC7oW8wrk03ULU8sPI7puYVXOvHqqXsa8qnwuSnSGR0/XkVDGHBZ2xYJhTfmmQV+34LMHdWONJOqZi6c2yphXlc+FhTFfFwV0iTLmsLBT+4X4XWrk1+a6hYZrqB7bP2zZL4inNsqYV5XPhQXzODbNWFuijDks7JQFXnJ8OCbrFsaybCUNeeveWTy1UcZcVD6vyphLA0rd7hJlzGFhxz5re1ZynJi6StR062tSPbVZxnyj8vmzgukoYw4LuB+pDMqYwwIsiIkCZcxhARYQWIAFBBZgAYEFWEBgARYQWIAFBBZgAYEFWEBgARYQWIAFBBZgAYEFWECQvbWAIL9BrXPMCwjmBVhAYAEWEFiABQQWYAGBBVhAYAEWEFiABQQWYAGBBVhAYAEWEFiABQQWYAGBBVhAYAEWEFjY+VrnI818wauY+GR5hcEEC3tZ6/zFFvQpBhMs7F2t82mLDpfMQhAr3YQU5XZ8nfV6YPV41dqydVXgPOlT1/PJ2H9qihqyn7sYXLCw67XORzSOMplZ8P0oV0LiXUXRgV80h/a4al0VOOel0CmDMFg1jagXJdYRBhcs7Hqt8/iAr3o0U+KlOvOe4foGGWXEa7JmL6xaqwLnCq/PNiwtiKa4qN8GC7Cw87XOG/x3STMzmf+Zpk9pP54afJAXyy3RWitw7pUWyqaygxAWYGHna523knLvHCr8rzyd6KFv+0ZHHCZaawXOk9KCqOfZggVY2O1a56LUOXH5rjfXzLHCtsH60sjZaJ9qo6I5CatWMfANXuCc7SHWLRRHYo0EC7tf63zKNsj6pWaqPU8N2OG+azIL6ZhOSWSNqtanAuc6Gds1C1M7N3PsnWFh92ud86rmFts7E+mKyr5ORkdUkdkOObGsLnsQrU8Fzqk1cGsWSHZtt4rNAwILu13rnBi6WC6JcuYpO7ZorrV+s299RFTi4fMFWNjH+5GMFx09Vqbp2BpjcMEC7s3Ljo6bS4wtWIAFBBZgAYEFWEBgARaQ/7R3b6uJQ1EAhgNShzSJh5IGQ+tNQELG8UJBEAKlzCP4/g8ze62dHWUKgznUJp3/f4G5yPpm7W3EYgELhAUsEBawQFjAAmEBC4SF8Vp45sFS056/pYXNiidLTVttvqOFl8fNO8+WmvS+eXz5jhZ+PK82/OVuatJm9eEHsQZuYZmX8Q0WiLo3+L2QL7BAWJCyAxYIC2phjQXCgnQosUBYkIJ1MscCYcH3i6QIsEBY8P3ZnDMSYYHPkQgLl0reLxAW5J/IkwgLhAXfD+Kbvo9E9B+ckbBAWMACYQELhAUsEBawQFgo8zkWCAvSHAuEBSwQFrBAWMACYQELhIWeLIRYICxgge5jIRyBhQgLhAUs0D0tRF/23jlpZGE9m514btR/p9mXW7j1+0jOwhwL9DkW5mssEH2w4A/WQhBHe2NhuRAL/LUF6r13sbAQC/shW/CdBfuybXfkyVHfHX+JhWUxEgvVi+fc48lR33n5XF+1qYVgwBauXraZQ9LujUdH/fa2q68L8nph4Bb08qwXhmznHbkzUH93haO3y9x1ocXHSPe3UF0YBENyOp9/m34SdUqm6Hw+JZldC/V1YcgW5MKghyRZDLOsLPM8SX6ZdkQtk/lJkjwvy2zm1sLwLbhDUrUYBINqUA5E7UqsBEvBroXqunBHC/u41SFJF4PFYDUYDyKCqHkyPirBUWi7FuJ9FwtpGDc+JOknSYXF4DRYD0Rt0gFSCUKhXgtNLcRh6nXCEG/DJhXFUhQcDpZBViHgPzfqYTVkFoQZLyNiWRSNRnMbd6PQrKkpnUxeH+JILg3y0epibZaDNCNqmZ2gtbk0m1uzfJoaxQ+vk0kq8+YNNLWQGguBYrAnJXNUch6I2mVG6LCwpyOlEBgL6eAt2MUgGOQKHeqRSQ9NQoKocXoiWuihKNRL8zWFwVpwi8Fh2KoGw8GCIGqXTFChEraOwmTgFKrFYDE4DU/2Sm1JEDVMRkcvyU+VhIrC0C1cY9DVEO2VQyWCqEV2gAwEI0GWwjgoWAsWg64G4WA87Ld1T0S3Vk/NXh1E+qr59UJh0BZqDFZDzYGoY7H9zoWVMAYKDoOuBtVgOAgIoi7JFD1YCaOh4CzIarAcFIQtIGqaGx6ZpMm1hMFT+EuDcFAPRJ2aVA5qCWOgcMHgPCgIog6lVZfR8kbSdPrBA1G3rmfKG1NTos/KG188NEICKoj5JyIiIiIiIiIiIiIiIiIiIiIiIvrS0ij85B9aCqN//7bwHw/UdUKn/ZYOAAAAAElFTkSuQmCC"></p> <h2 id="setting-filter-backends">Setting filter backends</h2> <p>The default filter backends may be set globally, using the <code>DEFAULT_FILTER_BACKENDS</code> setting. For example.</p> <pre data-language="python">REST_FRAMEWORK = {
    'DEFAULT_FILTER_BACKENDS': ['django_filters.rest_framework.DjangoFilterBackend']
}
</pre> <p>You can also set the filter backends on a per-view, or per-viewset basis, using the <code>GenericAPIView</code> class-based views.</p> <pre data-language="python">import django_filters.rest_framework
from django.contrib.auth.models import User
from myapp.serializers import UserSerializer
from rest_framework import generics

class UserListView(generics.ListAPIView):
    queryset = User.objects.all()
    serializer_class = UserSerializer
    filter_backends = [django_filters.rest_framework.DjangoFilterBackend]
</pre> <h2 id="filtering-and-object-lookups">Filtering and object lookups</h2> <p>Note that if a filter backend is configured for a view, then as well as being used to filter list views, it will also be used to filter the querysets used for returning a single object.</p> <p>For instance, given the previous example, and a product with an id of <code>4675</code>, the following URL would either return the corresponding object, or return a 404 response, depending on if the filtering conditions were met by the given product instance:</p> <pre data-language="python">http://example.com/api/products/4675/?category=clothing&amp;max_price=10.00
</pre> <h2 id="overriding-the-initial-queryset">Overriding the initial queryset</h2> <p>Note that you can use both an overridden <code>.get_queryset()</code> and generic filtering together, and everything will work as expected. For example, if <code>Product</code> had a many-to-many relationship with <code>User</code>, named <code>purchase</code>, you might want to write a view like this:</p> <pre data-language="python">class PurchasedProductsList(generics.ListAPIView):
    """
    Return a list of all the products that the authenticated
    user has ever purchased, with optional filtering.
    """
    model = Product
    serializer_class = ProductSerializer
    filterset_class = ProductFilter

    def get_queryset(self):
        user = self.request.user
        return user.purchase_set.all()
</pre>  <h1 id="api-guide">API Guide</h1> <h2 id="djangofilterbackend">DjangoFilterBackend</h2> <p>The <a href="https://django-filter.readthedocs.io/en/latest/index.html"><code>django-filter</code></a> library includes a <code>DjangoFilterBackend</code> class which supports highly customizable field filtering for REST framework.</p> <p>To use <code>DjangoFilterBackend</code>, first install <code>django-filter</code>.</p> <pre data-language="python">pip install django-filter
</pre> <p>Then add <code>'django_filters'</code> to Django's <code>INSTALLED_APPS</code>:</p> <pre data-language="python">INSTALLED_APPS = [
    ...
    'django_filters',
    ...
]
</pre> <p>You should now either add the filter backend to your settings:</p> <pre data-language="python">REST_FRAMEWORK = {
    'DEFAULT_FILTER_BACKENDS': ['django_filters.rest_framework.DjangoFilterBackend']
}
</pre> <p>Or add the filter backend to an individual View or ViewSet.</p> <pre data-language="python">from django_filters.rest_framework import DjangoFilterBackend

class UserListView(generics.ListAPIView):
    ...
    filter_backends = [DjangoFilterBackend]
</pre> <p>If all you need is simple equality-based filtering, you can set a <code>filterset_fields</code> attribute on the view, or viewset, listing the set of fields you wish to filter against.</p> <pre data-language="python">class ProductList(generics.ListAPIView):
    queryset = Product.objects.all()
    serializer_class = ProductSerializer
    filter_backends = [DjangoFilterBackend]
    filterset_fields = ['category', 'in_stock']
</pre> <p>This will automatically create a <code>FilterSet</code> class for the given fields, and will allow you to make requests such as:</p> <pre data-language="python">http://example.com/api/products?category=clothing&amp;in_stock=True
</pre> <p>For more advanced filtering requirements you can specify a <code>FilterSet</code> class that should be used by the view. You can read more about <code>FilterSet</code>s in the <a href="https://django-filter.readthedocs.io/en/latest/index.html">django-filter documentation</a>. It's also recommended that you read the section on <a href="https://django-filter.readthedocs.io/en/latest/guide/rest_framework.html">DRF integration</a>.</p> <h2 id="searchfilter">SearchFilter</h2> <p>The <code>SearchFilter</code> class supports simple single query parameter based searching, and is based on the <a href="https://docs.djangoproject.com/en/stable/ref/contrib/admin/#django.contrib.admin.ModelAdmin.search_fields">Django admin's search functionality</a>.</p> <p>When in use, the browsable API will include a <code>SearchFilter</code> control:</p> <p><img alt="Search Filter" src="data:image/png;base64,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"></p> <p>The <code>SearchFilter</code> class will only be applied if the view has a <code>search_fields</code> attribute set. The <code>search_fields</code> attribute should be a list of names of text type fields on the model, such as <code>CharField</code> or <code>TextField</code>.</p> <pre data-language="python">from rest_framework import filters

class UserListView(generics.ListAPIView):
    queryset = User.objects.all()
    serializer_class = UserSerializer
    filter_backends = [filters.SearchFilter]
    search_fields = ['username', 'email']
</pre> <p>This will allow the client to filter the items in the list by making queries such as:</p> <pre data-language="python">http://example.com/api/users?search=russell
</pre> <p>You can also perform a related lookup on a ForeignKey or ManyToManyField with the lookup API double-underscore notation:</p> <pre data-language="python">search_fields = ['username', 'email', 'profile__profession']
</pre> <p>For <a href="https://docs.djangoproject.com/en/3.0/ref/contrib/postgres/fields/#jsonfield">JSONField</a> and <a href="https://docs.djangoproject.com/en/3.0/ref/contrib/postgres/fields/#hstorefield">HStoreField</a> fields you can filter based on nested values within the data structure using the same double-underscore notation:</p> <pre data-language="python">search_fields = ['data__breed', 'data__owner__other_pets__0__name']
</pre> <p>By default, searches will use case-insensitive partial matches. The search parameter may contain multiple search terms, which should be whitespace and/or comma separated. If multiple search terms are used then objects will be returned in the list only if all the provided terms are matched. Searches may contain <em>quoted phrases</em> with spaces, each phrase is considered as a single search term.</p> <p>The search behavior may be specified by prefixing field names in <code>search_fields</code> with one of the following characters (which is equivalent to adding <code>__&lt;lookup&gt;</code> to the field):</p> <table> <thead> <tr> <th>Prefix</th> <th>Lookup</th> <th></th> </tr> </thead> <tbody> <tr> <td><code>^</code></td> <td><code>istartswith</code></td> <td>Starts-with search.</td> </tr> <tr> <td><code>=</code></td> <td><code>iexact</code></td> <td>Exact matches.</td> </tr> <tr> <td><code>$</code></td> <td><code>iregex</code></td> <td>Regex search.</td> </tr> <tr> <td><code>@</code></td> <td><code>search</code></td> <td>Full-text search (Currently only supported Django's <a href="https://docs.djangoproject.com/en/stable/ref/contrib/postgres/search/">PostgreSQL backend</a>).</td> </tr> <tr> <td>None</td> <td><code>icontains</code></td> <td>Contains search (Default).</td> </tr> </tbody> </table> <p>For example:</p> <pre data-language="python">search_fields = ['=username', '=email']
</pre> <p>By default, the search parameter is named <code>'search'</code>, but this may be overridden with the <code>SEARCH_PARAM</code> setting.</p> <p>To dynamically change search fields based on request content, it's possible to subclass the <code>SearchFilter</code> and override the <code>get_search_fields()</code> function. For example, the following subclass will only search on <code>title</code> if the query parameter <code>title_only</code> is in the request:</p> <pre data-language="python">from rest_framework import filters

class CustomSearchFilter(filters.SearchFilter):
    def get_search_fields(self, view, request):
        if request.query_params.get('title_only'):
            return ['title']
        return super().get_search_fields(view, request)
</pre> <p>For more details, see the <a href="https://docs.djangoproject.com/en/stable/ref/contrib/admin/#django.contrib.admin.ModelAdmin.search_fields">Django documentation</a>.</p>  <h2 id="orderingfilter">OrderingFilter</h2> <p>The <code>OrderingFilter</code> class supports simple query parameter controlled ordering of results.</p> <p><img alt="Ordering Filter" src="data:image/png;base64,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"></p> <p>By default, the query parameter is named <code>'ordering'</code>, but this may be overridden with the <code>ORDERING_PARAM</code> setting.</p> <p>For example, to order users by username:</p> <pre data-language="python">http://example.com/api/users?ordering=username
</pre> <p>The client may also specify reverse orderings by prefixing the field name with '-', like so:</p> <pre data-language="python">http://example.com/api/users?ordering=-username
</pre> <p>Multiple orderings may also be specified:</p> <pre data-language="python">http://example.com/api/users?ordering=account,username
</pre> <h3 id="specifying-which-fields-may-be-ordered-against">Specifying which fields may be ordered against</h3> <p>It's recommended that you explicitly specify which fields the API should allow in the ordering filter. You can do this by setting an <code>ordering_fields</code> attribute on the view, like so:</p> <pre data-language="python">class UserListView(generics.ListAPIView):
    queryset = User.objects.all()
    serializer_class = UserSerializer
    filter_backends = [filters.OrderingFilter]
    ordering_fields = ['username', 'email']
</pre> <p>This helps prevent unexpected data leakage, such as allowing users to order against a password hash field or other sensitive data.</p> <p>If you <em>don't</em> specify an <code>ordering_fields</code> attribute on the view, the filter class will default to allowing the user to filter on any readable fields on the serializer specified by the <code>serializer_class</code> attribute.</p> <p>If you are confident that the queryset being used by the view doesn't contain any sensitive data, you can also explicitly specify that a view should allow ordering on <em>any</em> model field or queryset aggregate, by using the special value <code>'__all__'</code>.</p> <pre data-language="python">class BookingsListView(generics.ListAPIView):
    queryset = Booking.objects.all()
    serializer_class = BookingSerializer
    filter_backends = [filters.OrderingFilter]
    ordering_fields = '__all__'
</pre> <h3 id="specifying-a-default-ordering">Specifying a default ordering</h3> <p>If an <code>ordering</code> attribute is set on the view, this will be used as the default ordering.</p> <p>Typically you'd instead control this by setting <code>order_by</code> on the initial queryset, but using the <code>ordering</code> parameter on the view allows you to specify the ordering in a way that it can then be passed automatically as context to a rendered template. This makes it possible to automatically render column headers differently if they are being used to order the results.</p> <pre data-language="python">class UserListView(generics.ListAPIView):
    queryset = User.objects.all()
    serializer_class = UserSerializer
    filter_backends = [filters.OrderingFilter]
    ordering_fields = ['username', 'email']
    ordering = ['username']
</pre> <p>The <code>ordering</code> attribute may be either a string or a list/tuple of strings.</p>  <h1 id="custom-generic-filtering">Custom generic filtering</h1> <p>You can also provide your own generic filtering backend, or write an installable app for other developers to use.</p> <p>To do so override <code>BaseFilterBackend</code>, and override the <code>.filter_queryset(self, request, queryset, view)</code> method. The method should return a new, filtered queryset.</p> <p>As well as allowing clients to perform searches and filtering, generic filter backends can be useful for restricting which objects should be visible to any given request or user.</p> <h2 id="example">Example</h2> <p>For example, you might need to restrict users to only being able to see objects they created.</p> <pre data-language="python">class IsOwnerFilterBackend(filters.BaseFilterBackend):
    """
    Filter that only allows users to see their own objects.
    """
    def filter_queryset(self, request, queryset, view):
        return queryset.filter(owner=request.user)
</pre> <p>We could achieve the same behavior by overriding <code>get_queryset()</code> on the views, but using a filter backend allows you to more easily add this restriction to multiple views, or to apply it across the entire API.</p> <h2 id="customizing-the-interface">Customizing the interface</h2> <p>Generic filters may also present an interface in the browsable API. To do so you should implement a <code>to_html()</code> method which returns a rendered HTML representation of the filter. This method should have the following signature:</p> <p><code>to_html(self, request, queryset, view)</code></p> <p>The method should return a rendered HTML string.</p> <h1 id="third-party-packages">Third party packages</h1> <p>The following third party packages provide additional filter implementations.</p> <h2 id="django-rest-framework-filters-package">Django REST framework filters package</h2> <p>The <a href="https://github.com/philipn/django-rest-framework-filters">django-rest-framework-filters package</a> works together with the <code>DjangoFilterBackend</code> class, and allows you to easily create filters across relationships, or create multiple filter lookup types for a given field.</p> <h2 id="django-rest-framework-full-word-search-filter">Django REST framework full word search filter</h2> <p>The <a href="https://github.com/trollknurr/django-rest-framework-word-search-filter">djangorestframework-word-filter</a> developed as alternative to <code>filters.SearchFilter</code> which will search full word in text, or exact match.</p> <h2 id="django-url-filter">Django URL Filter</h2> <p><a href="https://github.com/miki725/django-url-filter">django-url-filter</a> provides a safe way to filter data via human-friendly URLs. It works very similar to DRF serializers and fields in a sense that they can be nested except they are called filtersets and filters. That provides easy way to filter related data. Also this library is generic-purpose so it can be used to filter other sources of data and not only Django <code>QuerySet</code>s.</p> <h2 id="drf-url-filters">drf-url-filters</h2> <p><a href="https://github.com/manjitkumar/drf-url-filters">drf-url-filter</a> is a simple Django app to apply filters on drf <code>ModelViewSet</code>'s <code>Queryset</code> in a clean, simple and configurable way. It also supports validations on incoming query params and their values. A beautiful python package <code>Voluptuous</code> is being used for validations on the incoming query parameters. The best part about voluptuous is you can define your own validations as per your query params requirements.</p> <p class="_links"><a class="_links-link" href="https://github.com/encode/django-rest-framework/tree/master/rest_framework/filters.py">filters.py</a></p><div class="_attribution">
  <p class="_attribution-p">
    Copyright &copy; 2011&ndash;present Encode OSS Ltd.<br>Licensed under the BSD License.<br>
    <a href="https://www.django-rest-framework.org/api-guide/filtering/" class="_attribution-link">https://www.django-rest-framework.org/api-guide/filtering/</a>
  </p>
</div>
