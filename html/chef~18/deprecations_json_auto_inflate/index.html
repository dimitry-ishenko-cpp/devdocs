<div id="col-content" data-swiftype-index="true"> <div id="deprecation-json-auto-inflate-chef-1"><h1>Deprecation: JSON Auto Inflate (CHEF-1)</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/chef-web-docs/blob/main/content/deprecations_json_auto_inflate.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Internally, the <code>Chef::REST</code> class attempts to guess which Chef class a JSON document relates too, and then automatically turns the JSON in to that class.</p> <p>This deprecation warning was added in Chef Client 12.7.2, and JSON auto inflation will be removed permanently in Chef Client 13.</p> <h2 id="example">Example</h2> <p>When loading an environment from the Chef Infra Server, you might previously have written:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020">name</span> <span style="color:#666">=</span> <span style="color:#4070a0">'my_environment'</span>
chef_server_rest<span style="color:#666">.</span>get(<span style="color:#4070a0">"environments/</span><span style="color:#70a0d0;font-style:italic">#{</span><span style="color:#007020">name</span><span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">"</span>)
</code></pre></div>
<p>and received a <code>Chef::Environment</code> object back.</p> <h2 id="remediation">Remediation</h2> <p>You now need to explicitly create a new object of the desired type.</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020">name</span> <span style="color:#666">=</span> <span style="color:#4070a0">'my_environment'</span>
<span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">Environment</span><span style="color:#666">.</span>from_hash chef_server_rest<span style="color:#666">.</span>get(<span style="color:#4070a0">"environments/</span><span style="color:#70a0d0;font-style:italic">#{</span><span style="color:#007020">name</span><span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">"</span>)
</code></pre></div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/deprecations_json_auto_inflate/" class="_attribution-link">https://docs.chef.io/deprecations_json_auto_inflate/</a>
  </p>
</div>
