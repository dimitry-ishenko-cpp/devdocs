<div id="col-content" data-swiftype-index="true"> <div id="effortless-variables-and-config"><h1>Effortless Variables and Config</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/effortless/tree/main/docs-chef-io/content/effortless/variables_and_config.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <h1 id="plan-variables-and-chef-habitat-configurations">Plan Variables and Chef Habitat Configurations</h1> <p>This documents the options for both your plan and your <code>habitat</code> configuration file.</p> <h2 id="effortless-config">Effortless Config</h2> <h3 id="effortless-config-plan-variables">Effortless Config Plan Variables</h3> <p>You can use all the default plan variables shipped with Chef Habitat. Read more about <a href="../../habitat/plan_variables/index.html">plan variables</a> in the Chef Habitat documentation.</p> <dl> <dt>scaffold_chef_client</dt> <dd>The Chef Habitat <code>chef-infra-client</code> package used. Change to use a different package. Default is <code>chef/chef-infra-client</code>
</dd> <dt>scaffold_cacerts</dt> <dd>The Chef Habitat <code>cacerts</code> package used during the Chef Infra Client run. Change to use a different package.Default is <code>chef/cacerts</code>
</dd> <dt>scaffold_policyfile_path</dt> <dd>Path to the policyfile. Default is <code>$PLAN_CONTEXT/../policyfiles</code>
</dd> <dt>scaffold_data_bags_path</dt> <dd>Path to the <code>data_bags</code> directory that contains the <code>data_bags</code>, if needed by your cookbook. Default is <code>$PLAN_CONTEXT/../data_bags</code>
</dd> </dl> <h3 id="effortless-config-chef-habitat-settings">Effortless Config Chef Habitat Settings</h3> <dl> <dt>interval</dt> <dd>Frequency of how often in seconds that the Chef Infra Client runs. Default is <code>1800</code>
</dd> <dt>splay</dt> <dd>A randomly generated sleep time value in seconds added to the interval and helps determine when the chef-client runs again. Default is <code>1800</code>
</dd> <dt>splay_first_run</dt> <dd>Splay value in seconds for the first run of the Chef Infra Client. Default is <code>0</code>
</dd> <dt>run_lock_timeout</dt> <dd>Amount of time in seconds for the run lock timeout for the Chef Infra Client run. Default is <code>1800</code>
</dd> <dt>log_level</dt> <dd>Log level for the <code>chef-client</code>. Default is <code>warn</code>
</dd> <dt>env_path_prefix</dt> <dd>String that will be the Environment Path variable for the chef-client run. Linux Default is <code>/sbin:/usr/sbin:/usr/local/sbin:/usr/local/bin:/usr/bin:/bin</code>. Windows Default is <code>;C:/WINDOWS;C:/WINDOWS/system32/;C:/WINDOWS/system32/WindowsPowerShell/v1.0;C:/ProgramData/chocolatey/bin</code>
</dd> <dt>ssl_verify_mode</dt> <dd>SSL Verification mode for the Chef Infra Client. Default is <code>:verify_peer</code>
</dd> <dt>verify_api_cert</dt> <dd>Boolean option to determine if the API certification should be verified. Default is <code>false</code>
</dd> <dt>rubygems_url</dt> <dd>The location to source rubygems. Default value: <code>https://www.rubygems.org</code>
</dd> </dl> <h4 id="effortless-config-chef-license">Effortless Config Chef License</h4> <p>This configuration needs to be under the <code>[chef_license]</code> block in the .toml file.</p> <dl> <dt>acceptance</dt> <dd>Determines the Chef license acceptance at run time. Required for Chef Infra Client. See Chef License <a href="../../chef_license_accept/index.html#accepting-the-chef-license">here</a>. Default is <code>undefined</code>
</dd> </dl> <h4 id="effortless-config-chef-automate">Effortless Config Chef Automate</h4> <p>These configurations need to be under the <code>[automate]</code> block in the .toml file.</p> <dl> <dt>enable</dt> <dd>Enables or disables reporting to Chef Automate. Boolean. Default is <code>false</code>
</dd> <dt>server_url</dt> <dd>Chef Automate server URL. Example: <code>https://automate.example.com/data-collector/v0/</code>. Default is <code>https://&lt;automate_url&gt;</code>
</dd> <dt>token</dt> <dd>Chef Automate API token. Example: <code>GR4_yqRNUtWFVgnVh57GQL9Hh9I=</code>. Default is <code>&lt;automate_token&gt;</code>
</dd> </dl> <h2 id="effortless-audit">Effortless Audit</h2> <h3 id="effortless-audit-plan-variables">Effortless Audit Plan Variables</h3> <dl> <dt>scaffold_inspec_client</dt> <dd>The Chef Habitat <code>inspec</code> package. Change to use a different package. Default is <code>chef/inspec</code> This variable is required if the profile had a <code>depends</code> line for compliance in the <code>inspec.yml</code> example as shown below</dd> <dt>scaffold_cacerts</dt> <dd>The Chef Habitat <code>cacerts</code> package during the Chef Infra Client run. Change to use a different package. Default is <code>chef/cacerts</code>. This variable is required if the profile had a <code>depends</code> line for compliance in the <code>inspec.yml</code> example as shown below</dd> </dl> <p>inspec.yml</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-yml" data-lang="yml"><span style="color:#062873;font-weight:700">depends</span>:- <span style="color:#062873;font-weight:700">name</span>:cis-rhel7-level1-server<span style="color:#062873;font-weight:700">compliance</span>:admin/cis-rhel7-level1-server</code></pre></div>
<dl> <dt>scaffold_automate_server_url</dt> <dd>Points to the Chef Automate server needed to fetch profile dependencies from the Chef Automate Asset Store. Example: <code>https://automate.example.com</code>. Required if the profile uses a line for compliance in the <code>inspec.yml</code>
</dd> <dt>scaffold_automate_user</dt> <dd>Chef Automate user for the installed profile</dd> <dt>scaffold_automate_token</dt> <dd>Chef Automate API token</dd> </dl> <h3 id="effortless-audit-chef-habitat-variables">Effortless Audit Chef Habitat Variables</h3> <dl> <dt>interval</dt> <dd>How often in seconds that <code>inspec</code> runs. Default is <code>1800</code>
</dd> <dt>splay</dt> <dd>A randomly generated sleep time value in seconds added to the interval and helps determine when the chef-client runs again. Default is <code>1800</code>
</dd> <dt>splay_first_run</dt> <dd>Splay value in seconds for the first run of the <code>inspec</code> client. Default is <code>0</code>
</dd> <dt>log_level</dt> <dd>Log level for the <code>inspec</code> client. Default is <code>warn</code>
</dd> </dl> <h4 id="effortless-audit-chef-license">Effortless Audit Chef License</h4> <p>This configuration needs to be under the <code>[chef_license]</code> block in the .toml file.</p> <dl> <dt>acceptance</dt> <dd>Determines the Chef license acceptance at run time. This setting is required for chef-client to run successfully. See Chef License <a href="../../chef_license_accept/index.html#accepting-the-chef-license">here</a>. Default is <code>undefined</code>
</dd> </dl> <h4 id="effortless-audit-chef-automate">Effortless Audit Chef Automate</h4> <p>These configurations need to be under the <code>[automate]</code> block in your toml file.</p> <dl> <dt>enable</dt> <dd>Enables or disables reporting to Chef Automate. Boolean. Default is <code>false</code>
</dd> <dt>server_url</dt> <dd>The Chef Automate server URL. Example: <code>https://automate.example.com/data-collector/v0/</code>. Default is <code>https://&lt;automate_url&gt;</code>
</dd> <dt>token</dt> <dd>Chef Automate API token. Example: <code>GR4_yqRNUtWFVgnVh57GQL9Hh9I=</code>. Default is <code>&lt;automate_token&gt;</code>
</dd> <dt>environment</dt> <dd>(Optional) Environment tag for the Chef InSpec report. Use this tag to help with filtering in Chef Automate.</dd> </dl> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/effortless/variables_and_config/" class="_attribution-link">https://docs.chef.io/effortless/variables_and_config/</a>
  </p>
</div>
