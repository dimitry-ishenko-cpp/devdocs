<div id="col-content" data-swiftype-index="true"> <div id="deprecation-some-attribute-methods-chef-4"><h1>Deprecation: Some Attribute Methods (CHEF-4)</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/chef-web-docs/blob/main/content/deprecations_attributes.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>We are continuously improving and streamlining the way attributes work in Chef, to make it easier for users to reason about and safely configure their servers.</p> <p>This page documents many deprecations over the course of many Chef releases.</p> <h2 id="method-access">Method Access</h2> <p>Setting and accessing node attributes has been standardized on “bracket” syntax. The older “method” syntax is deprecated and will be removed in Chef Client 13.</p> <p>Removal: Chef Client 13</p> <h3 id="example">Example</h3> <p>Both lines in the example will cause separate deprecation warnings.</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>chef<span style="color:#666">.</span>server <span style="color:#666">=</span> <span style="color:#4070a0">'https://my.chef.server'</span>
chef_server <span style="color:#666">=</span> node<span style="color:#666">.</span>chef<span style="color:#666">.</span>server
</code></pre></div>
<h3 id="remediation">Remediation</h3> <p>Convert method syntax to bracket syntax by using brackets to denote attribute names. The code below is identical in function to the example above:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">[</span><span style="color:#4070a0">'chef'</span><span style="color:#666">][</span><span style="color:#4070a0">'server'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'https://my.chef.server'</span>
chef_server <span style="color:#666">=</span> node<span style="color:#666">[</span><span style="color:#4070a0">'chef'</span><span style="color:#666">][</span><span style="color:#4070a0">'server'</span><span style="color:#666">]</span>
</code></pre></div>
<h2 id="set-and-set_unless">Set and Set_Unless</h2> <p>Setting node attributes with <code>set</code> or <code>set_unless</code> has been deprecated in favor of explicitly setting the precedence level. These methods will be removed in Chef Client 14.</p> <p>Removal: Chef Client 14</p> <h3 id="example-1">Example</h3> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>set<span style="color:#666">[</span><span style="color:#4070a0">'chef'</span><span style="color:#666">][</span><span style="color:#4070a0">'server'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'https://my.chef.server'</span>
node<span style="color:#666">.</span>set_unless<span style="color:#666">[</span><span style="color:#4070a0">'chef'</span><span style="color:#666">][</span><span style="color:#4070a0">'server'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'https://my.chef.server'</span>
</code></pre></div>
<h3 id="remediation-1">Remediation</h3> <p>Choose the appropriate <a href="../attributes/index.html#attribute-precedence">precedence level</a>, then replace <code>set</code> with that precedence level.</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default<span style="color:#666">[</span><span style="color:#4070a0">'chef'</span><span style="color:#666">][</span><span style="color:#4070a0">'server'</span><span style="color:#666">]</span> <span style="color:#666">=</span>  <span style="color:#4070a0">'https://my.chef.server'</span>
node<span style="color:#666">.</span>default_unless<span style="color:#666">[</span><span style="color:#4070a0">'chef'</span><span style="color:#666">][</span><span style="color:#4070a0">'server'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'https://my.chef.server'</span>
</code></pre></div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/deprecations_attributes/" class="_attribution-link">https://docs.chef.io/deprecations_attributes/</a>
  </p>
</div>
