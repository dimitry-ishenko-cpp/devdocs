<div id="col-content" data-swiftype-index="true"> <div id="attribute-precedence"><h1>Attribute Precedence</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/chef-web-docs/blob/main/content/attribute_precedence.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Chef Infra Client applies attributes in the following order:</p> <table> <col style="width:15%"> <col style="width:20%"> <col style="width:30%"> <thead> <tr> <th>Application Order (Last One Wins)</th> <th>Attribute Type</th> <th>Source Order</th> </tr> </thead> <tbody> <tr> <td>1</td> <td><code>`default`</code></td> <td>Cookbook attribute file<br>Recipe<br>Environment<br>Role</td> </tr> <tr> <td>2</td> <td><code>`force_default`</code></td> <td>Cookbook attribute file<br>Recipe</td> </tr> <tr> <td>3</td> <td><code>`normal`</code></td> <td>JSON file passed with <code>`chef-client -j`</code><br>Cookbook attribute file<br>Recipe</td> </tr> <tr> <td>4</td> <td><code>`override`</code></td> <td>Cookbook attribute file<br>Recipe<br>Role<br>Environment</td> </tr> <tr> <td>5</td> <td><code>`force_override`</code></td> <td>Cookbook attribute file<br>Recipe</td> </tr> <tr> <td>6</td> <td><code>`automatic`</code></td> <td>Identified by Ohai at the start of a Chef Infra Client Run</td> </tr> </tbody> </table> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> <p>The attribute precedence order for the sources “roles” and “environments” are opposite in the <code>default</code> and <code>override</code>. The <code>default</code> order is <strong>environment</strong> then <strong>role</strong>. The <code>override</code> order is <strong>role</strong> then <strong>environment</strong></p> <p>Applying the role <code>override</code> first lets you use the same role in a set of environments. Applying the environment <code>override</code> on top of the role <code>override</code> lets you define a subset of these with environment-specific settings.</p> <p>This is useful if you have an environment that is different within a sub-set of a role. For example, the role for an application server may exist in all environments, but one environment may use a different database server.</p> </div> </div> <p>Attribute precedence, viewed from the same perspective as the overview diagram, where the numbers in the diagram match the order of attribute precedence:</p> <p><img src="data:image/png;base64,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" alt="image"></p> <p>Attribute precedence, when viewed as a table:</p> <p><img src="data:image/png;base64,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" alt="image"></p> <h2 id="examples">Examples</h2> <p>The following examples are listed from low to high precedence.</p> <p><strong>Default attribute in /attributes/default.rb</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">default<span style="color:#666">[</span><span style="color:#4070a0">'apache'</span><span style="color:#666">][</span><span style="color:#4070a0">'dir'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'/etc/apache2'</span>
</code></pre></div>
<p><strong>Default attribute in node object in recipe</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default<span style="color:#666">[</span><span style="color:#4070a0">'apache'</span><span style="color:#666">][</span><span style="color:#4070a0">'dir'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'/etc/apache2'</span>
</code></pre></div>
<p><strong>Default attribute in /environments/environment_name.rb</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">default_attributes({ <span style="color:#4070a0">'apache'</span> <span style="color:#666">=&gt;</span> {<span style="color:#4070a0">'dir'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'/etc/apache2'</span>}})
</code></pre></div>
<p><strong>Default attribute in /roles/role_name.rb</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">default_attributes({ <span style="color:#4070a0">'apache'</span> <span style="color:#666">=&gt;</span> {<span style="color:#4070a0">'dir'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'/etc/apache2'</span>}})
</code></pre></div>
<p><strong>Normal attribute set as a cookbook attribute</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">normal<span style="color:#666">[</span><span style="color:#4070a0">'apache'</span><span style="color:#666">][</span><span style="color:#4070a0">'dir'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'/etc/apache2'</span>
</code></pre></div>
<p><strong>Normal attribute set in a recipe</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>normal<span style="color:#666">[</span><span style="color:#4070a0">'apache'</span><span style="color:#666">][</span><span style="color:#4070a0">'dir'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'/etc/apache2'</span>
</code></pre></div>
<p><strong>Override attribute in /attributes/default.rb</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">override<span style="color:#666">[</span><span style="color:#4070a0">'apache'</span><span style="color:#666">][</span><span style="color:#4070a0">'dir'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'/etc/apache2'</span>
</code></pre></div>
<p><strong>Override attribute in /roles/role_name.rb</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">override_attributes({ <span style="color:#4070a0">'apache'</span> <span style="color:#666">=&gt;</span> {<span style="color:#4070a0">'dir'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'/etc/apache2'</span>}})
</code></pre></div>
<p><strong>Override attribute in /environments/environment_name.rb</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">override_attributes({ <span style="color:#4070a0">'apache'</span> <span style="color:#666">=&gt;</span> {<span style="color:#4070a0">'dir'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'/etc/apache2'</span>}})
</code></pre></div>
<p><strong>Override attribute in a node object (from a recipe)</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>override<span style="color:#666">[</span><span style="color:#4070a0">'apache'</span><span style="color:#666">][</span><span style="color:#4070a0">'dir'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'/etc/apache2'</span>
</code></pre></div>
<p><strong>Ensure that a default attribute has precedence over other attributes</strong></p> <p>When a default attribute is set like this:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">default<span style="color:#666">[</span><span style="color:#4070a0">'attribute'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'value'</span>
</code></pre></div>
<p>any value set by a role or an environment will replace it. To prevent this value from being replaced, use the <code>force_default</code> attribute precedence:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">force_default<span style="color:#666">[</span><span style="color:#4070a0">'attribute'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'I will crush you, role or environment attribute'</span>
</code></pre></div>
<p>or:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">default!<span style="color:#666">[</span><span style="color:#4070a0">'attribute'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">"The '!' means I win!"</span>
</code></pre></div>
<p><strong>Ensure that an override attribute has precedence over other attributes</strong></p> <p>When an override attribute is set like this:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">override<span style="color:#666">[</span><span style="color:#4070a0">'attribute'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'value'</span>
</code></pre></div>
<p>any value set by a role or an environment will replace it. To prevent this value from being replaced, use the <code>force_override</code> attribute precedence:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">force_override<span style="color:#666">[</span><span style="color:#4070a0">'attribute'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'I will crush you, role or environment attribute'</span>
</code></pre></div>
<p>or:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">override!<span style="color:#666">[</span><span style="color:#4070a0">'attribute'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">"The '!' means I win!"</span>
</code></pre></div>
<h2 id="change-attributes">Change Attributes</h2> <p>Attribute precedence levels may be:</p> <ul> <li>Removed for a specific, named attribute precedence level.</li> <li>Removed for all attribute precedence levels.</li> <li>Fully assigned attributes.</li> </ul> <h3 id="remove-precedence-level">Remove Precedence Level</h3> <p>A specific attribute precedence level for default, normal, and override attributes may be removed by using one of the following syntax patterns.</p> <p>For default attributes:</p> <ul> <li><code>node.rm_default('foo', 'bar')</code></li> </ul> <p>For normal attributes:</p> <ul> <li><code>node.rm_normal('foo', 'bar')</code></li> </ul> <p>For override attributes:</p> <ul> <li><code>node.rm_override('foo', 'bar')</code></li> </ul> <p>These patterns return the computed value of the key being deleted for the specified precedence level.</p> <h4 id="examples-1">Examples</h4> <p>The following examples show how to remove a specific, named attribute precedence level.</p> <p><strong>Delete a default value when only default values exist</strong></p> <p>Given the following code structure under <code>'foo'</code>:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {
  <span style="color:#4070a0">'bar'</span> <span style="color:#666">=&gt;</span> {
    <span style="color:#4070a0">'baz'</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">52</span>,
    <span style="color:#4070a0">'thing'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'stuff'</span>,
  },
  <span style="color:#4070a0">'bat'</span> <span style="color:#666">=&gt;</span> {
    <span style="color:#4070a0">'things'</span> <span style="color:#666">=&gt;</span> <span style="color:#666">[</span><span style="color:#40a070">5</span>, <span style="color:#40a070">6</span><span style="color:#666">]</span>,
  },
}
</code></pre></div>
<p>And some role attributes:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#60a0b0;font-style:italic"># Please don't ever do this in real code :)</span>
node<span style="color:#666">.</span>role_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'thing'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'otherstuff'</span>
</code></pre></div>
<p>And a force attribute:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>force_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'thing'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'allthestuff'</span>
</code></pre></div>
<p>When the default attribute precedence <code>node['foo']['bar']</code> is removed:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>rm_default(<span style="color:#4070a0">'foo'</span>, <span style="color:#4070a0">'bar'</span>) <span style="color:#60a0b0;font-style:italic">#=&gt; {'baz' =&gt; 52, 'thing' =&gt; 'allthestuff'}</span>
</code></pre></div>
<p>What is left under <code>'foo'</code> is only <code>'bat'</code>:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>attributes<span style="color:#666">.</span>combined_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bat' =&gt; { 'things' =&gt; [5,6] } }</span>
</code></pre></div>
<p><strong>Delete default without touching higher precedence attributes</strong></p> <p>Given the following code structure:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {
  <span style="color:#4070a0">'bar'</span> <span style="color:#666">=&gt;</span> {
    <span style="color:#4070a0">'baz'</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">52</span>,
    <span style="color:#4070a0">'thing'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'stuff'</span>,
  },
  <span style="color:#4070a0">'bat'</span> <span style="color:#666">=&gt;</span> {
    <span style="color:#4070a0">'things'</span> <span style="color:#666">=&gt;</span> <span style="color:#666">[</span><span style="color:#40a070">5</span>, <span style="color:#40a070">6</span><span style="color:#666">]</span>,
  },
}
</code></pre></div>
<p>And some role attributes:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#60a0b0;font-style:italic"># Please don't ever do this in real code :)</span>
node<span style="color:#666">.</span>role_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'thing'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'otherstuff'</span>
</code></pre></div>
<p>And a force attribute:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>force_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'thing'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#4070a0">'allthestuff'</span>
</code></pre></div>
<p>And also some override attributes:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>override<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'baz'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#40a070">99</span>
</code></pre></div>
<p>Same delete as before:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>rm_default(<span style="color:#4070a0">'foo'</span>, <span style="color:#4070a0">'bar'</span>) <span style="color:#60a0b0;font-style:italic">#=&gt; { 'baz' =&gt; 52, 'thing' =&gt; 'allthestuff' }</span>
</code></pre></div>
<p>The other attribute precedence levels are unaffected:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>attributes<span style="color:#666">.</span>combined_override<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; { 'bar' =&gt; {'baz' =&gt; 99} }</span>
node<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; { 'bar' =&gt; {'baz' =&gt; 99}, 'bat' =&gt; { 'things' =&gt; [5,6] }</span>
</code></pre></div>
<p><strong>Delete override without touching lower precedence attributes</strong></p> <p>Given the following code structure, which has an override attribute:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>override<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {
  <span style="color:#4070a0">'bar'</span> <span style="color:#666">=&gt;</span> {
    <span style="color:#4070a0">'baz'</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">52</span>,
    <span style="color:#4070a0">'thing'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'stuff'</span>,
  },
  <span style="color:#4070a0">'bat'</span> <span style="color:#666">=&gt;</span> {
    <span style="color:#4070a0">'things'</span> <span style="color:#666">=&gt;</span> <span style="color:#666">[</span><span style="color:#40a070">5</span>, <span style="color:#40a070">6</span><span style="color:#666">]</span>,
  },
}
</code></pre></div>
<p>with a single default value:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'baz'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#40a070">11</span>
</code></pre></div>
<p>and a force at each attribute precedence:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>force_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'baz'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#40a070">55</span>
node<span style="color:#666">.</span>force_override<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'baz'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#40a070">99</span>
</code></pre></div>
<p>Delete the override:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>rm_override(<span style="color:#4070a0">'foo'</span>, <span style="color:#4070a0">'bar'</span>) <span style="color:#60a0b0;font-style:italic">#=&gt; { 'baz' =&gt; 99, 'thing' =&gt; 'stuff' }</span>
</code></pre></div>
<p>The other attribute precedence levels are unaffected:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>attributes<span style="color:#666">.</span>combined_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; { 'bar' =&gt; {'baz' =&gt; 55} }</span>
</code></pre></div>
<p><strong>Non-existent key deletes return nil</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>rm_default(<span style="color:#4070a0">"no"</span>, <span style="color:#4070a0">"such"</span>, <span style="color:#4070a0">"thing"</span>) <span style="color:#60a0b0;font-style:italic">#=&gt; nil</span>
</code></pre></div>
<h3 id="remove-all-levels">Remove All Levels</h3> <p>All attribute precedence levels may be removed by using the following syntax pattern:</p> <ul> <li><code>node.rm('foo', 'bar')</code></li> </ul> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> Using <code>node['foo'].delete('bar')</code> will throw an exception that points to the new API. </div> </div> <h4 id="examples-2">Examples</h4> <p>The following examples show how to remove all attribute precedence levels.</p> <p><strong>Delete all attribute precedence levels</strong></p> <p>Given the following code structure:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {
  <span style="color:#4070a0">'bar'</span> <span style="color:#666">=&gt;</span> {
    <span style="color:#4070a0">'baz'</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">52</span>,
    <span style="color:#4070a0">'thing'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'stuff'</span>,
  },
  <span style="color:#4070a0">'bat'</span> <span style="color:#666">=&gt;</span> {
    <span style="color:#4070a0">'things'</span> <span style="color:#666">=&gt;</span> <span style="color:#666">[</span><span style="color:#40a070">5</span>, <span style="color:#40a070">6</span><span style="color:#666">]</span>,
  },
}
</code></pre></div>
<p>With override attributes:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>override<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'baz'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#40a070">999</span>
</code></pre></div>
<p>Removing the <code>'bar'</code> key returns the computed value:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>rm(<span style="color:#4070a0">'foo'</span>, <span style="color:#4070a0">'bar'</span>) <span style="color:#60a0b0;font-style:italic">#=&gt; {'baz' =&gt; 999, 'thing' =&gt; 'stuff'}</span>
</code></pre></div>
<p>Looking at <code>'foo'</code>, all that’s left is the <code>'bat'</code> entry:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bat' =&gt; { 'things' =&gt; [5,6] } }</span>
</code></pre></div>
<p><strong>Non-existent key deletes return nil</strong></p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>rm_default(<span style="color:#4070a0">"no"</span>, <span style="color:#4070a0">"such"</span>, <span style="color:#4070a0">"thing"</span>) <span style="color:#60a0b0;font-style:italic">#=&gt; nil</span>
</code></pre></div>
<h3 id="full-assignment">Full Assignment</h3> <p>Use <code>!</code> to clear out the key for the named attribute precedence level, and then complete the write by using one of the following syntax patterns:</p> <ul> <li><code>node.default!['foo']['bar'] = {...}</code></li> <li><code>node.force_default!['foo']['bar'] = {...}</code></li> <li><code>node.normal!['foo']['bar'] = {...}</code></li> <li><code>node.override!['foo']['bar'] = {...}</code></li> <li><code>node.force_override!['foo']['bar'] = {...}</code></li> </ul> <h4 id="examples-3">Examples</h4> <p>The following examples show how to remove all attribute precedence levels.</p> <p><strong>Just one component</strong></p> <p>Given the following code structure:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {<span style="color:#4070a0">'a'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'b'</span>}
node<span style="color:#666">.</span>default!<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {<span style="color:#4070a0">'c'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'d'</span>}
</code></pre></div>
<p>The <code>'!'</code> caused the entire ‘bar’ key to be overwritten:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bar' =&gt; {'c' =&gt; 'd'}</span>
</code></pre></div>
<p><strong>Multiple components; one “after”</strong></p> <p>Given the following code structure:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {<span style="color:#4070a0">'a'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'b'</span>}
<span style="color:#60a0b0;font-style:italic"># Please don't ever do this in real code :)</span>
node<span style="color:#666">.</span>role_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {<span style="color:#4070a0">'c'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'d'</span>}
node<span style="color:#666">.</span>default!<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {<span style="color:#4070a0">'d'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'e'</span>}
</code></pre></div>
<p>The <code>'!'</code> write overwrote the “cookbook-default” value of <code>'bar'</code>, but since role data is later in the resolution list, it was unaffected:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bar' =&gt; {'c' =&gt; 'd', 'd' =&gt; 'e'}</span>
</code></pre></div>
<p><strong>Multiple components; all “before”</strong></p> <p>Given the following code structure:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {<span style="color:#4070a0">'a'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'b'</span>}
<span style="color:#60a0b0;font-style:italic"># Please don't ever do this in real code :)</span>
node<span style="color:#666">.</span>role_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {<span style="color:#4070a0">'c'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'d'</span>}
node<span style="color:#666">.</span>force_default!<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {<span style="color:#4070a0">'d'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'e'</span>}
</code></pre></div>
<p>With <code>force_default!</code> there is no other data under <code>'bar'</code>:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bar' =&gt; {'d' =&gt; 'e'}</span>
</code></pre></div>
<p><strong>Multiple precedence levels</strong></p> <p>Given the following code structure:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {
  <span style="color:#4070a0">'bar'</span> <span style="color:#666">=&gt;</span> {
    <span style="color:#4070a0">'baz'</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">52</span>,
    <span style="color:#4070a0">'thing'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'stuff'</span>,
  },
  <span style="color:#4070a0">'bat'</span> <span style="color:#666">=&gt;</span> {
   <span style="color:#4070a0">'things'</span> <span style="color:#666">=&gt;</span> <span style="color:#666">[</span><span style="color:#40a070">5</span>, <span style="color:#40a070">6</span><span style="color:#666">]</span>,
  },
}
</code></pre></div>
<p>And some attributes:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#60a0b0;font-style:italic"># Please don't ever do this in real code :)</span>
node<span style="color:#666">.</span>role_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'baz'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#40a070">55</span>
node<span style="color:#666">.</span>force_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'baz'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#40a070">66</span>
</code></pre></div>
<p>And other precedence levels:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>normal<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'baz'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#40a070">88</span>
node<span style="color:#666">.</span>override<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">][</span><span style="color:#4070a0">'baz'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#40a070">99</span>
</code></pre></div>
<p>With a full assignment:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>default!<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {}
</code></pre></div>
<p>Role default and force default are left in default, plus other precedence levels:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>attributes<span style="color:#666">.</span>combined_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bar' =&gt; {'baz' =&gt; 66}, 'bat'=&gt;{'things'=&gt;[5, 6]}}</span>
node<span style="color:#666">.</span>attributes<span style="color:#666">.</span>normal<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bar' =&gt; {'baz' =&gt; 88}}</span>
node<span style="color:#666">.</span>attributes<span style="color:#666">.</span>combined_override<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bar' =&gt; {'baz' =&gt; 99}}</span>
node<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'baz' =&gt; 99}</span>
</code></pre></div>
<p>If <code>force_default!</code> is written:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>force_default!<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#666">=</span> {}
</code></pre></div>
<p>the difference is:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">.</span>attributes<span style="color:#666">.</span>combined_default<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bat'=&gt;{'things'=&gt;[5, 6]}, 'bar' =&gt; {}}</span>
node<span style="color:#666">.</span>attributes<span style="color:#666">.</span>normal<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bar' =&gt; {'baz' =&gt; 88}}</span>
node<span style="color:#666">.</span>attributes<span style="color:#666">.</span>combined_override<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'bar' =&gt; {'baz' =&gt; 99}}</span>
node<span style="color:#666">[</span><span style="color:#4070a0">'foo'</span><span style="color:#666">][</span><span style="color:#4070a0">'bar'</span><span style="color:#666">]</span> <span style="color:#60a0b0;font-style:italic">#=&gt; {'baz' =&gt; 99}</span>
</code></pre></div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/attribute_precedence/" class="_attribution-link">https://docs.chef.io/attribute_precedence/</a>
  </p>
</div>
