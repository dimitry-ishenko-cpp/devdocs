<div id="col-content" data-swiftype-index="true"> <div id="ruby-guide"><h1>Ruby Guide</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/chef-web-docs/blob/main/content/ruby.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Ruby is a simple programming language:</p> <ul> <li>Chef uses Ruby as its reference language to define the patterns that are found in resources, recipes, and cookbooks</li> <li>Use these patterns to configure, deploy, and manage nodes across the network</li> </ul> <p>Ruby is also a powerful and complete programming language:</p> <ul> <li>Use the Ruby programming language to make decisions about what should happen to specific resources and recipes</li> <li>Extend Chef in any manner that your organization requires</li> </ul> <p>To learn more about Ruby, see:</p> <ul> <li><a href="https://www.ruby-lang.org/en/documentation/">Ruby Documentation</a></li> <li><a href="https://www.ruby-doc.org/stdlib/">Ruby Standard Library Documentation</a></li> </ul> <p>Chef Infra Client 15 ships with Ruby 2.6 and Chef Infra Client 16 ships with Ruby 2.7.</p> <h2 id="ruby-basics">Ruby Basics</h2> <p>This section covers the basics of Ruby.</p> <h3 id="verify-syntax">Verify Syntax</h3> <p>Many people who are new to Ruby often find that it doesn’t take very long to get up to speed with the basics. For example, it’s useful to know how to check the syntax of a Ruby file, such as the contents of a cookbook named <code>my_cookbook.rb</code>:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">ruby -c my_cookbook_file.rb
</code></pre></div>
<p>to return:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">Syntax OK
</code></pre></div>
<h3 id="comments">Comments</h3> <p>Use a comment to explain code that exists in a cookbook or recipe. Anything after a <code>#</code> is a comment.</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#60a0b0;font-style:italic"># This is a comment.</span>
</code></pre></div>
<h3 id="local-variables">Local Variables</h3> <p>Assign a local variable:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">x <span style="color:#666">=</span> <span style="color:#40a070">1</span>
</code></pre></div>
<h3 id="math">Math</h3> <p>Do some basic arithmetic:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#40a070">1</span> <span style="color:#666">+</span> <span style="color:#40a070">2</span>           <span style="color:#60a0b0;font-style:italic"># =&gt; 3</span>
<span style="color:#40a070">2</span> <span style="color:#666">*</span> <span style="color:#40a070">7</span>           <span style="color:#60a0b0;font-style:italic"># =&gt; 14</span>
<span style="color:#40a070">5</span> <span style="color:#666">/</span> <span style="color:#40a070">2</span>           <span style="color:#60a0b0;font-style:italic"># =&gt; 2   (because both arguments are whole numbers)</span>
<span style="color:#40a070">5</span> <span style="color:#666">/</span> <span style="color:#40a070">2</span><span style="color:#666">.</span><span style="color:#40a070">0</span>         <span style="color:#60a0b0;font-style:italic"># =&gt; 2.5 (because one of the numbers had a decimal place)</span>
<span style="color:#40a070">1</span> <span style="color:#666">+</span> (<span style="color:#40a070">2</span> <span style="color:#666">*</span> <span style="color:#40a070">3</span>)     <span style="color:#60a0b0;font-style:italic"># =&gt; 7   (you can use parentheses to group expressions)</span>
</code></pre></div>
<h3 id="strings">Strings</h3> <p>Work with strings:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#4070a0">'single quoted'</span>   <span style="color:#60a0b0;font-style:italic"># =&gt; "single quoted"</span>
<span style="color:#4070a0">"double quoted"</span>   <span style="color:#60a0b0;font-style:italic"># =&gt; "double quoted"</span>
<span style="color:#4070a0">'It\'s alive!'</span>    <span style="color:#60a0b0;font-style:italic"># =&gt; "It's alive!" (the \ is an escape character)</span>
<span style="color:#4070a0">'1 + 2 = 5'</span>       <span style="color:#60a0b0;font-style:italic"># =&gt; "1 + 2 = 5" (numbers surrounded by quotes behave like strings)</span>
</code></pre></div>
<p>Convert a string to uppercase or lowercase. For example, a hostname named “Foo”:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">node<span style="color:#666">[</span><span style="color:#4070a0">'hostname'</span><span style="color:#666">].</span>downcase    <span style="color:#60a0b0;font-style:italic"># =&gt; "foo"</span>
node<span style="color:#666">[</span><span style="color:#4070a0">'hostname'</span><span style="color:#666">].</span>upcase      <span style="color:#60a0b0;font-style:italic"># =&gt; "FOO"</span>
</code></pre></div>
<h4 id="ruby-in-strings">Ruby in Strings</h4> <p>Embed Ruby in a string:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">x <span style="color:#666">=</span> <span style="color:#4070a0">'Bob'</span>
<span style="color:#4070a0">"Hi, </span><span style="color:#70a0d0;font-style:italic">#{</span>x<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">"</span>      <span style="color:#60a0b0;font-style:italic"># =&gt; "Hi, Bob"</span>
<span style="color:#4070a0">'Hello, #{x}'</span>   <span style="color:#60a0b0;font-style:italic"># =&gt; "Hello, \#{x}" Notice that single quotes don't work with #{}</span>
</code></pre></div>
<h4 id="escape-character">Escape Character</h4> <p>Use the backslash character (<code>\</code>) as an escape character when quotes must appear within strings. However, you do not need to escape single quotes inside double quotes. For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#4070a0">'It\'s alive!'</span>                        <span style="color:#60a0b0;font-style:italic"># =&gt; "It's alive!"</span>
<span style="color:#4070a0">"Won</span><span style="color:#4070a0;font-weight:700">\'</span><span style="color:#4070a0">t you read Grant</span><span style="color:#4070a0;font-weight:700">\'</span><span style="color:#4070a0">s book?"</span>      <span style="color:#60a0b0;font-style:italic"># =&gt; "Won't you read Grant's book?"</span>
</code></pre></div>
<h4 id="interpolation">Interpolation</h4> <p>When strings have quotes within quotes, use double quotes (<code>" "</code>) on the outer quotes, and then single quotes (<code>' '</code>) for the inner quotes. For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">Log</span><span style="color:#666">.</span>info(<span style="color:#4070a0">"Loaded from aws[</span><span style="color:#70a0d0;font-style:italic">#{</span>aws<span style="color:#666">[</span><span style="color:#4070a0">'id'</span><span style="color:#666">]</span><span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">]"</span>)
</code></pre></div>
<div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#4070a0">"node['mysql']['secretpath']"</span>
</code></pre></div>
<div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#4070a0">"</span><span style="color:#70a0d0;font-style:italic">#{</span><span style="color:#60add5">ENV</span><span style="color:#666">[</span><span style="color:#4070a0">'HOME'</span><span style="color:#666">]</span><span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">/chef.txt"</span>
</code></pre></div>
<div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">antarctica_hint <span style="color:#666">=</span> hint?(<span style="color:#4070a0">'antarctica'</span>)
<span style="color:#007020;font-weight:700">if</span> antarctica_hint<span style="color:#666">[</span><span style="color:#4070a0">'snow'</span><span style="color:#666">]</span>
  <span style="color:#4070a0">"There are </span><span style="color:#70a0d0;font-style:italic">#{</span>antarctica_hint<span style="color:#666">[</span><span style="color:#4070a0">'penguins'</span><span style="color:#666">]</span><span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0"> penguins here."</span>
<span style="color:#007020;font-weight:700">else</span>
  <span style="color:#4070a0">'There is no snow here, and penguins like snow.'</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h3 id="truths">Truths</h3> <p>Work with basic truths:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020">true</span>            <span style="color:#60a0b0;font-style:italic"># =&gt; true</span>
<span style="color:#007020">false</span>           <span style="color:#60a0b0;font-style:italic"># =&gt; false</span>
<span style="color:#007020">nil</span>             <span style="color:#60a0b0;font-style:italic"># =&gt; nil</span>
<span style="color:#40a070">0</span>               <span style="color:#60a0b0;font-style:italic"># =&gt; true ( the only false values in Ruby are false</span>
                <span style="color:#60a0b0;font-style:italic">#    and nil; in other words: if it exists in Ruby,</span>
                <span style="color:#60a0b0;font-style:italic">#    even if it exists as zero, then it is true.)</span>
<span style="color:#40a070">1</span> <span style="color:#666">==</span> <span style="color:#40a070">1</span>          <span style="color:#60a0b0;font-style:italic"># =&gt; true ( == tests for equality )</span>
<span style="color:#40a070">1</span> <span style="color:#666">==</span> <span style="color:#007020">true</span>       <span style="color:#60a0b0;font-style:italic"># =&gt; false ( == tests for equality )</span>
</code></pre></div>
<h4 id="untruths">Untruths</h4> <p>Work with basic untruths (<code>!</code> means not!):</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#666">!</span><span style="color:#007020">true</span>           <span style="color:#60a0b0;font-style:italic"># =&gt; false</span>
<span style="color:#666">!</span><span style="color:#007020">false</span>          <span style="color:#60a0b0;font-style:italic"># =&gt; true</span>
<span style="color:#666">!</span><span style="color:#007020">nil</span>            <span style="color:#60a0b0;font-style:italic"># =&gt; true</span>
<span style="color:#40a070">1</span> <span style="color:#666">!=</span> <span style="color:#40a070">2</span>          <span style="color:#60a0b0;font-style:italic"># =&gt; true (1 is not equal to 2)</span>
<span style="color:#40a070">1</span> <span style="color:#666">!=</span> <span style="color:#40a070">1</span>          <span style="color:#60a0b0;font-style:italic"># =&gt; false (1 is not equal to itself)</span>
</code></pre></div>
<h4 id="convert-truths">Convert Truths</h4> <p>Convert something to either true or false (<code>!!</code> means not not!!):</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#666">!!</span><span style="color:#007020">true</span>          <span style="color:#60a0b0;font-style:italic"># =&gt; true</span>
<span style="color:#666">!!</span><span style="color:#007020">false</span>         <span style="color:#60a0b0;font-style:italic"># =&gt; false</span>
<span style="color:#666">!!</span><span style="color:#007020">nil</span>           <span style="color:#60a0b0;font-style:italic"># =&gt; false (when pressed, nil is false)</span>
<span style="color:#666">!!</span><span style="color:#40a070">0</span>             <span style="color:#60a0b0;font-style:italic"># =&gt; true (zero is NOT false).</span>
</code></pre></div>
<h3 id="arrays">Arrays</h3> <p>Create lists using arrays:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">x <span style="color:#666">=</span> <span style="color:#666">[</span><span style="color:#4070a0">'a'</span>, <span style="color:#4070a0">'b'</span>, <span style="color:#4070a0">'c'</span><span style="color:#666">]</span>   <span style="color:#60a0b0;font-style:italic"># =&gt; ["a", "b", "c"]</span>
x<span style="color:#666">[</span><span style="color:#40a070">0</span><span style="color:#666">]</span>                  <span style="color:#60a0b0;font-style:italic"># =&gt; "a" (zero is the first index)</span>
x<span style="color:#666">.</span>first               <span style="color:#60a0b0;font-style:italic"># =&gt; "a" (see?)</span>
x<span style="color:#666">.</span>last                <span style="color:#60a0b0;font-style:italic"># =&gt; "c"</span>
x <span style="color:#666">+</span> <span style="color:#666">[</span><span style="color:#4070a0">'d'</span><span style="color:#666">]</span>             <span style="color:#60a0b0;font-style:italic"># =&gt; ["a", "b", "c", "d"]</span>
x                     <span style="color:#60a0b0;font-style:italic"># =&gt; ["a", "b", "c"] ( x is unchanged)</span>
x <span style="color:#666">=</span> x <span style="color:#666">+</span> <span style="color:#666">[</span><span style="color:#4070a0">'d'</span><span style="color:#666">]</span>         <span style="color:#60a0b0;font-style:italic"># =&gt; ["a", "b", "c", "d"]</span>
x                     <span style="color:#60a0b0;font-style:italic"># =&gt; ["a", "b", "c", "d"]</span>
</code></pre></div>
<h4 id="whitespace-arrays">Whitespace Arrays</h4> <p>The <code>%w</code> syntax is a Ruby shortcut for creating an array without requiring quotes and commas around the elements.</p> <p>For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020;font-weight:700">if</span> <span style="color:#c65d09">%w(debian ubuntu)</span><span style="color:#666">.</span>include?(node<span style="color:#666">[</span><span style="color:#4070a0">'platform'</span><span style="color:#666">]</span>)
  <span style="color:#60a0b0;font-style:italic"># do debian/ubuntu things with the Ruby array %w() shortcut</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<p>When <code>%w</code> syntax uses a variable, such as <code>|foo|</code>, double quoted strings should be used.</p> <p>Right:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#c65d09">%w(openssl.cnf pkitool vars Rakefile)</span><span style="color:#666">.</span>each <span style="color:#007020;font-weight:700">do</span> <span style="color:#666">|</span>foo<span style="color:#666">|</span>
  template <span style="color:#4070a0">"/etc/openvpn/easy-rsa/</span><span style="color:#70a0d0;font-style:italic">#{</span>foo<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">"</span> <span style="color:#007020;font-weight:700">do</span>
    source <span style="color:#4070a0">"</span><span style="color:#70a0d0;font-style:italic">#{</span>foo<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">.erb"</span>
    <span style="color:#666">...</span>
  <span style="color:#007020;font-weight:700">end</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<p>Wrong:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#c65d09">%w(openssl.cnf pkitool vars Rakefile)</span><span style="color:#666">.</span>each <span style="color:#007020;font-weight:700">do</span> <span style="color:#666">|</span>foo<span style="color:#666">|</span>
  template <span style="color:#4070a0">'/etc/openvpn/easy-rsa/#{foo}'</span> <span style="color:#007020;font-weight:700">do</span>
    source <span style="color:#4070a0">'#{foo}.erb'</span>
    <span style="color:#666">...</span>
  <span style="color:#007020;font-weight:700">end</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h5 id="example">Example</h5> <p>WiX includes several tools – such as <code>candle</code> (preprocesses and compiles source files into object files), <code>light</code> (links and binds object files to an installer database), and <code>heat</code> (harvests files from various input formats). The following example uses a whitespace array and the Chef InSpec <code>file</code> audit resource to verify if these three tools are present:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#c65d09">%w(
</span><span style="color:#c65d09">  candle.exe
</span><span style="color:#c65d09">  heat.exe
</span><span style="color:#c65d09">  light.exe
</span><span style="color:#c65d09">)</span><span style="color:#666">.</span>each <span style="color:#007020;font-weight:700">do</span> <span style="color:#666">|</span>utility<span style="color:#666">|</span>
  describe file(<span style="color:#4070a0">"C:/wix/</span><span style="color:#70a0d0;font-style:italic">#{</span>utility<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">"</span>) <span style="color:#007020;font-weight:700">do</span>
    it { should be_file }
  <span style="color:#007020;font-weight:700">end</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h3 id="hash">Hash</h3> <p>A Hash is a list with keys and values. Sometimes hashes don’t have a set order:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">h <span style="color:#666">=</span> {
  <span style="color:#4070a0">'first_name'</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'Bob'</span>,
  <span style="color:#4070a0">'last_name'</span>  <span style="color:#666">=&gt;</span> <span style="color:#4070a0">'Jones'</span>,
}
</code></pre></div>
<p>And sometimes they do. For example, first name then last name:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">h<span style="color:#666">.</span>keys              <span style="color:#60a0b0;font-style:italic"># =&gt; ["first_name", "last_name"]</span>
h<span style="color:#666">[</span><span style="color:#4070a0">'first_name'</span><span style="color:#666">]</span>     <span style="color:#60a0b0;font-style:italic"># =&gt; "Bob"</span>
h<span style="color:#666">[</span><span style="color:#4070a0">'last_name'</span><span style="color:#666">]</span>      <span style="color:#60a0b0;font-style:italic"># =&gt; "Jones"</span>
h<span style="color:#666">[</span><span style="color:#4070a0">'age'</span><span style="color:#666">]</span> <span style="color:#666">=</span> <span style="color:#40a070">23</span>
h<span style="color:#666">.</span>keys              <span style="color:#60a0b0;font-style:italic"># =&gt; ["first_name", "age", "last_name"]</span>
h<span style="color:#666">.</span>values            <span style="color:#60a0b0;font-style:italic"># =&gt; ["Jones", "Bob", 23]</span>
</code></pre></div>
<h3 id="regular-expressions">Regular Expressions</h3> <p>Use Perl-style regular expressions:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#4070a0">'I believe'</span>  <span style="color:#666">=~</span> <span style="color:#235388">/I/</span>                       <span style="color:#60a0b0;font-style:italic"># =&gt; 0 (matches at the first character)</span>
<span style="color:#4070a0">'I believe'</span>  <span style="color:#666">=~</span> <span style="color:#235388">/lie/</span>                     <span style="color:#60a0b0;font-style:italic"># =&gt; 4 (matches at the 5th character)</span>
<span style="color:#4070a0">'I am human'</span> <span style="color:#666">=~</span> <span style="color:#235388">/bacon/</span>                   <span style="color:#60a0b0;font-style:italic"># =&gt; nil (no match - bacon comes from pigs)</span>
<span style="color:#4070a0">'I am human'</span> <span style="color:#666">!~</span> <span style="color:#235388">/bacon/</span>                   <span style="color:#60a0b0;font-style:italic"># =&gt; true (correct, no bacon here)</span>
<span style="color:#235388">/give me a ([0-9]+)/</span> <span style="color:#666">=~</span> <span style="color:#4070a0">'give me a 7'</span>     <span style="color:#60a0b0;font-style:italic"># =&gt; 0 (matched)</span>
</code></pre></div>
<h3 id="statements">Statements</h3> <p>Use conditions! For example, an <code>if</code> statement</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020;font-weight:700">if</span> <span style="color:#007020">false</span>
  <span style="color:#60a0b0;font-style:italic"># this won't happen</span>
<span style="color:#007020;font-weight:700">elsif</span> <span style="color:#007020">nil</span>
  <span style="color:#60a0b0;font-style:italic"># this won't either</span>
<span style="color:#007020;font-weight:700">else</span>
  <span style="color:#60a0b0;font-style:italic"># code here will run though</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<p>or a <code>case</code> statement:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">x <span style="color:#666">=</span> <span style="color:#4070a0">'dog'</span>
<span style="color:#007020;font-weight:700">case</span> x
<span style="color:#007020;font-weight:700">when</span> <span style="color:#4070a0">'fish'</span>
 <span style="color:#60a0b0;font-style:italic"># this won't happen</span>
<span style="color:#007020;font-weight:700">when</span> <span style="color:#4070a0">'dog'</span>, <span style="color:#4070a0">'cat'</span>, <span style="color:#4070a0">'monkey'</span>
  <span style="color:#60a0b0;font-style:italic"># this will run</span>
<span style="color:#007020;font-weight:700">else</span>
  <span style="color:#60a0b0;font-style:italic"># the else is an optional catch-all</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h4 id="if">if</h4> <p>An <code>if</code> statement can be used to specify part of a recipe to be used when certain conditions are met. <code>else</code> and <code>elsif</code> statements can be used to handle situations where either the initial condition is not met or when there are other possible conditions that can be met. Since this behavior is 100% Ruby, do this in a recipe the same way here as anywhere else.</p> <p>For example, using an <code>if</code> statement with the <code>platform</code> node attribute:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020;font-weight:700">if</span> node<span style="color:#666">[</span><span style="color:#4070a0">'platform'</span><span style="color:#666">]</span> <span style="color:#666">==</span> <span style="color:#4070a0">'ubuntu'</span>
  <span style="color:#60a0b0;font-style:italic"># do ubuntu things</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h5 id="if-modifier">if modifier</h5> <p><code>if</code> can be used as a modifier that executes the left side of an expression if the right side of the expression is true. The <code>if</code> modifier expression must be a single line, and <code>else</code> and <code>elsif</code> statements are not supported.</p> <p>In the following example, the <code>do_ubuntu_thing</code> function will execute if the platform on a node is Ubuntu.</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">do_ubuntu_thing <span style="color:#007020;font-weight:700">if</span> platform?(<span style="color:#4070a0">'ubuntu'</span>)
</code></pre></div>
<h4 id="case">case</h4> <p>A <code>case</code> statement can be used to handle a situation where there are a lot of conditions. Use the <code>when</code> statement for each condition, as many as are required.</p> <p>For example, using a <code>case</code> statement with the <code>platform</code> node attribute:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020;font-weight:700">case</span> node<span style="color:#666">[</span><span style="color:#4070a0">'platform'</span><span style="color:#666">]</span>
<span style="color:#007020;font-weight:700">when</span> <span style="color:#4070a0">'debian'</span>, <span style="color:#4070a0">'ubuntu'</span>
  <span style="color:#60a0b0;font-style:italic"># do debian/ubuntu things</span>
<span style="color:#007020;font-weight:700">when</span> <span style="color:#4070a0">'redhat'</span>, <span style="color:#4070a0">'centos'</span>, <span style="color:#4070a0">'fedora'</span>
  <span style="color:#60a0b0;font-style:italic"># do redhat/centos/fedora things</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<p>For example, using a <code>case</code> statement with the <code>platform_family</code> node attribute:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020;font-weight:700">case</span> node<span style="color:#666">[</span><span style="color:#4070a0">'platform_family'</span><span style="color:#666">]</span>
<span style="color:#007020;font-weight:700">when</span> <span style="color:#4070a0">'debian'</span>
  <span style="color:#60a0b0;font-style:italic"># do things on debian-ish platforms (debian, ubuntu, linuxmint)</span>
<span style="color:#007020;font-weight:700">when</span> <span style="color:#4070a0">'rhel'</span>
  <span style="color:#60a0b0;font-style:italic"># do things on RHEL platforms (redhat, centos, scientific, etc)</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h3 id="call-a-method">Call a Method</h3> <p>Call a method on something with <code>.method_name()</code>:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">x <span style="color:#666">=</span> <span style="color:#4070a0">'My String'</span>
x<span style="color:#666">.</span>split(<span style="color:#4070a0">' '</span>)            <span style="color:#60a0b0;font-style:italic"># =&gt; ["My", "String"]</span>
x<span style="color:#666">.</span>split(<span style="color:#4070a0">' '</span>)<span style="color:#666">.</span>join(<span style="color:#4070a0">', '</span>) <span style="color:#60a0b0;font-style:italic"># =&gt; "My, String"</span>
</code></pre></div>
<h3 id="define-a-method">Define a Method</h3> <p>Define a method (or a function, if you like):</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020;font-weight:700">def</span> <span style="color:#06287e">do_something_useless</span>(first_argument, second_argument)
  <span style="color:#007020">puts</span> <span style="color:#4070a0">"You gave me </span><span style="color:#70a0d0;font-style:italic">#{</span>first_argument<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0"> and </span><span style="color:#70a0d0;font-style:italic">#{</span>second_argument<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">"</span>
<span style="color:#007020;font-weight:700">end</span>

do_something_useless(<span style="color:#4070a0">'apple'</span>, <span style="color:#4070a0">'banana'</span>)
<span style="color:#60a0b0;font-style:italic"># =&gt; "You gave me apple and banana"</span>
do_something_useless <span style="color:#40a070">1</span>, <span style="color:#40a070">2</span>
<span style="color:#60a0b0;font-style:italic"># =&gt; "You gave me 1 and 2"</span>
<span style="color:#60a0b0;font-style:italic"># see how the parentheses are optional if there's no confusion about what to do</span>
</code></pre></div>
<h3 id="ruby-class">Ruby Class</h3> <p>Use the Ruby <code>File</code> class in a recipe. Because Chef has the <strong>file</strong> resource, use <code>File</code> to use the Ruby <code>File</code> class. For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">execute <span style="color:#4070a0">'apt-get-update'</span> <span style="color:#007020;font-weight:700">do</span>
  command <span style="color:#4070a0">'apt-get update'</span>
  ignore_failure <span style="color:#007020">true</span>
  not_if { <span style="color:#666">::</span><span style="color:#60add5">File</span><span style="color:#666">.</span>exist?(<span style="color:#4070a0">'/var/lib/apt/periodic/update-success-stamp'</span>) }
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h3 id="include-a-class">Include a Class</h3> <p>Use <code>:include</code> to include another Ruby class. For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#666">::</span><span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">DSL</span><span style="color:#666">::</span><span style="color:#60add5">Recipe</span><span style="color:#666">.</span>include <span style="color:#60add5">MyCookbook</span><span style="color:#666">::</span><span style="color:#60add5">Helpers</span>
</code></pre></div>
<p>In non-Chef Ruby, the syntax is <code>include</code> (without the <code>:</code> prefix), but without the <code>:</code> prefix Chef Infra Client will try to find a provider named <code>include</code>. Using the <code>:</code> prefix tells Chef Infra Client to look for the specified class that follows.</p> <h3 id="include-a-parameter">Include a Parameter</h3> <p>The <code>include?</code> method can be used to ensure that a specific parameter is included before an action is taken. For example, using the <code>include?</code> method to find a specific parameter:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020;font-weight:700">if</span> <span style="color:#c65d09">%w(debian ubuntu)</span><span style="color:#666">.</span>include?(node<span style="color:#666">[</span><span style="color:#4070a0">'platform'</span><span style="color:#666">]</span>)
  <span style="color:#60a0b0;font-style:italic"># do debian/ubuntu things</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<p>or:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020;font-weight:700">if</span> <span style="color:#c65d09">%w(rhel)</span><span style="color:#666">.</span>include?(node<span style="color:#666">[</span><span style="color:#4070a0">'platform_family'</span><span style="color:#666">]</span>)
  <span style="color:#60a0b0;font-style:italic"># do RHEL things</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h2 id="patterns-to-follow">Patterns to Follow</h2> <p>This section covers best practices for cookbook and recipe authoring.</p> <h3 id="git-etiquette">git Etiquette</h3> <p>Although not strictly a Chef style thing, please always ensure your <code>user.name</code> and <code>user.email</code> are set properly in your <code>.gitconfig</code> file.</p> <ul> <li>
<code>user.name</code> should be your given name (e.g., “Julian Dunn”)</li> <li>
<code>user.email</code> should be an actual, working e-mail address</li> </ul> <p>This will prevent commit log entries similar to <code>"guestuser &lt;login@Bobs-Macbook-Pro.local&gt;"</code>, which are unhelpful.</p> <h3 id="use-of-hyphens">Use of Hyphens</h3> <p>Cookbook and custom resource names should contain only alphanumeric characters. A hyphen (<code>-</code>) is a valid character and may be used in cookbook and custom resource names, but it is discouraged. Chef Infra Client will return an error if a hyphen is not converted to an underscore (<code>_</code>) when referencing from a recipe the name of a custom resource in which a hyphen is located.</p> <h3 id="cookbook-naming">Cookbook Naming</h3> <p>Use a short organizational prefix for application cookbooks that are part of your organization. For example, if your organization is named SecondMarket, use <code>sm</code> as a prefix: <code>sm_postgresql</code> or <code>sm_httpd</code>.</p> <h3 id="cookbook-versioning">Cookbook Versioning</h3> <ul> <li>Use semantic versioning when numbering cookbooks.</li> <li>Only upload stable cookbooks from master.</li> <li>Only upload unstable cookbooks from the dev branch. Merge to master and bump the version when stable.</li> <li>Always update CHANGELOG.md with any changes, with the JIRA ticket and a brief description.</li> </ul> <h3 id="naming">Naming</h3> <p>Name things uniformly for their system and component. For example:</p> <ul> <li>attributes: <code>node['foo']['bar']</code>
</li> <li>recipe: <code>foo::bar</code>
</li> <li>role: <code>foo-bar</code>
</li> <li>directories: <code>foo/bar</code> (if specific to component), <code>foo</code> (if not). For example: <code>/var/log/foo/bar</code>.</li> </ul> <p>Name attributes after the recipe in which they are primarily used. e.g. <code>node['postgresql']['server']</code>.</p> <h3 id="parameter-order">Parameter Order</h3> <p>Follow this order for information in each resource declaration:</p> <ul> <li>Source</li> <li>Cookbook</li> <li>Resource ownership</li> <li>Permissions</li> <li>Notifications</li> <li>Action</li> </ul> <p>For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">template <span style="color:#4070a0">'/tmp/foobar.txt'</span> <span style="color:#007020;font-weight:700">do</span>
  source <span style="color:#4070a0">'foobar.txt.erb'</span>
  owner  <span style="color:#4070a0">'someuser'</span>
  group  <span style="color:#4070a0">'somegroup'</span>
  mode   <span style="color:#4070a0">'0644'</span>
  variables(
    <span style="color:#517918">foo</span>: <span style="color:#4070a0">'bar'</span>
  )
  notifies <span style="color:#517918">:reload</span>, <span style="color:#4070a0">'service[whatever]'</span>
  action <span style="color:#517918">:create</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h3 id="file-modes">File Modes</h3> <p>Always specify the file mode with a quoted 3-5 character string that defines the octal mode:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">mode <span style="color:#4070a0">'755'</span>
</code></pre></div>
<div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">mode <span style="color:#4070a0">'0755'</span>
</code></pre></div>
<p>Wrong:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">mode <span style="color:#40a070">755</span>
</code></pre></div>
<h3 id="specify-resource-action">Specify Resource Action?</h3> <p>A resource declaration does not require the action to be specified because Chef Infra Client will apply the default action for a resource automatically if it’s not specified within the resource block. For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">package <span style="color:#4070a0">'monit'</span>
</code></pre></div>
<p>will install the <code>monit</code> package because the <code>:install</code> action is the default action for the <strong>package</strong> resource.</p> <p>However, if readability of code is desired, such as ensuring that a reader understands what the default action is for a custom resource or stating the action for a resource whose default may not be immediately obvious to the reader, specifying the default action is recommended:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">ohai <span style="color:#4070a0">'apache_modules'</span> <span style="color:#007020;font-weight:700">do</span>
  action <span style="color:#517918">:reload</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h3 id="string-quoting">String Quoting</h3> <p>Use single-quoted strings in all situations where the string doesn’t need interpolation.</p> <h4 id="whitespace-arrays-1">Whitespace Arrays</h4> <p>When <code>%w</code> syntax uses a variable, such as <code>|foo|</code>, double quoted strings should be used.</p> <p>Right:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#c65d09">%w(openssl.cnf pkitool vars Rakefile)</span><span style="color:#666">.</span>each <span style="color:#007020;font-weight:700">do</span> <span style="color:#666">|</span>foo<span style="color:#666">|</span>
  template <span style="color:#4070a0">"/etc/openvpn/easy-rsa/</span><span style="color:#70a0d0;font-style:italic">#{</span>foo<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">"</span> <span style="color:#007020;font-weight:700">do</span>
    source <span style="color:#4070a0">"</span><span style="color:#70a0d0;font-style:italic">#{</span>foo<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">.erb"</span>
    <span style="color:#666">...</span>
  <span style="color:#007020;font-weight:700">end</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<p>Wrong:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#c65d09">%w(openssl.cnf pkitool vars Rakefile)</span><span style="color:#666">.</span>each <span style="color:#007020;font-weight:700">do</span> <span style="color:#666">|</span>foo<span style="color:#666">|</span>
  template <span style="color:#4070a0">'/etc/openvpn/easy-rsa/#{foo}'</span> <span style="color:#007020;font-weight:700">do</span>
    source <span style="color:#4070a0">'#{foo}.erb'</span>
    <span style="color:#666">...</span>
  <span style="color:#007020;font-weight:700">end</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h3 id="recipes">Recipes</h3> <p>A recipe should be clean and well-commented. For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#60a0b0;font-style:italic">###########</span>
<span style="color:#60a0b0;font-style:italic"># variables</span>
<span style="color:#60a0b0;font-style:italic">###########</span>

connection_info <span style="color:#666">=</span> {
  <span style="color:#517918">host</span>: <span style="color:#4070a0">'127.0.0.1'</span>,
  <span style="color:#517918">port</span>: <span style="color:#4070a0">'3306'</span>,
  <span style="color:#517918">username</span>: <span style="color:#4070a0">'root'</span>,
  <span style="color:#517918">password</span>: <span style="color:#4070a0">'m3y3sqlr00t'</span>,
}

<span style="color:#60a0b0;font-style:italic">#################</span>
<span style="color:#60a0b0;font-style:italic"># Mysql resources</span>
<span style="color:#60a0b0;font-style:italic">#################</span>

mysql_service <span style="color:#4070a0">'default'</span> <span style="color:#007020;font-weight:700">do</span>
  port <span style="color:#4070a0">'3306'</span>
  initial_root_password <span style="color:#4070a0">'m3y3sqlr00t'</span>
  action <span style="color:#666">[</span><span style="color:#517918">:create</span>, <span style="color:#517918">:start</span><span style="color:#666">]</span>
<span style="color:#007020;font-weight:700">end</span>

mysql_database <span style="color:#4070a0">'wordpress_demo'</span> <span style="color:#007020;font-weight:700">do</span>
  connection connection_info
  action <span style="color:#517918">:create</span>
<span style="color:#007020;font-weight:700">end</span>

mysql_database_user <span style="color:#4070a0">'wordpress_user'</span> <span style="color:#007020;font-weight:700">do</span>
  connection connection_info
  database_name <span style="color:#4070a0">'wordpress_demo'</span>
  password <span style="color:#4070a0">'w0rdpr3ssdem0'</span>
  privileges <span style="color:#666">[</span><span style="color:#517918">:create</span>, <span style="color:#517918">:delete</span>, <span style="color:#517918">:select</span>, <span style="color:#517918">:update</span>, <span style="color:#517918">:insert</span><span style="color:#666">]</span>
  action <span style="color:#517918">:grant</span>
<span style="color:#007020;font-weight:700">end</span>

<span style="color:#60a0b0;font-style:italic">##################</span>
<span style="color:#60a0b0;font-style:italic"># Apache resources</span>
<span style="color:#60a0b0;font-style:italic">##################</span>

httpd_service <span style="color:#4070a0">'default'</span> <span style="color:#007020;font-weight:700">do</span>
  listen_ports <span style="color:#c65d09">%w(80)</span>
  mpm <span style="color:#4070a0">'prefork'</span>
  action <span style="color:#666">[</span><span style="color:#517918">:create</span>, <span style="color:#517918">:start</span><span style="color:#666">]</span>
<span style="color:#007020;font-weight:700">end</span>

httpd_module <span style="color:#4070a0">'php'</span> <span style="color:#007020;font-weight:700">do</span>
  notifies <span style="color:#517918">:restart</span>, <span style="color:#4070a0">'httpd_service[default]'</span>
  action <span style="color:#517918">:create</span>
<span style="color:#007020;font-weight:700">end</span>

<span style="color:#60a0b0;font-style:italic">###############</span>
<span style="color:#60a0b0;font-style:italic"># Php resources</span>
<span style="color:#60a0b0;font-style:italic">###############</span>

package <span style="color:#4070a0">'php-gd'</span> <span style="color:#007020;font-weight:700">do</span>
  action <span style="color:#517918">:install</span>
<span style="color:#007020;font-weight:700">end</span>

package <span style="color:#4070a0">'php-mysql'</span> <span style="color:#007020;font-weight:700">do</span>
  action <span style="color:#517918">:install</span>
<span style="color:#007020;font-weight:700">end</span>

directory <span style="color:#4070a0">'/etc/php.d'</span> <span style="color:#007020;font-weight:700">do</span>
  action <span style="color:#517918">:create</span>
<span style="color:#007020;font-weight:700">end</span>

template <span style="color:#4070a0">'/etc/php.d/mysql.ini'</span> <span style="color:#007020;font-weight:700">do</span>
  source <span style="color:#4070a0">'mysql.ini.erb'</span>
  action <span style="color:#517918">:create</span>
<span style="color:#007020;font-weight:700">end</span>

httpd_config <span style="color:#4070a0">'php'</span> <span style="color:#007020;font-weight:700">do</span>
  source <span style="color:#4070a0">'php.conf.erb'</span>
  notifies <span style="color:#517918">:restart</span>, <span style="color:#4070a0">'httpd_service[default]'</span>
  action <span style="color:#517918">:create</span>
<span style="color:#007020;font-weight:700">end</span>

<span style="color:#60a0b0;font-style:italic">#####################</span>
<span style="color:#60a0b0;font-style:italic"># wordpress resources</span>
<span style="color:#60a0b0;font-style:italic">#####################</span>

directory <span style="color:#4070a0">'/srv/wordpress_demo'</span> <span style="color:#007020;font-weight:700">do</span>
  user <span style="color:#4070a0">'apache'</span>
  recursive <span style="color:#007020">true</span>
  action <span style="color:#517918">:create</span>
<span style="color:#007020;font-weight:700">end</span>

tar_extract <span style="color:#4070a0">'https://wordpress.org/wordpress-4.1.tar.gz'</span> <span style="color:#007020;font-weight:700">do</span>
  target_dir <span style="color:#4070a0">'/srv/wordpress_demo'</span>
  tar_flags <span style="color:#666">[</span><span style="color:#4070a0">'--strip-components 1'</span><span style="color:#666">]</span>
  user <span style="color:#4070a0">'apache'</span>
  creates <span style="color:#4070a0">'/srv/wordpress_demo/index.php'</span>
  action <span style="color:#517918">:extract</span>
<span style="color:#007020;font-weight:700">end</span>

directory <span style="color:#4070a0">'/srv/wordpress_demo/wp-content'</span> <span style="color:#007020;font-weight:700">do</span>
  user <span style="color:#4070a0">'apache'</span>
  action <span style="color:#517918">:create</span>
<span style="color:#007020;font-weight:700">end</span>

httpd_config <span style="color:#4070a0">'wordpress'</span> <span style="color:#007020;font-weight:700">do</span>
  source <span style="color:#4070a0">'wordpress.conf.erb'</span>
  variables(
    <span style="color:#517918">servername</span>: <span style="color:#4070a0">'wordpress'</span>,
    <span style="color:#517918">server_aliases</span>: <span style="color:#c65d09">%w(computers.biz www.computers.biz)</span>,
    <span style="color:#517918">document_root</span>: <span style="color:#4070a0">'/srv/wordpress_demo'</span>
  )
  notifies <span style="color:#517918">:restart</span>, <span style="color:#4070a0">'httpd_service[default]'</span>
  action <span style="color:#517918">:create</span>
<span style="color:#007020;font-weight:700">end</span>

template <span style="color:#4070a0">'/srv/wordpress_demo/wp-config.php'</span> <span style="color:#007020;font-weight:700">do</span>
  source <span style="color:#4070a0">'wp-config.php.erb'</span>
  owner <span style="color:#4070a0">'apache'</span>
  variables(
    <span style="color:#517918">db_name</span>: <span style="color:#4070a0">'wordpress_demo'</span>,
    <span style="color:#517918">db_user</span>: <span style="color:#4070a0">'wordpress_user'</span>,
    <span style="color:#517918">db_password</span>: <span style="color:#4070a0">'w0rdpr3ssdem0'</span>,
    <span style="color:#517918">db_host</span>: <span style="color:#4070a0">'127.0.0.1'</span>,
    <span style="color:#517918">db_prefix</span>: <span style="color:#4070a0">'wp_'</span>,
    <span style="color:#517918">db_charset</span>: <span style="color:#4070a0">'utf8'</span>,
    <span style="color:#517918">auth_key</span>: <span style="color:#4070a0">'You should probably use randomly'</span>,
    <span style="color:#517918">secure_auth_key</span>: <span style="color:#4070a0">'generated strings. These can be hard'</span>,
    <span style="color:#517918">logged_in_key</span>: <span style="color:#4070a0">'coded, pulled from encrypted databags,'</span>,
    <span style="color:#517918">nonce_key</span>: <span style="color:#4070a0">'or a ruby function that accessed an'</span>,
    <span style="color:#517918">auth_salt</span>: <span style="color:#4070a0">'arbitrary data source, such as a password'</span>,
    <span style="color:#517918">secure_auth_salt</span>: <span style="color:#4070a0">'vault. Node attributes could work'</span>,
    <span style="color:#517918">logged_in_salt</span>: <span style="color:#4070a0">'as well, but you take special care'</span>,
    <span style="color:#517918">nonce_salt</span>: <span style="color:#4070a0">'so they are not saved to your chef-server.'</span>,
    <span style="color:#517918">allow_multisite</span>: <span style="color:#4070a0">'false'</span>
  )
  action <span style="color:#517918">:create</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h2 id="cookstyle-linting">Cookstyle Linting</h2> <p>Chef Workstation includes Cookstyle for linting the Ruby-specific and Chef-specific portions of your cookbook code. All cookbooks should pass Cookstyle rules before being uploaded.</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">cookstyle your-cookbook
</code></pre></div>
<p>should return <code>no offenses detected</code></p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/ruby/" class="_attribution-link">https://docs.chef.io/ruby/</a>
  </p>
</div>
