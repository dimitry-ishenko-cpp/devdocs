<div id="col-content" data-swiftype-index="true"> <div id="google_pubsub_topic-resource"><h1>google_pubsub_topic resource</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/inspec/inspec/tree/main/docs-chef-io/content/inspec/resources/google_pubsub_topic.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <h2 id="syntax">Syntax</h2> <p>A <code>google_pubsub_topic</code> is used to test a Google Topic resource</p> <h2 id="examples">Examples</h2> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby">describe google_pubsub_topic(<span style="color:#517918">project</span>: <span style="color:#4070a0">'chef-gcp-inspec'</span>, <span style="color:#007020">name</span>: <span style="color:#4070a0">'inspec-gcp-topic'</span>) <span style="color:#007020;font-weight:700">do</span>
  it { should exist }
<span style="color:#007020;font-weight:700">end</span>

describe google_pubsub_topic(<span style="color:#517918">project</span>: <span style="color:#4070a0">'chef-gcp-inspec'</span>, <span style="color:#007020">name</span>: <span style="color:#4070a0">'nonexistent'</span>) <span style="color:#007020;font-weight:700">do</span>
  it { should_not exist }
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<h2 id="properties">Properties</h2> <p>Properties that can be accessed from the <code>google_pubsub_topic</code> resource:</p> <dl> <dt><code>name</code></dt> <dd>Name of the topic.</dd> <dt><code>kms_key_name</code></dt> <dd>The resource name of the Cloud KMS CryptoKey to be used to protect access to messages published on this topic. Your projectâ€™s PubSub service account (<code>service-{{PROJECT_NUMBER}}@gcp-sa-pubsub.iam.gserviceaccount.com</code>) must have <code>roles/cloudkms.cryptoKeyEncrypterDecrypter</code> to use this feature. The expected format is <code>projects/*/locations/*/keyRings/*/cryptoKeys/*</code>
</dd> <dt><code>labels</code></dt> <dd>A set of key/value label pairs to assign to this Topic.</dd> <dt><code>message_storage_policy</code></dt> <dd>Policy constraining the set of Google Cloud Platform regions where messages published to the topic may be stored. If not present, then no constraints are in effect. <dl> <dt><code>allowed_persistence_regions</code></dt> <dd>A list of IDs of GCP regions where messages that are published to the topic may be persisted in storage. Messages published by publishers running in non-allowed GCP regions (or running outside of GCP altogether) will be routed for storage in one of the allowed regions. An empty list means that no regions are allowed, and is not a valid configuration.</dd> </dl> </dd> </dl> <h2 id="gcp-permissions">GCP Permissions</h2> <p>Ensure the <a href="https://console.cloud.google.com/apis/library/pubsub.googleapis.com/">Cloud Pub/Sub API</a> is enabled for the current project.</p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/inspec/resources/google_pubsub_topic/" class="_attribution-link">https://docs.chef.io/inspec/resources/google_pubsub_topic/</a>
  </p>
</div>
