<div id="col-content" data-swiftype-index="true"> <div id="limits_conf-resource"><h1>limits_conf resource</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/inspec/inspec/tree/main/docs-chef-io/content/inspec/resources/limits_conf.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Use the <code>limits_conf</code> Chef InSpec audit resource to test configuration settings in the <code>/etc/security/limits.conf</code> file. The <code>limits.conf</code> defines limits for processes (by user and/or group names) and helps ensure that the system running those processes remains stable. Each process may be assigned a hard or soft limit.</p> <ul> <li>Soft limits are maintained by the shell and defines the number of file handles (or open files) available to the user or group after login</li> <li>Hard limits are maintained by the kernel and defines the maximum number of allowed file handles</li> </ul> <p>Entries in the <code>limits.conf</code> file are similar to:</p> <pre class="highlight" data-language="ruby"><code>grantmc     soft   nofile   4096
grantmc     hard   nofile   63536

^^^^^^^^^   ^^^^   ^^^^^^   ^^^^^
domain      type    item    value
</code></pre> <h2 id="availability">Availability</h2> <h3 id="installation">Installation</h3> <p>This resource is distributed along with Chef InSpec itself. You can use it automatically.</p> <h3 id="version">Version</h3> <p>This resource first became available in v1.0.0 of InSpec.</p> <h2 id="syntax">Syntax</h2> <p>A <code>limits_conf</code> resource block declares a domain to be tested, along with associated type, item, and value:</p> <pre class="highlight" data-language="ruby"><code>describe limits_conf('path') do
  its('domain') { should include ['type', 'item', 'value'] }
  its('domain') { should eq ['type', 'item', 'value'] }
end
</code></pre> <p>where</p> <ul> <li>
<code>('path')</code> is the non-default path to the <code>inetd.conf</code> file</li> <li>
<code>'domain'</code> is a user or group name, such as <code>grantmc</code>
</li> <li>
<code>'type'</code> is either <code>hard</code> or <code>soft</code>
</li> <li>
<code>'item'</code> is the item for which limits are defined, such as <code>core</code>, <code>nofile</code>, <code>stack</code>, <code>nproc</code>, <code>priority</code>, or <code>maxlogins</code>
</li> <li>
<code>'value'</code> is the value associated with the <code>item</code>
</li> </ul> <h2 id="properties">Properties</h2> <h3 id="domain">domain</h3> <p>The <code>domain</code> property tests the domain in the <code>limits.conf</code> file, along with associated type, item, and value:</p> <pre class="highlight" data-language="ruby"><code>its('domain') { should include ['type', 'item', 'value'] }
</code></pre> <p>For example:</p> <pre class="highlight" data-language="ruby"><code>its('grantmc') { should include ['hard', 'nofile', '63536'] }
</code></pre> <h3 id="test-limits">Test limits</h3> <pre class="highlight" data-language="ruby"><code>describe limits_conf('path') do
  its('*') { should include ['soft', 'core', '0'], ['hard', 'rss', '10000'] }
  its('ftp') { should eq ['hard', 'nproc', '0'] }
end
</code></pre> <h2 id="matchers">Matchers</h2> <p>For a full list of available matchers, please visit our <a href="../../matchers/index.html">matchers page</a>.</p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/inspec/resources/limits_conf/" class="_attribution-link">https://docs.chef.io/inspec/resources/limits_conf/</a>
  </p>
</div>
