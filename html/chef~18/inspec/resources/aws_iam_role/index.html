<div id="col-content" data-swiftype-index="true"> <div id="aws_iam_role-resource"><h1>aws_iam_role resource</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/inspec/inspec/tree/main/docs-chef-io/content/inspec/resources/aws_iam_role.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Use the <code>aws_iam_role</code> InSpec audit resource to test properties of an AWS IAM Role.</p> <h2 id="syntax">Syntax</h2> <p>An <code>aws_iam_role</code> resource block declares the tests for a single AWS IAM Role by Role Name.</p> <pre class="highlight" data-language="ruby"><code>describe aws_iam_role(role_name: 'my-role') do
    it { should exist }
end
</code></pre> <h2 id="parameters">Parameters</h2> <h3 id="role_name-_required_">role_name <em>(required)</em>
</h3> <p>This resource accepts a single parameter, the Role Name which uniquely identifies the Role. This can be passed either as a string or as a <code>role_name: 'value'</code> key-value entry in a hash.</p> <p>See also the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html">AWS documentation on IAM Roles</a>.</p> <h2 id="properties">Properties</h2> <table> <thead> <tr> <th>Property</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>path</td> <td>The path to the role.</td> </tr> <tr> <td>role_name</td> <td>The name of the role.</td> </tr> <tr> <td>role_id</td> <td>The id of the role.</td> </tr> <tr> <td>arn</td> <td>The Amazon Resource Name (ARN) specifying the role.</td> </tr> <tr> <td>create_date</td> <td>The date and time, in ISO 8601 date-time format , when the role was created.</td> </tr> <tr> <td>assume_role_policy_document</td> <td>The policy that grants an entity permission to assume the role.</td> </tr> <tr> <td>description</td> <td>The description of the role.</td> </tr> <tr> <td>max_session_duration</td> <td>The maximum session duration (in seconds) for the specified role. Anyone who uses the AWS CLI, or API to assume the role can specify the duration using the optional DurationSeconds API parameter or duration-seconds CLI parameter.</td> </tr> <tr> <td>permissions_boundary_type</td> <td>The permissions boundary usage type that indicates what type of IAM resource is used as the permissions boundary for an entity. This data type can only have a value of Policy .</td> </tr> <tr> <td>permissions_boundary_arn</td> <td>The ARN of the policy used to set the permissions boundary for the user or role.</td> </tr> <tr> <td>inline_policies</td> <td>A list of inline policy names associated with the described role.</td> </tr> <tr> <td>attached_policies_name</td> <td>A list of attached policy names associated with the described role.</td> </tr> <tr> <td>attached_policies_arn</td> <td>A list of attached policy ARNs associated with the described role.</td> </tr> </tbody> </table> <h2 id="examples">Examples</h2> <h3 id="test-that-an-iam-role-exists">Test that an IAM Role exists</h3> <pre class="highlight" data-language="ruby"><code>describe aws_iam_role(role_name: aws_iam_role_name) do
    it               { should exist }
    its('role_name') { should eq aws_iam_role_name }
end
</code></pre> <h2 id="matchers">Matchers</h2> <p>This InSpec audit resource has the following special matchers. For a full list of available matchers, please visit our <a href="../../matchers/index.html">matchers page</a>.</p> <h3 id="exist">exist</h3> <p>The control will pass if the describe returns at least one result.</p> <p>Use <code>should_not</code> to test the entity should not exist.</p> <pre class="highlight" data-language="ruby"><code>describe aws_iam_role('AnExistingRole') do
  it { should exist }
end

describe aws_iam_role('ANonExistentRole') do
  it { should_not exist }
end
</code></pre> <h2 id="aws-permissions">AWS Permissions</h2> <p>Your <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/intro-structure.html#intro-structure-principal">Principal</a> will need the following permissions action set to allow: <code>iam:GetRole</code></p> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/inspec/resources/aws_iam_role/" class="_attribution-link">https://docs.chef.io/inspec/resources/aws_iam_role/</a>
  </p>
</div>
