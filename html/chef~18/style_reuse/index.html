<div id="col-content" data-swiftype-index="true"> <div id="content-reuse-and-hugo-shortcodes"><h1>Content Reuse and Hugo Shortcodes</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/chef-web-docs/blob/main/content/style_reuse.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Chef docs uses <a href="https://gohugo.io/content-management/shortcodes/">shortcodes</a> to maintain text that appears in more than one location and must be consistent in every location.</p> <h2 id="writing-a-shortcode">Writing a Shortcode</h2> <p>Shortcode files are written in <strong>Markdown</strong> or <strong>HTML</strong> and are stored in the <a href="https://github.com/chef/chef-web-docs/tree/main/themes/docs-new/layouts/shortcodes"><code>layouts/shortcodes</code></a> directory in the <code>chef-web-docs</code> repo. Most shortcodes are written in Markdown but some are in HTML.</p> <h2 id="adding-a-shortcode-to-a-page">Adding a Shortcode to a Page</h2> <p>There are two types of shortcodes, <strong>Markdown</strong> and <strong>HTML</strong>. The type of shortcode determines how it is added to a page and how Hugo processes the text when it renders the page into HTML.</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> If you add a <strong>Markdown</strong> shortcode to a page using <strong>HTML</strong> shortcode delimiters, Hugo will assume that the text is already formatted in HTML and won’t run the shortcode file through its Markdown processor, leaving the bare Markdown in the HTML page output. </div> </div> <h3 id="markdown-shortcodes">Markdown Shortcodes</h3> <p>To include a Markdown shortcode in a page, wrap the name of the shortcode file, without the file type suffix, in between double curly braces and percent characters, <code>{{% SHORTCODE %}}</code>. For example, if you wanted to add the <a href="https://github.com/chef/chef-web-docs/blob/main/themes/docs-new/layouts/shortcodes/chef.md"><code>chef.md</code></a> shortcode to a page, add the following text to the Markdown page:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-go" data-lang="go">{{<span style="color:#666">%</span> chef <span style="color:#666">%</span>}}
</code></pre></div>
<h3 id="html-shortcodes">HTML Shortcodes</h3> <p>To include an HTML shortcode in a page, wrap the name of the shortcode file, without the file type suffix, in between double curly braces and angle brackets, <code>{{&lt; SHORTCODE &gt;}}</code>. For example, add the following text to a page if you wanted to add the <a href="https://github.com/chef/chef-web-docs/blob/main/themes/docs-new/layouts/shortcodes/chef_automate_mark.html"><code>chef_automate_mark.html</code></a> shortcode:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-go" data-lang="go">{{&lt; chef_automate_mark &gt;}}
</code></pre></div>
<h3 id="parameters">Parameters</h3> <p>Some shortcodes accept positioned or named parameters. For example, the <code>example_fqdn</code> shortcode requires a hostname, which is added like this: <code>{{&lt; example_fqdn "HOSTNAME" &gt;}}</code>, and produces the following output: <code>HOSTNAME.example.com</code>.</p> <p>The <a href="#fontawesome-shortcode">Fontawesome Shortcode</a> accepts named parameters. For example, it accepts a class value which is added like this: <code>{{&lt; fontawesome class="fas fa-ellipsis-h" &gt;}}</code></p> <p>See the <a href="#fontawesome-shortcode">Fontawesome Shortcode</a> section for more examples.</p> <h3 id="nested-content">Nested Content</h3> <p>We have some shortcodes that nest around Markdown content that is included in the text of a page. Those shortcodes are all written in HTML. Note the slash <code>/</code> before the name of the closing shortcode.</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-md" data-lang="md">{{&lt; <span style="color:#062873;font-weight:700">shortcode_name</span> &gt;}}

Some Markdown text.

{{&lt; /<span style="color:#062873;font-weight:700">shortcode_name</span> &gt;}}
</code></pre></div>
<p>See the <a href="#notes-warnings-and-admonitions">Notes and Warnings</a> and the <a href="#foundation-tabs-container">Foundation Tabs</a> for examples of nested shortcodes.</p> <h2 id="notes-warnings-and-admonitions">Notes, Warnings, and Admonitions</h2> <p>In general, notes, warnings, and admonitions are not the best way to present important information. Before using them ask yourself how important the information is. If you want the information to be returned in a search result, then it is better for the information to have its own topic or section heading. Notes and warnings have a different color than the surrounding text so they can be easily spotted within a doc. If notes and warnings must be used, the approach for using them is as follows.</p> <p>Notes and warnings are generated by bracketing the text of the note or warning in <strong>note</strong>, <strong>warning</strong>, or <strong>danger</strong> shortcodes.</p> <h3 id="notes">Notes</h3> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-go" data-lang="go">{{&lt; note &gt;}}
This is a note.
{{&lt; <span style="color:#666">/</span>note &gt;}}
</code></pre></div>
<p>What a note looks like after it’s built:</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> This is a note. </div> </div> <h3 id="warnings">Warnings</h3> <p>Use sparingly so that when the user sees a warning it registers appropriately:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-go" data-lang="go">{{&lt; warning &gt;}}
This is a warning.
{{&lt; <span style="color:#666">/</span>warning &gt;}}
</code></pre></div>
<p>What a warning looks like after it’s built:</p> <div class="admonition-warning"> <p class="admonition-warning-title">Warning</p> <div class="admonition-warning-text"> This is a warning. </div> </div> <h3 id="danger">Danger</h3> <p>Danger should be used rarely and only when there are serious consequences for the user:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-go" data-lang="go">{{&lt; danger &gt;}}
This is a danger block.
{{&lt; <span style="color:#666">/</span>danger &gt;}}
</code></pre></div>
<p>This is what a danger block looks like after it’s built:</p> <div class="admonition-danger"> <p class="admonition-danger-title">Danger</p> <div class="admonition-danger-text"> This is a danger block. </div> </div> <h2 id="foundation-tabs-container">Foundation Tabs Container</h2> <p>There are four shortcodes that can be combined together to create a container that will allow the user to click on a tab to reveal content in a matching panel. For example, you may want to display matching Ruby and YAML code blocks. You can create two tabs, one titled <strong>Ruby</strong> and the other <strong>YAML</strong>, and the user could click on one tab to show the Ruby code block and another tab to show the YAML code block. See the <a href="#example">example</a> below.</p> <p>The four shortcodes are:</p> <ul> <li><code>foundation_tabs</code></li> <li><code>foundation_tab</code></li> <li><code>foundation_tabs_panels</code></li> <li><code>foundation_tabs_panel</code></li> </ul> <p>These shortcodes use the <a href="https://get.foundation/sites/docs/tabs.html">Zurb Foundation Tabs</a> component.</p> <p>The container consists of two parts, the tabs and the panels.</p> <h3 id="tabs">Tabs</h3> <p>Each tab is created with a <code>foundation_tab</code> shortcode. Use as many <code>foundation_tab</code> shortcodes as you need to display the number of code blocks or text blocks that you want the user to be able click on and reveal.</p> <p>All <code>foundation_tab</code> shortcodes must be contained within opening and closing <code>foundation_tabs</code> shortcodes.</p> <p>For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-go" data-lang="go">{{&lt; foundation_tabs tabs<span style="color:#666">-</span>id=<span style="color:#4070a0">"ruby-python-panel"</span> &gt;}}
  {{&lt; foundation_tab active=<span style="color:#4070a0">"true"</span> panel<span style="color:#666">-</span>link=<span style="color:#4070a0">"ruby-panel"</span> tab<span style="color:#666">-</span>text=<span style="color:#4070a0">"Ruby"</span> &gt;}}
  {{&lt; foundation_tab panel<span style="color:#666">-</span>link=<span style="color:#4070a0">"python-panel"</span> tab<span style="color:#666">-</span>text=<span style="color:#4070a0">"Python"</span> &gt;}}
{{&lt; <span style="color:#666">/</span>foundation_tabs &gt;}}
</code></pre></div>
<h4 id="tab-parameters">Tab Parameters</h4> <p>The <strong><code>foundation_tabs</code></strong> shortcode has one parameter:</p> <dl> <dt><code>tabs-id</code></dt> <dd>This value must be identical to the <code>tabs-id</code> value in the <code>foundation_tabs_panels</code> shortcode, but otherwise it must be unique on the page.</dd> </dl> <p>The <strong><code>foundation_tab</code></strong> shortcode has three parameters:</p> <dl> <dt><code>active</code></dt> <dd> <p>Use <code>active="true"</code> to highlight the tab that user will see when they first load the page. Only add this value to one tab. The matching <code>foundation_tabs_panel</code> should also have <code>active="true"</code> in its parameters.</p> </dd> <dt><code>panel-link</code></dt> <dd>This is the value of the panel ID that this tab will link to. This must be identical to the <code>panel-id</code> value in the matching <code>foundation_tabs_panel</code> shortcode.</dd> <dt><code>tab-text</code></dt> <dd>The text in the tab that the user will click on.</dd> </dl> <h3 id="panels">Panels</h3> <p>Each tab has a matching panel which is created with <code>foundation_tabs_panel</code> shortcodes. The Markdown text that is displayed in each panel must be contained in opening and closing <code>foundation_tabs_panel</code> shortcodes.</p> <p>All <code>foundation_tab_panel</code> shortcodes must contained within opening and closing <code>foundation_tabs_panels</code> shortcodes.</p> <p>For example:</p> <pre class="highlight" data-language="ruby"><code>{{&lt; foundation_tabs_panels tabs-id="ruby-python-panel" &gt;}}
  {{&lt; foundation_tabs_panel active="true" panel-id="ruby-panel" &gt;}}
  ```ruby
  puts 'Hello, world!'
  ```
  {{&lt; /foundation_tabs_panel &gt;}}

  {{&lt; foundation_tabs_panel panel-id="python-panel" &gt;}}
  ```python
  print('Hello, world!')
  ```
  {{&lt; /foundation_tabs_panel &gt;}}
{{&lt; /foundation_tabs_panels &gt;}}
</code></pre> <h4 id="panel-parameters">Panel Parameters</h4> <p>The <strong><code>foundation_tabs_panels</code></strong> shortcode has one parameter:</p> <dl> <dt><code>tabs-id</code></dt> <dd>This value must be identical to the <code>tabs-id</code> value in the <code>foundation_tabs</code> shortcode, but otherwise it must be unique on the page.</dd> </dl> <p>The <strong><code>foundation_tabs_panel</code></strong> shortcode has two parameters:</p> <dl> <dt><code>active</code></dt> <dd>Use <code>active="true"</code> to indicate which panel the user will see when they first load the page. This value should also be added to the panels matching tab. Only add this value to one panel.</dd> <dt><code>panel-id</code></dt> <dd>The HTML ID attribute of the panel. This value must be identical to the <code>panel-link</code> value in the matching <code>foundation_tab</code> shortcode that will link to this panel. This value must be unique on the page.</dd> </dl> <h3 id="example">Example</h3> <p>Below is an example of a container that shows three code blocks in three languages. You can copy and paste the code below into a page to get started. Note that the <code>tabs-id</code> and <code>panel-id</code>/<code>panel-link</code> values must be unique on the page.</p> <ul class="tabs" data-tabs id="ruby-python-go-panel"> <li class="tabs-title is-active"> <a href="#ruby-panel" aria-selected="true">Ruby</a> </li> <li class="tabs-title"> <a data-tabs-target="python-panel" href="#python-panel">Python</a> </li> <li class="tabs-title"> <a data-tabs-target="golang-panel" href="#golang-panel">Go</a> </li> </ul> <div class="tabs-content" data-tabs-content="ruby-python-go-panel"> <div class="tabs-panel is-active" id="ruby-panel"><div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#007020">puts</span> <span style="color:#4070a0">'Hello, world!'</span>
</code></pre></div></div> <div class="tabs-panel" id="python-panel"><div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-python" data-lang="python"><span style="color:#007020">print</span>(<span style="color:#4070a0">'Hello, world!'</span>)
</code></pre></div></div> <div class="tabs-panel" id="golang-panel"><div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-go" data-lang="go"><span style="color:#007020;font-weight:700">package</span> main

<span style="color:#007020;font-weight:700">import</span> <span style="color:#4070a0">"fmt"</span>

<span style="color:#007020;font-weight:700">func</span> <span style="color:#06287e">main</span>() {
    fmt.<span style="color:#06287e">Println</span>(<span style="color:#4070a0">"Hello, world!"</span>)
}
</code></pre></div></div> </div> <pre class="highlight" data-language="ruby"><code>{{&lt; foundation_tabs tabs-id="ruby-python-go-panel" &gt;}}
  {{&lt; foundation_tab active="true" panel-link="ruby-panel" tab-text="Ruby"&gt;}}
  {{&lt; foundation_tab panel-link="python-panel" tab-text="Python" &gt;}}
  {{&lt; foundation_tab panel-link="golang-panel" tab-text="Go" &gt;}}
{{&lt; /foundation_tabs &gt;}}

{{&lt; foundation_tabs_panels tabs-id="ruby-python-go-panel" &gt;}}
  {{&lt; foundation_tabs_panel active="true" panel-id="ruby-panel" &gt;}}
  ```ruby
  puts 'Hello, world!'
  ```
  {{&lt; /foundation_tabs_panel &gt;}}

  {{&lt; foundation_tabs_panel panel-id="python-panel" &gt;}}
  ```python
  print('Hello, world!')
  ```
  {{&lt; /foundation_tabs_panel &gt;}}
  {{&lt; foundation_tabs_panel panel-id="golang-panel" &gt;}}
  ```go
  package main

  import "fmt"

  func main() {
      fmt.Println("Hello, world!")
  }
  ```
  {{&lt; /foundation_tabs_panel &gt;}}
{{&lt; /foundation_tabs_panels &gt;}}
</code></pre> <h2 id="fontawesome-shortcode">Fontawesome Shortcode</h2> <p>The Fontawesome shortcode will display any free <a href="https://fontawesome.com/icons">Font Awesome icon</a> in a page.</p> <p>It accepts the following parameters:</p> <ul> <li><code>background-color</code></li> <li><code>border</code></li> <li><code>border-radius</code></li> <li><code>class</code></li> <li><code>color</code></li> <li><code>font-size</code></li> <li><code>margin</code></li> <li><code>padding</code></li> </ul> <p>The only required parameter is <code>class</code>, which is the same as the class name of the icon.</p> <p>The following shortcode examples will display these icons:     </p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-markdown" data-lang="markdown">{{&lt; <span style="color:#062873;font-weight:700">fontawesome</span> <span style="color:#4070a0">class</span><span style="color:#666">=</span><span style="color:#4070a0">"fas fa-ellipsis-h"</span> &gt;}}
{{&lt; <span style="color:#062873;font-weight:700">fontawesome</span> <span style="color:#4070a0">class</span><span style="color:#666">=</span><span style="color:#4070a0">"fas fa-anchor"</span> <span style="color:#4070a0">font-size</span><span style="color:#666">=</span><span style="color:#4070a0">"3rem"</span> <span style="color:#4070a0">border</span><span style="color:#666">=</span><span style="color:#4070a0">"2px dashed"</span> <span style="color:#4070a0">padding</span><span style="color:#666">=</span><span style="color:#4070a0">"1px"</span> <span style="color:#4070a0">border-radius</span><span style="color:#666">=</span><span style="color:#4070a0">"5px"</span> &gt;}}
{{&lt; <span style="color:#062873;font-weight:700">fontawesome</span> <span style="color:#4070a0">class</span><span style="color:#666">=</span><span style="color:#4070a0">"fas fa-archive"</span> <span style="color:#4070a0">color</span><span style="color:#666">=</span><span style="color:#4070a0">"#cc814b"</span> <span style="color:#4070a0">margin</span><span style="color:#666">=</span><span style="color:#4070a0">"0 0 0 12px"</span>&gt;}}
{{&lt; <span style="color:#062873;font-weight:700">fontawesome</span> <span style="color:#4070a0">class</span><span style="color:#666">=</span><span style="color:#4070a0">"far fa-address-book"</span> <span style="color:#4070a0">background-color</span><span style="color:#666">=</span><span style="color:#4070a0">"DarkBlue"</span> <span style="color:#4070a0">color</span><span style="color:#666">=</span><span style="color:#4070a0">"rgb(168, 218, 220)"</span> &gt;}}
</code></pre></div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/style_reuse/" class="_attribution-link">https://docs.chef.io/style_reuse/</a>
  </p>
</div>
