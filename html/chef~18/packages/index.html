<div id="col-content" data-swiftype-index="true"> <div id="chef-software-packages"><h1>Chef Software Packages</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/chef-web-docs/blob/main/content/packages.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>Packages for Chef Software products may be installed using platform-native package repositories or the Chef Software Install script. Both installation methods support the following release channels:</p> <table> <col style="width:25%"> <col style="width:75%"> <thead> <tr class="header"> <th>Channel</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>stable</code></td> <td>A build from this channel is an "official" release that has passed full user acceptance testing. Artifacts in this channel are retained indefinitely.</td> </tr> <tr> <td><code>current</code></td> <td>A build from this channel is an "integration" build that has passed full testing, but has not been officially released. Artifacts in this channel are retained for 30 days and then removed automatically.</td> </tr> </tbody> </table> <p>Chef recommends using the stable channel when installing any of these products on production systems.</p> <h2 id="package-repositories">Package Repositories</h2> <p>The <code>stable</code> and <code>current</code> release channels support the following package repositories:</p> <ul> <li>Apt (Debian and Ubuntu platforms)</li> <li>Yum (Enterprise Linux platforms)</li> </ul> <p>Chef Software’s GPG public key can be downloaded <a href="https://packages.chef.io/chef.asc">here</a>.</p> <h3 id="debian--ubuntu">Debian / Ubuntu</h3> <p>To set up an Apt package repository for Debian and Ubuntu platforms:</p> <ol> <li> <p>Enable Apt to fetch packages over HTTPS:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">sudo apt-get install apt-transport-https
</code></pre></div>
</li> <li> <p>Install the public key for Chef Software:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">wget -qO - https://packages.chef.io/chef.asc | sudo apt-key add -
</code></pre></div>
</li> <li> <p>Create the Apt repository source file:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash"><span style="color:#007020">echo</span> <span style="color:#4070a0">"deb https://packages.chef.io/repos/apt/&lt;CHANNEL&gt; &lt;DISTRIBUTION&gt; main"</span> &gt; chef-&lt;CHANNEL&gt;.list
</code></pre></div>
<p>Replace <code>&lt;CHANNEL&gt;</code> with the release channel: <code>stable</code> or <code>current</code>.</p> <p>Replace <code>&lt;DISTRIBUTION&gt;</code> with the appropriate distribution name:</p> <ul> <li>For Debian 9: <code>stretch</code>
</li> <li>For Debian 10: <code>buster</code>
</li> <li>For Debian 11: <code>bullseye</code>
</li> <li>For Ubuntu 18.04: <code>bionic</code>
</li> <li>For Ubuntu 20.04: <code>focal</code>
</li> </ul> </li> <li> <p>Update the package repository list:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">sudo mv chef-stable.list /etc/apt/sources.list.d/
</code></pre></div>
</li> <li> <p>Update the cache for the package repository:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">sudo apt-get update
</code></pre></div>
</li> </ol> <h3 id="enterprise-linux">Enterprise Linux</h3> <p>To set up a Yum package repository for Enterprise Linux platforms:</p> <ol> <li> <p>Install the public key for Chef Software:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">sudo rpm --import https://packages.chef.io/chef.asc
</code></pre></div>
</li> <li> <p>Create the Yum repository source file:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">cat &gt;chef-&lt;CHANNEL&gt;.repo <span style="color:#4070a0">&lt;&lt;EOL
</span><span style="color:#4070a0">[chef-&lt;CHANNEL&gt;]
</span><span style="color:#4070a0">name=chef-&lt;CHANNEL&gt;
</span><span style="color:#4070a0">baseurl=https://packages.chef.io/repos/yum/&lt;CHANNEL&gt;/el/&lt;VERSION&gt;/\$basearch/
</span><span style="color:#4070a0">gpgcheck=1
</span><span style="color:#4070a0">enabled=1
</span><span style="color:#4070a0">EOL</span>
</code></pre></div>
<p>Replace <code>&lt;CHANNEL&gt;</code> with the release channel: <code>stable</code> or <code>current</code>.</p> <p>Replace <code>&lt;VERSION&gt;</code> with your Enterprise Linux version; the allowable versions are <code>6</code>, <code>7</code>, or <code>8</code>.</p> </li> <li> <p>Update the package repository list:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">sudo yum-config-manager --add-repo chef-stable.repo
</code></pre></div>
<p>Note that the <code>yum-config-manager</code> command requires the <code>yum-utils</code> package, which is not installed on CentOS by default. You can install the package by running <code>sudo yum install yum-utils</code>, or you can use the <code>mv</code> command to add the repository to the <code>/etc/yum.repos.d/</code> directory:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">sudo mv chef-stable.repo /etc/yum.repos.d/
</code></pre></div>
</li> </ol> <h2 id="chef-software-install-script">Chef Software Install Script</h2> <p>The Chef Software install script can be used to install any Chef Software, including things like Chef Infra Client, Chef Infra Server, Chef InSpec. This script does the following:</p> <ul> <li>Detects the platform, version, and architecture of the machine on which the installer is being executed</li> <li>Fetches the appropriate package, for the requested product and version</li> <li>Validates the package content by comparing SHA-256 checksums</li> <li>Installs the package</li> </ul> <h3 id="run-the-chef-software-install-script">Run the Chef Software Install Script</h3> <p>The Chef Software Install script can be run on UNIX, Linux, and Microsoft Windows platforms. The terms ‘omnibus’ and ‘omnitruck’ are only relevant to the build processes used internally at Chef Software.</p> <h4 id="unix-and-linux">UNIX and Linux</h4> <p>On UNIX, Linux, and macOS systems, invoke the Chef Software Install script with:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">curl -L https://omnitruck.chef.io/install.sh | sudo bash
</code></pre></div>
<p>and then enter the local password when prompted.</p> <h4 id="microsoft-windows">Microsoft Windows</h4> <p>On Microsoft Windows systems, invoke the Chef Software Install script using Windows PowerShell:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">. { iwr -useb https://omnitruck.chef.io/install.ps1 } | iex; install
</code></pre>
<h3 id="chef-software-install-script-options">Chef Software Install Script Options</h3> <p>In addition to the default install behavior, the Chef Software Install script supports the following options:</p> <dl> <dt>
<code>-c</code> (<code>-channel</code> on Microsoft Windows)</dt> <dd> <p>The release channel from which a package is pulled. Possible values: <code>current</code> or <code>stable</code>. Default value: <code>stable</code>.</p> </dd> <dt>
<code>-d</code> (<code>-download_directory</code> on Microsoft Windows)</dt> <dd> <p>The directory into which a package is downloaded. When a package already exists in this directory and the checksum matches, the package is not re-downloaded. When <code>-d</code> and <code>-f</code> are not specified, a package is downloaded to a temporary directory.</p> </dd> <dt>
<code>-f</code> (<code>-filename</code> on Microsoft Windows)</dt> <dd> <p>The name of the file and the path at which that file is located. When a filename already exists at this path and the checksum matches, the package is not re-downloaded. When <code>-d</code> and <code>-f</code> are not specified, a package is downloaded to a temporary directory.</p> </dd> <dt>
<code>-P</code> (<code>-project</code> on Microsoft Windows)</dt> <dd> <p>The product name to install. Supported versions of Chef products are <code>automate</code>, <code>chef</code>, <code>chef-server</code>, <code>inspec</code>, <code>chef-workstation</code>, <code>chefdk</code>, <code>supermarket</code>, <code>chef-backend</code>, <code>push-jobs-client</code>, and <code>push-jobs-server</code>. Default value: <code>chef</code>.</p> </dd> <dt>
<code>-s</code> (<code>-install_strategy</code> on Microsoft Windows)</dt> <dd> <p>The method of package installations. The default strategy is to always install when the install.sh script runs. Set to “once” to skip installation if the product is already installed on the node.</p> </dd> <dt>
<code>-l</code> (<code>-download_url_override</code> on Microsoft Windows)</dt> <dd> <p>Install package downloaded from a direct URL.</p> </dd> <dt>
<code>-a</code> (<code>-checksum</code> on Microsoft Windows)</dt> <dd> <p>The SHA256 for download_url_override</p> </dd> <dt>
<code>-v</code> (<code>-version</code> on Microsoft Windows)</dt> <dd> <p>The version of the package to be installed. A version always takes the form x.y.z, where x, y, and z are decimal numbers that are used to represent major (x), minor (y), and patch (z) versions. A two-part version (x.y) is also allowed. For more information about application versioning, see <a href="https://semver.org/">https://semver.org/</a>.</p> </dd> </dl> <h3 id="examples">Examples</h3> <p>The following examples show how to use the Chef Software Install script.</p> <p>To install Chef Client 15.8.23:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">curl -L https://omnitruck.chef.io/install.sh | sudo bash -s -- -v 15.8.23
</code></pre></div>
<p>To install the latest version of Chef Workstation on Microsoft Windows from the <code>current</code> channel:</p> <pre tabindex="0" class="highlight" data-language="ruby"><code class="language-none" data-lang="none">. { iwr -useb https://omnitruck.chef.io/install.ps1 } | iex; install -channel current -project chef-workstation
</code></pre> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/packages/" class="_attribution-link">https://docs.chef.io/packages/</a>
  </p>
</div>
