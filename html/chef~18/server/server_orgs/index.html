<div id="col-content" data-swiftype-index="true"> <div id="organizations-and-groups"><h1>Organizations and Groups</h1></div>  <div class="prose"> <p data-swiftype-index="false"> <a href="https://github.com/chef/chef-web-docs/blob/main/content/server/server_orgs.md" alt="Link to page on GitHub repository">[edit on GitHub]</a> </p> <p>The Chef Infra Server uses role-based access control (RBAC) to restrict access to objects—nodes, environments, roles, data bags, cookbooks, and so on. This ensures that only authorized user and/or Chef Infra Client requests to the Chef Infra Server are allowed. Access to objects on the Chef Infra Server is fine-grained, allowing access to be defined by object type, object, group, user, and organization. The Chef Infra Server uses permissions to define how a user may interact with an object, after they have been authorized to do so.</p> <p>The Chef Infra Server uses organizations, groups, and users to define role-based access control:</p> <table> <col style="width:19%"> <col style="width:80%"> <thead> <tr class="header"> <th>Feature</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjkuMiAxNjkuMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTY5LjIgMTY5LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHJlY3QgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjE2OS4yIiBoZWlnaHQ9IjE2OS4yIi8+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik0yNy42LDE1MS4xTDI3LjYsMTUxLjFjMC0yLjgsMi4yLTUuMSw1LjItNS4xYzMsMCw1LjIsMi4yLDUuMiw1djBjMCwyLjgtMi4yLDUtNS4yLDUNCgkJCUMyOS44LDE1Ni4xLDI3LjYsMTUzLjksMjcuNiwxNTEuMXogTTM1LjQsMTUxLjFMMzUuNCwxNTEuMWMwLTEuNS0xLTIuNy0yLjUtMi43Yy0xLjYsMC0yLjUsMS4yLTIuNSwyLjZ2MGMwLDEuNCwxLDIuNywyLjUsMi43DQoJCQlDMzQuNCwxNTMuOCwzNS40LDE1Mi41LDM1LjQsMTUxLjF6Ii8+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik00MCwxNDYuMmgyLjd2MS45YzAuNi0xLjMsMS41LTIuMiwzLjEtMi4xdjIuOWgtMC4xYy0xLjgsMC0yLjksMS4xLTIuOSwzLjR2My42SDQwVjE0Ni4yeiIvPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNNDcuNCwxNTcuOGwwLjktMi4xYzEsMC42LDIsMC45LDMuMywwLjljMS45LDAsMi44LTAuOSwyLjgtMi42di0wLjVjLTAuOCwxLTEuNywxLjYtMy4yLDEuNg0KCQkJYy0yLjIsMC00LjMtMS42LTQuMy00LjV2MGMwLTIuOSwyLjEtNC41LDQuMy00LjVjMS41LDAsMi40LDAuNiwzLjEsMS40di0xLjNoMi43djcuNWMwLDEuNy0wLjQsMy0xLjIsMy44DQoJCQljLTAuOSwwLjktMi4zLDEuMy00LjIsMS4zQzUwLjEsMTU4LjgsNDguNywxNTguNSw0Ny40LDE1Ny44eiBNNTQuNCwxNTAuNkw1NC40LDE1MC42YzAtMS40LTEtMi4zLTIuNC0yLjNzLTIuMywwLjktMi4zLDIuMnYwDQoJCQljMCwxLjMsMSwyLjIsMi4zLDIuMlM1NC40LDE1MS45LDU0LjQsMTUwLjZ6Ii8+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik01OC45LDE1My4xTDU4LjksMTUzLjFjMC0yLjEsMS42LTMuMSwzLjktMy4xYzEsMCwxLjcsMC4yLDIuNCwwLjR2LTAuMmMwLTEuMS0wLjctMS44LTIuMS0xLjgNCgkJCWMtMSwwLTEuOCwwLjItMi43LDAuNWwtMC43LTIuMWMxLjEtMC41LDIuMS0wLjgsMy43LTAuOGMxLjUsMCwyLjYsMC40LDMuMywxLjFjMC43LDAuNywxLDEuOCwxLDMuMXY1LjZoLTIuNnYtMQ0KCQkJYy0wLjcsMC43LTEuNiwxLjItMi45LDEuMkM2MC40LDE1Ni4xLDU4LjksMTU1LDU4LjksMTUzLjF6IE02NS4yLDE1Mi41VjE1MmMtMC41LTAuMi0xLjEtMC40LTEuNy0wLjRjLTEuMiwwLTEuOSwwLjUtMS45LDEuM3YwDQoJCQljMCwwLjcsMC42LDEuMiwxLjUsMS4yQzY0LjQsMTU0LjIsNjUuMiwxNTMuNSw2NS4yLDE1Mi41eiIvPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNNzAuMiwxNDYuMmgyLjd2MS40YzAuNi0wLjgsMS40LTEuNSwyLjgtMS41YzIuMSwwLDMuMywxLjQsMy4zLDMuNnY2LjJoLTIuN3YtNS40YzAtMS4zLTAuNi0yLTEuNy0yDQoJCQljLTEsMC0xLjcsMC43LTEuNywydjUuNGgtMi43VjE0Ni4yeiIvPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNODEuNCwxNDIuOGgyLjl2Mi40aC0yLjlWMTQyLjh6IE04MS41LDE0Ni4yaDIuN3Y5LjdoLTIuN1YxNDYuMnoiLz4NCgkJPHBhdGggZmlsbD0iIzQwNDQ0NyIgZD0iTTg2LjUsMTU0bDUtNS41aC00Ljh2LTIuMmg4LjJ2MS45bC01LDUuNWg1djIuMmgtOC40VjE1NHoiLz4NCgkJPHBhdGggZmlsbD0iIzQwNDQ0NyIgZD0iTTk2LjQsMTUzLjFMOTYuNCwxNTMuMWMwLTIuMSwxLjYtMy4xLDMuOS0zLjFjMSwwLDEuNywwLjIsMi40LDAuNHYtMC4yYzAtMS4xLTAuNy0xLjgtMi4xLTEuOA0KCQkJYy0xLDAtMS44LDAuMi0yLjcsMC41bC0wLjctMi4xYzEuMS0wLjUsMi4xLTAuOCwzLjctMC44YzEuNSwwLDIuNiwwLjQsMy4zLDEuMWMwLjcsMC43LDEsMS44LDEsMy4xdjUuNmgtMi42di0xDQoJCQljLTAuNywwLjctMS42LDEuMi0yLjksMS4yQzk3LjksMTU2LjEsOTYuNCwxNTUsOTYuNCwxNTMuMXogTTEwMi43LDE1Mi41VjE1MmMtMC41LTAuMi0xLjEtMC40LTEuNy0wLjRjLTEuMiwwLTEuOSwwLjUtMS45LDEuM3YwDQoJCQljMCwwLjcsMC42LDEuMiwxLjUsMS4yQzEwMS44LDE1NC4yLDEwMi43LDE1My41LDEwMi43LDE1Mi41eiIvPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNMTA4LDE1My4ydi00LjZoLTEuMnYtMi4zaDEuMnYtMi41aDIuN3YyLjVoMi4zdjIuM2gtMi4zdjQuMWMwLDAuNiwwLjMsMC45LDAuOSwwLjljMC41LDAsMS0wLjEsMS40LTAuMw0KCQkJdjIuMmMtMC42LDAuMy0xLjIsMC42LTIuMiwwLjZDMTA5LjEsMTU2LjEsMTA4LDE1NS40LDEwOCwxNTMuMnoiLz4NCgkJPHBhdGggZmlsbD0iIzQwNDQ0NyIgZD0iTTExNS4xLDE0Mi44aDIuOXYyLjRoLTIuOVYxNDIuOHogTTExNS4xLDE0Ni4yaDIuN3Y5LjdoLTIuN1YxNDYuMnoiLz4NCgkJPHBhdGggZmlsbD0iIzQwNDQ0NyIgZD0iTTEyMCwxNTEuMUwxMjAsMTUxLjFjMC0yLjgsMi4yLTUuMSw1LjItNS4xYzMsMCw1LjIsMi4yLDUuMiw1djBjMCwyLjgtMi4yLDUtNS4yLDUNCgkJCUMxMjIuMiwxNTYuMSwxMjAsMTUzLjksMTIwLDE1MS4xeiBNMTI3LjcsMTUxLjFMMTI3LjcsMTUxLjFjMC0xLjUtMS0yLjctMi41LTIuN2MtMS42LDAtMi41LDEuMi0yLjUsMi42djBjMCwxLjQsMSwyLjcsMi41LDIuNw0KCQkJQzEyNi44LDE1My44LDEyNy43LDE1Mi41LDEyNy43LDE1MS4xeiIvPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNMTMyLjQsMTQ2LjJoMi43djEuNGMwLjYtMC44LDEuNC0xLjUsMi44LTEuNWMyLjEsMCwzLjMsMS40LDMuMywzLjZ2Ni4yaC0yLjd2LTUuNGMwLTEuMy0wLjYtMi0xLjctMg0KCQkJYy0xLDAtMS43LDAuNy0xLjcsMnY1LjRoLTIuN1YxNDYuMnoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCgk8Zz4NCgkJPHBhdGggZmlsbD0iIzQwNDQ0NyIgZD0iTTg3LjEsNDQuN2MtNi41LDAtMTEuNyw1LjItMTEuNywxMS42YzAsNi40LDUuMywxMS42LDExLjcsMTEuNmM2LjUsMCwxMS43LTUuMiwxMS43LTExLjYNCgkJCUM5OC44LDQ5LjksOTMuNiw0NC43LDg3LjEsNDQuN0w4Ny4xLDQ0Ljd6Ii8+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik04Ny4xLDg2LjdjLTYuNSwwLTExLjcsNS4yLTExLjcsMTEuNmMwLDYuNCw1LjMsMTEuNiwxMS43LDExLjZjNi41LDAsMTEuNy01LjIsMTEuNy0xMS42DQoJCQlDOTguOCw5MS45LDkzLjYsODYuNyw4Ny4xLDg2LjdMODcuMSw4Ni43eiIvPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNMTA4LjMsNjUuN2MtNi41LDAtMTEuNyw1LjItMTEuNywxMS42YzAsNi40LDUuMywxMS42LDExLjcsMTEuNmM2LjUsMCwxMS43LTUuMiwxMS43LTExLjYNCgkJCUMxMjAsNzAuOSwxMTQuOCw2NS43LDEwOC4zLDY1LjdMMTA4LjMsNjUuN3oiLz4NCgkJPHBhdGggZmlsbD0iIzQwNDQ0NyIgZD0iTTY1LjksNjUuN2MtNi41LDAtMTEuNyw1LjItMTEuNywxMS42YzAsNi40LDUuMywxMS42LDExLjcsMTEuNmM2LjUsMCwxMS43LTUuMiwxMS43LTExLjYNCgkJCUM3Ny43LDcwLjksNzIuNCw2NS43LDY1LjksNjUuN0w2NS45LDY1Ljd6Ii8+DQoJPC9nPg0KCTxnPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNMTMwLjEsMTIzLjZINDMuOGMtMi4yLDAtNC0xLjgtNC00VjM0LjhjMC0yLjIsMS44LTQsNC00aDg2LjNjMi4yLDAsNCwxLjgsNCw0djg0LjcNCgkJCUMxMzQuMSwxMjEuOCwxMzIuMywxMjMuNiwxMzAuMSwxMjMuNkwxMzAuMSwxMjMuNnogTTQ3LjgsMTE1LjZoNzguM1YzOC44SDQ3LjhWMTE1LjZMNDcuOCwxMTUuNnoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==" class="align-center" width="130" alt="image"></p></td> <td>An organization is the top-level entity for role-based access control in the Chef Infra Server. Each organization contains the default groups (<code>admins</code>, <code>clients</code>, and <code>users</code>, plus <code>billing_admins</code> for the hosted Chef Infra Server), at least one user and at least one node (on which the Chef Infra Client is installed). The Chef Infra Server supports multiple organizations. The Chef Infra Server includes a single default organization that is defined during setup. Additional organizations can be created after the initial setup and configuration of the Chef Infra Server.</td> </tr> <tr> <td><p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjkuMiAxNjkuMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTY5LjIgMTY5LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHJlY3QgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjE2OS4yIiBoZWlnaHQ9IjE2OS4yIi8+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik01OC41LDE1Ny44bDAuOS0yLjFjMSwwLjYsMiwwLjksMy4zLDAuOWMxLjksMCwyLjgtMC45LDIuOC0yLjZ2LTAuNWMtMC44LDEtMS43LDEuNi0zLjIsMS42DQoJCQljLTIuMywwLTQuMy0xLjYtNC4zLTQuNXYwYzAtMi45LDIuMS00LjUsNC4zLTQuNWMxLjUsMCwyLjQsMC42LDMuMSwxLjR2LTEuM2gyLjd2Ny41YzAsMS43LTAuNCwzLTEuMiwzLjgNCgkJCWMtMC45LDAuOS0yLjMsMS4zLTQuMiwxLjNDNjEuMiwxNTguOCw1OS44LDE1OC41LDU4LjUsMTU3Ljh6IE02NS41LDE1MC42TDY1LjUsMTUwLjZjMC0xLjQtMS0yLjMtMi40LTIuM2MtMS4zLDAtMi4zLDAuOS0yLjMsMi4yDQoJCQl2MGMwLDEuMywxLDIuMiwyLjMsMi4yQzY0LjUsMTUyLjgsNjUuNSwxNTEuOSw2NS41LDE1MC42eiIvPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNNzAuNiwxNDYuMmgyLjd2MS45YzAuNi0xLjMsMS41LTIuMiwzLjEtMi4xdjIuOWgtMC4xYy0xLjgsMC0yLjksMS4xLTIuOSwzLjR2My42aC0yLjdWMTQ2LjJ6Ii8+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik03Ny40LDE1MS4xTDc3LjQsMTUxLjFjMC0yLjgsMi4yLTUuMSw1LjItNS4xYzMsMCw1LjIsMi4yLDUuMiw1djBjMCwyLjgtMi4yLDUtNS4yLDUNCgkJCUM3OS42LDE1Ni4xLDc3LjQsMTUzLjksNzcuNCwxNTEuMXogTTg1LjIsMTUxLjFMODUuMiwxNTEuMWMwLTEuNS0xLTIuNy0yLjUtMi43Yy0xLjYsMC0yLjUsMS4yLTIuNSwyLjZ2MGMwLDEuNCwxLDIuNywyLjUsMi43DQoJCQlDODQuMiwxNTMuOCw4NS4yLDE1Mi41LDg1LjIsMTUxLjF6Ii8+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik04OS44LDE1Mi41di02LjJoMi43djUuNGMwLDEuMywwLjYsMiwxLjcsMnMxLjctMC43LDEuNy0ydi01LjRoMi43djkuN2gtMi43di0xLjQNCgkJCWMtMC42LDAuOC0xLjQsMS41LTIuOCwxLjVDOTEsMTU2LjEsODkuOCwxNTQuNyw4OS44LDE1Mi41eiIvPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNMTAxLjEsMTQ2LjJoMi43djEuNGMwLjctMC45LDEuNi0xLjYsMy0xLjZjMi4yLDAsNC40LDEuOCw0LjQsNXYwYzAsMy4yLTIuMSw1LTQuNCw1DQoJCQljLTEuNSwwLTIuNC0wLjctMy0xLjR2NC4xaC0yLjdWMTQ2LjJ6IE0xMDguNSwxNTEuMUwxMDguNSwxNTEuMWMwLTEuNi0xLjEtMi43LTIuNC0yLjdjLTEuMywwLTIuMywxLjEtMi4zLDIuN3YwDQoJCQljMCwxLjYsMS4xLDIuNywyLjMsMi43QzEwNy40LDE1My44LDEwOC41LDE1Mi43LDEwOC41LDE1MS4xeiIvPg0KCTwvZz4NCjwvZz4NCjxnPg0KCTxnPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNNjkuOSw3Ny4yYy05LjMsMC0xNi45LTguNC0xNi45LTE4LjhjMC0xMC40LDcuNi0xOC44LDE2LjktMTguOGM5LjMsMCwxNi44LDguNCwxNi44LDE4LjgNCgkJCUM4Ni44LDY4LjgsNzkuMiw3Ny4yLDY5LjksNzcuMkw2OS45LDc3LjJ6IE02OS45LDQ3LjNjLTUsMC05LjEsNS05LjEsMTEuMWMwLDYuMSw0LjEsMTEuMSw5LjEsMTEuMWM1LDAsOS4xLTUsOS4xLTExLjENCgkJCUM3OSw1Mi4zLDc0LjksNDcuMyw2OS45LDQ3LjNMNjkuOSw0Ny4zeiIvPg0KCTwvZz4NCgk8Zz4NCgkJPHBhdGggZmlsbD0iIzQwNDQ0NyIgZD0iTTk0LjYsMTE5LjhoLTUwYy0yLDAtMy43LTEuNi0zLjktMy42TDM5LjcsMTAwYy0wLjQtNi4yLDQuMi0xMy4xLDEwLjQtMTUuNGMxMi43LTQuNSwyNi42LTQuNSwzOS4xLDANCgkJCWM2LjIsMi4zLDEwLjgsOS4yLDEwLjQsMTUuNGwtMS4xLDE2LjFDOTguMywxMTguMiw5Ni42LDExOS44LDk0LjYsMTE5LjhMOTQuNiwxMTkuOHogTTQ4LjMsMTEySDkxbDAuOC0xMi41DQoJCQljMC4yLTIuNS0yLjItNi40LTUuMy03LjZjLTEwLjgtMy45LTIyLjktMy45LTMzLjgsMGMtMy4xLDEuMi01LjQsNS4xLTUuMyw3LjZMNDguMywxMTJMNDguMywxMTJ6Ii8+DQoJPC9nPg0KCTxnPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNOTQuNiwxMTkuOGgtNTBjLTIsMC0zLjctMS42LTMuOS0zLjZMMzkuNywxMDBjLTAuNC02LjIsNC4yLTEzLjEsMTAuNC0xNS40YzEyLjctNC41LDI2LjYtNC41LDM5LjEsMA0KCQkJYzYuMiwyLjMsMTAuOCw5LjIsMTAuNCwxNS40bC0xLjEsMTYuMUM5OC4zLDExOC4yLDk2LjYsMTE5LjgsOTQuNiwxMTkuOEw5NC42LDExOS44eiBNNDguMywxMTJIOTFsMC44LTEyLjUNCgkJCWMwLjItMi41LTIuMi02LjQtNS4zLTcuNmMtMTAuOC0zLjktMjIuOS0zLjktMzMuOCwwYy0zLjEsMS4yLTUuNCw1LjEtNS4zLDcuNkw0OC4zLDExMkw0OC4zLDExMnoiLz4NCgk8L2c+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik0xMjQuOCwxMTkuOGgtMTkuOWMtMi4xLDAtMy45LTEuNy0zLjktMy45YzAtMi4xLDEuNy0zLjksMy45LTMuOWgxNi4zbDAuNy0xMC4zYzAuMS0yLTEuOC01LjEtNC4yLTYNCgkJCWMtNC4zLTEuNi04LjktMi40LTEzLjYtMi41Yy0yLjEsMC0zLjgtMS44LTMuOC0zLjljMC0yLjEsMS44LTMuOSwzLjktMy44YzUuNSwwLjEsMTAuOSwxLjEsMTYuMSwyLjljNS41LDIsOS43LDguMyw5LjMsMTMuOQ0KCQkJbC0xLDEzLjlDMTI4LjUsMTE4LjIsMTI2LjgsMTE5LjgsMTI0LjgsMTE5LjhMMTI0LjgsMTE5Ljh6Ii8+DQoJPC9nPg0KCTxnPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNMTA5LjUsODEuM2MtNy43LDAtMTQtNy0xNC0xNS41czYuMy0xNS41LDE0LTE1LjVjNy43LDAsMTQsNywxNCwxNS41UzExNy4yLDgxLjMsMTA5LjUsODEuM0wxMDkuNSw4MS4zeg0KCQkJIE0xMDkuNSw1OGMtMy40LDAtNi4yLDMuNS02LjIsNy44YzAsNC4zLDIuOCw3LjgsNi4yLDcuOGMzLjQsMCw2LjItMy41LDYuMi03LjhDMTE1LjcsNjEuNSwxMTIuOSw1OCwxMDkuNSw1OEwxMDkuNSw1OHoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==" class="align-center" width="130" alt="image"></p></td> <td>
<p>A group is used to define access to object types and objects in the Chef Infra Server and also to assign permissions that determine what types of tasks are available to members of that group who are authorized to perform them. Groups are configured per-organization.</p> <p>Individual users who are members of a group will inherit the permissions assigned to the group. The Chef Infra Server includes the following default groups: <code>admins</code>, <code>clients</code>, and <code>users</code>. For users of the hosted Chef Infra Server, an additional default group is provided: <code>billing_admins</code>.</p>
</td> </tr> <tr> <td><p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjkuMiAxNjkuMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTY5LjIgMTY5LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHJlY3QgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjE2OS4yIiBoZWlnaHQ9IjE2OS4yIi8+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik02Ni40LDE1Mi41di02LjJoMi43djUuNGMwLDEuMywwLjYsMiwxLjcsMnMxLjctMC43LDEuNy0ydi01LjRoMi43djkuN2gtMi43di0xLjQNCgkJCWMtMC42LDAuOC0xLjQsMS41LTIuOCwxLjVDNjcuNiwxNTYuMSw2Ni40LDE1NC43LDY2LjQsMTUyLjV6Ii8+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik03Ni45LDE1NC42bDEuMi0xLjhjMSwwLjgsMi4xLDEuMiwzLDEuMmMwLjgsMCwxLjItMC4zLDEuMi0wLjd2MGMwLTAuNi0wLjktMC44LTItMS4xDQoJCQljLTEuMy0wLjQtMi45LTEtMi45LTIuOXYwYzAtMiwxLjYtMy4xLDMuNS0zLjFjMS4yLDAsMi42LDAuNCwzLjYsMS4xbC0xLDEuOWMtMS0wLjYtMS45LTAuOS0yLjYtMC45Yy0wLjcsMC0xLDAuMy0xLDAuN3YwDQoJCQljMCwwLjUsMC45LDAuOCwyLDEuMmMxLjQsMC41LDIuOSwxLjEsMi45LDIuOXYwYzAsMi4xLTEuNiwzLjEtMy43LDMuMUM3OS43LDE1Ni4xLDc4LjIsMTU1LjYsNzYuOSwxNTQuNnoiLz4NCgkJPHBhdGggZmlsbD0iIzQwNDQ0NyIgZD0iTTg2LjIsMTUxLjFMODYuMiwxNTEuMWMwLTIuOCwyLTUuMSw0LjgtNS4xYzMuMiwwLDQuNywyLjUsNC43LDUuMmMwLDAuMiwwLDAuNSwwLDAuN2gtNi43DQoJCQljMC4zLDEuMiwxLjEsMS45LDIuNCwxLjljMC45LDAsMS42LTAuMywyLjMtMWwxLjYsMS40Yy0wLjksMS4xLTIuMiwxLjgtMy45LDEuOEM4OC40LDE1Ni4xLDg2LjIsMTU0LjEsODYuMiwxNTEuMXogTTkzLDE1MC4zDQoJCQljLTAuMi0xLjItMC45LTIuMS0yLTIuMWMtMS4xLDAtMS45LDAuOC0yLjEsMi4xSDkzeiIvPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNOTcuNywxNDYuMmgyLjd2MS45YzAuNi0xLjMsMS41LTIuMiwzLjEtMi4xdjIuOWgtMC4xYy0xLjgsMC0yLjksMS4xLTIuOSwzLjR2My42aC0yLjdWMTQ2LjJ6Ii8+DQoJPC9nPg0KPC9nPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiM0MDQ0NDciIGQ9Ik04NC4xLDc4Yy05LjIsMC0xNi42LTguMy0xNi42LTE4LjZjMC0xMC4zLDcuNC0xOC42LDE2LjYtMTguNmM5LjIsMCwxNi42LDguMywxNi42LDE4LjYNCgkJCUMxMDAuNyw2OS42LDkzLjMsNzgsODQuMSw3OEw4NC4xLDc4eiBNODQuMSw0Ny43Yy01LjMsMC05LjcsNS4yLTkuNywxMS43YzAsNi40LDQuMywxMS43LDkuNywxMS43YzUuMywwLDkuNy01LjIsOS43LTExLjcNCgkJCUM5My44LDUyLjksODkuNSw0Ny43LDg0LjEsNDcuN0w4NC4xLDQ3Ljd6Ii8+DQoJPC9nPg0KCTxnPg0KCQk8cGF0aCBmaWxsPSIjNDA0NDQ3IiBkPSJNMTA5LjEsMTIwLjhINTguNWMtMS44LDAtMy4zLTEuNC0zLjUtMy4yTDU0LDEwMS4yYy0wLjQtNiw0LjMtMTIuOSwxMC4yLTE1LjFjMTIuNy00LjYsMjYuNy00LjUsMzkuMywwDQoJCQljNiwyLjIsMTAuNiw5LjEsMTAuMiwxNS4xbC0xLjEsMTYuM0MxMTIuNSwxMTkuNCwxMTEsMTIwLjgsMTA5LjEsMTIwLjhMMTA5LjEsMTIwLjh6IE02MS44LDExMy45aDQ0LjFsMC45LTEzLjENCgkJCWMwLjItMi43LTIuMy02LjktNS43LTguMmMtMTEuMS00LTIzLjUtNC0zNC42LDBjLTMuMywxLjItNS44LDUuNS01LjcsOC4yTDYxLjgsMTEzLjlMNjEuOCwxMTMuOXoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==" class="align-center" width="130" alt="image"></p></td> <td>A user is any non-administrator human being who will manage data that is uploaded to the Chef Infra Server from a workstation or who will log on to the Chef management console web user interface. The Chef Infra Server includes a single default user that is defined during setup and is automatically assigned to the <code>admins</code> group.</td> </tr> <tr> <td><p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjkuMiAxNjkuMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTY5LjIgMTY5LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHJlY3QgeT0iMCIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjE2OS4yIiBoZWlnaHQ9IjE2OS4yIi8+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiNGMDg5MjEiIGQ9Ik0zNC43LDE0OS42TDM0LjcsMTQ5LjZjMC0zLjYsMi43LTYuNiw2LjYtNi42YzIuNCwwLDMuOCwwLjgsNSwxLjlsLTEuOCwyYy0xLTAuOS0yLTEuNC0zLjItMS40DQoJCQljLTIuMSwwLTMuNywxLjgtMy43LDMuOXYwYzAsMi4yLDEuNSw0LDMuNyw0YzEuNCwwLDIuMy0wLjYsMy4zLTEuNWwxLjgsMS44Yy0xLjMsMS40LTIuNywyLjMtNS4yLDIuMw0KCQkJQzM3LjUsMTU2LjEsMzQuNywxNTMuMiwzNC43LDE0OS42eiIvPg0KCQk8cGF0aCBmaWxsPSIjRjA4OTIxIiBkPSJNNDguMywxNDIuN0g1MXY0LjljMC42LTAuOCwxLjQtMS41LDIuOC0xLjVjMi4xLDAsMy4zLDEuNCwzLjMsMy42djYuMmgtMi43di01LjRjMC0xLjMtMC42LTItMS43LTINCgkJCXMtMS43LDAuNy0xLjcsMnY1LjRoLTIuN1YxNDIuN3oiLz4NCgkJPHBhdGggZmlsbD0iI0YwODkyMSIgZD0iTTU5LDE1MS4xTDU5LDE1MS4xYzAtMi44LDItNS4xLDQuOC01LjFjMy4yLDAsNC43LDIuNSw0LjcsNS4yYzAsMC4yLDAsMC41LDAsMC43aC02LjcNCgkJCWMwLjMsMS4yLDEuMSwxLjksMi40LDEuOWMwLjksMCwxLjYtMC4zLDIuMy0xbDEuNiwxLjRjLTAuOSwxLjEtMi4yLDEuOC0zLjksMS44QzYxLjIsMTU2LjEsNTksMTU0LjEsNTksMTUxLjF6IE02NS44LDE1MC4zDQoJCQljLTAuMi0xLjItMC45LTIuMS0yLTIuMWMtMS4xLDAtMS45LDAuOC0yLjEsMi4xSDY1Ljh6Ii8+DQoJCTxwYXRoIGZpbGw9IiNGMDg5MjEiIGQ9Ik03MSwxNDguNmgtMS4xdi0yLjNINzF2LTAuNmMwLTEuMSwwLjMtMS44LDAuOC0yLjNjMC41LTAuNSwxLjItMC44LDIuMi0wLjhjMC45LDAsMS40LDAuMSwxLjksMC4zdjIuMw0KCQkJYy0wLjQtMC4xLTAuOC0wLjItMS4yLTAuMmMtMC42LDAtMSwwLjMtMSwxdjAuNGgyLjJ2Mi4yaC0yLjJ2Ny4zSDcxVjE0OC42eiIvPg0KCQk8cGF0aCBmaWxsPSIjRjA4OTIxIiBkPSJNODIuNSwxNDkuNkw4Mi41LDE0OS42YzAtMy42LDIuNy02LjYsNi42LTYuNmMyLjQsMCwzLjgsMC44LDUsMS45bC0xLjgsMmMtMS0wLjktMi0xLjQtMy4yLTEuNA0KCQkJYy0yLjEsMC0zLjcsMS44LTMuNywzLjl2MGMwLDIuMiwxLjUsNCwzLjcsNGMxLjQsMCwyLjMtMC42LDMuMy0xLjVsMS44LDEuOGMtMS4zLDEuNC0yLjcsMi4zLTUuMiwyLjMNCgkJCUM4NS4zLDE1Ni4xLDgyLjUsMTUzLjIsODIuNSwxNDkuNnoiLz4NCgkJPHBhdGggZmlsbD0iI0YwODkyMSIgZD0iTTk2LjIsMTQyLjdIOTl2MTMuMWgtMi43VjE0Mi43eiIvPg0KCQk8cGF0aCBmaWxsPSIjRjA4OTIxIiBkPSJNMTAxLjYsMTQyLjdoMi45djIuNGgtMi45VjE0Mi43eiBNMTAxLjcsMTQ2LjJoMi43djkuN2gtMi43VjE0Ni4yeiIvPg0KCQk8cGF0aCBmaWxsPSIjRjA4OTIxIiBkPSJNMTA2LjUsMTUxLjFMMTA2LjUsMTUxLjFjMC0yLjgsMi01LjEsNC44LTUuMWMzLjIsMCw0LjcsMi41LDQuNyw1LjJjMCwwLjIsMCwwLjUsMCwwLjdoLTYuNw0KCQkJYzAuMywxLjIsMS4xLDEuOSwyLjQsMS45YzAuOSwwLDEuNi0wLjMsMi4zLTFsMS42LDEuNGMtMC45LDEuMS0yLjIsMS44LTMuOSwxLjhDMTA4LjYsMTU2LjEsMTA2LjUsMTU0LjEsMTA2LjUsMTUxLjF6DQoJCQkgTTExMy4zLDE1MC4zYy0wLjItMS4yLTAuOS0yLjEtMi0yLjFjLTEuMSwwLTEuOSwwLjgtMi4xLDIuMUgxMTMuM3oiLz4NCgkJPHBhdGggZmlsbD0iI0YwODkyMSIgZD0iTTExOCwxNDYuMmgyLjd2MS40YzAuNi0wLjgsMS40LTEuNSwyLjgtMS41YzIuMSwwLDMuMywxLjQsMy4zLDMuNnY2LjJoLTIuN3YtNS40YzAtMS4zLTAuNi0yLTEuNy0yDQoJCQljLTEsMC0xLjcsMC43LTEuNywydjUuNEgxMThWMTQ2LjJ6Ii8+DQoJCTxwYXRoIGZpbGw9IiNGMDg5MjEiIGQ9Ik0xMjkuNywxNTMuMnYtNC42aC0xLjJ2LTIuM2gxLjJ2LTIuNWgyLjd2Mi41aDIuM3YyLjNoLTIuM3Y0LjFjMCwwLjYsMC4zLDAuOSwwLjksMC45DQoJCQljMC41LDAsMS0wLjEsMS40LTAuM3YyLjJjLTAuNiwwLjMtMS4yLDAuNi0yLjIsMC42QzEzMC44LDE1Ni4xLDEyOS43LDE1NS40LDEyOS43LDE1My4yeiIvPg0KCTwvZz4NCjwvZz4NCjxnPg0KCTxnPg0KCQk8cGF0aCBmaWxsPSIjRjA4OTIxIiBkPSJNMTM5LjYsMTMyLjJIMzAuNWMtMi44LDAtNS0yLjItNS01VjIwYzAtMi44LDIuMi01LDUtNWgxMDkuMWMyLjgsMCw1LDIuMiw1LDV2MTA3LjINCgkJCUMxNDQuNiwxMzAsMTQyLjMsMTMyLjIsMTM5LjYsMTMyLjJMMTM5LjYsMTMyLjJ6IE0zNS41LDEyMi4yaDk5VjI1LjFoLTk5VjEyMi4yTDM1LjUsMTIyLjJ6Ii8+DQoJPC9nPg0KCTxwYXRoIGZpbGw9IiNGMDg5MjEiIGQ9Ik00Ny44LDM1Ljh2NzMuOGg3My44VjM1LjhINDcuOHogTTg0LjcsNDguM2M1LjYsMCwxMC43LDEuOCwxNC45LDQuOWwtMi41LDMuNGMtMy40LTIuNi03LjctNC4xLTEyLjMtNC4xDQoJCWMtOC43LDAtMTYuMiw1LjUtMTkuMiwxMy4ybC0zLjktMS41QzY1LjIsNTQuOSw3NC4yLDQ4LjMsODQuNyw0OC4zeiBNNjguOCw3My4xYzAsNi43LDQuMSwxMi40LDEwLDE0LjhsLTEuNiwzLjkNCgkJYy0zLjctMS41LTYuOS00LTkuMS03LjNjLTIuMi0zLjItMy41LTcuMi0zLjUtMTEuNEg2OC44eiBNNjYsNjUuOGMxLjUtMy43LDQtNyw3LjMtOS4yYzMuMy0yLjMsNy4yLTMuNiwxMS41LTMuNnY0LjINCgkJYy02LjcsMC0xMi41LDQuMi0xNC44LDEwLjFMNjYsNjUuOHogTTY5LjMsNzMuMWMwLTguNSw2LjktMTUuNCwxNS40LTE1LjRjNy40LDAsMTMuNiw1LjMsMTUuMSwxMi4zaC00LjMNCgkJYy0xLjQtNC43LTUuNy04LjEtMTAuOC04LjFjLTYuMiwwLTExLjIsNS0xMS4yLDExLjJjMCw2LjIsNSwxMS4yLDExLjIsMTEuMmM1LjEsMCw5LjQtMy40LDEwLjgtOC4xaDQuM2MtMS40LDctNy43LDEyLjMtMTUuMSwxMi4zDQoJCUM3Ni4yLDg4LjUsNjkuMyw4MS42LDY5LjMsNzMuMXogTTkwLjEsNzBjLTAuNy0xLjItMS44LTIuMi0zLjEtMi43bDEuNi00LjJjMywxLjIsNS40LDMuNyw2LjMsNi44SDkwLjF6IE05NC45LDc2LjINCgkJYy0xLDMuMS0zLjMsNS43LTYuMyw2LjhMODcsNzguOWMxLjMtMC41LDIuNC0xLjUsMy4xLTIuN0g5NC45eiBNNzguNSw3My4xYzAsMC45LDAuMiwxLjcsMC41LDIuNWwtNC4xLDEuOA0KCQljLTAuNi0xLjMtMC45LTIuOC0wLjktNC4zYzAtNS45LDQuOC0xMC43LDEwLjctMTAuN3Y0LjVDODEuMyw2Ni45LDc4LjUsNjkuNyw3OC41LDczLjF6IE04NC43LDc5LjN2NC41Yy0yLjksMC01LjYtMS4yLTcuNS0zLjENCgkJbDMuMS0zLjFDODEuNSw3OC43LDgzLDc5LjMsODQuNyw3OS4zeiBNODQuNyw4OS4xYzcuNywwLDE0LjItNS41LDE1LjYtMTIuOGg0LjNjLTEuNSw5LjYtOS44LDE3LTE5LjksMTdWODkuMXogTTEwMC4zLDcwDQoJCWMtMS4xLTUuNC00LjgtOS44LTkuOC0xMS43bDEuNS0zLjljNi42LDIuNiwxMS41LDguNSwxMi42LDE1LjZIMTAwLjN6IE02Miw4My4xYy0wLjQtMC45LTAuNy0xLjgtMS0yLjhjMC0wLjEsMC0wLjEtMC4xLTAuMg0KCQljMC0wLjItMC4xLTAuNC0wLjItMC41YzAtMC4xLTAuMS0wLjMtMC4xLTAuNGMwLTAuMi0wLjEtMC4zLTAuMS0wLjVjMC0wLjItMC4xLTAuMy0wLjEtMC41YzAtMC4xLTAuMS0wLjItMC4xLTAuMw0KCQljMC0wLjItMC4xLTAuNC0wLjEtMC43YzAtMC4xLDAtMC4xLDAtMC4yYzAtMC4zLTAuMS0wLjUtMC4xLTAuOGMwLDAsMCwwLDAtMC4xYy0wLjEtMS0wLjItMi0wLjItM2g0LjJjMCwwLjksMC4xLDEuOCwwLjIsMi43DQoJCWMwLDAuMSwwLDAuMywwLjEsMC40YzAsMC4yLDAuMSwwLjMsMC4xLDAuNWMwLDAuMSwwLDAuMiwwLDAuM2MwLDAuMiwwLjEsMC40LDAuMSwwLjZjMCwwLDAsMC4xLDAsMC4xYzAuMSwwLjIsMC4xLDAuNCwwLjIsMC43DQoJCWMwLDAsMCwwLDAsMGMwLjEsMC4yLDAuMSwwLjUsMC4yLDAuN2MwLjIsMC44LDAuNSwxLjYsMC45LDIuM0w2Miw4My4xeiBNODQuNyw5OGMtNi45LDAtMTMuMS0yLjgtMTcuNi03LjNsMy0zDQoJCWMzLjcsMy43LDguOSw2LjEsMTQuNiw2LjFjMTAuMywwLDE4LjktNy42LDIwLjQtMTcuNWg0LjNDMTA3LjgsODguNSw5Ny40LDk4LDg0LjcsOTh6IE0xMDUuMSw3MGMtMC40LTIuOC0xLjQtNS41LTIuOS03LjhsMy42LTIuMg0KCQljMS45LDMsMy4xLDYuNCwzLjYsMTBIMTA1LjF6Ii8+DQo8L2c+DQo8L3N2Zz4NCg==" class="align-center" width="130" alt="image"></p></td> <td>A client is an actor that has permission to access the Chef Infra Server. A client is most often a node (on which the Chef Infra Client runs), but is also a workstation (on which knife runs), or some other machine that is configured to use the Chef Infra Server API. Each request to the Chef Infra Server that is made by a client uses a private key for authentication that must be authorized by the public key on the Chef Infra Server.</td> </tr> </tbody> </table> <p>When a user makes a request to the Chef Infra Server using the Chef Infra Server API, permission to perform that action is determined by the following process:</p> <ol> <li>Check if the user has permission to the object type</li> <li>If no, recursively check if the user is a member of a security group that has permission to that object</li> <li>If yes, allow the user to perform the action</li> </ol> <p>Permissions are managed using the Chef management console add-on in the Chef Infra Server web user interface.</p> <h2 id="organizations">Organizations</h2> <p>A single instance of the Chef Infra Server can support many organizations. Each organization has a unique set of groups and users. Each organization manages a unique set of nodes, on which a Chef Infra Client is installed and configured so that it may interact with a single organization on the Chef Infra Server.</p> <p><img src="data:image/png;base64,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" alt="image"></p> <p>A user may belong to multiple organizations under the following conditions:</p> <ul> <li>Role-based access control is configured per-organization</li> <li>For a single user to interact with the Chef Infra Server using knife from the same chef-repo, that user may need to edit their config.rb file prior to that interaction</li> </ul> <p>Using multiple organizations within the Chef Infra Server ensures that the same toolset, coding patterns and practices, physical hardware, and product support effort is being applied across the entire company, even when:</p> <ul> <li>Multiple product groups must be supported—each product group can have its own security requirements, schedule, and goals</li> <li>Updates occur on different schedules—the nodes in one organization are managed completely independently from the nodes in another</li> <li>Individual teams have competing needs for object and object types—data bags, environments, roles, and cookbooks are unique to each organization, even if they share the same name</li> </ul> <h3 id="permissions">Permissions</h3> <p>Permissions are used in the Chef Infra Server to define how users and groups can interact with objects on the server. Permissions are configured per-organization.</p> <h4 id="object-permissions">Object Permissions</h4> <p>The Chef Infra Server includes the following object permissions:</p> <table> <col style="width:12%"> <col style="width:87%"> <thead> <tr class="header"> <th>Permission</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong>Delete</strong></td> <td>Use the <strong>Delete</strong> permission to define which users and groups may delete an object. This permission is required for any user who uses the <code>knife [object] delete [object_name]</code> argument to interact with objects on the Chef Infra Server.</td> </tr> <tr> <td><strong>Grant</strong></td> <td>Use the <strong>Grant</strong> permission to define which users and groups may configure permissions on an object. This permission is required for any user who configures permissions using the <strong>Administration</strong> tab in the Chef management console.</td> </tr> <tr> <td><strong>Read</strong></td> <td>Use the <strong>Read</strong> permission to define which users and groups may view the details of an object. This permission is required for any user who uses the <code>knife [object] show [object_name]</code> argument to interact with objects on the Chef Infra Server.</td> </tr> <tr> <td><strong>Update</strong></td> <td>Use the <strong>Update</strong> permission to define which users and groups may edit the details of an object. This permission is required for any user who uses the <code>knife [object] edit [object_name]</code> argument to interact with objects on the Chef Infra Server and for any Chef Infra Client to save node data to the Chef Infra Server at the conclusion of a Chef Infra Client run.</td> </tr> </tbody> </table> <h4 id="global-permissions">Global Permissions</h4> <p>The Chef Infra Server includes the following global permissions:</p> <table> <col style="width:12%"> <col style="width:87%"> <thead> <tr class="header"> <th>Permission</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong>Create</strong></td> <td>Use the <strong>Create</strong> global permission to define which users and groups may create the following server object types: cookbooks, data bags, environments, nodes, roles, and tags. This permission is required for any user who uses the <code>knife [object] create</code> argument to interact with objects on the Chef Infra Server.</td> </tr> <tr> <td><strong>List</strong></td> <td>Use the <strong>List</strong> global permission to define which users and groups may view the following server object types: cookbooks, data bags, environments, nodes, roles, and tags. This permission is required for any user who uses the <code>knife [object] list</code> argument to interact with objects on the Chef Infra Server.</td> </tr> </tbody> </table> <p>These permissions set the default permissions for the following Chef Infra Server object types: clients, cookbooks, data bags, environments, groups, nodes, roles, and sandboxes.</p> <h4 id="client-key-permissions">Client Key Permissions</h4> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> This is only necessary after migrating a client from one Chef Infra Server to another. Permissions must be reset for client keys after the migration. </div> </div> <p>Keys should have <code>DELETE</code>, <code>GRANT</code>, <code>READ</code> and <code>UPDATE</code> permissions.</p> <p>Use the following code to set the correct permissions:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-ruby" data-lang="ruby"><span style="color:#60a0b0;font-style:italic">#!/usr/bin/env ruby</span>
<span style="color:#007020">require</span> <span style="color:#4070a0">'chef/knife'</span>

<span style="color:#60a0b0;font-style:italic">#previously knife.rb</span>
<span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">Config</span><span style="color:#666">.</span>from_file(<span style="color:#60add5">File</span><span style="color:#666">.</span>join(<span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">Knife</span><span style="color:#666">.</span>chef_config_dir, <span style="color:#4070a0">'knife.rb'</span>))

rest <span style="color:#666">=</span> <span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">ServerAPI</span><span style="color:#666">.</span>new(<span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">Config</span><span style="color:#666">[</span><span style="color:#517918">:chef_server_url</span><span style="color:#666">]</span>)

<span style="color:#60add5">Chef</span><span style="color:#666">::</span><span style="color:#60add5">Node</span><span style="color:#666">.</span>list<span style="color:#666">.</span>each <span style="color:#007020;font-weight:700">do</span> <span style="color:#666">|</span>node<span style="color:#666">|</span>
  <span style="color:#c65d09">%w(read update delete grant)</span><span style="color:#666">.</span>each <span style="color:#007020;font-weight:700">do</span> <span style="color:#666">|</span>perm<span style="color:#666">|</span>
    ace <span style="color:#666">=</span> rest<span style="color:#666">.</span>get(<span style="color:#4070a0">"nodes/</span><span style="color:#70a0d0;font-style:italic">#{</span>node<span style="color:#666">[</span><span style="color:#40a070">0</span><span style="color:#666">]</span><span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">/_acl"</span>)<span style="color:#666">[</span>perm<span style="color:#666">]</span>
    ace<span style="color:#666">[</span><span style="color:#4070a0">'actors'</span><span style="color:#666">]</span> <span style="color:#666">&lt;&lt;</span> node<span style="color:#666">[</span><span style="color:#40a070">0</span><span style="color:#666">]</span> <span style="color:#007020;font-weight:700">unless</span> ace<span style="color:#666">[</span><span style="color:#4070a0">'actors'</span><span style="color:#666">].</span>include?(node<span style="color:#666">[</span><span style="color:#40a070">0</span><span style="color:#666">]</span>)
    rest<span style="color:#666">.</span>put(<span style="color:#4070a0">"nodes/</span><span style="color:#70a0d0;font-style:italic">#{</span>node<span style="color:#666">[</span><span style="color:#40a070">0</span><span style="color:#666">]</span><span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">/_acl/</span><span style="color:#70a0d0;font-style:italic">#{</span>perm<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">"</span>, perm <span style="color:#666">=&gt;</span> ace)
    <span style="color:#007020">puts</span> <span style="color:#4070a0">"Client </span><span style="color:#4070a0;font-weight:700">\"</span><span style="color:#70a0d0;font-style:italic">#{</span>node<span style="color:#666">[</span><span style="color:#40a070">0</span><span style="color:#666">]</span><span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0;font-weight:700">\"</span><span style="color:#4070a0"> granted </span><span style="color:#4070a0;font-weight:700">\"</span><span style="color:#70a0d0;font-style:italic">#{</span>perm<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0;font-weight:700">\"</span><span style="color:#4070a0"> access on node </span><span style="color:#4070a0;font-weight:700">\"</span><span style="color:#70a0d0;font-style:italic">#{</span>node<span style="color:#666">[</span><span style="color:#40a070">0</span><span style="color:#666">]</span><span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0;font-weight:700">\"</span><span style="color:#4070a0">"</span>
  <span style="color:#007020;font-weight:700">end</span>
<span style="color:#007020;font-weight:700">end</span>
</code></pre></div>
<p>Save it as a Ruby script—<code>chef_server_permissions.rb</code>, for example—in the <code>.chef/scripts</code> directory located in the chef-repo, and then run a knife command similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">knife <span style="color:#007020">exec</span> chef_server_permissions.rb
</code></pre></div>
<h4 id="knife-acl">Knife ACL</h4> <p>The knife plugin <a href="https://github.com/chef/knife-acl">knife-acl</a> provides a fine-grained approach to modifying permissions, by wrapping API calls to the <code>_acl</code> endpoint and makes such permission changes easier to manage.</p> <div class="admonition-warning">
<p class="admonition-warning-title">Warning</p>
<div class="admonition-warning-text"> <p>Chef Manage is <a href="../../versions/index.html#deprecated-products-and-versions">deprecated</a> and no longer under active development. It is supported on Chef Automate installations up to version 1.8 and replaced by Chef Automate 2.0. Contact your Chef account representative for information about upgrading your system. See our <a href="../../automate/index.html">Automate documentation</a> to learn more about Chef Automate 2.</p> <p>This document is no longer maintained.</p> </div>
</div> <p><span class="title-ref">knife-acl</span> and the Chef Manage browser interface are incompatible. After engaging <span class="title-ref">knife-acl</span>, you will need to discontinue using the Chef Manage browser interface from that point forward due to possible incompatibilities.</p> <h2 id="groups">Groups</h2> <p>The Chef Infra Server includes the following default groups:</p> <table> <col style="width:12%"> <col style="width:87%"> <thead> <tr class="header"> <th>Group</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>admins</code></td> <td>The <code>admins</code> group defines the list of users who have administrative rights to all objects and object types for a single organization.</td> </tr> <tr> <td><code>billing_admins</code></td> <td>The <code>billing_admins</code> group defines the list of users who have permission to manage billing information. This permission exists only for the hosted Chef Infra Server.</td> </tr> <tr> <td><code>clients</code></td> <td>The <code>clients</code> group defines the list of nodes on which a Chef Infra Client is installed and under management by Chef. In general, think of this permission as "all of the non-human actors---Chef Infra Client, in nearly every case---that get data from, and/or upload data to, the Chef server". Newly-created Chef Infra Client instances are added to this group automatically.</td> </tr> <tr> <td><code>public_key_read_access</code></td> <td>The <code>public_key_read_access</code> group defines which users and clients have read permissions to key-related endpoints in the Chef Infra Server API.</td> </tr> <tr> <td><code>users</code></td> <td>The <code>users</code> group defines the list of users who use knife and the Chef management console to interact with objects and object types. In general, think of this permission as "all of the non-admin human actors who work with data that is uploaded to and/or downloaded from the Chef server".</td> </tr> </tbody> </table> <h3 id="example-default-permissions">Example Default Permissions</h3> <p>The following sections show the default permissions assigned by the Chef Infra Server to the <code>admins</code>, <code>billing_admins</code>, <code>clients</code>, and <code>users</code> groups.</p> <div class="admonition-note"> <p class="admonition-note-title">Note</p> <div class="admonition-note-text"> The creator of an object on the Chef Infra Server is assigned <code>create</code>, <code>delete</code>, <code>grant</code>, <code>read</code>, and <code>update</code> permission to that object. </div> </div> <h4 id="admins">admins</h4> <p>The <code>admins</code> group is assigned the following:</p> <table style="width:100%"> <col style="width:24%"> <col style="width:15%"> <col style="width:15%"> <col style="width:15%"> <col style="width:15%"> <col style="width:15%"> <thead> <tr class="header"> <th>Group</th> <th>Create</th> <th>Delete</th> <th>Grant</th> <th>Read</th> <th>Update</th> </tr> </thead> <tbody> <tr> <td>admins</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>clients</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>users</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> </tbody> </table> <h4 id="billing_admins">billing_admins</h4> <p>The <code>billing_admins</code> group is assigned the following:</p> <h4 id="billing_admins-1">billing_admins</h4> <p>The <code>billing_admins</code> group is assigned the following:</p> <table> <col style="width:28%"> <col style="width:17%"> <col style="width:17%"> <col style="width:17%"> <col style="width:17%"> <thead> <tr class="header"> <th>Group</th> <th>Create</th> <th>Delete</th> <th>Read</th> <th>Update</th> </tr> </thead> <tbody> <tr> <td>billing_admins</td> <td>no</td> <td>no</td> <td>yes</td> <td>yes</td> </tr> </tbody> </table> <h4 id="clients">clients</h4> <p>The <code>clients</code> group is assigned the following:</p> <table> <col style="width:28%"> <col style="width:17%"> <col style="width:17%"> <col style="width:17%"> <col style="width:17%"> <thead> <tr class="header"> <th>Object</th> <th>Create</th> <th>Delete</th> <th>Read</th> <th>Update</th> </tr> </thead> <tbody> <tr> <td>clients</td> <td>no</td> <td>no</td> <td>no</td> <td>no</td> </tr> <tr> <td>cookbooks</td> <td>no</td> <td>no</td> <td>yes</td> <td>no</td> </tr> <tr> <td>cookbook_artifacts</td> <td>no</td> <td>no</td> <td>yes</td> <td>no</td> </tr> <tr> <td>data</td> <td>no</td> <td>no</td> <td>yes</td> <td>no</td> </tr> <tr> <td>environments</td> <td>no</td> <td>no</td> <td>yes</td> <td>no</td> </tr> <tr> <td>nodes</td> <td>yes</td> <td>no</td> <td>yes</td> <td>no</td> </tr> <tr> <td>organization</td> <td>no</td> <td>no</td> <td>yes</td> <td>no</td> </tr> <tr> <td>policies</td> <td>no</td> <td>no</td> <td>yes</td> <td>no</td> </tr> <tr> <td>policy_groups</td> <td>no</td> <td>no</td> <td>yes</td> <td>no</td> </tr> <tr> <td>roles</td> <td>no</td> <td>no</td> <td>yes</td> <td>no</td> </tr> <tr> <td>sandboxes</td> <td>no</td> <td>no</td> <td>no</td> <td>no</td> </tr> </tbody> </table> <h4 id="public_key_read_access">public_key_read_access</h4> <p>The <code>public_key_read_access</code> group controls which users and clients have <a href="../../api_chef_server/index.html">read permissions to the following endpoints</a>:</p> <ul> <li>GET /clients/CLIENT/keys</li> <li>GET /clients/CLIENT/keys/KEY</li> <li>GET /users/USER/keys</li> <li>GET /users/USER/keys/</li> </ul> <p>By default, the <code>public_key_read_access</code> assigns all members of the <code>users</code> and <code>clients</code> group permission to these endpoints:</p> <table style="width:100%"> <col style="width:24%"> <col style="width:15%"> <col style="width:15%"> <col style="width:15%"> <col style="width:15%"> <col style="width:15%"> <thead> <tr class="header"> <th>Group</th> <th>Create</th> <th>Delete</th> <th>Grant</th> <th>Read</th> <th>Update</th> </tr> </thead> <tbody> <tr> <td>admins</td> <td>no</td> <td>no</td> <td>no</td> <td>no</td> <td>no</td> </tr> <tr> <td>clients</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>users</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> </tbody> </table> <h4 id="users">users</h4> <p>The <code>users</code> group is assigned the following:</p> <h4 id="users-1">users</h4> <p>The <code>users</code> group is assigned the following:</p> <table> <col style="width:28%"> <col style="width:17%"> <col style="width:17%"> <col style="width:17%"> <col style="width:17%"> <thead> <tr class="header"> <th>Object</th> <th>Create</th> <th>Delete</th> <th>Read</th> <th>Update</th> </tr> </thead> <tbody> <tr> <td>clients</td> <td>no</td> <td>yes</td> <td>yes</td> <td>no</td> </tr> <tr> <td>cookbooks</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>cookbook_artifacts</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>data</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>environments</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>nodes</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>organization</td> <td>no</td> <td>no</td> <td>yes</td> <td>no</td> </tr> <tr> <td>policies</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>policy_groups</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>roles</td> <td>yes</td> <td>yes</td> <td>yes</td> <td>yes</td> </tr> <tr> <td>sandboxes</td> <td>yes</td> <td>no</td> <td>no</td> <td>no</td> </tr> </tbody> </table> <h3 id="chef-validator">chef-validator</h3> <p>Every request made by Chef Infra Client to the Chef Infra Server must be an authenticated request using the Chef Infra Server API and a private key. When Chef Infra Client makes a request to the Chef Infra Server, Chef Infra Client authenticates each request using a private key located in <code>/etc/chef/client.pem</code>.</p> <p>The chef-validator is allowed to do the following at the start of a Chef Infra Client run. After the Chef Infra Client is registered with Chef Infra Server, that Chef Infra Client is added to the <code>clients</code> group:</p> <table> <col style="width:28%"> <col style="width:17%"> <col style="width:17%"> <col style="width:17%"> <col style="width:17%"> <thead> <tr class="header"> <th>Object</th> <th>Create</th> <th>Delete</th> <th>Read</th> <th>Update</th> </tr> </thead> <tbody> <tr> <td>clients</td> <td>yes</td> <td>no</td> <td>no</td> <td>no</td> </tr> </tbody> </table> <h2 id="server-admins">Server Admins</h2> <p>The <code>server-admins</code> group is a global group that grants its members permission to create, read, update, and delete user accounts, with the exception of superuser accounts. The <code>server-admins</code> group is useful for users who are responsible for day-to-day administration of the Chef Infra Server, especially user management via the <code>knife user</code> subcommand. Before members can be added to the <code>server-admins</code> group, they must already have a user account on the Chef Infra Server.</p> <h3 id="scenario">Scenario</h3> <p>The following user accounts exist on the Chef Infra Server: <code>pivotal</code> (a superuser account), <code>alice</code>, <code>bob</code>, <code>carol</code>, and <code>dan</code>. Run the following command to view a list of users on the Chef Infra Server:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl user-list
</code></pre></div>
<p>and it returns the same list of users:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">pivotal
alice
bob
carol
dan
</code></pre></div>
<p>Alice is a member of the IT team whose responsibilities include day-to-day administration of the Chef Infra Server, in particular managing the user accounts on the Chef Infra Server that are used by the rest of the organization. From a workstation, Alice runs the following command:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">knife user list -c ~/.chef/alice.rb
</code></pre></div>
<p>and it returns the following error:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">ERROR: You authenticated successfully to &lt;chef_server_url&gt; as alice
       but you are not authorized <span style="color:#007020;font-weight:700">for</span> this action
Response: Missing <span style="color:#007020">read</span> permission
</code></pre></div>
<p>Alice is not a superuser and does not have permissions on other users because user accounts are global to organizations in the Chef Infra Server. Let’s add Alice to the <code>server-admins</code> group:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl grant-server-admin-permissions alice
</code></pre></div>
<p>and it returns the following response:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">User alice was added to server-admins.
</code></pre></div>
<p>Alice can now create, read, update, and delete user accounts on the Chef Infra Server, even for organizations to which Alice is not a member. From a workstation, Alice re-runs the following command:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">knife user list -c ~/.chef/alice.rb
</code></pre></div>
<p>which now returns:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">pivotal
alice
bob
carol
dan
</code></pre></div>
<p>Alice is now a server administrator and can use the following knife subcommands to manage users on the Chef Infra Server:</p> <ul> <li><code>knife user-create</code></li> <li><code>knife user-delete</code></li> <li><code>knife user-edit</code></li> <li><code>knife user-list</code></li> <li><code>knife user-show</code></li> </ul> <p>For example, Alice runs the following command:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">knife user edit carol -c ~/.chef/alice.rb
</code></pre></div>
<p>and the $EDITOR opens in which Alice makes changes, and then saves them.</p> <h4 id="superuser-accounts">Superuser Accounts</h4> <p>Superuser accounts may not be managed by users who belong to the <code>server-admins</code> group. For example, Alice attempts to delete the <code>pivotal</code> superuser account:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">knife user delete pivotal -c ~/.chef/alice.rb
</code></pre></div>
<p>and the following error is returned:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">ERROR: You authenticated successfully to &lt;chef_server_url&gt; as user1
       but you are not authorized <span style="color:#007020;font-weight:700">for</span> this action
Response: Missing <span style="color:#007020">read</span> permission
</code></pre></div>
<p>Alice’s action is unauthorized even with membership in the <code>server-admins</code> group.</p> <h3 id="manage-server-admins-group">Manage server-admins Group</h3> <p>Membership of the <code>server-admins</code> group is managed with a set of <code>chef-server-ctl</code> subcommands:</p> <ul> <li><code>chef-server-ctl grant-server-admin-permissions</code></li> <li><code>chef-server-ctl list-server-admins</code></li> <li><code>chef-server-ctl remove-server-admin-permissions</code></li> </ul> <h4 id="add-members">Add Members</h4> <p>The <code>grant-server-admin-permissions</code> subcommand is used to add a user to the <code>server-admins</code> group. Run the command once per user added.</p> <p>This subcommand has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl grant-server-admin-permissions USER_NAME
</code></pre></div>
<p>where <code>USER_NAME</code> is the user to add to the list of server administrators.</p> <p>For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl grant-server-admin-permissions bob
</code></pre></div>
<p>returns:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">User bob was added to server-admins. This user can now list,
read, and create users <span style="color:#666">(</span>even <span style="color:#007020;font-weight:700">for</span> orgs they are not members of<span style="color:#666">)</span>
<span style="color:#007020;font-weight:700">for</span> this Chef Infra Server.
</code></pre></div>
<h4 id="remove-members">Remove Members</h4> <p>The <code>remove-server-admin-permissions</code> subcommand is used to remove a user from the <code>server-admins</code> group. Run the command once per user removed.</p> <p>This subcommand has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl remove-server-admin-permissions USER_NAME
</code></pre></div>
<p>where <code>USER_NAME</code> is the user to remove from the list of server administrators.</p> <p>For example:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl remove-server-admin-permissions bob
</code></pre></div>
<p>returns:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">User bob was removed from server-admins. This user can no longer
list, read, and create users <span style="color:#007020;font-weight:700">for</span> this Chef Infra Server except <span style="color:#007020;font-weight:700">for</span> where
they have default permissions <span style="color:#666">(</span>such as within an org<span style="color:#666">)</span>.
</code></pre></div>
<h4 id="list-membership">List Membership</h4> <p>The <code>list-server-admins</code> subcommand is used to return a list of users who are members of the <code>server-admins</code> group.</p> <p>This subcommand has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl list-server-admins
</code></pre></div>
<p>and will return a list of users similar to:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">pivotal
alice
bob
carol
dan
</code></pre></div>
<h2 id="manage-organizations">Manage Organizations</h2> <p>Use the <code>org-create</code>, <code>org-delete</code>, <code>org-list</code>, <code>org-show</code>, <code>org-user-add</code> and <code>org-user-remove</code> commands to manage organizations.</p> <h3 id="org-create">org-create</h3> <p>The <code>org-create</code> subcommand is used to create an organization. (The validation key for the organization is returned to <code>STDOUT</code> when creating an organization with this command.)</p> <p><strong>Syntax</strong></p> <p>This subcommand has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl org-create ORG_NAME <span style="color:#4070a0">"ORG_FULL_NAME"</span> <span style="color:#666">(</span>options<span style="color:#666">)</span>
</code></pre></div>
<p>where:</p> <ul> <li>The name must begin with a lower-case letter or digit, may only contain lower-case letters, digits, hyphens, and underscores, and must be between 1 and 255 characters. For example: <code>chef</code>.</li> <li>The full name must begin with a non-white space character and must be between 1 and 1023 characters. For example: <code>"Chef Software, Inc."</code>.</li> </ul> <p><strong>Options</strong></p> <p>This subcommand has the following options:</p> <dl> <dt>
<code>-a USER_NAME</code>, <code>--association_user USER_NAME</code>
</dt> <dd> <p>Associate a user with an organization and add them to the <code>admins</code> and <code>billing_admins</code> security groups.</p> </dd> <dt>
<code>-f FILE_NAME</code>, <code>--filename FILE_NAME</code>
</dt> <dd> <p>Write the ORGANIZATION-validator.pem to <code>FILE_NAME</code> instead of printing it to <code>STDOUT</code>.</p> </dd> </dl> <h3 id="org-delete">org-delete</h3> <p>The <code>org-delete</code> subcommand is used to delete an organization.</p> <p><strong>Syntax</strong></p> <p>This subcommand has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl org-delete ORG_NAME
</code></pre></div>
<h3 id="org-list">org-list</h3> <p>The <code>org-list</code> subcommand is used to list all of the organizations currently present on the Chef Infra Server.</p> <p><strong>Syntax</strong></p> <p>This subcommand has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl org-list <span style="color:#666">(</span>options<span style="color:#666">)</span>
</code></pre></div>
<p><strong>Options</strong></p> <p>This subcommand has the following options:</p> <dl> <dt>
<code>-a</code>, <code>--all-orgs</code>
</dt> <dd> <p>Show all organizations.</p> </dd> <dt>
<code>-w</code>, <code>--with-uri</code>
</dt> <dd> <p>Show the corresponding URIs.</p> </dd> </dl> <h3 id="org-show">org-show</h3> <p>The <code>org-show</code> subcommand is used to show the details for an organization.</p> <p><strong>Syntax</strong></p> <p>This subcommand has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl org-show ORG_NAME
</code></pre></div>
<h3 id="org-user-add">org-user-add</h3> <p>The <code>org-user-add</code> subcommand is used to add a user to an organization.</p> <p><strong>Syntax</strong></p> <p>This subcommand has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl org-user-add ORG_NAME USER_NAME <span style="color:#666">(</span>options<span style="color:#666">)</span>
</code></pre></div>
<p><strong>Options</strong></p> <p>This subcommand has the following options:</p> <dl> <dt><code>--admin</code></dt> <dd> <p>Add the user to the <code>admins</code> group.</p> </dd> </dl> <h3 id="org-user-remove">org-user-remove</h3> <p>The <code>org-user-remove</code> subcommand is used to remove a user from an organization.</p> <p><strong>Syntax</strong></p> <p>This subcommand has the following syntax:</p> <div class="highlight"><pre tabindex="0" class="highlight" data-language="ruby"><code class="language-bash" data-lang="bash">chef-server-ctl org-user-remove ORG_NAME USER_NAME <span style="color:#666">(</span>options<span style="color:#666">)</span>
</code></pre></div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef&trade; Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/server/server_orgs/" class="_attribution-link">https://docs.chef.io/server/server_orgs/</a>
  </p>
</div>
