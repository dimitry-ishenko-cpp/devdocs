<h1 id="cmd-test">test - perform tests on files and text</h1> <section id="synopsis"> <h2>Synopsis</h2> <pre data-language="shell">test [EXPRESSION]
[ [EXPRESSION] ]
</pre> </section> <section id="description"> <h2>Description</h2> <p>Tests the expression given and sets the exit status to 0 if true, and 1 if false. An expression is made up of one or more operators and their arguments.</p> <p>The first form (<code>test</code>) is preferred. For compatibility with other shells, the second form is available: a matching pair of square brackets (<code>[ [EXPRESSION] ]</code>).</p> <p>This test is mostly POSIX-compatible.</p> <p>When using a variable as an argument for a test operator you should almost always enclose it in double-quotes. There are only two situations it is safe to omit the quote marks. The first is when the argument is a literal string with no whitespace or other characters special to the shell (e.g., semicolon). For example, <code>test -b /my/file</code>. The second is using a variable that expands to exactly one element including if that element is the empty string (e.g., <code>set x ''</code>). If the variable is not set, set but with no value, or set to more than one value you must enclose it in double-quotes. For example, <code>test "$x" = "$y"</code>. Since it is always safe to enclose variables in double-quotes when used as <code>test</code> arguments that is the recommended practice.</p> </section> <section id="operators-for-files-and-directories"> <h2>Operators for files and directories</h2> <dl class="simple"> <dt>
<strong>-b</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> is a block device.</p> </dd> <dt>
<strong>-c</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> is a character device.</p> </dd> <dt>
<strong>-d</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> is a directory.</p> </dd> <dt>
<strong>-e</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> exists.</p> </dd> <dt>
<strong>-f</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> is a regular file.</p> </dd> <dt>
<strong>-g</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> has the set-group-ID bit set.</p> </dd> <dt>
<strong>-G</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> exists and has the same group ID as the current user.</p> </dd> <dt>
<strong>-k</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> has the sticky bit set. If the OS does not support the concept it returns false. See <a class="reference external" href="https://en.wikipedia.org/wiki/Sticky_bit">https://en.wikipedia.org/wiki/Sticky_bit</a>.</p> </dd> <dt>
<strong>-L</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> is a symbolic link.</p> </dd> <dt>
<strong>-O</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> exists and is owned by the current user.</p> </dd> <dt>
<strong>-p</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> is a named pipe.</p> </dd> <dt>
<strong>-r</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> is marked as readable.</p> </dd> <dt>
<strong>-s</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if the size of <em>FILE</em> is greater than zero.</p> </dd> <dt>
<strong>-S</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> is a socket.</p> </dd> <dt>
<strong>-t</strong> <em>FD</em>
</dt>
<dd>
<p>Returns true if the file descriptor <em>FD</em> is a terminal (TTY).</p> </dd> <dt>
<strong>-u</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> has the set-user-ID bit set.</p> </dd> <dt>
<strong>-w</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> is marked as writable; note that this does not check if the filesystem is read-only.</p> </dd> <dt>
<strong>-x</strong> <em>FILE</em>
</dt>
<dd>
<p>Returns true if <em>FILE</em> is marked as executable.</p> </dd> </dl> </section> <section id="operators-to-compare-files-and-directories"> <h2>Operators to compare files and directories</h2> <dl class="simple"> <dt>
<em>FILE1</em> <strong>-nt</strong> <em>FILE2</em>
</dt>
<dd>
<p>Returns true if <em>FILE1</em> is newer than <em>FILE2</em>, or <em>FILE1</em> exists and <em>FILE2</em> does not.</p> </dd> <dt>
<em>FILE1</em> <strong>-ot</strong> <em>FILE2</em>
</dt>
<dd>
<p>Returns true if <em>FILE1</em> is older than <em>FILE2</em>, or <em>FILE2</em> exists and <em>FILE1</em> does not.</p> </dd> <dt>
<em>FILE1</em> <strong>-ef</strong> <em>FILE1</em>
</dt>
<dd>
<p>Returns true if <em>FILE1</em> and <em>FILE2</em> refer to the same file.</p> </dd> </dl> </section> <section id="operators-for-text-strings"> <h2>Operators for text strings</h2> <dl class="simple"> <dt>
<em>STRING1</em> <strong>=</strong> <em>STRING2</em>
</dt>
<dd>
<p>Returns true if the strings <em>STRING1</em> and <em>STRING2</em> are identical.</p> </dd> <dt>
<em>STRING1</em> <strong>!=</strong> <em>STRING2</em>
</dt>
<dd>
<p>Returns true if the strings <em>STRING1</em> and <em>STRING2</em> are not identical.</p> </dd> <dt>
<strong>-n</strong> <em>STRING</em>
</dt>
<dd>
<p>Returns true if the length of <em>STRING</em> is non-zero.</p> </dd> <dt>
<strong>-z</strong> <em>STRING</em>
</dt>
<dd>
<p>Returns true if the length of <em>STRING</em> is zero.</p> </dd> </dl> </section> <section id="operators-to-compare-and-examine-numbers"> <h2>Operators to compare and examine numbers</h2> <dl class="simple"> <dt>
<em>NUM1</em> <strong>-eq</strong> <em>NUM2</em>
</dt>
<dd>
<p>Returns true if <em>NUM1</em> and <em>NUM2</em> are numerically equal.</p> </dd> <dt>
<em>NUM1</em> <strong>-ne</strong> <em>NUM2</em>
</dt>
<dd>
<p>Returns true if <em>NUM1</em> and <em>NUM2</em> are not numerically equal.</p> </dd> <dt>
<em>NUM1</em> <strong>-gt</strong> <em>NUM2</em>
</dt>
<dd>
<p>Returns true if <em>NUM1</em> is greater than <em>NUM2</em>.</p> </dd> <dt>
<em>NUM1</em> <strong>-ge</strong> <em>NUM2</em>
</dt>
<dd>
<p>Returns true if <em>NUM1</em> is greater than or equal to <em>NUM2</em>.</p> </dd> <dt>
<em>NUM1</em> <strong>-lt</strong> <em>NUM2</em>
</dt>
<dd>
<p>Returns true if <em>NUM1</em> is less than <em>NUM2</em>.</p> </dd> <dt>
<em>NUM1</em> <strong>-le</strong> <em>NUM2</em>
</dt>
<dd>
<p>Returns true if <em>NUM1</em> is less than or equal to <em>NUM2</em>.</p> </dd> </dl> <p>Both integers and floating point numbers are supported.</p> </section> <section id="operators-to-combine-expressions"> <h2>Operators to combine expressions</h2> <dl class="simple"> <dt>
<em>COND1</em> <strong>-a</strong> <em>COND2</em>
</dt>
<dd>
<p>Returns true if both <em>COND1</em> and <em>COND2</em> are true.</p> </dd> <dt>
<em>COND1</em> <strong>-o</strong> <em>COND2</em>
</dt>
<dd>
<p>Returns true if either <em>COND1</em> or <em>COND2</em> are true.</p> </dd> </dl> <p>Expressions can be inverted using the <strong>!</strong> operator:</p> <dl class="simple"> <dt>
<strong>!</strong> <em>EXPRESSION</em>
</dt>
<dd>
<p>Returns true if <em>EXPRESSION</em> is false, and false if <em>EXPRESSION</em> is true.</p> </dd> </dl> <p>Expressions can be grouped using parentheses.</p> <dl class="simple"> <dt>
<strong>(</strong> <em>EXPRESSION</em> <strong>)</strong>
</dt>
<dd>
<p>Returns the value of <em>EXPRESSION</em>.</p> </dd> </dl> <p>Note that parentheses will usually require escaping with <code>\(</code> to avoid being interpreted as a command substitution.</p> </section> <section id="examples"> <h2>Examples</h2> <p>If the <code>/tmp</code> directory exists, copy the <code>/etc/motd</code> file to it:</p> <pre data-language="shell">if test -d /tmp
    cp /etc/motd /tmp/motd
end
</pre> <p>If the variable <code id="index-0">MANPATH</code> is defined and not empty, print the contents. (If <code id="index-1">MANPATH</code> is not defined, then it will expand to zero arguments, unless quoted.)</p> <pre data-language="shell">if test -n "$MANPATH"
    echo $MANPATH
end
</pre> <p>Parentheses and the <code>-o</code> and <code>-a</code> operators can be combined to produce more complicated expressions. In this example, success is printed if there is a <code>/foo</code> or <code>/bar</code> file as well as a <code>/baz</code> or <code>/bat</code> file.</p> <pre data-language="shell">if test \( -f /foo -o -f /bar \) -a \( -f /baz -o -f /bat \)
    echo Success.
end
</pre> <p>Numerical comparisons will simply fail if one of the operands is not a number:</p> <pre data-language="shell">if test 42 -eq "The answer to life, the universe and everything"
    echo So long and thanks for all the fish # will not be executed
end
</pre> <p>A common comparison is with <a class="reference internal" href="../language.html#envvar-status" id="index-2"><code>status</code></a>:</p> <pre data-language="shell">if test $status -eq 0
    echo "Previous command succeeded"
end
</pre> <p>The previous test can likewise be inverted:</p> <pre data-language="shell">if test ! $status -eq 0
    echo "Previous command failed"
end
</pre> <p>which is logically equivalent to the following:</p> <pre data-language="shell">if test $status -ne 0
    echo "Previous command failed"
end
</pre> </section> <section id="standards"> <h2>Standards</h2> <p><code>test</code> implements a subset of the <a class="reference external" href="https://www.unix.com/man-page/posix/1p/test/">IEEE Std 1003.1-2008 (POSIX.1) standard</a>. The following exceptions apply:</p> <ul class="simple"> <li>The <code>&lt;</code> and <code>&gt;</code> operators for comparing strings are not implemented.</li> <li>Because this test is a shell builtin and not a standalone utility, using the -c flag on a special file descriptors like standard input and output may not return the same result when invoked from within a pipe as one would expect when invoking the <code>test</code> utility in another shell.</li> </ul>  <p>In cases such as this, one can use <code>command</code> <code>test</code> to explicitly use the systemâ€™s standalone <code>test</code> rather than this <code>builtin</code> <code>test</code>.</p>  </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005-2009 Axel Liljencrantz, 2009-2023 fish-shell contributors<br>Licensed under the GNU General Public License, version 2.<br>
    <a href="https://fishshell.com/docs/3.7/cmds/test.html" class="_attribution-link">https://fishshell.com/docs/3.7/cmds/test.html</a>
  </p>
</div>
