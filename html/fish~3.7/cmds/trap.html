<h1 id="cmd-trap">trap - perform an action when the shell receives a signal</h1> <section id="synopsis"> <h2>Synopsis</h2> <pre data-language="shell">trap [OPTIONS] [[ARG] REASON ... ]
</pre> </section> <section id="description"> <h2>Description</h2> <p><code>trap</code> is a wrapper around the fish event delivery framework. It exists for backwards compatibility with POSIX shells. For other uses, it is recommended to define an <a class="reference internal" href="../language.html#event"><span class="std std-ref">event handler</span></a>.</p> <p>The following parameters are available:</p> <dl class="simple"> <dt><em>ARG</em></dt>
<dd>
<p>Command to be executed on signal delivery.</p> </dd> <dt><em>REASON</em></dt>
<dd>
<p>Name of the event to trap. For example, a signal like <code>INT</code> or <code>SIGINT</code>, or the special symbol <code>EXIT</code>.</p> </dd> <dt>
<strong>-l</strong> or <strong>--list-signals</strong>
</dt>
<dd>
<p>Prints a list of signal names.</p> </dd> <dt>
<strong>-p</strong> or <strong>--print</strong>
</dt>
<dd>
<p>Prints all defined signal handlers.</p> </dd> <dt>
<strong>-h</strong> or <strong>--help</strong>
</dt>
<dd>
<p>Displays help about using this command.</p> </dd> </dl> <p>If <em>ARG</em> and <em>REASON</em> are both specified, <em>ARG</em> is the command to be executed when the event specified by <em>REASON</em> occurs (e.g., the signal is delivered).</p> <p>If <em>ARG</em> is absent (and there is a single <em>REASON</em>) or <code>-</code>, each specified signal is reset to its original disposition (the value it had upon entrance to the shell). If <em>ARG</em> is the null string the signal specified by each <em>REASON</em> is ignored by the shell and by the commands it invokes.</p> <p>If <em>ARG</em> is not present and <strong>-p</strong> has been supplied, then the trap commands associated with each <em>REASON</em> are displayed. If no arguments are supplied or if only <strong>-p</strong> is given, <code>trap</code> prints the list of commands associated with each signal.</p> <p>Signal names are case insensitive and the <code>SIG</code> prefix is optional. Trapping a signal will prevent fish from exiting in response to that signal.</p> <p>The exit status is 1 if any <em>REASON</em> is invalid; otherwise trap returns 0.</p> </section> <section id="example"> <h2>Example</h2> <pre data-language="shell">trap "status --print-stack-trace" SIGUSR1
# Prints a stack trace each time the SIGUSR1 signal is sent to the shell.
</pre> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005-2009 Axel Liljencrantz, 2009-2023 fish-shell contributors<br>Licensed under the GNU General Public License, version 2.<br>
    <a href="https://fishshell.com/docs/3.7/cmds/trap.html" class="_attribution-link">https://fishshell.com/docs/3.7/cmds/trap.html</a>
  </p>
</div>
