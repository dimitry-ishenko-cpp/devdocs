<h1>fish_delta - compare functions and completions to the default</h1> <section id="synopsis"> <h2>Synopsis</h2> <pre data-language="shell">fish_delta name ...
fish_delta [-f | --no-functions] [-c | --no-completions] [-C | --no-config] [-d | --no-diff] [-n | --new] [-V | --vendor=]
fish_delta [-h | --help]
</pre> </section> <section id="description"> <h2>Description</h2> <p>The <code>fish_delta</code> function tells you, at a glance, which of your functions and completions differ from the set that fish ships.</p> <p>It does this by going through the relevant variables (<a class="reference internal" href="../language.html#envvar-fish_function_path" id="index-0"><code>fish_function_path</code></a> for functions and <a class="reference internal" href="../language.html#envvar-fish_complete_path" id="index-1"><code>fish_complete_path</code></a> for completions) and comparing the files against fish’s default directories.</p> <p>If any names are given, it will only compare files by those names (plus a “.fish” extension).</p> <p>By default, it will also use <code>diff</code> to display the difference between the files. If <code>diff</code> is unavailable, it will skip it, but in that case it also cannot figure out if the files really differ.</p> <p>The exit status is 1 if there was a difference and 2 for other errors, otherwise 0.</p> </section> <section id="options"> <h2>Options</h2> <p>The following options are available:</p> <dl class="simple"> <dt>
<strong>-f</strong> or <strong>--no-functions</strong>
</dt>
<dd>
<p>Stops checking functions</p> </dd> <dt>
<strong>-c</strong> or <strong>--no-completions</strong>
</dt>
<dd>
<p>Stops checking completions</p> </dd> <dt>
<strong>-C</strong> or <strong>--no-config</strong>
</dt>
<dd>
<p>Stops checking configuration files like config.fish or snippets in the conf.d directories.</p> </dd> <dt>
<strong>-d</strong> or <strong>--no-diff</strong>
</dt>
<dd>
<p>Removes the diff display (this happens automatically if <code>diff</code> can’t be found)</p> </dd> <dt>
<strong>-n</strong> or <strong>--new</strong>
</dt>
<dd>
<p>Also prints new files (i.e. those that can’t be found in fish’s default directories).</p> </dd> <dt>
<strong>-Vvalue</strong> or <strong>--vendor=value</strong>
</dt>
<dd>
<p>Determines how the vendor directories are counted. Valid values are:</p> <ul class="simple"> <li>“default” - counts vendor files as belonging to the defaults. Any changes in other directories will be counted as changes over them. This is the default.</li> <li>“user” - counts vendor files as belonging to the user files. Any changes in them will be counted as new or changed files.</li> <li>“ignore” - ignores vendor directories. Files of the same name will be counted as “new” if no file of the same name in fish’s default directories exists.</li> </ul> </dd> <dt>
<strong>-h</strong> or <strong>--help</strong>
</dt>
<dd>
<p>Prints <code>fish_delta</code>’s help (this).</p> </dd> </dl> </section> <section id="example"> <h2>Example</h2> <p>Running just:</p> <pre data-language="shell">fish_delta
</pre> <p>will give you a list of all your changed functions and completions, including diffs (if you have the <code>diff</code> command).</p> <p>It might look like this:</p> <pre data-language="shell">&gt; fish_delta
New: /home/alfa/.config/fish/functions/battery.fish
Changed: /home/alfa/.config/fish/test/completions/cargo.fish
--- /home/alfa/.config/fish/test/completions/cargo.fish 2022-09-02 12:57:55.579229959 +0200
+++ /usr/share/fish/completions/cargo.fish      2022-09-25 17:51:53.000000000 +0200
# the output of `diff` follows
</pre> <p>The options are there to select which parts of the output you want. With <code>--no-completions</code> you can compare just functions, and with <code>--no-diff</code> you can turn off the <code>diff</code> display.</p> <p>To only compare your <code>fish_git_prompt</code>, you might use:</p> <pre data-language="shell">fish_delta --no-completions fish_git_prompt
</pre> <p>which will only compare files called “fish_git_prompt.fish”.</p> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005-2009 Axel Liljencrantz, 2009-2023 fish-shell contributors<br>Licensed under the GNU General Public License, version 2.<br>
    <a href="https://fishshell.com/docs/3.7/cmds/fish_delta.html" class="_attribution-link">https://fishshell.com/docs/3.7/cmds/fish_delta.html</a>
  </p>
</div>
