<h1 id="data-structures">Data Structures</h1> <p>Werkzeug provides some subclasses of common Python objects to extend them with additional features. Some of them are used to make them immutable, others are used to change some semantics to better work with HTTP.</p> <section id="general-purpose"> <h2>General Purpose</h2> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.6: </span>The general purpose classes are now pickleable in each protocol as long as the contained objects are pickleable. This means that the <a class="reference internal" href="#werkzeug.datastructures.FileMultiDict" title="werkzeug.datastructures.FileMultiDict"><code>FileMultiDict</code></a> won’t be pickleable as soon as it contains a file.</p> </div> </details><dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.TypeConversionDict">
<code>class werkzeug.datastructures.TypeConversionDict</code> </dt> <dd>
<p>Works like a regular dict but the <a class="reference internal" href="#werkzeug.datastructures.TypeConversionDict.get" title="werkzeug.datastructures.TypeConversionDict.get"><code>get()</code></a> method can perform type conversions. <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a> and <a class="reference internal" href="#werkzeug.datastructures.CombinedMultiDict" title="werkzeug.datastructures.CombinedMultiDict"><code>CombinedMultiDict</code></a> are subclasses of this class and provide the same feature.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.5.</span></p> </div> </details><dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.TypeConversionDict.get">
<code>get(key: K) → V | None</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">get</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n">K</span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n">V</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">V</span></span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">get</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n">K</span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n">T</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">V<span class="p">|</span>T</span></span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">get</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em>, <em class="sig-param"><span class="n">type</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)">Callable</a><span class="p">[</span><span class="p">[</span>V<span class="p">]</span><span class="p">,</span>T<span class="p">]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">T<span class="p">|</span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)">None</a></span></span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">get</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n">T</span></em>, <em class="sig-param"><span class="n">type</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)">Callable</a><span class="p">[</span><span class="p">[</span>V<span class="p">]</span><span class="p">,</span>T<span class="p">]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">T</span></span>
</dt> <dd>
<p>Return the default value if the requested data doesn’t exist. If <code>type</code> is provided and is a callable it should convert the value, return it or raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code>ValueError</code></a> if that is not possible. In this case the function will return the default as if the value was not found:</p> <pre data-language="python">&gt;&gt;&gt; d = TypeConversionDict(foo='42', bar='blub')
&gt;&gt;&gt; d.get('foo', type=int)
42
&gt;&gt;&gt; d.get('bar', -1, type=int)
-1
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> – The key to be looked up.</li> <li>
<strong>default</strong> – The default value to be returned if the key can’t be looked up. If not further specified <code>None</code> is returned.</li> <li>
<strong>type</strong> – A callable that is used to cast the value in the <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a>. If a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code>ValueError</code></a> or a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><code>TypeError</code></a> is raised by this callable the default value is returned.</li> </ul> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.0.2: </span>Returns the default value on <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><code>TypeError</code></a>, too.</p> </div> </details>
</dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.ImmutableTypeConversionDict">
<code>class werkzeug.datastructures.ImmutableTypeConversionDict</code> </dt> <dd>
<p>Works like a <a class="reference internal" href="#werkzeug.datastructures.TypeConversionDict" title="werkzeug.datastructures.TypeConversionDict"><code>TypeConversionDict</code></a> but does not support modifications.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.5.</span></p> </div> </details><dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ImmutableTypeConversionDict.copy">
<code>copy()</code> </dt> <dd>
<p>Return a shallow mutable copy of this object. Keep in mind that the standard library’s <a class="reference internal" href="#werkzeug.datastructures.ImmutableTypeConversionDict.copy" title="werkzeug.datastructures.ImmutableTypeConversionDict.copy"><code>copy()</code></a> function is a no-op for this class like for any other python immutable type (eg: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code>tuple</code></a>).</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference internal" href="#werkzeug.datastructures.TypeConversionDict" title="werkzeug.datastructures.structures.TypeConversionDict">TypeConversionDict</a>[<em>K</em>, <em>V</em>]</p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict">
<code>class werkzeug.datastructures.MultiDict(mapping=None)</code> </dt> <dd>
<p>A <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a> is a dictionary subclass customized to deal with multiple values for the same key which is for example used by the parsing functions in the wrappers. This is necessary because some HTML form elements pass multiple values for the same key.</p> <p><a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a> implements all standard dictionary methods. Internally, it saves all values for a key as a list, but the standard dict access methods will only return the first value for a key. If you want to gain access to the other values, too, you have to use the <code>list</code> methods as explained below.</p> <p>Basic Usage:</p> <pre data-language="python">&gt;&gt;&gt; d = MultiDict([('a', 'b'), ('a', 'c')])
&gt;&gt;&gt; d
MultiDict([('a', 'b'), ('a', 'c')])
&gt;&gt;&gt; d['a']
'b'
&gt;&gt;&gt; d.getlist('a')
['b', 'c']
&gt;&gt;&gt; 'a' in d
True
</pre> <p>It behaves like a normal dict thus all dict functions will only return the first value when multiple values for one key are found.</p> <p>From Werkzeug 0.3 onwards, the <code>KeyError</code> raised by this class is also a subclass of the <code>BadRequest</code> HTTP exception and will render a page for a <code>400 BAD REQUEST</code> if caught in a catch-all for HTTP exceptions.</p> <p>A <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a> can be constructed from an iterable of <code>(key, value)</code> tuples, a dict, a <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a> or from Werkzeug 0.2 onwards some keyword parameters.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>mapping</strong> (<a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict">MultiDict</a><em>[</em><em>K</em><em>, </em><em>V</em><em>] </em><em>| </em><em>cabc.Mapping</em><em>[</em><em>K</em><em>, </em><em>V</em><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a><em>[</em><em>V</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><em>V</em><em>, </em><em>...</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)">set</a><em>[</em><em>V</em><em>]</em><em>] </em><em>| </em><em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><em>K</em><em>, </em><em>V</em><em>]</em><em>] </em><em>| </em><em>None</em>) – the initial value for the <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a>. Either a regular dict, an iterable of <code>(key, value)</code> tuples or <code>None</code>.</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span>Implement <code>|</code> and <code>|=</code> operators.</p> </div> </details><dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.add">
<code>add(key, value)</code> </dt> <dd>
<p>Adds a new value for the key.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.6.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<em>K</em>) – the key for the value.</li> <li>
<strong>value</strong> (<em>V</em>) – the value to add.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.getlist">
<code>getlist(key: K) → list[V]</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">getlist</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n">K</span></em>, <em class="sig-param"><span class="n">type</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)">Callable</a><span class="p">[</span><span class="p">[</span>V<span class="p">]</span><span class="p">,</span>T<span class="p">]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a><span class="p">[</span>T<span class="p">]</span></span></span>
</dt> <dd>
<p>Return the list of items for a given key. If that key is not in the <code>MultiDict</code>, the return value will be an empty list. Just like <code>get</code>, <code>getlist</code> accepts a <code>type</code> parameter. All items will be converted with the callable defined there.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> – The key to be looked up.</li> <li>
<strong>type</strong> – Callable to convert each value. If a <code>ValueError</code> or <code>TypeError</code> is raised, the value is omitted.</li> </ul> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code>list</code></a> of all the values for the key.</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span>Catches <code>TypeError</code> in addition to <code>ValueError</code>.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.setlist">
<code>setlist(key, new_list)</code> </dt> <dd>
<p>Remove the old values for a key and add new ones. Note that the list you pass the values in will be shallow-copied before it is inserted in the dictionary.</p> <pre data-language="python">&gt;&gt;&gt; d = MultiDict()
&gt;&gt;&gt; d.setlist('foo', ['1', '2'])
&gt;&gt;&gt; d['foo']
'1'
&gt;&gt;&gt; d.getlist('foo')
['1', '2']
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<em>K</em>) – The key for which the values are set.</li> <li>
<strong>new_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a><em>[</em><em>V</em><em>]</em>) – An iterable with the new values for the key. Old values are removed first.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.setdefault">
<code>setdefault(key: K) → None</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">setdefault</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n">K</span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n">V</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">V</span></span>
</dt> <dd>
<p>Returns the value for the key if it is in the dict, otherwise it returns <code>default</code> and sets that value for <code>key</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> – The key to be looked up.</li> <li>
<strong>default</strong> – The default value to be returned if the key is not in the dict. If not further specified it’s <code>None</code>.</li> </ul> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.setlistdefault">
<code>setlistdefault(key, default_list=None)</code> </dt> <dd>
<p>Like <code>setdefault</code> but sets multiple values. The list returned is not a copy, but the list that is actually used internally. This means that you can put new values into the dict by appending items to the list:</p> <pre data-language="python">&gt;&gt;&gt; d = MultiDict({"foo": 1})
&gt;&gt;&gt; d.setlistdefault("foo").extend([2, 3])
&gt;&gt;&gt; d.getlist("foo")
[1, 2, 3]
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<em>K</em>) – The key to be looked up.</li> <li>
<strong>default_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a><em>[</em><em>V</em><em>] </em><em>| </em><em>None</em>) – An iterable of default values. It is either copied (in case it was a list) or converted into a list before returned.</li> </ul> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code>list</code></a></p> </dd> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[<em>V</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.items">
<code>items(multi=False)</code> </dt> <dd>
<p>Return an iterator of <code>(key, value)</code> pairs.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>multi</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a>) – If set to <code>True</code> the iterator returned will have a pair for each value of each key. Otherwise it will only contain pairs for the first value of each key.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<em>K</em>, <em>V</em>]]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.lists">
<code>lists()</code> </dt> <dd>
<p>Return a iterator of <code>(key, values)</code> pairs, where values is the list of all values associated with the key.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<em>K</em>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[<em>V</em>]]]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.values">
<code>values()</code> </dt> <dd>
<p>Returns an iterator of the first value on every key’s value list.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a>[<em>V</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.listvalues">
<code>listvalues()</code> </dt> <dd>
<p>Return an iterator of all values associated with a key. Zipping <a class="reference internal" href="#werkzeug.datastructures.MultiDict.keys" title="werkzeug.datastructures.MultiDict.keys"><code>keys()</code></a> and this is the same as calling <a class="reference internal" href="#werkzeug.datastructures.MultiDict.lists" title="werkzeug.datastructures.MultiDict.lists"><code>lists()</code></a>:</p> <pre data-language="python">&gt;&gt;&gt; d = MultiDict({"foo": [1, 2, 3]})
&gt;&gt;&gt; zip(d.keys(), d.listvalues()) == d.lists()
True
</pre> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[<em>V</em>]]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.copy">
<code>copy()</code> </dt> <dd>
<p>Return a shallow copy of this object.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>te.Self</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.deepcopy">
<code>deepcopy(memo=None)</code> </dt> <dd>
<p>Return a deep copy of this object.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>memo</strong> (<em>t.Any</em>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>te.Self</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.to_dict">
<code>to_dict() → dict[K, V]</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">to_dict</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">flat</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.13)">Literal</a><span class="p">[</span><span class="k">False</span><span class="p">]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a><span class="p">[</span>K<span class="p">,</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a><span class="p">[</span>V<span class="p">]</span><span class="p">]</span></span></span>
</dt> <dd>
<p>Return the contents as regular dict. If <code>flat</code> is <code>True</code> the returned dict will only have the first item present, if <code>flat</code> is <code>False</code> all values will be returned as lists.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>flat</strong> – If set to <code>False</code> the dict returned will have lists with all the values in it. Otherwise it will only contain the first value for each key.</p> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code>dict</code></a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.update">
<code>update(mapping)</code> </dt> <dd>
<p>update() extends rather than replaces existing key lists:</p> <pre data-language="python">&gt;&gt;&gt; a = MultiDict({'x': 1})
&gt;&gt;&gt; b = MultiDict({'x': 2, 'y': 3})
&gt;&gt;&gt; a.update(b)
&gt;&gt;&gt; a
MultiDict([('y', 3), ('x', 1), ('x', 2)])
</pre> <p>If the value list for a key in <code>other_dict</code> is empty, no new values will be added to the dict and the key will not be created:</p> <pre data-language="python">&gt;&gt;&gt; x = {'empty_list': []}
&gt;&gt;&gt; y = MultiDict()
&gt;&gt;&gt; y.update(x)
&gt;&gt;&gt; y
MultiDict([])
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>mapping</strong> (<a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.structures.MultiDict">MultiDict</a><em>[</em><em>K</em><em>, </em><em>V</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.13)">Mapping</a><em>[</em><em>K</em><em>, </em><em>V</em><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a><em>[</em><em>V</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><em>V</em><em>, </em><em>...</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)">set</a><em>[</em><em>V</em><em>]</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><em>K</em><em>, </em><em>V</em><em>]</em><em>]</em>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.pop">
<code>pop(key: K) → V</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">pop</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n">K</span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n">V</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">V</span></span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">pop</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n">K</span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n">T</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">V<span class="p">|</span>T</span></span>
</dt> <dd>
<p>Pop the first item for a list on the dict. Afterwards the key is removed from the dict, so additional values are discarded:</p> <pre data-language="python">&gt;&gt;&gt; d = MultiDict({"foo": [1, 2, 3]})
&gt;&gt;&gt; d.pop("foo")
1
&gt;&gt;&gt; "foo" in d
False
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> – the key to pop.</li> <li>
<strong>default</strong> – if provided the value to return if the key was not in the dictionary.</li> </ul> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.popitem">
<code>popitem()</code> </dt> <dd>
<p>Pop an item from the dict.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<em>K</em>, <em>V</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.poplist">
<code>poplist(key)</code> </dt> <dd>
<p>Pop the list for a key from the dict. If the key is not in the dict an empty list is returned.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.5: </span>If the key does no longer exist a list is returned instead of raising an error.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>key</strong> (<em>K</em>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[<em>V</em>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.popitemlist">
<code>popitemlist()</code> </dt> <dd>
<p>Pop a <code>(key, list)</code> tuple from the dict.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<em>K</em>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[<em>V</em>]]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.clear">
<code>clear() → None. Remove all items from D.</code> </dt> 
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.fromkeys">
<code>fromkeys(value=None, /)</code> </dt> <dd>
<p>Create a new dictionary with keys from iterable and values set to value.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.get">
<code>get(key, default=None, type=None)</code> </dt> <dd>
<p>Return the default value if the requested data doesn’t exist. If <code>type</code> is provided and is a callable it should convert the value, return it or raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code>ValueError</code></a> if that is not possible. In this case the function will return the default as if the value was not found:</p> <pre data-language="python">&gt;&gt;&gt; d = TypeConversionDict(foo='42', bar='blub')
&gt;&gt;&gt; d.get('foo', type=int)
42
&gt;&gt;&gt; d.get('bar', -1, type=int)
-1
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<em>K</em>) – The key to be looked up.</li> <li>
<strong>default</strong> (<em>V</em><em> | </em><em>T</em><em> | </em><em>None</em>) – The default value to be returned if the key can’t be looked up. If not further specified <code>None</code> is returned.</li> <li>
<strong>type</strong> (<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)">Callable</a><em>[</em><em>[</em><em>V</em><em>]</em><em>, </em><em>T</em><em>] </em><em>| </em><em>None</em>) – A callable that is used to cast the value in the <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a>. If a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code>ValueError</code></a> or a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><code>TypeError</code></a> is raised by this callable the default value is returned.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><em>V</em> | <em>T</em> | None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.0.2: </span>Returns the default value on <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><code>TypeError</code></a>, too.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.MultiDict.keys">
<code>keys() → a set-like object providing a view on D's keys</code> </dt> 
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.OrderedMultiDict">
<code>class werkzeug.datastructures.OrderedMultiDict</code> </dt> <dd>
<p>Works like a regular <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a> but preserves the order of the fields. To convert the ordered multi dict into a list you can use the <code>items()</code> method and pass it <code>multi=True</code>.</p> <p>In general an <a class="reference internal" href="#werkzeug.datastructures.OrderedMultiDict" title="werkzeug.datastructures.OrderedMultiDict"><code>OrderedMultiDict</code></a> is an order of magnitude slower than a <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a>.</p> <div class="admonition-note admonition"> <p class="admonition-title">note</p> <p>Due to a limitation in Python you cannot convert an ordered multi dict into a regular dict by using <code>dict(multidict)</code>. Instead you have to use the <code>to_dict()</code> method, otherwise the internal bucket objects are exposed.</p> </div> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 3.1: </span>Will be removed in Werkzeug 3.2. Use <code>MultiDict</code> instead.</p> </div> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.ImmutableMultiDict">
<code>class werkzeug.datastructures.ImmutableMultiDict</code> </dt> <dd>
<p>An immutable <a class="reference internal" href="#werkzeug.datastructures.OrderedMultiDict" title="werkzeug.datastructures.OrderedMultiDict"><code>OrderedMultiDict</code></a>.</p> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 3.1: </span>Will be removed in Werkzeug 3.2. Use <code>ImmutableMultiDict</code> instead.</p> </div> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.6.</span></p> </div> </details>
</dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.ImmutableOrderedMultiDict">
<code>werkzeug.datastructures.ImmutableOrderedMultiDict</code> </dt> <dd>
<p>alias of <code>_ImmutableOrderedMultiDict</code></p> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.CombinedMultiDict">
<code>class werkzeug.datastructures.CombinedMultiDict(dicts=None)</code> </dt> <dd>
<p>A read only <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a> that you can pass multiple <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a> instances as sequence and it will combine the return values of all wrapped dicts:</p> <pre data-language="python">&gt;&gt;&gt; from werkzeug.datastructures import CombinedMultiDict, MultiDict
&gt;&gt;&gt; post = MultiDict([('foo', 'bar')])
&gt;&gt;&gt; get = MultiDict([('blub', 'blah')])
&gt;&gt;&gt; combined = CombinedMultiDict([get, post])
&gt;&gt;&gt; combined['foo']
'bar'
&gt;&gt;&gt; combined['blub']
'blah'
</pre> <p>This works for all read operations and will raise a <code>TypeError</code> for methods that usually change data which isn’t possible.</p> <p>From Werkzeug 0.3 onwards, the <code>KeyError</code> raised by this class is also a subclass of the <code>BadRequest</code> HTTP exception and will render a page for a <code>400 BAD REQUEST</code> if caught in a catch-all for HTTP exceptions.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>dicts</strong> (<em>cabc.Iterable</em><em>[</em><a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict">MultiDict</a><em>[</em><em>K</em><em>, </em><em>V</em><em>]</em><em>] </em><em>| </em><em>None</em>)</p> </dd> </dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.ImmutableDict">
<code>class werkzeug.datastructures.ImmutableDict</code> </dt> <dd>
<p>An immutable <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code>dict</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.5.</span></p> </div> </details><dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ImmutableDict.copy">
<code>copy()</code> </dt> <dd>
<p>Return a shallow mutable copy of this object. Keep in mind that the standard library’s <a class="reference internal" href="#werkzeug.datastructures.ImmutableDict.copy" title="werkzeug.datastructures.ImmutableDict.copy"><code>copy()</code></a> function is a no-op for this class like for any other python immutable type (eg: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code>tuple</code></a>).</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>[<em>K</em>, <em>V</em>]</p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.ImmutableList">
<code>class werkzeug.datastructures.ImmutableList(iterable=(), /)</code> </dt> <dd>
<p>An immutable <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code>list</code></a>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.5.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Private<span class="colon">:</span>
</dt>  </dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileMultiDict">
<code>class werkzeug.datastructures.FileMultiDict(mapping=None)</code> </dt> <dd>
<p>A special <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a> that has convenience methods to add files to it. This is used for <code>EnvironBuilder</code> and generally useful for unittesting.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.5.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>mapping</strong> (<a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict">MultiDict</a><em>[</em><em>K</em><em>, </em><em>V</em><em>] </em><em>| </em><em>cabc.Mapping</em><em>[</em><em>K</em><em>, </em><em>V</em><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a><em>[</em><em>V</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><em>V</em><em>, </em><em>...</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)">set</a><em>[</em><em>V</em><em>]</em><em>] </em><em>| </em><em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><em>K</em><em>, </em><em>V</em><em>]</em><em>] </em><em>| </em><em>None</em>)</p> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileMultiDict.add_file">
<code>add_file(name, file, filename=None, content_type=None)</code> </dt> <dd>
<p>Adds a new file to the dict. <code>file</code> can be a file name or a <code>file</code>-like or a <a class="reference internal" href="#werkzeug.datastructures.FileStorage" title="werkzeug.datastructures.FileStorage"><code>FileStorage</code></a> object.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – the name of the field.</li> <li>
<strong>file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.13)">PathLike</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.13)">IO</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)">bytes</a><em>] </em><em>| </em><a class="reference internal" href="#werkzeug.datastructures.FileStorage" title="werkzeug.datastructures.file_storage.FileStorage">FileStorage</a>) – a filename or <code>file</code>-like object</li> <li>
<strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>) – an optional filename</li> <li>
<strong>content_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>) – an optional content type</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> </dd>
</dl> </section> <section id="http-related"> <h2 id="http-datastructures">HTTP Related</h2> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers">
<code>class werkzeug.datastructures.Headers([defaults])</code> </dt> <dd>
<p>An object that stores some headers. It has a dict-like interface, but is ordered, can store the same key multiple times, and iterating yields <code>(key, value)</code> pairs instead of only keys.</p> <p>This data structure is useful if you want a nicer way to handle WSGI headers which are stored as tuples in a list.</p> <p>From Werkzeug 0.3 onwards, the <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code>KeyError</code></a> raised by this class is also a subclass of the <code>BadRequest</code> HTTP exception and will render a page for a <code>400 BAD REQUEST</code> if caught in a catch-all for HTTP exceptions.</p> <p>Headers is mostly compatible with the Python <a class="reference external" href="https://docs.python.org/3/library/wsgiref.html#wsgiref.headers.Headers" title="(in Python v3.13)"><code>wsgiref.headers.Headers</code></a> class, with the exception of <code>__getitem__</code>. <a class="reference external" href="https://docs.python.org/3/library/wsgiref.html#module-wsgiref" title="(in Python v3.13)"><code>wsgiref</code></a> will return <code>None</code> for <code>headers['missing']</code>, whereas <a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.Headers"><code>Headers</code></a> will raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code>KeyError</code></a>.</p> <p>To create a new <code>Headers</code> object, pass it a list, dict, or other <code>Headers</code> object with default values. These values are validated the same way values added later are.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>defaults</strong> (<a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.Headers">Headers</a><em> | </em><a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict">MultiDict</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><em>t.Any</em><em>] </em><em>| </em><em>cabc.Mapping</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><em>t.Any</em><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a><em>[</em><em>t.Any</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><em>t.Any</em><em>, </em><em>...</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)">set</a><em>[</em><em>t.Any</em><em>]</em><em>] </em><em>| </em><em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><em>t.Any</em><em>]</em><em>] </em><em>| </em><em>None</em>) – The list of default values for the <a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.Headers"><code>Headers</code></a>.</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span>Implement <code>|</code> and <code>|=</code> operators.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1.0: </span>Default values are validated the same as values added later.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>This data structure now stores unicode values similar to how the multi dicts do it. The main difference is that bytes can be set as well which will automatically be latin1 decoded.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>The <code>linked()</code> function was removed without replacement as it was an API that does not support the changes to the encoding model.</p> </div> </details><dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.get">
<code>get(key: str) → str | None</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">get</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">get</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n">T</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><span class="p">|</span>T</span></span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">get</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em>, <em class="sig-param"><span class="n">type</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)">Callable</a><span class="p">[</span><span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><span class="p">]</span><span class="p">,</span>T<span class="p">]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">T<span class="p">|</span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)">None</a></span></span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">get</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n">T</span></em>, <em class="sig-param"><span class="n">type</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)">Callable</a><span class="p">[</span><span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><span class="p">]</span><span class="p">,</span>T<span class="p">]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">T</span></span>
</dt> <dd>
<p>Return the default value if the requested data doesn’t exist. If <code>type</code> is provided and is a callable it should convert the value, return it or raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code>ValueError</code></a> if that is not possible. In this case the function will return the default as if the value was not found:</p> <pre data-language="python">&gt;&gt;&gt; d = Headers([('Content-Length', '42')])
&gt;&gt;&gt; d.get('Content-Length', type=int)
42
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> – The key to be looked up.</li> <li>
<strong>default</strong> – The default value to be returned if the key can’t be looked up. If not further specified <code>None</code> is returned.</li> <li>
<strong>type</strong> – A callable that is used to cast the value in the <a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.Headers"><code>Headers</code></a>. If a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code>ValueError</code></a> is raised by this callable the default value is returned.</li> </ul> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.0: </span>The <code>as_bytes</code> parameter was removed.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>The <code>as_bytes</code> parameter was added.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.getlist">
<code>getlist(key: str) → list[str]</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">getlist</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em>, <em class="sig-param"><span class="n">type</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Callable" title="(in Python v3.13)">Callable</a><span class="p">[</span><span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><span class="p">]</span><span class="p">,</span>T<span class="p">]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a><span class="p">[</span>T<span class="p">]</span></span></span>
</dt> <dd>
<p>Return the list of items for a given key. If that key is not in the <a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.Headers"><code>Headers</code></a>, the return value will be an empty list. Just like <a class="reference internal" href="#werkzeug.datastructures.Headers.get" title="werkzeug.datastructures.Headers.get"><code>get()</code></a>, <a class="reference internal" href="#werkzeug.datastructures.Headers.getlist" title="werkzeug.datastructures.Headers.getlist"><code>getlist()</code></a> accepts a <code>type</code> parameter. All items will be converted with the callable defined there.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> – The key to be looked up.</li> <li>
<strong>type</strong> – A callable that is used to cast the value in the <a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.Headers"><code>Headers</code></a>. If a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code>ValueError</code></a> is raised by this callable the value will be removed from the list.</li> </ul> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code>list</code></a> of all the values for the key.</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.0: </span>The <code>as_bytes</code> parameter was removed.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.9: </span>The <code>as_bytes</code> parameter was added.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.get_all">
<code>get_all(name)</code> </dt> <dd>
<p>Return a list of all the values for the named field.</p> <p>This method is compatible with the <a class="reference external" href="https://docs.python.org/3/library/wsgiref.html#module-wsgiref" title="(in Python v3.13)"><code>wsgiref</code></a> <a class="reference external" href="https://docs.python.org/3/library/wsgiref.html#wsgiref.headers.Headers.get_all" title="(in Python v3.13)"><code>get_all()</code></a> method.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.extend">
<code>extend(arg=None, /, **kwargs)</code> </dt> <dd>
<p>Extend headers in this object with items from another object containing header items as well as keyword arguments.</p> <p>To replace existing keys instead of extending, use <a class="reference internal" href="#werkzeug.datastructures.Headers.update" title="werkzeug.datastructures.Headers.update"><code>update()</code></a> instead.</p> <p>If provided, the first argument can be another <a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.Headers"><code>Headers</code></a> object, a <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code>dict</code></a>, or iterable of pairs.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span>Support <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a>. Allow passing <code>kwargs</code>.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>arg</strong> (<a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.headers.Headers">Headers</a><em> | </em><a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.structures.MultiDict">MultiDict</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.13)">Mapping</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>, </em><em>...</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)">set</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>]</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>]</em><em>] </em><em>| </em><em>None</em>)</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.remove">
<code>remove(key)</code> </dt> <dd>
<p>Remove a key.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – The key to be removed.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.pop">
<code>pop() → tuple[str, str]</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">pop</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">pop</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><span class="p">|</span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)">None</a></span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><span class="p">,</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><span class="p">]</span></span></span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">pop</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">pop</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n">T</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><span class="p">|</span>T</span></span>
</dt> <dd>
<p>Removes and returns a key or index.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>key</strong> – The key to be popped. If this is an integer the item at that position is removed, if it’s a string the value for that key is. If the key is omitted or <code>None</code> the last item is removed.</p> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<p>an item.</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.popitem">
<code>popitem()</code> </dt> <dd>
<p>Removes a key or index and returns a (key, value) item.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.add">
<code>add(key, value, /, **kwargs)</code> </dt> <dd>
<p>Add a new header tuple to the list.</p> <p>Keyword arguments can specify additional parameters for the header value, with underscores converted to dashes:</p> <pre data-language="python">&gt;&gt;&gt; d = Headers()
&gt;&gt;&gt; d.add('Content-Type', 'text/plain')
&gt;&gt;&gt; d.add('Content-Disposition', 'attachment', filename='foo.png')
</pre> <p>The keyword argument dumping uses <code>dump_options_header()</code> behind the scenes.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.4.1: </span>keyword arguments were added for <a class="reference external" href="https://docs.python.org/3/library/wsgiref.html#module-wsgiref" title="(in Python v3.13)"><code>wsgiref</code></a> compatibility.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</li> <li>
<strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a>)</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a>)</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.add_header">
<code>add_header(key, value, /, **kwargs)</code> </dt> <dd>
<p>Add a new header tuple to the list.</p> <p>An alias for <a class="reference internal" href="#werkzeug.datastructures.Headers.add" title="werkzeug.datastructures.Headers.add"><code>add()</code></a> for compatibility with the <a class="reference external" href="https://docs.python.org/3/library/wsgiref.html#module-wsgiref" title="(in Python v3.13)"><code>wsgiref</code></a> <a class="reference external" href="https://docs.python.org/3/library/wsgiref.html#wsgiref.headers.Headers.add_header" title="(in Python v3.13)"><code>add_header()</code></a> method.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</li> <li>
<strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a>)</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a>)</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.clear">
<code>clear()</code> </dt> <dd>
<p>Clears all headers.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.set">
<code>set(key, value, /, **kwargs)</code> </dt> <dd>
<p>Remove all header tuples for <code>key</code> and add a new one. The newly added key either appears at the end of the list if there was no entry or replaces the first one.</p> <p>Keyword arguments can specify additional parameters for the header value, with underscores converted to dashes. See <a class="reference internal" href="#werkzeug.datastructures.Headers.add" title="werkzeug.datastructures.Headers.add"><code>add()</code></a> for more information.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.6.1: </span><a class="reference internal" href="#werkzeug.datastructures.Headers.set" title="werkzeug.datastructures.Headers.set"><code>set()</code></a> now accepts the same arguments as <a class="reference internal" href="#werkzeug.datastructures.Headers.add" title="werkzeug.datastructures.Headers.add"><code>add()</code></a>.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – The key to be inserted.</li> <li>
<strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a>) – The value to be inserted.</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a>)</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.setlist">
<code>setlist(key, values)</code> </dt> <dd>
<p>Remove any existing values for a header and add new ones.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – The header key to set.</li> <li>
<strong>values</strong> (<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>]</em>) – An iterable of values to set for the key.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 1.0.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.setdefault">
<code>setdefault(key, default)</code> </dt> <dd>
<p>Return the first value for the key if it is in the headers, otherwise set the header to the value given by <code>default</code> and return that.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – The header key to get.</li> <li>
<strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a>) – The value to set for the key if it is not in the headers.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.setlistdefault">
<code>setlistdefault(key, default)</code> </dt> <dd>
<p>Return the list of values for the key if it is in the headers, otherwise set the header to the list of values given by <code>default</code> and return that.</p> <p>Unlike <a class="reference internal" href="#werkzeug.datastructures.MultiDict.setlistdefault" title="werkzeug.datastructures.MultiDict.setlistdefault"><code>MultiDict.setlistdefault()</code></a>, modifying the returned list will not affect the headers.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – The header key to get.</li> <li>
<strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>]</em>) – An iterable of values to set for the key if it is not in the headers.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 1.0.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.update">
<code>update(arg=None, /, **kwargs)</code> </dt> <dd>
<p>Replace headers in this object with items from another headers object and keyword arguments.</p> <p>To extend existing keys instead of replacing, use <a class="reference internal" href="#werkzeug.datastructures.Headers.extend" title="werkzeug.datastructures.Headers.extend"><code>extend()</code></a> instead.</p> <p>If provided, the first argument can be another <a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.Headers"><code>Headers</code></a> object, a <a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.MultiDict"><code>MultiDict</code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code>dict</code></a>, or iterable of pairs.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 1.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>arg</strong> (<a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.headers.Headers">Headers</a><em> | </em><a class="reference internal" href="#werkzeug.datastructures.MultiDict" title="werkzeug.datastructures.structures.MultiDict">MultiDict</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.13)">Mapping</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>, </em><em>...</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Set" title="(in Python v3.13)">Set</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>]</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>]</em><em>] </em><em>| </em><em>None</em>)</li> <li>
<strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>, </em><em>...</em><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Set" title="(in Python v3.13)">Set</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>]</em>)</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Headers.to_wsgi_list">
<code>to_wsgi_list()</code> </dt> <dd>
<p>Convert the headers into a list suitable for WSGI.</p> <dl class="field-list simple"> <dt class="field-odd">Returns<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>list</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]]</p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.EnvironHeaders">
<code>class werkzeug.datastructures.EnvironHeaders(environ)</code> </dt> <dd>
<p>Read only version of the headers from a WSGI environment. This provides the same interface as <code>Headers</code> and is constructed from a WSGI environment. From Werkzeug 0.3 onwards, the <code>KeyError</code> raised by this class is also a subclass of the <code>BadRequest</code> HTTP exception and will render a page for a <code>400 BAD REQUEST</code> if caught in a catch-all for HTTP exceptions.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>environ</strong> (<em>WSGIEnvironment</em>)</p> </dd> </dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.HeaderSet">
<code>class werkzeug.datastructures.HeaderSet(headers=None, on_update=None)</code> </dt> <dd>
<p>Similar to the <a class="reference internal" href="#werkzeug.datastructures.ETags" title="werkzeug.datastructures.ETags"><code>ETags</code></a> class this implements a set-like structure. Unlike <a class="reference internal" href="#werkzeug.datastructures.ETags" title="werkzeug.datastructures.ETags"><code>ETags</code></a> this is case insensitive and used for vary, allow, and content-language headers.</p> <p>If not constructed using the <code>parse_set_header()</code> function the instantiation works like this:</p> <pre data-language="python">&gt;&gt;&gt; hs = HeaderSet(['foo', 'bar', 'baz'])
&gt;&gt;&gt; hs
HeaderSet(['foo', 'bar', 'baz'])
</pre> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>headers</strong> (<em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>] </em><em>| </em><em>None</em>)</li> <li>
<strong>on_update</strong> (<em>cabc.Callable</em><em>[</em><em>[</em><em>te.Self</em><em>]</em><em>, </em><em>None</em><em>] </em><em>| </em><em>None</em>)</li> </ul> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.HeaderSet.add">
<code>add(header)</code> </dt> <dd>
<p>Add a new header to the set.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>header</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.HeaderSet.remove">
<code>remove(header)</code> </dt> <dd>
<p>Remove a header from the set. This raises an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code>KeyError</code></a> if the header is not in the set.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.5: </span>In older versions a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.13)"><code>IndexError</code></a> was raised instead of a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code>KeyError</code></a> if the object was missing.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>header</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – the header to be removed.</li> <li>
<strong>self</strong> (<em>te.Self</em>)</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.HeaderSet.update">
<code>update(iterable)</code> </dt> <dd>
<p>Add all the headers from the iterable to the set.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>iterable</strong> (<em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>]</em>) – updates the set with the items from the iterable.</li> <li>
<strong>self</strong> (<em>te.Self</em>)</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.HeaderSet.discard">
<code>discard(header)</code> </dt> <dd>
<p>Like <a class="reference internal" href="#werkzeug.datastructures.HeaderSet.remove" title="werkzeug.datastructures.HeaderSet.remove"><code>remove()</code></a> but ignores errors.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>header</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – the header to be discarded.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.HeaderSet.find">
<code>find(header)</code> </dt> <dd>
<p>Return the index of the header in the set or return -1 if not found.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>header</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – the header to be looked up.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.HeaderSet.index">
<code>index(header)</code> </dt> <dd>
<p>Return the index of the header in the set or raise an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.13)"><code>IndexError</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>header</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – the header to be looked up.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.HeaderSet.clear">
<code>clear()</code> </dt> <dd>
<p>Clear the set.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>self</strong> (<em>te.Self</em>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.HeaderSet.as_set">
<code>as_set(preserve_casing=False)</code> </dt> <dd>
<p>Return the set as real python set type. When calling this, all the items are converted to lowercase and the ordering is lost.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>preserve_casing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a>) – if set to <code>True</code> the items in the set returned will have the original case like in the <a class="reference internal" href="#werkzeug.datastructures.HeaderSet" title="werkzeug.datastructures.HeaderSet"><code>HeaderSet</code></a>, otherwise they will be lowercase.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)">set</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.HeaderSet.to_header">
<code>to_header()</code> </dt> <dd>
<p>Convert the header set into an HTTP header string.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.Accept">
<code>class werkzeug.datastructures.Accept(values=())</code> </dt> <dd>
<p>An <a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept"><code>Accept</code></a> object is just a list subclass for lists of <code>(value, quality)</code> tuples. It is automatically sorted by specificity and quality.</p> <p>All <a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept"><code>Accept</code></a> objects work similar to a list but provide extra functionality for working with the data. Containment checks are normalized to the rules of that header:</p> <pre data-language="python">&gt;&gt;&gt; a = CharsetAccept([('ISO-8859-1', 1), ('utf-8', 0.7)])
&gt;&gt;&gt; a.best
'ISO-8859-1'
&gt;&gt;&gt; 'iso-8859-1' in a
True
&gt;&gt;&gt; 'UTF8' in a
True
&gt;&gt;&gt; 'utf7' in a
False
</pre> <p>To get the quality for an item you can use normal item lookup:</p> <pre data-language="python">&gt;&gt;&gt; print a['utf-8']
0.7
&gt;&gt;&gt; a['utf7']
0
</pre> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0.0: </span><a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept"><code>Accept</code></a> internal values are no longer ordered alphabetically for equal quality tags. Instead the initial order is preserved.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.5: </span><a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept"><code>Accept</code></a> objects are forced immutable now.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>values</strong> (<a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept">Accept</a><em> | </em><em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a><em>]</em><em>] </em><em>| </em><em>None</em>)</p> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Accept.quality">
<code>quality(key)</code> </dt> <dd>
<p>Returns the quality of the key.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.6: </span>In previous versions you had to use the item-lookup syntax (eg: <code>obj[key]</code> instead of <code>obj.quality(key)</code>)</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Accept.index">
<code>index(key)</code> </dt> <dd>
<p>Get the position of an entry or raise <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><code>ValueError</code></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a><em>]</em>) – The key to be looked up.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.5: </span>This used to raise <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IndexError" title="(in Python v3.13)"><code>IndexError</code></a>, which was inconsistent with the list API.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Accept.find">
<code>find(key)</code> </dt> <dd>
<p>Get the position of an entry or return -1.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a><em>]</em>) – The key to be looked up.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Accept.values">
<code>values()</code> </dt> <dd>
<p>Iterate over all values.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterator" title="(in Python v3.13)">Iterator</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Accept.to_header">
<code>to_header()</code> </dt> <dd>
<p>Convert the header set into an HTTP header string.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Accept.best_match">
<code>best_match(matches: Iterable[str]) → str | None</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">best_match</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">matches</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Iterable" title="(in Python v3.13)">Iterable</a><span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">default</span><span class="p">:</span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></span></span>
</dt> <dd>
<p>Returns the best match from a list of possible matches based on the specificity and quality of the client. If two items have the same quality and specificity, the one is returned that comes first.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>matches</strong> – a list of matches to check for</li> <li>
<strong>default</strong> – the value that is returned if none match</li> </ul> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.Accept.best">
<code>property best: str | None</code> </dt> <dd>
<p>The best match as value.</p> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.MIMEAccept">
<code>class werkzeug.datastructures.MIMEAccept(values=())</code> </dt> <dd>
<p>Like <a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept"><code>Accept</code></a> but with special methods and behavior for mimetypes.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>values</strong> (<a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept">Accept</a><em> | </em><em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a><em>]</em><em>] </em><em>| </em><em>None</em>)</p> </dd> </dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.MIMEAccept.accept_html">
<code>property accept_html: bool</code> </dt> <dd>
<p>True if this object accepts HTML.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.MIMEAccept.accept_xhtml">
<code>property accept_xhtml: bool</code> </dt> <dd>
<p>True if this object accepts XHTML.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.MIMEAccept.accept_json">
<code>property accept_json: bool</code> </dt> <dd>
<p>True if this object accepts JSON.</p> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.CharsetAccept">
<code>class werkzeug.datastructures.CharsetAccept(values=())</code> </dt> <dd>
<p>Like <a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept"><code>Accept</code></a> but with normalization for charsets.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>values</strong> (<a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept">Accept</a><em> | </em><em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a><em>]</em><em>] </em><em>| </em><em>None</em>)</p> </dd> </dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.LanguageAccept">
<code>class werkzeug.datastructures.LanguageAccept(values=())</code> </dt> <dd>
<p>Like <a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept"><code>Accept</code></a> but with normalization for language tags.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>values</strong> (<a class="reference internal" href="#werkzeug.datastructures.Accept" title="werkzeug.datastructures.Accept">Accept</a><em> | </em><em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a><em>]</em><em>] </em><em>| </em><em>None</em>)</p> </dd> </dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.RequestCacheControl">
<code>class werkzeug.datastructures.RequestCacheControl(values=(), on_update=None)</code> </dt> <dd>
<p>A cache control for requests. This is immutable and gives access to all the request-relevant cache control headers.</p> <p>To get a header of the <a class="reference internal" href="#werkzeug.datastructures.RequestCacheControl" title="werkzeug.datastructures.RequestCacheControl"><code>RequestCacheControl</code></a> object again you can convert the object into a string or call the <code>to_header()</code> method. If you plan to subclass it and add your own items have a look at the sourcecode for that class.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span>Dict values are always <code>str | None</code>. Setting properties will convert the value to a string. Setting a non-bool property to <code>False</code> is equivalent to setting it to <code>None</code>. Getting typed properties will return <code>None</code> if conversion raises <code>ValueError</code>, rather than the string.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span><code>max_age</code> is <code>None</code> if present without a value, rather than <code>-1</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span><code>no_cache</code> is a boolean, it is <code>True</code> instead of <code>"*"</code> when present.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span><code>max_stale</code> is <code>True</code> if present without a value, rather than <code>"*"</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span><code>no_transform</code> is a boolean. Previously it was mistakenly always <code>None</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span><code>min_fresh</code> is <code>None</code> if present without a value, rather than <code>"*"</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1: </span>Setting int properties such as <code>max_age</code> will convert the value to an int.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 0.5: </span>Response-only properties are not present on this request class.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>values</strong> (<em>cabc.Mapping</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><em>t.Any</em><em>] </em><em>| </em><em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><em>t.Any</em><em>]</em><em>] </em><em>| </em><em>None</em>)</li> <li>
<strong>on_update</strong> (<em>cabc.Callable</em><em>[</em><em>[</em><em>_CacheControl</em><em>]</em><em>, </em><em>None</em><em>] </em><em>| </em><em>None</em>)</li> </ul> </dd> </dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.RequestCacheControl.max_stale">
<code>property max_stale</code> </dt> <dd>
<p>The <code>max-stale</code> attribute. A <code>int</code>, <code>True</code> if present with no value, or <code>None</code> if not present.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.RequestCacheControl.min_fresh">
<code>property min_fresh</code> </dt> <dd>
<p>The <code>min-fresh</code> attribute. A <code>int</code>, or <code>None</code> if not present.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.RequestCacheControl.no_cache">
<code>property no_cache</code> </dt> <dd>
<p>The <code>no-cache</code> attribute. A <code>bool</code>, either present or not.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.RequestCacheControl.only_if_cached">
<code>property only_if_cached</code> </dt> <dd>
<p>The <code>only-if-cached</code> attribute. A <code>bool</code>, either present or not.</p> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl">
<code>class werkzeug.datastructures.ResponseCacheControl(values=(), on_update=None)</code> </dt> <dd>
<p>A cache control for responses. Unlike <a class="reference internal" href="#werkzeug.datastructures.RequestCacheControl" title="werkzeug.datastructures.RequestCacheControl"><code>RequestCacheControl</code></a> this is mutable and gives access to response-relevant cache control headers.</p> <p>To get a header of the <a class="reference internal" href="#werkzeug.datastructures.ResponseCacheControl" title="werkzeug.datastructures.ResponseCacheControl"><code>ResponseCacheControl</code></a> object again you can convert the object into a string or call the <a class="reference internal" href="#werkzeug.datastructures.ResponseCacheControl.to_header" title="werkzeug.datastructures.ResponseCacheControl.to_header"><code>to_header()</code></a> method. If you plan to subclass it and add your own items have a look at the sourcecode for that class.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span>Dict values are always <code>str | None</code>. Setting properties will convert the value to a string. Setting a non-bool property to <code>False</code> is equivalent to setting it to <code>None</code>. Getting typed properties will return <code>None</code> if conversion raises <code>ValueError</code>, rather than the string.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span><code>no_cache</code> is <code>True</code> if present without a value, rather than <code>"*"</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span><code>private</code> is <code>True</code> if present without a value, rather than <code>"*"</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span><code>no_transform</code> is a boolean. Previously it was mistakenly always <code>None</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span>Added the <code>must_understand</code>, <code>stale_while_revalidate</code>, and <code>stale_if_error</code> properties.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1.1: </span><code>s_maxage</code> converts the value to an int.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1: </span>Setting int properties such as <code>max_age</code> will convert the value to an int.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 0.5: </span>Request-only properties are not present on this response class.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>values</strong> (<em>cabc.Mapping</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><em>t.Any</em><em>] </em><em>| </em><em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><em>t.Any</em><em>]</em><em>] </em><em>| </em><em>None</em>)</li> <li>
<strong>on_update</strong> (<em>cabc.Callable</em><em>[</em><em>[</em><em>_CacheControl</em><em>]</em><em>, </em><em>None</em><em>] </em><em>| </em><em>None</em>)</li> </ul> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.cache_property">
<code>static cache_property(key, empty, type, *, doc=None)</code> </dt> <dd>
<p>Return a new property object for a cache header. Useful if you want to add support for a cache extension in a subclass.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>) – The attribute name present in the parsed cache-control header dict.</li> <li>
<strong>empty</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a>) – The value to use if the key is present without a value.</li> <li>
<strong>type</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.13)">type</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a><em>] </em><em>| </em><em>None</em>) – The type to convert the string value to instead of a string. If conversion raises a <code>ValueError</code>, the returned value is <code>None</code>.</li> <li>
<strong>doc</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>) – The docstring for the property. If not given, it is generated based on the other params.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)">Any</a></p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.1: </span>Added the <code>doc</code> param.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.0: </span>Renamed from <code>cache_property</code>.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.to_header">
<code>to_header()</code> </dt> <dd>
<p>Convert the stored values into a cache control header.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.immutable">
<code>property immutable</code> </dt> <dd>
<p>The <code>immutable</code> attribute. A <code>bool</code>, either present or not.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.max_age">
<code>property max_age</code> </dt> <dd>
<p>The <code>max-age</code> attribute. A <code>int</code>, or <code>None</code> if not present.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.must_revalidate">
<code>property must_revalidate</code> </dt> <dd>
<p>The <code>must-revalidate</code> attribute. A <code>bool</code>, either present or not.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.must_understand">
<code>property must_understand</code> </dt> <dd>
<p>The <code>must-understand</code> attribute. A <code>bool</code>, either present or not.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.no_cache">
<code>property no_cache</code> </dt> <dd>
<p>The <code>no-cache</code> attribute. A <code>str</code>, <code>True</code> if present with no value, or <code>None</code> if not present.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.no_store">
<code>property no_store</code> </dt> <dd>
<p>The <code>no-store</code> attribute. A <code>bool</code>, either present or not.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.no_transform">
<code>property no_transform</code> </dt> <dd>
<p>The <code>no-transform</code> attribute. A <code>bool</code>, either present or not.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.private">
<code>property private</code> </dt> <dd>
<p>The <code>private</code> attribute. A <code>str</code>, <code>True</code> if present with no value, or <code>None</code> if not present.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.proxy_revalidate">
<code>property proxy_revalidate</code> </dt> <dd>
<p>The <code>proxy-revalidate</code> attribute. A <code>bool</code>, either present or not.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.public">
<code>property public</code> </dt> <dd>
<p>The <code>public</code> attribute. A <code>bool</code>, either present or not.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.s_maxage">
<code>property s_maxage</code> </dt> <dd>
<p>The <code>s-maxage</code> attribute. A <code>int</code>, or <code>None</code> if not present.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.stale_if_error">
<code>property stale_if_error</code> </dt> <dd>
<p>The <code>stale-if-error</code> attribute. A <code>int</code>, or <code>None</code> if not present.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.ResponseCacheControl.stale_while_revalidate">
<code>property stale_while_revalidate</code> </dt> <dd>
<p>The <code>stale-while-revalidate</code> attribute. A <code>int</code>, or <code>None</code> if not present.</p> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.ETags">
<code>class werkzeug.datastructures.ETags(strong_etags=None, weak_etags=None, star_tag=False)</code> </dt> <dd>
<p>A set that can be used to check if one etag is present in a collection of etags.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>strong_etags</strong> (<em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>] </em><em>| </em><em>None</em>)</li> <li>
<strong>weak_etags</strong> (<em>cabc.Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>] </em><em>| </em><em>None</em>)</li> <li>
<strong>star_tag</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a>)</li> </ul> </dd> </dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ETags.as_set">
<code>as_set(include_weak=False)</code> </dt> <dd>
<p>Convert the <code>ETags</code> object into a python set. Per default all the weak etags are not part of this set.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>include_weak</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)">set</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ETags.is_weak">
<code>is_weak(etag)</code> </dt> <dd>
<p>Check if an etag is weak.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>etag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ETags.is_strong">
<code>is_strong(etag)</code> </dt> <dd>
<p>Check if an etag is strong.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>etag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ETags.contains_weak">
<code>contains_weak(etag)</code> </dt> <dd>
<p>Check if an etag is part of the set including weak and strong tags.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>etag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ETags.contains">
<code>contains(etag)</code> </dt> <dd>
<p>Check if an etag is part of the set ignoring weak tags. It is also possible to use the <code>in</code> operator.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>etag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ETags.contains_raw">
<code>contains_raw(etag)</code> </dt> <dd>
<p>When passed a quoted tag it will check if this tag is part of the set. If the tag is weak it is checked against weak and strong tags, otherwise strong only.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>etag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ETags.to_header">
<code>to_header()</code> </dt> <dd>
<p>Convert the etags set into a HTTP header string.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.Authorization">
<code>class werkzeug.datastructures.Authorization(auth_type, data=None, token=None)</code> </dt> <dd>
<p>Represents the parts of an <code>Authorization</code> request header.</p> <p><a class="reference internal" href="../wrappers/index.html#werkzeug.wrappers.Request.authorization" title="werkzeug.wrappers.Request.authorization"><code>Request.authorization</code></a> returns an instance if the header is set.</p> <p>An instance can be used with the test <a class="reference internal" href="../test/index.html#werkzeug.test.Client" title="werkzeug.test.Client"><code>Client</code></a> request methods’ <code>auth</code> parameter to send the header in test requests.</p> <p>Depending on the auth scheme, either <a class="reference internal" href="#werkzeug.datastructures.Authorization.parameters" title="werkzeug.datastructures.Authorization.parameters"><code>parameters</code></a> or <a class="reference internal" href="#werkzeug.datastructures.Authorization.token" title="werkzeug.datastructures.Authorization.token"><code>token</code></a> will be set. The <code>Basic</code> scheme’s token is decoded into the <code>username</code> and <code>password</code> parameters.</p> <p>For convenience, <code>auth["key"]</code> and <code>auth.key</code> both access the key in the <a class="reference internal" href="#werkzeug.datastructures.Authorization.parameters" title="werkzeug.datastructures.Authorization.parameters"><code>parameters</code></a> dict, along with <code>auth.get("key")</code> and <code>"key" in auth</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>The <code>token</code> parameter and attribute was added to support auth schemes that use a token instead of parameters, such as <code>Bearer</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>The object is no longer a <code>dict</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.5: </span>The object is an immutable dict.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>auth_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</li> <li>
<strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em><em>] </em><em>| </em><em>None</em>)</li> <li>
<strong>token</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>)</li> </ul> </dd> </dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.Authorization.type">
<code>type</code> </dt> <dd>
<p>The authorization scheme, like <code>basic</code>, <code>digest</code>, or <code>bearer</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.Authorization.parameters">
<code>parameters</code> </dt> <dd>
<p>A dict of parameters parsed from the header. Either this or <a class="reference internal" href="#werkzeug.datastructures.Authorization.token" title="werkzeug.datastructures.Authorization.token"><code>token</code></a> will have a value for a given scheme.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.Authorization.token">
<code>token</code> </dt> <dd>
<p>A token parsed from the header. Either this or <a class="reference internal" href="#werkzeug.datastructures.Authorization.parameters" title="werkzeug.datastructures.Authorization.parameters"><code>parameters</code></a> will have a value for a given scheme.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 2.3.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Authorization.from_header">
<code>classmethod from_header(value)</code> </dt> <dd>
<p>Parse an <code>Authorization</code> header value and return an instance, or <code>None</code> if the value is empty.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>) – The header value to parse.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>te.Self | None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 2.3.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Authorization.to_header">
<code>to_header()</code> </dt> <dd>
<p>Produce an <code>Authorization</code> header value representing this data.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 2.0.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.WWWAuthenticate">
<code>class werkzeug.datastructures.WWWAuthenticate(auth_type, values=None, token=None)</code> </dt> <dd>
<p>Represents the parts of a <code>WWW-Authenticate</code> response header.</p> <p>Set <a class="reference internal" href="../wrappers/index.html#werkzeug.wrappers.Response.www_authenticate" title="werkzeug.wrappers.Response.www_authenticate"><code>Response.www_authenticate</code></a> to an instance of list of instances to set values for this header in the response. Modifying this instance will modify the header value.</p> <p>Depending on the auth scheme, either <a class="reference internal" href="#werkzeug.datastructures.WWWAuthenticate.parameters" title="werkzeug.datastructures.WWWAuthenticate.parameters"><code>parameters</code></a> or <a class="reference internal" href="#werkzeug.datastructures.WWWAuthenticate.token" title="werkzeug.datastructures.WWWAuthenticate.token"><code>token</code></a> should be set. The <code>Basic</code> scheme will encode <code>username</code> and <code>password</code> parameters to a token.</p> <p>For convenience, <code>auth["key"]</code> and <code>auth.key</code> both act on the <a class="reference internal" href="#werkzeug.datastructures.WWWAuthenticate.parameters" title="werkzeug.datastructures.WWWAuthenticate.parameters"><code>parameters</code></a> dict, and can be used to get, set, or delete parameters. <code>auth.get("key")</code> and <code>"key" in auth</code> are also provided.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>The <code>token</code> parameter and attribute was added to support auth schemes that use a token instead of parameters, such as <code>Bearer</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>The object is no longer a <code>dict</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>The <code>on_update</code> parameter was removed.</p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>auth_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</li> <li>
<strong>values</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em><em>] </em><em>| </em><em>None</em>)</li> <li>
<strong>token</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>)</li> </ul> </dd> </dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.WWWAuthenticate.type">
<code>property type: str</code> </dt> <dd>
<p>The authorization scheme, like <code>basic</code>, <code>digest</code>, or <code>bearer</code>.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.WWWAuthenticate.parameters">
<code>property parameters: dict[str, str | None]</code> </dt> <dd>
<p>A dict of parameters for the header. Only one of this or <a class="reference internal" href="#werkzeug.datastructures.WWWAuthenticate.token" title="werkzeug.datastructures.WWWAuthenticate.token"><code>token</code></a> should have a value for a given scheme.</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.WWWAuthenticate.token">
<code>property token: str | None</code> </dt> <dd>
<p>A dict of parameters for the header. Only one of this or <a class="reference internal" href="#werkzeug.datastructures.WWWAuthenticate.token" title="werkzeug.datastructures.WWWAuthenticate.token"><code>token</code></a> should have a value for a given scheme.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.WWWAuthenticate.from_header">
<code>classmethod from_header(value)</code> </dt> <dd>
<p>Parse a <code>WWW-Authenticate</code> header value and return an instance, or <code>None</code> if the value is empty.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>) – The header value to parse.</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>te.Self | None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 2.3.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.WWWAuthenticate.to_header">
<code>to_header()</code> </dt> <dd>
<p>Produce a <code>WWW-Authenticate</code> header value representing this data.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.IfRange">
<code>class werkzeug.datastructures.IfRange(etag=None, date=None)</code> </dt> <dd>
<p>Very simple object that represents the <code>If-Range</code> header in parsed form. It will either have neither a etag or date or one of either but never both.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>etag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>)</li> <li>
<strong>date</strong> (<em>datetime</em><em> | </em><em>None</em>)</li> </ul> </dd> </dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.IfRange.etag">
<code>etag</code> </dt> <dd>
<p>The etag parsed and unquoted. Ranges always operate on strong etags so the weakness information is not necessary.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.IfRange.date">
<code>date</code> </dt> <dd>
<p>The date in parsed format or <code>None</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.IfRange.to_header">
<code>to_header()</code> </dt> <dd>
<p>Converts the object back into an HTTP header.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.Range">
<code>class werkzeug.datastructures.Range(units, ranges)</code> </dt> <dd>
<p>Represents a <code>Range</code> header. All methods only support only bytes as the unit. Stores a list of ranges if given, but the methods only work if only one range is provided.</p> <dl class="field-list simple"> <dt class="field-odd">Raises<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the ranges provided are invalid.</p> </dd> <dt class="field-even">Parameters<span class="colon">:</span>
</dt> <dd class="field-even">
<ul class="simple"> <li>
<strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>)</li> <li>
<strong>ranges</strong> (<em>cabc.Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em><em>]</em><em>]</em>)</li> </ul> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 0.15: </span>The ranges passed in are validated.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 0.7.</span></p> </div> </details><dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.Range.units">
<code>units</code> </dt> <dd>
<p>The units of this range. Usually “bytes”.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.Range.ranges">
<code>ranges</code> </dt> <dd>
<p>A list of <code>(begin, end)</code> tuples for the range header provided. The ranges are non-inclusive.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Range.range_for_length">
<code>range_for_length(length)</code> </dt> <dd>
<p>If the range is for bytes, the length is not None and there is exactly one range and it is satisfiable it returns a <code>(start, stop)</code> tuple, otherwise <code>None</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a>] | None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Range.make_content_range">
<code>make_content_range(length)</code> </dt> <dd>
<p>Creates a <a class="reference internal" href="#werkzeug.datastructures.ContentRange" title="werkzeug.datastructures.ContentRange"><code>ContentRange</code></a> object from the current range and given content length.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference internal" href="#werkzeug.datastructures.ContentRange" title="werkzeug.datastructures.range.ContentRange">ContentRange</a> | None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Range.to_header">
<code>to_header()</code> </dt> <dd>
<p>Converts the object back into an HTTP header.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.Range.to_content_range_header">
<code>to_content_range_header(length)</code> </dt> <dd>
<p>Converts the object into <code>Content-Range</code> HTTP header, based on given length</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em>)</p> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a> | None</p> </dd> </dl> </dd>
</dl> </dd>
</dl> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.ContentRange">
<code>class werkzeug.datastructures.ContentRange(units, start, stop, length=None, on_update=None)</code> </dt> <dd>
<p>Represents the content range header.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.7.</span></p> </div> </details><dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>)</li> <li>
<strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em>)</li> <li>
<strong>stop</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em>)</li> <li>
<strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em>)</li> <li>
<strong>on_update</strong> (<em>cabc.Callable</em><em>[</em><em>[</em><a class="reference internal" href="#werkzeug.datastructures.ContentRange" title="werkzeug.datastructures.ContentRange">ContentRange</a><em>]</em><em>, </em><em>None</em><em>] </em><em>| </em><em>None</em>)</li> </ul> </dd> </dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.ContentRange.units">
<code>units: str | None</code> </dt> <dd>
<p>The units to use, usually “bytes”</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.ContentRange.start">
<code>start: int | None</code> </dt> <dd>
<p>The start point of the range or <code>None</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.ContentRange.stop">
<code>stop: int | None</code> </dt> <dd>
<p>The stop point of the range (non-inclusive) or <code>None</code>. Can only be <code>None</code> if also start is <code>None</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.ContentRange.length">
<code>length: int | None</code> </dt> <dd>
<p>The length of the range or <code>None</code>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ContentRange.set">
<code>set(start, stop, length=None, units='bytes')</code> </dt> <dd>
<p>Simple method to update the ranges.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em>)</li> <li>
<strong>stop</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em>)</li> <li>
<strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em>)</li> <li>
<strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>)</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.ContentRange.unset">
<code>unset()</code> </dt> <dd>
<p>Sets the units to <code>None</code> which indicates that the header should no longer be used.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>None</p> </dd> </dl> </dd>
</dl> </dd>
</dl> </section> <section id="others"> <h2>Others</h2> <dl class="py class"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage">
<code>class werkzeug.datastructures.FileStorage(stream=None, filename=None, name=None, content_type=None, content_length=None, headers=None)</code> </dt> <dd>
<p>The <a class="reference internal" href="#werkzeug.datastructures.FileStorage" title="werkzeug.datastructures.FileStorage"><code>FileStorage</code></a> class is a thin wrapper over incoming files. It is used by the request object to represent uploaded files. All the attributes of the wrapper stream are proxied by the file storage so it’s possible to do <code>storage.read()</code> instead of the long form <code>storage.stream.read()</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>stream</strong> (<em>t.IO</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)">bytes</a><em>] </em><em>| </em><em>None</em>)</li> <li>
<strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>)</li> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>)</li> <li>
<strong>content_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><em>None</em>)</li> <li>
<strong>content_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a><em> | </em><em>None</em>)</li> <li>
<strong>headers</strong> (<a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.Headers">Headers</a><em> | </em><em>None</em>)</li> </ul> </dd> </dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage.stream">
<code>stream</code> </dt> <dd>
<p>The input stream for the uploaded file. This usually points to an open temporary file.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage.filename">
<code>filename</code> </dt> <dd>
<p>The filename of the file on the client. Can be a <code>str</code>, or an instance of <code>os.PathLike</code>.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage.name">
<code>name</code> </dt> <dd>
<p>The name of the form field.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage.headers">
<code>headers</code> </dt> <dd>
<p>The multipart headers as <a class="reference internal" href="#werkzeug.datastructures.Headers" title="werkzeug.datastructures.Headers"><code>Headers</code></a> object. This usually contains irrelevant information but in combination with custom multipart requests the raw headers might be interesting.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.6.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage.content_type">
<code>property content_type: str | None</code> </dt> <dd>
<p>The content-type sent in the header. Usually not available</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage.content_length">
<code>property content_length: int</code> </dt> <dd>
<p>The content-length sent in the header. Usually not available</p> </dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage.mimetype">
<code>property mimetype: str</code> </dt> <dd>
<p>Like <a class="reference internal" href="#werkzeug.datastructures.FileStorage.content_type" title="werkzeug.datastructures.FileStorage.content_type"><code>content_type</code></a>, but without parameters (eg, without charset, type etc.) and always lowercase. For example if the content type is <code>text/HTML; charset=utf-8</code> the mimetype would be <code>'text/html'</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.7.</span></p> </div> </details>
</dd>
</dl> <dl class="py property"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage.mimetype_params">
<code>property mimetype_params: dict[str, str]</code> </dt> <dd>
<p>The mimetype parameters as dict. For example if the content type is <code>text/html; charset=utf-8</code> the params would be <code>{'charset': 'utf-8'}</code>.</p> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified added">Added in version 0.7.</span></p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage.save">
<code>save(dst, buffer_size=16384)</code> </dt> <dd>
<p>Save the file to a destination path or file object. If the destination is a file object you have to close it yourself after the call. The buffer size is the number of bytes held in memory during the copy process. It defaults to 16KB.</p> <p>For secure file saving also have a look at <code>secure_filename()</code>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<ul class="simple"> <li>
<strong>dst</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.13)">PathLike</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.IO" title="(in Python v3.13)">IO</a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)">bytes</a><em>]</em>) – a filename, <a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.13)"><code>os.PathLike</code></a>, or open file object to write to.</li> <li>
<strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a>) – Passed as the <code>length</code> parameter of <a class="reference external" href="https://docs.python.org/3/library/shutil.html#shutil.copyfileobj" title="(in Python v3.13)"><code>shutil.copyfileobj()</code></a>.</li> </ul> </dd> <dt class="field-even">Return type<span class="colon">:</span>
</dt> <dd class="field-even">
<p>None</p> </dd> </dl> <details class="changelog"> <summary>Changelog</summary><div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.0: </span>Supports <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#module-pathlib" title="(in Python v3.13)"><code>pathlib</code></a>.</p> </div> </details>
</dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="werkzeug.datastructures.FileStorage.close">
<code>close()</code> </dt> <dd>
<p>Close the underlying file if possible.</p> <dl class="field-list simple"> <dt class="field-odd">Return type<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>None</p> </dd> </dl> </dd>
</dl> </dd>
</dl> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2007 Pallets<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://werkzeug.palletsprojects.com/en/latest/datastructures/" class="_attribution-link">https://werkzeug.palletsprojects.com/en/latest/datastructures/</a>
  </p>
</div>
