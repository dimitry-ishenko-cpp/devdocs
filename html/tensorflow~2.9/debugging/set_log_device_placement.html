<h1 class="devsite-page-title">tf.debugging.set_log_device_placement</h1> <devsite-bookmark></devsite-bookmark>      <table class="tfo-notebook-buttons tfo-api nocontent" align="left">  <td> <a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v2.9.0/tensorflow/python/eager/context.py#L2398-L2430">  View source on GitHub </a> </td> </table> <p>Turns logging for device placement decisions on or off.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="https://www.tensorflow.org/api_docs/python/tf/debugging/set_log_device_placement"><code translate="no" dir="ltr">tf.compat.v1.debugging.set_log_device_placement</code></a></p> </section> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.debugging.set_log_device_placement(
    enabled
)
</pre>  <p>Operations execute on a particular device, producing and consuming tensors on that device. This may change the performance of the operation or require TensorFlow to copy data to or from an accelerator, so knowing where operations execute is useful for debugging performance issues.</p> <p>For more advanced profiling, use the <a href="https://www.tensorflow.org/guide/profiler">TensorFlow profiler</a>.</p> <p>Device placement for operations is typically controlled by a <a href="../device.html"><code translate="no" dir="ltr">tf.device</code></a> scope, but there are exceptions, for example operations on a <a href="../variable.html"><code translate="no" dir="ltr">tf.Variable</code></a> which follow the initial placement of the variable. Turning off soft device placement (with <a href="../config/set_soft_device_placement.html"><code translate="no" dir="ltr">tf.config.set_soft_device_placement</code></a>) provides more explicit control.</p> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
tf.debugging.set_log_device_placement(True)
tf.ones([])
# [...] op Fill in device /job:localhost/replica:0/task:0/device:GPU:0
with tf.device("CPU"):
 tf.ones([])
# [...] op Fill in device /job:localhost/replica:0/task:0/device:CPU:0
tf.debugging.set_log_device_placement(False)
</pre> <p>Turning on <a href="set_log_device_placement.html"><code translate="no" dir="ltr">tf.debugging.set_log_device_placement</code></a> also logs the placement of ops inside <a href="../function.html"><code translate="no" dir="ltr">tf.function</code></a> when the function is called.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">enabled</code> </td> <td> Whether to enabled device placement logging. </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/debugging/set_log_device_placement" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/debugging/set_log_device_placement</a>
  </p>
</div>
