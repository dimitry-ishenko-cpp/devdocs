<h1 class="devsite-page-title">tf.raw_ops.Substr</h1> <devsite-bookmark></devsite-bookmark>       <p>Return substrings from <code translate="no" dir="ltr">Tensor</code> of strings.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="https://www.tensorflow.org/api_docs/python/tf/raw_ops/Substr"><code translate="no" dir="ltr">tf.compat.v1.raw_ops.Substr</code></a></p> </section> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.raw_ops.Substr(
    input, pos, len, unit='BYTE', name=None
)
</pre>  <p>For each string in the input <code translate="no" dir="ltr">Tensor</code>, creates a substring starting at index <code translate="no" dir="ltr">pos</code> with a total length of <code translate="no" dir="ltr">len</code>.</p> <p>If <code translate="no" dir="ltr">len</code> defines a substring that would extend beyond the length of the input string, or if <code translate="no" dir="ltr">len</code> is negative, then as many characters as possible are used.</p> <p>A negative <code translate="no" dir="ltr">pos</code> indicates distance within the string backwards from the end.</p> <p>If <code translate="no" dir="ltr">pos</code> specifies an index which is out of range for any of the input strings, then an <code translate="no" dir="ltr">InvalidArgumentError</code> is thrown.</p> <p><code translate="no" dir="ltr">pos</code> and <code translate="no" dir="ltr">len</code> must have the same shape, otherwise a <code translate="no" dir="ltr">ValueError</code> is thrown on Op creation.</p> <blockquote class="note">
<strong>Note:</strong><span> <code translate="no" dir="ltr">Substr</code> supports broadcasting up to two dimensions. More about broadcasting <a href="http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html">here</a></span>
</blockquote>  <p>Examples</p> <p>Using scalar <code translate="no" dir="ltr">pos</code> and <code translate="no" dir="ltr">len</code>:</p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">input = [b'Hello', b'World']
position = 1
length = 3

output = [b'ell', b'orl']
</pre> <p>Using <code translate="no" dir="ltr">pos</code> and <code translate="no" dir="ltr">len</code> with same shape as <code translate="no" dir="ltr">input</code>:</p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">input = [[b'ten', b'eleven', b'twelve'],
         [b'thirteen', b'fourteen', b'fifteen'],
         [b'sixteen', b'seventeen', b'eighteen']]
position = [[1, 2, 3],
            [1, 2, 3],
            [1, 2, 3]]
length =   [[2, 3, 4],
            [4, 3, 2],
            [5, 5, 5]]

output = [[b'en', b'eve', b'lve'],
          [b'hirt', b'urt', b'te'],
          [b'ixtee', b'vente', b'hteen']]
</pre> <p>Broadcasting <code translate="no" dir="ltr">pos</code> and <code translate="no" dir="ltr">len</code> onto <code translate="no" dir="ltr">input</code>:</p> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">input = [[b'ten', b'eleven', b'twelve'],
         [b'thirteen', b'fourteen', b'fifteen'],
         [b'sixteen', b'seventeen', b'eighteen'],
         [b'nineteen', b'twenty', b'twentyone']]
position = [1, 2, 3]
length =   [1, 2, 3]

output = [[b'e', b'ev', b'lve'],
          [b'h', b'ur', b'tee'],
          [b'i', b've', b'hte'],
          [b'i', b'en', b'nty']]
</pre> <p>Broadcasting <code translate="no" dir="ltr">input</code> onto <code translate="no" dir="ltr">pos</code> and <code translate="no" dir="ltr">len</code>:</p> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">input = b'thirteen'
position = [1, 5, 7]
length =   [3, 2, 1]

output = [b'hir', b'ee', b'n']
</pre>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> <tr class="alt"> <td colspan="2"> <ul> <li>
<code translate="no" dir="ltr">ValueError</code>: If the first argument cannot be converted to a Tensor of <code translate="no" dir="ltr">dtype string</code>.</li> <li>
<code translate="no" dir="ltr">InvalidArgumentError</code>: If indices are out of range.</li> <li>
<code translate="no" dir="ltr">ValueError</code>: If <code translate="no" dir="ltr">pos</code> and <code translate="no" dir="ltr">len</code> are not the same shape. </li>
</ul>
</td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">input</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">string</code>. Tensor of strings </td> </tr>
<tr> <td> <code translate="no" dir="ltr">pos</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code>. Must be one of the following types: <code translate="no" dir="ltr">int32</code>, <code translate="no" dir="ltr">int64</code>. Scalar defining the position of first character in each substring </td> </tr>
<tr> <td> <code translate="no" dir="ltr">len</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code>. Must have the same type as <code translate="no" dir="ltr">pos</code>. Scalar defining the number of characters to include in each substring </td> </tr>
<tr> <td> <code translate="no" dir="ltr">unit</code> </td> <td> An optional <code translate="no" dir="ltr">string</code> from: <code translate="no" dir="ltr">"BYTE", "UTF8_CHAR"</code>. Defaults to <code translate="no" dir="ltr">"BYTE"</code>. The unit that is used to create the substring. One of: <code translate="no" dir="ltr">"BYTE"</code> (for defining position and length by bytes) or <code translate="no" dir="ltr">"UTF8_CHAR"</code> (for the UTF-8 encoded Unicode code points). The default is <code translate="no" dir="ltr">"BYTE"</code>. Results are undefined if <code translate="no" dir="ltr">unit=UTF8_CHAR</code> and the <code translate="no" dir="ltr">input</code> strings do not contain structurally valid UTF-8. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> A name for the operation (optional). </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">string</code>. </td> </tr> 
</table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/raw_ops/Substr" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/raw_ops/Substr</a>
  </p>
</div>
