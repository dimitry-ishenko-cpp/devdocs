<h1 class="devsite-page-title">tf.math.unsorted_segment_sum</h1> <devsite-bookmark></devsite-bookmark>   <p><devsite-mathjax config="TeX-AMS-MML_SVG"></devsite-mathjax> </p>    <p>Computes the sum along segments of a tensor.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="https://www.tensorflow.org/api_docs/python/tf/math/unsorted_segment_sum"><code translate="no" dir="ltr">tf.compat.v1.math.unsorted_segment_sum</code></a>, <a href="https://www.tensorflow.org/api_docs/python/tf/math/unsorted_segment_sum"><code translate="no" dir="ltr">tf.compat.v1.unsorted_segment_sum</code></a></p> </section> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.math.unsorted_segment_sum(
    data, segment_ids, num_segments, name=None
)
</pre>  <p>Read <a href="https://tensorflow.org/api_docs/python/tf/math#Segmentation">the section on segmentation</a> for an explanation of segments.</p> <p>Computes a tensor such that \(output[i] = \sum_{j...} data[j...]\) where the sum is over tuples <code translate="no" dir="ltr">j...</code> such that <code translate="no" dir="ltr">segment_ids[j...] == i</code>. Unlike <code translate="no" dir="ltr">SegmentSum</code>, <code translate="no" dir="ltr">segment_ids</code> need not be sorted and need not cover all values in the full range of valid values.</p> <p>If the sum is empty for a given segment ID <code translate="no" dir="ltr">i</code>, <code translate="no" dir="ltr">output[i] = 0</code>. If the given segment ID <code translate="no" dir="ltr">i</code> is negative, the value is dropped and will not be added to the sum of the segment.</p> <p><code translate="no" dir="ltr">num_segments</code> should equal the number of distinct segment IDs.</p> <aside class="caution"><strong>Caution:</strong><span> On CPU, values in <code translate="no" dir="ltr">segment_ids</code> are always validated to be less than <code translate="no" dir="ltr">num_segments</code>, and an error is thrown for out-of-bound indices. On GPU, this does not throw an error for out-of-bound indices. On Gpu, out-of-bound indices result in safe but unspecified behavior, which may include ignoring out-of-bound indices or outputting a tensor with a 0 stored in the first dimension of its shape if <code translate="no" dir="ltr">num_segments</code> is 0.</span></aside> <div style="width:70%; margin:auto; margin-bottom:10px; margin-top:20px;"> <img style="width:100%" src="data:image/png;base64,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qg9jrctP9ieHkMi097reMq1wkYk4AZdIm5iWyyQjqUyscH/lzDhHiUZWIsMH5Zuxg3ZpfCyGiyuJfuiblbpnqHeqX6EnthsoLNFff9+nb04fuh//11OJPnb/X30M+bX78W/eSWQcKVK2jdeF1k/j4zsZEv3R/RX097s76X78n2eRyFKefbMRluizPjBR1G9Lp6dL34y/+e8t7yUyDkq1t/Sff50uX2wbH4mdjhaW6J3jOwz/4alEHxyXc+KhRHfGC4OyvrR8urelW65UL8syJPrk+Ct9fBESZYtB2gITkccrIpH5sGjV+jd/L/pUdyVR+U+bp5fYGwgGSaL/eShRubVtXYB6Wh51iYp564AoFqwrD/PK4+WQyHIo2fIM3P5RliLR3YV1AHFXZkz02Cr7/G/z/191AVFQJRobi4QKPZPxo+mpoF0BjUSuJSq3tkybUqssR6K2ev0v8e+FN6rXOiZqW7Sk9v33Xz+XX4NE2sgolZmKhV76xCok8kyicvnHSXcX7f3JDxdPdLcSlVvLX7t/i/U9cfKEJdpad+qjpxL9y3E5f3srUXv/uXtMTVE/uBkQuZTom+Ov9NvzSBTokGgQidqvvP8sX5ycXCz/c+fqie5aos4x8tO9n1s/l5Yv3TxogLP4gzTIWfxBciVR56Vieelk62LvtFUuy5NoiJDIunv5RAkkcqCoPEiDSDTQkl65RAOHRM9W6fE4i+9pg0hURiIkIiRCIiRCIkIiJEIiQiIkQiIkIiRCIiQiJEIiJEIiQiIkQiJCIiRCIiQiJEIiJCIkQiIkQiJCIiRCIkIiJEIiJCIkQiIkIiRCIiRCIkIiJEIiQiIkQiIkIiRCIiQiJEIiJEIiQiIkQiJCIiRCIiQiJEIiJCIkQiIkQiJCIiRCIkIiJEIiJCIkQiIkIiRSFPWd9D5pW1RV/oKqneVs/y497c3n5S/mvV/rTfXv90EicpCIyMeQiJCIkIiQiAiJyLZY3Kfy0agfi8lGo9G8D8sZby8nO0Lrbdyn9dauwFZHREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREFMhSMZ+aKRRCPiwmVygU0j4s5017OdM+rTc/FjPh03rrVGKzI0sTCpG/hdnsCIkIiQiJ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" alt> </div> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
c = [[1,2,3,4], [5,6,7,8], [4,3,2,1]]
tf.math.unsorted_segment_sum(c, [0, 1, 0], num_segments=2).numpy()
array([[5, 5, 5, 5],
       [5, 6, 7, 8]], dtype=int32)
</pre>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">data</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code>. Must be one of the following types: <code translate="no" dir="ltr">float32</code>, <code translate="no" dir="ltr">float64</code>, <code translate="no" dir="ltr">int32</code>, <code translate="no" dir="ltr">uint8</code>, <code translate="no" dir="ltr">int16</code>, <code translate="no" dir="ltr">int8</code>, <code translate="no" dir="ltr">complex64</code>, <code translate="no" dir="ltr">int64</code>, <code translate="no" dir="ltr">qint8</code>, <code translate="no" dir="ltr">quint8</code>, <code translate="no" dir="ltr">qint32</code>, <code translate="no" dir="ltr">bfloat16</code>, <code translate="no" dir="ltr">uint16</code>, <code translate="no" dir="ltr">complex128</code>, <code translate="no" dir="ltr">half</code>, <code translate="no" dir="ltr">uint32</code>, <code translate="no" dir="ltr">uint64</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">segment_ids</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code>. Must be one of the following types: <code translate="no" dir="ltr">int32</code>, <code translate="no" dir="ltr">int64</code>. A tensor whose shape is a prefix of <code translate="no" dir="ltr">data.shape</code>. The values must be less than <code translate="no" dir="ltr">num_segments</code>. <aside class="caution"><strong>Caution:</strong><span> The values are always validated to be in range on CPU, never validated on GPU. </span></aside>
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">num_segments</code> </td> <td> A <code translate="no" dir="ltr">Tensor</code>. Must be one of the following types: <code translate="no" dir="ltr">int32</code>, <code translate="no" dir="ltr">int64</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> A name for the operation (optional). </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A <code translate="no" dir="ltr">Tensor</code>. Has the same type as <code translate="no" dir="ltr">data</code>. </td> </tr> 
</table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/math/unsorted_segment_sum" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/math/unsorted_segment_sum</a>
  </p>
</div>
