<h1 class="devsite-page-title">tf.data.experimental.AutoShardPolicy</h1> <devsite-bookmark></devsite-bookmark>       <p>Represents the type of auto-sharding to use.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="https://www.tensorflow.org/api_docs/python/tf/data/experimental/AutoShardPolicy"><code translate="no" dir="ltr">tf.compat.v1.data.experimental.AutoShardPolicy</code></a></p> </section>  <p>OFF: No sharding will be performed.</p> <p>AUTO: Attempts FILE-based sharding, falling back to DATA-based sharding.</p> <p>FILE: Shards by input files (i.e. each worker will get a set of files to process). When this option is selected, make sure that there is at least as many files as workers. If there are fewer input files than workers, a runtime error will be raised.</p> <p>DATA: Shards by elements produced by the dataset. Each worker will process the whole dataset and discard the portion that is not for itself. Note that for this mode to correctly partitions the dataset elements, the dataset needs to produce elements in a deterministic order.</p> <p>HINT: Looks for the presence of <code translate="no" dir="ltr">shard(SHARD_HINT, ...)</code> which is treated as a placeholder to replace with <code translate="no" dir="ltr">shard(num_workers, worker_index)</code>.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Class Variables</th></tr> 
<tr> <td> AUTO </td> <td> <code translate="no" dir="ltr">&lt;AutoShardPolicy.AUTO: 0&gt;</code> </td> </tr>
<tr> <td> DATA </td> <td> <code translate="no" dir="ltr">&lt;AutoShardPolicy.DATA: 2&gt;</code> </td> </tr>
<tr> <td> FILE </td> <td> <code translate="no" dir="ltr">&lt;AutoShardPolicy.FILE: 1&gt;</code> </td> </tr>
<tr> <td> HINT </td> <td> <code translate="no" dir="ltr">&lt;AutoShardPolicy.HINT: 3&gt;</code> </td> </tr>
<tr> <td> OFF </td> <td> <code translate="no" dir="ltr">&lt;AutoShardPolicy.OFF: -1&gt;</code> </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/data/experimental/AutoShardPolicy" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/data/experimental/AutoShardPolicy</a>
  </p>
</div>
