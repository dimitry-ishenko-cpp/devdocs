<h1 class="devsite-page-title">tf.experimental.dtensor.run_on</h1> <devsite-bookmark></devsite-bookmark>       <p>Runs enclosed functions in the DTensor device scope.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
@contextlib.contextmanager
tf.experimental.dtensor.run_on(
    layout_or_mesh: Union[tf.experimental.dtensor.Layout, tf.experimental.dtensor.Mesh]
)
</pre>  <p>This function returns a scope. All the ops and tf.functions in this scope will run on the DTensor device using the mesh provided or attached to the layout. This is useful for wrapping any tf.function that doesn't take a DTensor as input but would like to produce DTensor as result. The scope will also make sure all small constants be replicated as DTensor.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">layout_or_mesh</code> </td> <td> A Layout or Mesh instance to extract a default mesh from. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Yields</th></tr> <tr class="alt"> <td colspan="2"> A context in which all ops and tf.functions will run on the DTensor device. </td> </tr> 
</table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/experimental/dtensor/run_on" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/experimental/dtensor/run_on</a>
  </p>
</div>
