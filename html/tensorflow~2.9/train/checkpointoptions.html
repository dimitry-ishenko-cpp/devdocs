<h1 class="devsite-page-title">tf.train.CheckpointOptions</h1> <devsite-bookmark></devsite-bookmark>       <p>Options for constructing a Checkpoint.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="https://www.tensorflow.org/api_docs/python/tf/train/CheckpointOptions"><code translate="no" dir="ltr">tf.compat.v1.train.CheckpointOptions</code></a></p> </section> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.train.CheckpointOptions(
    experimental_io_device=None, experimental_enable_async_checkpoint=False
)
</pre>  <p>Used as the <code translate="no" dir="ltr">options</code> argument to either <a href="checkpoint.html#save"><code translate="no" dir="ltr">tf.train.Checkpoint.save()</code></a> or <a href="checkpoint.html#restore"><code translate="no" dir="ltr">tf.train.Checkpoint.restore()</code></a> methods to adjust how variables are saved/restored.</p> <p>Example: Run IO ops on "localhost" while saving a checkpoint:</p> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">step = tf.Variable(0, name="step")
checkpoint = tf.train.Checkpoint(step=step)
options = tf.train.CheckpointOptions(experimental_io_device="/job:localhost")
checkpoint.save("/tmp/ckpt", options=options)
</pre>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">experimental_io_device</code> </td> <td> string. Applies in a distributed setting. Tensorflow device to use to access the filesystem. If <code translate="no" dir="ltr">None</code> (default) then for each variable the filesystem is accessed from the CPU:0 device of the host where that variable is assigned. If specified, the filesystem is instead accessed from that device for all variables. <p>This is for example useful if you want to save to a local directory, such as "/tmp" when running in a distributed setting. In that case pass a device for the host where the "/tmp" directory is accessible. </p>
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">experimental_enable_async_checkpoint</code> </td> <td> bool Type. Indicates whether async checkpoint is enabled. Default is False, i.e., no async checkpoint. <p>Async checkpoint moves the checkpoint file writing off the main thread, so that the model can continue to train while the checkpoing file writing runs in the background. Async checkpoint reduces TPU device idle cycles and speeds up model training process, while memory consumption may increase. </p>
</td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">experimental_enable_async_checkpoint</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">experimental_io_device</code> </td> <td> 
</td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/train/CheckpointOptions" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/train/CheckpointOptions</a>
  </p>
</div>
