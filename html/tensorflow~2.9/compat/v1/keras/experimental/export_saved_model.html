<h1 class="devsite-page-title">tf.compat.v1.keras.experimental.export_saved_model</h1> <devsite-bookmark></devsite-bookmark>       <p>Exports a <a href="../../../../keras/model.html"><code translate="no" dir="ltr">tf.keras.Model</code></a> as a Tensorflow SavedModel.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.compat.v1.keras.experimental.export_saved_model(
    model,
    saved_model_path,
    custom_objects=None,
    as_text=False,
    input_signature=None,
    serving_only=False
)
</pre>  <p>Note that at this time, subclassed models can only be saved using <code translate="no" dir="ltr">serving_only=True</code>.</p> <p>The exported <code translate="no" dir="ltr">SavedModel</code> is a standalone serialization of Tensorflow objects, and is supported by TF language APIs and the Tensorflow Serving system. To load the model, use the function <code translate="no" dir="ltr">tf.keras.experimental.load_from_saved_model</code>.</p> <p>The <code translate="no" dir="ltr">SavedModel</code> contains:</p> <ol> <li>a checkpoint containing the model weights.</li> <li>a <code translate="no" dir="ltr">SavedModel</code> proto containing the Tensorflow backend graph. Separate graphs are saved for prediction (serving), train, and evaluation. If the model has not been compiled, then only the graph computing predictions will be exported.</li> <li>the model's json config. If the model is subclassed, this will only be included if the model's <code translate="no" dir="ltr">get_config()</code> method is overwritten.</li> </ol> <h4 id="example" data-text="Example:">Example:</h4> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">import tensorflow as tf

# Create a tf.keras model.
model = tf.keras.Sequential()
model.add(tf.keras.layers.Dense(1, input_shape=[10]))
model.summary()

# Save the tf.keras model in the SavedModel format.
path = '/tmp/simple_keras_model'
tf.keras.experimental.export_saved_model(model, path)

# Load the saved keras model back.
new_model = tf.keras.experimental.load_from_saved_model(path)
new_model.summary()
</pre>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">model</code> </td> <td> A <a href="../../../../keras/model.html"><code translate="no" dir="ltr">tf.keras.Model</code></a> to be saved. If the model is subclassed, the flag <code translate="no" dir="ltr">serving_only</code> must be set to True. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">saved_model_path</code> </td> <td> a string specifying the path to the SavedModel directory. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">custom_objects</code> </td> <td> Optional dictionary mapping string names to custom classes or functions (e.g. custom loss functions). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">as_text</code> </td> <td> bool, <code translate="no" dir="ltr">False</code> by default. Whether to write the <code translate="no" dir="ltr">SavedModel</code> proto in text format. Currently unavailable in serving-only mode. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">input_signature</code> </td> <td> A possibly nested sequence of <a href="../../../../tensorspec.html"><code translate="no" dir="ltr">tf.TensorSpec</code></a> objects, used to specify the expected model inputs. See <a href="../../../../function.html"><code translate="no" dir="ltr">tf.function</code></a> for more details. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">serving_only</code> </td> <td> bool, <code translate="no" dir="ltr">False</code> by default. When this is true, only the prediction graph is saved. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">NotImplementedError</code> </td> <td> If the model is a subclassed model, and serving_only is False. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If the input signature cannot be inferred from the model. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">AssertionError</code> </td> <td> If the SavedModel directory already exists and isn't empty. </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/keras/experimental/export_saved_model" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/keras/experimental/export_saved_model</a>
  </p>
</div>
