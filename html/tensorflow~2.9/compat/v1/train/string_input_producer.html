<h1 class="devsite-page-title">tf.compat.v1.train.string_input_producer</h1> <devsite-bookmark></devsite-bookmark>       <p>Output strings (e.g. filenames) to a queue for an input pipeline. (deprecated)</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.compat.v1.train.string_input_producer(
    string_tensor,
    num_epochs=None,
    shuffle=True,
    seed=None,
    capacity=32,
    shared_name=None,
    name=None,
    cancel_op=None
)
</pre>  <aside class="deprecated"><strong>Deprecated:</strong><span> THIS FUNCTION IS DEPRECATED. It will be removed in a future version. Instructions for updating: Queue-based input pipelines have been replaced by <a href="../../../data.html"><code translate="no" dir="ltr">tf.data</code></a>. Use <code translate="no" dir="ltr">tf.data.Dataset.from_tensor_slices(string_tensor).shuffle(tf.shape(input_tensor, out_type=tf.int64)[0]).repeat(num_epochs)</code>. If <code translate="no" dir="ltr">shuffle=False</code>, omit the <code translate="no" dir="ltr">.shuffle(...)</code>.</span></aside><blockquote class="note">
<strong>Note:</strong><span> if <code translate="no" dir="ltr">num_epochs</code> is not <code translate="no" dir="ltr">None</code>, this function creates local counter <code translate="no" dir="ltr">epochs</code>. Use <code translate="no" dir="ltr">local_variables_initializer()</code> to initialize local variables.</span>
</blockquote>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">string_tensor</code> </td> <td> A 1-D string tensor with the strings to produce. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">num_epochs</code> </td> <td> An integer (optional). If specified, <code translate="no" dir="ltr">string_input_producer</code> produces each string from <code translate="no" dir="ltr">string_tensor</code> <code translate="no" dir="ltr">num_epochs</code> times before generating an <code translate="no" dir="ltr">OutOfRange</code> error. If not specified, <code translate="no" dir="ltr">string_input_producer</code> can cycle through the strings in <code translate="no" dir="ltr">string_tensor</code> an unlimited number of times. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">shuffle</code> </td> <td> Boolean. If true, the strings are randomly shuffled within each epoch. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">seed</code> </td> <td> An integer (optional). Seed used if shuffle == True. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">capacity</code> </td> <td> An integer. Sets the queue capacity. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">shared_name</code> </td> <td> (optional). If set, this queue will be shared under the given name across multiple sessions. All sessions open to the device which has this queue will be able to access it via the shared_name. Using this in a distributed setting means each name will only be seen by one of the sessions which has access to this operation. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> A name for the operations (optional). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">cancel_op</code> </td> <td> Cancel op for the queue (optional). </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A queue with the output strings. A <code translate="no" dir="ltr">QueueRunner</code> for the Queue is added to the current <code translate="no" dir="ltr">Graph</code>'s <code translate="no" dir="ltr">QUEUE_RUNNER</code> collection. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If the string_tensor is a null Python list. At runtime, will fail with an assertion if string_tensor becomes a null tensor. </td> </tr> </table> <p><section><devsite-expandable expanded> <h2 class="showalways" id="eager-compatibility" data-text="eager compatibility">eager compatibility</h2></devsite-expandable></section></p> <p>Input pipelines based on Queues are not supported when eager execution is enabled. Please use the <a href="../../../data.html"><code translate="no" dir="ltr">tf.data</code></a> API to ingest data under eager execution.</p>   <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/train/string_input_producer" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/train/string_input_producer</a>
  </p>
</div>
