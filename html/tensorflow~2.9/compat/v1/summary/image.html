<h1 class="devsite-page-title">tf.compat.v1.summary.image</h1> <devsite-bookmark></devsite-bookmark>       <p>Outputs a <code translate="no" dir="ltr">Summary</code> protocol buffer with images.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.compat.v1.summary.image(
    name, tensor, max_outputs=3, collections=None, family=None
)
</pre> <p><section><devsite-expandable expanded> <h2 class="showalways" id="migrate-to-tf2" data-text="Migrate to TF2">Migrate to TF2</h2></devsite-expandable></section></p> <aside class="caution"><strong>Caution:</strong><span> This API was designed for TensorFlow v1. Continue reading for details on how to migrate from this API to a native TensorFlow v2 equivalent. See the <a href="https://www.tensorflow.org/guide/migrate">TensorFlow v1 to TensorFlow v2 migration guide</a> for instructions on how to migrate the rest of your code.</span></aside> <p>For compatibility purposes, when invoked in TF2 where the outermost context is eager mode, this API will check if there is a suitable TF2 summary writer context available, and if so will forward this call to that writer instead. A "suitable" writer context means that the writer is set as the default writer, and there is an associated non-empty value for <code translate="no" dir="ltr">step</code> (see <a href="../../../summary/summarywriter.html#as_default"><code translate="no" dir="ltr">tf.summary.SummaryWriter.as_default</code></a>, <a href="https://www.tensorflow.org/api_docs/python/tf/summary/experimental/set_step"><code translate="no" dir="ltr">tf.summary.experimental.set_step</code></a> or alternatively <a href="../train/create_global_step.html"><code translate="no" dir="ltr">tf.compat.v1.train.create_global_step</code></a>). For the forwarded call, the arguments here will be passed to the TF2 implementation of <a href="../../../summary/image.html"><code translate="no" dir="ltr">tf.summary.image</code></a>, and the return value will be an empty bytestring tensor, to avoid duplicate summary writing. This forwarding is best-effort and not all arguments will be preserved. Additionally:</p> <ul> <li>The TF2 op does not do any of the normalization steps described above. Rather than rescaling data that's outside the expected range, it simply clips it.</li> <li>The TF2 op just outputs the data under a single tag that contains multiple samples, rather than multiple tags (i.e. no "/0" or "/1" suffixes).</li> </ul> <p>To migrate to TF2, please use <a href="../../../summary/image.html"><code translate="no" dir="ltr">tf.summary.image</code></a> instead. Please check <a href="https://www.tensorflow.org/tensorboard/migrate#in_tf_1x">Migrating tf.summary usage to TF 2.0</a> for concrete steps for migration.</p> <h4 id="how_to_map_arguments" data-text="How to Map Arguments">How to Map Arguments</h4> <table> <thead> <tr> <th style="text-align: left">TF1 Arg Name</th> <th style="text-align: left">TF2 Arg Name</th> <th style="text-align: left">Note</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code translate="no" dir="ltr">name</code></td> <td style="text-align: left"><code translate="no" dir="ltr">name</code></td> <td style="text-align: left">-</td> </tr> <tr> <td style="text-align: left"><code translate="no" dir="ltr">tensor</code></td> <td style="text-align: left"><code translate="no" dir="ltr">data</code></td> <td style="text-align: left">-</td> </tr> <tr> <td style="text-align: left">- </td> <td style="text-align: left">
<code translate="no" dir="ltr">step</code> </td> <td style="text-align: left">Explicit int64-castable monotonic step value. If omitted, this defaults to</td> </tr> </tbody> </table> <p>: : : <a href="https://www.tensorflow.org/api_docs/python/tf/summary/experimental/get_step"><code translate="no" dir="ltr">tf.summary.experimental.get_step()</code></a>. : | <code translate="no" dir="ltr">max_outputs</code> | <code translate="no" dir="ltr">max_outputs</code> | - | | <code translate="no" dir="ltr">collections</code> | Not Supported | - | | <code translate="no" dir="ltr">family</code> | Removed | Please use <a href="../../../name_scope.html"><code translate="no" dir="ltr">tf.name_scope</code></a> instead | : : : to manage summary name prefix. : | - | <code translate="no" dir="ltr">description</code> | Optional long-form <code translate="no" dir="ltr">str</code> description | : : : for the summary. Markdown is supported.: : : : Defaults to empty. :</p>  <h2 id="description" data-text="Description">Description</h2>  <p>The summary has up to <code translate="no" dir="ltr">max_outputs</code> summary values containing images. The images are built from <code translate="no" dir="ltr">tensor</code> which must be 4-D with shape <code translate="no" dir="ltr">[batch_size, height, width, channels]</code> and where <code translate="no" dir="ltr">channels</code> can be:</p> <ul> <li>1: <code translate="no" dir="ltr">tensor</code> is interpreted as Grayscale.</li> <li>3: <code translate="no" dir="ltr">tensor</code> is interpreted as RGB.</li> <li>4: <code translate="no" dir="ltr">tensor</code> is interpreted as RGBA.</li> </ul> <p>The images have the same number of channels as the input tensor. For float input, the values are normalized one image at a time to fit in the range <code translate="no" dir="ltr">[0, 255]</code>. <code translate="no" dir="ltr">uint8</code> values are unchanged. The op uses two different normalization algorithms:</p> <ul> <li><p>If the input values are all positive, they are rescaled so the largest one is 255.</p></li> <li><p>If any input value is negative, the values are shifted so input value 0.0 is at 127. They are then rescaled so that either the smallest value is 0, or the largest one is 255.</p></li> </ul> <p>The <code translate="no" dir="ltr">tag</code> in the outputted Summary.Value protobufs is generated based on the name, with a suffix depending on the max_outputs setting:</p> <ul> <li>If <code translate="no" dir="ltr">max_outputs</code> is 1, the summary value tag is '<em>name</em>/image'.</li> <li>If <code translate="no" dir="ltr">max_outputs</code> is greater than 1, the summary value tags are generated sequentially as '<em>name</em>/image/0', '<em>name</em>/image/1', etc.</li> </ul>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> A name for the generated node. Will also serve as a series name in TensorBoard. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">tensor</code> </td> <td> A 4-D <code translate="no" dir="ltr">uint8</code> or <code translate="no" dir="ltr">float32</code> <code translate="no" dir="ltr">Tensor</code> of shape <code translate="no" dir="ltr">[batch_size, height, width, channels]</code> where <code translate="no" dir="ltr">channels</code> is 1, 3, or 4. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">max_outputs</code> </td> <td> Max number of batch elements to generate images for. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">collections</code> </td> <td> Optional list of ops.GraphKeys. The collections to add the summary to. Defaults to [_ops.GraphKeys.SUMMARIES] </td> </tr>
<tr> <td> <code translate="no" dir="ltr">family</code> </td> <td> Optional; if provided, used as the prefix of the summary tag name, which controls the tab name used for display on Tensorboard. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A scalar <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">string</code>. The serialized <code translate="no" dir="ltr">Summary</code> protocol buffer. </td> </tr> 
</table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/summary/image" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/summary/image</a>
  </p>
</div>
