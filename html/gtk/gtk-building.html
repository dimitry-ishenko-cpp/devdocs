<h1>Compiling the GTK Libraries</h1>
<div class="chapter">  <div class="toc"><dl class="toc"> <dt><span class="sect1"><a href="gtk-building.html#id-1.9.2.2">Building GTK</a></span></dt> <dt><span class="sect1"><a href="build-types.html">Build types</a></span></dt> <dd><dl> <dt><span class="sect2"><a href="build-types.html#id-1.9.2.3.3">Debug builds</a></span></dt> <dt><span class="sect2"><a href="build-types.html#id-1.9.2.3.4">Release builds</a></span></dt> </dl></dd> <dt><span class="sect1"><a href="dependencies.html">Dependencies</a></span></dt> <dt><span class="sect1"><a href="building.html">Building and testing GTK</a></span></dt> <dt><span class="sect1"><a href="extra-configuration-options.html">Extra Configuration Options</a></span></dt> <dd><dl> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.5"><code class="literal">x11-backend</code>, <code class="literal">win32-backend</code>, <code class="literal">broadway-backend</code>, <code class="literal">wayland-backend</code> and <code class="literal">macos-backend</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.6"><code class="literal">vulkan</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.7"><code class="literal">xinerama</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.8"><code class="literal">media</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.9"><code class="literal">print</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.10"><code class="literal">cloudproviders</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.11"><code class="literal">sysprof</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.12"><code class="literal">tracker</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.13"><code class="literal">colord</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.14"><code class="literal">gtk_doc</code> and <code class="literal">man-pages</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.15"><code class="literal">introspection</code></a></span></dt> <dt><span class="sect2"><a href="extra-configuration-options.html#id-1.9.2.6.16"><code class="literal">build-tests</code>, <code class="literal">install-tests</code>, <code class="literal">demos</code></a></span></dt> </dl></dd> </dl></div> <div class="sect1">  <p> Before we get into the details of how to compile GTK, we should mention that in many cases, binary packages of GTK prebuilt for your operating system will be available, either from your operating system vendor or from independent sources. If such a set of packages is available, installing it will get you programming with GTK much faster than building it yourself. In fact, you may well already have GTK installed on your system already. </p> <p> In order to build GTK, you will need <span class="emphasis"><em>meson</em></span> installed on your system. On Linux, and other UNIX-like operating systems, you will also need <span class="emphasis"><em>ninja</em></span>. This guide does not cover how to install these two requirements, but you can refer to the <a class="ulink" href="http://mesonbuild.com" target="_top">Meson website</a> for more information. The <a class="ulink" href="https://ninja-build.org" target="_top">Ninja</a> build tool is also usable on various operating systems, so we will refer to it in the examples. </p> <p> If you are building GTK from a source distribution or from a Git clone, you will need to use <span class="emphasis"><em>meson</em></span> to configure the project. The most commonly useful argument is the <code class="literal">--prefix</code> one, which determines where the files will go once installed. To install GTK under a prefix like <code class="literal">/opt/gtk</code> you would run Meson as: </p> <pre class="programlisting" data-language="c">meson setup --prefix /opt/gtk builddir
</pre> <p> Meson will create the <code class="literal">builddir</code> directory and place all the build artefacts there. </p> <p> You can get a list of all available options for the build by running <code class="literal">meson configure</code>. </p> <p> After Meson successfully configured the build directory, you then can run the build, using Ninja: </p> <pre class="programlisting" data-language="c">cd builddir
ninja
ninja install
</pre> <p> If you don’t have permission to write to the directory you are installing in, you may have to change to root temporarily before running <code class="literal">ninja install</code>. </p> <p> Several environment variables are useful to pass to set before running <span class="emphasis"><em>meson</em></span>. <code class="literal">CPPFLAGS</code> contains options to pass to the C compiler, and is used to tell the compiler where to look for include files. The <code class="literal">LDFLAGS</code> variable is used in a similar fashion for the linker. Finally the <code class="literal">PKG_CONFIG_PATH</code> environment variable contains a search path that <code class="literal">pkg-config</code> (see below) uses when looking for files describing how to compile programs using different libraries. If you were installing GTK and it’s dependencies into <code class="literal">/opt/gtk</code>, you might want to set these variables as: </p> <pre class="programlisting" data-language="c">CPPFLAGS="-I/opt/gtk/include"
LDFLAGS="-L/opt/gtk/lib"
PKG_CONFIG_PATH="/opt/gtk/lib/pkgconfig"
export CPPFLAGS LDFLAGS PKG_CONFIG_PATH
</pre> <p> You may also need to set the <code class="literal">LD_LIBRARY_PATH</code> environment variable so the systems dynamic linker can find the newly installed libraries, and the <code class="literal">PATH</code> environment program so that utility binaries installed by the various libraries will be found. </p> <pre class="programlisting" data-language="c">LD_LIBRARY_PATH="/opt/gtk/lib"
PATH="/opt/gtk/bin:$PATH"
export LD_LIBRARY_PATH PATH
</pre> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2020 The GNOME Project<br>Licensed under the GNU Lesser General Public License version 2.1 or later.<br>
    <a href="https://developer-old.gnome.org/gtk4/4.0/gtk-building.html" class="_attribution-link">https://developer-old.gnome.org/gtk4/4.0/gtk-building.html</a>
  </p>
</div>
