<h1>GtkExpression</h1>
<div class="refentry">  <div class="refnamediv"><p>GtkExpression — Expressions to values</p></div> <div class="refsect1"> <h2 id="GtkExpression.functions">Functions</h2> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="function_type"> <span class="returnvalue">void</span> </td> <td class="function_name"> <span class="c_punctuation">(</span><a href="gtkexpression.html#GtkExpressionNotify">*GtkExpressionNotify</a><span class="c_punctuation">)</span> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-ref">gtk_expression_ref</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">void</span> </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-unref">gtk_expression_unref</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">GType</span> </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-get-value-type">gtk_expression_get_value_type</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">gboolean</span> </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-is-static">gtk_expression_is_static</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">gboolean</span> </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-evaluate">gtk_expression_evaluate</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpressionWatch"><span class="returnvalue">GtkExpressionWatch</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-watch">gtk_expression_watch</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpressionWatch"><span class="returnvalue">GtkExpressionWatch</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-bind">gtk_expression_bind</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpressionWatch"><span class="returnvalue">GtkExpressionWatch</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-watch-ref">gtk_expression_watch_ref</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">void</span> </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-watch-unref">gtk_expression_watch_unref</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">gboolean</span> </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-watch-evaluate">gtk_expression_watch_evaluate</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">void</span> </td> <td class="function_name"> <a href="gtkexpression.html#gtk-expression-watch-unwatch">gtk_expression_watch_unwatch</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-property-expression-new">gtk_property_expression_new</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-property-expression-new-for-pspec">gtk_property_expression_new_for_pspec</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-property-expression-get-expression">gtk_property_expression_get_expression</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">GParamSpec</span> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-property-expression-get-pspec">gtk_property_expression_get_pspec</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-constant-expression-new">gtk_constant_expression_new</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-constant-expression-new-for-value">gtk_constant_expression_new_for_value</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type">const <span class="returnvalue">GValue</span> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-constant-expression-get-value">gtk_constant_expression_get_value</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-object-expression-new">gtk_object_expression_new</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">GObject</span> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-object-expression-get-object">gtk_object_expression_get_object</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-closure-expression-new">gtk_closure_expression_new</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-cclosure-expression-new">gtk_cclosure_expression_new</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="define_keyword">#define</td> <td class="function_name"> <a href="gtkexpression.html#GTK-VALUE-HOLDS-EXPRESSION:CAPS">GTK_VALUE_HOLDS_EXPRESSION</a><span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">void</span> </td> <td class="function_name"> <a href="gtkexpression.html#gtk-value-set-expression">gtk_value_set_expression</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">void</span> </td> <td class="function_name"> <a href="gtkexpression.html#gtk-value-take-expression">gtk_value_take_expression</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-value-get-expression">gtk_value_get_expression</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-value-dup-expression">gtk_value_dup_expression</a> <span class="c_punctuation">()</span> </td> </tr> <tr> <td class="function_type"> <span class="returnvalue">GParamSpec</span> * </td> <td class="function_name"> <a href="gtkexpression.html#gtk-param-spec-expression">gtk_param_spec_expression</a> <span class="c_punctuation">()</span> </td> </tr> </tbody> </table></div> </div> <div class="refsect1"> <h2 id="GtkExpression.other">Types and Values</h2> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="datatype_keyword"> </td> <td class="function_name"><a href="gtkexpression.html#GtkExpression-struct">GtkExpression</a></td> </tr> <tr> <td class="datatype_keyword"> </td> <td class="function_name"><a href="gtkexpression.html#GtkExpressionWatch">GtkExpressionWatch</a></td> </tr> <tr> <td class="datatype_keyword"> </td> <td class="function_name"><a href="gtkexpression.html#GtkParamSpecExpression">GtkParamSpecExpression</a></td> </tr> </tbody> </table></div> </div> <div class="refsect1"> <h2 id="GtkExpression.object-hierarchy">Object Hierarchy</h2> <pre class="screen" data-language="c">    GtkExpression
</pre> </div> <div class="refsect1"> <h2 id="GtkExpression.includes">Includes</h2> <pre class="synopsis" data-language="c">#include &lt;gtk/gtk.h&gt;
</pre> </div> <div class="refsect1"> <h2 id="GtkExpression.description">Description</h2> <p>GtkExpression provides a way to describe references to values.</p> <p>An important aspect of expressions is that the value can be obtained from a source that is several steps away. For example, an expression may describe ‘the value of property A of <em class="parameter"><code>object1</code></em> , which is itself the value of a property of <em class="parameter"><code>object2</code></em> ’. And <em class="parameter"><code>object1</code></em> may not even exist yet at the time that the expression is created. This is contrast to GObject property bindings, which can only create direct connections between the properties of two objects that must both exist for the duration of the binding.</p> <p>An expression needs to be "evaluated" to obtain the value that it currently refers to. An evaluation always happens in the context of a current object called <code class="literal">this</code> (it mirrors the behavior of object-oriented languages), which may or may not influence the result of the evaluation. Use <a href="gtkexpression.html#gtk-expression-evaluate"><code class="function">gtk_expression_evaluate()</code></a> for evaluating an expression.</p> <p>Various methods for defining expressions exist, from simple constants via <a href="gtkexpression.html#gtk-constant-expression-new"><code class="function">gtk_constant_expression_new()</code></a> to looking up properties in a <span class="type">GObject</span> (even recursively) via <a href="gtkexpression.html#gtk-property-expression-new"><code class="function">gtk_property_expression_new()</code></a> or providing custom functions to transform and combine expressions via <a href="gtkexpression.html#gtk-closure-expression-new"><code class="function">gtk_closure_expression_new()</code></a>.</p> <p>Here is an example of a complex expression:</p>   <p>when evaluated with <code class="literal">this</code> being a GtkListItem, it will obtain the "item" property from the GtkListItem, and then obtain the "name" property from the resulting object (which is assumed to be of type GTK_TYPE_COLOR).</p> <p>A more concise way to describe this would be</p>   <p>The most likely place where you will encounter expressions is in the context of list models and list widgets using them. For example, <a href="gtkdropdown.html#GtkDropDown-struct"><span class="type">GtkDropDown</span></a> is evaluating a GtkExpression to obtain strings from the items in its model that it can then use to match against the contents of its search entry. <a href="gtkstringfilter.html#GtkStringFilter-struct"><span class="type">GtkStringFilter</span></a> is using a GtkExpression for similar reasons.</p> <p>By default, expressions are not paying attention to changes and evaluation is just a snapshot of the current state at a given time. To get informed about changes, an expression needs to be "watched" via a <a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a>, which will cause a callback to be called whenever the value of the expression may have changed. <a href="gtkexpression.html#gtk-expression-watch"><code class="function">gtk_expression_watch()</code></a> starts watching an expression, and <a href="gtkexpression.html#gtk-expression-watch-unwatch"><code class="function">gtk_expression_watch_unwatch()</code></a> stops.</p> <p>Watches can be created for automatically updating the property of an object, similar to GObject's <span class="type">GBinding</span> mechanism, by using <a href="gtkexpression.html#gtk-expression-bind"><code class="function">gtk_expression_bind()</code></a>.</p> <div class="refsect2"> <h3 id="id-1.4.4.3.7.16">GtkExpression in GObject properties</h3> <p>In order to use a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> as a <span class="type">GObject</span> property, you must use the <a href="gtkexpression.html#gtk-param-spec-expression"><code class="function">gtk_param_spec_expression()</code></a> when creating a <span class="type">GParamSpec</span> to install in the <span class="type">GObject</span> class being defined; for instance:</p>   <p>When implementing the <code class="function">GObjectClass.set_property()</code> and <code class="function">GObjectClass.get_property()</code> virtual functions, you must use <a href="gtkexpression.html#gtk-value-get-expression"><code class="function">gtk_value_get_expression()</code></a>, to retrieve the stored <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> from the <span class="type">GValue</span> container, and <a href="gtkexpression.html#gtk-value-set-expression"><code class="function">gtk_value_set_expression()</code></a>, to store the <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> into the <span class="type">GValue</span>; for instance:</p>   </div>  <div class="refsect2"> <h3 id="id-1.4.4.3.7.17">GtkExpression in .ui files</h3> <p>GtkBuilder has support for creating expressions. The syntax here can be used where a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> object is needed like in a &lt;property&gt; tag for an expression property, or in a &lt;binding&gt; tag to bind a property to an expression.</p> <p>To create an property expression, use the &lt;lookup&gt; element. It can have a <code class="literal">type</code> attribute to specify the object type, and a <code class="literal">name</code> attribute to specify the property to look up. The content of &lt;lookup&gt; can either be an element specfiying the expression to use the object, or a string that specifies the name of the object to use.</p> <p>Example:</p>   <p>To create a constant expression, use the &lt;constant&gt; element. If the type attribute is specified, the element content is interpreted as a value of that type. Otherwise, it is assumed to be an object.</p> <p>Example:</p>   <p>To create a closure expression, use the &lt;closure&gt; element. The <code class="literal">type</code> and <code class="literal">function</code> attributes specify what function to use for the closure, the content of the element contains the expressions for the parameters.</p> <p>Example:</p> <div class="informalexample"> <td class="listing_code"><pre class="programlisting" data-language="c">color_expr = gtk_property_expression_new (GTK_TYPE_LIST_ITEM,
                                          NULL, "item");
expression = gtk_property_expression_new (GTK_TYPE_COLOR,
                                          color_expr, "name");</pre></td> </div>  </div> </div> <div class="refsect1"> <h2 id="GtkExpression.functions_details">Functions</h2> <div class="refsect2"> <h3 id="GtkExpressionNotify">GtkExpressionNotify ()</h3> <pre class="programlisting" data-language="c">void
(*GtkExpressionNotify) (gpointer user_data);</pre> <p>Callback called by <a href="gtkexpression.html#gtk-expression-watch"><code class="function">gtk_expression_watch()</code></a> when the expression value changes.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>user_data</p></td> <td class="parameter_description"><p>data passed to <a href="gtkexpression.html#gtk-expression-watch"><code class="function">gtk_expression_watch()</code></a></p></td> <td class="parameter_annotations"> </td> </tr></tbody> </table></div> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-ref">gtk_expression_ref ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_expression_ref (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *self</code></em>);</pre> <p>Acquires a reference on the given <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>self</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>the <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> with an additional reference. </p> <p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-unref">gtk_expression_unref ()</h3> <pre class="programlisting"><span class="returnvalue">void</span>
gtk_expression_unref (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *self</code></em>);</pre> <p>Releases a reference on the given <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>.</p> <p>If the reference was the last, the resources associated to the <em class="parameter"><code>self</code></em> are freed.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>self</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td> </tr></tbody> </table></div> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-get-value-type">gtk_expression_get_value_type ()</h3> <pre class="programlisting"><span class="returnvalue">GType</span>
gtk_expression_get_value_type (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *self</code></em>);</pre> <p>Gets the <span class="type">GType</span> that this expression evaluates to. This type is constant and will not change over the lifetime of this expression.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>self</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p></td> <td class="parameter_annotations"> </td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> The type returned from <a href="gtkexpression.html#gtk-expression-evaluate"><code class="function">gtk_expression_evaluate()</code></a></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-is-static">gtk_expression_is_static ()</h3> <pre class="programlisting"><span class="returnvalue">gboolean</span>
gtk_expression_is_static (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *self</code></em>);</pre> <p>Checks if the expression is static.</p> <p>A static expression will never change its result when <a href="gtkexpression.html#gtk-expression-evaluate"><code class="function">gtk_expression_evaluate()</code></a> is called on it with the same arguments.</p> <p>That means a call to <a href="gtkexpression.html#gtk-expression-watch"><code class="function">gtk_expression_watch()</code></a> is not necessary because it will never trigger a notify.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>self</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p></td> <td class="parameter_annotations"> </td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> <code class="literal">TRUE</code> if the expression is static</p> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-evaluate">gtk_expression_evaluate ()</h3> <pre class="programlisting"><span class="returnvalue">gboolean</span>
gtk_expression_evaluate (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *self</code></em>,
                         <em class="parameter"><code><span class="type">gpointer</span> this_</code></em>,
                         <em class="parameter"><code><span class="type">GValue</span> *value</code></em>);</pre> <p>Evaluates the given expression and on success stores the result in <em class="parameter"><code>value</code></em> . The <span class="type">GType</span> of <em class="parameter"><code>value</code></em> will be the type given by <a href="gtkexpression.html#gtk-expression-get-value-type"><code class="function">gtk_expression_get_value_type()</code></a>.</p> <p>It is possible that expressions cannot be evaluated - for example when the expression references objects that have been destroyed or set to <code class="literal">NULL</code>. In that case <em class="parameter"><code>value</code></em> will remain empty and <code class="literal">FALSE</code> will be returned.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>self</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>this_</p></td> <td class="parameter_description"><p>the this argument for the evaluation. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>][<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GObject][<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td> </tr> <tr> <td class="parameter_name"><p>value</p></td> <td class="parameter_description"><p>an empty <span class="type">GValue</span></p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> <code class="literal">TRUE</code> if the expression could be evaluated</p> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-watch">gtk_expression_watch ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpressionWatch"><span class="returnvalue">GtkExpressionWatch</span></a> *
gtk_expression_watch (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *self</code></em>,
                      <em class="parameter"><code><span class="type">gpointer</span> this_</code></em>,
                      <em class="parameter"><code><a href="gtkexpression.html#GtkExpressionNotify"><span class="type">GtkExpressionNotify</span></a> notify</code></em>,
                      <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                      <em class="parameter"><code><span class="type">GDestroyNotify</span> user_destroy</code></em>);</pre> <p>Installs a watch for the given <em class="parameter"><code>expression</code></em> that calls the <em class="parameter"><code>notify</code></em> function whenever the evaluation of <em class="parameter"><code>self</code></em> may have changed.</p> <p>GTK cannot guarantee that the evaluation did indeed change when the <em class="parameter"><code>notify</code></em> gets invoked, but it guarantees the opposite: When it did in fact change, the <em class="parameter"><code>notify</code></em> will be invoked.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>self</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>this_</p></td> <td class="parameter_description"><p>the <code class="literal">this</code> argument to watch. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>][<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GObject][<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td> </tr> <tr> <td class="parameter_name"><p>notify</p></td> <td class="parameter_description"><p>callback to invoke when the expression changes. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="This parameter is a 'user_data', for callbacks; many bindings can pass NULL here."><span class="acronym">closure</span></acronym> user_data]</span></td> </tr> <tr> <td class="parameter_name"><p>user_data</p></td> <td class="parameter_description"><p>user data to pass to <em class="parameter"><code>notify</code></em> callback</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>user_destroy</p></td> <td class="parameter_description"><p>destroy notify for <em class="parameter"><code>user_data</code></em> </p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>The newly installed watch. Note that the only reference held to the watch will be released when the watch is unwatched which can happen automatically, and not just via <a href="gtkexpression.html#gtk-expression-watch-unwatch"><code class="function">gtk_expression_watch_unwatch()</code></a>. You should call <a href="gtkexpression.html#gtk-expression-watch-ref"><code class="function">gtk_expression_watch_ref()</code></a> if you want to keep the watch around. </p> <p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-bind">gtk_expression_bind ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpressionWatch"><span class="returnvalue">GtkExpressionWatch</span></a> *
gtk_expression_bind (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *self</code></em>,
                     <em class="parameter"><code><span class="type">gpointer</span> target</code></em>,
                     <em class="parameter"><code>const <span class="type">char</span> *property</code></em>,
                     <em class="parameter"><code><span class="type">gpointer</span> this_</code></em>);</pre> <p>Bind <em class="parameter"><code>target</code></em> 's property named <em class="parameter"><code>property</code></em> to <em class="parameter"><code>self</code></em> .</p> <p>The value that <em class="parameter"><code>self</code></em> evaluates to is set via <code class="function">g_object_set()</code> on <em class="parameter"><code>target</code></em> . This is repeated whenever <em class="parameter"><code>self</code></em> changes to ensure that the object's property stays synchronized with <em class="parameter"><code>self</code></em> .</p> <p>If <em class="parameter"><code>self</code></em> 's evaluation fails, <em class="parameter"><code>target</code></em> 's <em class="parameter"><code>property</code></em> is not updated. You can ensure that this doesn't happen by using a fallback expression.</p> <p>Note that this function takes ownership of <em class="parameter"><code>self</code></em> . If you want to keep it around, you should <a href="gtkexpression.html#gtk-expression-ref"><code class="function">gtk_expression_ref()</code></a> it beforehand.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>self</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></td> </tr> <tr> <td class="parameter_name"><p>target</p></td> <td class="parameter_description"><p>the target object to bind to. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>][<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GObject]</span></td> </tr> <tr> <td class="parameter_name"><p>property</p></td> <td class="parameter_description"><p>name of the property on <em class="parameter"><code>target</code></em> to bind to</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>this_</p></td> <td class="parameter_description"><p>the this argument for the evaluation of <em class="parameter"><code>self</code></em> . </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>][<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GObject][<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>a <a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a>. </p> <p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-watch-ref">gtk_expression_watch_ref ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpressionWatch"><span class="returnvalue">GtkExpressionWatch</span></a> *
gtk_expression_watch_ref (<em class="parameter"><code><a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a> *watch</code></em>);</pre> <p>Acquires a reference on the given <a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a>.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>watch</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a>. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>the <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> with an additional reference. </p> <p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-watch-unref">gtk_expression_watch_unref ()</h3> <pre class="programlisting"><span class="returnvalue">void</span>
gtk_expression_watch_unref (<em class="parameter"><code><a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a> *watch</code></em>);</pre> <p>Releases a reference on the given <a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a>.</p> <p>If the reference was the last, the resources associated to <em class="parameter"><code>self</code></em> are freed.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>watch</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a>. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td> </tr></tbody> </table></div> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-watch-evaluate">gtk_expression_watch_evaluate ()</h3> <pre class="programlisting"><span class="returnvalue">gboolean</span>
gtk_expression_watch_evaluate (<em class="parameter"><code><a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a> *watch</code></em>,
                               <em class="parameter"><code><span class="type">GValue</span> *value</code></em>);</pre> <p>Evaluates the watched expression and on success stores the result in <em class="parameter"><code>value</code></em> .</p> <p>This is equivalent to calling <a href="gtkexpression.html#gtk-expression-evaluate"><code class="function">gtk_expression_evaluate()</code></a> with the expression and this pointer originally used to create <em class="parameter"><code>watch</code></em> .</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>watch</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a></p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>value</p></td> <td class="parameter_description"><p>an empty <span class="type">GValue</span> to be set</p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> <code class="literal">TRUE</code> if the expression could be evaluated and <em class="parameter"><code>value</code></em> was set</p> </div> </div>  <div class="refsect2"> <h3 id="gtk-expression-watch-unwatch">gtk_expression_watch_unwatch ()</h3> <pre class="programlisting"><span class="returnvalue">void</span>
gtk_expression_watch_unwatch (<em class="parameter"><code><a href="gtkexpression.html#GtkExpressionWatch"><span class="type">GtkExpressionWatch</span></a> *watch</code></em>);</pre> <p>Stops watching an expression that was established via <a href="gtkexpression.html#gtk-expression-watch"><code class="function">gtk_expression_watch()</code></a>.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>watch</p></td> <td class="parameter_description"><p>watch to release. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></td> </tr></tbody> </table></div> </div> </div>  <div class="refsect2"> <h3 id="gtk-property-expression-new">gtk_property_expression_new ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_property_expression_new (<em class="parameter"><code><span class="type">GType</span> this_type</code></em>,
                             <em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *expression</code></em>,
                             <em class="parameter"><code>const <span class="type">char</span> *property_name</code></em>);</pre> <p>Creates an expression that looks up a property via the given <em class="parameter"><code>expression</code></em> or the <code class="literal">this</code> argument when <em class="parameter"><code>expression</code></em> is <code class="literal">NULL</code>.</p> <p>If the resulting object conforms to <em class="parameter"><code>this_type</code></em> , its property named <em class="parameter"><code>property_name</code></em> will be queried. Otherwise, this expression's evaluation will fail.</p> <p>The given <em class="parameter"><code>this_type</code></em> must have a property with <em class="parameter"><code>property_name</code></em> .</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>this_type</p></td> <td class="parameter_description"><p>The type to expect for the this type</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>expression</p></td> <td class="parameter_description"><p>Expression to evaluate to get the object to query or <code class="literal">NULL</code> to query the <code class="literal">this</code> object. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></td> </tr> <tr> <td class="parameter_name"><p>property_name</p></td> <td class="parameter_description"><p>name of the property</p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> a new <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-property-expression-new-for-pspec">gtk_property_expression_new_for_pspec ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_property_expression_new_for_pspec (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *expression</code></em>,
                                       <em class="parameter"><code><span class="type">GParamSpec</span> *pspec</code></em>);</pre> <p>Creates an expression that looks up a property via the given <em class="parameter"><code>expression</code></em> or the <code class="literal">this</code> argument when <em class="parameter"><code>expression</code></em> is <code class="literal">NULL</code>.</p> <p>If the resulting object conforms to <em class="parameter"><code>this_type</code></em> , its property specified by <em class="parameter"><code>pspec</code></em> will be queried. Otherwise, this expression's evaluation will fail.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>expression</p></td> <td class="parameter_description"><p>Expression to evaluate to get the object to query or <code class="literal">NULL</code> to query the <code class="literal">this</code> object. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></td> </tr> <tr> <td class="parameter_name"><p>pspec</p></td> <td class="parameter_description"><p>the <span class="type">GParamSpec</span> for the property to query</p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> a new <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-property-expression-get-expression">gtk_property_expression_get_expression ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_property_expression_get_expression
                               (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *expression</code></em>);</pre> <p>Gets the expression specifying the object of a property expression.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>expression</p></td> <td class="parameter_description"><p>a property <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GtkPropertyExpression]</span></td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>the object expression. </p> <p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-property-expression-get-pspec">gtk_property_expression_get_pspec ()</h3> <pre class="programlisting"><span class="returnvalue">GParamSpec</span> *
gtk_property_expression_get_pspec (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *expression</code></em>);</pre> <p>Gets the <span class="type">GParamSpec</span> specifying the property of a property expression.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>expression</p></td> <td class="parameter_description"><p>a property <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GtkPropertyExpression]</span></td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>the <span class="type">GParamSpec</span>. </p> <p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-constant-expression-new">gtk_constant_expression_new ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_constant_expression_new (<em class="parameter"><code><span class="type">GType</span> value_type</code></em>,
                             <em class="parameter"><code>...</code></em>);</pre> <p>Creates a GtkExpression that evaluates to the object given by the arguments.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>value_type</p></td> <td class="parameter_description"><p>The type of the object</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>...</p></td> <td class="parameter_description"><p>arguments to create the object from</p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> a new <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-constant-expression-new-for-value">gtk_constant_expression_new_for_value ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_constant_expression_new_for_value (<em class="parameter"><code>const <span class="type">GValue</span> *value</code></em>);</pre> <p>Creates an expression that always evaluates to the given <em class="parameter"><code>value</code></em> .</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>value</p></td> <td class="parameter_description"><p>a <span class="type">GValue</span></p></td> <td class="parameter_annotations"> </td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> a new <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-constant-expression-get-value">gtk_constant_expression_get_value ()</h3> <pre class="programlisting">const <span class="returnvalue">GValue</span> *
gtk_constant_expression_get_value (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *expression</code></em>);</pre> <p>Gets the value that a constant expression evaluates to.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>expression</p></td> <td class="parameter_description"><p>a constant <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GtkConstantExpression]</span></td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>the value. </p> <p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-object-expression-new">gtk_object_expression_new ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_object_expression_new (<em class="parameter"><code><span class="type">GObject</span> *object</code></em>);</pre> <p>Creates an expression evaluating to the given <em class="parameter"><code>object</code></em> with a weak reference. Once the <em class="parameter"><code>object</code></em> is disposed, it will fail to evaluate. This expression is meant to break reference cycles.</p> <p>If you want to keep a reference to <em class="parameter"><code>object</code></em> , use <a href="gtkexpression.html#gtk-constant-expression-new"><code class="function">gtk_constant_expression_new()</code></a>.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>object</p></td> <td class="parameter_description"><p>object to watch. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> a new <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-object-expression-get-object">gtk_object_expression_get_object ()</h3> <pre class="programlisting"><span class="returnvalue">GObject</span> *
gtk_object_expression_get_object (<em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *expression</code></em>);</pre> <p>Gets the object that the expression evaluates to.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>expression</p></td> <td class="parameter_description"><p>an object <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Override the parsed C type with given type."><span class="acronym">type</span></acronym> GtkObjectExpression]</span></td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>the object, or <code class="literal">NULL</code>. </p> <p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>][<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-closure-expression-new">gtk_closure_expression_new ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_closure_expression_new (<em class="parameter"><code><span class="type">GType</span> value_type</code></em>,
                            <em class="parameter"><code><span class="type">GClosure</span> *closure</code></em>,
                            <em class="parameter"><code><span class="type">guint</span> n_params</code></em>,
                            <em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> **params</code></em>);</pre> <p>Creates a GtkExpression that calls <em class="parameter"><code>closure</code></em> when it is evaluated. <em class="parameter"><code>closure</code></em> is called with the <em class="parameter"><code>this</code></em> object and the results of evaluating the <em class="parameter"><code>params</code></em> expressions.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>value_type</p></td> <td class="parameter_description"><p>the type of the value that this expression evaluates to</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>closure</p></td> <td class="parameter_description"><p>closure to call when evaluating this expression. If closure is floating, it is adopted</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>n_params</p></td> <td class="parameter_description"><p>the number of params needed for evaluating <em class="parameter"><code>closure</code></em> </p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>params</p></td> <td class="parameter_description"><p>expressions for each parameter. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>][<acronym title="Parameter points to an array of items."><span class="acronym">array</span></acronym> length=n_params][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> a new <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-cclosure-expression-new">gtk_cclosure_expression_new ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_cclosure_expression_new (<em class="parameter"><code><span class="type">GType</span> value_type</code></em>,
                             <em class="parameter"><code><span class="type">GClosureMarshal</span> marshal</code></em>,
                             <em class="parameter"><code><span class="type">guint</span> n_params</code></em>,
                             <em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> **params</code></em>,
                             <em class="parameter"><code><span class="type">GCallback</span> callback_func</code></em>,
                             <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                             <em class="parameter"><code><span class="type">GClosureNotify</span> user_destroy</code></em>);</pre> <p>This function is a variant of <a href="gtkexpression.html#gtk-closure-expression-new"><code class="function">gtk_closure_expression_new()</code></a> that creates a <span class="type">GClosure</span> by calling <code class="function">g_cclosure_new()</code> with the given <em class="parameter"><code>callback_func</code></em> , <em class="parameter"><code>user_data</code></em> and <em class="parameter"><code>user_destroy</code></em> .</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>value_type</p></td> <td class="parameter_description"><p>the type of the value that this expression evaluates to</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>marshal</p></td> <td class="parameter_description"><p>marshaller used for creating a closure. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="The callback is valid only during the call to the method."><span class="acronym">scope call</span></acronym>][<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td> </tr> <tr> <td class="parameter_name"><p>n_params</p></td> <td class="parameter_description"><p>the number of params needed for evaluating <em class="parameter"><code>closure</code></em> </p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>params</p></td> <td class="parameter_description"><p>expressions for each parameter. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Parameter points to an array of items."><span class="acronym">array</span></acronym> length=n_params][<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></td> </tr> <tr> <td class="parameter_name"><p>callback_func</p></td> <td class="parameter_description"><p>callback used for creating a closure. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="The callback is valid until the GDestroyNotify argument is called."><span class="acronym">scope notified</span></acronym>][<acronym title="This parameter is a 'user_data', for callbacks; many bindings can pass NULL here."><span class="acronym">closure</span></acronym> user_data][<acronym title="This parameter is a 'destroy_data', for callbacks."><span class="acronym">destroy</span></acronym> user_destroy]</span></td> </tr> <tr> <td class="parameter_name"><p>user_data</p></td> <td class="parameter_description"><p>user data used for creating a closure. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td> </tr> <tr> <td class="parameter_name"><p>user_destroy</p></td> <td class="parameter_description"><p>destroy notify for <em class="parameter"><code>user_data</code></em> . </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p> a new <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p> </div> </div>  <div class="refsect2"> <h3 id="GTK-VALUE-HOLDS-EXPRESSION:CAPS">GTK_VALUE_HOLDS_EXPRESSION()</h3> <pre class="programlisting" data-language="c">#define GTK_VALUE_HOLDS_EXPRESSION(value)       (G_VALUE_HOLDS ((value), GTK_TYPE_EXPRESSION))
</pre> <p>Evaluates to <code class="literal">TRUE</code> if <em class="parameter"><code>value</code></em> was initialized with <code class="literal">GTK_TYPE_EXPRESSION</code>.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>value</p></td> <td class="parameter_description"><p>a <span class="type">GValue</span></p></td> <td class="parameter_annotations"> </td> </tr></tbody> </table></div> </div> </div>  <div class="refsect2"> <h3 id="gtk-value-set-expression">gtk_value_set_expression ()</h3> <pre class="programlisting"><span class="returnvalue">void</span>
gtk_value_set_expression (<em class="parameter"><code><span class="type">GValue</span> *value</code></em>,
                          <em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *expression</code></em>);</pre> <p>Stores the given <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> inside <em class="parameter"><code>value</code></em> .</p> <p>The <span class="type">GValue</span> will acquire a reference to the <em class="parameter"><code>expression</code></em> .</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>value</p></td> <td class="parameter_description"><p>a <span class="type">GValue</span> initialized with type <code class="literal">GTK_TYPE_EXPRESSION</code></p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>expression</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a></p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> </div>  <div class="refsect2"> <h3 id="gtk-value-take-expression">gtk_value_take_expression ()</h3> <pre class="programlisting"><span class="returnvalue">void</span>
gtk_value_take_expression (<em class="parameter"><code><span class="type">GValue</span> *value</code></em>,
                           <em class="parameter"><code><a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> *expression</code></em>);</pre> <p>Stores the given <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> inside <em class="parameter"><code>value</code></em> .</p> <p>This function transfers the ownership of the <em class="parameter"><code>expression</code></em> to the <span class="type">GValue</span>.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>value</p></td> <td class="parameter_description"><p>a <span class="type">GValue</span> initialized with type <code class="literal">GTK_TYPE_EXPRESSION</code></p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>expression</p></td> <td class="parameter_description"><p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>. </p></td> <td class="parameter_annotations"><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>][<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td> </tr> </tbody> </table></div> </div> </div>  <div class="refsect2"> <h3 id="gtk-value-get-expression">gtk_value_get_expression ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_value_get_expression (<em class="parameter"><code>const <span class="type">GValue</span> *value</code></em>);</pre> <p>Retrieves the <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> stored inside the given <em class="parameter"><code>value</code></em> .</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>value</p></td> <td class="parameter_description"><p>a <span class="type">GValue</span> initialized with type <code class="literal">GTK_TYPE_EXPRESSION</code></p></td> <td class="parameter_annotations"> </td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>. </p> <p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>][<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-value-dup-expression">gtk_value_dup_expression ()</h3> <pre class="programlisting"><a href="gtkexpression.html#GtkExpression-struct"><span class="returnvalue">GtkExpression</span></a> *
gtk_value_dup_expression (<em class="parameter"><code>const <span class="type">GValue</span> *value</code></em>);</pre> <p>Retrieves the <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a> stored inside the given <em class="parameter"><code>value</code></em> , and acquires a reference to it.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="parameter_name"><p>value</p></td> <td class="parameter_description"><p>a <span class="type">GValue</span> initialized with type <code class="literal">GTK_TYPE_EXPRESSION</code></p></td> <td class="parameter_annotations"> </td> </tr></tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>. </p> <p><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>][<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></p> </div> </div>  <div class="refsect2"> <h3 id="gtk-param-spec-expression">gtk_param_spec_expression ()</h3> <pre class="programlisting" data-language="c">GParamSpec *
gtk_param_spec_expression (const char *name,
                           const char *nick,
                           const char *blurb,
                           GParamFlags flags);</pre> <p>Creates a new <span class="type">GParamSpec</span> instance for a property holding a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>.</p> <p>See <code class="function">g_param_spec_internal()</code> for details on the property strings.</p> <div class="refsect3"> <h4>Parameters</h4> <div class="informaltable"><table class="informaltable">  <tbody> <tr> <td class="parameter_name"><p>name</p></td> <td class="parameter_description"><p>canonical name of the property</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>nick</p></td> <td class="parameter_description"><p>a user-readable name for the property</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>blurb</p></td> <td class="parameter_description"><p>a user-readable description of the property</p></td> <td class="parameter_annotations"> </td> </tr> <tr> <td class="parameter_name"><p>flags</p></td> <td class="parameter_description"><p>flags for the property</p></td> <td class="parameter_annotations"> </td> </tr> </tbody> </table></div> </div> <div class="refsect3"> <h4>Returns</h4> <p>a newly created property specification. </p> <p><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>]</span></p> </div> </div> </div> <div class="refsect1"> <h2 id="GtkExpression.other_details">Types and Values</h2> <div class="refsect2"> <h3 id="GtkExpression-struct">GtkExpression</h3> <pre class="programlisting" data-language="c">typedef struct _GtkExpression GtkExpression;</pre> <p>The <code class="literal">GtkExpression</code> structure contains only private data.</p> </div>  <div class="refsect2"> <h3 id="GtkExpressionWatch">GtkExpressionWatch</h3> <pre class="programlisting" data-language="c">typedef struct _GtkExpressionWatch GtkExpressionWatch;</pre> </div>  <div class="refsect2"> <h3 id="GtkParamSpecExpression">GtkParamSpecExpression</h3> <pre class="programlisting" data-language="c">typedef struct {
} GtkParamSpecExpression;
</pre> <p>A <span class="type">GParamSpec</span> for properties holding a <a href="gtkexpression.html#GtkExpression-struct"><span class="type">GtkExpression</span></a>.</p> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2020 The GNOME Project<br>Licensed under the GNU Lesser General Public License version 2.1 or later.<br>
    <a href="https://developer-old.gnome.org/gtk4/4.0/GtkExpression.html" class="_attribution-link">https://developer-old.gnome.org/gtk4/4.0/GtkExpression.html</a>
  </p>
</div>
