<h1 class="command-name">CLIENT</h1>
<pre>CLIENT KILL</pre> <div class="font-semibold text-slate-900">Syntax</div> <pre class="command-syntax">CLIENT KILL &lt;ip:port | &lt;[ID client-id] | [TYPE &lt;NORMAL | MASTER |
  SLAVE | REPLICA | PUBSUB&gt;] | [USER username] | [ADDR ip:port] |
  [LADDR ip:port] | [SKIPME &lt;YES | NO&gt;] [[ID client-id] |
  [TYPE &lt;NORMAL | MASTER | SLAVE | REPLICA | PUBSUB&gt;] |
  [USER username] | [ADDR ip:port] | [LADDR ip:port] | [SKIPME &lt;YES
  | NO&gt;] ...]&gt;&gt;</pre> <dl class="grid grid-cols-[auto,1fr] gap-x-2 mb-12"> <dt class="font-semibold text-slate-900">Available since:</dt> <dd>2.4.0</dd> <dt class="font-semibold text-slate-900">Time complexity:</dt> <dd>O(N) where N is the number of client connections</dd> <dt class="font-semibold text-slate-900">ACL categories:</dt> <dd> <code>@admin</code><span class="mr-1 last:hidden">,</span> <code>@slow</code><span class="mr-1 last:hidden">,</span> <code>@dangerous</code><span class="mr-1 last:hidden">,</span> <code>@connection</code><span class="mr-1 last:hidden">,</span> </dd> </dl> <p>The <code>CLIENT KILL</code> command closes a given client connection. This command support two formats, the old format:</p> <pre>CLIENT KILL addr:port
</pre> <p>The <code>ip:port</code> should match a line returned by the <a href="../client-list.html"><code>CLIENT LIST</code></a> command (<code>addr</code> field).</p> <p>The new format:</p> <pre>CLIENT KILL &lt;filter&gt; &lt;value&gt; ... ... &lt;filter&gt; &lt;value&gt;
</pre> <p>With the new form it is possible to kill clients by different attributes instead of killing just by address. The following filters are available:</p> <ul> <li>
<code>CLIENT KILL ADDR ip:port</code>. This is exactly the same as the old three-arguments behavior.</li> <li>
<code>CLIENT KILL LADDR ip:port</code>. Kill all clients connected to specified local (bind) address.</li> <li>
<code>CLIENT KILL ID client-id</code>. Allows to kill a client by its unique <code>ID</code> field. Client <code>ID</code>'s are retrieved using the <a href="../client-list.html"><code>CLIENT LIST</code></a> command.</li> <li>
<code>CLIENT KILL TYPE type</code>, where <em>type</em> is one of <code>normal</code>, <code>master</code>, <code>replica</code> and <code>pubsub</code>. This closes the connections of <strong>all the clients</strong> in the specified class. Note that clients blocked into the <a href="../monitor.html"><code>MONITOR</code></a> command are considered to belong to the <code>normal</code> class.</li> <li>
<code>CLIENT KILL USER username</code>. Closes all the connections that are authenticated with the specified <a href="https://redis.io/topics/acl">ACL</a> username, however it returns an error if the username does not map to an existing ACL user.</li> <li>
<code>CLIENT KILL SKIPME yes/no</code>. By default this option is set to <code>yes</code>, that is, the client calling the command will not get killed, however setting this option to <code>no</code> will have the effect of also killing the client calling the command.</li> </ul> <p>It is possible to provide multiple filters at the same time. The command will handle multiple filters via logical AND. For example:</p> <pre>CLIENT KILL addr 127.0.0.1:12345 type pubsub
</pre> <p>is valid and will kill only a pubsub client with the specified address. This format containing multiple filters is rarely useful currently.</p> <p>When the new form is used the command no longer returns <code>OK</code> or an error, but instead the number of killed clients, that may be zero.</p> <h2 id="client-kill-and-redis-sentinel">CLIENT KILL and Redis Sentinel</h2> <p>Recent versions of Redis Sentinel (Redis 2.8.12 or greater) use CLIENT KILL in order to kill clients when an instance is reconfigured, in order to force clients to perform the handshake with one Sentinel again and update its configuration.</p> <h2 id="notes">Notes</h2> <p>Due to the single-threaded nature of Redis, it is not possible to kill a client connection while it is executing a command. From the client point of view, the connection can never be closed in the middle of the execution of a command. However, the client will notice the connection has been closed only when the next command is sent (and results in network error).</p> <h2 id="return">Return</h2> <p>When called with the three arguments format:</p> <p><a href="https://redis.io/docs/reference/protocol-spec#resp-simple-strings">Simple string reply</a>: <code>OK</code> if the connection exists and has been closed</p> <p>When called with the filter / value format:</p> <p><a href="https://redis.io/docs/reference/protocol-spec#resp-integers">Integer reply</a>: the number of clients killed.</p> <h2>History</h2> <ul> <li>Starting with Redis version 2.8.12: Added new filter format.</li> <li>Starting with Redis version 2.8.12: <code>ID</code> option.</li> <li>Starting with Redis version 3.2.0: Added <code>master</code> type in for <code>TYPE</code> option.</li> <li>Starting with Redis version 5.0.0: Replaced <code>slave</code> <code>TYPE</code> with <code>replica</code>. <code>slave</code> still supported for backward compatibility.</li> <li>Starting with Redis version 6.2.0: <code>LADDR</code> option.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2022 Salvatore Sanfilippo<br>Licensed under the Creative Commons Attribution-ShareAlike License 4.0.<br>
    <a href="https://redis.io/commands/client-kill/" class="_attribution-link">https://redis.io/commands/client-kill/</a>
  </p>
</div>
