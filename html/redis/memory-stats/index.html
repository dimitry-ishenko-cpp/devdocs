<h1 class="command-name">MEMORY</h1>
<pre>MEMORY STATS</pre> <div class="font-semibold text-slate-900">Syntax</div> <pre class="command-syntax">MEMORY STATS</pre> <dl class="grid grid-cols-[auto,1fr] gap-x-2 mb-12"> <dt class="font-semibold text-slate-900">Available since:</dt> <dd>4.0.0</dd> <dt class="font-semibold text-slate-900">Time complexity:</dt> <dd>O(1)</dd> <dt class="font-semibold text-slate-900">ACL categories:</dt> <dd> <code>@slow</code><span class="mr-1 last:hidden">,</span> </dd> </dl> <p>The <code>MEMORY STATS</code> command returns an <a href="https://redis.io/docs/reference/protocol-spec#resp-arrays">Array reply</a> about the memory usage of the server.</p> <p>The information about memory usage is provided as metrics and their respective values. The following metrics are reported:</p> <ul> <li>
<code>peak.allocated</code>: Peak memory consumed by Redis in bytes (see <a href="../info.html"><code>INFO</code></a>'s <code>used_memory_peak</code>)</li> <li>
<code>total.allocated</code>: Total number of bytes allocated by Redis using its allocator (see <a href="../info.html"><code>INFO</code></a>'s <code>used_memory</code>)</li> <li>
<code>startup.allocated</code>: Initial amount of memory consumed by Redis at startup in bytes (see <a href="../info.html"><code>INFO</code></a>'s <code>used_memory_startup</code>)</li> <li>
<code>replication.backlog</code>: Size in bytes of the replication backlog (see <a href="../info.html"><code>INFO</code></a>'s <code>repl_backlog_active</code>)</li> <li>
<code>clients.slaves</code>: The total size in bytes of all replicas overheads (output and query buffers, connection contexts)</li> <li>
<code>clients.normal</code>: The total size in bytes of all clients overheads (output and query buffers, connection contexts)</li> <li>
<code>cluster.links</code>: Memory usage by cluster links (Added in Redis 7.0, see <a href="../info.html"><code>INFO</code></a>'s <code>mem_cluster_links</code>).</li> <li>
<code>aof.buffer</code>: The summed size in bytes of AOF related buffers.</li> <li>
<code>lua.caches</code>: the summed size in bytes of the overheads of the Lua scripts' caches</li> <li>
<code>dbXXX</code>: For each of the server's databases, the overheads of the main and expiry dictionaries (<code>overhead.hashtable.main</code> and <code>overhead.hashtable.expires</code>, respectively) are reported in bytes</li> <li>
<code>overhead.total</code>: The sum of all overheads, i.e. <code>startup.allocated</code>, <code>replication.backlog</code>, <code>clients.slaves</code>, <code>clients.normal</code>, <code>aof.buffer</code> and those of the internal data structures that are used in managing the Redis keyspace (see <a href="../info.html"><code>INFO</code></a>'s <code>used_memory_overhead</code>)</li> <li>
<code>keys.count</code>: The total number of keys stored across all databases in the server</li> <li>
<code>keys.bytes-per-key</code>: The ratio between <strong>net memory usage</strong> (<code>total.allocated</code> minus <code>startup.allocated</code>) and <code>keys.count</code>
</li> <li>
<code>dataset.bytes</code>: The size in bytes of the dataset, i.e. <code>overhead.total</code> subtracted from <code>total.allocated</code> (see <a href="../info.html"><code>INFO</code></a>'s <code>used_memory_dataset</code>)</li> <li>
<code>dataset.percentage</code>: The percentage of <code>dataset.bytes</code> out of the net memory usage</li> <li>
<code>peak.percentage</code>: The percentage of <code>peak.allocated</code> out of <code>total.allocated</code>
</li> <li>
<code>fragmentation</code>: See <a href="../info.html"><code>INFO</code></a>'s <code>mem_fragmentation_ratio</code>
</li> </ul> <h2 id="return">Return</h2> <p><a href="https://redis.io/docs/reference/protocol-spec#resp-arrays">Array reply</a>: nested list of memory usage metrics and their values</p> <p><strong>A note about the word slave used in this man page</strong>: Starting with Redis 5, if not for backward compatibility, the Redis project no longer uses the word slave. Unfortunately in this command the word slave is part of the protocol, so we'll be able to remove such occurrences only when this API will be naturally deprecated.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2022 Salvatore Sanfilippo<br>Licensed under the Creative Commons Attribution-ShareAlike License 4.0.<br>
    <a href="https://redis.io/commands/memory-stats/" class="_attribution-link">https://redis.io/commands/memory-stats/</a>
  </p>
</div>
