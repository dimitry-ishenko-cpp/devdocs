<h1 class="command-name">TS.GET</h1>
<pre>TS.GET</pre> <div class="font-semibold text-slate-900">Syntax</div> <pre class="command-syntax">TS.GET key 
  [LATEST]
</pre> <dl class="grid grid-cols-[auto,1fr] gap-x-2 mb-12"> <dt class="font-semibold text-slate-900">Available in:</dt> <dd> <a href="https://redis.io/docs/stack">Redis Stack</a> / <a href="https://redis.io/docs/stack/timeseries">TimeSeries 1.0.0</a> </dd> <dt class="font-semibold text-slate-900">Time complexity:</dt> <dd>O(1)</dd> </dl> <p>Get the sample with the highest timestamp from a given time series</p> <p><a href="#examples">Examples</a></p> <h2 id="required-arguments">Required arguments</h2> <details open><summary><code>key</code></summary> <p>is key name for the time series.</p> </details> <h2 id="optional-arguments">Optional arguments</h2> <details open><summary><code>LATEST</code> (since RedisTimeSeries v1.8)</summary> <p>is used when a time series is a compaction. With <code>LATEST</code>, TS.GET reports the compacted value of the latest, possibly partial, bucket. Without <code>LATEST</code>, TS.GET does not report the latest, possibly partial, bucket. When a time series is not a compaction, <code>LATEST</code> is ignored.</p> <p>The data in the latest bucket of a compaction is possibly partial. A bucket is <em>closed</em> and compacted only upon arrival of a new sample that <em>opens</em> a new <em>latest</em> bucket. There are cases, however, when the compacted value of the latest, possibly partial, bucket is also required. In such a case, use <code>LATEST</code>.</p> </details> <h2 id="return-value">Return value</h2> <p>One of:</p> <ul> <li>
<a href="https://redis.io/docs/reference/protocol-spec#resp-arrays">Array reply</a> of a single (<a href="https://redis.io/docs/reference/protocol-spec#resp-integers">Integer reply</a>, <a href="https://redis.io/docs/reference/protocol-spec#resp-simple-strings">Simple string reply</a>) pair representing (timestamp, value(double)) of the sample with the highest timetamp</li> <li>An empty <a href="https://redis.io/docs/reference/protocol-spec#resp-arrays">Array reply</a> - when the time series is empty</li> <li>
<a href="https://redis.io/docs/reference/protocol-spec#resp-errors">Error reply</a> (e.g., when the key does not exist or when the number of arguments is wrong)</li> </ul> <h2 id="examples">Examples</h2> <details open> <summary><b>Get latest measured temperature for a city</b></summary> <p>Create a time series to store the temperatures measured in Tel Aviv and add four measurements for Sun Jan 01 2023</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.CREATE temp:TLV LABELS <span class="nb">type</span> temp location TLV
</span></span><span class="line"><span class="cl">OK
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.MADD temp:TLV <span class="m">1672534800</span> <span class="m">12</span> temp:TLV <span class="m">1672556400</span> <span class="m">16</span> temp:TLV <span class="m">1672578000</span> <span class="m">21</span> temp:TLV <span class="m">1672599600</span> <span class="m">14</span></span></span></pre></div> <p>Next, get the latest measured temperature (the temperature with the highest timestamp)</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.GET temp:TLV
</span></span><span class="line"><span class="cl">1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1672599600</span>
</span></span><span class="line"><span class="cl">2<span class="o">)</span> <span class="m">14</span></span></span></pre></div> </details> <details open> <summary><b>Get latest maximal daily temperature for a city</b></summary> <p>Create a time series to store the temperatures measured in Jerusalem</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.CREATE temp:JLM LABELS <span class="nb">type</span> temp location JLM
</span></span><span class="line"><span class="cl">OK</span></span></pre></div> <p>Next, create a compacted time series named <em>dailyAvgTemp:JLM</em> containing one compacted sample per 24 hours: the maximum of all measurements taken from midnight to next midnight.</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.CREATE dailyMaxTemp:JLM LABELS <span class="nb">type</span> temp location JLM
</span></span><span class="line"><span class="cl">OK
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.CREATERULE temp:JLM dailyMaxTemp:JLM AGGREGATION max <span class="m">86400000</span>
</span></span><span class="line"><span class="cl">OK</span></span></pre></div> <p>Add four measurements for Sun Jan 01 2023 and three measurements for Mon Jan 02 2023</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.MADD temp:JLM <span class="m">1672534800000</span> <span class="m">12</span> temp:JLM <span class="m">1672556400000</span> <span class="m">16</span> temp:JLM <span class="m">1672578000000</span> <span class="m">21</span> temp:JLM <span class="m">1672599600000</span> <span class="m">14</span>
</span></span><span class="line"><span class="cl">1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1672534800000</span>
</span></span><span class="line"><span class="cl">2<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1672556400000</span>
</span></span><span class="line"><span class="cl">3<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1672578000000</span>
</span></span><span class="line"><span class="cl">4<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1672599600000</span>
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.MADD temp:JLM <span class="m">1672621200000</span> <span class="m">11</span> temp:JLM <span class="m">1672642800000</span> <span class="m">21</span> temp:JLM <span class="m">1672664400000</span> <span class="m">26</span>
</span></span><span class="line"><span class="cl">1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1672621200000</span>
</span></span><span class="line"><span class="cl">2<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1672642800000</span>
</span></span><span class="line"><span class="cl">3<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1672664400000</span></span></span></pre></div> <p>Next, get the latest maximum daily temperature; do not report the latest, possibly partial, bucket</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.GET dailyMaxTemp:JLM
</span></span><span class="line"><span class="cl">1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1672531200000</span>
</span></span><span class="line"><span class="cl">2<span class="o">)</span> <span class="m">21</span></span></span></pre></div> <p>Get the latest maximum daily temperature (the temperature with the highest timestamp); report the latest, possibly partial, bucket</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.GET dailyMaxTemp:JLM LATEST
</span></span><span class="line"><span class="cl">1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1672617600000</span>
</span></span><span class="line"><span class="cl">2<span class="o">)</span> <span class="m">26</span></span></span></pre></div> </details> <h2 id="see-also">See also</h2> <p><a href="../ts.mget.html"><code>TS.MGET</code></a></p> <h2 id="related-topics">Related topics</h2> <p><a href="https://redis.io/docs/stack/timeseries">RedisTimeSeries</a></p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2022 Salvatore Sanfilippo<br>Licensed under the Creative Commons Attribution-ShareAlike License 4.0.<br>
    <a href="https://redis.io/commands/ts.get/" class="_attribution-link">https://redis.io/commands/ts.get/</a>
  </p>
</div>
