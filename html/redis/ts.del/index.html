<h1 class="command-name">TS.DEL</h1>
<pre>TS.DEL</pre> <div class="font-semibold text-slate-900">Syntax</div> <pre class="command-syntax">TS.DEL key fromTimestamp toTimestamp
</pre> <dl class="grid grid-cols-[auto,1fr] gap-x-2 mb-12"> <dt class="font-semibold text-slate-900">Available in:</dt> <dd> <a href="https://redis.io/docs/stack">Redis Stack</a> / <a href="https://redis.io/docs/stack/timeseries">TimeSeries 1.6.0</a> </dd> <dt class="font-semibold text-slate-900">Time complexity:</dt> <dd>O(N) where N is the number of data points that will be removed</dd> </dl> <p>Delete all samples between two timestamps for a given time series</p> <p><a href="#examples">Examples</a></p> <h2 id="required-arguments">Required arguments</h2> <details open><summary><code>key</code></summary> <p>is key name for the time series.</p> </details> <details open><summary><code>fromTimestamp</code></summary> <p>is start timestamp for the range deletion.</p> </details> <details open><summary><code>toTimestamp</code></summary> <p>is end timestamp for the range deletion.</p> <p>The given timestamp interval is closed (inclusive), meaning that samples whose timestamp eqauls the <code>fromTimestamp</code> or <code>toTimestamp</code> are also deleted.</p> <p><note><b>Notes:</b></note></p> <ul> <li>If fromTimestamp is older than the retention period compared to the maximum existing timestamp, the deletion is discarded and an error is returned.</li> <li>When deleting a sample from a time series for which compaction rules are defined: <ul> <li>If all the original samples for an affected compaction bucket are available, the compacted value is recalculated based on the remaining original samples, or removed if all original samples within the compaction bucket were deleted.</li> <li>If some or all the original samples for an affected compaction bucket were expired, the deletion is discarded and an error is returned.</li> </ul> </li> <li>Explicitly deleting samples from a compacted time series may result in inconsistencies between the raw and the compacted data. The compaction process may override such samples. That being said, it is safe to explicitly delete samples from a compacted time series beyond the retention period of the original time series.</li> </ul> <h2 id="return-value">Return value</h2> <p><a href="https://redis.io/docs/reference/protocol-spec#resp-integers">Integer reply</a>: The number of samples that were deleted, or <a href="https://redis.io/docs/reference/protocol-spec#resp-errors">Error reply</a>.</p> <h2 id="examples">Examples</h2> <details open><summary><b>Delete range of data points</b></summary> <p>Create time series for temperature in Tel Aviv and Jerusalem, then add different temperature samples.</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.CREATE temp:TLV LABELS <span class="nb">type</span> temp location TLV
</span></span><span class="line"><span class="cl">OK
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.CREATE temp:JLM LABELS <span class="nb">type</span> temp location JLM
</span></span><span class="line"><span class="cl">OK
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.MADD temp:TLV <span class="m">1000</span> <span class="m">30</span> temp:TLV <span class="m">1010</span> <span class="m">35</span> temp:TLV <span class="m">1020</span> <span class="m">9999</span> temp:TLV <span class="m">1030</span> <span class="m">40</span>
</span></span><span class="line"><span class="cl">1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1000</span>
</span></span><span class="line"><span class="cl">2<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1010</span>
</span></span><span class="line"><span class="cl">3<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1020</span>
</span></span><span class="line"><span class="cl">4<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1030</span>
</span></span><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.MADD temp:JLM <span class="m">1005</span> <span class="m">30</span> temp:JLM <span class="m">1015</span> <span class="m">35</span> temp:JLM <span class="m">1025</span> <span class="m">9999</span> temp:JLM <span class="m">1035</span> <span class="m">40</span>
</span></span><span class="line"><span class="cl">1<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1005</span>
</span></span><span class="line"><span class="cl">2<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1015</span>
</span></span><span class="line"><span class="cl">3<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1025</span>
</span></span><span class="line"><span class="cl">4<span class="o">)</span> <span class="o">(</span>integer<span class="o">)</span> <span class="m">1035</span></span></span></pre></div> <p>Delete the range of data points for temperature in Tel Aviv.</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.DEL temp:TLV <span class="m">1000</span> <span class="m">1030</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>integer<span class="o">)</span> <span class="m">4</span></span></span></pre></div> </details> <h2 id="see-also">See also</h2> <p><a href="../ts.add.html"><code>TS.ADD</code></a></p> <h2 id="related-topics">Related topics</h2> <p><a href="https://redis.io/docs/stack/timeseries">RedisTimeSeries</a></p>  </details><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2022 Salvatore Sanfilippo<br>Licensed under the Creative Commons Attribution-ShareAlike License 4.0.<br>
    <a href="https://redis.io/commands/ts.del/" class="_attribution-link">https://redis.io/commands/ts.del/</a>
  </p>
</div>
