<h1 class="command-name">TS.ALTER</h1>
<pre>TS.ALTER</pre> <div class="font-semibold text-slate-900">Syntax</div> <pre class="command-syntax">TS.ALTER key 
  [RETENTION retentionPeriod] 
  [CHUNK_SIZE size] 
  [DUPLICATE_POLICY policy] 
  [LABELS [{label value}...]]
</pre> <dl class="grid grid-cols-[auto,1fr] gap-x-2 mb-12"> <dt class="font-semibold text-slate-900">Available in:</dt> <dd> <a href="https://redis.io/docs/stack">Redis Stack</a> / <a href="https://redis.io/docs/stack/timeseries">TimeSeries 1.0.0</a> </dd> <dt class="font-semibold text-slate-900">Time complexity:</dt> <dd>O(N) where N is the number of labels requested to update</dd> </dl> <p>Update the retention, chunk size, duplicate policy, and labels of an existing time series</p> <p><a href="#examples">Examples</a></p> <h2 id="required-arguments">Required arguments</h2> <details open><summary><code>key</code></summary> <p>is key name for the time series.</p> </details> <p><note><b>Note:</b> This command alters only the specified element. For example, if you specify only <code>RETENTION</code> and <code>LABELS</code>, the chunk size and the duplicate policy are not altered. </note></p> <h2 id="optional-arguments">Optional arguments</h2> <details open><summary><code>RETENTION retentionPeriod</code></summary> <p>is maximum retention period, compared to the maximum existing timestamp, in milliseconds. See <code>RETENTION</code> in <a href="../ts.create.html"><code>TS.CREATE</code></a>.</p> </details> <details open><summary><code>CHUNK_SIZE size</code></summary> <p>is the initial allocation size, in bytes, for the data part of each new chunk. Actual chunks may consume more memory. See <code>CHUNK_SIZE</code> in <a href="../ts.create.html"><code>TS.CREATE</code></a>. Changing this value does not affect existing chunks.</p> </details> <details open><summary><code>DUPLICATE_POLICY policy</code></summary> <p>is policy for handling multiple samples with identical timestamps. See <code>DUPLICATE_POLICY</code> in <a href="../ts.create.html"><code>TS.CREATE</code></a>.</p> </details> <details open><summary><code>LABELS [{label value}...]</code></summary> <p>is set of label-value pairs that represent metadata labels of the key and serve as a secondary index.</p> <p>If <code>LABELS</code> is specified, the given label list is applied. Labels that are not present in the given list are removed implicitly. Specifying <code>LABELS</code> with no label-value pairs removes all existing labels. See <code>LABELS</code> in <a href="../ts.create.html"><code>TS.CREATE</code></a>.</p> </details> <h2 id="return-value">Return value</h2> <p><a href="https://redis.io/docs/reference/protocol-spec#resp-simple-strings">Simple string reply</a> - <code>OK</code> if executed correctly, or <a href="https://redis.io/docs/reference/protocol-spec#resp-errors">Error reply</a> otherwise.</p> <h2 id="examples">Examples</h2> <details open><summary><b>Alter a temperature time series</b></summary> <p>Create a temperature time series.</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.CREATE temperature:2:32 RETENTION <span class="m">60000</span> DUPLICATE_POLICY MAX LABELS sensor_id <span class="m">2</span> area_id <span class="m">32</span>
</span></span><span class="line"><span class="cl">OK</span></span></pre></div> <p>Alter the labels in the time series.</p> <div class="highlight"><pre tabindex="0" class="chroma"><span class="line"><span class="cl">127.0.0.1:6379&gt; TS.ALTER temperature:2:32 LABELS sensor_id <span class="m">2</span> area_id <span class="m">32</span> sub_area_id <span class="m">15</span>
</span></span><span class="line"><span class="cl">OK</span></span></pre></div> </details> <h2 id="see-also">See also</h2> <p><a href="../ts.create.html"><code>TS.CREATE</code></a></p> <h2 id="related-topics">Related topics</h2> <p><a href="https://redis.io/docs/stack/timeseries">RedisTimeSeries</a></p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2022 Salvatore Sanfilippo<br>Licensed under the Creative Commons Attribution-ShareAlike License 4.0.<br>
    <a href="https://redis.io/commands/ts.alter/" class="_attribution-link">https://redis.io/commands/ts.alter/</a>
  </p>
</div>
