<h1 id="module-ActionCable::Connection::Callbacks" class="module"> module ActionCable::Connection::Callbacks </h1>
<dl class="meta">
<dt>Included modules:</dt>
<dd class="meta-includes"><a class="include" href="../../activesupport/callbacks.html">ActiveSupport::Callbacks</a></dd>
</dl> <section class="description"> <h1 id="module-ActionCable::Connection::Callbacks-label-Action+Cable+Connection+Callbacks">Action Cable  <a href="callbacks.html"><code>Callbacks</code></a>
</h1> <p>The <span>before_command</span>, <span>after_command</span>, and <span>around_command</span> callbacks are invoked when sending commands to the client, such as when subscribing, unsubscribing, or performing an action.</p> <h4 id="module-ActionCable::Connection::Callbacks-label-Example">Example</h4> <pre class="ruby" data-language="ruby">module ApplicationCable
  class Connection &lt; ActionCable::Connection::Base
    identified_by :user

    around_command :set_current_account

    private

    def set_current_account
      # Now all channels could use Current.account
      Current.set(account: user.account) { yield }
    end
  end
end
</pre> </section> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>
