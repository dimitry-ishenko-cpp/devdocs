<h1 id="module-ActiveRecord::AttributeMethods::PrimaryKey" class="module"> module ActiveRecord::AttributeMethods::PrimaryKey </h1> <section class="description"> <h1 id="module-ActiveRecord::AttributeMethods::PrimaryKey-label-Active+Record+Attribute+Methods+Primary+Key">Active Record Attribute Methods Primary Key</h1> </section> <section id="5Buntitled-5D" class="documentation-section"> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-id"> <span class="method-name">id</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="id-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/attribute_methods/primary_key.rb, line 20
def id
  return _read_attribute(@primary_key) unless @primary_key.is_a?(Array)

  @primary_key.map { |pk| _read_attribute(pk) }
end</pre> </div> <p>Returns the primary key column’s value. If the primary key is composite, returns an array of the primary key column values.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-id-3D"> <span class="method-name">id=</span><span class="method-args">(value)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="id-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/attribute_methods/primary_key.rb, line 34
def id=(value)
  if self.class.composite_primary_key?
    raise TypeError, "Expected value matching #{self.class.primary_key.inspect}, got #{value.inspect}." unless value.is_a?(Enumerable)
    @primary_key.zip(value) { |attr, value| _write_attribute(attr, value) }
  else
    _write_attribute(@primary_key, value)
  end
end</pre> </div> <p>Sets the primary key column’s value. If the primary key is composite, raises TypeError when the set value not enumerable.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-id-3F"> <span class="method-name">id?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="id-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/attribute_methods/primary_key.rb, line 45
def id?
  if self.class.composite_primary_key?
    @primary_key.all? { |col| _query_attribute(col) }
  else
    _query_attribute(@primary_key)
  end
end</pre> </div> <p>Queries the primary key column’s value. If the primary key is composite, all primary key column values must be queryable.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-id_before_type_cast"> <span class="method-name">id_before_type_cast</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="id_before_type_cast-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/attribute_methods/primary_key.rb, line 55
def id_before_type_cast
  if self.class.composite_primary_key?
    @primary_key.map { |col| attribute_before_type_cast(col) }
  else
    attribute_before_type_cast(@primary_key)
  end
end</pre> </div> <p>Returns the primary key column’s value before type cast. If the primary key is composite, returns an array of primary key column values before type cast.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-id_in_database"> <span class="method-name">id_in_database</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="id_in_database-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/attribute_methods/primary_key.rb, line 75
def id_in_database
  if self.class.composite_primary_key?
    @primary_key.map { |col| attribute_in_database(col) }
  else
    attribute_in_database(@primary_key)
  end
end</pre> </div> <p>Returns the primary key column’s value from the database. If the primary key is composite, returns an array of primary key column values from database.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-id_was"> <span class="method-name">id_was</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="id_was-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/attribute_methods/primary_key.rb, line 65
def id_was
  if self.class.composite_primary_key?
    @primary_key.map { |col| attribute_was(col) }
  else
    attribute_was(@primary_key)
  end
end</pre> </div> <p>Returns the primary key column’s previous value. If the primary key is composite, returns an array of primary key column previous values.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_key"> <span class="method-name">to_key</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_key-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/attribute_methods/primary_key.rb, line 13
def to_key
  key = id
  Array(key) if key
end</pre> </div> <p>Returns this record’s primary key value wrapped in an array if one is available.</p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>
