<h1 id="class-ActiveSupport::TimeWithZone" class="class"> class ActiveSupport::TimeWithZone </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../object.html">Object</a></dd>
</dl> <section class="description"> <h1 id="class-ActiveSupport::TimeWithZone-label-Active+Support+Time+With+Zone">Active Support Time With Zone</h1> <p>A Time-like class that can represent a time in any time zone. Necessary because standard Ruby <a href="../time.html"><code>Time</code></a> instances are limited to UTC and the system’s <code>ENV['TZ']</code> zone.</p> <p>You shouldn’t ever need to create a <a href="timewithzone.html"><code>TimeWithZone</code></a> instance directly via <code>new</code>. Instead use methods <code>local</code>, <code>parse</code>, <code>at</code>, and <code>now</code> on <a href="timezone.html"><code>TimeZone</code></a> instances, and <code>in_time_zone</code> on <a href="../time.html"><code>Time</code></a> and <a href="../datetime.html"><code>DateTime</code></a> instances.</p> <pre class="ruby" data-language="ruby">Time.zone = 'Eastern Time (US &amp; Canada)'        # =&gt; 'Eastern Time (US &amp; Canada)'
Time.zone.local(2007, 2, 10, 15, 30, 45)        # =&gt; Sat, 10 Feb 2007 15:30:45.000000000 EST -05:00
Time.zone.parse('2007-02-10 15:30:45')          # =&gt; Sat, 10 Feb 2007 15:30:45.000000000 EST -05:00
Time.zone.at(1171139445)                        # =&gt; Sat, 10 Feb 2007 15:30:45.000000000 EST -05:00
Time.zone.now                                   # =&gt; Sun, 18 May 2008 13:07:55.754107581 EDT -04:00
Time.utc(2007, 2, 10, 20, 30, 45).in_time_zone  # =&gt; Sat, 10 Feb 2007 15:30:45.000000000 EST -05:00
</pre> <p>See <a href="../time.html"><code>Time</code></a> and <a href="timezone.html"><code>TimeZone</code></a> for further documentation of these methods.</p> <p><a href="timewithzone.html"><code>TimeWithZone</code></a> instances implement the same API as Ruby <a href="../time.html"><code>Time</code></a> instances, so that <a href="../time.html"><code>Time</code></a> and <a href="timewithzone.html"><code>TimeWithZone</code></a> instances are interchangeable.</p> <pre class="ruby" data-language="ruby">t = Time.zone.now                     # =&gt; Sun, 18 May 2008 13:27:25.031505668 EDT -04:00
t.hour                                # =&gt; 13
t.dst?                                # =&gt; true
t.utc_offset                          # =&gt; -14400
t.zone                                # =&gt; "EDT"
t.to_fs(:rfc822)                      # =&gt; "Sun, 18 May 2008 13:27:25 -0400"
t + 1.day                             # =&gt; Mon, 19 May 2008 13:27:25.031505668 EDT -04:00
t.beginning_of_year                   # =&gt; Tue, 01 Jan 2008 00:00:00.000000000 EST -05:00
t &gt; Time.utc(1999)                    # =&gt; true
t.is_a?(Time)                         # =&gt; true
t.is_a?(ActiveSupport::TimeWithZone)  # =&gt; true
</pre> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="constants-list"> <header> <h3>Constants</h3> </header> <dl> <dt id="PRECISIONS">PRECISIONS </dt>

<dt id="SECONDS_PER_DAY">SECONDS_PER_DAY </dt>

</dl> </section> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-time_zone"> <span class="method-name">time_zone</span><span class="attribute-access-type">[R]</span> </div>  </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(utc_time, time_zone, local_time = nil, period = nil)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 51
def initialize(utc_time, time_zone, local_time = nil, period = nil)
  @utc = utc_time ? transfer_time_values_to_utc_constructor(utc_time) : nil
  @time_zone, @time = time_zone, local_time
  @period = @utc ? period : get_period_and_ensure_valid_local_time(period)
end</pre> </div>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-2B"> <span class="method-name">+</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="2B-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 298
def +(other)
  if duration_of_variable_length?(other)
    method_missing(:+, other)
  else
    begin
      result = utc + other
    rescue TypeError
      result = utc.to_datetime.since(other)
      ActiveSupport.deprecator.warn(
        "Adding an instance of #{other.class} to an instance of #{self.class} is deprecated. This behavior will raise " \
        "a `TypeError` in Rails 8.1."
      )
      result.in_time_zone(time_zone)
    end
    result.in_time_zone(time_zone)
  end
end</pre> </div> <p>Adds an interval of time to the current object’s time and returns that value as a new <a href="timewithzone.html"><code>TimeWithZone</code></a> object.</p> <pre class="ruby" data-language="ruby">Time.zone = 'Eastern Time (US &amp; Canada)' # =&gt; 'Eastern Time (US &amp; Canada)'
now = Time.zone.now # =&gt; Sun, 02 Nov 2014 01:26:28.725182881 EDT -04:00
now + 1000          # =&gt; Sun, 02 Nov 2014 01:43:08.725182881 EDT -04:00
</pre> <p>If we’re adding a <a href="duration.html"><code>Duration</code></a> of variable length (i.e., years, months, days), move forward from <a href="timewithzone.html#method-i-time"><code>time</code></a>, otherwise move forward from <a href="timewithzone.html#method-i-utc"><code>utc</code></a>, for accuracy when moving across DST boundaries.</p> <p>For instance, a time + 24.hours will advance exactly 24 hours, while a time + 1.day will advance 23-25 hours, depending on the day.</p> <pre class="ruby" data-language="ruby">now + 24.hours      # =&gt; Mon, 03 Nov 2014 00:26:28.725182881 EST -05:00
now + 1.day         # =&gt; Mon, 03 Nov 2014 01:26:28.725182881 EST -05:00
</pre>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-since">since</a>, <a href="timewithzone.html#method-i-in">in</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-2D"> <span class="method-name">-</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="2D-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 341
def -(other)
  if other.acts_like?(:time)
    getutc - other.getutc
  elsif duration_of_variable_length?(other)
    method_missing(:-, other)
  else
    result = utc - other
    result.in_time_zone(time_zone)
  end
end</pre> </div> <p>Subtracts an interval of time and returns a new <a href="timewithzone.html"><code>TimeWithZone</code></a> object unless the other value <code>acts_like?</code> time. In which case, it will subtract the other time and return the difference in seconds as a <span><code>Float</code></span>.</p> <pre class="ruby" data-language="ruby">Time.zone = 'Eastern Time (US &amp; Canada)' # =&gt; 'Eastern Time (US &amp; Canada)'
now = Time.zone.now # =&gt; Mon, 03 Nov 2014 00:26:28.725182881 EST -05:00
now - 1000          # =&gt; Mon, 03 Nov 2014 00:09:48.725182881 EST -05:00
</pre> <p>If subtracting a <a href="duration.html"><code>Duration</code></a> of variable length (i.e., years, months, days), move backward from <a href="timewithzone.html#method-i-time"><code>time</code></a>, otherwise move backward from <a href="timewithzone.html#method-i-utc"><code>utc</code></a>, for accuracy when moving across DST boundaries.</p> <p>For instance, a time - 24.hours will go subtract exactly 24 hours, while a time - 1.day will subtract 23-25 hours, depending on the day.</p> <pre class="ruby" data-language="ruby">now - 24.hours      # =&gt; Sun, 02 Nov 2014 01:26:28.725182881 EDT -04:00
now - 1.day         # =&gt; Sun, 02 Nov 2014 00:26:28.725182881 EDT -04:00
</pre> <p>If both the <a href="timewithzone.html"><code>TimeWithZone</code></a> object and the other value act like <a href="../time.html"><code>Time</code></a>, a <span><code>Float</code></span> will be returned.</p> <pre class="ruby" data-language="ruby">Time.zone.now - 1.day.ago # =&gt; 86399.999967
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-3C-3D-3E"> <span class="method-name">&lt;=&gt;</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="3C-3D-3E-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 231
def &lt;=&gt;(other)
  utc &lt;=&gt; other
end</pre> </div> <p>Use the time in UTC for comparisons.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-acts_like_time-3F"> <span class="method-name">acts_like_time?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="acts_like_time-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 504
def acts_like_time?
  true
end</pre> </div> <p>So that <code>self</code> <code>acts_like?(:time)</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-advance"> <span class="method-name">advance</span><span class="method-args">(options)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="advance-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 430
def advance(options)
  # If we're advancing a value of variable length (i.e., years, weeks, months, days), advance from #time,
  # otherwise advance from #utc, for accuracy when moving across DST boundaries
  if options.values_at(:years, :weeks, :months, :days).any?
    method_missing(:advance, options)
  else
    utc.advance(options).in_time_zone(time_zone)
  end
end</pre> </div> <p>Uses <a href="../date.html"><code>Date</code></a> to provide precise <a href="../time.html"><code>Time</code></a> calculations for years, months, and days according to the proleptic Gregorian calendar. The result is returned as a new <a href="timewithzone.html"><code>TimeWithZone</code></a> object.</p> <p>The <code>options</code> parameter takes a hash with any of these keys: <code>:years</code>, <code>:months</code>, <code>:weeks</code>, <code>:days</code>, <code>:hours</code>, <code>:minutes</code>, <code>:seconds</code>.</p> <p>If advancing by a value of variable length (i.e., years, weeks, months, days), move forward from <a href="timewithzone.html#method-i-time"><code>time</code></a>, otherwise move forward from <a href="timewithzone.html#method-i-utc"><code>utc</code></a>, for accuracy when moving across DST boundaries.</p> <pre class="ruby" data-language="ruby">Time.zone = 'Eastern Time (US &amp; Canada)' # =&gt; 'Eastern Time (US &amp; Canada)'
now = Time.zone.now # =&gt; Sun, 02 Nov 2014 01:26:28.558049687 EDT -04:00
now.advance(seconds: 1) # =&gt; Sun, 02 Nov 2014 01:26:29.558049687 EDT -04:00
now.advance(minutes: 1) # =&gt; Sun, 02 Nov 2014 01:27:28.558049687 EDT -04:00
now.advance(hours: 1)   # =&gt; Sun, 02 Nov 2014 01:26:28.558049687 EST -05:00
now.advance(days: 1)    # =&gt; Mon, 03 Nov 2014 01:26:28.558049687 EST -05:00
now.advance(weeks: 1)   # =&gt; Sun, 09 Nov 2014 01:26:28.558049687 EST -05:00
now.advance(months: 1)  # =&gt; Tue, 02 Dec 2014 01:26:28.558049687 EST -05:00
now.advance(years: 1)   # =&gt; Mon, 02 Nov 2015 01:26:28.558049687 EST -05:00
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-ago"> <span class="method-name">ago</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="ago-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 369
def ago(other)
  since(-other)
end</pre> </div> <p>Subtracts an interval of time from the current object’s time and returns the result as a new <a href="timewithzone.html"><code>TimeWithZone</code></a> object.</p> <pre class="ruby" data-language="ruby">Time.zone = 'Eastern Time (US &amp; Canada)' # =&gt; 'Eastern Time (US &amp; Canada)'
now = Time.zone.now # =&gt; Mon, 03 Nov 2014 00:26:28.725182881 EST -05:00
now.ago(1000)       # =&gt; Mon, 03 Nov 2014 00:09:48.725182881 EST -05:00
</pre> <p>If we’re subtracting a <a href="duration.html"><code>Duration</code></a> of variable length (i.e., years, months, days), move backward from <a href="timewithzone.html#method-i-time"><code>time</code></a>, otherwise move backward from <a href="timewithzone.html#method-i-utc"><code>utc</code></a>, for accuracy when moving across DST boundaries.</p> <p>For instance, <code>time.ago(24.hours)</code> will move back exactly 24 hours, while <code>time.ago(1.day)</code> will move back 23-25 hours, depending on the day.</p> <pre class="ruby" data-language="ruby">now.ago(24.hours)   # =&gt; Sun, 02 Nov 2014 01:26:28.725182881 EDT -04:00
now.ago(1.day)      # =&gt; Sun, 02 Nov 2014 00:26:28.725182881 EDT -04:00
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-as_json"> <span class="method-name">as_json</span><span class="method-args">(options = nil)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="as_json-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 166
def as_json(options = nil)
  if ActiveSupport::JSON::Encoding.use_standard_json_time_format
    xmlschema(ActiveSupport::JSON::Encoding.time_precision)
  else
    %(#{time.strftime("%Y/%m/%d %H:%M:%S")} #{formatted_offset(false)})
  end
end</pre> </div> <p>Coerces time to a string for <a href="json.html"><code>JSON</code></a> encoding. The default format is ISO 8601. You can get %Y/%m/%d %H:%M:%S +offset style by setting <code>ActiveSupport::JSON::Encoding.use_standard_json_time_format</code> to <code>false</code>.</p> <pre class="ruby" data-language="ruby"># With ActiveSupport::JSON::Encoding.use_standard_json_time_format = true
Time.utc(2005,2,1,15,15,10).in_time_zone("Hawaii").as_json
# =&gt; "2005-02-01T05:15:10.000-10:00"

# With ActiveSupport::JSON::Encoding.use_standard_json_time_format = false
Time.utc(2005,2,1,15,15,10).in_time_zone("Hawaii").as_json
# =&gt; "2005/02/01 05:15:10 -1000"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-between-3F"> <span class="method-name">between?</span><span class="method-args">(min, max)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="between-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 239
def between?(min, max)
  utc.between?(min, max)
end</pre> </div> <p>Returns true if the current object’s time is within the specified <code>min</code> and <code>max</code> time.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-blank-3F"> <span class="method-name">blank?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="blank-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 515
def blank?
  false
end</pre> </div> <p>An instance of <a href="timewithzone.html"><code>ActiveSupport::TimeWithZone</code></a> is never blank</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-change"> <span class="method-name">change</span><span class="method-args">(options)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="change-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 390
def change(options)
  if options[:zone] &amp;&amp; options[:offset]
    raise ArgumentError, "Can't change both :offset and :zone at the same time: #{options.inspect}"
  end

  new_time = time.change(options)

  if options[:zone]
    new_zone = ::Time.find_zone(options[:zone])
  elsif options[:offset]
    new_zone = ::Time.find_zone(new_time.utc_offset)
  end

  new_zone ||= time_zone
  periods = new_zone.periods_for_local(new_time)

  self.class.new(nil, new_zone, new_time, periods.include?(period) ? period : nil)
end</pre> </div> <p>Returns a new <code>ActiveSupport::TimeWithZone</code> where one or more of the elements have been changed according to the <code>options</code> parameter. The time options (<code>:hour</code>, <code>:min</code>, <code>:sec</code>, <code>:usec</code>, <code>:nsec</code>) reset cascadingly, so if only the hour is passed, then minute, sec, usec, and nsec is set to 0. If the hour and minute is passed, then sec, usec, and nsec is set to 0. The <code>options</code> parameter takes a hash with any of these keys: <code>:year</code>, <code>:month</code>, <code>:day</code>, <code>:hour</code>, <code>:min</code>, <code>:sec</code>, <code>:usec</code>, <code>:nsec</code>, <code>:offset</code>, <code>:zone</code>. Pass either <code>:usec</code> or <code>:nsec</code>, not both. Similarly, pass either <code>:zone</code> or <code>:offset</code>, not both.</p> <pre class="ruby" data-language="ruby">t = Time.zone.now          # =&gt; Fri, 14 Apr 2017 11:45:15.116992711 EST -05:00
t.change(year: 2020)       # =&gt; Tue, 14 Apr 2020 11:45:15.116992711 EST -05:00
t.change(hour: 12)         # =&gt; Fri, 14 Apr 2017 12:00:00.000000000 EST -05:00
t.change(min: 30)          # =&gt; Fri, 14 Apr 2017 11:30:00.000000000 EST -05:00
t.change(offset: "-10:00") # =&gt; Fri, 14 Apr 2017 11:45:15.116992711 HST -10:00
t.change(zone: "Hawaii")   # =&gt; Fri, 14 Apr 2017 11:45:15.116992711 HST -10:00
</pre>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-comparable_time"> <span class="method-name">comparable_time</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-utc">utc</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-dst-3F"> <span class="method-name">dst?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="dst-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 94
def dst?
  period.dst?
end</pre> </div> <p>Returns true if the current time is within Daylight Savings Time for the specified time zone.</p> <pre class="ruby" data-language="ruby">Time.zone = 'Eastern Time (US &amp; Canada)'    # =&gt; 'Eastern Time (US &amp; Canada)'
Time.zone.parse("2012-5-30").dst?           # =&gt; true
Time.zone.parse("2012-11-30").dst?          # =&gt; false
</pre>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-isdst">isdst</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-eql-3F"> <span class="method-name">eql?</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="eql-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 274
def eql?(other)
  other.eql?(utc)
end</pre> </div> <p>Returns <code>true</code> if <code>other</code> is equal to current object.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-formatted_offset"> <span class="method-name">formatted_offset</span><span class="method-args">(colon = true, alternate_utc_string = nil)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="formatted_offset-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 125
def formatted_offset(colon = true, alternate_utc_string = nil)
  utc? &amp;&amp; alternate_utc_string || TimeZone.seconds_to_utc_offset(utc_offset, colon)
end</pre> </div> <p>Returns a formatted string of the offset from UTC, or an alternative string if the time zone is already UTC.</p> <pre class="ruby" data-language="ruby">Time.zone = 'Eastern Time (US &amp; Canada)'   # =&gt; "Eastern Time (US &amp; Canada)"
Time.zone.now.formatted_offset(true)       # =&gt; "-05:00"
Time.zone.now.formatted_offset(false)      # =&gt; "-0500"
Time.zone = 'UTC'                          # =&gt; "UTC"
Time.zone.now.formatted_offset(true, "0")  # =&gt; "0"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-freeze"> <span class="method-name">freeze</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="freeze-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 523
def freeze
  # preload instance variables before freezing
  period; utc; time; to_datetime; to_time
  super
end</pre> </div> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-future-3F"> <span class="method-name">future?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="future-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 269
def future?
  utc.future?
end</pre> </div> <p>Returns true if the current object’s time is in the future.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-getgm"> <span class="method-name">getgm</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-utc">utc</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-getlocal"> <span class="method-name">getlocal</span><span class="method-args">(utc_offset = nil)</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-localtime">localtime</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-getutc"> <span class="method-name">getutc</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-utc">utc</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-gmt-3F"> <span class="method-name">gmt?</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-utc-3F">utc?</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-gmt_offset"> <span class="method-name">gmt_offset</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-utc_offset">utc_offset</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-gmtime"> <span class="method-name">gmtime</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-utc">utc</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-gmtoff"> <span class="method-name">gmtoff</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-utc_offset">utc_offset</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-hash"> <span class="method-name">hash</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="hash-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 278
def hash
  utc.hash
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-httpdate"> <span class="method-name">httpdate</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="httpdate-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 186
def httpdate
  utc.httpdate
end</pre> </div> <p>Returns a string of the object’s date and time in the format used by HTTP requests.</p> <pre class="ruby" data-language="ruby">Time.zone.now.httpdate  # =&gt; "Tue, 01 Jan 2013 04:39:43 GMT"
</pre>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-in"> <span class="method-name">in</span><span class="method-args">(other)</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-2B">+</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-in_time_zone"> <span class="method-name">in_time_zone</span><span class="method-args">(new_zone = ::Time.zone)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="in_time_zone-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 77
def in_time_zone(new_zone = ::Time.zone)
  return self if time_zone == new_zone
  utc.in_time_zone(new_zone)
end</pre> </div> <p>Returns the simultaneous time in <code>Time.zone</code>, or the specified zone.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-inspect"> <span class="method-name">inspect</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="inspect-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 140
def inspect
  "#{time.strftime('%F %H:%M:%S.%9N')} #{zone} #{formatted_offset}"
end</pre> </div> <p>Returns a string of the object’s date, time, zone, and offset from UTC.</p> <pre class="ruby" data-language="ruby">Time.zone.now.inspect # =&gt; "2024-11-13 07:00:10.528054960 UTC +00:00"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-is_a-3F"> <span class="method-name">is_a?</span><span class="method-args">(klass)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="is_a-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 509
def is_a?(klass)
  klass == ::Time || super
end</pre> </div> <p>Say we’re a <a href="../time.html"><code>Time</code></a> to thwart type checking.</p> <div class="method-calls-super"> Calls superclass method </div>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-kind_of-3F">kind_of?</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-isdst"> <span class="method-name">isdst</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-dst-3F">dst?</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-iso8601"> <span class="method-name">iso8601</span><span class="method-args">(fraction_digits = 0)</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-xmlschema">xmlschema</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-kind_of-3F"> <span class="method-name">kind_of?</span><span class="method-args">(klass)</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-is_a-3F">is_a?</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-localtime"> <span class="method-name">localtime</span><span class="method-args">(utc_offset = nil)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="localtime-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 83
def localtime(utc_offset = nil)
  utc.getlocal(utc_offset)
end</pre> </div> <p>Returns a <code>Time</code> instance of the simultaneous time in the system timezone.</p>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-getlocal">getlocal</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-marshal_dump"> <span class="method-name">marshal_dump</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="marshal_dump-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 529
def marshal_dump
  [utc, time_zone.name, time]
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-marshal_load"> <span class="method-name">marshal_load</span><span class="method-args">(variables)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="marshal_load-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 533
def marshal_load(variables)
  initialize(variables[0].utc, ::Time.find_zone(variables[1]), variables[2].utc)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-method_missing"> <span class="method-name">method_missing</span><span class="method-args">(...)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="method_missing-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 553
def method_missing(...)
  wrap_with_time_zone time.__send__(...)
rescue NoMethodError =&gt; e
  raise e, e.message.sub(time.inspect, inspect).sub("Time", "ActiveSupport::TimeWithZone"), e.backtrace
end</pre> </div> <p>Send the missing method to <code>time</code> instance, and wrap result in a new <a href="timewithzone.html"><code>TimeWithZone</code></a> with the existing <code>time_zone</code>.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-next_day-3F"> <span class="method-name">next_day?</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-tomorrow-3F">tomorrow?</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-past-3F"> <span class="method-name">past?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="past-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 244
def past?
  utc.past?
end</pre> </div> <p>Returns true if the current object’s time is in the past.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-period"> <span class="method-name">period</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="period-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 72
def period
  @period ||= time_zone.period_for_utc(@utc)
end</pre> </div> <p>Returns the underlying <code>TZInfo::TimezonePeriod</code>.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-prev_day-3F"> <span class="method-name">prev_day?</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-yesterday-3F">yesterday?</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-respond_to-3F"> <span class="method-name">respond_to?</span><span class="method-args">(sym, include_priv = false)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="respond_to-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 539
def respond_to?(sym, include_priv = false)
  # ensure that we're not going to throw and rescue from NoMethodError in method_missing which is slow
  return false if sym.to_sym == :to_str
  super
end</pre> </div> <p>respond_to_missing? is not called in some cases, such as when type conversion is performed with Kernel#String</p> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-respond_to_missing-3F"> <span class="method-name">respond_to_missing?</span><span class="method-args">(sym, include_priv)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="respond_to_missing-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 547
def respond_to_missing?(sym, include_priv)
  time.respond_to?(sym, include_priv)
end</pre> </div> <p>Ensure proxy class responds to all methods that underlying time instance responds to.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-rfc2822"> <span class="method-name">rfc2822</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="rfc2822-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 194
def rfc2822
  to_fs(:rfc822)
end</pre> </div> <p>Returns a string of the object’s date and time in the RFC 2822 standard format.</p> <pre class="ruby" data-language="ruby">Time.zone.now.rfc2822  # =&gt; "Tue, 01 Jan 2013 04:51:39 +0000"
</pre>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-rfc822">rfc822</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-rfc3339"> <span class="method-name">rfc3339</span><span class="method-args">(fraction_digits = 0)</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-xmlschema">xmlschema</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-rfc822"> <span class="method-name">rfc822</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-rfc2822">rfc2822</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-since"> <span class="method-name">since</span><span class="method-args">(other)</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-2B">+</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-strftime"> <span class="method-name">strftime</span><span class="method-args">(format)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="strftime-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 225
def strftime(format)
  format = format.gsub(/((?:\A|[^%])(?:%%)*)%Z/, "\\1#{zone}")
  getlocal(utc_offset).strftime(format)
end</pre> </div> <p>Replaces <code>%Z</code> directive with +zone before passing to Time#strftime, so that zone information is correct.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-time"> <span class="method-name">time</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="time-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 58
def time
  @time ||= incorporate_utc_offset(@utc, utc_offset)
end</pre> </div> <p>Returns a <code>Time</code> instance that represents the time in <code>time_zone</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_a"> <span class="method-name">to_a</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_a-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 453
def to_a
  [time.sec, time.min, time.hour, time.day, time.mon, time.year, time.wday, time.yday, dst?, zone]
end</pre> </div> <p>Returns <a href="../array.html"><code>Array</code></a> of parts of <a href="../time.html"><code>Time</code></a> in sequence of [seconds, minutes, hours, day, month, year, weekday, yearday, dst?, zone].</p> <pre class="ruby" data-language="ruby">now = Time.zone.now     # =&gt; Tue, 18 Aug 2015 02:29:27.485278555 UTC +00:00
now.to_a                # =&gt; [27, 29, 2, 18, 8, 2015, 2, 230, false, "UTC"]
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_datetime"> <span class="method-name">to_datetime</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_datetime-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 486
def to_datetime
  @to_datetime ||= utc.to_datetime.new_offset(Rational(utc_offset, 86_400))
end</pre> </div> <p>Returns an instance of <a href="../datetime.html"><code>DateTime</code></a> with the timezone’s UTC offset</p> <pre class="ruby" data-language="ruby">Time.zone.now.to_datetime                         # =&gt; Tue, 18 Aug 2015 02:32:20 +0000
Time.current.in_time_zone('Hawaii').to_datetime   # =&gt; Mon, 17 Aug 2015 16:32:20 -1000
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_f"> <span class="method-name">to_f</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_f-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 461
def to_f
  utc.to_f
end</pre> </div> <p>Returns the object’s date and time as a floating-point number of seconds since the Epoch (January 1, 1970 00:00 UTC).</p> <pre class="ruby" data-language="ruby">Time.zone.now.to_f # =&gt; 1417709320.285418
</pre>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-to_formatted_s"> <span class="method-name">to_formatted_s</span><span class="method-args">(format = :default)</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-to_fs">to_fs</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_fs"> <span class="method-name">to_fs</span><span class="method-args">(format = :default)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_fs-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 212
def to_fs(format = :default)
  if format == :db
    utc.to_fs(format)
  elsif formatter = ::Time::DATE_FORMATS[format]
    formatter.respond_to?(:call) ? formatter.call(self).to_s : strftime(formatter)
  else
    to_s
  end
end</pre> </div> <p>Returns a string of the object’s date and time.</p> <p>This method is aliased to <code>to_formatted_s</code>.</p> <p>Accepts an optional <code>format</code>:</p> <ul>
<li> <p><code>:default</code> - default value, mimics Ruby Time#to_s format.</p> </li>
<li> <p><code>:db</code> - format outputs time in UTC :db time. See <a href="../time.html#method-i-to_fs"><code>Time#to_fs</code></a>(:db).</p> </li>
<li> <p>Any key in <code>Time::DATE_FORMATS</code> can be used. See active_support/core_ext/time/conversions.rb.</p> </li>
</ul>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-to_formatted_s">to_formatted_s</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_i"> <span class="method-name">to_i</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_i-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 469
def to_i
  utc.to_i
end</pre> </div> <p>Returns the object’s date and time as an integer number of seconds since the Epoch (January 1, 1970 00:00 UTC).</p> <pre class="ruby" data-language="ruby">Time.zone.now.to_i # =&gt; 1417709320
</pre>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-tv_sec">tv_sec</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_r"> <span class="method-name">to_r</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_r-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 478
def to_r
  utc.to_r
end</pre> </div> <p>Returns the object’s date and time as a rational number of seconds since the Epoch (January 1, 1970 00:00 UTC).</p> <pre class="ruby" data-language="ruby">Time.zone.now.to_r # =&gt; (708854548642709/500000)
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_s"> <span class="method-name">to_s</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_s-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 200
def to_s
  "#{time.strftime("%Y-%m-%d %H:%M:%S")} #{formatted_offset(false, 'UTC')}" # mimicking Ruby Time#to_s format
end</pre> </div> <p>Returns a string of the object’s date and time.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_time"> <span class="method-name">to_time</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_time-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 493
def to_time
  if preserve_timezone == :zone
    @to_time_with_timezone ||= getlocal(time_zone)
  elsif preserve_timezone
    @to_time_with_instance_offset ||= getlocal(utc_offset)
  else
    @to_time_with_system_offset ||= getlocal
  end
end</pre> </div> <p>Returns an instance of <code>Time</code>, either with the same timezone as <code>self</code>, with the same UTC offset as <code>self</code> or in the local system timezone depending on the setting of <code>ActiveSupport.to_time_preserves_timezone</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-today-3F"> <span class="method-name">today?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="today-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 250
def today?
  time.today?
end</pre> </div> <p>Returns true if the current object’s time falls within the current day.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-tomorrow-3F"> <span class="method-name">tomorrow?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="tomorrow-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 256
def tomorrow?
  time.tomorrow?
end</pre> </div> <p>Returns true if the current object’s time falls within the next day (tomorrow).</p>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-next_day-3F">next_day?</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-tv_sec"> <span class="method-name">tv_sec</span><span class="method-args">()</span> </div> </div>  <div class="aliases"> Alias for: <a href="timewithzone.html#method-i-to_i">to_i</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-utc"> <span class="method-name">utc</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="utc-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 63
def utc
  @utc ||= incorporate_utc_offset(@time, -utc_offset)
end</pre> </div> <p>Returns a <code>Time</code> instance of the simultaneous time in the UTC timezone.</p>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-comparable_time">comparable_time</a>, <a href="timewithzone.html#method-i-getgm">getgm</a>, <a href="timewithzone.html#method-i-getutc">getutc</a>, <a href="timewithzone.html#method-i-gmtime">gmtime</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-utc-3F"> <span class="method-name">utc?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="utc-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 105
def utc?
  zone == "UTC" || zone == "UCT"
end</pre> </div> <p>Returns true if the current time zone is set to UTC.</p> <pre class="ruby" data-language="ruby">Time.zone = 'UTC'                           # =&gt; 'UTC'
Time.zone.now.utc?                          # =&gt; true
Time.zone = 'Eastern Time (US &amp; Canada)'    # =&gt; 'Eastern Time (US &amp; Canada)'
Time.zone.now.utc?                          # =&gt; false
</pre>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-gmt-3F">gmt?</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-utc_offset"> <span class="method-name">utc_offset</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="utc_offset-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 111
def utc_offset
  period.observed_utc_offset
end</pre> </div> <p>Returns the offset from current time to UTC time in seconds.</p>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-gmt_offset">gmt_offset</a>, <a href="timewithzone.html#method-i-gmtoff">gmtoff</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-xmlschema"> <span class="method-name">xmlschema</span><span class="method-args">(fraction_digits = 0)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="xmlschema-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 148
def xmlschema(fraction_digits = 0)
  "#{time.strftime(PRECISIONS[fraction_digits.to_i])}#{formatted_offset(true, 'Z')}"
end</pre> </div> <p>Returns a string of the object’s date and time in the ISO 8601 standard format.</p> <pre class="ruby" data-language="ruby">Time.zone.now.xmlschema  # =&gt; "2014-12-04T11:02:37-05:00"
</pre>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-iso8601">iso8601</a>, <a href="timewithzone.html#method-i-rfc3339">rfc3339</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-yesterday-3F"> <span class="method-name">yesterday?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="yesterday-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 263
def yesterday?
  time.yesterday?
end</pre> </div> <p>Returns true if the current object’s time falls within the previous day (yesterday).</p>  </div> <div class="aliases"> Also aliased as: <a href="timewithzone.html#method-i-prev_day-3F">prev_day?</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-zone"> <span class="method-name">zone</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="zone-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/time_with_zone.rb, line 133
def zone
  period.abbreviation
end</pre> </div> <p>Returns the time zone abbreviation.</p> <pre class="ruby" data-language="ruby">Time.zone = 'Eastern Time (US &amp; Canada)'   # =&gt; "Eastern Time (US &amp; Canada)"
Time.zone.now.zone # =&gt; "EST"
</pre>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>
