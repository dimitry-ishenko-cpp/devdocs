<h1 id="class-String" class="class"> class String </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="object.html">Object</a></dd>
</dl> <section class="description"> <p><a href="string.html"><code>String</code></a> inflections define new methods on the <a href="string.html"><code>String</code></a> class to transform names for different purposes. For instance, you can figure out the name of a table from the name of a class.</p> <pre class="ruby" data-language="ruby">'ScaleScore'.tableize # =&gt; "scale_scores"
</pre> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="constants-list"> <header> <h3>Constants</h3> </header> <dl> <dt id="BLANK_RE">BLANK_RE </dt>

<dt id="ENCODED_BLANKS">ENCODED_BLANKS </dt>

</dl> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-acts_like_string-3F"> <span class="method-name">acts_like_string?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="acts_like_string-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/behavior.rb, line 5
def acts_like_string?
  true
end</pre> </div> <p>Enables more predictable duck-typing on String-like classes. See <code>Object#acts_like?</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-at"> <span class="method-name">at</span><span class="method-args">(position)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="at-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/access.rb, line 29
def at(position)
  self[position]
end</pre> </div> <p>If you pass a single integer, returns a substring of one character at that position. The first character of the string is at position 0, the next at position 1, and so on. If a range is supplied, a substring containing characters at offsets given by the range is returned. In both cases, if an offset is negative, it is counted from the end of the string. Returns <code>nil</code> if the initial offset falls outside the string. Returns an empty string if the beginning of the range is greater than the end of the string.</p> <pre class="ruby" data-language="ruby">str = "hello"
str.at(0)      # =&gt; "h"
str.at(1..3)   # =&gt; "ell"
str.at(-2)     # =&gt; "l"
str.at(-2..-1) # =&gt; "lo"
str.at(5)      # =&gt; nil
str.at(5..-1)  # =&gt; ""
</pre> <p>If a <a href="regexp.html"><code>Regexp</code></a> is given, the matching portion of the string is returned. If a <a href="string.html"><code>String</code></a> is given, that given string is returned if it occurs in the string. In both cases, <code>nil</code> is returned if there is no match.</p> <pre class="ruby" data-language="ruby">str = "hello"
str.at(/lo/) # =&gt; "lo"
str.at(/ol/) # =&gt; nil
str.at("lo") # =&gt; "lo"
str.at("ol") # =&gt; nil
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-blank-3F"> <span class="method-name">blank?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="blank-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/object/blank.rb, line 153
def blank?
  # The regexp that matches blank strings is expensive. For the case of empty
  # strings we can speed up this method (~3.5x) with an empty? call. The
  # penalty for the rest of strings is marginal.
  empty? ||
    begin
      BLANK_RE.match?(self)
    rescue Encoding::CompatibilityError
      ENCODED_BLANKS[self.encoding].match?(self)
    end
end</pre> </div> <p>A string is blank if it’s empty or contains whitespaces only:</p> <pre class="ruby" data-language="ruby">''.blank?       # =&gt; true
'   '.blank?    # =&gt; true
"\t\n\r".blank? # =&gt; true
' blah '.blank? # =&gt; false
</pre> <p>Unicode whitespace is supported:</p> <pre class="ruby" data-language="ruby">"\u00a0".blank? # =&gt; true
</pre> <p>@return [true, false]</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-camelcase"> <span class="method-name">camelcase</span><span class="method-args">(first_letter = :upper)</span> </div> </div>  <div class="aliases"> Alias for: <a href="string.html#method-i-camelize">camelize</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-camelize"> <span class="method-name">camelize</span><span class="method-args">(first_letter = :upper)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="camelize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 101
def camelize(first_letter = :upper)
  case first_letter
  when :upper
    ActiveSupport::Inflector.camelize(self, true)
  when :lower
    ActiveSupport::Inflector.camelize(self, false)
  else
    raise ArgumentError, "Invalid option, use either :upper or :lower."
  end
end</pre> </div> <p>By default, <code>camelize</code> converts strings to UpperCamelCase. If the argument to camelize is set to <code>:lower</code> then camelize produces lowerCamelCase.</p> <p><code>camelize</code> will also convert ‘/’ to ‘::’ which is useful for converting paths to namespaces.</p> <pre class="ruby" data-language="ruby">'active_record'.camelize                # =&gt; "ActiveRecord"
'active_record'.camelize(:lower)        # =&gt; "activeRecord"
'active_record/errors'.camelize         # =&gt; "ActiveRecord::Errors"
'active_record/errors'.camelize(:lower) # =&gt; "activeRecord::Errors"
</pre> <p>See <a href="activesupport/inflector.html#method-i-camelize"><code>ActiveSupport::Inflector.camelize</code></a>.</p>  </div> <div class="aliases"> Also aliased as: <a href="string.html#method-i-camelcase">camelcase</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-classify"> <span class="method-name">classify</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="classify-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 239
def classify
  ActiveSupport::Inflector.classify(self)
end</pre> </div> <p>Creates a class name from a plural table name like Rails does for table names to models. Note that this returns a string and not a class. (To convert to an actual class follow <code>classify</code> with <code>constantize</code>.)</p> <pre class="ruby" data-language="ruby">'ham_and_eggs'.classify # =&gt; "HamAndEgg"
'posts'.classify        # =&gt; "Post"
</pre> <p>See <a href="activesupport/inflector.html#method-i-classify"><code>ActiveSupport::Inflector.classify</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-constantize"> <span class="method-name">constantize</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="constantize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 73
def constantize
  ActiveSupport::Inflector.constantize(self)
end</pre> </div> <p><code>constantize</code> tries to find a declared constant with the name specified in the string. It raises a <a href="nameerror.html"><code>NameError</code></a> when the name is not in CamelCase or is not initialized.</p> <pre class="ruby" data-language="ruby">'Module'.constantize  # =&gt; Module
'Class'.constantize   # =&gt; Class
'blargle'.constantize # =&gt; NameError: wrong constant name blargle
</pre> <p>See <a href="activesupport/inflector.html#method-i-constantize"><code>ActiveSupport::Inflector.constantize</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-dasherize"> <span class="method-name">dasherize</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="dasherize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 148
def dasherize
  ActiveSupport::Inflector.dasherize(self)
end</pre> </div> <p>Replaces underscores with dashes in the string.</p> <pre class="ruby" data-language="ruby">'puni_puni'.dasherize # =&gt; "puni-puni"
</pre> <p>See <a href="activesupport/inflector.html#method-i-dasherize"><code>ActiveSupport::Inflector.dasherize</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-deconstantize"> <span class="method-name">deconstantize</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="deconstantize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 177
def deconstantize
  ActiveSupport::Inflector.deconstantize(self)
end</pre> </div> <p>Removes the rightmost segment from the constant expression in the string.</p> <pre class="ruby" data-language="ruby">'Net::HTTP'.deconstantize   # =&gt; "Net"
'::Net::HTTP'.deconstantize # =&gt; "::Net"
'String'.deconstantize      # =&gt; ""
'::String'.deconstantize    # =&gt; ""
''.deconstantize            # =&gt; ""
</pre> <p>See <a href="activesupport/inflector.html#method-i-deconstantize"><code>ActiveSupport::Inflector.deconstantize</code></a>.</p> <p>See also <code>demodulize</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-demodulize"> <span class="method-name">demodulize</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="demodulize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 162
def demodulize
  ActiveSupport::Inflector.demodulize(self)
end</pre> </div> <p>Removes the module part from the constant expression in the string.</p> <pre class="ruby" data-language="ruby">'ActiveSupport::Inflector::Inflections'.demodulize # =&gt; "Inflections"
'Inflections'.demodulize                           # =&gt; "Inflections"
'::Inflections'.demodulize                         # =&gt; "Inflections"
''.demodulize                                      # =&gt; ''
</pre> <p>See <a href="activesupport/inflector.html#method-i-demodulize"><code>ActiveSupport::Inflector.demodulize</code></a>.</p> <p>See also <code>deconstantize</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-downcase_first"> <span class="method-name">downcase_first</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="downcase_first-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 284
def downcase_first
  ActiveSupport::Inflector.downcase_first(self)
end</pre> </div> <p>Converts the first character to lowercase.</p> <pre class="ruby" data-language="ruby">'If they enjoyed The Matrix'.downcase_first # =&gt; "if they enjoyed The Matrix"
'I'.downcase_first                          # =&gt; "i"
''.downcase_first                           # =&gt; ""
</pre> <p>See <a href="activesupport/inflector.html#method-i-downcase_first"><code>ActiveSupport::Inflector.downcase_first</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-exclude-3F"> <span class="method-name">exclude?</span><span class="method-args">(string)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="exclude-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/exclude.rb, line 10
def exclude?(string)
  !include?(string)
end</pre> </div> <p>The inverse of <code>String#include?</code>. Returns true if the string does not include the other string.</p> <pre class="ruby" data-language="ruby">"hello".exclude? "lo" # =&gt; false
"hello".exclude? "ol" # =&gt; true
"hello".exclude? ?h   # =&gt; false
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-first"> <span class="method-name">first</span><span class="method-args">(limit = 1)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="first-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/access.rb, line 78
def first(limit = 1)
  self[0, limit] || raise(ArgumentError, "negative limit")
end</pre> </div> <p>Returns the first character. If a limit is supplied, returns a substring from the beginning of the string until it reaches the limit value. If the given limit is greater than or equal to the string length, returns a copy of self.</p> <pre class="ruby" data-language="ruby">str = "hello"
str.first    # =&gt; "h"
str.first(1) # =&gt; "h"
str.first(2) # =&gt; "he"
str.first(0) # =&gt; ""
str.first(6) # =&gt; "hello"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-foreign_key"> <span class="method-name">foreign_key</span><span class="method-args">(separate_class_name_and_id_with_underscore = true)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="foreign_key-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 297
def foreign_key(separate_class_name_and_id_with_underscore = true)
  ActiveSupport::Inflector.foreign_key(self, separate_class_name_and_id_with_underscore)
end</pre> </div> <p>Creates a foreign key name from a class name. <code>separate_class_name_and_id_with_underscore</code> sets whether the method should put ‘_’ between the name and ‘id’.</p> <pre class="ruby" data-language="ruby">'Message'.foreign_key        # =&gt; "message_id"
'Message'.foreign_key(false) # =&gt; "messageid"
'Admin::Post'.foreign_key    # =&gt; "post_id"
</pre> <p>See <a href="activesupport/inflector.html#method-i-foreign_key"><code>ActiveSupport::Inflector.foreign_key</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-from"> <span class="method-name">from</span><span class="method-args">(position)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="from-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/access.rb, line 46
def from(position)
  self[position, length]
end</pre> </div> <p>Returns a substring from the given position to the end of the string. If the position is negative, it is counted from the end of the string.</p> <pre class="ruby" data-language="ruby">str = "hello"
str.from(0)  # =&gt; "hello"
str.from(3)  # =&gt; "lo"
str.from(-2) # =&gt; "lo"
</pre> <p>You can mix it with <code>to</code> method and do fun things like:</p> <pre class="ruby" data-language="ruby">str = "hello"
str.from(0).to(-1) # =&gt; "hello"
str.from(1).to(-2) # =&gt; "ell"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-html_safe"> <span class="method-name">html_safe</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="html_safe-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/output_safety.rb, line 225
def html_safe
  ActiveSupport::SafeBuffer.new(self)
end</pre> </div> <p>Marks a string as trusted safe. It will be inserted into HTML with no additional escaping performed. It is your responsibility to ensure that the string contains no malicious content. This method is equivalent to the <code>raw</code> helper in views. It is recommended that you use <code>sanitize</code> instead of this method. It should never be called on user input.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-humanize"> <span class="method-name">humanize</span><span class="method-args">(capitalize: true, keep_id_suffix: false)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="humanize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 262
def humanize(capitalize: true, keep_id_suffix: false)
  ActiveSupport::Inflector.humanize(self, capitalize: capitalize, keep_id_suffix: keep_id_suffix)
end</pre> </div> <p>Capitalizes the first word, turns underscores into spaces, and (by default) strips a trailing ‘_id’ if present. Like <code>titleize</code>, this is meant for creating pretty output.</p> <p>The capitalization of the first word can be turned off by setting the optional parameter <code>capitalize</code> to false. By default, this parameter is true.</p> <p>The trailing ‘_id’ can be kept and capitalized by setting the optional parameter <code>keep_id_suffix</code> to true. By default, this parameter is false.</p> <pre class="ruby" data-language="ruby">'employee_salary'.humanize                    # =&gt; "Employee salary"
'author_id'.humanize                          # =&gt; "Author"
'author_id'.humanize(capitalize: false)       # =&gt; "author"
'_id'.humanize                                # =&gt; "Id"
'author_id'.humanize(keep_id_suffix: true)    # =&gt; "Author id"
</pre> <p>See <a href="activesupport/inflector.html#method-i-humanize"><code>ActiveSupport::Inflector.humanize</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-in_time_zone"> <span class="method-name">in_time_zone</span><span class="method-args">(zone = ::Time.zone)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="in_time_zone-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/zones.rb, line 9
def in_time_zone(zone = ::Time.zone)
  if zone
    ::Time.find_zone!(zone).parse(self)
  else
    to_time
  end
end</pre> </div> <p>Converts <a href="string.html"><code>String</code></a> to a TimeWithZone in the current zone if <a href="time.html#method-c-zone"><code>Time.zone</code></a> or <a href="time.html#attribute-c-zone_default"><code>Time.zone_default</code></a> is set, otherwise converts <a href="string.html"><code>String</code></a> to a <a href="time.html"><code>Time</code></a> via <a href="string.html#method-i-to_time"><code>String#to_time</code></a></p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-indent"> <span class="method-name">indent</span><span class="method-args">(amount, indent_string = nil, indent_empty_lines = false)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="indent-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/indent.rb, line 42
def indent(amount, indent_string = nil, indent_empty_lines = false)
  dup.tap { |_| _.indent!(amount, indent_string, indent_empty_lines) }
end</pre> </div> <p>Indents the lines in the receiver:</p> <pre class="ruby" data-language="ruby">&lt;&lt;EOS.indent(2)
def some_method
  some_code
end
EOS
# =&gt;
  def some_method
    some_code
  end
</pre> <p>The second argument, <code>indent_string</code>, specifies which indent string to use. The default is <code>nil</code>, which tells the method to make a guess by peeking at the first indented line, and fall back to a space if there is none.</p> <pre class="ruby" data-language="ruby">"  foo".indent(2)        # =&gt; "    foo"
"foo\n\t\tbar".indent(2) # =&gt; "\t\tfoo\n\t\t\t\tbar"
"foo".indent(2, "\t")    # =&gt; "\t\tfoo"
</pre> <p>While <code>indent_string</code> is typically one space or tab, it may be any string.</p> <p>The third argument, <code>indent_empty_lines</code>, is a flag that says whether empty lines should be indented. Default is false.</p> <pre class="ruby" data-language="ruby">"foo\n\nbar".indent(2)            # =&gt; "  foo\n\n  bar"
"foo\n\nbar".indent(2, nil, true) # =&gt; "  foo\n  \n  bar"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-indent-21"> <span class="method-name">indent!</span><span class="method-args">(amount, indent_string = nil, indent_empty_lines = false)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="indent-21-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/indent.rb, line 7
def indent!(amount, indent_string = nil, indent_empty_lines = false)
  indent_string = indent_string || self[/^[ \t]/] || " "
  re = indent_empty_lines ? /^/ : /^(?!$)/
  gsub!(re, indent_string * amount)
end</pre> </div> <p>Same as <code>indent</code>, except it indents the receiver in-place.</p> <p>Returns the indented string, or <code>nil</code> if there was nothing to indent.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-inquiry"> <span class="method-name">inquiry</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="inquiry-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inquiry.rb, line 13
def inquiry
  ActiveSupport::StringInquirer.new(self)
end</pre> </div> <p>Wraps the current string in the <a href="activesupport/stringinquirer.html"><code>ActiveSupport::StringInquirer</code></a> class, which gives you a prettier way to test for equality.</p> <pre class="ruby" data-language="ruby">env = 'production'.inquiry
env.production?  # =&gt; true
env.development? # =&gt; false
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-is_utf8-3F"> <span class="method-name">is_utf8?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="is_utf8-3F-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/multibyte.rb, line 48
def is_utf8?
  case encoding
  when Encoding::UTF_8, Encoding::US_ASCII
    valid_encoding?
  when Encoding::ASCII_8BIT
    dup.force_encoding(Encoding::UTF_8).valid_encoding?
  else
    false
  end
end</pre> </div> <p>Returns <code>true</code> if string has utf_8 encoding.</p> <pre class="ruby" data-language="ruby">utf_8_str = "some string".encode "UTF-8"
iso_str = "some string".encode "ISO-8859-1"

utf_8_str.is_utf8? # =&gt; true
iso_str.is_utf8?   # =&gt; false
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-last"> <span class="method-name">last</span><span class="method-args">(limit = 1)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="last-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/access.rb, line 92
def last(limit = 1)
  self[[length - limit, 0].max, limit] || raise(ArgumentError, "negative limit")
end</pre> </div> <p>Returns the last character of the string. If a limit is supplied, returns a substring from the end of the string until it reaches the limit value (counting backwards). If the given limit is greater than or equal to the string length, returns a copy of self.</p> <pre class="ruby" data-language="ruby">str = "hello"
str.last    # =&gt; "o"
str.last(1) # =&gt; "o"
str.last(2) # =&gt; "lo"
str.last(0) # =&gt; ""
str.last(6) # =&gt; "hello"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-mb_chars"> <span class="method-name">mb_chars</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="mb_chars-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/multibyte.rb, line 37
def mb_chars
  ActiveSupport::Multibyte.proxy_class.new(self)
end</pre> </div> <h2 id="method-i-mb_chars-label-Multibyte+proxy">Multibyte proxy</h2> <p><code>mb_chars</code> is a multibyte safe proxy for string methods.</p> <p>It creates and returns an instance of the <a href="activesupport/multibyte/chars.html"><code>ActiveSupport::Multibyte::Chars</code></a> class which encapsulates the original string. A Unicode safe version of all the <a href="string.html"><code>String</code></a> methods are defined on this proxy class. If the proxy class doesn’t respond to a certain method, it’s forwarded to the encapsulated string.</p> <pre>&gt;&gt; "ǉ".mb_chars.upcase.to_s
=&gt; "Ǉ"</pre> <p>NOTE: Ruby 2.4 and later support native Unicode case mappings:</p> <pre>&gt;&gt; "ǉ".upcase
=&gt; "Ǉ"</pre> <h2 id="method-i-mb_chars-label-Method+chaining">Method chaining</h2> <p>All the methods on the Chars proxy which normally return a string will return a Chars object. This allows method chaining on the result of any of these methods.</p> <pre class="ruby" data-language="ruby">name.mb_chars.reverse.length # =&gt; 12
</pre> <h2 id="method-i-mb_chars-label-Interoperability+and+configuration">Interoperability and configuration</h2> <p>The Chars object tries to be as interchangeable with <a href="string.html"><code>String</code></a> objects as possible: sorting and comparing between <a href="string.html"><code>String</code></a> and Char work like expected. The bang! methods change the internal string representation in the Chars object. Interoperability problems can be resolved easily with a <code>to_s</code> call.</p> <p>For more information about the methods defined on the Chars proxy see <a href="activesupport/multibyte/chars.html"><code>ActiveSupport::Multibyte::Chars</code></a>. For information about how to change the default Multibyte behavior see <a href="activesupport/multibyte.html"><code>ActiveSupport::Multibyte</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-parameterize"> <span class="method-name">parameterize</span><span class="method-args">(separator: "-", preserve_case: false, locale: nil)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="parameterize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 215
def parameterize(separator: "-", preserve_case: false, locale: nil)
  ActiveSupport::Inflector.parameterize(self, separator: separator, preserve_case: preserve_case, locale: locale)
end</pre> </div> <p>Replaces special characters in a string so that it may be used as part of a ‘pretty’ URL.</p> <p>If the optional parameter <code>locale</code> is specified, the word will be parameterized as a word of that language. By default, this parameter is set to <code>nil</code> and it will use the configured <code>I18n.locale</code>.</p> <pre>class Person
  def to_param
    "#{id}-#{name.parameterize}"
  end
end

@person = Person.find(1)
# =&gt; #&lt;Person id: 1, name: "Donald E. Knuth"&gt;

&lt;%= link_to(@person.name, person_path) %&gt;
# =&gt; &lt;a href="/person/1-donald-e-knuth.html"&gt;Donald E. Knuth&lt;/a&gt;</pre> <p>To preserve the case of the characters in a string, use the <code>preserve_case</code> argument.</p> <pre>class Person
  def to_param
    "#{id}-#{name.parameterize(preserve_case: true)}"
  end
end

@person = Person.find(1)
# =&gt; #&lt;Person id: 1, name: "Donald E. Knuth"&gt;

&lt;%= link_to(@person.name, person_path) %&gt;
# =&gt; &lt;a href="/person/1-Donald-E-Knuth.html"&gt;Donald E. Knuth&lt;/a&gt;</pre> <p>See <a href="activesupport/inflector.html#method-i-parameterize"><code>ActiveSupport::Inflector.parameterize</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-pluralize"> <span class="method-name">pluralize</span><span class="method-args">(count = nil, locale = :en)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="pluralize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 35
def pluralize(count = nil, locale = :en)
  locale = count if count.is_a?(Symbol)
  if count == 1
    dup
  else
    ActiveSupport::Inflector.pluralize(self, locale)
  end
end</pre> </div> <p>Returns the plural form of the word in the string.</p> <p>If the optional parameter <code>count</code> is specified, the singular form will be returned if <code>count == 1</code>. For any other value of <code>count</code> the plural will be returned.</p> <p>If the optional parameter <code>locale</code> is specified, the word will be pluralized as a word of that language. By default, this parameter is set to <code>:en</code>. You must define your own inflection rules for languages other than English.</p> <pre class="ruby" data-language="ruby">'post'.pluralize             # =&gt; "posts"
'octopus'.pluralize          # =&gt; "octopi"
'sheep'.pluralize            # =&gt; "sheep"
'words'.pluralize            # =&gt; "words"
'the blue mailman'.pluralize # =&gt; "the blue mailmen"
'CamelOctopus'.pluralize     # =&gt; "CamelOctopi"
'apple'.pluralize(1)         # =&gt; "apple"
'apple'.pluralize(2)         # =&gt; "apples"
'ley'.pluralize(:es)         # =&gt; "leyes"
'ley'.pluralize(1, :es)      # =&gt; "ley"
</pre> <p>See <a href="activesupport/inflector.html#method-i-pluralize"><code>ActiveSupport::Inflector.pluralize</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-remove"> <span class="method-name">remove</span><span class="method-args">(*patterns)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="remove-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/filters.rb, line 32
def remove(*patterns)
  dup.remove!(*patterns)
end</pre> </div> <p>Returns a new string with all occurrences of the patterns removed.</p> <pre class="ruby" data-language="ruby">str = "foo bar test"
str.remove(" test")                 # =&gt; "foo bar"
str.remove(" test", /bar/)          # =&gt; "foo "
str                                 # =&gt; "foo bar test"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-remove-21"> <span class="method-name">remove!</span><span class="method-args">(*patterns)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="remove-21-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/filters.rb, line 40
def remove!(*patterns)
  patterns.each do |pattern|
    gsub! pattern, ""
  end

  self
end</pre> </div> <p>Alters the string by removing all occurrences of the patterns.</p> <pre class="ruby" data-language="ruby">str = "foo bar test"
str.remove!(" test", /bar/)         # =&gt; "foo "
str                                 # =&gt; "foo "
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-safe_constantize"> <span class="method-name">safe_constantize</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="safe_constantize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 86
def safe_constantize
  ActiveSupport::Inflector.safe_constantize(self)
end</pre> </div> <p><code>safe_constantize</code> tries to find a declared constant with the name specified in the string. It returns <code>nil</code> when the name is not in CamelCase or is not initialized.</p> <pre class="ruby" data-language="ruby">'Module'.safe_constantize  # =&gt; Module
'Class'.safe_constantize   # =&gt; Class
'blargle'.safe_constantize # =&gt; nil
</pre> <p>See <a href="activesupport/inflector.html#method-i-safe_constantize"><code>ActiveSupport::Inflector.safe_constantize</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-singularize"> <span class="method-name">singularize</span><span class="method-args">(locale = :en)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="singularize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 60
def singularize(locale = :en)
  ActiveSupport::Inflector.singularize(self, locale)
end</pre> </div> <p>The reverse of <code>pluralize</code>, returns the singular form of a word in a string.</p> <p>If the optional parameter <code>locale</code> is specified, the word will be singularized as a word of that language. By default, this parameter is set to <code>:en</code>. You must define your own inflection rules for languages other than English.</p> <pre class="ruby" data-language="ruby">'posts'.singularize            # =&gt; "post"
'octopi'.singularize           # =&gt; "octopus"
'sheep'.singularize            # =&gt; "sheep"
'word'.singularize             # =&gt; "word"
'the blue mailmen'.singularize # =&gt; "the blue mailman"
'CamelOctopi'.singularize      # =&gt; "CamelOctopus"
'leyes'.singularize(:es)       # =&gt; "ley"
</pre> <p>See <a href="activesupport/inflector.html#method-i-singularize"><code>ActiveSupport::Inflector.singularize</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-squish"> <span class="method-name">squish</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="squish-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/filters.rb, line 13
def squish
  dup.squish!
end</pre> </div> <p>Returns the string, first removing all whitespace on both ends of the string, and then changing remaining consecutive whitespace groups into one space each.</p> <p>Note that it handles both ASCII and Unicode whitespace.</p> <pre class="ruby" data-language="ruby">%{ Multi-line
   string }.squish                   # =&gt; "Multi-line string"
" foo   bar    \n   \t   boo".squish # =&gt; "foo bar boo"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-squish-21"> <span class="method-name">squish!</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="squish-21-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/filters.rb, line 21
def squish!
  gsub!(/[[:space:]]+/, " ")
  strip!
  self
end</pre> </div> <p>Performs a destructive squish. See <a href="string.html#method-i-squish"><code>String#squish</code></a>.</p> <pre class="ruby" data-language="ruby">str = " foo   bar    \n   \t   boo"
str.squish!                         # =&gt; "foo bar boo"
str                                 # =&gt; "foo bar boo"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-strip_heredoc"> <span class="method-name">strip_heredoc</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="strip_heredoc-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/strip.rb, line 22
def strip_heredoc
  gsub(/^#{scan(/^[ \t]*(?=\S)/).min}/, "").tap do |stripped|
    stripped.freeze if frozen?
  end
end</pre> </div> <p>Strips indentation in heredocs.</p> <p>For example in</p> <pre class="ruby" data-language="ruby">if options[:usage]
  puts &lt;&lt;-USAGE.strip_heredoc
    This command does such and such.

    Supported options are:
      -h         This message
      ...
  USAGE
end
</pre> <p>the user would see the usage message aligned against the left margin.</p> <p>Technically, it looks for the least indented non-empty line in the whole string, and removes that amount of leading whitespace.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-tableize"> <span class="method-name">tableize</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="tableize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 227
def tableize
  ActiveSupport::Inflector.tableize(self)
end</pre> </div> <p>Creates the name of a table like Rails does for models to table names. This method uses the <code>pluralize</code> method on the last word in the string.</p> <pre class="ruby" data-language="ruby">'RawScaledScorer'.tableize # =&gt; "raw_scaled_scorers"
'ham_and_egg'.tableize     # =&gt; "ham_and_eggs"
'fancyCategory'.tableize   # =&gt; "fancy_categories"
</pre> <p>See <a href="activesupport/inflector.html#method-i-tableize"><code>ActiveSupport::Inflector.tableize</code></a>.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-titlecase"> <span class="method-name">titlecase</span><span class="method-args">(keep_id_suffix: false)</span> </div> </div>  <div class="aliases"> Alias for: <a href="string.html#method-i-titleize">titleize</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-titleize"> <span class="method-name">titleize</span><span class="method-args">(keep_id_suffix: false)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="titleize-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 126
def titleize(keep_id_suffix: false)
  ActiveSupport::Inflector.titleize(self, keep_id_suffix: keep_id_suffix)
end</pre> </div> <p>Capitalizes all the words and replaces some characters in the string to create a nicer looking title. <code>titleize</code> is meant for creating pretty output. It is not used in the Rails internals.</p> <p>The trailing ‘_id’,‘Id’.. can be kept and capitalized by setting the optional parameter <code>keep_id_suffix</code> to true. By default, this parameter is false.</p> <pre class="ruby" data-language="ruby">'man from the boondocks'.titleize                       # =&gt; "Man From The Boondocks"
'x-men: the last stand'.titleize                        # =&gt; "X Men: The Last Stand"
'string_ending_with_id'.titleize(keep_id_suffix: true)  # =&gt; "String Ending With Id"
</pre> <p>See <a href="activesupport/inflector.html#method-i-titleize"><code>ActiveSupport::Inflector.titleize</code></a>.</p>  </div> <div class="aliases"> Also aliased as: <a href="string.html#method-i-titlecase">titlecase</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to"> <span class="method-name">to</span><span class="method-args">(position)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/access.rb, line 63
def to(position)
  position += size if position &lt; 0
  self[0, position + 1] || +""
end</pre> </div> <p>Returns a substring from the beginning of the string to the given position. If the position is negative, it is counted from the end of the string.</p> <pre class="ruby" data-language="ruby">str = "hello"
str.to(0)  # =&gt; "h"
str.to(3)  # =&gt; "hell"
str.to(-2) # =&gt; "hell"
</pre> <p>You can mix it with <code>from</code> method and do fun things like:</p> <pre class="ruby" data-language="ruby">str = "hello"
str.from(0).to(-1) # =&gt; "hello"
str.from(1).to(-2) # =&gt; "ell"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_date"> <span class="method-name">to_date</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_date-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/conversions.rb, line 47
def to_date
  ::Date.parse(self, false) unless blank?
end</pre> </div> <p>Converts a string to a <a href="date.html"><code>Date</code></a> value.</p> <pre class="ruby" data-language="ruby">"1-1-2012".to_date   # =&gt; Sun, 01 Jan 2012
"01/01/2012".to_date # =&gt; Sun, 01 Jan 2012
"2012-12-13".to_date # =&gt; Thu, 13 Dec 2012
"12/13/2012".to_date # =&gt; ArgumentError: invalid date
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_datetime"> <span class="method-name">to_datetime</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_datetime-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/conversions.rb, line 57
def to_datetime
  ::DateTime.parse(self, false) unless blank?
end</pre> </div> <p>Converts a string to a <a href="datetime.html"><code>DateTime</code></a> value.</p> <pre class="ruby" data-language="ruby">"1-1-2012".to_datetime            # =&gt; Sun, 01 Jan 2012 00:00:00 +0000
"01/01/2012 23:59:59".to_datetime # =&gt; Sun, 01 Jan 2012 23:59:59 +0000
"2012-12-13 12:50".to_datetime    # =&gt; Thu, 13 Dec 2012 12:50:00 +0000
"12/13/2012".to_datetime          # =&gt; ArgumentError: invalid date
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-to_time"> <span class="method-name">to_time</span><span class="method-args">(form = :local)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="to_time-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/conversions.rb, line 22
def to_time(form = :local)
  parts = Date._parse(self, false)
  used_keys = %i(year mon mday hour min sec sec_fraction offset)
  return if !parts.keys.intersect?(used_keys)

  now = Time.now
  time = Time.new(
    parts.fetch(:year, now.year),
    parts.fetch(:mon, now.month),
    parts.fetch(:mday, now.day),
    parts.fetch(:hour, 0),
    parts.fetch(:min, 0),
    parts.fetch(:sec, 0) + parts.fetch(:sec_fraction, 0),
    parts.fetch(:offset, form == :utc ? 0 : nil)
  )

  form == :utc ? time.utc : time.to_time
end</pre> </div> <p>Converts a string to a <a href="time.html"><code>Time</code></a> value. The <code>form</code> can be either <code>:utc</code> or <code>:local</code> (default <code>:local</code>).</p> <p>The time is parsed using Time.parse method. If <code>form</code> is <code>:local</code>, then the time is in the system timezone. If the date part is missing then the current date is used and if the time part is missing then it is assumed to be 00:00:00.</p> <pre class="ruby" data-language="ruby">"13-12-2012".to_time               # =&gt; 2012-12-13 00:00:00 +0100
"06:12".to_time                    # =&gt; 2012-12-13 06:12:00 +0100
"2012-12-13 06:12".to_time         # =&gt; 2012-12-13 06:12:00 +0100
"2012-12-13T06:12".to_time         # =&gt; 2012-12-13 06:12:00 +0100
"2012-12-13T06:12".to_time(:utc)   # =&gt; 2012-12-13 06:12:00 UTC
"12/13/2012".to_time               # =&gt; ArgumentError: argument out of range
"1604326192".to_time               # =&gt; ArgumentError: argument out of range
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-truncate"> <span class="method-name">truncate</span><span class="method-args">(truncate_to, options = {})</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="truncate-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/filters.rb, line 70
def truncate(truncate_to, options = {})
  return dup unless length &gt; truncate_to

  omission = options[:omission] || "..."
  length_with_room_for_omission = truncate_to - omission.length
  stop = \
    if options[:separator]
      rindex(options[:separator], length_with_room_for_omission) || length_with_room_for_omission
    else
      length_with_room_for_omission
    end

  +"#{self[0, stop]}#{omission}"
end</pre> </div> <p>Truncates a given <code>text</code> to length <code>truncate_to</code> if <code>text</code> is longer than <code>truncate_to</code>:</p> <pre class="ruby" data-language="ruby">'Once upon a time in a world far far away'.truncate(27)
# =&gt; "Once upon a time in a wo..."
</pre> <p>Pass a string or regexp <code>:separator</code> to truncate <code>text</code> at a natural break:</p> <pre class="ruby" data-language="ruby">'Once upon a time in a world far far away'.truncate(27, separator: ' ')
# =&gt; "Once upon a time in a..."

'Once upon a time in a world far far away'.truncate(27, separator: /\s/)
# =&gt; "Once upon a time in a..."
</pre> <p>The last characters will be replaced with the <code>:omission</code> string (defaults to “…”). The total length will not exceed <code>truncate_to</code> unless both <code>text</code> and <code>:omission</code> are longer than <code>truncate_to</code>:</p> <pre class="ruby" data-language="ruby">'And they found that many people were sleeping better.'.truncate(25, omission: '... (continued)')
# =&gt; "And they f... (continued)"

'And they found that many people were sleeping better.'.truncate(4, omission: '... (continued)')
# =&gt; "... (continued)"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-truncate_bytes"> <span class="method-name">truncate_bytes</span><span class="method-args">(truncate_to, omission: "…")</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="truncate_bytes-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/filters.rb, line 101
def truncate_bytes(truncate_to, omission: "…")
  omission ||= ""

  case
  when bytesize &lt;= truncate_to
    dup
  when omission.bytesize &gt; truncate_to
    raise ArgumentError, "Omission #{omission.inspect} is #{omission.bytesize}, larger than the truncation length of #{truncate_to} bytes"
  when omission.bytesize == truncate_to
    omission.dup
  else
    self.class.new.force_encoding(encoding).tap do |cut|
      cut_at = truncate_to - omission.bytesize

      each_grapheme_cluster do |grapheme|
        if cut.bytesize + grapheme.bytesize &lt;= cut_at
          cut &lt;&lt; grapheme
        else
          break
        end
      end

      cut &lt;&lt; omission
    end
  end
end</pre> </div> <p>Truncates <code>text</code> to at most <code>truncate_to</code> bytes in length without breaking string encoding by splitting multibyte characters or breaking grapheme clusters (“perceptual characters”) by truncating at combining characters.</p> <pre>&gt;&gt; "🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪".size
=&gt; 20
&gt;&gt; "🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪".bytesize
=&gt; 80
&gt;&gt; "🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪🔪".truncate_bytes(20)
=&gt; "🔪🔪🔪🔪…"</pre> <p>The truncated text ends with the <code>:omission</code> string, defaulting to “…”, for a total length not exceeding <code>truncate_to</code>.</p> <p>Raises <code>ArgumentError</code> when the bytesize of <code>:omission</code> exceeds <code>truncate_to</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-truncate_words"> <span class="method-name">truncate_words</span><span class="method-args">(words_count, options = {})</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="truncate_words-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/filters.rb, line 142
def truncate_words(words_count, options = {})
  sep = options[:separator] || /\s+/
  sep = Regexp.escape(sep.to_s) unless Regexp === sep
  if self =~ /\A((?&gt;.+?#{sep}){#{words_count - 1}}.+?)#{sep}.*/m
    $1 + (options[:omission] || "...")
  else
    dup
  end
end</pre> </div> <p>Truncates a given <code>text</code> after a given number of words (<code>words_count</code>):</p> <pre class="ruby" data-language="ruby">'Once upon a time in a world far far away'.truncate_words(4)
# =&gt; "Once upon a time..."
</pre> <p>Pass a string or regexp <code>:separator</code> to specify a different separator of words:</p> <pre class="ruby" data-language="ruby">'Once&lt;br&gt;upon&lt;br&gt;a&lt;br&gt;time&lt;br&gt;in&lt;br&gt;a&lt;br&gt;world'.truncate_words(5, separator: '&lt;br&gt;')
# =&gt; "Once&lt;br&gt;upon&lt;br&gt;a&lt;br&gt;time&lt;br&gt;in..."
</pre> <p>The last characters will be replaced with the <code>:omission</code> string (defaults to “…”):</p> <pre class="ruby" data-language="ruby">'And they found that many people were sleeping better.'.truncate_words(5, omission: '... (continued)')
# =&gt; "And they found that many... (continued)"
</pre>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-underscore"> <span class="method-name">underscore</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="underscore-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 139
def underscore
  ActiveSupport::Inflector.underscore(self)
end</pre> </div> <p>The reverse of <code>camelize</code>. Makes an underscored, lowercase form from the expression in the string.</p> <p><code>underscore</code> will also change ‘::’ to ‘/’ to convert namespaces to paths.</p> <pre class="ruby" data-language="ruby">'ActiveModel'.underscore         # =&gt; "active_model"
'ActiveModel::Errors'.underscore # =&gt; "active_model/errors"
</pre> <p>See <a href="activesupport/inflector.html#method-i-underscore"><code>ActiveSupport::Inflector.underscore</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-upcase_first"> <span class="method-name">upcase_first</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="upcase_first-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/core_ext/string/inflections.rb, line 273
def upcase_first
  ActiveSupport::Inflector.upcase_first(self)
end</pre> </div> <p>Converts the first character to uppercase.</p> <pre class="ruby" data-language="ruby">'what a Lovely Day'.upcase_first # =&gt; "What a Lovely Day"
'w'.upcase_first                 # =&gt; "W"
''.upcase_first                  # =&gt; ""
</pre> <p>See <a href="activesupport/inflector.html#method-i-upcase_first"><code>ActiveSupport::Inflector.upcase_first</code></a>.</p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2004&ndash;2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>
