  <div id="layout"> <div id="layout-content"><div id="function.ignore-user-abort" class="refentry"> <div class="refnamediv"> <h1 class="refname">ignore_user_abort</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">ignore_user_abort</span> â€” <span class="dc-title">Set whether a client disconnect should abort script execution</span></p> </div> <div class="refsect1 description" id="refsect1-function.ignore-user-abort-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">ignore_user_abort(?bool $enable = null): int</pre> <p class="para rdfs-comment"> Sets whether a client disconnect should cause a script to be aborted. </p> <p class="para"> When running PHP as a command line script, and the script's tty goes away without the script being terminated then the script will die the next time it tries to write anything, unless <code class="parameter">enable</code> is set to <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong> </p> </div> <div class="refsect1 parameters" id="refsect1-function.ignore-user-abort-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt><code class="parameter">enable</code></dt> <dd> <p class="para"> If set and not <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong>, this function will set the <a href="https://www.php.net/manual/en/misc.configuration.php#ini.ignore-user-abort" class="link">ignore_user_abort</a> ini setting to the given <code class="parameter">enable</code>. Otherwise, this function will only return the previous setting without changing it. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.ignore-user-abort-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns the previous setting, as an integer. </p> </div> <div class="refsect1 changelog" id="refsect1-function.ignore-user-abort-changelog"> <h3 class="title">Changelog</h3> <table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.0.0</td> <td> <code class="parameter">enable</code> is nullable now. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.ignore-user-abort-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-3600"> <p><strong>Example #1 A <span class="function"><strong>ignore_user_abort()</strong></span> example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// Ignore user aborts and allow the script
// to run forever
ignore_user_abort(true);
set_time_limit(0);

echo 'Testing connection handling in PHP';

// Run a pointless loop that sometime 
// hopefully will make us click away from 
// page or click the "Stop" button.
while(1)
{
    // Did the connection fail?
    if(connection_status() != CONNECTION_NORMAL)
    {
        break;
    }

    // Sleep for 10 seconds
    sleep(10);
}

// If this is reached, then the 'break' 
// was triggered from inside the while loop

// So here we can log, or perform any other tasks
// we need without actually being dependent on the 
// browser.
?&gt;</pre> </div> </div> </div> <div class="refsect1 notes" id="refsect1-function.ignore-user-abort-notes"> <h3 class="title">Notes</h3> <p class="para"> PHP will not detect that the user has aborted the connection until an attempt is made to send information to the client. Simply using an echo statement does not guarantee that information is sent, see <span class="function"><a href="function.flush.html" class="function">flush()</a></span>. </p> </div> <div class="refsect1 seealso" id="refsect1-function.ignore-user-abort-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li><span class="function"><a href="function.connection-aborted.html" class="function" rel="rdfs-seeAlso">connection_aborted()</a> - Check whether client disconnected</span></li> <li><span class="function"><a href="function.connection-status.html" class="function" rel="rdfs-seeAlso">connection_status()</a> - Returns connection status bitfield</span></li> <li> <a href="https://www.php.net/manual/en/features.connection-handling.php" class="link">Connection Handling</a> for a complete description of connection handling in PHP. </li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.ignore-user-abort.php" class="_attribution-link">https://www.php.net/manual/en/function.ignore-user-abort.php</a>
  </p>
</div>
