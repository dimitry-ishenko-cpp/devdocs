  <div id="layout"> <div id="layout-content"><div id="pharfileinfo.compress" class="refentry"> <div class="refnamediv"> <h1 class="refname">PharFileInfo::compress</h1> <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8, PECL phar &gt;= 2.0.0)</p>
<p class="refpurpose"><span class="refname">PharFileInfo::compress</span> â€” <span class="dc-title">Compresses the current Phar entry with either zlib or bzip2 compression</span></p> </div> <div class="refsect1 description" id="refsect1-pharfileinfo.compress-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">public PharFileInfo::compress(int $compression): bool</pre> <p class="para rdfs-comment"> This method compresses the file inside the Phar archive using either bzip2 compression or zlib compression. The <a href="https://www.php.net/manual/en/ref.bzip2.php" class="link">bzip2</a> or <a href="https://www.php.net/manual/en/ref.zlib.php" class="link">zlib</a> extension must be enabled to take advantage of this feature. In addition, if the file is already compressed, the respective extension must be enabled in order to decompress the file. As with all functionality that modifies the contents of a phar, the <a href="https://www.php.net/manual/en/phar.configuration.php#ini.phar.readonly" class="link">phar.readonly</a> INI variable must be off in order to succeed if the file is within a <span class="classname"><a href="class.phar.html" class="classname">Phar</a></span> archive. Files within <span class="classname"><a href="class.phardata.html" class="classname">PharData</a></span> archives do not have this restriction. </p> </div> <div class="refsect1 parameters" id="refsect1-pharfileinfo.compress-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">compression</code>
</dt> <dd> <p class="para"> Compression must be <strong><code>Phar::GZ</code></strong> or <strong><code>Phar::BZ2</code></strong>. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-pharfileinfo.compress-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>true</code></strong> on success or <strong><code>false</code></strong> on failure. </p> </div> <div class="refsect1 errors" id="refsect1-pharfileinfo.compress-errors"> <h3 class="title">Errors/Exceptions</h3> <p class="para"> Throws <span class="classname"><a href="class.badmethodcallexception.html" class="classname">BadMethodCallException</a></span> if the <a href="https://www.php.net/manual/en/phar.configuration.php#ini.phar.readonly" class="link">phar.readonly</a> INI variable is on, or if the <a href="https://www.php.net/manual/en/ref.bzip2.php" class="link">bzip2</a>/<a href="https://www.php.net/manual/en/ref.zlib.php" class="link">zlib</a> extension is not available. </p> </div> <div class="refsect1 examples" id="refsect1-pharfileinfo.compress-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-2354"> <p><strong>Example #1 A <span class="function"><strong>PharFileInfo::compress()</strong></span> example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
try {
    $p = new Phar('/path/to/my.phar', 0, 'my.phar');
    $p['myfile.txt'] = 'hi';
    $file = $p['myfile.txt'];
    var_dump($file-&gt;isCompressed(Phar::BZ2));
    $p['myfile.txt']-&gt;compress(Phar::BZ2);
    var_dump($file-&gt;isCompressed(Phar::BZ2));
} catch (Exception $e) {
    echo 'Create/modify operations on my.phar failed: ', $e;
}
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
bool(false)
bool(true)
</pre></div> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-pharfileinfo.compress-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="pharfileinfo.getcompressedsize.html" class="function" rel="rdfs-seeAlso">PharFileInfo::getCompressedSize()</a> - Returns the actual size of the file (with compression) inside the Phar archive</span></li> <li class="member"><span class="function"><a href="pharfileinfo.iscompressed.html" class="function" rel="rdfs-seeAlso">PharFileInfo::isCompressed()</a> - Returns whether the entry is compressed</span></li> <li class="member"><span class="function"><a href="pharfileinfo.decompress.html" class="function" rel="rdfs-seeAlso">PharFileInfo::decompress()</a> - Decompresses the current Phar entry within the phar</span></li> <li class="member"><span class="function"><a href="phar.cancompress.html" class="function" rel="rdfs-seeAlso">Phar::canCompress()</a> - Returns whether phar extension supports compression using either zlib or bzip2</span></li> <li class="member"><span class="function"><a href="phar.iscompressed.html" class="function" rel="rdfs-seeAlso">Phar::isCompressed()</a> - Returns Phar::GZ or PHAR::BZ2 if the entire phar archive is compressed (.tar.gz/tar.bz and so on)</span></li> <li class="member"><span class="function"><a href="phar.compressfiles.html" class="function" rel="rdfs-seeAlso">Phar::compressFiles()</a> - Compresses all files in the current Phar archive</span></li> <li class="member"><span class="function"><a href="phar.decompressfiles.html" class="function" rel="rdfs-seeAlso">Phar::decompressFiles()</a> - Decompresses all files in the current Phar archive</span></li> <li class="member"><span class="function"><a href="phar.compress.html" class="function" rel="rdfs-seeAlso">Phar::compress()</a> - Compresses the entire Phar archive using Gzip or Bzip2 compression</span></li> <li class="member"><span class="function"><a href="phar.decompress.html" class="function" rel="rdfs-seeAlso">Phar::decompress()</a> - Decompresses the entire Phar archive</span></li> <li class="member"><span class="function"><a href="phar.getsupportedcompression.html" class="function" rel="rdfs-seeAlso">Phar::getSupportedCompression()</a> - Return array of supported compression algorithms</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/pharfileinfo.compress.php" class="_attribution-link">https://www.php.net/manual/en/pharfileinfo.compress.php</a>
  </p>
</div>
