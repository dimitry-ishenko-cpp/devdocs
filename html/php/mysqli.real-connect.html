  <div id="layout"> <div id="layout-content"><div id="mysqli.real-connect" class="refentry"> <div class="refnamediv"> <h1 class="refname">mysqli::real_connect</h1> <h1 class="refname">mysqli_real_connect</h1> <p class="verinfo">(PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">mysqli::real_connect</span> -- <span class="refname">mysqli_real_connect</span> â€” <span class="dc-title">Opens a connection to a mysql server</span></p> </div> <div class="refsect1 description" id="refsect1-mysqli.real-connect-description"> <h3 class="title">Description</h3> <p class="para">Object-oriented style</p> <pre class="methodsynopsis dc-description" data-language="php">public mysqli::real_connect(
 ?string $hostname = null,
 ?string $username = null,
 ?string $password = null,
 ?string $database = null,
 ?int $port = null,
 ?string $socket = null,
 int $flags = 0
): bool</pre> <p class="para rdfs-comment">Procedural style</p> <pre class="methodsynopsis dc-description" data-language="php">mysqli_real_connect(
 mysqli $mysql,
 ?string $hostname = null,
 ?string $username = null,
 ?string $password = null,
 ?string $database = null,
 ?int $port = null,
 ?string $socket = null,
 int $flags = 0
): bool</pre> <p class="para rdfs-comment"> Establish a connection to a MySQL database engine. </p> <p class="para"> This function differs from <span class="function"><a href="function.mysqli-connect.html" class="function">mysqli_connect()</a></span>: </p> <ul class="itemizedlist"> <li class="listitem"> <p class="para"> <span class="function"><strong>mysqli_real_connect()</strong></span> needs a valid object which has to be created by function <span class="function"><a href="mysqli.init.html" class="function">mysqli_init()</a></span>. </p> </li> <li class="listitem"> <p class="para"> With the <span class="function"><a href="mysqli.options.html" class="function">mysqli_options()</a></span> function you can set various options for connection. </p> </li> <li class="listitem"> <p class="para"> There is a <code class="parameter">flags</code> parameter. </p> </li> </ul> </div> <div class="refsect1 parameters" id="refsect1-mysqli.real-connect-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">mysql</code>
</dt> <dd> <p class="para">Procedural style only: A <span class="classname"><a href="class.mysqli.html" class="classname">mysqli</a></span> object returned by <span class="function"><a href="function.mysqli-connect.html" class="function">mysqli_connect()</a></span> or <span class="function"><a href="mysqli.init.html" class="function">mysqli_init()</a></span> </p>
</dd> <dt> <code class="parameter">hostname</code>
</dt> <dd> <p class="para"> Can be either a host name or an IP address. When passing <strong><code>null</code></strong>, the value is retrieved from <a href="https://www.php.net/manual/en/mysqli.configuration.php#ini.mysqli.default-host" class="link">mysqli.default_host</a>. When possible, pipes will be used instead of the TCP/IP protocol. The TCP/IP protocol is used if a host name and port number are provided together e.g. <code class="literal">localhost:3308</code>. </p> </dd> <dt> <code class="parameter">username</code>
</dt> <dd> <p class="para"> The MySQL username or <strong><code>null</code></strong> to assume the username based on the <a href="https://www.php.net/manual/en/mysqli.configuration.php#ini.mysqli.default-user" class="link">mysqli.default_user</a> ini option. </p> </dd> <dt> <code class="parameter">password</code>
</dt> <dd> <p class="para"> The MySQL password or <strong><code>null</code></strong> to assume the password based on the <a href="https://www.php.net/manual/en/mysqli.configuration.php#ini.mysqli.default-pw" class="link">mysqli.default_pw</a> ini option. </p> </dd> <dt> <code class="parameter">database</code>
</dt> <dd> <p class="para"> The default database to be used when performing queries or <strong><code>null</code></strong>. </p> </dd> <dt> <code class="parameter">port</code>
</dt> <dd> <p class="para"> The port number to attempt to connect to the MySQL server or <strong><code>null</code></strong> to assume the port based on the <a href="https://www.php.net/manual/en/mysqli.configuration.php#ini.mysqli.default-port" class="link">mysqli.default_port</a> ini option. </p> </dd> <dt> <code class="parameter">socket</code>
</dt> <dd> <p class="para"> The socket or named pipe that should be used or <strong><code>null</code></strong> to assume the socket based on the <a href="https://www.php.net/manual/en/mysqli.configuration.php#ini.mysqli.default-socket" class="link">mysqli.default_socket</a> ini option. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Specifying the <code class="parameter">socket</code> parameter will not explicitly determine the type of connection to be used when connecting to the MySQL server. How the connection is made to the MySQL database is determined by the <code class="parameter">hostname</code> parameter. </p> </blockquote> </dd> <dt> <code class="parameter">flags</code>
</dt> <dd> <p class="para"> With the parameter <code class="parameter">flags</code> you can set different connection options: </p> <table id="mysqli.real-connect.flags" class="doctable table"> <caption><strong>Supported flags</strong></caption> <thead> <tr> <th>Name</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td><strong><code>MYSQLI_CLIENT_COMPRESS</code></strong></td> <td>Use compression protocol</td> </tr> <tr> <td><strong><code>MYSQLI_CLIENT_FOUND_ROWS</code></strong></td> <td>return number of matched rows, not the number of affected rows</td> </tr> <tr> <td><strong><code>MYSQLI_CLIENT_IGNORE_SPACE</code></strong></td> <td>Allow spaces after function names. Makes all function names reserved words.</td> </tr> <tr> <td><strong><code>MYSQLI_CLIENT_INTERACTIVE</code></strong></td> <td> Allow <code class="literal">interactive_timeout</code> seconds (instead of <code class="literal">wait_timeout</code> seconds) of inactivity before closing the connection </td> </tr> <tr> <td><strong><code>MYSQLI_CLIENT_SSL</code></strong></td> <td>Use SSL (encryption)</td> </tr> <tr> <td><strong><code>MYSQLI_CLIENT_SSL_DONT_VERIFY_SERVER_CERT</code></strong></td> <td> Like <strong><code>MYSQLI_CLIENT_SSL</code></strong>, but disables validation of the provided SSL certificate. This is only for installations using MySQL Native Driver and MySQL 5.6 or later. </td> </tr> </tbody> </table> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> For security reasons the <strong><code>MULTI_STATEMENT</code></strong> flag is not supported in PHP. If you want to execute multiple queries use the <span class="function"><a href="mysqli.multi-query.html" class="function">mysqli_multi_query()</a></span> function. </p> </blockquote> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-mysqli.real-connect-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>true</code></strong> on success or <strong><code>false</code></strong> on failure. </p> </div> <div class="refsect1 errors" id="refsect1-mysqli.real-connect-errors"> <h3 class="title">Errors/Exceptions</h3> <p class="para"> If mysqli error reporting is enabled (<strong><code>MYSQLI_REPORT_ERROR</code></strong>) and the requested operation fails, a warning is generated. If, in addition, the mode is set to <strong><code>MYSQLI_REPORT_STRICT</code></strong>, a <span class="classname"><a href="class.mysqli-sql-exception.html" class="classname">mysqli_sql_exception</a></span> is thrown instead.</p> </div> <div class="refsect1 changelog" id="refsect1-mysqli.real-connect-changelog"> <h3 class="title">Changelog</h3> 
<table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>7.4.0</td> <td> All parameters are now nullable. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-mysqli.real-connect-examples"> <h3 class="title">Examples</h3> <div class="example" id="example-4457"> <p><strong>Example #1 <span class="methodname"><strong>mysqli::real_connect()</strong></span> example</strong></p> <div class="example-contents"><p>Object-oriented style</p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

$mysqli = mysqli_init();
if (!$mysqli) {
    die('mysqli_init failed');
}

if (!$mysqli-&gt;options(MYSQLI_INIT_COMMAND, 'SET AUTOCOMMIT = 0')) {
    die('Setting MYSQLI_INIT_COMMAND failed');
}

if (!$mysqli-&gt;options(MYSQLI_OPT_CONNECT_TIMEOUT, 5)) {
    die('Setting MYSQLI_OPT_CONNECT_TIMEOUT failed');
}

if (!$mysqli-&gt;real_connect('localhost', 'my_user', 'my_password', 'my_db')) {
    die('Connect Error (' . mysqli_connect_errno() . ') '
            . mysqli_connect_error());
}

echo 'Success... ' . $mysqli-&gt;host_info . "\n";

$mysqli-&gt;close();
?&gt;</pre> </div> <div class="example-contents"><p>Object-oriented style when extending mysqli class</p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

class foo_mysqli extends mysqli {
    public function __construct($host, $user, $pass, $db) {
        parent::__construct();

        if (!parent::options(MYSQLI_INIT_COMMAND, 'SET AUTOCOMMIT = 0')) {
            die('Setting MYSQLI_INIT_COMMAND failed');
        }

        if (!parent::options(MYSQLI_OPT_CONNECT_TIMEOUT, 5)) {
            die('Setting MYSQLI_OPT_CONNECT_TIMEOUT failed');
        }

        if (!parent::real_connect($host, $user, $pass, $db)) {
            die('Connect Error (' . mysqli_connect_errno() . ') '
                    . mysqli_connect_error());
        }
    }
}

$db = new foo_mysqli('localhost', 'my_user', 'my_password', 'my_db');

echo 'Success... ' . $db-&gt;host_info . "\n";

$db-&gt;close();
?&gt;</pre> </div> <div class="example-contents"><p>Procedural style</p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

$link = mysqli_init();
if (!$link) {
    die('mysqli_init failed');
}

if (!mysqli_options($link, MYSQLI_INIT_COMMAND, 'SET AUTOCOMMIT = 0')) {
    die('Setting MYSQLI_INIT_COMMAND failed');
}

if (!mysqli_options($link, MYSQLI_OPT_CONNECT_TIMEOUT, 5)) {
    die('Setting MYSQLI_OPT_CONNECT_TIMEOUT failed');
}

if (!mysqli_real_connect($link, 'localhost', 'my_user', 'my_password', 'my_db')) {
    die('Connect Error (' . mysqli_connect_errno() . ') '
            . mysqli_connect_error());
}

echo 'Success... ' . mysqli_get_host_info($link) . "\n";

mysqli_close($link);
?&gt;</pre> </div> <div class="example-contents"><p>The above examples will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Success... MySQL host info: localhost via TCP/IP
</pre></div> </div> </div> </div> <div class="refsect1 notes" id="refsect1-mysqli.real-connect-notes"> <h3 class="title">Notes</h3> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para">MySQLnd always assumes the server default charset. This charset is sent during connection hand-shake/authentication, which mysqlnd will use.</p>
<p class="para">Libmysqlclient uses the default charset set in the <var class="filename">my.cnf</var> or by an explicit call to <span class="function"><a href="mysqli.options.html" class="function">mysqli_options()</a></span> prior to calling <span class="function"><strong>mysqli_real_connect()</strong></span>, but after <span class="function"><a href="mysqli.init.html" class="function">mysqli_init()</a></span>.</p>
</blockquote> </div> <div class="refsect1 seealso" id="refsect1-mysqli.real-connect-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.mysqli-connect.html" class="function" rel="rdfs-seeAlso">mysqli_connect()</a> - Alias of mysqli::__construct</span></li> <li class="member"><span class="function"><a href="mysqli.init.html" class="function" rel="rdfs-seeAlso">mysqli_init()</a> - Initializes MySQLi and returns an object for use with mysqli_real_connect()</span></li> <li class="member"><span class="function"><a href="mysqli.options.html" class="function" rel="rdfs-seeAlso">mysqli_options()</a> - Set options</span></li> <li class="member"><span class="function"><a href="mysqli.ssl-set.html" class="function" rel="rdfs-seeAlso">mysqli_ssl_set()</a> - Used for establishing secure connections using SSL</span></li> <li class="member"><span class="function"><a href="mysqli.close.html" class="function" rel="rdfs-seeAlso">mysqli_close()</a> - Closes a previously opened database connection</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/mysqli.real-connect.php" class="_attribution-link">https://www.php.net/manual/en/mysqli.real-connect.php</a>
  </p>
</div>
