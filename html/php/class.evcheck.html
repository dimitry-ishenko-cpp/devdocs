  <div id="layout"> <div id="layout-content">
<div id="class.evcheck" class="reference"> <h1 class="title">The EvCheck class</h1>   <h2 class="title">Introduction</h2>
<p class="verinfo">(PECL ev &gt;= 0.2.0)</p> <p class="para"> <span class="classname"><a href="class.evprepare.html" class="classname">EvPrepare</a></span> and <span class="classname"><strong class="classname">EvCheck</strong></span> watchers are usually used in pairs. <span class="classname"><a href="class.evprepare.html" class="classname">EvPrepare</a></span> watchers get invoked before the process blocks, <span class="classname"><strong class="classname">EvCheck</strong></span> afterwards. </p> <p class="para"> It is not allowed to call <span class="methodname"><a href="evloop.run.html" class="methodname">EvLoop::run()</a></span> or similar methods or functions that enter the current event loop from either <span class="classname"><a href="class.evprepare.html" class="classname">EvPrepare</a></span> or <span class="classname"><strong class="classname">EvCheck</strong></span> watchers. Other loops than the current one are fine, however. The rationale behind this is that one don't need to check for recursion in those watchers, i.e. the sequence will always be: <span class="classname"><a href="class.evprepare.html" class="classname">EvPrepare</a></span> -&gt; blocking -&gt; <span class="classname"><strong class="classname">EvCheck</strong></span> , so having a watcher of each kind they will always be called in pairs bracketing the blocking call. </p> <p class="para"> The main purpose is to integrate other event mechanisms into <em>libev</em> and their use is somewhat advanced. They could be used, for example, to track variable changes, implement custom watchers, integrate net-snmp or a coroutine library and lots more. They are also occasionally useful to cache some data and want to flush it before blocking. </p> <p class="para"> It is recommended to give <span class="classname"><strong class="classname">EvCheck</strong></span> watchers highest( <strong><code>Ev::MAXPRI</code></strong> ) priority, to ensure that they are being run before any other watchers after the poll (this doesn’t matter for <span class="classname"><a href="class.evprepare.html" class="classname">EvPrepare</a></span> watchers). </p> <p class="para"> Also, <span class="classname"><strong class="classname">EvCheck</strong></span> watchers should not activate/feed events. While <em>libev</em> fully supports this, they might get executed before other <span class="classname"><strong class="classname">EvCheck</strong></span> watchers did their job. </p>   <h2 class="title">Class synopsis</h2> <div class="classsynopsis">  <div class="classsynopsisinfo"> <span class="ooclass"> <span class="modifier">class</span> <strong class="classname">EvCheck</strong> </span> <span class="ooclass"> <span class="modifier">extends</span> <a href="class.evwatcher.html" class="classname">EvWatcher</a> </span> {</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Inherited properties */</div> <div class="fieldsynopsis"> <span class="modifier">public</span> <var class="varname"><a href="class.evwatcher.html#evwatcher.props.is-active">$<var class="varname">is_active</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evwatcher.html#evwatcher.props.data">$<var class="varname">data</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evwatcher.html#evwatcher.props.is-pending">$<var class="varname">is_pending</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evwatcher.html#evwatcher.props.priority">$<var class="varname">priority</var></a></var>;</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div> <div class="constructorsynopsis dc-description"> <span class="modifier">public</span> <span class="methodname"><a href="evcheck.construct.html" class="methodname">__construct</a></span>(<span class="methodparam"> <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$callback</code> </span>, <span class="methodparam"> <span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span> <code class="parameter">$data</code> <span class="initializer"> = ?</span></span>, <span class="methodparam"> <span class="type">int</span> <code class="parameter">$priority</code> <span class="initializer"> = ?</span></span>)</div> <pre class="methodsynopsis dc-description" data-language="php">final public static createStopped( string $callback ,  string $data  = ?,  string $priority  = ?): object</pre> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Inherited methods */</div> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::clear(): int</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::feed( int $revents ): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::getLoop(): EvLoop</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::invoke( int $revents ): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::keepalive( bool $value  = ?): bool</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::setCallback( callable $callback ): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::start(): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::stop(): void</pre> }</div>   <h2>Table of Contents</h2>
<ul class="chunklist chunklist_reference">
<li>
<a href="evcheck.construct.html">EvCheck::__construct</a> — Constructs the EvCheck watcher object</li>
<li>
<a href="evcheck.createstopped.html">EvCheck::createStopped</a> — Create instance of a stopped EvCheck watcher</li>
</ul> </div> </div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/class.evcheck.php" class="_attribution-link">https://www.php.net/manual/en/class.evcheck.php</a>
  </p>
</div>
