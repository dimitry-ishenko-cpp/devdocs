  <div id="layout"> <div id="layout-content"><div id="function.imageconvolution" class="refentry"> <div class="refnamediv"> <h1 class="refname">imageconvolution</h1> <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">imageconvolution</span> â€” <span class="dc-title">Apply a 3x3 convolution matrix, using coefficient and offset</span></p> </div> <div class="refsect1 description" id="refsect1-function.imageconvolution-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">imageconvolution(
 GdImage $image,
 array $matrix,
 float $divisor,
 float $offset
): bool</pre> <p class="para rdfs-comment"> Applies a convolution matrix on the image, using the given coefficient and offset. </p> </div> <div class="refsect1 parameters" id="refsect1-function.imageconvolution-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">image</code>
</dt> <dd> <p class="para">A <span class="classname"><a href="class.gdimage.html" class="classname">GdImage</a></span> object, returned by one of the image creation functions, such as <span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>.</p>
</dd> <dt> <code class="parameter">matrix</code>
</dt> <dd> <p class="para"> A 3x3 matrix: an array of three arrays of three floats. </p> </dd> <dt> <code class="parameter">divisor</code>
</dt> <dd> <p class="para"> The divisor of the result of the convolution, used for normalization. </p> </dd> <dt> <code class="parameter">offset</code>
</dt> <dd> <p class="para"> Color offset. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.imageconvolution-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>true</code></strong> on success or <strong><code>false</code></strong> on failure. </p> </div> <div class="refsect1 changelog" id="refsect1-function.imageconvolution-changelog"> <h3 class="title">Changelog</h3> <table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.0.0</td> <td> <code class="parameter">image</code> expects a <span class="classname"><a href="class.gdimage.html" class="classname">GdImage</a></span> instance now; previously, a valid <code class="literal">gd</code> <span class="type">resource</span> was expected. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.imageconvolution-examples"> <h3 class="title">Examples</h3> 
<div class="example" id=""> <p><strong>Example #1 Embossing the PHP.net logo</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$image = imagecreatefromgif('http://www.php.net/images/php.gif');

$emboss = array(array(2, 0, 0), array(0, -1, 0), array(0, 0, -1));
imageconvolution($image, $emboss, 1, 127);

header('Content-Type: image/png');
imagepng($image, null, 9);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="mediaobject"> <div class="imageobject"> <img src="data:image/png;base64,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" alt="Output of example : Embossing the PHP.net logo" width="120" height="67"> </div> </div> </div> <div class="example" id=""> <p><strong>Example #2 Gaussian blur</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$image = imagecreatetruecolor(180,40);

// Writes the text and apply a gaussian blur on the image
imagestring($image, 5, 10, 8, 'Gaussian Blur Text', 0x00ff00);
$gaussian = array(array(1.0, 2.0, 1.0), array(2.0, 4.0, 2.0), array(1.0, 2.0, 1.0));
imageconvolution($image, $gaussian, 16, 0);

// Rewrites the text for comparison
imagestring($image, 5, 10, 18, 'Gaussian Blur Text', 0x00ff00);

header('Content-Type: image/png');
imagepng($image, null, 9);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="mediaobject"> <div class="imageobject"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAAoBAMAAAClR805AAAAMFBMVEUAAAAADwAAHwAALwAAPwAATwAAXwAAbwAAfwAAjwAAnwAArwAAvwAAzwAA3wAA/wAr3VnvAAAC8klEQVR42u2Tz08aQRTHWfTO4na9lsa0XlkgafRkwgpp4kWLNnjToBajl6o1WLz00KoxvRB+TEy9WDES4rUhvWoxhDOkDb23xANN/4Dpe9PJ7A5LE9uTB16GzcybN59578sbV9/61rc7ZUrINHq5g6rs0EzTgGDDcdoMq39B62Q/22NvgPhlx1gF4tyvMrLX/fyo8sZn3W/Yr50vRvK+W6CnmpHStLJ+2Z31btOW9VjGjigvQO2aGfYGVSXoDUF5rPR7L31MKy3ANZi6dB++hi9mpgWCIxDD/SiWoeDxkd2mLe3B+gTcHS+QGPEPkEmyR2biBSh9tOJnWj05S2VVkTWAMLOxbGqfoJuh4TjJDqWm9Xzkor0oobXwUCqRPqtPDNZ3qmZyq7wJEg23JlyjuWgt/WMOiIhoH1z7EITjau3rMsjI0XppuTQzX1w9dWQ9WgmsxHavOXrOLG9OJlSs5tFWtHXY8K6dSFmzMdXwBkXW419m35/o5RrbltDDrVmyd8HQs0IQ8INMBzeHjMUQCtwh0IKBy/beUcb97jsWJf+NmOzkcbW8MNyKLZnpD5FYtOYH9EB5M94DPf7Zuy6hIevYs0WetWbYmy9aWwX01XwxfrOSM9OnqUS0Zjz+tqEJtK35GqpeWjqW0XopkdxArdXxavKF/GQekrc7GZ1sn4sOGUp+yj2IF7bPkxlsCevJfPQp8fxOBn2ilbHBnmKH+HRCpi20QulPJRQeMZRQQPQ1LChOoH8N/sTuQxwE/1JdGgSLuimYiz8LGCH7q/d0XNTlNOGU4vDr8EsLJ8JpTgSM/0B7KMUJxfpwAQz0w8TTgYWUNRvUA25BwwUex5PdaIrRuMeO4ZpzIJrXhccsNLotNGUAR1GUJWihGdT6ingpa8A4hKLdf4XQoSMJgnOcSGgxZDSLQ6cDLenAd6kYt0Ljwpk1KwV/HYiXtUatZEGEsjKaKy3uFIbF0D90SxA+6VhoLhPTSc7aajC237e+9e2f7TdDcOYrrK8D/wAAAABJRU5ErkJggg==" alt="Output of example : Gaussian blur" width="180" height="40"> </div> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.imageconvolution-seealso"> <h3 class="title">See Also</h3> <ul class="simplelist"> <li class="member"><span class="function"><a href="function.imagefilter.html" class="function" rel="rdfs-seeAlso">imagefilter()</a> - Applies a filter to an image</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.imageconvolution.php" class="_attribution-link">https://www.php.net/manual/en/function.imageconvolution.php</a>
  </p>
</div>
