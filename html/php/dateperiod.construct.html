  <div id="layout"> <div id="layout-content"><div id="dateperiod.construct" class="refentry"> <div class="refnamediv"> <h1 class="refname">DatePeriod::__construct</h1> <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">DatePeriod::__construct</span> — <span class="dc-title">Creates a new DatePeriod object</span></p> </div> <div class="refsect1 description" id="refsect1-dateperiod.construct-description"> <h3 class="title">Description</h3> <div class="constructorsynopsis dc-description"> <span class="modifier">public</span> <span class="methodname"><strong>DatePeriod::__construct</strong></span>(<br> <span class="methodparam"><span class="type"><a href="class.datetimeinterface.html" class="type DateTimeInterface">DateTimeInterface</a></span> <code class="parameter">$start</code></span>,<br> <span class="methodparam"><span class="type"><a href="class.dateinterval.html" class="type DateInterval">DateInterval</a></span> <code class="parameter">$interval</code></span>,<br> <span class="methodparam"><span class="type">int</span> <code class="parameter">$recurrences</code></span>,<br> <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span><br>)</div> <div class="constructorsynopsis dc-description">
<span class="modifier">public</span> <span class="methodname"><strong>DatePeriod::__construct</strong></span>(<br> <span class="methodparam"><span class="type"><a href="class.datetimeinterface.html" class="type DateTimeInterface">DateTimeInterface</a></span> <code class="parameter">$start</code></span>,<br> <span class="methodparam"><span class="type"><a href="class.dateinterval.html" class="type DateInterval">DateInterval</a></span> <code class="parameter">$interval</code></span>,<br> <span class="methodparam"><span class="type"><a href="class.datetimeinterface.html" class="type DateTimeInterface">DateTimeInterface</a></span> <code class="parameter">$end</code></span>,<br> <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span><br>)</div> <div class="warning">
<strong class="warning">Warning</strong> <div class="constructorsynopsis dc-description"> <span class="modifier">public</span> <span class="methodname"><strong>DatePeriod::__construct</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$isostr</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$options</code><span class="initializer"> = 0</span></span>)</div> <p class="simpara"> This variant of the constructor has been deprecated, use <span class="methodname"><a href="dateperiod.createfromiso8601string.html" class="methodname">DatePeriod::createFromISO8601String()</a></span> instead. </p> </div> <p class="para"> Creates a new DatePeriod object. </p> <p class="para"> <span class="classname"><a href="class.dateperiod.html" class="classname">DatePeriod</a></span> objects can be used as an iterator to generate a number of <span class="classname"><a href="class.datetimeimmutable.html" class="classname">DateTimeImmutable</a></span> or <span class="classname"><a href="class.datetime.html" class="classname">DateTime</a></span> object from a <code class="parameter">start</code> date, a <code class="parameter">interval</code>, and an <code class="parameter">end</code> date or the number of <code class="parameter">recurrences</code>. </p> <p class="para"> The class of returned objects is equivalent to the <span class="classname"><a href="class.datetimeimmutable.html" class="classname">DateTimeImmutable</a></span> or <span class="classname"><a href="class.datetime.html" class="classname">DateTime</a></span> ancestor class of the <code class="parameter">start</code> object. </p> </div> <div class="refsect1 parameters" id="refsect1-dateperiod.construct-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">start</code>
</dt> <dd> <p class="para"> The start date of the period. Included by default in the result set. </p> </dd> <dt> <code class="parameter">interval</code>
</dt> <dd> <p class="para"> The interval between recurrences within the period. </p> </dd> <dt> <code class="parameter">recurrences</code>
</dt> <dd> <p class="para"> The number of recurrences. The number of returned results is one higher than this, as the start date is included in the result set by default. Must be greater than <code class="literal">0</code>. </p> </dd> <dt> <code class="parameter">end</code>
</dt> <dd> <p class="para"> The end date of the period. Excluded by default from the result set. </p> </dd> <dt> <code class="parameter">isostr</code>
</dt> <dd> <p class="para"> A subset of the <a href="http://en.wikipedia.org/wiki/Iso8601#Repeating_intervals" class="link external">» ISO 8601 repeating interval specification</a>. </p> <p class="para"> Examples of some ISO 8601 interval specification features that PHP does not support are: </p> <ol type="1"> <li class="listitem"> <span class="simpara"> zero occurrences (<code class="literal">R0/</code>) </span> </li> <li class="listitem"> <span class="simpara"> time offsets other than UTC (<code class="literal">Z</code>), such as <code class="literal">+02:00</code>. </span> </li> </ol> </dd> <dt> <code class="parameter">options</code>
</dt> <dd> <p class="para"> A bit field which can be used to control certain behaviour with start- and end- dates. </p> <p class="para"> With <strong><code>DatePeriod::EXCLUDE_START_DATE</code></strong> you exclude the start date from the set of recurring dates within the period. </p> <p class="para"> With <strong><code>DatePeriod::INCLUDE_END_DATE</code></strong> you include the end date in the set of recurring dates within the period. </p> </dd> </dl> </div> <div class="refsect1 errors" id="refsect1-dateperiod.construct-errors"> <h3 class="title">Errors/Exceptions</h3> <p class="para"> Throws an <span class="classname"><a href="class.datemalformedperiodstringexception.html" class="classname">DateMalformedPeriodStringException</a></span> when the <code class="parameter">isostr</code> cannot be parsed as a valid ISO 8601 period. Prior to PHP 8.3, this was <span class="exceptionname"><a href="class.exception.html" class="exceptionname">Exception</a></span>. </p> </div> <div class="refsect1 changelog" id="refsect1-dateperiod.construct-changelog"> <h3 class="title">Changelog</h3> 
<table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.3.0</td> <td> Now throws <span class="exceptionname"><a href="class.datemalformedperiodstringexception.html" class="exceptionname">DateMalformedPeriodStringException</a></span> instead of <span class="exceptionname"><a href="class.exception.html" class="exceptionname">Exception</a></span>. </td> </tr> <tr> <td>8.2.0</td> <td> The <strong><code>DatePeriod::INCLUDE_END_DATE</code></strong> constant has been added. </td> </tr> <tr> <td>7.2.19, 7.3.6, 7.4.0</td> <td> <code class="parameter">recurrences</code> must be greater than <code class="literal">0</code> now. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-dateperiod.construct-examples"> <h3 class="title">Examples</h3> 
<div class="example" id=""> <p><strong>Example #1 DatePeriod example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$start = new DateTime('2012-07-01');
$interval = new DateInterval('P7D');
$end = new DateTime('2012-07-31');
$recurrences = 4;
$iso = 'R4/2012-07-01T00:00:00Z/P7D';

// All of these periods are equivalent.
$period = new DatePeriod($start, $interval, $recurrences);
$period = new DatePeriod($start, $interval, $end);
$period = new DatePeriod($iso);

// By iterating over the DatePeriod object, all of the
// recurring dates within that period are printed.
foreach ($period as $date) {
    echo $date-&gt;format('Y-m-d')."\n";
}
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
2012-07-01
2012-07-08
2012-07-15
2012-07-22
2012-07-29
</pre></div> </div> </div> 
<div class="example" id=""> <p><strong>Example #2 DatePeriod example with <strong><code>DatePeriod::EXCLUDE_START_DATE</code></strong></strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$start = new DateTime('2012-07-01');
$interval = new DateInterval('P7D');
$end = new DateTime('2012-07-31');

$period = new DatePeriod($start, $interval, $end,
                         DatePeriod::EXCLUDE_START_DATE);

// By iterating over the DatePeriod object, all of the
// recurring dates within that period are printed.
// Note that, in this case, 2012-07-01 is not printed.
foreach ($period as $date) {
    echo $date-&gt;format('Y-m-d')."\n";
}
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
2012-07-08
2012-07-15
2012-07-22
2012-07-29
</pre></div> </div> </div> 
<div class="example" id=""> <p><strong>Example #3 DatePeriod example showing all last Thursdays in a year</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$begin = new DateTime('2021-12-31');
$end = new DateTime('2022-12-31 23:59:59');

$interval = DateInterval::createFromDateString('last thursday of next month');
$period = new DatePeriod($begin, $interval, $end, DatePeriod::EXCLUDE_START_DATE);

foreach ($period as $dt) {
    echo $dt-&gt;format('l Y-m-d'), "\n";
}
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Thursday 2022-01-27
Thursday 2022-02-24
Thursday 2022-03-31
Thursday 2022-04-28
Thursday 2022-05-26
Thursday 2022-06-30
Thursday 2022-07-28
Thursday 2022-08-25
Thursday 2022-09-29
Thursday 2022-10-27
Thursday 2022-11-24
Thursday 2022-12-29
</pre></div> </div> </div> </div> <div class="refsect1 notes" id="refsect1-dateperiod.construct-notes"> <h3 class="title">Notes</h3> <p class="simpara"> Unbound numbers of repetitions as specified by ISO 8601 section 4.5 "Recurring time interval" are not supported, i.e. neither passing <code class="literal">"R/..."</code> as <code class="parameter">isostr</code> nor passing <strong><code>null</code></strong> as <code class="parameter">end</code> would work. </p> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/dateperiod.construct.php" class="_attribution-link">https://www.php.net/manual/en/dateperiod.construct.php</a>
  </p>
</div>
