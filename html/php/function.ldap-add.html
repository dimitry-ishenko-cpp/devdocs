  <div id="layout"> <div id="layout-content"><div id="function.ldap-add" class="refentry"> <div class="refnamediv"> <h1 class="refname">ldap_add</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">ldap_add</span> â€” <span class="dc-title">Add entries to LDAP directory</span></p> </div> <div class="refsect1 description" id="refsect1-function.ldap-add-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">ldap_add(
 LDAP\Connection $ldap,
 string $dn,
 array $entry,
 ?array $controls = null
): bool</pre> <p class="para rdfs-comment"> Add entries in the LDAP directory. </p> </div> <div class="refsect1 parameters" id="refsect1-function.ldap-add-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt><code class="parameter">ldap</code></dt> <dd> <p class="para"> An <span class="classname"><a href="class.ldap-connection.html" class="classname">LDAP\Connection</a></span> instance, returned by <span class="function"><a href="function.ldap-connect.html" class="function">ldap_connect()</a></span>. </p> </dd> <dt><code class="parameter">dn</code></dt> <dd> <p class="para"> The distinguished name of an LDAP entity. </p> </dd> <dt><code class="parameter">entry</code></dt> <dd> <p class="para"> An array that specifies the information about the entry. The values in the entries are indexed by individual attributes. In case of multiple values for an attribute, they are indexed using integers starting with 0. </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$entry["attribute1"] = "value";
$entry["attribute2"][0] = "value1";
$entry["attribute2"][1] = "value2";
?&gt;</pre> </div> </div> </dd> <dt><code class="parameter">controls</code></dt> <dd> <p class="para"> Array of <a href="https://www.php.net/manual/en/ldap.controls.php" class="link">LDAP Controls</a> to send with the request. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.ldap-add-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong> on success or <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> on failure. </p> </div> <div class="refsect1 changelog" id="refsect1-function.ldap-add-changelog"> <h3 class="title">Changelog</h3> 
<table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.1.0</td> <td> The <code class="parameter">ldap</code> parameter expects an <span class="classname"><a href="class.ldap-connection.html" class="classname">LDAP\Connection</a></span> instance now; previously, a valid <code class="literal">ldap link</code> <a href="language.types.resource.html" class="link">resource</a> was expected. </td> </tr> <tr> <td>8.0.0</td> <td> <code class="parameter">controls</code> is nullable now; previously, it defaulted to <code class="literal">[]</code>. </td> </tr> <tr> <td>7.3.0</td> <td> Support for <code class="parameter">controls</code> added </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.ldap-add-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-4468"> <p><strong>Example #1 Complete example with authenticated bind</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$ds = ldap_connect("localhost");  // assuming the LDAP server is on this host

if ($ds) {
    // bind with appropriate dn to give update access
    $r = ldap_bind($ds, "cn=root, o=My Company, c=US", "secret");

    // prepare data
    $info["cn"] = "John Jones";
    $info["sn"] = "Jones";
    $info["objectclass"] = "person";

    // add data to directory
    $r = ldap_add($ds, "cn=John Jones, o=My Company, c=US", $info);

    ldap_close($ds);
} else {
    echo "Unable to connect to LDAP server";
}
?&gt;</pre> </div> </div> </div> <div class="refsect1 notes" id="refsect1-function.ldap-add-notes"> <h3 class="title">Notes</h3> <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function is binary-safe.</span></p></blockquote> </div> <div class="refsect1 seealso" id="refsect1-function.ldap-add-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li><span class="function"><a href="function.ldap-add-ext.html" class="function" rel="rdfs-seeAlso">ldap_add_ext()</a> - Add entries to LDAP directory</span></li> <li><span class="function"><a href="function.ldap-delete.html" class="function" rel="rdfs-seeAlso">ldap_delete()</a> - Delete an entry from a directory</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.ldap-add.php" class="_attribution-link">https://www.php.net/manual/en/function.ldap-add.php</a>
  </p>
</div>
