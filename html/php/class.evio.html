  <div id="layout"> <div id="layout-content">
<div id="class.evio" class="reference"> <h1 class="title">The EvIo class</h1>   <h2 class="title">Introduction</h2>
<p class="verinfo">(PECL ev &gt;= 0.2.0)</p> <p class="para"> <span class="classname"><strong class="classname">EvIo</strong></span> watchers check whether a file descriptor(or socket, or a stream castable to numeric file descriptor) is readable or writable in each iteration of the event loop, or, more precisely, when reading would not block the process and writing would at least be able to write some data. This behaviour is called <em>level-triggering</em> because events are kept receiving as long as the condition persists. To stop receiving events just stop the watcher. </p> <p class="para"> The number of read and/or write event watchers per <code class="parameter">fd</code> is unlimited. Setting all file descriptors to non-blocking mode is also usually a good idea(but not required). </p> <p class="para"> Another thing to watch out for is that it is quite easy to receive false readiness notifications, i.e. the callback might be called with <strong><code><a href="class.ev.html#ev.constants.read">Ev::READ</a></code></strong> but a subsequent <em>read()</em> will actually block because there is no data. It is very easy to get into this situation. Thus it is best to always use non-blocking I/O: An extra <em>read()</em> returning <strong><code>EAGAIN</code></strong> (or similar) is far preferable to a program hanging until some data arrives. </p> <p class="para"> If for some reason it is impossible to run the <code class="parameter">fd</code> in non-blocking mode, then separately re-test whether a file descriptor is really ready. Some people additionally use <strong><code><a href="https://www.php.net/manual/en/pcntl.constants.php#constant.sigalrm">SIGALRM</a></code></strong> and an interval timer, just to be sure thry won't block infinitely. </p> <p class="para"> Always consider using non-blocking mode. </p>   <h2 class="title">Class synopsis</h2> <div class="classsynopsis">  <div class="classsynopsisinfo"> <span class="ooclass"> <span class="modifier">class</span> <strong class="classname">EvIo</strong> </span> <span class="ooclass"> <span class="modifier">extends</span> <a href="class.evwatcher.html" class="classname">EvWatcher</a> </span> {</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Properties */</div> <div class="fieldsynopsis"> <span class="modifier">public</span> <var class="varname"><a href="class.evio.html#evio.props.fd">$<var class="varname">fd</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evio.html#evio.props.events">$<var class="varname">events</var></a></var>;</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Inherited properties */</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evwatcher.html#evwatcher.props.is-active">$<var class="varname">is_active</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evwatcher.html#evwatcher.props.data">$<var class="varname">data</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evwatcher.html#evwatcher.props.is-pending">$<var class="varname">is_pending</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evwatcher.html#evwatcher.props.priority">$<var class="varname">priority</var></a></var>;</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div> <div class="constructorsynopsis dc-description"> <span class="modifier">public</span> <span class="methodname"><a href="evio.construct.html" class="methodname">__construct</a></span>(<br> <span class="methodparam"> <span class="type"><a href="language.types.mixed.html" class="type mixed">mixed</a></span> <code class="parameter">$fd</code> </span>,<br> <span class="methodparam"> <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$events</code> </span>,<br> <span class="methodparam"> <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$callback</code> </span>,<br> <span class="methodparam"> <span class="type"><a href="language.types.mixed.html" class="type mixed">mixed</a></span> <code class="parameter">$data</code> <span class="initializer"> = ?</span></span>,<br> <span class="methodparam"> <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$priority</code> <span class="initializer"> = ?</span></span><br>)</div> <pre class="methodsynopsis dc-description" data-language="php">final public static createStopped(
  mixed $fd ,
  int $events ,
  callable $callback ,
  mixed $data  = null ,
  int $priority  = 0 
): EvIo</pre> <pre class="methodsynopsis dc-description" data-language="php">public set( mixed $fd ,  int $events ): void</pre> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Inherited methods */</div> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::clear(): int</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::feed( int $revents ): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::getLoop(): EvLoop</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::invoke( int $revents ): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::keepalive( bool $value  = ?): bool</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::setCallback( callable $callback ): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::start(): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::stop(): void</pre> }</div>   <h2 class="title">Properties</h2> <dl> <dt id="evio.props.fd"> <var class="varname">fd</var> </dt>  <dt id="evio.props.events"> <var class="varname">events</var> </dt>  </dl>   <h2>Table of Contents</h2>
<ul class="chunklist chunklist_reference">
<li>
<a href="evio.construct.html">EvIo::__construct</a> — Constructs EvIo watcher object</li>
<li>
<a href="evio.createstopped.html">EvIo::createStopped</a> — Create stopped EvIo watcher object</li>
<li>
<a href="evio.set.html">EvIo::set</a> — Configures the watcher</li>
</ul> </div> </div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/class.evio.php" class="_attribution-link">https://www.php.net/manual/en/class.evio.php</a>
  </p>
</div>
