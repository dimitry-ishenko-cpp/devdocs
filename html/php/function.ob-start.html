  <div id="layout"> <div id="layout-content"><div id="function.ob-start" class="refentry"> <div class="refnamediv"> <h1 class="refname">ob_start</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">ob_start</span> â€” <span class="dc-title">Turn on output buffering</span></p> </div> <div class="refsect1 description" id="refsect1-function.ob-start-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">ob_start(?callable $callback = null, int $chunk_size = 0, int $flags = PHP_OUTPUT_HANDLER_STDFLAGS): bool</pre> <p class="para rdfs-comment"> This function will turn output buffering on. While output buffering is active no output is sent from the script, instead the output is stored in an internal buffer. See <a href="https://www.php.net/manual/en/outcontrol.what-output-is-buffered.php" class="xref">What Output Is Buffered?</a> on exactly what output is affected. </p> <p class="para"> Output buffers are stackable, that is, <span class="function"><strong>ob_start()</strong></span> may be called while another buffer is active. If multiple output buffers are active, output is being filtered sequentially through each of them in nesting order. See <a href="https://www.php.net/manual/en/outcontrol.nesting-output-buffers.php" class="xref">Nesting Output Buffers</a> for more details. </p> <p class="para"> See <a href="https://www.php.net/manual/en/outcontrol.user-level-output-buffers.php" class="xref">User-Level Output Buffers</a> for a detailed description of output buffers. </p> </div> <div class="refsect1 parameters" id="refsect1-function.ob-start-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt><code class="parameter">callback</code></dt> <dd> <p class="para"> An optional <code class="parameter">callback</code> <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> may be specified. It can also be bypassed by passing <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong>. </p> <p class="para"> <code class="parameter">callback</code> is invoked when the output buffer is flushed (sent), cleaned, or when the output buffer is flushed at the end of the script. </p> <p class="para"> The signature of the <code class="parameter">callback</code> is as follows: </p> 
<pre class="methodsynopsis dc-description" data-language="php">handler(string $buffer, int $phase = ?): string</pre> <dl> <dt><code class="parameter">buffer</code></dt> <dd> <span class="simpara"> Contents of the output buffer. </span> </dd> <dt><code class="parameter">phase</code></dt> <dd> <span class="simpara"> Bitmask of <a href="https://www.php.net/manual/en/outcontrol.constants.php#constant.php-output-handler-start" class="link"> <strong><code><a href="https://www.php.net/manual/en/outcontrol.constants.php#constant.php-output-handler-start">PHP_OUTPUT_HANDLER_<span class="replaceable">*</span></a></code></strong> constants </a>. See <a href="https://www.php.net/manual/en/outcontrol.flags-passed-to-output-handlers.php" class="xref">Flags Passed To Output Handlers</a> for more details. </span> </dd> </dl> <p class="para"> If <code class="parameter">callback</code> returns <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> the contents of the buffer are returned. See <a href="https://www.php.net/manual/en/outcontrol.output-handler-return-values.php" class="xref">Output Handler Return Values</a> for more details. </p> <div class="warning">
<strong class="warning">Warning</strong> <p class="simpara"> Calling any of the following functions from within an output handler will result in a fatal error: <span class="function"><a href="function.ob-clean.html" class="function">ob_clean()</a></span>, <span class="function"><a href="function.ob-end-clean.html" class="function">ob_end_clean()</a></span>, <span class="function"><a href="function.ob-end-flush.html" class="function">ob_end_flush()</a></span>, <span class="function"><a href="function.ob-flush.html" class="function">ob_flush()</a></span>, <span class="function"><a href="function.ob-get-clean.html" class="function">ob_get_clean()</a></span>, <span class="function"><a href="function.ob-get-flush.html" class="function">ob_get_flush()</a></span>, <span class="function"><strong>ob_start()</strong></span>. </p> </div> <p class="para"> See <a href="https://www.php.net/manual/en/outcontrol.output-handlers.php" class="xref">Output Handlers</a> and <a href="https://www.php.net/manual/en/outcontrol.working-with-output-handlers.php" class="xref">Working With Output Handlers</a> for more details on <code class="parameter">callback</code>s (output handlers). </p> </dd> <dt><code class="parameter">chunk_size</code></dt> <dd> <p class="para"> If the optional parameter <code class="parameter">chunk_size</code> is passed, the buffer will be flushed after any block of code resulting in output that causes the buffer's length to equal or exceed <code class="parameter">chunk_size</code>. The default value <code class="literal">0</code> means that all output is buffered until the buffer is turned off. See <a href="https://www.php.net/manual/en/outcontrol.buffer-size.php" class="xref">Buffer Size</a> for more details. </p> </dd> <dt><code class="parameter">flags</code></dt> <dd> <p class="para"> The <code class="parameter">flags</code> parameter is a bitmask that controls the operations that can be performed on the output buffer. The default is to allow output buffers to be cleaned, flushed and removed, which can be set explicitly via the <a href="https://www.php.net/manual/en/outcontrol.constants.php#outcontrol.constants.buffer-control-flags" class="link"> buffer control flags </a>. See <a href="https://www.php.net/manual/en/outcontrol.operations-on-buffers.php" class="xref">Operations Allowed On Buffers</a> for more details. </p> <p class="para"> Each flag controls access to a set of functions, as described below: </p>
<table class="doctable informaltable"> <thead> <tr> <th>Constant</th> <th>Functions</th> </tr> </thead> <tbody class="tbody"> <tr> <td><strong><code><a href="https://www.php.net/manual/en/outcontrol.constants.php#constant.php-output-handler-cleanable">PHP_OUTPUT_HANDLER_CLEANABLE</a></code></strong></td> <td> <span class="function"><a href="function.ob-clean.html" class="function">ob_clean()</a></span> </td> </tr> <tr> <td><strong><code><a href="https://www.php.net/manual/en/outcontrol.constants.php#constant.php-output-handler-flushable">PHP_OUTPUT_HANDLER_FLUSHABLE</a></code></strong></td> <td> <span class="function"><a href="function.ob-flush.html" class="function">ob_flush()</a></span> </td> </tr> <tr> <td><strong><code><a href="https://www.php.net/manual/en/outcontrol.constants.php#constant.php-output-handler-removable">PHP_OUTPUT_HANDLER_REMOVABLE</a></code></strong></td> <td> <span class="function"><a href="function.ob-end-clean.html" class="function">ob_end_clean()</a></span>, <span class="function"><a href="function.ob-end-flush.html" class="function">ob_end_flush()</a></span>, <span class="function"><a href="function.ob-get-clean.html" class="function">ob_get_clean()</a></span>, <span class="function"><a href="function.ob-get-flush.html" class="function">ob_get_flush()</a></span> </td> </tr> </tbody> </table> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.ob-start-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong> on success or <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> on failure. </p> </div> <div class="refsect1 examples" id="refsect1-function.ob-start-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-562"> <p><strong>Example #1 User defined callback function example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

function callback($buffer)
{
  // replace all the apples with oranges
  return (str_replace("apples", "oranges", $buffer));
}

ob_start("callback");

?&gt;
&lt;html&gt;
&lt;body&gt;
&lt;p&gt;It's like comparing apples to oranges.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;?php

ob_end_flush();

?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="examplescode">
<pre class="examplescode">&lt;html&gt;
&lt;body&gt;
&lt;p&gt;It's like comparing oranges to oranges.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre> </div> </div> </div> 
<div class="example" id="function.ob-start.flags-bc"> <p><strong>Example #2 Creating an unerasable output buffer</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

ob_start(null, 0, PHP_OUTPUT_HANDLER_STDFLAGS ^ PHP_OUTPUT_HANDLER_REMOVABLE);

?&gt;</pre> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.ob-start-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li><span class="function"><a href="function.ob-get-contents.html" class="function" rel="rdfs-seeAlso">ob_get_contents()</a> - Return the contents of the output buffer</span></li> <li><span class="function"><a href="function.ob-end-clean.html" class="function" rel="rdfs-seeAlso">ob_end_clean()</a> - Clean (erase) the contents of the active output buffer and turn it off</span></li> <li><span class="function"><a href="function.ob-end-flush.html" class="function" rel="rdfs-seeAlso">ob_end_flush()</a> - Flush (send) the return value of the active output handler and turn the active output buffer off</span></li> <li><span class="function"><a href="function.ob-implicit-flush.html" class="function" rel="rdfs-seeAlso">ob_implicit_flush()</a> - Turn implicit flush on/off</span></li> <li><span class="function"><a href="function.ob-gzhandler.html" class="function" rel="rdfs-seeAlso">ob_gzhandler()</a> - ob_start callback function to gzip output buffer</span></li> <li><span class="function"><a href="function.ob-iconv-handler.html" class="function" rel="rdfs-seeAlso">ob_iconv_handler()</a> - Convert character encoding as output buffer handler</span></li> <li><span class="function"><a href="function.mb-output-handler.html" class="function" rel="rdfs-seeAlso">mb_output_handler()</a> - Callback function converts character encoding in output buffer</span></li> <li><span class="function"><a href="function.ob-tidyhandler.html" class="function" rel="rdfs-seeAlso">ob_tidyhandler()</a> - ob_start callback function to repair the buffer</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.ob-start.php" class="_attribution-link">https://www.php.net/manual/en/function.ob-start.php</a>
  </p>
</div>
