  <div id="layout"> <div id="layout-content"><div id="function.exif-read-data" class="refentry"> <div class="refnamediv"> <h1 class="refname">exif_read_data</h1> <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">exif_read_data</span> — <span class="dc-title">Reads the <abbr title="Exchangeable Image File ">EXIF</abbr> headers from an image file</span></p> </div> <div class="refsect1 description" id="refsect1-function.exif-read-data-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">exif_read_data(
 resource|string $file,
 ?string $required_sections = null,
 bool $as_arrays = false,
 bool $read_thumbnail = false
): array|false</pre> <p class="para rdfs-comment"> <span class="function"><strong>exif_read_data()</strong></span> reads the <abbr title="Exchangeable Image File ">EXIF</abbr> headers from an image file. This way you can read meta data generated by digital cameras. </p> <p class="para"> <abbr title="Exchangeable Image File ">EXIF</abbr> headers tend to be present in JPEG/TIFF images generated by digital cameras, but unfortunately each digital camera maker has a different idea of how to actually tag their images, so you can't always rely on a specific Exif header being present. </p> <p class="para"> <code class="literal">Height</code> and <code class="literal">Width</code> are computed the same way <span class="function"><a href="function.getimagesize.html" class="function">getimagesize()</a></span> does so their values must not be part of any header returned. Also, <code class="literal">html</code> is a height/width text string to be used inside normal <abbr title="Hyper Text Markup Language">HTML</abbr>. </p> <p class="para"> When an Exif header contains a Copyright note, this itself can contain two values. As the solution is inconsistent in the Exif 2.10 standard, the <code class="literal">COMPUTED</code> section will return both entries <code class="literal">Copyright.Photographer</code> and <code class="literal">Copyright.Editor</code> while the <code class="literal">IFD0</code> sections contains the byte array with the NULL character that splits both entries. Or just the first entry if the datatype was wrong (normal behaviour of Exif). The <code class="literal">COMPUTED</code> will also contain the entry <code class="literal">Copyright</code> which is either the original copyright string, or a comma separated list of the photo and editor copyright. </p> <p class="para"> The tag <code class="literal">UserComment</code> has the same problem as the Copyright tag. It can store two values. First the encoding used, and second the value itself. If so the <code class="literal">IFD</code> section only contains the encoding or a byte array. The <code class="literal">COMPUTED</code> section will store both in the entries <code class="literal">UserCommentEncoding</code> and <code class="literal">UserComment</code>. The entry <code class="literal">UserComment</code> is available in both cases so it should be used in preference to the value in <code class="literal">IFD0</code> section. </p> <p class="para"> <span class="function"><strong>exif_read_data()</strong></span> also validates EXIF data tags according to the EXIF specification (<a href="http://exif.org/Exif2-2.PDF" class="link external">» http://exif.org/Exif2-2.PDF</a>, page 20). </p> </div> <div class="refsect1 parameters" id="refsect1-function.exif-read-data-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">file</code>
</dt> <dd> <p class="para"> The location of the image file. This can either be a path to the file (stream wrappers are also supported as usual) or a stream <span class="type">resource</span>. </p> </dd> <dt> <code class="parameter">required_sections</code>
</dt> <dd> <p class="para"> Is a comma separated list of sections that need to be present in file to produce a result <span class="type">array</span>. If none of the requested sections could be found the return value is <strong><code>false</code></strong>. </p>
<table class="doctable informaltable"> <tbody class="tbody"> <tr> <td>FILE</td> <td>FileName, FileSize, FileDateTime, SectionsFound</td> </tr> <tr> <td>COMPUTED</td> <td> html, Width, Height, IsColor, and more if available. Height and Width are computed the same way <span class="function"><a href="function.getimagesize.html" class="function">getimagesize()</a></span> does so their values must not be part of any header returned. Also, <code class="literal">html</code> is a height/width text string to be used inside normal <abbr title="Hyper Text Markup Language">HTML</abbr>. </td> </tr> <tr> <td>ANY_TAG</td> <td>Any information that has a Tag e.g. <code class="literal">IFD0</code>, <code class="literal">EXIF</code>, ...</td> </tr> <tr> <td>IFD0</td> <td> All tagged data of IFD0. In normal imagefiles this contains image size and so forth. </td> </tr> <tr> <td>THUMBNAIL</td> <td> A file is supposed to contain a thumbnail if it has a second <code class="literal">IFD</code>. All tagged information about the embedded thumbnail is stored in this section. </td> </tr> <tr> <td>COMMENT</td> <td>Comment headers of JPEG images.</td> </tr> <tr> <td>EXIF</td> <td> The EXIF section is a sub section of <code class="literal">IFD0</code>. It contains more detailed information about an image. Most of these entries are digital camera related. </td> </tr> </tbody> </table> </dd> <dt> <code class="parameter">as_arrays</code>
</dt> <dd> <p class="para"> Specifies whether or not each section becomes an array. The <code class="parameter">required_sections</code> <code class="literal">COMPUTED</code>, <code class="literal">THUMBNAIL</code>, and <code class="literal">COMMENT</code> always become arrays as they may contain values whose names conflict with other sections. </p> </dd> <dt> <code class="parameter">read_thumbnail</code>
</dt> <dd> <p class="para"> When set to <strong><code>true</code></strong> the thumbnail itself is read. Otherwise, only the tagged data is read. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.exif-read-data-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> It returns an associative <span class="type">array</span> where the array indexes are the header names and the array values are the values associated with those headers. If no data can be returned, <span class="function"><strong>exif_read_data()</strong></span> will return <strong><code>false</code></strong>. </p> </div> <div class="refsect1 errors" id="refsect1-function.exif-read-data-errors"> <h3 class="title">Errors/Exceptions</h3> <p class="para"> Errors of level <strong><code>E_WARNING</code></strong> and/or <strong><code>E_NOTICE</code></strong> may be raised for unsupported tags or other potential error conditions, but the function still tries to read all comprehensible information. </p> </div> <div class="refsect1 changelog" id="refsect1-function.exif-read-data-changelog"> <h3 class="title">Changelog</h3> 
<table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.0.0</td> <td> <code class="parameter">required_sections</code> is nullable now. </td> </tr> <tr> <td>7.2.0</td> <td> The <code class="parameter">file</code> parameter now supports both local files and stream resources. </td> </tr> <tr> <td>7.2.0</td> <td> Support for the following EXIF formats were added: <ul class="itemizedlist"> <li class="listitem"> <span class="simpara"> Samsung </span> </li> <li class="listitem"> <span class="simpara"> DJI </span> </li> <li class="listitem"> <span class="simpara"> Panasonic </span> </li> <li class="listitem"> <span class="simpara"> Sony </span> </li> <li class="listitem"> <span class="simpara"> Pentax </span> </li> <li class="listitem"> <span class="simpara"> Minolta </span> </li> <li class="listitem"> <span class="simpara"> Sigma/Foveon </span> </li> <li class="listitem"> <span class="simpara"> AGFA </span> </li> <li class="listitem"> <span class="simpara"> Kyocera </span> </li> <li class="listitem"> <span class="simpara"> Ricoh </span> </li> <li class="listitem"> <span class="simpara"> Epson </span> </li> </ul> </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.exif-read-data-examples"> <h3 class="title">Examples</h3> 
<div class="example" id=""> <p><strong>Example #1 <span class="function"><strong>exif_read_data()</strong></span> example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
echo "test1.jpg:&lt;br /&gt;\n";
$exif = exif_read_data('tests/test1.jpg', 'IFD0');
echo $exif===false ? "No header data found.&lt;br /&gt;\n" : "Image contains headers&lt;br /&gt;\n";

$exif = exif_read_data('tests/test2.jpg', 0, true);
echo "test2.jpg:&lt;br /&gt;\n";
foreach ($exif as $key =&gt; $section) {
    foreach ($section as $name =&gt; $val) {
        echo "$key.$name: $val&lt;br /&gt;\n";
    }
}
?&gt;</pre> </div> <div class="example-contents"><p> The first call fails because the image has no header information. </p></div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
test1.jpg:
No header data found.
test2.jpg:
FILE.FileName: test2.jpg
FILE.FileDateTime: 1017666176
FILE.FileSize: 1240
FILE.FileType: 2
FILE.SectionsFound: ANY_TAG, IFD0, THUMBNAIL, COMMENT
COMPUTED.html: width="1" height="1"
COMPUTED.Height: 1
COMPUTED.Width: 1
COMPUTED.IsColor: 1
COMPUTED.ByteOrderMotorola: 1
COMPUTED.UserComment: Exif test image.
COMPUTED.UserCommentEncoding: ASCII
COMPUTED.Copyright: Photo (c) M.Boerger, Edited by M.Boerger.
COMPUTED.Copyright.Photographer: Photo (c) M.Boerger
COMPUTED.Copyright.Editor: Edited by M.Boerger.
IFD0.Copyright: Photo (c) M.Boerger
IFD0.UserComment: ASCII
THUMBNAIL.JPEGInterchangeFormat: 134
THUMBNAIL.JPEGInterchangeFormatLength: 523
COMMENT.0: Comment #1.
COMMENT.1: Comment #2.
COMMENT.2: Comment #3end
THUMBNAIL.JPEGInterchangeFormat: 134
THUMBNAIL.Thumbnail.Height: 1
THUMBNAIL.Thumbnail.Height: 1
</pre></div> </div> </div> 
<div class="example" id=""> <p><strong>Example #2 <span class="function"><strong>exif_read_data()</strong></span> with streams available as of PHP 7.2.0</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// Open a the file, this should be in binary mode
$fp = fopen('/path/to/image.jpg', 'rb');

if (!$fp) {
    echo 'Error: Unable to open image for reading';
    exit;
}

// Attempt to read the exif headers
$headers = exif_read_data($fp);

if (!$headers) {
    echo 'Error: Unable to read exif headers';
    exit;
}

// Print the 'COMPUTED' headers
echo 'EXIF Headers:' . PHP_EOL;

foreach ($headers['COMPUTED'] as $header =&gt; $value) {
    printf(' %s =&gt; %s%s', $header, $value, PHP_EOL);
}
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
EXIF Headers:
 Height =&gt; 576
 Width =&gt; 1024
 IsColor =&gt; 1
 ByteOrderMotorola =&gt; 0
 ApertureFNumber =&gt; f/5.6
 UserComment =&gt;
 UserCommentEncoding =&gt; UNDEFINED
 Copyright =&gt; Denis
 Thumbnail.FileType =&gt; 2
 Thumbnail.MimeType =&gt; image/jpeg
</pre></div> </div> </div> </div> <div class="refsect1 notes" id="refsect1-function.exif-read-data-notes"> <h3 class="title">Notes</h3> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> If <a href="https://www.php.net/manual/en/ref.mbstring.php" class="link">mbstring</a> is enabled, exif will attempt to process the unicode and pick a charset as specified by <a href="https://www.php.net/manual/en/exif.configuration.php#ini.exif.decode-unicode-motorola" class="link">exif.decode_unicode_motorola</a> and <a href="https://www.php.net/manual/en/exif.configuration.php#ini.exif.decode-unicode-intel" class="link">exif.decode_unicode_intel</a>. The exif extension will not attempt to figure out the encoding on its own, and it is up to the user to properly specify the encoding for which to use for decoding by setting one of these two ini directives prior to calling <span class="function"><strong>exif_read_data()</strong></span>. </p> </blockquote> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> If the <code class="parameter">file</code> is used to pass a stream to this function, then the stream must be seekable. Note that the file pointer position is not changed after this function returns. </p> </blockquote> </div> <div class="refsect1 seealso" id="refsect1-function.exif-read-data-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.exif-thumbnail.html" class="function" rel="rdfs-seeAlso">exif_thumbnail()</a> - Retrieve the embedded thumbnail of an image</span></li> <li class="member"><span class="function"><a href="function.getimagesize.html" class="function" rel="rdfs-seeAlso">getimagesize()</a> - Get the size of an image</span></li> <li class="member"><a href="https://www.php.net/manual/en/wrappers.php" class="xref">Supported Protocols and Wrappers</a></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.exif-read-data.php" class="_attribution-link">https://www.php.net/manual/en/function.exif-read-data.php</a>
  </p>
</div>
