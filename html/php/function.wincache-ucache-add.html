  <div id="layout"> <div id="layout-content"><div id="function.wincache-ucache-add" class="refentry"> <div class="refnamediv"> <h1 class="refname">wincache_ucache_add</h1> <p class="verinfo">(PECL wincache &gt;= 1.1.0)</p>
<p class="refpurpose"><span class="refname">wincache_ucache_add</span> â€” <span class="dc-title"> Adds a variable in user cache only if variable does not already exist in the cache </span></p> </div> <div class="refsect1 description" id="refsect1-function.wincache-ucache-add-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">wincache_ucache_add(string $key, mixed $value, int $ttl = 0): bool</pre> <pre class="methodsynopsis dc-description" data-language="php">wincache_ucache_add(array $values, mixed $unused = NULL, int $ttl = 0): bool</pre> <p class="para rdfs-comment"> Adds a variable in user cache, only if this variable doesn't already exist in the cache. The added variable remains in the user cache unless its time to live expires or it is deleted by using <span class="function"><a href="function.wincache-ucache-delete.html" class="function">wincache_ucache_delete()</a></span> or <span class="function"><a href="function.wincache-ucache-clear.html" class="function">wincache_ucache_clear()</a></span> functions. </p> </div> <div class="refsect1 parameters" id="refsect1-function.wincache-ucache-add-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">key</code>
</dt> <dd> <p class="para"> Store the variable using this <code class="parameter">key</code> name. If a variable with same key is already present the function will fail and return <strong><code>false</code></strong>. <code class="parameter">key</code> is case sensitive. To override the value even if <code class="parameter">key</code> is present use <span class="function"><a href="function.wincache-ucache-set.html" class="function">wincache_ucache_set()</a></span> function instad. <code class="parameter">key</code> can also take array of name =&gt; value pairs where names will be used as keys. This can be used to add multiple values in the cache in one operation, thus avoiding race condition. </p> </dd> <dt> <code class="parameter">value</code>
</dt> <dd> <p class="para"> Value of a variable to store. <code class="parameter">Value</code> supports all data types except resources, such as file handles. This paramter is ignored if first argument is an array. A general guidance is to pass <strong><code>null</code></strong> as <code class="parameter">value</code> while using array as <code class="parameter">key</code>. If <code class="parameter">value</code> is an object, or an array containing objects, then the objects will be serialized. See <a href="language.oop5.magic.html#object.sleep" class="link">__sleep()</a> for details on serializing objects. </p> </dd> <dt> <code class="parameter">values</code>
</dt> <dd> <p class="para"> Associative array of keys and values. </p> </dd> <dt> <code class="parameter">ttl</code>
</dt> <dd> <p class="para"> Time for the variable to live in the cache in seconds. After the value specified in <code class="parameter">ttl</code> has passed the stored variable will be deleted from the cache. This parameter takes a default value of <code class="literal">0</code> which means the variable will stay in the cache unless explicitly deleted by using <span class="function"><a href="function.wincache-ucache-delete.html" class="function">wincache_ucache_delete()</a></span> or <span class="function"><a href="function.wincache-ucache-clear.html" class="function">wincache_ucache_clear()</a></span> functions. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.wincache-ucache-add-returnvalues"> <h3 class="title">Return Values</h3> <p class="simpara"> If <code class="parameter">key</code> is string, the function returns <strong><code>true</code></strong> on success and <strong><code>false</code></strong> on failure. </p> <p class="para"> If <code class="parameter">key</code> is an array, the function returns: </p>
<ul class="itemizedlist"> <li class="listitem"> <span class="simpara"> If all the name =&gt; value pairs in the array can be set, function returns an empty array; </span> </li> <li class="listitem"> <span class="simpara"> If all the name =&gt; value pairs in the array cannot be set, function returns <strong><code>false</code></strong>; </span> </li> <li class="listitem"> <span class="simpara"> If some can be set while others cannot, function returns an array with name=&gt;value pair for which the addition failed in the user cache. </span> </li> </ul> </div> <div class="refsect1 examples" id="refsect1-function.wincache-ucache-add-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-2000"> <p><strong>Example #1 <span class="function"><strong>wincache_ucache_add()</strong></span> with <code class="parameter">key</code> as a string</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$bar = 'BAR';
var_dump(wincache_ucache_add('foo', $bar));
var_dump(wincache_ucache_add('foo', $bar));
var_dump(wincache_ucache_get('foo'));
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
bool(true)
bool(false)
string(3) "BAR" 
</pre></div> </div> </div> 
<div class="example" id="example-2003"> <p><strong>Example #2 <span class="function"><strong>wincache_ucache_add()</strong></span> with <code class="parameter">key</code> as an array</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$colors_array = array('green' =&gt; '5', 'Blue' =&gt; '6', 'yellow' =&gt; '7', 'cyan' =&gt; '8');
var_dump(wincache_ucache_add($colors_array));
var_dump(wincache_ucache_add($colors_array));
var_dump(wincache_ucache_get('Blue'));
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
array(0) { } 
array(4) { 
  ["green"]=&gt; int(-1) 
  ["Blue"]=&gt; int(-1) 
  ["yellow"]=&gt; int(-1) 
  ["cyan"]=&gt; int(-1) 
} 
string(1) "6"
</pre></div> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.wincache-ucache-add-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.wincache-ucache-set.html" class="function" rel="rdfs-seeAlso">wincache_ucache_set()</a> - Adds a variable in user cache and overwrites a variable if it already exists in the cache</span></li> <li class="member"><span class="function"><a href="function.wincache-ucache-get.html" class="function" rel="rdfs-seeAlso">wincache_ucache_get()</a> - Gets a variable stored in the user cache</span></li> <li class="member"><span class="function"><a href="function.wincache-ucache-delete.html" class="function" rel="rdfs-seeAlso">wincache_ucache_delete()</a> - Deletes variables from the user cache</span></li> <li class="member"><span class="function"><a href="function.wincache-ucache-clear.html" class="function" rel="rdfs-seeAlso">wincache_ucache_clear()</a> - Deletes entire content of the user cache</span></li> <li class="member"><span class="function"><a href="function.wincache-ucache-exists.html" class="function" rel="rdfs-seeAlso">wincache_ucache_exists()</a> - Checks if a variable exists in the user cache</span></li> <li class="member"><span class="function"><a href="function.wincache-ucache-meminfo.html" class="function" rel="rdfs-seeAlso">wincache_ucache_meminfo()</a> - Retrieves information about user cache memory usage</span></li> <li class="member"><span class="function"><a href="function.wincache-ucache-info.html" class="function" rel="rdfs-seeAlso">wincache_ucache_info()</a> - Retrieves information about data stored in the user cache</span></li> <li class="member"><a href="language.oop5.magic.html#object.sleep" class="link">__sleep()</a></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.wincache-ucache-add.php" class="_attribution-link">https://www.php.net/manual/en/function.wincache-ucache-add.php</a>
  </p>
</div>
