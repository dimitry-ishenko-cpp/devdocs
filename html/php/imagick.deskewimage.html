  <div id="layout"> <div id="layout-content"><div id="imagick.deskewimage" class="refentry"> <div class="refnamediv"> <h1 class="refname">Imagick::deskewImage</h1> <p class="verinfo">(PECL imagick 2 &gt;= 2.3.0, PECL imagick 3 &gt;= 3.3.0)</p>
<p class="refpurpose"><span class="refname">Imagick::deskewImage</span> â€” <span class="dc-title">Removes skew from the image</span></p> </div> <div class="refsect1 description" id="refsect1-imagick.deskewimage-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">public Imagick::deskewImage(float $threshold): bool</pre> <p class="para rdfs-comment"> This method can be used to remove skew from for example scanned images where the paper was not properly placed on the scanning surface. This method is available if Imagick has been compiled against ImageMagick version 6.4.5 or newer. </p> </div> <div class="refsect1 parameters" id="refsect1-imagick.deskewimage-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">threshold</code>
</dt> <dd> <p class="para"> Deskew threshold </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-imagick.deskewimage-returnvalues"> <h3 class="title">Return Values</h3>  </div> <div class="refsect1 examples" id="refsect1-imagick.deskewimage-examples"> <h3 class="title">Examples</h3> 
<div class="example" id=""> <p><strong>Example #1 <span class="function"><strong>Imagick::deskewImage()</strong></span></strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
function deskewImage($threshold) {
    $imagick = new \Imagick(realpath("images/NYTimes-Page1-11-11-1918.jpg"));
    $deskewImagick = clone $imagick;
    
    //This is the only thing required for deskewing.
    $deskewImagick-&gt;deskewImage($threshold);

    //The rest of this example is to make the result obvious - because
    //otherwise the result is not obvious.
    $trim = 9;

    $deskewImagick-&gt;cropImage($deskewImagick-&gt;getImageWidth() - $trim, $deskewImagick-&gt;getImageHeight(), $trim, 0);
    $imagick-&gt;cropImage($imagick-&gt;getImageWidth() - $trim, $imagick-&gt;getImageHeight(), $trim, 0);
    $deskewImagick-&gt;resizeimage($deskewImagick-&gt;getImageWidth() / 2, $deskewImagick-&gt;getImageHeight() / 2, \Imagick::FILTER_LANCZOS, 1);
    $imagick-&gt;resizeimage($imagick-&gt;getImageWidth() / 2, $imagick-&gt;getImageHeight() / 2, \Imagick::FILTER_LANCZOS, 1);
    $newCanvas = new \Imagick();
    $newCanvas-&gt;newimage($imagick-&gt;getImageWidth() + $deskewImagick-&gt;getImageWidth() + 20, $imagick-&gt;getImageHeight(), 'red', 'jpg');
    $newCanvas-&gt;compositeimage($imagick, \Imagick::COMPOSITE_COPY, 5, 0);
    $newCanvas-&gt;compositeimage($deskewImagick, \Imagick::COMPOSITE_COPY, $imagick-&gt;getImageWidth() + 10, 0);

    header("Content-Type: image/jpg");
    echo $newCanvas-&gt;getImageBlob();
}

?&gt;</pre> </div> </div> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/imagick.deskewimage.php" class="_attribution-link">https://www.php.net/manual/en/imagick.deskewimage.php</a>
  </p>
</div>
