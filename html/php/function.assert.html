  <div id="layout"> <div id="layout-content"><div id="function.assert" class="refentry"> <div class="refnamediv"> <h1 class="refname">assert</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">assert</span> â€” <span class="dc-title">Checks an assertion</span></p> </div> <div class="refsect1 description" id="refsect1-function.assert-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">assert(mixed $assertion, Throwable|string|null $description = null): bool</pre> <p class="para rdfs-comment"> <span class="function"><strong>assert()</strong></span> allows for the definition of expectations: assertions that take effect in development and testing environments, but are optimised away to have zero cost in production. </p> <p class="para"> Assertions should be used as a debugging feature only. One use case for them is to act as sanity-checks for preconditions that should always be <strong><code>true</code></strong> and that if they aren't upheld this indicates some programming errors. Another use case is to ensure the presence of certain features like extension functions or certain system limits and features. </p> <p class="para"> As assertions can be configured to be eliminated, they should <em>not</em> be used for normal runtime operations like input parameter checks. As a rule of thumb code should behave as expected even if assertion checking is deactivated. </p> <p class="para"> <span class="function"><strong>assert()</strong></span> will check that the expectation given in <code class="parameter">assertion</code> holds. If not, and thus the result is <strong><code>false</code></strong>, it will take the appropriate action depending on how <span class="function"><strong>assert()</strong></span> was configured. </p> <p class="para"> The behaviour of <span class="function"><strong>assert()</strong></span> is dictated by the following INI settings: </p>
<table class="doctable table"> <caption><strong>Assert Configure Options</strong></caption> <thead> <tr> <th>Name</th> <th>Default</th> <th>Description</th> <th>Changelog</th> </tr> </thead> <tbody class="tbody"> <tr> <td><a href="https://www.php.net/manual/en/ini.core.php#ini.zend.assertions" class="link">zend.assertions</a></td> <td><code class="literal">1</code></td> <td> <ul class="simplelist"> <li class="member"> <code class="literal">1</code>: generate and execute code (development mode) </li> <li class="member"> <code class="literal">0</code>: generate code but jump around it at runtime </li> <li class="member"> <code class="literal">-1</code>: do not generate code (production mode) </li> </ul> </td> <td class="empty"> </td> </tr> <tr> <td><a href="https://www.php.net/manual/en/info.configuration.php#ini.assert.active" class="link">assert.active</a></td> <td><strong><code>true</code></strong></td> <td> If <strong><code>false</code></strong>, <span class="function"><strong>assert()</strong></span> does not check the expectation and returns <strong><code>true</code></strong>, unconditionally. </td> <td> Deprecated as of PHP 8.3.0. </td> </tr> <tr> <td><a href="https://www.php.net/manual/en/info.configuration.php#ini.assert.callback" class="link">assert.callback</a></td> <td><strong><code>null</code></strong></td> <td> A user defined function to call when an assertion fails. It's signature should be: <pre class="methodsynopsis dc-description" data-language="php">assert_callback(
 string $file,
 int $line,
 null $assertion,
 string $description = ?
): void</pre> </td> <td> Prior to PHP 8.0.0, the signature of the callback should be: <pre class="methodsynopsis dc-description" data-language="php">assert_callback(
 string $file,
 int $line,
 string $assertion,
 string $description = ?
): void</pre> Deprecated as of PHP 8.3.0. </td> </tr> <tr> <td><a href="https://www.php.net/manual/en/info.configuration.php#ini.assert.exception" class="link">assert.exception</a></td> <td><strong><code>true</code></strong></td> <td> If <strong><code>true</code></strong> will throw an <span class="classname"><a href="class.assertionerror.html" class="classname">AssertionError</a></span> if the expectation isn't upheld. </td> <td> Deprecated as of PHP 8.3.0. </td> </tr> <tr> <td><a href="https://www.php.net/manual/en/info.configuration.php#ini.assert.bail" class="link">assert.bail</a></td> <td><strong><code>false</code></strong></td> <td> If <strong><code>true</code></strong> will abort execution of the PHP script if the expectation isn't upheld. </td> <td> Deprecated as of PHP 8.3.0. </td> </tr> <tr> <td><a href="https://www.php.net/manual/en/info.configuration.php#ini.assert.warning" class="link">assert.warning</a></td> <td><strong><code>true</code></strong></td> <td> If <strong><code>true</code></strong>, will emit an <strong><code>E_WARNING</code></strong> if the expectation isn't upheld. This INI setting is ineffective if <a href="https://www.php.net/manual/en/info.configuration.php#ini.assert.exception" class="link">assert.exception</a> is enabled. </td> <td> Deprecated as of PHP 8.3.0. </td> </tr> </tbody> </table> </div> <div class="refsect1 parameters" id="refsect1-function.assert-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">assertion</code>
</dt> <dd> <p class="para"> This is any expression that returns a value, which will be executed and the result is used to indicate whether the assertion succeeded or failed. </p> <div class="warning">
<strong class="warning">Warning</strong> <p class="para"> Prior to PHP 8.0.0, if <code class="parameter">assertion</code> was a <span class="type">string</span> it was interpreted as PHP code and executed via <span class="function"><a href="function.eval.html" class="function">eval()</a></span>. This string would be passed to the callback as the third argument. This behaviour was <em>DEPRECATED</em> in PHP 7.2.0, and <em>REMOVED</em> in PHP 8.0.0. </p> </div> </dd> <dt> <code class="parameter">description</code>
</dt> <dd> <p class="para"> If <code class="parameter">description</code> is an instance of <span class="classname"><a href="class.throwable.html" class="classname">Throwable</a></span>, it will be thrown only if the <code class="parameter">assertion</code> is executed and fails. </p>
<blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> As of PHP 8.0.0, this is done <em>prior</em> to calling the potentially defined assertion callback. </p> </blockquote> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> As of PHP 8.0.0, the <span class="type">object</span> will be thrown regardless of the configuration of <a href="https://www.php.net/manual/en/info.configuration.php#ini.assert.exception" class="link">assert.exception</a>. </p> </blockquote> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> As of PHP 8.0.0, the <a href="https://www.php.net/manual/en/info.configuration.php#ini.assert.bail" class="link">assert.bail</a> setting has no effect in this case. </p> </blockquote> <p class="para"> If <code class="parameter">description</code> is a <span class="type">string</span> this message will be used if an exception or a warning is emitted. An optional description that will be included in the failure message if the <code class="parameter">assertion</code> fails. </p> <p class="para"> If <code class="parameter">description</code> is omitted. A default description equal to the source code for the invocation of <span class="function"><strong>assert()</strong></span> is created at compile time. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.assert-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> <span class="function"><strong>assert()</strong></span> will always return <strong><code>true</code></strong> if at least one of the following is true: </p> <ul class="simplelist"> <li class="member"><code class="literal">zend.assertions=0</code></li> <li class="member"><code class="literal">zend.assertions=-1</code></li> <li class="member"><code class="literal">assert.exception=1</code></li> <li class="member"><code class="literal">assert.bail=1</code></li> <li class="member">A custom exception object is passed to <code class="parameter">description</code>.</li> </ul> <p class="para"> If none of the conditions are true <span class="function"><strong>assert()</strong></span> will return <strong><code>true</code></strong> if <code class="parameter">assertion</code> is truthy and <strong><code>false</code></strong> otherwise. </p> </div> <div class="refsect1 changelog" id="refsect1-function.assert-changelog"> <h3 class="title">Changelog</h3> 
<table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.3.0</td> <td> All <code class="literal">assert.</code> INI settings have been deprecated. </td> </tr> <tr> <td>8.0.0</td> <td> <span class="function"><strong>assert()</strong></span> will no longer evaluate string arguments, instead they will be treated like any other argument. <code class="code">assert($a == $b)</code> should be used instead of <code class="code">assert('$a == $b')</code>. The <code class="literal">assert.quiet_eval</code> <var class="filename">php.ini</var> directive and the <strong><code>ASSERT_QUIET_EVAL</code></strong> constant have also been removed, as they would no longer have any effect. </td> </tr> <tr> <td>8.0.0</td> <td> If <code class="parameter">description</code> is an instance of <span class="classname"><a href="class.throwable.html" class="classname">Throwable</a></span>, the object is thrown if the assertion fails, regardless of the value of <a href="https://www.php.net/manual/en/info.configuration.php#ini.assert.exception" class="link">assert.exception</a>. </td> </tr> <tr> <td>8.0.0</td> <td> If <code class="parameter">description</code> is an instance of <span class="classname"><a href="class.throwable.html" class="classname">Throwable</a></span>, no user callback is called even if it set. </td> </tr> <tr> <td>8.0.0</td> <td> Declaring a function called <code class="literal">assert()</code> inside a namespace is no longer allowed, and issues <strong><code>E_COMPILE_ERROR</code></strong>. </td> </tr> <tr> <td>7.3.0</td> <td> Declaring a function called <code class="literal">assert()</code> inside a namespace became deprecated. Such declaration now emits an <strong><code>E_DEPRECATED</code></strong>. </td> </tr> <tr> <td>7.2.0</td> <td> Usage of a <span class="type">string</span> as the <code class="parameter">assertion</code> became deprecated. It now emits an <strong><code>E_DEPRECATED</code></strong> notice when both <a href="https://www.php.net/manual/en/info.configuration.php#ini.assert.active" class="link">assert.active</a> and <a href="https://www.php.net/manual/en/ini.core.php#ini.zend.assertions" class="link">zend.assertions</a> are set to <code class="literal">1</code>. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.assert-examples"> <h3 class="title">Examples</h3> <div class="example" id="example-1658"> <p><strong>Example #1 <span class="function"><strong>assert()</strong></span> example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
assert(1 &gt; 2);
echo 'Hi!';</pre> </div> <div class="example-contents"><p> If assertions are enabled (<a href="https://www.php.net/manual/en/ini.core.php#ini.zend.assertions" class="link"><code class="literal">zend.assertions=1</code></a>) the above example will output: </p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Fatal error: Uncaught AssertionError: assert(1 &gt; 2) in example.php:2
Stack trace:
#0 example.php(2): assert(false, 'assert(1 &gt; 2)')
#1 {main}
  thrown in example.php on line 2
</pre></div> </div> <div class="example-contents"><p> If assertions are disabled (<code class="literal">zend.assertions=0</code> or <code class="literal">zend.assertions=-1</code>) the above example will output: </p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Hi!
</pre></div> </div> </div> <div class="example" id="example-1661"> <p><strong>Example #2 Using a custom message</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
assert(1 &gt; 2, "Expected one to be greater than two");
echo 'Hi!';</pre> </div> <div class="example-contents"><p> If assertions are enabled the above example will output: </p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Fatal error: Uncaught AssertionError: Expected one to be greater than two in example.php:2
Stack trace:
#0 example.php(2): assert(false, 'Expected one to...')
#1 {main}
  thrown in example.php on line 2
</pre></div> </div> <div class="example-contents"><p> If assertions are disabled the above example will output: </p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Hi!
</pre></div> </div> </div> <div class="example" id="example-1664"> <p><strong>Example #3 Using a custom exception class</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
class ArithmeticAssertionError extends AssertionError {}

assert(1 &gt; 2, new ArithmeticAssertionError("Expected one to be greater than two"));
echo 'Hi!';</pre> </div> <div class="example-contents"><p> If assertions are enabled the above example will output: </p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Fatal error: Uncaught ArithmeticAssertionError: Expected one to be greater than two in example.php:4
Stack trace:
#0 {main}
  thrown in example.php on line 4
</pre></div> </div> <div class="example-contents"><p> If assertions are disabled the above example will output: </p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Hi!
</pre></div> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.assert-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.assert-options.html" class="function" rel="rdfs-seeAlso">assert_options()</a> - Set/get the various assert flags</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.assert.php" class="_attribution-link">https://www.php.net/manual/en/function.assert.php</a>
  </p>
</div>
