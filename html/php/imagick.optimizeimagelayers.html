  <div id="layout"> <div id="layout-content"><div id="imagick.optimizeimagelayers" class="refentry"> <div class="refnamediv"> <h1 class="refname">Imagick::optimizeImageLayers</h1> <p class="verinfo">(PECL imagick 2, PECL imagick 3)</p>
<p class="refpurpose"><span class="refname">Imagick::optimizeImageLayers</span> â€” <span class="dc-title">Removes repeated portions of images to optimize</span></p> </div> <div class="refsect1 description" id="refsect1-imagick.optimizeimagelayers-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">public Imagick::optimizeImageLayers(): bool</pre> <p class="para rdfs-comment"> Compares each image the GIF disposed forms of the previous image in the sequence. From this it attempts to select the smallest cropped image to replace each frame, while preserving the results of the animation. This method is available if Imagick has been compiled against ImageMagick version 6.2.9 or newer. </p> </div> <div class="refsect1 parameters" id="refsect1-imagick.optimizeimagelayers-parameters"> <h3 class="title">Parameters</h3> <p class="para">This function has no parameters.</p> </div> <div class="refsect1 returnvalues" id="refsect1-imagick.optimizeimagelayers-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>true</code></strong> on success. </p> </div> <div class="refsect1 errors" id="refsect1-imagick.optimizeimagelayers-errors"> <h3 class="title">Errors/Exceptions</h3> <p class="para"> Throws ImagickException on error. </p> </div> <div class="refsect1 examples" id="refsect1-imagick.optimizeimagelayers-examples"> <h3 class="title">Examples</h3> 
<div class="example" id=""> <p><strong>Example #1 Using <span class="function"><strong>Imagick::optimizeImageLayers()</strong></span></strong></p> <div class="example-contents"><p> Reading, optimizing and writing a GIF image </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
/* create new imagick object */
$im = new Imagick("test.gif");

/* optimize the image layers */
$im-&gt;optimizeImageLayers();

/* write the image back */
$im-&gt;writeImages("test_optimized.gif", true);
?&gt;</pre> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-imagick.optimizeimagelayers-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="imagick.compareimagelayers.html" class="function" rel="rdfs-seeAlso">Imagick::compareImageLayers()</a> - Returns the maximum bounding region between images</span></li> <li class="member"><span class="function"><a href="imagick.writeimages.html" class="function" rel="rdfs-seeAlso">Imagick::writeImages()</a> - Writes an image or image sequence</span></li> <li class="member"><span class="function"><a href="imagick.writeimage.html" class="function" rel="rdfs-seeAlso">Imagick::writeImage()</a> - Writes an image to the specified filename</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/imagick.optimizeimagelayers.php" class="_attribution-link">https://www.php.net/manual/en/imagick.optimizeimagelayers.php</a>
  </p>
</div>
