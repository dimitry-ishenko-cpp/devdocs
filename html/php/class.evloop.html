  <div id="layout"> <div id="layout-content">
<div id="class.evloop" class="reference"> <h1 class="title">The EvLoop class</h1>   <h2 class="title">Introduction</h2>
<p class="verinfo">(PECL ev &gt;= 0.2.0)</p> <p class="para"> Represents an event loop that is always distinct from the <em>default loop</em> . Unlike the <em>default loop</em> , it cannot handle <span class="classname"><a href="class.evchild.html" class="classname">EvChild</a></span> watchers. </p> <p class="para"> Having threads we have to create a loop per thread, and use the <em>default loop</em> in the parent thread. </p> <p class="para"> The <em>default event loop</em> is initialized automatically by <em>Ev</em> . It is accessible via methods of the <span class="classname"><a href="class.ev.html" class="classname">Ev</a></span> class, or via <span class="methodname"><a href="evloop.defaultloop.html" class="methodname">EvLoop::defaultLoop()</a></span> method. </p>   <h2 class="title">Class synopsis</h2> <div class="classsynopsis">  <div class="classsynopsisinfo"> <span class="ooclass"> <span class="modifier">final</span> <span class="modifier">class</span> <strong class="classname">EvLoop</strong> </span> {</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Properties */</div> <div class="fieldsynopsis"> <span class="modifier">public</span> <var class="varname"><a href="class.evloop.html#evloop.props.data">$<var class="varname">data</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evloop.html#evloop.props.backend">$<var class="varname">backend</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evloop.html#evloop.props.is-default-loop">$<var class="varname">is_default_loop</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evloop.html#evloop.props.iteration">$<var class="varname">iteration</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evloop.html#evloop.props.pending">$<var class="varname">pending</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evloop.html#evloop.props.io-interval">$<var class="varname">io_interval</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evloop.html#evloop.props.timeout-interval">$<var class="varname">timeout_interval</var></a></var>;</div> <div class="fieldsynopsis">
<span class="modifier">public</span> <var class="varname"><a href="class.evloop.html#evloop.props.depth">$<var class="varname">depth</var></a></var>;</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div> <div class="constructorsynopsis dc-description"> <span class="modifier">public</span> <span class="methodname"><a href="evloop.construct.html" class="methodname">__construct</a></span>(<br> <span class="methodparam"> <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$flags</code> <span class="initializer"> = ?</span></span>,<br> <span class="methodparam"> <span class="type"><a href="language.types.mixed.html" class="type mixed">mixed</a></span> <code class="parameter">$data</code> <span class="initializer"> = NULL</span> </span>,<br> <span class="methodparam"> <span class="type"><a href="language.types.float.html" class="type float">float</a></span> <code class="parameter">$io_interval</code> <span class="initializer"> = 0.0</span> </span>,<br> <span class="methodparam"> <span class="type"><a href="language.types.float.html" class="type float">float</a></span> <code class="parameter">$timeout_interval</code> <span class="initializer"> = 0.0</span> </span><br>)</div> <pre class="methodsynopsis dc-description" data-language="php">public backend(): int</pre> <pre class="methodsynopsis dc-description" data-language="php">final public check( string $callback ,  string $data  = ?,  string $priority  = ?): EvCheck</pre> <pre class="methodsynopsis dc-description" data-language="php">final public child(
  string $pid ,
  string $trace ,
  string $callback ,
  string $data  = ?,
  string $priority  = ?
): EvChild</pre> <pre class="methodsynopsis dc-description" data-language="php">public static defaultLoop(
  int $flags  = Ev::FLAG_AUTO ,
  mixed $data  = NULL ,
  float $io_interval  = 0. ,
  float $timeout_interval  = 0. 
): EvLoop</pre> <pre class="methodsynopsis dc-description" data-language="php">final public embed(
  string $other ,
  string $callback  = ?,
  string $data  = ?,
  string $priority  = ?
): EvEmbed</pre> <pre class="methodsynopsis dc-description" data-language="php">final public fork( callable $callback ,  mixed $data  = null ,  int $priority  = 0 ): EvFork</pre> <pre class="methodsynopsis dc-description" data-language="php">final public idle( callable $callback ,  mixed $data  = null ,  int $priority  = 0 ): EvIdle</pre> <pre class="methodsynopsis dc-description" data-language="php">public invokePending(): void</pre> <pre class="methodsynopsis dc-description" data-language="php">final public io(
  mixed $fd ,
  int $events ,
  callable $callback ,
  mixed $data  = null ,
  int $priority  = 0 
): EvIo</pre> <pre class="methodsynopsis dc-description" data-language="php">public loopFork(): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public now(): float</pre> <pre class="methodsynopsis dc-description" data-language="php">public nowUpdate(): void</pre> <pre class="methodsynopsis dc-description" data-language="php">final public periodic(
  float $offset ,
  float $interval ,
  callable $callback ,
  mixed $data  = null ,
  int $priority  = 0 
): EvPeriodic</pre> <pre class="methodsynopsis dc-description" data-language="php">final public prepare( callable $callback ,  mixed $data  = null ,  int $priority  = 0 ): EvPrepare</pre> <pre class="methodsynopsis dc-description" data-language="php">public resume(): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public run( int $flags  = 0 ): void</pre> <pre class="methodsynopsis dc-description" data-language="php">final public signal(
  int $signum ,
  callable $callback ,
  mixed $data  = null ,
  int $priority  = 0 
): EvSignal</pre> <pre class="methodsynopsis dc-description" data-language="php">final public stat(
  string $path ,
  float $interval ,
  callable $callback ,
  mixed $data  = null ,
  int $priority  = 0 
): EvStat</pre> <pre class="methodsynopsis dc-description" data-language="php">public stop( int $how  = ?): void</pre> <pre class="methodsynopsis dc-description" data-language="php">public suspend(): void</pre> <pre class="methodsynopsis dc-description" data-language="php">final public timer(
  float $after ,
  float $repeat ,
  callable $callback ,
  mixed $data  = null ,
  int $priority  = 0 
): EvTimer</pre> <pre class="methodsynopsis dc-description" data-language="php">public verify(): void</pre> }</div>   <h2 class="title">Properties</h2> <dl> <dt id="evloop.props.data"> <var class="varname">data</var> </dt> <dd> <p class="para"> Custom data attached to loop </p> </dd> <dt id="evloop.props.backend"> <var class="varname">backend</var> </dt> <dd> <p class="para"> <em>Readonly</em> . The <a href="class.ev.html#ev.constants.watcher-backends" class="link">backend flags</a> indicating the event backend in use. </p> </dd> <dt id="evloop.props.is-default-loop"> <var class="varname">is_default_loop</var> </dt> <dd> <p class="para"> <em>Readonly</em> . <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong> if it is the default event loop. </p> </dd> <dt id="evloop.props.iteration"> <var class="varname">iteration</var> </dt> <dd> <p class="para"> The current iteration count of the loop. See <span class="methodname"><a href="ev.iteration.html" class="methodname">Ev::iteration()</a></span> </p> </dd> <dt id="evloop.props.pending"> <var class="varname">pending</var> </dt> <dd> <p class="para"> The number of pending watchers. <code class="literal">0</code> indicates that there are no watchers pending. </p> </dd> <dt id="evloop.props.io-interval"> <var class="varname">io_interval</var> </dt> <dd> <p class="para"> Higher <var class="varname">io_interval</var> allows <em>libev</em> to spend more time collecting <span class="classname"><a href="class.evio.html" class="classname">EvIo</a></span> events, so more events can be handled per iteration, at the cost of increasing latency. Timeouts (both <span class="classname"><a href="class.evperiodic.html" class="classname">EvPeriodic</a></span> and <span class="classname"><a href="class.evtimer.html" class="classname">EvTimer</a></span> ) will not be affected. Setting this to a non-zero value will introduce an additional <code class="literal">sleep()</code> call into most loop iterations. The sleep time ensures that <em>libev</em> will not poll for <span class="classname"><a href="class.evio.html" class="classname">EvIo</a></span> events more often than once per this interval, on average. Many programs can usually benefit by setting the <var class="varname">io_interval</var> to a value near <code class="literal">0.1</code> , which is often enough for interactive servers(not for games). It usually doesn't make much sense to set it to a lower value than <code class="literal">0.01</code> , as this approaches the timing granularity of most systems. </p> <p class="para"> See also <a href="http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#FUNCTIONS_CONTROLLING_EVENT_LOOPS" class="link external">» FUNCTIONS CONTROLLING EVENT LOOPS</a> . </p> </dd> <dt id="evloop.props.timeout-interval"> <var class="varname">timeout_interval</var> </dt> <dd> <p class="para"> Higher <var class="varname">timeout_interval</var> allows <em>libev</em> to spend more time collecting timeouts, at the expense of increased latency/jitter/inexactness(the watcher callback will be called later). <span class="classname"><a href="class.evio.html" class="classname">EvIo</a></span> watchers will not be affected. Setting this to a non-null value will not introduce any overhead in <em>libev</em> . See also <a href="http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod#FUNCTIONS_CONTROLLING_EVENT_LOOPS" class="link external">» FUNCTIONS CONTROLLING EVENT LOOPS</a> . </p> </dd> <dt id="evloop.props.depth"> <var class="varname">depth</var> </dt> <dd> <p class="para"> The recursion depth. See <span class="methodname"><a href="ev.depth.html" class="methodname">Ev::depth()</a></span> . </p> </dd> </dl>   <h2>Table of Contents</h2>
<ul class="chunklist chunklist_reference">
<li>
<a href="evloop.backend.html">EvLoop::backend</a> — Returns an integer describing the backend used by libev</li>
<li>
<a href="evloop.check.html">EvLoop::check</a> — Creates EvCheck object associated with the current event loop instance</li>
<li>
<a href="evloop.child.html">EvLoop::child</a> — Creates EvChild object associated with the current event loop</li>
<li>
<a href="evloop.construct.html">EvLoop::__construct</a> — Constructs the event loop object</li>
<li>
<a href="evloop.defaultloop.html">EvLoop::defaultLoop</a> — Returns or creates the default event loop</li>
<li>
<a href="evloop.embed.html">EvLoop::embed</a> — Creates an instance of EvEmbed watcher associated with the current EvLoop object</li>
<li>
<a href="evloop.fork.html">EvLoop::fork</a> — Creates EvFork watcher object associated with the current event loop instance</li>
<li>
<a href="evloop.idle.html">EvLoop::idle</a> — Creates EvIdle watcher object associated with the current event loop instance</li>
<li>
<a href="evloop.invokepending.html">EvLoop::invokePending</a> — Invoke all pending watchers while resetting their pending state</li>
<li>
<a href="evloop.io.html">EvLoop::io</a> — Create EvIo watcher object associated with the current event loop instance</li>
<li>
<a href="evloop.loopfork.html">EvLoop::loopFork</a> — Must be called after a fork</li>
<li>
<a href="evloop.now.html">EvLoop::now</a> — Returns the current "event loop time"</li>
<li>
<a href="evloop.nowupdate.html">EvLoop::nowUpdate</a> — Establishes the current time by querying the kernel, updating the time returned by EvLoop::now in the progress</li>
<li>
<a href="evloop.periodic.html">EvLoop::periodic</a> — Creates EvPeriodic watcher object associated with the current event loop instance</li>
<li>
<a href="evloop.prepare.html">EvLoop::prepare</a> — Creates EvPrepare watcher object associated with the current event loop instance</li>
<li>
<a href="evloop.resume.html">EvLoop::resume</a> — Resume previously suspended default event loop</li>
<li>
<a href="evloop.run.html">EvLoop::run</a> — Begin checking for events and calling callbacks for the loop</li>
<li>
<a href="evloop.signal.html">EvLoop::signal</a> — Creates EvSignal watcher object associated with the current event loop instance</li>
<li>
<a href="evloop.stat.html">EvLoop::stat</a> — Creates EvStat watcher object associated with the current event loop instance</li>
<li>
<a href="evloop.stop.html">EvLoop::stop</a> — Stops the event loop</li>
<li>
<a href="evloop.suspend.html">EvLoop::suspend</a> — Suspend the loop</li>
<li>
<a href="evloop.timer.html">EvLoop::timer</a> — Creates EvTimer watcher object associated with the current event loop instance</li>
<li>
<a href="evloop.verify.html">EvLoop::verify</a> — Performs internal consistency checks(for debugging)</li>
</ul> </div> </div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/class.evloop.php" class="_attribution-link">https://www.php.net/manual/en/class.evloop.php</a>
  </p>
</div>
