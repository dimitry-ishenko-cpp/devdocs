  <div id="layout"> <div id="layout-content"><div id="function.imagetruecolortopalette" class="refentry"> <div class="refnamediv"> <h1 class="refname">imagetruecolortopalette</h1> <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">imagetruecolortopalette</span> â€” <span class="dc-title">Convert a true color image to a palette image</span></p> </div> <div class="refsect1 description" id="refsect1-function.imagetruecolortopalette-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">imagetruecolortopalette(GdImage $image, bool $dither, int $num_colors): bool</pre> <p class="para rdfs-comment"> <span class="function"><strong>imagetruecolortopalette()</strong></span> converts a truecolor image to a palette image. The code for this function was originally drawn from the Independent JPEG Group library code, which is excellent. The code has been modified to preserve as much alpha channel information as possible in the resulting palette, in addition to preserving colors as well as possible. This does not work as well as might be hoped. It is usually best to simply produce a truecolor output image instead, which guarantees the highest output quality. </p> </div> <div class="refsect1 parameters" id="refsect1-function.imagetruecolortopalette-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">image</code>
</dt>
<dd><p class="para">A <span class="classname"><a href="class.gdimage.html" class="classname">GdImage</a></span> object, returned by one of the image creation functions, such as <span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>.</p></dd> <dt><code class="parameter">dither</code></dt> <dd> <p class="para"> Indicates if the image should be dithered - if it is <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong> then dithering will be used which will result in a more speckled image but with better color approximation. </p> </dd> <dt><code class="parameter">num_colors</code></dt> <dd> <p class="para"> Sets the maximum number of colors that should be retained in the palette. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.imagetruecolortopalette-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong> on success or <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> on failure. </p> </div> <div class="refsect1 changelog" id="refsect1-function.imagetruecolortopalette-changelog"> <h3 class="title">Changelog</h3> <table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.0.0</td> <td> <code class="parameter">image</code> expects a <span class="classname"><a href="class.gdimage.html" class="classname">GdImage</a></span> instance now; previously, a valid <code class="literal">gd</code> <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> was expected. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.imagetruecolortopalette-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-2829"> <p><strong>Example #1 Converting a true color image to a palette-based image</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// Create a new true color image
$im = imagecreatetruecolor(100, 100);

// Convert to palette-based with no dithering and 255 colors
imagetruecolortopalette($im, false, 255);

// Save the image
imagepng($im, './paletteimage.png');
imagedestroy($im);
?&gt;</pre> </div> </div> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.imagetruecolortopalette.php" class="_attribution-link">https://www.php.net/manual/en/function.imagetruecolortopalette.php</a>
  </p>
</div>
