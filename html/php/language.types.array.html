  <div id="layout"> <div id="layout-content"><div id="language.types.array" class="sect1"> <h2 class="title">Arrays</h2> <p class="para"> An <span class="type"><a href="language.types.array.html" class="type array">array</a></span> in PHP is actually an ordered map. A map is a type that associates <em>values</em> to <em>keys</em>. This type is optimized for several different uses; it can be treated as an array, list (vector), hash table (an implementation of a map), dictionary, collection, stack, queue, and probably more. As <span class="type"><a href="language.types.array.html" class="type array">array</a></span> values can be other <span class="type"><a href="language.types.array.html" class="type array">array</a></span>s, trees and multidimensional <span class="type"><a href="language.types.array.html" class="type array">array</a></span>s are also possible. </p> <p class="para"> Explanation of those data structures is beyond the scope of this manual, but at least one example is provided for each of them. For more information, look towards the considerable literature that exists about this broad topic. </p> <div class="sect2" id="language.types.array.syntax"> <h3 class="title">Syntax</h3> <div class="sect3" id="language.types.array.syntax.array-func"> <h4 class="title">Specifying with <span class="function"><a href="function.array.html" class="function">array()</a></span>
</h4> <p class="para"> An <span class="type"><a href="language.types.array.html" class="type array">array</a></span> can be created using the <span class="function"><a href="function.array.html" class="function">array()</a></span> language construct. It takes any number of comma-separated <code class="literal"><span class="replaceable">key</span> =&gt; <span class="replaceable">value</span></code> pairs as arguments. </p> <pre class="synopsis">
array(
    <span class="optional"><span class="replaceable">key</span>  =&gt; </span><span class="replaceable">value</span>,
    <span class="optional"><span class="replaceable">key2</span> =&gt; </span><span class="replaceable">value2</span>,
    <span class="optional"><span class="replaceable">key3</span> =&gt; </span><span class="replaceable">value3</span>,
    ...
)</pre> <p class="para"> The comma after the last array element is optional and can be omitted. This is usually done for single-line arrays, i.e. <code class="literal">array(1, 2)</code> is preferred over <code class="literal">array(1, 2, )</code>. For multi-line arrays on the other hand the trailing comma is commonly used, as it allows easier addition of new elements at the end. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> A short array syntax exists which replaces <code class="literal">array()</code> with <code class="literal">[]</code>. </p> </blockquote> <div class="example" id="example-57"> <p><strong>Example #1 A simple array</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = array(
    "foo" =&gt; "bar",
    "bar" =&gt; "foo",
);

// Using the short array syntax
$array = [
    "foo" =&gt; "bar",
    "bar" =&gt; "foo",
];
?&gt;</pre> </div> </div> <p class="para"> The <span class="replaceable">key</span> can either be an <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> or a <span class="type"><a href="language.types.string.html" class="type string">string</a></span>. The <span class="replaceable">value</span> can be of any type. </p> <p class="para" id="language.types.array.key-casts"> Additionally the following <span class="replaceable">key</span> casts will occur: </p>
<ul class="itemizedlist"> <li class="listitem"> <span class="simpara"> <span class="type"><a href="language.types.string.html" class="type String">String</a></span>s containing valid decimal <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>s, unless the number is preceded by a <code class="literal">+</code> sign, will be cast to the <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> type. E.g. the key <code class="literal">"8"</code> will actually be stored under <code class="literal">8</code>. On the other hand <code class="literal">"08"</code> will not be cast, as it isn't a valid decimal integer. </span> </li> <li class="listitem"> <span class="simpara"> <span class="type"><a href="language.types.float.html" class="type Float">Float</a></span>s are also cast to <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>s, which means that the fractional part will be truncated. E.g. the key <code class="literal">8.7</code> will actually be stored under <code class="literal">8</code>. </span> </li> <li class="listitem"> <span class="simpara"> <span class="type"><a href="language.types.boolean.html" class="type Bool">Bool</a></span>s are cast to <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>s, too, i.e. the key <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong> will actually be stored under <code class="literal">1</code> and the key <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> under <code class="literal">0</code>. </span> </li> <li class="listitem"> <span class="simpara"> <span class="type"><a href="language.types.null.html" class="type Null">Null</a></span> will be cast to the empty string, i.e. the key <code class="literal">null</code> will actually be stored under <code class="literal">""</code>. </span> </li> <li class="listitem"> <span class="simpara"> <span class="type"><a href="language.types.array.html" class="type Array">Array</a></span>s and <span class="type"><a href="language.types.object.html" class="type object">object</a></span>s <em>can not</em> be used as keys. Doing so will result in a warning: <code class="literal">Illegal offset type</code>. </span> </li> </ul> <p class="para"> If multiple elements in the array declaration use the same key, only the last one will be used as all others are overwritten. </p> <div class="example" id="example-58"> <p><strong>Example #2 Type Casting and Overwriting example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = array(
    1    =&gt; "a",
    "1"  =&gt; "b",
    1.5  =&gt; "c",
    true =&gt; "d",
);
var_dump($array);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
array(1) {
  [1]=&gt;
  string(1) "d"
}
</pre></div> </div> <div class="example-contents"><p> As all the keys in the above example are cast to <code class="literal">1</code>, the value will be overwritten on every new element and the last assigned value <code class="literal">"d"</code> is the only one left over. </p></div> </div> <p class="para"> PHP arrays can contain <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> and <span class="type"><a href="language.types.string.html" class="type string">string</a></span> keys at the same time as PHP does not distinguish between indexed and associative arrays. </p> <div class="example" id="example-59"> <p><strong>Example #3 Mixed <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> and <span class="type"><a href="language.types.string.html" class="type string">string</a></span> keys</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = array(
    "foo" =&gt; "bar",
    "bar" =&gt; "foo",
    100   =&gt; -100,
    -100  =&gt; 100,
);
var_dump($array);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
array(4) {
  ["foo"]=&gt;
  string(3) "bar"
  ["bar"]=&gt;
  string(3) "foo"
  [100]=&gt;
  int(-100)
  [-100]=&gt;
  int(100)
}
</pre></div> </div> </div> <p class="para"> The <span class="replaceable">key</span> is optional. If it is not specified, PHP will use the increment of the largest previously used <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> key. </p> <div class="example" id="example-60"> <p><strong>Example #4 Indexed arrays without key</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = array("foo", "bar", "hello", "world");
var_dump($array);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
array(4) {
  [0]=&gt;
  string(3) "foo"
  [1]=&gt;
  string(3) "bar"
  [2]=&gt;
  string(5) "hello"
  [3]=&gt;
  string(5) "world"
}
</pre></div> </div> </div> <p class="para"> It is possible to specify the key only for some elements and leave it out for others: </p> <div class="example" id="example-61"> <p><strong>Example #5 Keys not on all elements</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = array(
         "a",
         "b",
    6 =&gt; "c",
         "d",
);
var_dump($array);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
array(4) {
  [0]=&gt;
  string(1) "a"
  [1]=&gt;
  string(1) "b"
  [6]=&gt;
  string(1) "c"
  [7]=&gt;
  string(1) "d"
}
</pre></div> </div> <div class="example-contents"><p> As you can see the last value <code class="literal">"d"</code> was assigned the key <code class="literal">7</code>. This is because the largest integer key before that was <code class="literal">6</code>. </p></div> </div> <div class="example" id="example-62"> <p><strong>Example #6 Complex Type Casting and Overwriting example</strong></p> <div class="example-contents"><p> This example includes all variations of type casting of keys and overwriting of elements. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = array(
    1    =&gt; 'a',
    '1'  =&gt; 'b', // the value "a" will be overwritten by "b"
    1.5  =&gt; 'c', // the value "b" will be overwritten by "c"
    -1 =&gt; 'd',
    '01'  =&gt; 'e', // as this is not an integer string it will NOT override the key for 1
    '1.5' =&gt; 'f', // as this is not an integer string it will NOT override the key for 1
    true =&gt; 'g', // the value "c" will be overwritten by "g"
    false =&gt; 'h',
    '' =&gt; 'i',
    null =&gt; 'j', // the value "i" will be overwritten by "j"
    'k', // value "k" is assigned the key 2. This is because the largest integer key before that was 1
    2 =&gt; 'l', // the value "k" will be overwritten by "l"
);

var_dump($array);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
array(7) {
  [1]=&gt;
  string(1) "g"
  [-1]=&gt;
  string(1) "d"
  ["01"]=&gt;
  string(1) "e"
  ["1.5"]=&gt;
  string(1) "f"
  [0]=&gt;
  string(1) "h"
  [""]=&gt;
  string(1) "j"
  [2]=&gt;
  string(1) "l"
}
</pre></div> </div> </div> </div> <div class="sect3" id="language.types.array.syntax.accessing"> <h4 class="title">Accessing array elements with square bracket syntax</h4> <p class="para"> Array elements can be accessed using the <code class="literal">array[key]</code> syntax. </p> <div class="example" id="example-63"> <p><strong>Example #7 Accessing array elements</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = array(
    "foo" =&gt; "bar",
    42    =&gt; 24,
    "multi" =&gt; array(
         "dimensional" =&gt; array(
             "array" =&gt; "foo"
         )
    )
);

var_dump($array["foo"]);
var_dump($array[42]);
var_dump($array["multi"]["dimensional"]["array"]);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
string(3) "bar"
int(24)
string(3) "foo"
</pre></div> </div> </div> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Prior to PHP 8.0.0, square brackets and curly braces could be used interchangeably for accessing array elements (e.g. <code class="literal">$array[42]</code> and <code class="literal">$array{42}</code> would both do the same thing in the example above). The curly brace syntax was deprecated as of PHP 7.4.0 and no longer supported as of PHP 8.0.0. </p> </blockquote> <div class="example" id="example-64"> <p><strong>Example #8 Array dereferencing</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
function getArray() {
    return array(1, 2, 3);
}

$secondElement = getArray()[1];
?&gt;</pre> </div> </div> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Attempting to access an array key which has not been defined is the same as accessing any other undefined variable: an <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-warning">E_WARNING</a></code></strong>-level error message (<strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-notice">E_NOTICE</a></code></strong>-level prior to PHP 8.0.0) will be issued, and the result will be <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong>. </p> </blockquote> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Array dereferencing a scalar value which is not a <span class="type"><a href="language.types.string.html" class="type string">string</a></span> yields <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong>. Prior to PHP 7.4.0, that did not issue an error message. As of PHP 7.4.0, this issues <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-notice">E_NOTICE</a></code></strong>; as of PHP 8.0.0, this issues <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-warning">E_WARNING</a></code></strong>. </p> </blockquote> </div> <div class="sect3" id="language.types.array.syntax.modifying"> <h4 class="title">Creating/modifying with square bracket syntax</h4> <p class="para"> An existing <span class="type"><a href="language.types.array.html" class="type array">array</a></span> can be modified by explicitly setting values in it. </p> <p class="para"> This is done by assigning values to the <span class="type"><a href="language.types.array.html" class="type array">array</a></span>, specifying the key in brackets. The key can also be omitted, resulting in an empty pair of brackets (<code class="literal">[]</code>). </p> <pre class="synopsis">
$arr[<span class="replaceable">key</span>] = <span class="replaceable">value</span>;
$arr[] = <span class="replaceable">value</span>;
// <span class="replaceable">key</span> may be an <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> or <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
// <span class="replaceable">value</span> may be any value of any type</pre> <p class="para"> If <var class="varname">$arr</var> doesn't exist yet or is set to <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong> or <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong>, it will be created, so this is also an alternative way to create an <span class="type"><a href="language.types.array.html" class="type array">array</a></span>. This practice is however discouraged because if <var class="varname">$arr</var> already contains some value (e.g. <span class="type"><a href="language.types.string.html" class="type string">string</a></span> from request variable) then this value will stay in the place and <code class="literal">[]</code> may actually stand for <a href="language.types.string.html#language.types.string.substr" class="link">string access operator</a>. It is always better to initialize a variable by a direct assignment. </p> <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara"> As of PHP 7.1.0, applying the empty index operator on a string throws a fatal error. Formerly, the string was silently converted to an array. </span> </p></blockquote> <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara"> As of PHP 8.1.0, creating a new array from <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> value is deprecated. Creating a new array from <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong> and undefined values is still allowed. </span> </p></blockquote> <p class="para"> To change a certain value, assign a new value to that element using its key. To remove a key/value pair, call the <span class="function"><a href="function.unset.html" class="function">unset()</a></span> function on it. </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$arr = array(5 =&gt; 1, 12 =&gt; 2);

$arr[] = 56;    // This is the same as $arr[13] = 56;
                // at this point of the script

$arr["x"] = 42; // This adds a new element to
                // the array with key "x"
                
unset($arr[5]); // This removes the element from the array

unset($arr);    // This deletes the whole array
?&gt;</pre> </div> </div> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> As mentioned above, if no key is specified, the maximum of the existing <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> indices is taken, and the new key will be that maximum value plus 1 (but at least 0). If no <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> indices exist yet, the key will be <code class="literal">0</code> (zero). </p> <p class="para"> Note that the maximum integer key used for this <em>need not currently exist in the <span class="type"><a href="language.types.array.html" class="type array">array</a></span></em>. It need only have existed in the <span class="type"><a href="language.types.array.html" class="type array">array</a></span> at some time since the last time the <span class="type"><a href="language.types.array.html" class="type array">array</a></span> was re-indexed. The following example illustrates: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// Create a simple array.
$array = array(1, 2, 3, 4, 5);
print_r($array);

// Now delete every item, but leave the array itself intact:
foreach ($array as $i =&gt; $value) {
    unset($array[$i]);
}
print_r($array);

// Append an item (note that the new key is 5, instead of 0).
$array[] = 6;
print_r($array);

// Re-index:
$array = array_values($array);
$array[] = 7;
print_r($array);
?&gt;</pre> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
Array
(
    [0] =&gt; 1
    [1] =&gt; 2
    [2] =&gt; 3
    [3] =&gt; 4
    [4] =&gt; 5
)
Array
(
)
Array
(
    [5] =&gt; 6
)
Array
(
    [0] =&gt; 6
    [1] =&gt; 7
)
</pre></div> </div> </div> </blockquote> </div> <div class="sect3" id="language.types.array.syntax.destructuring"> <h4 class="title">Array destructuring</h4> <p class="para"> Arrays can be destructured using the <code class="literal">[]</code> (as of PHP 7.1.0) or <span class="function"><a href="function.list.html" class="function">list()</a></span> language constructs. These constructs can be used to destructure an array into distinct variables. </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$source_array = ['foo', 'bar', 'baz'];

[$foo, $bar, $baz] = $source_array;

echo $foo;    // prints "foo"
echo $bar;    // prints "bar"
echo $baz;    // prints "baz"
?&gt;</pre> </div> </div> <p class="para"> Array destructuring can be used in <a href="control-structures.foreach.html" class="link">foreach</a> to destructure a multi-dimensional array while iterating over it. </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$source_array = [
    [1, 'John'],
    [2, 'Jane'],
];

foreach ($source_array as [$id, $name]) {
    // logic here with $id and $name
}
?&gt;</pre> </div> </div> <p class="para"> Array elements will be ignored if the variable is not provided. Array destructuring always starts at index <code class="literal">0</code>. </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$source_array = ['foo', 'bar', 'baz'];

// Assign the element at index 2 to the variable $baz
[, , $baz] = $source_array;

echo $baz;    // prints "baz"
?&gt;</pre> </div> </div> <p class="para"> As of PHP 7.1.0, associative arrays can be destructured too. This also allows for easier selection of the right element in numerically indexed arrays as the index can be explicitly specified. </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$source_array = ['foo' =&gt; 1, 'bar' =&gt; 2, 'baz' =&gt; 3];

// Assign the element at index 'baz' to the variable $three
['baz' =&gt; $three] = $source_array;

echo $three;    // prints 3

$source_array = ['foo', 'bar', 'baz'];

// Assign the element at index 2 to the variable $baz
[2 =&gt; $baz] = $source_array;

echo $baz;    // prints "baz"
?&gt;</pre> </div> </div> <p class="para"> Array destructuring can be used for easy swapping of two variables. </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$a = 1;
$b = 2;

[$b, $a] = [$a, $b];

echo $a;    // prints 2
echo $b;    // prints 1
?&gt;</pre> </div> </div> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> The spread operator (<code class="literal">...</code>) is not supported in assignments. </p> </blockquote> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Attempting to access an array key which has not been defined is the same as accessing any other undefined variable: an <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-warning">E_WARNING</a></code></strong>-level error message (<strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-notice">E_NOTICE</a></code></strong>-level prior to PHP 8.0.0) will be issued, and the result will be <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong>. </p> </blockquote> </div> </div> <div class="sect2" id="language.types.array.useful-funcs"> <h3 class="title">Useful functions</h3> <p class="para"> There are quite a few useful functions for working with arrays. See the <a href="https://www.php.net/manual/en/ref.array.php" class="link">array functions</a> section. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> The <span class="function"><a href="function.unset.html" class="function">unset()</a></span> function allows removing keys from an <span class="type"><a href="language.types.array.html" class="type array">array</a></span>. Be aware that the array will <em>not</em> be reindexed. If a true "remove and shift" behavior is desired, the <span class="type"><a href="language.types.array.html" class="type array">array</a></span> can be reindexed using the <span class="function"><a href="function.array-values.html" class="function">array_values()</a></span> function. </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$a = array(1 =&gt; 'one', 2 =&gt; 'two', 3 =&gt; 'three');
unset($a[2]);
/* will produce an array that would have been defined as
   $a = array(1 =&gt; 'one', 3 =&gt; 'three');
   and NOT
   $a = array(1 =&gt; 'one', 2 =&gt;'three');
*/

$b = array_values($a);
// Now $b is array(0 =&gt; 'one', 1 =&gt;'three')
?&gt;</pre> </div> </div> </blockquote> <p class="para"> The <a href="control-structures.foreach.html" class="link">foreach</a> control structure exists specifically for <span class="type"><a href="language.types.array.html" class="type array">array</a></span>s. It provides an easy way to traverse an <span class="type"><a href="language.types.array.html" class="type array">array</a></span>. </p> </div> <div class="sect2" id="language.types.array.donts"> <h3 class="title">Array do's and don'ts</h3> <div class="sect3" id="language.types.array.foo-bar"> <h4 class="title">Why is <code class="literal">$foo[bar]</code> wrong?</h4> <p class="para"> Always use quotes around a string literal array index. For example, <code class="literal">$foo['bar']</code> is correct, while <code class="literal">$foo[bar]</code> is not. But why? It is common to encounter this kind of syntax in old scripts: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$foo[bar] = 'enemy';
echo $foo[bar];
// etc
?&gt;</pre> </div> </div> <p class="para"> This is wrong, but it works. The reason is that this code has an undefined constant (<code class="literal">bar</code>) rather than a <span class="type"><a href="language.types.string.html" class="type string">string</a></span> (<code class="literal">'bar'</code> - notice the quotes). It works because PHP automatically converts a <em>bare string</em> (an unquoted <span class="type"><a href="language.types.string.html" class="type string">string</a></span> which does not correspond to any known symbol) into a <span class="type"><a href="language.types.string.html" class="type string">string</a></span> which contains the bare <span class="type"><a href="language.types.string.html" class="type string">string</a></span>. For instance, if there is no defined constant named <strong><code>bar</code></strong>, then PHP will substitute in the <span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="literal">'bar'</code> and use that. </p> <div class="warning">
<strong class="warning">Warning</strong> <p class="simpara"> The fallback to treat an undefined constant as bare string issues an error of level <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-notice">E_NOTICE</a></code></strong>. This has been deprecated as of PHP 7.2.0, and issues an error of level <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-warning">E_WARNING</a></code></strong>. As of PHP 8.0.0, it has been removed and throws an <span class="classname"><a href="class.error.html" class="classname">Error</a></span> exception. </p> </div> <blockquote class="note">
<p><strong class="note">Note</strong>: <span class="simpara"> This does not mean to <em>always</em> quote the key. Do not quote keys which are <a href="language.constants.html" class="link">constants</a> or <a href="https://www.php.net/manual/en/language.variables.php" class="link">variables</a>, as this will prevent PHP from interpreting them. </span> </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
error_reporting(E_ALL);
ini_set('display_errors', true);
ini_set('html_errors', false);
// Simple array:
$array = array(1, 2);
$count = count($array);
for ($i = 0; $i &lt; $count; $i++) {
    echo "\nChecking $i: \n";
    echo "Bad: " . $array['$i'] . "\n";
    echo "Good: " . $array[$i] . "\n";
    echo "Bad: {$array['$i']}\n";
    echo "Good: {$array[$i]}\n";
}
?&gt;</pre> </div> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
Checking 0: 
Notice: Undefined index:  $i in /path/to/script.html on line 9
Bad: 
Good: 1
Notice: Undefined index:  $i in /path/to/script.html on line 11
Bad: 
Good: 1

Checking 1: 
Notice: Undefined index:  $i in /path/to/script.html on line 9
Bad: 
Good: 2
Notice: Undefined index:  $i in /path/to/script.html on line 11
Bad: 
Good: 2
</pre></div> </div> </blockquote> <p class="para"> More examples to demonstrate this behaviour: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// Show all errors
error_reporting(E_ALL);

$arr = array('fruit' =&gt; 'apple', 'veggie' =&gt; 'carrot');

// Correct
print $arr['fruit'];  // apple
print $arr['veggie']; // carrot

// Incorrect.  This works but also throws a PHP error of level E_NOTICE because
// of an undefined constant named fruit
// 
// Notice: Use of undefined constant fruit - assumed 'fruit' in...
print $arr[fruit];    // apple

// This defines a constant to demonstrate what's going on.  The value 'veggie'
// is assigned to a constant named fruit.
define('fruit', 'veggie');

// Notice the difference now
print $arr['fruit'];  // apple
print $arr[fruit];    // carrot

// The following is okay, as it's inside a string. Constants are not looked for
// within strings, so no E_NOTICE occurs here
print "Hello $arr[fruit]";      // Hello apple

// With one exception: braces surrounding arrays within strings allows constants
// to be interpreted
print "Hello {$arr[fruit]}";    // Hello carrot
print "Hello {$arr['fruit']}";  // Hello apple

// This will not work, and will result in a parse error, such as:
// Parse error: parse error, expecting T_STRING' or T_VARIABLE' or T_NUM_STRING'
// This of course applies to using superglobals in strings as well
print "Hello $arr['fruit']";
print "Hello $_GET['foo']";

// Concatenation is another option
print "Hello " . $arr['fruit']; // Hello apple
?&gt;</pre> </div> </div> <p class="para"> When <a href="https://www.php.net/manual/en/errorfunc.configuration.php#ini.error-reporting" class="link">error_reporting</a> is set to show <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-notice">E_NOTICE</a></code></strong> level errors (by setting it to <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-all">E_ALL</a></code></strong>, for example), such uses will become immediately visible. By default, <a href="https://www.php.net/manual/en/errorfunc.configuration.php#ini.error-reporting" class="link">error_reporting</a> is set not to show notices. </p> <p class="para"> As stated in the <a href="language.types.array.html#language.types.array.syntax" class="link">syntax</a> section, what's inside the square brackets ('<code class="literal">[</code>' and '<code class="literal">]</code>') must be an expression. This means that code like this works: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
echo $arr[somefunc($bar)];
?&gt;</pre> </div> </div> <p class="para"> This is an example of using a function return value as the array index. PHP also knows about constants: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$error_descriptions[E_ERROR]   = "A fatal error has occurred";
$error_descriptions[E_WARNING] = "PHP issued a warning";
$error_descriptions[E_NOTICE]  = "This is just an informal notice";
?&gt;</pre> </div> </div> <p class="para"> Note that <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-error">E_ERROR</a></code></strong> is also a valid identifier, just like <code class="literal">bar</code> in the first example. But the last example is in fact the same as writing: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$error_descriptions[1] = "A fatal error has occurred";
$error_descriptions[2] = "PHP issued a warning";
$error_descriptions[8] = "This is just an informal notice";
?&gt;</pre> </div> </div> <p class="para"> because <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-error">E_ERROR</a></code></strong> equals <code class="literal">1</code>, etc. </p> <div class="sect4" id="language.types.array.foo-bar.why"> <h5 class="title">So why is it bad then?</h5> <p class="para"> At some point in the future, the PHP team might want to add another constant or keyword, or a constant in other code may interfere. For example, it is already wrong to use the words <code class="literal">empty</code> and <code class="literal">default</code> this way, since they are <a href="https://www.php.net/manual/en/reserved.php" class="link">reserved keywords</a>. </p> <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara"> To reiterate, inside a double-quoted <span class="type"><a href="language.types.string.html" class="type string">string</a></span>, it's valid to not surround array indexes with quotes so <code class="literal">"$foo[bar]"</code> is valid. See the above examples for details on why as well as the section on <a href="language.types.string.html#language.types.string.parsing" class="link">variable parsing in strings</a>. </span> </p></blockquote> </div> </div> </div> <div class="sect2" id="language.types.array.casting"> <h3 class="title">Converting to array</h3> <p class="para"> For any of the types <span class="type"><a href="language.types.integer.html" class="type int">int</a></span>, <span class="type"><a href="language.types.float.html" class="type float">float</a></span>, <span class="type"><a href="language.types.string.html" class="type string">string</a></span>, <span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span> and <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span>, converting a value to an <span class="type"><a href="language.types.array.html" class="type array">array</a></span> results in an array with a single element with index zero and the value of the scalar which was converted. In other words, <code class="code">(array) $scalarValue</code> is exactly the same as <code class="literal">array($scalarValue)</code>. </p> <p class="para"> If an <span class="type"><a href="language.types.object.html" class="type object">object</a></span> is converted to an <span class="type"><a href="language.types.array.html" class="type array">array</a></span>, the result is an <span class="type"><a href="language.types.array.html" class="type array">array</a></span> whose elements are the <span class="type"><a href="language.types.object.html" class="type object">object</a></span>'s properties. The keys are the member variable names, with a few notable exceptions: integer properties are unaccessible; private variables have the class name prepended to the variable name; protected variables have a '*' prepended to the variable name. These prepended values have <code class="literal">NUL</code> bytes on either side. Uninitialized <a href="language.oop5.properties.html#language.oop5.properties.typed-properties" class="link">typed properties</a> are silently discarded. </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

class A {
    private $B;
    protected $C;
    public $D;
    function __construct()
    {
        $this-&gt;{1} = null;
    }
}

var_export((array) new A());
?&gt;</pre> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
array (
  '' . "\0" . 'A' . "\0" . 'B' =&gt; NULL,
  '' . "\0" . '*' . "\0" . 'C' =&gt; NULL,
  'D' =&gt; NULL,
  1 =&gt; NULL,
)
</pre></div> </div> </div> <p class="para"> These <code class="literal">NUL</code> can result in some unexpected behaviour: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

class A {
    private $A; // This will become '\0A\0A'
}

class B extends A {
    private $A; // This will become '\0B\0A'
    public $AA; // This will become 'AA'
}

var_dump((array) new B());
?&gt;</pre> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
array(3) {
  ["BA"]=&gt;
  NULL
  ["AA"]=&gt;
  NULL
  ["AA"]=&gt;
  NULL
}
</pre></div> </div> </div> <p class="para"> The above will appear to have two keys named 'AA', although one of them is actually named '\0A\0A'. </p> <p class="para"> Converting <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong> to an <span class="type"><a href="language.types.array.html" class="type array">array</a></span> results in an empty <span class="type"><a href="language.types.array.html" class="type array">array</a></span>. </p> </div> <div class="sect2" id="language.types.array.comparing"> <h3 class="title">Comparing</h3> <p class="para"> It is possible to compare arrays with the <span class="function"><a href="function.array-diff.html" class="function">array_diff()</a></span> function and with <a href="language.operators.array.html" class="link">array operators</a>. </p> </div> <div class="sect2" id="language.types.array.unpacking"> <h3 class="title">Array unpacking</h3> <p class="para"> An array prefixed by <code class="code">...</code> will be expanded in place during array definition. Only arrays and objects which implement <span class="interfacename"><a href="class.traversable.html" class="interfacename">Traversable</a></span> can be expanded. Array unpacking with <code class="code">...</code> is available as of PHP 7.4.0. </p> <p class="para"> It's possible to expand multiple times, and add normal elements before or after the <code class="code">...</code> operator: </p>
<div class="example" id="example-65"> <p><strong>Example #9 Simple array unpacking</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// Using short array syntax.
// Also, works with array() syntax.
$arr1 = [1, 2, 3];
$arr2 = [...$arr1]; //[1, 2, 3]
$arr3 = [0, ...$arr1]; //[0, 1, 2, 3]
$arr4 = [...$arr1, ...$arr2, 111]; //[1, 2, 3, 1, 2, 3, 111]
$arr5 = [...$arr1, ...$arr1]; //[1, 2, 3, 1, 2, 3]

function getArr() {
  return ['a', 'b'];
}
$arr6 = [...getArr(), 'c' =&gt; 'd']; //['a', 'b', 'c' =&gt; 'd']
?&gt;</pre> </div> </div> <p class="para"> Unpacking an array with the <code class="code">...</code> operator follows the semantics of the <span class="function"><a href="function.array-merge.html" class="function">array_merge()</a></span> function. That is, later string keys overwrite earlier ones and integer keys are renumbered: </p>
<div class="example" id="example-66"> <p><strong>Example #10 Array unpacking with duplicate key</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// string key
$arr1 = ["a" =&gt; 1];
$arr2 = ["a" =&gt; 2];
$arr3 = ["a" =&gt; 0, ...$arr1, ...$arr2];
var_dump($arr3); // ["a" =&gt; 2]

// integer key
$arr4 = [1, 2, 3];
$arr5 = [4, 5, 6];
$arr6 = [...$arr4, ...$arr5];
var_dump($arr6); // [1, 2, 3, 4, 5, 6]
// Which is [0 =&gt; 1, 1 =&gt; 2, 2 =&gt; 3, 3 =&gt; 4, 4 =&gt; 5, 5 =&gt; 6]
// where the original integer keys have not been retained.
?&gt;</pre> </div> </div> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Keys that are neither integers nor strings throw a <span class="classname"><a href="class.typeerror.html" class="classname">TypeError</a></span>. Such keys can only be generated by a <span class="interfacename"><a href="class.traversable.html" class="interfacename">Traversable</a></span> object. </p> </blockquote> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Prior to PHP 8.1, unpacking an array which has a string key is not supported: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

$arr1 = [1, 2, 3];
$arr2 = ['a' =&gt; 4];
$arr3 = [...$arr1, ...$arr2];
// Fatal error: Uncaught Error: Cannot unpack array with string keys in example.php:5

$arr4 = [1, 2, 3];
$arr5 = [4, 5];
$arr6 = [...$arr4, ...$arr5]; // works. [1, 2, 3, 4, 5]
?&gt;</pre> </div> </div> </blockquote> </div> <div class="sect2" id="language.types.array.examples"> <h3 class="title">Examples</h3> <p class="para"> The array type in PHP is very versatile. Here are some examples: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// This:
$a = array( 'color' =&gt; 'red',
            'taste' =&gt; 'sweet',
            'shape' =&gt; 'round',
            'name'  =&gt; 'apple',
            4        // key will be 0
          );

$b = array('a', 'b', 'c');

// . . .is completely equivalent with this:
$a = array();
$a['color'] = 'red';
$a['taste'] = 'sweet';
$a['shape'] = 'round';
$a['name']  = 'apple';
$a[]        = 4;        // key will be 0

$b = array();
$b[] = 'a';
$b[] = 'b';
$b[] = 'c';

// After the above code is executed, $a will be the array
// array('color' =&gt; 'red', 'taste' =&gt; 'sweet', 'shape' =&gt; 'round', 
// 'name' =&gt; 'apple', 0 =&gt; 4), and $b will be the array 
// array(0 =&gt; 'a', 1 =&gt; 'b', 2 =&gt; 'c'), or simply array('a', 'b', 'c').
?&gt;</pre> </div> </div> <div class="example" id="example-67"> <p><strong>Example #11 Using array()</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// Array as (property-)map
$map = array( 'version'    =&gt; 4,
              'OS'         =&gt; 'Linux',
              'lang'       =&gt; 'english',
              'short_tags' =&gt; true
            );
            
// strictly numerical keys
$array = array( 7,
                8,
                0,
                156,
                -10
              );
// this is the same as array(0 =&gt; 7, 1 =&gt; 8, ...)

$switching = array(         10, // key = 0
                    5    =&gt;  6,
                    3    =&gt;  7, 
                    'a'  =&gt;  4,
                            11, // key = 6 (maximum of integer-indices was 5)
                    '8'  =&gt;  2, // key = 8 (integer!)
                    '02' =&gt; 77, // key = '02'
                    0    =&gt; 12  // the value 10 will be overwritten by 12
                  );
                  
// empty array
$empty = array();         
?&gt;</pre> </div> </div> <div class="example" id="language.types.array.examples.loop"> <p><strong>Example #12 Collection</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$colors = array('red', 'blue', 'green', 'yellow');

foreach ($colors as $color) {
    echo "Do you like $color?\n";
}

?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Do you like red?
Do you like blue?
Do you like green?
Do you like yellow?
</pre></div> </div> </div> <p class="para"> Changing the values of the <span class="type"><a href="language.types.array.html" class="type array">array</a></span> directly is possible by passing them by reference. </p> <div class="example" id="language.types.array.examples.changeloop"> <p><strong>Example #13 Changing element in the loop</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
foreach ($colors as &amp;$color) {
    $color = mb_strtoupper($color);
}
unset($color); /* ensure that following writes to
$color will not modify the last array element */

print_r($colors);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Array
(
    [0] =&gt; RED
    [1] =&gt; BLUE
    [2] =&gt; GREEN
    [3] =&gt; YELLOW
)
</pre></div> </div> </div> <p class="para"> This example creates a one-based array. </p> <div class="example" id="example-70"> <p><strong>Example #14 One-based index</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$firstquarter  = array(1 =&gt; 'January', 'February', 'March');
print_r($firstquarter);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Array 
(
    [1] =&gt; 'January'
    [2] =&gt; 'February'
    [3] =&gt; 'March'
)
</pre></div> </div> </div> <div class="example" id="example-71"> <p><strong>Example #15 Filling an array</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// fill an array with all items from a directory
$handle = opendir('.');
while (false !== ($file = readdir($handle))) {
    $files[] = $file;
}
closedir($handle); 
?&gt;</pre> </div> </div> <p class="para"> <span class="type"><a href="language.types.array.html" class="type Array">Array</a></span>s are ordered. The order can be changed using various sorting functions. See the <a href="https://www.php.net/manual/en/ref.array.php" class="link">array functions</a> section for more information. The <span class="function"><a href="function.count.html" class="function">count()</a></span> function can be used to count the number of items in an <span class="type"><a href="language.types.array.html" class="type array">array</a></span>. </p> <div class="example" id="example-72"> <p><strong>Example #16 Sorting an array</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
sort($files);
print_r($files);
?&gt;</pre> </div> </div> <p class="para"> Because the value of an <span class="type"><a href="language.types.array.html" class="type array">array</a></span> can be anything, it can also be another <span class="type"><a href="language.types.array.html" class="type array">array</a></span>. This enables the creation of recursive and multi-dimensional <span class="type"><a href="language.types.array.html" class="type array">array</a></span>s. </p> <div class="example" id="example-73"> <p><strong>Example #17 Recursive and multi-dimensional arrays</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$fruits = array ( "fruits"  =&gt; array ( "a" =&gt; "orange",
                                       "b" =&gt; "banana",
                                       "c" =&gt; "apple"
                                     ),
                  "numbers" =&gt; array ( 1,
                                       2,
                                       3,
                                       4,
                                       5,
                                       6
                                     ),
                  "holes"   =&gt; array (      "first",
                                       5 =&gt; "second",
                                            "third"
                                     )
                );

// Some examples to address values in the array above 
echo $fruits["holes"][5];    // prints "second"
echo $fruits["fruits"]["a"]; // prints "orange"
unset($fruits["holes"][0]);  // remove "first"

// Create a new multi-dimensional array
$juices["apple"]["green"] = "good"; 
?&gt;</pre> </div> </div> <p class="para"> <span class="type"><a href="language.types.array.html" class="type Array">Array</a></span> assignment always involves value copying. Use the <a href="language.operators.html" class="link">reference operator</a> to copy an <span class="type"><a href="language.types.array.html" class="type array">array</a></span> by reference. </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$arr1 = array(2, 3);
$arr2 = $arr1;
$arr2[] = 4; // $arr2 is changed,
             // $arr1 is still array(2, 3)
             
$arr3 = &amp;$arr1;
$arr3[] = 4; // now $arr1 and $arr3 are the same
?&gt;</pre> </div> </div> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/language.types.array.php" class="_attribution-link">https://www.php.net/manual/en/language.types.array.php</a>
  </p>
</div>
