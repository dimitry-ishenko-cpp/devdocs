  <div id="layout"> <div id="layout-content"><div id="function.fopen" class="refentry"> <div class="refnamediv"> <h1 class="refname">fopen</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">fopen</span> â€” <span class="dc-title">Opens file or URL</span></p> </div> <div class="refsect1 description" id="refsect1-function.fopen-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">fopen(
 string $filename,
 string $mode,
 bool $use_include_path = false,
 ?resource $context = null
): resource|false</pre> <p class="para rdfs-comment"> <span class="function"><strong>fopen()</strong></span> binds a named resource, specified by <code class="parameter">filename</code>, to a stream. </p> </div> <div class="refsect1 parameters" id="refsect1-function.fopen-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">filename</code>
</dt> <dd> <p class="para"> If <code class="parameter">filename</code> is of the form "scheme://...", it is assumed to be a URL and PHP will search for a protocol handler (also known as a wrapper) for that scheme. If no wrappers for that protocol are registered, PHP will emit a notice to help you track potential problems in your script and then continue as though <code class="parameter">filename</code> specifies a regular file. </p> <p class="para"> If PHP has decided that <code class="parameter">filename</code> specifies a local file, then it will try to open a stream on that file. The file must be accessible to PHP, so you need to ensure that the file access permissions allow this access. If you have enabled <a href="https://www.php.net/manual/en/ini.core.php#ini.open-basedir" class="link">open_basedir</a> further restrictions may apply. </p> <p class="para"> If PHP has decided that <code class="parameter">filename</code> specifies a registered protocol, and that protocol is registered as a network URL, PHP will check to make sure that <a href="https://www.php.net/manual/en/filesystem.configuration.php#ini.allow-url-fopen" class="link">allow_url_fopen</a> is enabled. If it is switched off, PHP will emit a warning and the fopen call will fail. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> The list of supported protocols can be found in <a href="https://www.php.net/manual/en/wrappers.php" class="xref">Supported Protocols and Wrappers</a>. Some protocols (also referred to as <code class="literal">wrappers</code>) support <code class="literal">context</code> and/or <var class="filename">php.ini</var> options. Refer to the specific page for the protocol in use for a list of options which can be set. (e.g. <var class="filename">php.ini</var> value <code class="literal">user_agent</code> used by the <code class="literal">http</code> wrapper). </p> </blockquote> <p class="para"> On the Windows platform, be careful to escape any backslashes used in the path to the file, or use forward slashes. </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$handle = fopen("c:\\folder\\resource.txt", "r");
?&gt;</pre> </div> </div> </dd> <dt> <code class="parameter">mode</code>
</dt> <dd> <p class="para"> The <code class="parameter">mode</code> parameter specifies the type of access you require to the stream. It may be any of the following: </p>
<table class="doctable table"> <caption><strong> A list of possible modes for <span class="function"><strong>fopen()</strong></span> using <code class="parameter">mode</code> </strong></caption> <thead> <tr> <th><code class="parameter">mode</code></th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td><code class="literal">'r'</code></td> <td> Open for reading only; place the file pointer at the beginning of the file. </td> </tr> <tr> <td><code class="literal">'r+'</code></td> <td> Open for reading and writing; place the file pointer at the beginning of the file. </td> </tr> <tr> <td><code class="literal">'w'</code></td> <td> Open for writing only; place the file pointer at the beginning of the file and truncate the file to zero length. If the file does not exist, attempt to create it. </td> </tr> <tr> <td><code class="literal">'w+'</code></td> <td> Open for reading and writing; otherwise it has the same behavior as <code class="literal">'w'</code>. </td> </tr> <tr> <td><code class="literal">'a'</code></td> <td> Open for writing only; place the file pointer at the end of the file. If the file does not exist, attempt to create it. In this mode, <span class="function"><a href="function.fseek.html" class="function">fseek()</a></span> has no effect, writes are always appended. </td> </tr> <tr> <td><code class="literal">'a+'</code></td> <td> Open for reading and writing; place the file pointer at the end of the file. If the file does not exist, attempt to create it. In this mode, <span class="function"><a href="function.fseek.html" class="function">fseek()</a></span> only affects the reading position, writes are always appended. </td> </tr> <tr> <td><code class="literal">'x'</code></td> <td> Create and open for writing only; place the file pointer at the beginning of the file. If the file already exists, the <span class="function"><strong>fopen()</strong></span> call will fail by returning <strong><code>false</code></strong> and generating an error of level <strong><code>E_WARNING</code></strong>. If the file does not exist, attempt to create it. This is equivalent to specifying <code class="literal">O_EXCL|O_CREAT</code> flags for the underlying <code class="literal">open(2)</code> system call. </td> </tr> <tr> <td><code class="literal">'x+'</code></td> <td> Create and open for reading and writing; otherwise it has the same behavior as <code class="literal">'x'</code>. </td> </tr> <tr> <td><code class="literal">'c'</code></td> <td> Open the file for writing only. If the file does not exist, it is created. If it exists, it is neither truncated (as opposed to <code class="literal">'w'</code>), nor the call to this function fails (as is the case with <code class="literal">'x'</code>). The file pointer is positioned on the beginning of the file. This may be useful if it's desired to get an advisory lock (see <span class="function"><a href="function.flock.html" class="function">flock()</a></span>) before attempting to modify the file, as using <code class="literal">'w'</code> could truncate the file before the lock was obtained (if truncation is desired, <span class="function"><a href="function.ftruncate.html" class="function">ftruncate()</a></span> can be used after the lock is requested). </td> </tr> <tr> <td><code class="literal">'c+'</code></td> <td> Open the file for reading and writing; otherwise it has the same behavior as <code class="literal">'c'</code>. </td> </tr> <tr> <td><code class="literal">'e'</code></td> <td> Set close-on-exec flag on the opened file descriptor. Only available in PHP compiled on POSIX.1-2008 conform systems. </td> </tr> </tbody> </table> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Different operating system families have different line-ending conventions. When you write a text file and want to insert a line break, you need to use the correct line-ending character(s) for your operating system. Unix based systems use <code class="literal">\n</code> as the line ending character, Windows based systems use <code class="literal">\r\n</code> as the line ending characters and Macintosh based systems (Mac OS Classic) used <code class="literal">\r</code> as the line ending character. </p> <p class="para"> If you use the wrong line ending characters when writing your files, you might find that other applications that open those files will "look funny". </p> <p class="para"> Windows offers a text-mode translation flag (<code class="literal">'t'</code>) which will transparently translate <code class="literal">\n</code> to <code class="literal">\r\n</code> when working with the file. In contrast, you can also use <code class="literal">'b'</code> to force binary mode, which will not translate your data. To use these flags, specify either <code class="literal">'b'</code> or <code class="literal">'t'</code> as the last character of the <code class="parameter">mode</code> parameter. </p> <p class="para"> The default translation mode is <code class="literal">'b'</code>. You can use the <code class="literal">'t'</code> mode if you are working with plain-text files and you use <code class="literal">\n</code> to delimit your line endings in your script, but expect your files to be readable with applications such as old versions of notepad. You should use the <code class="literal">'b'</code> in all other cases. </p> <p class="para"> If you specify the 't' flag when working with binary files, you may experience strange problems with your data, including broken image files and strange problems with <code class="literal">\r\n</code> characters. </p> </blockquote> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> For portability, it is also strongly recommended that you re-write code that uses or relies upon the <code class="literal">'t'</code> mode so that it uses the correct line endings and <code class="literal">'b'</code> mode instead. </p> </blockquote> <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara"> The <code class="parameter">mode</code> is ignored for <var class="filename">php://output</var>, <var class="filename">php://input</var>, <var class="filename">php://stdin</var>, <var class="filename">php://stdout</var>, <var class="filename">php://stderr</var> and <var class="filename">php://fd</var> stream wrappers. </span> </p></blockquote> </dd> <dt> <code class="parameter">use_include_path</code>
</dt> <dd> <p class="para"> The optional third <code class="parameter">use_include_path</code> parameter can be set to '1' or <strong><code>true</code></strong> if you want to search for the file in the <a href="https://www.php.net/manual/en/ini.core.php#ini.include-path" class="link">include_path</a>, too. </p> </dd> <dt> <code class="parameter">context</code>
</dt> <dd> <p class="para">A <a href="https://www.php.net/manual/en/stream.contexts.php" class="link">context stream</a> <span class="type">resource</span>.</p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.fopen-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns a file pointer resource on success, or <strong><code>false</code></strong> on failure </p> </div> <div class="refsect1 errors" id="refsect1-function.fopen-errors"> <h3 class="title">Errors/Exceptions</h3> <p class="para"> Upon failure, an <strong><code>E_WARNING</code></strong> is emitted. </p> </div> <div class="refsect1 changelog" id="refsect1-function.fopen-changelog"> <h3 class="title">Changelog</h3> 
<table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>7.0.16, 7.1.2</td> <td> The <code class="literal">'e'</code> option was added. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.fopen-examples"> <h3 class="title">Examples</h3> 
<div class="example" id=""> <p><strong>Example #1 <span class="function"><strong>fopen()</strong></span> examples</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$handle = fopen("/home/rasmus/file.txt", "r");
$handle = fopen("/home/rasmus/file.gif", "wb");
$handle = fopen("http://www.example.com/", "r");
$handle = fopen("ftp://user:password@example.com/somefile.txt", "w");
?&gt;</pre> </div> </div> </div> <div class="refsect1 notes" id="refsect1-function.fopen-notes"> <h3 class="title">Notes</h3> <div class="warning">
<strong class="warning">Warning</strong><p class="para">When using SSL, Microsoft IIS will violate the protocol by closing the connection without sending a <code class="literal">close_notify</code> indicator. PHP will report this as "SSL: Fatal Protocol Error" when you reach the end of the data. To work around this, the value of <a href="https://www.php.net/manual/en/errorfunc.configuration.php#ini.error-reporting" class="link">error_reporting</a> should be lowered to a level that does not include warnings. PHP can detect buggy IIS server software when you open the stream using the <code class="literal">https://</code> wrapper and will suppress the warning. When using <span class="function"><a href="function.fsockopen.html" class="function">fsockopen()</a></span> to create an <code class="literal">ssl://</code> socket, the developer is responsible for detecting and suppressing this warning.</p>
</div> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> If you are experiencing problems with reading and writing to files and you're using the server module version of PHP, remember to make sure that the files and directories you're using are accessible to the server process. </p> </blockquote> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> This function may also succeed when <code class="parameter">filename</code> is a directory. If you are unsure whether <code class="parameter">filename</code> is a file or a directory, you may need to use the <span class="function"><a href="function.is-dir.html" class="function">is_dir()</a></span> function before calling <span class="function"><strong>fopen()</strong></span>. </p> </blockquote> </div> <div class="refsect1 seealso" id="refsect1-function.fopen-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><a href="https://www.php.net/manual/en/wrappers.php" class="xref">Supported Protocols and Wrappers</a></li> <li class="member"><span class="function"><a href="function.fclose.html" class="function" rel="rdfs-seeAlso">fclose()</a> - Closes an open file pointer</span></li> <li class="member"><span class="function"><a href="function.fgets.html" class="function" rel="rdfs-seeAlso">fgets()</a> - Gets line from file pointer</span></li> <li class="member"><span class="function"><a href="function.fread.html" class="function" rel="rdfs-seeAlso">fread()</a> - Binary-safe file read</span></li> <li class="member"><span class="function"><a href="function.fwrite.html" class="function" rel="rdfs-seeAlso">fwrite()</a> - Binary-safe file write</span></li> <li class="member"><span class="function"><a href="function.fsockopen.html" class="function" rel="rdfs-seeAlso">fsockopen()</a> - Open Internet or Unix domain socket connection</span></li> <li class="member"><span class="function"><a href="function.file.html" class="function" rel="rdfs-seeAlso">file()</a> - Reads entire file into an array</span></li> <li class="member"><span class="function"><a href="function.file-exists.html" class="function" rel="rdfs-seeAlso">file_exists()</a> - Checks whether a file or directory exists</span></li> <li class="member"><span class="function"><a href="function.is-readable.html" class="function" rel="rdfs-seeAlso">is_readable()</a> - Tells whether a file exists and is readable</span></li> <li class="member"><span class="function"><a href="function.stream-set-timeout.html" class="function" rel="rdfs-seeAlso">stream_set_timeout()</a> - Set timeout period on a stream</span></li> <li class="member"><span class="function"><a href="function.popen.html" class="function" rel="rdfs-seeAlso">popen()</a> - Opens process file pointer</span></li> <li class="member"><span class="function"><a href="function.stream-context-create.html" class="function" rel="rdfs-seeAlso">stream_context_create()</a> - Creates a stream context</span></li> <li class="member"><span class="function"><a href="function.umask.html" class="function" rel="rdfs-seeAlso">umask()</a> - Changes the current umask</span></li> <li class="member"><span class="classname"><a href="class.splfileobject.html" class="classname">SplFileObject</a></span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.fopen.php" class="_attribution-link">https://www.php.net/manual/en/function.fopen.php</a>
  </p>
</div>
