  <div id="layout"> <div id="layout-content">
<div id="class.worker" class="reference"> <h1 class="title">The Worker class</h1>   <h2 class="title">Introduction</h2>
<p class="verinfo">(PECL pthreads &gt;= 2.0.0)</p> <p class="para"> Worker Threads have a persistent context, as such should be used over Threads in most cases. </p> <p class="para"> When a Worker is started, the run method will be executed, but the Thread will not leave until one of the following conditions are met: </p> <ul class="itemizedlist"> <li class="listitem"> <p class="para">the Worker goes out of scope (no more references remain)</p> </li> <li class="listitem"> <p class="para">the programmer calls shutdown</p> </li> <li class="listitem"> <p class="para">the script dies</p> </li> </ul> <p class="para"> This means the programmer can reuse the context throughout execution; placing objects on the stack of the Worker will cause the Worker to execute the stacked objects run method. </p>   <h2 class="title">Class synopsis</h2> <div class="classsynopsis">  <div class="classsynopsisinfo"> <span class="ooclass"> <span class="modifier">class</span> <strong class="classname">Worker</strong> </span> <span class="ooclass"> <span class="modifier">extends</span> <a href="class.thread.html" class="classname">Thread</a> </span> <span class="oointerface"><span class="modifier">implements</span> <a href="class.traversable.html" class="interfacename">Traversable</a></span><span class="oointerface">, <a href="class.countable.html" class="interfacename">Countable</a></span><span class="oointerface">, <a href="class.arrayaccess.html" class="interfacename">ArrayAccess</a></span> {</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div> <pre class="methodsynopsis dc-description" data-language="php">public collect(Callable $collector = ?): int</pre> <pre class="methodsynopsis dc-description" data-language="php">public getStacked(): int</pre> <pre class="methodsynopsis dc-description" data-language="php">public isShutdown(): bool</pre> <pre class="methodsynopsis dc-description" data-language="php">public shutdown(): bool</pre> <pre class="methodsynopsis dc-description" data-language="php">public stack(Threaded &amp;$work): int</pre> <pre class="methodsynopsis dc-description" data-language="php">public unstack(): int</pre> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Inherited methods */</div> <pre class="methodsynopsis dc-description" data-language="php">public Thread::getCreatorId(): int</pre> <pre class="methodsynopsis dc-description" data-language="php">public static Thread::getCurrentThread(): Thread</pre> <pre class="methodsynopsis dc-description" data-language="php">public static Thread::getCurrentThreadId(): int</pre> <pre class="methodsynopsis dc-description" data-language="php">public Thread::getThreadId(): int</pre> <pre class="methodsynopsis dc-description" data-language="php">public Thread::isJoined(): bool</pre> <pre class="methodsynopsis dc-description" data-language="php">public Thread::isStarted(): bool</pre> <pre class="methodsynopsis dc-description" data-language="php">public Thread::join(): bool</pre> <pre class="methodsynopsis dc-description" data-language="php">public Thread::start(int $options = ?): bool</pre> }</div>   <h2>Table of Contents</h2>
<ul class="chunklist chunklist_reference">
<li>
<a href="worker.collect.html">Worker::collect</a> — Collect references to completed tasks</li>
<li>
<a href="worker.getstacked.html">Worker::getStacked</a> — Gets the remaining stack size</li>
<li>
<a href="worker.isshutdown.html">Worker::isShutdown</a> — State Detection</li>
<li>
<a href="worker.shutdown.html">Worker::shutdown</a> — Shutdown the worker</li>
<li>
<a href="worker.stack.html">Worker::stack</a> — Stacking work</li>
<li>
<a href="worker.unstack.html">Worker::unstack</a> — Unstacking work</li>
</ul> </div> </div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/class.worker.php" class="_attribution-link">https://www.php.net/manual/en/class.worker.php</a>
  </p>
</div>
