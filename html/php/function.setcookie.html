  <div id="layout"> <div id="layout-content"><div id="function.setcookie" class="refentry"> <div class="refnamediv"> <h1 class="refname">setcookie</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">setcookie</span> — <span class="dc-title">Send a cookie</span></p> </div> <div class="refsect1 description" id="refsect1-function.setcookie-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">setcookie(
 string $name,
 string $value = "",
 int $expires_or_options = 0,
 string $path = "",
 string $domain = "",
 bool $secure = false,
 bool $httponly = false
): bool</pre> <p class="para rdfs-comment">Alternative signature available as of PHP 7.3.0 (not supported with named parameters):</p> <pre class="methodsynopsis dc-description" data-language="php">setcookie(string $name, string $value = "", array $options = []): bool</pre> <p class="para rdfs-comment"> <span class="function"><strong>setcookie()</strong></span> defines a cookie to be sent along with the rest of the HTTP headers. Like other headers, cookies must be sent <em>before</em> any output from your script (this is a protocol restriction). This requires that you place calls to this function prior to any output, including <code class="literal">&lt;html&gt;</code> and <code class="literal">&lt;head&gt;</code> tags as well as any whitespace. </p> <p class="para"> Once the cookies have been set, they can be accessed on the next page load with the <var class="varname"><a href="reserved.variables.cookies.html" class="classname">$_COOKIE</a></var> array. Cookie values may also exist in <var class="varname"><a href="reserved.variables.request.html" class="classname">$_REQUEST</a></var>. </p> </div> <div class="refsect1 parameters" id="refsect1-function.setcookie-parameters"> <h3 class="title">Parameters</h3> <p class="para"> <a href="http://www.faqs.org/rfcs/rfc6265" class="link external">» RFC 6265</a> provides the normative reference on how each <span class="function"><strong>setcookie()</strong></span> parameter is interpreted. </p>
<dl> <dt><code class="parameter">name</code></dt> <dd> <p class="para"> The name of the cookie. </p> </dd> <dt><code class="parameter">value</code></dt> <dd> <p class="para"> The value of the cookie. This value is stored on the clients computer; do not store sensitive information. Assuming the <code class="parameter">name</code> is <code class="literal">'cookiename'</code>, this value is retrieved through <var class="varname"><a href="reserved.variables.cookies.html" class="classname">$_COOKIE['cookiename']</a></var> </p> </dd> <dt><code class="parameter">expires_or_options</code></dt> <dd> <p class="para"> The time the cookie expires. This is a Unix timestamp so is in number of seconds since the epoch. One way to set this is by adding the number of seconds before the cookie should expire to the result of calling <span class="function"><a href="function.time.html" class="function">time()</a></span>. For instance, <code class="literal">time()+60*60*24*30</code> will set the cookie to expire in 30 days. Another option is to use the <span class="function"><a href="function.mktime.html" class="function">mktime()</a></span> function. If set to <code class="literal">0</code>, or omitted, the cookie will expire at the end of the session (when the browser closes). </p> 
<blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> You may notice the <code class="parameter">expires_or_options</code> parameter takes on a Unix timestamp, as opposed to the date format <code class="literal">Wdy, DD-Mon-YYYY
         HH:MM:SS GMT</code>, this is because PHP does this conversion internally. </p> </blockquote> </dd> <dt><code class="parameter">path</code></dt> <dd> <p class="para"> The path on the server in which the cookie will be available on. If set to <code class="literal">'/'</code>, the cookie will be available within the entire <code class="parameter">domain</code>. If set to <code class="literal">'/foo/'</code>, the cookie will only be available within the <code class="literal">/foo/</code> directory and all sub-directories such as <code class="literal">/foo/bar/</code> of <code class="parameter">domain</code>. The default value is the current directory that the cookie is being set in. </p> </dd> <dt><code class="parameter">domain</code></dt> <dd> <p class="para"> The (sub)domain that the cookie is available to. Setting this to a subdomain (such as <code class="literal">'www.example.com'</code>) will make the cookie available to that subdomain and all other sub-domains of it (i.e. w2.www.example.com). To make the cookie available to the whole domain (including all subdomains of it), simply set the value to the domain name (<code class="literal">'example.com'</code>, in this case). </p> <p class="para"> Older browsers still implementing the deprecated <a href="http://www.faqs.org/rfcs/rfc2109" class="link external">» RFC 2109</a> may require a leading <code class="literal">.</code> to match all subdomains. </p> </dd> <dt><code class="parameter">secure</code></dt> <dd> <p class="para"> Indicates that the cookie should only be transmitted over a secure HTTPS connection from the client. When set to <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong>, the cookie will only be set if a secure connection exists. On the server-side, it's on the programmer to send this kind of cookie only on secure connection (e.g. with respect to <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER["HTTPS"]</a></var>). </p> </dd> <dt><code class="parameter">httponly</code></dt> <dd> <p class="para"> When <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong> the cookie will be made accessible only through the HTTP protocol. This means that the cookie won't be accessible by scripting languages, such as JavaScript. It has been suggested that this setting can effectively help to reduce identity theft through XSS attacks (although it is not supported by all browsers), but that claim is often disputed. <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong> or <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> </p> </dd> <dt><code class="parameter">options</code></dt> <dd> <p class="para"> An associative <span class="type"><a href="language.types.array.html" class="type array">array</a></span> which may have any of the keys <code class="literal">expires</code>, <code class="literal">path</code>, <code class="literal">domain</code>, <code class="literal">secure</code>, <code class="literal">httponly</code> and <code class="literal">samesite</code>. If any other key is present an error of level <strong><code><a href="https://www.php.net/manual/en/errorfunc.constants.php#constant.e-warning">E_WARNING</a></code></strong> is generated. The values have the same meaning as described for the parameters with the same name. The value of the <code class="literal">samesite</code> element should be either <code class="literal">None</code>, <code class="literal">Lax</code> or <code class="literal">Strict</code>. If any of the allowed options are not given, their default values are the same as the default values of the explicit parameters. If the <code class="literal">samesite</code> element is omitted, no SameSite cookie attribute is set. </p> 
<blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> To set a cookie that includes attributes that aren't among the keys listed, use <span class="function"><a href="function.header.html" class="function">header()</a></span>. </p> </blockquote> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.setcookie-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> If output exists prior to calling this function, <span class="function"><strong>setcookie()</strong></span> will fail and return <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong>. If <span class="function"><strong>setcookie()</strong></span> successfully runs, it will return <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong>. This does not indicate whether the user accepted the cookie. </p> </div> <div class="refsect1 changelog" id="refsect1-function.setcookie-changelog"> <h3 class="title">Changelog</h3> 
<table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.2.0</td> <td> The date format of the cookie is now <code class="literal">'D, d M Y H:i:s \G\M\T'</code>; previously it was <code class="literal">'D, d-M-Y H:i:s T'</code>. </td> </tr> <tr> <td>7.3.0</td> <td> An alternative signature supporting an <code class="parameter">options</code> array has been added. This signature supports also setting of the SameSite cookie attribute. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.setcookie-examples"> <h3 class="title">Examples</h3> <p class="para"> The following examples demonstrate some ways to send cookies. </p>
<div class="example" id="example-4587"> <p><strong>Example #1 <span class="function"><strong>setcookie()</strong></span> send example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

$value = 'something from somewhere';

setcookie("TestCookie", $value);
setcookie("TestCookie", $value, time()+3600);  /* expire in 1 hour */
setcookie("TestCookie", $value, time()+3600, "/~rasmus/", "example.com", true);

?&gt;</pre> </div> </div> <p class="para"> Note that the value portion of the cookie will automatically be urlencoded when you send the cookie, and when it is received, it is automatically decoded and assigned to a variable by the same name as the cookie name. If you don't want this, you can use <span class="function"><a href="function.setrawcookie.html" class="function">setrawcookie()</a></span> instead. To see the contents of our test cookie in a script, simply use one of the following examples: </p> 
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// Print an individual cookie
echo $_COOKIE["TestCookie"];

// Another way to debug/test is to view all cookies
print_r($_COOKIE);
?&gt;</pre> </div> </div> 
<div class="example" id="example-4588"> <p><strong>Example #2 <span class="function"><strong>setcookie()</strong></span> delete example</strong></p> <div class="example-contents"><p> When deleting a cookie you should assure that the expiration date is in the past, to trigger the removal mechanism in your browser. Examples follow how to delete cookies sent in previous example: </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// set the expiration date to one hour ago
setcookie("TestCookie", "", time() - 3600);
setcookie("TestCookie", "", time() - 3600, "/~rasmus/", "example.com", 1);
?&gt;</pre> </div> </div> 
<div class="example" id="example-4589"> <p><strong>Example #3 <span class="function"><strong>setcookie()</strong></span> and arrays</strong></p> <div class="example-contents"><p> You may also set array cookies by using array notation in the cookie name. This has the effect of setting as many cookies as you have array elements, but when the cookie is received by your script, the values are all placed in an array with the cookie's name: </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
// set the cookies
setcookie("cookie[three]", "cookiethree");
setcookie("cookie[two]", "cookietwo");
setcookie("cookie[one]", "cookieone");

// after the page reloads, print them out
if (isset($_COOKIE['cookie'])) {
    foreach ($_COOKIE['cookie'] as $name =&gt; $value) {
        $name = htmlspecialchars($name);
        $value = htmlspecialchars($value);
        echo "$name : $value &lt;br /&gt;\n";
    }
}
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="examplescode">
<pre class="examplescode">three : cookiethree
two : cookietwo
one : cookieone</pre> </div> </div> </div> <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara"> Using separator characters such as <code class="literal">[</code> and <code class="literal">]</code> as part of the cookie name is not compliant to RFC 6265, section 4, but supposed to be supported by user agents according to RFC 6265, section 5. </span> </p></blockquote> </div> <div class="refsect1 notes" id="refsect1-function.setcookie-notes"> <h3 class="title">Notes</h3> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> You can use output buffering to send output prior to the call of this function, with the overhead of all of your output to the browser being buffered in the server until you send it. You can do this by calling <span class="function"><a href="function.ob-start.html" class="function">ob_start()</a></span> and <span class="function"><a href="function.ob-end-flush.html" class="function">ob_end_flush()</a></span> in your script, or setting the <code class="literal">output_buffering</code> configuration directive on in your <var class="filename">php.ini</var> or server configuration files. </p> </blockquote> <p class="para"> Common Pitfalls: </p>
<ul class="itemizedlist"> <li class="listitem"> <span class="simpara"> Cookies will not become visible until the next loading of a page that the cookie should be visible for. To test if a cookie was successfully set, check for the cookie on a next loading page before the cookie expires. Expire time is set via the <code class="parameter">expires_or_options</code> parameter. A nice way to debug the existence of cookies is by simply calling <code class="literal">print_r($_COOKIE);</code>. </span> </li> <li class="listitem"> <span class="simpara"> Cookies must be deleted with the same parameters as they were set with. If the <code class="parameter">value</code> argument is an empty string, and all other arguments match a previous call to <span class="function"><strong>setcookie()</strong></span>, then the cookie with the specified name will be deleted from the remote client. This is internally achieved by setting value to <code class="literal">'deleted'</code> and expiration time in the past. </span> </li> <li class="listitem"> <span class="simpara"> Because setting a cookie with a value of <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> will try to delete the cookie, you should not use boolean values. Instead, use <em>0</em> for <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> and <em>1</em> for <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong>. </span> </li> <li class="listitem"> <span class="simpara"> Cookies names can be set as array names and will be available to your PHP scripts as arrays but separate cookies are stored on the user's system. Consider <span class="function"><a href="function.explode.html" class="function">explode()</a></span> to set one cookie with multiple names and values. It is not recommended to use <span class="function"><a href="function.serialize.html" class="function">serialize()</a></span> for this purpose, because it can result in security holes. </span> </li> </ul> <p class="simpara"> Multiple calls to <span class="function"><strong>setcookie()</strong></span> are performed in the order called. </p> </div> <div class="refsect1 seealso" id="refsect1-function.setcookie-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li><span class="function"><a href="function.header.html" class="function" rel="rdfs-seeAlso">header()</a> - Send a raw HTTP header</span></li> <li><span class="function"><a href="function.setrawcookie.html" class="function" rel="rdfs-seeAlso">setrawcookie()</a> - Send a cookie without urlencoding the cookie value</span></li> <li><a href="https://www.php.net/manual/en/features.cookies.php" class="link">cookies section</a></li> <li><a href="http://www.faqs.org/rfcs/rfc6265" class="link external">» RFC 6265</a></li> <li><a href="http://www.faqs.org/rfcs/rfc2109" class="link external">» RFC 2109</a></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.setcookie.php" class="_attribution-link">https://www.php.net/manual/en/function.setcookie.php</a>
  </p>
</div>
