  <div id="layout"> <div id="layout-content"><div id="rararchive.setallowbroken" class="refentry"> <div class="refnamediv"> <h1 class="refname">RarArchive::setAllowBroken</h1> <p class="verinfo">(PECL rar &gt;= 3.0.0)</p>
<p class="refpurpose"><span class="refname">RarArchive::setAllowBroken</span> â€” <span class="dc-title">Whether opening broken archives is allowed</span></p> </div> <div class="refsect1 description" id="refsect1-rararchive.setallowbroken-description"> <h3 class="title">Description</h3> <p class="para">Object-oriented style (method):</p> <pre class="methodsynopsis dc-description" data-language="php">public RarArchive::setAllowBroken(bool $allow_broken): bool</pre> <p class="para rdfs-comment">Procedural style:</p> <pre class="methodsynopsis dc-description" data-language="php">rar_allow_broken_set(RarArchive $rarfile, bool $allow_broken): bool</pre> <p class="para rdfs-comment"> This method defines whether broken archives can be read or all the operations that attempt to extract the archive entries will fail. Broken archives are archives for which no error is detected when the file is opened but an error occurs when reading the entries. </p> </div> <div class="refsect1 parameters" id="refsect1-rararchive.setallowbroken-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt><code class="parameter">rarfile</code></dt> <dd> <p class="para"> A <span class="type"><a href="class.rararchive.html" class="type RarArchive">RarArchive</a></span> object, opened with <span class="function"><a href="rararchive.open.html" class="function">rar_open()</a></span>. </p> </dd> <dt><code class="parameter">allow_broken</code></dt> <dd> <p class="para"> Whether to allow reading broken files (<strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong>) or not (<strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong>). </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-rararchive.setallowbroken-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong> or <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.false">false</a></code></strong> on failure. It will only fail if the file has already been closed. </p> </div> <div class="refsect1 examples" id="refsect1-rararchive.setallowbroken-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-828"> <p><strong>Example #1 Object-oriented style</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
function retnull() { return null; }
$file = dirname(__FILE__) . "/multi_broken.part1.rar";
/* Third argument omits "volume not found" message */
$a = RarArchive::open($file, null, 'retnull');
$a-&gt;setAllowBroken(true);
foreach ($a-&gt;getEntries() as $e) {
    echo "$e\n";
}
var_dump(count($a));
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="examplescode">
<pre class="examplescode">RarEntry for file "file1.txt" (52b28202)
int(1)</pre> </div> </div> </div> 
<div class="example" id="example-829"> <p><strong>Example #2 Procedural style</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
function retnull() { return null; }
$file = dirname(__FILE__) . "/multi_broken.part1.rar";
/* Third argument omits "volume not found" message */
$a = rar_open($file, null, 'retnull');
rar_allow_broken_set($a, true);
foreach (rar_list($a) as $e) {
    echo "$e\n";
}
var_dump(count($a));
?&gt;</pre> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-rararchive.setallowbroken-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li><span class="methodname"><a href="rararchive.isbroken.html" class="methodname" rel="rdfs-seeAlso">RarArchive::isBroken()</a> - Test whether an archive is broken (incomplete)</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/rararchive.setallowbroken.php" class="_attribution-link">https://www.php.net/manual/en/rararchive.setallowbroken.php</a>
  </p>
</div>
