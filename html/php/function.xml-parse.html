  <div id="layout"> <div id="layout-content"><div id="function.xml-parse" class="refentry"> <div class="refnamediv"> <h1 class="refname">xml_parse</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">xml_parse</span> â€” <span class="dc-title">Start parsing an XML document</span></p> </div> <div class="refsect1 description" id="refsect1-function.xml-parse-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">xml_parse(XMLParser $parser, string $data, bool $is_final = false): int</pre> <p class="para rdfs-comment"> <span class="function"><strong>xml_parse()</strong></span> parses an XML document. The handlers for the configured events are called as many times as necessary. </p> </div> <div class="refsect1 parameters" id="refsect1-function.xml-parse-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">parser</code>
</dt> <dd> <p class="para"> A reference to the XML parser to use. </p> </dd> <dt> <code class="parameter">data</code>
</dt> <dd> <p class="para"> Chunk of data to parse. A document may be parsed piece-wise by calling <span class="function"><strong>xml_parse()</strong></span> several times with new data, as long as the <code class="parameter">is_final</code> parameter is set and <strong><code>true</code></strong> when the last data is parsed. </p> </dd> <dt> <code class="parameter">is_final</code>
</dt> <dd> <p class="para"> If set and <strong><code>true</code></strong>, <code class="parameter">data</code> is the last piece of data sent in this parse. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.xml-parse-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns 1 on success or 0 on failure. </p> <p class="para"> For unsuccessful parses, error information can be retrieved with <span class="function"><a href="function.xml-get-error-code.html" class="function">xml_get_error_code()</a></span>, <span class="function"><a href="function.xml-error-string.html" class="function">xml_error_string()</a></span>, <span class="function"><a href="function.xml-get-current-line-number.html" class="function">xml_get_current_line_number()</a></span>, <span class="function"><a href="function.xml-get-current-column-number.html" class="function">xml_get_current_column_number()</a></span> and <span class="function"><a href="function.xml-get-current-byte-index.html" class="function">xml_get_current_byte_index()</a></span>. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Some errors (such as entity errors) are reported at the end of the data, thus only if <code class="parameter">is_final</code> is set and <strong><code>true</code></strong>. </p> </blockquote> </div> <div class="refsect1 changelog" id="refsect1-function.xml-parse-changelog"> <h3 class="title">Changelog</h3> <table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.0.0</td> <td> <code class="parameter">parser</code> expects an <span class="classname"><a href="class.xmlparser.html" class="classname">XMLParser</a></span> instance now; previously, a valid <code class="literal">xml</code> <span class="type">resource</span> was expected. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.xml-parse-examples"> <h3 class="title">Examples</h3> <div class="example" id=""> <p><strong>Example #1 Chunked parsing of large XML documents</strong></p> <div class="example-contents"><p> This example shows how large XML documents can be read and parsed in chunks, so that it not necessary to keep the whole document in memory. Error handling is omitted for brevity. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$stream = fopen('large.xml', 'r');
$parser = xml_parser_create();
// set up the handlers here
while (($data = fread($stream, 16384))) {
    xml_parse($parser, $data); // parse the current chunk
}
xml_parse($parser, '', true); // finalize parsing
xml_parser_free($parser);
fclose($stream);</pre> </div> </div> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.xml-parse.php" class="_attribution-link">https://www.php.net/manual/en/function.xml-parse.php</a>
  </p>
</div>
