  <div id="layout"> <div id="layout-content"><div id="function.imap-fetchstructure" class="refentry"> <div class="refnamediv"> <h1 class="refname">imap_fetchstructure</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">imap_fetchstructure</span> â€” <span class="dc-title">Read the structure of a particular message</span></p> </div> <div class="refsect1 description" id="refsect1-function.imap-fetchstructure-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">imap_fetchstructure(IMAP\Connection $imap, int $message_num, int $flags = 0): stdClass|false</pre> <p class="para rdfs-comment"> Fetches all the structured information for a given message. </p> </div> <div class="refsect1 parameters" id="refsect1-function.imap-fetchstructure-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">imap</code>
</dt> <dd> <p class="para">An <span class="classname"><a href="class.imap-connection.html" class="classname">IMAP\Connection</a></span> instance.</p>
</dd> <dt> <code class="parameter">message_num</code>
</dt> <dd> <p class="para"> The message number </p> </dd> <dt> <code class="parameter">flags</code>
</dt> <dd> <p class="para"> This optional parameter only has a single option, <strong><code>FT_UID</code></strong>, which tells the function to treat the <code class="parameter">message_num</code> argument as a <code class="literal">UID</code>. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.imap-fetchstructure-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns an object with properties listed in the table below, or <strong><code>false</code></strong> on failure. </p> 
<table class="doctable table"> <caption><strong> Returned Object for <span class="function"><strong>imap_fetchstructure()</strong></span> </strong></caption> <tbody class="tbody"> <tr> <td>type</td> <td>Primary body type</td> </tr> <tr> <td>encoding</td> <td>Body transfer encoding</td> </tr> <tr> <td>ifsubtype</td> <td>
<strong><code>true</code></strong> if there is a subtype string</td> </tr> <tr> <td>subtype</td> <td>
<abbr title="Multipurpose Internet Mail Extensions">MIME</abbr> subtype</td> </tr> <tr> <td>ifdescription</td> <td>
<strong><code>true</code></strong> if there is a description string</td> </tr> <tr> <td>description</td> <td>Content description string</td> </tr> <tr> <td>ifid</td> <td>
<strong><code>true</code></strong> if there is an identification string</td> </tr> <tr> <td>id</td> <td>Identification string</td> </tr> <tr> <td>lines</td> <td>Number of lines</td> </tr> <tr> <td>bytes</td> <td>Number of bytes</td> </tr> <tr> <td>ifdisposition</td> <td>
<strong><code>true</code></strong> if there is a disposition string</td> </tr> <tr> <td>disposition</td> <td>Disposition string</td> </tr> <tr> <td>ifdparameters</td> <td>
<strong><code>true</code></strong> if the <var class="varname">dparameters</var> array exists</td> </tr> <tr> <td>dparameters</td> <td>An array of objects where each object has an <code class="literal">"attribute"</code> and a <code class="literal">"value"</code> property corresponding to the parameters on the <code class="literal">Content-disposition</code> <abbr title="Multipurpose Internet Mail Extensions">MIME</abbr> header.</td> </tr> <tr> <td>ifparameters</td> <td>
<strong><code>true</code></strong> if the parameters array exists</td> </tr> <tr> <td>parameters</td> <td>An array of objects where each object has an <code class="literal">"attribute"</code> and a <code class="literal">"value"</code> property.</td> </tr> <tr> <td>parts</td> <td>An array of objects identical in structure to the top-level object, each of which corresponds to a <abbr title="Multipurpose Internet Mail Extensions">MIME</abbr> body part.</td> </tr> </tbody> </table> 
<table class="doctable table"> <caption><strong>Primary body type (value may vary with used library, use of constants is recommended)</strong></caption> <thead> <tr>
<th>Value</th>
<th>Type</th>
<th>Constant</th>
</tr> </thead> <tbody class="tbody"> <tr>
<td>0</td>
<td>text</td>
<td>TYPETEXT</td>
</tr> <tr>
<td>1</td>
<td>multipart</td>
<td>TYPEMULTIPART</td>
</tr> <tr>
<td>2</td>
<td>message</td>
<td>TYPEMESSAGE</td>
</tr> <tr>
<td>3</td>
<td>application</td>
<td>TYPEAPPLICATION</td>
</tr> <tr>
<td>4</td>
<td>audio</td>
<td>TYPEAUDIO</td>
</tr> <tr>
<td>5</td>
<td>image</td>
<td>TYPEIMAGE</td>
</tr> <tr>
<td>6</td>
<td>video</td>
<td>TYPEVIDEO</td>
</tr> <tr>
<td>7</td>
<td>model</td>
<td>TYPEMODEL</td>
</tr> <tr>
<td>8</td>
<td>other</td>
<td>TYPEOTHER</td>
</tr> </tbody> </table> 
<table class="doctable table"> <caption><strong>Transfer encodings (value may vary with used library, use of constants is recommended)</strong></caption> <thead> <tr>
<th>Value</th>
<th>Type</th>
<th>Constant</th>
</tr> </thead> <tbody class="tbody"> <tr>
<td>0</td>
<td>7bit</td>
<td>ENC7BIT</td>
</tr> <tr>
<td>1</td>
<td>8bit</td>
<td>ENC8BIT</td>
</tr> <tr>
<td>2</td>
<td>Binary</td>
<td>ENCBINARY</td>
</tr> <tr>
<td>3</td>
<td>Base64</td>
<td>ENCBASE64</td>
</tr> <tr>
<td>4</td>
<td>Quoted-Printable</td>
<td>ENCQUOTEDPRINTABLE</td>
</tr> <tr>
<td>5</td>
<td>other</td>
<td>ENCOTHER</td>
</tr> </tbody> </table> </div> <div class="refsect1 changelog" id="refsect1-function.imap-fetchstructure-changelog"> <h3 class="title">Changelog</h3> <table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.1.0</td> <td> The <code class="parameter">imap</code> parameter expects an <span class="classname"><a href="class.imap-connection.html" class="classname">IMAP\Connection</a></span> instance now; previously, a valid <code class="literal">imap</code> <a href="language.types.resource.html" class="link">resource</a> was expected. </td> </tr> </tbody> </table> </div> <div class="refsect1 seealso" id="refsect1-function.imap-fetchstructure-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.imap-fetchbody.html" class="function" rel="rdfs-seeAlso">imap_fetchbody()</a> - Fetch a particular section of the body of the message</span></li> <li class="member"><span class="function"><a href="function.imap-bodystruct.html" class="function" rel="rdfs-seeAlso">imap_bodystruct()</a> - Read the structure of a specified body section of a specific message</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.imap-fetchstructure.php" class="_attribution-link">https://www.php.net/manual/en/function.imap-fetchstructure.php</a>
  </p>
</div>
