  <div id="layout"> <div id="layout-content"><div id="function.ftp-alloc" class="refentry"> <div class="refnamediv"> <h1 class="refname">ftp_alloc</h1> <p class="verinfo">(PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">ftp_alloc</span> â€” <span class="dc-title">Allocates space for a file to be uploaded</span></p> </div> <div class="refsect1 description" id="refsect1-function.ftp-alloc-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">ftp_alloc(FTP\Connection $ftp, int $size, string &amp;$response = null): bool</pre> <p class="para rdfs-comment"> Sends an <code class="literal">ALLO</code> command to the remote FTP server to allocate space for a file to be uploaded. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Many FTP servers do not support this command. These servers may return a failure code (<strong><code>false</code></strong>) indicating the command is not supported or a success code (<strong><code>true</code></strong>) to indicate that pre-allocation is not necessary and the client should continue as though the operation were successful. Because of this, it may be best to reserve this function for servers which explicitly require preallocation. </p> </blockquote>  </div> <div class="refsect1 parameters" id="refsect1-function.ftp-alloc-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">ftp</code>
</dt> <dd> <p class="para">An <span class="classname"><a href="class.ftp-connection.html" class="classname">FTP\Connection</a></span> instance.</p> </dd> <dt> <code class="parameter">size</code>
</dt> <dd> <p class="para"> The number of bytes to allocate. </p> </dd> <dt> <code class="parameter">response</code>
</dt> <dd> <p class="para"> A textual representation of the servers response will be returned by reference in <code class="parameter">response</code> if a variable is provided. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.ftp-alloc-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>true</code></strong> on success or <strong><code>false</code></strong> on failure. </p> </div> <div class="refsect1 changelog" id="refsect1-function.ftp-alloc-changelog"> <h3 class="title">Changelog</h3> <table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.1.0</td> <td> The <code class="parameter">ftp</code> parameter expects an <span class="classname"><a href="class.ftp-connection.html" class="classname">FTP\Connection</a></span> instance now; previously, a <a href="language.types.resource.html" class="link">resource</a> was expected. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.ftp-alloc-examples"> <h3 class="title">Examples</h3> 
<div class="example" id=""> <p><strong>Example #1 <span class="function"><strong>ftp_alloc()</strong></span> example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

$file = "/home/user/myfile";

// connect to the server
$ftp = ftp_connect('ftp.example.com');
$login_result = ftp_login($ftp, 'anonymous', 'user@example.com');

if (ftp_alloc($ftp, filesize($file), $result)) {
  echo "Space successfully allocated on server.  Sending $file.\n";
  ftp_put($ftp, '/incoming/myfile', $file, FTP_BINARY);
} else {
  echo "Unable to allocate space on server.  Server said: $result\n";
}

ftp_close($ftp);

?&gt;</pre> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.ftp-alloc-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.ftp-put.html" class="function" rel="rdfs-seeAlso">ftp_put()</a> - Uploads a file to the FTP server</span></li> <li class="member"><span class="function"><a href="function.ftp-fput.html" class="function" rel="rdfs-seeAlso">ftp_fput()</a> - Uploads from an open file to the FTP server</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2023 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.ftp-alloc.php" class="_attribution-link">https://www.php.net/manual/en/function.ftp-alloc.php</a>
  </p>
</div>
