  <div id="layout"> <div id="layout-content"><div id="function.xml-set-element-handler" class="refentry"> <div class="refnamediv"> <h1 class="refname">xml_set_element_handler</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p>
<p class="refpurpose"><span class="refname">xml_set_element_handler</span> â€” <span class="dc-title">Set up start and end element handlers</span></p> </div> <div class="refsect1 description" id="refsect1-function.xml-set-element-handler-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">xml_set_element_handler(XMLParser $parser, callable $start_handler, callable $end_handler): true</pre> <p class="para rdfs-comment"> Sets the element handler functions for the XML <code class="parameter">parser</code>. </p> <p class="para"> <code class="parameter">start_handler</code> is called when a new XML element is opened. <code class="parameter">end_handler</code> is called when an XML element is closed. </p> </div> <div class="refsect1 parameters" id="refsect1-function.xml-set-element-handler-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt><code class="parameter">parser</code></dt> <dd> <p class="para"> The XML parser. </p> </dd> <dt><code class="parameter">start_handler</code></dt> <dd> <p class="para"> If <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong> is passed, the handler is reset to its default state. </p>
<div class="warning">
<strong class="warning">Warning</strong> <p class="simpara"> An empty string will also reset the handler, however this is deprecated as of PHP 8.4.0. </p> </div> <p class="para"> If <code class="parameter">handler</code> is a <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>, the callable is set as the handler. </p> <p class="para"> If <code class="parameter">handler</code> is a <span class="type"><a href="language.types.string.html" class="type string">string</a></span>, it can be the name of a method of an object set with <span class="function"><a href="function.xml-set-object.html" class="function">xml_set_object()</a></span>. </p>
<div class="warning">
<strong class="warning">Warning</strong> <p class="simpara"> This is deprecated as of PHP 8.4.0. </p> </div> <div class="warning">
<strong class="warning">Warning</strong> <p class="simpara"> As of PHP 8.4.0, the callable is checked to be valid while setting the handler, not when it is called. This means that <span class="function"><a href="function.xml-set-object.html" class="function">xml_set_object()</a></span> must be called prior to setting a method string as the callback. However, as this behaviour is also deprecated as of PHP 8.4.0, using a proper <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> for the method is recommended instead. </p> </div> <p class="para"> The signature of the handler must be: </p>
<pre class="methodsynopsis dc-description" data-language="php">start_element_handler(XMLParser $parser, string $name, array $attributes): void</pre> <dl> <dt><code class="parameter">parser</code></dt> <dd> <span class="simpara"> The XML parser calling the handler. </span> </dd> <dt><code class="parameter">name</code></dt> <dd> <span class="simpara"> Contains the name of the element for which this handler is called. If <a href="https://www.php.net/manual/en/xml.case-folding.php" class="link">case-folding</a> is in effect for this parser, the element name will be in uppercase letters. </span> </dd> <dt><code class="parameter">attributes</code></dt> <dd> <span class="simpara"> An associative array with the element's attributes. The array is empty if the element has no attributes. The keys of this array are the attribute names, the values are the attribute values. Attribute names are <a href="https://www.php.net/manual/en/xml.case-folding.php" class="link">case-folded</a> on the same criteria as element names. Attribute values are <em>not</em> case-folded. </span> <span class="simpara"> The order in which <code class="parameter">attributes</code> is traversed is identical to the order in which the attributes were declared. </span> </dd> </dl> </dd> <dt><code class="parameter">end_handler</code></dt> <dd> <p class="para"> If <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong> is passed, the handler is reset to its default state. </p>
<div class="warning">
<strong class="warning">Warning</strong> <p class="simpara"> An empty string will also reset the handler, however this is deprecated as of PHP 8.4.0. </p> </div> <p class="para"> If <code class="parameter">handler</code> is a <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>, the callable is set as the handler. </p> <p class="para"> If <code class="parameter">handler</code> is a <span class="type"><a href="language.types.string.html" class="type string">string</a></span>, it can be the name of a method of an object set with <span class="function"><a href="function.xml-set-object.html" class="function">xml_set_object()</a></span>. </p>
<div class="warning">
<strong class="warning">Warning</strong> <p class="simpara"> This is deprecated as of PHP 8.4.0. </p> </div> <div class="warning">
<strong class="warning">Warning</strong> <p class="simpara"> As of PHP 8.4.0, the callable is checked to be valid while setting the handler, not when it is called. This means that <span class="function"><a href="function.xml-set-object.html" class="function">xml_set_object()</a></span> must be called prior to setting a method string as the callback. However, as this behaviour is also deprecated as of PHP 8.4.0, using a proper <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> for the method is recommended instead. </p> </div> <p class="para"> The signature of the handler must be: </p>
<pre class="methodsynopsis dc-description" data-language="php">end_element_handler(XMLParser $parser, string $name): void</pre> <dl> <dt><code class="parameter">parser</code></dt> <dd> <span class="simpara"> The XML parser calling the handler. </span> </dd> <dt><code class="parameter">name</code></dt> <dd> <span class="simpara"> Contains the name of the element for which this handler is called. If <a href="https://www.php.net/manual/en/xml.case-folding.php" class="link">case-folding</a> is in effect for this parser, the element name will be in uppercase letters. </span> </dd> </dl> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.xml-set-element-handler-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Always returns <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.true">true</a></code></strong>. </p> </div> <div class="refsect1 changelog" id="refsect1-function.xml-set-element-handler-changelog"> <h3 class="title">Changelog</h3> <table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>8.4.0</td> <td> Passing a non-<span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <span class="type"><a href="language.types.string.html" class="type string">string</a></span> to <code class="parameter">handler</code> is now deprecated, use a proper callable for methods, or <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong> to reset the handler. </td> </tr> <tr> <td>8.4.0</td> <td> The validity of <code class="parameter">handler</code> as a <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> is now checked when setting the handler instead of checking when calling it. </td> </tr> <tr> <td>8.0.0</td> <td> <code class="parameter">parser</code> expects an <span class="classname"><a href="class.xmlparser.html" class="classname">XMLParser</a></span> instance now; previously, a valid <code class="literal">xml</code> <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> was expected. </td> </tr> </tbody> </table> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.xml-set-element-handler.php" class="_attribution-link">https://www.php.net/manual/en/function.xml-set-element-handler.php</a>
  </p>
</div>
