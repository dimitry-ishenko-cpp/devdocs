  <div id="layout"> <div id="layout-content"><div id="pdo.errorcode" class="refentry"> <div class="refnamediv"> <h1 class="refname">PDO::errorCode</h1> <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7, PHP 8, PECL pdo &gt;= 0.1.0)</p>
<p class="refpurpose"><span class="refname">PDO::errorCode</span> â€” <span class="dc-title"> Fetch the SQLSTATE associated with the last operation on the database handle </span></p> </div> <div class="refsect1 description" id="refsect1-pdo.errorcode-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">public PDO::errorCode(): ?string</pre> </div> <div class="refsect1 parameters" id="refsect1-pdo.errorcode-parameters"> <h3 class="title">Parameters</h3> <p class="para">This function has no parameters.</p> </div> <div class="refsect1 returnvalues" id="refsect1-pdo.errorcode-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns an SQLSTATE, a five characters alphanumeric identifier defined in the ANSI SQL-92 standard. Briefly, an SQLSTATE consists of a two characters class value followed by a three characters subclass value. A class value of 01 indicates a warning and is accompanied by a return code of SQL_SUCCESS_WITH_INFO. Class values other than '01', except for the class 'IM', indicate an error. The class 'IM' is specific to warnings and errors that derive from the implementation of PDO (or perhaps ODBC, if you're using the ODBC driver) itself. The subclass value '000' in any class indicates that there is no subclass for that SQLSTATE. </p> <p class="para"> <span class="methodname"><strong>PDO::errorCode()</strong></span> only retrieves error codes for operations performed directly on the database handle. If you create a PDOStatement object through <span class="methodname"><a href="pdo.prepare.html" class="methodname">PDO::prepare()</a></span> or <span class="methodname"><a href="pdo.query.html" class="methodname">PDO::query()</a></span> and invoke an error on the statement handle, <span class="methodname"><strong>PDO::errorCode()</strong></span> will not reflect that error. You must call <span class="methodname"><a href="pdostatement.errorcode.html" class="methodname">PDOStatement::errorCode()</a></span> to return the error code for an operation performed on a particular statement handle. </p> <p class="para"> Returns <strong><code><a href="https://www.php.net/manual/en/reserved.constants.php#constant.null">null</a></code></strong> if no operation has been run on the database handle. </p> </div> <div class="refsect1 examples" id="refsect1-pdo.errorcode-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-1064">
<p><strong>Example #1 Retrieving an SQLSTATE code</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
/* Provoke an error -- the BONES table does not exist */
$dbh-&gt;exec("INSERT INTO bones(skull) VALUES ('lucy')");

echo "\nPDO::errorCode(): ", $dbh-&gt;errorCode();
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="examplescode">
<pre class="examplescode">PDO::errorCode(): 42S02</pre> </div> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-pdo.errorcode-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li><span class="methodname"><a href="pdo.errorinfo.html" class="methodname" rel="rdfs-seeAlso">PDO::errorInfo()</a> - Fetch extended error information associated with the last operation on the database handle</span></li> <li><span class="methodname"><a href="pdostatement.errorcode.html" class="methodname" rel="rdfs-seeAlso">PDOStatement::errorCode()</a> - Fetch the SQLSTATE associated with the last operation on the statement handle</span></li> <li><span class="methodname"><a href="pdostatement.errorinfo.html" class="methodname" rel="rdfs-seeAlso">PDOStatement::errorInfo()</a> - Fetch extended error information associated with the last operation on the statement handle</span></li> </ul> </div> </div></div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1997&ndash;2024 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/pdo.errorcode.php" class="_attribution-link">https://www.php.net/manual/en/pdo.errorcode.php</a>
  </p>
</div>
