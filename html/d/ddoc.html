<h1>Documentation Generator</h1>       <b>Contents</b>  <ol> <li>
<a href="#specifications">Specification</a><ol> <li><a href="#phases_of_processing">Phases of Processing</a></li> <li><a href="#lexical">Lexical</a></li> <li><a href="#parsing">Parsing</a></li> <li><a href="#sections">Sections</a></li> <li><a href="#standard_sections">Standard Sections</a></li> <li><a href="#special_sections">Special Sections</a></li> </ol>
</li> <li>
<a href="#highlighting">Highlighting</a><ol> <li><a href="#embedded_comments">Embedded Comments</a></li> <li><a href="#embedded_code">Embedded Code</a></li> <li><a href="#inline_code">Inline Code</a></li> <li><a href="#embedded_html">Embedded HTML</a></li> <li><a href="#headings">Headings</a></li> <li><a href="#links">Links</a></li> <li><a href="#lists">Lists</a></li> <li><a href="#tables">Tables</a></li> <li><a href="#quotes">Quotes</a></li> <li><a href="#hrules">Horizontal Rules</a></li> <li><a href="#text_emphasis">Text Emphasis</a></li> <li><a href="#emphasis">Identifier Emphasis</a></li> <li><a href="#character_entities">Character Entities</a></li> <li><a href="#punctuation_escapes">Punctuation Escapes</a></li> <li><a href="#no_documentation">No Documentation</a></li> </ol>
</li> <li>
<a href="#macros">Macros</a><ol> <li><a href="#predefined_macros">Predefined Macros</a></li> <li><a href="#macro_def_scini">Macro Definitions from <code>sc.ini</code>'s DDOCFILE</a></li> <li><a href="#macro_def_ddoc_file">Macro Definitions from .ddoc Files on the Command Line</a></li> <li><a href="#macro_def_ddocgenerated">Macro Definitions Generated by Ddoc</a></li> </ol>
</li> <li><a href="#using_ddoc_to_generate_examples">Using Ddoc to generate examples from unit tests</a></li> <li><a href="#using_ddoc_for_other_documentation">Using Ddoc for other Documentation</a></li> <li><a href="#security">Security considerations</a></li> <li><a href="#links_to_d_documentation_generators">Links to D documentation generators</a></li> </ol>   <p>The D programming language enables embedding both contracts and test code along side the actual code, which helps to keep them all consistent with each other. One thing lacking is the documentation, as ordinary comments are usually unsuitable for automated extraction and formatting into manual pages. Embedding the user documentation into the source code has important advantages, such as not having to write the documentation twice, and the likelihood of the documentation staying consistent with the code. </p>  <p>Some existing approaches to this are: </p>  <ul>
<li>
<a href="http://www.stack.nl/~dimitri/doxygen">Doxygen</a> which already has some support for D</li> <li>Java's <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/javadoc/index.html">Javadoc</a>, probably the most well-known</li> <li>C#'s <a href="https://msdn.microsoft.com/en-us/library/b2s063f7.aspx">embedded XML</a>
</li> <li>Other <a href="https://python.org/sigs/doc-sig/otherlangs.html">documentation tools</a>
</li> </ul>  <p>D's goals for embedded documentation are: </p>  <ol> <li>It looks good as embedded documentation, not just after it is extracted and processed.</li> <li>It's easy and natural to write, i.e. minimal reliance on &lt;tags&gt; and other clumsy forms one would never see in a finished document.</li> <li>It does not repeat information that the compiler already knows from parsing the code.</li> <li>It doesn't rely on embedded HTML, as such will impede extraction and formatting for other purposes.</li> <li>It's based on existing D comment forms, so it is completely independent of parsers only interested in D code.</li> <li>It should look and feel different from code, so it won't be visually confused with code.</li> <li>It should be possible for the user to use Doxygen or other documentation extractor if desired.</li> </ol>  <h2 id="specifications">Specification</h2>  <p>The specification for the form of embedded documentation comments only specifies how information is to be presented to the compiler. It is implementation-defined how that information is used and the form of the final presentation. Whether the final presentation form is an HTML web page, a man page, a PDF file, etc. is not specified as part of the D Programming Language. </p>  <h3 id="phases_of_processing">Phases of Processing</h3>  <p>Embedded documentation comments are processed in a series of phases: </p>  <ol> <li>Lexical - documentation comments are identified and attached to tokens.</li> <li>Parsing - documentation comments are associated with specific declarations and combined.</li> <li>Sections - each documentation comment is divided up into a sequence of sections.</li> <li>Special sections are processed.</li> <li>Highlighting of non-special sections is done.</li> <li>All sections for the module are combined.</li> <li>Macro and Escape text substitution is performed to produce the final result.</li> </ol>  <h3 id="lexical">Lexical</h3>  <p>Embedded documentation comments are one of the following forms: </p>  <ol> <li>
<span class="d_comment">/** ... */</span> The two *'s after the opening /</li> <li>
<span class="d_comment">/++ ... +/</span> The two +'s after the opening /</li> <li>
<span class="d_comment">///</span> The three slashes</li> </ol>  <p>The following are all embedded documentation comments:</p>  <pre data-language="d">/// This is a one line documentation comment.

/** So is this. */

/++ And this. +/

/**
   This is a brief documentation comment.
 */

/**
 * The leading * on this line is not part of the documentation comment.
 */

/*********************************
   The extra *'s immediately following the /** are not
   part of the documentation comment.
 */

/++
   This is a brief documentation comment.
 +/

/++
 + The leading + on this line is not part of the documentation comment.
 +/

/+++++++++++++++++++++++++++++++++
   The extra +'s immediately following the / ++ are not
   part of the documentation comment.
 +/

/**************** Closing *'s are not part *****************/
</pre>  <p>The extra *'s and +'s on the comment opening, closing and left margin are ignored and are not part of the embedded documentation. Comments not following one of those forms are not documentation comments. </p>  <h3 id="parsing">Parsing</h3>  <p>Each documentation comment is associated with a declaration. If the documentation comment is on a line by itself or with only whitespace to the left, it refers to the next declaration. Multiple documentation comments applying to the same declaration are concatenated. Documentation comments not associated with a declaration are ignored. Documentation comments preceding the <i>ModuleDeclaration</i> apply to the entire module. If the documentation comment appears on the same line to the right of a declaration, it applies to that. </p>  <p>If a documentation comment for a declaration consists only of the identifier <code>ditto</code> then the documentation comment for the previous declaration at the same declaration scope is applied to this declaration as well. </p>  <p>If there is no documentation comment for a declaration, that declaration may not appear in the output. To ensure it does appear in the output, put an empty declaration comment for it. </p>  <pre data-language="d">int a;  /// documentation for a; b has no documentation
int b;

/** documentation for c and d */
/** more documentation for c and d */
int c;
/** ditto */
int d;

/** documentation for e and f */ int e;
int f;  /// ditto

/** documentation for g */
int g; /// more documentation for g

/// documentation for C and D
class C
{
    int x; /// documentation for C.x

    /** documentation for C.y and C.z */
    int y;
    int z; /// ditto
}

/// ditto
class D { }
</pre>  <h3 id="sections">Sections</h3>  <p>The document comment is a series of <i>Section</i>s. A <i>Section</i> is a name that is the first non-blank character on a line immediately followed by a ':'. This name forms the section name. The section name is not case sensitive. </p>  <p>Section names starting with 'http://' or 'https://' are not recognized as section names. </p>  <h4 id="summary">Summary</h4>  <p>The first section is the <i>Summary</i>, and does not have a section name. It is first paragraph, up to a blank line or a section name. While the summary can be any length, try to keep it to one line. The <i>Summary</i> section is optional. </p>  <h4 id="description">Description</h4>  <p>The next unnamed section is the <i>Description</i>. It consists of all the paragraphs following the <i>Summary</i> until a section name is encountered or the end of the comment. </p>  <p>While the <i>Description</i> section is optional, there cannot be a <i>Description</i> without a <i>Summary</i> section. </p>  <pre data-language="d">/***********************************
 * Brief summary of what
 * myfunc does, forming the summary section.
 *
 * First paragraph of synopsis description.
 *
 * Second paragraph of
 * synopsis description.
 */

void myfunc() { }
</pre>  <p>Named sections follow the <i>Summary</i> and <i>Description</i> unnamed sections. </p>  <h3 id="standard_sections">Standard Sections</h3>  <p>For consistency and predictability, there are several standard sections. None of these are required to be present. </p>  <dl>
<dt><b>Authors:</b></dt> <dd>Lists the author(s) of the declaration.</dd> <pre data-language="d">/**
 * Authors: Melvin D. Nerd, melvin@mailinator.com
 */
</pre>  <dt> <b>Bugs:</b>
</dt> <dd>Lists any known bugs.</dd> <pre data-language="d">/**
 * Bugs: Doesn't work for negative values.
 */
</pre>  <dt> <b>Date:</b>
</dt> <dd>Specifies the date of the current revision. The date should be in a form parseable by std.date.</dd>  <pre data-language="d">/**
 * Date: March 14, 2003
 */
</pre>  <dt> <b>Deprecated:</b>
</dt> <dd>Provides an explanation for and corrective action to take if the associated declaration is marked as deprecated.</dd>  <pre data-language="d">/**
 * Deprecated: superseded by function bar().
 */

deprecated void foo() { ... }
</pre>  <dt> <b>Examples:</b>
</dt> <dd>Any usage examples</dd> <pre data-language="d">/**
 * Examples:
 * --------------------
 * writeln("3"); // writes '3' to stdout
 * --------------------
 */
</pre>  <dt> <b>History:</b>
</dt> <dd>Revision history.</dd> <pre data-language="d">/**
 * History:
 *      V1 is initial version
 *
 *      V2 added feature X
 */
</pre>  <dt> <b>License:</b>
</dt> <dd>Any license information for copyrighted code.</dd> <pre data-language="d">/**
 * License: use freely for any purpose
 */

void bar() { ... }
</pre>  <dt> <b>Returns:</b>
</dt> <dd>Explains the return value of the function. If the function returns <b>void</b>, don't redundantly document it.</dd> <pre data-language="d">/**
 * Read the file.
 * Returns: The contents of the file.
 */

void[] readFile(const(char)[] filename) { ... }
</pre>  <dt> <b>See_Also:</b>
</dt> <dd>List of other symbols and URLs to related items.</dd> <pre data-language="d">/**
 * See_Also:
 *    foo, bar, http://www.digitalmars.com/d/phobos/index.html
 */
</pre>  <dt> <b>Standards:</b>
</dt> <dd>If this declaration is compliant with any particular standard, the description of it goes here.</dd> <pre data-language="d">/**
 * Standards: Conforms to DSPEC-1234
 */
</pre>  <dt><b>Throws:</b></dt> <dd>Lists exceptions thrown and under what circumstances they are thrown.</dd> <pre data-language="d">/**
 * Write the file.
 * Throws: WriteException on failure.
 */

void writeFile(string filename) { ... }
</pre>  <dt> <b>Version:</b>
</dt> <dd>Specifies the current version of the declaration.</dd> <pre data-language="d">/**
 * Version: 1.6a
 */
</pre> </dl>  <h3 id="special_sections">Special Sections</h3>  <p>Some sections have specialized meanings and syntax. </p>  <dl>
<dt> <b>Copyright:</b>
</dt> <dd>This contains the copyright notice. The macro COPYRIGHT is set to the contents of the section when it documents the module declaration. The copyright section only gets this special treatment when it is for the module declaration.</dd>  <pre data-language="d">/** Copyright: Public Domain */

module foo;
</pre>  <dt> <b>Params:</b>
</dt> <dd>Function parameters can be documented by listing them in a params section. Each line that starts with an identifier followed by an '=' starts a new parameter description. A description can span multiple lines.</dd>  <pre data-language="d">/***********************************
 * foo does this.
 * Params:
 *      x =     is for this
 *              and not for that
 *      y =     is for that
 */

void foo(int x, int y)
{
}
</pre>  <dt> <b>Macros:</b>
</dt> <dd>The macros section follows the same syntax as the <b>Params:</b> section. It's a series of <i>NAME</i>=<i>value</i> pairs. The <i>NAME</i> is the macro name, and <i>value</i> is the replacement text.</dd> <pre data-language="d">/**
 * Macros:
 *      FOO =   now is the time for
 *              all good men
 *      BAR =   bar
 *      MAGENTA =   &lt;font color="magenta"&gt;&amp;dollar;0&lt;/font&gt;
 */
</pre>   <dt> <b>Escapes=</b>
</dt> <dd>The escapes section is a series of substitutions which replace special characters with a string. It's useful when the output format requires escaping of certain characters, for example in HTML <b>&amp;</b> should be escaped with <b>&amp;amp;</b>.</dd> <dd>The syntax is <b>/c/string/</b>, where <b>c</b> is either a single character, or multiple characters separated by whitespace or commas, and <b>string</b> is the replacement text.</dd>  <pre data-language="d">/**
 * ESCAPES = /&amp;/AddressOf!/
 *           /!/Exclamation/
 *           /?/QuestionMark/
 *           /,/Comma/
 *           /{ }/Parens/
 *           /&lt;,&gt;/Arrows/
 */
</pre> </dl>  <h2 id="highlighting">Highlighting</h2>  <h3 id="embedded_comments">Embedded Comments</h3>  <p> The documentation comments can themselves be commented using the &amp;dollar;<code>(DDOC_COMMENT comment text)</code> syntax. These comments do not nest. </p>  <h3 id="embedded_code">Embedded Code</h3>  <p> D code can be embedded using lines beginning with at least three hyphens <code>-</code>, backticks <code>`</code> or tildes <code>~</code> (ignoring whitespace) to delineate the code section: </p>  <pre data-language="d">/++
 + Our function.
 +
 + Example:
 + ---
 + import std.stdio;
 +
 + void foo()
 + {
 +     writeln("foo!");  /* print the string */
 + }
 + ---
 +/
</pre>  <p> Note that in the above example the documentation comment uses the <span class="d_comment">/++ ... +/</span> form so that <span class="d_comment">/* ... */</span> can be used inside the code section. </p>  <p> D code gets automatic syntax highlighting. To include code in another language without syntax highlighting, add a language string at the end of the top delimiter line: </p>  <pre data-language="d">/++
 + Some C++
 + ``` cpp
 + #include &lt;iostream&gt;
 +
 + void foo()
 + {
 +     std::cout &lt;&lt; "foo!";
 + }
 + ```
 +/
</pre>  <h3 id="inline_code">Inline Code</h3>  <p> Inline code can be written between backtick characters (`), similarly to the syntax used on GitHub, Reddit, Stack Overflow, and other websites. Both the opening and closing ` character must appear on the same line to trigger this behavior. </p>  <p> Text inside these sections will be escaped according to the rules described above, then wrapped in a <code>&amp;dollar;(DDOC_BACKQUOTED)</code> macro. By default, this macro expands to be displayed as an inline text span, formatted as code. </p>  <p> A literal backtick character can be output either as a non-paired ` on a single line or by using the <code>&amp;dollar;(BACKTICK)</code> macro. </p>  <pre data-language="d"> /// Returns `true` if `a == b`.
 void foo() {}

 /// Backquoted `&lt;html&gt;` will be displayed to the user instead
 /// of passed through as embedded HTML (see below).
 void bar() {}
</pre>  <h3 id="embedded_html">Embedded HTML</h3>  <p>HTML can be embedded into the documentation comments, and it will be passed through to the HTML output unchanged. However, since it is not necessarily true that HTML will be the desired output format of the embedded documentation comment extractor, it is best to avoid using it where practical. </p>  <pre data-language="d">/**
 * Example of embedded HTML:
 *
 * &lt;ol&gt;
 *   &lt;li&gt;&lt;a href="http://www.digitalmars.com"&gt;Digital Mars&lt;/a&gt;&lt;/li&gt;
 *   &lt;li&gt;&lt;a href="http://www.classicempire.com"&gt;Empire&lt;/a&gt;&lt;/li&gt;
 * &lt;/ol&gt;
 */
</pre>  <h3 id="headings">Headings</h3>  <p>A long documentation section can be subdivided by adding headings. A heading is a line of text that starts with one to six <code>#</code> characters followed by whitespace and then the heading text. The number of <code>#</code> characters determines the heading level. Headings may optionally end with any number of trailing <code>#</code> characters. </p>  <pre data-language="d">/**
 * # H1
 * ## H2
 * ### H3
 * #### H4 ###
 * ##### H5 ##
 * ###### H6 #
 */
</pre>  <h3 id="links">Links</h3>  <p>Documentation may link to other documentation or to a URL. There are four styles of links: </p>  <pre data-language="d">/**
 * Some links:
 *
 * 1. A [reference link][ref] and bare reference links: [ref] or [Object]
 * 2. An [inline link](https://dlang.org)
 * 3. A bare URL: https://dlang.org
 * 4. An ![image](https://dlang.org/images/d3.png)
 *
 * [ref]: https://dlang.org "The D Language Website"
 */
</pre>  <h4 id="reference_links">Reference Links</h4>  <p>Reference-style links enclose a reference label in square brackets. They may optionally be preceded by some link text, also enclosed in square brackets. </p>  <p>The reference label must match a reference defined elsewhere. This may be a D symbol in scope of the source code being documented, like <code>[Object]</code> in the example above, or it may be an explicit reference that is defined in the same documentation comment, like <code>[ref]</code> in the example above. In the example both instances of <code>[ref]</code> in item <code>1.</code> will be replaced with the URL and title text from the matching definition at the bottom of the example. The first link will read <code>reference link</code> and the second will read <code>ref</code>. </p>  <p>Reference definitions start with a label in square brackets, followed by a colon, a URL and an optional title wrapped in single or double quotes, or in parentheses. If a reference label would match both a D symbol and a reference definition then the reference definition is used. </p>  <p>The generated links to D symbols are relative if they have the same root package as the module being documented. If not, their URLs are preceded by a <code>&amp;dollar;(DDOC_ROOT_pkg)</code> macro, where <code>pkg</code> is the root package of the symbol being linked to. Links to D symbols are generated with a <code>&amp;dollar;(DOC_EXTENSION)</code> macro after the module name. Then the generated URL for <code>[Object]</code> in the above example is as if it had been written: </p>  <pre data-language="d">&amp;dollar;(DOC_ROOT_object)object&amp;dollar;(DOC_EXTENSION)#.Object
</pre>  <p><code>DOC_ROOT_</code> macros can be defined for any external packages to link to using a <a href="#macros">Macros section</a>. </p>  <h4 id="inline_links">Inline Links</h4>  <p>Inline-style links enclose link text in square brackets and the link URL in parentheses. Like reference links, the URL may optionally be followed by title text wrapped in single or double quotes, or in parentheses: </p>  <pre data-language="d">/// [a link with title text](https://dlang.org 'Some title text')
</pre>  <h4 id="urls">Bare URLs</h4>  <p>Bare URLs are sequences of characters that start with <code>http://</code> or <code>https://</code>, continue with one or more characters from the set of letters, digits and <code>-_?=%&amp;/+#~.</code>, and contain at least one period. URL recognition happens before all macro text substitution. The URL is wrapped in a <code>&amp;dollar;(DDOC_LINK_AUTODETECT)</code> macro and is otherwise left untouched. </p>  <h4 id="images">Images</h4>  <p>Images have the same form as reference or inline links, but add an exclamation point <code>!</code> before the initial square bracket. What would be the link text in a normal link is used as the image's alt text. </p>  <h3 id="lists">Lists</h3>  <p>Documentation may contain lists. Start an ordered list with a number followed by a period: </p>  <pre data-language="d">/**
 * 1. First this
 * 2. Then this
 *    1. A sub-item
 */
</pre>  <p>Start an unordered list with a hyphen (<code>-</code>), an asterisk (<code>*</code>) or a plus (<code>+</code>). Subsequent items in the same list must also start with the same symbol: </p>  <pre data-language="d">/**
 * - A list
 * - With a second item
 *
 * + A different list
 *   - With a sub-item
 *
 * * A third list (note the double asterisks)
 */
</pre>  <p>Note the double asterisks in the example above. This is because the list is inside a documentation comment that is delimited with asterisks, so the initial asterisk is considered part of the documentation comment, not a list item. This is even true when other lines don't start with an asterisk: </p>  <pre data-language="d">/**
 - A list
 * Not a list because the asterisk is part of the documentation comment
 */

/++
 + + The caveat also applies to plus-delimited documentation comments
 +/
</pre>  <p>List items can include content like new paragraphs, headings, embedded code, or child list items. Simply indent the content to match the indent of the text after the list symbol: </p>  <pre data-language="d">/**
 * - A parent list item
 *
 *   With a second paragraph
 *
 *   - A sub-item
 *     ---
 *     // A code example inside the sub-item
 *     ---
 */
</pre>  <h3 id="tables">Tables</h3>  <p>Data may be placed into a table. Tables consist of a single header row, a delimiter row, and zero or more data rows. Cells in each row are separated by pipe (<code>|</code>) characters. Initial and trailing <code>|</code>'s are optional. The number of cells in the delimiter row must match the number of cells in the header row: </p>  <pre data-language="d">/**
 *  | Item | Price |
 *  | ---- | ----: |
 *  | Wigs | &amp;dollar;10 |
 *    Wheels | &amp;dollar;13
 *  | Widgets | &amp;dollar;200 |
 */
</pre>  <p>Cells in the delimiter row contain hyphens (<code>-</code>) and optional colons (<code>:</code>). A <code>:</code> to the left of the hyphens creates a left-aligned column, a <code>:</code> to the right of the hyphens creates a right-aligned column (like the example above), and <code>:</code>'s on both sides of the hyphens create a center-aligned column. </p>  <h3 id="quotes">Quotes</h3>  <p>Documentation may include a section of quoted material by prefixing each line of the section with a <code>&gt;</code>. Quotes may include headings, lists, embedded code, etc. </p>  <pre data-language="d">/**
 * &gt; To D, or not to D. -- Willeam NerdSpeare
 */
</pre>  <p>Lines of text that directly follow a quoted line are considered part of the quote: </p>  <pre data-language="d">/**
 * &gt; This line
 * and this line are both part of the quote
 *
 * This line is not part of the quote.
 */
</pre>  <h3 id="hrules">Horizontal Rules</h3>  <p>Create a horizontal rule by adding a line containing three or more asterisks, underscores or hyphens: </p>  <pre data-language="d">/**
 * ***
 * ___
 */
</pre>  <p>As with <a href="#lists">lists</a>, note that the initial <code>*</code> in the example above will be stripped because it is part of a documentation comment that is delimited with asterisks. At least three subsequent asterisks are needed. </p>  <p>To create a horizontal rule with hyphens, add spaces between the hyphens. Without the spaces they would be treated as the start or end of an <a href="#embedded_code">embedded code block</a>. Note that any horizontal rule may contain spaces: </p>  <pre data-language="d">/**
 * - - -
 * _ _ _
 * * * *
 */
</pre>  <h3 id="text_emphasis">Text Emphasis</h3>  <p>A span of text wrapped in asterisks (<code>*</code>) is emphasized, and text wrapped in two asterisks (<code>**</code>) is strongly emphasized: </p>  <p><code>*single asterisks*</code> is rendered as <em>single asterisks</em>. </p>  <p><code>**double asterisks**</code> is rendered as <strong>double asterisks</strong>. </p>  <p>Insert a literal asterisk by <a href="#punctuation_escapes">backslash-escaping</a> it: <code>\*</code> is rendered as *. </p>  <p>Unlike <a href="https://daringfireball.net/projects/markdown/syntax">Markdown</a>, underscores (<code>_</code>) are not supported for emphasizing text because it would break snake_case names and underscore prefix processing in <a href="#emphasis">identifier emphasis</a>. </p>  <h3 id="emphasis">Identifier Emphasis</h3>  <p>Identifiers in documentation comments that are function parameters or are names that are in scope at the associated declaration are emphasized in the output. This emphasis can take the form of italics, boldface, a hyperlink, etc. How it is emphasized depends on what it is <nobr> — </nobr> a function parameter, type, D keyword, etc. To prevent unintended emphasis of an identifier, it can be preceded by an underscore (_). The underscore will be stripped from the output. </p>  <h3 id="character_entities">Character Entities</h3>  <p> Some characters have special meaning to the documentation processor, to avoid confusion it can be best to replace them with their corresponding character entities: </p>  <table>
<caption>Characters and Entities</caption> <tr>
<th class="donthyphenate"><b>Character</b></th>
<th class="donthyphenate"><b>Entity</b></th>
</tr> <tr>
<td><code>&lt;</code></td>
<td>&amp;lt;</td>
</tr> <tr>
<td><code>&gt;</code></td>
<td>&amp;gt;</td>
</tr> <tr>
<td><code>&amp;</code></td>
<td>&amp;amp;</td>
</tr>
</table>  <p> It is not necessary to do this inside a code section, or if the special character is not immediately followed by a # or a letter. </p>  <h3 id="punctuation_escapes">Punctuation Escapes</h3>  <p> Escape any ASCII punctuation symbol with a backslash <code>\</code>. Doing so outputs the original character without the backslash, except for the following characters which output predefined macros instead: </p>  <table>
<caption>Characters and Escape Macros</caption> <tr>
<th class="donthyphenate"><b>Character</b></th>
<th class="donthyphenate"><b>Macro</b></th>
</tr> <tr>
<td><code>(</code></td>
<td>&amp;dollar;(LPAREN)</td>
</tr> <tr>
<td><code>)</code></td>
<td>&amp;dollar;(RPAREN)</td>
</tr> <tr>
<td><code>,</code></td>
<td>&amp;dollar;(COMMA)</td>
</tr> <tr>
<td><code>&amp;dollar;</code></td>
<td>&amp;dollar;(DOLLAR)</td>
</tr>
</table>  <p> To output a backslash, simply use two backslashes in a row: <code>\\</code>. Note that backslashes inside embedded or inline code do <em>not</em> escape punctuation and are included in the output as-is. Backslashes before non-punctation are also included in the output as-is. For example, <code>C:\dmd2\bin\dmd.exe</code> does not require escaping its embedded backslashes. </p>  <h3 id="no_documentation">No Documentation</h3>  <p> No documentation is generated for the following constructs, even if they have a documentation comment: </p>  <ul> <li>Invariants</li> <li>Postblits</li> <li>Destructors</li> <li>Static constructors and static destructors</li> <li>Class info, type info, and module info</li> </ul>  <h2 id="macros">Macros</h2>  <p> The documentation comment processor includes a simple macro text preprocessor. When a &amp;dollar;(<i>NAME</i>) appears in section text it is replaced with <i>NAME</i>s corresponding replacement text.</p>  For example: <pre data-language="d">/**
Macros:
 PARAM = &lt;u&gt;&amp;dollar;1&lt;/u&gt;
 MATH_DOCS = &lt;a href="https://dlang.org/phobos/std_math.html"&gt;Math Docs&lt;/a&gt;
*/
module math;

/**
 * This function returns the sum of &amp;dollar;(PARAM a) and &amp;dollar;(PARAM b).
 * See also the &amp;dollar;(MATH_DOCS).
 */
int sum(int a, int b) { return a + b; }
</pre>  <p> The above would generate the following output:</p>  <pre data-language="d">&lt;h1&gt;test&lt;/h1&gt;
&lt;dl&gt;&lt;dt&gt;&lt;big&gt;&lt;a name="sum"&gt;&lt;/a&gt;int &lt;u&gt;sum&lt;/u&gt;(int &lt;i&gt;a&lt;/i&gt;, int &lt;i&gt;b&lt;/i&gt;);
&lt;/big&gt;&lt;/dt&gt;
&lt;dd&gt;This function returns the &lt;u&gt;sum&lt;/u&gt; of &lt;u&gt;&lt;i&gt;a&lt;/i&gt;&lt;/u&gt; and &lt;u&gt;&lt;i&gt;b&lt;/i&gt;&lt;/u&gt;.
 See also the &lt;a href="https://dlang.org/phobos/std_math.html"&gt;Math Docs&lt;/a&gt;.
&lt;/dd&gt;
&lt;/dl&gt;
</pre>  <p> The replacement text is recursively scanned for more macros. If a macro is recursively encountered, with no argument or with the same argument text as the enclosing macro, it is replaced with no text. Macro invocations that cut across replacement text boundaries are not expanded. If the macro name is undefined, the replacement text has no characters in it. If a &amp;dollar;(NAME) is desired to exist in the output without being macro expanded, the &amp;dollar; should be <a href="#punctuation_escapes"> backslash-escaped</a>: <code>\$</code>. </p>  <p> Macros can have arguments. Any text from the end of the identifier to the closing ‘)’ is the &amp;dollar;0 argument. A &amp;dollar;0 in the replacement text is replaced with the argument text. If there are commas in the argument text, &amp;dollar;1 will represent the argument text up to the first comma, &amp;dollar;2 from the first comma to the second comma, etc., up to &amp;dollar;9. &amp;dollar;+ represents the text from the first comma to the closing ‘)’. The argument text can contain nested parentheses, "" or '' strings, <code>&lt;</code><code>!--</code> <code>...</code> <code>--</code><code>&gt;</code> comments, or tags. If stray, unnested parentheses are used, they can be <a href="#punctuation_escapes">backslash-escaped</a>: <code>\(</code> or <code>\)</code>. </p>  <p> Macro definitions come from the following sources, in the specified order: </p>  <ol> <li>Predefined macros.</li> <li>Definitions from file specified by <a href="https://dlang.org/dmd-windows.html">sc.ini</a>'s or <a href="https://dlang.org/dmd-linux.html#dmd_conf">dmd.conf</a> DDOCFILE setting.</li> <li>Definitions from *.ddoc files specified on the command line.</li> <li>Runtime definitions generated by Ddoc.</li> <li>Definitions from any Macros: sections.</li> </ol>  <p> Macro redefinitions replace previous definitions of the same name. This means that the sequence of macro definitions from the various sources forms a hierarchy. </p>  <p> Macro names beginning with "D_" and "DDOC_" are reserved. </p>  <h3 id="predefined_macros">Predefined Macros</h3>  <p> A number of macros are predefined Ddoc, and represent the minimal definitions needed by Ddoc to format and highlight the presentation. The definitions are for simple HTML.</p>  <p>The implementations of all predefined macros are implementation-defined. The reference implementation's macro definitions can be found <a href="https://github.com/dlang/dmd/blob/master/res/default_ddoc_theme.ddoc">here</a>.</p>  <p> Ddoc does not generate HTML code. It formats into the basic formatting macros, which (in their predefined form) are then expanded into HTML. If output other than HTML is desired, then these macros need to be redefined. </p>  <table>
<caption>Predefined Formatting Macros</caption> <tr>
<th class="donthyphenate"><b>Name</b></th>
<th class="donthyphenate"><b>Description</b></th>
</tr> <tr>
<td><code>B</code></td>
<td>boldface the argument</td>
</tr> <tr>
<td><code>I</code></td>
<td>italicize the argument</td>
</tr> <tr>
<td><code>U</code></td>
<td>underline the argument</td>
</tr> <tr>
<td><code>P</code></td>
<td>argument is a paragraph</td>
</tr> <tr>
<td><code>DL</code></td>
<td>argument is a definition list</td>
</tr> <tr>
<td><code>DT</code></td>
<td>argument is a definition in a definition list</td>
</tr> <tr>
<td><code>DD</code></td>
<td>argument is a description of a definition</td>
</tr> <tr>
<td><code>TABLE</code></td>
<td>argument is a table</td>
</tr> <tr>
<td><code>TR</code></td>
<td>argument is a row in a table</td>
</tr> <tr>
<td><code>TH</code></td>
<td>argument is a header entry in a row</td>
</tr> <tr>
<td><code>TD</code></td>
<td>argument is a data entry in a row</td>
</tr> <tr>
<td><code>OL</code></td>
<td>argument is an ordered list</td>
</tr> <tr>
<td><code>UL</code></td>
<td>argument is an unordered list</td>
</tr> <tr>
<td><code>LI</code></td>
<td>argument is an item in a list</td>
</tr> <tr>
<td><code>BIG</code></td>
<td>argument is one font size bigger</td>
</tr> <tr>
<td><code>SMALL</code></td>
<td>argument is one font size smaller</td>
</tr> <tr>
<td><code>BR</code></td>
<td>start new line</td>
</tr> <tr>
<td><code>LINK</code></td>
<td>generate clickable link on argument</td>
</tr> <tr>
<td><code>LINK2</code></td>
<td>generate clickable link, first arg is address</td>
</tr> <tr>
<td><code>RED</code></td>
<td>argument is set to be red</td>
</tr> <tr>
<td><code>BLUE</code></td>
<td>argument is set to be blue</td>
</tr> <tr>
<td><code>GREEN</code></td>
<td>argument is set to be green</td>
</tr> <tr>
<td><code>YELLOW</code></td>
<td>argument is set to be yellow</td>
</tr> <tr>
<td><code>BLACK</code></td>
<td>argument is set to be black</td>
</tr> <tr>
<td><code>WHITE</code></td>
<td>argument is set to be white</td>
</tr> <tr>
<td><code>D_CODE</code></td>
<td>argument is D code</td>
</tr> <tr>
<td><code>D_INLINECODE</code></td>
<td>argument is inline D code</td>
</tr> <tr>
<td><code>LF</code></td>
<td>Insert a line feed (newline)</td>
</tr> <tr>
<td><code>LPAREN</code></td>
<td>Insert a left parenthesis</td>
</tr> <tr>
<td><code>RPAREN</code></td>
<td>Insert a right parenthesis</td>
</tr> <tr>
<td><code>BACKTICK</code></td>
<td>Insert a backtick</td>
</tr> <tr>
<td><code>DOLLAR</code></td>
<td>Insert a dollar sign</td>
</tr> <tr>
<td><code>DDOC</code></td>
<td>overall template for output</td>
</tr> </table>  <p> <b>DDOC</b> is special in that it specifies the boilerplate into which the entire generated text is inserted (represented by the Ddoc generated macro <b>BODY</b>). For example, in order to use a style sheet, <b>DDOC</b> would be redefined as: </p>  <pre>DDOC = &lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd"&gt;
    &lt;html&gt;&lt;head&gt;
    &lt;META http-equiv="content-type" content="text/html; charset=utf-8"&gt;
    &lt;title&gt;&amp;dollar;(TITLE)&lt;/title&gt;
    &lt;link rel="stylesheet" type="text/css" href="style.css.html"&gt;
    &lt;/head&gt;&lt;body&gt;
    &lt;h1&gt;&amp;dollar;(TITLE)&lt;/h1&gt;
    &amp;dollar;(BODY)
    &lt;/body&gt;&lt;/html&gt;
</pre>  <p> Highlighting of D code is performed by the following macros: </p>  <table>
<caption>D Code Formatting Macros</caption> <tr>
<th class="donthyphenate"><b>Name</b></th>
<th class="donthyphenate"><b>Description</b></th>
</tr> <tr>
<td><code>D_COMMENT</code></td>
<td>Highlighting of comments</td>
</tr> <tr>
<td><code>D_STRING</code></td>
<td>Highlighting of string literals</td>
</tr> <tr>
<td><code>D_KEYWORD</code></td>
<td>Highlighting of D keywords</td>
</tr> <tr>
<td><code>D_PSYMBOL</code></td>
<td>Highlighting of current declaration name</td>
</tr> <tr>
<td><code>D_PARAM</code></td>
<td>Highlighting of current function declaration parameters</td>
</tr> </table>  <p> The highlighting macros start with <code>DDOC_</code>. They control the formatting of individual parts of the presentation. </p>  <table>
<caption>Ddoc Section Formatting Macros</caption> <tr>
<th class="donthyphenate"><b>Name</b></th>
<th class="donthyphenate"><b>Description</b></th>
</tr> <tr>
<td><code>DDOC_CONSTRAINT</code></td>
<td>Highlighting of a template constraint.</td>
</tr> <tr>
<td><code>DDOC_COMMENT</code></td>
<td>Inserts a comment in the output.</td>
</tr> <tr>
<td><code>DDOC_DECL</code></td>
<td>Highlighting of the declaration.</td>
</tr> <tr>
<td><code>DDOC_DECL_DD</code></td>
<td>Highlighting of the description of a declaration.</td>
</tr> <tr>
<td><code>DDOC_DITTO</code></td>
<td>Highlighting of ditto declarations.</td>
</tr> <tr>
<td><code>DDOC_SECTIONS</code></td>
<td>Highlighting of all the sections.</td>
</tr> <tr>
<td><code>DDOC_SUMMARY</code></td>
<td>Highlighting of the summary section.</td>
</tr> <tr>
<td><code>DDOC_DESCRIPTION</code></td>
<td>Highlighting of the description section.</td>
</tr> <tr>
<td><code>DDOC_AUTHORS</code></td>
<td>Highlighting of the authors section.</td>
</tr> <tr>
<td><code>DDOC_BUGS</code></td>
<td>Highlighting of the bugs section.</td>
</tr> <tr>
<td><code>DDOC_COPYRIGHT</code></td>
<td>Highlighting of the copyright section.</td>
</tr> <tr>
<td><code>DDOC_DATE</code></td>
<td>Highlighting of the date section.</td>
</tr> <tr>
<td><code>DDOC_DEPRECATED</code></td>
<td>Highlighting of the deprecated section.</td>
</tr> <tr>
<td><code>DEPRECATED</code></td>
<td>Wrapper for deprecated declarations.</td>
</tr> <tr>
<td><code>DDOC_EXAMPLES</code></td>
<td>Highlighting of the examples section.</td>
</tr> <tr>
<td><code>DDOC_HISTORY</code></td>
<td>Highlighting of the history section.</td>
</tr> <tr>
<td><code>DDOC_LICENSE</code></td>
<td>Highlighting of the license section.</td>
</tr> <tr>
<td><code>DDOC_OVERLOAD_SEPARATOR</code></td>
<td>Inserts a separator between overloads of a given name.</td>
</tr> <tr>
<td><code>DDOC_RETURNS</code></td>
<td>Highlighting of the returns section.</td>
</tr> <tr>
<td><code>DDOC_SEE_ALSO</code></td>
<td>Highlighting of the see-also section.</td>
</tr> <tr>
<td><code>DDOC_STANDARDS</code></td>
<td>Highlighting of the standards section.</td>
</tr> <tr>
<td><code>DDOC_THROWS</code></td>
<td>Highlighting of the throws section.</td>
</tr> <tr>
<td><code>DDOC_VERSION</code></td>
<td>Highlighting of the version section.</td>
</tr> <tr>
<td><code>DDOC_SECTION_H</code></td>
<td>Highlighting of the section name of a non-standard section.</td>
</tr> <tr>
<td><code>DDOC_SECTION</code></td>
<td>Highlighting of the contents of a non-standard section.</td>
</tr> <tr>
<td><code>DDOC_MEMBERS</code></td>
<td>Default highlighting of all the members of a class, struct, etc.</td>
</tr> <tr>
<td><code>DDOC_MODULE_MEMBERS</code></td>
<td>Highlighting of all the members of a module.</td>
</tr> <tr>
<td><code>DDOC_CLASS_MEMBERS</code></td>
<td>Highlighting of all the members of a class.</td>
</tr> <tr>
<td><code>DDOC_STRUCT_MEMBERS</code></td>
<td>Highlighting of all the members of a struct.</td>
</tr> <tr>
<td><code>DDOC_ENUM_MEMBERS</code></td>
<td>Highlighting of all the members of an enum.</td>
</tr> <tr>
<td><code>DDOC_TEMPLATE_PARAM</code></td>
<td>Highlighting of a template's individual parameters.</td>
</tr> <tr>
<td><code>DDOC_TEMPLATE_PARAM_LIST</code></td>
<td>Highlighting of a template's parameter list.</td>
</tr> <tr>
<td><code>DDOC_TEMPLATE_MEMBERS</code></td>
<td>Highlighting of all the members of a template.</td>
</tr> <tr>
<td><code>DDOC_ENUM_BASETYPE</code></td>
<td>Highlighting of the type an enum is based upon</td>
</tr> <tr>
<td><code>DDOC_PARAMS</code></td>
<td>Highlighting of a function parameter section.</td>
</tr> <tr>
<td><code>DDOC_PARAM_ROW</code></td>
<td>Highlighting of a name=value function parameter.</td>
</tr> <tr>
<td><code>DDOC_PARAM_ID</code></td>
<td>Highlighting of the parameter name.</td>
</tr> <tr>
<td><code>DDOC_PARAM_DESC</code></td>
<td>Highlighting of the parameter value.</td>
</tr> <tr>
<td><code>DDOC_BLANKLINE</code></td>
<td>Inserts a blank line.</td>
</tr> <tr>
<td><code>DDOC_ANCHOR</code></td>
<td>Expands to a named anchor used for hyperlinking to a particular declaration section. Argument &amp;dollar;1 expands to the qualified declaration name.</td>
</tr> <tr>
<td><code>DDOC_PSYMBOL</code></td>
<td>Highlighting of declaration name to which a particular section is referring.</td>
</tr> <tr>
<td><code>DDOC_PSUPER_SYMBOL</code></td>
<td>Highlighting of the base type of a class.</td>
</tr> <tr>
<td><code>DDOC_KEYWORD</code></td>
<td>Highlighting of D keywords.</td>
</tr> <tr>
<td><code>DDOC_PARAM</code></td>
<td>Highlighting of function parameters.</td>
</tr> <tr>
<td><code>DDOC_BACKQUOTED</code></td>
<td>Inserts inline code.</td>
</tr> <tr>
<td><code>DDOC_AUTO_PSYMBOL_SUPPRESS</code></td>
<td>Highlighting of auto-detected symbol that starts with underscore</td>
</tr> <tr>
<td><code>DDOC_AUTO_PSYMBOL</code></td>
<td>Highlighting of auto-detected symbol</td>
</tr> <tr>
<td><code>DDOC_AUTO_KEYWORD</code></td>
<td>Highlighting of auto-detected keywords</td>
</tr> <tr>
<td><code>DDOC_AUTO_PARAM</code></td>
<td>Highlighting of auto-detected parameters</td>
</tr> </table>  <p> For example, one could redefine <code>DDOC_SUMMARY</code>: </p>  <pre>DDOC_SUMMARY = &amp;dollar;(GREEN &amp;dollar;0)
</pre>  <p> And all the summary sections will now be green. </p>  <h3 id="macro_def_scini">Macro Definitions from <code>sc.ini</code>'s DDOCFILE</h3>  <p> A text file of macro definitions can be created, and specified in <code>sc.ini</code>: </p>  <pre>DDOCFILE=myproject.ddoc
</pre>  <h3 id="macro_def_ddoc_file">Macro Definitions from .ddoc Files on the Command Line</h3>  <p> File names on the DMD command line with the extension .ddoc are text files that are read and processed in order. </p>  <h3 id="macro_def_ddocgenerated">Macro Definitions Generated by Ddoc</h3>  <table>
<caption>Generated Macro Definitions</caption> <tr>
<th class="donthyphenate"><b>Macro Name</b></th>
<th class="donthyphenate"><b>Content</b></th>
</tr> <tr>
<td> BODY</td>
<td> Set to the generated document text. </td>
</tr> <tr>
<td> TITLE</td>
<td> Set to the module name. </td>
</tr> <tr>
<td> DATETIME</td>
<td> Set to the current date and time. </td>
</tr> <tr>
<td> YEAR</td>
<td> Set to the current year. </td>
</tr> <tr>
<td> COPYRIGHT</td>
<td> Set to the contents of any Copyright: section that is part of the module comment. </td>
</tr> <tr>
<td> DOCFILENAME</td>
<td> Set to the name of the generated output file. </td>
</tr> <tr>
<td> SRCFILENAME</td>
<td> Set to the name of the source file the documentation is being generated from. </td>
</tr> </table>  <h2 id="using_ddoc_to_generate_examples">Using Ddoc to generate examples from unit tests</h2>  <p> Ddoc can automatically generate usage examples for declarations using unit tests. If a declaration is followed by a documented unit test, the code from the test will be inserted into the example section of the declaration. This avoids the frequent problem of having outdated documentation for pieces of code. </p>  <p> To create a documented unit test just add three forward slashes before the unittest block, like this:</p>  <pre data-language="d">///
unittest
{
    ...
}
</pre>  <p>For more information please see the full section on <a href="unittest.html#documented-unittests">documented unit tests</a>. </p>  <h2 id="using_ddoc_for_other_documentation">Using Ddoc for other Documentation</h2>  <p> Ddoc is primarily designed for use in producing documentation from embedded comments. It can also, however, be used for processing other general documentation. The reason for doing this would be to take advantage of the macro capability of Ddoc and the D code syntax highlighting capability. </p>  <p> If the .d source file starts with the string "Ddoc" then it is treated as general purpose documentation, not as a D code source file. From immediately after the "Ddoc" string to the end of the file or any "Macros:" section forms the document. No automatic highlighting is done to that text, other than highlighting of D code embedded between lines delineated with --- lines. Only macro processing is done. </p>  <p> Much of the D documentation itself is generated this way, including this page. Such documentation is marked at the bottom as being generated by Ddoc. </p>  <h2 id="security">Security considerations</h2>  <p> Note that DDoc comments may embed raw HTML, including &lt;script&gt; tags. Be careful when publishing or distributing rendered DDoc HTML generated from untrusted sources, as this may allow <a href="https://en.wikipedia.org/wiki/Cross-site_scripting"> cross-site scripting</a>. </p>  <h2 id="links_to_d_documentation_generators">Links to D documentation generators</h2>  <p> A list of current D documentation generators which use Ddoc can be found on our <a href="https://wiki.dlang.org/Open_Source_Projects#Documentation_Generators">wiki page</a>. </p>     <div class="_attribution">
  <p class="_attribution-p">
    &copy; 1999&ndash;2021 The D Language Foundation<br>Licensed under the Boost License 1.0.<br>
    <a href="https://dlang.org/spec/ddoc.html" class="_attribution-link">https://dlang.org/spec/ddoc.html</a>
  </p>
</div>
