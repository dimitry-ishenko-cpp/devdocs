<h1>Interface XAResource</h1>      <br> <pre data-language="java">public interface XAResource</pre> <div>

<p>The XAResource interface is a Java mapping of the industry standard XA interface based on the X/Open CAE Specification (Distributed Transaction Processing: The XA Specification). </p>
<p>The XA interface defines the contract between a Resource Manager and a Transaction Manager in a distributed transaction processing (DTP) environment. A JDBC driver or a JMS provider implements this interface to support the association between a global transaction and a database or message service connection. </p>
<p>The XAResource interface can be supported by any transactional resource that is intended to be used by application programs in an environment where transactions are controlled by an external transaction manager. An example of such a resource is a database management system. An application may access data through multiple database connections. Each database connection is enlisted with the transaction manager as a transactional resource. The transaction manager obtains an XAResource for each connection participating in a global transaction. The transaction manager uses the <code>start</code> method to associate the global transaction with the resource, and it uses the <code>end</code> method to disassociate the transaction from the resource. The resource manager is responsible for associating the global transaction to all work performed on its data between the start and end method invocations. </p>
<p>At transaction commit time, the resource managers are informed by the transaction manager to prepare, commit, or rollback a transaction according to the two-phase commit protocol.</p>
</div>       <h2 id="field.summary">Fields</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Field and Description</th> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#TMENDRSCAN">TMENDRSCAN</a></code> <p>Ends a recovery scan.</p> </td> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#TMFAIL">TMFAIL</a></code> <p>Disassociates the caller and marks the transaction branch rollback-only.</p> </td> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#TMJOIN">TMJOIN</a></code> <p>Caller is joining existing transaction branch.</p> </td> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#TMNOFLAGS">TMNOFLAGS</a></code> <p>Use TMNOFLAGS to indicate no flags value is selected.</p> </td> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#TMONEPHASE">TMONEPHASE</a></code> <p>Caller is using one-phase optimization.</p> </td> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#TMRESUME">TMRESUME</a></code> <p>Caller is resuming association with a suspended transaction branch.</p> </td> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#TMSTARTRSCAN">TMSTARTRSCAN</a></code> <p>Starts a recovery scan.</p> </td> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#TMSUCCESS">TMSUCCESS</a></code> <p>Disassociates caller from a transaction branch.</p> </td> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#TMSUSPEND">TMSUSPEND</a></code> <p>Caller is suspending (not ending) its association with a transaction branch.</p> </td> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#XA_OK">XA_OK</a></code> <p>The transaction work has been prepared normally.</p> </td> </tr> <tr> <td><code>static int</code></td> <td>
<code><a href="xaresource.html#XA_RDONLY">XA_RDONLY</a></code> <p>The transaction branch has been read-only and has been committed.</p> </td> </tr> </table>    <h2 id="method.summary">Methods</h2> <table>  <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method and Description</th> </tr> <tr id="i0"> <td><code>void</code></td> <td>
<code><a href="xaresource.html#commit-javax.transaction.xa.Xid-boolean-">commit</a>(<a href="xid.html">Xid</a> xid,
      boolean onePhase)</code> <p>Commits the global transaction specified by xid.</p> </td> </tr> <tr id="i1"> <td><code>void</code></td> <td>
<code><a href="xaresource.html#end-javax.transaction.xa.Xid-int-">end</a>(<a href="xid.html">Xid</a> xid,
   int flags)</code> <p>Ends the work performed on behalf of a transaction branch.</p> </td> </tr> <tr id="i2"> <td><code>void</code></td> <td>
<code><a href="xaresource.html#forget-javax.transaction.xa.Xid-">forget</a>(<a href="xid.html">Xid</a> xid)</code> <p>Tells the resource manager to forget about a heuristically completed transaction branch.</p> </td> </tr> <tr id="i3"> <td><code>int</code></td> <td>
<code><a href="xaresource.html#getTransactionTimeout--">getTransactionTimeout</a>()</code> <p>Obtains the current transaction timeout value set for this XAResource instance.</p> </td> </tr> <tr id="i4"> <td><code>boolean</code></td> <td>
<code><a href="xaresource.html#isSameRM-javax.transaction.xa.XAResource-">isSameRM</a>(<a href="xaresource.html">XAResource</a> xares)</code> <p>This method is called to determine if the resource manager instance represented by the target object is the same as the resouce manager instance represented by the parameter <i>xares</i>.</p> </td> </tr> <tr id="i5"> <td><code>int</code></td> <td>
<code><a href="xaresource.html#prepare-javax.transaction.xa.Xid-">prepare</a>(<a href="xid.html">Xid</a> xid)</code> <p>Ask the resource manager to prepare for a transaction commit of the transaction specified in xid.</p> </td> </tr> <tr id="i6"> <td><code><a href="xid.html">Xid</a>[]</code></td> <td>
<code><a href="xaresource.html#recover-int-">recover</a>(int flag)</code> <p>Obtains a list of prepared transaction branches from a resource manager.</p> </td> </tr> <tr id="i7"> <td><code>void</code></td> <td>
<code><a href="xaresource.html#rollback-javax.transaction.xa.Xid-">rollback</a>(<a href="xid.html">Xid</a> xid)</code> <p>Informs the resource manager to roll back work done on behalf of a transaction branch.</p> </td> </tr> <tr id="i8"> <td><code>boolean</code></td> <td>
<code><a href="xaresource.html#setTransactionTimeout-int-">setTransactionTimeout</a>(int seconds)</code> <p>Sets the current transaction timeout value for this <code>XAResource</code> instance.</p> </td> </tr> <tr id="i9"> <td><code>void</code></td> <td>
<code><a href="xaresource.html#start-javax.transaction.xa.Xid-int-">start</a>(<a href="xid.html">Xid</a> xid,
     int flags)</code> <p>Starts work on behalf of a transaction branch specified in <code>xid</code>.</p> </td> </tr> </table>    <div>    <h2 id="field.detail">Fields</h2>   <h3 id="TMENDRSCAN">TMENDRSCAN</h3> <pre data-language="java">static final int TMENDRSCAN</pre> <p>Ends a recovery scan.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.TMENDRSCAN">Constant Field Values</a></dd> </dl>    <h3 id="TMFAIL">TMFAIL</h3> <pre data-language="java">static final int TMFAIL</pre> <p>Disassociates the caller and marks the transaction branch rollback-only.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.TMFAIL">Constant Field Values</a></dd> </dl>    <h3 id="TMJOIN">TMJOIN</h3> <pre data-language="java">static final int TMJOIN</pre> <p>Caller is joining existing transaction branch.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.TMJOIN">Constant Field Values</a></dd> </dl>    <h3 id="TMNOFLAGS">TMNOFLAGS</h3> <pre data-language="java">static final int TMNOFLAGS</pre> <p>Use TMNOFLAGS to indicate no flags value is selected.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.TMNOFLAGS">Constant Field Values</a></dd> </dl>    <h3 id="TMONEPHASE">TMONEPHASE</h3> <pre data-language="java">static final int TMONEPHASE</pre> <p>Caller is using one-phase optimization.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.TMONEPHASE">Constant Field Values</a></dd> </dl>    <h3 id="TMRESUME">TMRESUME</h3> <pre data-language="java">static final int TMRESUME</pre> <p>Caller is resuming association with a suspended transaction branch.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.TMRESUME">Constant Field Values</a></dd> </dl>    <h3 id="TMSTARTRSCAN">TMSTARTRSCAN</h3> <pre data-language="java">static final int TMSTARTRSCAN</pre> <p>Starts a recovery scan.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.TMSTARTRSCAN">Constant Field Values</a></dd> </dl>    <h3 id="TMSUCCESS">TMSUCCESS</h3> <pre data-language="java">static final int TMSUCCESS</pre> <p>Disassociates caller from a transaction branch.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.TMSUCCESS">Constant Field Values</a></dd> </dl>    <h3 id="TMSUSPEND">TMSUSPEND</h3> <pre data-language="java">static final int TMSUSPEND</pre> <p>Caller is suspending (not ending) its association with a transaction branch.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.TMSUSPEND">Constant Field Values</a></dd> </dl>    <h3 id="XA_RDONLY">XA_RDONLY</h3> <pre data-language="java">static final int XA_RDONLY</pre> <p>The transaction branch has been read-only and has been committed.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.XA_RDONLY">Constant Field Values</a></dd> </dl>    <h3 id="XA_OK">XA_OK</h3> <pre data-language="java">static final int XA_OK</pre> <p>The transaction work has been prepared normally.</p> <dl> <dt>See Also:</dt> <dd><a href="https://docs.oracle.com/javase/8/docs/api/constant-values.html#javax.transaction.xa.XAResource.XA_OK">Constant Field Values</a></dd> </dl>     <h2 id="method.detail">Methods</h2>   <h3 id="commit-javax.transaction.xa.Xid-boolean-">commit</h3> <pre data-language="java">void commit(Xid xid,
            boolean onePhase)
     throws XAException</pre> <p>Commits the global transaction specified by xid.</p> <dl> <dt>Parameters:</dt> <dd>
<code>xid</code> - A global transaction identifier</dd> <dd>
<code>onePhase</code> - If true, the resource manager should use a one-phase commit protocol to commit the work done on behalf of xid.</dd> <dt>Throws:</dt> <dd>
<code><a href="xaexception.html">XAException</a></code> - An error has occurred. Possible XAExceptions are XA_HEURHAZ, XA_HEURCOM, XA_HEURRB, XA_HEURMIX, XAER_RMERR, XAER_RMFAIL, XAER_NOTA, XAER_INVAL, or XAER_PROTO. <p>If the resource manager did not commit the transaction and the paramether onePhase is set to true, the resource manager may throw one of the XA_RB* exceptions. Upon return, the resource manager has rolled back the branch's work and has released all held resources.</p>
</dd> </dl>    <h3 id="end-javax.transaction.xa.Xid-int-">end</h3> <pre data-language="java">void end(Xid xid,
         int flags)
  throws XAException</pre> <div>
<p>Ends the work performed on behalf of a transaction branch. The resource manager disassociates the XA resource from the transaction branch specified and lets the transaction complete. </p>
<p>If TMSUSPEND is specified in the flags, the transaction branch is temporarily suspended in an incomplete state. The transaction context is in a suspended state and must be resumed via the <code>start</code> method with TMRESUME specified.</p> <p>If TMFAIL is specified, the portion of work has failed. The resource manager may mark the transaction as rollback-only</p> <p>If TMSUCCESS is specified, the portion of work has completed successfully.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>xid</code> - A global transaction identifier that is the same as the identifier used previously in the <code>start</code> method.</dd> <dd>
<code>flags</code> - One of TMSUCCESS, TMFAIL, or TMSUSPEND.</dd> <dt>Throws:</dt> <dd>
<code><a href="xaexception.html">XAException</a></code> - An error has occurred. Possible XAException values are XAER_RMERR, XAER_RMFAILED, XAER_NOTA, XAER_INVAL, XAER_PROTO, or XA_RB*.</dd> </dl>    <h3 id="forget-javax.transaction.xa.Xid-">forget</h3> <pre data-language="java">void forget(Xid xid)
     throws XAException</pre> <p>Tells the resource manager to forget about a heuristically completed transaction branch.</p> <dl> <dt>Parameters:</dt> <dd>
<code>xid</code> - A global transaction identifier.</dd> <dt>Throws:</dt> <dd>
<code><a href="xaexception.html">XAException</a></code> - An error has occurred. Possible exception values are XAER_RMERR, XAER_RMFAIL, XAER_NOTA, XAER_INVAL, or XAER_PROTO.</dd> </dl>    <h3 id="getTransactionTimeout--">getTransactionTimeout</h3> <pre data-language="java">int getTransactionTimeout()
                   throws XAException</pre> <p>Obtains the current transaction timeout value set for this XAResource instance. If <code>XAResource.setTransactionTimeout</code> was not used prior to invoking this method, the return value is the default timeout set for the resource manager; otherwise, the value used in the previous <code>setTransactionTimeout</code> call is returned.</p> <dl> <dt>Returns:</dt> <dd>the transaction timeout value in seconds.</dd> <dt>Throws:</dt> <dd>
<code><a href="xaexception.html">XAException</a></code> - An error has occurred. Possible exception values are XAER_RMERR and XAER_RMFAIL.</dd> </dl>    <h3 id="isSameRM-javax.transaction.xa.XAResource-">isSameRM</h3> <pre data-language="java">boolean isSameRM(XAResource xares)
          throws XAException</pre> <p>This method is called to determine if the resource manager instance represented by the target object is the same as the resouce manager instance represented by the parameter <i>xares</i>.</p> <dl> <dt>Parameters:</dt> <dd>
<code>xares</code> - An XAResource object whose resource manager instance is to be compared with the resource manager instance of the target object.</dd> <dt>Returns:</dt> <dd>
<i>true</i> if it's the same RM instance; otherwise <i>false</i>.</dd> <dt>Throws:</dt> <dd>
<code><a href="xaexception.html">XAException</a></code> - An error has occurred. Possible exception values are XAER_RMERR and XAER_RMFAIL.</dd> </dl>    <h3 id="prepare-javax.transaction.xa.Xid-">prepare</h3> <pre data-language="java">int prepare(Xid xid)
     throws XAException</pre> <p>Ask the resource manager to prepare for a transaction commit of the transaction specified in xid.</p> <dl> <dt>Parameters:</dt> <dd>
<code>xid</code> - A global transaction identifier.</dd> <dt>Returns:</dt> <dd>A value indicating the resource manager's vote on the outcome of the transaction. The possible values are: XA_RDONLY or XA_OK. If the resource manager wants to roll back the transaction, it should do so by raising an appropriate XAException in the prepare method.</dd> <dt>Throws:</dt> <dd>
<code><a href="xaexception.html">XAException</a></code> - An error has occurred. Possible exception values are: XA_RB*, XAER_RMERR, XAER_RMFAIL, XAER_NOTA, XAER_INVAL, or XAER_PROTO.</dd> </dl>    <h3 id="recover-int-">recover</h3> <pre data-language="java">Xid[] recover(int flag)
       throws XAException</pre> <p>Obtains a list of prepared transaction branches from a resource manager. The transaction manager calls this method during recovery to obtain the list of transaction branches that are currently in prepared or heuristically completed states.</p> <dl> <dt>Parameters:</dt> <dd>
<code>flag</code> - One of TMSTARTRSCAN, TMENDRSCAN, TMNOFLAGS. TMNOFLAGS must be used when no other flags are set in the parameter.</dd> <dt>Returns:</dt> <dd>The resource manager returns zero or more XIDs of the transaction branches that are currently in a prepared or heuristically completed state. If an error occurs during the operation, the resource manager should throw the appropriate XAException.</dd> <dt>Throws:</dt> <dd>
<code><a href="xaexception.html">XAException</a></code> - An error has occurred. Possible values are XAER_RMERR, XAER_RMFAIL, XAER_INVAL, and XAER_PROTO.</dd> </dl>    <h3 id="rollback-javax.transaction.xa.Xid-">rollback</h3> <pre data-language="java">void rollback(Xid xid)
       throws XAException</pre> <p>Informs the resource manager to roll back work done on behalf of a transaction branch.</p> <dl> <dt>Parameters:</dt> <dd>
<code>xid</code> - A global transaction identifier.</dd> <dt>Throws:</dt> <dd>
<code><a href="xaexception.html">XAException</a></code> - An error has occurred.</dd> </dl>    <h3 id="setTransactionTimeout-int-">setTransactionTimeout</h3> <pre data-language="java">boolean setTransactionTimeout(int seconds)
                       throws XAException</pre> <div>

<p>Sets the current transaction timeout value for this <code>XAResource</code> instance. Once set, this timeout value is effective until <code>setTransactionTimeout</code> is invoked again with a different value. To reset the timeout value to the default value used by the resource manager, set the value to zero. If the timeout operation is performed successfully, the method returns <i>true</i>; otherwise <i>false</i>. If a resource manager does not support explicitly setting the transaction timeout value, this method returns <i>false</i>.</p>
</div> <dl> <dt>Parameters:</dt> <dd>
<code>seconds</code> - The transaction timeout value in seconds.</dd> <dt>Returns:</dt> <dd>
<i>true</i> if the transaction timeout value is set successfully; otherwise <i>false</i>.</dd> <dt>Throws:</dt> <dd>
<code><a href="xaexception.html">XAException</a></code> - An error has occurred. Possible exception values are XAER_RMERR, XAER_RMFAIL, or XAER_INVAL.</dd> </dl>    <h3 id="start-javax.transaction.xa.Xid-int-">start</h3> <pre data-language="java">void start(Xid xid,
           int flags)
    throws XAException</pre> <p>Starts work on behalf of a transaction branch specified in <code>xid</code>. If TMJOIN is specified, the start applies to joining a transaction previously seen by the resource manager. If TMRESUME is specified, the start applies to resuming a suspended transaction specified in the parameter <code>xid</code>. If neither TMJOIN nor TMRESUME is specified and the transaction specified by <code>xid</code> has previously been seen by the resource manager, the resource manager throws the XAException exception with XAER_DUPID error code.</p> <dl> <dt>Parameters:</dt> <dd>
<code>xid</code> - A global transaction identifier to be associated with the resource.</dd> <dd>
<code>flags</code> - One of TMNOFLAGS, TMJOIN, or TMRESUME.</dd> <dt>Throws:</dt> <dd>
<code><a href="xaexception.html">XAException</a></code> - An error has occurred. Possible exceptions are XA_RB*, XAER_RMERR, XAER_RMFAIL, XAER_DUPID, XAER_OUTSIDE, XAER_NOTA, XAER_INVAL, or XAER_PROTO.</dd> </dl>    </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/javase/8/docs/api/javax/transaction/xa/XAResource.html" class="_attribution-link">https://docs.oracle.com/javase/8/docs/api/javax/transaction/xa/XAResource.html</a>
  </p>
</div>
