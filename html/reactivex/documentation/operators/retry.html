<h1>Retry</h1> <blockquote>if a source Observable emits an error, resubscribe to it in the hopes that it will complete without error</blockquote> <figure> <img src="http://reactivex.io/documentation/operators/images/retry.C.png" style="width:100%;" alt="Retry"> <figcaption><p> The <span class="operator">Retry</span> operator responds to an <code>onError</code> notification from the source Observable by not passing that call through to its observers, but instead by resubscribing to the source Observable and giving it another opportunity to complete its sequence without error. <span class="operator">Retry</span> always passes <code>onNext</code> notifications through to its observers, even from sequences that terminate with an error, so this can cause duplicate emissions (as shown in the diagram above). </p></figcaption> </figure> <h4>See Also</h4> <ul> <li><a href="catch.html"><span class="operator">Catch</span></a></li> <li><a href="http://www.introtorx.com/Content/v1.0.10621.0/11_AdvancedErrorHandling.html#Retry"><cite>Introduction to Rx</cite>: Retry</a></li> </ul> <h2>Language-Specific Information</h2> <div id="accordion" role="tablist" aria-multiselectable="true"> <div> <div role="tab" id="headingRxClojure"> <h3 class="panel-title">  RxClojure   </h3> </div> <div id="collapseRxClojure" role="tabpanel" aria-labelledby="headingRxClojure"> <div> <p> RxClojure does not implement the <span class="operator">Retry</span> operator. </p> </div> </div> </div> <div> <div role="tab" id="headingRxCpp"> <h3 class="panel-title">  RxCpp <code>retry</code>  </h3> </div> <div id="collapseRxCpp" role="tabpanel" aria-labelledby="headingRxCpp"> <div> <p> RxCpp implements this operator as <code>retry</code>: </p> <figure> <img src="http://reactivex.io/documentation/operators/images/retry.png" style="width:100%;" alt="retry"> <figcaption><p> <code>retry</code> takes a single argument, a count of the number of times it should try resubscribing to the source Observable when it encounters errors. If this count is exceeded, <code>retry</code> will not attempt to resubscribe and will instead pass the <code>onError</code> notification to its observers. </p></figcaption> </figure> </div> </div> </div> <div> <div role="tab" id="headingRxGroovy"> <h3 class="panel-title">  RxGroovy <code>retry retryWhen</code>  </h3> </div> <div id="collapseRxGroovy" role="tabpanel" aria-labelledby="headingRxGroovy"> <div> <p> RxGroovy has two versions of this operator: <code>retry</code> and <code>retryWhen</code>. </p> <figure> <img src="http://reactivex.io/documentation/operators/images/retry.png" style="width:100%;" alt="retry"> <figcaption><p> One variant of <code>retry</code> takes no parameters. It will continue to resubscribe to and mirror the source Observable no matter how many <code>onError</code> notifications it receives. </p>
<p> Another variant of <code>retry</code> takes a single parameter: a count of the number of times it should try to resubscribe to the source Observable when it encounters errors. If this count is exceeded, <code>retry</code> will not attempt to resubscribe again and will instead pass the latest <code>onError</code> notification to its observers. </p>
<p> A third variant of <code>retry</code> takes a predicate function as a parameter. You write this function to accept two arguments: an Integer count of how many retries have taken place thusfar, and a Throwable indicating the error that caused the <code>onError</code> notification. This function returns a Boolean to indicate whether or not <code>retry</code> should resubscribe to and mirror the source Observable. If it does not, then <code>retry</code> passes the latest <code>onError</code> notification to its observers. </p>
<p> <code>retry</code> by default operates on the <code>trampoline</code> <a href="../scheduler.html">Scheduler</a>. </p> <ul> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#retry()"><code>retry()</code></a>
</li> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#retry(long)"><code>retry(long)</code></a>
</li> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#retry(rx.functions.Func2)"><code>retry(Func2)</code></a>
</li> </ul></figcaption> </figure> <figure> <img src="http://reactivex.io/documentation/operators/images/retryWhen.f.png" style="width:100%;" alt="retryWhen"> <figcaption><p> The <code>retryWhen</code> operator is similar to <code>retry</code> but decides whether or not to resubscribe to and mirror the source Observable by passing the Throwable from the <code>onError</code> notification to a function that generates a second Observable, and observes its result to determine what to do. If that result is an emitted item, <code>retryWhen</code> resubscribes to and mirrors the source and the process repeats; if that result is an <code>onError</code> notification, <code>retryWhen</code> passes this notification on to its observers and terminates. </p>
<p> <code>retryWhen</code> by default operates on the <code>trampoline</code> <a href="../scheduler.html">Scheduler</a>, and there is also a version that accepts a Scheduler as a parameter. </p> <ul> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#retryWhen(rx.functions.Func1)"><code>retryWhen(Func1)</code></a>
</li> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#retryWhen(rx.functions.Func1,%20rx.Scheduler)"><code>retryWhen(Func1,Scheduler)</code></a>
</li> </ul></figcaption> </figure> </div> </div> </div> <div> <div role="tab" id="headingRxJava 1․x"> <h3 class="panel-title">  RxJava 1․x <code>retry retryWhen</code>  </h3> </div> <div id="collapseRxJava 1․x" role="tabpanel" aria-labelledby="headingRxJava 1․x"> <div> <p> RxJava has two versions of this operator: <code>retry</code> and <code>retryWhen</code>. </p> <figure> <img src="http://reactivex.io/documentation/operators/images/retry.png" style="width:100%;" alt="retry"> <figcaption><p> One variant of <code>retry</code> takes no parameters. It will continue to resubscribe to and mirror the source Observable no matter how many <code>onError</code> notifications it receives. </p>
<p> Another variant of <code>retry</code> takes a single parameter: a count of the number of times it should try to resubscribe to the source Observable when it encounters errors. If this count is exceeded, <code>retry</code> will not attempt to resubscribe again and will instead pass the latest <code>onError</code> notification to its observers. </p>
<p> A third variant of <code>retry</code> takes a predicate function as a parameter. You write this function to accept two arguments: an Integer count of how many retries have taken place thusfar, and a Throwable indicating the error that caused the <code>onError</code> notification. This function returns a Boolean to indicate whether or not <code>retry</code> should resubscribe to and mirror the source Observable. If it does not, then <code>retry</code> passes the latest <code>onError</code> notification to its observers. </p>
<p> <code>retry</code> by default operates on the <code>trampoline</code> <a href="../scheduler.html">Scheduler</a>. </p> <ul> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#retry()"><code>retry()</code></a>
</li> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#retry(long)"><code>retry(long)</code></a>
</li> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#retry(rx.functions.Func2)"><code>retry(Func2)</code></a>
</li> </ul></figcaption> </figure> <figure> <img src="http://reactivex.io/documentation/operators/images/retryWhen.f.png" style="width:100%;" alt="retryWhen"> <figcaption><p> The <code>retryWhen</code> operator is similar to <code>retry</code> but decides whether or not to resubscribe to and mirror the source Observable by passing the Throwable from the <code>onError</code> notification to a function that generates a second Observable, and observes its result to determine what to do. If that result is an emitted item, <code>retryWhen</code> resubscribes to and mirrors the source and the process repeats; if that result is an <code>onError</code> notification, <code>retryWhen</code> passes this notification on to its observers and terminates. </p>
<p> <code>retryWhen</code> by default operates on the <code>trampoline</code> <a href="../scheduler.html">Scheduler</a>, and there is also a version that accepts a Scheduler as a parameter. </p> <h4>Sample Code</h4> <pre data-language="java">Observable.create((Subscriber&lt;? super String&gt; s) -&gt; {
      System.out.println("subscribing");
      s.onError(new RuntimeException("always fails"));
  }).retryWhen(attempts -&gt; {
      return attempts.zipWith(Observable.range(1, 3), (n, i) -&gt; i).flatMap(i -&gt; {
          System.out.println("delay retry by " + i + " second(s)");
          return Observable.timer(i, TimeUnit.SECONDS);
      });
  }).toBlocking().forEach(System.out::println);</pre> <div><pre data-language="javascript">subscribing
delay retry by 1 second(s)
subscribing
delay retry by 2 second(s)
subscribing
delay retry by 3 second(s)
subscribing</pre></div> <ul> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#retryWhen(rx.functions.Func1)"><code>retryWhen(Func1)</code></a>
</li> <li>Javadoc: <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html#retryWhen(rx.functions.Func1,%20rx.Scheduler)"><code>retryWhen(Func1,Scheduler)</code></a>
</li> </ul></figcaption> </figure> </div> </div> </div>  <div> <div role="tab" id="headingRxJS"> <h3 class="panel-title">  RxJS <code>retry</code>  </h3> </div> <div id="collapseRxJS" role="tabpanel" aria-labelledby="headingRxJS"> <div> <p> RxJS implements this operator as <code>retry</code>. </p> <figure> <img src="http://reactivex.io/documentation/operators/images/retry.png" style="width:100%;" alt="retry"> <figcaption><p> One variant of <code>retry</code> takes no parameters. It will continue to resubscribe to and mirror the source Observable no matter how many <code>onError</code> notifications it receives. </p>
<p> Another variant of <code>retry</code> takes a single parameter: a count of the number of <code>onError</code> notification it should be willing to accept before it too fails and passes the <code>onError</code> to its observers. For example, <code>retry(2)</code> means that <code>retry</code> will resubscribe to and mirror the source Observable the first time it receives an <code>onError</code> notification, but will terminate with an error the second time this happens. </p></figcaption> </figure> <p> <code>retry</code> is found in the following distributions: </p> <ul> <li><code>rx.js</code></li> <li><code>rx.all.js</code></li> <li><code>rx.all.compat.js</code></li> <li><code>rx.compat.js</code></li> <li><code>rx.lite.js</code></li> <li><code>rx.lite.compat.js</code></li> </ul> </div> </div> </div> <div> <div role="tab" id="headingRxKotlin"> <h3 class="panel-title">  RxKotlin <code>retry retryWhen</code>  </h3> </div> <div id="collapseRxKotlin" role="tabpanel" aria-labelledby="headingRxKotlin"> <div> <p> RxKotlin has two versions of this operator: <code>retry</code> and <code>retryWhen</code>. </p> <figure> <img src="http://reactivex.io/documentation/operators/images/retry.png" style="width:100%;" alt="retry"> <figcaption><p> One variant of <code>retry</code> takes no parameters. It will continue to resubscribe to and mirror the source Observable no matter how many <code>onError</code> notifications it receives. </p>
<p> Another variant of <code>retry</code> takes a single parameter: a count of the number of times it should try to resubscribe to the source Observable when it encounters errors. If this count is exceeded, <code>retry</code> will not attempt to resubscribe again and will instead pass the latest <code>onError</code> notification to its observers. </p>
<p> A third variant of <code>retry</code> takes a predicate function as a parameter. You write this function to accept two arguments: an Integer count of how many retries have taken place thusfar, and a Throwable indicating the error that caused the <code>onError</code> notification. This function returns a Boolean to indicate whether or not <code>retry</code> should resubscribe to and mirror the source Observable. If it does not, then <code>retry</code> passes the latest <code>onError</code> notification to its observers. </p></figcaption> </figure> <figure> <img src="http://reactivex.io/documentation/operators/images/retryWhen.f.png" style="width:100%;" alt="retryWhen"> <figcaption><p> The <code>retryWhen</code> operator is similar to <code>retry</code> but decides whether or not to resubscribe to and mirror the source Observable by passing the Throwable from the <code>onError</code> notification to a function that generates a second Observable, and observes its result to determine what to do. If that result is an emitted item, <code>retryWhen</code> resubscribes to and mirrors the source and the process repeats; if that result is an <code>onError</code> notification, <code>retryWhen</code> passes this notification on to its observers and terminates. </p></figcaption> </figure> </div> </div> </div> <div> <div role="tab" id="headingRxNET"> <h3 class="panel-title">  RxNET <code>Retry</code>  </h3> </div> <div id="collapseRxNET" role="tabpanel" aria-labelledby="headingRxNET"> <div> <p> Rx.NET implements this operator as <code>Retry</code>. </p> <figure> <img src="http://reactivex.io/documentation/operators/images/retry.C.png" style="width:100%;" alt="Retry"> <figcaption><p> One variant of <code>Retry</code> takes no parameters. It will continue to resubscribe to and mirror the source Observable no matter how many <code>onError</code> notifications it receives. </p>
<p> Another variant of <code>Retry</code> takes a single parameter: a count of the number of <code>onError</code> notification it should be willing to accept before it too fails and passes the <code>onError</code> to its observers. For example, <code>Retry(2)</code> means that <code>Retry</code> will resubscribe to and mirror the source Observable the first time it receives an <code>onError</code> notification, but will terminate with an error the second time this happens. </p></figcaption> </figure> </div> </div> </div> <div> <div role="tab" id="headingRxPHP"> <h3 class="panel-title">  RxPHP <code>retry retryWhen</code>  </h3> </div> <div id="collapseRxPHP" role="tabpanel" aria-labelledby="headingRxPHP"> <div> <figure class="variant"> <figcaption> <p> RxPHP implements this operator as <code>retry</code>. </p> <p> Repeats the source observable sequence the specified number of times or until it successfully terminates. If the retry count is not specified, it retries indefinitely. Note if you encounter an error and want it to retry once, then you must use -&gt;retry(2). </p> <h4>Sample Code</h4> <pre data-language="php">//from https://github.com/ReactiveX/RxPHP/blob/master/demo/retry/retry.php

$count = 0;

$observable = Rx\Observable::interval(1000)
    -&gt;flatMap(function ($x) use (&amp;$count) {
        if (++$count &lt; 2) {
            return Rx\Observable::error(new \Exception('Something'));
        }
        return Rx\Observable::of(42);
    })
    -&gt;retry(3)
    -&gt;take(1);

$observable-&gt;subscribe($stdoutObserver);</pre> <div> <pre data-language="javascript">Next value: 42
Complete!</pre> </div> </figcaption> </figure><figure class="variant"> <figcaption> <p> RxPHP also has an operator <code>retryWhen</code>. </p> <p> Repeats the source observable sequence on error when the notifier emits a next value. If the source observable errors and the notifier completes, it will complete the source sequence. </p> <h4>Sample Code</h4> <pre data-language="php">//from https://github.com/ReactiveX/RxPHP/blob/master/demo/retry/retryWhen.php

$source = Rx\Observable::interval(1000)
    -&gt;map(function ($n) {
        if ($n === 2) {
            throw new Exception();
        }
        return $n;
    })
    -&gt;retryWhen(function (\Rx\Observable $errors) {
        return $errors-&gt;delay(200);
    })
    -&gt;take(6);

$subscription = $source-&gt;subscribe($createStdoutObserver());</pre> <div> <pre data-language="javascript">Next value: 0
Next value: 1
Next value: 0
Next value: 1
Next value: 0
Next value: 1
Complete!</pre> </div> </figcaption> </figure> </div> </div> </div> <div> <div role="tab" id="headingRxPY"> <h3 class="panel-title">  RxPY <code>retry</code>  </h3> </div> <div id="collapseRxPY" role="tabpanel" aria-labelledby="headingRxPY"> <div> <p> RxPY implements this operator as <code>retry</code>: </p> <figure> <img src="http://reactivex.io/documentation/operators/images/retry.png" style="width:100%;" alt="retry"> <figcaption><p> <code>retry</code> takes a single optional parameter, a count of the number of times it should try resubscribing to and mirroring the source Observable when it encounters errors. If this count is exceeded, <code>retry</code> will not attempt to resubscribe and will instead pass the <code>onError</code> notification to its observers. If you omit this parameter, <code>retry</code> will attempt to resubscribe and mirror indefinitely, no matter how many <code>onError</code> notifications it receives. </p></figcaption> </figure> </div> </div> </div> <div> <div role="tab" id="headingRxrb"> <h3 class="panel-title">  Rxrb <code>retry retry_infinitely</code>  </h3> </div> <div id="collapseRxrb" role="tabpanel" aria-labelledby="headingRxrb"> <div> <p> Rx.rb has two versions of this operator: <code>retry</code> and <code>retry_infinitely</code>. </p> <figure> <img src="http://reactivex.io/documentation/operators/images/retry.png" style="width:100%;" alt="retry"> <figcaption><p> <code>retry</code> takes a single optional parameter, a count of the number of times it should try resubscribing to and mirroring the source Observable when it encounters errors. If this count is exceeded, <code>retry</code> will not attempt to resubscribe and will instead pass the <code>onError</code> notification to its observers. </p></figcaption> </figure> <p> <code>retryInfinitely</code>, on the other hand, will attempt to resubscribe to and mirror the source Observable indefinitely, no matter how many <code>onError</code> notifications it receives. </p> </div> </div> </div> <div> <div role="tab" id="headingRxScala"> <h3 class="panel-title">  RxScala <code>retry retryWhen</code>  </h3> </div> <div id="collapseRxScala" role="tabpanel" aria-labelledby="headingRxScala"> <div> <p> RxScala has two versions of this operator: <code>retry</code> and <code>retryWhen</code>. </p> <figure> <img src="http://reactivex.io/documentation/operators/images/retry.png" style="width:100%;" alt="retry"> <figcaption><p> One variant of <code>retry</code> takes no parameters. It will continue to resubscribe to and mirror the source Observable no matter how many <code>onError</code> notifications it receives. </p>
<p> Another variant of <code>retry</code> takes a single parameter: a count of the number of times it should try to resubscribe to the source Observable when it encounters errors. If this count is exceeded, <code>retry</code> will not attempt to resubscribe again and will instead pass the latest <code>onError</code> notification to its observers. </p>
<p> A third variant of <code>retry</code> takes a predicate function as a parameter. You write this function to accept two arguments: an Int count of how many retries have taken place thusfar, and a Throwable indicating the error that caused the <code>onError</code> notification. This function returns a Boolean to indicate whether or not <code>retry</code> should resubscribe to and mirror the source Observable. If it does not, then <code>retry</code> passes the latest <code>onError</code> notification to its observers. </p></figcaption> </figure> <figure> <img src="http://reactivex.io/documentation/operators/images/retryWhen.f.png" style="width:100%;" alt="retryWhen"> <figcaption><p> The <code>retryWhen</code> operator is similar to <code>retry</code> but decides whether or not to resubscribe to and mirror the source Observable by passing the Throwable from the <code>onError</code> notification to a function that generates a second Observable, and observes its result to determine what to do. If that result is an emitted item, <code>retryWhen</code> resubscribes to and mirrors the source and the process repeats; if that result is an <code>onError</code> notification, <code>retryWhen</code> passes this notification on to its observers and terminates. </p></figcaption> </figure> </div> </div> </div>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; ReactiveX contributors<br>Licensed under the Apache License 2.0.<br>
    <a href="http://reactivex.io/documentation/operators/retry.html" class="_attribution-link">http://reactivex.io/documentation/operators/retry.html</a>
  </p>
</div>
