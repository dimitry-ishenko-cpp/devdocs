<h1>[Java] Class JsonBuilder</h1> <ul class="inheritance"> 

<li>groovy.json.JsonBuilder </li>
</ul> <div class="description">   <dl> <dt>All Implemented Interfaces and Traits:</dt> <dd><a href="../lang/writable.html">Writable</a></dd> </dl>   <pre data-language="groovy">public class JsonBuilder
extends <a href="../lang/groovyobjectsupport.html">GroovyObjectSupport</a>
implements <a href="../lang/writable.html">Writable</a></pre> <p> A builder for creating JSON payloads. </p>
<p> This builder supports the usual builder syntax made of nested method calls and closures, but also some specific aspects of JSON data structures, such as list of values, etc. Please make sure to have a look at the various methods provided by this builder to be able to learn about the various possibilities of usage. </p>
<p> Example: </p>
<pre data-language="groovy"><code class="groovyTestCase">
       def builder = new groovy.json.JsonBuilder()
       def root = builder.people {
           person {
               firstName 'Guillame'
               lastName 'Laforge'
               // Named arguments are valid values for objects too
               address(
                       city: 'Paris',
                       country: 'France',
                       zip: 12345,
               )
               married true
               // a list of values
               conferences 'JavaOne', 'Gr8conf'
           }
       }

       // creates a data structure made of maps (Json object) and lists (Json array)
       assert root instanceof Map

       assert builder.toString() == '{"people":{"person":{"firstName":"Guillame","lastName":"Laforge","address":{"city":"Paris","country":"France","zip":12345},"married":true,"conferences":["JavaOne","Gr8conf"]}}}'
 </code></pre> <dl>
<dt><b>Since:</b></dt>
<dd>1.8.0</dd>
</dl>   </div> <div class="summary">           <h2 id="constructor_summary">Constructor Summary</h2>  <table class="overviewSummary"> <caption>
<span>Constructors</span>
</caption> <tr> <th class="colFirst" scope="col">Constructor and description</th> </tr> <tr class="altColor"> <td class="colFirst"> <code><strong><a href="#JsonBuilder()">JsonBuilder</a></strong>()</code><br>Instantiates a JSON builder.</td> </tr> <tr class="rowColor"> <td class="colFirst"> <code><strong><a href="#JsonBuilder(groovy.json.JsonGenerator)">JsonBuilder</a></strong>(<a href="jsongenerator.html">JsonGenerator</a> generator)</code><br>Instantiates a JSON builder with a configured generator.</td> </tr> <tr class="altColor"> <td class="colFirst"> <code><strong><a href="#JsonBuilder(java.lang.Object)">JsonBuilder</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> content)</code><br>Instantiates a JSON builder with some existing data structure.</td> </tr> <tr class="rowColor"> <td class="colFirst"> <code><strong><a href="#JsonBuilder(java.lang.Object,%20groovy.json.JsonGenerator)">JsonBuilder</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> content, <a href="jsongenerator.html">JsonGenerator</a> generator)</code><br>Instantiates a JSON builder with some existing data structure and a configured generator.</td> </tr> </table>       <h2 id="method_summary">Methods Summary</h2>  <table class="overviewSummary"> <caption>
<span>Methods</span>
</caption> <tr> <th class="colFirst" scope="col">Type Params</th> <th class="colLast" scope="col">Return Type</th> <th class="colLast" scope="col">Name and description</th> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast">
<code><strong><a href="#call(java.util.Map)">call</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="Map">Map</a> m)</code><br>Named arguments can be passed to the JSON builder instance to create a root JSON object</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast">
<code><strong><a href="#call(java.util.List)">call</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="List">List</a> l)</code><br>A list of elements as arguments to the JSON builder creates a root JSON array</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast">
<code><strong><a href="#call(java.lang.Object)">call</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> args)</code><br>Varargs elements as arguments to the JSON builder create a root JSON array</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast">
<code><strong><a href="#call(java.lang.Iterable,%20groovy.lang.Closure)">call</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html" title="Iterable">Iterable</a> coll, <a href="../lang/closure.html">Closure</a> c)</code><br>A collection and closure passed to a JSON builder will create a root JSON array applying the closure to each object in the collection</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast">
<code><strong><a href="#call(java.util.Collection,%20groovy.lang.Closure)">call</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" title="Collection">Collection</a> coll, <a href="../lang/closure.html">Closure</a> c)</code><br>Delegates to <a href="#call(java.lang.Iterable,%20groovy.lang.Closure)">call(Iterable, Closure)</a>
</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast">
<code><strong><a href="#call(groovy.lang.Closure)">call</a></strong>(<a href="../lang/closure.html">Closure</a> c)</code><br>A closure passed to a JSON builder will create a root JSON object</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast">
<code><strong><a href="#getContent()">getContent</a></strong>()</code><br>
</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast">
<code><strong><a href="#invokeMethod(java.lang.String,%20java.lang.Object)">invokeMethod</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> args)</code><br>A method call on the JSON builder instance will create a root object with only one key whose name is the name of the method being called. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a></code></td> <td class="colLast">
<code><strong><a href="#toPrettyString()">toPrettyString</a></strong>()</code><br>Pretty-prints and formats the JSON payload.</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a></code></td> <td class="colLast">
<code><strong><a href="#toString()">toString</a></strong>()</code><br>Serializes the internal data structure built with the builder to a conformant JSON payload string</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Writer.html" title="Writer">Writer</a></code></td> <td class="colLast">
<code><strong><a href="#writeTo(java.io.Writer)">writeTo</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/Writer.html" title="Writer">Writer</a> out)</code><br>The JSON builder implements the <code>Writable</code> interface, so that you can have the builder serialize itself the JSON payload to a writer.</td> </tr> </table>    <h2 id="method_summary">Inherited Methods Summary</h2>  <table class="overviewSummary"> <caption>
<span>Inherited Methods</span>
</caption> <tr> <th class="colFirst" scope="col">Methods inherited from class</th> <th class="colLast" scope="col">Name</th> </tr> <tr class="altColor"> <td class="colFirst"><code>class <a href="../lang/groovyobjectsupport.html">GroovyObjectSupport</a></code></td> <td class="colLast"><code><a href="../lang/groovyobjectsupport.html#getMetaClass()">getMetaClass</a>, <a href="../lang/groovyobjectsupport.html#setMetaClass(groovy.lang.MetaClass)">setMetaClass</a></code></td> </tr> </table>      </div> <div class="details">      <h2 id="constructor_detail">Constructor Detail</h2>    <h3 id="JsonBuilder()" class="constructor">public <strong>JsonBuilder</strong>()</h3> <p> Instantiates a JSON builder. </p>      <h3 id="JsonBuilder(groovy.json.JsonGenerator)" class="constructor">public <strong>JsonBuilder</strong>(<a href="jsongenerator.html">JsonGenerator</a> generator)</h3> <p> Instantiates a JSON builder with a configured generator. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>generator</code> - used to generate the output</dd>
</dl>
<dl>
<dt><b>Since:</b></dt>
<dd>2.5.0</dd>
</dl>      <h3 id="JsonBuilder(java.lang.Object)" class="constructor">public <strong>JsonBuilder</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> content)</h3> <p> Instantiates a JSON builder with some existing data structure. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>content</code> - a pre-existing data structure</dd>
</dl>      <h3 id="JsonBuilder(java.lang.Object, groovy.json.JsonGenerator)" class="constructor">public <strong>JsonBuilder</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> content, <a href="jsongenerator.html">JsonGenerator</a> generator)</h3> <p> Instantiates a JSON builder with some existing data structure and a configured generator. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>content</code> - a pre-existing data structure</dd>
<dd>
<code>generator</code> - used to generate the output</dd>
</dl>
<dl>
<dt><b>Since:</b></dt>
<dd>2.5.0</dd>
</dl>        <h2 id="method_detail">Method Detail</h2>    <h3 id="call(java.util.Map)" class="method">public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> <strong>call</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="Map">Map</a> m)</h3> <p> Named arguments can be passed to the JSON builder instance to create a root JSON object </p>
<p> Example: </p>
<pre data-language="groovy"><code class="groovyTestCase">
 def json = new groovy.json.JsonBuilder()
 json name: "Guillaume", age: 33

 assert json.toString() == '{"name":"Guillaume","age":33}'
 </code></pre> <dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>m</code> - a map of key / value pairs</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>a map of key / value pairs</dd>
</dl>      <h3 id="call(java.util.List)" class="method">public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> <strong>call</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="List">List</a> l)</h3> <p> A list of elements as arguments to the JSON builder creates a root JSON array </p>
<p> Example: </p>
<pre data-language="groovy"><code class="groovyTestCase">
 def json = new groovy.json.JsonBuilder()
 def result = json([1, 2, 3])

 assert result instanceof List
 assert json.toString() == "[1,2,3]"
 </code></pre> <dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>l</code> - a list of values</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>a list of values</dd>
</dl>      <h3 id="call(java.lang.Object)" class="method">public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> <strong>call</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> args)</h3> <p> Varargs elements as arguments to the JSON builder create a root JSON array </p>
<p> Example: </p>
<pre data-language="groovy"><code class="groovyTestCase">
 def json = new groovy.json.JsonBuilder()
 def result = json 1, 2, 3

 assert result instanceof List
 assert json.toString() == "[1,2,3]"
 </code></pre> <dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>args</code> - an array of values</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>a list of values</dd>
</dl>      <h3 id="call(java.lang.Iterable, groovy.lang.Closure)" class="method">public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> <strong>call</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html" title="Iterable">Iterable</a> coll, <a href="../lang/closure.html">Closure</a> c)</h3> <p> A collection and closure passed to a JSON builder will create a root JSON array applying the closure to each object in the collection </p>
<p> Example: </p>
<pre data-language="groovy"><code class="groovyTestCase">
 class Author {
      String name
 }
 def authors = [new Author (name: "Guillaume"), new Author (name: "Jochen"), new Author (name: "Paul")]

 def json = new groovy.json.JsonBuilder()
 json authors, { Author author <code>-&gt;</code>
      name author.name
 }

 assert json.toString() == '[{"name":"Guillaume"},{"name":"Jochen"},{"name":"Paul"}]'
 </code></pre> <dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>coll</code> - a collection</dd>
<dd>
<code>c</code> - a closure used to convert the objects of coll</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>a list of values</dd>
</dl>      <h3 id="call(java.util.Collection, groovy.lang.Closure)" class="method">public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> <strong>call</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" title="Collection">Collection</a> coll, <a href="../lang/closure.html">Closure</a> c)</h3> <p> Delegates to <a href="#call(java.lang.Iterable,%20groovy.lang.Closure)">call(Iterable, Closure)</a> </p>      <h3 id="call(groovy.lang.Closure)" class="method">public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> <strong>call</strong>(<a href="../lang/closure.html">Closure</a> c)</h3> <p> A closure passed to a JSON builder will create a root JSON object </p>
<p> Example: </p>
<pre data-language="groovy"><code class="groovyTestCase">
 def json = new groovy.json.JsonBuilder()
 def result = json {
      name "Guillaume"
      age 33
 }

 assert result instanceof Map
 assert json.toString() == '{"name":"Guillaume","age":33}'
 </code></pre> <dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>c</code> - a closure whose method call statements represent key / values of a JSON object</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>a map of key / value pairs</dd>
</dl>      <h3 id="getContent()" class="method">public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> <strong>getContent</strong>()</h3>       <h3 id="invokeMethod(java.lang.String, java.lang.Object)" class="method">@<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Override.html" title="Override">Override</a> public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> <strong>invokeMethod</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> args)</h3> <p> A method call on the JSON builder instance will create a root object with only one key whose name is the name of the method being called. This method takes as arguments: </p>
<ul> <li>a closure</li> <li>a map (ie. named arguments)</li> <li>a map and a closure</li> <li>or no argument at all</li> </ul> <p> Example with a classical builder-style: </p>
<pre data-language="groovy"><code class="groovyTestCase">
 def json = new groovy.json.JsonBuilder()
 def result = json.person {
      name "Guillaume"
      age 33
 }

 assert result instanceof Map
 assert json.toString() == '{"person":{"name":"Guillaume","age":33}}'
 </code></pre> Or alternatively with a method call taking named arguments: <pre data-language="groovy"><code class="groovyTestCase">
 def json = new groovy.json.JsonBuilder()
 json.person name: "Guillaume", age: 33

 assert json.toString() == '{"person":{"name":"Guillaume","age":33}}'
 </code></pre> If you use named arguments and a closure as last argument, the key/value pairs of the map (as named arguments) and the key/value pairs represented in the closure will be merged together — the closure properties overriding the map key/values in case the same key is used. <pre data-language="groovy"><code class="groovyTestCase">
 def json = new groovy.json.JsonBuilder()
 json.person(name: "Guillaume", age: 33) { town "Paris" }

 assert json.toString() == '{"person":{"name":"Guillaume","age":33,"town":"Paris"}}'
 </code></pre> The empty args call will create a key whose value will be an empty JSON object: <pre data-language="groovy"><code class="groovyTestCase">
 def json = new groovy.json.JsonBuilder()
 json.person()

 assert json.toString() == '{"person":{}}'
 </code></pre> <dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>name</code> - the single key</dd>
<dd>
<code>args</code> - the value associated with the key</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>a map with a single key</dd>
</dl>      <h3 id="toPrettyString()" class="method">public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> <strong>toPrettyString</strong>()</h3> <p> Pretty-prints and formats the JSON payload. </p>
<p> This method calls the JsonLexer to parser the output of the builder, so this may not be an optimal method to call, and should be used mainly for debugging purpose for a human-readable output of the JSON content. </p>
<dl>
<dt><b>Returns:</b></dt>
<dd>a pretty printed JSON output</dd>
</dl>      <h3 id="toString()" class="method">@<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Override.html" title="Override">Override</a> public <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> <strong>toString</strong>()</h3> <p> Serializes the internal data structure built with the builder to a conformant JSON payload string </p>
<p> Example: </p>
<pre data-language="groovy"><code class="groovyTestCase">
 def json = new groovy.json.JsonBuilder()
 json { temperature 37 }

 assert json.toString() == '{"temperature":37}'
 </code></pre> <dl>
<dt><b>Returns:</b></dt>
<dd>a JSON output</dd>
</dl>      <h3 id="writeTo(java.io.Writer)" class="method">@<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Override.html" title="Override">Override</a> public <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Writer.html" title="Writer">Writer</a> <strong>writeTo</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/Writer.html" title="Writer">Writer</a> out)</h3> <p> The JSON builder implements the <code>Writable</code> interface, so that you can have the builder serialize itself the JSON payload to a writer. </p>
<p> Example: </p>
<pre data-language="groovy"><code class="groovyTestCase">
 def json = new groovy.json.JsonBuilder()
 json { temperature 37 }

 def out = new StringWriter()
 out <code>&lt;&lt;</code> json

 assert out.toString() == '{"temperature":37}'
 </code></pre> <dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>out</code> - a writer on which to serialize the JSON payload</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>the writer</dd>
</dl>       </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003-2022 The Apache Software Foundation<br>Licensed under the Apache license.<br>
    <a href="https://docs.groovy-lang.org/4.0.0/html/gapi/groovy/json/JsonBuilder.html" class="_attribution-link">https://docs.groovy-lang.org/4.0.0/html/gapi/groovy/json/JsonBuilder.html</a>
  </p>
</div>
