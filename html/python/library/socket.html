 <span id="socket-low-level-networking-interface"></span><h1>socket — Low-level networking interface</h1> <p><strong>Source code:</strong> <a class="extlink-source reference external" href="https://github.com/python/cpython/tree/3.13/Lib/socket.py">Lib/socket.py</a></p>  <p>This module provides access to the BSD <em>socket</em> interface. It is available on all modern Unix systems, Windows, MacOS, and probably additional platforms.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Some behavior may be platform dependent, since calls are made to the operating system socket APIs.</p> </div> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> <p>This module does not work or is not available on WebAssembly. See <a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#wasm-availability"><span class="std std-ref">WebAssembly platforms</span></a> for more information.</p> </div> <p id="index-0">The Python interface is a straightforward transliteration of the Unix system call and library interface for sockets to Python’s object-oriented style: the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a> function returns a <em class="dfn">socket object</em> whose methods implement the various socket system calls. Parameter types are somewhat higher-level than in the C interface: as with <code>read()</code> and <code>write()</code> operations on Python files, buffer allocation on receive operations is automatic, and buffer length is implicit on send operations.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt>
<code>Module</code> <a class="reference internal" href="socketserver.html#module-socketserver" title="socketserver: A framework for network servers."><code>socketserver</code></a>
</dt>
<dd>
<p>Classes that simplify writing network servers.</p> </dd> <dt>
<code>Module</code> <a class="reference internal" href="ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code>ssl</code></a>
</dt>
<dd>
<p>A TLS/SSL wrapper for socket objects.</p> </dd> </dl> </div> <section id="socket-families"> <h2>Socket families</h2> <p>Depending on the system and the build options, various socket families are supported by this module.</p> <p>The address format required by a particular socket object is automatically selected based on the address family specified when the socket object was created. Socket addresses are represented as follows:</p> <ul> <li>
<p>The address of an <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> socket bound to a file system node is represented as a string, using the file system encoding and the <code>'surrogateescape'</code> error handler (see <span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-0383/"><strong>PEP 383</strong></a>). An address in Linux’s abstract namespace is returned as a <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a> with an initial null byte; note that sockets in this namespace can communicate with normal file system sockets, so programs intended to run on Linux may need to deal with both types of address. A string or bytes-like object can be used for either type of address when passing it as an argument.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.3: </span>Previously, <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> socket paths were assumed to use UTF-8 encoding.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>Writable <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a> is now accepted.</p> </div> </li> </ul> <ul id="host-port"> <li>
<p>A pair <code>(host, port)</code> is used for the <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> address family, where <em>host</em> is a string representing either a hostname in internet domain notation like <code>'daring.cwi.nl'</code> or an IPv4 address like <code>'100.50.200.5'</code>, and <em>port</em> is an integer.</p> <ul class="simple"> <li>For IPv4 addresses, two special forms are accepted instead of a host address: <code>''</code> represents <code>INADDR_ANY</code>, which is used to bind to all interfaces, and the string <code>'&lt;broadcast&gt;'</code> represents <code>INADDR_BROADCAST</code>. This behavior is not compatible with IPv6, therefore, you may want to avoid these if you intend to support IPv6 with your Python programs.</li> </ul> </li> <li>
<p>For <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a> address family, a four-tuple <code>(host, port, flowinfo,
scope_id)</code> is used, where <em>flowinfo</em> and <em>scope_id</em> represent the <code>sin6_flowinfo</code> and <code>sin6_scope_id</code> members in <code>struct sockaddr_in6</code> in C. For <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><code>socket</code></a> module methods, <em>flowinfo</em> and <em>scope_id</em> can be omitted just for backward compatibility. Note, however, omission of <em>scope_id</em> can cause problems in manipulating scoped IPv6 addresses.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>For multicast addresses (with <em>scope_id</em> meaningful) <em>address</em> may not contain <code>%scope_id</code> (or <code>zone id</code>) part. This information is superfluous and may be safely omitted (recommended).</p> </div> </li> <li>
<code>AF_NETLINK</code> sockets are represented as pairs <code>(pid, groups)</code>.</li> <li>
<p>Linux-only support for TIPC is available using the <code>AF_TIPC</code> address family. TIPC is an open, non-IP based networked protocol designed for use in clustered computer environments. Addresses are represented by a tuple, and the fields depend on the address type. The general tuple form is <code>(addr_type, v1, v2, v3 [, scope])</code>, where:</p> <ul> <li>
<em>addr_type</em> is one of <code>TIPC_ADDR_NAMESEQ</code>, <code>TIPC_ADDR_NAME</code>, or <code>TIPC_ADDR_ID</code>.</li> <li>
<em>scope</em> is one of <code>TIPC_ZONE_SCOPE</code>, <code>TIPC_CLUSTER_SCOPE</code>, and <code>TIPC_NODE_SCOPE</code>.</li> <li>
<p>If <em>addr_type</em> is <code>TIPC_ADDR_NAME</code>, then <em>v1</em> is the server type, <em>v2</em> is the port identifier, and <em>v3</em> should be 0.</p> <p>If <em>addr_type</em> is <code>TIPC_ADDR_NAMESEQ</code>, then <em>v1</em> is the server type, <em>v2</em> is the lower port number, and <em>v3</em> is the upper port number.</p> <p>If <em>addr_type</em> is <code>TIPC_ADDR_ID</code>, then <em>v1</em> is the node, <em>v2</em> is the reference, and <em>v3</em> should be set to 0.</p> </li> </ul> </li> <li>
<p>A tuple <code>(interface, )</code> is used for the <a class="reference internal" href="#socket.AF_CAN" title="socket.AF_CAN"><code>AF_CAN</code></a> address family, where <em>interface</em> is a string representing a network interface name like <code>'can0'</code>. The network interface name <code>''</code> can be used to receive packets from all network interfaces of this family.</p> <ul class="simple"> <li>
<a class="reference internal" href="#socket.CAN_ISOTP" title="socket.CAN_ISOTP"><code>CAN_ISOTP</code></a> protocol require a tuple <code>(interface, rx_addr, tx_addr)</code> where both additional parameters are unsigned long integer that represent a CAN identifier (standard or extended).</li> <li>
<a class="reference internal" href="#socket.CAN_J1939" title="socket.CAN_J1939"><code>CAN_J1939</code></a> protocol require a tuple <code>(interface, name, pgn, addr)</code> where additional parameters are 64-bit unsigned integer representing the ECU name, a 32-bit unsigned integer representing the Parameter Group Number (PGN), and an 8-bit integer representing the address.</li> </ul> </li> <li>
<p>A string or a tuple <code>(id, unit)</code> is used for the <code>SYSPROTO_CONTROL</code> protocol of the <code>PF_SYSTEM</code> family. The string is the name of a kernel control using a dynamically assigned ID. The tuple can be used if ID and unit number of the kernel control are known or if a registered ID is used.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> </li> <li>
<p><code>AF_BLUETOOTH</code> supports the following protocols and address formats:</p> <ul> <li>
<code>BTPROTO_L2CAP</code> accepts <code>(bdaddr, psm)</code> where <code>bdaddr</code> is the Bluetooth address as a string and <code>psm</code> is an integer.</li> <li>
<code>BTPROTO_RFCOMM</code> accepts <code>(bdaddr, channel)</code> where <code>bdaddr</code> is the Bluetooth address as a string and <code>channel</code> is an integer.</li> <li>
<p><code>BTPROTO_HCI</code> accepts <code>(device_id,)</code> where <code>device_id</code> is either an integer or a string with the Bluetooth address of the interface. (This depends on your OS; NetBSD and DragonFlyBSD expect a Bluetooth address while everything else expects an integer.)</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.2: </span>NetBSD and DragonFlyBSD support added.</p> </div> </li> <li>
<code>BTPROTO_SCO</code> accepts <code>bdaddr</code> where <code>bdaddr</code> is a <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code>bytes</code></a> object containing the Bluetooth address in a string format. (ex. <code>b'12:23:34:45:56:67'</code>) This protocol is not supported under FreeBSD.</li> </ul> </li> <li>
<p><a class="reference internal" href="#socket.AF_ALG" title="socket.AF_ALG"><code>AF_ALG</code></a> is a Linux-only socket based interface to Kernel cryptography. An algorithm socket is configured with a tuple of two to four elements <code>(type, name [, feat [, mask]])</code>, where:</p> <ul class="simple"> <li>
<em>type</em> is the algorithm type as string, e.g. <code>aead</code>, <code>hash</code>, <code>skcipher</code> or <code>rng</code>.</li> <li>
<em>name</em> is the algorithm name and operation mode as string, e.g. <code>sha256</code>, <code>hmac(sha256)</code>, <code>cbc(aes)</code> or <code>drbg_nopr_ctr_aes256</code>.</li> <li>
<em>feat</em> and <em>mask</em> are unsigned 32bit integers.</li> </ul> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.6.38.</p> <p>Some algorithm types require more recent Kernels.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.6.</span></p> </div> </li> <li>
<p><a class="reference internal" href="#socket.AF_VSOCK" title="socket.AF_VSOCK"><code>AF_VSOCK</code></a> allows communication between virtual machines and their hosts. The sockets are represented as a <code>(CID, port)</code> tuple where the context ID or CID and port are integers.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 3.9</p> <p>See <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/vsock(7)">vsock(7)</a></em></p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.7.</span></p> </div> </li> <li>
<p><a class="reference internal" href="#socket.AF_PACKET" title="socket.AF_PACKET"><code>AF_PACKET</code></a> is a low-level interface directly to network devices. The addresses are represented by the tuple <code>(ifname, proto[, pkttype[, hatype[, addr]]])</code> where:</p> <ul class="simple"> <li>
<em>ifname</em> - String specifying the device name.</li> <li>
<em>proto</em> - The Ethernet protocol number. May be <a class="reference internal" href="#socket.ETH_P_ALL" title="socket.ETH_P_ALL"><code>ETH_P_ALL</code></a> to capture all protocols, one of the <a class="reference internal" href="#socket-ethernet-types"><span class="std std-ref">ETHERTYPE_* constants</span></a> or any other Ethernet protocol number.</li> <li>
<p><em>pkttype</em> - Optional integer specifying the packet type:</p> <ul> <li>
<code>PACKET_HOST</code> (the default) - Packet addressed to the local host.</li> <li>
<code>PACKET_BROADCAST</code> - Physical-layer broadcast packet.</li> <li>
<code>PACKET_MULTICAST</code> - Packet sent to a physical-layer multicast address.</li> <li>
<code>PACKET_OTHERHOST</code> - Packet to some other host that has been caught by a device driver in promiscuous mode.</li> <li>
<code>PACKET_OUTGOING</code> - Packet originating from the local host that is looped back to a packet socket.</li> </ul> </li> <li>
<em>hatype</em> - Optional integer specifying the ARP hardware address type.</li> <li>
<em>addr</em> - Optional bytes-like object specifying the hardware physical address, whose interpretation depends on the device.</li> </ul> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.2.</p> </div> </li> <li>
<p><a class="reference internal" href="#socket.AF_QIPCRTR" title="socket.AF_QIPCRTR"><code>AF_QIPCRTR</code></a> is a Linux-only socket based interface for communicating with services running on co-processors in Qualcomm platforms. The address family is represented as a <code>(node, port)</code> tuple where the <em>node</em> and <em>port</em> are non-negative integers.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 4.7.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.8.</span></p> </div> </li> <li>
<p><code>IPPROTO_UDPLITE</code> is a variant of UDP which allows you to specify what portion of a packet is covered with the checksum. It adds two socket options that you can change. <code>self.setsockopt(IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV, length)</code> will change what portion of outgoing packets are covered by the checksum and <code>self.setsockopt(IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV, length)</code> will filter out packets which cover too little of their data. In both cases <code>length</code> should be in <code>range(8, 2**16, 8)</code>.</p> <p>Such a socket should be constructed with <code>socket(AF_INET, SOCK_DGRAM, IPPROTO_UDPLITE)</code> for IPv4 or <code>socket(AF_INET6, SOCK_DGRAM, IPPROTO_UDPLITE)</code> for IPv6.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.6.20, FreeBSD &gt;= 10.1</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.9.</span></p> </div> </li> <li>
<p><a class="reference internal" href="#socket.AF_HYPERV" title="socket.AF_HYPERV"><code>AF_HYPERV</code></a> is a Windows-only socket based interface for communicating with Hyper-V hosts and guests. The address family is represented as a <code>(vm_id, service_id)</code> tuple where the <code>vm_id</code> and <code>service_id</code> are UUID strings.</p> <p>The <code>vm_id</code> is the virtual machine identifier or a set of known VMID values if the target is not a specific virtual machine. Known VMID constants defined on <code>socket</code> are:</p> <ul class="simple"> <li><code>HV_GUID_ZERO</code></li> <li><code>HV_GUID_BROADCAST</code></li> <li>
<code>HV_GUID_WILDCARD</code> - Used to bind on itself and accept connections from all partitions.</li> <li>
<code>HV_GUID_CHILDREN</code> - Used to bind on itself and accept connection from child partitions.</li> <li>
<code>HV_GUID_LOOPBACK</code> - Used as a target to itself.</li> <li>
<code>HV_GUID_PARENT</code> - When used as a bind accepts connection from the parent partition. When used as an address target it will connect to the parent partition.</li> </ul> <p>The <code>service_id</code> is the service identifier of the registered service.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.12.</span></p> </div> </li> </ul> <p>If you use a hostname in the <em>host</em> portion of IPv4/v6 socket address, the program may show a nondeterministic behavior, as Python uses the first address returned from the DNS resolution. The socket address will be resolved differently into an actual IPv4/v6 address, depending on the results from DNS resolution and/or the host configuration. For deterministic behavior use a numeric address in <em>host</em> portion.</p> <p>All errors raise exceptions. The normal exceptions for invalid argument types and out-of-memory conditions can be raised. Errors related to socket or address semantics raise <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a> or one of its subclasses.</p> <p>Non-blocking mode is supported through <a class="reference internal" href="#socket.socket.setblocking" title="socket.socket.setblocking"><code>setblocking()</code></a>. A generalization of this based on timeouts is supported through <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><code>settimeout()</code></a>.</p> </section> <section id="module-contents"> <h2>Module contents</h2> <p>The module <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><code>socket</code></a> exports the following elements.</p> <section id="exceptions"> <h3>Exceptions</h3> <dl class="py exception"> <dt class="sig sig-object py" id="socket.error">
<code>exception socket.error</code> </dt> <dd>
<p>A deprecated alias of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.3: </span>Following <span class="target" id="index-2"></span><a class="pep reference external" href="https://peps.python.org/pep-3151/"><strong>PEP 3151</strong></a>, this class was made an alias of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a>.</p> </div> </dd>
</dl> <dl class="py exception"> <dt class="sig sig-object py" id="socket.herror">
<code>exception socket.herror</code> </dt> <dd>
<p>A subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a>, this exception is raised for address-related errors, i.e. for functions that use <em>h_errno</em> in the POSIX C API, including <a class="reference internal" href="#socket.gethostbyname_ex" title="socket.gethostbyname_ex"><code>gethostbyname_ex()</code></a> and <a class="reference internal" href="#socket.gethostbyaddr" title="socket.gethostbyaddr"><code>gethostbyaddr()</code></a>. The accompanying value is a pair <code>(h_errno, string)</code> representing an error returned by a library call. <em>h_errno</em> is a numeric value, while <em>string</em> represents the description of <em>h_errno</em>, as returned by the <code>hstrerror()</code> C function.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.3: </span>This class was made a subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a>.</p> </div> </dd>
</dl> <dl class="py exception"> <dt class="sig sig-object py" id="socket.gaierror">
<code>exception socket.gaierror</code> </dt> <dd>
<p>A subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a>, this exception is raised for address-related errors by <a class="reference internal" href="#socket.getaddrinfo" title="socket.getaddrinfo"><code>getaddrinfo()</code></a> and <a class="reference internal" href="#socket.getnameinfo" title="socket.getnameinfo"><code>getnameinfo()</code></a>. The accompanying value is a pair <code>(error, string)</code> representing an error returned by a library call. <em>string</em> represents the description of <em>error</em>, as returned by the <code>gai_strerror()</code> C function. The numeric <em>error</em> value will match one of the <code>EAI_*</code> constants defined in this module.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.3: </span>This class was made a subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a>.</p> </div> </dd>
</dl> <dl class="py exception"> <dt class="sig sig-object py" id="socket.timeout">
<code>exception socket.timeout</code> </dt> <dd>
<p>A deprecated alias of <a class="reference internal" href="exceptions.html#TimeoutError" title="TimeoutError"><code>TimeoutError</code></a>.</p> <p>A subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a>, this exception is raised when a timeout occurs on a socket which has had timeouts enabled via a prior call to <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><code>settimeout()</code></a> (or implicitly through <a class="reference internal" href="#socket.setdefaulttimeout" title="socket.setdefaulttimeout"><code>setdefaulttimeout()</code></a>). The accompanying value is a string whose value is currently always “timed out”.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.3: </span>This class was made a subclass of <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.10: </span>This class was made an alias of <a class="reference internal" href="exceptions.html#TimeoutError" title="TimeoutError"><code>TimeoutError</code></a>.</p> </div> </dd>
</dl> </section> <section id="constants"> <h3>Constants</h3>  <p>The AF_* and SOCK_* constants are now <code>AddressFamily</code> and <code>SocketKind</code> <a class="reference internal" href="enum.html#enum.IntEnum" title="enum.IntEnum"><code>IntEnum</code></a> collections.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.4.</span></p> </div>  <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_UNIX">
<code>socket.AF_UNIX</code> </dt> <dt class="sig sig-object py" id="socket.AF_INET">
<code>socket.AF_INET</code> </dt> <dt class="sig sig-object py" id="socket.AF_INET6">
<code>socket.AF_INET6</code> </dt> <dd>
<p>These constants represent the address (and protocol) families, used for the first argument to <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a>. If the <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> constant is not defined then this protocol is unsupported. More constants may be available depending on the system.</p> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_UNSPEC">
<code>socket.AF_UNSPEC</code> </dt> <dd>
<p><a class="reference internal" href="#socket.AF_UNSPEC" title="socket.AF_UNSPEC"><code>AF_UNSPEC</code></a> means that <a class="reference internal" href="#socket.getaddrinfo" title="socket.getaddrinfo"><code>getaddrinfo()</code></a> should return socket addresses for any address family (either IPv4, IPv6, or any other) that can be used.</p> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.SOCK_STREAM">
<code>socket.SOCK_STREAM</code> </dt> <dt class="sig sig-object py" id="socket.SOCK_DGRAM">
<code>socket.SOCK_DGRAM</code> </dt> <dt class="sig sig-object py" id="socket.SOCK_RAW">
<code>socket.SOCK_RAW</code> </dt> <dt class="sig sig-object py" id="socket.SOCK_RDM">
<code>socket.SOCK_RDM</code> </dt> <dt class="sig sig-object py" id="socket.SOCK_SEQPACKET">
<code>socket.SOCK_SEQPACKET</code> </dt> <dd>
<p>These constants represent the socket types, used for the second argument to <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a>. More constants may be available depending on the system. (Only <a class="reference internal" href="#socket.SOCK_STREAM" title="socket.SOCK_STREAM"><code>SOCK_STREAM</code></a> and <a class="reference internal" href="#socket.SOCK_DGRAM" title="socket.SOCK_DGRAM"><code>SOCK_DGRAM</code></a> appear to be generally useful.)</p> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.SOCK_CLOEXEC">
<code>socket.SOCK_CLOEXEC</code> </dt> <dt class="sig sig-object py" id="socket.SOCK_NONBLOCK">
<code>socket.SOCK_NONBLOCK</code> </dt> <dd>
<p>These two constants, if defined, can be combined with the socket types and allow you to set some flags atomically (thus avoiding possible race conditions and the need for separate calls).</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <p><a class="reference external" href="https://udrepper.livejournal.com/20407.html">Secure File Descriptor Handling</a> for a more thorough explanation.</p> </div> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.6.27.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.2.</span></p> </div> </dd>
</dl> <dl class="py data" id="socket-unix-constants"> <dt class="sig sig-object py"> <span class="sig-name descname">SO_*</span>
</dt> <dt class="sig sig-object py" id="socket.SOMAXCONN">
<code>socket.SOMAXCONN</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">MSG_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">SOL_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">SCM_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">IPPROTO_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">IPPORT_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">INADDR_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">IP_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">IPV6_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">EAI_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">AI_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">NI_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">TCP_*</span>
</dt> <dd>
<p>Many constants of these forms, documented in the Unix documentation on sockets and/or the IP protocol, are also defined in the socket module. They are generally used in arguments to the <a class="reference internal" href="#socket.socket.setsockopt" title="socket.socket.setsockopt"><code>setsockopt()</code></a> and <a class="reference internal" href="#socket.socket.getsockopt" title="socket.socket.getsockopt"><code>getsockopt()</code></a> methods of socket objects. In most cases, only those symbols that are defined in the Unix header files are defined; for a few symbols, default values are provided.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.6: </span><code>SO_DOMAIN</code>, <code>SO_PROTOCOL</code>, <code>SO_PEERSEC</code>, <code>SO_PASSSEC</code>, <code>TCP_USER_TIMEOUT</code>, <code>TCP_CONGESTION</code> were added.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.6.5: </span>On Windows, <code>TCP_FASTOPEN</code>, <code>TCP_KEEPCNT</code> appear if run-time Windows supports.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span><code>TCP_NOTSENT_LOWAT</code> was added.</p> <p>On Windows, <code>TCP_KEEPIDLE</code>, <code>TCP_KEEPINTVL</code> appear if run-time Windows supports.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.10: </span><code>IP_RECVTOS</code> was added. Added <code>TCP_KEEPALIVE</code>. On MacOS this constant can be used in the same way that <code>TCP_KEEPIDLE</code> is used on Linux.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.11: </span>Added <code>TCP_CONNECTION_INFO</code>. On MacOS this constant can be used in the same way that <code>TCP_INFO</code> is used on Linux and BSD.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.12: </span>Added <code>SO_RTABLE</code> and <code>SO_USER_COOKIE</code>. On OpenBSD and FreeBSD respectively those constants can be used in the same way that <code>SO_MARK</code> is used on Linux. Also added missing TCP socket options from Linux: <code>TCP_MD5SIG</code>, <code>TCP_THIN_LINEAR_TIMEOUTS</code>, <code>TCP_THIN_DUPACK</code>, <code>TCP_REPAIR</code>, <code>TCP_REPAIR_QUEUE</code>, <code>TCP_QUEUE_SEQ</code>, <code>TCP_REPAIR_OPTIONS</code>, <code>TCP_TIMESTAMP</code>, <code>TCP_CC_INFO</code>, <code>TCP_SAVE_SYN</code>, <code>TCP_SAVED_SYN</code>, <code>TCP_REPAIR_WINDOW</code>, <code>TCP_FASTOPEN_CONNECT</code>, <code>TCP_ULP</code>, <code>TCP_MD5SIG_EXT</code>, <code>TCP_FASTOPEN_KEY</code>, <code>TCP_FASTOPEN_NO_COOKIE</code>, <code>TCP_ZEROCOPY_RECEIVE</code>, <code>TCP_INQ</code>, <code>TCP_TX_DELAY</code>. Added <code>IP_PKTINFO</code>, <code>IP_UNBLOCK_SOURCE</code>, <code>IP_BLOCK_SOURCE</code>, <code>IP_ADD_SOURCE_MEMBERSHIP</code>, <code>IP_DROP_SOURCE_MEMBERSHIP</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.13: </span>Added <code>SO_BINDTOIFINDEX</code>. On Linux this constant can be used in the same way that <code>SO_BINDTODEVICE</code> is used, but with the index of a network interface instead of its name.</p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_CAN">
<code>socket.AF_CAN</code> </dt> <dt class="sig sig-object py" id="socket.PF_CAN">
<code>socket.PF_CAN</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">SOL_CAN_*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">CAN_*</span>
</dt> <dd>
<p>Many constants of these forms, documented in the Linux documentation, are also defined in the socket module.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.6.25, NetBSD &gt;= 8.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.11: </span>NetBSD support was added.</p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.CAN_BCM">
<code>socket.CAN_BCM</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">CAN_BCM_*</span>
</dt> <dd>
<p>CAN_BCM, in the CAN protocol family, is the broadcast manager (BCM) protocol. Broadcast manager constants, documented in the Linux documentation, are also defined in the socket module.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.6.25.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The <code>CAN_BCM_CAN_FD_FRAME</code> flag is only available on Linux &gt;= 4.8.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.4.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.CAN_RAW_FD_FRAMES">
<code>socket.CAN_RAW_FD_FRAMES</code> </dt> <dd>
<p>Enables CAN FD support in a CAN_RAW socket. This is disabled by default. This allows your application to send both CAN and CAN FD frames; however, you must accept both CAN and CAN FD frames when reading from the socket.</p> <p>This constant is documented in the Linux documentation.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 3.6.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.5.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.CAN_RAW_JOIN_FILTERS">
<code>socket.CAN_RAW_JOIN_FILTERS</code> </dt> <dd>
<p>Joins the applied CAN filters such that only CAN frames that match all given CAN filters are passed to user space.</p> <p>This constant is documented in the Linux documentation.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 4.1.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.9.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.CAN_ISOTP">
<code>socket.CAN_ISOTP</code> </dt> <dd>
<p>CAN_ISOTP, in the CAN protocol family, is the ISO-TP (ISO 15765-2) protocol. ISO-TP constants, documented in the Linux documentation.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.6.25.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.7.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.CAN_J1939">
<code>socket.CAN_J1939</code> </dt> <dd>
<p>CAN_J1939, in the CAN protocol family, is the SAE J1939 protocol. J1939 constants, documented in the Linux documentation.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 5.4.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.9.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_DIVERT">
<code>socket.AF_DIVERT</code> </dt> <dt class="sig sig-object py" id="socket.PF_DIVERT">
<code>socket.PF_DIVERT</code> </dt> <dd>
<p>These two constants, documented in the FreeBSD divert(4) manual page, are also defined in the socket module.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: FreeBSD &gt;= 14.0.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.12.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_PACKET">
<code>socket.AF_PACKET</code> </dt> <dt class="sig sig-object py" id="socket.PF_PACKET">
<code>socket.PF_PACKET</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">PACKET_*</span>
</dt> <dd>
<p>Many constants of these forms, documented in the Linux documentation, are also defined in the socket module.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.2.</p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.ETH_P_ALL">
<code>socket.ETH_P_ALL</code> </dt> <dd>
<p><code>ETH_P_ALL</code> can be used in the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket</code></a> constructor as <em>proto</em> for the <a class="reference internal" href="#socket.AF_PACKET" title="socket.AF_PACKET"><code>AF_PACKET</code></a> family in order to capture every packet, regardless of protocol.</p> <p>For more information, see the <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/packet(7)">packet(7)</a></em> manpage.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.12.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_RDS">
<code>socket.AF_RDS</code> </dt> <dt class="sig sig-object py" id="socket.PF_RDS">
<code>socket.PF_RDS</code> </dt> <dt class="sig sig-object py" id="socket.SOL_RDS">
<code>socket.SOL_RDS</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">RDS_*</span>
</dt> <dd>
<p>Many constants of these forms, documented in the Linux documentation, are also defined in the socket module.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.6.30.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.SIO_RCVALL">
<code>socket.SIO_RCVALL</code> </dt> <dt class="sig sig-object py" id="socket.SIO_KEEPALIVE_VALS">
<code>socket.SIO_KEEPALIVE_VALS</code> </dt> <dt class="sig sig-object py" id="socket.SIO_LOOPBACK_FAST_PATH">
<code>socket.SIO_LOOPBACK_FAST_PATH</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">RCVALL_*</span>
</dt> <dd>
<p>Constants for Windows’ WSAIoctl(). The constants are used as arguments to the <a class="reference internal" href="#socket.socket.ioctl" title="socket.socket.ioctl"><code>ioctl()</code></a> method of socket objects.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.6: </span><code>SIO_LOOPBACK_FAST_PATH</code> was added.</p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py"> <span class="sig-name descname">TIPC_*</span>
</dt> <dd>
<p>TIPC related constants, matching the ones exported by the C socket API. See the TIPC documentation for more information.</p> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_ALG">
<code>socket.AF_ALG</code> </dt> <dt class="sig sig-object py" id="socket.SOL_ALG">
<code>socket.SOL_ALG</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">ALG_*</span>
</dt> <dd>
<p>Constants for Linux Kernel cryptography.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.6.38.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.6.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_VSOCK">
<code>socket.AF_VSOCK</code> </dt> <dt class="sig sig-object py" id="socket.IOCTL_VM_SOCKETS_GET_LOCAL_CID">
<code>socket.IOCTL_VM_SOCKETS_GET_LOCAL_CID</code> </dt> <dt class="sig sig-object py"> <span class="sig-name descname">VMADDR*</span>
</dt> <dt class="sig sig-object py"> <span class="sig-name descname">SO_VM*</span>
</dt> <dd>
<p>Constants for Linux host/guest communication.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 4.8.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.7.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_LINK">
<code>socket.AF_LINK</code> </dt> <dd>
<div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: BSD, macOS.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.4.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.has_ipv6">
<code>socket.has_ipv6</code> </dt> <dd>
<p>This constant contains a boolean value which indicates if IPv6 is supported on this platform.</p> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.BDADDR_ANY">
<code>socket.BDADDR_ANY</code> </dt> <dt class="sig sig-object py" id="socket.BDADDR_LOCAL">
<code>socket.BDADDR_LOCAL</code> </dt> <dd>
<p>These are string constants containing Bluetooth addresses with special meanings. For example, <a class="reference internal" href="#socket.BDADDR_ANY" title="socket.BDADDR_ANY"><code>BDADDR_ANY</code></a> can be used to indicate any address when specifying the binding socket with <code>BTPROTO_RFCOMM</code>.</p> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.HCI_FILTER">
<code>socket.HCI_FILTER</code> </dt> <dt class="sig sig-object py" id="socket.HCI_TIME_STAMP">
<code>socket.HCI_TIME_STAMP</code> </dt> <dt class="sig sig-object py" id="socket.HCI_DATA_DIR">
<code>socket.HCI_DATA_DIR</code> </dt> <dd>
<p>For use with <code>BTPROTO_HCI</code>. <a class="reference internal" href="#socket.HCI_FILTER" title="socket.HCI_FILTER"><code>HCI_FILTER</code></a> is not available for NetBSD or DragonFlyBSD. <a class="reference internal" href="#socket.HCI_TIME_STAMP" title="socket.HCI_TIME_STAMP"><code>HCI_TIME_STAMP</code></a> and <a class="reference internal" href="#socket.HCI_DATA_DIR" title="socket.HCI_DATA_DIR"><code>HCI_DATA_DIR</code></a> are not available for FreeBSD, NetBSD, or DragonFlyBSD.</p> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_QIPCRTR">
<code>socket.AF_QIPCRTR</code> </dt> <dd>
<p>Constant for Qualcomm’s IPC router protocol, used to communicate with service providing remote processors.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 4.7.</p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.SCM_CREDS2">
<code>socket.SCM_CREDS2</code> </dt> <dt class="sig sig-object py" id="socket.LOCAL_CREDS">
<code>socket.LOCAL_CREDS</code> </dt> <dt class="sig sig-object py" id="socket.LOCAL_CREDS_PERSISTENT">
<code>socket.LOCAL_CREDS_PERSISTENT</code> </dt> <dd>
<p>LOCAL_CREDS and LOCAL_CREDS_PERSISTENT can be used with SOCK_DGRAM, SOCK_STREAM sockets, equivalent to Linux/DragonFlyBSD SO_PASSCRED, while LOCAL_CREDS sends the credentials at first read, LOCAL_CREDS_PERSISTENT sends for each read, SCM_CREDS2 must be then used for the latter for the message type.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.11.</span></p> </div> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: FreeBSD.</p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.SO_INCOMING_CPU">
<code>socket.SO_INCOMING_CPU</code> </dt> <dd> <p>Constant to optimize CPU locality, to be used in conjunction with <code>SO_REUSEPORT</code>.</p>  <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.11.</span></p> </div> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 3.9</p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.AF_HYPERV">
<code>socket.AF_HYPERV</code> </dt> <dt class="sig sig-object py" id="socket.HV_PROTOCOL_RAW">
<code>socket.HV_PROTOCOL_RAW</code> </dt> <dt class="sig sig-object py" id="socket.HVSOCKET_CONNECT_TIMEOUT">
<code>socket.HVSOCKET_CONNECT_TIMEOUT</code> </dt> <dt class="sig sig-object py" id="socket.HVSOCKET_CONNECT_TIMEOUT_MAX">
<code>socket.HVSOCKET_CONNECT_TIMEOUT_MAX</code> </dt> <dt class="sig sig-object py" id="socket.HVSOCKET_CONNECTED_SUSPEND">
<code>socket.HVSOCKET_CONNECTED_SUSPEND</code> </dt> <dt class="sig sig-object py" id="socket.HVSOCKET_ADDRESS_FLAG_PASSTHRU">
<code>socket.HVSOCKET_ADDRESS_FLAG_PASSTHRU</code> </dt> <dt class="sig sig-object py" id="socket.HV_GUID_ZERO">
<code>socket.HV_GUID_ZERO</code> </dt> <dt class="sig sig-object py" id="socket.HV_GUID_WILDCARD">
<code>socket.HV_GUID_WILDCARD</code> </dt> <dt class="sig sig-object py" id="socket.HV_GUID_BROADCAST">
<code>socket.HV_GUID_BROADCAST</code> </dt> <dt class="sig sig-object py" id="socket.HV_GUID_CHILDREN">
<code>socket.HV_GUID_CHILDREN</code> </dt> <dt class="sig sig-object py" id="socket.HV_GUID_LOOPBACK">
<code>socket.HV_GUID_LOOPBACK</code> </dt> <dt class="sig sig-object py" id="socket.HV_GUID_PARENT">
<code>socket.HV_GUID_PARENT</code> </dt> <dd>
<p>Constants for Windows Hyper-V sockets for host/guest communications.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Windows.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.12.</span></p> </div> </dd>
</dl> <dl class="py data" id="socket-ethernet-types"> <dt class="sig sig-object py" id="socket.ETHERTYPE_ARP">
<code>socket.ETHERTYPE_ARP</code> </dt> <dt class="sig sig-object py" id="socket.ETHERTYPE_IP">
<code>socket.ETHERTYPE_IP</code> </dt> <dt class="sig sig-object py" id="socket.ETHERTYPE_IPV6">
<code>socket.ETHERTYPE_IPV6</code> </dt> <dt class="sig sig-object py" id="socket.ETHERTYPE_VLAN">
<code>socket.ETHERTYPE_VLAN</code> </dt> <dd>
<p><a class="reference external" href="https://www.iana.org/assignments/ieee-802-numbers/ieee-802-numbers.txt">IEEE 802.3 protocol number</a>. constants.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux, FreeBSD, macOS.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.12.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.SHUT_RD">
<code>socket.SHUT_RD</code> </dt> <dt class="sig sig-object py" id="socket.SHUT_WR">
<code>socket.SHUT_WR</code> </dt> <dt class="sig sig-object py" id="socket.SHUT_RDWR">
<code>socket.SHUT_RDWR</code> </dt> <dd>
<p>These constants are used by the <a class="reference internal" href="#socket.socket.shutdown" title="socket.socket.shutdown"><code>shutdown()</code></a> method of socket objects.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> </section> <section id="functions"> <h3>Functions</h3> <section id="creating-sockets"> <h4>Creating sockets</h4> <p>The following functions all create <a class="reference internal" href="#socket-objects"><span class="std std-ref">socket objects</span></a>.</p> <dl class="py class"> <dt class="sig sig-object py" id="socket.socket">
<code>class socket.socket(family=AF_INET, type=SOCK_STREAM, proto=0, fileno=None)</code> </dt> <dd>
<p>Create a new socket using the given address family, socket type and protocol number. The address family should be <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> (the default), <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a>, <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a>, <a class="reference internal" href="#socket.AF_CAN" title="socket.AF_CAN"><code>AF_CAN</code></a>, <a class="reference internal" href="#socket.AF_PACKET" title="socket.AF_PACKET"><code>AF_PACKET</code></a>, or <a class="reference internal" href="#socket.AF_RDS" title="socket.AF_RDS"><code>AF_RDS</code></a>. The socket type should be <a class="reference internal" href="#socket.SOCK_STREAM" title="socket.SOCK_STREAM"><code>SOCK_STREAM</code></a> (the default), <a class="reference internal" href="#socket.SOCK_DGRAM" title="socket.SOCK_DGRAM"><code>SOCK_DGRAM</code></a>, <a class="reference internal" href="#socket.SOCK_RAW" title="socket.SOCK_RAW"><code>SOCK_RAW</code></a> or perhaps one of the other <code>SOCK_</code> constants. The protocol number is usually zero and may be omitted or in the case where the address family is <a class="reference internal" href="#socket.AF_CAN" title="socket.AF_CAN"><code>AF_CAN</code></a> the protocol should be one of <code>CAN_RAW</code>, <a class="reference internal" href="#socket.CAN_BCM" title="socket.CAN_BCM"><code>CAN_BCM</code></a>, <a class="reference internal" href="#socket.CAN_ISOTP" title="socket.CAN_ISOTP"><code>CAN_ISOTP</code></a> or <a class="reference internal" href="#socket.CAN_J1939" title="socket.CAN_J1939"><code>CAN_J1939</code></a>.</p> <p>If <em>fileno</em> is specified, the values for <em>family</em>, <em>type</em>, and <em>proto</em> are auto-detected from the specified file descriptor. Auto-detection can be overruled by calling the function with explicit <em>family</em>, <em>type</em>, or <em>proto</em> arguments. This only affects how Python represents e.g. the return value of <a class="reference internal" href="#socket.socket.getpeername" title="socket.socket.getpeername"><code>socket.getpeername()</code></a> but not the actual OS resource. Unlike <a class="reference internal" href="#socket.fromfd" title="socket.fromfd"><code>socket.fromfd()</code></a>, <em>fileno</em> will return the same socket and not a duplicate. This may help close a detached socket using <a class="reference internal" href="#socket.close" title="socket.close"><code>socket.close()</code></a>.</p> <p>The newly created socket is <a class="reference internal" href="os.html#fd-inheritance"><span class="std std-ref">non-inheritable</span></a>.</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.__new__</code> with arguments <code>self</code>, <code>family</code>, <code>type</code>, <code>protocol</code>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.3: </span>The AF_CAN family was added. The AF_RDS family was added.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.4: </span>The CAN_BCM protocol was added.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.4: </span>The returned socket is now non-inheritable.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>The CAN_ISOTP protocol was added.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>When <a class="reference internal" href="#socket.SOCK_NONBLOCK" title="socket.SOCK_NONBLOCK"><code>SOCK_NONBLOCK</code></a> or <a class="reference internal" href="#socket.SOCK_CLOEXEC" title="socket.SOCK_CLOEXEC"><code>SOCK_CLOEXEC</code></a> bit flags are applied to <em>type</em> they are cleared, and <a class="reference internal" href="#socket.socket.type" title="socket.socket.type"><code>socket.type</code></a> will not reflect them. They are still passed to the underlying system <code>socket()</code> call. Therefore,</p> <pre data-language="python">sock = socket.socket(
    socket.AF_INET,
    socket.SOCK_STREAM | socket.SOCK_NONBLOCK)
</pre> <p>will still create a non-blocking socket on OSes that support <code>SOCK_NONBLOCK</code>, but <code>sock.type</code> will be set to <code>socket.SOCK_STREAM</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.9: </span>The CAN_J1939 protocol was added.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.10: </span>The IPPROTO_MPTCP protocol was added.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.socketpair">
<code>socket.socketpair([family[, type[, proto]]])</code> </dt> <dd>
<p>Build a pair of connected socket objects using the given address family, socket type, and protocol number. Address family, socket type, and protocol number are as for the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a> function above. The default family is <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> if defined on the platform; otherwise, the default is <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a>.</p> <p>The newly created sockets are <a class="reference internal" href="os.html#fd-inheritance"><span class="std std-ref">non-inheritable</span></a>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.2: </span>The returned socket objects now support the whole socket API, rather than a subset.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.4: </span>The returned sockets are now non-inheritable.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>Windows support added.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.create_connection">
<code>socket.create_connection(address, timeout=GLOBAL_DEFAULT, source_address=None, *, all_errors=False)</code> </dt> <dd>
<p>Connect to a TCP service listening on the internet <em>address</em> (a 2-tuple <code>(host, port)</code>), and return the socket object. This is a higher-level function than <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><code>socket.connect()</code></a>: if <em>host</em> is a non-numeric hostname, it will try to resolve it for both <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> and <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a>, and then try to connect to all possible addresses in turn until a connection succeeds. This makes it easy to write clients that are compatible to both IPv4 and IPv6.</p> <p>Passing the optional <em>timeout</em> parameter will set the timeout on the socket instance before attempting to connect. If no <em>timeout</em> is supplied, the global default timeout setting returned by <a class="reference internal" href="#socket.getdefaulttimeout" title="socket.getdefaulttimeout"><code>getdefaulttimeout()</code></a> is used.</p> <p>If supplied, <em>source_address</em> must be a 2-tuple <code>(host, port)</code> for the socket to bind to as its source address before connecting. If host or port are ‘’ or 0 respectively the OS default behavior will be used.</p> <p>When a connection cannot be created, an exception is raised. By default, it is the exception from the last address in the list. If <em>all_errors</em> is <code>True</code>, it is an <a class="reference internal" href="exceptions.html#ExceptionGroup" title="ExceptionGroup"><code>ExceptionGroup</code></a> containing the errors of all attempts.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.2: </span><em>source_address</em> was added.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.11: </span><em>all_errors</em> was added.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.create_server">
<code>socket.create_server(address, *, family=AF_INET, backlog=None, reuse_port=False, dualstack_ipv6=False)</code> </dt> <dd>
<p>Convenience function which creates a TCP socket bound to <em>address</em> (a 2-tuple <code>(host, port)</code>) and returns the socket object.</p> <p><em>family</em> should be either <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> or <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a>. <em>backlog</em> is the queue size passed to <a class="reference internal" href="#socket.socket.listen" title="socket.socket.listen"><code>socket.listen()</code></a>; if not specified , a default reasonable value is chosen. <em>reuse_port</em> dictates whether to set the <code>SO_REUSEPORT</code> socket option.</p> <p>If <em>dualstack_ipv6</em> is true and the platform supports it the socket will be able to accept both IPv4 and IPv6 connections, else it will raise <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code>ValueError</code></a>. Most POSIX platforms and Windows are supposed to support this functionality. When this functionality is enabled the address returned by <a class="reference internal" href="#socket.socket.getpeername" title="socket.socket.getpeername"><code>socket.getpeername()</code></a> when an IPv4 connection occurs will be an IPv6 address represented as an IPv4-mapped IPv6 address. If <em>dualstack_ipv6</em> is false it will explicitly disable this functionality on platforms that enable it by default (e.g. Linux). This parameter can be used in conjunction with <a class="reference internal" href="#socket.has_dualstack_ipv6" title="socket.has_dualstack_ipv6"><code>has_dualstack_ipv6()</code></a>:</p> <pre data-language="python">import socket

addr = ("", 8080)  # all interfaces, port 8080
if socket.has_dualstack_ipv6():
    s = socket.create_server(addr, family=socket.AF_INET6, dualstack_ipv6=True)
else:
    s = socket.create_server(addr)
</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>On POSIX platforms the <code>SO_REUSEADDR</code> socket option is set in order to immediately reuse previous sockets which were bound on the same <em>address</em> and remained in TIME_WAIT state.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.8.</span></p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.has_dualstack_ipv6">
<code>socket.has_dualstack_ipv6()</code> </dt> <dd>
<p>Return <code>True</code> if the platform supports creating a TCP socket which can handle both IPv4 and IPv6 connections.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.8.</span></p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.fromfd">
<code>socket.fromfd(fd, family, type, proto=0)</code> </dt> <dd>
<p>Duplicate the file descriptor <em>fd</em> (an integer as returned by a file object’s <a class="reference internal" href="io.html#io.IOBase.fileno" title="io.IOBase.fileno"><code>fileno()</code></a> method) and build a socket object from the result. Address family, socket type and protocol number are as for the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a> function above. The file descriptor should refer to a socket, but this is not checked — subsequent operations on the object may fail if the file descriptor is invalid. This function is rarely needed, but can be used to get or set socket options on a socket passed to a program as standard input or output (such as a server started by the Unix inet daemon). The socket is assumed to be in blocking mode.</p> <p>The newly created socket is <a class="reference internal" href="os.html#fd-inheritance"><span class="std std-ref">non-inheritable</span></a>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.4: </span>The returned socket is now non-inheritable.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.fromshare">
<code>socket.fromshare(data)</code> </dt> <dd>
<p>Instantiate a socket from data obtained from the <a class="reference internal" href="#socket.socket.share" title="socket.socket.share"><code>socket.share()</code></a> method. The socket is assumed to be in blocking mode.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Windows.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> </dd>
</dl> <dl class="py data"> <dt class="sig sig-object py" id="socket.SocketType">
<code>socket.SocketType</code> </dt> <dd>
<p>This is a Python type object that represents the socket object type. It is the same as <code>type(socket(...))</code>.</p> </dd>
</dl> </section> <section id="other-functions"> <h4>Other functions</h4> <p>The <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><code>socket</code></a> module also offers various network-related services:</p> <dl class="py function"> <dt class="sig sig-object py" id="socket.close">
<code>socket.close(fd)</code> </dt> <dd>
<p>Close a socket file descriptor. This is like <a class="reference internal" href="os.html#os.close" title="os.close"><code>os.close()</code></a>, but for sockets. On some platforms (most noticeable Windows) <a class="reference internal" href="os.html#os.close" title="os.close"><code>os.close()</code></a> does not work for socket file descriptors.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.7.</span></p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.getaddrinfo">
<code>socket.getaddrinfo(host, port, family=AF_UNSPEC, type=0, proto=0, flags=0)</code> </dt> <dd>
<p>This function wraps the C function <code>getaddrinfo</code> of the underlying system.</p> <p>Translate the <em>host</em>/<em>port</em> argument into a sequence of 5-tuples that contain all the necessary arguments for creating a socket connected to that service. <em>host</em> is a domain name, a string representation of an IPv4/v6 address or <code>None</code>. <em>port</em> is a string service name such as <code>'http'</code>, a numeric port number or <code>None</code>. By passing <code>None</code> as the value of <em>host</em> and <em>port</em>, you can pass <code>NULL</code> to the underlying C API.</p> <p>The <em>family</em>, <em>type</em> and <em>proto</em> arguments can be optionally specified in order to provide options and limit the list of addresses returned. Pass their default values (<a class="reference internal" href="#socket.AF_UNSPEC" title="socket.AF_UNSPEC"><code>AF_UNSPEC</code></a>, 0, and 0, respectively) to not limit the results. See the note below for details.</p> <p>The <em>flags</em> argument can be one or several of the <code>AI_*</code> constants, and will influence how results are computed and returned. For example, <code>AI_NUMERICHOST</code> will disable domain name resolution and will raise an error if <em>host</em> is a domain name.</p> <p>The function returns a list of 5-tuples with the following structure:</p> <p><code>(family, type, proto, canonname, sockaddr)</code></p> <p>In these tuples, <em>family</em>, <em>type</em>, <em>proto</em> are all integers and are meant to be passed to the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a> function. <em>canonname</em> will be a string representing the canonical name of the <em>host</em> if <code>AI_CANONNAME</code> is part of the <em>flags</em> argument; else <em>canonname</em> will be empty. <em>sockaddr</em> is a tuple describing a socket address, whose format depends on the returned <em>family</em> (a <code>(address, port)</code> 2-tuple for <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a>, a <code>(address, port, flowinfo, scope_id)</code> 4-tuple for <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a>), and is meant to be passed to the <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><code>socket.connect()</code></a> method.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If you intend to use results from <code>getaddrinfo()</code> to create a socket (rather than, for example, retrieve <em>canonname</em>), consider limiting the results by <em>type</em> (e.g. <a class="reference internal" href="#socket.SOCK_STREAM" title="socket.SOCK_STREAM"><code>SOCK_STREAM</code></a> or <a class="reference internal" href="#socket.SOCK_DGRAM" title="socket.SOCK_DGRAM"><code>SOCK_DGRAM</code></a>) and/or <em>proto</em> (e.g. <code>IPPROTO_TCP</code> or <code>IPPROTO_UDP</code>) that your application can handle.</p> <p>The behavior with default values of <em>family</em>, <em>type</em>, <em>proto</em> and <em>flags</em> is system-specific.</p> <p>Many systems (for example, most Linux configurations) will return a sorted list of all matching addresses. These addresses should generally be tried in order until a connection succeeds (possibly tried in parallel, for example, using a <a class="reference external" href="https://en.wikipedia.org/wiki/Happy_Eyeballs">Happy Eyeballs</a> algorithm). In these cases, limiting the <em>type</em> and/or <em>proto</em> can help eliminate unsuccessful or unusable connection attempts.</p> <p>Some systems will, however, only return a single address. (For example, this was reported on Solaris and AIX configurations.) On these systems, limiting the <em>type</em> and/or <em>proto</em> helps ensure that this address is usable.</p> </div> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.getaddrinfo</code> with arguments <code>host</code>, <code>port</code>, <code>family</code>, <code>type</code>, <code>protocol</code>.</p> <p>The following example fetches address information for a hypothetical TCP connection to <code>example.org</code> on port 80 (results may differ on your system if IPv6 isn’t enabled):</p> <pre data-language="python">&gt;&gt;&gt; socket.getaddrinfo("example.org", 80, proto=socket.IPPROTO_TCP)
[(socket.AF_INET6, socket.SOCK_STREAM,
 6, '', ('2606:2800:220:1:248:1893:25c8:1946', 80, 0, 0)),
 (socket.AF_INET, socket.SOCK_STREAM,
 6, '', ('93.184.216.34', 80))]
</pre> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.2: </span>parameters can now be passed using keyword arguments.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>for IPv6 multicast addresses, string representing an address will not contain <code>%scope_id</code> part.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.getfqdn">
<code>socket.getfqdn([name])</code> </dt> <dd>
<p>Return a fully qualified domain name for <em>name</em>. If <em>name</em> is omitted or empty, it is interpreted as the local host. To find the fully qualified name, the hostname returned by <a class="reference internal" href="#socket.gethostbyaddr" title="socket.gethostbyaddr"><code>gethostbyaddr()</code></a> is checked, followed by aliases for the host, if available. The first name which includes a period is selected. In case no fully qualified domain name is available and <em>name</em> was provided, it is returned unchanged. If <em>name</em> was empty or equal to <code>'0.0.0.0'</code>, the hostname from <a class="reference internal" href="#socket.gethostname" title="socket.gethostname"><code>gethostname()</code></a> is returned.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.gethostbyname">
<code>socket.gethostbyname(hostname)</code> </dt> <dd>
<p>Translate a host name to IPv4 address format. The IPv4 address is returned as a string, such as <code>'100.50.200.5'</code>. If the host name is an IPv4 address itself it is returned unchanged. See <a class="reference internal" href="#socket.gethostbyname_ex" title="socket.gethostbyname_ex"><code>gethostbyname_ex()</code></a> for a more complete interface. <a class="reference internal" href="#socket.gethostbyname" title="socket.gethostbyname"><code>gethostbyname()</code></a> does not support IPv6 name resolution, and <a class="reference internal" href="#socket.getaddrinfo" title="socket.getaddrinfo"><code>getaddrinfo()</code></a> should be used instead for IPv4/v6 dual stack support.</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.gethostbyname</code> with argument <code>hostname</code>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.gethostbyname_ex">
<code>socket.gethostbyname_ex(hostname)</code> </dt> <dd>
<p>Translate a host name to IPv4 address format, extended interface. Return a 3-tuple <code>(hostname, aliaslist, ipaddrlist)</code> where <em>hostname</em> is the host’s primary host name, <em>aliaslist</em> is a (possibly empty) list of alternative host names for the same address, and <em>ipaddrlist</em> is a list of IPv4 addresses for the same interface on the same host (often but not always a single address). <a class="reference internal" href="#socket.gethostbyname_ex" title="socket.gethostbyname_ex"><code>gethostbyname_ex()</code></a> does not support IPv6 name resolution, and <a class="reference internal" href="#socket.getaddrinfo" title="socket.getaddrinfo"><code>getaddrinfo()</code></a> should be used instead for IPv4/v6 dual stack support.</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.gethostbyname</code> with argument <code>hostname</code>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.gethostname">
<code>socket.gethostname()</code> </dt> <dd>
<p>Return a string containing the hostname of the machine where the Python interpreter is currently executing.</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.gethostname</code> with no arguments.</p> <p>Note: <a class="reference internal" href="#socket.gethostname" title="socket.gethostname"><code>gethostname()</code></a> doesn’t always return the fully qualified domain name; use <a class="reference internal" href="#socket.getfqdn" title="socket.getfqdn"><code>getfqdn()</code></a> for that.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.gethostbyaddr">
<code>socket.gethostbyaddr(ip_address)</code> </dt> <dd>
<p>Return a 3-tuple <code>(hostname, aliaslist, ipaddrlist)</code> where <em>hostname</em> is the primary host name responding to the given <em>ip_address</em>, <em>aliaslist</em> is a (possibly empty) list of alternative host names for the same address, and <em>ipaddrlist</em> is a list of IPv4/v6 addresses for the same interface on the same host (most likely containing only a single address). To find the fully qualified domain name, use the function <a class="reference internal" href="#socket.getfqdn" title="socket.getfqdn"><code>getfqdn()</code></a>. <a class="reference internal" href="#socket.gethostbyaddr" title="socket.gethostbyaddr"><code>gethostbyaddr()</code></a> supports both IPv4 and IPv6.</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.gethostbyaddr</code> with argument <code>ip_address</code>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.getnameinfo">
<code>socket.getnameinfo(sockaddr, flags)</code> </dt> <dd>
<p>Translate a socket address <em>sockaddr</em> into a 2-tuple <code>(host, port)</code>. Depending on the settings of <em>flags</em>, the result can contain a fully qualified domain name or numeric address representation in <em>host</em>. Similarly, <em>port</em> can contain a string port name or a numeric port number.</p> <p>For IPv6 addresses, <code>%scope_id</code> is appended to the host part if <em>sockaddr</em> contains meaningful <em>scope_id</em>. Usually this happens for multicast addresses.</p> <p>For more information about <em>flags</em> you can consult <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/getnameinfo(3)">getnameinfo(3)</a></em>.</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.getnameinfo</code> with argument <code>sockaddr</code>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.getprotobyname">
<code>socket.getprotobyname(protocolname)</code> </dt> <dd>
<p>Translate an internet protocol name (for example, <code>'icmp'</code>) to a constant suitable for passing as the (optional) third argument to the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a> function. This is usually only needed for sockets opened in “raw” mode (<a class="reference internal" href="#socket.SOCK_RAW" title="socket.SOCK_RAW"><code>SOCK_RAW</code></a>); for the normal socket modes, the correct protocol is chosen automatically if the protocol is omitted or zero.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.getservbyname">
<code>socket.getservbyname(servicename[, protocolname])</code> </dt> <dd>
<p>Translate an internet service name and protocol name to a port number for that service. The optional protocol name, if given, should be <code>'tcp'</code> or <code>'udp'</code>, otherwise any protocol will match.</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.getservbyname</code> with arguments <code>servicename</code>, <code>protocolname</code>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.getservbyport">
<code>socket.getservbyport(port[, protocolname])</code> </dt> <dd>
<p>Translate an internet port number and protocol name to a service name for that service. The optional protocol name, if given, should be <code>'tcp'</code> or <code>'udp'</code>, otherwise any protocol will match.</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.getservbyport</code> with arguments <code>port</code>, <code>protocolname</code>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.ntohl">
<code>socket.ntohl(x)</code> </dt> <dd>
<p>Convert 32-bit positive integers from network to host byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 4-byte swap operation.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.ntohs">
<code>socket.ntohs(x)</code> </dt> <dd>
<p>Convert 16-bit positive integers from network to host byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 2-byte swap operation.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.10: </span>Raises <a class="reference internal" href="exceptions.html#OverflowError" title="OverflowError"><code>OverflowError</code></a> if <em>x</em> does not fit in a 16-bit unsigned integer.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.htonl">
<code>socket.htonl(x)</code> </dt> <dd>
<p>Convert 32-bit positive integers from host to network byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 4-byte swap operation.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.htons">
<code>socket.htons(x)</code> </dt> <dd>
<p>Convert 16-bit positive integers from host to network byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 2-byte swap operation.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.10: </span>Raises <a class="reference internal" href="exceptions.html#OverflowError" title="OverflowError"><code>OverflowError</code></a> if <em>x</em> does not fit in a 16-bit unsigned integer.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.inet_aton">
<code>socket.inet_aton(ip_string)</code> </dt> <dd>
<p>Convert an IPv4 address from dotted-quad string format (for example, ‘123.45.67.89’) to 32-bit packed binary format, as a bytes object four characters in length. This is useful when conversing with a program that uses the standard C library and needs objects of type <code>in_addr</code>, which is the C type for the 32-bit packed binary this function returns.</p> <p><a class="reference internal" href="#socket.inet_aton" title="socket.inet_aton"><code>inet_aton()</code></a> also accepts strings with less than three dots; see the Unix manual page <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/inet(3)">inet(3)</a></em> for details.</p> <p>If the IPv4 address string passed to this function is invalid, <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a> will be raised. Note that exactly what is valid depends on the underlying C implementation of <code>inet_aton()</code>.</p> <p><a class="reference internal" href="#socket.inet_aton" title="socket.inet_aton"><code>inet_aton()</code></a> does not support IPv6, and <a class="reference internal" href="#socket.inet_pton" title="socket.inet_pton"><code>inet_pton()</code></a> should be used instead for IPv4/v6 dual stack support.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.inet_ntoa">
<code>socket.inet_ntoa(packed_ip)</code> </dt> <dd>
<p>Convert a 32-bit packed IPv4 address (a <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a> four bytes in length) to its standard dotted-quad string representation (for example, ‘123.45.67.89’). This is useful when conversing with a program that uses the standard C library and needs objects of type <code>in_addr</code>, which is the C type for the 32-bit packed binary data this function takes as an argument.</p> <p>If the byte sequence passed to this function is not exactly 4 bytes in length, <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a> will be raised. <a class="reference internal" href="#socket.inet_ntoa" title="socket.inet_ntoa"><code>inet_ntoa()</code></a> does not support IPv6, and <a class="reference internal" href="#socket.inet_ntop" title="socket.inet_ntop"><code>inet_ntop()</code></a> should be used instead for IPv4/v6 dual stack support.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>Writable <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a> is now accepted.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.inet_pton">
<code>socket.inet_pton(address_family, ip_string)</code> </dt> <dd>
<p>Convert an IP address from its family-specific string format to a packed, binary format. <a class="reference internal" href="#socket.inet_pton" title="socket.inet_pton"><code>inet_pton()</code></a> is useful when a library or network protocol calls for an object of type <code>in_addr</code> (similar to <a class="reference internal" href="#socket.inet_aton" title="socket.inet_aton"><code>inet_aton()</code></a>) or <code>in6_addr</code>.</p> <p>Supported values for <em>address_family</em> are currently <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> and <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a>. If the IP address string <em>ip_string</em> is invalid, <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a> will be raised. Note that exactly what is valid depends on both the value of <em>address_family</em> and the underlying implementation of <code>inet_pton()</code>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, Windows.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.4: </span>Windows support added</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.inet_ntop">
<code>socket.inet_ntop(address_family, packed_ip)</code> </dt> <dd>
<p>Convert a packed IP address (a <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a> of some number of bytes) to its standard, family-specific string representation (for example, <code>'7.10.0.5'</code> or <code>'5aef:2b::8'</code>). <a class="reference internal" href="#socket.inet_ntop" title="socket.inet_ntop"><code>inet_ntop()</code></a> is useful when a library or network protocol returns an object of type <code>in_addr</code> (similar to <a class="reference internal" href="#socket.inet_ntoa" title="socket.inet_ntoa"><code>inet_ntoa()</code></a>) or <code>in6_addr</code>.</p> <p>Supported values for <em>address_family</em> are currently <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> and <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a>. If the bytes object <em>packed_ip</em> is not the correct length for the specified address family, <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code>ValueError</code></a> will be raised. <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a> is raised for errors from the call to <a class="reference internal" href="#socket.inet_ntop" title="socket.inet_ntop"><code>inet_ntop()</code></a>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, Windows.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.4: </span>Windows support added</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>Writable <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a> is now accepted.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.CMSG_LEN">
<code>socket.CMSG_LEN(length)</code> </dt> <dd>
<p>Return the total length, without trailing padding, of an ancillary data item with associated data of the given <em>length</em>. This value can often be used as the buffer size for <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a> to receive a single item of ancillary data, but <span class="target" id="index-3"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3542.html"><strong>RFC 3542</strong></a> requires portable applications to use <a class="reference internal" href="#socket.CMSG_SPACE" title="socket.CMSG_SPACE"><code>CMSG_SPACE()</code></a> and thus include space for padding, even when the item will be the last in the buffer. Raises <a class="reference internal" href="exceptions.html#OverflowError" title="OverflowError"><code>OverflowError</code></a> if <em>length</em> is outside the permissible range of values.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, not WASI.</p> <p>Most Unix platforms.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.CMSG_SPACE">
<code>socket.CMSG_SPACE(length)</code> </dt> <dd>
<p>Return the buffer size needed for <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a> to receive an ancillary data item with associated data of the given <em>length</em>, along with any trailing padding. The buffer space needed to receive multiple items is the sum of the <a class="reference internal" href="#socket.CMSG_SPACE" title="socket.CMSG_SPACE"><code>CMSG_SPACE()</code></a> values for their associated data lengths. Raises <a class="reference internal" href="exceptions.html#OverflowError" title="OverflowError"><code>OverflowError</code></a> if <em>length</em> is outside the permissible range of values.</p> <p>Note that some systems might support ancillary data without providing this function. Also note that setting the buffer size using the results of this function may not precisely limit the amount of ancillary data that can be received, since additional data may be able to fit into the padding area.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, not WASI.</p> <p>most Unix platforms.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.getdefaulttimeout">
<code>socket.getdefaulttimeout()</code> </dt> <dd>
<p>Return the default timeout in seconds (float) for new socket objects. A value of <code>None</code> indicates that new socket objects have no timeout. When the socket module is first imported, the default is <code>None</code>.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.setdefaulttimeout">
<code>socket.setdefaulttimeout(timeout)</code> </dt> <dd>
<p>Set the default timeout in seconds (float) for new socket objects. When the socket module is first imported, the default is <code>None</code>. See <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><code>settimeout()</code></a> for possible values and their respective meanings.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.sethostname">
<code>socket.sethostname(name)</code> </dt> <dd>
<p>Set the machine’s hostname to <em>name</em>. This will raise an <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a> if you don’t have enough rights.</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.sethostname</code> with argument <code>name</code>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, not Android.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.if_nameindex">
<code>socket.if_nameindex()</code> </dt> <dd>
<p>Return a list of network interface information (index int, name string) tuples. <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a> if the system call fails.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, Windows, not WASI.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.8: </span>Windows support was added.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>On Windows network interfaces have different names in different contexts (all names are examples):</p> <ul class="simple"> <li>UUID: <code>{FB605B73-AAC2-49A6-9A2F-25416AEA0573}</code>
</li> <li>name: <code>ethernet_32770</code>
</li> <li>friendly name: <code>vEthernet (nat)</code>
</li> <li>description: <code>Hyper-V Virtual Ethernet Adapter</code>
</li> </ul> <p>This function returns names of the second form from the list, <code>ethernet_32770</code> in this example case.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.if_nametoindex">
<code>socket.if_nametoindex(if_name)</code> </dt> <dd>
<p>Return a network interface index number corresponding to an interface name. <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a> if no interface with the given name exists.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, Windows, not WASI.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.8: </span>Windows support was added.</p> </div> <div class="admonition seealso"> <p class="admonition-title">See also</p> <p>“Interface name” is a name as documented in <a class="reference internal" href="#socket.if_nameindex" title="socket.if_nameindex"><code>if_nameindex()</code></a>.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.if_indextoname">
<code>socket.if_indextoname(if_index)</code> </dt> <dd>
<p>Return a network interface name corresponding to an interface index number. <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a> if no interface with the given index exists.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, Windows, not WASI.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.8: </span>Windows support was added.</p> </div> <div class="admonition seealso"> <p class="admonition-title">See also</p> <p>“Interface name” is a name as documented in <a class="reference internal" href="#socket.if_nameindex" title="socket.if_nameindex"><code>if_nameindex()</code></a>.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.send_fds">
<code>socket.send_fds(sock, buffers, fds[, flags[, address]])</code> </dt> <dd>
<p>Send the list of file descriptors <em>fds</em> over an <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> socket <em>sock</em>. The <em>fds</em> parameter is a sequence of file descriptors. Consult <a class="reference internal" href="#socket.socket.sendmsg" title="socket.socket.sendmsg"><code>sendmsg()</code></a> for the documentation of these parameters.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, Windows, not WASI.</p> <p>Unix platforms supporting <a class="reference internal" href="#socket.socket.sendmsg" title="socket.socket.sendmsg"><code>sendmsg()</code></a> and <code>SCM_RIGHTS</code> mechanism.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.9.</span></p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="socket.recv_fds">
<code>socket.recv_fds(sock, bufsize, maxfds[, flags])</code> </dt> <dd>
<p>Receive up to <em>maxfds</em> file descriptors from an <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> socket <em>sock</em>. Return <code>(msg, list(fds), flags, addr)</code>. Consult <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a> for the documentation of these parameters.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, Windows, not WASI.</p> <p>Unix platforms supporting <a class="reference internal" href="#socket.socket.sendmsg" title="socket.socket.sendmsg"><code>sendmsg()</code></a> and <code>SCM_RIGHTS</code> mechanism.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.9.</span></p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Any truncated integers at the end of the list of file descriptors.</p> </div> </dd>
</dl> </section> </section> </section> <section id="socket-objects"> <span id="id1"></span><h2>Socket Objects</h2> <p>Socket objects have the following methods. Except for <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><code>makefile()</code></a>, these correspond to Unix system calls applicable to sockets.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.2: </span>Support for the <a class="reference internal" href="../glossary.html#term-context-manager"><span class="xref std std-term">context manager</span></a> protocol was added. Exiting the context manager is equivalent to calling <a class="reference internal" href="#socket.close" title="socket.close"><code>close()</code></a>.</p> </div> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.accept">
<code>socket.accept()</code> </dt> <dd>
<p>Accept a connection. The socket must be bound to an address and listening for connections. The return value is a pair <code>(conn, address)</code> where <em>conn</em> is a <em>new</em> socket object usable to send and receive data on the connection, and <em>address</em> is the address bound to the socket on the other end of the connection.</p> <p>The newly created socket is <a class="reference internal" href="os.html#fd-inheritance"><span class="std std-ref">non-inheritable</span></a>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.4: </span>The socket is now non-inheritable.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an <a class="reference internal" href="exceptions.html#InterruptedError" title="InterruptedError"><code>InterruptedError</code></a> exception (see <span class="target" id="index-4"></span><a class="pep reference external" href="https://peps.python.org/pep-0475/"><strong>PEP 475</strong></a> for the rationale).</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.bind">
<code>socket.bind(address)</code> </dt> <dd>
<p>Bind the socket to <em>address</em>. The socket must not already be bound. (The format of <em>address</em> depends on the address family — see above.)</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.bind</code> with arguments <code>self</code>, <code>address</code>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.close">
<code>socket.close()</code> </dt> <dd>
<p>Mark the socket closed. The underlying system resource (e.g. a file descriptor) is also closed when all file objects from <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><code>makefile()</code></a> are closed. Once that happens, all future operations on the socket object will fail. The remote end will receive no more data (after queued data is flushed).</p> <p>Sockets are automatically closed when they are garbage-collected, but it is recommended to <a class="reference internal" href="#socket.close" title="socket.close"><code>close()</code></a> them explicitly, or to use a <a class="reference internal" href="../reference/compound_stmts.html#with"><code>with</code></a> statement around them.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.6: </span><a class="reference internal" href="exceptions.html#OSError" title="OSError"><code>OSError</code></a> is now raised if an error occurs when the underlying <code>close()</code> call is made.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p><a class="reference internal" href="#socket.close" title="socket.close"><code>close()</code></a> releases the resource associated with a connection but does not necessarily close the connection immediately. If you want to close the connection in a timely fashion, call <a class="reference internal" href="#socket.socket.shutdown" title="socket.socket.shutdown"><code>shutdown()</code></a> before <a class="reference internal" href="#socket.close" title="socket.close"><code>close()</code></a>.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.connect">
<code>socket.connect(address)</code> </dt> <dd>
<p>Connect to a remote socket at <em>address</em>. (The format of <em>address</em> depends on the address family — see above.)</p> <p>If the connection is interrupted by a signal, the method waits until the connection completes, or raise a <a class="reference internal" href="exceptions.html#TimeoutError" title="TimeoutError"><code>TimeoutError</code></a> on timeout, if the signal handler doesn’t raise an exception and the socket is blocking or has a timeout. For non-blocking sockets, the method raises an <a class="reference internal" href="exceptions.html#InterruptedError" title="InterruptedError"><code>InterruptedError</code></a> exception if the connection is interrupted by a signal (or the exception raised by the signal handler).</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.connect</code> with arguments <code>self</code>, <code>address</code>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>The method now waits until the connection completes instead of raising an <a class="reference internal" href="exceptions.html#InterruptedError" title="InterruptedError"><code>InterruptedError</code></a> exception if the connection is interrupted by a signal, the signal handler doesn’t raise an exception and the socket is blocking or has a timeout (see the <span class="target" id="index-5"></span><a class="pep reference external" href="https://peps.python.org/pep-0475/"><strong>PEP 475</strong></a> for the rationale).</p> </div> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.connect_ex">
<code>socket.connect_ex(address)</code> </dt> <dd>
<p>Like <code>connect(address)</code>, but return an error indicator instead of raising an exception for errors returned by the C-level <code>connect()</code> call (other problems, such as “host not found,” can still raise exceptions). The error indicator is <code>0</code> if the operation succeeded, otherwise the value of the <code>errno</code> variable. This is useful to support, for example, asynchronous connects.</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.connect</code> with arguments <code>self</code>, <code>address</code>.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.detach">
<code>socket.detach()</code> </dt> <dd>
<p>Put the socket object into closed state without actually closing the underlying file descriptor. The file descriptor is returned, and can be reused for other purposes.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.2.</span></p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.dup">
<code>socket.dup()</code> </dt> <dd>
<p>Duplicate the socket.</p> <p>The newly created socket is <a class="reference internal" href="os.html#fd-inheritance"><span class="std std-ref">non-inheritable</span></a>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.4: </span>The socket is now non-inheritable.</p> </div> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.fileno">
<code>socket.fileno()</code> </dt> <dd>
<p>Return the socket’s file descriptor (a small integer), or -1 on failure. This is useful with <a class="reference internal" href="select.html#select.select" title="select.select"><code>select.select()</code></a>.</p> <p>Under Windows the small integer returned by this method cannot be used where a file descriptor can be used (such as <a class="reference internal" href="os.html#os.fdopen" title="os.fdopen"><code>os.fdopen()</code></a>). Unix does not have this limitation.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.get_inheritable">
<code>socket.get_inheritable()</code> </dt> <dd>
<p>Get the <a class="reference internal" href="os.html#fd-inheritance"><span class="std std-ref">inheritable flag</span></a> of the socket’s file descriptor or socket’s handle: <code>True</code> if the socket can be inherited in child processes, <code>False</code> if it cannot.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.4.</span></p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.getpeername">
<code>socket.getpeername()</code> </dt> <dd>
<p>Return the remote address to which the socket is connected. This is useful to find out the port number of a remote IPv4/v6 socket, for instance. (The format of the address returned depends on the address family — see above.) On some systems this function is not supported.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.getsockname">
<code>socket.getsockname()</code> </dt> <dd>
<p>Return the socket’s own address. This is useful to find out the port number of an IPv4/v6 socket, for instance. (The format of the address returned depends on the address family — see above.)</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.getsockopt">
<code>socket.getsockopt(level, optname[, buflen])</code> </dt> <dd>
<p>Return the value of the given socket option (see the Unix man page <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/getsockopt(2)">getsockopt(2)</a></em>). The needed symbolic constants (<a class="reference internal" href="#socket-unix-constants"><span class="std std-ref">SO_* etc.</span></a>) are defined in this module. If <em>buflen</em> is absent, an integer option is assumed and its integer value is returned by the function. If <em>buflen</em> is present, it specifies the maximum length of the buffer used to receive the option in, and this buffer is returned as a bytes object. It is up to the caller to decode the contents of the buffer (see the optional built-in module <a class="reference internal" href="struct.html#module-struct" title="struct: Interpret bytes as packed binary data."><code>struct</code></a> for a way to decode C structures encoded as byte strings).</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.getblocking">
<code>socket.getblocking()</code> </dt> <dd>
<p>Return <code>True</code> if socket is in blocking mode, <code>False</code> if in non-blocking.</p> <p>This is equivalent to checking <code>socket.gettimeout() != 0</code>.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.7.</span></p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.gettimeout">
<code>socket.gettimeout()</code> </dt> <dd>
<p>Return the timeout in seconds (float) associated with socket operations, or <code>None</code> if no timeout is set. This reflects the last call to <a class="reference internal" href="#socket.socket.setblocking" title="socket.socket.setblocking"><code>setblocking()</code></a> or <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><code>settimeout()</code></a>.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.ioctl">
<code>socket.ioctl(control, option)</code> </dt> <dd>
<dl class="field-list simple"> <dt class="field-odd">Platform<span class="colon">:</span>
</dt> <dd class="field-odd">
<p>Windows</p> </dd> </dl> <p>The <a class="reference internal" href="#socket.socket.ioctl" title="socket.socket.ioctl"><code>ioctl()</code></a> method is a limited interface to the WSAIoctl system interface. Please refer to the <a class="reference external" href="https://msdn.microsoft.com/en-us/library/ms741621%28VS.85%29.aspx">Win32 documentation</a> for more information.</p> <p>On other platforms, the generic <a class="reference internal" href="fcntl.html#fcntl.fcntl" title="fcntl.fcntl"><code>fcntl.fcntl()</code></a> and <a class="reference internal" href="fcntl.html#fcntl.ioctl" title="fcntl.ioctl"><code>fcntl.ioctl()</code></a> functions may be used; they accept a socket object as their first argument.</p> <p>Currently only the following control codes are supported: <code>SIO_RCVALL</code>, <code>SIO_KEEPALIVE_VALS</code>, and <code>SIO_LOOPBACK_FAST_PATH</code>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.6: </span><code>SIO_LOOPBACK_FAST_PATH</code> was added.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.listen">
<code>socket.listen([backlog])</code> </dt> <dd>
<p>Enable a server to accept connections. If <em>backlog</em> is specified, it must be at least 0 (if it is lower, it is set to 0); it specifies the number of unaccepted connections that the system will allow before refusing new connections. If not specified, a default reasonable value is chosen.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>The <em>backlog</em> parameter is now optional.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.makefile">
<code>socket.makefile(mode='r', buffering=None, *, encoding=None, errors=None, newline=None)</code> </dt> <dd>
<p id="index-6">Return a <a class="reference internal" href="../glossary.html#term-file-object"><span class="xref std std-term">file object</span></a> associated with the socket. The exact returned type depends on the arguments given to <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><code>makefile()</code></a>. These arguments are interpreted the same way as by the built-in <a class="reference internal" href="functions.html#open" title="open"><code>open()</code></a> function, except the only supported <em>mode</em> values are <code>'r'</code> (default), <code>'w'</code>, <code>'b'</code>, or a combination of those.</p> <p>The socket must be in blocking mode; it can have a timeout, but the file object’s internal buffer may end up in an inconsistent state if a timeout occurs.</p> <p>Closing the file object returned by <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><code>makefile()</code></a> won’t close the original socket unless all other file objects have been closed and <a class="reference internal" href="#socket.close" title="socket.close"><code>socket.close()</code></a> has been called on the socket object.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>On Windows, the file-like object created by <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><code>makefile()</code></a> cannot be used where a file object with a file descriptor is expected, such as the stream arguments of <a class="reference internal" href="subprocess.html#subprocess.Popen" title="subprocess.Popen"><code>subprocess.Popen()</code></a>.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.recv">
<code>socket.recv(bufsize[, flags])</code> </dt> <dd>
<p>Receive data from the socket. The return value is a bytes object representing the data received. The maximum amount of data to be received at once is specified by <em>bufsize</em>. A returned empty bytes object indicates that the client has disconnected. See the Unix manual page <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/recv(2)">recv(2)</a></em> for the meaning of the optional argument <em>flags</em>; it defaults to zero.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>For best match with hardware and network realities, the value of <em>bufsize</em> should be a relatively small power of 2, for example, 4096.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an <a class="reference internal" href="exceptions.html#InterruptedError" title="InterruptedError"><code>InterruptedError</code></a> exception (see <span class="target" id="index-7"></span><a class="pep reference external" href="https://peps.python.org/pep-0475/"><strong>PEP 475</strong></a> for the rationale).</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.recvfrom">
<code>socket.recvfrom(bufsize[, flags])</code> </dt> <dd>
<p>Receive data from the socket. The return value is a pair <code>(bytes, address)</code> where <em>bytes</em> is a bytes object representing the data received and <em>address</em> is the address of the socket sending the data. See the Unix manual page <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/recv(2)">recv(2)</a></em> for the meaning of the optional argument <em>flags</em>; it defaults to zero. (The format of <em>address</em> depends on the address family — see above.)</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an <a class="reference internal" href="exceptions.html#InterruptedError" title="InterruptedError"><code>InterruptedError</code></a> exception (see <span class="target" id="index-8"></span><a class="pep reference external" href="https://peps.python.org/pep-0475/"><strong>PEP 475</strong></a> for the rationale).</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>For multicast IPv6 address, first item of <em>address</em> does not contain <code>%scope_id</code> part anymore. In order to get full IPv6 address use <a class="reference internal" href="#socket.getnameinfo" title="socket.getnameinfo"><code>getnameinfo()</code></a>.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.recvmsg">
<code>socket.recvmsg(bufsize[, ancbufsize[, flags]])</code> </dt> <dd>
<p>Receive normal data (up to <em>bufsize</em> bytes) and ancillary data from the socket. The <em>ancbufsize</em> argument sets the size in bytes of the internal buffer used to receive the ancillary data; it defaults to 0, meaning that no ancillary data will be received. Appropriate buffer sizes for ancillary data can be calculated using <a class="reference internal" href="#socket.CMSG_SPACE" title="socket.CMSG_SPACE"><code>CMSG_SPACE()</code></a> or <a class="reference internal" href="#socket.CMSG_LEN" title="socket.CMSG_LEN"><code>CMSG_LEN()</code></a>, and items which do not fit into the buffer might be truncated or discarded. The <em>flags</em> argument defaults to 0 and has the same meaning as for <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a>.</p> <p>The return value is a 4-tuple: <code>(data, ancdata, msg_flags,
address)</code>. The <em>data</em> item is a <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code>bytes</code></a> object holding the non-ancillary data received. The <em>ancdata</em> item is a list of zero or more tuples <code>(cmsg_level, cmsg_type, cmsg_data)</code> representing the ancillary data (control messages) received: <em>cmsg_level</em> and <em>cmsg_type</em> are integers specifying the protocol level and protocol-specific type respectively, and <em>cmsg_data</em> is a <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code>bytes</code></a> object holding the associated data. The <em>msg_flags</em> item is the bitwise OR of various flags indicating conditions on the received message; see your system documentation for details. If the receiving socket is unconnected, <em>address</em> is the address of the sending socket, if available; otherwise, its value is unspecified.</p> <p>On some systems, <a class="reference internal" href="#socket.socket.sendmsg" title="socket.socket.sendmsg"><code>sendmsg()</code></a> and <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a> can be used to pass file descriptors between processes over an <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> socket. When this facility is used (it is often restricted to <a class="reference internal" href="#socket.SOCK_STREAM" title="socket.SOCK_STREAM"><code>SOCK_STREAM</code></a> sockets), <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a> will return, in its ancillary data, items of the form <code>(socket.SOL_SOCKET,
socket.SCM_RIGHTS, fds)</code>, where <em>fds</em> is a <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code>bytes</code></a> object representing the new file descriptors as a binary array of the native C <span class="c-expr sig sig-inline c"><span class="kt">int</span></span> type. If <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a> raises an exception after the system call returns, it will first attempt to close any file descriptors received via this mechanism.</p> <p>Some systems do not indicate the truncated length of ancillary data items which have been only partially received. If an item appears to extend beyond the end of the buffer, <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a> will issue a <a class="reference internal" href="exceptions.html#RuntimeWarning" title="RuntimeWarning"><code>RuntimeWarning</code></a>, and will return the part of it which is inside the buffer provided it has not been truncated before the start of its associated data.</p> <p>On systems which support the <code>SCM_RIGHTS</code> mechanism, the following function will receive up to <em>maxfds</em> file descriptors, returning the message data and a list containing the descriptors (while ignoring unexpected conditions such as unrelated control messages being received). See also <a class="reference internal" href="#socket.socket.sendmsg" title="socket.socket.sendmsg"><code>sendmsg()</code></a>.</p> <pre data-language="python">import socket, array

def recv_fds(sock, msglen, maxfds):
    fds = array.array("i")   # Array of ints
    msg, ancdata, flags, addr = sock.recvmsg(msglen, socket.CMSG_LEN(maxfds * fds.itemsize))
    for cmsg_level, cmsg_type, cmsg_data in ancdata:
        if cmsg_level == socket.SOL_SOCKET and cmsg_type == socket.SCM_RIGHTS:
            # Append data, ignoring any truncated integers at the end.
            fds.frombytes(cmsg_data[:len(cmsg_data) - (len(cmsg_data) % fds.itemsize)])
    return msg, list(fds)
</pre> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix.</p> <p>Most Unix platforms.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an <a class="reference internal" href="exceptions.html#InterruptedError" title="InterruptedError"><code>InterruptedError</code></a> exception (see <span class="target" id="index-9"></span><a class="pep reference external" href="https://peps.python.org/pep-0475/"><strong>PEP 475</strong></a> for the rationale).</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.recvmsg_into">
<code>socket.recvmsg_into(buffers[, ancbufsize[, flags]])</code> </dt> <dd>
<p>Receive normal data and ancillary data from the socket, behaving as <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a> would, but scatter the non-ancillary data into a series of buffers instead of returning a new bytes object. The <em>buffers</em> argument must be an iterable of objects that export writable buffers (e.g. <a class="reference internal" href="stdtypes.html#bytearray" title="bytearray"><code>bytearray</code></a> objects); these will be filled with successive chunks of the non-ancillary data until it has all been written or there are no more buffers. The operating system may set a limit (<a class="reference internal" href="os.html#os.sysconf" title="os.sysconf"><code>sysconf()</code></a> value <code>SC_IOV_MAX</code>) on the number of buffers that can be used. The <em>ancbufsize</em> and <em>flags</em> arguments have the same meaning as for <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a>.</p> <p>The return value is a 4-tuple: <code>(nbytes, ancdata, msg_flags,
address)</code>, where <em>nbytes</em> is the total number of bytes of non-ancillary data written into the buffers, and <em>ancdata</em>, <em>msg_flags</em> and <em>address</em> are the same as for <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a>.</p> <p>Example:</p> <pre data-language="python">&gt;&gt;&gt; import socket
&gt;&gt;&gt; s1, s2 = socket.socketpair()
&gt;&gt;&gt; b1 = bytearray(b'----')
&gt;&gt;&gt; b2 = bytearray(b'0123456789')
&gt;&gt;&gt; b3 = bytearray(b'--------------')
&gt;&gt;&gt; s1.send(b'Mary had a little lamb')
22
&gt;&gt;&gt; s2.recvmsg_into([b1, memoryview(b2)[2:9], b3])
(22, [], 0, None)
&gt;&gt;&gt; [b1, b2, b3]
[bytearray(b'Mary'), bytearray(b'01 had a 9'), bytearray(b'little lamb---')]
</pre> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix.</p> <p>Most Unix platforms.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.recvfrom_into">
<code>socket.recvfrom_into(buffer[, nbytes[, flags]])</code> </dt> <dd>
<p>Receive data from the socket, writing it into <em>buffer</em> instead of creating a new bytestring. The return value is a pair <code>(nbytes, address)</code> where <em>nbytes</em> is the number of bytes received and <em>address</em> is the address of the socket sending the data. See the Unix manual page <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/recv(2)">recv(2)</a></em> for the meaning of the optional argument <em>flags</em>; it defaults to zero. (The format of <em>address</em> depends on the address family — see above.)</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.recv_into">
<code>socket.recv_into(buffer[, nbytes[, flags]])</code> </dt> <dd>
<p>Receive up to <em>nbytes</em> bytes from the socket, storing the data into a buffer rather than creating a new bytestring. If <em>nbytes</em> is not specified (or 0), receive up to the size available in the given buffer. Returns the number of bytes received. See the Unix manual page <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/recv(2)">recv(2)</a></em> for the meaning of the optional argument <em>flags</em>; it defaults to zero.</p> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.send">
<code>socket.send(bytes[, flags])</code> </dt> <dd>
<p>Send data to the socket. The socket must be connected to a remote socket. The optional <em>flags</em> argument has the same meaning as for <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> above. Returns the number of bytes sent. Applications are responsible for checking that all data has been sent; if only some of the data was transmitted, the application needs to attempt delivery of the remaining data. For further information on this topic, consult the <a class="reference internal" href="../howto/sockets.html#socket-howto"><span class="std std-ref">Socket Programming HOWTO</span></a>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an <a class="reference internal" href="exceptions.html#InterruptedError" title="InterruptedError"><code>InterruptedError</code></a> exception (see <span class="target" id="index-10"></span><a class="pep reference external" href="https://peps.python.org/pep-0475/"><strong>PEP 475</strong></a> for the rationale).</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.sendall">
<code>socket.sendall(bytes[, flags])</code> </dt> <dd>
<p>Send data to the socket. The socket must be connected to a remote socket. The optional <em>flags</em> argument has the same meaning as for <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> above. Unlike <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><code>send()</code></a>, this method continues to send data from <em>bytes</em> until either all data has been sent or an error occurs. <code>None</code> is returned on success. On error, an exception is raised, and there is no way to determine how much data, if any, was successfully sent.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>The socket timeout is no longer reset each time data is sent successfully. The socket timeout is now the maximum total duration to send all data.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an <a class="reference internal" href="exceptions.html#InterruptedError" title="InterruptedError"><code>InterruptedError</code></a> exception (see <span class="target" id="index-11"></span><a class="pep reference external" href="https://peps.python.org/pep-0475/"><strong>PEP 475</strong></a> for the rationale).</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.sendto">
<code>socket.sendto(bytes, address)</code> </dt> <dt class="sig sig-object py"> <span class="sig-prename descclassname">socket.</span><span class="sig-name descname">sendto</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">bytes</span></em>, <em class="sig-param"><span class="n">flags</span></em>, <em class="sig-param"><span class="n">address</span></em><span class="sig-paren">)</span>
</dt> <dd>
<p>Send data to the socket. The socket should not be connected to a remote socket, since the destination socket is specified by <em>address</em>. The optional <em>flags</em> argument has the same meaning as for <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> above. Return the number of bytes sent. (The format of <em>address</em> depends on the address family — see above.)</p> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.sendto</code> with arguments <code>self</code>, <code>address</code>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an <a class="reference internal" href="exceptions.html#InterruptedError" title="InterruptedError"><code>InterruptedError</code></a> exception (see <span class="target" id="index-12"></span><a class="pep reference external" href="https://peps.python.org/pep-0475/"><strong>PEP 475</strong></a> for the rationale).</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.sendmsg">
<code>socket.sendmsg(buffers[, ancdata[, flags[, address]]])</code> </dt> <dd>
<p>Send normal and ancillary data to the socket, gathering the non-ancillary data from a series of buffers and concatenating it into a single message. The <em>buffers</em> argument specifies the non-ancillary data as an iterable of <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like objects</span></a> (e.g. <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code>bytes</code></a> objects); the operating system may set a limit (<a class="reference internal" href="os.html#os.sysconf" title="os.sysconf"><code>sysconf()</code></a> value <code>SC_IOV_MAX</code>) on the number of buffers that can be used. The <em>ancdata</em> argument specifies the ancillary data (control messages) as an iterable of zero or more tuples <code>(cmsg_level, cmsg_type, cmsg_data)</code>, where <em>cmsg_level</em> and <em>cmsg_type</em> are integers specifying the protocol level and protocol-specific type respectively, and <em>cmsg_data</em> is a bytes-like object holding the associated data. Note that some systems (in particular, systems without <a class="reference internal" href="#socket.CMSG_SPACE" title="socket.CMSG_SPACE"><code>CMSG_SPACE()</code></a>) might support sending only one control message per call. The <em>flags</em> argument defaults to 0 and has the same meaning as for <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><code>send()</code></a>. If <em>address</em> is supplied and not <code>None</code>, it sets a destination address for the message. The return value is the number of bytes of non-ancillary data sent.</p> <p>The following function sends the list of file descriptors <em>fds</em> over an <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> socket, on systems which support the <code>SCM_RIGHTS</code> mechanism. See also <a class="reference internal" href="#socket.socket.recvmsg" title="socket.socket.recvmsg"><code>recvmsg()</code></a>.</p> <pre data-language="python">import socket, array

def send_fds(sock, msg, fds):
    return sock.sendmsg([msg], [(socket.SOL_SOCKET, socket.SCM_RIGHTS, array.array("i", fds))])
</pre> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Unix, not WASI.</p> <p>Most Unix platforms.</p> </div> <p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code>socket.sendmsg</code> with arguments <code>self</code>, <code>address</code>.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>If the system call is interrupted and the signal handler does not raise an exception, the method now retries the system call instead of raising an <a class="reference internal" href="exceptions.html#InterruptedError" title="InterruptedError"><code>InterruptedError</code></a> exception (see <span class="target" id="index-13"></span><a class="pep reference external" href="https://peps.python.org/pep-0475/"><strong>PEP 475</strong></a> for the rationale).</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.sendmsg_afalg">
<code>socket.sendmsg_afalg([msg, ]*, op[, iv[, assoclen[, flags]]])</code> </dt> <dd>
<p>Specialized version of <a class="reference internal" href="#socket.socket.sendmsg" title="socket.socket.sendmsg"><code>sendmsg()</code></a> for <a class="reference internal" href="#socket.AF_ALG" title="socket.AF_ALG"><code>AF_ALG</code></a> socket. Set mode, IV, AEAD associated data length and flags for <a class="reference internal" href="#socket.AF_ALG" title="socket.AF_ALG"><code>AF_ALG</code></a> socket.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux &gt;= 2.6.38.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.6.</span></p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.sendfile">
<code>socket.sendfile(file, offset=0, count=None)</code> </dt> <dd>
<p>Send a file until EOF is reached by using high-performance <a class="reference internal" href="os.html#os.sendfile" title="os.sendfile"><code>os.sendfile</code></a> and return the total number of bytes which were sent. <em>file</em> must be a regular file object opened in binary mode. If <a class="reference internal" href="os.html#os.sendfile" title="os.sendfile"><code>os.sendfile</code></a> is not available (e.g. Windows) or <em>file</em> is not a regular file <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><code>send()</code></a> will be used instead. <em>offset</em> tells from where to start reading the file. If specified, <em>count</em> is the total number of bytes to transmit as opposed to sending the file until EOF is reached. File position is updated on return or also in case of error in which case <a class="reference internal" href="io.html#io.IOBase.tell" title="io.IOBase.tell"><code>file.tell()</code></a> can be used to figure out the number of bytes which were sent. The socket must be of <a class="reference internal" href="#socket.SOCK_STREAM" title="socket.SOCK_STREAM"><code>SOCK_STREAM</code></a> type. Non-blocking sockets are not supported.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.5.</span></p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.set_inheritable">
<code>socket.set_inheritable(inheritable)</code> </dt> <dd>
<p>Set the <a class="reference internal" href="os.html#fd-inheritance"><span class="std std-ref">inheritable flag</span></a> of the socket’s file descriptor or socket’s handle.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.4.</span></p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.setblocking">
<code>socket.setblocking(flag)</code> </dt> <dd>
<p>Set blocking or non-blocking mode of the socket: if <em>flag</em> is false, the socket is set to non-blocking, else to blocking mode.</p> <p>This method is a shorthand for certain <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><code>settimeout()</code></a> calls:</p> <ul class="simple"> <li>
<code>sock.setblocking(True)</code> is equivalent to <code>sock.settimeout(None)</code>
</li> <li>
<code>sock.setblocking(False)</code> is equivalent to <code>sock.settimeout(0.0)</code>
</li> </ul> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>The method no longer applies <a class="reference internal" href="#socket.SOCK_NONBLOCK" title="socket.SOCK_NONBLOCK"><code>SOCK_NONBLOCK</code></a> flag on <a class="reference internal" href="#socket.socket.type" title="socket.socket.type"><code>socket.type</code></a>.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.settimeout">
<code>socket.settimeout(value)</code> </dt> <dd>
<p>Set a timeout on blocking socket operations. The <em>value</em> argument can be a nonnegative floating-point number expressing seconds, or <code>None</code>. If a non-zero value is given, subsequent socket operations will raise a <a class="reference internal" href="#socket.timeout" title="socket.timeout"><code>timeout</code></a> exception if the timeout period <em>value</em> has elapsed before the operation has completed. If zero is given, the socket is put in non-blocking mode. If <code>None</code> is given, the socket is put in blocking mode.</p> <p>For further information, please consult the <a class="reference internal" href="#socket-timeouts"><span class="std std-ref">notes on socket timeouts</span></a>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>The method no longer toggles <a class="reference internal" href="#socket.SOCK_NONBLOCK" title="socket.SOCK_NONBLOCK"><code>SOCK_NONBLOCK</code></a> flag on <a class="reference internal" href="#socket.socket.type" title="socket.socket.type"><code>socket.type</code></a>.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.setsockopt">
<code>socket.setsockopt(level, optname, value: int)</code> </dt> <dd></dd>
</dl> <dl class="py method"> <dt class="sig sig-object py"> <span class="sig-prename descclassname">socket.</span><span class="sig-name descname">setsockopt</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">level</span></em>, <em class="sig-param"><span class="n">optname</span></em>, <em class="sig-param"><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="n">buffer</span></em><span class="sig-paren">)</span>
</dt> <dd></dd>
</dl> <dl class="py method"> <dt class="sig sig-object py"> <span class="sig-prename descclassname">socket.</span><span class="sig-name descname">setsockopt</span><span class="sig-paren">(</span><em class="sig-param"><span class="n">level</span></em>, <em class="sig-param"><span class="n">optname</span></em>, <em class="sig-param"><span class="n">None</span></em>, <em class="sig-param"><span class="n">optlen: int</span></em><span class="sig-paren">)</span>
</dt> <dd>
<p id="index-14">Set the value of the given socket option (see the Unix manual page <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/setsockopt(2)">setsockopt(2)</a></em>). The needed symbolic constants are defined in this module (<span class="xref std std-ref">SO_* etc. &lt;socket-unix-constants&gt;</span>). The value can be an integer, <code>None</code> or a <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a> representing a buffer. In the later case it is up to the caller to ensure that the bytestring contains the proper bits (see the optional built-in module <a class="reference internal" href="struct.html#module-struct" title="struct: Interpret bytes as packed binary data."><code>struct</code></a> for a way to encode C structures as bytestrings). When <em>value</em> is set to <code>None</code>, <em>optlen</em> argument is required. It’s equivalent to call <code>setsockopt()</code> C function with <code>optval=NULL</code> and <code>optlen=optlen</code>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.5: </span>Writable <a class="reference internal" href="../glossary.html#term-bytes-like-object"><span class="xref std std-term">bytes-like object</span></a> is now accepted.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.6: </span>setsockopt(level, optname, None, optlen: int) form added.</p> </div> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.shutdown">
<code>socket.shutdown(how)</code> </dt> <dd>
<p>Shut down one or both halves of the connection. If <em>how</em> is <a class="reference internal" href="#socket.SHUT_RD" title="socket.SHUT_RD"><code>SHUT_RD</code></a>, further receives are disallowed. If <em>how</em> is <a class="reference internal" href="#socket.SHUT_WR" title="socket.SHUT_WR"><code>SHUT_WR</code></a>, further sends are disallowed. If <em>how</em> is <a class="reference internal" href="#socket.SHUT_RDWR" title="socket.SHUT_RDWR"><code>SHUT_RDWR</code></a>, further sends and receives are disallowed.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p> </div> </dd>
</dl> <dl class="py method"> <dt class="sig sig-object py" id="socket.socket.share">
<code>socket.share(process_id)</code> </dt> <dd>
<p>Duplicate a socket and prepare it for sharing with a target process. The target process must be provided with <em>process_id</em>. The resulting bytes object can then be passed to the target process using some form of interprocess communication and the socket can be recreated there using <a class="reference internal" href="#socket.fromshare" title="socket.fromshare"><code>fromshare()</code></a>. Once this method has been called, it is safe to close the socket since the operating system has already duplicated it for the target process.</p> <div class="availability docutils container"> <p><a class="reference internal" href="https://docs.python.org/3.13/library/intro.html#availability"><span class="std std-ref">Availability</span></a>: Windows.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.3.</span></p> </div> </dd>
</dl> <p>Note that there are no methods <code>read()</code> or <code>write()</code>; use <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> and <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><code>send()</code></a> without <em>flags</em> argument instead.</p> <p>Socket objects also have these (read-only) attributes that correspond to the values given to the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket</code></a> constructor.</p> <dl class="py attribute"> <dt class="sig sig-object py" id="socket.socket.family">
<code>socket.family</code> </dt> <dd>
<p>The socket family.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="socket.socket.type">
<code>socket.type</code> </dt> <dd>
<p>The socket type.</p> </dd>
</dl> <dl class="py attribute"> <dt class="sig sig-object py" id="socket.socket.proto">
<code>socket.proto</code> </dt> <dd>
<p>The socket protocol.</p> </dd>
</dl> </section> <section id="notes-on-socket-timeouts"> <span id="socket-timeouts"></span><h2>Notes on socket timeouts</h2> <p>A socket object can be in one of three modes: blocking, non-blocking, or timeout. Sockets are by default always created in blocking mode, but this can be changed by calling <a class="reference internal" href="#socket.setdefaulttimeout" title="socket.setdefaulttimeout"><code>setdefaulttimeout()</code></a>.</p> <ul class="simple"> <li>In <em>blocking mode</em>, operations block until complete or the system returns an error (such as connection timed out).</li> <li>In <em>non-blocking mode</em>, operations fail (with an error that is unfortunately system-dependent) if they cannot be completed immediately: functions from the <a class="reference internal" href="select.html#module-select" title="select: Wait for I/O completion on multiple streams."><code>select</code></a> module can be used to know when and whether a socket is available for reading or writing.</li> <li>In <em>timeout mode</em>, operations fail if they cannot be completed within the timeout specified for the socket (they raise a <a class="reference internal" href="#socket.timeout" title="socket.timeout"><code>timeout</code></a> exception) or if the system returns an error.</li> </ul> <div class="admonition note"> <p class="admonition-title">Note</p> <p>At the operating system level, sockets in <em>timeout mode</em> are internally set in non-blocking mode. Also, the blocking and timeout modes are shared between file descriptors and socket objects that refer to the same network endpoint. This implementation detail can have visible consequences if e.g. you decide to use the <a class="reference internal" href="#socket.socket.fileno" title="socket.socket.fileno"><code>fileno()</code></a> of a socket.</p> </div> <section id="timeouts-and-the-connect-method"> <h3>Timeouts and the <code>connect</code> method</h3> <p>The <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><code>connect()</code></a> operation is also subject to the timeout setting, and in general it is recommended to call <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><code>settimeout()</code></a> before calling <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><code>connect()</code></a> or pass a timeout parameter to <a class="reference internal" href="#socket.create_connection" title="socket.create_connection"><code>create_connection()</code></a>. However, the system network stack may also return a connection timeout error of its own regardless of any Python socket timeout setting.</p> </section> <section id="timeouts-and-the-accept-method"> <h3>Timeouts and the <code>accept</code> method</h3> <p>If <a class="reference internal" href="#socket.getdefaulttimeout" title="socket.getdefaulttimeout"><code>getdefaulttimeout()</code></a> is not <a class="reference internal" href="constants.html#None" title="None"><code>None</code></a>, sockets returned by the <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><code>accept()</code></a> method inherit that timeout. Otherwise, the behaviour depends on settings of the listening socket:</p> <ul class="simple"> <li>if the listening socket is in <em>blocking mode</em> or in <em>timeout mode</em>, the socket returned by <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><code>accept()</code></a> is in <em>blocking mode</em>;</li> <li>if the listening socket is in <em>non-blocking mode</em>, whether the socket returned by <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><code>accept()</code></a> is in blocking or non-blocking mode is operating system-dependent. If you want to ensure cross-platform behaviour, it is recommended you manually override this setting.</li> </ul> </section> </section> <section id="example"> <span id="socket-example"></span><h2>Example</h2> <p>Here are four minimal example programs using the TCP/IP protocol: a server that echoes all data that it receives back (servicing only one client), and a client using it. Note that a server must perform the sequence <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a>, <a class="reference internal" href="#socket.socket.bind" title="socket.socket.bind"><code>bind()</code></a>, <a class="reference internal" href="#socket.socket.listen" title="socket.socket.listen"><code>listen()</code></a>, <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><code>accept()</code></a> (possibly repeating the <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><code>accept()</code></a> to service more than one client), while a client only needs the sequence <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a>, <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><code>connect()</code></a>. Also note that the server does not <a class="reference internal" href="#socket.socket.sendall" title="socket.socket.sendall"><code>sendall()</code></a>/<a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> on the socket it is listening on but on the new socket returned by <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><code>accept()</code></a>.</p> <p>The first two examples support IPv4 only.</p> <pre data-language="python"># Echo server program
import socket

HOST = ''                 # Symbolic name meaning all available interfaces
PORT = 50007              # Arbitrary non-privileged port
with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
    s.bind((HOST, PORT))
    s.listen(1)
    conn, addr = s.accept()
    with conn:
        print('Connected by', addr)
        while True:
            data = conn.recv(1024)
            if not data: break
            conn.sendall(data)
</pre> <pre data-language="python"># Echo client program
import socket

HOST = 'daring.cwi.nl'    # The remote host
PORT = 50007              # The same port as used by the server
with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
    s.connect((HOST, PORT))
    s.sendall(b'Hello, world')
    data = s.recv(1024)
print('Received', repr(data))
</pre> <p>The next two examples are identical to the above two, but support both IPv4 and IPv6. The server side will listen to the first address family available (it should listen to both instead). On most of IPv6-ready systems, IPv6 will take precedence and the server may not accept IPv4 traffic. The client side will try to connect to all the addresses returned as a result of the name resolution, and sends traffic to the first one connected successfully.</p> <pre data-language="python"># Echo server program
import socket
import sys

HOST = None               # Symbolic name meaning all available interfaces
PORT = 50007              # Arbitrary non-privileged port
s = None
for res in socket.getaddrinfo(HOST, PORT, socket.AF_UNSPEC,
                              socket.SOCK_STREAM, 0, socket.AI_PASSIVE):
    af, socktype, proto, canonname, sa = res
    try:
        s = socket.socket(af, socktype, proto)
    except OSError as msg:
        s = None
        continue
    try:
        s.bind(sa)
        s.listen(1)
    except OSError as msg:
        s.close()
        s = None
        continue
    break
if s is None:
    print('could not open socket')
    sys.exit(1)
conn, addr = s.accept()
with conn:
    print('Connected by', addr)
    while True:
        data = conn.recv(1024)
        if not data: break
        conn.send(data)
</pre> <pre data-language="python"># Echo client program
import socket
import sys

HOST = 'daring.cwi.nl'    # The remote host
PORT = 50007              # The same port as used by the server
s = None
for res in socket.getaddrinfo(HOST, PORT, socket.AF_UNSPEC, socket.SOCK_STREAM):
    af, socktype, proto, canonname, sa = res
    try:
        s = socket.socket(af, socktype, proto)
    except OSError as msg:
        s = None
        continue
    try:
        s.connect(sa)
    except OSError as msg:
        s.close()
        s = None
        continue
    break
if s is None:
    print('could not open socket')
    sys.exit(1)
with s:
    s.sendall(b'Hello, world')
    data = s.recv(1024)
print('Received', repr(data))
</pre> <p>The next example shows how to write a very simple network sniffer with raw sockets on Windows. The example requires administrator privileges to modify the interface:</p> <pre data-language="python">import socket

# the public network interface
HOST = socket.gethostbyname(socket.gethostname())

# create a raw socket and bind it to the public interface
s = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_IP)
s.bind((HOST, 0))

# Include IP headers
s.setsockopt(socket.IPPROTO_IP, socket.IP_HDRINCL, 1)

# receive all packets
s.ioctl(socket.SIO_RCVALL, socket.RCVALL_ON)

# receive a packet
print(s.recvfrom(65565))

# disabled promiscuous mode
s.ioctl(socket.SIO_RCVALL, socket.RCVALL_OFF)
</pre> <p>The next example shows how to use the socket interface to communicate to a CAN network using the raw socket protocol. To use CAN with the broadcast manager protocol instead, open a socket with:</p> <pre data-language="python">socket.socket(socket.AF_CAN, socket.SOCK_DGRAM, socket.CAN_BCM)
</pre> <p>After binding (<code>CAN_RAW</code>) or connecting (<a class="reference internal" href="#socket.CAN_BCM" title="socket.CAN_BCM"><code>CAN_BCM</code></a>) the socket, you can use the <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><code>socket.send()</code></a> and <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>socket.recv()</code></a> operations (and their counterparts) on the socket object as usual.</p> <p>This last example might require special privileges:</p> <pre data-language="python">import socket
import struct


# CAN frame packing/unpacking (see 'struct can_frame' in &lt;linux/can.h&gt;)

can_frame_fmt = "=IB3x8s"
can_frame_size = struct.calcsize(can_frame_fmt)

def build_can_frame(can_id, data):
    can_dlc = len(data)
    data = data.ljust(8, b'\x00')
    return struct.pack(can_frame_fmt, can_id, can_dlc, data)

def dissect_can_frame(frame):
    can_id, can_dlc, data = struct.unpack(can_frame_fmt, frame)
    return (can_id, can_dlc, data[:can_dlc])


# create a raw socket and bind it to the 'vcan0' interface
s = socket.socket(socket.AF_CAN, socket.SOCK_RAW, socket.CAN_RAW)
s.bind(('vcan0',))

while True:
    cf, addr = s.recvfrom(can_frame_size)

    print('Received: can_id=%x, can_dlc=%x, data=%s' % dissect_can_frame(cf))

    try:
        s.send(cf)
    except OSError:
        print('Error sending CAN frame')

    try:
        s.send(build_can_frame(0x01, b'\x01\x02\x03'))
    except OSError:
        print('Error sending CAN frame')
</pre> <p>Running an example several times with too small delay between executions, could lead to this error:</p> <pre data-language="python">OSError: [Errno 98] Address already in use
</pre> <p>This is because the previous execution has left the socket in a <code>TIME_WAIT</code> state, and can’t be immediately reused.</p> <p>There is a <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><code>socket</code></a> flag to set, in order to prevent this, <code>socket.SO_REUSEADDR</code>:</p> <pre data-language="python">s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
s.bind((HOST, PORT))
</pre> <p>the <code>SO_REUSEADDR</code> flag tells the kernel to reuse a local socket in <code>TIME_WAIT</code> state, without waiting for its natural timeout to expire.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <p>For an introduction to socket programming (in C), see the following papers:</p> <ul class="simple"> <li>
<em>An Introductory 4.3BSD Interprocess Communication Tutorial</em>, by Stuart Sechrest</li> <li>
<em>An Advanced 4.3BSD Interprocess Communication Tutorial</em>, by Samuel J. Leffler et al,</li> </ul> <p>both in the UNIX Programmer’s Manual, Supplementary Documents 1 (sections PS1:7 and PS1:8). The platform-specific reference material for the various socket-related system calls are also a valuable source of information on the details of socket semantics. For Unix, refer to the manual pages; for Windows, see the WinSock (or Winsock 2) specification. For IPv6-ready APIs, readers may want to refer to <span class="target" id="index-15"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3493.html"><strong>RFC 3493</strong></a> titled Basic Socket Interface Extensions for IPv6.</p> </div> </section> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2024 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/3.13/library/socket.html" class="_attribution-link">https://docs.python.org/3.13/library/socket.html</a>
  </p>
</div>
