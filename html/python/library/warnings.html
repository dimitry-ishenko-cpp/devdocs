 <span id="warnings-warning-control"></span><h1>warnings — Warning control</h1> <p><strong>Source code:</strong> <a class="extlink-source reference external" href="https://github.com/python/cpython/tree/3.13/Lib/warnings.py">Lib/warnings.py</a></p>  <p>Warning messages are typically issued in situations where it is useful to alert the user of some condition in a program, where that condition (normally) doesn’t warrant raising an exception and terminating the program. For example, one might want to issue a warning when a program uses an obsolete module.</p> <p>Python programmers issue warnings by calling the <a class="reference internal" href="#warnings.warn" title="warnings.warn"><code>warn()</code></a> function defined in this module. (C programmers use <a class="reference internal" href="../c-api/exceptions.html#c.PyErr_WarnEx" title="PyErr_WarnEx"><code>PyErr_WarnEx()</code></a>; see <a class="reference internal" href="../c-api/exceptions.html#exceptionhandling"><span class="std std-ref">Exception Handling</span></a> for details).</p> <p>Warning messages are normally written to <a class="reference internal" href="sys.html#sys.stderr" title="sys.stderr"><code>sys.stderr</code></a>, but their disposition can be changed flexibly, from ignoring all warnings to turning them into exceptions. The disposition of warnings can vary based on the <a class="reference internal" href="#warning-categories"><span class="std std-ref">warning category</span></a>, the text of the warning message, and the source location where it is issued. Repetitions of a particular warning for the same source location are typically suppressed.</p> <p>There are two stages in warning control: first, each time a warning is issued, a determination is made whether a message should be issued or not; next, if a message is to be issued, it is formatted and printed using a user-settable hook.</p> <p>The determination whether to issue a warning message is controlled by the <a class="reference internal" href="#warning-filter"><span class="std std-ref">warning filter</span></a>, which is a sequence of matching rules and actions. Rules can be added to the filter by calling <a class="reference internal" href="#warnings.filterwarnings" title="warnings.filterwarnings"><code>filterwarnings()</code></a> and reset to its default state by calling <a class="reference internal" href="#warnings.resetwarnings" title="warnings.resetwarnings"><code>resetwarnings()</code></a>.</p> <p>The printing of warning messages is done by calling <a class="reference internal" href="#warnings.showwarning" title="warnings.showwarning"><code>showwarning()</code></a>, which may be overridden; the default implementation of this function formats the message by calling <a class="reference internal" href="#warnings.formatwarning" title="warnings.formatwarning"><code>formatwarning()</code></a>, which is also available for use by custom implementations.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <p><a class="reference internal" href="logging.html#logging.captureWarnings" title="logging.captureWarnings"><code>logging.captureWarnings()</code></a> allows you to handle all warnings with the standard logging infrastructure.</p> </div> <section id="warning-categories"> <span id="id1"></span><h2>Warning Categories</h2> <p>There are a number of built-in exceptions that represent warning categories. This categorization is useful to be able to filter out groups of warnings.</p> <p>While these are technically <a class="reference internal" href="exceptions.html#warning-categories-as-exceptions"><span class="std std-ref">built-in exceptions</span></a>, they are documented here, because conceptually they belong to the warnings mechanism.</p> <p>User code can define additional warning categories by subclassing one of the standard warning categories. A warning category must always be a subclass of the <a class="reference internal" href="exceptions.html#Warning" title="Warning"><code>Warning</code></a> class.</p> <p>The following warnings category classes are currently defined:</p> <table class="docutils align-default"> <thead> <tr>
<th class="head"><p>Class</p></th> <th class="head"><p>Description</p></th> </tr> </thead>  <tr>
<td><p><a class="reference internal" href="exceptions.html#Warning" title="Warning"><code>Warning</code></a></p></td> <td><p>This is the base class of all warning category classes. It is a subclass of <a class="reference internal" href="exceptions.html#Exception" title="Exception"><code>Exception</code></a>.</p></td> </tr> <tr>
<td><p><a class="reference internal" href="exceptions.html#UserWarning" title="UserWarning"><code>UserWarning</code></a></p></td> <td><p>The default category for <a class="reference internal" href="#warnings.warn" title="warnings.warn"><code>warn()</code></a>.</p></td> </tr> <tr>
<td><p><a class="reference internal" href="exceptions.html#DeprecationWarning" title="DeprecationWarning"><code>DeprecationWarning</code></a></p></td> <td><p>Base category for warnings about deprecated features when those warnings are intended for other Python developers (ignored by default, unless triggered by code in <code>__main__</code>).</p></td> </tr> <tr>
<td><p><a class="reference internal" href="exceptions.html#SyntaxWarning" title="SyntaxWarning"><code>SyntaxWarning</code></a></p></td> <td><p>Base category for warnings about dubious syntactic features.</p></td> </tr> <tr>
<td><p><a class="reference internal" href="exceptions.html#RuntimeWarning" title="RuntimeWarning"><code>RuntimeWarning</code></a></p></td> <td><p>Base category for warnings about dubious runtime features.</p></td> </tr> <tr>
<td><p><a class="reference internal" href="exceptions.html#FutureWarning" title="FutureWarning"><code>FutureWarning</code></a></p></td> <td><p>Base category for warnings about deprecated features when those warnings are intended for end users of applications that are written in Python.</p></td> </tr> <tr>
<td><p><a class="reference internal" href="exceptions.html#PendingDeprecationWarning" title="PendingDeprecationWarning"><code>PendingDeprecationWarning</code></a></p></td> <td><p>Base category for warnings about features that will be deprecated in the future (ignored by default).</p></td> </tr> <tr>
<td><p><a class="reference internal" href="exceptions.html#ImportWarning" title="ImportWarning"><code>ImportWarning</code></a></p></td> <td><p>Base category for warnings triggered during the process of importing a module (ignored by default).</p></td> </tr> <tr>
<td><p><a class="reference internal" href="exceptions.html#UnicodeWarning" title="UnicodeWarning"><code>UnicodeWarning</code></a></p></td> <td><p>Base category for warnings related to Unicode.</p></td> </tr> <tr>
<td><p><a class="reference internal" href="exceptions.html#BytesWarning" title="BytesWarning"><code>BytesWarning</code></a></p></td> <td><p>Base category for warnings related to <a class="reference internal" href="stdtypes.html#bytes" title="bytes"><code>bytes</code></a> and <a class="reference internal" href="stdtypes.html#bytearray" title="bytearray"><code>bytearray</code></a>.</p></td> </tr> <tr>
<td><p><a class="reference internal" href="exceptions.html#ResourceWarning" title="ResourceWarning"><code>ResourceWarning</code></a></p></td> <td><p>Base category for warnings related to resource usage (ignored by default).</p></td> </tr>  </table> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span>Previously <a class="reference internal" href="exceptions.html#DeprecationWarning" title="DeprecationWarning"><code>DeprecationWarning</code></a> and <a class="reference internal" href="exceptions.html#FutureWarning" title="FutureWarning"><code>FutureWarning</code></a> were distinguished based on whether a feature was being removed entirely or changing its behaviour. They are now distinguished based on their intended audience and the way they’re handled by the default warnings filters.</p> </div> </section> <section id="the-warnings-filter"> <span id="warning-filter"></span><h2>The Warnings Filter</h2> <p>The warnings filter controls whether warnings are ignored, displayed, or turned into errors (raising an exception).</p> <p>Conceptually, the warnings filter maintains an ordered list of filter specifications; any specific warning is matched against each filter specification in the list in turn until a match is found; the filter determines the disposition of the match. Each entry is a tuple of the form (<em>action</em>, <em>message</em>, <em>category</em>, <em>module</em>, <em>lineno</em>), where:</p> <ul> <li>
<p><em>action</em> is one of the following strings:</p> <table class="docutils align-default"> <thead> <tr>
<th class="head"><p>Value</p></th> <th class="head"><p>Disposition</p></th> </tr> </thead>  <tr>
<td><p><code>"default"</code></p></td> <td><p>print the first occurrence of matching warnings for each location (module + line number) where the warning is issued</p></td> </tr> <tr>
<td><p><code>"error"</code></p></td> <td><p>turn matching warnings into exceptions</p></td> </tr> <tr>
<td><p><code>"ignore"</code></p></td> <td><p>never print matching warnings</p></td> </tr> <tr>
<td><p><code>"always"</code></p></td> <td><p>always print matching warnings</p></td> </tr> <tr>
<td><p><code>"module"</code></p></td> <td><p>print the first occurrence of matching warnings for each module where the warning is issued (regardless of line number)</p></td> </tr> <tr>
<td><p><code>"once"</code></p></td> <td><p>print only the first occurrence of matching warnings, regardless of location</p></td> </tr>  </table> </li> <li>
<em>message</em> is a string containing a regular expression that the start of the warning message must match, case-insensitively. In <a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code>-W</code></a> and <span class="target" id="index-1"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONWARNINGS"><code>PYTHONWARNINGS</code></a>, <em>message</em> is a literal string that the start of the warning message must contain (case-insensitively), ignoring any whitespace at the start or end of <em>message</em>.</li> <li>
<em>category</em> is a class (a subclass of <a class="reference internal" href="exceptions.html#Warning" title="Warning"><code>Warning</code></a>) of which the warning category must be a subclass in order to match.</li> <li>
<em>module</em> is a string containing a regular expression that the start of the fully qualified module name must match, case-sensitively. In <a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code>-W</code></a> and <span class="target" id="index-2"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONWARNINGS"><code>PYTHONWARNINGS</code></a>, <em>module</em> is a literal string that the fully qualified module name must be equal to (case-sensitively), ignoring any whitespace at the start or end of <em>module</em>.</li> <li>
<em>lineno</em> is an integer that the line number where the warning occurred must match, or <code>0</code> to match all line numbers.</li> </ul> <p>Since the <a class="reference internal" href="exceptions.html#Warning" title="Warning"><code>Warning</code></a> class is derived from the built-in <a class="reference internal" href="exceptions.html#Exception" title="Exception"><code>Exception</code></a> class, to turn a warning into an error we simply raise <code>category(message)</code>.</p> <p>If a warning is reported and doesn’t match any registered filter then the “default” action is applied (hence its name).</p> <section id="repeated-warning-suppression-criteria"> <span id="id2"></span><h3>Repeated Warning Suppression Criteria</h3> <p>The filters that suppress repeated warnings apply the following criteria to determine if a warning is considered a repeat:</p> <ul class="simple"> <li>
<code>"default"</code>: A warning is considered a repeat only if the (<em>message</em>, <em>category</em>, <em>module</em>, <em>lineno</em>) are all the same.</li> <li>
<code>"module"</code>: A warning is considered a repeat if the (<em>message</em>, <em>category</em>, <em>module</em>) are the same, ignoring the line number.</li> <li>
<code>"once"</code>: A warning is considered a repeat if the (<em>message</em>, <em>category</em>) are the same, ignoring the module and line number.</li> </ul> </section> <section id="describing-warning-filters"> <span id="id3"></span><h3>Describing Warning Filters</h3> <p>The warnings filter is initialized by <a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code>-W</code></a> options passed to the Python interpreter command line and the <span class="target" id="index-3"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONWARNINGS"><code>PYTHONWARNINGS</code></a> environment variable. The interpreter saves the arguments for all supplied entries without interpretation in <a class="reference internal" href="sys.html#sys.warnoptions" title="sys.warnoptions"><code>sys.warnoptions</code></a>; the <a class="reference internal" href="#module-warnings" title="warnings: Issue warning messages and control their disposition."><code>warnings</code></a> module parses these when it is first imported (invalid options are ignored, after printing a message to <a class="reference internal" href="sys.html#sys.stderr" title="sys.stderr"><code>sys.stderr</code></a>).</p> <p>Individual warnings filters are specified as a sequence of fields separated by colons:</p> <pre data-language="python">action:message:category:module:line
</pre> <p>The meaning of each of these fields is as described in <a class="reference internal" href="#warning-filter"><span class="std std-ref">The Warnings Filter</span></a>. When listing multiple filters on a single line (as for <span class="target" id="index-4"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONWARNINGS"><code>PYTHONWARNINGS</code></a>), the individual filters are separated by commas and the filters listed later take precedence over those listed before them (as they’re applied left-to-right, and the most recently applied filters take precedence over earlier ones).</p> <p>Commonly used warning filters apply to either all warnings, warnings in a particular category, or warnings raised by particular modules or packages. Some examples:</p> <pre data-language="python">default                      # Show all warnings (even those ignored by default)
ignore                       # Ignore all warnings
error                        # Convert all warnings to errors
error::ResourceWarning       # Treat ResourceWarning messages as errors
default::DeprecationWarning  # Show DeprecationWarning messages
ignore,default:::mymodule    # Only report warnings triggered by "mymodule"
error:::mymodule             # Convert warnings to errors in "mymodule"
</pre> </section> <section id="default-warning-filter"> <span id="id4"></span><h3>Default Warning Filter</h3> <p>By default, Python installs several warning filters, which can be overridden by the <a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code>-W</code></a> command-line option, the <span class="target" id="index-5"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONWARNINGS"><code>PYTHONWARNINGS</code></a> environment variable and calls to <a class="reference internal" href="#warnings.filterwarnings" title="warnings.filterwarnings"><code>filterwarnings()</code></a>.</p> <p>In regular release builds, the default warning filter has the following entries (in order of precedence):</p> <pre data-language="python">default::DeprecationWarning:__main__
ignore::DeprecationWarning
ignore::PendingDeprecationWarning
ignore::ImportWarning
ignore::ResourceWarning
</pre> <p>In a <a class="reference internal" href="../using/configure.html#debug-build"><span class="std std-ref">debug build</span></a>, the list of default warning filters is empty.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.2: </span><a class="reference internal" href="exceptions.html#DeprecationWarning" title="DeprecationWarning"><code>DeprecationWarning</code></a> is now ignored by default in addition to <a class="reference internal" href="exceptions.html#PendingDeprecationWarning" title="PendingDeprecationWarning"><code>PendingDeprecationWarning</code></a>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span><a class="reference internal" href="exceptions.html#DeprecationWarning" title="DeprecationWarning"><code>DeprecationWarning</code></a> is once again shown by default when triggered directly by code in <code>__main__</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.7: </span><a class="reference internal" href="exceptions.html#BytesWarning" title="BytesWarning"><code>BytesWarning</code></a> no longer appears in the default filter list and is instead configured via <a class="reference internal" href="sys.html#sys.warnoptions" title="sys.warnoptions"><code>sys.warnoptions</code></a> when <a class="reference internal" href="../using/cmdline.html#cmdoption-b"><code>-b</code></a> is specified twice.</p> </div> </section> <section id="overriding-the-default-filter"> <span id="warning-disable"></span><h3>Overriding the default filter</h3> <p>Developers of applications written in Python may wish to hide <em>all</em> Python level warnings from their users by default, and only display them when running tests or otherwise working on the application. The <a class="reference internal" href="sys.html#sys.warnoptions" title="sys.warnoptions"><code>sys.warnoptions</code></a> attribute used to pass filter configurations to the interpreter can be used as a marker to indicate whether or not warnings should be disabled:</p> <pre data-language="python">import sys

if not sys.warnoptions:
    import warnings
    warnings.simplefilter("ignore")
</pre> <p>Developers of test runners for Python code are advised to instead ensure that <em>all</em> warnings are displayed by default for the code under test, using code like:</p> <pre data-language="python">import sys

if not sys.warnoptions:
    import os, warnings
    warnings.simplefilter("default") # Change the filter in this process
    os.environ["PYTHONWARNINGS"] = "default" # Also affect subprocesses
</pre> <p>Finally, developers of interactive shells that run user code in a namespace other than <code>__main__</code> are advised to ensure that <a class="reference internal" href="exceptions.html#DeprecationWarning" title="DeprecationWarning"><code>DeprecationWarning</code></a> messages are made visible by default, using code like the following (where <code>user_ns</code> is the module used to execute code entered interactively):</p> <pre data-language="python">import warnings
warnings.filterwarnings("default", category=DeprecationWarning,
                                   module=user_ns.get("__name__"))
</pre> </section> </section> <section id="temporarily-suppressing-warnings"> <span id="warning-suppress"></span><h2>Temporarily Suppressing Warnings</h2> <p>If you are using code that you know will raise a warning, such as a deprecated function, but do not want to see the warning (even when warnings have been explicitly configured via the command line), then it is possible to suppress the warning using the <a class="reference internal" href="#warnings.catch_warnings" title="warnings.catch_warnings"><code>catch_warnings</code></a> context manager:</p> <pre data-language="python">import warnings

def fxn():
    warnings.warn("deprecated", DeprecationWarning)

with warnings.catch_warnings():
    warnings.simplefilter("ignore")
    fxn()
</pre> <p>While within the context manager all warnings will simply be ignored. This allows you to use known-deprecated code without having to see the warning while not suppressing the warning for other code that might not be aware of its use of deprecated code. Note: this can only be guaranteed in a single-threaded application. If two or more threads use the <a class="reference internal" href="#warnings.catch_warnings" title="warnings.catch_warnings"><code>catch_warnings</code></a> context manager at the same time, the behavior is undefined.</p> </section> <section id="testing-warnings"> <span id="warning-testing"></span><h2>Testing Warnings</h2> <p>To test warnings raised by code, use the <a class="reference internal" href="#warnings.catch_warnings" title="warnings.catch_warnings"><code>catch_warnings</code></a> context manager. With it you can temporarily mutate the warnings filter to facilitate your testing. For instance, do the following to capture all raised warnings to check:</p> <pre data-language="python">import warnings

def fxn():
    warnings.warn("deprecated", DeprecationWarning)

with warnings.catch_warnings(record=True) as w:
    # Cause all warnings to always be triggered.
    warnings.simplefilter("always")
    # Trigger a warning.
    fxn()
    # Verify some things
    assert len(w) == 1
    assert issubclass(w[-1].category, DeprecationWarning)
    assert "deprecated" in str(w[-1].message)
</pre> <p>One can also cause all warnings to be exceptions by using <code>error</code> instead of <code>always</code>. One thing to be aware of is that if a warning has already been raised because of a <code>once</code>/<code>default</code> rule, then no matter what filters are set the warning will not be seen again unless the warnings registry related to the warning has been cleared.</p> <p>Once the context manager exits, the warnings filter is restored to its state when the context was entered. This prevents tests from changing the warnings filter in unexpected ways between tests and leading to indeterminate test results. The <a class="reference internal" href="#warnings.showwarning" title="warnings.showwarning"><code>showwarning()</code></a> function in the module is also restored to its original value. Note: this can only be guaranteed in a single-threaded application. If two or more threads use the <a class="reference internal" href="#warnings.catch_warnings" title="warnings.catch_warnings"><code>catch_warnings</code></a> context manager at the same time, the behavior is undefined.</p> <p>When testing multiple operations that raise the same kind of warning, it is important to test them in a manner that confirms each operation is raising a new warning (e.g. set warnings to be raised as exceptions and check the operations raise exceptions, check that the length of the warning list continues to increase after each operation, or else delete the previous entries from the warnings list before each new operation).</p> </section> <section id="updating-code-for-new-versions-of-dependencies"> <span id="warning-ignored"></span><h2>Updating Code For New Versions of Dependencies</h2> <p>Warning categories that are primarily of interest to Python developers (rather than end users of applications written in Python) are ignored by default.</p> <p>Notably, this “ignored by default” list includes <a class="reference internal" href="exceptions.html#DeprecationWarning" title="DeprecationWarning"><code>DeprecationWarning</code></a> (for every module except <code>__main__</code>), which means developers should make sure to test their code with typically ignored warnings made visible in order to receive timely notifications of future breaking API changes (whether in the standard library or third party packages).</p> <p>In the ideal case, the code will have a suitable test suite, and the test runner will take care of implicitly enabling all warnings when running tests (the test runner provided by the <a class="reference internal" href="unittest.html#module-unittest" title="unittest: Unit testing framework for Python."><code>unittest</code></a> module does this).</p> <p>In less ideal cases, applications can be checked for use of deprecated interfaces by passing <a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code>-Wd</code></a> to the Python interpreter (this is shorthand for <code>-W default</code>) or setting <code>PYTHONWARNINGS=default</code> in the environment. This enables default handling for all warnings, including those that are ignored by default. To change what action is taken for encountered warnings you can change what argument is passed to <a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code>-W</code></a> (e.g. <code>-W error</code>). See the <a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code>-W</code></a> flag for more details on what is possible.</p> </section> <section id="available-functions"> <span id="warning-functions"></span><h2>Available Functions</h2> <dl class="py function"> <dt class="sig sig-object py" id="warnings.warn">
<code>warnings.warn(message, category=None, stacklevel=1, source=None, *, skip_file_prefixes=())</code> </dt> <dd>
<p>Issue a warning, or maybe ignore it or raise an exception. The <em>category</em> argument, if given, must be a <a class="reference internal" href="#warning-categories"><span class="std std-ref">warning category class</span></a>; it defaults to <a class="reference internal" href="exceptions.html#UserWarning" title="UserWarning"><code>UserWarning</code></a>. Alternatively, <em>message</em> can be a <a class="reference internal" href="exceptions.html#Warning" title="Warning"><code>Warning</code></a> instance, in which case <em>category</em> will be ignored and <code>message.__class__</code> will be used. In this case, the message text will be <code>str(message)</code>. This function raises an exception if the particular warning issued is changed into an error by the <a class="reference internal" href="#warning-filter"><span class="std std-ref">warnings filter</span></a>. The <em>stacklevel</em> argument can be used by wrapper functions written in Python, like this:</p> <pre data-language="python">def deprecated_api(message):
    warnings.warn(message, DeprecationWarning, stacklevel=2)
</pre> <p>This makes the warning refer to <code>deprecated_api</code>’s caller, rather than to the source of <code>deprecated_api</code> itself (since the latter would defeat the purpose of the warning message).</p> <p>The <em>skip_file_prefixes</em> keyword argument can be used to indicate which stack frames are ignored when counting stack levels. This can be useful when you want the warning to always appear at call sites outside of a package when a constant <em>stacklevel</em> does not fit all call paths or is otherwise challenging to maintain. If supplied, it must be a tuple of strings. When prefixes are supplied, stacklevel is implicitly overridden to be <code>max(2,
stacklevel)</code>. To cause a warning to be attributed to the caller from outside of the current package you might write:</p> <pre data-language="python"># example/lower.py
_warn_skips = (os.path.dirname(__file__),)

def one_way(r_luxury_yacht=None, t_wobbler_mangrove=None):
    if r_luxury_yacht:
        warnings.warn("Please migrate to t_wobbler_mangrove=.",
                      skip_file_prefixes=_warn_skips)

# example/higher.py
from . import lower

def another_way(**kw):
    lower.one_way(**kw)
</pre> <p>This makes the warning refer to both the <code>example.lower.one_way()</code> and <code>package.higher.another_way()</code> call sites only from calling code living outside of <code>example</code> package.</p> <p><em>source</em>, if supplied, is the destroyed object which emitted a <a class="reference internal" href="exceptions.html#ResourceWarning" title="ResourceWarning"><code>ResourceWarning</code></a>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.6: </span>Added <em>source</em> parameter.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.12: </span>Added <em>skip_file_prefixes</em>.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="warnings.warn_explicit">
<code>warnings.warn_explicit(message, category, filename, lineno, module=None, registry=None, module_globals=None, source=None)</code> </dt> <dd>
<p>This is a low-level interface to the functionality of <a class="reference internal" href="#warnings.warn" title="warnings.warn"><code>warn()</code></a>, passing in explicitly the message, category, filename and line number, and optionally the module name and the registry (which should be the <code>__warningregistry__</code> dictionary of the module). The module name defaults to the filename with <code>.py</code> stripped; if no registry is passed, the warning is never suppressed. <em>message</em> must be a string and <em>category</em> a subclass of <a class="reference internal" href="exceptions.html#Warning" title="Warning"><code>Warning</code></a> or <em>message</em> may be a <a class="reference internal" href="exceptions.html#Warning" title="Warning"><code>Warning</code></a> instance, in which case <em>category</em> will be ignored.</p> <p><em>module_globals</em>, if supplied, should be the global namespace in use by the code for which the warning is issued. (This argument is used to support displaying source for modules found in zipfiles or other non-filesystem import sources).</p> <p><em>source</em>, if supplied, is the destroyed object which emitted a <a class="reference internal" href="exceptions.html#ResourceWarning" title="ResourceWarning"><code>ResourceWarning</code></a>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.6: </span>Add the <em>source</em> parameter.</p> </div> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="warnings.showwarning">
<code>warnings.showwarning(message, category, filename, lineno, file=None, line=None)</code> </dt> <dd>
<p>Write a warning to a file. The default implementation calls <code>formatwarning(message, category, filename, lineno, line)</code> and writes the resulting string to <em>file</em>, which defaults to <a class="reference internal" href="sys.html#sys.stderr" title="sys.stderr"><code>sys.stderr</code></a>. You may replace this function with any callable by assigning to <code>warnings.showwarning</code>. <em>line</em> is a line of source code to be included in the warning message; if <em>line</em> is not supplied, <a class="reference internal" href="#warnings.showwarning" title="warnings.showwarning"><code>showwarning()</code></a> will try to read the line specified by <em>filename</em> and <em>lineno</em>.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="warnings.formatwarning">
<code>warnings.formatwarning(message, category, filename, lineno, line=None)</code> </dt> <dd>
<p>Format a warning the standard way. This returns a string which may contain embedded newlines and ends in a newline. <em>line</em> is a line of source code to be included in the warning message; if <em>line</em> is not supplied, <a class="reference internal" href="#warnings.formatwarning" title="warnings.formatwarning"><code>formatwarning()</code></a> will try to read the line specified by <em>filename</em> and <em>lineno</em>.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="warnings.filterwarnings">
<code>warnings.filterwarnings(action, message='', category=Warning, module='', lineno=0, append=False)</code> </dt> <dd>
<p>Insert an entry into the list of <a class="reference internal" href="#warning-filter"><span class="std std-ref">warnings filter specifications</span></a>. The entry is inserted at the front by default; if <em>append</em> is true, it is inserted at the end. This checks the types of the arguments, compiles the <em>message</em> and <em>module</em> regular expressions, and inserts them as a tuple in the list of warnings filters. Entries closer to the front of the list override entries later in the list, if both match a particular warning. Omitted arguments default to a value that matches everything.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="warnings.simplefilter">
<code>warnings.simplefilter(action, category=Warning, lineno=0, append=False)</code> </dt> <dd>
<p>Insert a simple entry into the list of <a class="reference internal" href="#warning-filter"><span class="std std-ref">warnings filter specifications</span></a>. The meaning of the function parameters is as for <a class="reference internal" href="#warnings.filterwarnings" title="warnings.filterwarnings"><code>filterwarnings()</code></a>, but regular expressions are not needed as the filter inserted always matches any message in any module as long as the category and line number match.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="warnings.resetwarnings">
<code>warnings.resetwarnings()</code> </dt> <dd>
<p>Reset the warnings filter. This discards the effect of all previous calls to <a class="reference internal" href="#warnings.filterwarnings" title="warnings.filterwarnings"><code>filterwarnings()</code></a>, including that of the <a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code>-W</code></a> command line options and calls to <a class="reference internal" href="#warnings.simplefilter" title="warnings.simplefilter"><code>simplefilter()</code></a>.</p> </dd>
</dl> <dl class="py function"> <dt class="sig sig-object py" id="warnings.deprecated">
<code>@warnings.deprecated(msg, *, category=DeprecationWarning, stacklevel=1)</code> </dt> <dd>
<p>Decorator to indicate that a class, function or overload is deprecated.</p> <p>When this decorator is applied to an object, deprecation warnings may be emitted at runtime when the object is used. <a class="reference internal" href="../glossary.html#term-static-type-checker"><span class="xref std std-term">static type checkers</span></a> will also generate a diagnostic on usage of the deprecated object.</p> <p>Usage:</p> <pre data-language="python">from warnings import deprecated
from typing import overload

@deprecated("Use B instead")
class A:
    pass

@deprecated("Use g instead")
def f():
    pass

@overload
@deprecated("int support is deprecated")
def g(x: int) -&gt; int: ...
@overload
def g(x: str) -&gt; int: ...
</pre> <p>The warning specified by <em>category</em> will be emitted at runtime on use of deprecated objects. For functions, that happens on calls; for classes, on instantiation and on creation of subclasses. If the <em>category</em> is <code>None</code>, no warning is emitted at runtime. The <em>stacklevel</em> determines where the warning is emitted. If it is <code>1</code> (the default), the warning is emitted at the direct caller of the deprecated object; if it is higher, it is emitted further up the stack. Static type checker behavior is not affected by the <em>category</em> and <em>stacklevel</em> arguments.</p> <p>The deprecation message passed to the decorator is saved in the <code>__deprecated__</code> attribute on the decorated object. If applied to an overload, the decorator must be after the <a class="reference internal" href="typing.html#typing.overload" title="typing.overload"><code>@overload</code></a> decorator for the attribute to exist on the overload as returned by <a class="reference internal" href="typing.html#typing.get_overloads" title="typing.get_overloads"><code>typing.get_overloads()</code></a>.</p> <div class="versionadded"> <p><span class="versionmodified added">Added in version 3.13: </span>See <span class="target" id="index-6"></span><a class="pep reference external" href="https://peps.python.org/pep-0702/"><strong>PEP 702</strong></a>.</p> </div> </dd>
</dl> </section> <section id="available-context-managers"> <h2>Available Context Managers</h2> <dl class="py class"> <dt class="sig sig-object py" id="warnings.catch_warnings">
<code>class warnings.catch_warnings(*, record=False, module=None, action=None, category=Warning, lineno=0, append=False)</code> </dt> <dd>
<p>A context manager that copies and, upon exit, restores the warnings filter and the <a class="reference internal" href="#warnings.showwarning" title="warnings.showwarning"><code>showwarning()</code></a> function. If the <em>record</em> argument is <a class="reference internal" href="constants.html#False" title="False"><code>False</code></a> (the default) the context manager returns <a class="reference internal" href="constants.html#None" title="None"><code>None</code></a> on entry. If <em>record</em> is <a class="reference internal" href="constants.html#True" title="True"><code>True</code></a>, a list is returned that is progressively populated with objects as seen by a custom <a class="reference internal" href="#warnings.showwarning" title="warnings.showwarning"><code>showwarning()</code></a> function (which also suppresses output to <code>sys.stdout</code>). Each object in the list has attributes with the same names as the arguments to <a class="reference internal" href="#warnings.showwarning" title="warnings.showwarning"><code>showwarning()</code></a>.</p> <p>The <em>module</em> argument takes a module that will be used instead of the module returned when you import <a class="reference internal" href="#module-warnings" title="warnings: Issue warning messages and control their disposition."><code>warnings</code></a> whose filter will be protected. This argument exists primarily for testing the <a class="reference internal" href="#module-warnings" title="warnings: Issue warning messages and control their disposition."><code>warnings</code></a> module itself.</p> <p>If the <em>action</em> argument is not <code>None</code>, the remaining arguments are passed to <a class="reference internal" href="#warnings.simplefilter" title="warnings.simplefilter"><code>simplefilter()</code></a> as if it were called immediately on entering the context.</p> <p>See <a class="reference internal" href="#warning-filter"><span class="std std-ref">The Warnings Filter</span></a> for the meaning of the <em>category</em> and <em>lineno</em> parameters.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The <a class="reference internal" href="#warnings.catch_warnings" title="warnings.catch_warnings"><code>catch_warnings</code></a> manager works by replacing and then later restoring the module’s <a class="reference internal" href="#warnings.showwarning" title="warnings.showwarning"><code>showwarning()</code></a> function and internal list of filter specifications. This means the context manager is modifying global state and therefore is not thread-safe.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3.11: </span>Added the <em>action</em>, <em>category</em>, <em>lineno</em>, and <em>append</em> parameters.</p> </div> </dd>
</dl> </section> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2024 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/3.13/library/warnings.html" class="_attribution-link">https://docs.python.org/3.13/library/warnings.html</a>
  </p>
</div>
