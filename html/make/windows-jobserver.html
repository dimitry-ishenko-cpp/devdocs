  <h1 class="subsection">Windows Jobserver Interaction</h1>  <p>On Windows systems the jobserver is implemented as a named semaphore. The semaphore will be set with an initial count equal to the number of available slots; to obtain a slot you must wait on the semaphore (with or without a timeout). To release a slot, release the semaphore. </p> <p>To access the semaphore you must parse the <code>MAKEFLAGS</code> variable and look for the argument string <code>--jobserver-auth=NAME</code> where ‘<samp>NAME</samp>’ is the name of the named semaphore. Use this name with <code>OpenSemaphore</code> to create a handle to the semaphore. </p>  <p>The only valid style for <code>--jobserver-style</code> is ‘<samp>sem</samp>’. </p> <p>There are various error conditions you must consider to ensure your implementation is robust: </p> <ul> <li> Usually you will have a command-line argument controlling the parallel operation of your tool. Consider whether your tool should detect situations where both the jobserver and the command-line argument are specified, and how it should react. </li>
<li> Your tool should be sure to release the semaphore for the tokens it read, even under error conditions. This includes not only errors in your tool but also outside influences such as interrupts (<code>SIGINT</code>), etc. You may want to install signal handlers to manage this write-back. </li>
</ul><div class="_attribution">
  <p class="_attribution-p">
    Copyright © 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022 Free Software Foundation, Inc. <br>Licensed under the GNU Free Documentation License.<br>
    <a href="https://www.gnu.org/software/make/manual/html_node/Windows-Jobserver.html" class="_attribution-link">https://www.gnu.org/software/make/manual/html_node/Windows-Jobserver.html</a>
  </p>
</div>
