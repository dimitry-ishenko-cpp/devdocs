  <h1 class="subsection">Updating Archive Symbol Directories</h1>      <p>An archive file that is used as a library usually contains a special member named <samp>__.SYMDEF</samp> that contains a directory of the external symbol names defined by all the other members. After you update any other members, you need to update <samp>__.SYMDEF</samp> so that it will summarize the other members properly. This is done by running the <code>ranlib</code> program: </p> <div class="example"> <pre class="example">ranlib <var>archivefile</var>
</pre>
</div> <p>Normally you would put this command in the rule for the archive file, and make all the members of the archive file prerequisites of that rule. For example, </p> <div class="example"> <pre class="example">libfoo.a: libfoo.a(x.o) libfoo.a(y.o) …
        ranlib libfoo.a
</pre>
</div> <p>The effect of this is to update archive members <samp>x.o</samp>, <samp>y.o</samp>, etc., and then update the symbol directory member <samp>__.SYMDEF</samp> by running <code>ranlib</code>. The rules for updating the members are not shown here; most likely you can omit them and use the implicit rule which copies files into the archive, as described in the preceding section. </p> <p>This is not necessary when using the GNU <code>ar</code> program, which updates the <samp>__.SYMDEF</samp> member automatically. </p><div class="_attribution">
  <p class="_attribution-p">
    Copyright © 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022 Free Software Foundation, Inc. <br>Licensed under the GNU Free Documentation License.<br>
    <a href="https://www.gnu.org/software/make/manual/html_node/Archive-Symbols.html" class="_attribution-link">https://www.gnu.org/software/make/manual/html_node/Archive-Symbols.html</a>
  </p>
</div>
