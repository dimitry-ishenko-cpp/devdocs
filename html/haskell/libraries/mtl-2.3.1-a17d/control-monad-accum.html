<h1 class="caption">Control.Monad.Accum</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th valign="top">Copyright</th>
<td>(C) Koz Ross 2022 Manuel BÃ¤renz 2021</td>
</tr>
<tr>
<th>License</th>
<td>BSD-3-Clause (see the LICENSE file)</td>
</tr>
<tr>
<th>Maintainer</th>
<td>koz.ross@retro-freedom.nz</td>
</tr>
<tr>
<th>Stability</th>
<td>Experimental</td>
</tr>
<tr>
<th>Portability</th>
<td>GHC only</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>Trustworthy</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="table-of-contents"><div id="contents-list">
<h4 class="caption" onclick="window.scrollTo(0,0)">Contents</h4>
<ul>
<li><a href="#g:1">Type class</a></li>
<li><a href="#g:2">Lifting helper type</a></li>
<li><a href="#g:3">Other functions</a></li>
</ul>
</div></div>
<div id="description">
<h4 class="caption">Description</h4>
<dl>
<dt>Computation type:</dt>
<dd>Accumulation (either append-only state, or writer with the ability to read all previous input).</dd>
<dt>Binding strategy:</dt>
<dd>Binding a function to a monadic value monoidally accumulates the subcomputations (that is, using <code><a href="../base-4.21.0.0-8e62/data-monoid.html#v:-60--62-" title="Data.Monoid">&lt;&gt;</a></code>).</dd>
<dt>Useful for:</dt>
<dd>Logging, patch-style tracking.</dd>
<dt>Zero and plus:</dt>
<dd>None.</dd>
<dt>Example type:</dt>
<dd><code class="inline-code"><a href="../transformers-0.6.1.2-72bd/control-monad-trans-accum.html#v:Accum" title="Control.Monad.Trans.Accum">Accum</a> w a</code></dd>
</dl>
<h2>A note on commutativity</h2>
<p>Some effects are <em>commutative</em>: it doesn't matter which you resolve first, as all possible orderings of commutative effects are isomorphic. Consider, for example, the reader and state effects, as exemplified by <code><a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a></code> and <code><a href="strictstate.html#v:StateT" title="StrictState">StateT</a></code> respectively. If we have <code class="inline-code"><a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r (<a href="strictstate.html#v:State" title="StrictState">State</a> s) a</code>, this is effectively <code class="inline-code">r -&gt; <a href="strictstate.html#v:State" title="StrictState">State</a> s a ~ r -&gt; s -&gt; (a, s)</code>; if we instead have <code class="inline-code"><a href="strictstate.html#v:StateT" title="StrictState">StateT</a> s (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-reader.html#v:Reader" title="Control.Monad.Trans.Reader">Reader</a> r) a</code>, this is effectively <code class="inline-code">s -&gt; <a href="control-monad-trans.html#v:Reader" title="Control.Monad.Trans">Reader</a> r (a, s) ~ s -&gt; r -&gt; (a, s)</code>. Since we can always reorder function arguments (for example, using <code><a href="../base-4.21.0.0-8e62/data-function.html#v:flip" title="Data.Function">flip</a></code>, as in this case) without changing the result, these are isomorphic, showing that reader and state are <em>commutative</em>, or, more precisely, <em>commute with each other</em>.</p>
<p>However, this isn't generally the case. Consider instead the error and state effects, as exemplified by <code><a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a></code> and <code><a href="strictstate.html#v:StateT" title="StrictState">StateT</a></code> respectively. If we have <code class="inline-code"><a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-state-strict.html#v:State" title="Control.Monad.Trans.State.Strict">State</a> s) a</code>, this is effectively <code class="inline-code"><a href="control-monad-state-strict.html#t:State" title="Control.Monad.State.Strict">State</a> s (<a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) ~ s -&gt; (<a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a, s)</code>: put simply, the error can occur only in the <em>result</em>, but not the state, which always 'survives'. On the other hand, if we have <code class="inline-code"><a href="strictstate.html#v:StateT" title="StrictState">StateT</a> s <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</code>, this is instead <code class="inline-code">s -&gt; <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (a, s)</code>: here, if we error, we lose <em>both</em> the state and the result! Thus, error and state effects do <em>not</em> commute with each other.</p>
<p>As the MTL is capability-based, we support any ordering of non-commutative effects on an equal footing. Indeed, if you wish to use <code><a href="control-monad-state-class.html#v:MonadState" title="Control.Monad.State.Class">MonadState</a></code>, for example, whether your final monadic stack ends up being <code class="inline-code"><a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a>
 (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-state-strict.html#v:State" title="Control.Monad.Trans.State.Strict">State</a> s)
 a</code>, <code class="inline-code"><a href="strictstate.html#v:StateT" title="StrictState">StateT</a> s <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</code>, or anything else, you will be able to write your desired code without having to consider such differences. However, the way we <em>implement</em> these capabilities for any given transformer (or rather, any given transformed stack) <em>is</em> affected by this ordering unless the effects in question are commutative.</p>
<p>We note in this module which effects the accumulation effect does and doesn't commute with; we also note on implementations with non-commutative transformers what the outcome will be. Note that, depending on how the 'inner monad' is structured, this may be more complex than we note: we describe only what impact the 'outer effect' has, not what else might be in the stack.</p>
<h2>Commutativity of accumulation</h2>
<p>The accumulation effect commutes with the identity effect (<code><a href="../transformers-0.6.1.2-72bd/control-monad-trans-identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a></code>), reader, writer or state effects (<code><a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a></code>, <code><a href="strictwriter.html#v:WriterT" title="StrictWriter">WriterT</a></code>, <code><a href="strictstate.html#v:StateT" title="StrictState">StateT</a></code> and any combination, including <code><a href="strictrws.html#v:RWST" title="StrictRWS">RWST</a></code> for example) and with itself. It does <em>not</em> commute with anything else.</p>
</div>
<a href="#g:1" id="g:1"><h2>Type class</h2></a><p class="src">class (<a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="../base-4.21.0.0-8e62/control-monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a id="t:MonadAccum" class="def">MonadAccum</a> w (m :: <a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a>) | m -&gt; w where <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#MonadAccum" class="link">Source</a> </p>
<p>The capability to accumulate. This can be seen in one of two ways:</p>
<ul>
<li>A <code><a href="control-monad-state-class.html#v:MonadState" title="Control.Monad.State.Class">MonadState</a></code> which can only append (using <code><a href="../base-4.21.0.0-8e62/data-monoid.html#v:-60--62-" title="Data.Monoid">&lt;&gt;</a></code>); or</li>
<li>A <code><a href="control-monad-writer-class.html#v:MonadWriter" title="Control.Monad.Writer.Class">MonadWriter</a></code> (limited to <code><a href="control-monad-writer-class.html#v:tell" title="Control.Monad.Writer.Class">tell</a></code>) with the ability to view the result of all previous <code><a href="control-monad-writer-class.html#v:tell" title="Control.Monad.Writer.Class">tell</a></code>s.</li>
</ul>
<h2>Laws</h2>
<p><code><a href="control-monad-accum.html#v:accum" title="Control.Monad.Accum">accum</a></code> should obey the following:</p>
<ol>
<li value="1">
<code class="inline-code"><a href="control-monad-accum.html#v:accum" title="Control.Monad.Accum">accum</a> (<a href="../base-4.21.0.0-8e62/data-function.html#v:const" title="Data.Function">const</a> (x, <a href="../base-4.21.0.0-8e62/data-monoid.html#v:mempty" title="Data.Monoid">mempty</a>))</code> <code class="inline-code">=</code> <code class="inline-code"><a href="../base-4.21.0.0-8e62/control-applicative.html#v:pure" title="Control.Applicative">pure</a> x</code>
</li>
<li value="2">
<code class="inline-code"><a href="control-monad-accum.html#v:accum" title="Control.Monad.Accum">accum</a> f <a href="../base-4.21.0.0-8e62/control-applicative.html#v:-42--62-" title="Control.Applicative">*&gt;</a> <a href="control-monad-accum.html#v:accum" title="Control.Monad.Accum">accum</a> g</code> <code class="inline-code">=</code> <code class="inline-code"><a href="control-monad-accum.html#v:accum" title="Control.Monad.Accum">accum</a> <a href="../base-4.21.0.0-8e62/data-function.html#v:-36-" title="Data.Function">$</a> acc -&gt; let (_, v) = f acc
                          (res, w) = g (acc <a href="../base-4.21.0.0-8e62/data-monoid.html#v:-60--62-" title="Data.Monoid">&lt;&gt;</a> v) in (res, v <a href="../base-4.21.0.0-8e62/data-monoid.html#v:-60--62-" title="Data.Monoid">&lt;&gt;</a> w)</code>
</li>
</ol>
<p>If you choose to define <code><a href="control-monad-accum.html#v:look" title="Control.Monad.Accum">look</a></code> and <code><a href="control-monad-accum.html#v:add" title="Control.Monad.Accum">add</a></code> instead, their definitions must obey the following:</p>
<ol>
<li value="1">
<code class="inline-code"><a href="control-monad-accum.html#v:look" title="Control.Monad.Accum">look</a> <a href="../base-4.21.0.0-8e62/control-applicative.html#v:-42--62-" title="Control.Applicative">*&gt;</a> <a href="control-monad-accum.html#v:look" title="Control.Monad.Accum">look</a></code> <code class="inline-code">=</code> <code class="inline-code"><a href="control-monad-accum.html#v:look" title="Control.Monad.Accum">look</a></code>
</li>
<li value="2">
<code class="inline-code"><a href="control-monad-accum.html#v:add" title="Control.Monad.Accum">add</a> <a href="../base-4.21.0.0-8e62/data-monoid.html#v:mempty" title="Data.Monoid">mempty</a></code> <code class="inline-code">=</code> <code class="inline-code"><a href="../base-4.21.0.0-8e62/control-applicative.html#v:pure" title="Control.Applicative">pure</a> ()</code>
</li>
<li value="3">
<code class="inline-code"><a href="control-monad-accum.html#v:add" title="Control.Monad.Accum">add</a> x <a href="../base-4.21.0.0-8e62/control-applicative.html#v:-42--62-" title="Control.Applicative">*&gt;</a> <a href="control-monad-accum.html#v:add" title="Control.Monad.Accum">add</a> y</code> <code class="inline-code">=</code> <code class="inline-code"><a href="control-monad-accum.html#v:add" title="Control.Monad.Accum">add</a> (x <a href="../base-4.21.0.0-8e62/data-monoid.html#v:-60--62-" title="Data.Monoid">&lt;&gt;</a> y)</code>
</li>
<li value="4">
<code class="inline-code"><a href="control-monad-accum.html#v:add" title="Control.Monad.Accum">add</a> x <a href="../base-4.21.0.0-8e62/control-applicative.html#v:-42--62-" title="Control.Applicative">*&gt;</a> <a href="control-monad-accum.html#v:look" title="Control.Monad.Accum">look</a></code> <code class="inline-code">=</code> <code class="inline-code"><a href="control-monad-accum.html#v:look" title="Control.Monad.Accum">look</a> <a href="../base-4.21.0.0-8e62/control-monad.html#v:-62--62--61-" title="Control.Monad">&gt;&gt;=</a> w -&gt; <a href="control-monad-accum.html#v:add" title="Control.Monad.Accum">add</a> x <a href="../base-4.21.0.0-8e62/data-functor.html#v:-36--62-" title="Data.Functor">$&gt;</a> w <a href="../base-4.21.0.0-8e62/data-monoid.html#v:-60--62-" title="Data.Monoid">&lt;&gt;</a> x</code>
</li>
</ol>
<p>If you want to define both, the relationship between them is as follows. These are also the default definitions.</p>
<ol>
<li value="1">
<code class="inline-code"><a href="control-monad-accum.html#v:look" title="Control.Monad.Accum">look</a></code> <code class="inline-code">=</code> <code class="inline-code"><a href="control-monad-accum.html#v:accum" title="Control.Monad.Accum">accum</a> <a href="../base-4.21.0.0-8e62/data-function.html#v:-36-" title="Data.Function">$</a> acc -&gt; (acc, mempty)</code>
</li>
<li value="2">
<code class="inline-code"><a href="control-monad-accum.html#v:add" title="Control.Monad.Accum">add</a> x</code> <code class="inline-code">=</code> <code class="inline-code"><a href="control-monad-accum.html#v:accum" title="Control.Monad.Accum">accum</a> <a href="../base-4.21.0.0-8e62/data-function.html#v:-36-" title="Data.Function">$</a> acc -&gt; ((), x)</code>
</li>
<li value="3">
<code class="inline-code"><a href="control-monad-accum.html#v:accum" title="Control.Monad.Accum">accum</a> f</code> <code class="inline-code">=</code> <code class="inline-code"><a href="control-monad-accum.html#v:look" title="Control.Monad.Accum">look</a> &gt;&gt;= acc -&gt; let (res, v) = f acc in <a href="control-monad-accum.html#v:add" title="Control.Monad.Accum">add</a> v <a href="../base-4.21.0.0-8e62/data-functor.html#v:-36--62-" title="Data.Functor">$&gt;</a> res</code>
</li>
</ol>
<p><span class="version">Since: mtl-2.3</span></p>
<div class="subs minimal">
<h4 class="caption">Minimal complete definition</h4>
<p class="src"><a href="control-monad-accum.html#v:accum" title="Control.Monad.Accum">accum</a> | <a href="control-monad-accum.html#v:look" title="Control.Monad.Accum">look</a>, <a href="control-monad-accum.html#v:add" title="Control.Monad.Accum">add</a></p>
</div>
<div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a id="v:look" class="def">look</a> :: m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p>Retrieve the accumulated result so far.</p>
<p class="src"><a id="v:add" class="def">add</a> :: w -&gt; m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p>Append a value to the result.</p>
<p class="src"><a id="v:accum" class="def">accum</a> :: (w -&gt; (a, w)) -&gt; m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
<p>Embed a simple accumulation action into the monad.</p>
</div>
<div class="subs instances">
<h5 class="instances details-toggle-control details-toggle" data-details-id="i:MonadAccum">Instances</h5>
<details id="i:MonadAccum" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-172" class="link">Source</a> </td>
<td class="doc">
<p>The accumulated value 'survives' an error: even if the computation fails to deliver a result, we still have an accumulated value.</p>
<p><span class="version">Since: mtl-2.3</span></p>
</td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a> t, <a href="../base-4.21.0.0-8e62/control-monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m) =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-300" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-accum.html#t:AccumT" title="Control.Monad.Trans.Accum">AccumT</a> w <a href="../base-4.21.0.0-8e62/data-functor-identity.html#t:Identity" title="Data.Functor.Identity">Identity</a>) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-163" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="../transformers-0.6.1.2-72bd/control-monad-trans-accum.html#t:AccumT" title="Control.Monad.Trans.Accum">AccumT</a> w <a href="../base-4.21.0.0-8e62/data-functor-identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-accum.html#t:AccumT" title="Control.Monad.Trans.Accum">AccumT</a> w <a href="../base-4.21.0.0-8e62/data-functor-identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-accum.html#t:AccumT" title="Control.Monad.Trans.Accum">AccumT</a> w <a href="../base-4.21.0.0-8e62/data-functor-identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="control-monad-except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-191" class="link">Source</a> </td>
<td class="doc">
<p>The accumulated value 'survives' an exception: even if the computation fails to deliver a result, we still have an accumulated value.</p>
<p><span class="version">Since: mtl-2.3</span></p>
</td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="control-monad-except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="control-monad-except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-198" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="../transformers-0.6.1.2-72bd/control-monad-trans-identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-226" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-select.html#t:SelectT" title="Control.Monad.Trans.Select">SelectT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-236" class="link">Source</a> </td>
<td class="doc">
<p>The 'ranking' function gains the ability to accumulate <code class="inline-code">w</code>s each time it is called. The final result will include the entire log of all such calls.</p>
<p><span class="version">Since: mtl-2.3</span></p>
</td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="../transformers-0.6.1.2-72bd/control-monad-trans-select.html#t:SelectT" title="Control.Monad.Trans.Select">SelectT</a> r m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-select.html#t:SelectT" title="Control.Monad.Trans.Select">SelectT</a> r m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-select.html#t:SelectT" title="Control.Monad.Trans.Select">SelectT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="control-monad-state-lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-243" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-state-lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="control-monad-state-lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="control-monad-state-lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="control-monad-state-strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-250" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-state-strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="control-monad-state-strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="control-monad-state-strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' (<a href="control-monad-writer-cps.html#t:WriterT" title="Control.Monad.Writer.CPS">WriterT</a> w m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-257" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-writer-cps.html#t:WriterT" title="Control.Monad.Writer.CPS">WriterT</a> w m w' <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w' -&gt; <a href="control-monad-writer-cps.html#t:WriterT" title="Control.Monad.Writer.CPS">WriterT</a> w m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w' -&gt; (a, w')) -&gt; <a href="control-monad-writer-cps.html#t:WriterT" title="Control.Monad.Writer.CPS">WriterT</a> w m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' m, <a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w) =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' (<a href="control-monad-writer-lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-264" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-writer-lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m w' <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w' -&gt; <a href="control-monad-writer-lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w' -&gt; (a, w')) -&gt; <a href="control-monad-writer-lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' m, <a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w) =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' (<a href="control-monad-writer-strict.html#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-271" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-writer-strict.html#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m w' <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w' -&gt; <a href="control-monad-writer-strict.html#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w' -&gt; (a, w')) -&gt; <a href="control-monad-writer-strict.html#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-181" class="link">Source</a> </td>
<td class="doc">
<p>The continuation can see, and interact with, the accumulated value.</p>
<p><span class="version">Since: mtl-2.3</span></p>
</td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' (<a href="control-monad-rws-cps.html#t:RWST" title="Control.Monad.RWS.CPS">RWST</a> r w s m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-205" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-rws-cps.html#t:RWST" title="Control.Monad.RWS.CPS">RWST</a> r w s m w' <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w' -&gt; <a href="control-monad-rws-cps.html#t:RWST" title="Control.Monad.RWS.CPS">RWST</a> r w s m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w' -&gt; (a, w')) -&gt; <a href="control-monad-rws-cps.html#t:RWST" title="Control.Monad.RWS.CPS">RWST</a> r w s m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' m, <a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w) =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' (<a href="control-monad-rws-lazy.html#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-212" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:15"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-rws-lazy.html#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m w' <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w' -&gt; <a href="control-monad-rws-lazy.html#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w' -&gt; (a, w')) -&gt; <a href="control-monad-rws-lazy.html#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' m, <a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w) =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w' (<a href="control-monad-rws-strict.html#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-219" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadAccum:MonadAccum:16"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-rws-strict.html#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m w' <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w' -&gt; <a href="control-monad-rws-strict.html#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w' -&gt; (a, w')) -&gt; <a href="control-monad-rws-strict.html#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
</table></details>
</div>
<a href="#g:2" id="g:2"><h2>Lifting helper type</h2></a><p class="src">newtype <a id="t:LiftingAccum" class="def">LiftingAccum</a> (t :: (<a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a>) (m :: <a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a>) a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#LiftingAccum" class="link">Source</a> </p>
<p>A helper type to decrease boilerplate when defining new transformer instances of <code><a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a></code>.</p>
<p>Most of the instances in this module are derived using this method; for example, our instance of <code><a href="control-monad-except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a></code> is derived as follows:</p>
<pre>deriving via (LiftingAccum (ExceptT e) m) instance (MonadAccum w m) =&gt;
 MonadAccum w (ExceptT e m)</pre>
<p><span class="version">Since: mtl-2.3</span></p>
<div class="subs constructors">
<h4 class="caption">Constructors</h4>
<table><tr>
<td class="src">
<a id="v:LiftingAccum" class="def">LiftingAccum</a> (t m a)</td>
<td class="doc empty"> </td>
</tr></table>
</div>
<div class="subs instances">
<h5 class="instances details-toggle-control details-toggle" data-details-id="i:LiftingAccum">Instances</h5>
<details id="i:LiftingAccum" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table>
<tr>
<td class="src clearfix">
 (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a> t, <a href="../base-4.21.0.0-8e62/control-monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m) =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-300" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:id:LiftingAccum:MonadAccum:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/control-applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (t m) =&gt; <a href="../base-4.21.0.0-8e62/control-applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-293" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:id:LiftingAccum:Applicative:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a </p>
<p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m (a -&gt; b) -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b </p>
<p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m c </p>
<p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b </p>
<p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/control-monad.html#t:Functor" title="Control.Monad">Functor</a> (t m) =&gt; <a href="../base-4.21.0.0-8e62/control-monad.html#t:Functor" title="Control.Monad">Functor</a> (<a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-291" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:id:LiftingAccum:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b </p>
<p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/control-monad.html#t:Monad" title="Control.Monad">Monad</a> (t m) =&gt; <a href="../base-4.21.0.0-8e62/control-monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-295" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:id:LiftingAccum:Monad:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a -&gt; (a -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b) -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b </p>
<p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m b </p>
<p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="control-monad-accum.html#t:LiftingAccum" title="Control.Monad.Accum">LiftingAccum</a> t m a </p>
</div></details></td></tr>
</table></details>
</div>
<a href="#g:3" id="g:3"><h2>Other functions</h2></a><p class="src"><a id="v:looks" class="def">looks</a> :: forall a m w. <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m =&gt; (w -&gt; a) -&gt; m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#looks" class="link">Source</a> </p>
<p>Retrieve a function of the accumulated value.</p>
<p><span class="version">Since: mtl-2.3</span></p>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/Control-Monad-Accum.html" class="_attribution-link">https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/Control-Monad-Accum.html</a>
  </p>
</div>
