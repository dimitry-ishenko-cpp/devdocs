<h1 class="caption">Control.Monad.Cont</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th valign="top">Copyright</th>
<td>(c) The University of Glasgow 2001<br>(c) Jeff Newbern 2003-2007<br>(c) Andriy Palamarchuk 2007</td>
</tr>
<tr>
<th>License</th>
<td>BSD-style (see the file LICENSE)</td>
</tr>
<tr>
<th>Maintainer</th>
<td>libraries@haskell.org</td>
</tr>
<tr>
<th>Stability</th>
<td>experimental</td>
</tr>
<tr>
<th>Portability</th>
<td>portable</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>Safe</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="table-of-contents"><div id="contents-list">
<h4 class="caption" onclick="window.scrollTo(0,0)">Contents</h4>
<ul>
<li><a href="#g:1">MonadCont class</a></li>
<li><a href="#g:2">The Cont monad</a></li>
<li><a href="#g:3">The ContT monad transformer</a></li>
<li><a href="#g:4">Example 1: Simple Continuation Usage</a></li>
<li><a href="#g:5">Example 2: Using <code class="inline-code">callCC</code></a></li>
<li><a href="#g:6">Example 3: Using <code class="inline-code">ContT</code> Monad Transformer</a></li>
<li><a href="#g:7">Example 4: Using <code class="inline-code">label</code></a></li>
</ul>
</div></div>
<div id="description">
<h4 class="caption">Description</h4>
<dl>
<dt>Computation type:</dt>
<dd>Computations which can be interrupted and resumed.</dd>
<dt>Binding strategy:</dt>
<dd>Binding a function to a monadic value creates a new continuation which uses the function as the continuation of the monadic computation.</dd>
<dt>Useful for:</dt>
<dd>Complex control structures, error handling, and creating co-routines.</dd>
<dt>Zero and plus:</dt>
<dd>None.</dd>
<dt>Example type:</dt>
<dd><code class="inline-code">Cont r a</code></dd>
</dl>
<p>The Continuation monad represents computations in continuation-passing style (CPS). In continuation-passing style function result is not returned, but instead is passed to another function, received as a parameter (continuation). Computations are built up from sequences of nested continuations, terminated by a final continuation (often <code class="inline-code">id</code>) which produces the final result. Since continuations are functions which represent the future of a computation, manipulation of the continuation functions can achieve complex manipulations of the future of the computation, such as interrupting a computation in the middle, aborting a portion of a computation, restarting a computation, and interleaving execution of computations. The Continuation monad adapts CPS to the structure of a monad.</p>
<p>Before using the Continuation monad, be sure that you have a firm understanding of continuation-passing style and that continuations represent the best solution to your particular design problem. Many algorithms which require continuations in other languages do not require them in Haskell, due to Haskell's lazy semantics. Abuse of the Continuation monad can produce code that is impossible to understand and maintain.</p>
</div>
<a href="#g:1" id="g:1"><h2>MonadCont class</h2></a><p class="src">class <a href="../base-4.21.0.0-8e62/control-monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a id="t:MonadCont" class="def">MonadCont</a> (m :: <a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a>) where <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#MonadCont" class="link">Source</a> </p>
<div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a id="v:callCC" class="def">callCC</a> :: ((a -&gt; m b) -&gt; m a) -&gt; m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
<p><code class="inline-code">callCC</code> (call-with-current-continuation) calls a function with the current continuation as its argument. Provides an escape continuation mechanism for use with Continuation monads. Escape continuations allow to abort the current computation and return a value immediately. They achieve a similar effect to <code><a href="control-monad-error-class.html#v:throwError" title="Control.Monad.Error.Class">throwError</a></code> and <code><a href="control-monad-error-class.html#v:catchError" title="Control.Monad.Error.Class">catchError</a></code> within an <code><a href="control-monad-except.html#v:Except" title="Control.Monad.Except">Except</a></code> monad. Advantage of this function over calling <code class="inline-code">return</code> is that it makes the continuation explicit, allowing more flexibility and better control (see examples in <a href="control-monad-cont.html">Control.Monad.Cont</a>).</p>
<p>The standard idiom used with <code class="inline-code">callCC</code> is to provide a lambda-expression to name the continuation. Then calling the named continuation anywhere within its scope will escape from the computation, even if it is many layers deep within nested computations.</p>
</div>
<div class="subs instances">
<h5 class="instances details-toggle-control details-toggle" data-details-id="i:MonadCont">Instances</h5>
<details id="i:MonadCont" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-129" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m b) -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m a) -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-maybe.html#t:MaybeT" title="Control.Monad.Trans.Maybe">MaybeT</a> m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-accum.html#t:AccumT" title="Control.Monad.Trans.Accum">AccumT</a> w m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-163" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-accum.html#t:AccumT" title="Control.Monad.Trans.Accum">AccumT</a> w m b) -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-accum.html#t:AccumT" title="Control.Monad.Trans.Accum">AccumT</a> w m a) -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-accum.html#t:AccumT" title="Control.Monad.Trans.Accum">AccumT</a> w m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-123" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.2</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m b) -&gt; <a href="control-monad-except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m a) -&gt; <a href="control-monad-except.html#t:ExceptT" title="Control.Monad.Except">ExceptT</a> e m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-126" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m b) -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m a) -&gt; <a href="../transformers-0.6.1.2-72bd/control-monad-trans-identity.html#t:IdentityT" title="Control.Monad.Trans.Identity">IdentityT</a> m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-132" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m b) -&gt; <a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m a) -&gt; <a href="control-monad-reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-state-lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-141" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-state-lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m b) -&gt; <a href="control-monad-state-lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m a) -&gt; <a href="control-monad-state-lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> s m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-state-strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-144" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-state-strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m b) -&gt; <a href="control-monad-state-strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m a) -&gt; <a href="control-monad-state-strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> s m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-writer-cps.html#t:WriterT" title="Control.Monad.Writer.CPS">WriterT</a> w m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-158" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-writer-cps.html#t:WriterT" title="Control.Monad.Writer.CPS">WriterT</a> w m b) -&gt; <a href="control-monad-writer-cps.html#t:WriterT" title="Control.Monad.Writer.CPS">WriterT</a> w m a) -&gt; <a href="control-monad-writer-cps.html#t:WriterT" title="Control.Monad.Writer.CPS">WriterT</a> w m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-writer-lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-147" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-writer-lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m b) -&gt; <a href="control-monad-writer-lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m a) -&gt; <a href="control-monad-writer-lazy.html#t:WriterT" title="Control.Monad.Writer.Lazy">WriterT</a> w m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-writer-strict.html#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-150" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-writer-strict.html#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m b) -&gt; <a href="control-monad-writer-strict.html#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m a) -&gt; <a href="control-monad-writer-strict.html#t:WriterT" title="Control.Monad.Writer.Strict">WriterT</a> w m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-116" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3.1</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-rws-cps.html#t:RWST" title="Control.Monad.RWS.CPS">RWST</a> r w s m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-154" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-rws-cps.html#t:RWST" title="Control.Monad.RWS.CPS">RWST</a> r w s m b) -&gt; <a href="control-monad-rws-cps.html#t:RWST" title="Control.Monad.RWS.CPS">RWST</a> r w s m a) -&gt; <a href="control-monad-rws-cps.html#t:RWST" title="Control.Monad.RWS.CPS">RWST</a> r w s m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-rws-lazy.html#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-135" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-rws-lazy.html#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m b) -&gt; <a href="control-monad-rws-lazy.html#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m a) -&gt; <a href="control-monad-rws-lazy.html#t:RWST" title="Control.Monad.RWS.Lazy">RWST</a> r w s m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 (<a href="../base-4.21.0.0-8e62/data-monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> w, <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m) =&gt; <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-rws-strict.html#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-138" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:ic:MonadCont:MonadCont:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-rws-strict.html#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m b) -&gt; <a href="control-monad-rws-strict.html#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m a) -&gt; <a href="control-monad-rws-strict.html#t:RWST" title="Control.Monad.RWS.Strict">RWST</a> r w s m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
</table></details>
</div>
<p class="src"><a id="v:label" class="def">label</a> :: <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; a -&gt; m (a -&gt; m b, a) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#label" class="link">Source</a> </p>
<p>Introduces a recursive binding to the continuation. Due to the use of <code class="inline-code">callCC</code>, calling the continuation will interrupt execution of the current block creating an effect similar to goto/setjmp in C.</p>
<p><span class="version">Since: mtl-2.3.1</span></p>
<p class="src"><a id="v:label_" class="def">label_</a> :: <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> m =&gt; m (m a) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#label_" class="link">Source</a> </p>
<p>Simplified version of <code><a href="control-monad-cont.html#v:label" title="Control.Monad.Cont">label</a></code> without arguments.</p>
<p><span class="version">Since: mtl-2.3.1</span></p>
<a href="#g:2" id="g:2"><h2>The Cont monad</h2></a><p class="src">type <a id="t:Cont" class="def">Cont</a> r = <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r <a href="../base-4.21.0.0-8e62/data-functor-identity.html#t:Identity" title="Data.Functor.Identity">Identity</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#Cont" class="link">Source</a> </p>
<p>Continuation monad. <code class="inline-code">Cont r a</code> is a CPS ("continuation-passing style") computation that produces an intermediate result of type <code class="inline-code">a</code> within a CPS computation whose final result type is <code class="inline-code">r</code>.</p>
<p>The <code class="inline-code">return</code> function simply creates a continuation which passes the value on.</p>
<p>The <code class="inline-code">&gt;&gt;=</code> operator adds the bound function into the continuation chain.</p>
<p class="src"><a id="v:cont" class="def">cont</a> :: ((a -&gt; r) -&gt; r) -&gt; <a href="control-monad-cont.html#t:Cont" title="Control.Monad.Cont">Cont</a> r a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#cont" class="link">Source</a> </p>
<p>Construct a continuation-passing computation from a function. (The inverse of <code><a href="control-monad-cont.html#v:runCont" title="Control.Monad.Cont">runCont</a></code>)</p>
<p class="src"><a id="v:runCont" class="def">runCont</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#runCont" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="control-monad-cont.html#t:Cont" title="Control.Monad.Cont">Cont</a> r a</td>
<td class="doc"><p>continuation computation (<code class="inline-code">Cont</code>).</p></td>
</tr>
<tr>
<td class="src">-&gt; (a -&gt; r)</td>
<td class="doc"><p>the final continuation, which produces the final result (often <code><a href="../base-4.21.0.0-8e62/data-function.html#v:id" title="Data.Function">id</a></code>).</p></td>
</tr>
<tr>
<td class="src">-&gt; r</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>The result of running a CPS computation with a given final continuation. (The inverse of <code><a href="control-monad-cont.html#v:cont" title="Control.Monad.Cont">cont</a></code>)</p>
<p class="src"><a id="v:evalCont" class="def">evalCont</a> :: <a href="control-monad-cont.html#t:Cont" title="Control.Monad.Cont">Cont</a> r r -&gt; r <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#evalCont" class="link">Source</a> </p>
<p>The result of running a CPS computation with the identity as the final continuation.</p>
<ul><li><pre><a href="control-monad-cont.html#v:evalCont" title="Control.Monad.Cont">evalCont</a> (<a href="../base-4.21.0.0-8e62/control-monad.html#v:return" title="Control.Monad">return</a> x) = x</pre></li></ul>
<p class="src"><a id="v:mapCont" class="def">mapCont</a> :: (r -&gt; r) -&gt; <a href="control-monad-cont.html#t:Cont" title="Control.Monad.Cont">Cont</a> r a -&gt; <a href="control-monad-cont.html#t:Cont" title="Control.Monad.Cont">Cont</a> r a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#mapCont" class="link">Source</a> </p>
<p>Apply a function to transform the result of a continuation-passing computation.</p>
<ul><li><pre><a href="control-monad-cont.html#v:runCont" title="Control.Monad.Cont">runCont</a> (<a href="control-monad-cont.html#v:mapCont" title="Control.Monad.Cont">mapCont</a> f m) = f . <a href="control-monad-cont.html#v:runCont" title="Control.Monad.Cont">runCont</a> m</pre></li></ul>
<p class="src"><a id="v:withCont" class="def">withCont</a> :: ((b -&gt; r) -&gt; a -&gt; r) -&gt; <a href="control-monad-cont.html#t:Cont" title="Control.Monad.Cont">Cont</a> r a -&gt; <a href="control-monad-cont.html#t:Cont" title="Control.Monad.Cont">Cont</a> r b <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#withCont" class="link">Source</a> </p>
<p>Apply a function to transform the continuation passed to a CPS computation.</p>
<ul><li><pre><a href="control-monad-cont.html#v:runCont" title="Control.Monad.Cont">runCont</a> (<a href="control-monad-cont.html#v:withCont" title="Control.Monad.Cont">withCont</a> f m) = <a href="control-monad-cont.html#v:runCont" title="Control.Monad.Cont">runCont</a> m . f</pre></li></ul>
<a href="#g:3" id="g:3"><h2>The ContT monad transformer</h2></a><p class="src">newtype <a id="t:ContT" class="def">ContT</a> (r :: k) (m :: k -&gt; <a href="../base-4.21.0.0-8e62/data-kind.html#t:Type" title="Data.Kind">Type</a>) a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#ContT" class="link">Source</a> </p>
<p>The continuation monad transformer. Can be used to add continuation handling to any type constructor: the <code><a href="../base-4.21.0.0-8e62/control-monad.html#t:Monad" title="Control.Monad">Monad</a></code> instance and most of the operations do not require <code class="inline-code">m</code> to be a monad.</p>
<p><code><a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a></code> is not a functor on the category of monads, and many operations cannot be lifted through it.</p>
<div class="subs constructors">
<h4 class="caption">Constructors</h4>
<table><tr>
<td class="src">
<a id="v:ContT" class="def">ContT</a> ((a -&gt; m r) -&gt; m r)</td>
<td class="doc empty"> </td>
</tr></table>
</div>
<div class="subs instances">
<h5 class="instances details-toggle-control details-toggle" data-details-id="i:ContT">Instances</h5>
<details id="i:ContT" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table>
<tr>
<td class="src clearfix">
 <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w m =&gt; <a href="control-monad-accum.html#t:MonadAccum" title="Control.Monad.Accum">MonadAccum</a> w (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#line-181" class="link">Source</a> </td>
<td class="doc">
<p>The continuation can see, and interact with, the accumulated value.</p>
<p><span class="version">Since: mtl-2.3</span></p>
</td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadAccum:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-accum.html">Control.Monad.Accum</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:look">look</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m w <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#look" class="link">Source</a> </p>
<p class="src"><a href="#v:add">add</a> :: w -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#add" class="link">Source</a> </p>
<p class="src"><a href="#v:accum">accum</a> :: (w -&gt; (a, w)) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Accum.html#accum" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-reader-class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> r' m =&gt; <a href="control-monad-reader-class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> r' (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Reader.Class.html#line-139" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadReader:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-reader-class.html">Control.Monad.Reader.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:ask">ask</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m r' <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Reader.Class.html#ask" class="link">Source</a> </p>
<p class="src"><a href="#v:local">local</a> :: (r' -&gt; r') -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Reader.Class.html#local" class="link">Source</a> </p>
<p class="src"><a href="#v:reader">reader</a> :: (r' -&gt; a) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Reader.Class.html#reader" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-select.html#t:MonadSelect" title="Control.Monad.Select">MonadSelect</a> r' m =&gt; <a href="control-monad-select.html#t:MonadSelect" title="Control.Monad.Select">MonadSelect</a> r' (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Select.html#line-144" class="link">Source</a> </td>
<td class="doc">
<p>The continuation describes a way of choosing a 'search' or 'ranking' strategy for <code class="inline-code">r</code>, based on a 'ranking' using <code class="inline-code">r'</code>, given any <code class="inline-code">a</code>. We then get a 'search' strategy for <code class="inline-code">r</code>.</p>
<p><span class="version">Since: mtl-2.3</span></p>
</td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadSelect:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-select.html">Control.Monad.Select</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:select">select</a> :: ((a -&gt; r') -&gt; a) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Select.html#select" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-state-class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s m =&gt; <a href="control-monad-state-class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> s (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.State.Class.html#line-139" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadState:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-state-class.html">Control.Monad.State.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:get">get</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m s <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.State.Class.html#get" class="link">Source</a> </p>
<p class="src"><a href="#v:put">put</a> :: s -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.State.Class.html#put" class="link">Source</a> </p>
<p class="src"><a href="#v:state">state</a> :: (s -&gt; (a, s)) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.State.Class.html#state" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../transformers-0.6.1.2-72bd/control-monad-trans-class.html#t:MonadTrans" title="Control.Monad.Trans.Class">MonadTrans</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#line-199" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadTrans:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.6.1.2-72bd/control-monad-trans-cont.html">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:lift">lift</a> :: <a href="../base-4.21.0.0-8e62/control-monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Class.html#lift" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/control-applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#line-177" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:Applicative:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.6.1.2-72bd/control-monad-trans-cont.html">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a </p>
<p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m (a -&gt; b) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b </p>
<p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m c </p>
<p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b </p>
<p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/control-monad.html#t:Functor" title="Control.Monad">Functor</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#line-173" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:Functor:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.6.1.2-72bd/control-monad-trans-cont.html">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b </p>
<p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/control-monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#line-185" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:Monad:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.6.1.2-72bd/control-monad-trans-cont.html">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; (a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b </p>
<p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b </p>
<p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/control-monad.html#t:MonadFail" title="Control.Monad">MonadFail</a> m =&gt; <a href="../base-4.21.0.0-8e62/control-monad.html#t:MonadFail" title="Control.Monad">MonadFail</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#line-194" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadFail:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.6.1.2-72bd/control-monad-trans-cont.html">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:fail">fail</a> :: <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/control-monad-io-class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../base-4.21.0.0-8e62/control-monad-io-class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#line-203" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadIO:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.6.1.2-72bd/control-monad-trans-cont.html">Control.Monad.Trans.Cont</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="control-monad-cont.html#t:MonadCont" title="Control.Monad.Cont">MonadCont</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#line-116" class="link">Source</a> </td>
<td class="doc"><p><span class="version">Since: mtl-2.3.1</span></p></td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:MonadCont:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="control-monad-cont-class.html">Control.Monad.Cont.Class</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:callCC">callCC</a> :: ((a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/src/Control.Monad.Cont.Class.html#callCC" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/ghc-generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#line-144" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:Generic:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.6.1.2-72bd/control-monad-trans-cont.html">Control.Monad.Trans.Cont</a></p> <div class="subs associated-types">
<h4 class="caption">Associated Types</h4>
<table>
<tr>
<td class="src clearfix">
 type <a href="../base-4.21.0.0-8e62/ghc-generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a)</td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:if:Rep_ContT:Rep:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.6.1.2-72bd/control-monad-trans-cont.html">Control.Monad.Trans.Cont</a></p> <div class="src">type <a href="../base-4.21.0.0-8e62/ghc-generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a) = <a href="../base-4.21.0.0-8e62/ghc-generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:MetaData" title="GHC.Generics">MetaData</a> "ContT" "Control.Monad.Trans.Cont" "transformers-0.6.1.2-72bd" '<a href="../base-4.21.0.0-8e62/data-bool.html#v:True" title="Data.Bool">True</a>) (<a href="../base-4.21.0.0-8e62/ghc-generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> "ContT" '<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../base-4.21.0.0-8e62/data-bool.html#v:True" title="Data.Bool">True</a>) (<a href="../base-4.21.0.0-8e62/ghc-generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="../base-4.21.0.0-8e62/data-maybe.html#v:Just" title="Data.Maybe">Just</a> "runContT") '<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="../base-4.21.0.0-8e62/ghc-generics.html#t:Rec0" title="GHC.Generics">Rec0</a> ((a -&gt; m r) -&gt; m r))))</div></details></td></tr>
</table>
</div> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:from">from</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="../base-4.21.0.0-8e62/ghc-generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a) x </p>
<p class="src"><a href="#v:to">to</a> :: <a href="../base-4.21.0.0-8e62/ghc-generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a) x -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 type <a href="../base-4.21.0.0-8e62/ghc-generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#line-" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:ContT:Rep:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../transformers-0.6.1.2-72bd/control-monad-trans-cont.html">Control.Monad.Trans.Cont</a></p> <div class="src">type <a href="../base-4.21.0.0-8e62/ghc-generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a) = <a href="../base-4.21.0.0-8e62/ghc-generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:MetaData" title="GHC.Generics">MetaData</a> "ContT" "Control.Monad.Trans.Cont" "transformers-0.6.1.2-72bd" '<a href="../base-4.21.0.0-8e62/data-bool.html#v:True" title="Data.Bool">True</a>) (<a href="../base-4.21.0.0-8e62/ghc-generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> "ContT" '<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../base-4.21.0.0-8e62/data-bool.html#v:True" title="Data.Bool">True</a>) (<a href="../base-4.21.0.0-8e62/ghc-generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="../base-4.21.0.0-8e62/data-maybe.html#v:Just" title="Data.Maybe">Just</a> "runContT") '<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="../base-4.21.0.0-8e62/ghc-generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="../base-4.21.0.0-8e62/ghc-generics.html#t:Rec0" title="GHC.Generics">Rec0</a> ((a -&gt; m r) -&gt; m r))))</div></details></td></tr>
</table></details>
</div>
<p class="src"><a id="v:runContT" class="def">runContT</a> :: <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; (a -&gt; m r) -&gt; m r <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#runContT" class="link">Source</a> </p>
<p class="src"><a id="v:evalContT" class="def">evalContT</a> :: <a href="../base-4.21.0.0-8e62/control-monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m r -&gt; m r <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#evalContT" class="link">Source</a> </p>
<p>The result of running a CPS computation with <code><a href="../base-4.21.0.0-8e62/control-monad.html#v:return" title="Control.Monad">return</a></code> as the final continuation.</p>
<ul><li><pre><a href="control-monad-cont.html#v:evalContT" title="Control.Monad.Cont">evalContT</a> (<a href="../transformers-0.6.1.2-72bd/control-monad-trans-class.html#v:lift" title="Control.Monad.Trans.Class">lift</a> m) = m</pre></li></ul>
<p class="src"><a id="v:mapContT" class="def">mapContT</a> :: forall {k} m (r :: k) a. (m r -&gt; m r) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#mapContT" class="link">Source</a> </p>
<p>Apply a function to transform the result of a continuation-passing computation. This has a more restricted type than the <code class="inline-code">map</code> operations for other monad transformers, because <code><a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a></code> does not define a functor in the category of monads.</p>
<ul><li><pre><a href="control-monad-cont.html#v:runContT" title="Control.Monad.Cont">runContT</a> (<a href="control-monad-cont.html#v:mapContT" title="Control.Monad.Cont">mapContT</a> f m) = f . <a href="control-monad-cont.html#v:runContT" title="Control.Monad.Cont">runContT</a> m</pre></li></ul>
<p class="src"><a id="v:withContT" class="def">withContT</a> :: forall {k} b m (r :: k) a. ((b -&gt; m r) -&gt; a -&gt; m r) -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m a -&gt; <a href="control-monad-cont.html#t:ContT" title="Control.Monad.Cont">ContT</a> r m b <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/transformers-0.6.1.2-72bd/src/Control.Monad.Trans.Cont.html#withContT" class="link">Source</a> </p>
<p>Apply a function to transform the continuation passed to a CPS computation.</p>
<ul><li><pre><a href="control-monad-cont.html#v:runContT" title="Control.Monad.Cont">runContT</a> (<a href="control-monad-cont.html#v:withContT" title="Control.Monad.Cont">withContT</a> f m) = <a href="control-monad-cont.html#v:runContT" title="Control.Monad.Cont">runContT</a> m . f</pre></li></ul>
<a href="#g:4" id="g:4"><h2>Example 1: Simple Continuation Usage</h2></a><p>Calculating length of a list continuation-style:</p>
<pre>calculateLength :: [a] -&gt; Cont r Int
calculateLength l = return (length l)</pre>
<p>Here we use <code class="inline-code">calculateLength</code> by making it to pass its result to <code class="inline-code">print</code>:</p>
<pre>main = do
  runCont (calculateLength "123") print
  -- result: 3</pre>
<p>It is possible to chain <code class="inline-code">Cont</code> blocks with <code class="inline-code">&gt;&gt;=</code>.</p>
<pre>double :: Int -&gt; Cont r Int
double n = return (n * 2)

main = do
  runCont (calculateLength "123" &gt;&gt;= double) print
  -- result: 6</pre>
<a href="#g:5" id="g:5"><h2>Example 2: Using callCC</h2></a><p>This example gives a taste of how escape continuations work, shows a typical pattern for their usage.</p>
<pre>-- Returns a string depending on the length of the name parameter.
-- If the provided string is empty, returns an error.
-- Otherwise, returns a welcome message.
whatsYourName :: String -&gt; String
whatsYourName name =
  (`runCont` id) $ do                      -- 1
    response &lt;- callCC $ \exit -&gt; do       -- 2
      validateName name exit               -- 3
      return $ "Welcome, " ++ name ++ "!"  -- 4
    return response                        -- 5

validateName name exit = do
  when (null name) (exit "You forgot to tell me your name!")</pre>
<p>Here is what this example does:</p>
<ol>
<li value="1">Runs an anonymous <code class="inline-code">Cont</code> block and extracts value from it with <code class="inline-code">(`runCont` id)</code>. Here <code class="inline-code">id</code> is the continuation, passed to the <code class="inline-code">Cont</code> block.</li>
<li value="1">Binds <code class="inline-code">response</code> to the result of the following <code><a href="control-monad-cont-class.html#v:callCC" title="Control.Monad.Cont.Class">callCC</a></code> block, binds <code class="inline-code">exit</code> to the continuation.</li>
<li value="1">Validates <code class="inline-code">name</code>. This approach illustrates advantage of using <code><a href="control-monad-cont-class.html#v:callCC" title="Control.Monad.Cont.Class">callCC</a></code> over <code class="inline-code">return</code>. We pass the continuation to <code class="inline-code">validateName</code>, and interrupt execution of the <code class="inline-code">Cont</code> block from <em>inside</em> of <code class="inline-code">validateName</code>.</li>
<li value="1">Returns the welcome message from the <code><a href="control-monad-cont-class.html#v:callCC" title="Control.Monad.Cont.Class">callCC</a></code> block. This line is not executed if <code class="inline-code">validateName</code> fails.</li>
<li value="1">Returns from the <code class="inline-code">Cont</code> block.</li>
</ol>
<a href="#g:6" id="g:6"><h2>Example 3: Using ContT Monad Transformer</h2></a><p><code class="inline-code">ContT</code> can be used to add continuation handling to other monads. Here is an example how to combine it with <code class="inline-code">IO</code> monad:</p>
<pre>import Control.Monad.Cont
import System.IO

main = do
  hSetBuffering stdout NoBuffering
  runContT (callCC askString) reportResult

askString :: (String -&gt; ContT () IO String) -&gt; ContT () IO String
askString next = do
  liftIO $ putStrLn "Please enter a string"
  s &lt;- liftIO $ getLine
  next s

reportResult :: String -&gt; IO ()
reportResult s = do
  putStrLn ("You entered: " ++ s)</pre>
<p>Action <code class="inline-code">askString</code> requests user to enter a string, and passes it to the continuation. <code class="inline-code">askString</code> takes as a parameter a continuation taking a string parameter, and returning <code class="inline-code">IO ()</code>. Compare its signature to <code class="inline-code">runContT</code> definition.</p>
<a href="#g:7" id="g:7"><h2>Example 4: Using label</h2></a><p>The early exit behavior of <code><a href="control-monad-cont-class.html#v:callCC" title="Control.Monad.Cont.Class">callCC</a></code> can be leveraged to produce other idioms:</p>
<pre>whatsYourNameLabel :: IO ()
whatsYourNameLabel = evalContT $ do
  (beginning, attempts) &lt;- label (0 :: Int)
  liftIO $ putStrLn $ "Attempt #" &lt;&gt; show attempts
  liftIO $ putStrLn $ "What's your name?"
  name &lt;- liftIO getLine
  when (null name) $ beginning (attempts + 1)
  liftIO $ putStrLn $ "Welcome, " ++ name ++ "!"</pre>
<p>Calling <code class="inline-code">beggining</code> will interrupt execution of the block, skipping the welcome message, which will be printed only once at the very end of the loop.</p>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/Control-Monad-Cont.html" class="_attribution-link">https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/mtl-2.3.1-a17d/Control-Monad-Cont.html</a>
  </p>
</div>
