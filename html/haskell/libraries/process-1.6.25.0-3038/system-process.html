<h1 class="caption">System.Process</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th valign="top">Copyright</th>
<td>(c) The University of Glasgow 2004-2008</td>
</tr>
<tr>
<th>License</th>
<td>BSD-style (see the file libraries/base/LICENSE)</td>
</tr>
<tr>
<th>Maintainer</th>
<td>libraries@haskell.org</td>
</tr>
<tr>
<th>Stability</th>
<td>experimental</td>
</tr>
<tr>
<th>Portability</th>
<td>non-portable (requires concurrency)</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>Safe</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="table-of-contents"><div id="contents-list">
<h4 class="caption" onclick="window.scrollTo(0,0)">Contents</h4>
<ul>
<li>
<a href="#g:1">Running sub-processes</a><ul>
<li><a href="#g:2">Simpler functions for common tasks</a></li>
<li><a href="#g:3">Related utilities</a></li>
<li><a href="#g:4">Secure process creation on Windows</a></li>
<li><a href="#g:5">Control-C handling on Unix</a></li>
</ul>
</li>
<li>
<a href="#g:6">Process completion</a><ul><li><a href="#g:7">Notes about <code class="inline-code">exec</code> on Windows</a></li></ul>
</li>
<li><a href="#g:8">Interprocess communication</a></li>
<li><a href="#g:9">Old deprecated functions</a></li>
</ul>
</div></div>
<div id="description">
<h4 class="caption">Description</h4>
<p>Operations for creating and interacting with sub-processes.</p>
</div>
<a href="#g:1" id="g:1"><h2>Running sub-processes</h2></a><p class="src"><a id="v:createProcess" class="def">createProcess</a> :: <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a>) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#createProcess" class="link">Source</a> </p>
<p>This is the most general way to spawn an external process. The process can be a command line to be executed by a shell or a raw command with a list of arguments. The stdin, stdout, and stderr streams of the new process may individually be attached to new pipes, to existing <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>s, or just inherited from the parent (the default.)</p>
<p>The details of how to create the process are passed in the <code><a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a></code> record. To make it easier to construct a <code><a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a></code>, the functions <code><a href="system-process.html#v:proc" title="System.Process">proc</a></code> and <code><a href="system-process.html#v:shell" title="System.Process">shell</a></code> are supplied that fill in the fields with default values which can be overriden as needed.</p>
<p><code><a href="system-process.html#v:createProcess" title="System.Process">createProcess</a></code> returns <code class="inline-code">(<em>mb_stdin_hdl</em>, <em>mb_stdout_hdl</em>, <em>mb_stderr_hdl</em>, <em>ph</em>)</code>, where</p>
<ul>
<li>if <code class="inline-code"><a href="system-process.html#v:std_in" title="System.Process">std_in</a> == <a href="system-process.html#v:CreatePipe" title="System.Process">CreatePipe</a></code>, then <code class="inline-code"><em>mb_stdin_hdl</em></code> will be <code class="inline-code">Just <em>h</em></code>, where <code class="inline-code"><em>h</em></code> is the write end of the pipe connected to the child process's <code class="inline-code">stdin</code>.</li>
<li>otherwise, <code class="inline-code"><em>mb_stdin_hdl</em> == Nothing</code>
</li>
</ul>
<p>Similarly for <code class="inline-code"><em>mb_stdout_hdl</em></code> and <code class="inline-code"><em>mb_stderr_hdl</em></code>.</p>
<p>For example, to execute a simple <code class="inline-code">ls</code> command:</p>
<pre>  r &lt;- createProcess (proc "ls" [])</pre>
<p>To create a pipe from which to read the output of <code class="inline-code">ls</code>:</p>
<pre>  (_, Just hout, _, _) &lt;-
      createProcess (proc "ls" []){ std_out = CreatePipe }</pre>
<p>To also set the directory in which to run <code class="inline-code">ls</code>:</p>
<pre>  (_, Just hout, _, _) &lt;-
      createProcess (proc "ls" []){ cwd = Just "/home/bob",
                                    std_out = CreatePipe }</pre>
<p>Note that <code class="inline-code">Handle</code>s provided for <code class="inline-code">std_in</code>, <code class="inline-code">std_out</code>, or <code class="inline-code">std_err</code> via the <code class="inline-code">UseHandle</code> constructor will be closed by calling this function. This is not always the desired behavior. In cases where you would like to leave the <code class="inline-code">Handle</code> open after spawning the child process, please use <code><a href="system-process.html#v:createProcess_" title="System.Process">createProcess_</a></code> instead. All created <code class="inline-code">Handle</code>s are initially in text mode; if you need them to be in binary mode then use <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#v:hSetBinaryMode" title="GHC.IO.Handle">hSetBinaryMode</a></code>.</p>
<p><code class="inline-code"><em>ph</em></code> contains a handle to the running process. On Windows <code><a href="system-process.html#v:use_process_jobs" title="System.Process">use_process_jobs</a></code> can be set in CreateProcess in order to create a Win32 Job object to monitor a process tree's progress. If it is set then that job is also returned inside <code class="inline-code"><em>ph</em></code>. <code class="inline-code"><em>ph</em></code> can be used to kill all running sub-processes. This feature has been available since 1.5.0.0.</p>
<p class="src"><a id="v:createProcess_" class="def">createProcess_</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Internals.html#createProcess_" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>
</td>
<td class="doc">
<p>Function name (for error messages).</p>
<p>This can be any <code><a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a></code>, but will typically be the name of the caller. E.g., <code class="inline-code">spawnProcess</code> passes <code class="inline-code">"spawnProcess"</code> here when calling <code><a href="system-process.html#v:createProcess_" title="System.Process">createProcess_</a></code>.</p>
</td>
</tr>
<tr>
<td class="src">-&gt; <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a>
</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a>)</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>This function is almost identical to <code><a href="system-process.html#v:createProcess" title="System.Process">createProcess</a></code>. The only differences are:</p>
<ul>
<li>
<code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>s provided via <code><a href="system-process.html#v:UseHandle" title="System.Process">UseHandle</a></code> are not closed automatically.</li>
<li>This function takes an extra <code class="inline-code">String</code> argument to be used in creating error messages.</li>
</ul>
<p>This function has been available from the <a href="system-process-internals.html">System.Process.Internals</a> module for some time, and is part of the <a href="system-process.html">System.Process</a> module since version 1.2.1.0.</p>
<p><span class="version">Since: process-1.2.1.0</span></p>
<p class="src"><a id="v:shell" class="def">shell</a> :: <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#shell" class="link">Source</a> </p>
<p>Construct a <code><a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a></code> record for passing to <code><a href="system-process.html#v:createProcess" title="System.Process">createProcess</a></code>, representing a command to be passed to the shell.</p>
<p class="src"><a id="v:proc" class="def">proc</a> :: <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a> -&gt; [<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>] -&gt; <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#proc" class="link">Source</a> </p>
<p>Construct a <code><a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a></code> record for passing to <code><a href="system-process.html#v:createProcess" title="System.Process">createProcess</a></code>, representing a raw command with arguments.</p>
<p>See <code><a href="system-process.html#v:RawCommand" title="System.Process">RawCommand</a></code> for precise semantics of the specified <code class="inline-code">FilePath</code>.</p>
<p class="src">data <a id="t:CreateProcess" class="def">CreateProcess</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#CreateProcess" class="link">Source</a> </p>
<div class="subs constructors">
<h4 class="caption">Constructors</h4>
<table>
<tr>
<td class="src"><a id="v:CreateProcess" class="def">CreateProcess</a></td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><div class="subs fields">
<h4 class="caption">Fields</h4>
<ul>
<li>
<dfn class="src"><a id="v:cmdspec" class="def">cmdspec</a> :: <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a></dfn><p>Executable &amp; arguments, or shell command. If <code><a href="system-process.html#v:cwd" title="System.Process">cwd</a></code> is <code><a href="../base-4.21.0.0-8e62/data-maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>, relative paths are resolved with respect to the current working directory. If <code><a href="system-process.html#v:cwd" title="System.Process">cwd</a></code> is provided, it is implementation-dependent whether relative paths are resolved with respect to <code><a href="system-process.html#v:cwd" title="System.Process">cwd</a></code> or the current working directory, so absolute paths should be used to ensure portability.</p>
</li>
<li>
<dfn class="src"><a id="v:cwd" class="def">cwd</a> :: <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a></dfn><p>Optional path to the working directory for the new process</p>
</li>
<li>
<dfn class="src"><a id="v:env" class="def">env</a> :: <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [(<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>, <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>)]</dfn><p>Optional environment (otherwise inherit from the current process)</p>
</li>
<li>
<dfn class="src"><a id="v:std_in" class="def">std_in</a> :: <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a></dfn><p>How to determine stdin</p>
</li>
<li>
<dfn class="src"><a id="v:std_out" class="def">std_out</a> :: <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a></dfn><p>How to determine stdout</p>
</li>
<li>
<dfn class="src"><a id="v:std_err" class="def">std_err</a> :: <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a></dfn><p>How to determine stderr</p>
</li>
<li>
<dfn class="src"><a id="v:close_fds" class="def">close_fds</a> :: <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><p>Close all file descriptors except stdin, stdout and stderr in the new process (on Windows, only works if std_in, std_out, and std_err are all Inherit). This implementation will call close on every fd from 3 to the maximum of open files, which can be slow for high maximum of open files. XXX verify what happens with fds in nodejs child processes</p>
</li>
<li>
<dfn class="src"><a id="v:create_group" class="def">create_group</a> :: <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><p>Create a new process group. On JavaScript this also creates a new session.</p>
</li>
<li>
<dfn class="src"><a id="v:delegate_ctlc" class="def">delegate_ctlc</a> :: <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><p>Delegate control-C handling. Use this for interactive console processes to let them handle control-C themselves (see below for details).</p>
<p><span class="version">Since: process-1.2.0.0</span></p>
</li>
<li>
<dfn class="src"><a id="v:detach_console" class="def">detach_console</a> :: <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><p>Use the windows DETACHED_PROCESS flag when creating the process; does nothing on other platforms.</p>
<p><span class="version">Since: process-1.3.0.0</span></p>
</li>
<li>
<dfn class="src"><a id="v:create_new_console" class="def">create_new_console</a> :: <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><p>Use the windows CREATE_NEW_CONSOLE flag when creating the process; does nothing on other platforms.</p>
<p>Default: <code class="inline-code">False</code></p>
<p><span class="version">Since: process-1.3.0.0</span></p>
</li>
<li>
<dfn class="src"><a id="v:new_session" class="def">new_session</a> :: <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><p>Use posix setsid to start the new process in a new session; starts process in a new session on JavaScript; does nothing on other platforms.</p>
<p><span class="version">Since: process-1.3.0.0</span></p>
</li>
<li>
<dfn class="src"><a id="v:child_group" class="def">child_group</a> :: <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="system-process-internals.html#t:GroupID" title="System.Process.Internals">GroupID</a></dfn><p>Use posix setgid to set child process's group id; works for JavaScript when system running nodejs is posix. does nothing on other platforms.</p>
<p>Default: <code class="inline-code">Nothing</code></p>
<p><span class="version">Since: process-1.4.0.0</span></p>
</li>
<li>
<dfn class="src"><a id="v:child_user" class="def">child_user</a> :: <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="system-process-internals.html#t:UserID" title="System.Process.Internals">UserID</a></dfn><p>Use posix setuid to set child process's user id; works for JavaScript when system running nodejs is posix. does nothing on other platforms.</p>
<p>Default: <code class="inline-code">Nothing</code></p>
<p><span class="version">Since: process-1.4.0.0</span></p>
</li>
<li>
<dfn class="src"><a id="v:use_process_jobs" class="def">use_process_jobs</a> :: <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><p>On Windows systems this flag indicates that we should wait for the entire process tree to finish before unblocking. On POSIX systems this flag is ignored. See $exec-on-windows for details.</p>
<p>Default: <code class="inline-code">False</code></p>
<p><span class="version">Since: process-1.5.0.0</span></p>
</li>
</ul>
</div></td></tr>
</table>
</div>
<div class="subs instances">
<h5 class="instances details-toggle-control details-toggle" data-details-id="i:CreateProcess">Instances</h5>
<details id="i:CreateProcess" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/prelude.html#t:Show" title="Prelude">Show</a> <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#line-132" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:CreateProcess:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="system-process-common.html">System.Process.Common</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.21.0.0-8e62/data-int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:ShowS" title="Prelude">ShowS</a> </p>
<p class="src"><a href="#v:show">show</a> :: <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> -&gt; <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> </p>
<p class="src"><a href="#v:showList">showList</a> :: [<a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a>] -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:ShowS" title="Prelude">ShowS</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/data-eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#line-132" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:CreateProcess:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="system-process-common.html">System.Process.Common</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> -&gt; <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> -&gt; <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a> </p>
<p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> -&gt; <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> -&gt; <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a> </p>
</div></details></td></tr>
</table></details>
</div>
<p class="src">data <a id="t:CmdSpec" class="def">CmdSpec</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#CmdSpec" class="link">Source</a> </p>
<div class="subs constructors">
<h4 class="caption">Constructors</h4>
<table>
<tr>
<td class="src">
<a id="v:ShellCommand" class="def">ShellCommand</a> <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>
</td>
<td class="doc"><p>A command line to execute using the shell</p></td>
</tr>
<tr>
<td class="src">
<a id="v:RawCommand" class="def">RawCommand</a> <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a> [<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>]</td>
<td class="doc">
<p>The name of an executable with a list of arguments</p>
<p>The <code><a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a></code> argument names the executable, and is interpreted according to the platform's standard policy for searching for executables. Specifically:</p>
<ul>
<li>on Unix systems the <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/execvp.html">execvp(3)</a> semantics is used, where if the executable filename does not contain a slash (<code class="inline-code">/</code>) then the <code class="inline-code">PATH</code> environment variable is searched for the executable.</li>
<li>on Windows systems the Win32 <code class="inline-code">CreateProcess</code> semantics is used. Briefly: if the filename does not contain a path, then the directory containing the parent executable is searched, followed by the current directory, then some standard locations, and finally the current <code class="inline-code">PATH</code>. An <code class="inline-code">.exe</code> extension is added if the filename does not already have an extension. For full details see the <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365527%28v=vs.85%29.aspx">documentation</a> for the Windows <code class="inline-code">SearchPath</code> API.</li>
</ul>
<p>Windows does not have a mechanism for passing multiple arguments. When using <code class="inline-code">RawCommand</code> on Windows, the command line is serialised into a string, with arguments quoted separately. Command line parsing is up individual programs, so the default behaviour may not work for some programs. If you are not getting the desired results, construct the command line yourself and use <code><a href="system-process.html#v:ShellCommand" title="System.Process">ShellCommand</a></code>.</p>
</td>
</tr>
</table>
</div>
<div class="subs instances">
<h5 class="instances details-toggle-control details-toggle" data-details-id="i:CmdSpec">Instances</h5>
<details id="i:CmdSpec" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/data-string.html#t:IsString" title="Data.String">IsString</a> <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#line-181" class="link">Source</a> </td>
<td class="doc">
<p>construct a <code><a href="system-process.html#v:ShellCommand" title="System.Process">ShellCommand</a></code> from a string literal</p>
<p><span class="version">Since: process-1.2.1.0</span></p>
</td>
</tr>
<tr><td colspan="2"><details id="i:id:CmdSpec:IsString:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="system-process-common.html">System.Process.Common</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:fromString">fromString</a> :: <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/prelude.html#t:Show" title="Prelude">Show</a> <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#line-175" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:CmdSpec:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="system-process-common.html">System.Process.Common</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.21.0.0-8e62/data-int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:ShowS" title="Prelude">ShowS</a> </p>
<p class="src"><a href="#v:show">show</a> :: <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a> -&gt; <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> </p>
<p class="src"><a href="#v:showList">showList</a> :: [<a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a>] -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:ShowS" title="Prelude">ShowS</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/data-eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#line-175" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:CmdSpec:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="system-process-common.html">System.Process.Common</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a> -&gt; <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a> -&gt; <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a> </p>
<p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a> -&gt; <a href="system-process.html#t:CmdSpec" title="System.Process">CmdSpec</a> -&gt; <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a> </p>
</div></details></td></tr>
</table></details>
</div>
<p class="src">data <a id="t:StdStream" class="def">StdStream</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#StdStream" class="link">Source</a> </p>
<div class="subs constructors">
<h4 class="caption">Constructors</h4>
<table>
<tr>
<td class="src"><a id="v:Inherit" class="def">Inherit</a></td>
<td class="doc"><p>Inherit Handle from parent</p></td>
</tr>
<tr>
<td class="src">
<a id="v:UseHandle" class="def">UseHandle</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>
</td>
<td class="doc"><p>Use the supplied Handle</p></td>
</tr>
<tr>
<td class="src"><a id="v:CreatePipe" class="def">CreatePipe</a></td>
<td class="doc"><p>Create a new pipe. The returned <code class="inline-code">Handle</code> will use the default encoding and newline translation mode (just like <code class="inline-code">Handle</code>s created by <code class="inline-code">openFile</code>).</p></td>
</tr>
<tr>
<td class="src"><a id="v:NoStream" class="def">NoStream</a></td>
<td class="doc"><p>Close the stream's file descriptor without passing a Handle. On POSIX systems this may lead to strange behavior in the child process because attempting to read or write after the file has been closed throws an error. This should only be used with child processes that don't use the file descriptor at all. If you wish to ignore the child process's output you should either create a pipe and drain it manually or pass a <code class="inline-code">Handle</code> that writes to <code class="inline-code">/dev/null</code>.</p></td>
</tr>
</table>
</div>
<div class="subs instances">
<h5 class="instances details-toggle-control details-toggle" data-details-id="i:StdStream">Instances</h5>
<details id="i:StdStream" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/prelude.html#t:Show" title="Prelude">Show</a> <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#line-202" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:StdStream:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="system-process-common.html">System.Process.Common</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.21.0.0-8e62/data-int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:ShowS" title="Prelude">ShowS</a> </p>
<p class="src"><a href="#v:show">show</a> :: <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a> -&gt; <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> </p>
<p class="src"><a href="#v:showList">showList</a> :: [<a href="system-process.html#t:StdStream" title="System.Process">StdStream</a>] -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:ShowS" title="Prelude">ShowS</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="../base-4.21.0.0-8e62/data-eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#line-202" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:StdStream:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="system-process-common.html">System.Process.Common</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a> -&gt; <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a> -&gt; <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a> </p>
<p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a> -&gt; <a href="system-process.html#t:StdStream" title="System.Process">StdStream</a> -&gt; <a href="../base-4.21.0.0-8e62/data-bool.html#t:Bool" title="Data.Bool">Bool</a> </p>
</div></details></td></tr>
</table></details>
</div>
<p class="src">data <a id="t:ProcessHandle" class="def">ProcessHandle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Common.html#ProcessHandle" class="link">Source</a> </p>
<p>A handle to a process, which can be used to wait for termination of the process using <code><a href="system-process.html#v:waitForProcess" title="System.Process">waitForProcess</a></code>.</p>
<p>None of the process-creation functions in this library wait for termination: they all return a <code><a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a></code> which may be used to wait for the process later.</p>
<p>On Windows a second wait method can be used to block for event completion. This requires two handles. A process job handle and a events handle to monitor.</p>
<a href="#g:2" id="g:2"><h3>Simpler functions for common tasks</h3></a><p class="src"><a id="v:callProcess" class="def">callProcess</a> :: <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a> -&gt; [<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>] -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#callProcess" class="link">Source</a> </p>
<p>Creates a new process to run the specified command with the given arguments, and wait for it to finish. If the command returns a non-zero exit code, an exception is raised.</p>
<p>If an asynchronous exception is thrown to the thread executing <code class="inline-code">callProcess</code>, the forked process will be terminated and <code class="inline-code">callProcess</code> will wait (block) until the process has been terminated.</p>
<p><span class="version">Since: process-1.2.0.0</span></p>
<p class="src"><a id="v:callCommand" class="def">callCommand</a> :: <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#callCommand" class="link">Source</a> </p>
<p>Creates a new process to run the specified shell command. If the command returns a non-zero exit code, an exception is raised.</p>
<p>If an asynchronous exception is thrown to the thread executing <code class="inline-code">callCommand</code>, the forked process will be terminated and <code class="inline-code">callCommand</code> will wait (block) until the process has been terminated.</p>
<p><span class="version">Since: process-1.2.0.0</span></p>
<p class="src"><a id="v:spawnProcess" class="def">spawnProcess</a> :: <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a> -&gt; [<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>] -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#spawnProcess" class="link">Source</a> </p>
<p>Creates a new process to run the specified raw command with the given arguments. It does not wait for the program to finish, but returns the <code><a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a></code>.</p>
<p><span class="version">Since: process-1.2.0.0</span></p>
<p class="src"><a id="v:spawnCommand" class="def">spawnCommand</a> :: <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#spawnCommand" class="link">Source</a> </p>
<p>Creates a new process to run the specified shell command. It does not wait for the program to finish, but returns the <code><a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a></code>.</p>
<p><span class="version">Since: process-1.2.0.0</span></p>
<p class="src"><a id="v:readCreateProcess" class="def">readCreateProcess</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#readCreateProcess" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a>
</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>
</td>
<td class="doc"><p>standard input</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>
</td>
<td class="doc"><p>stdout</p></td>
</tr>
</table>
</div>
<p><code class="inline-code">readCreateProcess</code> works exactly like <code><a href="system-process.html#v:readProcess" title="System.Process">readProcess</a></code> except that it lets you pass <code><a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a></code> giving better flexibility.</p>
<pre> &gt; readCreateProcess ((shell "pwd") { cwd = Just "/etc/" }) ""
 "/etc\n"</pre>
<p>Note that <code class="inline-code">Handle</code>s provided for <code class="inline-code">std_in</code> or <code class="inline-code">std_out</code> via the CreateProcess record will be ignored.</p>
<p><span class="version">Since: process-1.2.3.0</span></p>
<p class="src"><a id="v:readProcess" class="def">readProcess</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#readProcess" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a>
</td>
<td class="doc"><p>Filename of the executable (see <code><a href="system-process.html#v:RawCommand" title="System.Process">RawCommand</a></code> for details)</p></td>
</tr>
<tr>
<td class="src">-&gt; [<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>]</td>
<td class="doc"><p>any arguments</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>
</td>
<td class="doc"><p>standard input</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>
</td>
<td class="doc"><p>stdout</p></td>
</tr>
</table>
</div>
<p><code class="inline-code">readProcess</code> forks an external process, reads its standard output strictly, blocking until the process terminates, and returns the output string. The external process inherits the standard error.</p>
<p>If an asynchronous exception is thrown to the thread executing <code class="inline-code">readProcess</code>, the forked process will be terminated and <code class="inline-code">readProcess</code> will wait (block) until the process has been terminated.</p>
<p>Output is returned strictly, so this is not suitable for launching processes that require interaction over the standard file streams.</p>
<p>This function throws an <code><a href="../base-4.21.0.0-8e62/prelude.html#t:IOError" title="Prelude">IOError</a></code> if the process <code><a href="../base-4.21.0.0-8e62/system-exit.html#t:ExitCode" title="System.Exit">ExitCode</a></code> is anything other than <code><a href="../base-4.21.0.0-8e62/system-exit.html#v:ExitSuccess" title="System.Exit">ExitSuccess</a></code>. If instead you want to get the <code><a href="../base-4.21.0.0-8e62/system-exit.html#t:ExitCode" title="System.Exit">ExitCode</a></code> then use <code><a href="system-process.html#v:readProcessWithExitCode" title="System.Process">readProcessWithExitCode</a></code>.</p>
<p>Users of this function should compile with <code class="inline-code">-threaded</code> if they want other Haskell threads to keep running while waiting on the result of readProcess.</p>
<pre> &gt; readProcess "date" [] []
 "Thu Feb  7 10:03:39 PST 2008\n"</pre>
<p>The arguments are:</p>
<ul>
<li>The command to run, which must be in the $PATH, or an absolute or relative path</li>
<li>A list of separate command line arguments to the program. See <code><a href="system-process.html#v:RawCommand" title="System.Process">RawCommand</a></code> for further discussion of Windows semantics.</li>
<li>A string to pass on standard input to the forked process.</li>
</ul>
<p class="src"><a id="v:readCreateProcessWithExitCode" class="def">readCreateProcessWithExitCode</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#readCreateProcessWithExitCode" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a>
</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>
</td>
<td class="doc"><p>standard input</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../base-4.21.0.0-8e62/system-exit.html#t:ExitCode" title="System.Exit">ExitCode</a>, <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>, <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>)</td>
<td class="doc"><p>exitcode, stdout, stderr</p></td>
</tr>
</table>
</div>
<p><code class="inline-code">readCreateProcessWithExitCode</code> works exactly like <code><a href="system-process.html#v:readProcessWithExitCode" title="System.Process">readProcessWithExitCode</a></code> except that it lets you pass <code><a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a></code> giving better flexibility.</p>
<p>Note that <code class="inline-code">Handle</code>s provided for <code class="inline-code">std_in</code>, <code class="inline-code">std_out</code>, or <code class="inline-code">std_err</code> via the CreateProcess record will be ignored.</p>
<p><span class="version">Since: process-1.2.3.0</span></p>
<p class="src"><a id="v:readProcessWithExitCode" class="def">readProcessWithExitCode</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#readProcessWithExitCode" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a>
</td>
<td class="doc"><p>Filename of the executable (see <code><a href="system-process.html#v:RawCommand" title="System.Process">RawCommand</a></code> for details)</p></td>
</tr>
<tr>
<td class="src">-&gt; [<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>]</td>
<td class="doc"><p>any arguments</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>
</td>
<td class="doc"><p>standard input</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../base-4.21.0.0-8e62/system-exit.html#t:ExitCode" title="System.Exit">ExitCode</a>, <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>, <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>)</td>
<td class="doc"><p>exitcode, stdout, stderr</p></td>
</tr>
</table>
</div>
<p><code class="inline-code">readProcessWithExitCode</code> is like <code><a href="system-process.html#v:readProcess" title="System.Process">readProcess</a></code> but with two differences:</p>
<ul>
<li>it returns the <code><a href="../base-4.21.0.0-8e62/system-exit.html#t:ExitCode" title="System.Exit">ExitCode</a></code> of the process, and does not throw any exception if the code is not <code><a href="../base-4.21.0.0-8e62/system-exit.html#v:ExitSuccess" title="System.Exit">ExitSuccess</a></code>.</li>
<li>it reads and returns the output from process' standard error handle, rather than the process inheriting the standard error handle.</li>
</ul>
<p>On Unix systems, see <code><a href="system-process.html#v:waitForProcess" title="System.Process">waitForProcess</a></code> for the meaning of exit codes when the process died as the result of a signal.</p>
<p class="src"><a id="v:withCreateProcess" class="def">withCreateProcess</a> :: <a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a> -&gt; (<a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#withCreateProcess" class="link">Source</a> </p>
<p>A <code><a href="c.html#v:bracket" title="C">bracket</a></code>-style resource handler for <code><a href="system-process.html#v:createProcess" title="System.Process">createProcess</a></code>.</p>
<p>Does automatic cleanup when the action finishes. If there is an exception in the body then it ensures that the process gets terminated and any <code><a href="system-process.html#v:CreatePipe" title="System.Process">CreatePipe</a></code> <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>s are closed. In particular this means that if the Haskell thread is killed (e.g. <code><a href="../base-4.21.0.0-8e62/control-concurrent.html#v:killThread" title="Control.Concurrent">killThread</a></code>), that the external process is also terminated.</p>
<p>e.g.</p>
<pre>withCreateProcess (proc cmd args) { ... }  $ \stdin stdout stderr ph -&gt; do
  ...</pre>
<p><span class="version">Since: process-1.4.3.0</span></p>
<p class="src"><a id="v:cleanupProcess" class="def">cleanupProcess</a> :: (<a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a>) -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#cleanupProcess" class="link">Source</a> </p>
<p>Cleans up the process.</p>
<p>This function is meant to be invoked from any application level cleanup handler. It terminates the process, and closes any <code><a href="system-process.html#v:CreatePipe" title="System.Process">CreatePipe</a></code> <code class="inline-code">handle</code>s.</p>
<p><span class="version">Since: process-1.6.4.0</span></p>
<a href="#g:3" id="g:3"><h3>Related utilities</h3></a><p class="src"><a id="v:showCommandForUser" class="def">showCommandForUser</a> :: <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a> -&gt; [<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>] -&gt; <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#showCommandForUser" class="link">Source</a> </p>
<p>Given a program <code class="inline-code"><em>p</em></code> and arguments <code class="inline-code"><em>args</em></code>, <code class="inline-code">showCommandForUser <em>p</em> <em>args</em></code> returns a string suitable for pasting into <code class="inline-code">/bin/sh</code> (on Unix systems) or <code class="inline-code">CMD.EXE</code> (on Windows).</p>
<p class="src">type <a id="t:Pid" class="def">Pid</a> = CPid <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#Pid" class="link">Source</a> </p>
<p>The platform specific type for a process identifier.</p>
<p>This is always an integral type. Width and signedness are platform specific.</p>
<p><span class="version">Since: process-1.6.3.0</span></p>
<p class="src"><a id="v:getPid" class="def">getPid</a> :: <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="system-process.html#t:Pid" title="System.Process">Pid</a>) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#getPid" class="link">Source</a> </p>
<p>Returns the PID (process ID) of a subprocess.</p>
<p><code><a href="../base-4.21.0.0-8e62/data-maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> is returned if the handle was already closed. Otherwise a PID is returned that remains valid as long as the handle is open. The operating system may reuse the PID as soon as the last handle to the process is closed.</p>
<p><span class="version">Since: process-1.6.3.0</span></p>
<p class="src"><a id="v:getCurrentPid" class="def">getCurrentPid</a> :: <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="system-process.html#t:Pid" title="System.Process">Pid</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#getCurrentPid" class="link">Source</a> </p>
<p>Returns the PID (process ID) of the current process. On POSIX systems, this calls <code><a href="../unix-2.8.6.0-e212/system-posix-process-bytestring.html#v:getProcessID" title="System.Posix.Process.ByteString">getProcessID</a></code> from <a href="../unix-2.8.6.0-e212/system-posix-process.html">System.Posix.Process</a> in the <code class="inline-code">unix</code> package. On Windows, this calls <code class="inline-code">getCurrentProcessId</code> from <a href="system-win32-process.html">System.Win32.Process</a> in the <code class="inline-code">Win32</code> package.</p>
<p><span class="version">Since: process-1.6.12.0</span></p>
<a href="#g:4" id="g:4"><h3>Secure process creation on Windows</h3></a><a href="#g:5" id="g:5"><h3>Control-C handling on Unix</h3></a><p>When running an interactive console process (such as a shell, console-based text editor or ghci), we typically want that process to be allowed to handle Ctl-C keyboard interrupts how it sees fit. For example, while most programs simply quit on a Ctl-C, some handle it specially. To allow this to happen, use the <code class="inline-code"><a href="system-process.html#v:delegate_ctlc" title="System.Process">delegate_ctlc</a> = True</code> option in the <code><a href="system-process.html#t:CreateProcess" title="System.Process">CreateProcess</a></code> options.</p>
<p>The gory details:</p>
<p>By default Ctl-C will generate a <code class="inline-code">SIGINT</code> signal, causing a <code class="inline-code">UserInterrupt</code> exception to be sent to the main Haskell thread of your program, which if not specially handled will terminate the program. Normally, this is exactly what is wanted: an orderly shutdown of the program in response to Ctl-C.</p>
<p>Of course when running another interactive program in the console then we want to let that program handle Ctl-C. Under Unix however, Ctl-C sends <code class="inline-code">SIGINT</code> to every process using the console. The standard solution is that while running an interactive program, ignore <code class="inline-code">SIGINT</code> in the parent, and let it be handled in the child process. If that process then terminates due to the <code class="inline-code">SIGINT</code> signal, then at that point treat it as if we had received the <code class="inline-code">SIGINT</code> ourselves and begin an orderly shutdown.</p>
<p>This behaviour is implemented by <code><a href="system-process.html#v:createProcess" title="System.Process">createProcess</a></code> (and <code><a href="system-process.html#v:waitForProcess" title="System.Process">waitForProcess</a></code> / <code><a href="system-process.html#v:getProcessExitCode" title="System.Process">getProcessExitCode</a></code>) when the <code class="inline-code"><a href="system-process.html#v:delegate_ctlc" title="System.Process">delegate_ctlc</a> = True</code> option is set. In particular, the <code class="inline-code">SIGINT</code> signal will be ignored until <code><a href="system-process.html#v:waitForProcess" title="System.Process">waitForProcess</a></code> returns (or <code><a href="system-process.html#v:getProcessExitCode" title="System.Process">getProcessExitCode</a></code> returns a non-Nothing result), so it becomes especially important to use <code><a href="system-process.html#v:waitForProcess" title="System.Process">waitForProcess</a></code> for every processes created.</p>
<p>In addition, in <code><a href="system-process.html#v:delegate_ctlc" title="System.Process">delegate_ctlc</a></code> mode, <code><a href="system-process.html#v:waitForProcess" title="System.Process">waitForProcess</a></code> and <code><a href="system-process.html#v:getProcessExitCode" title="System.Process">getProcessExitCode</a></code> will throw a <code class="inline-code">UserInterrupt</code> exception if the process terminated with <code class="inline-code"><a href="../base-4.21.0.0-8e62/system-exit.html#v:ExitFailure" title="System.Exit">ExitFailure</a> (-SIGINT)</code>. Typically you will not want to catch this exception, but let it propagate, giving a normal orderly shutdown. One detail to be aware of is that the <code class="inline-code">UserInterrupt</code> exception is thrown <em>synchronously</em> in the thread that calls <code><a href="system-process.html#v:waitForProcess" title="System.Process">waitForProcess</a></code>, whereas normally <code class="inline-code">SIGINT</code> causes the exception to be thrown <em>asynchronously</em> to the main thread.</p>
<p>For even more detail on this topic, see <a href="http://www.cons.org/cracauer/sigint.html">"Proper handling of SIGINT/SIGQUIT"</a>.</p>
<a href="#g:6" id="g:6"><h2>Process completion</h2></a><a href="#g:7" id="g:7"><h3>Notes about <code class="inline-code">exec</code> on Windows</h3></a><p>Note that processes which use the POSIX <code class="inline-code">exec</code> system call (e.g. <code class="inline-code">gcc</code>) require special care on Windows. Specifically, the <code class="inline-code">msvcrt</code> C runtime used frequently on Windows emulates <code class="inline-code">exec</code> in a non-POSIX compliant manner, where the caller will be terminated (with exit code 0) and execution will continue in a new process. As a result, on Windows it will appear as though a child process which has called <code class="inline-code">exec</code> has terminated despite the fact that the process would still be running on a POSIX-compliant platform.</p>
<p>Since many programs do use <code class="inline-code">exec</code>, the <code class="inline-code">process</code> library exposes the <code><a href="system-process.html#v:use_process_jobs" title="System.Process">use_process_jobs</a></code> flag to make it possible to reliably detect when such a process completes. When this flag is set a <code><a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a></code> will not be deemed to be "finished" until all processes spawned by it have terminated (except those spawned by the child with the <code class="inline-code">CREATE_BREAKAWAY_FROM_JOB</code> <code class="inline-code">CreateProcess</code> flag).</p>
<p>Note, however, that, because of platform limitations, the exit code returned by <code class="inline-code">waitForProcess</code> and <code class="inline-code">getProcessExitCode</code> cannot not be relied upon when the child uses <code class="inline-code">exec</code>, even when <code><a href="system-process.html#v:use_process_jobs" title="System.Process">use_process_jobs</a></code> is used. Specifically, these functions will return the exit code of the *original child* (which always exits with code 0, since it called <code class="inline-code">exec</code>), not the exit code of the process which carried on with execution after <code class="inline-code">exec</code>. This is different from the behavior prescribed by POSIX but is the best approximation that can be realised under the restrictions of the Windows process model.</p>
<p class="src"><a id="v:waitForProcess" class="def">waitForProcess</a> :: <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="../base-4.21.0.0-8e62/system-exit.html#t:ExitCode" title="System.Exit">ExitCode</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#waitForProcess" class="link">Source</a> </p>
<p>Waits for the specified process to terminate, and returns its exit code. On Unix systems, may throw <code class="inline-code">UserInterrupt</code> when using <code><a href="system-process.html#v:delegate_ctlc" title="System.Process">delegate_ctlc</a></code>.</p>
<p>GHC Note: in order to call <code class="inline-code">waitForProcess</code> without blocking all the other threads in the system, you must compile the program with <code class="inline-code">-threaded</code>.</p>
<p>Note that it is safe to call <code class="inline-code">waitForProcess</code> for the same process in multiple threads. When the process ends, threads blocking on this call will wake in FIFO order. When using <code><a href="system-process.html#v:delegate_ctlc" title="System.Process">delegate_ctlc</a></code> and the process is interrupted, only the first waiting thread will throw <code class="inline-code">UserInterrupt</code>.</p>
<p>(<span class="version">Since: 1.2.0.0</span>) On Unix systems, a negative value <code class="inline-code"><a href="../base-4.21.0.0-8e62/system-exit.html#v:ExitFailure" title="System.Exit">ExitFailure</a> -<em>signum</em></code> indicates that the child was terminated by signal <code class="inline-code"><em>signum</em></code>. The signal numbers are platform-specific, so to test for a specific signal use the constants provided by <a href="../unix-2.8.6.0-e212/system-posix-signals.html">System.Posix.Signals</a> in the <code class="inline-code">unix</code> package. Note: core dumps are not reported, use <a href="../unix-2.8.6.0-e212/system-posix-process.html">System.Posix.Process</a> if you need this detail.</p>
<p class="src"><a id="v:getProcessExitCode" class="def">getProcessExitCode</a> :: <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/system-exit.html#t:ExitCode" title="System.Exit">ExitCode</a>) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#getProcessExitCode" class="link">Source</a> </p>
<p>This is a non-blocking version of <code><a href="system-process.html#v:waitForProcess" title="System.Process">waitForProcess</a></code>. If the process is still running, <code><a href="../base-4.21.0.0-8e62/data-maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> is returned. If the process has exited, then <code class="inline-code"><a href="../base-4.21.0.0-8e62/data-maybe.html#v:Just" title="Data.Maybe">Just</a> e</code> is returned where <code class="inline-code">e</code> is the exit code of the process.</p>
<p>On Unix systems, see <code><a href="system-process.html#v:waitForProcess" title="System.Process">waitForProcess</a></code> for the meaning of exit codes when the process died as the result of a signal. May throw <code class="inline-code">UserInterrupt</code> when using <code><a href="system-process.html#v:delegate_ctlc" title="System.Process">delegate_ctlc</a></code>.</p>
<p class="src"><a id="v:terminateProcess" class="def">terminateProcess</a> :: <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#terminateProcess" class="link">Source</a> </p>
<p>Attempts to terminate the specified process. This function should not be used under normal circumstances - no guarantees are given regarding how cleanly the process is terminated. To check whether the process has indeed terminated, use <code><a href="system-process.html#v:getProcessExitCode" title="System.Process">getProcessExitCode</a></code>.</p>
<p>On Unix systems, <code><a href="system-process.html#v:terminateProcess" title="System.Process">terminateProcess</a></code> sends the process the SIGTERM signal. On Windows systems, if <code><a href="system-process.html#v:use_process_jobs" title="System.Process">use_process_jobs</a></code> is <code><a href="../base-4.21.0.0-8e62/data-bool.html#v:True" title="Data.Bool">True</a></code> then the Win32 <code class="inline-code">TerminateJobObject</code> function is called to kill all processes associated with the job and passing the exit code of 1 to each of them. Otherwise if <code><a href="system-process.html#v:use_process_jobs" title="System.Process">use_process_jobs</a></code> is <code><a href="../base-4.21.0.0-8e62/data-bool.html#v:False" title="Data.Bool">False</a></code> then the Win32 <code class="inline-code">TerminateProcess</code> function is called, passing an exit code of 1.</p>
<p>Note: on Windows, if the process was a shell command created by <code><a href="system-process.html#v:createProcess" title="System.Process">createProcess</a></code> with <code><a href="system-process.html#v:shell" title="System.Process">shell</a></code>, or created by <code><a href="system-process.html#v:runCommand" title="System.Process">runCommand</a></code> or <code><a href="system-process.html#v:runInteractiveCommand" title="System.Process">runInteractiveCommand</a></code>, then <code><a href="system-process.html#v:terminateProcess" title="System.Process">terminateProcess</a></code> will only terminate the shell, not the command itself. On Unix systems, both processes are in a process group and will be terminated together.</p>
<p class="src"><a id="v:interruptProcessGroupOf" class="def">interruptProcessGroupOf</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Internals.html#interruptProcessGroupOf" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a>
</td>
<td class="doc"><p>A process in the process group</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> ()</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>Sends an interrupt signal to the process group of the given process.</p>
<p>On Unix systems, it sends the group the SIGINT signal.</p>
<p>On Windows systems, it generates a CTRL_BREAK_EVENT and will only work for processes created using <code class="inline-code">createProcess</code> and setting the <code><a href="system-process.html#v:create_group" title="System.Process">create_group</a></code> flag</p>
<a href="#g:8" id="g:8"><h2>Interprocess communication</h2></a><p class="src"><a id="v:createPipe" class="def">createPipe</a> :: <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Internals.html#createPipe" class="link">Source</a> </p>
<p>Create a pipe for interprocess communication and return a <code class="inline-code">(readEnd, writeEnd)</code> <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code> pair.</p>
<ul><li>WinIO Support</li></ul>
<p>When this function is used with WinIO enabled it's the caller's responsibility to register the handles with the I/O manager. If this is not done the operation will deadlock. Association can be done as follows:</p>
<pre>    #if defined(<strong>IO_MANAGER_WINIO</strong>)
    import GHC.IO.SubSystem ((<a href="!.html">!</a>))
    import GHC.IO.Handle.Windows (handleToHANDLE)
    import GHC.Event.Windows (associateHandle')
    #endif

    ...

    #if defined (<strong>IO_MANAGER_WINIO</strong>)
    return () <a href="!.html">!</a> (do
      associateHandle' =<a href="#">handleToHANDLE &lt;handle</a>)
    #endif
</pre>
<p>Only associate handles that you are in charge of read/writing to. Do not associate handles passed to another process. It's the process's reponsibility to register the handle if it supports async access.</p>
<p><span class="version">Since: process-1.2.1.0</span></p>
<p class="src"><a id="v:createPipeFd" class="def">createPipeFd</a> :: <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (FD, FD) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.Internals.html#createPipeFd" class="link">Source</a> </p>
<p>Create a pipe for interprocess communication and return a <code class="inline-code">(readEnd, writeEnd)</code> <code>FD</code> pair.</p>
<p><span class="version">Since: process-1.4.2.0</span></p>
<a href="#g:9" id="g:9"><h2>Old deprecated functions</h2></a><p>These functions pre-date <code><a href="system-process.html#v:createProcess" title="System.Process">createProcess</a></code> which is much more flexible.</p>
<p class="src"><a id="v:runProcess" class="def">runProcess</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#runProcess" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a>
</td>
<td class="doc"><p>Filename of the executable (see <code><a href="system-process.html#v:RawCommand" title="System.Process">RawCommand</a></code> for details)</p></td>
</tr>
<tr>
<td class="src">-&gt; [<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>]</td>
<td class="doc"><p>Arguments to pass to the executable</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a>
</td>
<td class="doc"><p>Optional path to the working directory</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [(<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>, <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>)]</td>
<td class="doc"><p>Optional environment (otherwise inherit)</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>
</td>
<td class="doc"><p>Handle to use for <code class="inline-code">stdin</code> (Nothing =&gt; use existing <code class="inline-code">stdin</code>)</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>
</td>
<td class="doc"><p>Handle to use for <code class="inline-code">stdout</code> (Nothing =&gt; use existing <code class="inline-code">stdout</code>)</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>
</td>
<td class="doc"><p>Handle to use for <code class="inline-code">stderr</code> (Nothing =&gt; use existing <code class="inline-code">stderr</code>)</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a>
</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>Runs a raw command, optionally specifying <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>s from which to take the <code class="inline-code">stdin</code>, <code class="inline-code">stdout</code> and <code class="inline-code">stderr</code> channels for the new process (otherwise these handles are inherited from the current process).</p>
<p>Any <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>s passed to <code><a href="system-process.html#v:runProcess" title="System.Process">runProcess</a></code> are placed immediately in the closed state.</p>
<p>Note: consider using the more general <code><a href="system-process.html#v:createProcess" title="System.Process">createProcess</a></code> instead of <code><a href="system-process.html#v:runProcess" title="System.Process">runProcess</a></code>.</p>
<p class="src"><a id="v:runCommand" class="def">runCommand</a> :: <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#runCommand" class="link">Source</a> </p>
<p>Runs a command using the shell.</p>
<p class="src"><a id="v:runInteractiveProcess" class="def">runInteractiveProcess</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#runInteractiveProcess" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a>
</td>
<td class="doc"><p>Filename of the executable (see <code><a href="system-process.html#v:RawCommand" title="System.Process">RawCommand</a></code> for details)</p></td>
</tr>
<tr>
<td class="src">-&gt; [<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>]</td>
<td class="doc"><p>Arguments to pass to the executable</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.21.0.0-8e62/prelude.html#t:FilePath" title="Prelude">FilePath</a>
</td>
<td class="doc"><p>Optional path to the working directory</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/data-maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [(<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>, <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>)]</td>
<td class="doc"><p>Optional environment (otherwise inherit)</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a>)</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>Runs a raw command, and returns <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>s that may be used to communicate with the process via its <code class="inline-code">stdin</code>, <code class="inline-code">stdout</code> and <code class="inline-code">stderr</code> respectively.</p>
<p>For example, to start a process and feed a string to its stdin:</p>
<pre>  (inp,out,err,pid) &lt;- runInteractiveProcess "..."
  forkIO (hPutStr inp str)</pre>
<p class="src"><a id="v:runInteractiveCommand" class="def">runInteractiveCommand</a> :: <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>, <a href="system-process.html#t:ProcessHandle" title="System.Process">ProcessHandle</a>) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#runInteractiveCommand" class="link">Source</a> </p>
<p>Runs a command using the shell, and returns <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>s that may be used to communicate with the process via its <code class="inline-code">stdin</code>, <code class="inline-code">stdout</code>, and <code class="inline-code">stderr</code> respectively.</p>
<p class="src"><a id="v:system" class="def">system</a> :: <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="../base-4.21.0.0-8e62/system-exit.html#t:ExitCode" title="System.Exit">ExitCode</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#system" class="link">Source</a> </p>
<p>Computation <code class="inline-code">system cmd</code> returns the exit code produced when the operating system runs the shell command <code class="inline-code">cmd</code>.</p>
<p>This computation may fail with one of the following <code><a href="../base-4.21.0.0-8e62/system-io-error.html#v:IOErrorType" title="System.IO.Error">IOErrorType</a></code> exceptions:</p>
<dl>
<dt><code class="inline-code">PermissionDenied</code></dt>
<dd>The process has insufficient privileges to perform the operation.</dd>
<dt><code class="inline-code">ResourceExhausted</code></dt>
<dd>Insufficient resources are available to perform the operation.</dd>
<dt><code class="inline-code">UnsupportedOperation</code></dt>
<dd>The implementation does not support system calls.</dd>
</dl>
<p>On Windows, <code><a href="system-process.html#v:system" title="System.Process">system</a></code> passes the command to the Windows command interpreter (<code class="inline-code">CMD.EXE</code> or <code class="inline-code">COMMAND.COM</code>), hence Unixy shell tricks will not work.</p>
<p>On Unix systems, see <code><a href="system-process.html#v:waitForProcess" title="System.Process">waitForProcess</a></code> for the meaning of exit codes when the process died as the result of a signal.</p>
<p class="src"><a id="v:rawSystem" class="def">rawSystem</a> :: <a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a> -&gt; [<a href="../base-4.21.0.0-8e62/data-string.html#t:String" title="Data.String">String</a>] -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="../base-4.21.0.0-8e62/system-exit.html#t:ExitCode" title="System.Exit">ExitCode</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/src/System.Process.html#rawSystem" class="link">Source</a> </p>
<p>The computation <code class="inline-code"><a href="system-process.html#v:rawSystem" title="System.Process">rawSystem</a> <em>cmd</em> <em>args</em></code> runs the operating system command <code class="inline-code"><em>cmd</em></code> in such a way that it receives as arguments the <code class="inline-code"><em>args</em></code> strings exactly as given, with no funny escaping or shell meta-syntax expansion. It will therefore behave more portably between operating systems than <code><a href="system-process.html#v:system" title="System.Process">system</a></code>.</p>
<p>The return codes and possible failures are the same as for <code><a href="system-process.html#v:system" title="System.Process">system</a></code>.</p>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/System-Process.html" class="_attribution-link">https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/process-1.6.25.0-3038/System-Process.html</a>
  </p>
</div>
