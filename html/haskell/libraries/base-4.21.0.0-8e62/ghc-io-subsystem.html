<h1 class="caption">GHC.IO.SubSystem</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th valign="top">Copyright</th>
<td>(c) The University of Glasgow 2017</td>
</tr>
<tr>
<th>License</th>
<td>see libraries/base/LICENSE</td>
</tr>
<tr>
<th>Maintainer</th>
<td>libraries@haskell.org</td>
</tr>
<tr>
<th>Stability</th>
<td>internal</td>
</tr>
<tr>
<th>Portability</th>
<td>non-portable</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>Safe</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="description">
<h4 class="caption">Description</h4>
<p>The <code><a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a></code> control interface. These methods can be used to disambiguate between the two operations.</p>
<p><em>The API of this module is unstable and not meant to be consumed by the general public.</em> If you absolutely must depend on it, make sure to use a tight upper bound, e.g., <code class="inline-code">base &lt; 4.X</code> rather than <code class="inline-code">base &lt; 5</code>, because the interface can change rapidly without much warning.</p>
</div>
<p class="src"><a id="v:withIoSubSystem" class="def">withIoSubSystem</a> :: (<a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> a) -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#withIoSubSystem" class="link">Source</a> </p>
<p class="src"><a id="v:withIoSubSystem-39-" class="def">withIoSubSystem'</a> :: (<a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; a) -&gt; a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#withIoSubSystem%27" class="link">Source</a> </p>
<p class="src"><a id="v:whenIoSubSystem" class="def">whenIoSubSystem</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> () -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#whenIoSubSystem" class="link">Source</a> </p>
<p class="src"><a id="v:ioSubSystem" class="def">ioSubSystem</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#ioSubSystem" class="link">Source</a> </p>
<p>The <code><a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a></code> in use.</p>
<p>This is needed to optimize support for different IO Managers on Windows. GHC supports both the new WinIO manager as well as the old MIO (threaded), and ancient win32-legacy (non-threaded) ones. The WinIO manager uses native Win32 HANDLEs, whereas the other two use posix style FDs (via translation layers).</p>
<p>In many places in the I/O base library code, for correctness or performance on Windows, we have to take different code paths depending on which style of IO manager is in use. The IO manager is set on RTS startup (and the default choice can be overridden using RTS flags). On Windows this value is obtained by reading a global variable that is set by the RTS IOManager on startup.</p>
<p>On non-Windows systems this value is always <code><a href="ghc-io-subsystem.html#v:IoPOSIX" title="GHC.IO.SubSystem">IoPOSIX</a></code>.</p>
<p class="src">data <a id="t:IoSubSystem" class="def">IoSubSystem</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#IoSubSystem" class="link">Source</a> </p>
<p>The I/O SubSystem to use in the program.</p>
<p><span class="version">Since: base-4.9.0.0</span></p>
<div class="subs constructors">
<h4 class="caption">Constructors</h4>
<table>
<tr>
<td class="src"><a id="v:IoPOSIX" class="def">IoPOSIX</a></td>
<td class="doc"><p>Use a POSIX I/O Sub-System</p></td>
</tr>
<tr>
<td class="src"><a id="v:IoNative" class="def">IoNative</a></td>
<td class="doc"><p>Use platform native Sub-System. For unix OSes this is the same as IoPOSIX, but on Windows this means use the Windows native APIs for I/O, including IOCP and RIO.</p></td>
</tr>
</table>
</div>
<div class="subs instances">
<h5 class="instances details-toggle-control details-toggle" data-details-id="i:IoSubSystem">Instances</h5>
<details id="i:IoSubSystem" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table>
<tr>
<td class="src clearfix">
 <a href="data-enum.html#t:Enum" title="Data.Enum">Enum</a> <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#line-62" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:IoSubSystem:Enum:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/GHC-Internal-IO-SubSystem.html">GHC.Internal.IO.SubSystem</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:succ">succ</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Enum.html#succ" class="link">Source</a> </p>
<p class="src"><a href="#v:pred">pred</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Enum.html#pred" class="link">Source</a> </p>
<p class="src"><a href="#v:toEnum">toEnum</a> :: <a href="data-int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Enum.html#toEnum" class="link">Source</a> </p>
<p class="src"><a href="#v:fromEnum">fromEnum</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="data-int.html#t:Int" title="Data.Int">Int</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Enum.html#fromEnum" class="link">Source</a> </p>
<p class="src"><a href="#v:enumFrom">enumFrom</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; [<a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a>] <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Enum.html#enumFrom" class="link">Source</a> </p>
<p class="src"><a href="#v:enumFromThen">enumFromThen</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; [<a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a>] <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Enum.html#enumFromThen" class="link">Source</a> </p>
<p class="src"><a href="#v:enumFromTo">enumFromTo</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; [<a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a>] <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Enum.html#enumFromTo" class="link">Source</a> </p>
<p class="src"><a href="#v:enumFromThenTo">enumFromThenTo</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; [<a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a>] <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Enum.html#enumFromThenTo" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="prelude.html#t:Show" title="Prelude">Show</a> <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#line-63" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:IoSubSystem:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/GHC-Internal-IO-SubSystem.html">GHC.Internal.IO.SubSystem</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="data-int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Show.html#showsPrec" class="link">Source</a> </p>
<p class="src"><a href="#v:show">show</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="data-string.html#t:String" title="Data.String">String</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Show.html#show" class="link">Source</a> </p>
<p class="src"><a href="#v:showList">showList</a> :: [<a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a>] -&gt; <a href="prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Show.html#showList" class="link">Source</a> </p>
</div></details></td></tr>
<tr>
<td class="src clearfix">
 <a href="data-eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#line-59" class="link">Source</a> </td>
<td class="doc empty"> </td>
</tr>
<tr><td colspan="2"><details id="i:id:IoSubSystem:Eq:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/GHC-Internal-IO-SubSystem.html">GHC.Internal.IO.SubSystem</a></p> <div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="data-bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-prim-0.13.0-4caa/src/GHC.Classes.html#%3D%3D" class="link">Source</a> </p>
<p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="ghc-io-subsystem.html#t:IoSubSystem" title="GHC.IO.SubSystem">IoSubSystem</a> -&gt; <a href="data-bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-prim-0.13.0-4caa/src/GHC.Classes.html#%2F%3D" class="link">Source</a> </p>
</div></details></td></tr>
</table></details>
</div>
<p class="src"><a id="v:conditional" class="def">conditional</a> :: a -&gt; a -&gt; a <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#conditional" class="link">Source</a> </p>
<p>Conditionally execute an action depending on the configured I/O subsystem. On POSIX systems always execute the first action. On Windows execute the second action if WINIO as active, otherwise fall back to the first action.</p>
<p class="src"><a id="v:-60--33--62-" class="def">(&lt;!&gt;)</a> :: a -&gt; a -&gt; a <span class="fixity">infixl 7</span> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#%3C%21%3E" class="link">Source</a> </p>
<p>Infix version of <code><a href="ghc-io-subsystem.html#v:conditional" title="GHC.IO.SubSystem">conditional</a></code>. posix <a href="!.html">!</a> windows == conditional posix windows</p>
<p class="src"><a id="v:isWindowsNativeIO" class="def">isWindowsNativeIO</a> :: <a href="data-bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.SubSystem.html#isWindowsNativeIO" class="link">Source</a> </p>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/base-4.21.0.0-8e62/GHC-IO-SubSystem.html" class="_attribution-link">https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/base-4.21.0.0-8e62/GHC-IO-SubSystem.html</a>
  </p>
</div>
