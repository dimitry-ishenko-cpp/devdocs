<h1 class="caption">GHC.IO.StdHandles</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th valign="top">Copyright</th>
<td>(c) The University of Glasgow 2017</td>
</tr>
<tr>
<th>License</th>
<td>see libraries/base/LICENSE</td>
</tr>
<tr>
<th>Maintainer</th>
<td>libraries@haskell.org</td>
</tr>
<tr>
<th>Stability</th>
<td>internal</td>
</tr>
<tr>
<th>Portability</th>
<td>non-portable</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>Safe</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="description">
<h4 class="caption">Description</h4>
<p>This model abstracts away the platform specific handles that can be toggled through the RTS.</p>
</div>
<p class="src"><a id="v:stdin" class="def">stdin</a> :: <a href="ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.StdHandles.html#stdin" class="link">Source</a> </p>
<p><code><a href="ghc-io-stdhandles.html#v:stdin" title="GHC.IO.StdHandles">stdin</a></code> is a handle managing the programs standard input.</p>
<p class="src"><a id="v:stdout" class="def">stdout</a> :: <a href="ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.StdHandles.html#stdout" class="link">Source</a> </p>
<p><code><a href="ghc-io-stdhandles.html#v:stdout" title="GHC.IO.StdHandles">stdout</a></code> is a handle managing the programs standard output.</p>
<p class="src"><a id="v:stderr" class="def">stderr</a> :: <a href="ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.StdHandles.html#stderr" class="link">Source</a> </p>
<p><code><a href="ghc-io-stdhandles.html#v:stderr" title="GHC.IO.StdHandles">stderr</a></code> is a handle managing the programs standard error.</p>
<p class="src"><a id="v:openFile" class="def">openFile</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.StdHandles.html#openFile" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="prelude.html#t:FilePath" title="Prelude">FilePath</a>
</td>
<td class="doc"><p>The path to the file that should be opened</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="system-io.html#t:IOMode" title="System.IO">IOMode</a>
</td>
<td class="doc"><p>The mode in which the file should be opened</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> <a href="ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>
</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>The computation <code class="inline-code"><a href="ghc-io-stdhandles.html#v:openFile" title="GHC.IO.StdHandles">openFile</a> path mode</code> returns a file handle that can be used to interact with the file.</p>
<p>The handle is open in text mode with <code><a href="system-io.html#v:localeEncoding" title="System.IO">localeEncoding</a></code>. You can change the encoding with <code><a href="system-io.html#v:hSetEncoding" title="System.IO">hSetEncoding</a></code>.</p>
<p class="src"><a id="v:openBinaryFile" class="def">openBinaryFile</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.StdHandles.html#openBinaryFile" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="prelude.html#t:FilePath" title="Prelude">FilePath</a>
</td>
<td class="doc"><p>The path to the binary file that should be opened</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="system-io.html#t:IOMode" title="System.IO">IOMode</a>
</td>
<td class="doc"><p>The mode in which the binary file should be opened</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> <a href="ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>
</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>The computation <code class="inline-code"><a href="ghc-io-stdhandles.html#v:openBinaryFile" title="GHC.IO.StdHandles">openBinaryFile</a> path mode</code> returns a file handle that can be used to interact with the binary file.</p>
<p>This is different from <code><a href="ghc-io-stdhandles.html#v:openFile" title="GHC.IO.StdHandles">openFile</a></code> as in that it does not use any file encoding.</p>
<p class="src"><a id="v:openFileBlocking" class="def">openFileBlocking</a> :: <a href="prelude.html#t:FilePath" title="Prelude">FilePath</a> -&gt; <a href="system-io.html#t:IOMode" title="System.IO">IOMode</a> -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> <a href="ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.StdHandles.html#openFileBlocking" class="link">Source</a> </p>
<p class="src"><a id="v:withFile" class="def">withFile</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.StdHandles.html#withFile" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="prelude.html#t:FilePath" title="Prelude">FilePath</a>
</td>
<td class="doc"><p>The path to the file that should be opened</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="system-io.html#t:IOMode" title="System.IO">IOMode</a>
</td>
<td class="doc"><p>The mode in which the file should be opened</p></td>
</tr>
<tr>
<td class="src">-&gt; (<a href="ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> r)</td>
<td class="doc"><p>The action to run with the obtained handle</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> r</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>The computation <code class="inline-code"><a href="ghc-io-stdhandles.html#v:withFile" title="GHC.IO.StdHandles">withFile</a> path mode action</code> opens the file and runs <code class="inline-code">action</code> with the obtained handle before closing the file.</p>
<p>Even when an exception is raised within the <code class="inline-code">action</code>, the file will still be closed. This is why <code class="inline-code"><a href="ghc-io-stdhandles.html#v:withFile" title="GHC.IO.StdHandles">withFile</a> path mode act</code> is preferable to</p>
<pre><a href="ghc-io-stdhandles.html#v:openFile" title="GHC.IO.StdHandles">openFile</a> path mode &gt;&gt;= (\hdl -&gt; act hdl &gt;&gt;= <a href="system-io.html#v:hClose" title="System.IO">hClose</a> hdl)</pre>
<p>See also: <code><a href="system-io.html#v:bracket" title="System.IO">bracket</a></code></p>
<p class="src"><a id="v:withBinaryFile" class="def">withBinaryFile</a> :: <a href="prelude.html#t:FilePath" title="Prelude">FilePath</a> -&gt; <a href="system-io.html#t:IOMode" title="System.IO">IOMode</a> -&gt; (<a href="ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> r) -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> r <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.StdHandles.html#withBinaryFile" class="link">Source</a> </p>
<p>The computation <code class="inline-code"><a href="ghc-io-stdhandles.html#v:withBinaryFile" title="GHC.IO.StdHandles">withBinaryFile</a> path mode action</code> opens the binary file and runs <code class="inline-code">action</code> with the obtained handle before closing the binary file.</p>
<p>This is different from <code><a href="ghc-io-stdhandles.html#v:withFile" title="GHC.IO.StdHandles">withFile</a></code> as in that it does not use any file encoding.</p>
<p>Even when an exception is raised within the <code class="inline-code">action</code>, the file will still be closed. This is why <code class="inline-code"><a href="ghc-io-stdhandles.html#v:withBinaryFile" title="GHC.IO.StdHandles">withBinaryFile</a> path mode act</code> is preferable to</p>
<pre><a href="ghc-io-stdhandles.html#v:openBinaryFile" title="GHC.IO.StdHandles">openBinaryFile</a> path mode &gt;&gt;= (\hdl -&gt; act hdl &gt;&gt;= <a href="system-io.html#v:hClose" title="System.IO">hClose</a> hdl)</pre>
<p>See also: <code><a href="system-io.html#v:bracket" title="System.IO">bracket</a></code></p>
<p class="src"><a id="v:withFileBlocking" class="def">withFileBlocking</a> :: <a href="prelude.html#t:FilePath" title="Prelude">FilePath</a> -&gt; <a href="system-io.html#t:IOMode" title="System.IO">IOMode</a> -&gt; (<a href="ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> r) -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> r <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.IO.StdHandles.html#withFileBlocking" class="link">Source</a> </p>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/base-4.21.0.0-8e62/GHC-IO-StdHandles.html" class="_attribution-link">https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/base-4.21.0.0-8e62/GHC-IO-StdHandles.html</a>
  </p>
</div>
