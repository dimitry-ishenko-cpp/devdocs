<h1 class="caption">GHC.Encoding.UTF8</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th valign="top">Copyright</th>
<td>(c) The University of Glasgow 1994-2023</td>
</tr>
<tr>
<th>License</th>
<td>see libraries/base/LICENSE</td>
</tr>
<tr>
<th>Maintainer</th>
<td>ghc-devs@haskell.org</td>
</tr>
<tr>
<th>Stability</th>
<td>internal</td>
</tr>
<tr>
<th>Portability</th>
<td>non-portable (GHC extensions)</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>None</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="table-of-contents"><div id="contents-list">
<h4 class="caption" onclick="window.scrollTo(0,0)">Contents</h4>
<ul>
<li><a href="#g:1">Decoding single characters</a></li>
<li><a href="#g:2">Decoding strings</a></li>
<li><a href="#g:3">Counting characters</a></li>
<li><a href="#g:4">Comparison</a></li>
<li><a href="#g:5">Encoding strings</a></li>
</ul>
</div></div>
<div id="description">
<h4 class="caption">Description</h4>
<p><em>The API of this module is unstable and not meant to be consumed by the general public.</em> If you absolutely must depend on it, make sure to use a tight upper bound, e.g., <code class="inline-code">base &lt; 4.X</code> rather than <code class="inline-code">base &lt; 5</code>, because the interface can change rapidly without much warning.</p>
<p>Simple UTF-8 codecs supporting non-streaming encoding/decoding. For encoding where codepoints may be broken across buffers, see <a href="ghc-io-encoding-utf8.html">GHC.IO.Encoding.UTF8</a>.</p>
<p>This is one of several UTF-8 implementations provided by GHC; see Note [GHC's many UTF-8 implementations] in <a href="ghc-encoding-utf8.html">GHC.Encoding.UTF8</a> for an overview.</p>
</div>
<a href="#g:1" id="g:1"><h2>Decoding single characters</h2></a><p class="src"><a id="v:utf8DecodeCharAddr-35-" class="def">utf8DecodeCharAddr#</a> :: <a href="ghc-exts.html#t:Addr-35-" title="GHC.Exts">Addr#</a> -&gt; <a href="ghc-exts.html#t:Int-35-" title="GHC.Exts">Int#</a> -&gt; (# <a href="ghc-exts.html#t:Char-35-" title="GHC.Exts">Char#</a>, <a href="ghc-exts.html#t:Int-35-" title="GHC.Exts">Int#</a> #) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Encoding.UTF8.html#utf8DecodeCharAddr%23" class="link">Source</a> </p>
<p>Decode a single character at the given <code><a href="ghc-exts.html#t:Addr-35-" title="GHC.Exts">Addr#</a></code>.</p>
<p class="src"><a id="v:utf8DecodeCharPtr" class="def">utf8DecodeCharPtr</a> :: <a href="foreign-ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="data-word.html#t:Word8" title="Data.Word">Word8</a> -&gt; (<a href="data-char.html#t:Char" title="Data.Char">Char</a>, <a href="data-int.html#t:Int" title="Data.Int">Int</a>) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Encoding.UTF8.html#utf8DecodeCharPtr" class="link">Source</a> </p>
<p>Decode a single codepoint starting at the given <code><a href="ghc-exts.html#v:Ptr" title="GHC.Exts">Ptr</a></code>.</p>
<p class="src"><a id="v:utf8DecodeCharByteArray-35-" class="def">utf8DecodeCharByteArray#</a> :: <a href="ghc-exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a> -&gt; <a href="ghc-exts.html#t:Int-35-" title="GHC.Exts">Int#</a> -&gt; (# <a href="ghc-exts.html#t:Char-35-" title="GHC.Exts">Char#</a>, <a href="ghc-exts.html#t:Int-35-" title="GHC.Exts">Int#</a> #) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Encoding.UTF8.html#utf8DecodeCharByteArray%23" class="link">Source</a> </p>
<p>Decode a single codepoint starting at the given byte offset into a <code><a href="ghc-exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a></code>.</p>
<a href="#g:2" id="g:2"><h2>Decoding strings</h2></a><p class="src"><a id="v:utf8DecodeByteArray-35-" class="def">utf8DecodeByteArray#</a> :: <a href="ghc-exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a> -&gt; [<a href="data-char.html#t:Char" title="Data.Char">Char</a>] <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Encoding.UTF8.html#utf8DecodeByteArray%23" class="link">Source</a> </p>
<p class="src"><a id="v:utf8DecodeForeignPtr" class="def">utf8DecodeForeignPtr</a> :: <a href="foreign-foreignptr.html#t:ForeignPtr" title="Foreign.ForeignPtr">ForeignPtr</a> <a href="data-word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="data-int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="data-int.html#t:Int" title="Data.Int">Int</a> -&gt; [<a href="data-char.html#t:Char" title="Data.Char">Char</a>] <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Encoding.UTF8.html#utf8DecodeForeignPtr" class="link">Source</a> </p>
<a href="#g:3" id="g:3"><h2>Counting characters</h2></a><p class="src"><a id="v:utf8CountCharsByteArray-35-" class="def">utf8CountCharsByteArray#</a> :: <a href="ghc-exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a> -&gt; <a href="data-int.html#t:Int" title="Data.Int">Int</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Encoding.UTF8.html#utf8CountCharsByteArray%23" class="link">Source</a> </p>
<a href="#g:4" id="g:4"><h2>Comparison</h2></a><p class="src"><a id="v:utf8CompareByteArray-35-" class="def">utf8CompareByteArray#</a> :: <a href="ghc-exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a> -&gt; <a href="ghc-exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a> -&gt; <a href="data-ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Encoding.UTF8.html#utf8CompareByteArray%23" class="link">Source</a> </p>
<a href="#g:5" id="g:5"><h2>Encoding strings</h2></a><p class="src"><a id="v:utf8EncodePtr" class="def">utf8EncodePtr</a> :: <a href="foreign-ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> <a href="data-word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="prelude.html#t:IO" title="Prelude">IO</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Encoding.UTF8.html#utf8EncodePtr" class="link">Source</a> </p>
<p class="src"><a id="v:utf8EncodeByteArray-35-" class="def">utf8EncodeByteArray#</a> :: <a href="data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="ghc-exts.html#t:ByteArray-35-" title="GHC.Exts">ByteArray#</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Encoding.UTF8.html#utf8EncodeByteArray%23" class="link">Source</a> </p>
<p class="src"><a id="v:utf8EncodedLength" class="def">utf8EncodedLength</a> :: <a href="data-string.html#t:String" title="Data.String">String</a> -&gt; <a href="data-int.html#t:Int" title="Data.Int">Int</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/ghc-internal-9.1201.0-3ad5/src/GHC.Internal.Encoding.UTF8.html#utf8EncodedLength" class="link">Source</a> </p>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/base-4.21.0.0-8e62/GHC-Encoding-UTF8.html" class="_attribution-link">https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/base-4.21.0.0-8e62/GHC-Encoding-UTF8.html</a>
  </p>
</div>
