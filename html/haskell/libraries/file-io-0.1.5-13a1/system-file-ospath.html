<h1 class="caption">System.File.OsPath</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th valign="top">Copyright</th>
<td>(c) Julian Ospald 2023-2024</td>
</tr>
<tr>
<th>License</th>
<td>BSD3</td>
</tr>
<tr>
<th>Maintainer</th>
<td>hasufell@posteo.de</td>
</tr>
<tr>
<th>Stability</th>
<td>stable</td>
</tr>
<tr>
<th>Portability</th>
<td>portable</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>None</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="description">
<h4 class="caption">Description</h4>
<p>This module mimics base API wrt file IO, but using <code class="inline-code">OsPath</code>.</p>
</div>
<p class="src"><a id="v:openBinaryFile" class="def">openBinaryFile</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../base-4.21.0.0-8e62/system-io.html#t:IOMode" title="System.IO">IOMode</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#openBinaryFile" class="link">Source</a> </p>
<p>Like <code><a href="system-file-ospath.html#v:openFile" title="System.File.OsPath">openFile</a></code>, but open the file in binary mode. On Windows, reading a file in text mode (which is the default) will translate CRLF to LF, and writing will translate LF to CRLF. This is usually what you want with text files. With binary files this is undesirable; also, as usual under Microsoft operating systems, text mode treats control-Z as EOF. Binary mode turns off all special treatment of end-of-line and end-of-file characters. (See also <code><a href="../base-4.21.0.0-8e62/system-io.html#v:hSetBinaryMode" title="System.IO">hSetBinaryMode</a></code>.)</p>
<p class="src"><a id="v:withFile" class="def">withFile</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../base-4.21.0.0-8e62/system-io.html#t:IOMode" title="System.IO">IOMode</a> -&gt; (<a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> r) -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> r <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#withFile" class="link">Source</a> </p>
<p>Run an action on a file.</p>
<p>The <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code> is automatically closed afther the action.</p>
<p class="src"><a id="v:withBinaryFile" class="def">withBinaryFile</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../base-4.21.0.0-8e62/system-io.html#t:IOMode" title="System.IO">IOMode</a> -&gt; (<a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> r) -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> r <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#withBinaryFile" class="link">Source</a> </p>
<p class="src"><a id="v:withFile-39-" class="def">withFile'</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../base-4.21.0.0-8e62/system-io.html#t:IOMode" title="System.IO">IOMode</a> -&gt; (<a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> r) -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> r <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#withFile%27" class="link">Source</a> </p>
<p>Run an action on a file.</p>
<p>The <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code> is not automatically closed to allow lazy IO. Use this with caution.</p>
<p class="src"><a id="v:withBinaryFile-39-" class="def">withBinaryFile'</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../base-4.21.0.0-8e62/system-io.html#t:IOMode" title="System.IO">IOMode</a> -&gt; (<a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> r) -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> r <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#withBinaryFile%27" class="link">Source</a> </p>
<p class="src"><a id="v:readFile" class="def">readFile</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="../bytestring-0.12.2.0-2f68/data-bytestring-lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#readFile" class="link">Source</a> </p>
<p>The <code><a href="system-file-ospath.html#v:readFile" title="System.File.OsPath">readFile</a></code> function reads a file and returns the contents of the file as a <code class="inline-code">ByteString</code>. The file is read lazily, on demand.</p>
<p class="src"><a id="v:readFile-39-" class="def">readFile'</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="../bytestring-0.12.2.0-2f68/data-bytestring.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#readFile%27" class="link">Source</a> </p>
<p>The <code><a href="system-file-ospath.html#v:readFile-39-" title="System.File.OsPath">readFile'</a></code> function reads a file and returns the contents of the file as a <code class="inline-code">ByteString</code>. The file is fully read before being returned.</p>
<p class="src"><a id="v:writeFile" class="def">writeFile</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../bytestring-0.12.2.0-2f68/data-bytestring-lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#writeFile" class="link">Source</a> </p>
<p>The computation <code><a href="system-file-ospath.html#v:writeFile" title="System.File.OsPath">writeFile</a></code> <code class="inline-code">file str</code> function writes the lazy <code class="inline-code">ByteString</code> <code class="inline-code">str</code>, to the file <code class="inline-code">file</code>.</p>
<p class="src"><a id="v:writeFile-39-" class="def">writeFile'</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../bytestring-0.12.2.0-2f68/data-bytestring.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#writeFile%27" class="link">Source</a> </p>
<p>The computation <code><a href="system-file-ospath.html#v:writeFile" title="System.File.OsPath">writeFile</a></code> <code class="inline-code">file str</code> function writes the strict <code class="inline-code">ByteString</code> <code class="inline-code">str</code>, to the file <code class="inline-code">file</code>.</p>
<p class="src"><a id="v:appendFile" class="def">appendFile</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../bytestring-0.12.2.0-2f68/data-bytestring-lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#appendFile" class="link">Source</a> </p>
<p>The computation <code><a href="system-file-ospath.html#v:appendFile" title="System.File.OsPath">appendFile</a></code> <code class="inline-code">file str</code> function appends the lazy <code class="inline-code">ByteString</code> <code class="inline-code">str</code>, to the file <code class="inline-code">file</code>.</p>
<p class="src"><a id="v:appendFile-39-" class="def">appendFile'</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../bytestring-0.12.2.0-2f68/data-bytestring.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> () <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#appendFile%27" class="link">Source</a> </p>
<p>The computation <code><a href="system-file-ospath.html#v:appendFile" title="System.File.OsPath">appendFile</a></code> <code class="inline-code">file str</code> function appends the strict <code class="inline-code">ByteString</code> <code class="inline-code">str</code>, to the file <code class="inline-code">file</code>.</p>
<p class="src"><a id="v:openFile" class="def">openFile</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../base-4.21.0.0-8e62/system-io.html#t:IOMode" title="System.IO">IOMode</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#openFile" class="link">Source</a> </p>
<p>Open a file and return the <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>.</p>
<p class="src"><a id="v:openExistingFile" class="def">openExistingFile</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../base-4.21.0.0-8e62/system-io.html#t:IOMode" title="System.IO">IOMode</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#openExistingFile" class="link">Source</a> </p>
<p>Open an existing file and return the <code><a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>.</p>
<p class="src"><a id="v:openTempFile" class="def">openTempFile</a> <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#openTempFile" class="link">Source</a> </p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a>
</td>
<td class="doc"><p>Directory in which to create the file</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsString" title="System.OsPath.Types">OsString</a>
</td>
<td class="doc"><p>File name template. If the template is "foo.ext" then the created file will be "fooXXX.ext" where XXX is some random number. Note that this should not contain any path separator characters. On Windows, the template prefix may be truncated to 3 chars, e.g. "foobar.ext" will be "fooXXX.ext".</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a>, <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>)</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>The function creates a temporary file in ReadWrite mode. The created file isn't deleted automatically, so you need to delete it manually.</p>
<p>The file is created with permissions such that only the current user can read/write it.</p>
<p>With some exceptions (see below), the file will be created securely in the sense that an attacker should not be able to cause openTempFile to overwrite another file on the filesystem using your credentials, by putting symbolic links (on Unix) in the place where the temporary file is to be created. On Unix the <code class="inline-code">O_CREAT</code> and <code class="inline-code">O_EXCL</code> flags are used to prevent this attack, but note that <code class="inline-code">O_EXCL</code> is sometimes not supported on NFS filesystems, so if you rely on this behaviour it is best to use local filesystems only.</p>
<p><span class="version">Since: file-io-0.1.3</span></p>
<p class="src"><a id="v:openBinaryTempFile" class="def">openBinaryTempFile</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsString" title="System.OsPath.Types">OsString</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a>, <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#openBinaryTempFile" class="link">Source</a> </p>
<p>Like <code><a href="system-file-ospath.html#v:openTempFile" title="System.File.OsPath">openTempFile</a></code>, but opens the file in binary mode. See <code><a href="system-file-ospath.html#v:openBinaryFile" title="System.File.OsPath">openBinaryFile</a></code> for more comments.</p>
<p><span class="version">Since: file-io-0.1.3</span></p>
<p class="src"><a id="v:openTempFileWithDefaultPermissions" class="def">openTempFileWithDefaultPermissions</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsString" title="System.OsPath.Types">OsString</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a>, <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#openTempFileWithDefaultPermissions" class="link">Source</a> </p>
<p>Like <code><a href="system-file-ospath.html#v:openTempFile" title="System.File.OsPath">openTempFile</a></code>, but uses the default file permissions</p>
<p><span class="version">Since: file-io-0.1.3</span></p>
<p class="src"><a id="v:openBinaryTempFileWithDefaultPermissions" class="def">openBinaryTempFileWithDefaultPermissions</a> :: <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a> -&gt; <a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsString" title="System.OsPath.Types">OsString</a> -&gt; <a href="../base-4.21.0.0-8e62/prelude.html#t:IO" title="Prelude">IO</a> (<a href="../filepath-1.5.4.0-4765/system-ospath-types.html#t:OsPath" title="System.OsPath.Types">OsPath</a>, <a href="../base-4.21.0.0-8e62/ghc-io-handle.html#t:Handle" title="GHC.IO.Handle">Handle</a>) <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/src/System.File.OsPath.Internal.html#openBinaryTempFileWithDefaultPermissions" class="link">Source</a> </p>
<p>Like <code><a href="system-file-ospath.html#v:openBinaryTempFile" title="System.File.OsPath">openBinaryTempFile</a></code>, but uses the default file permissions</p>
<p><span class="version">Since: file-io-0.1.3</span></p>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/System-File-OsPath.html" class="_attribution-link">https://downloads.haskell.org/~ghc/9.12.1/docs/libraries/file-io-0.1.5-13a1/System-File-OsPath.html</a>
  </p>
</div>
