<div class="section-level-extent" id="Multiple-Return-Values"> <div class="nav-panel"> <p> Next: <a href="variable_002dlength-return-lists.html" accesskey="n" rel="next">Variable-length Return Lists</a>, Previous: <a href="returning-from-a-function.html" accesskey="p" rel="prev">Returning from a Function</a>, Up: <a href="functions-and-scripts.html" accesskey="u" rel="up">Functions and Scripts</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div>  <h1 class="section" id="Multiple-Return-Values-1"><span>11.4 Multiple Return Values<a class="copiable-link" href="#Multiple-Return-Values-1"> ¶</a></span></h1> <p>Unlike many other computer languages, Octave allows you to define functions that return more than one value. The syntax for defining functions that return multiple values is </p> <pre class="example" data-language="matlab">function [ret-list] = name (arg-list)
  body
endfunction</pre> <p>where <var class="var">name</var>, <var class="var">arg-list</var>, and <var class="var">body</var> have the same meaning as before, and <var class="var">ret-list</var> is a comma-separated list of variable names that will hold the values returned from the function. The list of return values must have at least one element. If <var class="var">ret-list</var> has only one element, this form of the <code class="code">function</code> statement is equivalent to the form described in the previous section. </p> <p>Here is an example of a function that returns two values, the maximum element of a vector and the index of its first occurrence in the vector. </p> <pre class="example" data-language="matlab">function [max, idx] = vmax (v)
  idx = 1;
  max = v (idx);
  for i = 2:length (v)
    if (v (i) &gt; max)
      max = v (i);
      idx = i;
    endif
  endfor
endfunction</pre> <p>In this particular case, the two values could have been returned as elements of a single array, but that is not always possible or convenient. The values to be returned may not have compatible dimensions, and it is often desirable to give the individual return values distinct names. </p> <p>It is possible to use the <code class="code">nthargout</code> function to obtain only some of the return values or several at once in a cell array. See <a class="xref" href="cell-array-objects.html">Cell Array Objects</a>. </p>  <dl class="first-deftypefn"> <dt class="deftypefn" id="index-nthargout">
<span class="category-def">: </span><span><code class="def-type"><var class="var">arg</var> =</code> <strong class="def-name">nthargout</strong> <code class="def-code-arguments">(<var class="var">n</var>, <var class="var">fcn</var>, …)</code><a class="copiable-link" href="#index-nthargout"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-nthargout-1">
<span class="category-def">: </span><span><code class="def-type"><var class="var">arg</var> =</code> <strong class="def-name">nthargout</strong> <code class="def-code-arguments">(<var class="var">n</var>, <var class="var">ntot</var>, <var class="var">fcn</var>, …)</code><a class="copiable-link" href="#index-nthargout-1"> ¶</a></span>
</dt> <dd>
<p>Return the <var class="var">n</var>th output argument of the function specified by the function handle or string <var class="var">fcn</var>. </p> <p>Any additional arguments are passed directly to <var class="var">fcn</var>. The total number of arguments to call <var class="var">fcn</var> with can be passed in <var class="var">ntot</var>; by default <var class="var">ntot</var> is <var class="var">n</var>. The input <var class="var">n</var> can also be a vector of indices of the output, in which case the output will be a cell array of the requested output arguments. </p> <p>The intended use of <code class="code">nthargout</code> is to avoid intermediate variables. For example, when finding the indices of the maximum entry of a matrix, the following two compositions of <code class="code">nthargout</code> </p> <pre class="example" data-language="matlab">m = magic (5);
cell2mat (nthargout ([1, 2], @ind2sub, size (m),
                     nthargout (2, @max, m(:))))
⇒ 5   3</pre> <p>are completely equivalent to the following lines: </p> <pre class="example" data-language="matlab">m = magic (5);
[~, idx] = max (M(:));
[i, j] = ind2sub (size (m), idx);
[i, j]
⇒ 5   3</pre> <p>It can also be helpful to have all output arguments collected in a single cell array as the following code demonstrates: </p> <pre class="example" data-language="matlab">USV = nthargout ([1:3], @svd, hilb (5));</pre> <p><strong class="strong">See also:</strong> <a class="ref" href="defining-functions.html#XREFnargin">nargin</a>, <a class="ref" href="#XREFnargout">nargout</a>, <a class="ref" href="variable_002dlength-argument-lists.html#XREFvarargin">varargin</a>, <a class="ref" href="variable_002dlength-return-lists.html#XREFvarargout">varargout</a>, <a class="ref" href="ignoring-arguments.html#XREFisargout">isargout</a>. </p>
</dd>
</dl> <p>In addition to setting <code class="code">nargin</code> each time a function is called, Octave also automatically initializes <code class="code">nargout</code> to the number of values that are expected to be returned. This allows you to write functions that behave differently depending on the number of values that the user of the function has requested. The implicit assignment to the built-in variable <code class="code">ans</code> does not figure in the count of output arguments, so the value of <code class="code">nargout</code> may be zero. </p> <p>The <code class="code">svd</code> and <code class="code">hist</code> functions are examples of built-in functions that behave differently depending on the value of <code class="code">nargout</code>. For example, <code class="code">hist</code> will draw a histogram when called with no output variables, but if called with outputs it will return the frequency counts and/or bin centers without creating a plot. </p> <p>It is possible to write functions that only set some return values. For example, calling the function </p> <pre class="example" data-language="matlab">function [x, y, z] = f ()
  x = 1;
  z = 2;
endfunction</pre> <p>as </p> <pre class="example" data-language="matlab">[a, b, c] = f ()</pre> <p>produces: </p> <pre class="example" data-language="matlab">a = 1

b = [](0x0)

c = 2</pre> <p>along with a warning. </p>  <dl class="first-deftypefn"> <dt class="deftypefn" id="index-nargout">
<span class="category-def">: </span><span><code class="def-type"><var class="var">n</var> =</code> <strong class="def-name">nargout</strong> <code class="def-code-arguments">()</code><a class="copiable-link" href="#index-nargout"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-nargout-1">
<span class="category-def">: </span><span><code class="def-type"><var class="var">n</var> =</code> <strong class="def-name">nargout</strong> <code class="def-code-arguments">(<var class="var">fcn</var>)</code><a class="copiable-link" href="#index-nargout-1"> ¶</a></span>
</dt> <dd>
<p>Report the number of output arguments from a function. </p> <p>Called from within a function, return the number of values the caller expects to receive. At the top level, <code class="code">nargout</code> with no argument is undefined and will produce an error. </p> <p>If called with the optional argument <var class="var">fcn</var>—a function name or handle—return the number of declared output values that the function can produce. </p> <p>If the final output argument is <var class="var">varargout</var> the returned value is negative. </p> <p>For example, </p> <pre class="example" data-language="matlab">f ()</pre> <p>will cause <code class="code">nargout</code> to return 0 inside the function <code class="code">f</code> and </p> <pre class="example" data-language="matlab">[s, t] = f ()</pre> <p>will cause <code class="code">nargout</code> to return 2 inside the function <code class="code">f</code>. </p> <p>In the second usage, </p> <pre class="example" data-language="matlab">nargout (@histc)   # or nargout ("histc") using a string input</pre> <p>will return 2, because <code class="code">histc</code> has two outputs, whereas </p> <pre class="example" data-language="matlab">nargout (@imread)</pre> <p>will return -2, because <code class="code">imread</code> has two outputs and the second is <var class="var">varargout</var>. </p> <p>Programming Note. <code class="code">nargout</code> does not work for built-in functions and returns -1 for all anonymous functions. </p> <p><strong class="strong">See also:</strong> <a class="ref" href="defining-functions.html#XREFnargin">nargin</a>, <a class="ref" href="variable_002dlength-return-lists.html#XREFvarargout">varargout</a>, <a class="ref" href="ignoring-arguments.html#XREFisargout">isargout</a>, <a class="ref" href="#XREFnthargout">nthargout</a>. </p>
</dd>
</dl> </div>  <div class="nav-panel"> <p> Next: <a href="variable_002dlength-return-lists.html">Variable-length Return Lists</a>, Previous: <a href="returning-from-a-function.html">Returning from a Function</a>, Up: <a href="functions-and-scripts.html">Functions and Scripts</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v9.2.0/Multiple-Return-Values.html" class="_attribution-link">https://docs.octave.org/v9.2.0/Multiple-Return-Values.html</a>
  </p>
</div>
