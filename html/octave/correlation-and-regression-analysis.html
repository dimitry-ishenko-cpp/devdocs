<div class="section-level-extent" id="Correlation-and-Regression-Analysis"> <div class="nav-panel"> <p> Next: <a href="distributions.html" accesskey="n" rel="next">Distributions</a>, Previous: <a href="basic-statistical-functions.html" accesskey="p" rel="prev">Basic Statistical Functions</a>, Up: <a href="statistics.html" accesskey="u" rel="up">Statistics</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div>  <h1 class="section" id="Correlation-and-Regression-Analysis-1"><span>26.4 Correlation and Regression Analysis<a class="copiable-link" href="#Correlation-and-Regression-Analysis-1"> ¶</a></span></h1>  <dl class="first-deftypefn"> <dt class="deftypefn" id="index-cov">
<span class="category-def">: </span><span><code class="def-type"><var class="var">c</var> =</code> <strong class="def-name">cov</strong> <code class="def-code-arguments">(<var class="var">x</var>)</code><a class="copiable-link" href="#index-cov"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-cov-1">
<span class="category-def">: </span><span><code class="def-type"><var class="var">c</var> =</code> <strong class="def-name">cov</strong> <code class="def-code-arguments">(<var class="var">x</var>, <var class="var">y</var>)</code><a class="copiable-link" href="#index-cov-1"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-cov-2">
<span class="category-def">: </span><span><code class="def-type"><var class="var">c</var> =</code> <strong class="def-name">cov</strong> <code class="def-code-arguments">(…, <var class="var">opt</var>)</code><a class="copiable-link" href="#index-cov-2"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-cov-3">
<span class="category-def">: </span><span><code class="def-type"><var class="var">c</var> =</code> <strong class="def-name">cov</strong> <code class="def-code-arguments">(…, <var class="var">nanflag</var>)</code><a class="copiable-link" href="#index-cov-3"> ¶</a></span>
</dt> <dd>
<p>Compute the covariance matrix. </p> <p>The covariance between two variable vectors <var class="var">A</var> and <var class="var">B</var> is calculated as: </p> <pre class="example" data-language="matlab">cov (a,b) = 1/(N-1) * SUM_i (a(i) - mean (a)) * (b(i) - mean (b))</pre> <p>where <em class="math">N</em> is the length of the vectors <var class="var">a</var> and <var class="var">b</var>. </p> <p>If called with one argument, compute <code class="code">cov (<var class="var">x</var>, <var class="var">x</var>)</code>. If <var class="var">x</var> is a vector, this is the scalar variance of <var class="var">x</var>. If <var class="var">x</var> is a matrix, each row of <var class="var">x</var> is treated as an observation, and each column as a variable, and the (<var class="var">i</var>, <var class="var">j</var>)-th entry of <code class="code">cov (<var class="var">x</var>)</code> is the covariance between the <var class="var">i</var>-th and <var class="var">j</var>-th columns in <var class="var">x</var>. If <var class="var">x</var> has dimensions n x m, the output <var class="var">c</var> will be a m x m square covariance matrix. </p> <p>If called with two arguments, compute <code class="code">cov (<var class="var">x</var>, <var class="var">y</var>)</code>, the covariance between two random variables <var class="var">x</var> and <var class="var">y</var>. <var class="var">x</var> and <var class="var">y</var> must have the same number of elements, and will be treated as vectors with the covariance computed as <code class="code">cov (<var class="var">x</var>(:), <var class="var">y</var>(:))</code>. The output will be a 2 x 2 covariance matrix. </p> <p>The optional argument <var class="var">opt</var> determines the type of normalization to use. Valid values are </p> <dl class="table"> <dt>0 [default]:</dt> <dd>
<p>Normalize with <em class="math">N-1</em>. This provides the best unbiased estimator of the covariance. </p> </dd> <dt>1:</dt> <dd><p>Normalize with <em class="math">N</em>. This provides the second moment around the mean. <var class="var">opt</var> is set to 1 for N = 1. </p></dd> </dl> <p>The optional argument <var class="var">nanflag</var> must appear last in the argument list and controls how NaN values are handled by <code class="code">cov</code>. The three valid values are: </p> <dl class="table"> <dt>includenan [default]:</dt> <dd>
<p>Leave NaN values in <var class="var">x</var> and <var class="var">y</var>. Output will follow the normal rules for handling NaN values in arithmetic operations. </p> </dd> <dt>omitrows:</dt> <dd>
<p>Rows containing NaN values are trimmed from both <var class="var">x</var> and <var class="var">y</var> prior to calculating the covariance. A NaN in one variable will remove that row from both <var class="var">x</var> and <var class="var">y</var>. </p> </dd> <dt>partialrows:</dt> <dd><p>Rows containing NaN values are ignored from both <var class="var">x</var> and <var class="var">y</var> independently for each <var class="var">i</var>-th and <var class="var">j</var>-th covariance calculation. This may result in a different number of observations, <em class="math">N</em>, being used to calculated each element of the covariance matrix. </p></dd> </dl> <p>Compatibility Note: Previous versions of <code class="code">cov</code> treated rows <var class="var">x</var> and <var class="var">y</var> as multivariate random variables. This version attempts to maintain full compatibility with <small class="sc">MATLAB</small> by treating <var class="var">x</var> and <var class="var">y</var> as two univariate distributions regardless of shape, resulting in a 2x2 output matrix. Code relying on Octave’s previous definition will need to be modified when running this newer version of <code class="code">cov</code>. The previous behavior can be obtained by using the NaN package’s <code class="code">covm</code> function as <code class="code">covm (<var class="var">x</var>, <var class="var">y</var>, "D")</code>. </p> <p><strong class="strong">See also:</strong> <a class="ref" href="#XREFcorr">corr</a>. </p>
</dd>
</dl>  <dl class="first-deftypefn"> <dt class="deftypefn" id="index-corr">
<span class="category-def">: </span><span><code class="def-type"><var class="var">r</var> =</code> <strong class="def-name">corr</strong> <code class="def-code-arguments">(<var class="var">x</var>)</code><a class="copiable-link" href="#index-corr"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-corr-1">
<span class="category-def">: </span><span><code class="def-type"><var class="var">r</var> =</code> <strong class="def-name">corr</strong> <code class="def-code-arguments">(<var class="var">x</var>, <var class="var">y</var>)</code><a class="copiable-link" href="#index-corr-1"> ¶</a></span>
</dt> <dd>
<p>Compute matrix of correlation coefficients. </p> <p>If each row of <var class="var">x</var> and <var class="var">y</var> is an observation and each column is a variable, then the (<var class="var">i</var>, <var class="var">j</var>)-th entry of <code class="code">corr (<var class="var">x</var>, <var class="var">y</var>)</code> is the correlation between the <var class="var">i</var>-th variable in <var class="var">x</var> and the <var class="var">j</var>-th variable in <var class="var">y</var>. <var class="var">x</var> and <var class="var">y</var> must have the same number of rows (observations). </p> <pre class="example" data-language="matlab">corr (x,y) = cov (x,y) / (std (x) * std (y))</pre> <p>If called with one argument, compute <code class="code">corr (<var class="var">x</var>, <var class="var">x</var>)</code>, the correlation between the columns of <var class="var">x</var>. </p> <p><strong class="strong">See also:</strong> <a class="ref" href="#XREFcov">cov</a>. </p>
</dd>
</dl>  <dl class="first-deftypefn"> <dt class="deftypefn" id="index-corrcoef">
<span class="category-def">: </span><span><code class="def-type"><var class="var">r</var> =</code> <strong class="def-name">corrcoef</strong> <code class="def-code-arguments">(<var class="var">x</var>)</code><a class="copiable-link" href="#index-corrcoef"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-corrcoef-1">
<span class="category-def">: </span><span><code class="def-type"><var class="var">r</var> =</code> <strong class="def-name">corrcoef</strong> <code class="def-code-arguments">(<var class="var">x</var>, <var class="var">y</var>)</code><a class="copiable-link" href="#index-corrcoef-1"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-corrcoef-2">
<span class="category-def">: </span><span><code class="def-type"><var class="var">r</var> =</code> <strong class="def-name">corrcoef</strong> <code class="def-code-arguments">(…, <var class="var">param</var>, <var class="var">value</var>, …)</code><a class="copiable-link" href="#index-corrcoef-2"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-corrcoef-3">
<span class="category-def">: </span><span><code class="def-type">[<var class="var">r</var>, <var class="var">p</var>] =</code> <strong class="def-name">corrcoef</strong> <code class="def-code-arguments">(…)</code><a class="copiable-link" href="#index-corrcoef-3"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-corrcoef-4">
<span class="category-def">: </span><span><code class="def-type">[<var class="var">r</var>, <var class="var">p</var>, <var class="var">lci</var>, <var class="var">hci</var>] =</code> <strong class="def-name">corrcoef</strong> <code class="def-code-arguments">(…)</code><a class="copiable-link" href="#index-corrcoef-4"> ¶</a></span>
</dt> <dd>
<p>Compute a matrix of correlation coefficients. </p> <p><var class="var">x</var> is an array where each column contains a variable and each row is an observation. </p> <p>If a second input <var class="var">y</var> (of the same size as <var class="var">x</var>) is given then calculate the correlation coefficients between <var class="var">x</var> and <var class="var">y</var>. </p> <p><var class="var">param</var>, <var class="var">value</var> are optional pairs of parameters and values which modify the calculation. Valid options are: </p> <dl class="table"> <dt><code class="code">"alpha"</code></dt> <dd>
<p>Confidence level used for the bounds of the confidence interval, <var class="var">lci</var> and <var class="var">hci</var>. Default is 0.05, i.e., 95% confidence interval. </p> </dd> <dt><code class="code">"rows"</code></dt> <dd><p>Determine processing of NaN values. Acceptable values are <code class="code">"all"</code>, <code class="code">"complete"</code>, and <code class="code">"pairwise"</code>. Default is <code class="code">"all"</code>. With <code class="code">"complete"</code>, only the rows without NaN values are considered. With <code class="code">"pairwise"</code>, the selection of NaN-free rows is made for each pair of variables. </p></dd> </dl> <p>Output <var class="var">r</var> is a matrix of Pearson’s product moment correlation coefficients for each pair of variables. </p> <p>Output <var class="var">p</var> is a matrix of pair-wise p-values testing for the null hypothesis of a correlation coefficient of zero. </p> <p>Outputs <var class="var">lci</var> and <var class="var">hci</var> are matrices containing, respectively, the lower and higher bounds of the 95% confidence interval of each correlation coefficient. </p> <p><strong class="strong">See also:</strong> <a class="ref" href="#XREFcorr">corr</a>, <a class="ref" href="#XREFcov">cov</a>, <a class="ref" href="descriptive-statistics.html#XREFstd">std</a>. </p>
</dd>
</dl>  <dl class="first-deftypefn"> <dt class="deftypefn" id="index-spearman">
<span class="category-def">: </span><span><code class="def-type"><var class="var">rho</var> =</code> <strong class="def-name">spearman</strong> <code class="def-code-arguments">(<var class="var">x</var>)</code><a class="copiable-link" href="#index-spearman"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-spearman-1">
<span class="category-def">: </span><span><code class="def-type"><var class="var">rho</var> =</code> <strong class="def-name">spearman</strong> <code class="def-code-arguments">(<var class="var">x</var>, <var class="var">y</var>)</code><a class="copiable-link" href="#index-spearman-1"> ¶</a></span>
</dt> <dd>
 <p>Compute Spearman’s rank correlation coefficient <var class="var">rho</var>. </p> <p>For two data vectors <var class="var">x</var> and <var class="var">y</var>, Spearman’s <var class="var">rho</var> is the correlation coefficient of the ranks of <var class="var">x</var> and <var class="var">y</var>. </p> <p>If <var class="var">x</var> and <var class="var">y</var> are drawn from independent distributions, <var class="var">rho</var> has zero mean and variance <code class="code">1 / (N - 1)</code>, where <em class="math">N</em> is the length of the <var class="var">x</var> and <var class="var">y</var> vectors, and is asymptotically normally distributed. </p> <p><code class="code">spearman (<var class="var">x</var>)</code> is equivalent to <code class="code">spearman (<var class="var">x</var>, <var class="var">x</var>)</code>. </p> <p><strong class="strong">See also:</strong> <a class="ref" href="basic-statistical-functions.html#XREFranks">ranks</a>, <a class="ref" href="#XREFkendall">kendall</a>. </p>
</dd>
</dl>  <dl class="first-deftypefn"> <dt class="deftypefn" id="index-kendall">
<span class="category-def">: </span><span><code class="def-type"><var class="var">tau</var> =</code> <strong class="def-name">kendall</strong> <code class="def-code-arguments">(<var class="var">x</var>)</code><a class="copiable-link" href="#index-kendall"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-kendall-1">
<span class="category-def">: </span><span><code class="def-type"><var class="var">tau</var> =</code> <strong class="def-name">kendall</strong> <code class="def-code-arguments">(<var class="var">x</var>, <var class="var">y</var>)</code><a class="copiable-link" href="#index-kendall-1"> ¶</a></span>
</dt> <dd>
 <p>Compute Kendall’s <var class="var">tau</var>. </p> <p>For two data vectors <var class="var">x</var>, <var class="var">y</var> of common length <em class="math">N</em>, Kendall’s <var class="var">tau</var> is the correlation of the signs of all rank differences of <var class="var">x</var> and <var class="var">y</var>; i.e., if both <var class="var">x</var> and <var class="var">y</var> have distinct entries, then </p> <pre class="example" data-language="matlab">1
tau = -------   SUM sign (q(i) - q(j)) * sign (r(i) - r(j))
      N (N-1)   i,j</pre> <p>in which the <var class="var">q</var>(i) and <var class="var">r</var>(i) are the ranks of <var class="var">x</var> and <var class="var">y</var>, respectively. </p> <p>If <var class="var">x</var> and <var class="var">y</var> are drawn from independent distributions, Kendall’s <var class="var">tau</var> is asymptotically normal with mean 0 and variance <code class="code">(2 * (2N+5)) / (9 * N * (N-1))</code>. </p> <p><code class="code">kendall (<var class="var">x</var>)</code> is equivalent to <code class="code">kendall (<var class="var">x</var>,
<var class="var">x</var>)</code>. </p> <p><strong class="strong">See also:</strong> <a class="ref" href="basic-statistical-functions.html#XREFranks">ranks</a>, <a class="ref" href="#XREFspearman">spearman</a>. </p>
</dd>
</dl> </div>  <div class="nav-panel"> <p> Next: <a href="distributions.html">Distributions</a>, Previous: <a href="basic-statistical-functions.html">Basic Statistical Functions</a>, Up: <a href="statistics.html">Statistics</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v9.2.0/Correlation-and-Regression-Analysis.html" class="_attribution-link">https://docs.octave.org/v9.2.0/Correlation-and-Regression-Analysis.html</a>
  </p>
</div>
