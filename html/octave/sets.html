<div class="chapter-level-extent" id="Sets"> <div class="nav-panel"> <p> Next: <a href="polynomial-manipulations.html" accesskey="n" rel="next">Polynomial Manipulations</a>, Previous: <a href="statistics.html" accesskey="p" rel="prev">Statistics</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div>  <h1 class="chapter" id="Sets-1"><span>27 Sets<a class="copiable-link" href="#Sets-1"> ¶</a></span></h1> <p>Octave has a number of functions for managing sets of data. A set is defined as a collection of unique elements and is typically represented by a vector of numbers sorted in ascending order. Any vector or matrix can be converted to a set by removing duplicates through the use of the <code class="code">unique</code> function. However, it isn’t necessary to explicitly create a set as all of the functions which operate on sets will convert their input to a set before proceeding. </p>  <dl class="first-deftypefn"> <dt class="deftypefn" id="index-unique">
<span class="category-def">: </span><span><code class="def-type"><var class="var">y</var> =</code> <strong class="def-name">unique</strong> <code class="def-code-arguments">(<var class="var">x</var>)</code><a class="copiable-link" href="#index-unique"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-unique-1">
<span class="category-def">: </span><span><code class="def-type"><var class="var">y</var> =</code> <strong class="def-name">unique</strong> <code class="def-code-arguments">(<var class="var">x</var>, "rows")</code><a class="copiable-link" href="#index-unique-1"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-unique-2">
<span class="category-def">: </span><span><code class="def-type"><var class="var">y</var> =</code> <strong class="def-name">unique</strong> <code class="def-code-arguments">(…, "sorted")</code><a class="copiable-link" href="#index-unique-2"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-unique-3">
<span class="category-def">: </span><span><code class="def-type"><var class="var">y</var> =</code> <strong class="def-name">unique</strong> <code class="def-code-arguments">(…, "stable")</code><a class="copiable-link" href="#index-unique-3"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-unique-4">
<span class="category-def">: </span><span><code class="def-type">[<var class="var">y</var>, <var class="var">i</var>, <var class="var">j</var>] =</code> <strong class="def-name">unique</strong> <code class="def-code-arguments">(…)</code><a class="copiable-link" href="#index-unique-4"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-unique-5">
<span class="category-def">: </span><span><code class="def-type">[<var class="var">y</var>, <var class="var">i</var>, <var class="var">j</var>] =</code> <strong class="def-name">unique</strong> <code class="def-code-arguments">(…, "first")</code><a class="copiable-link" href="#index-unique-5"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-unique-6">
<span class="category-def">: </span><span><code class="def-type">[<var class="var">y</var>, <var class="var">i</var>, <var class="var">j</var>] =</code> <strong class="def-name">unique</strong> <code class="def-code-arguments">(…, "last")</code><a class="copiable-link" href="#index-unique-6"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-unique-7">
<span class="category-def">: </span><span><code class="def-type">[<var class="var">y</var>, <var class="var">i</var>, <var class="var">j</var>] =</code> <strong class="def-name">unique</strong> <code class="def-code-arguments">(…, "legacy")</code><a class="copiable-link" href="#index-unique-7"> ¶</a></span>
</dt> <dd>
<p>Return the unique elements of <var class="var">x</var>. </p> <p>If the input <var class="var">x</var> is a column vector then return a column vector; Otherwise, return a row vector. <var class="var">x</var> may also be a cell array of strings. </p> <p>If the optional argument <code class="code">"rows"</code> is given then return the unique rows of <var class="var">x</var>. The input must be a 2-D numeric matrix to use this option. </p> <p>The optional argument <code class="code">"sorted"</code>/<code class="code">"stable"</code> controls the order in which unique values appear in the output. The default is <code class="code">"sorted"</code> and values in the output are placed in ascending order. The alternative <code class="code">"stable"</code> preserves the order found in the input <var class="var">x</var>. </p> <p>If requested, return column index vectors <var class="var">i</var> and <var class="var">j</var> such that <code class="code"><var class="var">y</var> = <var class="var">x</var>(<var class="var">i</var>)</code> and <code class="code"><var class="var">x</var> = <var class="var">y</var>(<var class="var">j</var>)</code>. </p> <p>Additionally, if <var class="var">i</var> is a requested output then one of the flags <code class="code">"first"</code> or <code class="code">"last"</code> may be given. If <code class="code">"last"</code> is specified, return the highest possible indices in <var class="var">i</var>, otherwise, if <code class="code">"first"</code> is specified, return the lowest. The default is <code class="code">"first"</code>. </p> <p>Example 1 : sort order </p> <pre class="example" data-language="matlab">unique ([3, 1, 1, 2])
⇒ [1, 2, 3]
unique ([3, 1, 1, 2], "stable")
⇒ [3, 1, 2]</pre> <p>Example 2 : index selection </p> <pre class="example" data-language="matlab">[~, i] = unique ([3, 1, 1, 2], "first")
⇒ i = [2; 4; 1]
[~, i] = unique ([3, 1, 1, 2], "last")
⇒ i = [3; 4; 1]</pre> <p>Programming Notes: The input flag <code class="code">"legacy"</code> changes the algorithm to be compatible with <small class="sc">MATLAB</small> releases prior to R2012b. Specifically, The index ordering flag is changed to <code class="code">"last"</code>, and the shape of the outputs <var class="var">i</var>, <var class="var">j</var> will follow the shape of the input <var class="var">x</var> rather than always being column vectors. </p> <p>The third output, <var class="var">j</var>, has not been implemented yet when the sort order is <code class="code">"stable"</code>. </p> <p><strong class="strong">See also:</strong> <a class="ref" href="#XREFuniquetol">uniquetol</a>, <a class="ref" href="set-operations.html#XREFunion">union</a>, <a class="ref" href="set-operations.html#XREFintersect">intersect</a>, <a class="ref" href="set-operations.html#XREFsetdiff">setdiff</a>, <a class="ref" href="set-operations.html#XREFsetxor">setxor</a>, <a class="ref" href="set-operations.html#XREFismember">ismember</a>. </p>
</dd>
</dl>  <dl class="first-deftypefn"> <dt class="deftypefn" id="index-uniquetol">
<span class="category-def">: </span><span><code class="def-type"><var class="var">c</var> =</code> <strong class="def-name">uniquetol</strong> <code class="def-code-arguments">(<var class="var">A</var>)</code><a class="copiable-link" href="#index-uniquetol"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-uniquetol-1">
<span class="category-def">: </span><span><code class="def-type"><var class="var">c</var> =</code> <strong class="def-name">uniquetol</strong> <code class="def-code-arguments">(<var class="var">A</var>, <var class="var">tol</var>)</code><a class="copiable-link" href="#index-uniquetol-1"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-uniquetol-2">
<span class="category-def">: </span><span><code class="def-type"><var class="var">c</var> =</code> <strong class="def-name">uniquetol</strong> <code class="def-code-arguments">(…, <var class="var">property</var>, <var class="var">value</var>)</code><a class="copiable-link" href="#index-uniquetol-2"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-uniquetol-3">
<span class="category-def">: </span><span><code class="def-type">[<var class="var">c</var>, <var class="var">ia</var>, <var class="var">ic</var>] =</code> <strong class="def-name">uniquetol</strong> <code class="def-code-arguments">(…)</code><a class="copiable-link" href="#index-uniquetol-3"> ¶</a></span>
</dt> <dd>
<p>Return the unique elements of <var class="var">A</var> within tolerance <var class="var">tol</var>. </p> <p>Two values, <var class="var">x</var> and <var class="var">y</var>, are within relative tolerance if <code class="code">abs (<var class="var">x</var> - <var class="var">y</var>) &lt;= <var class="var">tol</var> * max (abs (<var class="var">A</var>(:)))</code>. </p> <p>The input <var class="var">A</var> must be a real (non-complex) floating point type (double or single). </p> <p>If <var class="var">tol</var> is unspecified, the default tolerance is 1e-12 for double precision input or 1e-6 for single precision input. </p> <p>The function may also be called with the following optional property/value pairs. Property/value pairs must be passed after other input arguments: </p> <dl class="table"> <dt>
<code class="code">"ByRows"</code> (default: <code class="code">false</code>)</dt> <dd>
<p>When true, return the unique rows of <var class="var">A</var>. <var class="var">A</var> must be a 2-D array to use this option. For rows, the criteria for uniqueness is changed to <code class="code">all (abs (<var class="var">x</var> - <var class="var">y</var>) &lt;= <var class="var">tol</var>*max (abs (<var class="var">A</var>),[],1))</code> which compares each column component of a row against a column-specific tolerance. </p> </dd> <dt><code class="code">"DataScale"</code></dt> <dd>
<p>The tolerance test is changed to <code class="code">abs (<var class="var">x</var> - <var class="var">y</var>) &lt;= <var class="var">tol</var>*<var class="var">DS</var></code> where <var class="var">DS</var> is a scalar unless the property <code class="code">"ByRows"</code> is true. In that case, <var class="var">DS</var> can either be a scalar or a vector with a length equal to the number of columns in <var class="var">A</var>. Using a value of <code class="code">1.0</code> for <var class="var">DS</var> will change the tolerance from a relative one to an absolute tolerance. Using a value of <code class="code">Inf</code> will disable testing. </p> </dd> <dt>
<code class="code">"OutputAllIndices"</code> (default: <code class="code">false</code>)</dt> <dd><p>When true, <var class="var">ia</var> is a cell array (not a vector) that contains the indices for <em class="emph">all</em> elements in <var class="var">A</var> that are within tolerance of a value in <var class="var">C</var>. That is, each cell in <var class="var">ia</var> corresponds to a single unique value in <var class="var">C</var>, and the values in each cell correspond to locations in <var class="var">A</var>. </p></dd> </dl> <p>The output <var class="var">c</var> is a row vector if the input <var class="var">A</var> is a row vector. For all other cases, a column vector is returned. </p> <p>The optional output <var class="var">ia</var> is a column index vector such that <code class="code"><var class="var">c</var> = <var class="var">A</var>(<var class="var">ia</var>)</code>. If the <code class="code">"ByRows"</code> property is true, the condition is <code class="code"><var class="var">c</var> = <var class="var">A</var>(<var class="var">ia</var>, :)</code>. If the <code class="code">"OutputAllIndices"</code> property is true, then the values <code class="code"><var class="var">A</var>(<var class="var">ia</var>{<var class="var">i</var>})</code> are all within tolerance of the unique value <code class="code"><var class="var">c</var>(<var class="var">i</var>)</code>. </p> <p>The optional output <var class="var">ic</var> is a column index vector such that <code class="code"><var class="var">A</var> = <var class="var">c</var>(<var class="var">ic</var>)</code> when <var class="var">A</var> is a vector. When <var class="var">A</var> is a matrix, <code class="code"><var class="var">A</var>(:) = <var class="var">c</var>(<var class="var">ic</var>)</code>. If the <code class="code">"ByRows"</code> property is true then <code class="code"><var class="var">A</var> = <var class="var">c</var>(<var class="var">ic</var>,:)</code>. </p> <p>Example: small round-off errors require <code class="code">uniquetol</code>, not <code class="code">unique</code> </p> <pre class="example" data-language="matlab">x = [1:5];
## Inverse_Function (Function (x)) should return exactly x
y = exp (log (x));
D = unique ([x, y])
⇒ [1   2   3   3   4   5   5]
C = uniquetol ([x, y])
⇒ [1   2   3   4   5]</pre> <p><strong class="strong">See also:</strong> <a class="ref" href="#XREFunique">unique</a>, <a class="ref" href="set-operations.html#XREFunion">union</a>, <a class="ref" href="set-operations.html#XREFintersect">intersect</a>, <a class="ref" href="set-operations.html#XREFsetdiff">setdiff</a>, <a class="ref" href="set-operations.html#XREFsetxor">setxor</a>, <a class="ref" href="set-operations.html#XREFismember">ismember</a>. </p>
</dd>
</dl> <ul class="mini-toc"> <li><a href="set-operations.html" accesskey="1">Set Operations</a></li> </ul> </div>  <div class="nav-panel"> <p> Next: <a href="polynomial-manipulations.html">Polynomial Manipulations</a>, Previous: <a href="statistics.html">Statistics</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v9.2.0/Sets.html" class="_attribution-link">https://docs.octave.org/v9.2.0/Sets.html</a>
  </p>
</div>
