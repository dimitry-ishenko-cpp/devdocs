<div class="subsection" id="Manipulating-Structures">   <h1 class="subsection">6.1.4 Manipulating Structures</h1> <p>Other functions that can manipulate the fields of a structure are given below. </p> <dl class="def"> <dt id="index-numfields">
<span class="category">: </span><span><em><var>n</var> =</em> <strong>numfields</strong> <em>(<var>s</var>)</em><a href="#index-numfields" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Return the number of fields of the structure <var>s</var>. </p> <p><strong>See also:</strong> <a href="#XREFfieldnames">fieldnames</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-fieldnames">
<span class="category">: </span><span><em><var>names</var> =</em> <strong>fieldnames</strong> <em>(<var>struct</var>)</em><a href="#index-fieldnames" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-fieldnames-1">
<span class="category">: </span><span><em><var>names</var> =</em> <strong>fieldnames</strong> <em>(<var>obj</var>)</em><a href="#index-fieldnames-1" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-fieldnames-2">
<span class="category">: </span><span><em><var>names</var> =</em> <strong>fieldnames</strong> <em>(<var>javaobj</var>)</em><a href="#index-fieldnames-2" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-fieldnames-3">
<span class="category">: </span><span><em><var>names</var> =</em> <strong>fieldnames</strong> <em>("<var>javaclassname</var>")</em><a href="#index-fieldnames-3" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Return a cell array of strings with the names of the fields in the specified input. </p> <p>When the input is a structure <var>struct</var>, the <var>names</var> are the elements of the structure. </p> <p>When the input is an Octave object <var>obj</var>, the <var>names</var> are the public properties of the object. </p> <p>When the input is a Java object <var>javaobj</var> or a string containing the name of a Java class <var>javaclassname</var>, the <var>names</var> are the public fields (data members) of the object or class. </p> <p><strong>See also:</strong> <a href="#XREFnumfields">numfields</a>, <a href="#XREFisfield">isfield</a>, <a href="#XREForderfields">orderfields</a>, <a href="creating-structures.html#XREFstruct">struct</a>, <a href="properties.html#XREFproperties">properties</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-isfield">
<span class="category">: </span><span><em><var>tf</var> =</em> <strong>isfield</strong> <em>(<var>x</var>, "<var>name</var>")</em><a href="#index-isfield" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-isfield-1">
<span class="category">: </span><span><em><var>tf</var> =</em> <strong>isfield</strong> <em>(<var>x</var>, <var>name</var>)</em><a href="#index-isfield-1" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Return true if the <var>x</var> is a structure and it includes an element named <var>name</var>. </p> <p>If <var>name</var> is a cell array of strings then a logical array of equal dimension is returned. </p> <p><strong>See also:</strong> <a href="#XREFfieldnames">fieldnames</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-setfield">
<span class="category">: </span><span><em><var>sout</var> =</em> <strong>setfield</strong> <em>(<var>s</var>, <var>field</var>, <var>val</var>)</em><a href="#index-setfield" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-setfield-1">
<span class="category">: </span><span><em><var>sout</var> =</em> <strong>setfield</strong> <em>(<var>s</var>, <var>sidx1</var>, <var>field1</var>, <var>fidx1</var>, <var>sidx2</var>, <var>field2</var>, <var>fidx2</var>, …, <var>val</var>)</em><a href="#index-setfield-1" class="copiable-anchor"> ¶</a></span>
</dt> <dd> <p>Return a <em>copy</em> of the structure <var>s</var> with the field member <var>field</var> set to the value <var>val</var>. </p> <p>For example: </p> <pre class="example" data-language="matlab">s = struct ();
s = setfield (s, "foo bar", 42);</pre> <p>This is equivalent to </p> <pre class="example" data-language="matlab">s.("foo bar") = 42;</pre> <p>Note that ordinary structure syntax <code><var>s</var>.foo bar = 42</code> cannot be used here, as the field name is not a valid Octave identifier because of the space character. Using arbitrary strings for field names is incompatible with <small>MATLAB</small>, and this usage will emit a warning if the warning ID <code>Octave:language-extension</code> is enabled. See <a href="issuing-warnings.html#XREFwarning_005fids"><code>warning_ids</code></a>. </p> <p>With the second calling form, set a field of a structure array. The input <var>sidx</var> selects an element of the structure array, <var>field</var> specifies the field name of the selected element, and <var>fidx</var> selects which element of the field (in the case of an array or cell array). The <var>sidx</var>, <var>field</var>, and <var>fidx</var> inputs can be repeated to address nested structure array elements. The structure array index and field element index must be cell arrays while the field name must be a string. </p> <p>For example: </p> <pre class="example" data-language="matlab">s = struct ("baz", 42);
setfield (s, {1}, "foo", {1}, "bar", 54)
⇒
  ans =
    scalar structure containing the fields:
      baz =  42
      foo =
        scalar structure containing the fields:
          bar =  54</pre> <p>The example begins with an ordinary scalar structure to which a nested scalar structure is added. In all cases, if the structure index <var>sidx</var> is not specified it defaults to 1 (scalar structure). Thus, the example above could be written more concisely as <code>setfield (<var>s</var>, "foo", "bar", 54)</code> </p> <p>Finally, an example with nested structure arrays: </p> <pre class="example" data-language="matlab">sa.foo = 1;
sa = setfield (sa, {2}, "bar", {3}, "baz", {1, 4}, 5);
sa(2).bar(3)
⇒
  ans =
    scalar structure containing the fields:
      baz =  0   0   0   5</pre> <p>Here <var>sa</var> is a structure array whose field at elements 1 and 2 is in turn another structure array whose third element is a simple scalar structure. The terminal scalar structure has a field which contains a matrix value. </p> <p>Note that the same result as in the above example could be achieved by: </p> <pre class="example" data-language="matlab">sa.foo = 1;
sa(2).bar(3).baz(1,4) = 5</pre> <p><strong>See also:</strong> <a href="#XREFgetfield">getfield</a>, <a href="#XREFrmfield">rmfield</a>, <a href="#XREForderfields">orderfields</a>, <a href="#XREFisfield">isfield</a>, <a href="#XREFfieldnames">fieldnames</a>, <a href="creating-structures.html#XREFisstruct">isstruct</a>, <a href="creating-structures.html#XREFstruct">struct</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-getfield">
<span class="category">: </span><span><em><var>val</var> =</em> <strong>getfield</strong> <em>(<var>s</var>, <var>field</var>)</em><a href="#index-getfield" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-getfield-1">
<span class="category">: </span><span><em><var>val</var> =</em> <strong>getfield</strong> <em>(<var>s</var>, <var>sidx1</var>, <var>field1</var>, <var>fidx1</var>, …)</em><a href="#index-getfield-1" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Get the value of the field named <var>field</var> from a structure or nested structure <var>s</var>. </p> <p>If <var>s</var> is a structure array then <var>sidx</var> selects an element of the structure array, <var>field</var> specifies the field name of the selected element, and <var>fidx</var> selects which element of the field (in the case of an array or cell array). For a more complete description of the syntax, see <a href="#XREFsetfield"><code>setfield</code></a>. </p> <p><strong>See also:</strong> <a href="#XREFsetfield">setfield</a>, <a href="#XREFrmfield">rmfield</a>, <a href="#XREForderfields">orderfields</a>, <a href="#XREFisfield">isfield</a>, <a href="#XREFfieldnames">fieldnames</a>, <a href="creating-structures.html#XREFisstruct">isstruct</a>, <a href="creating-structures.html#XREFstruct">struct</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-rmfield">
<span class="category">: </span><span><em><var>sout</var> =</em> <strong>rmfield</strong> <em>(<var>s</var>, "<var>f</var>")</em><a href="#index-rmfield" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-rmfield-1">
<span class="category">: </span><span><em><var>sout</var> =</em> <strong>rmfield</strong> <em>(<var>s</var>, <var>f</var>)</em><a href="#index-rmfield-1" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Return a <em>copy</em> of the structure (array) <var>s</var> with the field <var>f</var> removed. </p> <p>If <var>f</var> is a cell array of strings or a character array, remove each of the named fields. </p> <p><strong>See also:</strong> <a href="#XREForderfields">orderfields</a>, <a href="#XREFfieldnames">fieldnames</a>, <a href="#XREFisfield">isfield</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-orderfields">
<span class="category">: </span><span><em><var>sout</var> =</em> <strong>orderfields</strong> <em>(<var>s1</var>)</em><a href="#index-orderfields" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-orderfields-1">
<span class="category">: </span><span><em><var>sout</var> =</em> <strong>orderfields</strong> <em>(<var>s1</var>, <var>s2</var>)</em><a href="#index-orderfields-1" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-orderfields-2">
<span class="category">: </span><span><em><var>sout</var> =</em> <strong>orderfields</strong> <em>(<var>s1</var>, {<var>cellstr</var>})</em><a href="#index-orderfields-2" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-orderfields-3">
<span class="category">: </span><span><em><var>sout</var> =</em> <strong>orderfields</strong> <em>(<var>s1</var>, <var>p</var>)</em><a href="#index-orderfields-3" class="copiable-anchor"> ¶</a></span>
</dt> <dt id="index-orderfields-4">
<span class="category">: </span><span><em>[<var>sout</var>, <var>p</var>] =</em> <strong>orderfields</strong> <em>(…)</em><a href="#index-orderfields-4" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Return a <em>copy</em> of <var>s1</var> with fields arranged alphabetically, or as specified by the second input. </p> <p>Given one input struct <var>s1</var>, arrange field names alphabetically. </p> <p>If a second struct argument is given, arrange field names in <var>s1</var> as they appear in <var>s2</var>. The second argument may also specify the order in a cell array of strings <var>cellstr</var>. The second argument may also be a permutation vector. </p> <p>The optional second output argument <var>p</var> is the permutation vector which converts the original name order to the new name order. </p> <p>Examples: </p> <pre class="example" data-language="matlab">s = struct ("d", 4, "b", 2, "a", 1, "c", 3);
t1 = orderfields (s)
  ⇒ t1 =
       scalar structure containing the fields:
         a =  1
         b =  2
         c =  3
         d =  4</pre> <pre class="example" data-language="matlab">t = struct ("d", {}, "c", {}, "b", {}, "a", {});
t2 = orderfields (s, t)
  ⇒ t2 =
       scalar structure containing the fields:
         d =  4
         c =  3
         b =  2
         a =  1</pre> <pre class="example" data-language="matlab">t3 = orderfields (s, [3, 2, 4, 1])
  ⇒ t3 =
       scalar structure containing the fields:
         a =  1
         b =  2
         c =  3
         d =  4</pre> <pre class="example" data-language="matlab">[t4, p] = orderfields (s, {"d", "c", "b", "a"})
  ⇒ t4 =
       scalar structure containing the fields:
         d =  4
         c =  3
         b =  2
         a =  1
     p =
        1
        4
        2
        3</pre> <p><strong>See also:</strong> <a href="#XREFfieldnames">fieldnames</a>, <a href="#XREFgetfield">getfield</a>, <a href="#XREFsetfield">setfield</a>, <a href="#XREFrmfield">rmfield</a>, <a href="#XREFisfield">isfield</a>, <a href="creating-structures.html#XREFisstruct">isstruct</a>, <a href="creating-structures.html#XREFstruct">struct</a>. </p>
</dd>
</dl> <dl class="def"> <dt id="index-substruct">
<span class="category">: </span><span><em><var>s</var> =</em> <strong>substruct</strong> <em>(<var>type</var>, <var>subs</var>, …)</em><a href="#index-substruct" class="copiable-anchor"> ¶</a></span>
</dt> <dd>
<p>Create a subscript structure for use with <code>subsref</code> or <code>subsasgn</code>. </p> <p>For example: </p> <pre class="example" data-language="matlab">idx = substruct ("()", {3, ":"})
  ⇒ idx =
       scalar structure containing the fields:
         type = ()
         subs =
         {
           [1,1] =  3
           [1,2] = :
         }
x = [1, 2, 3;
     4, 5, 6;
     7, 8, 9];
subsref (x, idx)
  ⇒   7   8   9</pre> <p><strong>See also:</strong> <a href="defining-indexing-and-indexed-assignment.html#XREFsubsref">subsref</a>, <a href="defining-indexing-and-indexed-assignment.html#XREFsubsasgn">subsasgn</a>. </p>
</dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v8.1.0/Manipulating-Structures.html" class="_attribution-link">https://docs.octave.org/v8.1.0/Manipulating-Structures.html</a>
  </p>
</div>
