<div class="subsection-level-extent" id="Missing-Components"> <div class="nav-panel"> <p> Previous: <a href="pkg_005fadd-and-pkg_005fdel-directives.html" accesskey="p" rel="prev">PKG_ADD and PKG_DEL Directives</a>, Up: <a href="creating-packages.html" accesskey="u" rel="up">Creating Packages</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div>  <h1 class="subsection" id="Missing-Components-1"><span>37.4.4 Missing Components<a class="copiable-link" href="#Missing-Components-1"> ¶</a></span></h1> <p>If a package relies on a component, such as another Octave package, that may not be present it may be useful to install a function which informs users what to do when a particular component is missing. The function must be written by the package maintainer and registered with Octave using <code class="code">missing_component_hook</code>. </p>  <dl class="first-deftypefn"> <dt class="deftypefn" id="index-missing_005fcomponent_005fhook">
<span class="category-def">: </span><span><code class="def-type"><var class="var">val</var> =</code> <strong class="def-name">missing_component_hook</strong> <code class="def-code-arguments">()</code><a class="copiable-link" href="#index-missing_005fcomponent_005fhook"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-missing_005fcomponent_005fhook-1">
<span class="category-def">: </span><span><code class="def-type"><var class="var">old_val</var> =</code> <strong class="def-name">missing_component_hook</strong> <code class="def-code-arguments">(<var class="var">new_val</var>)</code><a class="copiable-link" href="#index-missing_005fcomponent_005fhook-1"> ¶</a></span>
</dt> <dt class="deftypefnx def-cmd-deftypefn" id="index-missing_005fcomponent_005fhook-2">
<span class="category-def">: </span><span><code class="def-type"><var class="var">old_val</var> =</code> <strong class="def-name">missing_component_hook</strong> <code class="def-code-arguments">(<var class="var">new_val</var>, "local")</code><a class="copiable-link" href="#index-missing_005fcomponent_005fhook-2"> ¶</a></span>
</dt> <dd>
<p>Query or set the internal variable that specifies the function to call when a component of Octave is missing. </p> <p>This can be useful for packagers that may split the Octave installation into multiple sub-packages, for example, to provide a hint to users for how to install the missing components. </p> <p>When called from inside a function with the <code class="code">"local"</code> option, the variable is changed locally for the function and any subroutines it calls. The original variable value is restored when exiting the function. </p> <p>The hook function is expected to be of the form </p> <pre class="example" data-language="matlab">fcn (component)</pre> <p>Octave will call <var class="var">fcn</var> with the name of the function that requires the component and a string describing the missing component. The hook function should return an error message to be displayed. </p> <p><strong class="strong">See also:</strong> <a class="ref" href="parser.html#XREFmissing_005ffunction_005fhook">missing_function_hook</a>. </p>
</dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v9.2.0/Missing-Components.html" class="_attribution-link">https://docs.octave.org/v9.2.0/Missing-Components.html</a>
  </p>
</div>
