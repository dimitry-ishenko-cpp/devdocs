<div class="subsection-level-extent" id="How-to-use-Java-from-within-Octave"> <div class="nav-panel"> <p> Next: <a href="set-up-the-jvm.html" accesskey="n" rel="next">Set up the JVM</a>, Previous: <a href="making-java-classes-available.html" accesskey="p" rel="prev">Making Java Classes Available</a>, Up: <a href="java-interface.html" accesskey="u" rel="up">Java Interface</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div>  <h1 class="subsection" id="How-to-use-Java-from-within-Octave-1"><span>A.4.2 How to use Java from within Octave<a class="copiable-link" href="#How-to-use-Java-from-within-Octave-1"> ¶</a></span></h1> <p>The function <a class="ref" href="java-interface-functions.html#XREFjavaObject">javaObject</a> creates Java objects. In fact it invokes the public constructor of the class with the given name and with the given parameters. </p> <p>The following example shows how to invoke the constructors <code class="code">BigDecimal(double)</code> and <code class="code">BigDecimal(String)</code> of the builtin Java class <code class="code">java.math.BigDecimal</code>. </p> <pre class="example" data-language="matlab">javaObject ("java.math.BigDecimal",  1.001 );
javaObject ("java.math.BigDecimal", "1.001");</pre> <p>Note that parameters of the Octave type <code class="code">double</code> are implicitly converted into the Java type <code class="code">double</code> and the Octave type (array of) <code class="code">char</code> is converted into the java type <code class="code">String</code>. A Java object created by <a class="ref" href="java-interface-functions.html#XREFjavaObject">javaObject</a> is never automatically converted into an Octave type but remains a Java object. It can be assigned to an Octave variable. </p> <pre class="example" data-language="matlab">a = 1.001;
b = javaObject ("java.math.BigDecimal", a);</pre> <p>Using <a class="ref" href="java-interface-functions.html#XREFisjava">isjava</a>, it is possible to check whether a variable is a Java object and its class can be determined as well. In addition to the previous example: </p> <pre class="example" data-language="matlab">isjava (a)
⇒ ans = 0
class (a)
⇒ ans = double
isjava (b)
⇒ ans = 1
class (b)
⇒ ans = java.math.BigDecimal</pre> <p>The example above can be carried out using only Java objects: </p> <pre class="example" data-language="matlab">a = javaObject ("java.lang.Double", 1.001);
b = javaObject ("java.math.BigDecimal", a);

isjava (a)
⇒ ans = 1
class (a)
⇒ ans = java.lang.Double
isjava (b)
⇒ ans = 1
class (b)
⇒ ans = java.math.BigDecimal</pre> <p>One can see, that even a <code class="code">java.lang.Double</code> is not converted to an Octave <code class="code">double</code>, when created by <a class="ref" href="java-interface-functions.html#XREFjavaObject">javaObject</a>. But ambiguities might arise, if the Java classes <code class="code">java.lang.Double</code> or <code class="code">double</code> are parameters of a method (or a constructor). In this case they can be converted into one another, depending on the context. </p> <p>Via <a class="ref" href="java-interface-functions.html#XREFjavaObject">javaObject</a> one may create all kinds of Java objects but arrays. The latter are created through <a class="ref" href="java-interface-functions.html#XREFjavaArray">javaArray</a>. </p> <p>It is possible to invoke public member methods on Java objects in Java syntax: </p> <pre class="example" data-language="matlab">a.toString
⇒ ans = 1.001
b.toString
⇒ ans = 1.000999999999999889865...</pre> <p>The second result may be surprising, but simply comes from the fact, that <code class="code">1.001</code> cannot exactly be represented as <code class="code">double</code>, due to rounding. Note that unlike in Java, in Octave methods without arguments can be invoked with and without parentheses <code class="code">()</code>. </p> <p>Currently it is not possible to invoke static methods with a Java like syntax from within Octave. Instead, one has to use the function <a class="ref" href="java-interface-functions.html#XREFjavaMethod">javaMethod</a> as in the following example: </p> <pre class="example" data-language="matlab">java.math.BigDecimal.valueOf(1.001);                    # does not work
javaMethod ("valueOf", "java.math.BigDecimal", 1.001);  # workaround</pre> <p>As mentioned before, method and constructor parameters are converted automatically between Octave and Java types, if appropriate. For functions this is also true with return values, whereas for constructors this is not. </p> <p>It is also possible to access public fields of Java objects from within Octave using Java syntax, with the limitation of static fields: </p> <pre class="example" data-language="matlab">java.math.BigDecimal.ONE;                  # does not work
java_get ("java.math.BigDecimal", "ONE");  # workaround</pre> <p>Accordingly, with <a class="ref" href="java-interface-functions.html#XREFjava_005fset">java_set</a> the value of a field can be set. Note that only public Java fields are accessible from within Octave. </p> <p>The following example indicates that in Octave empty brackets <code class="code">[]</code> represent Java’s <code class="code">null</code> value and how Java exceptions are represented. </p> <pre class="example" data-language="matlab">javaObject ("java.math.BigDecimal", []);
⇒ error: [java] java.lang.NullPointerException</pre> <p>It is not recommended to represent Java’s <code class="code">null</code> value by empty brackets <code class="code">[]</code>, because <code class="code">null</code> has no type whereas <code class="code">[]</code> has type <code class="code">double</code>. </p> <p>In Octave it is possible to provide limited Java reflection by listing the public fields and methods of a Java object, both static or not. </p> <pre class="example" data-language="matlab">fieldnames (&lt;Java object&gt;)
methods (&lt;Java object&gt;)</pre> <p>Finally, an examples is shown how to access the stack trace from within Octave, where the function <a class="ref" href="java-interface-functions.html#XREFdebug_005fjava">debug_java</a> is used to set and to get the current debug state. In debug mode, the Java error and the stack trace are displayed. </p> <pre class="example" data-language="matlab">debug_java (true)  # use "false" to omit display of stack trace
debug_java ()
⇒ ans = 1
javaObject ("java.math.BigDecimal", "1") ...
  .divide (javaObject ("java.math.BigDecimal", "0"))</pre> </div>  <div class="nav-panel"> <p> Next: <a href="set-up-the-jvm.html">Set up the JVM</a>, Previous: <a href="making-java-classes-available.html">Making Java Classes Available</a>, Up: <a href="java-interface.html">Java Interface</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v9.2.0/How-to-use-Java-from-within-Octave.html" class="_attribution-link">https://docs.octave.org/v9.2.0/How-to-use-Java-from-within-Octave.html</a>
  </p>
</div>
