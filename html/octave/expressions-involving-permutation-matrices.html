<div class="subsection" id="Expressions-Involving-Permutation-Matrices">   <h1 class="subsection">21.2.2 Expressions Involving Permutation Matrices</h1> <p>If <var>P</var> is a permutation matrix and <var>M</var> a matrix, the expression <code>P*M</code> will permute the rows of <var>M</var>. Similarly, <code>M*P</code> will yield a column permutation. Matrix division <code>P\M</code> and <code>M/P</code> can be used to do inverse permutation. </p> <p>The previously described syntax for creating permutation matrices can actually help an user to understand the connection between a permutation matrix and a permuting vector. Namely, the following holds, where <code>I = eye (n)</code> is an identity matrix: </p> <pre class="example" data-language="matlab">I(p,:) * M = (I*M) (p,:) = M(p,:)</pre> <p>Similarly, </p> <pre class="example" data-language="matlab">M * I(:,p) = (M*I) (:,p) = M(:,p)</pre> <p>The expressions <code>I(p,:)</code> and <code>I(:,p)</code> are permutation matrices. </p> <p>A permutation matrix can be transposed (or conjugate-transposed, which is the same, because a permutation matrix is never complex), inverting the permutation, or equivalently, turning a row-permutation matrix into a column-permutation one. For permutation matrices, transpose is equivalent to inversion, thus <code>P\M</code> is equivalent to <code>P'*M</code>. Transpose of a permutation matrix (or inverse) is a constant-time operation, flipping only a flag internally, and thus the choice between the two above equivalent expressions for inverse permuting is completely up to the user’s taste. </p> <p>Multiplication and division by permutation matrices works efficiently also when combined with sparse matrices, i.e., <code>P*S</code>, where <var>P</var> is a permutation matrix and <var>S</var> is a sparse matrix permutes the rows of the sparse matrix and returns a sparse matrix. The expressions <code>S*P</code>, <code>P\S</code>, <code>S/P</code> work analogically. </p> <p>Two permutation matrices can be multiplied or divided (if their sizes match), performing a composition of permutations. Also a permutation matrix can be indexed by a permutation vector (or two vectors), giving again a permutation matrix. Any other operations do not generally yield a permutation matrix and will thus trigger the implicit conversion. </p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v8.1.0/Expressions-Involving-Permutation-Matrices.html" class="_attribution-link">https://docs.octave.org/v8.1.0/Expressions-Involving-Permutation-Matrices.html</a>
  </p>
</div>
