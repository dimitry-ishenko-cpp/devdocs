<div class="subsection-level-extent" id="Expressions-Involving-Permutation-Matrices"> <div class="nav-panel"> <p> Previous: <a href="expressions-involving-diagonal-matrices.html" accesskey="p" rel="prev">Expressions Involving Diagonal Matrices</a>, Up: <a href="matrix-algebra.html" accesskey="u" rel="up">Linear Algebra with Diagonal/Permutation Matrices</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div>  <h1 class="subsection" id="Expressions-Involving-Permutation-Matrices-1"><span>21.2.2 Expressions Involving Permutation Matrices<a class="copiable-link" href="#Expressions-Involving-Permutation-Matrices-1"> ¶</a></span></h1> <p>If <var class="var">P</var> is a permutation matrix and <var class="var">M</var> a matrix, the expression <code class="code">P*M</code> will permute the rows of <var class="var">M</var>. Similarly, <code class="code">M*P</code> will yield a column permutation. Matrix division <code class="code">P\M</code> and <code class="code">M/P</code> can be used to do inverse permutation. </p> <p>The previously described syntax for creating permutation matrices can actually help an user to understand the connection between a permutation matrix and a permuting vector. Namely, the following holds, where <code class="code">I = eye (n)</code> is an identity matrix: </p> <pre class="example" data-language="matlab">I(p,:) * M = (I*M) (p,:) = M(p,:)</pre> <p>Similarly, </p> <pre class="example" data-language="matlab">M * I(:,p) = (M*I) (:,p) = M(:,p)</pre> <p>The expressions <code class="code">I(p,:)</code> and <code class="code">I(:,p)</code> are permutation matrices. </p> <p>A permutation matrix can be transposed (or conjugate-transposed, which is the same, because a permutation matrix is never complex), inverting the permutation, or equivalently, turning a row-permutation matrix into a column-permutation one. For permutation matrices, transpose is equivalent to inversion, thus <code class="code">P\M</code> is equivalent to <code class="code">P'*M</code>. Transpose of a permutation matrix (or inverse) is a constant-time operation, flipping only a flag internally, and thus the choice between the two above equivalent expressions for inverse permuting is completely up to the user’s taste. </p> <p>Multiplication and division by permutation matrices works efficiently also when combined with sparse matrices, i.e., <code class="code">P*S</code>, where <var class="var">P</var> is a permutation matrix and <var class="var">S</var> is a sparse matrix permutes the rows of the sparse matrix and returns a sparse matrix. The expressions <code class="code">S*P</code>, <code class="code">P\S</code>, <code class="code">S/P</code> work analogically. </p> <p>Two permutation matrices can be multiplied or divided (if their sizes match), performing a composition of permutations. Also a permutation matrix can be indexed by a permutation vector (or two vectors), giving again a permutation matrix. Any other operations do not generally yield a permutation matrix and will thus trigger the implicit conversion. </p> </div>  <div class="nav-panel"> <p> Previous: <a href="expressions-involving-diagonal-matrices.html">Expressions Involving Diagonal Matrices</a>, Up: <a href="matrix-algebra.html">Linear Algebra with Diagonal/Permutation Matrices</a> [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="concept-index.html" title="Index" rel="index">Index</a>]</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996–2023 The Octave Project Developers<br>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br/>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</br>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://docs.octave.org/v9.2.0/Expressions-Involving-Permutation-Matrices.html" class="_attribution-link">https://docs.octave.org/v9.2.0/Expressions-Involving-Permutation-Matrices.html</a>
  </p>
</div>
