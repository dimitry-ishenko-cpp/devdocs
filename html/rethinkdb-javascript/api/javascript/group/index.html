<h1 class="title">ReQL command: group</h1>  <div class="alg-content">
<h2 id="command-syntax">Command syntax</h2> <pre class="command-syntax" data-language="javascript">sequence.group(field | function..., [{index: &lt;indexname&gt;, multi: false}]) → grouped_stream
r.group(sequence, field | function..., [{index: &lt;indexname&gt;, multi: false}]) → grouped_stream
</pre> <p><img src="data:image/png;base64,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" class="api_command_illustration"></p> <h2 id="description">Description</h2> <p>Takes a stream and partitions it into multiple groups based on the fields or functions provided.</p> <p>With the <code class="language-plaintext highlighter-rouge">multi</code> flag single documents can be assigned to multiple groups, similar to the behavior of <a href="../../../docs/secondary-indexes/javascript/index.html">multi-indexes</a>. When <code class="language-plaintext highlighter-rouge">multi</code> is <code class="language-plaintext highlighter-rouge">true</code> and the grouping value is an array, documents will be placed in each group that corresponds to the elements of the array. If the array is empty the row will be ignored.</p> <p>Suppose that the table <code class="language-plaintext highlighter-rouge">games</code> has the following data:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">[
    {id: 2, player: "Bob", points: 15, type: "ranked"},
    {id: 5, player: "Alice", points: 7, type: "free"},
    {id: 11, player: "Bob", points: 10, type: "free"},
    {id: 12, player: "Alice", points: 2, type: "free"}
]
</pre></div></div> <p><strong>Example:</strong> Group games by player.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('games').group('player').run(conn, callback)

// Result passed to callback
[
    {
        group: "Alice",
        reduction: [
            {id: 5, player: "Alice", points: 7, type: "free"},
            {id: 12, player: "Alice", points: 2, type: "free"}
        ]
    },
    {
        group: "Bob",
        reduction: [
            {id: 2, player: "Bob", points: 15, type: "ranked"},
            {id: 11, player: "Bob", points: 10, type: "free"}
        ]
    }
]
</pre></div></div>  <p>Commands chained after <code class="language-plaintext highlighter-rouge">group</code> will be called on each of these grouped sub-streams, producing grouped data.</p> <p><strong>Example:</strong> What is each player’s best game?</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('games').group('player').max('points').run(conn, callback)

// Result passed to callback
[
    {
        group: "Alice",
        reduction: {id: 5, player: "Alice", points: 7, type: "free"}
    },
    {
        group: "Bob",
        reduction: {id: 2, player: "Bob", points: 15, type: "ranked"}
    }
]
</pre></div></div> <p>Commands chained onto grouped data will operate on each grouped datum, producing more grouped data.</p> <p><strong>Example:</strong> What is the maximum number of points scored by each player?</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('games').group('player').max('points')('points').run(conn, callback)

// Result passed to callback
[
    {
        group: "Alice",
        reduction: 7
    },
    {
        group: "Bob",
        reduction: 15
    }
]
</pre></div></div> <p>You can also group by more than one field.</p> <p><strong>Example:</strong> What is the maximum number of points scored by each player for each game type?</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('games').group('player', 'type').max('points')('points').run(conn, callback)

// Result passed to callback
[
    {
        group: ["Alice", "free"],
        reduction: 7
    }
    {
        group: ["Bob", "free"],
        reduction: 10,
    },
    {
        group: ["Bob", "ranked"],
        reduction: 15,
    }
]
</pre></div></div> <p>You can also group by a function.</p> <p><strong>Example:</strong> What is the maximum number of points scored by each player for each game type?</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('games')
    .group(function(game) {
        return game.pluck('player', 'type')
    }).max('points')('points').run(conn, callback)

// Result passed to callback
[
    {
        group: {"player": "Alice", "type": "free"},
        reduction: 7
    },
    {
        group: {"player": "Bob", "type": "free"},
        reduction: 10
    },
    {
        group: {"player": "Bob", "type": "ranked"},
        reduction: 15
    }
]
</pre></div></div> <p>Using a function, you can also group by date on a ReQL <a href="../../../docs/dates-and-times/javascript/index.html">date field</a>.</p> <p><strong>Example:</strong> How many matches have been played this year by month?</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('matches').group(
      [r.row('date').year(), r.row('date').month()]
  ).count().run(conn, callback)

// Result passed to callback
[
    {
        group: [2014, 2],
        reduction: 2
    },
    {
        group: [2014, 3],
        reduction: 2
    },
    {
        group: [2014, 4],
        reduction: 1
    },
    {
        group: [2014, 5],
        reduction: 3
    }
]
</pre></div></div> <p>You can also group on an index (primary key or secondary).</p> <p><strong>Example:</strong> What is the maximum number of points scored by game type?</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('games').group({index:'type'}).max('points')('points').run(conn, callback)

// Result passed to callback
[
    {
        group: "free",
        reduction: 10
    },
    {
        group: "ranked",
        reduction: 15
    }
]
</pre></div></div> <h2 id="organizing-by-value-with-multi">Organizing by value with <strong>multi</strong>
</h2> <p>Suppose that the table <code class="language-plaintext highlighter-rouge">games2</code> has the following data:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">[
    { id: 1, matches: {'a': [1, 2, 3], 'b': [4, 5, 6]} },
    { id: 2, matches: {'b': [100], 'c': [7, 8, 9]} },
    { id: 3, matches: {'a': [10, 20], 'c': [70, 80]} }
]
</pre></div></div> <p>Using the <code class="language-plaintext highlighter-rouge">multi</code> option we can group data by match A, B or C.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">r.table('games2').group(r.row('matches').keys(), {multi: true}).run(conn, callback);
// Result passed to callback
[
    {
        group: "a",
        reduction: [ &lt;id 1&gt;, &lt;id 3&gt; ]
    },
    {
        group: "b",
        reduction: [ &lt;id 1&gt;, &lt;id 2&gt; ]
    },
    {
        group: "c",
        reduction: [ &lt;id 2&gt;, &lt;id 3&gt; ]
    }
]
</pre></div></div> <p>(The full result set is abbreviated in the figure; <code class="language-plaintext highlighter-rouge">&lt;id 1&gt;, &lt;id 2&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;id 3&gt;</code> would be the entire documents matching those keys.)</p> <p><strong>Example:</strong> Use <a href="../map/index.html">map</a> and <a href="../sum/index.html">sum</a> to get the total points scored for each match.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">r.table('games2').group(r.row('matches').keys(), {multi: true}).ungroup().map(
    function (doc) {
        return { match: doc('group'), total: doc('reduction').sum(
            function (set) {
                return set('matches')(doc('group')).sum();
            }
        )};
    }
).run(conn, callback);
// Result passed to callback
[
    { match: "a", total: 36 },
    { match: "b", total: 115 },
    { match: "c", total: 174 }
]
</pre></div></div> <p>The inner <code class="language-plaintext highlighter-rouge">sum</code> adds the scores by match within each document; the outer <code class="language-plaintext highlighter-rouge">sum</code> adds those results together for a total across all the documents.</p> <h2 id="ungrouping">Ungrouping</h2> <p>If you want to operate on all the groups rather than operating on each group (e.g. if you want to order the groups by their reduction), you can use <a href="../ungroup/index.html">ungroup</a> to turn a grouped stream or grouped data into an array of objects representing the groups.</p> <p><strong>Example:</strong> Ungrouping grouped data.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('games').group('player').max('points')('points').ungroup().run(conn, callback)

// Result passed to callback
[
    {
        group: "Alice",
        reduction: 7
    },
    {
        group: "Bob",
        reduction: 15
    }
]
</pre></div></div> <p>Ungrouping is useful e.g. for ordering grouped data, or for inserting grouped data into a table.</p> <p><strong>Example:</strong> What is the maximum number of points scored by each player, with the highest scorers first?</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('games')
   .group('player').max('points')('points')
   .ungroup().orderBy(r.desc('reduction')).run(conn, callback)

// Result passed to callback
[
    {
        group: "Bob",
        reduction: 15
    },
    {
        group: "Alice",
        reduction: 7
    }
]
</pre></div></div> <h2 id="implementation-details">Implementation Details</h2> <p>When grouped data are returned to the client, they are transformed into a client-specific native type. (Something similar is done with <a href="../../../docs/dates-and-times/javascript/index.html">times</a>.) In JavaScript, grouped data are transformed into an <code class="language-plaintext highlighter-rouge">Array</code>. If you instead want to receive the raw pseudotype from the server, you can specify <code class="language-plaintext highlighter-rouge">groupFormat: 'raw'</code> as an optional argument to <code class="language-plaintext highlighter-rouge">run</code>:</p> <p><strong>Example:</strong> Get back the raw <code class="language-plaintext highlighter-rouge">GROUPED_DATA</code> pseudotype.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('games').group('player').avg('points').run(conn, {groupFormat:'raw'}, callback)

// Result passed to callback
{
    $reql_type$: "GROUPED_DATA",
    data: [
        ["Alice", 4.5],
        ["Bob", 12.5]
    ]
}
</pre></div></div> <p>Not passing the <code class="language-plaintext highlighter-rouge">group_format</code> flag would return:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">[
    {
        group: "Alice":
        reduction: 4.5
    },
    {
        group: "Bob"
        reduction: 12.5
    }
]
</pre></div></div> <p>You might also want to use the <a href="../ungroup/index.html">ungroup</a> command (see above), which will turn the grouped data into an array of objects on the server.</p> <h2 id="performance-details">Performance Details</h2> <p>If you run a query that returns a grouped stream, it will be automatically converted to grouped data before being sent back to you (there is currently no efficient way to stream groups from RethinkDB). This grouped data is subject to the array size limit, by default 100,000 elements (see <a href="../run/index.html">run</a> for details on how to use the <code class="language-plaintext highlighter-rouge">arrayLimit</code> option to change this).</p> <p>In general, operations on grouped streams will be efficiently distributed, and operations on grouped data won’t be. You can figure out what you’re working with by putting <code class="language-plaintext highlighter-rouge">typeOf</code> on the end of your query. Below are efficient and inefficient examples.</p> <p><strong>Example:</strong> Efficient operation.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">// r.table('games').group('player').typeOf().run(conn, callback)
// Returns "GROUPED_STREAM"
r.table('games').group('player').min('points').run(conn, callback) // EFFICIENT
</pre></div></div> <p><strong>Example:</strong> Inefficient operation.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">// r.table('games').group('player').orderBy('score').typeOf().run(conn, callback)
// Returns "GROUPED_DATA"
r.table('games').group('player').orderBy('score').nth(0).run(conn, callback) // INEFFICIENT
</pre></div></div> <p>What does it mean to be inefficient here? When operating on grouped data rather than a grouped stream, <em>all</em> of the data has to be available on the node processing the query. This means that the operation will only use one server’s resources, and will require memory proportional to the size of the grouped data it’s operating on. (In the case of the <a href="../order_by/index.html">orderBy</a> in the inefficient example, that means memory proportional <strong>to the size of the table</strong>.) The array limit is also enforced for grouped data, so the <code class="language-plaintext highlighter-rouge">orderBy</code> example would fail for tables with more than 100,000 rows without changing the <code class="language-plaintext highlighter-rouge">arrayLimit</code> option to <code class="language-plaintext highlighter-rouge">run</code>.</p> <h2 id="more-examples">More Examples</h2> <p><strong>Example:</strong> What is the maximum number of points scored by each player in free games?</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">&gt; r.table('games').filter( r.row('type').eq('free'))
    .group('player').max('points')('points')
    .run(conn, callback)

// Result passed to callback
[
    {
        group: "Alice":
        reduction: 7
    },
    {
        group: "Bob",
        reduction: 10
    }
]
</pre></div></div> <p><strong>Example:</strong> What is each player’s highest even and odd score?</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">r.table('games')
    .group('name', function(game) {
        return game('points').mod(2)
    }).max('points')('points').run(conn, callback)

// Result passed to callback
[
    {
        group: ["Alice", 1]
        reduction: 7,
    },
    {
        group: ["Bob", 0],
        reduction: 10
    },
    {
        group: ["Bob", 1],
        reduction: 15
    }
]
</pre></div></div> </div> <section class="related-commands"> <h2>Related commands</h2> <ul> <li><a href="../ungroup/index.html">ungroup</a></li> <li><a href="../map/index.html">map</a></li> <li><a href="../reduce/index.html">reduce</a></li> <li><a href="../count/index.html">count</a></li> <li><a href="../sum/index.html">sum</a></li> <li><a href="../avg/index.html">avg</a></li> <li><a href="../min/index.html">min</a></li> <li><a href="../max/index.html">max</a></li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; RethinkDB contributors<br>Licensed under the Creative Commons Attribution-ShareAlike 3.0 Unported License.<br>
    <a href="https://rethinkdb.com/api/javascript/group/" class="_attribution-link">https://rethinkdb.com/api/javascript/group/</a>
  </p>
</div>
