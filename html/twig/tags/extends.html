<h1 id="extends"><span class="pre">extends</span></h1> <p>The <code class="docutils literal notranslate"><span class="pre">extends</span></code> tag can be used to extend a template from another one.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Like PHP, Twig does not support multiple inheritance. So you can only have one extends tag called per rendering. However, Twig supports horizontal <a class="reference internal" href="use.html"><span class="doc">reuse</span></a>.</p> </div> <p>Let’s define a base template, <code class="docutils literal notranslate"><span class="pre">base.html</span></code>, which defines a simple HTML skeleton document:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
            <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">href</span><span class="o">=</span><span class="s">"style.css"</span><span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span> - My Webpage<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"content"</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"footer"</span><span class="p">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span>
                <span class="ni">&amp;copy;</span> Copyright 2011 by <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"http://domain.invalid/"</span><span class="p">&gt;</span>you<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>.
            <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div> <p>In this example, the <a class="reference internal" href="block.html"><span class="doc">block</span></a> tags define four blocks that child templates can fill in.</p> <p>All the <code class="docutils literal notranslate"><span class="pre">block</span></code> tag does is to tell the template engine that a child template may override those portions of the template.</p>  <h2 id="child-template">Child Template</h2> <p>A child template might look like this:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">"base.html"</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>Index<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>
    <span class="p">&lt;</span><span class="nt">style</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
        <span class="p">.</span><span class="nc">important</span> <span class="p">{</span> <span class="k">color</span><span class="p">:</span> <span class="mh">#336699</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Index<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"important"</span><span class="p">&gt;</span>
        Welcome on my awesome homepage.
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div> <p>The <code class="docutils literal notranslate"><span class="pre">extends</span></code> tag is the key here. It tells the template engine that this template “extends” another template. When the template system evaluates this template, first it locates the parent. The extends tag should be the first tag in the template.</p> <p>Note that since the child template doesn’t define the <code class="docutils literal notranslate"><span class="pre">footer</span></code> block, the value from the parent template is used instead.</p> <p>You can’t define multiple <code class="docutils literal notranslate"><span class="pre">block</span></code> tags with the same name in the same template. This limitation exists because a block tag works in “both” directions. That is, a block tag doesn’t just provide a hole to fill - it also defines the content that fills the hole in the <em>parent</em>. If there were two similarly-named <code class="docutils literal notranslate"><span class="pre">block</span></code> tags in a template, that template’s parent wouldn’t know which one of the blocks’ content to use.</p> <p>If you want to print a block multiple times you can however use the <code class="docutils literal notranslate"><span class="pre">block</span></code> function:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">'title'</span><span class="o">)</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>   <h2 id="parent-blocks">Parent Blocks</h2> <p>It’s possible to render the contents of the parent block by using the <a class="reference internal" href="../functions/parent.html"><span class="doc">parent</span></a> function. This gives back the results of the parent block:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Table Of Contents<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
    ...
    <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>   <h2 id="named-block-end-tags">Named Block End-Tags</h2> <p>Twig allows you to put the name of the block after the end tag for better readability (the name after the <code class="docutils literal notranslate"><span class="pre">endblock</span></code> word must match the block name):</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">inner_sidebar</span> <span class="cp">%}</span>
<span class="x">        ...</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">inner_sidebar</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">sidebar</span> <span class="cp">%}</span>
</pre></div>   <h2 id="block-nesting-and-scope">Block Nesting and Scope</h2> <p>Blocks can be nested for more complex layouts. Per default, blocks have access to variables from outer scopes:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">seq</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">loop_item</span> <span class="cp">%}{{</span> <span class="nv">item</span> <span class="cp">}}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>   <h2 id="block-shortcuts">Block Shortcuts</h2> <p>For blocks with little content, it’s possible to use a shortcut syntax. The following constructs do the same thing:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>
<span class="cp">{{</span> <span class="nv">page_title</span><span class="o">|</span><span class="nf">title</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="nv">page_title</span><span class="o">|</span><span class="nf">title</span> <span class="cp">%}</span>
</pre></div>   <h2 id="dynamic-inheritance">Dynamic Inheritance</h2> <p>Twig supports dynamic inheritance by using a variable as the base template:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">extends</span> <span class="nv">some_var</span> <span class="cp">%}</span>
</pre></div> <p>If the variable evaluates to a <code class="docutils literal notranslate"><span class="pre">\Twig\Template</span></code> or a <code class="docutils literal notranslate"><span class="pre">\Twig\TemplateWrapper</span></code> instance, Twig will use it as the parent template:</p> <div class="highlight-php notranslate">
<div class="highlight"><pre data-language="php" class="highlight"><span class="c1">// {% extends layout %}</span>

<span class="nv">$layout</span> <span class="o">=</span> <span class="nv">$twig</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span><span class="s1">'some_layout_template.twig'</span><span class="p">);</span>

<span class="nv">$twig</span><span class="o">-&gt;</span><span class="na">display</span><span class="p">(</span><span class="s1">'template.twig'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'layout'</span> <span class="o">=&gt;</span> <span class="nv">$layout</span><span class="p">]);</span>
</pre></div> </div> <p>You can also provide a list of templates that are checked for existence. The first template that exists will be used as a parent:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">extends</span> <span class="o">[</span><span class="s1">'layout.html'</span><span class="o">,</span> <span class="s1">'base_layout.html'</span><span class="o">]</span> <span class="cp">%}</span>
</pre></div>   <h2 id="conditional-inheritance">Conditional Inheritance</h2> <p>As the template name for the parent can be any valid Twig expression, it’s possible to make the inheritance mechanism conditional:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">extends</span> <span class="nv">standalone</span> <span class="o">?</span> <span class="s2">"minimum.html"</span> <span class="o">:</span> <span class="s2">"base.html"</span> <span class="cp">%}</span>
</pre></div> <p>In this example, the template will extend the “minimum.html” layout template if the <code class="docutils literal notranslate"><span class="pre">standalone</span></code> variable evaluates to <code class="docutils literal notranslate"><span class="pre">true</span></code>, and “base.html” otherwise.</p>   <h2 id="how-do-blocks-work">How do blocks work?</h2> <p>A block provides a way to change how a certain part of a template is rendered but it does not interfere in any way with the logic around it.</p> <p>Let’s take the following example to illustrate how a block works and more importantly, how it does not work:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="c">{# base.twig #}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">post</span> <span class="k">in</span> <span class="nv">posts</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">post</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">post.title</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">post.body</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div> <p>If you render this template, the result would be exactly the same with or without the <code class="docutils literal notranslate"><span class="pre">block</span></code> tag. The <code class="docutils literal notranslate"><span class="pre">block</span></code> inside the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop is just a way to make it overridable by a child template:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="c">{# child.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s2">"base.twig"</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">post</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">article</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">post.title</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">post.text</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div> <p>Now, when rendering the child template, the loop is going to use the block defined in the child template instead of the one defined in the base one; the executed template is then equivalent to the following one:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">for</span> <span class="nv">post</span> <span class="k">in</span> <span class="nv">posts</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">article</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">post.title</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">post.text</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div> <p>Let’s take another example: a block included within an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">if</span> <span class="nv">posts</span> <span class="k">is</span> <span class="nf">empty</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
        <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>

        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"robots"</span> <span class="na">content</span><span class="o">=</span><span class="s">"noindex, follow"</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">head</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre></div> <p>Contrary to what you might think, this template does not define a block conditionally; it just makes overridable by a child template the output of what will be rendered when the condition is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p> <p>If you want the output to be displayed conditionally, use the following instead:</p> <div class="highlight-html+twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">posts</span> <span class="k">is</span> <span class="nf">empty</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"robots"</span> <span class="na">content</span><span class="o">=</span><span class="s">"noindex, follow"</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">head</span> <span class="cp">%}</span>
</pre></div> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <p class="last"><a class="reference internal" href="../functions/block.html"><span class="doc">block</span></a>, <a class="reference internal" href="block.html"><span class="doc">block</span></a>, <a class="reference internal" href="../functions/parent.html"><span class="doc">parent</span></a>, <a class="reference internal" href="use.html"><span class="doc">use</span></a></p> </div>    <div class="navigation" style="text-align: center"> <a accesskey="P" title="embed" href="embed.html"> « embed </a> <span class="separator">|</span> <a accesskey="N" title="flush" href="flush.html"> flush » </a> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;2018 by the Twig Team<br>Licensed under the three clause BSD license.<br>The Twig logo is &copy; 2010&ndash;2020 Symfony<br>
    <a href="https://twig.symfony.com/doc/3.x/tags/extends.html" class="_attribution-link">https://twig.symfony.com/doc/3.x/tags/extends.html</a>
  </p>
</div>
