<h1 id="u"><span class="pre">u</span></h1> <p>The <code class="docutils literal notranslate"><span class="pre">u</span></code> filter wraps a text in a Unicode object (a <a class="reference external" href="https://symfony.com/doc/current/components/string.html">Symfony UnicodeString instance</a>) that exposes methods to “manipulate” the string.</p> <p>Let’s see some common use cases.</p> <p>Wrapping a text to a given number of characters:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="s1">'Symfony String + Twig = &lt;3'</span><span class="o">|</span><span class="nf">u</span><span class="nv">.wordwrap</span><span class="o">(</span><span class="m">5</span><span class="o">)</span> <span class="cp">}}</span>
<span class="x">Symfony</span>
<span class="x">String</span>
<span class="x">+</span>
<span class="x">Twig</span>
<span class="x">= &lt;3</span>
</pre></div> <p>Truncating a string:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="s1">'Lorem ipsum'</span><span class="o">|</span><span class="nf">u</span><span class="nv">.truncate</span><span class="o">(</span><span class="m">8</span><span class="o">)</span> <span class="cp">}}</span>
<span class="x">Lorem ip</span>

<span class="cp">{{</span> <span class="s1">'Lorem ipsum'</span><span class="o">|</span><span class="nf">u</span><span class="nv">.truncate</span><span class="o">(</span><span class="m">8</span><span class="o">,</span> <span class="s1">'...'</span><span class="o">)</span> <span class="cp">}}</span>
<span class="x">Lorem...</span>
</pre></div> <p>The <code class="docutils literal notranslate"><span class="pre">truncate</span></code> method also accepts a third argument to preserve whole words:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="s1">'Lorem ipsum dolor'</span><span class="o">|</span><span class="nf">u</span><span class="nv">.truncate</span><span class="o">(</span><span class="m">10</span><span class="o">,</span> <span class="s1">'...'</span><span class="o">,</span> <span class="kp">false</span><span class="o">)</span> <span class="cp">}}</span>
<span class="x">Lorem ipsum...</span>
</pre></div> <p>Converting a string to <em>snake</em> case or <em>camelCase</em>:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="s1">'SymfonyStringWithTwig'</span><span class="o">|</span><span class="nf">u</span><span class="nv">.snake</span> <span class="cp">}}</span>
<span class="x">symfony_string_with_twig</span>

<span class="cp">{{</span> <span class="s1">'symfony_string with twig'</span><span class="o">|</span><span class="nf">u</span><span class="nv">.camel.title</span> <span class="cp">}}</span>
<span class="x">SymfonyStringWithTwig</span>
</pre></div> <p>You can also chain methods:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{{</span> <span class="s1">'Symfony String + Twig = &lt;3'</span><span class="o">|</span><span class="nf">u</span><span class="nv">.wordwrap</span><span class="o">(</span><span class="m">5</span><span class="o">)</span><span class="nv">.upper</span> <span class="cp">}}</span>
<span class="x">SYMFONY</span>
<span class="x">STRING</span>
<span class="x">+</span>
<span class="x">TWIG</span>
<span class="x">= &lt;3</span>
</pre></div> <p>For large strings manipulation, use the <code class="docutils literal notranslate"><span class="pre">apply</span></code> tag:</p> <div class="highlight-twig notranslate"><pre data-language="php" class="highlight"><span class="cp">{%</span> <span class="k">apply</span> <span class="nv">u.wordwrap</span><span class="o">(</span><span class="m">5</span><span class="o">)</span> <span class="cp">%}</span>
<span class="x">    Some large amount of text...</span>
<span class="cp">{%</span> <span class="k">endapply</span> <span class="cp">%}</span>
</pre></div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>The <code class="docutils literal notranslate"><span class="pre">u</span></code> filter is part of the <code class="docutils literal notranslate"><span class="pre">StringExtension</span></code> which is not installed by default. Install it first:</p> <div class="highlight-bash notranslate"><pre data-language="php" class="highlight">$ composer require twig/string-extra
</pre></div> <p>Then, use the <code class="docutils literal notranslate"><span class="pre">twig/extra-bundle</span></code> on Symfony projects or add the extension explicitly on the Twig environment:</p> <div class="last highlight-php notranslate">
<div class="highlight"><pre data-language="php" class="highlight"><span class="k">use</span> <span class="nx">Twig\Extra\String\StringExtension</span><span class="p">;</span>

<span class="nv">$twig</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Twig\Environment</span><span class="p">(</span><span class="o">...</span><span class="p">);</span>
<span class="nv">$twig</span><span class="o">-&gt;</span><span class="na">addExtension</span><span class="p">(</span><span class="k">new</span> <span class="nx">StringExtension</span><span class="p">());</span>
</pre></div> </div> </div>   <div class="navigation" style="text-align: center"> <a accesskey="P" title="trim" href="trim.html"> « trim </a> <span class="separator">|</span> <a accesskey="N" title="upper" href="upper.html"> upper » </a> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;2018 by the Twig Team<br>Licensed under the three clause BSD license.<br>The Twig logo is &copy; 2010&ndash;2020 Symfony<br>
    <a href="https://twig.symfony.com/doc/3.x/filters/u.html" class="_attribution-link">https://twig.symfony.com/doc/3.x/filters/u.html</a>
  </p>
</div>
