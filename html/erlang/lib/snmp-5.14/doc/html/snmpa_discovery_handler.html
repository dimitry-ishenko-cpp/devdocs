  <div class="innertube"> <h2 id="module" class="title-link"> <div class="title-name">Module</div>  </h2> <div class="REFBODY module-body">snmpa_discovery_handler</div> </div> <div class="innertube"> <h2 id="module-summary" class="title-link"> <div class="title-name">Module Summary</div>  </h2> <div class="REFBODY module-summary-body">Behaviour module for the SNMP agent discovery handler.</div> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link"> <div class="title-name">Description</div>  </h2> <div class="REFBODY description-body" id="stage1_finish">

<p>This module defines the behaviour of the agent discovery handler. A <code>snmpa_discovery_handler</code> compliant module must export the following functions: </p> <ul> <li> <p><code><a href="#stage1_finish">stage1_finish/2</a></code></p> </li> </ul> <p>The semantics of them and their exact signatures are explained below. </p>  </div> </div></section> <div class="innertube"><h2 id="export" class="title-link"> <div class="title-name">Exports</div>  </h2></div> <div class="exports-body"><article class="func"><div class="bold_code func-head"><h3 id="stage1_finish-3" class="title-link">  <div class="title-name">stage1_finish(TargetName, ManagerEngineID, ExtraInfo) -&gt; ignore | {ok, usm_entry() | [usm_entry()]} | {ok, usm_entry() | [usm_entry()], NewExtraInfo}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>TargetName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>ManagerEngineID = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>ExtraInfo = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>usm_entry() = tuple() compatible with usm.conf</code><br> </div> <div class="REFTYPES rt-4"> <code>NewExtraInfo = term()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>This function is called at the end of stage 1 of the discovery process. It should return either the atom <code>ignore</code> or <code>{ok, usm_entry() | [usm_entry()]}</code>. See <code><a href="snmp_agent_config_files.html#usm">usm_entry()</a></code> and <code><a href="snmpa_conf.html#usm_entry">usm_entry/13</a></code> for more info. </p> <p>If the function returns <code>ignore</code>, then it is assumed that either: </p> <ul> <li>The caller (of the discovery function) will make the needed updates later. </li> <li>The callback function itself did the updates. </li> </ul> <p>In either case, the agent will do nothing, but return the retrieved ManagerEngineID (see <code><a href="snmpa.html#discovery">discovery</a></code> for more info) and possible continue with stage 2 of the discovery process. </p> <p>The <code>ExtraInfo</code> argument is passed on from the <code><a href="snmpa.html#discovery">discovery</a></code> function. </p> <p>This function may return an updated <code>NewExtraInfo</code> that will be used in subsequent calls to the callback functions. Intended for future use. </p> <p>The purpose of this function is to generate the usm- related security data needed for usm processing in the agent. Specifically, updating the usmUserTable. </p> <p>When an <code>usm_entry()</code> tuple (or a list of such tuples) is returned, this data is then added to the <code>usmUserTable</code> by the (master-) agent. </p> <p>When an <code>usm_entry()</code> tuple (or a list of such tuples) is returned, this data is then added to the <code>usmUserTable</code> by the (master-) agent. </p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Note that the function does not check if this entry already exists. </p>
</div> </div> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Note that this function is executed in the context of the master-agent process. </p>
</div> </div> </div> </div></article></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
