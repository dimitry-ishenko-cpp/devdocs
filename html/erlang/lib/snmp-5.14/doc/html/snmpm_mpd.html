  <div class="innertube"> <h2 id="module" class="title-link"> <div class="title-name">Module</div>  </h2> <div class="REFBODY module-body">snmpm_mpd</div> </div> <div class="innertube"> <h2 id="module-summary" class="title-link"> <div class="title-name">Module Summary</div>  </h2> <div class="REFBODY module-summary-body">Message Processing and Dispatch module for the SNMP manager</div> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link"> <div class="title-name">Description</div>  </h2> <div class="REFBODY description-body">

<p>The module <code>snmpm_mpd</code> implements the version independent Message Processing and Dispatch functionality in SNMP for the manager. It is supposed to be used from a Network Interface process (<code><a href="snmp_manager_netif.html">Definition of Manager Net if</a></code>). </p> <p>Legacy API function <code>process_msg/7</code> that has got separate <code>IpAddr</code> and <code>PortNumber</code> arguments still works as before for backwards compatibility reasons.</p> </div> </div></section> <div class="innertube"><h2 id="export" class="title-link"> <div class="title-name">Exports</div>  </h2></div> <div class="exports-body"> <article class="func"><div class="bold_code func-head"><h3 id="init-1" class="title-link">  <div class="title-name">init(Vsns) -&gt; mpd_state()</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Vsns = [Vsn]</code><br> </div> <div class="REFTYPES rt-4"> <code>Vsn = v1 | v2 | v3</code><br> </div> </div> <div class="REFBODY rb-7"> <p>This function can be called from the net_if process at start-up. The options list defines which versions to use. </p> <h3 id="process_msg">It also initializes some SNMP counters.  </h3> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="process_msg-6" class="title-link">  <div class="title-name">process_msg(Msg, Domain, Addr, State, NoteStore, Logger) -&gt; {ok, Vsn, Pdu, PduMS, MsgData} | {discarded, Reason}</div> <div class="title-since"><span class="since">OTP 17.3</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Msg = binary()</code><br> </div> <div class="REFTYPES rt-4"> <code>Domain = transportDomainUdpIpv4 | transportDomainUdpIpv6</code><br> </div> <div class="REFTYPES rt-4"> <code>Addr = {inet:ip_address(), inet:port_number()}</code><br> </div> <div class="REFTYPES rt-4"> <code>State = mpd_state()</code><br> </div> <div class="REFTYPES rt-4"> <code>NoteStore = pid()</code><br> </div> <div class="REFTYPES rt-4"> <code>Logger = function()</code><br> </div> <div class="REFTYPES rt-4"> <code>Vsn = 'version-1' | 'version-2' | 'version-3'</code><br> </div> <div class="REFTYPES rt-4"> <code>Pdu = #pdu</code><br> </div> <div class="REFTYPES rt-4"> <code>PduMs = integer()</code><br> </div> <div class="REFTYPES rt-4"> <code>MsgData = term()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Processes an incoming message. Performs authentication and decryption as necessary. The return values should be passed the manager server. </p> <p><code>NoteStore</code> is the <code>pid()</code> of the note-store process.</p> <p><code>Logger</code> is the function used for audit trail logging. </p> <p>In the case when the pdu type is <code>report</code>, <code>MsgData</code> is either <code>ok</code> or <code>{error, ReqId, Reason}</code>. </p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="generate_msg-5" class="title-link">  <div class="title-name">generate_msg(Vsn, NoteStore, Pdu, MsgData, Logger) -&gt; {ok, Packet} | {discarded, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Vsn = 'version-1' | 'version-2' | 'version-3'</code><br> </div> <div class="REFTYPES rt-4"> <code>NoteStore = pid()</code><br> </div> <div class="REFTYPES rt-4"> <code>Pdu = #pdu</code><br> </div> <div class="REFTYPES rt-4"> <code>MsgData = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>Logger = function()</code><br> </div> <div class="REFTYPES rt-4"> <code>Packet = binary()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Generates a possibly encrypted packet to be sent to the network. </p> <p><code>NoteStore</code> is the <code>pid()</code> of the note-store process. </p> <p><code>MsgData</code> is the message specific data used in the SNMP message. In SNMPv1 and SNMPv2c, this message data is the community string. In SNMPv3, it is the context information. </p> <p><code>Logger</code> is the function used for audit trail logging. </p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="generate_response_msg-4" class="title-link">  <div class="title-name">generate_response_msg(Vsn, Pdu, MsgData, Logger) -&gt; {ok, Packet} | {discarded, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Vsn = 'version-1' | 'version-2' | 'version-3'</code><br> </div> <div class="REFTYPES rt-4"> <code>Pdu = #pdu</code><br> </div> <div class="REFTYPES rt-4"> <code>MsgData = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>Logger = function()</code><br> </div> <div class="REFTYPES rt-4"> <code>Packet = binary()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Generates a possibly encrypted response packet to be sent to the network. </p> <p><code>MsgData</code> is the message specific data used in the SNMP message. This value is received from the <code><a href="snmpm_mpd.html#process_msg">process_msg</a></code> function. </p> </div> </div></article> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
