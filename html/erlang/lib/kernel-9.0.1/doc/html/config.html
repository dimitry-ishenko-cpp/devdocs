  <div class="innertube"> <h2 id="file" class="title-link"> <div class="title-name">File</div>  </h2> <div class="REFBODY file-body">config</div> </div> <div class="innertube"> <h2 id="file-summary" class="title-link"> <div class="title-name">File Summary</div>  </h2> <div class="REFBODY file-summary-body">Configuration file.</div> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link"> <div class="title-name">Description</div>  </h2> <div class="REFBODY description-body">

<p>A <strong>configuration file</strong> contains values for configuration parameters for the applications in the system. The <code>erl</code> command-line argument <code>-config Name</code> tells the system to use data in the system configuration file <code>Name.config</code>.</p> <p>The erl command-line argument <code>-configfd</code> works the same way as the <code>-config</code> option but specifies a file descriptor to read configuration data from instead of a file.</p> <p>The configuration data from configuration files and file descriptors are read in the same order as they are given on the command line. For example, <code>erl -config a -configfd 3 -config b -configfd 4</code> would cause the system to read configuration data in the following order <code>a.config</code>, file descriptor <code>3</code>, <code>b.config</code>, and file descriptor <code>4</code>. If a configuration parameter is specified more than once in the given files and file descriptors, the last one overrides the previous ones.</p> <p>Configuration parameter values in a configuration file or file descriptor override the values in the application resource files (see <code><a href="app.html">app(4)</a></code>). The values in the configuration file are always overridden by command-line flags (see <code>erts:erl(1)</code>).</p> <p>The value of a configuration parameter is retrieved by calling <code>application:get_env/1,2</code>.</p> </div> </div></section> <section class="innertube"><h2 id="file-syntax" class="title-link"> <div class="title-name">File Syntax</div>  </h2> <div class="REFBODY rb-3"> <p>The configuration file is to be called <code>Name.config</code>, where <code>Name</code> is any name.</p> <p>File <code>.config</code> contains a single Erlang term and has the following syntax:</p> <pre data-language="erlang">[{Application1, [{Par11, Val11}, ...]},
 ...
 {ApplicationN, [{ParN1, ValN1}, ...]}].</pre> <dl> <dt class="title-link"><strong><code>Application = atom()</code></strong></dt> <dd><p>Application name.</p></dd> <dt class="title-link"><strong><code>Par = atom()</code></strong></dt> <dd><p>Name of a configuration parameter.</p></dd> <dt class="title-link"><strong><code>Val = term()</code></strong></dt> <dd><p>Value of a configuration parameter.</p></dd> </dl> </div></section> <section class="innertube"><h2 id="sys.config" class="title-link"> <div class="title-name">sys.config</div>  </h2> <div class="REFBODY rb-3"> <p>When starting Erlang in embedded mode, it is assumed that exactly one system configuration file is used, named <code>sys.config</code>. This file is to be located in <code>$ROOT/releases/Vsn</code>, where <code>$ROOT</code> is the Erlang/OTP root installation directory and <code>Vsn</code> is the release version.</p> <p>Release handling relies on this assumption. When installing a new release version, the new <code>sys.config</code> is read and used to update the application's configurations.</p> <p>This means that specifying another <code>.config</code> file, or more <code>.config</code> files, leads to an inconsistent update of application configurations. There is, however, a way to point out other config files from a <code>sys.config</code>. How to do this is described in the next section.</p> </div></section> <section class="innertube"><h2 id="including-files-from-sys.config-and--configfd-configurations" class="title-link"> <div class="title-name">Including Files from sys.config and -configfd Configurations</div>  </h2> <div class="REFBODY rb-3"> <p>There is a way to include other configuration files from a <code>sys.config</code> file and from a configuration that comes from a file descriptor that has been pointed out with the <code>-configfd</code> command-line argument.</p> <p>The syntax for including files can be described by the <code>Erlang type language</code> like this:</p> <pre data-language="erlang">[{Application, [{Par, Val}]} | IncludeFile].</pre> <dl> <dt class="title-link"><strong><code>IncludeFile = string()</code></strong></dt> <dd>Name of a <code>.config</code> file. The extension <code>.config</code> can be omitted. It is recommended to use absolute paths. If a relative path is used in a <code>sys.config</code>, <code>IncludeFile</code> is searched, first, relative to the <code>sys.config</code> directory, then relative to the current working directory of the emulator. If a relative path is used in a <code>-configfd</code> configuration, <code>IncludeFile</code> is searched, first, relative to the dictionary containing the <code>boot script</code> (see also the <code>-boot</code> command-line argument) for the emulator, then relative to the current working directory of the emulator. This makes it possible to use <code>sys.config</code> for pointing out other <code>.config</code> files in a release or in a node started manually using <code>-config</code> or <code>-configfd</code> with the same result whatever the current working directory is. </dd> </dl> <p>When traversing the contents of a <code>sys.config</code> or a <code>-configfd</code> configuration and a filename is encountered, its contents are read and merged with the result so far. When an application configuration tuple <code>{Application, Env}</code> is found, it is merged with the result so far. Merging means that new parameters are added and existing parameter values are overwritten.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">sys.config:

["/home/user/myconfig1"
 {myapp,[{par1,val1},{par2,val2}]},
 "/home/user/myconfig2"].

myconfig1.config:

[{myapp,[{par0,val0},{par1,val0},{par2,val0}]}].

myconfig2.config:

[{myapp,[{par2,val3},{par3,val4}]}].</pre> <p>This yields the following environment for <code>myapp</code>:</p> <pre data-language="erlang">[{par0,val0},{par1,val1},{par2,val3},{par3,val4}]</pre> <p>The run-time system will abort before staring up if an include file specified in <code>sys.config</code> or a <code>-configfd</code> configuration does not exist, or is erroneous. However, installing a new release version will not fail if there is an error while loading an include file, but an error message is returned and the erroneous file is ignored.</p> </div></section> <section class="innertube"><h2 id="see-also" class="title-link"> <div class="title-name">See Also</div>  </h2> <div class="REFBODY rb-3"> <p><code><a href="app.html">app(4)</a></code>, <code>erts:erl(1)</code>, <code>OTP Design Principles</code></p> </div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
