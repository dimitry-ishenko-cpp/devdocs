  <div class="innertube"> <h2 id="module" class="title-link"> <div class="title-name">Module</div>  </h2> <div class="REFBODY module-body">maps</div> </div> <div class="innertube"> <h2 id="module-summary" class="title-link"> <div class="title-name">Module Summary</div>  </h2> <div class="REFBODY module-summary-body">Maps processing functions.</div> <h2 id="since" class="title-link"> <div class="title-name">Since</div>  </h2> <div class="REFBODY module-since"> Module maps was introduced in OTP 17.0. </div> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link"> <div class="title-name">Description</div>  </h2> <div class="REFBODY description-body">

<p>This module contains functions for maps processing. The Efficiency Guide contains a chapter that describes <code>how to use maps efficiently</code>.</p> </div> </div></section> <div class="innertube"> <h2 id="data-types" class="title-link"> <div class="title-name">Data Types</div>  </h2> <article class="data-types-body"><h3 id="type-iterator" class="title-link data-type-name">  <div class="title-name"> <code><a name="type-iterator">iterator(Key, Value)</a></code><br> </div> </h3> <div class="data-type-desc"><div class="REFBODY rb-7"> <p>An iterator representing the associations in a map with keys of type <code>Key</code> and values of type <code>Value</code>.</p> <p>Created using <code><a href="#iterator-1">maps:iterator/1</a></code> or <code><a href="#iterator-2">maps:iterator/2</a></code>.</p> <p>Consumed by:</p> <ul> <li><code><a href="#next-1">maps:next/1</a></code></li> <li><code><a href="#filter-2">maps:filter/2</a></code></li> <li><code><a href="#filtermap-2">maps:filtermap/2</a></code></li> <li><code><a href="#fold-3">maps:fold/3</a></code></li> <li><code><a href="#foreach-2">maps:foreach/2</a></code></li> <li><code><a href="#map-2">maps:map/2</a></code></li> <li><code><a href="#to_list-1">maps:to_list/1</a></code></li> </ul> </div></div></article> <article class="data-types-body"><h3 id="type-iterator" class="title-link data-type-name">  <div class="title-name"> <code><a name="type-iterator">iterator()</a> = <a href="#type-iterator">iterator</a>(term(), term())</code><br> </div> </h3> </article> <article class="data-types-body"><h3 id="type-iterator_order" class="title-link data-type-name">  <div class="title-name"> <pre data-language="erlang"><code><a name="type-iterator_order">iterator_order(Key)</a> = 
 undefined | ordered | reversed |
 fun((A :: Key, B :: Key) -&gt; boolean())</code></pre>
<br> </div> </h3> <div class="data-type-desc"><div class="REFBODY rb-7"> <p>Key-based iterator order option that can be one of <code>undefined</code> (default for <code><a href="#iterator-1">maps:iterator/1</a></code>), <code>ordered</code> (sorted in map-key order), <code>reversed</code>, or a custom sorting function.</p> <p>Used by <code><a href="#iterator-2">maps:iterator/2</a></code>.</p> <p>The <code> Expressions section</code> contains descriptions of how terms are ordered.</p> </div></div></article> <article class="data-types-body"><h3 id="type-iterator_order" class="title-link data-type-name">  <div class="title-name"> <code><a name="type-iterator_order">iterator_order()</a> = <a href="#type-iterator_order">iterator_order</a>(term())</code><br> </div> </h3> </article> </div> <div class="innertube"><h2 id="export" class="title-link"> <div class="title-name">Exports</div>  </h2></div> <div class="exports-body"> <article class="func"><h3 id="filter-2" class="bold_code title-link func-head">  <code>filter(Pred, MapOrIter) -&gt; Map</code><div class="title-since"><span class="since">OTP 18.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Pred = fun((Key, Value) -&gt; boolean())</code></div> <div class="REFTYPES rt-1"><code>MapOrIter = #{Key =&gt; Value} | <a href="#type-iterator">iterator</a>(Key, Value)</code></div> <div class="REFTYPES rt-1"><code>Map = #{Key =&gt; Value}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a map <code>Map</code> for which predicate <code>Pred</code> holds true in <code>MapOrIter</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>MapOrIter</code> is not a map or valid iterator, or with <code>badarg</code> if <code>Pred</code> is not a function of arity 2.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; M = #{a =&gt; 2, b =&gt; 3, c=&gt; 4, "a" =&gt; 1, "b" =&gt; 2, "c" =&gt; 4},
  Pred = fun(K,V) -&gt; is_atom(K) andalso (V rem 2) =:= 0 end,
  maps:filter(Pred,M).
#{a =&gt; 2,c =&gt; 4}</pre> </div></div></article><article class="func"><h3 id="filtermap-2" class="bold_code title-link func-head">  <code>filtermap(Fun, MapOrIter) -&gt; Map</code><div class="title-since"><span class="since">OTP 24.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Fun = fun((Key, Value1) -&gt; boolean() | {true, Value2})</code></div> <div class="REFTYPES rt-1"><code>MapOrIter = #{Key =&gt; Value1} | <a href="#type-iterator">iterator</a>(Key, Value1)</code></div> <div class="REFTYPES rt-1"><code>Map = #{Key =&gt; Value1 | Value2}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a map <code>Map</code> that is the result of calling <code>Fun(Key, Value1)</code> for every <code>Key</code> to value <code>Value1</code> association in <code>MapOrIter</code> in any order.</p> <p>If <code>Fun(Key, Value1)</code> returns <code>true</code>, the association is copied to the result map. If it returns <code>false</code>, the association is not copied. If it returns <code>{true, NewValue}</code>, the value for <code>Key</code> is replaced with <code>NewValue</code> at this position is replaced in the result map.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>MapOrIter</code> is not a map or valid iterator, or with <code>badarg</code> if <code>Fun</code> is not a function of arity 2.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Fun = fun(K,V) when is_atom(K) -&gt; {true, V*2}; (_,V) -&gt; (V rem 2) =:= 0 end,
  Map = #{k1 =&gt; 1, "k2" =&gt; 2, "k3" =&gt; 3},
  maps:filtermap(Fun,Map).
#{k1 =&gt; 2,"k2" =&gt; 2}</pre> </div></div></article><article class="func"><h3 id="find-2" class="bold_code title-link func-head">  <code>find(Key, Map) -&gt; {ok, Value} | error</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map = #{Key =&gt; Value, term() =&gt; term()}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a tuple <code>{ok, Value}</code>, where <code>Value</code> is the value associated with <code>Key</code>, or <code>error</code> if no value is associated with <code>Key</code> in <code>Map</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map</code> is not a map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{"hi" =&gt; 42},
  Key = "hi",
  maps:find(Key,Map).
{ok,42}</pre> </div></div></article><article class="func"><h3 id="fold-3" class="bold_code title-link func-head">  <code>fold(Fun, Init, MapOrIter) -&gt; Acc</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Fun = fun((Key, Value, AccIn) -&gt; AccOut)</code></div> <div class="REFTYPES rt-1"><code>Init = term()</code></div> <div class="REFTYPES rt-1"><code>Acc = AccOut</code></div> <div class="REFTYPES rt-1"><code>AccIn = Init | AccOut</code></div> <div class="REFTYPES rt-1"><code>MapOrIter = #{Key =&gt; Value} | <a href="#type-iterator">iterator</a>(Key, Value)</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Calls <code>F(Key, Value, AccIn)</code> for every <code>Key</code> to value <code>Value</code> association in <code>MapOrIter</code> in any order. Function <code>fun F/3</code> must return a new accumulator, which is passed to the next successive call. This function returns the final value of the accumulator. The initial accumulator value <code>Init</code> is returned if the map is empty.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>MapOrIter</code> is not a map or valid iterator, or with <code>badarg</code> if <code>Fun</code> is not a function of arity 3.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Fun = fun(K,V,AccIn) when is_list(K) -&gt; AccIn + V end,
  Map = #{"k1" =&gt; 1, "k2" =&gt; 2, "k3" =&gt; 3},
  maps:fold(Fun,0,Map).
6</pre> </div></div></article><article class="func"><h3 id="foreach-2" class="bold_code title-link func-head">  <code>foreach(Fun, MapOrIter) -&gt; ok</code><div class="title-since"><span class="since">OTP 24.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Fun = fun((Key, Value) -&gt; term())</code></div> <div class="REFTYPES rt-1"><code>MapOrIter = #{Key =&gt; Value} | <a href="#type-iterator">iterator</a>(Key, Value)</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Calls <code>fun F(Key, Value)</code> for every <code>Key</code> to value <code>Value</code> association in <code>MapOrIter</code> in any order.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>MapOrIter</code> is not a map or valid iterator, or with <code>badarg</code> if <code>Fun</code> is not a function of arity 2.</p> </div></div></article><article class="func"><h3 id="from_keys-2" class="bold_code title-link func-head">  <code>from_keys(Keys, Value) -&gt; Map</code><div class="title-since"><span class="since">OTP 24.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Keys = list()</code></div> <div class="REFTYPES rt-1"><code>Value = term()</code></div> <div class="REFTYPES rt-1"><code>Map = map()</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Takes a list of keys and a value and builds a map where all keys point to the same value. The key can be in any order, and keys and value can be of any term.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Keys = ["a", "b", "c"], maps:from_keys(Keys, ok).
#{"a" =&gt; ok,"b" =&gt; ok,"c" =&gt; ok}</pre> </div></div></article><article class="func"><h3 id="from_list-1" class="bold_code title-link func-head">  <code>from_list(List) -&gt; Map</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>List = [{Key, Value}]</code></div> <div class="REFTYPES rt-1"><code>Key = Value = term()</code></div>  <div class="REFTYPES rt-1"><code>Map = map()</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Takes a list of key-value tuples elements and builds a map. The associations can be in any order, and both keys and values in the association can be of any term. If the same key appears more than once, the latter (right-most) value is used and the previous values are ignored.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; List = [{"a",ignored},{1337,"value two"},{42,value_three},{"a",1}],
  maps:from_list(List).
#{42 =&gt; value_three,1337 =&gt; "value two","a" =&gt; 1}</pre> </div></div></article><article class="func"><h3 id="get-2" class="bold_code title-link func-head">  <code>get(Key, Map) -&gt; Value</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Key = term()</code></div> <div class="REFTYPES rt-1"><code>Map = map()</code></div> <div class="REFTYPES rt-1"><code>Value = term()</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns value <code>Value</code> associated with <code>Key</code> if <code>Map</code> contains <code>Key</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map</code> is not a map, or with a <code>{badkey,Key}</code> exception if no value is associated with <code>Key</code>.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Key = 1337,
  Map = #{42 =&gt; value_two,1337 =&gt; "value one","a" =&gt; 1},
  maps:get(Key,Map).
"value one"</pre> </div></div></article><article class="func"><h3 id="get-3" class="bold_code title-link func-head">  <code>get(Key, Map, Default) -&gt; Value | Default</code><div class="title-since"><span class="since">OTP 17.1</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map = #{Key =&gt; Value, term() =&gt; term()}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns value <code>Value</code> associated with <code>Key</code> if <code>Map</code> contains <code>Key</code>. If no value is associated with <code>Key</code>, <code>Default</code> is returned.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map</code> is not a map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{ key1 =&gt; val1, key2 =&gt; val2 }.
#{key1 =&gt; val1,key2 =&gt; val2}
&gt; maps:get(key1, Map, "Default value").
val1
&gt; maps:get(key3, Map, "Default value").
"Default value"</pre> </div></div></article><article class="func"><h3 id="groups_from_list-2" class="bold_code title-link func-head">  <code>groups_from_list(KeyFun, List) -&gt; GroupsMap</code><div class="title-since"><span class="since">OTP 25.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>KeyFun = fun((Elem) -&gt; Key)</code></div> <div class="REFTYPES rt-1"><code>GroupsMap = #{Key =&gt; Group}</code></div> <div class="REFTYPES rt-1"><code>Key = term()</code></div> <div class="REFTYPES rt-1"><code>List = Group = [Elem]</code></div>  <div class="REFTYPES rt-1"><code>Elem = term()</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Partitions the given <code>List</code> into a map of groups.</p> <p>The result is a map where each key is given by <code>KeyFun</code> and each value is a list of elements from the given <code>List</code> for which <code>KeyFun</code> returned the same key.</p> <p>The order of elements within each group list is preserved from the original list.</p> <p><strong>Examples:</strong></p> <pre data-language="erlang">
&gt; <code>EvenOdd = fun(X) -&gt; case X rem 2 of 0 -&gt; even; 1 -&gt; odd end end,</code>
<code>maps:groups_from_list(EvenOdd, [1, 2, 3]).</code>
#{even =&gt; [2], odd =&gt; [1, 3]}
&gt; <code>maps:groups_from_list(fun erlang:length/1, ["ant", "buffalo", "cat", "dingo"]).</code>
#{3 =&gt; ["ant", "cat"], 5 =&gt; ["dingo"], 7 =&gt; ["buffalo"]}</pre> </div></div></article><article class="func"><h3 id="groups_from_list-3" class="bold_code title-link func-head">  <code>groups_from_list(KeyFun, ValueFun, List) -&gt; GroupsMap</code><div class="title-since"><span class="since">OTP 25.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>KeyFun = fun((Elem) -&gt; Key)</code></div> <div class="REFTYPES rt-1"><code>ValueFun = fun((Elem) -&gt; Value)</code></div> <div class="REFTYPES rt-1"><code>GroupsMap = #{Key := Group}</code></div> <div class="REFTYPES rt-1"><code>Key = Value = term()</code></div>  <div class="REFTYPES rt-1"><code>List = [Elem]</code></div> <div class="REFTYPES rt-1"><code>Group = [Value]</code></div> <div class="REFTYPES rt-1"><code>Elem = term()</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Partitions the given <code>List</code> into a map of groups.</p> <p>The result is a map where each key is given by <code>KeyFun</code> and each value is a list of elements from the given <code>List</code>, mapped via <code>ValueFun</code>, for which <code>KeyFun</code> returned the same key.</p> <p>The order of elements within each group list is preserved from the original list.</p> <p><strong>Examples:</strong></p> <pre data-language="erlang">
&gt; <code>EvenOdd = fun(X) -&gt; case X rem 2 of 0 -&gt; even; 1 -&gt; odd end end,</code>
&gt; <code>Square = fun(X) -&gt; X * X end,</code>
&gt; <code>maps:groups_from_list(EvenOdd, Square, [1, 2, 3]).</code>
#{even =&gt; [4], odd =&gt; [1, 9]}
&gt; <code>maps:groups_from_list(</code>
<code>fun erlang:length/1,</code>
<code>fun lists:reverse/1,</code>
<code>["ant", "buffalo", "cat", "dingo"]).</code>
#{3 =&gt; ["tna", "tac"],5 =&gt; ["ognid"],7 =&gt; ["olaffub"]}</pre> </div></div></article><article class="func"><h3 id="intersect-2" class="bold_code title-link func-head">  <code>intersect(Map1, Map2) -&gt; Map3</code><div class="title-since"><span class="since">OTP 24.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map1 = #{Key =&gt; term()}</code></div> <div class="REFTYPES rt-1"><code>Map2 = #{term() =&gt; Value2}</code></div> <div class="REFTYPES rt-1"><code>Map3 = #{Key =&gt; Value2}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Intersects two maps into a single map <code>Map3</code>. If a key exists in both maps, the value in <code>Map1</code> is superseded by the value in <code>Map2</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map1</code> or <code>Map2</code> is not a map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map1 = #{a =&gt; "value_one", b =&gt; "value_two"},
  Map2 = #{a =&gt; 1, c =&gt; 2},
  maps:intersect(Map1,Map2).
#{a =&gt; 1}</pre> </div></div></article><article class="func"><h3 id="intersect_with-3" class="bold_code title-link func-head">  <code>intersect_with(Combiner, Map1, Map2) -&gt; Map3</code><div class="title-since"><span class="since">OTP 24.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map1 = #{Key =&gt; Value1}</code></div> <div class="REFTYPES rt-1"><code>Map2 = #{term() =&gt; Value2}</code></div> <div class="REFTYPES rt-1"><code>Combiner = fun((Key, Value1, Value2) -&gt; CombineResult)</code></div> <div class="REFTYPES rt-1"><code>Map3 = #{Key =&gt; CombineResult}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Intersects two maps into a single map <code>Map3</code>. If a key exists in both maps, the value in <code>Map1</code> is combined with the value in <code>Map2</code> by the <code>Combiner</code> fun. When <code>Combiner</code> is applied the key that exists in both maps is the first parameter, the value from <code>Map1</code> is the second parameter, and the value from <code>Map2</code> is the third parameter.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map1</code> or <code>Map2</code> is not a map. The call fails with a <code>badarg</code> exception if <code>Combiner</code> is not a fun that takes three arguments.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map1 = #{a =&gt; "value_one", b =&gt; "value_two"},
  Map2 = #{a =&gt; 1, c =&gt; 2},
  maps:intersect_with(fun(_Key, Value1, Value2) -&gt; {Value1, Value2} end, Map1, Map2).
#{a =&gt; {"value_one",1}}</pre> </div></div></article><article class="func"><h3 id="is_key-2" class="bold_code title-link func-head">  <code>is_key(Key, Map) -&gt; <code>boolean()</code></code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Key = term()</code></div> <div class="REFTYPES rt-1"><code>Map = map()</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns <code>true</code> if map <code>Map</code> contains <code>Key</code> and returns <code>false</code> if it does not contain the <code>Key</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map</code> is not a map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{"42" =&gt; value}.
#{"42" =&gt; value}
&gt; maps:is_key("42",Map).
true
&gt; maps:is_key(value,Map).
false</pre> </div></div></article><article class="func"><h3 id="iterator-1" class="bold_code title-link func-head">  <code>iterator(Map) -&gt; Iterator</code><div class="title-since"><span class="since">OTP 21.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map = #{Key =&gt; Value}</code></div> <div class="REFTYPES rt-1"><code>Iterator = <a href="#type-iterator">iterator</a>(Key, Value)</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a map iterator <code>Iterator</code> that can be used by <code><a href="#next-1">maps:next/1</a></code> to traverse the key-value associations in a map. When iterating over a map, the memory usage is guaranteed to be bounded no matter the size of the map.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map</code> is not a map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; M = #{ a =&gt; 1, b =&gt; 2 }.
#{a =&gt; 1,b =&gt; 2}
&gt; I = maps:iterator(M), ok.
ok
&gt; {K1, V1, I2} = maps:next(I), {K1, V1}.
{a,1}
&gt; {K2, V2, I3} = maps:next(I2),{K2, V2}.
{b,2}
&gt; maps:next(I3).
none</pre> </div></div></article><article class="func"><h3 id="iterator-2" class="bold_code title-link func-head">  <code>iterator(Map, Order) -&gt; Iterator</code><div class="title-since"><span class="since">OTP 26.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map = #{Key =&gt; Value}</code></div> <div class="REFTYPES rt-1"><code>Order = <a href="#type-iterator_order">iterator_order</a>(Key)</code></div> <div class="REFTYPES rt-1"><code>Iterator = <a href="#type-iterator">iterator</a>(Key, Value)</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a map iterator <code>Iterator</code> that can be used by <code><a href="#next-1">maps:next/1</a></code> to traverse the key-value associations in a map sorted by key using the given <code>Order</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map</code> is not a map or if <code>Order</code> is invalid.</p> <p><strong>Example (when </strong><code>Order</code><strong> is </strong><code>ordered</code><strong>):</strong></p> <pre data-language="erlang">&gt; M = #{ a =&gt; 1, b =&gt; 2 }.
#{a =&gt; 1,b =&gt; 2}
&gt; OrdI = maps:iterator(M, ordered), ok.
ok
&gt; {K1, V1, OrdI2} = maps:next(OrdI), {K1, V1}.
{a,1}
&gt; {K2, V2, OrdI3} = maps:next(OrdI2),{K2, V2}.
{b,2}
&gt; maps:next(OrdI3).
none</pre> <p><strong>Example (when </strong><code>Order</code><strong> is </strong><code>reversed</code><strong>):</strong></p> <pre data-language="erlang">&gt; M = #{ a =&gt; 1, b =&gt; 2 }.
#{a =&gt; 1,b =&gt; 2}
&gt; RevI = maps:iterator(M, reversed), ok.
ok
&gt; {K2, V2, RevI2} = maps:next(RevI), {K2, V2}.
{b,2}
&gt; {K1, V1, RevI3} = maps:next(RevI2),{K1, V1}.
{a,1}
&gt; maps:next(RevI3).
none</pre> <p><strong>Example (when </strong><code>Order</code><strong> is an arithmetic sorting function):</strong></p> <pre data-language="erlang">&gt; M = #{ -1 =&gt; a, -1.0 =&gt; b, 0 =&gt; c, 0.0 =&gt; d }.
#{-1 =&gt; a,0 =&gt; c,-1.0 =&gt; b,0.0 =&gt; d}
&gt; ArithOrdI = maps:iterator(M, fun(A, B) -&gt; A =&lt; B end), ok.
ok
&gt; maps:to_list(ArithOrdI).
[{-1,a},{-1.0,b},{0,c},{0.0,d}]
&gt; ArithRevI = maps:iterator(M, fun(A, B) -&gt; B &lt; A end), ok.
ok
&gt; maps:to_list(ArithRevI).
[{0.0,d},{0,c},{-1.0,b},{-1,a}]</pre> </div></div></article><article class="func"><h3 id="keys-1" class="bold_code title-link func-head">  <code>keys(Map) -&gt; Keys</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map = #{Key =&gt; term()}</code></div> <div class="REFTYPES rt-1"><code>Keys = [Key]</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a complete list of keys, in any order, which resides within <code>Map</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map</code> is not a map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{42 =&gt; value_three,1337 =&gt; "value two","a" =&gt; 1},
  maps:keys(Map).
[42,1337,"a"]</pre> </div></div></article><article class="func"><h3 id="map-2" class="bold_code title-link func-head">  <code>map(Fun, MapOrIter) -&gt; Map</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Fun = fun((Key, Value1) -&gt; Value2)</code></div> <div class="REFTYPES rt-1"><code>MapOrIter = #{Key =&gt; Value1} | <a href="#type-iterator">iterator</a>(Key, Value1)</code></div> <div class="REFTYPES rt-1"><code>Map = #{Key =&gt; Value2}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Produces a new map <code>Map</code> by calling function <code>fun F(Key, Value1)</code> for every <code>Key</code> to value <code>Value1</code> association in <code>MapOrIter</code> in any order. Function <code>fun Fun/2</code> must return value <code>Value2</code> to be associated with key <code>Key</code> for the new map <code>Map</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>MapOrIter</code> is not a map or valid iterator, or with <code>badarg</code> if <code>Fun</code> is not a function of arity 2.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Fun = fun(K,V1) when is_list(K) -&gt; V1*2 end,
  Map = #{"k1" =&gt; 1, "k2" =&gt; 2, "k3" =&gt; 3},
  maps:map(Fun,Map).
#{"k1" =&gt; 2,"k2" =&gt; 4,"k3" =&gt; 6}</pre> </div></div></article><article class="func"><h3 id="merge-2" class="bold_code title-link func-head">  <code>merge(Map1, Map2) -&gt; Map3</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map1 = Map2 = Map3 = map()</code></div>   </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Merges two maps into a single map <code>Map3</code>. If two keys exist in both maps, the value in <code>Map1</code> is superseded by the value in <code>Map2</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map1</code> or <code>Map2</code> is not a map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map1 = #{a =&gt; "value_one", b =&gt; "value_two"},
  Map2 = #{a =&gt; 1, c =&gt; 2},
  maps:merge(Map1,Map2).
#{a =&gt; 1,b =&gt; "value_two",c =&gt; 2}</pre> </div></div></article><article class="func"><h3 id="merge_with-3" class="bold_code title-link func-head">  <code>merge_with(Combiner, Map1, Map2) -&gt; Map3</code><div class="title-since"><span class="since">OTP 24.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map1 = #{Key1 =&gt; Value1}</code></div> <div class="REFTYPES rt-1"><code>Map2 = #{Key2 =&gt; Value2}</code></div> <div class="REFTYPES rt-1"><code>Combiner = fun((Key1, Value1, Value2) -&gt; CombineResult)</code></div> <div class="REFTYPES rt-1"><code>Map3 = #{Key1 =&gt; CombineResult, Key1 =&gt; Value1, Key2 =&gt; Value2}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Merges two maps into a single map <code>Map3</code>. If a key exists in both maps, the value in <code>Map1</code> is combined with the value in <code>Map2</code> by the <code>Combiner</code> fun. When <code>Combiner</code> is applied the key that exists in both maps is the first parameter, the value from <code>Map1</code> is the second parameter, and the value from <code>Map2</code> is the third parameter.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map1</code> or <code>Map2</code> is not a map. The call fails with a <code>badarg</code> exception if <code>Combiner</code> is not a fun that takes three arguments.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map1 = #{a =&gt; "value_one", b =&gt; "value_two"},
  Map2 = #{a =&gt; 1, c =&gt; 2},
  maps:merge_with(fun(_Key, Value1, Value2) -&gt; {Value1, Value2} end, Map1, Map2).
#{a =&gt; {"value_one",1},b =&gt; "value_two",c =&gt; 2}</pre> </div></div></article><article class="func"><h3 id="new-0" class="bold_code title-link func-head">  <code>new() -&gt; Map</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map = #{}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a new empty map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; maps:new().
#{}</pre> </div></div></article><article class="func"><h3 id="next-1" class="bold_code title-link func-head">  <code>next(Iterator) -&gt; {Key, Value, NextIterator} | none</code><div class="title-since"><span class="since">OTP 21.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Iterator = NextIterator = <a href="#type-iterator">iterator</a>(Key, Value)</code></div>  </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns the next key-value association in <code>Iterator</code> and a new iterator for the remaining associations in the iterator. </p> <p> If there are no more associations in the iterator, <code>none</code> is returned. </p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{a =&gt; 1, b =&gt; 2, c =&gt; 3}.
#{a =&gt; 1,b =&gt; 2,c =&gt; 3}
&gt; I = maps:iterator(Map), ok.
ok
&gt; {K1, V1, I1} = maps:next(I), {K1, V1}.
{a,1}
&gt; {K2, V2, I2} = maps:next(I1), {K2, V2}.
{b,2}
&gt; {K3, V3, I3} = maps:next(I2), {K3, V3}.
{c,3}
&gt; maps:next(I3).
none</pre> </div></div></article><article class="func"><h3 id="put-3" class="bold_code title-link func-head">  <code>put(Key, Value, Map1) -&gt; Map2</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Key = Value = term()</code></div>  <div class="REFTYPES rt-1"><code>Map1 = Map2 = map()</code></div>  </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Associates <code>Key</code> with value <code>Value</code> and inserts the association into map <code>Map2</code>. If key <code>Key</code> already exists in map <code>Map1</code>, the old associated value is replaced by value <code>Value</code>. The function returns a new map <code>Map2</code> containing the new association and the old associations in <code>Map1</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map1</code> is not a map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{"a" =&gt; 1}.
#{"a" =&gt; 1}
&gt; maps:put("a", 42, Map).
#{"a" =&gt; 42}
&gt; maps:put("b", 1337, Map).
#{"a" =&gt; 1,"b" =&gt; 1337}</pre> </div></div></article><article class="func"><h3 id="remove-2" class="bold_code title-link func-head">  <code>remove(Key, Map1) -&gt; Map2</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Key = term()</code></div> <div class="REFTYPES rt-1"><code>Map1 = Map2 = map()</code></div>  </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Removes the <code>Key</code>, if it exists, and its associated value from <code>Map1</code> and returns a new map <code>Map2</code> without key <code>Key</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map1</code> is not a map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{"a" =&gt; 1}.
#{"a" =&gt; 1}
&gt; maps:remove("a",Map).
#{}
&gt; maps:remove("b",Map).
#{"a" =&gt; 1}</pre> </div></div></article><article class="func"><h3 id="size-1" class="bold_code title-link func-head">  <code>size(Map) -&gt; <code>integer() &gt;= 0</code></code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map = map()</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns the number of key-value associations in <code>Map</code>. This operation occurs in constant time.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{42 =&gt; value_two,1337 =&gt; "value one","a" =&gt; 1},
  maps:size(Map).
3</pre> </div></div></article><article class="func"><h3 id="take-2" class="bold_code title-link func-head">  <code>take(Key, Map1) -&gt; {Value, Map2} | error</code><div class="title-since"><span class="since">OTP 19.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map1 = #{Key =&gt; Value, term() =&gt; term()}</code></div> <div class="REFTYPES rt-1"><code>Map2 = #{term() =&gt; term()}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>The function removes the <code>Key</code>, if it exists, and its associated value from <code>Map1</code> and returns a tuple with the removed <code>Value</code> and the new map <code>Map2</code> without key <code>Key</code>. If the key does not exist <code>error</code> is returned. </p> <p>The call will fail with a <code>{badmap,Map}</code> exception if <code>Map1</code> is not a map. </p> <p>Example:</p> <pre data-language="erlang">&gt; Map = #{"a" =&gt; "hello", "b" =&gt; "world"}.
#{"a" =&gt; "hello", "b" =&gt; "world"}
&gt; maps:take("a",Map).
{"hello",#{"b" =&gt; "world"}}
&gt; maps:take("does not exist",Map).
error</pre> </div></div></article><article class="func"><h3 id="to_list-1" class="bold_code title-link func-head">  <code>to_list(MapOrIterator) -&gt; [{Key, Value}]</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>MapOrIterator = #{Key =&gt; Value} | <a href="#type-iterator">iterator</a>(Key, Value)</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a list of pairs representing the key-value associations of <code>MapOrIterator</code>, where the pairs <code>[{K1,V1}, ..., {Kn,Vn}]</code> are returned in arbitrary order.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>MapOrIterator</code> is not a map or an iterator obtained by a call to <code><a href="#iterator-1">iterator/1</a></code> or <code><a href="#iterator-2">iterator/2</a></code>.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{42 =&gt; value_three,1337 =&gt; "value two","a" =&gt; 1},
  maps:to_list(Map).
[{42,value_three},{1337,"value two"},{"a",1}]</pre> <p><strong>Example (using </strong><code><a href="#iterator-2">iterator/2</a></code><strong>):</strong></p> <pre data-language="erlang">&gt; Map = #{ z =&gt; 1, y =&gt; 2, x =&gt; 3 }.
#{x =&gt; 3,y =&gt; 2,z =&gt; 1}
&gt; maps:to_list(maps:iterator(Map, ordered)).
[{x,3},{y,2},{z,1}]</pre> </div></div></article><article class="func"><h3 id="update-3" class="bold_code title-link func-head">  <code>update(Key, Value, Map1) -&gt; Map2</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map1 = #{Key := term(), term() =&gt; term()}</code></div> <div class="REFTYPES rt-1"><code>Map2 = #{Key := Value, term() =&gt; term()}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>If <code>Key</code> exists in <code>Map1</code>, the old associated value is replaced by value <code>Value</code>. The function returns a new map <code>Map2</code> containing the new associated value.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map1</code> is not a map, or with a <code>{badkey,Key}</code> exception if no value is associated with <code>Key</code>.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{"a" =&gt; 1}.
#{"a" =&gt; 1}
&gt; maps:update("a", 42, Map).
#{"a" =&gt; 42}</pre> </div></div></article><article class="func"><h3 id="update_with-3" class="bold_code title-link func-head">  <code>update_with(Key, Fun, Map1) -&gt; Map2</code><div class="title-since"><span class="since">OTP 19.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map1 = #{Key := Value1, term() =&gt; term()}</code></div> <div class="REFTYPES rt-1"><code>Map2 = #{Key := Value2, term() =&gt; term()}</code></div> <div class="REFTYPES rt-1"><code>Fun = fun((Value1) -&gt; Value2)</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Update a value in a <code>Map1</code> associated with <code>Key</code> by calling <code>Fun</code> on the old value to get a new value. An exception <code>{badkey,Key}</code> is generated if <code>Key</code> is not present in the map.</p> <p>Example:</p> <pre data-language="erlang">&gt; Map = #{"counter" =&gt; 1},
  Fun = fun(V) -&gt; V + 1 end,
  maps:update_with("counter",Fun,Map).
#{"counter" =&gt; 2}</pre> </div></div></article><article class="func"><h3 id="update_with-4" class="bold_code title-link func-head">  <code>update_with(Key, Fun, Init, Map1) -&gt; Map2</code><div class="title-since"><span class="since">OTP 19.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map1 = #{Key =&gt; Value1, term() =&gt; term()}</code></div> <div class="REFTYPES rt-1"><code>Map2 = #{Key := Value2 | Init, term() =&gt; term()}</code></div> <div class="REFTYPES rt-1"><code>Fun = fun((Value1) -&gt; Value2)</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Update a value in a <code>Map1</code> associated with <code>Key</code> by calling <code>Fun</code> on the old value to get a new value. If <code>Key</code> is not present in <code>Map1</code> then <code>Init</code> will be associated with <code>Key</code>. </p> <p>Example:</p> <pre data-language="erlang">&gt; Map = #{"counter" =&gt; 1},
  Fun = fun(V) -&gt; V + 1 end,
  maps:update_with("new counter",Fun,42,Map).
#{"counter" =&gt; 1,"new counter" =&gt; 42}</pre> </div></div></article><article class="func"><h3 id="values-1" class="bold_code title-link func-head">  <code>values(Map) -&gt; Values</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Map = #{term() =&gt; Value}</code></div> <div class="REFTYPES rt-1"><code>Values = [Value]</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a complete list of values, in arbitrary order, contained in map <code>Map</code>.</p> <p>The call fails with a <code>{badmap,Map}</code> exception if <code>Map</code> is not a map.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{42 =&gt; value_three,1337 =&gt; "value two","a" =&gt; 1},
  maps:values(Map).
[value_three,"value two",1]</pre> </div></div></article><article class="func"><h3 id="with-2" class="bold_code title-link func-head">  <code>with(Ks, Map1) -&gt; Map2</code><div class="title-since"><span class="since">OTP 17.3</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Ks = [K]</code></div> <div class="REFTYPES rt-1"><code>Map1 = #{K =&gt; V, term() =&gt; term()}</code></div> <div class="REFTYPES rt-1"><code>Map2 = #{K =&gt; V}</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a new map <code>Map2</code> with the keys <code>K1</code> through <code>Kn</code> and their associated values from map <code>Map1</code>. Any key in <code>Ks</code> that does not exist in <code>Map1</code> is ignored.</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{42 =&gt; value_three,1337 =&gt; "value two","a" =&gt; 1},
  Ks = ["a",42,"other key"],
  maps:with(Ks,Map).
#{42 =&gt; value_three,"a" =&gt; 1}</pre> </div></div></article><article class="func"><h3 id="without-2" class="bold_code title-link func-head">  <code>without(Ks, Map1) -&gt; Map2</code><div class="title-since"><span class="since">OTP 17.0</span></div> </h3> <div class="REFBODY fun-types"> <h4 id="types" class="func-types-title">Types</h4> <div class="REFTYPES rt-1"><code>Ks = [K]</code></div> <div class="REFTYPES rt-1"><code>Map1 = Map2 = map()</code></div>  <div class="REFTYPES rt-1"><code>K = term()</code></div> </div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Returns a new map <code>Map2</code> without keys <code>K1</code> through <code>Kn</code> and their associated values from map <code>Map1</code>. Any key in <code>Ks</code> that does not exist in <code>Map1</code> is ignored</p> <p><strong>Example:</strong></p> <pre data-language="erlang">&gt; Map = #{42 =&gt; value_three,1337 =&gt; "value two","a" =&gt; 1},
  Ks = ["a",42,"other key"],
  maps:without(Ks,Map).
#{1337 =&gt; "value two"}</pre> </div></div></article> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
